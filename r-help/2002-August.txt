From matthew.dowle at citigroup.com  Thu Aug  1 00:12:49 2002
From: matthew.dowle at citigroup.com (Dowle, Matthew [EQRE])
Date: Wed, 31 Jul 2002 23:12:49 +0100
Subject: [R] exportData(foo,"foo.xls","EXCEL") for R ?
Message-ID: <076838A70B41D31181FB002048403C2D0AC2F297@exchuk09.eu.ssmb.com>


r-help,

Is there a package available for R which allows you to export data directly
to .xls, much like exportData(foo,"foo.xls","EXCEL") in S-PLUS ?  If not, is
anyone working on this, or thinking about working on this? 

I apologise in advance if this question has already been answered.

Many thanks,
Matthew


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From niels.waller at comcast.net  Thu Aug  1 01:17:47 2002
From: niels.waller at comcast.net (Niels Waller)
Date: Wed, 31 Jul 2002 18:17:47 -0500
Subject: [R] Rterm application error
Message-ID: <NDBBLLOPOEMNNHONCHBFIEBDDBAA.niels.waller@comcast.net>



I am having a very bad week.  We had a lightening storm yesterday and I
didn't turn off my computer in time. Now something is messed up with my R
installation.  Whenever I try to compile a package, using

rcmd build --binary --use-zip  [package name]

I get the following error message:

Rterm.exe Application Error

The instruction at "0x00425859" references memory at "0x00000000". The
memory could not be read.

I have re-installed R twice today, but I continue to get this error message.

Does anyone have any ideas about what could be going on.

I am using rw1051 on an NT setup.

Thanks for any help,

Niels Waller



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Aug  1 01:20:47 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 31 Jul 2002 16:20:47 -0700 (PDT)
Subject: [R] exportData(foo,"foo.xls","EXCEL") for R ?
In-Reply-To: <076838A70B41D31181FB002048403C2D0AC2F297@exchuk09.eu.ssmb.com>
Message-ID: <Pine.A41.4.44.0207311618590.64010-100000@homer20.u.washington.edu>

On Wed, 31 Jul 2002, Dowle, Matthew [EQRE] wrote:

>
> r-help,
>
> Is there a package available for R which allows you to export data directly
> to .xls, much like exportData(foo,"foo.xls","EXCEL") in S-PLUS ?  If not, is
> anyone working on this, or thinking about working on this?

The simplest solution is to use write.table() to produce a comma-separated
text file, which Excel will read.

The help page for write.table gives an example

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From matthew.dowle at citigroup.com  Thu Aug  1 01:39:37 2002
From: matthew.dowle at citigroup.com (Dowle, Matthew [EQRE])
Date: Thu, 1 Aug 2002 00:39:37 +0100 
Subject: [R] exportData(foo,"foo.xls","EXCEL") for R ?
Message-ID: <076838A70B41D31181FB002048403C2D0AC2F29C@exchuk09.eu.ssmb.com>


Thanks for the reply. I do however need to create an .xls binary from R. The
system I'd like R to talk to only accepts .xls format files and this needs
to be automatic. I already have this working in S-PLUS and I was thinking of
porting to R. I saw the Excel-R-Interface mentioned in the archives so maybe
I could call Excel to load up the .csv and save as an .xls, but I'd prefer
to keep things simple if possible and write the .xls format directly from R.
Its got to be possible since Insightful managed to do it, now whether its
difficult??

Regards,
Matthew

-----Original Message-----
From: Thomas Lumley [mailto:tlumley at u.washington.edu]
Sent: 01 August 2002 00:21
To: Dowle, Matthew [EQRE]
Cc: 'r-help at lists.R-project.org'
Subject: Re: [R] exportData(foo,"foo.xls","EXCEL") for R ?


On Wed, 31 Jul 2002, Dowle, Matthew [EQRE] wrote:

>
> r-help,
>
> Is there a package available for R which allows you to export data
directly
> to .xls, much like exportData(foo,"foo.xls","EXCEL") in S-PLUS ?  If not,
is
> anyone working on this, or thinking about working on this?

The simplest solution is to use write.table() to produce a comma-separated
text file, which Excel will read.

The help page for write.table gives an example

	-thomas
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Thu Aug  1 02:08:24 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 31 Jul 2002 17:08:24 -0700
Subject: [R] exportData(foo,"foo.xls","EXCEL") for R ?
In-Reply-To: <076838A70B41D31181FB002048403C2D0AC2F29C@exchuk09.eu.ssmb.com>
References: <076838A70B41D31181FB002048403C2D0AC2F29C@exchuk09.eu.ssmb.com>
Message-ID: <87lm7r4f0n.fsf@jeeves.blindglobe.net>

>>>>> "matthew" == Matthew Dowle <Dowle> writes:

    matthew> Thanks for the reply. I do however need to create an .xls binary from R. The
    matthew> system I'd like R to talk to only accepts .xls format files and this needs
    matthew> to be automatic. I already have this working in S-PLUS and I was thinking of
    matthew> porting to R. I saw the Excel-R-Interface mentioned in the archives so maybe
    matthew> I could call Excel to load up the .csv and save as an .xls, but I'd prefer
    matthew> to keep things simple if possible and write the .xls format directly from R.
    matthew> Its got to be possible since Insightful managed to do it, now whether its
    matthew> difficult??

Past discussions pointed to PERL libraries for doing this.  If I'm not
mistaken, they are probably in the archive somewhere, from about 1-2
years ago.  I don't think there currently is a native R solution,
unless you are working with the R plug-in for Gnumeric (but even that
isn't quite "right").

It's a simple programming problem.  The tricky part is finding someone
who has time (which can substitute for skill in this case, if enough
time can be found).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Aug  1 02:09:50 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Aug 2002 02:09:50 +0200
Subject: [R] exportData(foo,"foo.xls","EXCEL") for R ?
In-Reply-To: <076838A70B41D31181FB002048403C2D0AC2F29C@exchuk09.eu.ssmb.com>
References: <076838A70B41D31181FB002048403C2D0AC2F29C@exchuk09.eu.ssmb.com>
Message-ID: <x2vg6vxwvl.fsf@biostat.ku.dk>

"Dowle, Matthew [EQRE]" <matthew.dowle at citigroup.com> writes:

> Thanks for the reply. I do however need to create an .xls binary from R. The
> system I'd like R to talk to only accepts .xls format files and this needs
> to be automatic. I already have this working in S-PLUS and I was thinking of
> porting to R. I saw the Excel-R-Interface mentioned in the archives so maybe
> I could call Excel to load up the .csv and save as an .xls, but I'd prefer
> to keep things simple if possible and write the .xls format directly from R.
> Its got to be possible since Insightful managed to do it, now whether its
> difficult??

Insightful can licence and incorporate closed-source libraries and
obtain information under nondisclosure agreements... (not that I know
how Insightful operates, but the publicly available information is
certainly scarce).

R can speak ODBC via the RODBC package. An .xls file can be used as an
ODBC source. This can be used to read spreadsheets (after some
headbanging in setting up the DSN, I recall), so you might also write
into them with sqlSave()? Read Ch4 in the R Data Import/Export  manual
and you'll know roughly what I know.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Thu Aug  1 03:54:39 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Wed, 31 Jul 2002 21:54:39 -0400
Subject: [R] exportData(foo,"foo.xls","EXCEL") for R ?
Message-ID: <D7A3CFD7825BD6119B880002A58F06C20149CE15@groexmb02.pfizer.com>

The Perl Archive CPAN has a module called 'Spreadsheet::WriteExcel' that
claims to "write formatted text and numbers to a cross-platform Excel binary
file".

It should be a simple matter to write a perl script that reads csv and
writes XLS using this.

-Greg

> -----Original Message-----
> From: rossini at blindglobe.net [mailto:rossini at blindglobe.net]
> Sent: Wednesday, July 31, 2002 8:08 PM
> To: Dowle, Matthew [EQRE]
> Cc: 'r-help at lists.R-project.org'
> Subject: Re: [R] exportData(foo,"foo.xls","EXCEL") for R ?
> 
> 
> >>>>> "matthew" == Matthew Dowle <Dowle> writes:
> 
>     matthew> Thanks for the reply. I do however need to 
> create an .xls binary from R. The
>     matthew> system I'd like R to talk to only accepts .xls 
> format files and this needs
>     matthew> to be automatic. I already have this working in 
> S-PLUS and I was thinking of
>     matthew> porting to R. I saw the Excel-R-Interface 
> mentioned in the archives so maybe
>     matthew> I could call Excel to load up the .csv and save 
> as an .xls, but I'd prefer
>     matthew> to keep things simple if possible and write the 
> .xls format directly from R.
>     matthew> Its got to be possible since Insightful managed 
> to do it, now whether its
>     matthew> difficult??
> 
> Past discussions pointed to PERL libraries for doing this.  If I'm not
> mistaken, they are probably in the archive somewhere, from about 1-2
> years ago.  I don't think there currently is a native R solution,
> unless you are working with the R plug-in for Gnumeric (but even that
> isn't quite "right").
> 
> It's a simple programming problem.  The tricky part is finding someone
> who has time (which can substitute for skill in this case, if enough
> time can be found).
> 
> best,
> -tony
> 
> -- 
> A.J. Rossini				Rsrch. Asst. Prof. of 
> Biostatistics
> U. of Washington Biostatistics		
> rossini at u.washington.edu	
> FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
> -------------- http://software.biostat.washington.edu/ 
> ----------------
> FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty 
> sketchy/use Email
> UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
> (my tuesday/wednesday/friday locations are completely unpredictable.)
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Thu Aug  1 04:30:49 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Thu, 01 Aug 2002 14:30:49 +1200
Subject: [R] Bug in legend?
References: <3D47D89A.18803.CD3A79@localhost>
Message-ID: <3D489D59.8344D488@stat.auckland.ac.nz>

Hi


Steve Roberts wrote:
> 
> This is a bit obscure but caused me some grief...  R1.5.1/MS
> Windows
> 
> There seems to be a peculiarity in legend associated with the use
> of expression text. It seems as if expression text is used in (eg) an
> mtext call then if the call to legend also includes expression text
> and a subscript then the legend box and line spacing depends on
> the value of cex used in the previous call to mtext, rather than that
> specified in the call to legend.
> 
> An R file which demonstrates the problem is pasted below (subject
> to the usual line wrapping issues)


I haven't had time to have a close look at why this is happening, but
...
(i) I can confirm the problem in R 1.5.1 on solaris
(ii) It appears to be fixed in the development version (on solaris)

BTW, very nice demonstration code :)

Paul
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andreww at cheque.uq.edu.au  Thu Aug  1 14:23:05 2002
From: andreww at cheque.uq.edu.au (Andrew C. Ward)
Date: Thu, 1 Aug 2002 12:23:05 -0000
Subject: [R] exportData(foo,"foo.xls","EXCEL") for R ?
Message-ID: <01C23956.3645F400.andreww@cheque.uq.edu.au>

Drs Lumley and Dalgaard have already outlined R ways of interchanging data 
with Excel. Other alternatives are to
see if the other program can accept a text or CSV file instead
write an R routine for exporting XLS files. Perhaps the format is 
documented by Microsoft?

If S-PLUS has the required features it makes sense to continue using it. 
It's not really possible for open-source software and developers to match 
the resources of commercial companies. There are often license fees 
associated with reading and writing proprietary data formats, and the 
source code for doing so is generally not available. In my experience, R is 
very flexible in enabling data to be shared between a wide variety of 
programs on a number of platforms.


Regards,

Andrew C. Ward

CAPE Centre
Department of Chemical Engineering
The University of Queensland
Brisbane Qld 4072 Australia
andreww at cheque.uq.edu.au



On Thursday, August 01, 2002 9:40 AM, Dowle, Matthew [EQRE] 
[SMTP:matthew.dowle at citigroup.com] wrote:
>
> Thanks for the reply. I do however need to create an .xls binary from R. 
The
> system I'd like R to talk to only accepts .xls format files and this 
needs
> to be automatic. I already have this working in S-PLUS and I was thinking 
of
> porting to R. I saw the Excel-R-Interface mentioned in the archives so 
maybe
> I could call Excel to load up the .csv and save as an .xls, but I'd 
prefer
> to keep things simple if possible and write the .xls format directly from 
R.
> Its got to be possible since Insightful managed to do it, now whether its
> difficult??
>
> Regards,
> Matthew
>
> -----Original Message-----
> From: Thomas Lumley [mailto:tlumley at u.washington.edu]
> Sent: 01 August 2002 00:21
> To: Dowle, Matthew [EQRE]
> Cc: 'r-help at lists.R-project.org'
> Subject: Re: [R] exportData(foo,"foo.xls","EXCEL") for R ?
>
>
> On Wed, 31 Jul 2002, Dowle, Matthew [EQRE] wrote:
>
> >
> > r-help,
> >
> > Is there a package available for R which allows you to export data
> directly
> > to .xls, much like exportData(foo,"foo.xls","EXCEL") in S-PLUS ?  If 
not,
> is
> > anyone working on this, or thinking about working on this?
>
> The simplest solution is to use write.table() to produce a 
comma-separated
> text file, which Excel will read.
>
> The help page for write.table gives an example
>
> 	-thomas
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.  
-.-.-.-
> r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.  
_._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug  1 08:52:58 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 1 Aug 2002 07:52:58 +0100 (BST)
Subject: [R] exportData(foo,"foo.xls","EXCEL") for R ?
In-Reply-To: <01C23956.3645F400.andreww@cheque.uq.edu.au>
Message-ID: <Pine.LNX.4.31.0208010739010.2956-100000@gannet.stats>

On Thu, 1 Aug 2002, Andrew C. Ward wrote:

> Drs Lumley and Dalgaard have already outlined R ways of interchanging data
> with Excel. Other alternatives are to
> see if the other program can accept a text or CSV file instead
> write an R routine for exporting XLS files. Perhaps the format is
> documented by Microsoft?

You must be joking!  That has been one of the major hurdles in people's
attempts to do this.  One also has to be careful which version(s) of .xls
programs can read or write, as the current format (which uses OLE
containers) is very different to earlier ones.

> If S-PLUS has the required features it makes sense to continue using it.
> It's not really possible for open-source software and developers to match
> the resources of commercial companies. There are often license fees
> associated with reading and writing proprietary data formats, and the
> source code for doing so is generally not available. In my experience, R is
> very flexible in enabling data to be shared between a wide variety of
> programs on a number of platforms.

Not really so in this case.

1) As far as I am aware S-PLUS can only handle current .xls on Windows
(and not say Linux).  As I understand it, the ability to read/write that
format is in the OS's dlls.

2) There are Open Source solutions that R could build on (and a commercial
package could not).  Perl modules have been mentioned (now and before),
and Gnumeric and Open Office and others must be suitables resources.  I
did suggest when this last came up that someone used the Gnumeric sources.

The real issue though is priorities.  We are very short of people willing
to work on Windows, down now to the level of maintaining the port that we
have.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kgk at pharm.auth.gr  Thu Aug  1 11:24:37 2002
From: kgk at pharm.auth.gr (Kyriakos Kachrimanis)
Date: Thu, 1 Aug 2002 12:24:37 +0300
Subject: [R] question about AIC
Message-ID: <005d01c2393d$418dde40$5e05cf9b@pharm.auth.gr>

Please, forgive my ignorance on statistics, but I have a rather simple
question concerning AIC. Small values of AIC mean good fit of the model. How
about negative values of AIC? Is a model with AIC=0.5 considered to have
better fit than a model with AIC=-500?
I couldn't find anything explaining this in the documentation or any
elementary statistics textbook that I have at my disposal.
Thanks in advance,
Kyriakos Kachrimanis.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baty at biomserv.univ-lyon1.fr  Thu Aug  1 11:44:31 2002
From: baty at biomserv.univ-lyon1.fr (Florent BATY)
Date: Thu, 01 Aug 2002 11:44:31 +0200
Subject: [R] Building a function
Message-ID: <3D4902FF.2090003@biomserv.univ-lyon1.fr>

Hello,

Is it possible to build a function, a posteriori, by getting the names 
of the arguments and the formula in a list or a vector ? When I use the 
function as.function(), I don't know how to define explicitly the names 
of my variables as formal arguments.

Thanks


_______________________________________

Florent BATY
CNRS UMR 5558
Dynamique des Populations Bact?riennes
Facult? de M?decine Lyon-Sud
69921 OULLINS, BP 12
FRANCE
tel : +33 (0)4 78 86 31 67
fax : +33 (0)4 78 86 31 49
_______________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From barhost at beer.com  Thu Aug  1 13:36:20 2002
From: barhost at beer.com (barhost@beer.com)
Date: Thu, 1 Aug 2002 07:36:20 -0400 (EDT)
Subject: [R] Bar Host - Professional Bar & Beverage Catering
Message-ID: <1092.202.175.230.16.1028201780.squirrel@vivaldi.beer.com>

01 August 2002


Dear Sir/Madam:

May I offer you a glass of Vodka Martini, sir? How about a Tequila Sunrise
for you, madam?
Bar Host is finally here -- the premier professional bar and beverage
catering service in Manila!
We are a team of professional bartenders and bar staff trained to concoct
and handle any kind of cocktails and liquors, in any type of event. Enjoy
the company of your family, colleagues, and friends right in the luxury of
your own home, office, or anywhere else as we make your event special for
you.
Bar Host offers several packages designed to meet your bar and beverage
requirements. We have a complete list of wines and spirits, and
non-alcoholic drinks to complement your event. Use of glassware, ice,
stirrers, and garnishing are absolutely free of charge. You may view the
complete details of our services and packages at www.pilipinas.ws.
Great drinks means excellent party. And an excellent party means getting
your guests boozed up and talk about you and your "bar host."
Book now! The first 20 reservations get a free bottle of red wine, or 30
servings of Margarita or Hawaiian Punch.
Cheers!

Zor Sto. Domingo
Entrepreneur
Bar Host Professional Bar and Beverage Catering
Telefax: 687.0381    Mobile: 0918.924.5957
Email: barhost at pilipinas.ws
Website: http://www.pilipinas.ws



P.S.  If you won't be able to reserve now, you may give us a referral and
receive a special surprise.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andreww at cheque.uq.edu.au  Fri Aug  2 00:05:56 2002
From: andreww at cheque.uq.edu.au (Andrew C. Ward)
Date: Thu, 1 Aug 2002 22:05:56 -0000
Subject: [R] exportData(foo,"foo.xls","EXCEL") for R ?
Message-ID: <01C239A7.A1CCA420.andreww@cheque.uq.edu.au>

Professor Ripley was right. I was in fact joking about using specifications 
documented by Microsoft to write a native R function to save files in XLS 
format. Any Windows-based programs that can "directly" read or write XLS 
files does so using hooks into the operating system (the Excel Objects 
library) rather than doing anything itself.

I think that the perfect volunteers to conduct or manage extensions to the 
data exchange capabilities of R are those who request them :-)


Regards,

Andrew C. Ward

CAPE Centre
Department of Chemical Engineering
The University of Queensland
Brisbane Qld 4072 Australia
andreww at cheque.uq.edu.au



On Thursday, August 01, 2002 4:53 PM, ripley at stats.ox.ac.uk 
[SMTP:ripley at stats.ox.ac.uk] wrote:
> On Thu, 1 Aug 2002, Andrew C. Ward wrote:
>
> > Drs Lumley and Dalgaard have already outlined R ways of interchanging 
data
> > with Excel. Other alternatives are to
> > see if the other program can accept a text or CSV file instead
> > write an R routine for exporting XLS files. Perhaps the format is
> > documented by Microsoft?
>
> You must be joking!  That has been one of the major hurdles in people's
> attempts to do this.  One also has to be careful which version(s) of .xls
> programs can read or write, as the current format (which uses OLE
> containers) is very different to earlier ones.
>
> > If S-PLUS has the required features it makes sense to continue using 
it.
> > It's not really possible for open-source software and developers to 
match
> > the resources of commercial companies. There are often license fees
> > associated with reading and writing proprietary data formats, and the
> > source code for doing so is generally not available. In my experience, 
R is
> > very flexible in enabling data to be shared between a wide variety of
> > programs on a number of platforms.
>
> Not really so in this case.
>
> 1) As far as I am aware S-PLUS can only handle current .xls on Windows
> (and not say Linux).  As I understand it, the ability to read/write that
> format is in the OS's dlls.
>
> 2) There are Open Source solutions that R could build on (and a 
commercial
> package could not).  Perl modules have been mentioned (now and before),
> and Gnumeric and Open Office and others must be suitables resources.  I
> did suggest when this last came up that someone used the Gnumeric 
sources.
>
> The real issue though is priorities.  We are very short of people willing
> to work on Windows, down now to the level of maintaining the port that we
> have.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.  
-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ  
.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.  
_._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Thu Aug  1 14:51:14 2002
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Thu, 1 Aug 2002 14:51:14 +0200
Subject: [R] Building a function
In-Reply-To: <3D4902FF.2090003@biomserv.univ-lyon1.fr>
References: <3D4902FF.2090003@biomserv.univ-lyon1.fr>
Message-ID: <20020801125114.GB24668@giraffa.cbs.dtu.dk>

On Thu, Aug 01, 2002 at 11:44:31AM +0200, Florent BATY wrote:
> Hello,
> 
> Is it possible to build a function, a posteriori, by getting the names 
> of the arguments and the formula in a list or a vector ? When I use the 
> function as.function(), I don't know how to define explicitly the names 
> of my variables as formal arguments.
> 
> Thanks
> 
> 

Did you check with the example (in 'help(as.function)') ?

If yes, can you give more details ?




L.



-- 
--------------------------------------------------------------
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			DK-2800 Lyngby,Denmark	
tel: +45 45 25 24 89		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From renaud.lancelot at free.fr  Thu Aug  1 14:16:28 2002
From: renaud.lancelot at free.fr (Renaud Lancelot)
Date: Thu, 01 Aug 2002 14:16:28 +0200
Subject: [R] question about AIC
References: <005d01c2393d$418dde40$5e05cf9b@pharm.auth.gr>
Message-ID: <3D49269C.9595705C@free.fr>

Kyriakos Kachrimanis wrote:
> 
> Please, forgive my ignorance on statistics, but I have a rather simple
> question concerning AIC. Small values of AIC mean good fit of the model. How
> about negative values of AIC? Is a model with AIC=0.5 considered to have
> better fit than a model with AIC=-500?
> I couldn't find anything explaining this in the documentation or any
> elementary statistics textbook that I have at my disposal.
> Thanks in advance,
> Kyriakos Kachrimanis.

AIC is a measurement of the distance between the current model and the
"true", unknown model, given the data. Therefore, it is not meaningful
by itself, but only when compared to other models (difference in AIC and
other derived statistics). Moreover, all the compared models must have
been fitted (with a maximum-likelihood method) on the same data set, and
with the same response (i.e. you can't directly compare y = f(x) and
log(y) = f(x)), but they don't need to be nested. In these conditions, a
model with AIC = -500 is much, much better than a model with AIC = 0.5.

A very good textbook is:
Burnham, K.P., Anderson, D.R., 1998. Model selection and inference: a
practical information-theoretic approach. New-York, Springer-Verlag, 353
p.
The second edition should be available soon.

Best,

Renaud


-- 
Dr Renaud Lancelot, v?t?rinaire
CIRAD, D?partement Elevage et M?decine V?t?rinaire (CIRAD-Emvt)
Programme Productions Animales
http://www.cirad.fr/presentation/programmes/prod-ani.shtml

ISRA-LNERV                      tel    (221) 832 49 02
BP 2057 Dakar-Hann              fax    (221) 821 18 79 (CIRAD)
Senegal                         e-mail renaud.lancelot at cirad.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baty at biomserv.univ-lyon1.fr  Thu Aug  1 15:09:18 2002
From: baty at biomserv.univ-lyon1.fr (Florent BATY)
Date: Thu, 01 Aug 2002 15:09:18 +0200
Subject: [R] Building a function
Message-ID: <3D4932FE.5000304@biomserv.univ-lyon1.fr>

  >On Thu, Aug 01, 2002 at 11:44:31AM +0200, Florent BATY wrote:
/>> Hello, /
/>> /
/>> Is it possible to build a function, a posteriori, by getting the names /
/>> of the arguments and the formula in a list or a vector ? When I use 
the /
/>> function as.function(), I don't know how to define explicitly the 
names /
/>> of my variables as formal arguments. /
/>> /
/>> Thanks /
/>> /
/>> /

 >Did you check with the example (in 'help(as.function)') ?

 >If yes, can you give more details ?

 >L.

I did actually but it haven't managed to solve my problem.
 From an "nls" object, I want to construct a function based on
    1) the formula:

    > summary(nlsED)$formula[[3]]
        (t < lag) * log10(x0) + (t > lag) * log10(x0 * exp(mu * (t -
        lag)))

    2) the arguments of this formula:
    > all.vars(summary(nlsED)$formula[[3]])
    [1] "t"   "lag" "x0"  "mu"

Next step should consist in declaring the names of these variables as 
the arguments of the function but I have an Error message:

    > 
as.function(c(alist(all.vars(summary(nlsED)$formula[[3]])),summary(nlsED)$formula[[3]]))
    Error in 
as.function.default(c(alist(all.vars(summary(nlsED)$formula[[3]])),  :
        invalid formal argument list for "function"

I managed to construct a function with no arguments in it:

    > as.function(c(summary(nlsED)$formula[[3]]))
    function ()
    (t < lag) * log10(x0) + (t > lag) * log10(x0 * exp(mu * (t -
        lag)))

But I can't define the arguments of this function.

Do you have any ideas ??

_______________________________________

Florent BATY
CNRS UMR 5558
Dynamique des Populations Bact?riennes
Facult? de M?decine Lyon-Sud
69921 OULLINS, BP 12
FRANCE
tel : +33 (0)4 78 86 31 67
fax : +33 (0)4 78 86 31 49
_______________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From barhost at beer.com  Thu Aug  1 15:12:08 2002
From: barhost at beer.com (barhost@beer.com)
Date: Thu, 1 Aug 2002 09:12:08 -0400 (EDT)
Subject: [R] Bar Host - Professional Bar & Beverage Catering
Message-ID: <1137.202.175.230.86.1028207528.squirrel@vivaldi.beer.com>

01 August 2002


Dear Sir/Madam:

May I offer you a glass of Vodka Martini, sir? How about a Tequila Sunrise
for you, madam?
Bar Host is finally here -- the premier professional bar and beverage
catering service in Manila!
We are a team of professional bartenders and bar staff trained to concoct
and handle any kind of cocktails and liquors, in any type of event. Enjoy
the company of your family, colleagues, and friends right in the luxury of
your own home, office, or anywhere else as we make your event special for
you.
Bar Host offers several packages designed to meet your bar and beverage
requirements. We have a complete list of wines and spirits, and
non-alcoholic drinks to complement your event. Use of glassware, ice,
stirrers, and garnishing are absolutely free of charge. You may view the
complete details of our services and packages at www.pilipinas.ws.
Great drinks means excellent party. And an excellent party means getting
your guests boozed up and talk about you and your "bar host."
Book now! The first 20 reservations get a free bottle of red wine, or 30
servings of Margarita or Hawaiian Punch.
Cheers!

Bar Host Professional Bar and Beverage Catering
Telefax: 687.0381    Mobile: 0918.924.5957
Email: barhost at pilipinas.ws
Website: http://www.pilipinas.ws



P.S.  If you won't be able to reserve now, you may give us a referral and
receive a special surprise.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug  1 15:14:23 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 1 Aug 2002 14:14:23 +0100 (BST)
Subject: [R] Building a function
In-Reply-To: <3D4932FE.5000304@biomserv.univ-lyon1.fr>
Message-ID: <Pine.GSO.4.44.0208011404250.10878-100000@auk.stats>

On Thu, 1 Aug 2002, Florent BATY wrote:

>   >On Thu, Aug 01, 2002 at 11:44:31AM +0200, Florent BATY wrote:
> />> Hello, /
> />> /
> />> Is it possible to build a function, a posteriori, by getting the names /
> />> of the arguments and the formula in a list or a vector ? When I use
> the /
> />> function as.function(), I don't know how to define explicitly the
> names /
> />> of my variables as formal arguments. /
> />> /
> />> Thanks /
> />> /
> />> /
>
>  >Did you check with the example (in 'help(as.function)') ?
>
>  >If yes, can you give more details ?
>
>  >L.
>
> I did actually but it haven't managed to solve my problem.
>  From an "nls" object, I want to construct a function based on
>     1) the formula:
>
>     > summary(nlsED)$formula[[3]]
>         (t < lag) * log10(x0) + (t > lag) * log10(x0 * exp(mu * (t -
>         lag)))
>
>     2) the arguments of this formula:
>     > all.vars(summary(nlsED)$formula[[3]])
>     [1] "t"   "lag" "x0"  "mu"
>
> Next step should consist in declaring the names of these variables as
> the arguments of the function but I have an Error message:
>
>     >
> as.function(c(alist(all.vars(summary(nlsED)$formula[[3]])),summary(nlsED)$formula[[3]]))
>     Error in
> as.function.default(c(alist(all.vars(summary(nlsED)$formula[[3]])),  :
>         invalid formal argument list for "function"
>
> I managed to construct a function with no arguments in it:
>
>     > as.function(c(summary(nlsED)$formula[[3]]))
>     function ()
>     (t < lag) * log10(x0) + (t > lag) * log10(x0 * exp(mu * (t -
>         lag)))
>
> But I can't define the arguments of this function.
>
> Do you have any ideas ??

alist(all.vars(summary(nlsED)$formula[[3]]))

is not what you think it is.  You do need to contruct an argument list.
Try this

xx <- all.vars(summary(nlsED)$formula[[3]]
xxx <- vector("list", length(xx))
names(xxx) <- xx
Args <- do.call("alist", xxx)
as.function(c(Args, summary(nlsED)$formula[[3]]))

which looks about right

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlamoral at ulb.ac.be  Thu Aug  1 15:21:12 2002
From: jlamoral at ulb.ac.be (jlamoral)
Date: Thu, 1 Aug 2002 15:21:12 +0200
Subject: [R] A question from a newbee...
Message-ID: <200208011521.12436.jlamoral@ulb.ac.be>

Hello .
I have  a little question ..
I work with Anova (aov) and Manova (manova) and want to print some result in a 
text file. I  see the results with the summary function or the summary.aov 
function but i do not know how to save the differents probabilities of error 
in a value.
Sorry for my poor English

Thanks a lot.

-- 
Lamoral Julien
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rachid.cheddadi at vmesa12.u-3mrs.fr  Thu Aug  1 21:34:24 2002
From: rachid.cheddadi at vmesa12.u-3mrs.fr (Rachid Cheddadi)
Date: Thu, 01 Aug 2002 15:34:24 -0400
Subject: [R] curve fitting
Message-ID: <3D498D40.2080606@lbhp.u-3mrs.fr>

Hi,
I have a simple set of two columns data (x,y) and I would like to find 
the equation which provides the best fit using R (without any 
preconceived idea about any polynomial or exponential or whatever 
function).
Any help please?
Thanks Rachid
-- 
Dr. Rachid Cheddadi
European Pollen Database       	Tel: 00.33.(0)4.90.96.18.18
UMR CNRS 6116
Ancien Archeveche               Fax: 00.33.(0)4.90.93.98.03
13200 Arles -France             email: rachid.cheddadi at lbhp.u-3mrs.fr

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.janmaat at acadiau.ca  Thu Aug  1 16:22:04 2002
From: john.janmaat at acadiau.ca (John Janmaat)
Date: Thu, 01 Aug 2002 11:22:04 -0300
Subject: [R] keyboard problems
Message-ID: <3D49440C.3000405@acadiau.ca>

Hello,

I have just installed R 1.5.1 on a new install of SuSE 8.0.  I am unable 
to use the arrow keys to scroll through commands.  Are there some 
packages that I did not install properly?

Thanks,

John.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.janmaat at acadiau.ca  Thu Aug  1 16:32:23 2002
From: john.janmaat at acadiau.ca (John Janmaat)
Date: Thu, 01 Aug 2002 11:32:23 -0300
Subject: [R] Kate problem
Message-ID: <3D494677.7060900@acadiau.ca>

Hello,

I have just installed R 1.5.1 on a new SuSE 8.0 install using the 
binaries on the home page.  I am trying to configure the KDE editor Kate 
to use from R.  R seems able to launch it fine, but it crashes when I 
try to save the file I am editing.

Is there a fix?

Thanks,

John.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pri at chu.com.au  Thu Aug  1 16:38:24 2002
From: pri at chu.com.au (Philip Rhoades)
Date: Fri, 2 Aug 2002 00:38:24 +1000
Subject: [R] Help massaging big arrays
Message-ID: <20020801143824.GA5932@phil.chu.com.au>

Hi all,

I hope someone can give me some quick pointers - it would take me ages 
to work this out from scratch - I want to:

- From an array - 32 cols x 1000 rows of small floats

- Produce a second array from the first where the all numbers have an 
abs fn applied to them (to get rid of the neg numbers)

- Produce a third array from the second where all numbers less than 
0.0005 are converted to 0.0005

- Produce a fourth array (5x1000) from the third where the first number 
in the row is the mean of the first two numbers of array #3, the second 
number is the mean of the first 4 numbers, 3rd mean of 8, 4th mean of 
16, 5th mean of 32

- Produce a fifth (5x1000) array by dividing array #4 into another 
5x1000 array

- Produce 5 means of the 5 columns of array #5

Any help greatly appreciated.

Regards,

Phil.
-- 
Philip Rhoades

Pricom Pty Limited  (ACN  003 252 275)
GPO Box 3411
Sydney NSW	2001
Australia
Mobile:  +61:0411-185-652
Fax:  +61:2:8923-5363
E-mail:  pri at chu.com.au
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Thu Aug  1 16:43:45 2002
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Thu, 1 Aug 2002 16:43:45 +0200 (MEST)
Subject: [R] keyboard problems
In-Reply-To: <3D49440C.3000405@acadiau.ca>
Message-ID: <Pine.LNX.4.21.0208011643360.12764-100000@artemis>

> Hello,
> 
> I have just installed R 1.5.1 on a new install of SuSE 8.0.  I am unable 
> to use the arrow keys to scroll through commands.  Are there some 
> packages that I did not install properly?

readline,

Torsten

> 
> Thanks,
> 
> John.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Aug  1 16:54:49 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Aug 2002 16:54:49 +0200
Subject: [R] keyboard problems
In-Reply-To: <Pine.LNX.4.21.0208011643360.12764-100000@artemis>
References: <Pine.LNX.4.21.0208011643360.12764-100000@artemis>
Message-ID: <x27kja4ojq.fsf@biostat.ku.dk>

Torsten Hothorn <Torsten.Hothorn at rzmail.uni-erlangen.de> writes:

> > Hello,
> > 
> > I have just installed R 1.5.1 on a new install of SuSE 8.0.  I am unable 
> > to use the arrow keys to scroll through commands.  Are there some 
> > packages that I did not install properly?
> 
> readline,
> 
> Torsten

or readline-devel if compiling from sources (which I suppose you must
be to get something that runs without barfing at the missing shared
lib).

        -p

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Timur.Elzhov at jinr.ru  Thu Aug  1 17:00:42 2002
From: Timur.Elzhov at jinr.ru (Timur Elzhov)
Date: Thu, 1 Aug 2002 19:00:42 +0400
Subject: [R] dev.copy2eps() problem
Message-ID: <20020801150042.GA12736@pcf004.jinr.ru>

Hello experts!

I've tried to make single plot, but with changed ticks length,
and then copy them to file by dev.copy2eps(). Here is the code:

   x11 ( , 5, 5)
   par (tcl = +5) 
   plot (0)        # wow!  I see the ugly plot with great
                   # ticks on the graph viewport!  cool :)
   dev.copy2eps (file = "out.eps")

Well, I had a look at "out.ps" and .. wondered that ticks
look like as they would being set to there default value,
"tcl" = -0.5 !

Hmm.. well, I tried to make same thing by a bit different
way:

    postscript (file = "out1.eps", onefile = FALSE)
    par (tcl = +5)
    plot (0)
    dev.off ()

All the OK!  All the ticks have an appropriate length,
tcl = 5!

Why?  What am I did wrong?



PS  I use the last R version, 1.5.1 under GNU/Linux on i386 platform.

--
Thanks a lot,
Timur.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Thu Aug  1 16:55:24 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Thu, 1 Aug 2002 10:55:24 -0400
Subject: [R] exportData(foo,"foo.xls","EXCEL") for R ?
In-Reply-To: <104952988@toto.iv>
Message-ID: <15689.19420.403417.208740@gargle.gargle.HOWL>

Matthew Dowle <matthew.dowle at citigroup.com> wrote:
> I do however need to create an .xls binary from R. The system I'd like R to
> talk to only accepts .xls format files and this needs to be automatic.

Another possibility may be to create an ascii file in the SYLK format, see:
  <http://www.jkrieger.de/programming/delphi/sylk.txt>
  <http://www.worldgate.ca/~rschulz/misc/sylksum.doc>

If your SYLK file has extension ".xls", it is automatically read by Excel
without any manual interaction, and acts a lot like a true .xls binary.  Try it
with the following very simple example:

(--- snip here and save as "db.xls" ---)
ID;PBrahm's SYLK example
F;K;G
F;W1 1 8
F;W2 2 8
P;FArial;M200;L9
P;FArial;M200;SB;L9
P;FArial;M200;SI;L9
P;FArial;M200;SBI;L9
P;FArial;M200;SB;L13
F;X1;Y1;FF0C;SM5TBL
C;K"a"
F;X2;Y1;FF0C;SM5TBR
C;K"b"
F;X1;Y2;FF3G;SBL
C;K1.000
F;X2;Y2;FF3G;SBR
C;K2.000
E
(--- end snip ---)
-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Aug  1 17:15:35 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 1 Aug 2002 08:15:35 -0700 (PDT)
Subject: [R] Help massaging big arrays
In-Reply-To: <20020801143824.GA5932@phil.chu.com.au>
Message-ID: <Pine.A41.4.44.0208010810140.18384-100000@homer26.u.washington.edu>

On Fri, 2 Aug 2002, Philip Rhoades wrote:

> Hi all,
>
> I hope someone can give me some quick pointers - it would take me ages
> to work this out from scratch - I want to:
>
> - From an array - 32 cols x 1000 rows of small floats

Call it X

> - Produce a second array from the first where the all numbers have an
> abs fn applied to them (to get rid of the neg numbers)

X <- abs(X)

> - Produce a third array from the second where all numbers less than
> 0.0005 are converted to 0.0005

X[X<0.005] <- 0.005

> - Produce a fourth array (5x1000) from the third where the first number
> in the row is the mean of the first two numbers of array #3, the second
> number is the mean of the first 4 numbers, 3rd mean of 8, 4th mean of
> 16, 5th mean of 32

Y<-matrix(ncol=5,nrow=1000)
for(i in 1:5)
    Y[,i] <- rowMeans(X[ ,1:(2^i)])

> - Produce a fifth (5x1000) array by dividing array #4 into another
> 5x1000 array

Y <- Z/Y

> - Produce 5 means of the 5 columns of array #5

colMeans(Y)


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pmj at jciconsult.com  Thu Aug  1 17:15:36 2002
From: pmj at jciconsult.com (Paul M. Jacobson)
Date: Thu, 1 Aug 2002 11:15:36 -0400
Subject: [R] glm.control
Message-ID: <001a01c2396e$4a0e9290$345c5242@p800>

Is there any way to specify these parameters globally or does one have to
use control=xxx where xxx is defined using glm.control in each invocation of
glm?

Paul M. Jacobson
Jacobson Consulting Inc.
80 Front Street East, Suite 720
Toronto, ON, M5E 1T4
Voice:  +1(416)868-1141
Farm: +1(519)463-6061/6224
Fax: +1(416)868-1131
E-mail: pmj at jciconsult.com
Web:  http://www.jciconsult.com/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Aug  1 17:17:50 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Aug 2002 17:17:50 +0200
Subject: [R] Help massaging big arrays
In-Reply-To: <20020801143824.GA5932@phil.chu.com.au>
References: <20020801143824.GA5932@phil.chu.com.au>
Message-ID: <x23cty4nhd.fsf@biostat.ku.dk>

Philip Rhoades <pri at chu.com.au> writes:

> Hi all,
> 
> I hope someone can give me some quick pointers - it would take me ages
> to work this out from scratch - I want to:
> 
> - From an array - 32 cols x 1000 rows of small floats
> 
> - Produce a second array from the first where the all numbers have an
> abs fn applied to them (to get rid of the neg numbers)
> 
> - Produce a third array from the second where all numbers less than
> 0.0005 are converted to 0.0005
> 
> - Produce a fourth array (5x1000) from the third where the first
> number in the row is the mean of the first two numbers of array #3,
> the second number is the mean of the first 4 numbers, 3rd mean of 8,
> 4th mean of 16, 5th mean of 32
> 
> - Produce a fifth (5x1000) array by dividing array #4 into another
> 5x1000 array
> 
> - Produce 5 means of the 5 columns of array #5


Except for item 4, these are trivial and quite fundamental. You'd be
better off looking into Ch.5 of  "An Introduction to R" than to have
people write down the solution for you.

Item 4 is a little tricky:

sapply(2^(1:5), function(i)apply(m[,1:i],1,mean))

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Aug  1 17:20:19 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 1 Aug 2002 08:20:19 -0700 (PDT)
Subject: [R] glm.control
In-Reply-To: <001a01c2396e$4a0e9290$345c5242@p800>
Message-ID: <Pine.A41.4.44.0208010819060.18384-100000@homer26.u.washington.edu>

On Thu, 1 Aug 2002, Paul M. Jacobson wrote:

> Is there any way to specify these parameters globally or does one have to
> use control=xxx where xxx is defined using glm.control in each invocation of
> glm?
>

You could redefine the default values in glm.control, eg to use 10^-7 in
the convergence test

glm.control<-function (epsilon = 1e-07, maxit = 10, trace = FALSE)
{
    if (!is.numeric(epsilon) || epsilon <= 0)
        stop("value of epsilon must be > 0")
    if (!is.numeric(maxit) || maxit <= 0)
        stop("maximum number of iterations must be > 0")
    list(epsilon = epsilon, maxit = maxit, trace = trace)
}

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug  1 17:27:18 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 1 Aug 2002 16:27:18 +0100 (BST)
Subject: [R] glm.control
In-Reply-To: <Pine.A41.4.44.0208010819060.18384-100000@homer26.u.washington.edu>
Message-ID: <Pine.GSO.4.44.0208011625530.11491-100000@auk.stats>

On Thu, 1 Aug 2002, Thomas Lumley wrote:

> On Thu, 1 Aug 2002, Paul M. Jacobson wrote:
>
> > Is there any way to specify these parameters globally or does one have to
> > use control=xxx where xxx is defined using glm.control in each invocation of
> > glm?
> >
>
> You could redefine the default values in glm.control, eg to use 10^-7 in
> the convergence test
>
> glm.control<-function (epsilon = 1e-07, maxit = 10, trace = FALSE)
> {
>     if (!is.numeric(epsilon) || epsilon <= 0)
>         stop("value of epsilon must be > 0")
>     if (!is.numeric(maxit) || maxit <= 0)
>         stop("maximum number of iterations must be > 0")
>     list(epsilon = epsilon, maxit = maxit, trace = trace)
> }

A warning shot: that will not work in R-devel (and hence probably not in
1.6.0)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Derek.Yi at FMR.COM  Thu Aug  1 17:37:56 2002
From: Derek.Yi at FMR.COM (Yi, Derek)
Date: Thu, 1 Aug 2002 11:37:56 -0400 
Subject: [R] Non-alignment of <NA> in rownames
Message-ID: <763C275E6A1C2248AFD475237AD6135B5EC699@MSGBOS576NTS.fmr.com>

Hello everyone,

Apologies in advance if you have received this multiple times!

On a thread similar to that posted by Don MacQueen
(http://www.r-project.org/nocvs/mail/r-help/2002/3455.html): is there any
way to nicely format NA's when listed as rownames?  When NA's are part of
rownames, the alignment is thrown off:

> z <- matrix(c(100, 200, 300))
> z
     [,1]
[1,]  100
[2,]  200
[3,]  300
> rownames(z) <- c("x", "y", NA)
> z
     [,1]
x     100
y     200
<NA>    300

This strikes me as strange, especially because the brackets don't affect NA
alignment elsewhere (like as an element in a dataframe or matrix).  Any
insights?

Thanks!
Derek

> R.version
         _                   
platform sparc-sun-solaris2.6
arch     sparc               
os       solaris2.6          
system   sparc, solaris2.6   
status                       
major    1                   
minor    5.1                 
year     2002                
month    06                  
day      17                  
language R

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug  1 18:04:47 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 1 Aug 2002 17:04:47 +0100 (BST)
Subject: [R] Non-alignment of <NA> in rownames
In-Reply-To: <763C275E6A1C2248AFD475237AD6135B5EC699@MSGBOS576NTS.fmr.com>
Message-ID: <Pine.LNX.4.31.0208011656570.21418-100000@gannet.stats>

On Thu, 1 Aug 2002, Yi, Derek wrote:

> Hello everyone,
>
> Apologies in advance if you have received this multiple times!
>
> On a thread similar to that posted by Don MacQueen
> (http://www.r-project.org/nocvs/mail/r-help/2002/3455.html): is there any

That is fixed in 1.5.1, so this is clearly unrelated.

> way to nicely format NA's when listed as rownames?  When NA's are part of
> rownames, the alignment is thrown off:
>
> > z <- matrix(c(100, 200, 300))
> > z
>      [,1]
> [1,]  100
> [2,]  200
> [3,]  300
> > rownames(z) <- c("x", "y", NA)
> > z
>      [,1]
> x     100
> y     200
> <NA>    300
>
> This strikes me as strange, especially because the brackets don't affect NA
> alignment elsewhere (like as an element in a dataframe or matrix).  Any
> insights?

No one has previously reported this, and it does not occur anywhere in R
test suites (or we would have seen a difference when <NA> was introduced).
You can't have NA as a rowname for a data frame, and it seems peculiar to
have it as rowname for a matrix.

If you find a fix, please submit it to R-bugs with a bug report.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Thu Aug  1 19:19:50 2002
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Thu, 1 Aug 2002 19:19:50 +0200
Subject: [R] keyboard problems
In-Reply-To: <3D49440C.3000405@acadiau.ca>
References: <3D49440C.3000405@acadiau.ca>
Message-ID: <20020801171950.GD25188@giraffa.cbs.dtu.dk>

On Thu, Aug 01, 2002 at 11:22:04AM -0300, John Janmaat wrote:
> Hello,
> 
> I have just installed R 1.5.1 on a new install of SuSE 8.0.  I am unable 
> to use the arrow keys to scroll through commands.  Are there some 
> packages that I did not install properly?
> 
> Thanks,
> 
> John.
> 

Do you mean 'compile' ?

If yes, you should install the 'readline-devel' package and compile
again...


L.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From matthew.dowle at citigroup.com  Thu Aug  1 19:05:21 2002
From: matthew.dowle at citigroup.com (Dowle, Matthew [EQRE])
Date: Thu, 1 Aug 2002 18:05:21 +0100 
Subject: [R] RE: exportData(foo,"foo.xls","EXCEL") for R ?
Message-ID: <076838A70B41D31181FB002048403C2D0AC2F2C9@exchuk09.eu.ssmb.com>


Dear all,

A huge thank you to all the people who responded. I now have quite a list of
possible solutions to work through!
Hopefully I'll report some success back to you soon ...

Best regards,
Matthew

> -----Original Message-----
> From:	Dowle, Matthew [EQRE] 
> Sent:	31 July 2002 23:13
> To:	r-help at lists.R-project.org
> Subject:	exportData(foo,"foo.xls","EXCEL") for R ?
> 
> 
> r-help,
> 
> Is there a package available for R which allows you to export data
> directly to .xls, much like exportData(foo,"foo.xls","EXCEL") in S-PLUS ?
> If not, is anyone working on this, or thinking about working on this? 
> 
> I apologise in advance if this question has already been answered.
> 
> Many thanks,
> Matthew
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Thu Aug  1 19:33:34 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Thu, 1 Aug 2002 13:33:34 -0400
Subject: [R] What does persp() return?
Message-ID: <15689.28910.792261.180499@gargle.gargle.HOWL>

I want to plot some 3D points on top of the grid produced by persp().

On 2/22/01, Paul Murrell <paul at stat.auckland.ac.nz> wrote in R-help:
> In S-Plus, persp() returns a value that can be used to transform 3D 
> locations to 2D, but this sort of thing is not (yet) available in R.

But persp() does return something (in R-1.5.1): a 4x4 matrix which in the C
code is called the "viewing transformation matrix", VT.  Can VT be used to plot
additional points?  If not, is such a thing in the works?

Paul also suggested Uwe Ligges's "scatterplot3d" package, which is very nice
but seems better at producing points than grids.

Thanks!
-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mac24 at humboldt.edu  Thu Aug  1 19:40:55 2002
From: mac24 at humboldt.edu (Michael Camann)
Date: Thu, 1 Aug 2002 10:40:55 -0700 (PDT)
Subject: [R] Kate problem
In-Reply-To: <3D494677.7060900@acadiau.ca>
Message-ID: <Pine.OSF.4.44.0208011036350.409449-100000@axe.humboldt.edu>

On Thu, 1 Aug 2002, John Janmaat wrote:

> Hello,
>
> I have just installed R 1.5.1 on a new SuSE 8.0 install using the
> binaries on the home page.  I am trying to configure the KDE editor Kate
> to use from R.  R seems able to launch it fine, but it crashes when I
> try to save the file I am editing.
>
> Is there a fix?

No suggestions, I'm afraid, but an observation.  I too use Kate but I use
it in it's own window-- I never edit within R.  That's neither here nor
there, just my personal preference.  But I have noticed that even
standalone, Kate occasionally crashes when reading or writing files.  It's
annoying enough that I'll probably switch editors....

--Mike C.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Michael A. Camann                                  Voice: 707-826-3676
Associate Professor of Zoology                       Fax: 707-826-3201
Institute for Forest Canopy Research     Email: mac24 at axe.humboldt.edu
Department of Biology                            ifcr at axe.humboldt.edu
Humboldt State University
Arcata, CA 95521

                 URL:http://www.humboldt.edu/~mac24/
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bmagill at earthlink.net  Thu Aug  1 19:48:44 2002
From: bmagill at earthlink.net ( Brett Magill)
Date: Thu, 01 Aug 2002 10:48:44 -0700
Subject: [R] Factor Analysis by Principal Components  (Code Attached)
Message-ID: <Springmail.0994.1028224124.0.71449200@webmail.pas.earthlink.net>

Hi all,

I have written some (very rudimentary) code to produce "factor analysis"
results using the principal components method.

I would appreciate it if anyone who is interested in this could could try it
out and compare it to results with other packages given known results, which I
have little ability to do.  If other find it useful, I could clean it up, make
it more general, add functionality, etc.  

With respect to interpretation, I have found my results in line with
factanal(), at least with respect to interpretation, but generally higher.  I
compared a couple of examples with some SAS results where I could find data
and results on the web--again, comparable.  There seems to be some difference
between the principal components estimated by the two packages???

I use princomp to get the loadings and the eigen values.  The fa coefficients
are then the PC loadings * the sqrt of the eigenvalues (from Johnson and
Wichern) for each retained factor.  These coeffcients are then rotated with
varimax().

The function takes a covariance or correlation matrix as its input.  If you do
not supply an n for factors, it uses the eigen > 1 criterion.

   


-----------Code below-----------------

function (xmat, factors=NULL, cor=TRUE) {

   prc <- princomp ( covmat = xmat ,cor = cor )
   eig <- prc$sdev^2

   if (is.null(factors)) factors <- sum ( eig >= 1 ) 

  loadings <- prc$loadings [ , 1:factors ]

  coefficients <- loadings [ , 1:factors ] %*% diag ( prc$sdev[1:factors] )

   rotated <- varimax ( coefficients ) $ loadings

   fct.ss  <- apply( rotated, 2 , function (x) sum (x^2) )
   pct.ss  <- fct.ss / sum (eig)
   cum.ss  <- cumsum ( pct.ss )
   ss <- t ( cbind ( fct.ss , pct.ss, cum.ss ) )

return ( coefficients , rotated , ss )
}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stungis at lanl.gov  Thu Aug  1 20:09:16 2002
From: stungis at lanl.gov (Deborah S. Rocha)
Date: Thu, 01 Aug 2002 12:09:16 -0600
Subject: [R] copying objects
Message-ID: <3D49794C.B911BD1@lanl.gov>

Hello,  How does one copy objects between Workspaces?

Thank you,
  Deborah
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramasamy at stats.ox.ac.uk  Thu Aug  1 21:15:58 2002
From: ramasamy at stats.ox.ac.uk (Adaikalavan Ramasamy)
Date: Thu, 1 Aug 2002 20:15:58 +0100
Subject: [R] copying objects
References: <3D49794C.B911BD1@lanl.gov>
Message-ID: <02a101c2398f$de1f6060$a71401a3@stats.ox.ac.uk>

You might be interested in ?dump and ?source (requires library 'foreign').
There might be a more elegant way though.

----- Original Message -----
From: "Deborah S. Rocha" <stungis at lanl.gov>
To: <R-help at stat.math.ethz.ch>
Sent: Thursday, August 01, 2002 7:09 PM
Subject: [R] copying objects


> Hello,  How does one copy objects between Workspaces?
>
> Thank you,
>   Deborah
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Thu Aug  1 21:46:55 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Thu, 1 Aug 2002 14:46:55 -0500
Subject: [R] copying objects
In-Reply-To: <3D49794C.B911BD1@lanl.gov>
Message-ID: <006a01c23994$317c7be0$0201a8c0@MARC>

See ?save to copy R objects to a portable file.

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch [mailto:owner-r-
> help at stat.math.ethz.ch] On Behalf Of Deborah S. Rocha
> Sent: Thursday, August 01, 2002 1:09 PM
> To: R-help at stat.math.ethz.ch
> Subject: [R] copying objects
> 
> Hello,  How does one copy objects between Workspaces?
> 
> Thank you,
>   Deborah
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:
r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug  1 21:53:24 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 1 Aug 2002 20:53:24 +0100 (BST)
Subject: [R] copying objects
In-Reply-To: <006a01c23994$317c7be0$0201a8c0@MARC>
Message-ID: <Pine.LNX.4.31.0208012052470.25186-100000@gannet.stats>

On Thu, 1 Aug 2002, Marc Schwartz wrote:

> See ?save to copy R objects to a portable file.

Or, attach the source workspace and use

foo <- foo


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From FJMolina at lbl.gov  Thu Aug  1 22:45:51 2002
From: FJMolina at lbl.gov (Francisco J Molina)
Date: Thu, 01 Aug 2002 13:45:51 -0700
Subject: [R] plotting two curves: Why same hight?
Message-ID: <3D499DFF.8D4F3F26@lbl.gov>

R 1.5.1 in a linux machine.

I am plotting two curves with curve ():

sin(x)/10 and sin(x)

together, one below the other one ( using par ( mfrow = c ( 2, 1 ))).
What I have noticed is that both curves have the same height but this
should not be so since the range of values of the first function is
shorter than the one of the second function.

In the description of par I could not find any command to fix the
solution.

Thank you.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Aug  1 22:38:31 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Thu, 1 Aug 2002 16:38:31 -0400 (EDT)
Subject: [R] What does persp() return?
In-Reply-To: <15689.28910.792261.180499@gargle.gargle.HOWL>
Message-ID: <Pine.LNX.4.44.0208011636110.23360-100000@bolker.zoo.ufl.edu>


  I seem to recall this coming up before (I'm on a slow link so will not 
check the mailing list archives), but here is a bit of hackery for adding 
points and lines (etc.) to a persp() plot.  Of course, it doesn't do 
hidden line removal ...

## matrix multiply c(3dv,1) by transformation matrix:
## plot v[0]/v[3], v[1]/v[3]

x <- seq(-10, 10, length = 50)
y <- x
f <- function(x, y) {
    r <- sqrt(x^2 + y^2)
    10 * sin(r)/r
}
z <- outer(x, y, f)
z[is.na(z)] <- 1
par(bg = "white")
trans3d <- function(x,y,z,pmat) {
  tmat <- t((cbind(x,y,z,1)%*% pmat))
  list(x=tmat[1,]/tmat[4,],y=tmat[2,]/tmat[4,])
}

pmat <- persp(x, y, z, theta = 30, phi = 30, expand = 0.5, 
              col = "lightblue", xlab = "X", ylab = "Y", zlab = "Z",
              ticktype="detailed")
m <- 1e-5
points(trans3d(m,m,f(m,m),pmat),pch=16)
z2 <- sapply(1:length(x),function(n)f(x[n],y[n]))
lines(trans3d(x,y,z2,pmat),col="red",lwd=2)
lines(trans3d(c(-10,10,10,-10,-10),
              c(-10,-10,10,10,-10),
              c(2,2,8,8,2),pmat),col="blue")

On Thu, 1 Aug 2002, David Brahm wrote:

> I want to plot some 3D points on top of the grid produced by persp().
> 
> On 2/22/01, Paul Murrell <paul at stat.auckland.ac.nz> wrote in R-help:
> > In S-Plus, persp() returns a value that can be used to transform 3D 
> > locations to 2D, but this sort of thing is not (yet) available in R.
> 
> But persp() does return something (in R-1.5.1): a 4x4 matrix which in the C
> code is called the "viewing transformation matrix", VT.  Can VT be used to plot
> additional points?  If not, is such a thing in the works?
> 
> Paul also suggested Uwe Ligges's "scatterplot3d" package, which is very nice
> but seems better at producing points than grids.
> 
> Thanks!
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Thu Aug  1 22:36:47 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Fri, 02 Aug 2002 08:36:47 +1200
Subject: [R] What does persp() return?
References: <15689.28910.792261.180499@gargle.gargle.HOWL>
Message-ID: <3D499BDF.BA8432C0@stat.auckland.ac.nz>

Hi


David Brahm wrote:
> 
> I want to plot some 3D points on top of the grid produced by persp().
> 
> On 2/22/01, Paul Murrell <paul at stat.auckland.ac.nz> wrote in R-help:
> > In S-Plus, persp() returns a value that can be used to transform 3D
> > locations to 2D, but this sort of thing is not (yet) available in R.


Sorry, that is out of date.


> But persp() does return something (in R-1.5.1): a 4x4 matrix which in the C
> code is called the "viewing transformation matrix", VT.  Can VT be used to plot
> additional points?  If not, is such a thing in the works?


Yes.  Try searching Chen Huashan's R-help archives
(http://www.baidao.net/r/archives/forum_show.cgi) for the subject
"persp(): add second plane"

Paul
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Aug  1 23:44:34 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Aug 2002 23:44:34 +0200
Subject: [R] What does persp() return?
In-Reply-To: <15689.28910.792261.180499@gargle.gargle.HOWL>
References: <15689.28910.792261.180499@gargle.gargle.HOWL>
Message-ID: <x2eldis18d.fsf@biostat.ku.dk>

David Brahm  <brahm at alum.mit.edu> writes:

> I want to plot some 3D points on top of the grid produced by persp().
> 
> On 2/22/01, Paul Murrell <paul at stat.auckland.ac.nz> wrote in R-help:
> > In S-Plus, persp() returns a value that can be used to transform 3D 
> > locations to 2D, but this sort of thing is not (yet) available in R.
> 
> But persp() does return something (in R-1.5.1): a 4x4 matrix which in the C
> code is called the "viewing transformation matrix", VT.  Can VT be used to plot
> additional points? 

Yes, that's what it is for. Classic computational graphics stuff:

I used to be much better at it, but the basic idea is that you
representing 3D points in 4D "homogeneous coordinates", (x,y,z,t) with
t != 0 and so that the usual cartesian coordinates (X,Y,Z) = (x,y,z)/t
(obviously, t is not unique). The main trick is that affine
transformations become linear in this system, e.g. a translation is
obtained by multiplying with

 1 0 0 a
 0 1 0 b
 0 0 1 c
 0 0 0 1

Rotations and reflections and scaling are easily accomplished with
suitable matrices as well. This is why "3D accelerated" CPUs and
graphics processors contain highly optimized 4x4 matrix multipliers,
btw.

I don't know exactly how we do the perspective viewing transformations
(you have the source too...), but one way is to rotate and scale the
scene so that the eye is at zero and looking in the Z direction
through a a projection plane at Z=1; then the coordinates of the
projected points are simply (u/w,v/w) where (u,v,w,s)' = T(x,y,z,1)'.
 
> Paul also suggested Uwe Ligges's "scatterplot3d" package, which is very nice
> but seems better at producing points than grids.

Yes. Somewhere in dreamspace lies the possibility of interfacing to a
"real" 3D rendering system (vtk is an option I look at once in a while).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Fri Aug  2 00:39:41 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Thu, 1 Aug 2002 17:39:41 -0500
Subject: [R] plotting two curves: Why same hight?
In-Reply-To: <3D499DFF.8D4F3F26@lbl.gov>
Message-ID: <000001c239ac$5430d600$0201a8c0@MARC>

> -----Original Message-----
> R 1.5.1 in a linux machine.
> 
> I am plotting two curves with curve ():
> 
> sin(x)/10 and sin(x)
> 
> together, one below the other one ( using par ( mfrow = c ( 2, 1 ))).
> What I have noticed is that both curves have the same height but this
> should not be so since the range of values of the first function is
> shorter than the one of the second function.
> 
> In the description of par I could not find any command to fix the
> solution.
> 
> Thank you.

Presuming that you are referring to the physical vertical dimension of
the plots and not the ranges of the y-axes (which are clearly different
between the two plots), you can use par("fig") to split and adjust the
size of the plotting region areas of the current plot window. See ?par.

The default result of using par("mfrow") is two equally sized plotting
regions.

You'll likely need to play around with the particular numbers that I
have here to get exactly what you want, but this should give you an
example of how it might look.

# save the current parameters
op <- par(no.readonly = TRUE)

# open a new plot window
plot.new()

# adjust the plot region size
# the LL and UR corners of the default region are (0,0) and (1,1)
# par("fig") is (x1, x2, y1, y2)
# set the first region for the small plot at the top
par(fig = c(0, 1.0, .65, 1.0))

# plot the first function in the small region
curve(sin(x) / 10)

# do not overwrite the current plot
par(new = TRUE)

# reset the region for the larger plot at the bottom
# note that I have the vertical dimensions overlap a bit
par(fig = c(0, 1.0, 0, 0.75))

# now draw the larger plot
curve(sin(x))

# restore the original parameters
par(op)

Hope that helps.

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From GPetris at uark.edu  Fri Aug  2 00:46:18 2002
From: GPetris at uark.edu (Giovanni Petris)
Date: Thu, 1 Aug 2002 17:46:18 -0500 (CDT)
Subject: [R] Multiple time series as matrix
Message-ID: <200208012246.RAA16547@definetti.uark.edu>


Hello,

I would like to do something like the following:

t(y) - FF %*% t(theta)

where y is a multiple time series, FF and theta are matrices. 
Unfortunately, this doesn't work. 

Using unclass(y) allows me to take the transpose, but when trying to
take the difference I get the
error "invalid time series parameters specified", I guess due to the
fact that t(unclass(y)) has still a tsp attribute. 

The following works:

t(matrix(y,NROW(y),NCOL(y))) - FF %*% t(theta)

But I was wondering if there is an easier way...

Thanks,
Giovanni

-- 

 __________________________________________________
[                                                  ]
[ Giovanni Petris                 GPetris at uark.edu ]
[ Department of Mathematical Sciences              ]
[ University of Arkansas - Fayetteville, AR 72701  ]
[ Ph: (479) 575-6324, 575-8630 (fax)               ]
[ http://definetti.uark.edu/~gpetris/              ]
[__________________________________________________]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Fri Aug  2 02:03:13 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Thu, 1 Aug 2002 20:03:13 -0400
Subject: [R] What does persp() return?
Message-ID: <15689.52289.715209.980973@gargle.gargle.HOWL>

Thanks very much to Paul Murrell, Ben Bolker, and Peter Dalgaard for
responding.  Sorry I failed to find the 3/15/02 discussion of this same topic.
May I suggest that the omission of the returned value from the help page for
persp() is a "documentation bug"?  Something like this could be added:

Value:
  A 4x4 matrix (call it "pmat"), suitable for transforming 3D coordinates
(x,y,z) into list(x,y) values.  These can then be used by lines(), points(),
etc, to superimpose additional data on the 3D plot.  The transformation can be
accomplished with the following function:

  trans3d <- function(x,y,z, pmat) {
    tmat <- t(cbind(x,y,z,1) %*% pmat)
    list(x=tmat[1,]/tmat[4,], y=tmat[2,]/tmat[4,])
  }

-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mastropi at uwalumni.com  Fri Aug  2 02:38:04 2002
From: mastropi at uwalumni.com (Daniel Mastropietro)
Date: Thu, 01 Aug 2002 21:38:04 -0300
Subject: [R] Test for random effects in GLM
In-Reply-To: <Pine.A41.4.44.0207300819110.59584-100000@homer23.u.washing
 ton.edu>
References: <15686.10761.50696.249136@gargle.gargle.HOWL>
Message-ID: <4.2.2.20020801191007.00a93480@pop3.arnet.com.ar>

Hello,

I would like to know how to test whether the 'subject' random effect is 
significant in a generalized linear model.

I am using glmmPQL() in the MASS package.
The response is binary and my model only has an intercept as fixed effect 
and 'subject' as random effect . That is, the fit is:

glmmPQL(y ~ 1 , random = ~ 1 | subject , family=binomial , data=data)

Thanks in advance
Daniel





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug  2 07:48:28 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 2 Aug 2002 06:48:28 +0100 (BST)
Subject: [R] Test for random effects in GLM
In-Reply-To: <4.2.2.20020801191007.00a93480@pop3.arnet.com.ar>
Message-ID: <Pine.LNX.4.31.0208020646070.25938-100000@gannet.stats>

First, this is not a generalized linear model: they don't have random
effects.  It's a GL>M<M.

You can test for a non-zero random-effects variance: this is not different
from an nlme fit (but different from an lme fit as the likelihood is
approximated).

On Thu, 1 Aug 2002, Daniel Mastropietro wrote:

> Hello,
>
> I would like to know how to test whether the 'subject' random effect is
> significant in a generalized linear model.
>
> I am using glmmPQL() in the MASS package.
> The response is binary and my model only has an intercept as fixed effect
> and 'subject' as random effect . That is, the fit is:
>
> glmmPQL(y ~ 1 , random = ~ 1 | subject , family=binomial , data=data)
>
> Thanks in advance
> Daniel
>
>
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Aug  2 07:47:10 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 2 Aug 2002 07:47:10 +0200
Subject: [R] A question from a newbee...
In-Reply-To: <200208011521.12436.jlamoral@ulb.ac.be>
References: <200208011521.12436.jlamoral@ulb.ac.be>
Message-ID: <15690.7390.854524.109921@gargle.gargle.HOWL>

>>>>> "jlamoral" == jlamoral  <jlamoral at ulb.ac.be> writes:

    jlamoral> Hello .  I have a little question ..  I work with
    jlamoral> Anova (aov) and Manova (manova) and want to print
    jlamoral> some result in a text file. I see the results with
    jlamoral> the summary function or the summary.aov function
    jlamoral> but i do not know how to save the differents
    jlamoral> probabilities of error in a value.  Sorry for my
    jlamoral> poor English

If you use

 myAov <- aov(.......)
 str(myAov)

and even 
  
 Saov <- summary(myAov)
 str(Saov)

should `see' the STRucture (typically list components) of the
resulting object.

{but I have to admit I do not fully understand what you mean by
 ``differents probabilities of error''}

    jlamoral> Thanks a lot.
    jlamoral> -- Lamoral Julien

You're welcome

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Aug  2 08:51:30 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 2 Aug 2002 08:51:30 +0200
Subject: [R] curve fitting
In-Reply-To: <3D498D40.2080606@lbhp.u-3mrs.fr>
References: <3D498D40.2080606@lbhp.u-3mrs.fr>
Message-ID: <15690.11250.833224.206964@gargle.gargle.HOWL>

>>>>> "Rachid" == Rachid Cheddadi <rachid.cheddadi at vmesa12.u-3mrs.fr> writes:

    Rachid> Hi, I have a simple set of two columns data (x,y)
    Rachid> and I would like to find the equation which provides
    Rachid> the best fit using R (without any preconceived idea
    Rachid> about any polynomial or exponential or whatever
    Rachid> function).  Any help please?  Thanks Rachid --

Have you looked at

     library(modreg)
     help(smooth.spline)
?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Aug  2 09:08:46 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 02 Aug 2002 09:08:46 +0200
Subject: [R] What does persp() return?
References: <15689.52289.715209.980973@gargle.gargle.HOWL>
Message-ID: <3D4A2FFE.47EA907D@statistik.uni-dortmund.de>

David Brahm wrote:
> 
> Thanks very much to Paul Murrell, Ben Bolker, and Peter Dalgaard for
> responding.  Sorry I failed to find the 3/15/02 discussion of this same topic.
> May I suggest that the omission of the returned value from the help page for
> persp() is a "documentation bug"?  Something like this could be added:
> 
> Value:
>   A 4x4 matrix (call it "pmat"), suitable for transforming 3D coordinates
> (x,y,z) into list(x,y) values.  These can then be used by lines(), points(),
> etc, to superimpose additional data on the 3D plot.  The transformation can be
> accomplished with the following function:
> 
>   trans3d <- function(x,y,z, pmat) {
>     tmat <- t(cbind(x,y,z,1) %*% pmat)
>     list(x=tmat[1,]/tmat[4,], y=tmat[2,]/tmat[4,])
>   }


I must have missed the beginning of this thread.
After the mentioned similar discussion from march, I hacked (I mean:
*hacked*) a function
s3d.persp() that combines persp() with some of the ideas from
scatterplot3d(). s3d.persp() was included in one unpublished (in a way)
version of the package scatterplot3d, which is available at:

http://www.statistik.uni-dortmund.de/leute/ligges/R/scatterplot3d/scatterplot3d_0.3-10.tar.gz
respective  

http://www.statistik.uni-dortmund.de/leute/ligges/R/scatterplot3d/scatterplot3d_0.3-10.zip
for the windows version.

Well, because of the hughe differences in the design of those functions
won't fit together easily. Since no clean solution can be found quickly,
I throw s3d.persp() away one day later, but it might be useful for you
anyway.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Aug  2 09:14:12 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 02 Aug 2002 09:14:12 +0200
Subject: [R] plotting two curves: Why same hight?
References: <3D499DFF.8D4F3F26@lbl.gov>
Message-ID: <3D4A3144.6EDE9B6C@statistik.uni-dortmund.de>



Francisco J Molina wrote:
> 
> R 1.5.1 in a linux machine.
> 
> I am plotting two curves with curve ():
> 
> sin(x)/10 and sin(x)
> 
> together, one below the other one ( using par ( mfrow = c ( 2, 1 ))).
> What I have noticed is that both curves have the same height but this
> should not be so 

>From R's point of view it should, because R scales the axes for each
plot "optimal" in a way.


> since the range of values of the first function is
> shorter than the one of the second function.
>
> In the description of par I could not find any command to fix the
> solution.

The argument is mentioned in ?plot and called ylim:

 par(mfrow = c(2, 1))
 curve(sin(x)/10, 0, 10, ylim = c(-1, 1))
 curve(sin(x), 0, 10, ylim = c(-1, 1))

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tore.wentzel-larsen at helse-bergen.no  Fri Aug  2 10:33:42 2002
From: tore.wentzel-larsen at helse-bergen.no (Tore Wentzel-Larsen)
Date: Fri, 2 Aug 2002 10:33:42 +0200
Subject: [R] Testing difference between two partial correlations
Message-ID: <2BCE4822277DDF4A93570D7D01B0AAA81F7377@ted.ihelse.net>

Dear list members,

Perhaps more a methodological than a strictly R question (but I have 
searched for solutions in R Site Search, R FAQ..., and I intend to 
implement the solutions in R. Answers containing references to 
existing R code are of course highly appreciated).

What test(s) should be used for testing for differences between two 
partial (Pearson) coefficients, from independent samples, where
the two variables correlated and the covariates 'corrected for' are 
the same in both samples? Samples sizes are about 100-200,
and the number of covariates are 2-3.

I have already tried to generalize a not uncommon test statistic for two 
'non-partial' Pearson correlations, (z1-z2)/sqrt( 1/(n1-3) + 1/(n2-3) ), 
based on Fisher's Z transform z=ln((1+r)/(1-r))/2 for each correlation
coefficient (used e. g. in the commercial program Power and Precision). 
Correction for degrees of freedom as proposed in e. g.  Afifi & Clark: 
Computer-aided Multivariate Analysis (3. ed., section 7.7) suggests the test 
statistic (z1-z2)/sqrt( 1/(n1-q-3) + 1/(n2-q-3) ) (assumed standard normal under 
the null hypothesis of no difference in 'mean' partial correlations; here z1 and z2 
are the two transformed partial correlations, n1 and n2 are sample sizes and q is the 
number of covariates involved). Checks (in R) by non- and semiparametric bootstrapping 
(details may be given), indicate that this test statistic is not very far from standard 
normal, but with heavier tails in some of my (brain morphology) data sets, and also with 
a standard deviation that in some cases deviates a bit from 1 (in both directions; again, 
details may be given). Thus, better and perhaps more robust tests might be an advantage.

Since this is not a question of problems running R, I do not give full detail of 
hardware... I am running under Windows 2000, using R 1.5.1.

Sincerely,
Tore Wentzel-Larsen
Centre for Clinical Research
Health Care Bergen, Norway
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Michael.Dondrup at Genetik.Uni-Bielefeld.DE  Fri Aug  2 10:52:52 2002
From: Michael.Dondrup at Genetik.Uni-Bielefeld.DE (Michael Dondrup)
Date: Fri, 02 Aug 2002 10:52:52 +0200
Subject: [R] A question from a newbee...
References: <200208011521.12436.jlamoral@ulb.ac.be> <15690.7390.854524.109921@gargle.gargle.HOWL>
Message-ID: <3D4A4864.C8ADFDA0@Genetik.Uni-Bielefeld.DE>


Martin Maechler wrote:
> 
> >>>>> "jlamoral" == jlamoral  <jlamoral at ulb.ac.be> writes:
> 
>     jlamoral> Hello .  I have a little question ..  I work with
>     jlamoral> Anova (aov) and Manova (manova) and want to print
>     jlamoral> some result in a text file. I see the results with
>     jlamoral> the summary function or the summary.aov function
>     jlamoral> but i do not know how to save the differents
>     jlamoral> probabilities of error in a value.  Sorry for my
>     jlamoral> poor English
> 
> If you use
> 
>  myAov <- aov(.......)
>  str(myAov)
> 
> and even
> 
>  Saov <- summary(myAov)
>  str(Saov)
> 
> should `see' the STRucture (typically list components) of the
> resulting object.
> 
> {but I have to admit I do not fully understand what you mean by
>  ``differents probabilities of error''}
> 
>     jlamoral> Thanks a lot.
>     jlamoral> -- Lamoral Julien
> 
> You're welcome

I guess you mean the p-values (shown as 'Pr(>F)') of the test. 
I do not know a way to extract these values from an aov object or
summary(aov).
You could of course sink() the output to a file.

But if you used my.lm <- lm(...) and my.anova <- anova(my.lm) instead,
you can easily 
access the values by  
> my.anova$"Pr(>F)"

Michael Dondrup
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petr.pikal at precheza.cz  Fri Aug  2 10:59:40 2002
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Fri, 2 Aug 2002 10:59:40 +0200
Subject: [R] A question from a newbee...
In-Reply-To: <200208020946.09893.jlamoral@ulb.ac.be>
References: <3D4A3D88.21073.1C48EB@localhost>
Message-ID: <3D4A661C.10172.BAC8F5@localhost>



On 2 Aug 2002 at 9:46, jlamoral wrote:

> Hello
> Thanks for this reponse it is perfect for the sink function 
> but if i use per exemple :
> i_c(1,1,2,2)
> j_c(0.1,0.2,0.8,0.6)
> anov_aov(j~i)
> summ_summary(aov)

do you have an object with name "aov" in your directory???
Check with ls()
I recommend to remove it as it is not recommended to give 
objects built in function names.





> summ
> the answer is ...
> 
>             Df  Sum Sq Mean Sq F value   Pr(>F)
> j            1 0.99412 0.99412     338 0.002946 **
> Residuals    2 0.00588 0.00294

My results

> summ_summary(anov)
> summ
            Df Sum Sq Mean Sq F value  Pr(>F)  
i            1 0.3025  0.3025    24.2 0.03893 *
Residuals    2 0.0250  0.0125                  
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1


> ---
> Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1
> 
> 
> for summ[1]
> the answer is ...
> [[1]]
>             Df  Sum Sq Mean Sq F value   Pr(>F)
> j            1 0.99412 0.99412     338 0.002946 **
> Residuals    2 0.00588 0.00294
> ---
> Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1
> 
> and i want to put the value (Pr(>F)) 0.002946 into a variables but i
> can not acces to this varible Re thanks a lot Julien Lamoral

anova() gives you the result which is maybe more suitable for 
subsetting then summary

try

unlist(anova(anov)[5])[1]
Pr(>F).1 
0.03892554 

it works just with your example, for more dimensions go through 
manual pages and some trial and error.

> 
> 
> 
Hope this helps.

Petr Pikal
petr.pikal at precheza.cz
p.pik at volny.cz


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From meili at stat.math.ethz.ch  Fri Aug  2 11:36:46 2002
From: meili at stat.math.ethz.ch (Ruth Meili)
Date: Fri, 2 Aug 2002 11:36:46 +0200
Subject: [R] survival analysis: plot.survfit
Message-ID: <15690.21166.908876.525073@gargle.gargle.HOWL>

Hello everybody,
does anybody know how the function plot.survfit exactly works?

I'd like to plot the log of the cummulative hazard against the
log time by using plot.survfit(...fun="cloglog") which does not
work correctly. The scales are wrong and there is an error
message about infinit numbers. It must have something to do with
the censored data, doesn't it?

#Example: 
motorette <- 
 read.table("http://stat.ethz.ch/Teaching/Datasets/NDK/motorette.dat",header=T)
km <- survfit(Surv(time,status)~1,data=motorette,type="kaplan-meier")

plot(km,fun="cloglog") # Error message and wrong scales
plot(km,fun="cumhaz",log="xy") # Does the same.


#If I do the plot "by hand", it does work:
log.cum.H <- log(-log(km$surv))
log.t <- log(summary(km,censored=T)$time)
plot(log.t,log.cum.H,type="s")

regards
Ruth

-- 
Ruth Meili <meili at stat.math.ethz.ch>
Seminar fuer Statistik, LEO D6
ETH (Federal Inst. Technology)	8092 Zurich	 SWITZERLAND
phone: x-41-1-632-4684		fax: x-41-1-632-1228
http://stat.ethz.ch/~meili/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrysopa at insecta.ufv.br  Fri Aug  2 13:09:59 2002
From: chrysopa at insecta.ufv.br (Ronaldo Reis Jr.)
Date: Fri, 2 Aug 2002 08:09:59 -0300
Subject: [R] New R mirror in Brazil
Message-ID: <200208020808.16030.chrysopa@insecta.ufv.br>

Hi,
I make a CRAN mirror in Brazil at Federal University of Vi?osa.
The address is:
http://termix.ufv.br/CRAN
Every problem please send report for me.
Thanks 
Ronaldo
-- 
Hug me now, you mad, impetuous fool!!  
	Oh wait...
		I'm a computer, and you're a person.  It would never work out.
			Never mind.
--
|   //|\\   [*****************************][*******************]
|| ( ? ? )  [Ronaldo Reis J?nior          ][PentiumIII-600     ]
|     V     [ESALQ/USP-Entomologia, CP-09 ][HD: 30 + 10 Gb     ]
||  / l \   [13418-900 Piracicaba - SP    ][RAM: 128 Mb        ]
|  /(lin)\  [Fone: 19-429-4199 r.229      ][Video: SiS620-8Mb  ]
||/(linux)\ [chrysopa at insecta.ufv.br      ][Modem: Pctel-onboar]
|/ (linux) \[ICQ#: 5692561                ][SO: CL 7.0 (2.2.19)]
||  ( x )   [*****************************][*******************]
||| _/ \_Powered by Conectiva Linux 7.0 D+:) | Lxuser#: 205366

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrysopa at insecta.ufv.br  Fri Aug  2 13:08:11 2002
From: chrysopa at insecta.ufv.br (Ronaldo Reis Jr.)
Date: Fri, 2 Aug 2002 08:08:11 -0300
Subject: [R] doubt about contrib...
Message-ID: <200208020808.11778.chrysopa@insecta.ufv.br>

Hi,
I have a little doubt about contrib packages.
I make some little functions in a R package format, this functions are for my 
personal use (envelopes for glm models and a plot bar routine).
Some friends ask me about the liberation of this functions in a web site, R 
contrib etc. 
what is the correct procedure for send a package to R contrib?
The functions is not create for me, is adaptaded to R package format. Some 
ideas are obtained in R-help. And others I don't know the original paper. How 
I need to proceed? I can post it in a free site, but the advantage of the R 
contrib packages is greater.
Thanks
Ronaldo
-- 
Marriage is low down, but you spend the rest of your life paying for it.
		-- Baskins
--
|   //|\\   [*****************************][*******************]
|| ( ? ? )  [Ronaldo Reis J?nior          ][PentiumIII-600     ]
|     V     [ESALQ/USP-Entomologia, CP-09 ][HD: 30 + 10 Gb     ]
||  / l \   [13418-900 Piracicaba - SP    ][RAM: 128 Mb        ]
|  /(lin)\  [Fone: 19-429-4199 r.229      ][Video: SiS620-8Mb  ]
||/(linux)\ [chrysopa at insecta.ufv.br      ][Modem: Pctel-onboar]
|/ (linux) \[ICQ#: 5692561                ][SO: CL 7.0 (2.2.19)]
||  ( x )   [*****************************][*******************]
||| _/ \_Powered by Conectiva Linux 7.0 D+:) | Lxuser#: 205366


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bob.ohara at helsinki.fi  Fri Aug  2 13:29:29 2002
From: bob.ohara at helsinki.fi (Anon.)
Date: Fri, 02 Aug 2002 14:29:29 +0300
Subject: [R] More on problem with polr
References: <3D3C2CEB.1A07A891@helsinki.fi> <3D46B5AF.25F40E1A@helsinki.fi>
Message-ID: <3D4A6D19.E4D4A2A4@helsinki.fi>

(those concerned about finding out who I am will find clues carefully
hidden towards the end of this message)



Briefly, I'm using polr (from the MASS library) to re-run an analysis I
did about 18 months ago, with a previous version of R (I'm now using
1.5.0, I think I was using 1.2.x or 1.1.x before).  It ran fine before,
but now I'm getting an error.  David Duffy suggested I post a minimum
data set to demonstrate the problem, so here is one which shows the
error - not having the old versoin of R, I can't check whether it would
work with that:

> Habitat <- factor(c(1, 1, 1, 1, 1, 2, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1))
> Wings <- factor(c(3, 2, 2, 3, 2, 2, 2, 3, 2, 2, 3, 3, 3, 3, 3, 2, 3, 2))
> Ext <- factor(c(1, 1, 2, 5, 2, 2, 2, 2, 2, 1, 7, 7, 1, 2, 3, 1, 4, 2), ordered=TRUE)
> 
> library(MASS)
> 
> Model1 <- polr(Ext ~ Habitat + Wings)
> Model2 <- polr(Ext ~ Habitat * Wings)
Error in optim(start, fmin, gmin, method = "BFGS", hessian = Hess) : 
        non-finite value supplied by optim
> 

The full data set is much bigger (over 380 observations), but I can
provide it if someone wants to look at it in more detail.  The full data
set does have "holes" in it (i.e. combinations of levels with no
observations), but similar data sets with the same sorts of holes run
fine.

Thanks in advance for any help!

Bob

-- 
Bob O'Hara
Metapopulation Research Group
Division of Population Biology
Department of Ecology and Systematics
PO Box 65 (Viikinkaari 1)
FIN-00014 University of Helsinki
Finland

tel: +358 9 191 57913      mobile: +358 50 599 0540
fax: +358 9 191 57694    email: bob.ohara at helsinki.fi
<http://www.helsinki.fi/science/metapop/> is not where it's at

It is being said of a certain poet, that though he tortures the English
language, he has still never yet succeeded in forcing it to reveal his
meaning
- Beachcomber
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Fri Aug  2 13:59:02 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Fri, 02 Aug 2002 07:59:02 -0400
Subject: [R] copying objects
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC537@usrymx10.merck.com>

1. Load the first workspace image (e.g., start up R in the directory where
that image is located).

2. Do save(myobject, file="myobject.rda")

3. At this point, you have two choices: a) Quit R and re-start in the
directory where the 2nd workspace is located, or b) clear everything in the
workspace in memory by, e.g., rm(list=ls()), then
setwd("where/the/second/workspace/image/lives") and load(".RData").  The
first is probably safer.

4. Do load("/path/to/the/first/workspace/myobject.rda").

5. Do save.image().

Well, you get the idea...  Check the help pages for these functions.

Andy

> -----Original Message-----
> From: Adaikalavan Ramasamy [mailto:ramasamy at stats.ox.ac.uk]
> Sent: Thursday, August 01, 2002 3:16 PM
> To: Deborah S. Rocha; R-help at stat.math.ethz.ch
> Subject: Re: [R] copying objects
> 
> 
> You might be interested in ?dump and ?source (requires 
> library 'foreign').
> There might be a more elegant way though.
> 
> ----- Original Message -----
> From: "Deborah S. Rocha" <stungis at lanl.gov>
> To: <R-help at stat.math.ethz.ch>
> Sent: Thursday, August 01, 2002 7:09 PM
> Subject: [R] copying objects
> 
> 
> > Hello,  How does one copy objects between Workspaces?
> >
> > Thank you,
> >   Deborah
> > 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.
> -.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._.
> _._
> >
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Aug  2 14:11:48 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 2 Aug 2002 14:11:48 +0200
Subject: [R] doubt about contrib...
In-Reply-To: <200208020808.11778.chrysopa@insecta.ufv.br>
References: <200208020808.11778.chrysopa@insecta.ufv.br>
Message-ID: <15690.30468.45779.791759@gargle.gargle.HOWL>

>>>>> "Ronaldo" == Ronaldo Reis <chrysopa at insecta.ufv.br> writes:

    Ronaldo> I have a little doubt about contrib packages.

    Ronaldo> I make some little functions in a R package format,
    Ronaldo> this functions are for my personal use (envelopes
    Ronaldo> for glm models and a plot bar routine).  Some
    Ronaldo> friends ask me about the liberation of this
    Ronaldo> functions in a web site, R contrib etc.

    Ronaldo> what is the correct procedure for send a package to
    Ronaldo> R contrib?

Have you read the R-FAQ?  It says quite a few things about this
topic! (and then "Writing R Extensions" (short "R-exts") on how to really make
the package).

>From what you say, it doesn't seem like a bad idea to make a
package from your functions.  Probably use
	package.sceleton(...)
to get started {but *do* read in "R-exts" additionally!}

The one thing that will take some time is writing the
documentation (help files).  But that's usually a very useful
exercise if only for yourself, cleaning up your code and
thinking about it's purposes, limits, etc.

    Ronaldo> The functions is not create for me, is adaptaded to
    Ronaldo> R package format. Some ideas are obtained in
    Ronaldo> R-help. And others I don't know the original
    Ronaldo> paper. How I need to proceed? I can post it in a
    Ronaldo> free site, but the advantage of the R contrib
    Ronaldo> packages is greater.

    Ronaldo> Thanks
    Ronaldo> Ronaldo

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dragi at math.chalmers.se  Fri Aug  2 14:28:55 2002
From: dragi at math.chalmers.se (Dragi Anevski)
Date: Fri, 2 Aug 2002 14:28:55 +0200 (MET DST)
Subject: [R] Cox regression
Message-ID: <Pine.SOL.4.30.0208021256050.11571-100000@mathsun3.math.chalmers.se>

Hi!
I would like to do Cox regression using the available routines in
the survival package BUT I want to use an arbitrary link function, i.e.
want to use the model

h(t)=h_0(t)r(beta'z)

with arbitrary function r, instead of

h(t)=h_0(t)exp(beta'z)

Grateful for any comment on this,
Dragi


-----------------------------------------------------------
Dragi Anevski, PhD
Mathematical Statistics   Chalmers University of Technology
G?teborg University       SE-412 96 G?teborg
Sweden                    +46 31 7725313, +46 706 740980


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sholl at gmx.net  Fri Aug  2 14:35:31 2002
From: sholl at gmx.net (Stephan Holl)
Date: Fri, 2 Aug 2002 14:35:31 +0200
Subject: [R] variables inside an Rdi-select statement?!
Message-ID: <20020802143531.418ba250.sholl@gmx.net>

Dear R-users,

I would like to use an environment variable inside an SELECT-statement
from R to a postgres-db, but it will not work and so I need some advice
from you.
<code>
ezg <- Sys.getenv("EZG")
connect <- dbConnect.PgSQL(host="localhost", user="username",
dbname="dbname")
query <-  dbSendQuery(connect, "SELECT ezg.s FROM ezg  WHERE
ezg.s!='12'")
</code>
the error is, that SELECT searches for the relation ezg, but it should
use value stored in ezg.

Any suggestions?

thanks in advance

stephan


-- 
Linux: the operating system with a CLUE...
         Command Line User Environment.
--------------------------------------
Stephan Holl
GnuPG Key-ID: 11946A09
ICQ# 117277975 
--------------------------------------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020802/90badc64/attachment.bin

From huang at stats.ox.ac.uk  Fri Aug  2 14:47:08 2002
From: huang at stats.ox.ac.uk (Huan Huang)
Date: Fri, 2 Aug 2002 13:47:08 +0100
Subject: [R] varclus function
References: <Pine.GSO.4.10.10207301214120.6711-100000@gnome.at.coli.uni-sb.de>
Message-ID: <008501c23a22$b69b8620$a91401a3@stats.ox.ac.uk>

Hi, dear list

I am fitting a linear model for 50 variables. I know there are collinear
predictors. So I want to use function varclus. Could any one tell me in
which library I can find it? Thanks a lot.

Huan
----- Original Message -----
From: "Shravan Vasishth" <vasishth at coli.uni-sb.de>
To: <r-help at stat.math.ethz.ch>
Sent: Tuesday, July 30, 2002 11:15 AM
Subject: RE: [R] Barplot coloring question


> I forgot to say in the summary below how mybarplot2 is called:
>
> mybarplot2(data2,        # or data3
>         beside=FALSE,
>         col= colormatrix,
>         width = c(1,.55),
>         space = c(2.75,.25),
>         axes = F)
>
> --
> Dr. Shravan Vasishth                           Phone: +49 (681) 302 4504
> Computational Linguistics, Universit? des Saarlandes, Postfach 15 11 50
> D-66041 Saarbr?ken, Germany         http://www.coli.uni-sb.de/~vasishth
>
>
> ---------- Forwarded message ----------
> Date: Tue, 30 Jul 2002 11:33:08 +0200 (MEST)
> From: Shravan Vasishth <vasishth at gnome.at.coli.uni-sb.de>
> To: Marc Schwartz <mschwartz at medanalytics.com>
> Cc: r-help at stat.math.ethz.ch
> Subject: RE: [R] Barplot coloring question
>
> Hi all,
>
> I summarize below the eventual solution I used following the discussion in
> this thread, in case others are interested. This also answers Marc's
> question below (why the inner loop?).
>
> The problem:
>
> I need to build two kinds of plots automatically; I need to keep things as
> automated as possible, since a lot of plots will be generated in the
> future and we just want to see the output quickly without having to fiddle
> with the plots individually.
>
> The first kind's initial data looks like this:
>
> > data2
>   A  A  B  B  C  C
> 0 5 10 15 20 70 90
>
> The second kind's data looks like this:
>
> > data3
>    A  A  B  B  C  C
> 1  5 10 15 20 70 90
> 2 20 15 24 56 34 70
> 3 40 54 23 67 12 78
>
> For uniformity, we want to keep the format of the data identical in both
> cases.
>
> In both cases, I want the distance between the bars A-A, B-B, C-C, to be
> closer to each other than the A-B, B-C distance, and I want to alternate
> colors, so that the first A has color x and the second A has a different
> color y. The x, y colors must alternate after that: the first B has x,
> then the second B has y, etc.
>
> However, in data3, I also want the three rows for a given column to appear
> *within* a single bar, in three colors, say, c1, c2, c3, and the column
> next to this column should have colors c4, c5, c6. So, now we want the
> triplets <c1, c2, c3>, <c4,c5,c6> alternating for each successive bar. The
> reason for this is that we want to display two related but different
> percentages in the same graph, and we want to do this because then we can
> quickly eyeball the graph and get maximum information from a single graph,
> rather than having to pore over dozens of them and to compare bars
> pairwise across different graphs (a sure way to lose your mind).
>
> Solution:
>
> (for the reasons why this should be so, see Marc's previous responses)
>
> For data2, barplot is rewritten as mybarplot1 (thanks to Marc) as follows:
>
>  ...
>
>  if (beside)
>             xyrect(0, w.l, c(height), w.r, horizontal = horiz,
>                 col = col)
>         else {
>             for (i in 1:NC) {
>                 xyrect(height[1:NR, i], w.l[i], height[-1, i],
>                   w.r[i], horizontal = horiz, col = col[i])
>             }
>
>  ...
>
>
> For data3, barplot is rewritten as mybarplot2 (again, thanks to Marc) as
> follows:
>
>    ...
>
>    if (beside)
>             xyrect(0, w.l, c(height), w.r, horizontal = horiz,
>                 col = col)
>         else {
>             for (i in 1:NC) {
>                      for (j in 1:NR) {
>                        mycol = col[,i]
>                        xyrect(height[1:NR, i], w.l[i], height[-1, i],
>                             w.r[i], horizontal = horiz, col = mycol)
>                      }
>             }
>
>    ...
>
>
> Now, one nice thing is that we can just use the above modification, i.e.,
> mybarplot2, for both data2 and data3, we don't need mybarplot1 any more.
> Not a real big deal, but now we can use the same R script for all our
> data, irrespective of whether it comes in in data2 or data3 format. Just
> might make things easier for other people who will one day have to
> read and/or modify this and related code at our end here.
>
> On Mon, 29 Jul 2002, Marc Schwartz wrote:
>
> > The question this whole process now raises is why the inner loop?
>
> Does the above explanation answer that question?
>
> > I am still a little confused as to how you want the colors structured.
> > That is do you want each bar to contain the three colors, one for each
> > segment, or do you want each of the three pairs of bars to be colored
> > differently?
>
> I want them to alternate, for data3, as follows:
>
> c3 c6    c3 c6
> c2 c5    c2 c5
> c1 c4    c1 c4   ...
> A  A     B  B
>
> Marc, I want to thank you again for the enormous amount of time you put
> into this, and for your extraordinary patience as you educated me on
> these revisions to the code. It would have taken much, much longer to
> figure all this out without your help.
>
> --
> Dr. Shravan Vasishth                           Phone: +49 (681) 302 4504
> Computational Linguistics, Universit? des Saarlandes, Postfach 15 11 50
> D-66041 Saarbr?ken, Germany         http://www.coli.uni-sb.de/~vasishth
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baty at biomserv.univ-lyon1.fr  Fri Aug  2 15:06:14 2002
From: baty at biomserv.univ-lyon1.fr (Florent BATY)
Date: Fri, 02 Aug 2002 15:06:14 +0200
Subject: [R] Arguments of a function
Message-ID: <3D4A83C6.7090302@biomserv.univ-lyon1.fr>

Hello,
Is it possible to call a function having x arguments with vector 
containing the x values of the arguments in it ?
To make myself clearer, I was wandering if from a function f:

    > f
    function(a,b) a+b

and a vector v which the 2 values of the arguments "a" and "b":

    > v
    a b
    1 2
    > names(v)
    [1] "a" "b"

it is possible to call the function f with vector v as the arguments of the function.
If I use f(v) it returns me an error since v was considered as the value of the first argument.

Do you any ideas ??
 
_______________________________________

Florent BATY
CNRS UMR 5558
Dynamique des Populations Bact?riennes
Facult? de M?decine Lyon-Sud
69921 OULLINS, BP 12
FRANCE
tel : +33 (0)4 78 86 31 67
fax : +33 (0)4 78 86 31 49
_______________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug  2 15:01:37 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 2 Aug 2002 14:01:37 +0100 (BST)
Subject: [R] Arguments of a function
In-Reply-To: <3D4A83C6.7090302@biomserv.univ-lyon1.fr>
Message-ID: <Pine.LNX.4.31.0208021401110.31864-100000@gannet.stats>

?do.call

On Fri, 2 Aug 2002, Florent BATY wrote:

> Hello,
> Is it possible to call a function having x arguments with vector
> containing the x values of the arguments in it ?
> To make myself clearer, I was wandering if from a function f:
>
>     > f
>     function(a,b) a+b
>
> and a vector v which the 2 values of the arguments "a" and "b":
>
>     > v
>     a b
>     1 2
>     > names(v)
>     [1] "a" "b"
>
> it is possible to call the function f with vector v as the arguments of the function.
> If I use f(v) it returns me an error since v was considered as the value of the first argument.
>
> Do you any ideas ??

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug  2 15:08:34 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 2 Aug 2002 14:08:34 +0100 (BST)
Subject: [R] variables inside an Rdi-select statement?!
In-Reply-To: <20020802143531.418ba250.sholl@gmx.net>
Message-ID: <Pine.LNX.4.31.0208021402370.31864-100000@gannet.stats>

On Fri, 2 Aug 2002, Stephan Holl wrote:

> Dear R-users,
>
> I would like to use an environment variable inside an SELECT-statement
> from R to a postgres-db, but it will not work and so I need some advice
> from you.
> <code>
> ezg <- Sys.getenv("EZG")
> connect <- dbConnect.PgSQL(host="localhost", user="username",
> dbname="dbname")
> query <-  dbSendQuery(connect, "SELECT ezg.s FROM ezg  WHERE
> ezg.s!='12'")
> </code>
> the error is, that SELECT searches for the relation ezg, but it should
> use value stored in ezg.

In short, it did what you asked it to, which is not an error.

Use paste() to assemble the string you want to pass.  Nothing you did
tells R that `ezg' in the last line is a reference to an R variable.  I'd
give you an example except I don't see the point of your SQL.  I think you
may mean

paste("SELECT s FROM", ezg, "WHERE s!='12'")


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From malewski.peter at mh-hannover.de  Fri Aug  2 15:19:15 2002
From: malewski.peter at mh-hannover.de (Peter Malewski)
Date: Fri, 2 Aug 2002 15:19:15 +0200
Subject: [R] varclus function
In-Reply-To: <008501c23a22$b69b8620$a91401a3@stats.ox.ac.uk>; from huang@stats.ox.ac.uk on Fri, Aug 02, 2002 at 01:47:08PM +0100
References: <Pine.GSO.4.10.10207301214120.6711-100000@gnome.at.coli.uni-sb.de> <008501c23a22$b69b8620$a91401a3@stats.ox.ac.uk>
Message-ID: <20020802151915.B14014@rzsrv2.rz.tu-bs.de>

Hmisc. 
Peter


On Fri, Aug 02, 2002 at 01:47:08PM +0100, Huan Huang wrote:
> Hi, dear list
> 
> I am fitting a linear model for 50 variables. I know there are collinear
> predictors. So I want to use function varclus. Could any one tell me in
> which library I can find it? Thanks a lot.
> 
> Huan
> ----- Original Message -----
> From: "Shravan Vasishth" <vasishth at coli.uni-sb.de>
> To: <r-help at stat.math.ethz.ch>
> Sent: Tuesday, July 30, 2002 11:15 AM
> Subject: RE: [R] Barplot coloring question
> 
> 
> > I forgot to say in the summary below how mybarplot2 is called:
> >
> > mybarplot2(data2,        # or data3
> >         beside=FALSE,
> >         col= colormatrix,
> >         width = c(1,.55),
> >         space = c(2.75,.25),
> >         axes = F)
> >
> > --
> > Dr. Shravan Vasishth                           Phone: +49 (681) 302 4504
> > Computational Linguistics, Universit$BgU(B des Saarlandes, Postfach 15 11 50
> > D-66041 Saarbr$B!&(Bken, Germany         http://www.coli.uni-sb.de/~vasishth
> >
> >
> > ---------- Forwarded message ----------
> > Date: Tue, 30 Jul 2002 11:33:08 +0200 (MEST)
> > From: Shravan Vasishth <vasishth at gnome.at.coli.uni-sb.de>
> > To: Marc Schwartz <mschwartz at medanalytics.com>
> > Cc: r-help at stat.math.ethz.ch
> > Subject: RE: [R] Barplot coloring question
> >
> > Hi all,
> >
> > I summarize below the eventual solution I used following the discussion in
> > this thread, in case others are interested. This also answers Marc's
> > question below (why the inner loop?).
> >
> > The problem:
> >
> > I need to build two kinds of plots automatically; I need to keep things as
> > automated as possible, since a lot of plots will be generated in the
> > future and we just want to see the output quickly without having to fiddle
> > with the plots individually.
> >
> > The first kind's initial data looks like this:
> >
> > > data2
> >   A  A  B  B  C  C
> > 0 5 10 15 20 70 90
> >
> > The second kind's data looks like this:
> >
> > > data3
> >    A  A  B  B  C  C
> > 1  5 10 15 20 70 90
> > 2 20 15 24 56 34 70
> > 3 40 54 23 67 12 78
> >
> > For uniformity, we want to keep the format of the data identical in both
> > cases.
> >
> > In both cases, I want the distance between the bars A-A, B-B, C-C, to be
> > closer to each other than the A-B, B-C distance, and I want to alternate
> > colors, so that the first A has color x and the second A has a different
> > color y. The x, y colors must alternate after that: the first B has x,
> > then the second B has y, etc.
> >
> > However, in data3, I also want the three rows for a given column to appear
> > *within* a single bar, in three colors, say, c1, c2, c3, and the column
> > next to this column should have colors c4, c5, c6. So, now we want the
> > triplets <c1, c2, c3>, <c4,c5,c6> alternating for each successive bar. The
> > reason for this is that we want to display two related but different
> > percentages in the same graph, and we want to do this because then we can
> > quickly eyeball the graph and get maximum information from a single graph,
> > rather than having to pore over dozens of them and to compare bars
> > pairwise across different graphs (a sure way to lose your mind).
> >
> > Solution:
> >
> > (for the reasons why this should be so, see Marc's previous responses)
> >
> > For data2, barplot is rewritten as mybarplot1 (thanks to Marc) as follows:
> >
> >  ...
> >
> >  if (beside)
> >             xyrect(0, w.l, c(height), w.r, horizontal = horiz,
> >                 col = col)
> >         else {
> >             for (i in 1:NC) {
> >                 xyrect(height[1:NR, i], w.l[i], height[-1, i],
> >                   w.r[i], horizontal = horiz, col = col[i])
> >             }
> >
> >  ...
> >
> >
> > For data3, barplot is rewritten as mybarplot2 (again, thanks to Marc) as
> > follows:
> >
> >    ...
> >
> >    if (beside)
> >             xyrect(0, w.l, c(height), w.r, horizontal = horiz,
> >                 col = col)
> >         else {
> >             for (i in 1:NC) {
> >                      for (j in 1:NR) {
> >                        mycol = col[,i]
> >                        xyrect(height[1:NR, i], w.l[i], height[-1, i],
> >                             w.r[i], horizontal = horiz, col = mycol)
> >                      }
> >             }
> >
> >    ...
> >
> >
> > Now, one nice thing is that we can just use the above modification, i.e.,
> > mybarplot2, for both data2 and data3, we don't need mybarplot1 any more.
> > Not a real big deal, but now we can use the same R script for all our
> > data, irrespective of whether it comes in in data2 or data3 format. Just
> > might make things easier for other people who will one day have to
> > read and/or modify this and related code at our end here.
> >
> > On Mon, 29 Jul 2002, Marc Schwartz wrote:
> >
> > > The question this whole process now raises is why the inner loop?
> >
> > Does the above explanation answer that question?
> >
> > > I am still a little confused as to how you want the colors structured.
> > > That is do you want each bar to contain the three colors, one for each
> > > segment, or do you want each of the three pairs of bars to be colored
> > > differently?
> >
> > I want them to alternate, for data3, as follows:
> >
> > c3 c6    c3 c6
> > c2 c5    c2 c5
> > c1 c4    c1 c4   ...
> > A  A     B  B
> >
> > Marc, I want to thank you again for the enormous amount of time you put
> > into this, and for your extraordinary patience as you educated me on
> > these revisions to the code. It would have taken much, much longer to
> > figure all this out without your help.
> >
> > --
> > Dr. Shravan Vasishth                           Phone: +49 (681) 302 4504
> > Computational Linguistics, Universit$BgU(B des Saarlandes, Postfach 15 11 50
> > D-66041 Saarbr$B!&(Bken, Germany         http://www.coli.uni-sb.de/~vasishth
> >
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> >
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sholl at gmx.net  Fri Aug  2 15:35:16 2002
From: sholl at gmx.net (Stephan Holl)
Date: Fri, 2 Aug 2002 15:35:16 +0200
Subject: [R] variables inside an Rdi-select statement?!
In-Reply-To: <Pine.LNX.4.31.0208021402370.31864-100000@gannet.stats>
References: <20020802143531.418ba250.sholl@gmx.net>
	<Pine.LNX.4.31.0208021402370.31864-100000@gannet.stats>
Message-ID: <20020802153516.042a5cd2.sholl@gmx.net>

Hello, 
> Use paste() to assemble the string you want to pass.  Nothing you did
> tells R that `ezg' in the last line is a reference to an R variable. 
> I'd give you an example except I don't see the point of your SQL.  I
> think you may mean
> 
> paste("SELECT s FROM", ezg, "WHERE s!='12'")

yes, indeed, that's what I ment. But I shortend my real SQL statement
for the mail-example. I did some left joins and in order to have an
atomic id-field I had to write the relation like this ("SELECT ezg.s
FROM ezg  WHERE
> ezg.s!='12'")
anyway,  thank you for your help!

cheers
  stephan


-- 
Linux: the operating system with a CLUE...
         Command Line User Environment.
--------------------------------------
Stephan Holl
GnuPG Key-ID: 11946A09
ICQ# 117277975 
--------------------------------------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020802/9d16a39e/attachment.bin

From Michael.Dondrup at Genetik.Uni-Bielefeld.DE  Fri Aug  2 16:10:15 2002
From: Michael.Dondrup at Genetik.Uni-Bielefeld.DE (Michael Dondrup)
Date: Fri, 02 Aug 2002 16:10:15 +0200
Subject: [R] variables inside an Rdi-select statement?!
References: <20020802143531.418ba250.sholl@gmx.net>
Message-ID: <3D4A92C7.2A777311@Genetik.Uni-Bielefeld.DE>

hi,

use paste() to build your query-string.

Stephan Holl wrote:
> 
> Dear R-users,
> 
> I would like to use an environment variable inside an SELECT-statement
> from R to a postgres-db, but it will not work and so I need some advice
> from you.
> <code>
> ezg <- Sys.getenv("EZG")
> connect <- dbConnect.PgSQL(host="localhost", user="username",
> dbname="dbname")
> query <-  dbSendQuery(connect, "SELECT ezg.s FROM ezg  WHERE
> ezg.s!='12'")
> </code>
> the error is, that SELECT searches for the relation ezg, but it should
> use value stored in ezg.
> 
> Any suggestions?
> 
> thanks in advance
> 
> stephan
> 
> --
> Linux: the operating system with a CLUE...
>          Command Line User Environment.
> --------------------------------------
> Stephan Holl
> GnuPG Key-ID: 11946A09
> ICQ# 117277975
> --------------------------------------
> 
>   ------------------------------------------------------------------------
>    Part 1.2Type: application/pgp-signature
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Aug  2 16:26:24 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 2 Aug 2002 07:26:24 -0700 (PDT)
Subject: [R] Cox regression
In-Reply-To: <Pine.SOL.4.30.0208021256050.11571-100000@mathsun3.math.chalmers.se>
Message-ID: <Pine.A41.4.44.0208020723460.115544-100000@homer41.u.washington.edu>

On Fri, 2 Aug 2002, Dragi Anevski wrote:

> Hi!
> I would like to do Cox regression using the available routines in
> the survival package BUT I want to use an arbitrary link function, i.e.
> want to use the model
>
> h(t)=h_0(t)r(beta'z)
>
> with arbitrary function r, instead of
>
> h(t)=h_0(t)exp(beta'z)
>
> Grateful for any comment on this,

You're out of luck -- the survival package won't be any help with this.

  The easiest solution would probably be to work out the partial
likelihood and its first derivative and use optim() to maximise it.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Fri Aug  2 17:14:47 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Fri, 02 Aug 2002 11:14:47 -0400
Subject: [R] varclus function
References: <Pine.GSO.4.10.10207301214120.6711-100000@gnome.at.coli.uni-sb.de> <008501c23a22$b69b8620$a91401a3@stats.ox.ac.uk>
Message-ID: <3D4AA1E7.3DE88D55@umsanet.edu.bo>

For this kind of question you should first use help.search(): On my
system

> help.search("varclus")
No help files found with alias or title matching `varclus'
> 


Kjetil Halvorsen

Huan Huang wrote:
> 
> Hi, dear list
> 
> I am fitting a linear model for 50 variables. I know there are collinear
> predictors. So I want to use function varclus. Could any one tell me in
> which library I can find it? Thanks a lot.
> 
> Huan
> ----- Original Message -----
> From: "Shravan Vasishth" <vasishth at coli.uni-sb.de>
> To: <r-help at stat.math.ethz.ch>
> Sent: Tuesday, July 30, 2002 11:15 AM
> Subject: RE: [R] Barplot coloring question
> 
> > I forgot to say in the summary below how mybarplot2 is called:
> >
> > mybarplot2(data2,        # or data3
> >         beside=FALSE,
> >         col= colormatrix,
> >         width = c(1,.55),
> >         space = c(2.75,.25),
> >         axes = F)
> >
> > --
> > Dr. Shravan Vasishth                           Phone: +49 (681) 302 4504
> > Computational Linguistics, Universit$BgU(B des Saarlandes, Postfach 15 11 50
> > D-66041 Saarbr$B!&(Bken, Germany         http://www.coli.uni-sb.de/~vasishth
> >
> >
> > ---------- Forwarded message ----------
> > Date: Tue, 30 Jul 2002 11:33:08 +0200 (MEST)
> > From: Shravan Vasishth <vasishth at gnome.at.coli.uni-sb.de>
> > To: Marc Schwartz <mschwartz at medanalytics.com>
> > Cc: r-help at stat.math.ethz.ch
> > Subject: RE: [R] Barplot coloring question
> >
> > Hi all,
> >
> > I summarize below the eventual solution I used following the discussion in
> > this thread, in case others are interested. This also answers Marc's
> > question below (why the inner loop?).
> >
> > The problem:
> >
> > I need to build two kinds of plots automatically; I need to keep things as
> > automated as possible, since a lot of plots will be generated in the
> > future and we just want to see the output quickly without having to fiddle
> > with the plots individually.
> >
> > The first kind's initial data looks like this:
> >
> > > data2
> >   A  A  B  B  C  C
> > 0 5 10 15 20 70 90
> >
> > The second kind's data looks like this:
> >
> > > data3
> >    A  A  B  B  C  C
> > 1  5 10 15 20 70 90
> > 2 20 15 24 56 34 70
> > 3 40 54 23 67 12 78
> >
> > For uniformity, we want to keep the format of the data identical in both
> > cases.
> >
> > In both cases, I want the distance between the bars A-A, B-B, C-C, to be
> > closer to each other than the A-B, B-C distance, and I want to alternate
> > colors, so that the first A has color x and the second A has a different
> > color y. The x, y colors must alternate after that: the first B has x,
> > then the second B has y, etc.
> >
> > However, in data3, I also want the three rows for a given column to appear
> > *within* a single bar, in three colors, say, c1, c2, c3, and the column
> > next to this column should have colors c4, c5, c6. So, now we want the
> > triplets <c1, c2, c3>, <c4,c5,c6> alternating for each successive bar. The
> > reason for this is that we want to display two related but different
> > percentages in the same graph, and we want to do this because then we can
> > quickly eyeball the graph and get maximum information from a single graph,
> > rather than having to pore over dozens of them and to compare bars
> > pairwise across different graphs (a sure way to lose your mind).
> >
> > Solution:
> >
> > (for the reasons why this should be so, see Marc's previous responses)
> >
> > For data2, barplot is rewritten as mybarplot1 (thanks to Marc) as follows:
> >
> >  ...
> >
> >  if (beside)
> >             xyrect(0, w.l, c(height), w.r, horizontal = horiz,
> >                 col = col)
> >         else {
> >             for (i in 1:NC) {
> >                 xyrect(height[1:NR, i], w.l[i], height[-1, i],
> >                   w.r[i], horizontal = horiz, col = col[i])
> >             }
> >
> >  ...
> >
> >
> > For data3, barplot is rewritten as mybarplot2 (again, thanks to Marc) as
> > follows:
> >
> >    ...
> >
> >    if (beside)
> >             xyrect(0, w.l, c(height), w.r, horizontal = horiz,
> >                 col = col)
> >         else {
> >             for (i in 1:NC) {
> >                      for (j in 1:NR) {
> >                        mycol = col[,i]
> >                        xyrect(height[1:NR, i], w.l[i], height[-1, i],
> >                             w.r[i], horizontal = horiz, col = mycol)
> >                      }
> >             }
> >
> >    ...
> >
> >
> > Now, one nice thing is that we can just use the above modification, i.e.,
> > mybarplot2, for both data2 and data3, we don't need mybarplot1 any more.
> > Not a real big deal, but now we can use the same R script for all our
> > data, irrespective of whether it comes in in data2 or data3 format. Just
> > might make things easier for other people who will one day have to
> > read and/or modify this and related code at our end here.
> >
> > On Mon, 29 Jul 2002, Marc Schwartz wrote:
> >
> > > The question this whole process now raises is why the inner loop?
> >
> > Does the above explanation answer that question?
> >
> > > I am still a little confused as to how you want the colors structured.
> > > That is do you want each bar to contain the three colors, one for each
> > > segment, or do you want each of the three pairs of bars to be colored
> > > differently?
> >
> > I want them to alternate, for data3, as follows:
> >
> > c3 c6    c3 c6
> > c2 c5    c2 c5
> > c1 c4    c1 c4   ...
> > A  A     B  B
> >
> > Marc, I want to thank you again for the enormous amount of time you put
> > into this, and for your extraordinary patience as you educated me on
> > these revisions to the code. It would have taken much, much longer to
> > figure all this out without your help.
> >
> > --
> > Dr. Shravan Vasishth                           Phone: +49 (681) 302 4504
> > Computational Linguistics, Universit$BgU(B des Saarlandes, Postfach 15 11 50
> > D-66041 Saarbr$B!&(Bken, Germany         http://www.coli.uni-sb.de/~vasishth
> >
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> >
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wilson at visi.com  Fri Aug  2 17:31:46 2002
From: wilson at visi.com (Tim Wilson)
Date: Fri, 2 Aug 2002 10:31:46 -0500
Subject: [R] extracting data from a dataframe
Message-ID: <20020802153146.GA3619@isis.visi.com>

Hi everyone,

Here's a question about extracting data from a dataframe:

Let's say I've got a dataframe with two vectors, TEST and GENDER. GENDER
contains a 1 for males and 2 for females. I want to separate the results
of TEST by GENDER so I can compare their means.

What's the most efficient way to do this with R?

-Tim

-- 
Tim Wilson      |   Visit Sibley online:   | Check out:
Henry Sibley HS |  http://www.isd197.org   | http://www.zope.com
W. St. Paul, MN |                          | http://slashdot.org
wilson at visi.com |  <dtml-var pithy_quote>  | http://linux.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Fri Aug  2 17:41:23 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Fri, 02 Aug 2002 11:41:23 -0400
Subject: [R] Problems with new arima function in ts
References: <3D4A83C6.7090302@biomserv.univ-lyon1.fr>
Message-ID: <3D4AA823.E6D2DCB8@umsanet.edu.bo>

I have a model & data where arima0 works, but not the new arima:

> PIBconst
     Qtr1 Qtr2 Qtr3 Qtr4
1991 1599 1907 1927 1970
1992 1655 1894 1869 1952
1993 1711 1994 1892 1941
1994 1765 1936 2064 1969
1995 1834 1982 2005 2089
1996 1867 2059 2099 2075
1997 1872 2158 2114 2186
1998 1978 2175 2167 2226
1999 1971 2152 2117 2161
2000 1955 2167 2157 2206
2001 2025 2212 2175 2226

test <- arima(PIBconst, order=c(0,1,1), sea=list(order=c(0,1,1)),
init=c(0.5, 0.5))
Error in optim(init[mask], armaCSS, method = "BFGS", hessian = FALSE,  : 
        initial value in vmmin is not finite

with better init values:

 test <- arima(PIBconst, order=c(0,1,1), sea=list(order=c(0,1,1)),
init=c(-0.7, -0.8))
Error in optim(init[mask], armaCSS, method = "BFGS", hessian = FALSE,  : 
        initial value in vmmin is not finite

changing method:

 test <- arima(PIBconst, order=c(0,1,1), sea=list(order=c(0,1,1)),
init=c(-0.7, -0.8), method="ML")
Error in optim(init[mask], armafn, method = "BFGS", hessian = TRUE,
control = optim.control,  : 
        initial value in vmmin is not finite

What to do? (We have got this to work on other series, which actually
contain missing values).

Kjetil Halvorsen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Aug  2 17:37:10 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 2 Aug 2002 08:37:10 -0700 (PDT)
Subject: [R] extracting data from a dataframe
In-Reply-To: <20020802153146.GA3619@isis.visi.com>
Message-ID: <Pine.A41.4.44.0208020836370.75822-100000@homer40.u.washington.edu>

On Fri, 2 Aug 2002, Tim Wilson wrote:

> Hi everyone,
>
> Here's a question about extracting data from a dataframe:
>
> Let's say I've got a dataframe with two vectors, TEST and GENDER. GENDER
> contains a 1 for males and 2 for females. I want to separate the results
> of TEST by GENDER so I can compare their means.
>
> What's the most efficient way to do this with R?
>

No guarantees of efficiency, but the easiest is
  split(df$TEST,df$GENDER)

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Fri Aug  2 17:49:06 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 02 Aug 2002 08:49:06 -0700
Subject: [R] extracting data from a dataframe
In-Reply-To: <20020802153146.GA3619@isis.visi.com>
References: <20020802153146.GA3619@isis.visi.com>
Message-ID: <87ofcltg5p.fsf@jeeves.blindglobe.net>

>>>>> "tim" == Tim Wilson <wilson at visi.com> writes:

    tim> Hi everyone,
    tim> Here's a question about extracting data from a dataframe:

    tim> Let's say I've got a dataframe with two vectors, TEST and GENDER. GENDER
    tim> contains a 1 for males and 2 for females. I want to separate the results
    tim> of TEST by GENDER so I can compare their means.

    tim> What's the most efficient way to do this with R?

something like:

lapply(split(df$TEST,df$GENDER),mean)

?
(where "df" is the data.frame).

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mros at toulouse.inra.fr  Fri Aug  2 17:36:52 2002
From: mros at toulouse.inra.fr (Mathieu Ros)
Date: Fri,  2 Aug 2002 17:36:52 +0200 (MEST)
Subject: [R] Arguments of a function
In-Reply-To: <3D4A83C6.7090302@biomserv.univ-lyon1.fr>
References: <3D4A83C6.7090302@biomserv.univ-lyon1.fr>
Message-ID: <15690.42534.125122.516655@autan.toulouse.inra.fr>

>>>>> "FB" == Florent BATY <baty at biomserv.univ-lyon1.fr> disait:

    FB> Hello, Is it possible to call a function having x arguments
    FB> with vector containing the x values of the arguments in it ?
    FB> To make myself clearer, I was wandering if from a function f:

    >> f
    FB>     function(a,b) a+b

    FB> and a vector v which the 2 values of the arguments "a" and
    FB> "b":

    >> v
    FB>     a b 1 2
    >> names(v)
    FB>     [1] "a" "b"

    FB> it is possible to call the function f with vector v as the
    FB> arguments of the function.  If I use f(v) it returns me an
    FB> error since v was considered as the value of the first
    FB> argument.

    FB> Do you any ideas ??

f<-function(x,y){
    if (is.list(x)) {
        y <- x$y
        x <- x$x
    }
    x+y
}

should work.
or look at the code of legend()...

-- 
Mathieu Ros 
Laboratoire de G?n?tique Cellulaire, INRA Toulouse 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From GPetris at uark.edu  Fri Aug  2 19:04:52 2002
From: GPetris at uark.edu (Giovanni Petris)
Date: Fri, 2 Aug 2002 12:04:52 -0500 (CDT)
Subject: [R] Means of Monte Carlo simulated lists
Message-ID: <200208021704.MAA17551@definetti.uark.edu>


Hello,

I am doing simulations, and I generate a list at each iteration (with
three component matrices in the example below), saving the results in
a list. For example, after two iterations, I have something like

> str(sim.theta)
List of 2
 $ :List of 3
  ..$ : num [1:6, 1:4]  -3.67  -1.07  -2.99 -18.38  -3.26 ...
  ..$ : num [1:6, 1:6] -7.56 -3.14 -4.99  1.03  2.79 ...
  ..$ : num [1:6, 1:4]  -0.506   2.802   1.879 -13.457  -3.172 ...
 $ :List of 3
  ..$ : num [1:6, 1:4]  9.664 17.242 13.555 -0.368 16.426 ...
  ..$ : num [1:6, 1:6] 10.54  8.97 10.89 10.76  8.81 ...
  ..$ : num [1:6, 1:4]  4.40 10.58 12.00  1.00  7.71 ...

Could anybody tell me what is an efficient way of computing the
averages of the simulated values?

Thank you in advance,
Giovanni

-- 

 __________________________________________________
[                                                  ]
[ Giovanni Petris                 GPetris at uark.edu ]
[ Department of Mathematical Sciences              ]
[ University of Arkansas - Fayetteville, AR 72701  ]
[ Ph: (479) 575-6324, 575-8630 (fax)               ]
[ http://definetti.uark.edu/~gpetris/              ]
[__________________________________________________]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Fri Aug  2 19:08:21 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Fri, 2 Aug 2002 12:08:21 -0500
Subject: [R] extracting data from a dataframe
In-Reply-To: <20020802153146.GA3619@isis.visi.com>
Message-ID: <008601c23a47$35c49580$0201a8c0@MARC>

> -----Original Message-----
> Hi everyone,
> 
> Here's a question about extracting data from a dataframe:
> 
> Let's say I've got a dataframe with two vectors, TEST and GENDER.
> GENDER
> contains a 1 for males and 2 for females. I want to separate the
results
> of TEST by GENDER so I can compare their means.
> 
> What's the most efficient way to do this with R?
> 
> -Tim

Presuming that you wish to perform a two-sample t-test on the means, you
don't need to actually "split" the dataframe. You could use the formula
method for t.test() by the following:

t.test(df$TEST ~ df$GENDER)

where df is the name of your dataframe.

If you actually want to split the dataframe, see ?split.

HTH.

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From joshi at engr.orst.edu  Fri Aug  2 19:35:43 2002
From: joshi at engr.orst.edu (Saket Joshi)
Date: Fri, 2 Aug 2002 10:35:43 -0700 (PDT)
Subject: [R] question
Message-ID: <Pine.GSO.4.44.0208021022120.16810-100000@flop.ENGR.ORST.EDU>

Hi all,

I am running R1.5.0 on Unix.
I fitted a tree model my.tree on some data my.data and the tree has only 2
leaves. Now I have some test data new.data

When I run
predict(my.tree, new.data)
it does give a reasonable answer but it takes 60 to 90 seconds to come up
with the answer.

I had expected it to take far less than that considering that the predict
function has just to traverse a tree with 2 nodes and give the answer.
Could anyone tell me why this function is taking so much time to run?

Thanks in advance,
-Saket.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug  2 20:20:03 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 2 Aug 2002 19:20:03 +0100 (BST)
Subject: [R] question
In-Reply-To: <Pine.GSO.4.44.0208021022120.16810-100000@flop.ENGR.ORST.EDU>
Message-ID: <Pine.LNX.4.31.0208021917270.32657-100000@gannet.stats>

On Fri, 2 Aug 2002, Saket Joshi wrote:

> Hi all,
>
> I am running R1.5.0 on Unix.
> I fitted a tree model my.tree on some data my.data and the tree has only 2
> leaves. Now I have some test data new.data
>
> When I run
> predict(my.tree, new.data)
> it does give a reasonable answer but it takes 60 to 90 seconds to come up
> with the answer.
>
> I had expected it to take far less than that considering that the predict
> function has just to traverse a tree with 2 nodes and give the answer.
> Could anyone tell me why this function is taking so much time to run?

Not on the amount of information you have given.  Take a look at
`Writing R Extensions' or an earlier Programmers' Niche in R-news for how
to profile your run to see where the time is being spent.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Aug  2 20:41:09 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 2 Aug 2002 11:41:09 -0700 (PDT)
Subject: [R] survival analysis: plot.survfit
In-Reply-To: <15690.21166.908876.525073@gargle.gargle.HOWL>
Message-ID: <Pine.A41.4.44.0208021134200.122192-100000@homer33.u.washington.edu>

On Fri, 2 Aug 2002, Ruth Meili wrote:

> Hello everybody,
> does anybody know how the function plot.survfit exactly works?
>
> I'd like to plot the log of the cummulative hazard against the
> log time by using plot.survfit(...fun="cloglog") which does not
> work correctly. The scales are wrong and there is an error
> message about infinit numbers. It must have something to do with
> the censored data, doesn't it?

I don't get an error message. I get a warning that values <=0 have been
omitted. I don't think it has anything to do with censoring.

Also, the scales are correct (though the x-axis limits are not well
chosen).  The x-axis is not log(time), but time on a logarithmic scale.

> #Example:
> motorette <-
>  read.table("http://stat.ethz.ch/Teaching/Datasets/NDK/motorette.dat",header=T)
> km <- survfit(Surv(time,status)~1,data=motorette,type="kaplan-meier")
>
> plot(km,fun="cloglog") # Error message and wrong scales
> plot(km,fun="cumhaz",log="xy") # Does the same.
>

I get a plot that looks very much like yours with

plot(km,fun="cloglog",xlim=c(200,10000),conf=FALSE)

where conf=FALSE leaves out the confidence intervals and the xlim command
chooses better x-axis limits.

The axis labels are still different as plot.survfit uses the actual time
not the log time as the label.

I'll look into removing the warning about values <=0.  It happens because
time=0 is the first point on the x-axis, which doesn't like being
log-transformed.  It might also be possible to get better automatic x-axis
limits.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bmagill at earthlink.net  Fri Aug  2 22:12:12 2002
From: bmagill at earthlink.net ( Brett Magill)
Date: Fri, 02 Aug 2002 13:12:12 -0700
Subject: [R] avoiding "for()" loops:  a question?
Message-ID: <Springmail.0994.1028319132.0.74939100@webmail.pas.earthlink.net>

I have read in several places that one should attempt to avoid for loops
whenever possible.  In this spirit, I was playing with some code that I have
written to improve its efficiency and elegance.

The following iteratively drops a column from a data frame and applies a
function to the reminaing columns.  I replaced this for loop:

for (y in 1:dim(x)[2])  my.function (x[,-y])

with this:

sapply(1:dim(x)[2], function(y) my.function (x[,-y] ))

in an attempt to aviod "for()".

However, using system.time() to compare performance of the two functions shows
no difference in performance over 30 trials with each function on a 500 X 24
matrix (any edge seems in favor of the for loop).  (Win 98,PIII,128M,R 1.5.1)

Is the issue with the way I used sapply?  Is there a better way to do this?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug  2 22:30:54 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 2 Aug 2002 21:30:54 +0100 (BST)
Subject: [R] avoiding "for()" loops:  a question?
In-Reply-To: <Springmail.0994.1028319132.0.74939100@webmail.pas.earthlink.net>
Message-ID: <Pine.LNX.4.31.0208022127550.701-100000@gannet.stats>

On Fri, 2 Aug 2002,  Brett Magill wrote:

> I have read in several places that one should attempt to avoid for loops
> whenever possible.  In this spirit, I was playing with some code that I have
> written to improve its efficiency and elegance.

It's much less true in (current) R than in some other S implementations.
(S-PLUS 3.0 to 3.3 in particular.)

> The following iteratively drops a column from a data frame and applies a
> function to the reminaing columns.  I replaced this for loop:
>
> for (y in 1:dim(x)[2])  my.function (x[,-y])

That doesn't actually do anything unless my.function has side effects
(very undesirable).

> with this:
>
> sapply(1:dim(x)[2], function(y) my.function (x[,-y] ))

That returns a result.

> in an attempt to aviod "for()".
>
> However, using system.time() to compare performance of the two functions shows
> no difference in performance over 30 trials with each function on a 500 X 24
> matrix (any edge seems in favor of the for loop).  (Win 98,PIII,128M,R 1.5.1)
>
> Is the issue with the way I used sapply?  Is there a better way to do this?

See `S Programming' for some real examples in different S dialects,
including R from 1999.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Fri Aug  2 22:31:29 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Fri, 2 Aug 2002 16:31:29 -0400 
Subject: [R] Means of Monte Carlo simulated lists
Message-ID: <D7A3CFD7825BD6119B880002A58F06C20149CE37@groexmb02.pfizer.com>

If you simply want an overall average of all the values do:

	mean( unlist( sim.theta ) )

If you want something else, you'll have to describe what you need more
clearly.

-Greg



> -----Original Message-----
> From: Giovanni Petris [mailto:GPetris at uark.edu]
> Sent: Friday, August 02, 2002 1:05 PM
> To: R-help
> Subject: [R] Means of Monte Carlo simulated lists
> 
> 
> 
> Hello,
> 
> I am doing simulations, and I generate a list at each iteration (with
> three component matrices in the example below), saving the results in
> a list. For example, after two iterations, I have something like
> 
> > str(sim.theta)
> List of 2
>  $ :List of 3
>   ..$ : num [1:6, 1:4]  -3.67  -1.07  -2.99 -18.38  -3.26 ...
>   ..$ : num [1:6, 1:6] -7.56 -3.14 -4.99  1.03  2.79 ...
>   ..$ : num [1:6, 1:4]  -0.506   2.802   1.879 -13.457  -3.172 ...
>  $ :List of 3
>   ..$ : num [1:6, 1:4]  9.664 17.242 13.555 -0.368 16.426 ...
>   ..$ : num [1:6, 1:6] 10.54  8.97 10.89 10.76  8.81 ...
>   ..$ : num [1:6, 1:4]  4.40 10.58 12.00  1.00  7.71 ...
> 
> Could anybody tell me what is an efficient way of computing the
> averages of the simulated values?
> 
> Thank you in advance,
> Giovanni
> 
> -- 
> 
>  __________________________________________________
> [                                                  ]
> [ Giovanni Petris                 GPetris at uark.edu ]
> [ Department of Mathematical Sciences              ]
> [ University of Arkansas - Fayetteville, AR 72701  ]
> [ Ph: (479) 575-6324, 575-8630 (fax)               ]
> [ http://definetti.uark.edu/~gpetris/              ]
> [__________________________________________________]
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Fri Aug  2 22:57:25 2002
From: s-luppescu at uchicago.edu (Stuart Luppescu)
Date: 02 Aug 2002 15:57:25 -0500
Subject: [R] I know this is wrong, but why?
Message-ID: <1028321845.20680.105.camel@musuko.uchicago.edu>

My mind has become corrupted by having to use SAS too much. I wanted to
calculate the difference of elements of two vectors if the signs are the
same. I tried it the corrupted way first:

if (effects1[,3] < 0 & effects0[,3] < 0) {
  imprv1 <- effects0[,3] - effects1[,3]
} else  if  (effects1[,3] > 0 & effects0[,3] > 0) {
  imprv1 <- effects1[,3] - effects0[,3]
} else {
  imprv1 <- NA

Then I realized it was giving me wrong results, (for one thing, I was
getting no NAs) and I should be doing it ``The R Way'' like this:

imprv1 <- rep(NA, 267)
imprv1[effects1[,3] < 0 & effects0[,3] < 0] <-  effects0[,3] - \
effects1[,3]
imprv1[effects1[,3] > 0 & effects0[,3] > 0] <-  effects1[,3] - \
effects0[,3]

But what I don't understand is why the first method doesn't work, or at
least why it didn't give me any warning or error messages. Can someone
enlighten me?

(I'm running R 1.5.1 on RedHat Linux 7.3 (intel).)
-- 
Stuart Luppescu -=- s-luppescu at uchicago.edu        
University of Chicago -=- CCSR 
$B:MJ8$HCRF`H~$NIc(B -=-    Kernel 2.4.19-pre10-xf                
People don't usually make the same mistake twice --
 they make it three times, four time, five times...
 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 240 bytes
Desc: This is a digitally signed message part
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020802/fe2f8a7b/attachment.bin

From tlumley at u.washington.edu  Fri Aug  2 23:37:22 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 2 Aug 2002 14:37:22 -0700 (PDT)
Subject: [R] I know this is wrong, but why?
In-Reply-To: <1028321845.20680.105.camel@musuko.uchicago.edu>
Message-ID: <Pine.A41.4.44.0208021433170.122192-100000@homer33.u.washington.edu>

On 2 Aug 2002, Stuart Luppescu wrote:

> My mind has become corrupted by having to use SAS too much. I wanted to
> calculate the difference of elements of two vectors if the signs are the
> same. I tried it the corrupted way first:
>
> if (effects1[,3] < 0 & effects0[,3] < 0) {
>   imprv1 <- effects0[,3] - effects1[,3]
> } else  if  (effects1[,3] > 0 & effects0[,3] > 0) {
>   imprv1 <- effects1[,3] - effects0[,3]
> } else {
>   imprv1 <- NA
>
<snip>
> But what I don't understand is why the first method doesn't work, or at
> least why it didn't give me any warning or error messages. Can someone
> enlighten me?

Because if() isn't vectorised.  Eg
> if (1:10<5) "a" else "b"
 [1] "a"

Only the first element is used.

I would have thought there was a good case for a warning here, and I
remember seeing one in the past (though it may have been in S-PLUS 3.x in
the pre-R past).

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Aug  2 23:41:08 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Aug 2002 23:41:08 +0200
Subject: [R] I know this is wrong, but why?
In-Reply-To: <1028321845.20680.105.camel@musuko.uchicago.edu>
References: <1028321845.20680.105.camel@musuko.uchicago.edu>
Message-ID: <x2heidhrbf.fsf@biostat.ku.dk>

Stuart Luppescu <s-luppescu at uchicago.edu> writes:

> My mind has become corrupted by having to use SAS too much. I wanted to
> calculate the difference of elements of two vectors if the signs are the
> same. I tried it the corrupted way first:
> 
> if (effects1[,3] < 0 & effects0[,3] < 0) {
>   imprv1 <- effects0[,3] - effects1[,3]
> } else  if  (effects1[,3] > 0 & effects0[,3] > 0) {
>   imprv1 <- effects1[,3] - effects0[,3]
> } else {
>   imprv1 <- NA
> 
> Then I realized it was giving me wrong results, (for one thing, I was
> getting no NAs) and I should be doing it ``The R Way'' like this:
> 
> imprv1 <- rep(NA, 267)
> imprv1[effects1[,3] < 0 & effects0[,3] < 0] <-  effects0[,3] - \
> effects1[,3]
> imprv1[effects1[,3] > 0 & effects0[,3] > 0] <-  effects1[,3] - \
> effects0[,3]
> 
> But what I don't understand is why the first method doesn't work, or at
> least why it didn't give me any warning or error messages. Can someone
> enlighten me?

The main thing is that R generally deals in entire vectors and that
if-statements will only make one decision, never do one thing for some
elements and something else for the rest. In  if (effects1[,3] < 0 &
effects0[,3] < 0)  the condition is a vector. but only the first
element is used, as in 

> X <- c(T,T,F)
> if (X) X else !X
[1]  TRUE  TRUE FALSE
> X <- c(F,T,F)
> if (X) X else !X
[1]  TRUE FALSE  TRUE

for by-element decisions consider ifelse(), or, as you did, indexing.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vkhurana at noaa.gov  Sat Aug  3 00:08:28 2002
From: vkhurana at noaa.gov (Vikram Khurana)
Date: Fri, 02 Aug 2002 12:08:28 -1000
Subject: [R] R to Oracle via RODBC
Message-ID: <3D4B02DC.3010104@noaa.gov>

Howdy,

I'm trying to use R to access Oracle 8i using the RODBC package On Linux 
Red Hat 7.3.
Specs
R version 1.51
Driver: Easysoft ODBC - Oracle driver
Driver Manager: unixODBC

I get the following error when trying to executing RODBC commands. Can 
anybody give me pointers as to what I'm missing or doing wrong

 > library(RODBC)
 > channel <- ("DSNName")
 > sqlQuery(channel,"select * from tableX")
Error in odbcQuery(channel, query) : NAs in foreign function call (arg 1)
In addition: Warning message:
NAs introduced by coercion
 > odbcTables(channel)
Error in odbcTables(channel) : NAs in foreign function call (arg 1)
In addition: Warning message:
NAs introduced by coercion

I am successfully able to run queries on the Oracle 8i database using 
Oracle SqlPlus and also using Easysoft's isql(which uses the odbc.ini file)

The .odbc.ini file in the root folder looks as follows:

[DSNName]
Driver        = ORACLE
Database        = ServerName
User        = userName
Password        = pwd
METADATA_ID        = 0
ENABLE_USER_CATALOG        = 1
ENABLE_SYNONYMS        = 1

Any help is very appreciated!!

Vikram


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From VBMorozov at lbl.gov  Sat Aug  3 04:38:54 2002
From: VBMorozov at lbl.gov (VBMorozov@lbl.gov)
Date: Fri, 02 Aug 2002 22:38:54 -0400
Subject: [R] variable scope
Message-ID: <8227b839e0.839e08227b@lbl.gov>

Dear R-guRus:

I would like to pass variables to a function in R in "by reference", 
e.g Fortran style.
For example, suppose I have the following code

x<-c(1:10)
y<-1
MyFunc<-function(x,y) {y<-sum(x); return(NULL)}
MyFunc(x,y)
print(y)

in this case print(y) will produce "1" instead of 55 (which is sum(x)) -
 how do I make sure that afte the function is run, y remembers the 
value that was given to it within a function ????

Of course I could always do something like 

MyFunc<-fuction(x) {return(sum(x)}; y<-MyFunc(x)

but in the real life I have a much more complex problem so I really 
would like to be able to pass variables to functions by reference.

Thank you very much,
Vladimir



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Sat Aug  3 06:14:59 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Sat, 3 Aug 2002 16:14:59 +1200 (NZST)
Subject: [R] Numerical Optimization
Message-ID: <Pine.SOL.4.21.0208031613020.7905-100000@stat1.stat.auckland.ac.nz>

Hi,

Is there a function, or package, in R that does numerical optimisations,
such as the Newton-Raphson method?

I searched through the help files and found the "optim" function, but it
does seem like it has this N-R method.

Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
Homepage: http://www.stat.auckland.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Sat Aug  3 06:21:40 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Sat, 3 Aug 2002 14:21:40 +1000 
Subject: [R] I know this is wrong, but why?
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A916531C@Roper-CV.qld.cmis.csiro.au>

Others have already replied to this pointing out that if ... else ... is a
control statement whereas ifelse(...) is the vectorized function.

Just a minor follow-up point.  The way I would do this calculation is as
follows:

imprv1 <- ifelse(effects0[, 3]*effects1[, 3] > 0,
		  sign(effects0[, 3]) * (effects1[, 3] - effects0[, 3]), 
		  NA)

I'm not suggesting that your way is any less efficient, but this way does
illustrate vectorization  a bit more explicitly as well as the "whole
object" view in a way which maximally contrasts with the SAS "line by line"
view.

Bill Venables.



>  -----Original Message-----
> From: 	Stuart Luppescu [mailto:s-luppescu at uchicago.edu] 
> Sent:	Saturday, August 03, 2002 6:57 AM
> To:	R-Help List
> Subject:	[R] I know this is wrong, but why?
> 
> My mind has become corrupted by having to use SAS too much. I wanted to
> calculate the difference of elements of two vectors if the signs are the
> same. I tried it the corrupted way first:
> 
> if (effects1[,3] < 0 & effects0[,3] < 0) {
>   imprv1 <- effects0[,3] - effects1[,3]
> } else  if  (effects1[,3] > 0 & effects0[,3] > 0) {
>   imprv1 <- effects1[,3] - effects0[,3]
> } else {
>   imprv1 <- NA
> 
> Then I realized it was giving me wrong results, (for one thing, I was
> getting no NAs) and I should be doing it ``The R Way'' like this:
> 
> imprv1 <- rep(NA, 267)
> imprv1[effects1[,3] < 0 & effects0[,3] < 0] <-  effects0[,3] - \
> effects1[,3]
> imprv1[effects1[,3] > 0 & effects0[,3] > 0] <-  effects1[,3] - \
> effects0[,3]
> 
> But what I don't understand is why the first method doesn't work, or at
> least why it didn't give me any warning or error messages. Can someone
> enlighten me?
> 
> (I'm running R 1.5.1 on RedHat Linux 7.3 (intel).)
> -- 
> Stuart Luppescu -=- s-luppescu at uchicago.edu        
> University of Chicago -=- CCSR 
> $B:MJ8$HCRF`H~$NIc(B -=-    Kernel 2.4.19-pre10-xf                
> People don't usually make the same mistake twice --
>  they make it three times, four time, five times...
>  
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Sat Aug  3 06:35:03 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Sat, 3 Aug 2002 14:35:03 +1000 
Subject: [R] variable scope
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A916531D@Roper-CV.qld.cmis.csiro.au>

Passing variables to functions "by reference" is possible, if you must, but
not recommended.  Some functions already do this, for example

	fix(myfunc)

will alter the value of `myfunc' in the present environment.  

If you can stand a piece of admittedly avuncular advice, I'd say look again
at your problem and see if you really do want to do this.  With a
programming language it is usually the case that you are better off
understanding and working within its logic and philosophy rather than trying
to make it behave in a way that you think it should.

If you still want to go through with this, you might want to look at Thomas
Lumley's article on Macros in the Programmer's Niche section of R-news a
couple of issues ago.  Using call by reference is very similar to using
macros instead of true functions.  I personally think it is both dangerous
and unnecessary, but Thomas points out that if you must it can be done
reasonably elegantly.

Sigh.

Bill Venables.

>  -----Original Message-----
> From: 	VBMorozov at lbl.gov [mailto:VBMorozov at lbl.gov] 
> Sent:	Saturday, August 03, 2002 12:39 PM
> To:	r-help at stat.math.ethz.ch
> Subject:	[R] variable scope
> 
> Dear R-guRus:
> 
> I would like to pass variables to a function in R in "by reference", 
> e.g Fortran style.
> For example, suppose I have the following code
> 
> x<-c(1:10)
> y<-1
> MyFunc<-function(x,y) {y<-sum(x); return(NULL)}
> MyFunc(x,y)
> print(y)
> 
> in this case print(y) will produce "1" instead of 55 (which is sum(x)) -
>  how do I make sure that afte the function is run, y remembers the 
> value that was given to it within a function ????
> 
> Of course I could always do something like 
> 
> MyFunc<-fuction(x) {return(sum(x)}; y<-MyFunc(x)
> 
> but in the real life I have a much more complex problem so I really 
> would like to be able to pass variables to functions by reference.
> 
> Thank you very much,
> Vladimir
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Aug  3 08:37:24 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 3 Aug 2002 07:37:24 +0100 (BST)
Subject: [R] Numerical Optimization
In-Reply-To: <Pine.SOL.4.21.0208031613020.7905-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.LNX.4.31.0208030735140.1425-100000@gannet.stats>

On Sat, 3 Aug 2002, Ko-Kang Kevin Wang wrote:

> Hi,
>
> Is there a function, or package, in R that does numerical optimisations,
> such as the Newton-Raphson method?
>
> I searched through the help files and found the "optim" function, but it
> does seem like it has this N-R method.

Right, it has better ones.  nlm() has a modified Newton method, though.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Aug  3 08:34:55 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 3 Aug 2002 07:34:55 +0100 (BST)
Subject: [R] R to Oracle via RODBC
In-Reply-To: <3D4B02DC.3010104@noaa.gov>
Message-ID: <Pine.LNX.4.31.0208030730120.1425-100000@gannet.stats>

RODBC has not been updated for R 1.5.x (and hence is in the Devel area on
CRAN.  One issue is the change in NA handling in R, but I think this is
incorrect usage.

On Fri, 2 Aug 2002, Vikram Khurana wrote:

> Howdy,
>
> I'm trying to use R to access Oracle 8i using the RODBC package On Linux
> Red Hat 7.3.
> Specs
> R version 1.51
> Driver: Easysoft ODBC - Oracle driver
> Driver Manager: unixODBC
>
> I get the following error when trying to executing RODBC commands. Can
> anybody give me pointers as to what I'm missing or doing wrong
>
>  > library(RODBC)
>  > channel <- ("DSNName")

That's not right.  It should be a call to odbcConnect.

>  > sqlQuery(channel,"select * from tableX")
> Error in odbcQuery(channel, query) : NAs in foreign function call (arg 1)
> In addition: Warning message:
> NAs introduced by coercion
>  > odbcTables(channel)
> Error in odbcTables(channel) : NAs in foreign function call (arg 1)
> In addition: Warning message:
> NAs introduced by coercion
>
> I am successfully able to run queries on the Oracle 8i database using
> Oracle SqlPlus and also using Easysoft's isql(which uses the odbc.ini file)
>
> The .odbc.ini file in the root folder looks as follows:
>
> [DSNName]
> Driver        = ORACLE
> Database        = ServerName
> User        = userName
> Password        = pwd
> METADATA_ID        = 0
> ENABLE_USER_CATALOG        = 1
> ENABLE_SYNONYMS        = 1

(Is that really correct?  You are supposed to fill in entries 2 to 4. Does
this work from a simple ODBC client?)

> Any help is very appreciated!!
>
> Vikram
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Aug  3 11:52:42 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Aug 2002 11:52:42 +0200
Subject: [R] variable scope
In-Reply-To: <E09E527B56BE2D438A3D6A246DDD27A916531D@Roper-CV.qld.cmis.csiro.au>
References: <E09E527B56BE2D438A3D6A246DDD27A916531D@Roper-CV.qld.cmis.csiro.au>
Message-ID: <x27kj8i80l.fsf@biostat.ku.dk>

Bill.Venables at cmis.csiro.au writes:

> Passing variables to functions "by reference" is possible, if you must, but
> not recommended.  Some functions already do this, for example
> 
> 	fix(myfunc)
> 
> will alter the value of `myfunc' in the present environment.  
> 
> If you can stand a piece of admittedly avuncular advice, I'd say look again
> at your problem and see if you really do want to do this.  With a
> programming language it is usually the case that you are better off
> understanding and working within its logic and philosophy rather than trying
> to make it behave in a way that you think it should.

On the other hand, it is part of the language design to make these
things possible if you must have them. And there are a few places
where things must be by reference (actually, they are "by name", I
believe) in order to keep the "everything is done with functions"
paradigm. The "<-" function is one obvious example. And of course the
access to unevaluated expressions is utilized all over, for plot
labels and in the update() mechanisms, etc.

However, Bill's point is valid. There are several places where
these facilities have been used and later regretted by the designers.

This happens especially where we attempt to be user-friendly and allow
syntax that is not really consistent with the semantics. Notice for
instance the inconsistency between help(lm) and apropos("lm") and the
non-functioning of myhelp<-function(foo){help(foo)}. The help is not a
property of the object, but of the name of the object.

Another example that has come back to haunt us several times is
lm(...,data=d,offset=foo). The problem is that we want "foo" to be
found inside "d" if present, but call-by-value semantics imply that it
is an object in the caller's scope. You really ought to pass the name
"foo" (or maybe better: quote(foo), or a formula ~foo).

Also, it is tricky to get things exactly right, for example you can
not just fix(myfamily$linkfun).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sam.and.elena at paradise.net.nz  Sat Aug  3 23:52:34 2002
From: sam.and.elena at paradise.net.nz (Sam McClatchie)
Date: Sun, 04 Aug 2002 09:52:34 +1200
Subject: [R] smcc/  make failure/ R CMD INSTALL package
Message-ID: <3D4C50A2.5080603@paradise.net.nz>

Software information:

R Version 1.5.1  (2002-06-17)
ESS 5.1.20
Emacs 21.1.1
Mozilla 1.0
Linux Mandrake 8.2

Colleagues

I am having a little trouble installing packages. Having downloaded the 
gzipped tarball of a package, put it in a /tmp directory, and using this 
command:

[root at localhost /]# R CMD INSTALL -l 'usr/lib/R/library/' 
'/home/smc/tmp/sgeostat_1.0-18.tar.gz'

I received the following error:


* Installing *source* package 'sgeostat' ...
** libs
g77   -fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586 
-fno-fast-math -fno-strength-reduce -c inplg.f -o inplg.o
make: g77: Command not found
make: *** [inplg.o] Error 127
ERROR: compilation failed for package 'sgeostat'
[root at localhost /]#

I got the same error without the -l option in R CMD. My installation of 
mandrake 8.2 was a simple upgrade from 8.1. Is there something else I 
need to install to get the make command to run correctly?

Best fishes

Sam

-- 
Sam McClatchie & Elena Turin
16A Rangimarie Way
Wadestown, Wellington
New Zealand

phone 64-04-499-3868,
cellular 025 230 7927
FAX 64-4-460-0595
                   /\
      ...>><xX(?> // \\
                 /// \\\
                //// \\\\
               ///  <?)Xx><<
              /////  \\\\\\
        ><(((?>
  >><(((?>   ...>><xX(?>O<?)Xx><<
  



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Aug  4 01:13:17 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Aug 2002 01:13:17 +0200
Subject: [R] smcc/  make failure/ R CMD INSTALL package
In-Reply-To: <3D4C50A2.5080603@paradise.net.nz>
References: <3D4C50A2.5080603@paradise.net.nz>
Message-ID: <x2y9bnh6ya.fsf@biostat.ku.dk>

Sam McClatchie <sam.and.elena at paradise.net.nz> writes:

> g77   -fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro
> -march=i586 -fno-fast-math -fno-strength-reduce -c inplg.f -o inplg.o
> make: g77: Command not found


> I got the same error without the -l option in R CMD. My installation
> of mandrake 8.2 was a simple upgrade from 8.1. Is there something else
> I need to install to get the make command to run correctly?

g77 would seem an obious candidate...

(probably in the package called gcc-g77 if it's like RedHat)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wilson at visi.com  Sun Aug  4 04:03:39 2002
From: wilson at visi.com (Tim Wilson)
Date: Sat, 3 Aug 2002 21:03:39 -0500
Subject: [R] smcc/  make failure/ R CMD INSTALL package
In-Reply-To: <3D4C50A2.5080603@paradise.net.nz>
References: <3D4C50A2.5080603@paradise.net.nz>
Message-ID: <20020804020339.GA8891@isis.visi.com>

On Sun, Aug 04, 2002 at 09:52:34AM +1200, Sam McClatchie wrote:

> * Installing *source* package 'sgeostat' ...
> ** libs
> g77   -fPIC  -O3 -fomit-frame-pointer -pipe -mcpu=pentiumpro -march=i586 
> -fno-fast-math -fno-strength-reduce -c inplg.f -o inplg.o
> make: g77: Command not found
> make: *** [inplg.o] Error 127
> ERROR: compilation failed for package 'sgeostat'
> [root at localhost /]#

You're missing the Fortran component of gcc (The GNU Compiler
Collection). You need to install the relevant RPM. I'm not sure what the
package would be called on Mandrake.

-Tim

-- 
Tim Wilson      |   Visit Sibley online:   | Check out:
Henry Sibley HS |  http://www.isd197.org   | http://www.zope.com
W. St. Paul, MN |                          | http://slashdot.org
wilson at visi.com |  <dtml-var pithy_quote>  | http://linux.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Paul_921 at msn.com  Sun Aug  4 05:25:21 2002
From: Paul_921 at msn.com (Paul Louisell)
Date: Sat, 3 Aug 2002 23:25:21 -0400
Subject: [R] Fortran DLLs
Message-ID: <DAV72j7VUkrL2qX7HQf00027fbe@hotmail.com>

Hello everyone,

I'm using R 1.5.1 on Windows.  
I chose the option 'Install Source Files' when installing R.
The code below shows my use of the command SHLIB and the error I get.
C:\R\rw1051\bin>Rcmd SHLIB C:\Stage 9 (Phase 2)\cir3int.f
'perl' is not recognized as an internal or external command,
operable program or batch file.
I'm assuming I'm missing some perl files or libraries that are needed to make either Rcmd or SHLIB work. Where do I get them and what directory do I install them to? (ci3int.f is a FORTRAN source file.)
Thanks for your help,
Paul Louisell
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020803/c863fe3b/attachment.html

From ripley at stats.ox.ac.uk  Sun Aug  4 08:57:01 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 4 Aug 2002 07:57:01 +0100 (GMT Daylight Time)
Subject: [R] Fortran DLLs
In-Reply-To: <DAV72j7VUkrL2qX7HQf00027fbe@hotmail.com>
Message-ID: <Pine.WNT.4.44.0208040754520.2824-100000@petrel>

On Sat, 3 Aug 2002, Paul Louisell wrote:

> Hello everyone,
>
> I'm using R 1.5.1 on Windows.
> I chose the option 'Install Source Files' when installing R.
> The code below shows my use of the command SHLIB and the error I get.
> C:\R\rw1051\bin>Rcmd SHLIB C:\Stage 9 (Phase 2)\cir3int.f
> 'perl' is not recognized as an internal or external command,
> operable program or batch file.
> I'm assuming I'm missing some perl files or libraries that are
needed to make either Rcmd or SHLIB work. Where do I get them and
what directory do I install them to? (ci3int.f is a FORTRAN source file.)

You are missing Perl itself.  It is all in `readme.packages'.

Also there is the advice not to use spaces in file names: you will
need to quote the path to make this work (if it will work at all).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pmj at jciconsult.com  Sun Aug  4 15:08:46 2002
From: pmj at jciconsult.com (Paul M. Jacobson)
Date: Sun, 4 Aug 2002 09:08:46 -0400
Subject: [R] Pseudo R^2 for logit - really naive question
Message-ID: <000501c23bb8$116e2e90$345c5242@p800>

I am using GLM to calculate logit models based on cross-sectional data.  I
am now down to the hard work of making the results intelligible to very
average readers.  Is there any way to calculate a psuedo analoque to the R^2
in standard linear regression for use as a purely descriptive statistic of
goodness of fit? Most of the readers of my report will be vaguely familiar
and more comfortable with R^2 than with any other regression diagnostics.

Paul M. Jacobson
Jacobson Consulting Inc.
80 Front Street East, Suite 720
Toronto, ON, M5E 1T4
Voice:  +1(416)868-1141
Farm: +1(519)463-6061/6224
Fax: +1(416)868-1131
E-mail: pmj at jciconsult.com
Web:  http://www.jciconsult.com/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Sun Aug  4 17:36:07 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Sun, 4 Aug 2002 11:36:07 -0400
Subject: [R] Pseudo R^2 for logit - really naive question
In-Reply-To: <000501c23bb8$116e2e90$345c5242@p800>
References: <000501c23bb8$116e2e90$345c5242@p800>
Message-ID: <20020804113607.392fef34.fharrell@virginia.edu>

The Nagelkerke R^2 is commonly used.   The lrm function in the Design library computes this for logistic regression.  The numerator is 1 - exp(-LR/n) where LR is the likelihood ratio chi-square stat and n is the total sample size.  Divide it by the maximum attainable value of this if the model is perfect (which is a simple function of the -2 log likelihood with an intercept-only model) to get Nagelkerke's R^2.  The numerator is exactly the ordinary R^2 in OLS, as LR = -n log(1-R^2) there.  For a more interpretable index and one that measures purely discrimination ability, the ROC area or "C index" which is essentially a Mann-Whitney statistic based on concordance probability is recommended.  The lrm function also outputs this or you can get it from the somers2 or rcorr.cens functions in the Hmisc library.

Frank Harrell

On Sun, 4 Aug 2002 09:08:46 -0400
"Paul M. Jacobson" <pmj at jciconsult.com> wrote:

> I am using GLM to calculate logit models based on cross-sectional data.  I
> am now down to the hard work of making the results intelligible to very
> average readers.  Is there any way to calculate a psuedo analoque to the R^2
> in standard linear regression for use as a purely descriptive statistic of
> goodness of fit? Most of the readers of my report will be vaguely familiar
> and more comfortable with R^2 than with any other regression diagnostics.
> 
> Paul M. Jacobson
> Jacobson Consulting Inc.
> 80 Front Street East, Suite 720
> Toronto, ON, M5E 1T4
> Voice:  +1(416)868-1141
> Farm: +1(519)463-6061/6224
> Fax: +1(416)868-1131
> E-mail: pmj at jciconsult.com
> Web:  http://www.jciconsult.com/
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cnlawren at phy.olemiss.edu  Sun Aug  4 18:23:34 2002
From: cnlawren at phy.olemiss.edu (Chris Lawrence)
Date: Sun, 4 Aug 2002 11:23:34 -0500
Subject: [R] Pseudo R^2 for logit - really naive question
In-Reply-To: <000501c23bb8$116e2e90$345c5242@p800>
References: <000501c23bb8$116e2e90$345c5242@p800>
Message-ID: <20020804162334.GA7499@phy.olemiss.edu>

On Aug 04, Paul M. Jacobson wrote:
> I am using GLM to calculate logit models based on cross-sectional data.  I
> am now down to the hard work of making the results intelligible to very
> average readers.  Is there any way to calculate a psuedo analoque to the R^2
> in standard linear regression for use as a purely descriptive statistic of
> goodness of fit? Most of the readers of my report will be vaguely familiar
> and more comfortable with R^2 than with any other regression diagnostics.

In fact, there are several "R^2-like" measures for logit and probit
models (not surprisingly, called "pseudo-R^2").  An overview is in:

"Pseudo-R Measures for Some Common Limited Dependent Variable Models"
http://citeseer.nj.nec.com/veall96pseudor.html

The Aldrich-Nelson measure appears to be the most widely used.

You may also want to consider Herron's (1999) "Expected Percent
Correctly Predicted" and related measures, described in Political
Analysis 8(1): http://web.polmeth.ufl.edu/pa/herron.pdf; even
traditional PCP/PRE measures tend to be quite informative (perhaps
even more useful than Pseudo-R^2).


Chris
-- 
Chris Lawrence <cnlawren at olemiss.edu> - http://www.lordsutch.com/chris/

Instructor and Ph.D. Candidate, Political Science, Univ. of Mississippi
208 Deupree Hall - 662-915-5765
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From huang at stats.ox.ac.uk  Sun Aug  4 18:38:55 2002
From: huang at stats.ox.ac.uk (Huan Huang)
Date: Sun, 4 Aug 2002 17:38:55 +0100
Subject: [R] Incomplete Principal Component Regression
References: <000501c23bb8$116e2e90$345c5242@p800> <20020804162334.GA7499@phy.olemiss.edu>
Message-ID: <001301c23bd5$6f95db40$a91401a3@stats.ox.ac.uk>

Dear list

My data frame has serious collinearity problem. I want to try the Incomplete
Principal Component Regression, introduced by "Regression Analysis" by
Rudolf j. Freund and William J. Wilson (1998). I wonder if I can find a
function in R or S-plus to do it.

Thanks a lot!

Huan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Sun Aug  4 19:47:02 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Sun, 4 Aug 2002 13:47:02 -0400
Subject: [R] Pseudo R^2 for logit - really naive question
In-Reply-To: <20020804162334.GA7499@phy.olemiss.edu>
References: <000501c23bb8$116e2e90$345c5242@p800>
	<20020804162334.GA7499@phy.olemiss.edu>
Message-ID: <20020804134702.18cb3cda.fharrell@virginia.edu>

On Sun, 4 Aug 2002 11:23:34 -0500
Chris Lawrence <cnlawren at phy.olemiss.edu> wrote:

> On Aug 04, Paul M. Jacobson wrote:
> > I am using GLM to calculate logit models based on cross-sectional data.  I
> > am now down to the hard work of making the results intelligible to very
> > average readers.  Is there any way to calculate a psuedo analoque to the R^2
> > in standard linear regression for use as a purely descriptive statistic of
> > goodness of fit? Most of the readers of my report will be vaguely familiar
> > and more comfortable with R^2 than with any other regression diagnostics.
> 
> In fact, there are several "R^2-like" measures for logit and probit
> models (not surprisingly, called "pseudo-R^2").  An overview is in:
> 
> "Pseudo-R Measures for Some Common Limited Dependent Variable Models"
> http://citeseer.nj.nec.com/veall96pseudor.html

Chris - That's a really nice paper.  I hadn't realized that the index in Nagelkerke's 1991 Biometrika paper was first proposed by Cragg and Uhler in 1970.

> 
> The Aldrich-Nelson measure appears to be the most widely used.
> 
> You may also want to consider Herron's (1999) "Expected Percent
> Correctly Predicted" and related measures, described in Political
> Analysis 8(1): http://web.polmeth.ufl.edu/pa/herron.pdf; even
> traditional PCP/PRE measures tend to be quite informative (perhaps
> even more useful than Pseudo-R^2).

Percent correctly predicted has a host of problems, only some of which were pointed out in the above article.  This is an improper scoring rule (is not optimized when predicted probabilities are correct and its value can decrease when an important regressor is added to a model; see also http://hesweb1.med.virginia.edu/biostat/presentations/probclin.pdf).  The paper also did not reference the large literature on scoring rules for dichotomous outcomes (see e.g. work by Habbema and Hilden in the medical diagnostic literature and many papers on the Brier score and its decompositions).

Frank Harrell
> 
> 
> Chris
> -- 
> Chris Lawrence <cnlawren at olemiss.edu> - http://www.lordsutch.com/chris/
> 
> Instructor and Ph.D. Candidate, Political Science, Univ. of Mississippi
> 208 Deupree Hall - 662-915-5765
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sg264 at columbia.edu  Mon Aug  5 04:06:11 2002
From: sg264 at columbia.edu (Sangeeta Goyal)
Date: Sun, 4 Aug 2002 21:06:11 -0500
Subject: No subject
Message-ID: <006b01c23c24$abf2cae0$7dca27a0@columbia.edu>

Hello,

I downloaded R today because I was told it has very good bootstrapping
abilities. What I need to do is to program it (or use an existing program)
to bootstrapping test for multimodality using nonparametric kernel density
estimates as proposed by Efron and Tibshirani (1993). If anyone can get me
started, I will be immensely grateful.

Thanks.
Sangeeta


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Mon Aug  5 04:20:29 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Sun, 4 Aug 2002 19:20:29 -0700 (PDT)
Subject: [R] Re: your mail
In-Reply-To: <006b01c23c24$abf2cae0$7dca27a0@columbia.edu>
Message-ID: <Pine.GSO.4.10.10208041917420.4885-100000@quetelet.stat.ucla.edu>

There are good PDF manuals from the CRAN website
http://cran.us.r-project.org.  For example, "An Introduction to R" may be
a good place to start.  Also, you may want to obtain a copy (from the
library or wherever) of Boostrap Methods and their Applications by Davison
and Hinkley, which covers the 'boot' library (which most likely came with
your R distribution).

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Sun, 4 Aug 2002, Sangeeta Goyal wrote:

> Hello,
> 
> I downloaded R today because I was told it has very good bootstrapping
> abilities. What I need to do is to program it (or use an existing program)
> to bootstrapping test for multimodality using nonparametric kernel density
> estimates as proposed by Efron and Tibshirani (1993). If anyone can get me
> started, I will be immensely grateful.
> 
> Thanks.
> Sangeeta
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From daver969 at mac.com  Mon Aug  5 04:31:16 2002
From: daver969 at mac.com (David Richmond)
Date: Sun, 4 Aug 2002 19:31:16 -0700
Subject: [R] filename of source file
Message-ID: <6B0324C7-A81B-11D6-9601-00039309AF8E@mac.com>

Hi
	Is there a command which will return the complete pathname of the 
file from which the current source is being read? I want something which 
can be inserted into any .r file and it will be able to ascertain 
exactly where it is, so that it can save data to the same directory, no 
matter where it is, regardless of what the current working directory is.

Dave Richmond
daver969 at mac.com
------------------------------------------------------
"It works on a complex scientific principle
known as pot luck." - The Doctor

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From daver969 at mac.com  Mon Aug  5 07:25:15 2002
From: daver969 at mac.com (David Richmond)
Date: Sun, 4 Aug 2002 22:25:15 -0700
Subject: [R] filename of source file
In-Reply-To: <002e01c23c3e$4c4d52d0$67e86682@cheque.uq.edu.au>
Message-ID: <B926A830-A833-11D6-9601-00039309AF8E@mac.com>

Yes, source refers to the use of the source() function. Suppose I invoke 
a file like so:

source("/path/name/filename.r")

I want to insert a command in filename.r like so:

fullpath <- magic_command()

such that fullpath is now "/path/name/filename.r"

In other words, I want filename.r to be able to figure out where it is, 
regardless of where I put it, so that it can save all its output in the 
same directory.

dave r


On Sunday, August 4, 2002, at 10:09 PM, Andrew C. Ward wrote:

> Dave,
>
> You may like to give an example usage since I'm not 100% sure what you 
> wish
> to achieve. Does "current source" refer to the source() command, to
> read.table(),
> or to something else?
>
> You may like to create a variable save.dir in your .Rprofile or in your
> working
> session that points to the folder you want everything saved in.
>
> Regards,
>
> Andrew C. Ward
>
> CAPE Centre,
> The University of Queensland
> Brisbane Qld 4072 Australia
> andreww at cheque.uq.edu.au
>
> ----- Original Message -----
> From: David Richmond <daver969 at mac.com>
> To: <r-help at stat.math.ethz.ch>
> Sent: Monday, August 05, 2002 12:31 PM
> Subject: [R] filename of source file
>
>
>> Hi
>> Is there a command which will return the complete pathname of the
>> file from which the current source is being read? I want something 
>> which
>> can be inserted into any .r file and it will be able to ascertain
>> exactly where it is, so that it can save data to the same directory, no
>> matter where it is, regardless of what the current working directory 
>> is.
>>
>> Dave Richmond
>> daver969 at mac.com
>> ------------------------------------------------------
>> "It works on a complex scientific principle
>> known as pot luck." - The Doctor
>>
>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
>> -.
> -.-.-
>> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>> Send "info", "help", or "[un]subscribe"
>> (in the "body", not the subject !)  To: r-help-
>> request at stat.math.ethz.ch
>>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andreww at cheque.uq.edu.au  Mon Aug  5 07:35:14 2002
From: andreww at cheque.uq.edu.au (Andrew C. Ward)
Date: Mon, 5 Aug 2002 15:35:14 +1000
Subject: [R] filename of source file
References: <B926A830-A833-11D6-9601-00039309AF8E@mac.com>
Message-ID: <004b01c23c41$dffd5ea0$67e86682@cheque.uq.edu.au>

If you use the chdir argument to source(), this will tell your .r file to
work in that directory (including writing output to files). For example,
if you have a file called test.r in c:/tmp that contains the commands
        my.test <- sample(1:5, 100, replace=TRUE)
        write.table(my.test, "test.out")
you can call it using
        > source("c:/temp/test.r", chdir=TRUE)
after which there will be a file in c:/temp called test.out.

Does this achieve what you want?


Regards,

Andrew C. Ward

CAPE Centre,
The University of Queensland
Brisbane Qld 4072 Australia
andreww at cheque.uq.edu.au

----- Original Message -----
From: David Richmond <daver969 at mac.com>
To: Andrew C. Ward <andreww at cheque.uq.edu.au>
Cc: <r-help at hypatia.math.ethz.ch>
Sent: Monday, August 05, 2002 3:25 PM
Subject: Re: [R] filename of source file


> Yes, source refers to the use of the source() function. Suppose I invoke
> a file like so:
>
> source("/path/name/filename.r")
>
> I want to insert a command in filename.r like so:
>
> fullpath <- magic_command()
>
> such that fullpath is now "/path/name/filename.r"
>
> In other words, I want filename.r to be able to figure out where it is,
> regardless of where I put it, so that it can save all its output in the
> same directory.
>
> dave r
>
>
> On Sunday, August 4, 2002, at 10:09 PM, Andrew C. Ward wrote:
>
> > Dave,
> >
> > You may like to give an example usage since I'm not 100% sure what you
> > wish
> > to achieve. Does "current source" refer to the source() command, to
> > read.table(),
> > or to something else?
> >
> > You may like to create a variable save.dir in your .Rprofile or in your
> > working
> > session that points to the folder you want everything saved in.
> >
> > Regards,
> >
> > Andrew C. Ward
> >
> > CAPE Centre,
> > The University of Queensland
> > Brisbane Qld 4072 Australia
> > andreww at cheque.uq.edu.au
> >
> > ----- Original Message -----
> > From: David Richmond <daver969 at mac.com>
> > To: <r-help at stat.math.ethz.ch>
> > Sent: Monday, August 05, 2002 12:31 PM
> > Subject: [R] filename of source file
> >
> >
> >> Hi
> >> Is there a command which will return the complete pathname of the
> >> file from which the current source is being read? I want something
> >> which
> >> can be inserted into any .r file and it will be able to ascertain
> >> exactly where it is, so that it can save data to the same directory, no
> >> matter where it is, regardless of what the current working directory
> >> is.
> >>
> >> Dave Richmond
> >> daver969 at mac.com
> >> ------------------------------------------------------
> >> "It works on a complex scientific principle
> >> known as pot luck." - The Doctor
> >>
>
>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> >> -.
> > -.-.-
> >> r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >> Send "info", "help", or "[un]subscribe"
> >> (in the "body", not the subject !)  To: r-help-
> >> request at stat.math.ethz.ch
> >>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Mon Aug  5 07:44:48 2002
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Mon, 5 Aug 2002 07:44:48 +0200
Subject: [R] Problems when building R with gnome support (Mandrake Linux)
Message-ID: <OF0BC6D0F3.64AC4B98-ONC1256C0C.001F4FBD@eurotel.cz>

Hi R-Community,

I faced problems when building R 1.5.1 from sources on i686-linux-gnu
(Mandrake Linux 8.2)
_with gnome support_

After running configure:

./configure --with-x --x-includes=/usr/X11R6/include
--x-libraries=/usr/X11R6/lib --with-gnome
--with-gnome-includes=/usr/include/gnome-1.0
--with-gnome-libs=/usr/lib/gnome-libs --with-readline

R is configured this way:
---
R is now configured for i686-pc-linux-gnu

  Source directory:          .
  Installation directory:    /usr/local
  C compiler:                gcc  -D__NO_MATH_INLINES -mieee-fp -g -O2
  C++ compiler:              g++  -mieee-fp -g -O2
  FORTRAN compiler:          g77  -g -O2

  X11 support:               yes
  Gnome support:             no
  Tcl/Tk support:            yes
  Readline support:          yes

  R profiling support:       yes
  R as a shared library:     no

configure: WARNING: GNOME support requires libglade version >= 0.3
---

where the rows given by configure are:

checking for libglade-config... no
checking for libglade... no

But there IS libglade RMP installed with .so needed:
RPM libglade0-0.17-2mdk
provides
/usr/lib/libglade.so.0.4.2
/usr/lib/libglade.so.0

therefore there is libglade version >=0.3.

The same problem occurs even when I try --with-gnome-libs=/usr/lib

Should I change some compile flags?
How can I tell configure to take into account /usr/lib/libglade.so.0.4.2 ?
Should I modify config.site?
Am I doing something completely wrong?

TIA,
Jan

PS: I know about RPM for Mandrake on CRAN, but I try to install R from
sources.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kriskumar at mailandnews.com  Mon Aug  5 08:40:04 2002
From: kriskumar at mailandnews.com (krishna kumar)
Date: Sun, 04 Aug 2002 23:40:04 -0700
Subject: [R] Modified ARMA function
Message-ID: <3D4E1DC4.A3B2B445@mailandnews.com>

 R-guRus ,

ARMA function in tseries,  seems to be calculating the AR coeff 's as

 coef <- lm(xx[,1]~xx[,lag$ar+1])$coef    [*snipped* from around  line
77,]

I'd like to  modify this model with another term somewhat in these lines

lm(xx[,1] ~xx[,lag$ar+1]+mvgsignal)$coef

where mvgsignal is a moving average signal based on some indicators, the
question
is could i simply hack into tseries and do this and hope all is well ,
is there a cleaner
way of specifying arbitrary parameters (additions) to GARCH and other
estimators?.

Please enlighten.

thanks in advance,

Krishna




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Mon Aug  5 09:11:07 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Mon, 5 Aug 2002 19:11:07 +1200
Subject: [R] Fortran DLLs
Message-ID: <001e01c23c4f$458b1160$bb2658db@kwan022>

I think I sent this with HTML turned on in Outlook Express and it got
bounced back.

My apologies...

1) Have you installed a Perl interpreter?  If not, ActivePerl may be a good
one to get:
http://www.activestate.com/Products/Download/Get.plex?id=ActivePerl

2) If you have Perl installed, is its bin directory in your PATH variable?

Cheers,

Kevin

------------------------------------------------
Ko-Kang Kevin Wang
Post Graduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
www.stat.auckand.ac.nz/~kwan022
----- Original Message -----
From: Paul Louisell
To: R-help at stat.math.ethz.ch
Sent: Sunday, August 04, 2002 3:25 PM
Subject: [R] Fortran DLLs


Hello everyone,

I'm using R 1.5.1 on Windows.
I chose the option 'Install Source Files' when installing R.
The code below shows my use of the command SHLIB and the error I get.
C:\R\rw1051\bin>Rcmd SHLIB C:\Stage 9 (Phase 2)\cir3int.f
'perl' is not recognized as an internal or external command,
operable program or batch file.
I'm assuming I'm missing some perl files or libraries that are needed to
make either Rcmd or SHLIB work. Where do I get them and what directory do I
install them to? (ci3int.f is a FORTRAN source file.)
Thanks for your help,
Paul Louisell


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Mon Aug  5 10:46:16 2002
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Mon, 5 Aug 2002 10:46:16 +0200
Subject: [R] Problems when building R with gnome support (Mandrake Linux)
In-Reply-To: <OF0BC6D0F3.64AC4B98-ONC1256C0C.001F4FBD@eurotel.cz>
References: <OF0BC6D0F3.64AC4B98-ONC1256C0C.001F4FBD@eurotel.cz>
Message-ID: <20020805084616.GA28897@giraffa.cbs.dtu.dk>

On Mon, Aug 05, 2002 at 07:44:48AM +0200, Jan_Svatos at eurotel.cz wrote:
> Hi R-Community,
> 
> I faced problems when building R 1.5.1 from sources on i686-linux-gnu
> (Mandrake Linux 8.2)
> _with gnome support_
> 
> After running configure:
> 
> ./configure --with-x --x-includes=/usr/X11R6/include
> --x-libraries=/usr/X11R6/lib --with-gnome
> --with-gnome-includes=/usr/include/gnome-1.0
> --with-gnome-libs=/usr/lib/gnome-libs --with-readline
> 
> R is configured this way:
> ---
> R is now configured for i686-pc-linux-gnu
> 
>   Source directory:          .
>   Installation directory:    /usr/local
>   C compiler:                gcc  -D__NO_MATH_INLINES -mieee-fp -g -O2
>   C++ compiler:              g++  -mieee-fp -g -O2
>   FORTRAN compiler:          g77  -g -O2
> 
>   X11 support:               yes
>   Gnome support:             no
>   Tcl/Tk support:            yes
>   Readline support:          yes
> 
>   R profiling support:       yes
>   R as a shared library:     no
> 
> configure: WARNING: GNOME support requires libglade version >= 0.3
> ---
> 
> where the rows given by configure are:
> 
> checking for libglade-config... no
> checking for libglade... no
> 
> But there IS libglade RMP installed with .so needed:
> RPM libglade0-0.17-2mdk
> provides
> /usr/lib/libglade.so.0.4.2
> /usr/lib/libglade.so.0
> 
> therefore there is libglade version >=0.3.



...but you may need some abc-devel rpms too...
you do have libglade0-devel installed, don't you ?



> 
> The same problem occurs even when I try --with-gnome-libs=/usr/lib

I built R on Mandrake 8.2 and I did not have to specify the path...
I think the problem comes from missing '.h' files...

> 
> Should I change some compile flags?
> How can I tell configure to take into account /usr/lib/libglade.so.0.4.2 ?
> Should I modify config.site?
> Am I doing something completely wrong?
> 
> TIA,
> Jan
> 
> PS: I know about RPM for Mandrake on CRAN, but I try to install R from
> sources.
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
--------------------------------------------------------------
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			DK-2800 Lyngby,Denmark	
tel: +45 45 25 24 89		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marwan.khawaja at aub.edu.lb  Mon Aug  5 17:50:15 2002
From: marwan.khawaja at aub.edu.lb (Marwan Khawaja)
Date: Mon, 5 Aug 2002 08:50:15 -0700
Subject: [R] Dotplot
Message-ID: <CLECJBOEBGOMOKJHJNDACEOGCGAA.marwan.khawaja@aub.edu.lb>

Hello,
I am using Dotplot (from Frank Harrell's HMISC library) to make a graph of rates
with confidence intervals but I get a 'black' background -- nice but not on a
printed document:

>Dotplot(group~Cbind(rate,lower,upper)|mortality,data=mort,ylab=' ')

How do I change the background (and other) collors in Dotplot?
Thanks for you help.
Marwan Khawaja

platform i386-pc-mingw32
arch     i386
os       mingw32
system   i386, mingw32
status
major    1
minor    5.0
year     2002
month    04
day      29
language R

--------------------------------------------------------------------------------
--------------------------------------------------------
Marwan Khawaja   -   http://webfaculty.aub.edu.lb/~mk36/     If you have MS
Internet Explorer!
--------------------------------------------------------------------------------
--------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Aug  5 09:56:14 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 5 Aug 2002 09:56:14 +0200
Subject: [R] typsize and fscale arguments to nlm
In-Reply-To: <5.1.0.14.2.20020722184114.01d77530@mcmail.cis.mcmaster.ca>
References: <5.1.0.14.2.20020722184114.01d77530@mcmail.cis.mcmaster.ca>
Message-ID: <15694.12190.174621.624259@gargle.gargle.HOWL>


nobody seems to have answered this on R-help.
>>>>> "John" == John Fox <jfox at mcmaster.ca> writes
on July 22 :

    John> Dear R list members, I have a question about the
    John> proper use of the typsize and fscale arguments to nlm.

    John> I use nlm in my sem package to fit general
    John> structural-equation models, which entails maximizing a
    John> multinormal likelihood with respect to parameters that
    John> represent regression coefficients and covariances of
    John> variables. The magnitudes of these parameters can be
    John> very different.

    John> The documentation for typsize is rather terse: "an
    John> estimate of the size of each parameter at the
    John> minimum," with the default typsize=rep(1, length(p))
    John> [where length(p) gives the number of parameters]. Am I
    John> correct in interpreting the "size of each parameter"
    John> as its absolute values?

yes ``typical absolute values''

    John> as its absolute values? If so, is it reasonable to
    John> specify typsize=abs(start), where start contains that
    John> start values of the parameters? 
Yes -- unless some `start[j]' is ``untypically'' close to zero ..

    John> I can compute start values that have generally
    John> reasonable magnitudes (certainly more generally
    John> reasonable than assuming that all parameters are of
    John> the same magnitude) and that will never be identically
    John> 0. A related question is whether typsize specifies the
    John> relative or absolute "sizes" of the parameters.

absolute.

Note that R is open source and (if you don't have the references
that help(nlm) mentions) you can always read the source code.
In this case, the really relevant things are in src/appl/uncmin.c
whose optif9() is called from  do_nlm() in  src/main/optimimze.c}.
Note that "typsize" is "typsiz" in the C code (since that is
translated from Fortran which had a 6-letter limitation).

Typical lines in uncmin.c are

   1788:	gs = fmax2(fabs(f), fscale) / fmax2(fabs(x[i]), typsiz[i]);

   1858:	hs = fmax2(fabs(g[j]), 1.0) / fmax2(fabs(x[j]), typsiz[j]);

where the first tells you how `fscale' is used and both show you
how the `typsize[]' vector is.


    John> Finally, there is another argument to nlm called
    John> fscale which specifies "an estimate of the size of f
    John> at the minimum" (where f is the function to be
    John> minimized -- in my case the negative
    John> log-likelihood). The default is fscale=1. In
    John> experimenting with nlm I've found that using
    John> typsize=abs(start) appears to make my sem function
    John> more robust (e.g., less sensitive to start values when
    John> the parameters are of very different magnitudes), but
    John> setting fscale to the log-likelihood at the start
    John> values for the parameters seems to create problems.

    John> Any help, advice, or additional information would be
    John> appreciated. (I plan to take a look at the Dennis and
    John> Schnabel text cited in the help file for nlm but have
    John> not yet done so.)

    John> Thanks, John

You're welcome.
Could you (`in return') propose improvements to the text 
in help(nlm) ?

My answering above should really be an incentive for people 
to start reading source code....
Martin

    John> John Fox Department of Sociology McMaster University
    John> Hamilton, Ontario, Canada L8S 4M4 email:
    John> jfox at mcmaster.ca phone: 905-525-9140x23604 web:
    John> www.socsci.mcmaster.ca/jfox
    John> -----------------------------------------------------

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From julien.ruiz at airfrance.fr  Mon Aug  5 11:21:35 2002
From: julien.ruiz at airfrance.fr (julien.ruiz@airfrance.fr)
Date: Mon, 5 Aug 2002 11:21:35 +0200
Subject: [R] Structural TS and recursive estimation
Message-ID: <OF7013A897.63F3A2A8-ONC1256C0C.002E510D@fr>

Hello everyone,

Since my question is quite theorical, I am not sure whether it is the right
place to ask, but anyway...
I am working on time series and I looked at some way to fit my data through
arima models.
Since these data are updated frequently, I was looking at a way to update
the model "on line" (to get a kind of recursive estimation)
So the next step was to express the arima models as state-space
(structural) models.
The idea was to use the recursive formulaes of a Kalman Filter, in order to
get an estimation of the kind of the recursive least square.
But it seems to me that the estimation of these structural models requires
a likelihood maximization which is not recursive.

So my question is :
In a structural model, can the likelihood maximization be done recursively
?

Upon what I read in 2 first articles of the 2/2 issue of R News, I don't
think it is done this way in R.

Thanks in advance,

      Julien




----------------

Les donnees et renseignements contenus dans ce message sont personnels, confidentiels et secrets. Ce message est adresse a l'individu ou l'entite dont les coordonnees figurent ci-dessus. Si vous n'etes pas le bon destinataire, nous vous demandons de ne pas lire, copier, utiliser ou divulguer cette communication. Nous vous prions de notifier cette erreur a l'expediteur et d'effacer immediatement cette communication de votre systeme.

The information contained in this message is privileged, confidential, and protected from disclosure. This message is intended for the individual or entity adressed herein. If you are not the intended recipient, please do not read, copy, use or disclose this communication to others ;also please notify the sender by replying to this message, and then delete it from your system.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug  5 11:36:23 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 5 Aug 2002 10:36:23 +0100 (BST)
Subject: [R] Structural TS and recursive estimation
In-Reply-To: <OF7013A897.63F3A2A8-ONC1256C0C.002E510D@fr>
Message-ID: <Pine.LNX.4.31.0208051032400.23422-100000@gannet.stats>

On Mon, 5 Aug 2002 julien.ruiz at airfrance.fr wrote:

> Since my question is quite theorical, I am not sure whether it is the right
> place to ask, but anyway...
> I am working on time series and I looked at some way to fit my data through
> arima models.
> Since these data are updated frequently, I was looking at a way to update
> the model "on line" (to get a kind of recursive estimation)
> So the next step was to express the arima models as state-space
> (structural) models.
> The idea was to use the recursive formulaes of a Kalman Filter, in order to
> get an estimation of the kind of the recursive least square.
> But it seems to me that the estimation of these structural models requires
> a likelihood maximization which is not recursive.
>
> So my question is :
> In a structural model, can the likelihood maximization be done recursively
> ?
>
> Upon what I read in 2 first articles of the 2/2 issue of R News, I don't
> think it is done this way in R.

1) ARIMA fitting *is* done via state-space models, but structural models
are something different.

2) You can't (in general) do ML estimation of the parameters of a
state-space model recursively.  Nor is that what recursive least squares
estimates.

For more details, see the references in the article you mention,
especially the Durbin & Koopman book.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Aug  5 12:02:30 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 5 Aug 2002 12:02:30 +0200
Subject: [R] Re: [S] Multinomial
In-Reply-To: <sd4e435c.053@rauzen.rau.ac.za>
References: <sd4e435c.053@rauzen.rau.ac.za>
Message-ID: <15694.19766.94835.940922@gargle.gargle.HOWL>

>>>>> "Jacob" == Jacob van Wyk <jlvw at rau.ac.za> writes:

    Jacob> Could anybody please help: I simply want to generate
    Jacob> random samples from a multinomial distribution with
    Jacob> fixed n and given probability vector p.

    Jacob> How can I do this?

I've recently written the following {for the R package "normix"}.  
The above is really a FAQ.
I think I'd propose to adopt this (or an improvement of it) both
for R and S-plus :

  ## This is based on rmultz2() from S-news by Alan Zaslavsky & Scott Chasalow
  ## {and adapted from the R package "combinat"}.
  ## Arg.names like  rbinom();  returns  n x p matrix

  rmultinom <- function(n, size, prob) {
      K <- length(prob) # #{classes}
      matrix(tabulate(sample(K, n * size, repl = TRUE, prob) + K * 0:(n - 1),
		      nbins = n * K),
	     nrow = n, ncol = K, byrow = TRUE)
  }


Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mditzen at zedat.fu-berlin.de  Mon Aug  5 12:21:41 2002
From: mditzen at zedat.fu-berlin.de (Mathias Ditzen)
Date: Mon, 5 Aug 2002 12:21:41 +0200
Subject: [R] How to get p-values 
Message-ID: <200208051221.41646.mditzen@zedat.fu-berlin.de>

Hello all there,
I want to reimplement (for my personal, still very limited understanding of 
statistics) the linear regression. Now how do I get the correct values for F 
and T distributions (something like F.05[1,2], where 1 and 2 are degrees of 
freedom)? I tried dt and df, but the values I got were not correct. 
Thank you very much in advance,
Mathias Ditzen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Aug  5 12:36:14 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Aug 2002 12:36:14 +0200
Subject: [R] How to get p-values
In-Reply-To: <200208051221.41646.mditzen@zedat.fu-berlin.de>
References: <200208051221.41646.mditzen@zedat.fu-berlin.de>
Message-ID: <x2hei9vbhd.fsf@biostat.ku.dk>

Mathias Ditzen <mditzen at zedat.fu-berlin.de> writes:

> Hello all there,
> I want to reimplement (for my personal, still very limited understanding of 
> statistics) the linear regression. Now how do I get the correct values for F 
> and T distributions (something like F.05[1,2], where 1 and 2 are degrees of 
> freedom)? I tried dt and df, but the values I got were not correct. 
> Thank you very much in advance,
> Mathias Ditzen

Functions to give p values all start with p: pf and pt. Be careful to
note that they give the lower tail of the respective distributions. To
get an upper tail, subtract from 1 (or use lower.tail=FALSE). To get
two-tailed tests add both tails together (which is often the same as
multiplying by two).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Mon Aug  5 13:27:09 2002
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Mon, 5 Aug 2002 21:27:09 +1000
Subject: [R] filename of source file
In-Reply-To: <B926A830-A833-11D6-9601-00039309AF8E@mac.com>
References: <B926A830-A833-11D6-9601-00039309AF8E@mac.com>
Message-ID: <20020805112033.UDPJ26045.mta09.mail.mel.aone.net.au@there>

David Richmond wrote:
> Yes, source refers to the use of the source() function. Suppose I invoke
> a file like so:
>
> source("/path/name/filename.r")
>
> I want to insert a command in filename.r like so:
>
> fullpath <- magic_command()
>
> such that fullpath is now "/path/name/filename.r"
>

How about

source(fullpath<-"/path/name/filename.r") ?

Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From huang at stats.ox.ac.uk  Mon Aug  5 13:24:27 2002
From: huang at stats.ox.ac.uk (Huan Huang)
Date: Mon, 5 Aug 2002 12:24:27 +0100
Subject: [R] Variance Decomposition (Variance Proportion)
References: <Pine.A41.4.44.0208020836370.75822-100000@homer40.u.washington.edu>
Message-ID: <000d01c23c72$aab8a0c0$a91401a3@stats.ox.ac.uk>

Hi, dear R

I am dealing with my dataset with strong collinearity. I want to use the
Variance Decomposition (Variance Proportion) method. There is a process in
SAS called PROC REG to do it. I wonder if I can find a function in R or
Splus to carry out as well.

Thanks a lot!

Huan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ernst-Albrecht.Welge at ptb.de  Mon Aug  5 13:34:17 2002
From: Ernst-Albrecht.Welge at ptb.de (E.A. Welge)
Date: Mon, 5 Aug 2002 13:34:17 +0200
Subject: [R] polynom Fit
Message-ID: <001101c23c74$09f4b460$0d901eac@berlin.ptb.de>

Please, I'm a beginner with the R language. I'm looking for a function to
compute a Polynomfit for simple x-y Data. Who can help?

Many Greetings
E.A. Welge

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bernhard.Pfaff at drkw.com  Mon Aug  5 14:36:35 2002
From: Bernhard.Pfaff at drkw.com (Pfaff, Bernhard)
Date: Mon, 5 Aug 2002 14:36:35 +0200 
Subject: [R] Structural TS and recursive estimation
Message-ID: <18D602BD42B7E24EB810D6454A58DB9001CADDA9@ibfftce505.is.de.dresdnerkb.com>

Hello Julien,

as I understand you correctly, you want to perform pseudo-ex ante forecasts.
In this case, you can place the data extraction (i.e. length of the sample
period) and the program code for estimation into a for-loop for pseudo ex
ante forecasting.
Therefore estimating your model recursively over a time span in the past and
writing each time the n-step ahead forecasts into another object. The latest
estimation is then carried out until: today's period - forecast span.

Bernhard 

-----Original Message-----
From: ripley at stats.ox.ac.uk [mailto:ripley at stats.ox.ac.uk]
Sent: 05 August 2002 11:36
To: julien.ruiz at airfrance.fr
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] Structural TS and recursive estimation


On Mon, 5 Aug 2002 julien.ruiz at airfrance.fr wrote:

> Since my question is quite theorical, I am not sure whether it is the
right
> place to ask, but anyway...
> I am working on time series and I looked at some way to fit my data
through
> arima models.
> Since these data are updated frequently, I was looking at a way to update
> the model "on line" (to get a kind of recursive estimation)
> So the next step was to express the arima models as state-space
> (structural) models.
> The idea was to use the recursive formulaes of a Kalman Filter, in order
to
> get an estimation of the kind of the recursive least square.
> But it seems to me that the estimation of these structural models requires
> a likelihood maximization which is not recursive.
>
> So my question is :
> In a structural model, can the likelihood maximization be done recursively
> ?
>
> Upon what I read in 2 first articles of the 2/2 issue of R News, I don't
> think it is done this way in R.

1) ARIMA fitting *is* done via state-space models, but structural models
are something different.

2) You can't (in general) do ML estimation of the parameters of a
state-space model recursively.  Nor is that what recursive least squares
estimates.

For more details, see the references in the article you mention,
especially the Durbin & Koopman book.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


If you have received this e-mail in error or wish to read our e-mail disclaimer 
statement and monitoring policy, please refer to http://www.drkw.com/disc/email/ 
or contact the sender

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Mon Aug  5 15:15:15 2002
From: jfox at mcmaster.ca (John Fox)
Date: Mon, 05 Aug 2002 09:15:15 -0400
Subject: [R] typsize and fscale arguments to nlm
In-Reply-To: <15694.12190.174621.624259@gargle.gargle.HOWL>
References: <5.1.0.14.2.20020722184114.01d77530@mcmail.cis.mcmaster.ca>
 <5.1.0.14.2.20020722184114.01d77530@mcmail.cis.mcmaster.ca>
Message-ID: <5.1.0.14.2.20020805085203.01d91c00@mcmail.cis.mcmaster.ca>

Dear Martin,

Thank you for answering my question. I'm impressed that you would pay 
attention to a two-week-old question. In the interim I obtained and read 
the two references in the documentation, which clarified what typsize and 
fscale are and how they are used in the algorithm (which is why I didn't 
repost the question).

With respect to the documentation, my remark was probably unfair -- it's 
not reasonable to ask for detailed documentation of such a complicated 
function. I think, though, that I would replace the word "size" here with 
"absolute value," which seems to me more precise in this context (or just 
put "absolute value" within parentheses after size as a clarification), and 
perhaps say briefly how these arguments are used in the algorithm.

It occurred to me that I could look at the source code, but I'm not a very 
good C programmer. I'd have a better chance to figure out what the code is 
doing if it were in FORTRAN -- which dates me, I guess. Even if the code 
were in FORTRAN, I'm probably not sufficiently clever to understand it 
without reading the references.

Thanks again,
  John

At 09:56 AM 8/5/2002 +0200, you wrote:

>nobody seems to have answered this on R-help.
> >>>>> "John" == John Fox <jfox at mcmaster.ca> writes
>on July 22 :
>
>     John> Dear R list members, I have a question about the
>     John> proper use of the typsize and fscale arguments to nlm.
>
>     John> I use nlm in my sem package to fit general
>     John> structural-equation models, which entails maximizing a
>     John> multinormal likelihood with respect to parameters that
>     John> represent regression coefficients and covariances of
>     John> variables. The magnitudes of these parameters can be
>     John> very different.
>
>     John> The documentation for typsize is rather terse: "an
>     John> estimate of the size of each parameter at the
>     John> minimum," with the default typsize=rep(1, length(p))
>     John> [where length(p) gives the number of parameters]. Am I
>     John> correct in interpreting the "size of each parameter"
>     John> as its absolute values?
>
>yes ``typical absolute values''
>
>     John> as its absolute values? If so, is it reasonable to
>     John> specify typsize=abs(start), where start contains that
>     John> start values of the parameters?
>Yes -- unless some `start[j]' is ``untypically'' close to zero ..
>
>     John> I can compute start values that have generally
>     John> reasonable magnitudes (certainly more generally
>     John> reasonable than assuming that all parameters are of
>     John> the same magnitude) and that will never be identically
>     John> 0. A related question is whether typsize specifies the
>     John> relative or absolute "sizes" of the parameters.
>
>absolute.
>
>Note that R is open source and (if you don't have the references
>that help(nlm) mentions) you can always read the source code.
>In this case, the really relevant things are in src/appl/uncmin.c
>whose optif9() is called from  do_nlm() in  src/main/optimimze.c}.
>Note that "typsize" is "typsiz" in the C code (since that is
>translated from Fortran which had a 6-letter limitation).
>
>Typical lines in uncmin.c are
>
>    1788:        gs = fmax2(fabs(f), fscale) / fmax2(fabs(x[i]), typsiz[i]);
>
>    1858:        hs = fmax2(fabs(g[j]), 1.0) / fmax2(fabs(x[j]), typsiz[j]);
>
>where the first tells you how `fscale' is used and both show you
>how the `typsize[]' vector is.
>
>
>     John> Finally, there is another argument to nlm called
>     John> fscale which specifies "an estimate of the size of f
>     John> at the minimum" (where f is the function to be
>     John> minimized -- in my case the negative
>     John> log-likelihood). The default is fscale=1. In
>     John> experimenting with nlm I've found that using
>     John> typsize=abs(start) appears to make my sem function
>     John> more robust (e.g., less sensitive to start values when
>     John> the parameters are of very different magnitudes), but
>     John> setting fscale to the log-likelihood at the start
>     John> values for the parameters seems to create problems.
>
>     John> Any help, advice, or additional information would be
>     John> appreciated. (I plan to take a look at the Dennis and
>     John> Schnabel text cited in the help file for nlm but have
>     John> not yet done so.)
>
>     John> Thanks, John
>
>You're welcome.
>Could you (`in return') propose improvements to the text
>in help(nlm) ?
>
>My answering above should really be an incentive for people
>to start reading source code....
>Martin
>
>     John> John Fox Department of Sociology McMaster University
>     John> Hamilton, Ontario, Canada L8S 4M4 email:
>     John> jfox at mcmaster.ca phone: 905-525-9140x23604 web:
>     John> www.socsci.mcmaster.ca/jfox
>     John> -----------------------------------------------------
>
>Martin Maechler <maechler at stat.math.ethz.ch>    http://stat.ethz.ch/~maechler/
>Seminar fuer Statistik, ETH-Zentrum  LEO C16    Leonhardstr. 27
>ETH (Federal Inst. Technology)  8092 Zurich     SWITZERLAND
>phone: x-41-1-632-3408          fax: ...-1228                   <><

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Mon Aug  5 15:22:41 2002
From: jfox at mcmaster.ca (John Fox)
Date: Mon, 05 Aug 2002 09:22:41 -0400
Subject: [R] How to get p-values
In-Reply-To: <x2hei9vbhd.fsf@biostat.ku.dk>
References: <200208051221.41646.mditzen@zedat.fu-berlin.de>
 <200208051221.41646.mditzen@zedat.fu-berlin.de>
Message-ID: <5.1.0.14.2.20020805091627.01d7b0d8@mcmail.cis.mcmaster.ca>

Dear Mathias and Peter,

I'm pretty sure that Mathias is looking for the F and t quantile functions, 
which, Mathias, by default return F and t values corresponding to 
cumulative (i.e., left-tail) probabilities. So, for your example,

 > qf(.95, 1, 2)
[1] 18.51282

gives you the F with 1 and 2 df that has an area of .05 to the right. See 
help(qf) and help(qt) for details.

I hope that this helps,
  John


At 12:36 PM 8/5/2002 +0200, Peter Dalgaard BSA wrote:
>Mathias Ditzen <mditzen at zedat.fu-berlin.de> writes:
>
> > Hello all there,
> > I want to reimplement (for my personal, still very limited 
> understanding of
> > statistics) the linear regression. Now how do I get the correct values 
> for F
> > and T distributions (something like F.05[1,2], where 1 and 2 are 
> degrees of
> > freedom)? I tried dt and df, but the values I got were not correct.
> > Thank you very much in advance,
> > Mathias Ditzen
>
>Functions to give p values all start with p: pf and pt. Be careful to
>note that they give the lower tail of the respective distributions. To
>get an upper tail, subtract from 1 (or use lower.tail=FALSE). To get
>two-tailed tests add both tails together (which is often the same as
>multiplying by two).
>
>--
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
>~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ririzarr at jhsph.edu  Mon Aug  5 15:39:51 2002
From: ririzarr at jhsph.edu (Rafael A. Irizarry)
Date: Mon, 05 Aug 2002 09:39:51 -0400 (EDT)
Subject: [R] polynom Fit
In-Reply-To: <001101c23c74$09f4b460$0d901eac@berlin.ptb.de>
Message-ID: <Pine.LNX.4.33.0208050936460.14399-100000@localhost.localdomain>

On Mon, 5 Aug 2002, E.A. Welge wrote:

> Please, I'm a beginner with the R language. I'm looking for a function to
> compute a Polynomfit for simple x-y Data. Who can help?
> 
> Many Greetings
> E.A. Welge

if you want least squares look at the help files for "lm" and "poly".
poly creates a basis matrix for polynomials evaluated at x 
lm does least squares fitting.

here is an example:

x <- 1:100   #simulated data
y <- rnorm(100)
n <- 4      #degree of polynomial
fit1 <- lm(y~poly(x,degree=n)) ##fit to data
plot(x,y)  #examle plot
lines(x,fitted(fit1))


hope this helps,
rafael


> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Aug  5 16:06:31 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 5 Aug 2002 16:06:31 +0200
Subject: [R] Build on Solaris 8 gcc-3.1 fails make check
In-Reply-To: <20020718193100.23524.qmail@uadvg137.cms.usa.net>
References: <20020718193100.23524.qmail@uadvg137.cms.usa.net>
Message-ID: <15694.34407.366778.231195@gargle.gargle.HOWL>

>>>>> "ChinShCh" == Chin-Shan Chuang <chinshan.chuang at stanfordalumni.org> writes:

    ChinShCh> Hi, I also seem to have the same problem.

    ChinShCh> A related question -- are NAs and NaNs supposed to
    ChinShCh> be the same in R?  If they are not, wouldn't it be
    ChinShCh> more appropriate for var(1) to return NaN 
    ChinShCh> and to take out the test "stopifnot( is.na(var(1)),
    ChinShCh> !is.nan(var(1)) )"?  (Presumably NA is used to
    ChinShCh> denote a missing value, and var(1) is not
    ChinShCh> missing.)

yes, I think you are right 
     (and it would be the same as S-plus 6.0 does
      so there, the difference between NaN and NA
      is less visible since "NaN" are printed as "NA").


    ChinShCh> Excluding this test, I also found that make check
    ChinShCh> fails at the step "stopifnot( ...,
    ChinShCh> !is.nan(c(1,NA)), ... )" or line 7877 of
    ChinShCh> base-Ex.R.  Could someone please comment on this
    ChinShCh> as well? On this compiled version of R, I get
    ChinShCh> !is.nan(c(1,NA)) returns TRUE FALSE although
    ChinShCh> !is.nan(NA) returns TRUE.

which shows that that is.nan() is doing the wrong thing for
"double" NA but is ok for logical NA, since

  c(1,NA)  is double  whereas
  NA	   is logical

This may help you find out where your compiler/linker/libraries
are doing the wrong thing...


Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Mon Aug  5 16:41:49 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Mon, 5 Aug 2002 10:41:49 -0400
Subject: [R] variable scope
In-Reply-To: <100726749@toto.iv>
Message-ID: <15694.36525.173279.596663@gargle.gargle.HOWL>

VBMorozov at lbl.gov wrote:
> I would like to pass variables to a function in R in "by reference"...

Just in case the ensuing discussion got too esoteric, here's one simple answer:

R> x <- 1:10
R> MyFunc <- function(x, zz) assign(deparse(substitute(zz)), sum(x), 1)
R> MyFunc(x,y)
R> y
   [1] 55
-- 
                           -- David Brahm (brahm at alum.mit.edu) (former LBL guy)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Mon Aug  5 18:10:23 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Mon, 5 Aug 2002 09:10:23 -0700 (PDT)
Subject: [R] Dotplot
In-Reply-To: <CLECJBOEBGOMOKJHJNDACEOGCGAA.marwan.khawaja@aub.edu.lb>
Message-ID: <20020805161023.80574.qmail@web13904.mail.yahoo.com>


--- Marwan Khawaja <marwan.khawaja at aub.edu.lb> wrote:
> Hello,
> I am using Dotplot (from Frank Harrell's HMISC library) to make a graph of
> rates
> with confidence intervals but I get a 'black' background -- nice but not on a
> printed document:
> 
> >Dotplot(group~Cbind(rate,lower,upper)|mortality,data=mort,ylab=' ')
> 
> How do I change the background (and other) collors in Dotplot?

A very short answer would be to try 

lset(col.whitebg())

before you call Dotplot (provided you already have the device open). A somewhat
more detailed explanation can be found in ?lattice.theme


> Thanks for you help.
> Marwan Khawaja
> 
> platform i386-pc-mingw32
> arch     i386
> os       mingw32
> system   i386, mingw32
> status
> major    1
> minor    5.0
> year     2002
> month    04
> day      29
> language R
> 
>
--------------------------------------------------------------------------------
> --------------------------------------------------------
> Marwan Khawaja   -   http://webfaculty.aub.edu.lb/~mk36/     If you have MS
> Internet Explorer!
>
--------------------------------------------------------------------------------
> --------------------------------------------------------
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Aug  5 18:16:33 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 5 Aug 2002 09:16:33 -0700 (PDT)
Subject: [R] filename of source file
In-Reply-To: <20020805112033.UDPJ26045.mta09.mail.mel.aone.net.au@there>
Message-ID: <Pine.A41.4.44.0208050857110.101274-100000@homer11.u.washington.edu>

On Mon, 5 Aug 2002, Jim Lemon wrote:

> David Richmond wrote:
> > Yes, source refers to the use of the source() function. Suppose I invoke
> > a file like so:
> >
> > source("/path/name/filename.r")
> >
> > I want to insert a command in filename.r like so:
> >
> > fullpath <- magic_command()
> >
> > such that fullpath is now "/path/name/filename.r"
> >
>
> How about
>
> source(fullpath<-"/path/name/filename.r") ?
>

That will work only when run at the top level.

If it isn't sufficient to know the directory

 	source("/path/name/filename.r",chdir=TRUE)

in which case magic.command() is getwd(), there isn't a nice way to do it.

Two not-so-nice ways

1) modify source() so it does something like

    assign(".Last.source.file",file,envir=.GlobalEnv)

   giving
    magic.command<-function() get(".Last.source.file",envir=.GlobalEnv)


2) Get the file name from the environment inside source

     magic.command<-function(){
	n<-match("source",rev(as.character(sapply(sys.calls(),"[[",1))))
	get("file", parent.frame(n-1)
	}



The problem with the first is that it writes in the global workspace and
that it fails if a source()d file source()s another file before you use
magic.command().

The problem with the second is that it will break if the source() function is
renamed or if the name of the variable "file" changes.


You also need to be aware that `file' need not be a filename. It could be
a URL [eg source("http://www.bioconductor.org/getBioC.R") ] or a
connection (either a file connection or some other sort).


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dfs at research.att.com  Mon Aug  5 20:56:17 2002
From: dfs at research.att.com (Deborah Swayne)
Date: Mon, 5 Aug 2002 14:56:17 -0400
Subject: [R] problem installing package mgcv
Message-ID: <20020805145617.S6243231@fry.research.att.com>

$ R CMD INSTALL mgcv_0.8-1.tar.gz 
* Installing *source* package 'mgcv' ...
** libs
/tmp/R.INSTALL.7809058/mgcv/src
gcc -I/usr/common/R-1.5.1/lib/R/include  -I/usr/common/include     -g -O2 -c gcv.c -o gcv.o
gcc -I/usr/common/R-1.5.1/lib/R/include  -I/usr/common/include     -g -O2 -c matrix.c -o matrix.o
as: Error: /var/tmp/cchKSJb3.s, line 25046: register expected
      dmtc1 244($sp),$f0
as: Error: /var/tmp/cchKSJb3.s, line 25046: Undefined symbol: 244
gmake: *** [matrix.o] Error 1
ERROR: compilation failed for package 'mgcv'

R version: 1.5.1
OS: SGI IRIX 6.4
gcc version: 3.0.2

If I compile it directly without optimization, it compiles fine.
Is there an argument to INSTALL that lets me turn off optimization?

Debby
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gilesh at stat.stanford.edu  Mon Aug  5 21:00:33 2002
From: gilesh at stat.stanford.edu (Giles Hooker)
Date: Mon, 5 Aug 2002 12:00:33 -0700
Subject: [R] robust() package for binomial families
Message-ID: <Pine.SGI.4.44.0208051152570.4052234-100000@rgmiller.Stanford.EDU>

Is there any equivalent for the Splus robust() function in R? I would like
to be able to perform the equivalent of glm(...,family=robust(binomial)),
but this does not appear to have been implemented in any of the packages.
Is there some other way of doing the same thing?

giles

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reid_huntsinger at merck.com  Mon Aug  5 21:35:56 2002
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Mon, 05 Aug 2002 15:35:56 -0400
Subject: [R] pipe and binary i/o
Message-ID: <2C23DE2983BE034CB1CB90DB6B813FD6028AC076@uswpmx11.merck.com>

I often want to use "pipe" with "readBin" to read (binary) data from the
standard output of a Perl or C program. For that I need "pipe" to work with
the "open='rb'" option. It never worked for me, and after a look at the
connections.c file, I see that in "pipe_open" the mode gets passed directly
to "popen" (I'm using Linux on an Intel machine). Popen doesn't know "rb"
and fails. I modified the pipe function in connection.c to pass only the
first character of the mode. This seems to work (fingers crossed). Then I
noticed gzfile has the same problem, but bzfile doesn't, and uses the same
solution as I did for pipe. Can I assume that this is a correct fix? Or were
there reasons that pipe and gzfile wouldn't allow "rb"?

Thanks,

Reid Huntsinger


-----Original Message-----
From: Thomas Lumley [mailto:tlumley at u.washington.edu]
Sent: Monday, August 05, 2002 12:17 PM
To: Jim Lemon
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] filename of source file


On Mon, 5 Aug 2002, Jim Lemon wrote:

> David Richmond wrote:
> > Yes, source refers to the use of the source() function. Suppose I invoke
> > a file like so:
> >
> > source("/path/name/filename.r")
> >
> > I want to insert a command in filename.r like so:
> >
> > fullpath <- magic_command()
> >
> > such that fullpath is now "/path/name/filename.r"
> >
>
> How about
>
> source(fullpath<-"/path/name/filename.r") ?
>

That will work only when run at the top level.

If it isn't sufficient to know the directory

 	source("/path/name/filename.r",chdir=TRUE)

in which case magic.command() is getwd(), there isn't a nice way to do it.

Two not-so-nice ways

1) modify source() so it does something like

    assign(".Last.source.file",file,envir=.GlobalEnv)

   giving
    magic.command<-function() get(".Last.source.file",envir=.GlobalEnv)


2) Get the file name from the environment inside source

     magic.command<-function(){
	n<-match("source",rev(as.character(sapply(sys.calls(),"[[",1))))
	get("file", parent.frame(n-1)
	}



The problem with the first is that it writes in the global workspace and
that it fails if a source()d file source()s another file before you use
magic.command().

The problem with the second is that it will break if the source() function
is
renamed or if the name of the variable "file" changes.


You also need to be aware that `file' need not be a filename. It could be
a URL [eg source("http://www.bioconductor.org/getBioC.R") ] or a
connection (either a file connection or some other sort).


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From PLauren at genelogic.com  Mon Aug  5 22:12:08 2002
From: PLauren at genelogic.com (PLauren@genelogic.com)
Date: Mon, 5 Aug 2002 16:12:08 -0400
Subject: [R] Extracting Header From Table
Message-ID: <OFB96B1A2B.D00CCBA5-ON85256C0C.006E5DDF@genelogic.com>

I read a tab-delimited ASCII table, with a header, into R thus.
Table <- read.table(FileName, header=TRUE, sep="\t");

Is there any way I can now retrieve the header.  The header information is
obviously there since I see it, along with the values of the first row of
data, when I type
Table[1, ]

However, I cannot find an R function to retrieve the header information
from "Table".  When I try
> help.search("header")

I get
No help files found with alias or title matching `header'

I would be grateful if someone could tell me how I might retrieve the
header information.

Thanks,
Peter.
==========================================================================
==  The information contained in this email message is intended only for
use by the      ==
==  recipient(s) to which it is addressed.  This message may be privileged
and            ==
==  confidential and protected from disclosure.  If the reader of this
message is not        ==
==  the intended recipient or an agent responsible for delivering it to the
intended           ==
==  recipient,  you are hereby notified that you have received this
document in error       ==
==  and that any review, retransmission, dissemination, distribution,
copying or other     ==
==  use of, or taking of any action in reliance upon this information, is
strictly                       ==
==  prohibited.  If you have received this communication in error, please
contact the       ==
==  sender and delete the material from your computer.
==
==========================================================================


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Aug  5 22:26:53 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 5 Aug 2002 13:26:53 -0700 (PDT)
Subject: [R] Extracting Header From Table
In-Reply-To: <OFB96B1A2B.D00CCBA5-ON85256C0C.006E5DDF@genelogic.com>
Message-ID: <Pine.A41.4.44.0208051326330.101274-100000@homer11.u.washington.edu>

On Mon, 5 Aug 2002 PLauren at genelogic.com wrote:

> I read a tab-delimited ASCII table, with a header, into R thus.
> Table <- read.table(FileName, header=TRUE, sep="\t");
>
> Is there any way I can now retrieve the header.  The header information is
> obviously there since I see it, along with the values of the first row of
> data, when I type
> Table[1, ]
>

I think you want
   names(Table)

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From PLauren at genelogic.com  Mon Aug  5 22:35:50 2002
From: PLauren at genelogic.com (PLauren@genelogic.com)
Date: Mon, 5 Aug 2002 16:35:50 -0400
Subject: [R] Extracting Header From Table
Message-ID: <OF19C541E4.14D4C789-ON85256C0C.007113EB@genelogic.com>


Just what I wanted.

Thanks,
Peter.



|---------+---------------------------->
|         |           Thomas Lumley    |
|         |           <tlumley at u.washin|
|         |           gton.edu>        |
|         |                            |
|         |           08/05/02 04:26 PM|
|         |                            |
|---------+---------------------------->
  >--------------------------------------------------------------------------------------------------------------|
  |                                                                                                              |
  |       To:       PLauren at genelogic.com                                                                        |
  |       cc:       r-help at stat.math.ethz.ch                                                                     |
  |       Subject:  Re: [R] Extracting Header From Table                                                         |
  >--------------------------------------------------------------------------------------------------------------|




On Mon, 5 Aug 2002 PLauren at genelogic.com wrote:

> I read a tab-delimited ASCII table, with a header, into R thus.
> Table <- read.table(FileName, header=TRUE, sep="\t");
>
> Is there any way I can now retrieve the header.  The header information
is
> obviously there since I see it, along with the values of the first row of
> data, when I type
> Table[1, ]
>

I think you want
   names(Table)

             -thomas





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hoppe at sitewaerts.de  Mon Aug  5 22:51:01 2002
From: hoppe at sitewaerts.de (Daniel Hoppe)
Date: Mon, 5 Aug 2002 22:51:01 +0200 
Subject: [R] Question regarding hypergeometric 2f1 function
Message-ID: <903A7281CDB7D4118A5000500450BB088EB7C7@samoa.sitewaerts>

Hi,

I'm an R newbie and I've got a question regarding a certain function in R. I
need to calculate values of the hypergeometric 2f1 function (hyp2f1 in
cephes math library, Hypergeometric2f1 in Mathematica) and I'm wondering if
anyone has tried to implement it in R or S-Plus. If not, what would be the
prefered way to do so? Should I rather try to use an external C module or
implement it in R directly? 

Thanks for any hints!

Best Regards,

Daniel


P.S.: This is my first posting to this list, so please just let me know if
it is somehow in opposition to the customs of this list...

<<<<<<<<<<<<<<<<<<<<<<<<<<<
sitewaerts GmbH
Hebelstra?e 15
D-76133 Karlsruhe

Tel: +49 (721) 920 918 0
Fax: +49 (721) 920 918 29
http://www.sitewaerts.de
>>>>>>>>>>>>>>>>>>>>>>>>>>>


Der Inhalt dieser E-Mail ist vertraulich und ausschlie?lich f?r den
bezeichneten Adressaten bestimmt. Wenn Sie nicht der vorgesehene Adressat
dieser E-Mail oder dessen Vertreter sein sollten, so beachten Sie bitte, da?
jede Form der Kenntnisnahme, Ver?ffentlichung, Vervielf?ltigung oder
Weitergabe des Inhalts dieser E-Mail unzul?ssig ist. Wir bitten Sie, sich in
diesem Fall mit dem Absender der E-Mail in Verbindung zu setzen. Aussagen
gegen?ber dem Adressaten unterliegen den Regelungen des zugrundeliegenden
Angebotes bzw. Auftrags, insbesondere den Allgemeinen Auftragsbedingungen
und der individuellen Haftungsvereinbarung. Der Inhalt der E-Mail ist nur
rechtsverbindlich, wenn er unsererseits durch einen Brief entsprechend
best?tigt wird.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug  5 23:01:47 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 5 Aug 2002 22:01:47 +0100 (BST)
Subject: [R] pipe and binary i/o
In-Reply-To: <2C23DE2983BE034CB1CB90DB6B813FD6028AC076@uswpmx11.merck.com>
Message-ID: <Pine.LNX.4.31.0208052159380.27986-100000@gannet.stats>

pipe predates readBin, and no one has seen a reason to do this before you.

It's an adequate fix.

On Mon, 5 Aug 2002, Huntsinger, Reid wrote:

> I often want to use "pipe" with "readBin" to read (binary) data from the
> standard output of a Perl or C program. For that I need "pipe" to work with
> the "open='rb'" option. It never worked for me, and after a look at the
> connections.c file, I see that in "pipe_open" the mode gets passed directly
> to "popen" (I'm using Linux on an Intel machine). Popen doesn't know "rb"
> and fails. I modified the pipe function in connection.c to pass only the
> first character of the mode. This seems to work (fingers crossed). Then I
> noticed gzfile has the same problem, but bzfile doesn't, and uses the same
> solution as I did for pipe. Can I assume that this is a correct fix? Or were
> there reasons that pipe and gzfile wouldn't allow "rb"?
>
> Thanks,
>
> Reid Huntsinger

[irrelevant message deleted]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From RML27 at cornell.edu  Mon Aug  5 23:23:07 2002
From: RML27 at cornell.edu (Ronnen Levinson)
Date: Mon, 05 Aug 2002 14:23:07 -0700
Subject: [R] Formatting POSIXt values in plot axis labels
Message-ID: <3D4EECBB.89484E33@cornell.edu>

Hello.

I have an XYY series that I would like to graph with matplot() or some
other single function that will do the trick.
The X in question is a vector of POSIXt values obtained from strptime().

Is it possible to tell matplot() how to handle POSIXt x values?

I have examined the examples at
http://lark.cc.ukans.edu/~pauljohn/R/statsRus.html#5.22 , but would
prefer not have to overlay the results of multiple plot() calls.

Example:

a=strptime("06/01/2002 12:00:00","%m/%d/%Y %H:%M:%S")
x=seq(a,a+10*24*3600,length=3)
y=seq(1,4)
plot(x,y)
matplot(x,cbind(y,y))

I have also noticed that plot() seems to make judgement calls as to how
to present POSIXt values. For example,

a=strptime("06/01/2002 12:00:00","%m/%d/%Y %H:%M:%S")
x=seq(a,a+3*24*3600,length=3)
y=seq(1,4)
plot(x,y)

shows days of week. Is there a way for me to give plot() and/or
matplot() formatting instructions for POSIXt values?

Thanks,

Ronnen.

R1.5.1 on Windows 98

--
Ronnen Levinson, Ph.D.            \/      RML27 at cornell.edu
scientist                         ||      http://ronnen.com
Lawrence Berkeley National Lab    /\      fax 425.955.1992

======================================
Men in colored shirts and seersucker suits, women in slacks and midriff
dresses displaying
various grades of abdomen, moved in and out of California Spanish shops
and office buildings.
Nobody looked at the mountains standing above the town, but the
mountains were there,
making them all look silly.

-- Ross Macdonald, "The Moving Target"
======================================


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pols1oh at bestweb.net  Mon Aug  5 23:52:38 2002
From: pols1oh at bestweb.net (Michaell Taylor)
Date: 05 Aug 2002 17:52:38 -0400
Subject: [R] constructing a formula
Message-ID: <1028584359.1248.34.camel@penguin>

Dear Listers,

I am having trouble figuring out how to build a formula using a variable
list.  For example, I have:

a _ data.frame(a=rnorm(1000))
a$b_rnorm(1000)+.5*a$a
a$c_rnorm(1000)+.5*a$b
a$d_rnorm(1000)+.5*a$b+.1*a$a
attach(a)

and I estimate,

lm(d ~ b+c+d)

BUT,

I wish to construct a generalized solution in which, 

ListOfVar _ c('b','c','d')

The question is how to leverage ListOfVar into the constuction of the
formula lm(a$d ~ a$b+a$c+a$b).  I know this must be fairly simple, but
unfortunately my readings of the various help files/books haven't been
productive yet.

Any help would be appreciated.  Thanks in advance.

Michaell Taylor

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From canty at math.mcmaster.ca  Tue Aug  6 00:25:48 2002
From: canty at math.mcmaster.ca (Angelo Canty)
Date: Mon, 5 Aug 2002 18:25:48 -0400 (EDT)
Subject: [R] Re: your mail
In-Reply-To: <006b01c23c24$abf2cae0$7dca27a0@columbia.edu>
Message-ID: <Pine.SOL.4.44.0208051822380.19254-100000@icarus.math.mcmaster.ca>

Hi Sangeeta,

There is an example of this in Chapter 4 of Davison and Hinkley (1997)
and practical 4.5 of that book gives some code that can be used with
my boot package.  This package is available on CRAN if you did not
get it when you downloaded R.


On Sun, 4 Aug 2002, Sangeeta Goyal wrote:

> Hello,
>
> I downloaded R today because I was told it has very good bootstrapping
> abilities. What I need to do is to program it (or use an existing program)
> to bootstrapping test for multimodality using nonparametric kernel density
> estimates as proposed by Efron and Tibshirani (1993). If anyone can get me
> started, I will be immensely grateful.
>
> Thanks.
> Sangeeta
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>


------------------------------------------------------------------
|   Angelo J. Canty                Email: cantya at mcmaster.ca     |
|   Mathematics and Statistics     Phone: (905) 525-9140 x 27079 |
|   McMaster University            Fax  : (905) 522-0935         |
|   1280 Main St. W.                                             |
|   Hamilton ON L8S 4K1                                          |
------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Robert.Denham at nrm.qld.gov.au  Tue Aug  6 01:00:57 2002
From: Robert.Denham at nrm.qld.gov.au (Denham Robert)
Date: Tue, 6 Aug 2002 09:00:57 +1000
Subject: [R] Extracting Header From Table
Message-ID: <7BDA5DE121FF454A88C2FFFAD392718C15BD11@INDMAIL.lands.resnet.qg>

I think what you want is names(Table)


-----Original Message-----
From: PLauren at genelogic.com [mailto:PLauren at genelogic.com]
Sent: Tuesday, 6 August 2002 6:12 AM
To: r-help at stat.math.ethz.ch
Subject: [R] Extracting Header From Table


I read a tab-delimited ASCII table, with a header, into R thus.
Table <- read.table(FileName, header=TRUE, sep="\t");

Is there any way I can now retrieve the header.  The header information
is
obviously there since I see it, along with the values of the first row
of
data, when I type
Table[1, ]

However, I cannot find an R function to retrieve the header information
from "Table".  When I try
> help.search("header")

I get
No help files found with alias or title matching `header'

I would be grateful if someone could tell me how I might retrieve the
header information.

Thanks,
Peter.
========================================================================
==
==  The information contained in this email message is intended only for
use by the      ==
==  recipient(s) to which it is addressed.  This message may be
privileged
and            ==
==  confidential and protected from disclosure.  If the reader of this
message is not        ==
==  the intended recipient or an agent responsible for delivering it to
the
intended           ==
==  recipient,  you are hereby notified that you have received this
document in error       ==
==  and that any review, retransmission, dissemination, distribution,
copying or other     ==
==  use of, or taking of any action in reliance upon this information,
is
strictly                       ==
==  prohibited.  If you have received this communication in error,
please
contact the       ==
==  sender and delete the material from your computer.
==
========================================================================
==


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._


************************************************************************
The information in this e-mail together with any attachments is
intended only for the person or entity to which it is addressed
and may contain confidential and/or privileged material.

Any form of review, disclosure, modification, distribution
and/or publication of this e-mail message is prohibited.  

If you have received this message in error, you are asked to
inform the sender as quickly as possible and delete this message
and any copies of this message from your computer and/or your
computer system network.  
************************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul.louisell at pw.utc.com  Tue Aug  6 01:22:44 2002
From: paul.louisell at pw.utc.com (Louisell, Paul , T.)
Date: Mon, 5 Aug 2002 19:22:44 -0400 
Subject: [R] Fortran DLLs
Message-ID: <D30064BBFF2DD51180BC00508BDF3EE70CEFA6BA@pusehe07.eh.pweh.com>

Hello again,

As several of you know, I'm working on getting my first DLL up and running.
Relevant Info:

*	My operating system is Windows NT (at work, it's XP at home).
*	I'm using R version 1.5.1 (6/17/2002).

This is the error I currently get with the SHLIB command:

C:\Program Files\R\rw1051\bin>Rcmd SHLIB H:\Stage9.Dun\RSforFILES\cir3int.f
Can't locate Cwd.pm in @INC at C:\PROGRA~1\R\rw1051/bin/SHLIB line 21.
BEGIN failed--compilation aborted at C:\PROGRA~1\R\rw1051/bin/SHLIB line 21.

'cir3int.f' is a FORTRAN source file. Ideas?

Thanks,


Paul Louisell
Statistician
Pratt & Whitney
(860) 565-5417
louisept at pweh.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From matthew.dowle at citigroup.com  Tue Aug  6 01:44:18 2002
From: matthew.dowle at citigroup.com (Dowle, Matthew [EQRE])
Date: Tue, 6 Aug 2002 00:44:18 +0100 
Subject: [R] Extracting Header From Table
Message-ID: <076838A70B41D31181FB002048403C2D0AC2F357@exchuk09.eu.ssmb.com>


Peter,
Try colnames(Table). Beware if you had used lower case t you would have
masked the table() R function.
Rgds,
Matthew

-----Original Message-----
From: PLauren at genelogic.com [mailto:PLauren at genelogic.com]
Sent: 05 August 2002 21:12
To: r-help at stat.math.ethz.ch
Subject: [R] Extracting Header From Table


I read a tab-delimited ASCII table, with a header, into R thus.
Table <- read.table(FileName, header=TRUE, sep="\t");

Is there any way I can now retrieve the header.  The header information is
obviously there since I see it, along with the values of the first row of
data, when I type
Table[1, ]

However, I cannot find an R function to retrieve the header information
from "Table".  When I try
> help.search("header")

I get
No help files found with alias or title matching `header'

I would be grateful if someone could tell me how I might retrieve the
header information.

Thanks,
Peter.
==========================================================================
==  The information contained in this email message is intended only for
use by the      ==
==  recipient(s) to which it is addressed.  This message may be privileged
and            ==
==  confidential and protected from disclosure.  If the reader of this
message is not        ==
==  the intended recipient or an agent responsible for delivering it to the
intended           ==
==  recipient,  you are hereby notified that you have received this
document in error       ==
==  and that any review, retransmission, dissemination, distribution,
copying or other     ==
==  use of, or taking of any action in reliance upon this information, is
strictly                       ==
==  prohibited.  If you have received this communication in error, please
contact the       ==
==  sender and delete the material from your computer.
==
==========================================================================


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Tue Aug  6 02:55:56 2002
From: jfox at mcmaster.ca (John Fox)
Date: Mon, 05 Aug 2002 20:55:56 -0400
Subject: [R] constructing a formula
In-Reply-To: <1028584359.1248.34.camel@penguin>
Message-ID: <5.1.0.14.2.20020805204250.01d7bb28@mcmail.cis.mcmaster.ca>

Dear Mitchell,

At 05:52 PM 8/5/2002 -0400, Michaell Taylor wrote:
>Dear Listers,
>
>I am having trouble figuring out how to build a formula using a variable
>list.  For example, I have:
>
>a _ data.frame(a=rnorm(1000))
>a$b_rnorm(1000)+.5*a$a
>a$c_rnorm(1000)+.5*a$b
>a$d_rnorm(1000)+.5*a$b+.1*a$a
>attach(a)
>
>and I estimate,
>
>lm(d ~ b+c+d)

Did you really mean to regress d on predictors including d? (Note that the 
data frame a shadows a$a.)

>BUT,
>
>I wish to construct a generalized solution in which,
>
>ListOfVar _ c('b','c','d')
>
>The question is how to leverage ListOfVar into the constuction of the
>formula lm(a$d ~ a$b+a$c+a$b).  I know this must be fairly simple, but
>unfortunately my readings of the various help files/books haven't been
>productive yet.

Note that a$b appears twice on the RHS of the formula -- probably not what 
you meant.

>Any help would be appreciated.  Thanks in advance.

If all of the variables on the RHS are numeric, as here, then something like
         lm(a$a ~ as.matrix(a[,ListOfVar]))
should work, where a is the data frame containing the variables in the list 
(actually a character vector).

If there are also factors on the RHS of the formula, then you could do 
something like
         lm(eval(parse(text=paste('a ~', paste(ListOfVar, collapse="+")))), 
data=a)
though someone will probably think of something simpler.

Does that do what you need?
   John

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From channoun at IRO.UMontreal.CA  Tue Aug  6 03:30:21 2002
From: channoun at IRO.UMontreal.CA (Nabil Channouf)
Date: Mon, 5 Aug 2002 21:30:21 -0400
Subject: [R] help
Message-ID: <02080521302100.24629@manic.IRO.UMontreal.CA>

Dear Madam/Sir,
I'm actually using R for statistical medeling in simulation and i may use the 
package of splines. Would tell me please how can i get the library splines 
and how can i install it. Thank you so much.
Sincerely
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Tue Aug  6 05:20:33 2002
From: jfox at mcmaster.ca (John Fox)
Date: Mon, 05 Aug 2002 23:20:33 -0400
Subject: [R] Extracting Header From Table
In-Reply-To: <076838A70B41D31181FB002048403C2D0AC2F357@exchuk09.eu.ssmb.
 com>
Message-ID: <5.1.0.14.2.20020805231640.02d0ae88@mcmail.cis.mcmaster.ca>

Dear Mathew,

At 12:44 AM 8/6/2002 +0100, Dowle, Matthew [EQRE] wrote:

>Peter,
>Try colnames(Table). Beware if you had used lower case t you would have
>masked the table() R function.
>Rgds,
>Matthew

Actually, a variable named table defined in the global environment won't 
mask a function of the same name in an attached package.

John

>-----Original Message-----
>From: PLauren at genelogic.com [mailto:PLauren at genelogic.com]
>Sent: 05 August 2002 21:12
>To: r-help at stat.math.ethz.ch
>Subject: [R] Extracting Header From Table
>
>
>I read a tab-delimited ASCII table, with a header, into R thus.
>Table <- read.table(FileName, header=TRUE, sep="\t");
>
>Is there any way I can now retrieve the header.  The header information is
>obviously there since I see it, along with the values of the first row of
>data, when I type
>Table[1, ]
>
>However, I cannot find an R function to retrieve the header information
>from "Table".  When I try
> > help.search("header")
>
>I get
>No help files found with alias or title matching `header'
>
>I would be grateful if someone could tell me how I might retrieve the
>header information.
>
>Thanks,
>Peter.
>==========================================================================
>==  The information contained in this email message is intended only for
>use by the      ==
>==  recipient(s) to which it is addressed.  This message may be privileged
>and            ==
>==  confidential and protected from disclosure.  If the reader of this
>message is not        ==
>==  the intended recipient or an agent responsible for delivering it to the
>intended           ==
>==  recipient,  you are hereby notified that you have received this
>document in error       ==
>==  and that any review, retransmission, dissemination, distribution,
>copying or other     ==
>==  use of, or taking of any action in reliance upon this information, is
>strictly                       ==
>==  prohibited.  If you have received this communication in error, please
>contact the       ==
>==  sender and delete the material from your computer.
>==
>==========================================================================
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
>-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
>_._
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Tue Aug  6 05:29:59 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Mon, 5 Aug 2002 20:29:59 -0700 (PDT)
Subject: [R] help
In-Reply-To: <02080521302100.24629@manic.IRO.UMontreal.CA>
Message-ID: <Pine.GSO.4.10.10208052028430.2398-100000@quetelet.stat.ucla.edu>

The 'splines' library is included with every R distribution.  It should be
included by default.  

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Mon, 5 Aug 2002, Nabil Channouf wrote:

> Dear Madam/Sir,
> I'm actually using R for statistical medeling in simulation and i may use the 
> package of splines. Would tell me please how can i get the library splines 
> and how can i install it. Thank you so much.
> Sincerely
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From joshi at engr.orst.edu  Tue Aug  6 06:05:14 2002
From: joshi at engr.orst.edu (Saket Joshi)
Date: Mon, 5 Aug 2002 21:05:14 -0700 (PDT)
Subject: [R] timing predict.tree()
Message-ID: <Pine.GSO.4.44.0208051659490.12589-100000@flop.ENGR.ORST.EDU>

Hi all,

I am running R1.5.0 under Unix.
I am repeating my earlier question with a few details added.

I have the following tree fitted as the tree object 'my.tree':

node), split, n, deviance, yval
      * denotes terminal node

1) root 5807 0.9998 0.0001722
  2) V604 < 0.5 5798 0.0000 0.0000000 *
  3) V604 > 0.5 9 0.8889 0.1111000 *


And I have a data.frame called 'new.temp' for which I want to make
predictions with this tree. new.temp is a data.frame with a single row and
the required number of columns.

When I run:
predict.tree(my.tree, new.temp)

it takes 60 to 70 seconds to get the output. I had expected it to take far
less because the tree is very small and the new data contains just 1 row.

My question is: Does this function 'predict.tree' provided in the library
package 'tree' really consume so much time even for minor calculations or
is something wrong?

Thanks in advance,
-Saket.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ko-kang at xtra.co.nz  Tue Aug  6 06:16:42 2002
From: ko-kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Tue, 6 Aug 2002 16:16:42 +1200
Subject: [R] help
Message-ID: <20020806041642.NJSF24064.web4-rme.xtra.co.nz@[127.0.0.1]>

That highly depends on your platform!  Go to http://cran.r-project.org/ and if you use Windows, you will need to binary zip file.  If you use Linux/Unix...etc, you will need to source file.

> From: Nabil Channouf <channoun at IRO.UMontreal.CA>
> Date: 2002/08/06 Tue PM 01:30:21 GMT+12:00
> To: R-help at stat.math.ethz.ch
> Subject: [R] help
> 
> Dear Madam/Sir,
> I'm actually using R for statistical medeling in simulation and i may use the 
> package of splines. Would tell me please how can i get the library splines 
> and how can i install it. Thank you so much.
> Sincerely
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-----------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub (SDK)
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From janm at mit.edu  Tue Aug  6 06:58:22 2002
From: janm at mit.edu (Jan Meyer)
Date: Tue, 06 Aug 2002 00:58:22 -0400
Subject: [R] Memory leak in R v1.5.1?
Message-ID: <3D4F576E.4090600@mit.edu>

Hi,

I am trying to minimize a rather complex function of 5 parameters with 
gafit and nlm. Besides some problems with both optimization algorithms 
(with respect to consistantly generating similar results), I tried to 
run this optimization about a hundred times for yet two other parameters.

Unfortunately, as the log below shows, during that batch process R 
starts to eat up all my RAM, preventing me to simply run this job over 
night.

The problem seems to be related to memory used by cons cells, which are 
  internal data structures like parse trees etc. as I understand. (For 
more see memory.profile() call all the way below) Despite me forcing 
garbage collection between each optimization run, these cells accumulate 
quite rapidly.

All I am doing is calling my function (implemented as an R function 
calling another R function) millions of times through gafit() and nlm(). 
The little data that my function needs is loaded into the environment 
prior to optimization. Either algorithm seems to accumulate cons cells.

Any idea what could be the cause? My code maybe? Is this a memory leak 
within R?

Is there any other way to force garbage collection (or something 
equivalent) on the ncells?

Thanks.

- Jan

P.S. I run R v1.5.1 on i386 SuSE Linux v7.3 using the precompiled 
binaries from CTAN for SuSE v7.3.

-----------------
   > fName ="designOpt"; Sweave(paste(fName, "rnw", sep="."),
driver=Rtangle()); sourc
e(paste(fName, "R", sep="."), local = TRUE)
Writing to file designOpt.R
4 : designOpt-designCollectionFileFuncs.R
hybridDesignOpt() called with: weight.margin= 0 , KG.margin= 0
GA Design: ShipMathModel( LWL=551.205711406606, B=45.4637940845938,
Cp=0.7198803735
31636, Cx=0.837682085129617, W.BP=872.396799843704,
H.DKh=12.0780590098038, H.DKd=8
.25941049673737 ) = (Cost=3.16 , Err.Pwr=15.0, Err.Range=18.5, B/H=3.55)
Garbage collection 170 = 160+7+3 (level 2) ...
147999 cons cells free (26%)
7.8 Mbytes of heap free (77%)
            used (Mb) gc trigger (Mb) limit (Mb)
Ncells 417001 11.2     565000 15.1       16.1
Vcells 291029  2.3    1310720 10.0       20.0
                total       used       free     shared    buffers     cached
Mem:        124948      93736      31212          0      17308      25824
-/+ buffers/cache:      50604      74344
Swap:       265032          8     265024
[1] 0
Gradient Design: ShipMathModel( LWL=537.059747125118,
B=44.8171342153699, Cp=0.7222
67017738667, Cx=0.836634804176116, W.BP=872.197302196268,
H.DKh=12.0780590098038, H
.DKd=8.14724020090996 ) = (Cost=3.15  , Err.Pwr=11.5, Err.Range=25.1,
B/H=3.45)
Garbage collection 184 = 172+8+4 (level 2) ...
141287 cons cells free (25%)
7.7 Mbytes of heap free (77%)
            used (Mb) gc trigger (Mb) limit (Mb)
Ncells 423713 11.4     565000 15.1       16.1
Vcells 299539  2.3    1310720 10.0       20.0
                total       used       free     shared    buffers     cached
Mem:        124948      93736      31212          0      17308      25824
-/+ buffers/cache:      50604      74344
Swap:       265032          8     265024
[1] 0
   >>>>>>    im =  2 ; time =  Sat Aug  3 15:37:34 2002
hybridDesignOpt() called with: weight.margin= 0 , KG.margin= 1.274
GA Design: ShipMathModel( LWL=531.251923358073, B=44.9592165303293,
Cp=0.726323984032877, Cx=0.823656217446154, W.BP=779.115652389105,
H.DKh=11.7190083082315, H.DKd=8.55853079052759 ) = (Cost=3.16  ,
Err.Pwr=13.7, Err.Range=14.3, B/H=3.47)
Garbage collection 355 = 262+46+47 (level 2) ...
75179 cons cells free (13%)
7.1 Mbytes of heap free (70%)
            used (Mb) gc trigger (Mb) limit (Mb)
Ncells 489821 13.1     565000 15.1       16.1
Vcells 383011  3.0    1310720 10.0       20.0
                total       used       free     shared    buffers     cached
Mem:        124948      93736      31212          0      17308      25824
-/+ buffers/cache:      50604      74344
Swap:       265032          8     265024
[1] 0
Gradient Design: ShipMathModel( LWL=531.076590422056,
B=44.9466118426414, Cp=0.726049001140884, Cx=0.823594459634168,
W.BP=779.10512867677, H.DKh=11.718702931698, H.DKd=8.55702887701944 ) =
(Cost=3.16  , Err.Pwr=13.4, Err.Range=14.6, B/H=3.46)
Garbage collection 373 = 268+51+54 (level 2) ...
70538 cons cells free (12%)
7.0 Mbytes of heap free (70%)
            used (Mb) gc trigger (Mb) limit (Mb)
Ncells 494462 13.3     565000 15.1       16.1
Vcells 388922  3.0    1310720 10.0       20.0
                total       used       free     shared    buffers     cached
Mem:        124948      93736      31212          0      17308      25824
-/+ buffers/cache:      50604      74344
Swap:       265032          8     265024
[1] 0
   >>>>>>    im =  3 ; time =  Sat Aug  3 15:40:14 2002
hybridDesignOpt() called with: weight.margin= 0 , KG.margin= 2.548
GA Design: ShipMathModel( LWL=578.21472911227, B=49.466359186738,
Cp=0.702282574662
H.DKd=11.5397975180451 ) = (Cost=3.25  , Err.Pwr=0.8, Err.Range=-1.5,
B/H=3.28)
Garbage collection 636 = 358+130+148 (level 2) ...
4432 cons cells free (0%)
6.4 Mbytes of heap free (63%)
            used (Mb) gc trigger (Mb) limit (Mb)
Ncells 560568 15.0     565000 15.1       16.1
Vcells 472355  3.7    1310720 10.0       20.0
                total       used       free     shared    buffers     cached
Mem:        124948      94624      30324          0      17308      25824
-/+ buffers/cache:      51492      73456
Swap:       265032          8     265024
[1] 0
Error: cons memory exhausted (limit reached?)
In addition: There were 24 warnings (use warnings() to see them)
Lost warning messages
   > gc()
            used (Mb) gc trigger (Mb) limit (Mb)
Ncells 563691 15.1     565000 15.1       16.1
Vcells 476605  3.7    1310720 10.0       20.0
   > rm(list = ls(all = TRUE))
   > gc()
            used (Mb) gc trigger (Mb) limit (Mb)
Ncells 554338 14.9     565000 15.1       16.1
Vcells 467858  3.6    1310720 10.0       20.0
  > rm(list = ls(all = TRUE))
  > gc()
           used (Mb) gc trigger (Mb) limit (Mb)
Ncells 554338 14.9     565000 15.1       16.1
Vcells 467858  3.6    1310720 10.0       20.0
  > memory.profile()
      NILSXP     SYMSXP    LISTSXP     CLOSXP     ENVSXP    PROMSXP
LANGSXP
           1       5031     264110       1401      16047          0
60670
SPECIALSXP BUILTINSXP    CHARSXP     LGLSXP                           INTSXP
          59        503      29179       1682          0          0
     24
     REALSXP    CPLXSXP     STRSXP     DOTSXP     ANYSXP     VECSXP
EXPRSXP
      135616          8      23982          0          0      16053
      0
              EXTPTRSXP WEAKREFSXP
           0          0          0


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ko-kang at xtra.co.nz  Tue Aug  6 07:19:33 2002
From: ko-kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Tue, 6 Aug 2002 17:19:33 +1200
Subject: [R] help
Message-ID: <20020806051933.GNEQ21022.web2-rme.xtra.co.nz@[127.0.0.1]>

Whoops, the splines is part of R when you installed it.

You should be able to use it by typing:
  library(splines)
in R

> 
> From: Nabil Channouf <channoun at IRO.UMontreal.CA>
> Date: 2002/08/06 Tue PM 01:30:21 GMT+12:00
> To: R-help at stat.math.ethz.ch
> Subject: [R] help
> 
> Dear Madam/Sir,
> I'm actually using R for statistical medeling in simulation and i may use the 
> package of splines. Would tell me please how can i get the library splines 
> and how can i install it. Thank you so much.
> Sincerely
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-----------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub (SDK)
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug  6 08:59:40 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 6 Aug 2002 07:59:40 +0100 (BST)
Subject: [R] pipe and binary i/o (on Linux)
In-Reply-To: <Pine.LNX.4.31.0208052159380.27986-100000@gannet.stats>
Message-ID: <Pine.LNX.4.31.0208060712100.28572-100000@gannet.stats>

On Mon, 5 Aug 2002 ripley at stats.ox.ac.uk wrote:

> pipe predates readBin, and no one has seen a reason to do this before you.

However, gzfile should work, and bzfile *always* opens with "rb".  Here's
an example on RH7.2:

> zz <- gzfile("testbin.gz", "wb")
> writeBin(1:10, zz)
> close(zz)
> zz <- gzfile("testbin.gz", "rb")
> readBin(zz, integer(), 4)
[1] 1 2 3 4
> readBin(zz, integer(), 6)
[1]  5  6  7  8  9 10
> close(zz)
> zz <- pipe("gzcat testbin.gz", "rb")
Error in pipe("gzcat testbin.gz", "rb") : unable to open connection
In addition: Warning message:
cannot open cmd `gzcat testbin.gz'

so pipe has problems, as on Linux popen does not respect "rb" (although on
other platforms it seems to).

> It's an adequate fix.

On Linux, that is: Windows needs the "b".  I've put a full fix in R-devel.

>
> On Mon, 5 Aug 2002, Huntsinger, Reid wrote:
>
> > I often want to use "pipe" with "readBin" to read (binary) data from the
> > standard output of a Perl or C program. For that I need "pipe" to work with
> > the "open='rb'" option. It never worked for me, and after a look at the
> > connections.c file, I see that in "pipe_open" the mode gets passed directly
> > to "popen" (I'm using Linux on an Intel machine). Popen doesn't know "rb"
> > and fails. I modified the pipe function in connection.c to pass only the
> > first character of the mode. This seems to work (fingers crossed). Then I
> > noticed gzfile has the same problem, but bzfile doesn't, and uses the same
> > solution as I did for pipe. Can I assume that this is a correct fix? Or were
> > there reasons that pipe and gzfile wouldn't allow "rb"?
> >
> > Thanks,
> >
> > Reid Huntsinger
>
> [irrelevant message deleted]
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Aug  6 09:26:11 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 6 Aug 2002 09:26:11 +0200
Subject: [R] Rcmd SHLIB problem {was "Fortran DLLs"}
In-Reply-To: <D30064BBFF2DD51180BC00508BDF3EE70CEFA6BA@pusehe07.eh.pweh.com>
References: <D30064BBFF2DD51180BC00508BDF3EE70CEFA6BA@pusehe07.eh.pweh.com>
Message-ID: <15695.31251.371197.594144@gargle.gargle.HOWL>

>>>>> "PaulTL" == Louisell, Paul , T <paul.louisell at pw.utc.com> writes:

    PaulTL> As several of you know, I'm working on getting my
    PaulTL> first DLL up and running.  Relevant Info:

    PaulTL> *	My operating system is Windows NT (at work, it's XP at home).
    PaulTL> *	I'm using R version 1.5.1 (6/17/2002).

    PaulTL> This is the error I currently get with the SHLIB command:


 PaulTL> C:\Program Files\R\rw1051\bin>Rcmd SHLIB H:\Stage9.Dun\RSforFILES\cir3int.f

 PaulTL> Can't locate Cwd.pm in @INC at C:\PROGRA~1\R\rw1051/bin/SHLIB line 21.


 PaulTL> BEGIN failed--compilation aborted at C:\PROGRA~1\R\rw1051/bin/SHLIB line 21.

    PaulTL> 'cir3int.f' is a FORTRAN source file. Ideas?

The error message (2nd line of the 3 above) is from perl not
finding a very standard perl module.

--> hence a problem with your installation of perl.
    Did you follow the instructions {in the RW FAQ and references} 
    very closely?

    PaulTL> Thanks,
    PaulTL> Paul Louisell ....

you're welcome.
Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Aug  6 09:39:46 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 6 Aug 2002 09:39:46 +0200
Subject: [R] Memory leak in R v1.5.1?
In-Reply-To: <3D4F576E.4090600@mit.edu>
References: <3D4F576E.4090600@mit.edu>
Message-ID: <15695.32066.125413.705603@gargle.gargle.HOWL>

>>>>> "Jan" == Jan Meyer <janm at mit.edu> writes:

    Jan> Hi,

    Jan> I am trying to minimize a rather complex function of 5
    Jan> parameters with gafit and nlm. Besides some problems
    Jan> with both optimization algorithms (with respect to
    Jan> consistantly generating similar results), I tried to
    Jan> run this optimization about a hundred times for yet two
    Jan> other parameters.

    Jan> Unfortunately, as the log below shows, during that
    Jan> batch process R starts to eat up all my RAM, preventing
    Jan> me to simply run this job over night.

    Jan> The problem seems to be related to memory used by cons
    Jan> cells, which are internal data structures like parse
    Jan> trees etc. as I understand. (For more see
    Jan> memory.profile() call all the way below) Despite me
    Jan> forcing garbage collection between each optimization
    Jan> run, these cells accumulate quite rapidly.

which must be a leak bug somewhere, yes, 
not necessarily in "core R" though.  It could be in your code or
in gafit() {which is from a contributed package and hence not in
"core R"}.

    Jan> All I am doing is calling my function (implemented as an R function 
    Jan> calling another R function) millions of times through gafit() and nlm(). 
    Jan> The little data that my function needs is loaded into the environment 
    Jan> prior to optimization. Either algorithm seems to accumulate cons cells.

    Jan> Any idea what could be the cause? My code maybe? Is this a memory leak 
    Jan> within R?

both are possible.  We have had rare cases of memory leaks
{found and fixed} in the past.

But since you mention "1.5.1" in the subject, have you used your
code in earlier versions of R and not seen the memory growth?

    Jan> Is there any other way to force garbage collection (or something 
    Jan> equivalent) on the ncells?

    Jan> Thanks.

Rather we need vastly better readable example code in order to
tell. The stuff you append looks terribly garbled (by your
e-mail software probably?), and what we really need is
*reproducible* source code (i.e. data, function, all available
in that R script) rather than a session log.
If it is true that you only have a basic function and everything
else is nlm() and gafit() calls, such a script shouldn't be too
long.

Thank you for the report and (in advance) for such a more useful
script.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><



    Jan> - Jan

    Jan> P.S. I run R v1.5.1 on i386 SuSE Linux v7.3 using the precompiled 
    Jan> binaries from CTAN for SuSE v7.3.

    Jan> -----------------
    >> fName ="designOpt"; Sweave(paste(fName, "rnw", sep="."),
    Jan> driver=Rtangle()); sourc
    Jan> e(paste(fName, "R", sep="."), local = TRUE)
    Jan> Writing to file designOpt.R
    Jan> 4 : designOpt-designCollectionFileFuncs.R
    Jan> hybridDesignOpt() called with: weight.margin= 0 , KG.margin= 0
    Jan> GA Design: ShipMathModel( LWL=551.205711406606, B=45.4637940845938,
    Jan> Cp=0.7198803735
    Jan> 31636, Cx=0.837682085129617, W.BP=872.396799843704,
    Jan> H.DKh=12.0780590098038, H.DKd=8
    Jan> .25941049673737 ) = (Cost=3.16 , Err.Pwr=15.0, Err.Range=18.5, B/H=3.55)
    Jan> Garbage collection 170 = 160+7+3 (level 2) ...
    Jan> 147999 cons cells free (26%)
    Jan> 7.8 Mbytes of heap free (77%)
    Jan> used (Mb) gc trigger (Mb) limit (Mb)
    Jan> Ncells 417001 11.2     565000 15.1       16.1
    Jan> Vcells 291029  2.3    1310720 10.0       20.0
    Jan> total       used       free     shared    buffers     cached
    Jan> Mem:        124948      93736      31212          0      17308      25824
    Jan> -/+ buffers/cache:      50604      74344
    Jan> Swap:       265032          8     265024
    Jan> [1] 0
    Jan> Gradient Design: ShipMathModel( LWL=537.059747125118,
    Jan> B=44.8171342153699, Cp=0.7222
    Jan> 67017738667, Cx=0.836634804176116, W.BP=872.197302196268,
    Jan> H.DKh=12.0780590098038, H
    Jan> .DKd=8.14724020090996 ) = (Cost=3.15  , Err.Pwr=11.5, Err.Range=25.1,
    Jan> B/H=3.45)
    Jan> Garbage collection 184 = 172+8+4 (level 2) ...
    Jan> 141287 cons cells free (25%)
    Jan> 7.7 Mbytes of heap free (77%)
    Jan> used (Mb) gc trigger (Mb) limit (Mb)
    Jan> Ncells 423713 11.4     565000 15.1       16.1
    Jan> Vcells 299539  2.3    1310720 10.0       20.0
    Jan> total       used       free     shared    buffers     cached
    Jan> Mem:        124948      93736      31212          0      17308      25824
    Jan> -/+ buffers/cache:      50604      74344
    Jan> Swap:       265032          8     265024
    Jan> [1] 0
    >>>>>>> im =  2 ; time =  Sat Aug  3 15:37:34 2002
    Jan> hybridDesignOpt() called with: weight.margin= 0 , KG.margin= 1.274
    Jan> GA Design: ShipMathModel( LWL=531.251923358073, B=44.9592165303293,
    Jan> Cp=0.726323984032877, Cx=0.823656217446154, W.BP=779.115652389105,
    Jan> H.DKh=11.7190083082315, H.DKd=8.55853079052759 ) = (Cost=3.16  ,
    Jan> Err.Pwr=13.7, Err.Range=14.3, B/H=3.47)
    Jan> Garbage collection 355 = 262+46+47 (level 2) ...
    Jan> 75179 cons cells free (13%)
    Jan> 7.1 Mbytes of heap free (70%)
    Jan> used (Mb) gc trigger (Mb) limit (Mb)
    Jan> Ncells 489821 13.1     565000 15.1       16.1
    Jan> Vcells 383011  3.0    1310720 10.0       20.0
    Jan> total       used       free     shared    buffers     cached
    Jan> Mem:        124948      93736      31212          0      17308      25824
    Jan> -/+ buffers/cache:      50604      74344
    Jan> Swap:       265032          8     265024
    Jan> [1] 0
    Jan> Gradient Design: ShipMathModel( LWL=531.076590422056,
    Jan> B=44.9466118426414, Cp=0.726049001140884, Cx=0.823594459634168,
    Jan> W.BP=779.10512867677, H.DKh=11.718702931698, H.DKd=8.55702887701944 ) =
    Jan> (Cost=3.16  , Err.Pwr=13.4, Err.Range=14.6, B/H=3.46)
    Jan> Garbage collection 373 = 268+51+54 (level 2) ...
    Jan> 70538 cons cells free (12%)
    Jan> 7.0 Mbytes of heap free (70%)
    Jan> used (Mb) gc trigger (Mb) limit (Mb)
    Jan> Ncells 494462 13.3     565000 15.1       16.1
    Jan> Vcells 388922  3.0    1310720 10.0       20.0
    Jan> total       used       free     shared    buffers     cached
    Jan> Mem:        124948      93736      31212          0      17308      25824
    Jan> -/+ buffers/cache:      50604      74344
    Jan> Swap:       265032          8     265024
    Jan> [1] 0
    >>>>>>> im =  3 ; time =  Sat Aug  3 15:40:14 2002
    Jan> hybridDesignOpt() called with: weight.margin= 0 , KG.margin= 2.548
    Jan> GA Design: ShipMathModel( LWL=578.21472911227, B=49.466359186738,
    Jan> Cp=0.702282574662
    Jan> H.DKd=11.5397975180451 ) = (Cost=3.25  , Err.Pwr=0.8, Err.Range=-1.5,
    Jan> B/H=3.28)
    Jan> Garbage collection 636 = 358+130+148 (level 2) ...
    Jan> 4432 cons cells free (0%)
    Jan> 6.4 Mbytes of heap free (63%)
    Jan> used (Mb) gc trigger (Mb) limit (Mb)
    Jan> Ncells 560568 15.0     565000 15.1       16.1
    Jan> Vcells 472355  3.7    1310720 10.0       20.0
    Jan> total       used       free     shared    buffers     cached
    Jan> Mem:        124948      94624      30324          0      17308      25824
    Jan> -/+ buffers/cache:      51492      73456
    Jan> Swap:       265032          8     265024
    Jan> [1] 0
    Jan> Error: cons memory exhausted (limit reached?)
    Jan> In addition: There were 24 warnings (use warnings() to see them)
    Jan> Lost warning messages
    >> gc()
    Jan> used (Mb) gc trigger (Mb) limit (Mb)
    Jan> Ncells 563691 15.1     565000 15.1       16.1
    Jan> Vcells 476605  3.7    1310720 10.0       20.0
    >> rm(list = ls(all = TRUE))
    >> gc()
    Jan> used (Mb) gc trigger (Mb) limit (Mb)
    Jan> Ncells 554338 14.9     565000 15.1       16.1
    Jan> Vcells 467858  3.6    1310720 10.0       20.0
    >> rm(list = ls(all = TRUE))
    >> gc()
    Jan> used (Mb) gc trigger (Mb) limit (Mb)
    Jan> Ncells 554338 14.9     565000 15.1       16.1
    Jan> Vcells 467858  3.6    1310720 10.0       20.0
    >> memory.profile()
    Jan> NILSXP     SYMSXP    LISTSXP     CLOSXP     ENVSXP    PROMSXP
    Jan> LANGSXP
    Jan> 1       5031     264110       1401      16047          0
    Jan> 60670
    Jan> SPECIALSXP BUILTINSXP    CHARSXP     LGLSXP                           INTSXP
    Jan> 59        503      29179       1682          0          0
    Jan> 24
    Jan> REALSXP    CPLXSXP     STRSXP     DOTSXP     ANYSXP     VECSXP
    Jan> EXPRSXP
    Jan> 135616          8      23982          0          0      16053
    Jan> 0
    Jan> EXTPTRSXP WEAKREFSXP
    Jan> 0          0          0
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Mon Aug  5 22:32:15 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Tue, 6 Aug 2002 08:32:15 +1200
Subject: [R] Formatting POSIXt values in plot axis labels
In-Reply-To: <3D4EECBB.89484E33@cornell.edu>; from RML27@cornell.edu on Mon, Aug 05, 2002 at 02:23:07PM -0700
References: <3D4EECBB.89484E33@cornell.edu>
Message-ID: <20020806083215.A13205@camille.indigoindustrial.co.nz>

On Mon, Aug 05, 2002 at 02:23:07PM -0700, Ronnen Levinson wrote:
> Hello.
> 
> I have an XYY series that I would like to graph with matplot() or some
> other single function that will do the trick.
> The X in question is a vector of POSIXt values obtained from strptime().
> 
...
> Is there a way for me to give plot() and/or
> matplot() formatting instructions for POSIXt values?
> 

Yup.  In two steps...

1) plot, but without a labeled x-axis (x.stuff should have 
class "POSIXct"):

matplot(x.stuff, y.stuff, xaxt="n")


2) you can now use axis.POSIXct()
And a very nice function it is.  You can tell it where to put
the ticks (if you don't find the defaults appropriate), and what
format to display the dates.

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Hagen.Schmoeller at iaew.rwth-aachen.de  Tue Aug  6 10:46:06 2002
From: Hagen.Schmoeller at iaew.rwth-aachen.de (Hagen =?ISO-8859-1?Q?Schm=F6ller?=)
Date: Tue, 06 Aug 2002 10:46:06 +0200
Subject: [R] Estimating Weibull parameters
Message-ID: <3D4F8CCE.7020505@iaew.rwth-aachen.de>

Hi R-Community,

I have a vector of Weibull distributed observations and I would like to 
estimate the parameters "shape" and "scale" of the Weibull distribution. 
Is there a way to do this in R?

Much thanks in advance,

Hagen Schm?ller
-- 
-----------------------------------------------------------------------
Dipl.-Ing. Hagen K. Schm?ller
Institut f?r Elektrische Anlagen und Energiewirtschaft, RWTH Aachen
Schinkelstra?e 6, D-52056 Aachen, Germany
Tel.: +49 (0)241 - 80 - 96734
Fax : +49 (0)241 - 80 - 92197
Hagen.Schmoeller at iaew.rwth-aachen.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug  6 11:13:19 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 6 Aug 2002 10:13:19 +0100 (BST)
Subject: [R] Estimating Weibull parameters
In-Reply-To: <3D4F8CCE.7020505@iaew.rwth-aachen.de>
Message-ID: <Pine.LNX.4.31.0208061011510.32653-100000@gannet.stats>

On Tue, 6 Aug 2002, Hagen [ISO-8859-1] Schmller wrote:

> I have a vector of Weibull distributed observations and I would like to
> estimate the parameters "shape" and "scale" of the Weibull distribution.
> Is there a way to do this in R?

Many ways.  Perhaps the simplest is function fitdistr in package MASS.
Another is via survreg() in package survival.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Aug  6 11:31:48 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 6 Aug 2002 11:31:48 +0200
Subject: [R] Estimating Weibull parameters
In-Reply-To: <3D4F8CCE.7020505@iaew.rwth-aachen.de>
References: <3D4F8CCE.7020505@iaew.rwth-aachen.de>
Message-ID: <15695.38788.195751.659423@gargle.gargle.HOWL>

>>>>> "Hagen" == Hagen Schm?ller <Hagen.Schmoeller at iaew.rwth-aachen.de> writes:


    Hagen> I have a vector of Weibull distributed observations
    Hagen> and I would like to estimate the parameters "shape"
    Hagen> and "scale" of the Weibull distribution.  Is there a
    Hagen> way to do this in R?

Yes, use the  fitdistr() function from the MASS package.
Its help file starts as

>> fitdistr                package:MASS                R Documentation
>>
>> Maximum-likelihood Fitting of Univariate Distributions
>>
>> Description:
>>
>>      Maximum-likelihood fitting of univariate distributions, allowing
>>      parameters to be held fixed if desired.
>>
>> Usage:
>>
>>      fitdistr(x, densfun, start, ...)
>>
>> Arguments:
>>
>>        x: A numeric vector.
>>
>>  densfun: Either a character string or a function returning a density
>>           evaluated at its first argument.
>>
>>           Distributions `"beta"', `"cauchy"', `"chi-squared"',
>>           `"exponential"', `"f"', `"gamma"', `"log-normal"',
>>           `"lognormal"', `"logistic"', `"negative binomial"',
>>           `"normal"', `"t"', `"uniform"' and `"weibull"' are
>>           recognised, case being ignored.

Regards,

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From huang at stats.ox.ac.uk  Tue Aug  6 11:51:55 2002
From: huang at stats.ox.ac.uk (Huan Huang)
Date: Tue, 6 Aug 2002 10:51:55 +0100
Subject: [R] Variance of Ridge Regression Estimators
References: <3D4EECBB.89484E33@cornell.edu> <20020806083215.A13205@camille.indigoindustrial.co.nz>
Message-ID: <001901c23d2e$ea61e7b0$a91401a3@stats.ox.ac.uk>

Dear list,

I have done the ridge regression. But it seems the function lm.ridge does
not return the variance for the estimators. Does anyone know how I can work
out the variance for the estimators (my matrix has factors)? Thanks a lot?

Huan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hennig at stat.math.ethz.ch  Tue Aug  6 12:05:59 2002
From: hennig at stat.math.ethz.ch (Christian Hennig)
Date: Tue, 6 Aug 2002 12:05:59 +0200 (CEST)
Subject: [R] Rd: more than one list
Message-ID: <Pine.LNX.4.44.0208061200390.5999-100000@florence>

Dear group,

I would like to document more than one function on one help page using the
Rd language. I tried something like

\value{
  \code{foo1} returns a list with components
  \item{arg1}{Argument 1}
  \item{arg2}{Argument 2}

  \code{foo2} returns a list with components
  \item{arg3}{Argument 3}
  \item{arg4}{Argument 4}
}

Unfortunately this makes the text 
"\code{foo2} returns a list with components" disappear in the help pages.
It seems that, after items are specified, no further text outside of items
can be processed. Is this true? What can I do to get both value lists 
documented without writing a separate page for foo2?

Best,
Christian

-- 
***********************************************************************
Christian Hennig
Seminar fuer Statistik, ETH-Zentrum (LEO), CH-8092 Zuerich (current)
and Fachbereich Mathematik-SPST/ZMS, Universitaet Hamburg
hennig at stat.math.ethz.ch, http://stat.ethz.ch/~hennig/
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Aug  6 12:11:27 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 6 Aug 2002 12:11:27 +0200
Subject: [R] timing predict.tree()
In-Reply-To: <Pine.GSO.4.44.0208051659490.12589-100000@flop.ENGR.ORST.EDU>
References: <Pine.GSO.4.44.0208051659490.12589-100000@flop.ENGR.ORST.EDU>
Message-ID: <15695.41167.502715.328801@gargle.gargle.HOWL>

>>>>> "Saket" == Saket Joshi <joshi at engr.orst.edu> writes:

    Saket> Hi all,
    Saket> I am running R1.5.0 under Unix.
    Saket> I am repeating my earlier question with a few details added.

    Saket> I have the following tree fitted as the tree object 'my.tree':

    Saket> node), split, n, deviance, yval
    Saket> * denotes terminal node

    Saket> 1) root 5807 0.9998 0.0001722
    Saket> 2) V604 < 0.5 5798 0.0000 0.0000000 *
    Saket> 3) V604 > 0.5 9 0.8889 0.1111000 *


    Saket> And I have a data.frame called 'new.temp' for which I
    Saket> want to make predictions with this tree. new.temp is
    Saket> a data.frame with a single row and the required
    Saket> number of columns.

    Saket> When I run:
    Saket> predict.tree(my.tree, new.temp)

    Saket> it takes 60 to 70 seconds to get the output. I had
    Saket> expected it to take far less because the tree is very
    Saket> small and the new data contains just 1 row.

    Saket> My question is: Does this function 'predict.tree'
    Saket> provided in the library package 'tree' really consume
    Saket> so much time even for minor calculations or is
    Saket> something wrong?

there is something wrong with your situation and you still gave not enough
details for us to find out.

For me, the three statements

  library(tree)
  example(predict.tree)
  predict(shuttle.tr, shuttle[254,,drop = FALSE])

all give output very quickly.

BTW : Note that the use of the `tree' package is not really
      recommended, but rather use the recommended package
      `rpart'

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug  6 12:14:21 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 6 Aug 2002 11:14:21 +0100 (GMT Daylight Time)
Subject: [R] Rd: more than one list
In-Reply-To: <Pine.LNX.4.44.0208061200390.5999-100000@florence>
Message-ID: <Pine.WNT.4.44.0208061112030.3648-100000@gannet.stats.ox.ac.uk>

On Tue, 6 Aug 2002, Christian Hennig wrote:

> Dear group,
>
> I would like to document more than one function on one help page using the
> Rd language. I tried something like
>
> \value{
>   \code{foo1} returns a list with components
>   \item{arg1}{Argument 1}
>   \item{arg2}{Argument 2}
>
>   \code{foo2} returns a list with components
>   \item{arg3}{Argument 3}
>   \item{arg4}{Argument 4}
> }
>
> Unfortunately this makes the text
> "\code{foo2} returns a list with components" disappear in the help pages.
> It seems that, after items are specified, no further text outside of items
> can be processed. Is this true? What can I do to get both value lists
> documented without writing a separate page for foo2?

It is true, for the good reason that one page should describe one function,
or one closely grouped set of functions.  There are workarounds (use the
list markup possibilities) but you should be aware that many of the foramts
to which .Rd can be translated (e.g. Sd, Ssgm) will not work correctly.

Best to accept that the restriction has a good reason.

>
> Best,
> Christian
>
> --
> ***********************************************************************
> Christian Hennig
> Seminar fuer Statistik, ETH-Zentrum (LEO), CH-8092 Zuerich (current)
> and Fachbereich Mathematik-SPST/ZMS, Universitaet Hamburg
> hennig at stat.math.ethz.ch, http://stat.ethz.ch/~hennig/
> hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
> #######################################################################
> ich empfehle www.boag.de
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Tue Aug  6 12:14:08 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Tue, 6 Aug 2002 12:14:08 +0200
Subject: [R] write.table() adds unnecessary spaces to right align integer column
Message-ID: <KKEGJOGBELBHDIKPINBMCEKLCOAA.hb@maths.lth.se>

When using write.table() to write data frames the integer columns are padded
with unnecessary spaces (0x20) so that these columns are right align if you
look at them in a text editor. However, I think it is quite a vast of file
size. For instance, I am reading a tab-delimited 4200kb microarray data file
and writing it back verbatim using write.table() and it becomes 5100kb, a
20% increase. Is this problem known and is there anyway to get around it?

Example (R --vanilla):

x <- c(0,1,10,100,1e3,1e5,1e6)
df <- data.frame(a=x, b=as.integer(x), c=as.character(x))
write.table(df, "out.dat")


Output:

"a" "b" "c"
"1" 0e+00       0 "0"
"2" 1e+00       1 "1"
"3" 1e+01      10 "10"
"4" 1e+02     100 "100"
"5" 1e+03    1000 "1000"
"6" 1e+05  100000 "1e+05"
"7" 1e+06 1000000 "1e+06"


str(R.Version()):
 $ platform: chr "i386-pc-mingw32"
 $ arch    : chr "i386"
 $ os      : chr "mingw32"
 $ system  : chr "i386, mingw32"
 $ status  : chr ""
 $ major   : chr "1"
 $ minor   : chr "5.1"
 $ year    : chr "2002"
 $ month   : chr "06"
 $ day     : chr "17"
 $ language: chr "R"

Thanks

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
+46 46 2229611 (off), +46 708 909208 (cell), +46 46 2224623 (fax)
h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug  6 12:32:37 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 6 Aug 2002 11:32:37 +0100 (GMT Daylight Time)
Subject: [R] write.table() adds unnecessary spaces to right align integer
 column
In-Reply-To: <KKEGJOGBELBHDIKPINBMCEKLCOAA.hb@maths.lth.se>
Message-ID: <Pine.WNT.4.44.0208061125580.2212-100000@gannet.stats.ox.ac.uk>

On Tue, 6 Aug 2002, Henrik Bengtsson wrote:

> When using write.table() to write data frames the integer columns are padded
> with unnecessary spaces (0x20) so that these columns are right align if you
> look at them in a text editor. However, I think it is quite a vast of file
> size. For instance, I am reading a tab-delimited 4200kb microarray data file
> and writing it back verbatim using write.table() and it becomes 5100kb, a
> 20% increase. Is this problem known and is there anyway to get around it?

Well, that's not really what write.table is for, so the problem is not with
write.table but with your usage of it.  Is 900kB file space important?  If
so, why are you not using compression?

If you don't want a table for human consumption, use e.g.save(compress=TRUE).
And if you want to strip blanks in a text file, use an pipe output
connection and strip them with sed, and then compress the file.

> Example (R --vanilla):
>
> x <- c(0,1,10,100,1e3,1e5,1e6)
> df <- data.frame(a=x, b=as.integer(x), c=as.character(x))
> write.table(df, "out.dat")
>
>
> Output:
>
> "a" "b" "c"
> "1" 0e+00       0 "0"
> "2" 1e+00       1 "1"
> "3" 1e+01      10 "10"
> "4" 1e+02     100 "100"
> "5" 1e+03    1000 "1000"
> "6" 1e+05  100000 "1e+05"
> "7" 1e+06 1000000 "1e+06"
>
>
> str(R.Version()):
>  $ platform: chr "i386-pc-mingw32"
>  $ arch    : chr "i386"
>  $ os      : chr "mingw32"
>  $ system  : chr "i386, mingw32"
>  $ status  : chr ""
>  $ major   : chr "1"
>  $ minor   : chr "5.1"
>  $ year    : chr "2002"
>  $ month   : chr "06"
>  $ day     : chr "17"
>  $ language: chr "R"
>
> Thanks
>
> Henrik Bengtsson
>
> Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
> Lund Institute of Technology/Lund University, Sweden (+2h UTC)
> +46 46 2229611 (off), +46 708 909208 (cell), +46 46 2224623 (fax)
> h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Tue Aug  6 13:02:34 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Tue, 6 Aug 2002 07:02:34 -0400
Subject: [R] Variance of Ridge Regression Estimators
In-Reply-To: <001901c23d2e$ea61e7b0$a91401a3@stats.ox.ac.uk>
References: <3D4EECBB.89484E33@cornell.edu>
	<20020806083215.A13205@camille.indigoindustrial.co.nz>
	<001901c23d2e$ea61e7b0$a91401a3@stats.ox.ac.uk>
Message-ID: <20020806070234.20a9ff24.fharrell@virginia.edu>

You can also do ridge regression (penalized least squares) using the ols function in the Design library.  This function provides standard errors but there is not a rich theory that provides complete comfort on their accuracy.

Frank Harrell

On Tue, 6 Aug 2002 10:51:55 +0100
Huan Huang <huang at stats.ox.ac.uk> wrote:

> Dear list,
> 
> I have done the ridge regression. But it seems the function lm.ridge does
> not return the variance for the estimators. Does anyone know how I can work
> out the variance for the estimators (my matrix has factors)? Thanks a lot?
> 
> Huan
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yerupaja01 at terra.es  Tue Aug  6 14:02:23 2002
From: yerupaja01 at terra.es (Antonio)
Date: Tue, 06 Aug 2002 14:02:23 +0200
Subject: [R] help with lagged scatterplot
Message-ID: <3.0.6.32.20020806140223.007b5530@pop3.terra.es>

Hi,

How do I can make a lagged scatterplot of two variables:	

 Yt (nao) versus Xt-h (mei)

if they have the following structure:

>series

	     mei	nao
Jan 1950 -1.036  0.55
Feb 1950 -1.133  3.31
Mar 1950 -1.259  0.81
Apr 1950 -1.027  1.60
May 1950 -1.399 -1.73
Jun 1950 -1.366  1.26
Jul 1950 -1.300 -0.87
.
.
.

I've tried with lag.plot but I don't understanf how to use it

Thanks in advance

Antonio Rodriguez
CICEM Agua del Pino
Huelva, Spain
Antonio Rodr?guez Verdugo
Huelva, Spain
yerupaja01 at terra.es
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Tue Aug  6 12:38:14 2002
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Tue, 06 Aug 2002 12:38:14 +0200 (MEST)
Subject: [R] help with lagged scatterplot
In-Reply-To: <3.0.6.32.20020806140223.007b5530@pop3.terra.es>
Message-ID: <XFMail.020806123814.theis@statistik.uni-dortmund.de>

Hi!

I'm not sure, if I understand you correctly, you want to plot nao at time t
against mei at time t-h. So lag.plot is not the right function because it plots
e.g. nao(t) against nao(t-h). Well, something along the lines

attach(data)
plot(mei[1:(length(mei)-h)],nao[-(1:h)])

should do what you want. (Negativ indices remove values from vectors or
matrices.)

Regards,

Winfried
On 06-Aug-02 Antonio wrote:
> Hi,
> 
> How do I can make a lagged scatterplot of two variables:      
> 
>  Yt (nao) versus Xt-h (mei)
> 
> if they have the following structure:
> 
>>series
> 
>            mei        nao
> Jan 1950 -1.036  0.55
> Feb 1950 -1.133  3.31
> Mar 1950 -1.259  0.81
> Apr 1950 -1.027  1.60
> May 1950 -1.399 -1.73
> Jun 1950 -1.366  1.26
> Jul 1950 -1.300 -0.87
> .
> .
> .
> 
> I've tried with lag.plot but I don't understanf how to use it
> 
> Thanks in advance
> 
> Antonio Rodriguez
> CICEM Agua del Pino
> Huelva, Spain
> Antonio Rodrguez Verdugo
> Huelva, Spain
> yerupaja01 at terra.es
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _

---------------------------------------------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 06-Aug-02

Dipl.-Math. Winfried Theis
SFB 475, Fachbereich Statistik, Universit"at Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903 FAX: +49-231-755-4387
----------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From swisdom at deephavenfunds.com  Tue Aug  6 15:18:53 2002
From: swisdom at deephavenfunds.com (Steve Wisdom)
Date: Tue, 6 Aug 2002 08:18:53 -0500 
Subject: [R] re| `By reference'
Message-ID: <7BB4C1D7A9B8D311A6D100C04F1FF97F042E1630@mnmail.arbitrade.com>


David Brahm <brahm at alum.mit.edu> wrote: 

>VBMorozov at lbl.gov wrote:

>> I would like to pass variables to a function in R in "by reference"...

>Just in case the ensuing discussion got too esoteric, here's one simple
answer:

>R> x <- 1:10
>R> MyFunc <- function(x, zz) assign(deparse(substitute(zz)), sum(x), 1)
>R> MyFunc(x,y)
>R> y
>   [1] 55

Still less esoteric is 

> MyFunc <- function(x,zz) zz <<- sum(x)
> MyFunc(1:10,y)
> y
[1] 55

Although I don't know if this is a good general solution to `passing by
reference' 

(BTW it behaves differently in S+ 

> MyFunc <- function(x,zz) zz <<- sum(x)
> MyFunc(1:10,y)
[1] 55
> y
 [1]  1  2  3  4  5  6  7  8  9 10

)



-- 

Steve Wisdom
http://208.202.87.68/subsidiaries/subsdeep.asp


-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE regarding privacy and confidentiality 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Aug  6 15:46:40 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Aug 2002 15:46:40 +0200
Subject: [R] re| `By reference'
In-Reply-To: <7BB4C1D7A9B8D311A6D100C04F1FF97F042E1630@mnmail.arbitrade.com>
References: <7BB4C1D7A9B8D311A6D100C04F1FF97F042E1630@mnmail.arbitrade.com>
Message-ID: <x2it2oyu9r.fsf@biostat.ku.dk>

Steve Wisdom <swisdom at deephavenfunds.com> writes:

> Still less esoteric is 
> 
> > MyFunc <- function(x,zz) zz <<- sum(x)
> > MyFunc(1:10,y)
> > y
> [1] 55
> 
> Although I don't know if this is a good general solution to `passing by
> reference' 

Eh? That's not supposed to work, and it doesn't:

> MyFunc <- function(x,zz) zz <<- sum(x)
> MyFunc(1:10,y)
> y
Error: Object "y" not found
> zz
[1] 55


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lecoutre at stat.ucl.ac.be  Tue Aug  6 16:01:41 2002
From: lecoutre at stat.ucl.ac.be (Eric Lecoutre)
Date: Tue, 06 Aug 2002 15:01:41 +0100
Subject: [R] Using Tcl/Tk on Windows
Message-ID: <5.1.1.5.2.20020806145703.00ac5958@stat4ux.stat.ucl.ac.be>


Hello,

I would like to try Tcl/Tk library on Windows.
I installed ActiveTCL 8.3.4.3 and add the environment variable TCL_LIBRARY 
linking to the directory of installation.

When I load the Tcl/Tk package, I have the following error:

+--------------------------------------------------------------+
Error in firstlib(which.lib.loc, package) :
         Can't find a usable init.tcl in the following directories:
     {d:\TCL}

This probably means that Tcl wasn't installed properly.
Error in library(pkg, character.only = TRUE) :
         .First.lib failed
+--------------------------------------------------------------+
Effectlively, there is no such file in the directory where I installed 
ActiveTCL 8.3.

I am working on Windows 2000, with R 1.5 and ActiveTCL 8.3.

Is there something I missed?

Eric Lecoutre

(note: I first downloaded ActiveTCL 8.4 beta, which would not work as the 
searched DLL is called tk83.dll and the one with this distribution is tk84.dll)

__________________________________________________

Eric Lecoutre         Informaticien / Statisticien
Institut de Statistique                        UCL

                               (+32) (0)10 47 30 50
                            lecoutre at stat.ucl.ac.be
     http://www.stat.ucl.ac.be/ISpersonnel/lecoutre

__________________________________________________
Le vrai danger, ce n'est pas quand les ordinateurs
penseront comme des hommes, c'est quand les hommes
penseront comme des ordinateurs.     Sydney Harris


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reid_huntsinger at merck.com  Tue Aug  6 16:07:25 2002
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Tue, 06 Aug 2002 10:07:25 -0400
Subject: [R] pipe and binary i/o (on Linux)
Message-ID: <2C23DE2983BE034CB1CB90DB6B813FD6028AC07A@uswpmx11.merck.com>

Thanks very much, Professor Ripley. 

Reid Huntsinger





-----Original Message-----
From: ripley at stats.ox.ac.uk [mailto:ripley at stats.ox.ac.uk]
Sent: Tuesday, August 06, 2002 3:00 AM
To: Huntsinger, Reid
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] pipe and binary i/o (on Linux)


On Mon, 5 Aug 2002 ripley at stats.ox.ac.uk wrote:

> pipe predates readBin, and no one has seen a reason to do this before you.

However, gzfile should work, and bzfile *always* opens with "rb".  Here's
an example on RH7.2:

> zz <- gzfile("testbin.gz", "wb")
> writeBin(1:10, zz)
> close(zz)
> zz <- gzfile("testbin.gz", "rb")
> readBin(zz, integer(), 4)
[1] 1 2 3 4
> readBin(zz, integer(), 6)
[1]  5  6  7  8  9 10
> close(zz)
> zz <- pipe("gzcat testbin.gz", "rb")
Error in pipe("gzcat testbin.gz", "rb") : unable to open connection
In addition: Warning message:
cannot open cmd `gzcat testbin.gz'

so pipe has problems, as on Linux popen does not respect "rb" (although on
other platforms it seems to).

> It's an adequate fix.

On Linux, that is: Windows needs the "b".  I've put a full fix in R-devel.

>
> On Mon, 5 Aug 2002, Huntsinger, Reid wrote:
>
> > I often want to use "pipe" with "readBin" to read (binary) data from the
> > standard output of a Perl or C program. For that I need "pipe" to work
with
> > the "open='rb'" option. It never worked for me, and after a look at the
> > connections.c file, I see that in "pipe_open" the mode gets passed
directly
> > to "popen" (I'm using Linux on an Intel machine). Popen doesn't know
"rb"
> > and fails. I modified the pipe function in connection.c to pass only the
> > first character of the mode. This seems to work (fingers crossed). Then
I
> > noticed gzfile has the same problem, but bzfile doesn't, and uses the
same
> > solution as I did for pipe. Can I assume that this is a correct fix? Or
were
> > there reasons that pipe and gzfile wouldn't allow "rb"?
> >
> > Thanks,
> >
> > Reid Huntsinger
>
> [irrelevant message deleted]
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Aug  6 16:15:11 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 06 Aug 2002 16:15:11 +0200
Subject: [R] Using Tcl/Tk on Windows
References: <5.1.1.5.2.20020806145703.00ac5958@stat4ux.stat.ucl.ac.be>
Message-ID: <3D4FD9EF.43308940@statistik.uni-dortmund.de>



Eric Lecoutre wrote:
> 
> Hello,
> 
> I would like to try Tcl/Tk library on Windows.
> I installed ActiveTCL 8.3.4.3 and add the environment variable TCL_LIBRARY
> linking to the directory of installation.
> 
> When I load the Tcl/Tk package, I have the following error:
> 
> +--------------------------------------------------------------+
> Error in firstlib(which.lib.loc, package) :
>          Can't find a usable init.tcl in the following directories:
>      {d:\TCL}
> 
> This probably means that Tcl wasn't installed properly.
> Error in library(pkg, character.only = TRUE) :
>          .First.lib failed
> +--------------------------------------------------------------+
> Effectlively, there is no such file in the directory where I installed
> ActiveTCL 8.3.
> 
> I am working on Windows 2000, with R 1.5 and ActiveTCL 8.3.
> 
> Is there something I missed?

Yes: TCL_LIBRARY means the library path of tcl, as the names suggests. I
guess, in your case, it should be set to d:\tcl\lib\tcl8.3 in which the
mentioned file exists.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjlu at ibm.stat.ncku.edu.tw  Tue Aug  6 17:28:28 2002
From: cjlu at ibm.stat.ncku.edu.tw (Lu Chi-Hsien Joseph)
Date: Wed, 7 Aug 2002 00:28:28 +0900
Subject: [R] Questions about lexical scope
Message-ID: <200208061528.AAA07590@ibm.stat.ncku.edu.tw>

Dear R-users,

The numerical integration example given in Gentleman and Ihaka (2000), 
"Lexical Scope and Statistical Computing," JCGS, 9, 491-508,
is very interesting and helpful in understanding how lexical scope 
is about.
However, I got some questions that I just can't figure out.
First all, allow me to copy the two functions given by the authors:

midpoint <- function(f, a, b, n=100) {
    h <- (b - a)/n
    (b - a)*mean(sapply(seq(a + h/2, b - h/2, length=n), f))
}

bv.integrate <- function(f, a, b, n=100, rule=midpoint) {
    g <- function(y) {
        fx <- function(x) f(x, y)
        rule(fx, a[2], b[2], n)
    }
    rule(g, a[1], b[1])
}

I modified the function name from "integrate" to "bv.integrate".
To integrate f(x,y)=sin(x + y) over the unit square,
it works:
> bv.integrate(function(x, y) sin(x + y), c(0,0), c(1,1))
[1] 0.773651
(compare with .7736445 calculated from 2sin(1)*(1 - cos(1)))

Then I write a function using trapezoidal rule as follows:

trapezoidal <- function(f, a, b, n=100) {
    h <- (b - a)/n
    i <- 1:n
    sum(f(a + (i - 1)*h), f(a + i*h))*h/2
}

I checked with
> trapezoidal(sin, 0, 1)
[1] 0.4596939
> 1 - cos(1)
[1] 0.4596977

and
> trapezoidal(dnorm, -3, 3)
[1] 0.9972922
> diff(pnorm(c(-3, 3)))
[1] 0.9973002

Then, this is what I got by plugged in "trapezoidal" for the "rule" 
in bv.integrate():
> bv.integrate(function(x, y) sin(x + y), c(0,0), c(1,1), rule=trapezoidal)
[1] 0.007080675

Hundred time smaller! 
Answer can be "improved" by increasing n, but always 100 times smaller.

Anything wrong with the way I wrote trapezoidal()?
I just can't figure out any difference, in terms of input/output,
between midpoint() and trapezoidal().

Then I tried to use integrate() as the rule in bv.integrate(),
by defining a wrap-up function:

intg <- function(f, a, b, n=100) integrate(f, a, b, n)$value

to have the value as the only output.
But, I got
> bv.integrate(function(x, y) sin(x + y), c(0,0), c(1,1), rule=intg)
Error in integrate(f, a, b, n) : evaluation of function gave a result 
of wrong length

I tried to use debugger() to find out what's wrong,
but not succeeded.
There must be something I missed in understanding the lexical scope,
however, what's going on with the function I wrote?
What should be the way to correct them?

Certainly, I know integrate() should be the one to use.
These are questions from my preparation of programming exercise 
of using R in my statistical computation class.

I'll be very appreciated for anyone who might help me on these
questions.

Best regards,

C. Joseph Lu
Department of Statistics
National Cheng-Kung University
Tainan, Taiwan, ROC
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From janm at mit.edu  Tue Aug  6 18:07:07 2002
From: janm at mit.edu (Jan Meyer)
Date: Tue, 06 Aug 2002 12:07:07 -0400
Subject: [R] Memory leak in R v1.5.1?
References: <3D4F576E.4090600@mit.edu> <15695.32066.125413.705603@gargle.gargle.HOWL>
Message-ID: <3D4FF42B.6000705@mit.edu>

Moin Martin,

danke fuer Deine schnelle Antwort.

[I will continue in English for the sake of forwardability]

It's very understandable to me that you're asking for readable example 
code. But then I was wondering, do you really want to look through ~1300 
lines of code (w/o comments) generated from a collection of Sweave 
files? I guess in that case I'd have to reduce my problem down to a 
level that can be easily overlooked but still causes the problem. 
Unfortunately I don't have the time for that during the next two weeks 
(really - please don't ask).

My idea was to ask for some hints from you first, then try to fix it my 
own, if that doesn't work quickly, find some ugly work around and pick 
up the problem in two weeks for a real solution.

For example I don't understand how it is possible for my code to 
generate this memory leak in particular, since this is not me playing 
the pointer wizard in C and since it's a problem with cons cells and not 
the heap. If I know what I could be doing wrong, I might be able to 
solve the problem myself.

Should the consumption of cons cell ever grow during the course of a 
session? [The consumption of these cells does not even go down if I 
terminate the script.] I force garbage collection with gc() does that 
also take care of the cons cell or heap only?

Thanks.

- Jan


Martin Maechler wrote:
>>>>>>"Jan" == Jan Meyer <janm at mit.edu> writes:
>>>>>
> 
>     Jan> Hi,
> 
>     Jan> I am trying to minimize a rather complex function of 5
>     Jan> parameters with gafit and nlm. Besides some problems
>     Jan> with both optimization algorithms (with respect to
>     Jan> consistantly generating similar results), I tried to
>     Jan> run this optimization about a hundred times for yet two
>     Jan> other parameters.
> 
>     Jan> Unfortunately, as the log below shows, during that
>     Jan> batch process R starts to eat up all my RAM, preventing
>     Jan> me to simply run this job over night.
> 
>     Jan> The problem seems to be related to memory used by cons
>     Jan> cells, which are internal data structures like parse
>     Jan> trees etc. as I understand. (For more see
>     Jan> memory.profile() call all the way below) Despite me
>     Jan> forcing garbage collection between each optimization
>     Jan> run, these cells accumulate quite rapidly.
> 
> which must be a leak bug somewhere, yes, 
> not necessarily in "core R" though.  It could be in your code or
> in gafit() {which is from a contributed package and hence not in
> "core R"}.
> 
>     Jan> All I am doing is calling my function (implemented as an R function 
>     Jan> calling another R function) millions of times through gafit() and nlm(). 
>     Jan> The little data that my function needs is loaded into the environment 
>     Jan> prior to optimization. Either algorithm seems to accumulate cons cells.
> 
>     Jan> Any idea what could be the cause? My code maybe? Is this a memory leak 
>     Jan> within R?
> 
> both are possible.  We have had rare cases of memory leaks
> {found and fixed} in the past.
> 
> But since you mention "1.5.1" in the subject, have you used your
> code in earlier versions of R and not seen the memory growth?
> 
>     Jan> Is there any other way to force garbage collection (or something 
>     Jan> equivalent) on the ncells?
> 
>     Jan> Thanks.
> 
> Rather we need vastly better readable example code in order to
> tell. The stuff you append looks terribly garbled (by your
> e-mail software probably?), and what we really need is
> *reproducible* source code (i.e. data, function, all available
> in that R script) rather than a session log.
> If it is true that you only have a basic function and everything
> else is nlm() and gafit() calls, such a script shouldn't be too
> long.
> 
> Thank you for the report and (in advance) for such a more useful
> script.
> 
> Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
> Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
> ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
> phone: x-41-1-632-3408		fax: ...-1228			<><
> 
> 
> 
>     Jan> - Jan
> 
>     Jan> P.S. I run R v1.5.1 on i386 SuSE Linux v7.3 using the precompiled 
>     Jan> binaries from CTAN for SuSE v7.3.
> 
>     Jan> -----------------
>     >> fName ="designOpt"; Sweave(paste(fName, "rnw", sep="."),
>     Jan> driver=Rtangle()); sourc
>     Jan> e(paste(fName, "R", sep="."), local = TRUE)
>     Jan> Writing to file designOpt.R
>     Jan> 4 : designOpt-designCollectionFileFuncs.R
>     Jan> hybridDesignOpt() called with: weight.margin= 0 , KG.margin= 0
>     Jan> GA Design: ShipMathModel( LWL=551.205711406606, B=45.4637940845938,
>     Jan> Cp=0.7198803735
>     Jan> 31636, Cx=0.837682085129617, W.BP=872.396799843704,
>     Jan> H.DKh=12.0780590098038, H.DKd=8
>     Jan> .25941049673737 ) = (Cost=3.16 , Err.Pwr=15.0, Err.Range=18.5, B/H=3.55)
>     Jan> Garbage collection 170 = 160+7+3 (level 2) ...
>     Jan> 147999 cons cells free (26%)
>     Jan> 7.8 Mbytes of heap free (77%)
>     Jan> used (Mb) gc trigger (Mb) limit (Mb)
>     Jan> Ncells 417001 11.2     565000 15.1       16.1
>     Jan> Vcells 291029  2.3    1310720 10.0       20.0
>     Jan> total       used       free     shared    buffers     cached
>     Jan> Mem:        124948      93736      31212          0      17308      25824
>     Jan> -/+ buffers/cache:      50604      74344
>     Jan> Swap:       265032          8     265024
>     Jan> [1] 0
>     Jan> Gradient Design: ShipMathModel( LWL=537.059747125118,
>     Jan> B=44.8171342153699, Cp=0.7222
>     Jan> 67017738667, Cx=0.836634804176116, W.BP=872.197302196268,
>     Jan> H.DKh=12.0780590098038, H
>     Jan> .DKd=8.14724020090996 ) = (Cost=3.15  , Err.Pwr=11.5, Err.Range=25.1,
>     Jan> B/H=3.45)
>     Jan> Garbage collection 184 = 172+8+4 (level 2) ...
>     Jan> 141287 cons cells free (25%)
>     Jan> 7.7 Mbytes of heap free (77%)
>     Jan> used (Mb) gc trigger (Mb) limit (Mb)
>     Jan> Ncells 423713 11.4     565000 15.1       16.1
>     Jan> Vcells 299539  2.3    1310720 10.0       20.0
>     Jan> total       used       free     shared    buffers     cached
>     Jan> Mem:        124948      93736      31212          0      17308      25824
>     Jan> -/+ buffers/cache:      50604      74344
>     Jan> Swap:       265032          8     265024
>     Jan> [1] 0
>     >>>>>>> im =  2 ; time =  Sat Aug  3 15:37:34 2002
>     Jan> hybridDesignOpt() called with: weight.margin= 0 , KG.margin= 1.274
>     Jan> GA Design: ShipMathModel( LWL=531.251923358073, B=44.9592165303293,
>     Jan> Cp=0.726323984032877, Cx=0.823656217446154, W.BP=779.115652389105,
>     Jan> H.DKh=11.7190083082315, H.DKd=8.55853079052759 ) = (Cost=3.16  ,
>     Jan> Err.Pwr=13.7, Err.Range=14.3, B/H=3.47)
>     Jan> Garbage collection 355 = 262+46+47 (level 2) ...
>     Jan> 75179 cons cells free (13%)
>     Jan> 7.1 Mbytes of heap free (70%)
>     Jan> used (Mb) gc trigger (Mb) limit (Mb)
>     Jan> Ncells 489821 13.1     565000 15.1       16.1
>     Jan> Vcells 383011  3.0    1310720 10.0       20.0
>     Jan> total       used       free     shared    buffers     cached
>     Jan> Mem:        124948      93736      31212          0      17308      25824
>     Jan> -/+ buffers/cache:      50604      74344
>     Jan> Swap:       265032          8     265024
>     Jan> [1] 0
>     Jan> Gradient Design: ShipMathModel( LWL=531.076590422056,
>     Jan> B=44.9466118426414, Cp=0.726049001140884, Cx=0.823594459634168,
>     Jan> W.BP=779.10512867677, H.DKh=11.718702931698, H.DKd=8.55702887701944 ) =
>     Jan> (Cost=3.16  , Err.Pwr=13.4, Err.Range=14.6, B/H=3.46)
>     Jan> Garbage collection 373 = 268+51+54 (level 2) ...
>     Jan> 70538 cons cells free (12%)
>     Jan> 7.0 Mbytes of heap free (70%)
>     Jan> used (Mb) gc trigger (Mb) limit (Mb)
>     Jan> Ncells 494462 13.3     565000 15.1       16.1
>     Jan> Vcells 388922  3.0    1310720 10.0       20.0
>     Jan> total       used       free     shared    buffers     cached
>     Jan> Mem:        124948      93736      31212          0      17308      25824
>     Jan> -/+ buffers/cache:      50604      74344
>     Jan> Swap:       265032          8     265024
>     Jan> [1] 0
>     >>>>>>> im =  3 ; time =  Sat Aug  3 15:40:14 2002
>     Jan> hybridDesignOpt() called with: weight.margin= 0 , KG.margin= 2.548
>     Jan> GA Design: ShipMathModel( LWL=578.21472911227, B=49.466359186738,
>     Jan> Cp=0.702282574662
>     Jan> H.DKd=11.5397975180451 ) = (Cost=3.25  , Err.Pwr=0.8, Err.Range=-1.5,
>     Jan> B/H=3.28)
>     Jan> Garbage collection 636 = 358+130+148 (level 2) ...
>     Jan> 4432 cons cells free (0%)
>     Jan> 6.4 Mbytes of heap free (63%)
>     Jan> used (Mb) gc trigger (Mb) limit (Mb)
>     Jan> Ncells 560568 15.0     565000 15.1       16.1
>     Jan> Vcells 472355  3.7    1310720 10.0       20.0
>     Jan> total       used       free     shared    buffers     cached
>     Jan> Mem:        124948      94624      30324          0      17308      25824
>     Jan> -/+ buffers/cache:      51492      73456
>     Jan> Swap:       265032          8     265024
>     Jan> [1] 0
>     Jan> Error: cons memory exhausted (limit reached?)
>     Jan> In addition: There were 24 warnings (use warnings() to see them)
>     Jan> Lost warning messages
>     >> gc()
>     Jan> used (Mb) gc trigger (Mb) limit (Mb)
>     Jan> Ncells 563691 15.1     565000 15.1       16.1
>     Jan> Vcells 476605  3.7    1310720 10.0       20.0
>     >> rm(list = ls(all = TRUE))
>     >> gc()
>     Jan> used (Mb) gc trigger (Mb) limit (Mb)
>     Jan> Ncells 554338 14.9     565000 15.1       16.1
>     Jan> Vcells 467858  3.6    1310720 10.0       20.0
>     >> rm(list = ls(all = TRUE))
>     >> gc()
>     Jan> used (Mb) gc trigger (Mb) limit (Mb)
>     Jan> Ncells 554338 14.9     565000 15.1       16.1
>     Jan> Vcells 467858  3.6    1310720 10.0       20.0
>     >> memory.profile()
>     Jan> NILSXP     SYMSXP    LISTSXP     CLOSXP     ENVSXP    PROMSXP
>     Jan> LANGSXP
>     Jan> 1       5031     264110       1401      16047          0
>     Jan> 60670
>     Jan> SPECIALSXP BUILTINSXP    CHARSXP     LGLSXP                           INTSXP
>     Jan> 59        503      29179       1682          0          0
>     Jan> 24
>     Jan> REALSXP    CPLXSXP     STRSXP     DOTSXP     ANYSXP     VECSXP
>     Jan> EXPRSXP
>     Jan> 135616          8      23982          0          0      16053
>     Jan> 0
>     Jan> EXTPTRSXP WEAKREFSXP
>     Jan> 0          0          0


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From smalladi at lexgen.com  Tue Aug  6 18:16:27 2002
From: smalladi at lexgen.com (Sukhaswami Malladi)
Date: Tue, 6 Aug 2002 11:16:27 -0500 
Subject: [R] Repeated Measures ANOVA
Message-ID: <80A38867B1DBD511A8C9009027764C8C3798F5@lexchange.lexgen.com>

R-help,

Could someone in the list write as to what is the R function to 
perform repeated measures ANOVA and post-hoc tests ?

Thanks in advance,
swami



*************************************************************************** 
 The contents of this communication are intended only for the addressee and
may contain confidential and/or privileged material. If you are not the
intended recipient, please do not read, copy, use or disclose this
communication and notify the sender.  Opinions, conclusions and other
information in this communication that do not relate to the official
business of my company shall be understood as neither given nor endorsed by
it.  
*************************************************************************** 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramasamy at stats.ox.ac.uk  Tue Aug  6 18:25:53 2002
From: ramasamy at stats.ox.ac.uk (Adaikalavan Ramasamy)
Date: Tue, 6 Aug 2002 17:25:53 +0100
Subject: [R] Memory leak in R v1.5.1?
References: <3D4F576E.4090600@mit.edu> <15695.32066.125413.705603@gargle.gargle.HOWL> <3D4FF42B.6000705@mit.edu>
Message-ID: <002f01c23d65$ef4c9540$a81401a3@stats.ox.ac.uk>

Hi ! I am trying to minimise a function over 2 variables simultaneously. Is
this possible ? I have only recently been introduced to optim() and
optimise() function. Here is simple example of what I tried to do :

silly.fn <- function(x,y) { (x-5)^2 + (y-2)^2 }
optim( par=c(3,1) , silly.fn )

Analytically, the answer should be (5,2) but the computer is asking for the
y value. Is there a function to do the minimisation simultaneously in S-PLUS
or R ?

Many thanks, Adai.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reid_huntsinger at merck.com  Tue Aug  6 18:56:33 2002
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Tue, 06 Aug 2002 12:56:33 -0400
Subject: [R] Memory leak in R v1.5.1? (how to use optim)
Message-ID: <2C23DE2983BE034CB1CB90DB6B813FD6028AC07C@uswpmx11.merck.com>

You need to have the variables over which you want to minimize
passed as a single argument (the first). Try

silly.fn <- function(params) ( (params[1] - 5)^2 + (params[2] - 2)^2 )

Reid Huntsinger

-----Original Message-----
From: Adaikalavan Ramasamy [mailto:ramasamy at stats.ox.ac.uk]
Sent: Tuesday, August 06, 2002 12:26 PM
To: R-help at stat.math.ethz.ch
Cc: stone at stats.ox.ac.uk
Subject: Re: [R] Memory leak in R v1.5.1?


Hi ! I am trying to minimise a function over 2 variables simultaneously. Is
this possible ? I have only recently been introduced to optim() and
optimise() function. Here is simple example of what I tried to do :

silly.fn <- function(x,y) { (x-5)^2 + (y-2)^2 }
optim( par=c(3,1) , silly.fn )

Analytically, the answer should be (5,2) but the computer is asking for the
y value. Is there a function to do the minimisation simultaneously in S-PLUS
or R ?

Many thanks, Adai.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Tue Aug  6 18:57:30 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Tue, 6 Aug 2002 12:57:30 -0400
Subject: [R] Repeated Measures ANOVA
In-Reply-To: <80A38867B1DBD511A8C9009027764C8C3798F5@lexchange.lexgen.com>; from smalladi@lexgen.com on Tue, Aug 06, 2002 at 11:16:27AM -0500
References: <80A38867B1DBD511A8C9009027764C8C3798F5@lexchange.lexgen.com>
Message-ID: <20020806125730.A18290@cattell.psych.upenn.edu>

On 08/06/02 11:16, Sukhaswami Malladi wrote:
>R-help,
>
>Could someone in the list write as to what is the R function to 
>perform repeated measures ANOVA and post-hoc tests ?

See http://www.psych.upenn.edu/~baron/rpsych.htm,
particularly section 6, on repeated measures.  But there may be
other ways to do it.  (And I'll leave post-hoc tests to others.)

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page:            http://www.sas.upenn.edu/~baron
R page:               http://finzi.psych.upenn.edu/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug  6 19:18:22 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 6 Aug 2002 18:18:22 +0100 (BST)
Subject: [R] Repeated Measures ANOVA
In-Reply-To: <20020806125730.A18290@cattell.psych.upenn.edu>
Message-ID: <Pine.LNX.4.31.0208061814420.2974-100000@gannet.stats>

On Tue, 6 Aug 2002, Jonathan Baron wrote:

> On 08/06/02 11:16, Sukhaswami Malladi wrote:
> >R-help,
> >
> >Could someone in the list write as to what is the R function to
> >perform repeated measures ANOVA and post-hoc tests ?
>
> See http://www.psych.upenn.edu/~baron/rpsych.htm,
> particularly section 6, on repeated measures.  But there may be
> other ways to do it.

Certainly.  Those not steeped in the traditional approach will probably
find lme easier to use.

> (And I'll leave post-hoc tests to others.)

As a start, TukeyHSD and the pairwise.* functions in package ctest, and
function p.adjust. Package multcomp on CRAN  goes further `for the one-way
layout'.  There are other pieces around too.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rvaradha at jhsph.edu  Tue Aug  6 19:27:10 2002
From: rvaradha at jhsph.edu (Ravi Varadhan)
Date: Tue, 06 Aug 2002 13:27:10 -0400
Subject: [R] Memory leak in R v1.5.1?
Message-ID: <2cb5c42c9bdb.2c9bdb2cb5c4@jhsph.edu>


Try:

> silly.fn <- function(x) { (x[1]-5)^2 + (x[2]-2)^2 }
> optim( par=c(3,1) , silly.fn )

you'll get the correct answer.

Ravi.



----- Original Message -----
From: Adaikalavan Ramasamy <ramasamy at stats.ox.ac.uk>
Date: Tuesday, August 6, 2002 12:25 pm
Subject: Re: [R] Memory leak in R v1.5.1?

> Hi ! I am trying to minimise a function over 2 variables 
> simultaneously. Is
> this possible ? I have only recently been introduced to optim() and
> optimise() function. Here is simple example of what I tried to do :
> 
> silly.fn <- function(x,y) { (x-5)^2 + (y-2)^2 }
> optim( par=c(3,1) , silly.fn )
> 
> Analytically, the answer should be (5,2) but the computer is 
> asking for the
> y value. Is there a function to do the minimisation simultaneously 
> in S-PLUS
> or R ?
> 
> Many thanks, Adai.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-
> FAQ.htmlSend "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-
> 
request at stat.math.ethz.ch_._._._._._._._._._._._._._._._._._._._._._._._
._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From demiurg at post.tau.ac.il  Tue Aug  6 19:51:44 2002
From: demiurg at post.tau.ac.il (demiurg@post.tau.ac.il)
Date: Tue, 06 Aug 2002 20:51:44 +0300 (IDT)
Subject: [R] nnet question
Message-ID: <1028656304.3d500cb0f1b3e@webmail.tau.ac.il>

Hello.

I have a (most probably stupid) question about 
one of the nnet error messages that I can not 
understand :


Error in matrix(NA, length(keep), nout, dimnames = list(rn,
dimnames(object$fitted)[[2]])) : 
	length of dimnames[1] not equal to array extent


it happens in predict.nnet().

Here is my code :

iue.nnet <-  nnet.formula(FAMILY2 ~ FLUX.0+FLUX.1+FLUX.2+FLUX.3

....

FLUX.556+FLUX.557+FLUX.558+FLUX.559+FLUX.560+FLUX.561,
data = spectra.log.family2.tiny, na.action = na.omit, size=2, MaxNWts=32000 );

iue.nnet.predict <- predict.nnet(iue.nnet, spectra.log.family2.tiny, type="class")


Thanks a lot...
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at esb.ucp.pt  Tue Aug  6 20:24:34 2002
From: peter at esb.ucp.pt (Peter Ho)
Date: Tue, 06 Aug 2002 19:24:34 +0100
Subject: [R] AOV in MASS not the same??
Message-ID: <3D501462.2020804@esb.ucp.pt>

I would appreciate it if someone could explain the results of the 
example from the aov() help file. The output given below is different 
from book
Venables and Ripley -  MASS

The results In R1.5.1 (Under windows) is as follows:
 > N <- c(0,1,0,1,1,1,0,0,0,1,1,0,1,1,0,0,1,0,1,0,1,1,0,0)
 > P <- c(1,1,0,0,0,1,0,1,1,1,0,0,0,1,0,1,1,0,0,1,0,1,1,0)
 > K <- c(1,0,0,1,0,1,1,0,0,1,0,1,0,1,1,0,0,0,1,1,1,0,1,0)
 > yield <- c(49.5,62.8,46.8,57.0,59.8,58.5,55.5,56.0,62.8,55.8,69.5,55.0,
+            62.0,48.8,45.5,44.2,52.0,51.5,49.8,48.8,57.2,59.0,53.2,56.0)
 > npk <- data.frame(block=gl(6,4), N=factor(N), P=factor(P),
+                   K=factor(K), yield=yield)
 >
 > ( npk.aov <- aov(yield ~ block + N*P*K, npk) )
Call:
   aov(formula = yield ~ block + N * P * K, data = npk)

Terms:
                           block        N                P        K      
        N:P              N:K      P:K
Sum of Squares  343.2950 189.2817   8.4017  95.2017  21.2817  33.1350   
0.4817
Deg. of Freedom        5        1                    1        1          
      1                1                1
                Residuals
Sum of Squares   185.2867
Deg. of Freedom        12

Residual standard error: 3.929447
1 out of 13 effects not estimable
Estimated effects may be unbalanced
 > summary(npk.aov)
                     Df     Sum Sq   Mean Sq   F value        Pr(>F)  
block             5      343.30    68.66        4.4467        0.015939 *
N                  1      189.28    189.28      12.2587      0.004372 **
P                   1       8.40       8.40          0.5441       
 0.474904  
K                  1       95.20     95.20        6.1657        0.028795 *
N:P               1      21.28      21.28        1.3783        0.263165  
N:K               1      33.13     33.13         2.1460        0.168648  
P:K                1       0.48      0.48           0.0312       
 0.862752  
Residuals   12 185.29   15.44                   
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1
 > coefficients(npk.aov)
(Intercept)      block2      block3      block4      block5      block6
 51.8250000   3.4250000   6.7500000  -3.9000000  -3.5000000   2.3250000
         N1          P1          K1       N1:P1       N1:K1       P1:K1
  9.8500000   0.4166667  -1.9166667  -3.7666667  -4.7000000   0.5666667


The output for the ANOVA table is exactly the same as in Venables and 
Ripley MASS page 177, but the values of the coefficients are different. 
Also if
alias(npk.aov) is used,as in the book, a different result is also obtained :

Model :
yield ~ block + N + P + K + N:P + N:K + P:K + N:P:K

Complete :
                     (Intercept) block2 block3 block4 block5 block6     
N1        P1        K1        N1:P1     N1:K1     P1:K1
N1:P1:K1                          0.25   0.25   0.25                  
          -0.25     -0.25     -0.25      0.50          0.50      0.50



Can someone explain why this is different from the book MASS.

I also have a more general question in relation to the coefficient 
terms. Why are there more than one coefficint for the blocking factor. I 
want to construct a normal probability plot of effects and since the 
ANOVA table gives me one block term, why are are more than one 
coefficient term for blocks. Is there another way to extract the 
regression coefficients? I don't understand why there are more than one 
blocking coefficient .

Also in this analysis the block coefficients are from block2 to block 6, 
whereas we have block1 to block5 in MASS.

Another point is that at the end of the ANOVA (summary) table  the 
warning "Estimated effects may be unbalanced" (aslo different from the 
book) . In this case, should aov() be used or should I refit the model 
with , say lme() ?


Thanks

Peter






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kevin.Bartz at FMR.COM  Tue Aug  6 21:45:55 2002
From: Kevin.Bartz at FMR.COM (Bartz, Kevin)
Date: Tue, 6 Aug 2002 15:45:55 -0400 
Subject: [R] [ and setMethod conflict?
Message-ID: <763C275E6A1C2248AFD475237AD6135BE7CFA6@MSGBOS576NTS.fmr.com>

I noticed this oddity about [ and setMethod.

First, I define testFunc, which sorts a data frame by the first column and
returns the entries that aren't NAs, and testIt, which runs testFunc
repeatedly on a random large data frame, each time saving the return into a
dummy placeholder (for demonstration's sake).

> require(methods)
Loading required package: methods 
[1] TRUE
> testFunc <- function(cur) {
+   sorted <- cur[order(cur[,1]),]
+   sorted[!is.na(sorted[,1]),]
+ }
> testIt <- function(num)
+   for (i in 1:num) {
+     cat("iteration", i, "...\n")
+     dummy <- testFunc(as.data.frame(matrix(rnorm(5000 * 9),9)))
+   }

Let's test out testIt.

> testIt(10)
iteration 1 ...
iteration 2 ...
iteration 3 ...
iteration 4 ...
iteration 5 ...
iteration 6 ...
iteration 7 ...
iteration 8 ...
iteration 9 ...
iteration 10 ...

So far, no problems. Next, I define myClass.

> setClass("myClass", representation(mySlot = "numeric"))
[1] "myClass"
> setMethod("[", signature(x = "myClass"),
+           function(x, i, j, drop) "[ for myClass")
[1] "["

Again, everything is fine. I've expanded [ to handle objects of class
myClass. But when we attempt to use testIt now, problems emerge:

> testIt(10)
iteration 1 ...
Error in "[.data.frame"(cur, order(cur[, 1]), ) : 
	unused argument(s) (.Method ...)

Maybe that was just a fluke. Trying again, we get:

> testIt(10)
iteration 1 ...
iteration 2 ...
Error in sorted[, 1] : incorrect number of dimensions

A different message every time, and the error seems no bug of mine (a
.Method argument? What is that?). In fact, testIt produces a seemingly
random response from R on each subsequent attempt--everything from
successful execution to similarly ambiguous errors to a process-killing "Bus
Error."

All in all, it seems that once I've defined a new method for [ I can no
longer count on it to operate properly in any context.

Is this the intended behavior? And if so, is there any way I can have one
class present that overloads [ and still use [ to reliably subset data
frames?

Thanks,

Kevin

> R.version
         _                   
platform sparc-sun-solaris2.6
arch     sparc               
os       solaris2.6          
system   sparc, solaris2.6   
status                       
major    1                   
minor    5.1                 
year     2002                
month    06                  
day      17                  
language R         
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug  6 21:44:56 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 6 Aug 2002 20:44:56 +0100 (BST)
Subject: [R] AOV in MASS not the same??
In-Reply-To: <3D501462.2020804@esb.ucp.pt>
Message-ID: <Pine.LNX.4.31.0208062044200.3235-100000@gannet.stats>

On Tue, 6 Aug 2002, Peter Ho wrote:

> I would appreciate it if someone could explain the results of the
> example from the aov() help file. The output given below is different
> from book
> Venables and Ripley -  MASS

You forgot to set the the contrasts!

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jg_liao at yahoo.com  Tue Aug  6 22:12:40 2002
From: jg_liao at yahoo.com (Jason Liao)
Date: Tue, 6 Aug 2002 13:12:40 -0700 (PDT)
Subject: [R] hard to believe speed difference
Message-ID: <20020806201240.22661.qmail@web10501.mail.yahoo.com>

First, I love R and am grateful to be using this free and extremely
high quality software.

Recently I have been comparing two algorithms and naturally I
programmed in R first. It is so slow that I can almost feel its pain.
So I decided to do a comparison with Java. To draw 500,0000 truncated
normal, Java program takes 2 second and R takes 72 seconds. Not a
computer science major, I find it hard to understand how R can be so
slow.

R code:

normal.truncated <- function(mean, sd, lower, upper)
	 {  
	    repeat
            { 
		deviate = round( rnorm(1, mean, sd) );
                if(deviate<=upper && deviate>=lower) break;
            }
	    temp <- c(deviate+.5, deviate-.5, upper+.5, lower-.5);
	    result <- pnorm(temp, mean, sd);
	    prob <- (result[1] - result[2])/(result[3] - result[4]);

            return(c(deviate, prob));
     }

     print(date());

     n = 500000;
     result = numeric(n);

     for(i in 1:n) result[i] = normal.truncated(0,1, -10, 10)[1]
     print(date());

Java Code:

    package Mcdonald;
    import VisualNumerics.math.*;
    import java.util.*;

    public final class normal_univariate_truncated 
    {
       public double harvest, prob;
       static Random ran_obj = new Random();
       
       public normal_univariate_truncated(double mean, double var,
double lower, double upper)
       { 
          double sd = Math.sqrt(var);
          
          lower -= .5;
          upper += .5;
          double left = (lower - mean)/sd;
          double right = (upper - mean)/sd;
          double prob2 = Statistics.normalCdf(right) -
Statistics.normalCdf(left);
          
          while(true)
          {
              harvest = mean + ran_obj.nextGaussian()*sd;              
              if(harvest>lower && harvest<upper) break;
          }
          
          harvest = Sfun.nearestInteger(harvest);                 
          left = (harvest - .5 - mean)/sd;
          right = (harvest + .5 - mean)/sd;
          double prob1 = Statistics.normalCdf(right) -
Statistics.normalCdf(left);                  
                  
          prob = prob1/prob2;           
       }
          
       
       public static void main(String[] useless)
       {
           System.out.println(new Date());
           int n = 500000;
           double[] result = new double[n];
           for(int i=0; i<n; i++) 
           {
               normal_univariate_truncated obj = new
normal_univariate_truncated(0, 1, -10, 10);
               result[i] = obj.harvest;
           }
           System.out.println(new Date());
       }
           
    }


=====
Jason G. Liao, Ph.D.
Division of Biometrics
University of Medicine and Dentistry of New Jersey
335 George Street, Suite 2200
New Brunswick, NJ 08903-2688
phone (732) 235-8611, fax (732) 235-9777
http://www.geocities.com/jg_liao

__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Tue Aug  6 22:26:10 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Tue, 06 Aug 2002 16:26:10 -0400
Subject: [R] AOV in MASS not the same??
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC54E@usrymx10.merck.com>

> From: Peter Ho [mailto:peter at esb.ucp.pt]
> 
> I would appreciate it if someone could explain the results of the 
> example from the aov() help file. The output given below is different 
> from book
> Venables and Ripley -  MASS
> 

[snipped]
> 
> The output for the ANOVA table is exactly the same as in Venables and 
> Ripley MASS page 177, but the values of the coefficients are 
> different. 

I believe this is in the FAQ.  By default Splus uses the Helmert contrasts
for factors.  R uses the "treatment contrasts", which are the differences
between the 1st and all other levels of the factor (most likely easier to
interpret than the Helmert contrast).  I guess that's the reason the
coefficients in R are labelled "block2" through "block6".

[snipped]
> 
> I also have a more general question in relation to the coefficient 
> terms. Why are there more than one coefficint for the 
> blocking factor. I 
> want to construct a normal probability plot of effects and since the 
> ANOVA table gives me one block term, why are are more than one 
> coefficient term for blocks. Is there another way to extract the 
> regression coefficients? I don't understand why there are 
> more than one 
> blocking coefficient .

Sorry to be frank--- where did you learn your linear model / ANOVA?  For a
factor with k levels, there are k-1 contrasts, and thus k-1 coefficients.
The entry in the ANOVA table encompasses all these coefficients.  (Notice
there are 6 blocks, so 5 df for the block term in the ANOVA table, and 5
coefficients for block).
 
> Also in this analysis the block coefficients are from block2 
> to block 6, 
> whereas we have block1 to block5 in MASS.

See above.
 
> Another point is that at the end of the ANOVA (summary) table  the 
> warning "Estimated effects may be unbalanced" (aslo different 
> from the 
> book) . In this case, should aov() be used or should I refit 
> the model 
> with , say lme() ?

MASS, up to the 3rd edition, is totally based on Splus, and R is *not*
Splus.  You should not expect the output to be identical to that degree.
That's almost like asking all vendors of C compilers to use exactly the same
set of error messages!

I'd suggest you get more familiar with aov (and linear model formulations)
before you wet your feet with lme, or risk being drown.

> Thanks
> 
> Peter

Andy

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug  6 22:38:29 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 6 Aug 2002 21:38:29 +0100 (BST)
Subject: [R] badly written code may be slow (was hard to believe speed
 difference)
In-Reply-To: <20020806201240.22661.qmail@web10501.mail.yahoo.com>
Message-ID: <Pine.LNX.4.31.0208062130220.3363-100000@gannet.stats>

If you write R like C or Java, it will often be slow.  R is a vector
language, so learn to work with it rather than against it.

For a truncated (standard) normal, try qnorm(runif(500000, a, b)) for
suitable a and b (pnorm(lower) and pnorm(upper)?)

And what are you going to do with 0.5m truncated normals that makes 70s
significant?

BTW, R has system.time() to time things.

On Tue, 6 Aug 2002, Jason Liao wrote:

> First, I love R and am grateful to be using this free and extremely
> high quality software.
>
> Recently I have been comparing two algorithms and naturally I
> programmed in R first. It is so slow that I can almost feel its pain.
> So I decided to do a comparison with Java. To draw 500,0000 truncated
> normal, Java program takes 2 second and R takes 72 seconds. Not a
> computer science major, I find it hard to understand how R can be so
> slow.

It's not the language ....

> R code:
>
> normal.truncated <- function(mean, sd, lower, upper)
> 	 {
> 	    repeat
>             {
> 		deviate = round( rnorm(1, mean, sd) );
>                 if(deviate<=upper && deviate>=lower) break;
>             }
> 	    temp <- c(deviate+.5, deviate-.5, upper+.5, lower-.5);
> 	    result <- pnorm(temp, mean, sd);
> 	    prob <- (result[1] - result[2])/(result[3] - result[4]);
>
>             return(c(deviate, prob));
>      }
>
>      print(date());
>
>      n = 500000;
>      result = numeric(n);
>
>      for(i in 1:n) result[i] = normal.truncated(0,1, -10, 10)[1]
>      print(date());
>
> Java Code:
>
>     package Mcdonald;
>     import VisualNumerics.math.*;
>     import java.util.*;
>
>     public final class normal_univariate_truncated
>     {
>        public double harvest, prob;
>        static Random ran_obj = new Random();
>
>        public normal_univariate_truncated(double mean, double var,
> double lower, double upper)
>        {
>           double sd = Math.sqrt(var);
>
>           lower -= .5;
>           upper += .5;
>           double left = (lower - mean)/sd;
>           double right = (upper - mean)/sd;
>           double prob2 = Statistics.normalCdf(right) -
> Statistics.normalCdf(left);
>
>           while(true)
>           {
>               harvest = mean + ran_obj.nextGaussian()*sd;
>               if(harvest>lower && harvest<upper) break;
>           }
>
>           harvest = Sfun.nearestInteger(harvest);
>           left = (harvest - .5 - mean)/sd;
>           right = (harvest + .5 - mean)/sd;
>           double prob1 = Statistics.normalCdf(right) -
> Statistics.normalCdf(left);
>
>           prob = prob1/prob2;
>        }
>
>
>        public static void main(String[] useless)
>        {
>            System.out.println(new Date());
>            int n = 500000;
>            double[] result = new double[n];
>            for(int i=0; i<n; i++)
>            {
>                normal_univariate_truncated obj = new
> normal_univariate_truncated(0, 1, -10, 10);
>                result[i] = obj.harvest;
>            }
>            System.out.println(new Date());
>        }
>
>     }
>
>
> =====
> Jason G. Liao, Ph.D.
> Division of Biometrics
> University of Medicine and Dentistry of New Jersey
> 335 George Street, Suite 2200
> New Brunswick, NJ 08903-2688
> phone (732) 235-8611, fax (732) 235-9777
> http://www.geocities.com/jg_liao
>
> __________________________________________________
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Aug  6 22:56:00 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 6 Aug 2002 13:56:00 -0700 (PDT)
Subject: [R] hard to believe speed difference
In-Reply-To: <20020806201240.22661.qmail@web10501.mail.yahoo.com>
Message-ID: <Pine.A41.4.44.0208061329530.167136-100000@homer38.u.washington.edu>

On Tue, 6 Aug 2002, Jason Liao wrote:

> First, I love R and am grateful to be using this free and extremely
> high quality software.
>
> Recently I have been comparing two algorithms and naturally I
> programmed in R first. It is so slow that I can almost feel its pain.
> So I decided to do a comparison with Java. To draw 500,0000 truncated
> normal, Java program takes 2 second and R takes 72 seconds. Not a
> computer science major, I find it hard to understand how R can be so
> slow.
>
> R code:
>
> normal.truncated <- function(mean, sd, lower, upper)
> 	 {
> 	    repeat
>             {
> 		deviate = round( rnorm(1, mean, sd) );
>                 if(deviate<=upper && deviate>=lower) break;
>             }
> 	    temp <- c(deviate+.5, deviate-.5, upper+.5, lower-.5);
> 	    result <- pnorm(temp, mean, sd);
> 	    prob <- (result[1] - result[2])/(result[3] - result[4]);
>
>             return(c(deviate, prob));
>      }
>
>      print(date());
>
>      n = 500000;
>      result = numeric(n);
>
>      for(i in 1:n) result[i] = normal.truncated(0,1, -10, 10)[1]
>      print(date());
>

Largely because you aren't using vectorised code. Loops in R are slow (to
some extent true with all interpreters).  The way around this is to use
R's ability to work on vectors or matrices instead of looping over their
elements.

Eg
rtruncnorm<-function(n,mean,sd,lower,upper){

    rval<-numeric(n)
    done<-rep(FALSE,n)
    while(m<-sum(!done)){
        rval[!done] <- round(rnorm(m,mean,sd))
        done <- rval>=lower & rval<=upper
    }

    prob<-(pnorm(rval+0.5,mean,sd)-pnorm(rval-0.5,mean,sd))/(pnorm(upper+0.5,mean,sd)-pnorm(lower-0.5))
    cbind(rval,prob)

}

rtruncnorm2<-function(n,mean,sd,lower,upper){

    uval<-runif(n,pnorm(lower-0.5,mean,sd),pnorm(upper+0.5,mean,sd))
    rval<-round(qnorm(uval,mean,sd))
    prob<-(pnorm(rval+0.5,mean,sd)-pnorm(rval-0.5,mean,sd))/(pnorm(upper+0.5,mean,sd)-pnorm(lower-0.5))
    cbind(rval,prob)

}

are two improved versions of your code that run more than 20 times
faster on my computer.
The first uses the same rejection sampling algorithm that you use, but
does it for the whole vector at once.

The second generates truncated uniforms (which is trivial) and transforms
them to Normal.

In addition to being a lot faster than your code I think they will handle
the case where mean, sd, lower or upper are also vectors.

Even faster, if you only want whole numbers and always the same
parameters, is to compute the probabilities once and then sample from the
resulting discrete distribution.

rtruncnorm3<-function(n,mean,sd,lower,upper){
	p<-diff(pnorm((lower:(1+upper))-0.5,mean,sd))
	sample(lower:upper,n,replace=TRUE,prob=p)
}
This is about 400 times faster than your version (and the speed advantage
would increase if the truncation points were less extreme), apparently
faster than the Java program.

By the way, there's no point truncating standard Normals to [-10,10]. The
probability of getting anything outside [-10,10] in 500000 samples is
about 10^-17. Even for [-6, 6] it's less than 0.001.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yerupaja01 at terra.es  Tue Aug  6 23:51:41 2002
From: yerupaja01 at terra.es (Antonio)
Date: Tue, 06 Aug 2002 23:51:41 +0200
Subject: [R] help with lagged scatterplot
In-Reply-To: <XFMail.020806123814.theis@statistik.uni-dortmund.de>
References: <3.0.6.32.20020806140223.007b5530@pop3.terra.es>
Message-ID: <3.0.6.32.20020806235141.007c91e0@pop3.terra.es>

Dear Winfried,

Thanks!!

Seems to work fine. So if I had correctly understand, if I want to plot NAO
vs MEI-6 (6 months earlier) I need to write.

plot(mei[1:(length(mei)-6)],nao[-(1:6)])

It's OK?

As I have negative values for both variables I don't understand your note:

>(Negativ indices remove values from vectors or
>matrices.)

What does it means. My negative values are interfering some way the output?

Thanks in advance

Antonio


Antonio Rodr?guez Verdugo
Huelva, Spain
yerupaja01 at terra.es
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmc at research.bell-labs.com  Wed Aug  7 00:30:38 2002
From: jmc at research.bell-labs.com (John Chambers)
Date: Tue, 06 Aug 2002 18:30:38 -0400
Subject: [R] [ and setMethod conflict?
References: <763C275E6A1C2248AFD475237AD6135BE7CFA6@MSGBOS576NTS.fmr.com>
Message-ID: <3D504E0E.84B79745@research.bell-labs.com>

Definitely something funny going on, but perhaps a little less sweeping
than your comments suggest.

No explanation at the moment, but a couple of clues.

1.  The problem doesn't seem to arise unless the data frame is large
enough.  I parametrized the 5000 rows in your example and couldn't get
the bizarre behavior until the number of rows was larger than 1000.

2.  There is some reason to think that nested "[" expressions are
related.  After rewriting your testFunc as follows, the random errors
seemed to go away.

testFunc <- function(cur) {
    ii <- order(cur[,1])
  sorted <- cur[ii,]
    ll <- !is.na(sorted[,1])
   sorted[ll,]
 }
(the change is just to pull out the subset expressions that were
arguments to other "[" expressions.)

I'm not an expert on R internals, but the combination of these might
suggest garbage collection taking place in nested calls to the dispatch
code for "[".

John Chambers

PS:  this thread might be more suited to r-devel than r-help.


"Bartz, Kevin" wrote:
> 
> I noticed this oddity about [ and setMethod.
> 
> First, I define testFunc, which sorts a data frame by the first column and
> returns the entries that aren't NAs, and testIt, which runs testFunc
> repeatedly on a random large data frame, each time saving the return into a
> dummy placeholder (for demonstration's sake).
> 
> > require(methods)
> Loading required package: methods
> [1] TRUE
> > testFunc <- function(cur) {
> +   sorted <- cur[order(cur[,1]),]
> +   sorted[!is.na(sorted[,1]),]
> + }
> > testIt <- function(num)
> +   for (i in 1:num) {
> +     cat("iteration", i, "...\n")
> +     dummy <- testFunc(as.data.frame(matrix(rnorm(5000 * 9),9)))
> +   }
> 
> Let's test out testIt.
> 
> > testIt(10)
> iteration 1 ...
> iteration 2 ...
> iteration 3 ...
> iteration 4 ...
> iteration 5 ...
> iteration 6 ...
> iteration 7 ...
> iteration 8 ...
> iteration 9 ...
> iteration 10 ...
> 
> So far, no problems. Next, I define myClass.
> 
> > setClass("myClass", representation(mySlot = "numeric"))
> [1] "myClass"
> > setMethod("[", signature(x = "myClass"),
> +           function(x, i, j, drop) "[ for myClass")
> [1] "["
> 
> Again, everything is fine. I've expanded [ to handle objects of class
> myClass. But when we attempt to use testIt now, problems emerge:
> 
> > testIt(10)
> iteration 1 ...
> Error in "[.data.frame"(cur, order(cur[, 1]), ) :
>         unused argument(s) (.Method ...)
> 
> Maybe that was just a fluke. Trying again, we get:
> 
> > testIt(10)
> iteration 1 ...
> iteration 2 ...
> Error in sorted[, 1] : incorrect number of dimensions
> 
> A different message every time, and the error seems no bug of mine (a
> .Method argument? What is that?). In fact, testIt produces a seemingly
> random response from R on each subsequent attempt--everything from
> successful execution to similarly ambiguous errors to a process-killing "Bus
> Error."
> 
> All in all, it seems that once I've defined a new method for [ I can no
> longer count on it to operate properly in any context.
> 
> Is this the intended behavior? And if so, is there any way I can have one
> class present that overloads [ and still use [ to reliably subset data
> frames?
> 
> Thanks,
> 
> Kevin
> 
> > R.version
>          _
> platform sparc-sun-solaris2.6
> arch     sparc
> os       solaris2.6
> system   sparc, solaris2.6
> status
> major    1
> minor    5.1
> year     2002
> month    06
> day      17
> language R
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
John M. Chambers                  jmc at bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From PNg at illumina.com  Wed Aug  7 04:04:15 2002
From: PNg at illumina.com (Ng, Pauline)
Date: Tue, 6 Aug 2002 19:04:15 -0700 
Subject: [R] ftell and fseek
Message-ID: <6EDF654BC7BFE648AB2E734727E7078D015C0D25@illumina24.illumina.com>

Hi,

I'm stumped.  How can I do ftell and fseek in R?  (Where ftell gives the
position in the file and fseek points the file pointer to a given position.)

Thanks,
Pauline 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Tue Aug  6 19:21:09 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Wed, 7 Aug 2002 05:21:09 +1200
Subject: [R] ftell and fseek
In-Reply-To: <6EDF654BC7BFE648AB2E734727E7078D015C0D25@illumina24.illumina.com>; from PNg@illumina.com on Tue, Aug 06, 2002 at 07:04:15PM -0700
References: <6EDF654BC7BFE648AB2E734727E7078D015C0D25@illumina24.illumina.com>
Message-ID: <20020807052109.A16360@camille.indigoindustrial.co.nz>

On Tue, Aug 06, 2002 at 07:04:15PM -0700, Ng, Pauline wrote:
> I'm stumped.  How can I do ftell and fseek in R?  (Where ftell gives the
> position in the file and fseek points the file pointer to a given position.)

help(seek) tells all.

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Aug  7 08:58:39 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 07 Aug 2002 08:58:39 +0200
Subject: [R] help with lagged scatterplot
References: <3.0.6.32.20020806140223.007b5530@pop3.terra.es> <3.0.6.32.20020806235141.007c91e0@pop3.terra.es>
Message-ID: <3D50C51F.F5E0AAEB@statistik.uni-dortmund.de>

Antonio wrote:
> 
> Dear Winfried,
> 
> Thanks!!
> 
> Seems to work fine. So if I had correctly understand, if I want to plot NAO
> vs MEI-6 (6 months earlier) I need to write.
> 
> plot(mei[1:(length(mei)-6)],nao[-(1:6)])
> 
> It's OK?
> 
> As I have negative values for both variables I don't understand your note:
> 
> >(Negativ indices remove values from vectors or
> >matrices.)
> 
> What does it means. My negative values are interfering some way the output?

No. Winfried wrote about the *indices*, not values. He tried to point
you to the "-" in your nao[-(1:6)] , which removes the first 6 values of
nao.
Maybe it's a good idea to read "An Introduction to R".

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wilson at visi.com  Wed Aug  7 09:10:02 2002
From: wilson at visi.com (Tim Wilson)
Date: Wed, 7 Aug 2002 02:10:02 -0500
Subject: [R] Forcing integers to be nominal
Message-ID: <20020807071002.GA16637@isis.visi.com>

Hi everyone,

I've got a problem with an analysis of variance where it appears that my
independent variable is being treated as an integer when it should be
nominal.

The data are being loaded from an SPSS file and the independent variable
'YearColl' corresponds (surprisingly enough) to a student's year in
college. :-) The integers 1-4 are used in the dataset for this purpose.
My quick little anova gives this result:

> mir.aov <- aov(DepressT ~ YearColl, data=mir)
> summary(mir.aov)
             Df  Sum Sq Mean Sq F value   Pr(>F)
YearColl      1   955.7   955.7  10.305 0.001474 **
Residuals   293 27172.5    92.7
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1

I was expecting the df for YearColl to be (k-1) = 3.

Am I reading this right? Is there a way to force integers to act like
nominal data?

-Tim

-- 
Tim Wilson      |   Visit Sibley online:   | Check out:
Henry Sibley HS |  http://www.isd197.org   | http://www.zope.com
W. St. Paul, MN |                          | http://slashdot.org
wilson at visi.com |  <dtml-var pithy_quote>  | http://linux.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug  7 09:17:16 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 7 Aug 2002 08:17:16 +0100 (BST)
Subject: [R] Forcing integers to be nominal
In-Reply-To: <20020807071002.GA16637@isis.visi.com>
Message-ID: <Pine.LNX.4.31.0208070814200.6521-100000@gannet.stats>

On Wed, 7 Aug 2002, Tim Wilson wrote:

> I've got a problem with an analysis of variance where it appears that my
> independent variable is being treated as an integer when it should be
> nominal.
>
> The data are being loaded from an SPSS file and the independent variable
> 'YearColl' corresponds (surprisingly enough) to a student's year in
> college. :-) The integers 1-4 are used in the dataset for this purpose.
> My quick little anova gives this result:
>
> > mir.aov <- aov(DepressT ~ YearColl, data=mir)
> > summary(mir.aov)
>              Df  Sum Sq Mean Sq F value   Pr(>F)
> YearColl      1   955.7   955.7  10.305 0.001474 **
> Residuals   293 27172.5    92.7
> ---
> Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1
>
> I was expecting the df for YearColl to be (k-1) = 3.
>
> Am I reading this right? Is there a way to force integers to act like
> nominal data?

What you mean is that you want YearColl to be a factor and so coded.
as.factor() will help.

R has no idea what you meant: you gave it an integer variable, and it
handled it as such.  Don't be surprised if R does as it is told.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Wed Aug  7 09:30:54 2002
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Wed, 7 Aug 2002 09:30:54 +0200 (MEST)
Subject: [R] Forcing integers to be nominal
In-Reply-To: <20020807071002.GA16637@isis.visi.com>
Message-ID: <Pine.LNX.4.21.0208070930100.17171-100000@artemis>


> Hi everyone,
> 
> I've got a problem with an analysis of variance where it appears that my
> independent variable is being treated as an integer when it should be
> nominal.
> 

see ?(as.)factor

Torsten

> The data are being loaded from an SPSS file and the independent variable
> 'YearColl' corresponds (surprisingly enough) to a student's year in
> college. :-) The integers 1-4 are used in the dataset for this purpose.
> My quick little anova gives this result:
> 
> > mir.aov <- aov(DepressT ~ YearColl, data=mir)
> > summary(mir.aov)
>              Df  Sum Sq Mean Sq F value   Pr(>F)
> YearColl      1   955.7   955.7  10.305 0.001474 **
> Residuals   293 27172.5    92.7
> ---
> Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1
> 
> I was expecting the df for YearColl to be (k-1) = 3.
> 
> Am I reading this right? Is there a way to force integers to act like
> nominal data?
> 
> -Tim
> 
> -- 
> Tim Wilson      |   Visit Sibley online:   | Check out:
> Henry Sibley HS |  http://www.isd197.org   | http://www.zope.com
> W. St. Paul, MN |                          | http://slashdot.org
> wilson at visi.com |  <dtml-var pithy_quote>  | http://linux.com
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Wed Aug  7 10:29:46 2002
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Wed, 7 Aug 2002 10:29:46 +0200 (CEST)
Subject: [R] ftell and fseek
In-Reply-To: <6EDF654BC7BFE648AB2E734727E7078D015C0D25@illumina24.illumina.com>
Message-ID: <Pine.LNX.4.44.0208071029120.22479-100000@reclus.nhh.no>

On Tue, 6 Aug 2002, Ng, Pauline wrote:

> Hi,
> 
> I'm stumped.  How can I do ftell and fseek in R?  (Where ftell gives the
> position in the file and fseek points the file pointer to a given position.)
> 
seek() on an open connection.

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sholl at gmx.net  Wed Aug  7 11:44:01 2002
From: sholl at gmx.net (Stephan Holl)
Date: Wed, 7 Aug 2002 11:44:01 +0200
Subject: [R] xfig-output
Message-ID: <20020807114401.7e856ac4.sholl@gmx.net>

Dear R-List, 
I would like to plot into xfig-format.... everything works fine except
the fact, that all plot-measuers are shown in inches.

I can change that with editing the file in an editor, but is there a
possibility to extract the file  in Metric units?
thanks for your help.

cheers 
steph


-- 
Linux: the operating system with a CLUE...
         Command Line User Environment.
--------------------------------------
Stephan Holl
GnuPG Key-ID: 11946A09
ICQ# 117277975 
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alexandra.Patriksson.8520 at student.uu.se  Wed Aug  7 12:02:08 2002
From: Alexandra.Patriksson.8520 at student.uu.se (Alexandra Patriksson)
Date: Wed, 07 Aug 2002 12:02:08 +0200 (CEST)
Subject: [R] calling R-functions from C++ code
Message-ID: <1028714528.3d50f020205b6@cuculus.its.uu.se>

Hi,

I'm working with a C++ program, in which we would like to use some of the
existing R-functions, in this case a function which performs loess
normalization. My question is if it's possible to call this loess-function from
within my C++ code and how to do it?  How do I connect the R program to C++?

best regards
Alexandra, summer student at the university of Cambridge
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baty at biomserv.univ-lyon1.fr  Wed Aug  7 12:17:46 2002
From: baty at biomserv.univ-lyon1.fr (Florent BATY)
Date: Wed, 07 Aug 2002 12:17:46 +0200
Subject: [R] Reading characters using read.table()
Message-ID: <3D50F3CA.9030201@biomserv.univ-lyon1.fr>

Hello,

I need to read a vector containing names of different variables from a 
text file (a unique column). Among them one is called "T". When I use 
the function read.table with default arguments and when I call the 
element of the data frame corresponding to name of this variable it 
returns me the logical value "TRUE" whereas I was expected it to return 
the character "T".
Is it possible to specify the type data expected in a data frame when 
using the read.table function in order to make it unable to interpret 
"T" as "True" ?? Or is there any other functions enabling to import text 
data from a text file ??

Thanks in advance,

Florent

 
_______________________________________

Florent BATY
CNRS UMR 5558
Dynamique des Populations Bact?riennes
Facult? de M?decine Lyon-Sud
69921 OULLINS, BP 12
FRANCE
tel : +33 (0)4 78 86 31 67
fax : +33 (0)4 78 86 31 49
_______________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug  7 12:28:24 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 7 Aug 2002 11:28:24 +0100 (BST)
Subject: [R] Reading characters using read.table()
In-Reply-To: <3D50F3CA.9030201@biomserv.univ-lyon1.fr>
Message-ID: <Pine.LNX.4.31.0208071126520.9202-100000@gannet.stats>

On Wed, 7 Aug 2002, Florent BATY wrote:

> I need to read a vector containing names of different variables from a
> text file (a unique column). Among them one is called "T". When I use
> the function read.table with default arguments and when I call the
> element of the data frame corresponding to name of this variable it
> returns me the logical value "TRUE" whereas I was expected it to return
> the character "T".
> Is it possible to specify the type data expected in a data frame when
> using the read.table function in order to make it unable to interpret
> "T" as "True" ?? Or is there any other functions enabling to import text
> data from a text file ??

Yes, see the help page and argument colClasses.

Yes, I would have used scan().


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sholl at gmx.net  Wed Aug  7 12:29:23 2002
From: sholl at gmx.net (Stephan Holl)
Date: Wed, 7 Aug 2002 12:29:23 +0200
Subject: [R] Setting the size of a plot
Message-ID: <20020807122923.08dac37d.sholl@gmx.net>

Dear R-List,

how can I set the size of a plot. It seams, that the default is always
dina4 -papersize, but I would like to plot in an 8x8cm window....
how can I realise that

cheers 
 steph


-- 
Linux: the operating system with a CLUE...
         Command Line User Environment.
--------------------------------------
Stephan Holl
GnuPG Key-ID: 11946A09
ICQ# 117277975 
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Aug  7 13:07:08 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 07 Aug 2002 13:07:08 +0200
Subject: [R] Setting the size of a plot
References: <20020807122923.08dac37d.sholl@gmx.net>
Message-ID: <3D50FF5C.C3812AB3@statistik.uni-dortmund.de>



Stephan Holl wrote:
> 
> Dear R-List,
> 
> how can I set the size of a plot. It seams, that the default is always
> dina4 -papersize, but I would like to plot in an 8x8cm window....
> how can I realise that
> 
> cheers
>  steph

See "papersize" in ?options and the argument "paper" in ?postscript.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baty at biomserv.univ-lyon1.fr  Wed Aug  7 13:51:38 2002
From: baty at biomserv.univ-lyon1.fr (Florent BATY)
Date: Wed, 07 Aug 2002 13:51:38 +0200
Subject: [R] Reading characters using read.table()
References: <Pine.LNX.4.31.0208071126520.9202-100000@gannet.stats>
Message-ID: <3D5109CA.5000405@biomserv.univ-lyon1.fr>

Thanks a lot !
By using

 > var_read.table("file",colClasses=c("character"))

R returns a data.frame with characters in it.

Florent



ripley at stats.ox.ac.uk wrote:

>On Wed, 7 Aug 2002, Florent BATY wrote:
>
>>I need to read a vector containing names of different variables from a
>>text file (a unique column). Among them one is called "T". When I use
>>the function read.table with default arguments and when I call the
>>element of the data frame corresponding to name of this variable it
>>returns me the logical value "TRUE" whereas I was expected it to return
>>the character "T".
>>Is it possible to specify the type data expected in a data frame when
>>using the read.table function in order to make it unable to interpret
>>"T" as "True" ?? Or is there any other functions enabling to import text
>>data from a text file ??
>>
>
>Yes, see the help page and argument colClasses.
>
>Yes, I would have used scan().
>
>


-- 
_______________________________________

Florent BATY
CNRS UMR 5558
Dynamique des Populations Bact?riennes
Facult? de M?decine Lyon-Sud
69921 OULLINS, BP 12
FRANCE
tel : +33 (0)4 78 86 31 67
fax : +33 (0)4 78 86 31 49
_______________________________________




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Wed Aug  7 13:51:44 2002
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 07 Aug 2002 07:51:44 -0400
Subject: [R] Forcing integers to be nominal
In-Reply-To: <20020807071002.GA16637@isis.visi.com>
Message-ID: <5.1.0.14.2.20020807073908.01d91750@mcmail.cis.mcmaster.ca>

Dear Tim,

As has been pointed out, you need to ensure that YearColl is coerced to a 
factor. The read.spss function by default converts variables to factors 
when they have value labels in the SPSS data set; otherwise numeric 
variables without value labels remain numeric. See help(read.spss).

I hope that this helps,
  John

At 02:10 AM 8/7/2002 -0500, Tim Wilson wrote:
>Hi everyone,
>
>I've got a problem with an analysis of variance where it appears that my
>independent variable is being treated as an integer when it should be
>nominal.
>
>The data are being loaded from an SPSS file and the independent variable
>'YearColl' corresponds (surprisingly enough) to a student's year in
>college. :-) The integers 1-4 are used in the dataset for this purpose.
>My quick little anova gives this result:
>
> > mir.aov <- aov(DepressT ~ YearColl, data=mir)
> > summary(mir.aov)
>              Df  Sum Sq Mean Sq F value   Pr(>F)
>YearColl      1   955.7   955.7  10.305 0.001474 **
>Residuals   293 27172.5    92.7
>---
>Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1
>
>I was expecting the df for YearColl to be (k-1) = 3.
>
>Am I reading this right? Is there a way to force integers to act like
>nominal data?


-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pmj at jciconsult.com  Wed Aug  7 14:03:56 2002
From: pmj at jciconsult.com (Paul M. Jacobson)
Date: Wed, 7 Aug 2002 08:03:56 -0400
Subject: [R] Pseudo R^2 for logit - really naive question
In-Reply-To: <20020804113607.392fef34.fharrell@virginia.edu>
Message-ID: <000b01c23e0a$823ac580$345c5242@p800>

I could find the function in the function search option on CRAN.  However,
how to find the actual library remains a mystery to me.  I could not see it
under the list of available bundles and packages on the CRAN site
http://lib.stat.cmu.edu/R/CRAN/sources.html
I am very much a newbie to the R world and need some more direct help.

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Frank E Harrell Jr
Sent: August 4, 2002 11:36 AM
To: pmj at jciconsult.com
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] Pseudo R^2 for logit - really naive question


The Nagelkerke R^2 is commonly used.   The lrm function in the Design
library computes this for logistic regression.  The numerator is 1 -
exp(-LR/n) where LR is the likelihood ratio chi-square stat and n is the
total sample size.  Divide it by the maximum attainable value of this if the
model is perfect (which is a simple function of the -2 log likelihood with
an intercept-only model) to get Nagelkerke's R^2.  The numerator is exactly
the ordinary R^2 in OLS, as LR = -n log(1-R^2) there.  For a more
interpretable index and one that measures purely discrimination ability, the
ROC area or "C index" which is essentially a Mann-Whitney statistic based on
concordance probability is recommended.  The lrm function also outputs this
or you can get it from the somers2 or rcorr.cens functions in the Hmisc
library.

Frank Harrell

On Sun, 4 Aug 2002 09:08:46 -0400
"Paul M. Jacobson" <pmj at jciconsult.com> wrote:

> I am using GLM to calculate logit models based on cross-sectional data.  I
> am now down to the hard work of making the results intelligible to very
> average readers.  Is there any way to calculate a psuedo analoque to the
R^2
> in standard linear regression for use as a purely descriptive statistic of
> goodness of fit? Most of the readers of my report will be vaguely familiar
> and more comfortable with R^2 than with any other regression diagnostics.
>
> Paul M. Jacobson
> Jacobson Consulting Inc.
> 80 Front Street East, Suite 720
> Toronto, ON, M5E 1T4
> Voice:  +1(416)868-1141
> Farm: +1(519)463-6061/6224
> Fax: +1(416)868-1131
> E-mail: pmj at jciconsult.com
> Web:  http://www.jciconsult.com/
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


--
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Wed Aug  7 14:21:58 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Wed, 7 Aug 2002 08:21:58 -0400
Subject: [R] Pseudo R^2 for logit - really naive question
In-Reply-To: <000b01c23e0a$823ac580$345c5242@p800>
References: <20020804113607.392fef34.fharrell@virginia.edu>
	<000b01c23e0a$823ac580$345c5242@p800>
Message-ID: <20020807082158.408c19cc.fharrell@virginia.edu>

Design and Hmisc libraries are not yet on CRAN.  See http://hesweb1.med.virginia.edu/biostat/s for links that will allow you to download them.  -Frank Harrell

On Wed, 7 Aug 2002 08:03:56 -0400
"Paul M. Jacobson" <pmj at jciconsult.com> wrote:

> I could find the function in the function search option on CRAN.  However,
> how to find the actual library remains a mystery to me.  I could not see it
> under the list of available bundles and packages on the CRAN site
> http://lib.stat.cmu.edu/R/CRAN/sources.html
> I am very much a newbie to the R world and need some more direct help.
> 
> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Frank E Harrell Jr
> Sent: August 4, 2002 11:36 AM
> To: pmj at jciconsult.com
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] Pseudo R^2 for logit - really naive question
> 
> 
> The Nagelkerke R^2 is commonly used.   The lrm function in the Design
> library computes this for logistic regression.  The numerator is 1 -
> exp(-LR/n) where LR is the likelihood ratio chi-square stat and n is the
> total sample size.  Divide it by the maximum attainable value of this if the
> model is perfect (which is a simple function of the -2 log likelihood with
> an intercept-only model) to get Nagelkerke's R^2.  The numerator is exactly
> the ordinary R^2 in OLS, as LR = -n log(1-R^2) there.  For a more
> interpretable index and one that measures purely discrimination ability, the
> ROC area or "C index" which is essentially a Mann-Whitney statistic based on
> concordance probability is recommended.  The lrm function also outputs this
> or you can get it from the somers2 or rcorr.cens functions in the Hmisc
> library.
> 
> Frank Harrell
> 
> On Sun, 4 Aug 2002 09:08:46 -0400
> "Paul M. Jacobson" <pmj at jciconsult.com> wrote:
> 
> > I am using GLM to calculate logit models based on cross-sectional data.  I
> > am now down to the hard work of making the results intelligible to very
> > average readers.  Is there any way to calculate a psuedo analoque to the
> R^2
> > in standard linear regression for use as a purely descriptive statistic of
> > goodness of fit? Most of the readers of my report will be vaguely familiar
> > and more comfortable with R^2 than with any other regression diagnostics.
> >
> > Paul M. Jacobson
> > Jacobson Consulting Inc.
> > 80 Front Street East, Suite 720
> > Toronto, ON, M5E 1T4
> > Voice:  +1(416)868-1141
> > Farm: +1(519)463-6061/6224
> > Fax: +1(416)868-1131
> > E-mail: pmj at jciconsult.com
> > Web:  http://www.jciconsult.com/
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> 
> 
> --
> Frank E Harrell Jr              Prof. of Biostatistics & Statistics
> Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
> U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> 
> 


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Wed Aug  7 15:45:55 2002
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Wed, 7 Aug 2002 15:45:55 +0200
Subject: [R] Reading characters using read.table()
In-Reply-To: <3D50F3CA.9030201@biomserv.univ-lyon1.fr>
References: <3D50F3CA.9030201@biomserv.univ-lyon1.fr>
Message-ID: <20020807134555.GA20463@giraffa.cbs.dtu.dk>

Did you try the function 'scan' ?


Hopin' it helps,


Laurent





On Wed, Aug 07, 2002 at 12:17:46PM +0200, Florent BATY wrote:
> Hello,
> 
> I need to read a vector containing names of different variables from a 
> text file (a unique column). Among them one is called "T". When I use 
> the function read.table with default arguments and when I call the 
> element of the data frame corresponding to name of this variable it 
> returns me the logical value "TRUE" whereas I was expected it to return 
> the character "T".
> Is it possible to specify the type data expected in a data frame when 
> using the read.table function in order to make it unable to interpret 
> "T" as "True" ?? Or is there any other functions enabling to import text 
> data from a text file ??
> 
> Thanks in advance,
> 
> Florent
> 
> 
> _______________________________________
> 
> Florent BATY
> CNRS UMR 5558
> Dynamique des Populations Bact?riennes
> Facult? de M?decine Lyon-Sud
> 69921 OULLINS, BP 12
> FRANCE
> tel : +33 (0)4 78 86 31 67
> fax : +33 (0)4 78 86 31 49
> _______________________________________
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
--------------------------------------------------------------
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			DK-2800 Lyngby,Denmark	
tel: +45 45 25 24 89		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From janm at mit.edu  Wed Aug  7 14:51:11 2002
From: janm at mit.edu (Jan Meyer)
Date: Wed, 07 Aug 2002 08:51:11 -0400
Subject: [Fwd: Re: [R] Memory leak in R v1.5.1?] - resolved
Message-ID: <3D5117BF.90605@mit.edu>

Hi,

an attach() call turned out to be my problem (see below).

Thanks everybody for the helpful comments.

- Jan

-------- Original Message --------
Subject: Re: [R] Memory leak in R v1.5.1?
Date: Wed, 07 Aug 2002 01:12:09 -0400
From: Jan Meyer <janm at mit.edu>
To: Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>
References: <Pine.LNX.4.31.0208061713050.2645-100000 at gannet.stats>	<3D4FFC7E.20205 at mit.edu> <x2znw0x6wg.fsf at biostat.ku.dk>

Hi Peter,

right on the point. I had an attach() statement in my function that I
was calling frequently. Now after removing all attach() statements in
frequently called functions, the problem is completely gone (except for
an almost unnoticable increase in cons cells over time -- but that's not
a problem).

I still don't fully understand why attach caused the problem. Wouldn't
attach just place some variables in the environment of the function,
which is destroyed at the end of the function call?

Thanks a lot for this great hint.

- Jan

Peter Dalgaard BSA wrote:
  > Jan Meyer <janm at mit.edu> writes:
  >
  >
  >>Hi,
  >>
  >>yes, I was using these low limit non-standard flags to start R:
  >>    nice -n 5 R --min-vsize=10M --max-vsize=40M --min-nsize=500k
  >>--max-nsize=2M
  >>
  >>These settings were used to trigger the problem early rather than wait
  >>hours each time for testing. As I understand the limit max-nsize=2M
  >>translates into 2 million cells (not 2MB), which is equivalent with
  >>16MB VM.
  >>
  >>The problem occured first running R without memory limits on a Linux
  >>box with 128 MB phys. RAM, which at some point (~ 10 hours after
  >>starting the script) was swapping like crazy and hardly doing any
  >>calculations anymore. The size of the whole process had grown from
  >>24MB to over 100MB. I find that this is a noticable amount.
  >>
  >>What in my code could trigger this excessive cons cell growth?
  >
  >
  > It's anybody's guess but you might unwittingly be accumulating memory
  > somewhere. Stuff like putting attach() inside a function and then
  > calling the function many times has that kind of consequences. That
  > usually conks out fairly quickly though...
  >




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Wed Aug  7 14:58:05 2002
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Wed, 07 Aug 2002 14:58:05 +0200 (MEST)
Subject: [R] Constructing titles from list of expressions
Message-ID: <XFMail.020807145805.theis@statistik.uni-dortmund.de>

Hello!

I have the following problem:
I have a function to construct three surfaceplots with a marker for an optimum,
each of the plots has as title paste("Estimated ",pred.var.lab," for
",var.lab[1]," vs. ",var.lab[2],sep="") with different var.lab[1,2] each time.
My problem is now that I need to allow for plotmath expressions in the
variables pred.var.lab and var.lab[1,2] and get these evaluated correctly. 

I tested the usage of parse(), paste(), substitute() in different combinations,
but could not find a version, which worked. The problem seems to be the order
of evaluation...

I attach some data in test.Robj and my function theis.surfacesinopt.R and the
following line produces a plot which has the right labels at the plot axes but
the titles, etc. are unevaluated expressions.

surfacesinopt(gwRZ.step,gwRZ.coded.min.par,var.labs=c("f",expression(v[c]),
expression(ring(V))),pred.var.lab=expression(R[z]))

So if anyone has an idea how to get this working, I would be very pleased!

Winfried
---------------------------------------------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 07-Aug-02

Dipl.-Math. Winfried Theis
SFB 475, Fachbereich Statistik, Universit"at Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903 FAX: +49-231-755-4387
----------------------------------------------------------------------
-------------- next part --------------
RDA2
A
2
66561
66560
1026
1
5129
9
gwRZ.step
1811
14
1550
10
3.160970396668171
-252.4589750684217
0.001705753733731377
-5.797755919844388e-05
109.8794104646305
-0.3740786630940966
0.04108185624907657
0.2655689668011897
-0.1138539214221429
0.000136284019932226
1026
1
5129
5
names
1040
10
1033
11
(Intercept)
1033
6
I(f^2)
1033
7
I(vS^2)
1033
6
I(o^2)
1033
1
f
1033
2
vS
1033
1
o
1033
4
f:vS
1033
3
f:o
1033
4
vS:o
254
1550
22
-0.3241875523408745
-0.3011208856742085
0.006379114325799236
-0.1345354443103646
-0.1654647314828446
-0.1769971762566737
-0.08106700216284654
0.001897333562152987
0.3080613964501274
-0.4477981639022141
-0.2410583649025989
-0.05866976528924098
0.03726040880458353
0.2775787457249784
-0.005201323141723888
-0.1170542190075351
0.5205265395043763
0.3960791143257932
-0.1022208856742049
0.4454012994626008
0.6615791143257931
-0.4993875523408744
1026
767
1040
22
1033
4
WV\0401
1033
4
WV\0402
1033
4
WV\0403
1033
4
WV\0404
1033
4
WV\0405
1033
4
WV\0406
1033
4
WV\0407
1033
4
WV\0408
1033
4
WV\0409
1033
5
WV\04010
1033
5
WV\04011
1033
5
WV\04012
1033
5
WV\04013
1033
5
WV\04014
1033
5
WV\04015
1033
5
WV\04016
1033
5
WV\04017
1033
5
WV\04018
1033
5
WV\04019
1033
5
WV\04020
1033
5
WV\04021
1033
6
WV\04021a
254
1550
22
-18.08713150619729
0.8290512291162518
1.882427460114446
0.6954686782272577
1.533512907690056
-2.038644419208816
0.8058283964089259
-0.7329633191519374
-1.04746084519767
0.5782012149762413
-0.08216661883027604
0.3356453731559922
0.00433371387779182
0.02933208495615108
-0.5065517339369261
-0.04097737162786692
0.7361492998210378
0.4721559617054614
-0.02614403829453677
0.4297081348522593
0.7376559617054611
-0.4233107049612062
1026
767
1040
22
1033
11
(Intercept)
1033
6
I(f^2)
1033
7
I(vS^2)
1033
6
I(o^2)
1033
1
f
1033
2
vS
1033
1
o
1033
4
f:vS
1033
3
f:o
1033
4
vS:o
1033
0

1033
0

1033
0

1033
0

1033
0

1033
0

1033
0

1033
0

1033
0

1033
0

1033
0

1033
0

254
1037
1
10
1550
22
3.886854219007542
3.886854219007541
3.886854219007537
4.170468777643698
2.416264731482844
4.519830509590004
2.618067002162845
3.056869333104511
3.305271936883208
5.205498163902211
4.732858364902602
3.374803098622575
3.327306257862086
3.557287920941686
4.121434656475054
3.886854219007538
6.111206793828954
3.886854219007538
3.886854219007538
3.224165367204069
3.886854219007538
3.886854219007538
1026
767
1040
22
1033
4
WV\0401
1033
4
WV\0402
1033
4
WV\0403
1033
4
WV\0404
1033
4
WV\0405
1033
4
WV\0406
1033
4
WV\0407
1033
4
WV\0408
1033
4
WV\0409
1033
5
WV\04010
1033
5
WV\04011
1033
5
WV\04012
1033
5
WV\04013
1033
5
WV\04014
1033
5
WV\04015
1033
5
WV\04016
1033
5
WV\04017
1033
5
WV\04018
1033
5
WV\04019
1033
5
WV\04020
1033
5
WV\04021
1033
6
WV\04021a
254
1037
10
0
1
2
3
4
5
6
7
8
9
1555
5
1550
220
-4.69041575982343
0.2132007163556104
0.2132007163556104
0.2132007163556104
0.2132007163556104
0.2132007163556104
0.2132007163556104
0.2132007163556104
0.2132007163556104
0.2132007163556104
0.2132007163556104
0.2132007163556104
0.2132007163556104
0.2132007163556104
0.2132007163556104
0.2132007163556104
0.2132007163556104
0.2132007163556104
0.2132007163556104
0.2132007163556104
0.2132007163556104
0.2132007163556104
-0.1659400871596296
0.05930003728038074
0.01603419229691699
0.2673662433971773
0.3503510141610248
-0.3066637498565039
-0.3066637498565039
0.01603419229691699
0.2673662433971773
-0.3066637498565039
0.01603419229691699
0.2673662433971773
0.2673662433971773
0.01603419229691699
-0.3066637498565039
0.01603419229691699
0.01603419229691699
0.01603419229691699
0.01603419229691699
-0.4607783241322204
0.01603419229691699
0.01603419229691699
-39143.63680180702
23.41293789291487
13299.31321110811
-0.3101975468429001
0.009359918313717337
-0.3006082524939842
0.2736078651940737
0.01494475264001756
0.2640185708451577
-0.3006082524939842
0.3533080897965123
-0.3101975468429001
0.2640185708451577
0.01494475264001756
0.2736078651940737
0.01494475264001756
-0.4587639193790752
0.01494475264001756
0.01494475264001756
0.0229100081545769
0.01494475264001756
0.01494475264001756
-434929.5390063238
260.1621167534037
245.618222612686
-147771.338152989
-0.009206836006429417
0.2956917240376494
0.3050873520270487
0.4590044743169959
0.314519896224183
-0.2785278848566731
-0.009163898582984786
-0.2690953406595388
-0.2596997126701396
-0.3530609877671531
-0.2691322568672739
-0.01470037856542437
-0.02245145054083978
-0.01470037856542437
-0.01470037856542437
-0.02253543106759749
-0.01470037856542437
-0.01470037856542437
-0.8677269155673345
0.1583449257477383
-0.0002787602527545181
0.000278314340087362
0.01745649803920696
0.006728782592816668
0.09519978046480439
-0.216585975198633
0.2376257701619337
0.101531338187649
-0.08624567755187214
0.2439573278847783
0.332428325756766
-0.08251552562949618
0.1900023360596367
-0.1383782129499699
-0.2113637625073067
-0.1383782129499699
-0.1383782129499699
0.3974527230245541
-0.1383782129499699
-0.1383782129499699
-422.1374183841087
-5.951662053870351e-16
73.08554629333469
0.1214791867192892
1.165155571986074
7.553908280161528
0.1574972420164367
-0.1914912665935808
0.2418215252833476
0.08839030026573091
0.6081909372972452
0.1727145835326419
0.3104469531953226
-0.0944406974996987
0.2261226699284117
-0.1348784346221496
0.4134060841467976
-0.1348784346221496
-0.1348784346221496
-0.2320014128435806
-0.1348784346221496
-0.1348784346221496
-1407.124727947029
-4.079693885693428e-15
-3.567090579175913e-15
-243.6211172665207
3.884126720668327
3.318716930695771
24.96026977746597
0.4603794569267944
0.1557141947179466
0.1278999322847751
-0.1760119539352062
0.2003234556258289
0.2666364711558896
0.6172465305616485
0.1942129478148358
-0.1158425757904507
-0.2697936192301598
-0.1158425757904507
-0.1158425757904507
-0.1992620300970043
-0.1158425757904507
-0.1158425757904507
-78.09542240106011
14.25104331729644
13.49573764151901
0.04752194015093101
1.786638604346049
1.397473031829882
4.831204880595408e-16
-2.759973531473082
0.3848359324207057
0.2805457841354548
-0.3161314473009645
-0.4370640209472761
0.2348281542472329
0.1368278437644397
-0.4617756030431313
0.01704432056035159
-0.2663299963151941
0.01704432056035159
0.01704432056035159
0.03105283055406259
0.01704432056035159
0.01704432056035159
-260.3180746702004
47.50347772432148
-0.08362807582635584
-44.98641239228013
5.95551285508573
0.6139626321787167
4.617649908831202
-4.788107844239109e-16
9.200041879224676
0.5201250120869343
0.1898843864903249
-0.1549852991074885
-0.05234771239787212
0.2709890094192029
0.5719567254275598
-0.0920470434964091
0.0806570494444737
-0.0920470434964091
-0.0920470434964091
-0.1600034812659979
-0.0920470434964091
-0.0920470434964091
-126641.2255152326
9.054297497380299e-14
21925.66388800041
-21889.45679797108
699.118076455968
2564.857007811074
2246.424279971932
-3.573252804756066e-13
1.555422457499844e-12
4242.619312695505
0.145186559817048
0.2474244082715904
-0.4179784867286013
-0.4695774743142942
-0.6840398731214251
0.04271319897543584
0.1713139819573986
0.04271319897543584
0.04271319897543584
0.0759268860344612
0.04271319897543584
0.04271319897543584
1026
1
5129
3
dim
1037
2
22
10
1026
1
5129
8
dimnames
1043
2
1040
22
1033
4
WV\0401
1033
4
WV\0402
1033
4
WV\0403
1033
4
WV\0404
1033
4
WV\0405
1033
4
WV\0406
1033
4
WV\0407
1033
4
WV\0408
1033
4
WV\0409
1033
5
WV\04010
1033
5
WV\04011
1033
5
WV\04012
1033
5
WV\04013
1033
5
WV\04014
1033
5
WV\04015
1033
5
WV\04016
1033
5
WV\04017
1033
5
WV\04018
1033
5
WV\04019
1033
5
WV\04020
1033
5
WV\04021
1033
6
WV\04021a
1040
10
1033
11
(Intercept)
1033
6
I(f^2)
1033
7
I(vS^2)
1033
6
I(o^2)
1033
1
f
1033
2
vS
1033
1
o
1033
4
f:vS
1033
3
f:o
1033
4
vS:o
1026
1
5129
6
assign
1037
10
0
1
2
3
4
5
6
7
8
9
254
1038
10
1.21320071635561
1.016034192296917
1.014944752640017
1.305124268234784
1.598706838900933
1.019764872353756
1.083290671376893
1.348969912429107
1.437736978017322
1.10172019464236
1037
10
1
2
3
4
5
6
7
8
9
10
1038
1
1e-07
1037
1
10
1026
767
1040
5
5129
2
qr
5129
5
qraux
5129
5
pivot
5129
3
tol
5129
4
rank
254
1037
1
12
531
0
1026
767
16
0
254
6
1
5129
2
lm
1026
1
5129
7
formula
774
1026
1
5129
5
class
1040
1
1033
7
formula
1026
1
5129
12
.Environment
253
254
1
5129
1
~
2
1
5129
4
gwRZ
2
6
1
5129
1
+
2
6
3327
2
6
3327
2
6
3327
2
6
3327
2
6
3327
2
6
3327
2
6
3327
2
6
1
5129
1
I
2
6
1
5129
1
^
2
1
5129
1
f
2
1038
1
2
254
254
2
6
3583
2
6
3839
2
1
5129
2
vS
2
1038
1
2
254
254
254
2
6
3583
2
6
3839
2
1
5129
1
o
2
1038
1
2
254
254
254
2
4095
254
2
4351
254
2
4607
254
2
6
1
5129
1
:
2
4095
2
4351
254
254
2
6
4863
2
4095
2
4607
254
254
2
6
4863
2
4351
2
4607
254
254
254
1026
1
5129
4
data
1
5129
8
grob.erg
254
774
1026
1
5129
9
variables
6
1
5129
4
list
2
3071
2
6
3583
2
6
3839
2
4095
2
1038
1
2
254
254
2
6
3583
2
6
3839
2
4351
2
1038
1
2
254
254
2
6
3583
2
6
3839
2
4607
2
1038
1
2
254
254
2
4095
2
4351
2
4607
254
1026
1
5129
7
factors
1549
63
0
1
0
0
0
0
0
0
0
1
0
0
0
0
0
0
0
1
0
0
0
0
0
0
0
1
0
0
0
0
0
0
0
1
0
0
0
0
0
0
0
1
0
0
0
0
1
1
0
0
0
0
0
1
0
1
0
0
0
0
0
1
1
1026
1023
1037
2
7
9
1026
1279
1043
2
1040
7
5129
4
gwRZ
1033
6
I(f^2)
1033
7
I(vS^2)
1033
6
I(o^2)
5129
1
f
5129
2
vS
5129
1
o
1040
9
1033
6
I(f^2)
1033
7
I(vS^2)
1033
6
I(o^2)
1033
1
f
1033
2
vS
1033
1
o
1033
4
f:vS
1033
3
f:o
1033
4
vS:o
254
1026
1
5129
11
term.labels
1040
9
1033
6
I(f^2)
1033
7
I(vS^2)
1033
6
I(o^2)
1033
1
f
1033
2
vS
1033
1
o
1033
4
f:vS
1033
3
f:o
1033
4
vS:o
1026
1
5129
5
order
1037
9
1
1
1
1
1
1
2
2
2
1026
1
5129
9
intercept
1037
1
1
1026
1
5129
8
response
1037
1
1
1026
2303
1040
2
1033
5
terms
1033
7
formula
1026
2559
253
254
2815
2
3071
2
6
3327
2
6
3327
2
6
3327
2
6
3327
2
6
3327
2
6
3327
2
6
3327
2
6
3327
2
6
3583
2
6
3839
2
4095
2
1038
1
2
254
254
2
6
3583
2
6
3839
2
4351
2
1038
1
2
254
254
254
2
6
3583
2
6
3839
2
4607
2
1038
1
2
254
254
254
2
4095
254
2
4351
254
2
4607
254
2
6
4863
2
4095
2
4351
254
254
2
6
4863
2
4095
2
4607
254
254
2
6
4863
2
4351
2
4607
254
254
254
1811
7
1550
22
3.562666666666667
3.585733333333333
3.893233333333336
4.035933333333333
2.2508
4.34283333333333
2.536999999999999
3.058766666666664
3.613333333333335
4.757699999999997
4.491800000000003
3.316133333333334
3.36456666666667
3.834866666666664
4.11623333333333
3.769800000000003
6.63173333333333
4.282933333333331
3.784633333333333
3.66956666666667
4.548433333333331
3.387466666666664
1026
767
1040
22
1033
4
WV\0401
1033
4
WV\0402
1033
4
WV\0403
1033
4
WV\0404
1033
4
WV\0405
1033
4
WV\0406
1033
4
WV\0407
1033
4
WV\0408
1033
4
WV\0409
1033
5
WV\04010
1033
5
WV\04011
1033
5
WV\04012
1033
5
WV\04013
1033
5
WV\04014
1033
5
WV\04015
1033
5
WV\04016
1033
5
WV\04017
1033
5
WV\04018
1033
5
WV\04019
1033
5
WV\04020
1033
5
WV\04021
1033
6
WV\04021a
254
1806
22
0.034225
0.034225
0.034225
0.019321
0.0144
0.05336100000000001
0.05336100000000001
0.034225
0.019321
0.05336100000000001
0.034225
0.019321
0.019321
0.034225
0.05336100000000001
0.034225
0.034225
0.034225
0.034225
0.0625
0.034225
0.034225
1026
2303
1040
1
1033
4
AsIs
254
1806
22
8100
8100
8100
12368.331369
8100
12368.331369
4731.651369000001
8100
4731.651369000001
12368.331369
3600
12368.331369
4731.651369000001
8100
4731.651369000001
8100
14400
8100
8100
8100
8100
8100
1026
2303
1040
1
1033
4
AsIs
254
1806
22
90000
90000
90000
137426.645521
90000
137426.645521
137426.645521
160000
137426.645521
52573.44552099999
90000
52573.44552099999
52573.44552099999
40000
52573.44552099999
90000
90000
90000
90000
90000
90000
90000
1026
2303
1040
1
1033
4
AsIs
254
1038
22
0.185
0.185
0.185
0.139
0.12
0.231
0.231
0.185
0.139
0.231
0.185
0.139
0.139
0.185
0.231
0.185
0.185
0.185
0.185
0.25
0.185
0.185
1038
22
90
90
90
111.213
90
111.213
68.78700000000001
90
68.78700000000001
111.213
60
111.213
68.78700000000001
90
68.78700000000001
90
120
90
90
90
90
90
1038
22
300
300
300
370.711
300
370.711
370.711
400
370.711
229.289
300
229.289
229.289
200
229.289
300
300
300
300
300
300
300
1026
767
1040
7
1033
4
gwRZ
1033
6
I(f^2)
1033
7
I(vS^2)
1033
6
I(o^2)
1033
1
f
1033
2
vS
1033
1
o
1026
1
5129
5
terms
774
1026
5631
6
5887
2
3071
2
6
3583
2
6
3839
2
4095
2
1038
1
2
254
254
2
6
3583
2
6
3839
2
4351
2
1038
1
2
254
254
2
6
3583
2
6
3839
2
4607
2
1038
1
2
254
254
2
4095
2
4351
2
4607
254
1026
6143
1549
63
0
1
0
0
0
0
0
0
0
1
0
0
0
0
0
0
0
1
0
0
0
0
0
0
0
1
0
0
0
0
0
0
0
1
0
0
0
0
0
0
0
1
0
0
0
0
1
1
0
0
0
0
0
1
0
1
0
0
0
0
0
1
1
1026
1023
1037
2
7
9
1026
1279
1043
2
1040
7
5129
4
gwRZ
1033
6
I(f^2)
1033
7
I(vS^2)
1033
6
I(o^2)
5129
1
f
5129
2
vS
5129
1
o
1040
9
1033
6
I(f^2)
1033
7
I(vS^2)
1033
6
I(o^2)
1033
1
f
1033
2
vS
1033
1
o
1033
4
f:vS
1033
3
f:o
1033
4
vS:o
254
1026
6399
1040
9
1033
6
I(f^2)
1033
7
I(vS^2)
1033
6
I(o^2)
1033
1
f
1033
2
vS
1033
1
o
1033
4
f:vS
1033
3
f:o
1033
4
vS:o
1026
6655
1037
9
1
1
1
1
1
1
2
2
2
1026
6911
1037
1
1
1026
7167
1037
1
1
1026
2303
1040
2
1033
5
terms
1033
7
formula
1026
2559
253
254
2815
2
3071
2
6
3327
2
6
3327
2
6
3327
2
6
3327
2
6
3327
2
6
3327
2
6
3327
2
6
3327
2
6
3583
2
6
3839
2
4095
2
1038
1
2
254
254
2
6
3583
2
6
3839
2
4351
2
1038
1
2
254
254
254
2
6
3583
2
6
3839
2
4607
2
1038
1
2
254
254
254
2
4095
254
2
4351
254
2
4607
254
2
6
4863
2
4095
2
4351
254
254
2
6
4863
2
4095
2
4607
254
254
2
6
4863
2
4351
2
4607
254
254
254
1026
1
5129
9
row.names
1040
22
1033
4
WV\0401
1033
4
WV\0402
1033
4
WV\0403
1033
4
WV\0404
1033
4
WV\0405
1033
4
WV\0406
1033
4
WV\0407
1033
4
WV\0408
1033
4
WV\0409
1033
5
WV\04010
1033
5
WV\04011
1033
5
WV\04012
1033
5
WV\04013
1033
5
WV\04014
1033
5
WV\04015
1033
5
WV\04016
1033
5
WV\04017
1033
5
WV\04018
1033
5
WV\04019
1033
5
WV\04020
1033
5
WV\04021
1033
6
WV\04021a
1026
2303
1040
1
1033
10
data.frame
254
774
1026
2303
1040
1
1033
7
formula
1026
2559
253
254
2815
2
3071
2
6
3327
2
6
3327
2
6
3327
2
6
3327
2
6
3327
2
6
3327
2
6
3327
2
6
3327
2
6
3583
2
6
3839
2
4095
2
1038
1
2
254
254
2
6
3583
2
6
3839
2
4351
2
1038
1
2
254
254
254
2
6
3583
2
6
3839
2
4607
2
1038
1
2
254
254
254
2
4095
254
2
4351
254
2
4607
254
2
6
4863
2
4095
2
4351
254
254
2
6
4863
2
4095
2
4607
254
254
2
6
4863
2
4351
2
4607
254
254
254
1811
6
1808
2
1033
0

1033
8
-\040f:vS:o
1026
2303
1040
1
1033
4
AsIs
254
1038
2
NA
1
1038
2
NA
0.06008888888888708
1038
2
11
12
1038
2
1.991981143777952
2.052070032666839
1038
2
-30.84208072474399
-32.18825474834911
1026
767
1040
6
5129
4
Step
5129
2
Df
5129
8
Deviance
5129
9
Resid.\040Df
5129
10
Resid.\040Dev
5129
3
AIC
1026
7679
1040
2
1033
1
1
1033
1
2
1026
2303
1040
1
1033
10
data.frame
1026
1
5129
7
heading
1040
8
1033
47
Stepwise\040Model\040Path\040\nAnalysis\040of\040Deviance\040Table
1033
15
\nInitial\040Model:
1033
61
gwRZ\040~\040I(f^2)\040+\040I(vS^2)\040+\040I(o^2)\040+\040f\040+\040vS\040+\040
o\040+\040f:vS\040+\040f:o\040+\040
1033
17
\040\040\040\040vS:o\040+\040f:vS:o
1033
13
\nFinal\040Model:
1033
61
gwRZ\040~\040I(f^2)\040+\040I(vS^2)\040+\040I(o^2)\040+\040f\040+\040vS\040+\040
o\040+\040f:vS\040+\040f:o\040+\040
1033
8
\040\040\040\040vS:o
1033
1
\n
254
1026
767
1040
14
1033
12
coefficients
1033
9
residuals
1033
7
effects
1033
4
rank
1033
13
fitted.values
1033
6
assign
1033
2
qr
1033
11
df.residual
5129
7
xlevels
5129
4
call
5129
5
terms
5129
5
model
5129
7
formula
5129
5
anova
1026
2303
1040
1
1033
2
lm
254
1026
1
5129
18
gwRZ.coded.min.par
1038
3
0.1207451127917877
89.70226077469248
284.9345951599792
254
-------------- next part --------------
# Surfaceplots durch vorgegebenen Punkt "extremum"
"surfacesinopt" <-
function(x.lm, extremum, var.names=NULL, data=NULL, n=20,  conf.level=0.95, sing
leplot=T, extcol=2, titletext= NULL, var.labs=NULL, pred.var.lab=NULL, charcex=1
, chartype=10,maximize=FALSE)
{
  if (is.null(data)) data <- x.lm$model
  if ((!is.character(var.names)) | (length(var.names)<3)) {
    var.names <- names(x.lm$coef)[match(names(x.lm$coef), names(x.lm$model), nom
atch=0)]
    b <- NULL
    for (i in 1:length(var.names)) {if (charmatch("I(", var.names[i], nomatch=0)
!=1) {b<-c(b,i)}}
    var.names <- var.names[b]
  }
  var.names <- var.names[1:3]
  resp.name <- names(x.lm$model)[1]
  ranges <- t(apply(data[,var.names], 2, range))
  extremum <- as.list(extremum)
  names(extremum) <- var.names
  schaetz <- predict(x.lm, as.data.frame(extremum), interval="confidence", level
=conf.level)
  result <- list(prognose=schaetz[1], conf.interval=schaetz[-1], conf.level=conf
.level)
 # Graphen zeichnen
  old.pty <- par()$pty
  par(pty="s", ask=T)
  if (singleplot) layout(matrix(1:4,ncol=2))
  for (i in 3:1) {
    x <- seq(from=ranges[-i,][1,1], to=ranges[-i,][1,2], length=n)
    y <- seq(from=ranges[-i,][2,1], to=ranges[-i,][2,2], length=n)
    pred.dat <- matrix(NA, ncol=3, nrow=n^2)
    pred.dat[,i] <- rep(as.numeric(extremum[var.names[i]]),n^2)
    pred.dat[,-i] <- cbind(rep(x,times=rep(n,n)),rep(y,n))
    pred.dat <- as.data.frame(pred.dat)
    colnames(pred.dat) <- var.names
    pred.val <- matrix(predict(x.lm,pred.dat),ncol=n,byrow=T)
    if(is.null(titletext)){title <- paste("Estimated '",pred.var.lab,"' for '",v
ar.labs[-i][1],"' vs. '",var.labs[-i][2],"'", sep="")
    subtitle <- paste("third variable fixed at: ", var.labs[i],"=",signif(as.num
eric(extremum[i]),4), sep="")}else{
      title <- titletext[1]
      subtitle <- paste(titletext[2], var.labs[i],"=",signif(as.numeric(extremum
[i]),4), sep="")
    }
    contour(x, y, pred.val, xlab=var.labs[-i][1], ylab=var.labs[-i][2], main=tit
le, sub=subtitle)
    points(extremum[-i][1], extremum[-i][2], pch=chartype, col=extcol, cex=charc
ex)
  }
 # Textausgabe im 4. Graphen
  par(pty="m")
  plot.new()
  plot.window(c(0,10), c(10,0))
  ausgabe <- ifelse(maximize,"Maximum found at:", "Minimum found at:")
  ausgabe <- c(ausgabe, paste(var.labs, rep("= ",3)))
  ausgabe <- c(ausgabe,as.character(signif(as.numeric(extremum),4)))
  ausgabe <- c(ausgabe,paste("Predicted '", pred.var.lab,"' value: ", as.charact
er(signif(result$prognose,4)), sep=""))
  ausgabe <- c(ausgabe,paste(as.character(signif(conf.level*100,3)),"% confidenc
e interval:", sep=""))
  ausgabe <- c(ausgabe,paste("[",as.character(signif(result$conf.int[1],4)),", "
,as.character(signif(result$conf.int[2],4)),"]" , sep=""))
  text(c(1,rep(4,6),1,1,1), c(1,2,3,4,2,3,4,6,8,9), ausgabe, pos=c(4,2,2,2,4,4,4
,4,4,4))
  par(mfrow=c(1,1), pty=old.pty, ask=F)

 # result
}


From mmiller3 at iupui.edu  Wed Aug  7 18:01:33 2002
From: mmiller3 at iupui.edu (Michael A. Miller)
Date: 07 Aug 2002 11:01:33 -0500
Subject: [R] indexing matrices with dimnames?
Message-ID: <87znvybqua.fsf@lumen.indyrad.iupui.edu>

I've got a covariance matrix that I'd like to index using the
dimnames:

> vcov1
              n0            x0             s            n1            n2
n0   82.43824759  1.839505e-02 -4.975196e-01  2.882394e+03 -2.615986e-01
x0    0.01839505  6.134010e-03 -7.695922e-04 -6.373946e+01  6.086321e-03
s    -0.49751964 -7.695922e-04  9.638943e-03  3.406594e+02 -3.173671e-02
n1 2882.39407745 -6.373946e+01  3.406594e+02  1.036195e+08 -9.361243e+03
n2   -0.26159863  6.086321e-03 -3.173671e-02 -9.361243e+03  8.506608e-01

I'd like to select particular elements by name, rather than
numeric index.  For example, vcov1[1,1] returns 82.43824759.  Is
there a way to use the dimnames to extract the n0,n0 element?

Thanks, Mike
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Aug  7 18:06:19 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 7 Aug 2002 09:06:19 -0700 (PDT)
Subject: [R] Constructing titles from list of expressions
In-Reply-To: <XFMail.020807145805.theis@statistik.uni-dortmund.de>
Message-ID: <Pine.A41.4.44.0208070848090.119858-100000@homer15.u.washington.edu>

On Wed, 7 Aug 2002, Winfried Theis wrote:

> Hello!
>
> I have the following problem:
> I have a function to construct three surfaceplots with a marker for an optimum,
> each of the plots has as title paste("Estimated ",pred.var.lab," for
> ",var.lab[1]," vs. ",var.lab[2],sep="") with different var.lab[1,2] each time.
> My problem is now that I need to allow for plotmath expressions in the
> variables pred.var.lab and var.lab[1,2] and get these evaluated correctly.
>
> I tested the usage of parse(), paste(), substitute() in different combinations,
> but could not find a version, which worked. The problem seems to be the order
> of evaluation...

Let's work on this from the inside out.

Suppose you want the label "Estimated alpha for beta vs gamma^3" but with
alpha, beta, and gamma^3 replaced by the appropriate expressions.

    plot(1:10,main=quote("Estimated "*alpha*" for "*beta*" vs."*gamma^3))

Now, suppose you might want to change the expressions.  You need to get
them into the formula. This is what substitute() is good for.

  substitute("Estimated "*a*" for "*b*" vs."*c,
	list(a=quote(alpha),b=quote(beta),c=quote(gamma^3)))
gives
  "Estimated " * alpha * " for " * beta * " vs." * gamma^3

so the plot command can be
 plot(1:10,main=substitute("Estimated "*a*" for "*b*" vs."*c,
        list(a=quote(alpha),b=quote(beta),c=quote(gamma^3))))

Now in fact you have the expressions a, b and c in variables

expr1<-quote(alpha)
expr2<-quote(beta)
expr3<-quote(gamma^3)
plot(1:10,main=substitute("Estimated "*a*" for "*b*" vs."*c,
	list(a=expr1,b=expr2,c=expr3)))

In your example you wanted b and c to be elements of a vector.  They
actually have to be elements of a list

> c(quote(beta),quote(gamma^3))
[[1]]
beta

[[2]]
gamma^3

So
 expr1<-quote(alpha)
 expr2<-c( quote(beta), quote(gamma^3))
 plot(1:10,main=substitute("Estimated "*a*" for "*b*" vs."*c,
        list(a=expr1,b=expr2[[1]],c=expr2[[2]])))

Finally, you could even make the expressions from text strings if you want
to

str1<-"alpha"
str2<-c("beta","gamma^3")

expr1<-parse(text=str1)[[1]]
expr2<-parse(text=str2)
 plot(1:10,main=substitute("Estimated "*a*" for "*b*" vs."*c,
        list(a=expr1,b=expr2[[1]],c=expr2[[2]])))


Finally, what's the difference between using quote() as I did and
expression() as you did? Not a lot.  quote() produces a call and
expression() produces an expression (roughly a list of calls). In this
context it doesn't matter. The documentation for plotmath() talks about
expressions, but most of the examples use substitute() in a way that
produces a call.

 	-thomas



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Aug  7 18:08:15 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 7 Aug 2002 09:08:15 -0700 (PDT)
Subject: [R] indexing matrices with dimnames?
In-Reply-To: <87znvybqua.fsf@lumen.indyrad.iupui.edu>
Message-ID: <Pine.A41.4.44.0208070907280.119858-100000@homer15.u.washington.edu>

On 7 Aug 2002, Michael A. Miller wrote:

> I've got a covariance matrix that I'd like to index using the
> dimnames:
>
> > vcov1
>               n0            x0             s            n1            n2
> n0   82.43824759  1.839505e-02 -4.975196e-01  2.882394e+03 -2.615986e-01
> x0    0.01839505  6.134010e-03 -7.695922e-04 -6.373946e+01  6.086321e-03
> s    -0.49751964 -7.695922e-04  9.638943e-03  3.406594e+02 -3.173671e-02
> n1 2882.39407745 -6.373946e+01  3.406594e+02  1.036195e+08 -9.361243e+03
> n2   -0.26159863  6.086321e-03 -3.173671e-02 -9.361243e+03  8.506608e-01
>
> I'd like to select particular elements by name, rather than
> numeric index.  For example, vcov1[1,1] returns 82.43824759.  Is
> there a way to use the dimnames to extract the n0,n0 element?
>

The obvious thing to try is  vcov1["n0","n0"], which works.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mmiller3 at iupui.edu  Wed Aug  7 19:04:32 2002
From: mmiller3 at iupui.edu (Michael A. Miller)
Date: 07 Aug 2002 12:04:32 -0500
Subject: [R] indexing matrices with dimnames?
In-Reply-To: <Pine.A41.4.44.0208070907280.119858-100000@homer15.u.washington.edu>
References: <Pine.A41.4.44.0208070907280.119858-100000@homer15.u.washington.edu>
Message-ID: <87u1m6bnxb.fsf@lumen.indyrad.iupui.edu>

>>>>> "Thomas" == Thomas Lumley <tlumley at u.washington.edu> writes:

    > The obvious thing to try is vcov1["n0","n0"], which works.

Thanks!
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Aug  7 19:10:34 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Aug 2002 19:10:34 +0200
Subject: [Fwd: Re: [R] Memory leak in R v1.5.1?] - resolved
In-Reply-To: <3D5117BF.90605@mit.edu>
References: <3D5117BF.90605@mit.edu>
Message-ID: <x2n0rysigl.fsf@biostat.ku.dk>

Jan Meyer <janm at mit.edu> writes:

> Hi,
> 
> an attach() call turned out to be my problem (see below).
> 
> Thanks everybody for the helpful comments.
> 
...
> I still don't fully understand why attach caused the problem. Wouldn't
> attach just place some variables in the environment of the function,
> which is destroyed at the end of the function call?

No, attach() adds things to the search path (and logically, although
not always physically, copies them). This is not reversed when the
function exits. [It is not obvious that it has to work that way, but
currently it does.]

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Aug  7 19:17:16 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 7 Aug 2002 10:17:16 -0700 (PDT)
Subject: [Fwd: Re: [R] Memory leak in R v1.5.1?] - resolved
In-Reply-To: <x2n0rysigl.fsf@biostat.ku.dk>
Message-ID: <Pine.A41.4.44.0208071015570.119858-100000@homer15.u.washington.edu>

On 7 Aug 2002, Peter Dalgaard BSA wrote:
>
> No, attach() adds things to the search path (and logically, although
> not always physically, copies them). This is not reversed when the
> function exits. [It is not obvious that it has to work that way, but
> currently it does.]
>

*Something* has to work that way -- functions do need to be able to change
the search path after they exit (eg library()) -- though it doesn't have
to be the default.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chr.schulz at email.de  Wed Aug  7 20:03:45 2002
From: chr.schulz at email.de (chr.schulz@email.de)
Date: Wed, 7 Aug 2002 20:03:45 +0200
Subject: [R] cluster-analysis and NA's
Message-ID: <200208071803.g77I3jX09968@mailgate5.cinetic.de>

Hi,

exist a special cluster-analysis algorithms
which can work with NA's.

a further "problem" is that i want cluster
variables not cases to identify special variable-set's.

Is it a common way turn the data.frame and use
kmeans,because this works with NA's, or have anybody another
method for finding "variable-sets"  , with exception of factor analysis.

thanks for advance
Christian

 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vkhurana at mail.nmfs.hawaii.edu  Wed Aug  7 23:08:05 2002
From: vkhurana at mail.nmfs.hawaii.edu (Vikram Khurana)
Date: Wed, 7 Aug 2002 11:08:05 -1000
Subject: [R] FW: ROracle error
Message-ID: <000b01c23e56$8633b380$f0a410ac@s464>

Howdy,

When doing a
install.packages("ROracle") in R I'm getting the following error:

R CMD COMPILE RS-DBI.c
make[1]: Entering directory `/tmp/R.INSTALL.1809/ROracle/src'
gcc -I/usr/lib/R/include  -I/usr/local/include -D__NO_MATH_INLINES 
-mieee-fp  -fPIC  -O2 -m486 -fno-strength-reduce -g -c RS-DBI.c -o
RS-DBI.o
make[1]: Leaving directory `/tmp/R.INSTALL.1809/ROracle/src'
proc        CODE=ANSI_C INCLUDE=/usr/lib/R/include PARSE=FULL
RS-Oracle.pc
make: proc: Command not found
make: *** [RS-Oracle.c] Error 127
ERROR: compilation failed for package 'ROracle'


I've tried this on 2 different RH 7.3 LINUX boxes with no luck. I also 
searched the R search engine and google with no luck. Can someone please

point me in the right direction as to if I'm doing something wrong?

Thanks,
Vikram


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pfaffman at relaxpc.com  Wed Aug  7 23:15:19 2002
From: pfaffman at relaxpc.com (Jay Pfaffman)
Date: Wed, 7 Aug 2002 14:15:19 -0700
Subject: No subject
Message-ID: <200208072115.g77LFJW18507@aaalab.Stanford.EDU>

I've got a table of 1 row per observation.  

16 questions * n subjects * 4 classrooms (2 teachers * 2 conditions)

I'd like to run some simple regressions that look something like this:

  lm(length ~ elapsed)

I'd like to do the regressions several times, split out by
questionkey, student, class.  What I've been doing is using a series
of which's to create new data sets (e.g. class1, class2, class3,
class4) and running the regressions (or whatever) against each of
those new data sets.  It seems that there should be better a way to do
this.

-- 
Jay Pfaffman                           pfaffman at relaxpc.com
+1-415-821-7507 (H)                    +1-415-810-2238 (M)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Aug  8 01:10:51 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 7 Aug 2002 16:10:51 -0700 (PDT)
Subject: [R] Re: your mail
In-Reply-To: <200208072115.g77LFJW18507@aaalab.Stanford.EDU>
Message-ID: <Pine.A41.4.44.0208071607330.169686-100000@homer07.u.washington.edu>

On Wed, 7 Aug 2002, Jay Pfaffman wrote:

> I've got a table of 1 row per observation.
>
> 16 questions * n subjects * 4 classrooms (2 teachers * 2 conditions)
>
> I'd like to run some simple regressions that look something like this:
>
>   lm(length ~ elapsed)
>
> I'd like to do the regressions several times, split out by
> questionkey, student, class.  What I've been doing is using a series
> of which's to create new data sets (e.g. class1, class2, class3,
> class4) and running the regressions (or whatever) against each of
> those new data sets.  It seems that there should be better a way to do
> this.
>

Use by()

models<-by(data, list(student), function(thesedata)
	lm(length~elapsed,subset=thesedata))

will return a list of lm() objects.  You can use lapply() to get
information out of these, for example

lapply(models,coef)

returns a list of coefficient vectors or

sapply(models,coef)

binds the vectors into a matrix.  There's an example in help(by)

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Thu Aug  8 01:33:25 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Thu, 8 Aug 2002 09:33:25 +1000 
Subject: [R] RE: printed copies of "An Introduction to R" 
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A916535F@Roper-CV.qld.cmis.csiro.au>

Brian,

Thanks for doing this.  

As the primary author, could I have a desk copy, please?

Bill Venables.

Bill Venables, 
CMIS, CSIRO Marine Laboratories, 
PO Box 120, Cleveland, Qld. 4163
AUSTRALIA

Phone:  +61 7 3826 7251  
Fax:    +61 7 3826 7304
Mobile: +61 419 634 642
<mailto: Bill.Venables at csiro.au>
http://www.cmis.csiro.au/bill.venables/


-----Original Message-----
From: Brian Gough [mailto:bjg at network-theory.co.uk]
Sent: Thursday, August 08, 2002 6:29 AM
To: r-announce at stat.math.ethz.ch
Subject: printed copies of "An Introduction to R" 



"An Introduction to R"
 -- by W.N. Venables, D.M. Smith and the R Development Core Team

This tutorial manual is now available as a paperback book.  
It can be ordered from most online bookshops.  The ISBN is 0-9541617-4-2.
It's 148 pages, retail price $19.95 (12.95 pounds in UK)

For more information see:

  http://www.network-theory.co.uk/R/manual/

All the money raised from the sale of this book supports the
development of free software.

regards

-- 
Brian Gough

----------------------------------------------------------------------
Network Theory Ltd              Phone: 0117 3179309 (+44 117 3179309)
15 Royal Park                   WWW: http://www.network-theory.co.uk/
Bristol BS8 3AL                 Email: bjg at network-theory.co.uk     
United Kingdom                
----------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-announce mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Mark.Bravington at csiro.au  Thu Aug  8 04:03:00 2002
From: Mark.Bravington at csiro.au (Mark.Bravington@csiro.au)
Date: Thu, 8 Aug 2002 12:03:00 +1000 
Subject: [R] RE: rmultinom
Message-ID: <A8877251964B294BAB5BA1FC58B43FED26DD3E@molly.tas.csiro.au>

Dear newsgroup,

There was a recent post suggesting the incorporation of a standard
rmultinom(...). This seems like a good idea, but I wasn't sure about basing
this on tabulate( sample( ...)). Despite the attractive succinctness, this
could be very slow and use lots of memory if n or size is large. Instead,
I've tended to use a loop over the boxes of the multinomial, taking
successive binomial samples from the remaining available observations each
time.

To check, I did some timing comparisons. Unsurprisingly, the tabulate()
version is much slower for large "size" (number of observations per box).
However, the successive binomial version is slower when observations are
sparse, presumably because it spends most of its time filling in zeros that
tabulate() doesn't worry about.

test> # Low dimension, many observations per box
test> length( ranvec)
[1] 7
test> system.time( sucbin.rmultinom( 1000, 1000, ranvec))
[1] 0.02 0.00 0.02   NA   NA
test> system.time( tab.rmultinom( 1000, 1000, ranvec))
[1] 0.19 0.00 0.18   NA   NA

test> # High dimension, few observations per box
test> length( ranvec.long)
[1] 1000 
test> system.time( sucbin.rmultinom( 10000, 10, ranvec.long))
[1] 18.42  0.06 18.54    NA    NA
test> system.time( tab.rmultinom( 10000, 10, ranvec.long))
[1] 0.97 0.10 1.06   NA   NA

A good option for standard use might be a hybrid, with a "method" parameter
saying which approach to use. Verrry roughly, this might default to "use
successive binomials if size > length( prob)". The optimal cutoff seems to
have a more complex dependence on n, size, and p, but this default choice
should avoid the worst problems.

As a suggestion, I've included code for a hybrid. Underscore-haters may wish
to stop reading here :)

# first, two standard functions of mine: these could go inside or be coded
explicitly, of course
# Avoid unintended behaviour with : when 2nd arg is lower than 1st
assign( '%upto%', function( from, to) if( from <= to) from:to else numeric(
0))

# Trim tail of vector
clip_ function( x, n=1) x[ 1 %upto% ( length( x) - n)]

rmultinom_ function( n, size, prob, method=if(k>size) "tabulate" else
"sucbin") {
  # returns a n X length( prob) matrix of integers, each row adding up to
size

  k_ length( prob)
  if( pmatch( method, c( 'sucbin', 'tabulate')) == 1) { # successive
binomials
    prob_ prob / sum( prob)
    prob[-1]_ prob[-1] / (1-clip( cumsum( prob)))
    x_ matrix( as.integer( 0), n, k)
    nn_ rep( size, n)

    for( i in 1 %upto% (k-1)) {
      x[,i]_ as.integer( rbinom( n, size=nn, prob=prob[ i]))
      nn_ nn - x[,i]
    }

    x[,k]_ nn
  } else # tabulation
    x_ matrix( tabulate( sample( k, n * size, repl = TRUE, prob) + k * 0
%upto% (n - 1), nbins = n * k), 
        nrow = n, ncol = k, byrow = TRUE) # NB using ":" instead of "%upto%"
would fail for n=1
        
return( x)
}

cheers
Mark

*******************************

Mark Bravington
CSIRO (CMIS)
PO Box 1538
Castray Esplanade
Hobart
TAS 7001

phone (61) 3 6232 5118
fax (61) 3 6232 5012
Mark.Bravington at csiro.au 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Thu Aug  8 05:36:03 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Thu, 08 Aug 2002 15:36:03 +1200
Subject: [R] Label points in pairs()
References: <006f01c2332a$48018f60$91a57cd4@oemcomputer>
	 <51F9C42DA15CD311BD220008C707D81906FFC4EC@usrymx10.merck.com>
	 <006f01c2332a$48018f60$91a57cd4@oemcomputer> <4.2.2.20020724183211.00a8c6d0@pop3.arnet.com.ar>
Message-ID: <3D51E723.D2512EC4@stat.auckland.ac.nz>

Hi


Daniel Mastropietro wrote:
> 
> Hello,
> 
> I would like to know if there is a simple way of adding labels to the
> points in a pairs() plot.
> I am thinking of something like using the text() function when adding
> labels to a regular plot.


Does this do the sort of thing you want?

pairs(matrix(rnorm(15), ncol=3), pch=21, bg="grey", cex=4, 
      panel=function(x, y, ...) { points(x, y, ...); 
                                  text(x, y, letters[1:5]) })

 
Paul
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rvaradha at jhsph.edu  Thu Aug  8 06:08:09 2002
From: rvaradha at jhsph.edu (Ravi Varadhan)
Date: Thu, 08 Aug 2002 00:08:09 -0400
Subject: [R] RE: rmultinom
Message-ID: <010601c23e91$35ddbee0$8a101eac@newmicronpc>

Hi Mark:

I had also used sample and tabulate for generating multinomial and found it
to be quite slow.  So I had written a multinomial random numbers generator
based on the GENMUL subroutine from "ranlib", which in turn is based on the
algorithm from Luc Devroye's book on "Non-Uniform Random Variate Generation"
You may want to compare this with your hybrid algorithm and see their
relative performance.

Best,
Ravi.

###############################################################
##      A multinomial random vector generator
rmultinom <- function(n, p){
 ncat <- length(p)
#     Check Arguments
      if (n < 0) {cat("n < 0 ","\n"); break}
      if (ncat <= 1) {cat("ncat <= 1 ","\n"); break}
      if (any(p < 0.0)) {cat("Some P(i) < 0 ","\n"); break}
      if (any(p > 1.0)) {cat("Some P(i) > 1.0 ","\n"); break}
 eps <- .Machine$double.eps^0.9
      if (sum(p) > (1.0 + eps) | sum(p) < (1.0 - eps) ) {cat("Sum of P(i)
should equal 1.0 ","\n"); break}

#     Initialize variables
      ntot <- n
      sum <- 1.0
      ix <- rep(0,ncat)

#     Generate the observation
      for (icat in 1:(ncat - 1)) {
          prob <-  p[icat]/sum
          ix[icat] <-  rbinom(1,ntot,prob)
          ntot <- ntot - ix[icat]
          if (ntot <= 0) return(ix)
          sum <- sum - p[icat]
 }
      ix[ncat] <- ntot
 return (ix)
}

-----Original Message-----
From: Mark.Bravington at csiro.au <Mark.Bravington at csiro.au>
To: r-help at stat.math.ethz.ch <r-help at stat.math.ethz.ch>
Date: Wednesday, August 07, 2002 11:16 PM
Subject: [R] RE: rmultinom


>Dear newsgroup,
>
>There was a recent post suggesting the incorporation of a standard
>rmultinom(...). This seems like a good idea, but I wasn't sure about basing
>this on tabulate( sample( ...)). Despite the attractive succinctness, this
>could be very slow and use lots of memory if n or size is large. Instead,
>I've tended to use a loop over the boxes of the multinomial, taking
>successive binomial samples from the remaining available observations each
>time.
>
>To check, I did some timing comparisons. Unsurprisingly, the tabulate()
>version is much slower for large "size" (number of observations per box).
>However, the successive binomial version is slower when observations are
>sparse, presumably because it spends most of its time filling in zeros that
>tabulate() doesn't worry about.
>
>test> # Low dimension, many observations per box
>test> length( ranvec)
>[1] 7
>test> system.time( sucbin.rmultinom( 1000, 1000, ranvec))
>[1] 0.02 0.00 0.02   NA   NA
>test> system.time( tab.rmultinom( 1000, 1000, ranvec))
>[1] 0.19 0.00 0.18   NA   NA
>
>test> # High dimension, few observations per box
>test> length( ranvec.long)
>[1] 1000
>test> system.time( sucbin.rmultinom( 10000, 10, ranvec.long))
>[1] 18.42  0.06 18.54    NA    NA
>test> system.time( tab.rmultinom( 10000, 10, ranvec.long))
>[1] 0.97 0.10 1.06   NA   NA
>
>A good option for standard use might be a hybrid, with a "method" parameter
>saying which approach to use. Verrry roughly, this might default to "use
>successive binomials if size > length( prob)". The optimal cutoff seems to
>have a more complex dependence on n, size, and p, but this default choice
>should avoid the worst problems.
>
>As a suggestion, I've included code for a hybrid. Underscore-haters may
wish
>to stop reading here :)
>
># first, two standard functions of mine: these could go inside or be coded
>explicitly, of course
># Avoid unintended behaviour with : when 2nd arg is lower than 1st
>assign( '%upto%', function( from, to) if( from <= to) from:to else numeric(
>0))
>
># Trim tail of vector
>clip_ function( x, n=1) x[ 1 %upto% ( length( x) - n)]
>
>rmultinom_ function( n, size, prob, method=if(k>size) "tabulate" else
>"sucbin") {
>  # returns a n X length( prob) matrix of integers, each row adding up to
>size
>
>  k_ length( prob)
>  if( pmatch( method, c( 'sucbin', 'tabulate')) == 1) { # successive
>binomials
>    prob_ prob / sum( prob)
>    prob[-1]_ prob[-1] / (1-clip( cumsum( prob)))
>    x_ matrix( as.integer( 0), n, k)
>    nn_ rep( size, n)
>
>    for( i in 1 %upto% (k-1)) {
>      x[,i]_ as.integer( rbinom( n, size=nn, prob=prob[ i]))
>      nn_ nn - x[,i]
>    }
>
>    x[,k]_ nn
>  } else # tabulation
>    x_ matrix( tabulate( sample( k, n * size, repl = TRUE, prob) + k * 0
>%upto% (n - 1), nbins = n * k),
>        nrow = n, ncol = k, byrow = TRUE) # NB using ":" instead of
"%upto%"
>would fail for n=1
>
>return( x)
>}
>
>cheers
>Mark
>
>*******************************
>
>Mark Bravington
>CSIRO (CMIS)
>PO Box 1538
>Castray Esplanade
>Hobart
>TAS 7001
>
>phone (61) 3 6232 5118
>fax (61) 3 6232 5012
>Mark.Bravington at csiro.au
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Thu Aug  8 07:30:59 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Wed, 7 Aug 2002 22:30:59 -0700 (PDT)
Subject: [R] R graphics and dpi
Message-ID: <Pine.GSO.4.10.10208072229140.27805-100000@quetelet.stat.ucla.edu>

Is there a way to tell at what dpi R generates graphics at?   I need to
generate 600 dpi graphics for an article.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug  8 08:33:04 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 8 Aug 2002 07:33:04 +0100 (BST)
Subject: [R] R graphics and dpi
In-Reply-To: <Pine.GSO.4.10.10208072229140.27805-100000@quetelet.stat.ucla.edu>
Message-ID: <Pine.LNX.4.31.0208080730370.25351-100000@gannet.stats>

R has no such concept.  Most of the devices generate vector graphics, and
for png/jpeg you specify a number of pixels.  Only (dev2)bitmap has dpi,
its `res' argument.

On Wed, 7 Aug 2002, Roger Peng wrote:

> Is there a way to tell at what dpi R generates graphics at?   I need to
> generate 600 dpi graphics for an article.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Thu Aug  8 08:16:44 2002
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Thu, 08 Aug 2002 08:16:44 +0200 (MEST)
Subject: [R] Constructing titles from list of expressions
In-Reply-To: <Pine.A41.4.44.0208070848090.119858-100000@homer15.u.washington.edu>
Message-ID: <XFMail.020808081644.theis@statistik.uni-dortmund.de>

Dear Thomas,

thanks a lot for this detailed reply! I think this is really a good lesson in
advanced R-programming! ;-)

On 07-Aug-02 Thomas Lumley wrote:
[Snip]
> In your example you wanted b and c to be elements of a vector.  They
> actually have to be elements of a list
> 
>> c(quote(beta),quote(gamma^3))
> [[1]]
> beta
> 
> [[2]]
> gamma^3
> 
> So
>  expr1<-quote(alpha)
>  expr2<-c( quote(beta), quote(gamma^3))
>  plot(1:10,main=substitute("Estimated "*a*" for "*b*" vs."*c,
>         list(a=expr1,b=expr2[[1]],c=expr2[[2]])))
So, if I had been true to my subject and not exchanged the "list" by a "vector",
things should have worked out correctly at some point of my tests...

Thank you again,

Winfried
---------------------------------------------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 08-Aug-02

Dipl.-Math. Winfried Theis
SFB 475, Fachbereich Statistik, Universit"at Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903 FAX: +49-231-755-4387
----------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hennig at stat.math.ethz.ch  Thu Aug  8 10:35:57 2002
From: hennig at stat.math.ethz.ch (Christian Hennig)
Date: Thu, 8 Aug 2002 10:35:57 +0200 (CEST)
Subject: [R] cluster-analysis and NA's
In-Reply-To: <200208071803.g77I3jX09968@mailgate5.cinetic.de>
Message-ID: <Pine.LNX.4.44.0208081028270.9700-100000@florence>

Hi,

On Wed, 7 Aug 2002 chr.schulz at email.de wrote:

> Hi,
> 
> exist a special cluster-analysis algorithms
> which can work with NA's.
> 
> a further "problem" is that i want cluster
> variables not cases to identify special variable-set's.
> 
> Is it a common way turn the data.frame and use
> kmeans,because this works with NA's, or have anybody another
> method for finding "variable-sets"  , with exception of factor analysis.
> 
> thanks for advance
> Christian

The choice of a clustering method depends very much on the aims of your
analysis and especially on your concept of "similarity" between the
entities to cluster. One of the most often used methods for clustering
variables is to compute a dissimilarity matrix between the variables, where
dissimilarity is defined as 1-correlation or 1-|correlation| (depending on
if you want variables pointing in almost exactly the opposite direction 
to be interpreted as similar or as extremely dissimilar).
Then you can apply one of the algorithms of hclust or agnes of library
cluster (the latter is not a bad choice as a default). 
NAs are not a big problem because correlations can be properly computed in
presence of NAs.

Christian

> 
>  
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
***********************************************************************
Christian Hennig
Seminar fuer Statistik, ETH-Zentrum (LEO), CH-8092 Zuerich (current)
and Fachbereich Mathematik-SPST/ZMS, Universitaet Hamburg
hennig at stat.math.ethz.ch, http://stat.ethz.ch/~hennig/
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From z.barta at bristol.ac.uk  Thu Aug  8 11:04:18 2002
From: z.barta at bristol.ac.uk (Zoltan Barta)
Date: Thu, 8 Aug 2002 10:04:18 +0100
Subject: [R] R graphics and dpi
In-Reply-To: <Pine.GSO.4.10.10208072229140.27805-100000@quetelet.stat.ucla.edu>
References: <Pine.GSO.4.10.10208072229140.27805-100000@quetelet.stat.ucla.edu>
Message-ID: <20020808090417.GA10352@pc34.maths.bris.ac.uk>


Dear Roger,

On Wed, Aug 07, 2002 at 10:30:59PM -0700, Roger Peng wrote:
> Is there a way to tell at what dpi R generates graphics at?   I need to
> generate 600 dpi graphics for an article.

I would generate the graphics in eps then convert it with ghostscript. The
attached shell script can give some hints about this.

Zoltan

-- 

Zoltan BARTA
Z.Barta at bristol.ac.uk
http://delfin.klte.hu/~zbarta/
-------------- next part --------------
#! /bin/bash 

# convert .eps files to .tif files using ghostscript

b_nev=$1;
for f in "$b_nev"*.eps; do
    bf=`basename $f .eps`;
    echo -n Processing: $bf;
    infile=$bf.eps;
    outfile=$bf.tif;

# this gives the bounding box
    BB=`gs -dBATCH -dNOPAUSE -sDEVICE=bbox $infile 2>&1 | grep '^..B'`;
    echo -n ...;

# this set the paper size
    width=`echo "$BB"|awk '{print $4}'`;
    height=`echo "$BB"|awk '{print $5}'`;
    echo "width: $width, height: $height";

# this does the transformation
    gs -dBATCH -dNOPAUSE -dDEVICEWIDTHPOINTS=$width \
	-dDEVICEHEIGHTPOINTS=$height -sDEVICE=tiffg4 \
	-sOutputFile=$outfile -r600x600 $infile > /dev/null;
    echo done.
done

From chr.schulz at email.de  Thu Aug  8 12:07:36 2002
From: chr.schulz at email.de (chr.schulz@email.de)
Date: Thu, 8 Aug 2002 12:07:36 +0200
Subject: [R] cluster-analysis and NA's
Message-ID: <200208081007.g78A7aX12547@mailgate5.cinetic.de>

Hi,
thanks for the different replies.
Varclus in the Hmisc-Package is really nice and 
is exactly what i need for my intention 
(... and works with correlations what you describe below ,too) 

;-))


regards,Christian



Christian Hennig <hennig at stat.math.ethz.ch> schrieb am 08.08.02 10:38:00:
> Hi,
> 
> On Wed, 7 Aug 2002 chr.schulz at email.de wrote:
> 
> > Hi,
> > 
> > exist a special cluster-analysis algorithms
> > which can work with NA's.
> > 
> > a further "problem" is that i want cluster
> > variables not cases to identify special variable-set's.
> > 
> > Is it a common way turn the data.frame and use
> > kmeans,because this works with NA's, or have anybody another
> > method for finding "variable-sets"  , with exception of factor analysis.
> > 
> > thanks for advance
> > Christian
> 
> The choice of a clustering method depends very much on the aims of your
> analysis and especially on your concept of "similarity" between the
> entities to cluster. One of the most often used methods for clustering
> variables is to compute a dissimilarity matrix between the variables, where
> dissimilarity is defined as 1-correlation or 1-|correlation| (depending on
> if you want variables pointing in almost exactly the opposite direction 
> to be interpreted as similar or as extremely dissimilar).
> Then you can apply one of the algorithms of hclust or agnes of library
> cluster (the latter is not a bad choice as a default). 
> NAs are not a big problem because correlations can be properly computed in
> presence of NAs.
> 
> Christian
> 
> > 
> >  
> > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > 
> 
> -- 
> ***********************************************************************
> Christian Hennig
> Seminar fuer Statistik, ETH-Zentrum (LEO), CH-8092 Zuerich (current)
> and Fachbereich Mathematik-SPST/ZMS, Universitaet Hamburg
> hennig at stat.math.ethz.ch, http://stat.ethz.ch/~hennig/
> hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
> #######################################################################
> ich empfehle www.boag.de
> 
> 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From oehl_list at gmx.de  Thu Aug  8 12:25:51 2002
From: oehl_list at gmx.de (oehl_list@gmx.de)
Date: Thu, 8 Aug 2002 12:25:51 +0200 (MEST)
Subject: [R] analysis of function dependencies / namespacing
Message-ID: <3067.1028802351@www57.gmx.net>


I am going to document a 10.000 lines of R code project.

Before reinventing the wheel, has anyone written a function that analyzes
dependencies between R functions? 

I am thinking of output like 

caller1  calee1
caller1  calee2
caller1  :
caller2  calee7
:

and I would like to restrict caller and callee to certain positions in the
search path.
My guess is, that a quick and dirty solution is easy, but I have no idea how
to filter out calls to locally defined functions. 

Furthermore I heard rumors about newnamespacing features. Is there already
information on that?

Thanks for any help
Best


Jens Oehlschl?gel


-- 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at esb.ucp.pt  Thu Aug  8 13:08:52 2002
From: peter at esb.ucp.pt (Peter Ho)
Date: Thu, 08 Aug 2002 12:08:52 +0100
Subject: [R] AOV in MASS not the same??
References: <Pine.LNX.4.31.0208062044200.3235-100000@gannet.stats>
Message-ID: <3D525144.30108@esb.ucp.pt>

Thanks to Andy, Patrick and Prof. Ripley for reply to my query. Having 
read MASS's section on contrasts, I now understand where I went wrong.

Peter

ripley at stats.ox.ac.uk wrote:

>On Tue, 6 Aug 2002, Peter Ho wrote:
>
>  
>
>>I would appreciate it if someone could explain the results of the
>>example from the aov() help file. The output given below is different
>>from book
>>Venables and Ripley -  MASS
>>    
>>
>
>You forgot to set the the contrasts!
>
>  
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From huang at stats.ox.ac.uk  Thu Aug  8 14:23:05 2002
From: huang at stats.ox.ac.uk (Huan Huang)
Date: Thu, 8 Aug 2002 13:23:05 +0100
Subject: [R] Re: cluster summary score
References: <000501c23bb8$116e2e90$345c5242@p800><20020804113607.392fef34.fharrell@virginia.edu><000b01c23bd4$adaf5650$a91401a3@stats.ox.ac.uk><20020804135643.1234c051.fharrell@virginia.edu><000901c23be7$8369ac20$a91401a3@stats.ox.ac.uk> <20020804145622.2
Message-ID: <001001c23ed6$5fa864b0$a91401a3@stats.ox.ac.uk>

Dear Prof. Harrell and R list,

I have done the variable clustering and summary scores. Thanks a lot for
your kind help.

But it hasn't solved the collinearity problem in my dataset. Afer the
clustering and transcan, there is still very strong collinearity between the
summary scores. The objective of my project is to find out the influential
variables. I believe any variable resuction is not appropriate when the
collinearity exists. I am thinking about the principal component regression
and variable reduction based on it (Rudolf J. Freund and William J. Wilson
(1998), P215).

Does anybody have suggestion on the variable resuction under this condition?
I will appreciate any kind imformation.

Best

Huan
----- Original Message -----
From: "Frank E Harrell Jr" <fharrell at virginia.edu>
To: "Huan Huang" <huang at stats.ox.ac.uk>
Sent: Sunday, August 04, 2002 7:56 PM
Subject: Re: cluster summary score


> On Sun, 4 Aug 2002 19:48:22 +0100
> Huan Huang <huang at stats.ox.ac.uk> wrote:
>
> >
> >
> > > This was just done by
> > >
> > > f <- lrm(y ~ all cluster summary scores)
> > > fastbw(f, suitable stopping criteria)
> >
> > Thank you very much for your kind reply. But I don't know how to get the
> > cluster summary score.
> >
> > I did:
> > t <- transcan(x, transform = T)
> > t$transform
> >
> > I got a new matrix, with the transformed value for each variable. How
can I
> > get the cluster summary scores?
>
> You see the little pc1 function I defined in Hmisc?  I just do things like
>
> p1 <- pc1(t$transform) or pct1(t$transform[,c(3,5,7)]) to use variables
3,5,7
>
> Frank
>
> >
> > Huan
> >
> > >
> > > Doing the fast backward stepdown is safer with cluster scores than
with
> > raw variables, especially if you use conservative stopping criteria
(e.g.,
> > large alpha).  I allowed "highly insignificant" cluster scores to be
> > dropped, and did not ever look at their component variables again.
> > >
> > > Frank
> > >
> > > >
> > > > Actually I am doing  my thesis project. My explanatory variables
have
> > > > serious collinearity. I have used the function transcan and varclus
on
> > the
> > > > variables and find out some clusters. I am trying to use the method
> > > > introduced in this section to drop some variables. I want to know
how
> > you
> > > > carry out the cluster summary scores.
> > > >
> > > > Thanks a lot and looking forward to hearing from you.
> > > >
> > > > Huan
> > > > ----- Original Message -----
> > > > From: "Frank E Harrell Jr" <fharrell at virginia.edu>
> > > > To: <pmj at jciconsult.com>
> > > > Cc: <r-help at stat.math.ethz.ch>
> > > > Sent: Sunday, August 04, 2002 4:36 PM
> > > > Subject: Re: [R] Pseudo R^2 for logit - really naive question
> > > >
> > > >
> > > > > The Nagelkerke R^2 is commonly used.   The lrm function in the
Design
> > > > library computes this for logistic regression.  The numerator is 1 -
> > > > exp(-LR/n) where LR is the likelihood ratio chi-square stat and n is
the
> > > > total sample size.  Divide it by the maximum attainable value of
this if
> > the
> > > > model is perfect (which is a simple function of the -2 log
likelihood
> > with
> > > > an intercept-only model) to get Nagelkerke's R^2.  The numerator is
> > exactly
> > > > the ordinary R^2 in OLS, as LR = -n log(1-R^2) there.  For a more
> > > > interpretable index and one that measures purely discrimination
ability,
> > the
> > > > ROC area or "C index" which is essentially a Mann-Whitney statistic
> > based on
> > > > concordance probability is recommended.  The lrm function also
outputs
> > this
> > > > or you can get it from the somers2 or rcorr.cens functions in the
Hmisc
> > > > library.
> > > > >
> > > > > Frank Harrell
> > > > >
> > > > > On Sun, 4 Aug 2002 09:08:46 -0400
> > > > > "Paul M. Jacobson" <pmj at jciconsult.com> wrote:
> > > > >
> > > > > > I am using GLM to calculate logit models based on
cross-sectional
> > data.
> > > > I
> > > > > > am now down to the hard work of making the results intelligible
to
> > very
> > > > > > average readers.  Is there any way to calculate a psuedo
analoque to
> > the
> > > > R^2
> > > > > > in standard linear regression for use as a purely descriptive
> > statistic
> > > > of
> > > > > > goodness of fit? Most of the readers of my report will be
vaguely
> > > > familiar
> > > > > > and more comfortable with R^2 than with any other regression
> > > > diagnostics.
> > > > > >
> > > > > > Paul M. Jacobson
> > > > > > Jacobson Consulting Inc.
> > > > > > 80 Front Street East, Suite 720
> > > > > > Toronto, ON, M5E 1T4
> > > > > > Voice:  +1(416)868-1141
> > > > > > Farm: +1(519)463-6061/6224
> > > > > > Fax: +1(416)868-1131
> > > > > > E-mail: pmj at jciconsult.com
> > > > > > Web:  http://www.jciconsult.com/
> > > > > >
> > > > >
> > > >
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > > > -.-.-
> > > > > > r-help mailing list -- Read
> > > > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > > > > Send "info", "help", or "[un]subscribe"
> > > > > > (in the "body", not the subject !)  To:
> > r-help-request at stat.math.ethz.ch
> > > > > >
> > > >
> >
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > > > _._
> > > > >
> > > > >
> > > > > --
> > > > > Frank E Harrell Jr              Prof. of Biostatistics &
Statistics
> > > > > Div. of Biostatistics & Epidem. Dept. of Health Evaluation
Sciences
> > > > > U. Virginia School of Medicine
> > http://hesweb1.med.virginia.edu/biostat
> > > >
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > > > -.-.-
> > > > > r-help mailing list -- Read
> > > > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > > > Send "info", "help", or "[un]subscribe"
> > > > > (in the "body", not the subject !)  To:
> > r-help-request at stat.math.ethz.ch
> > > > >
> > > >
> >
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > > > _._
> > > > >
> > > >
> > >
> > >
> > > --
> > > Frank E Harrell Jr              Prof. of Biostatistics & Statistics
> > > Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
> > > U. Virginia School of Medicine
http://hesweb1.med.virginia.edu/biostat
> > >
> >
>
>
> --
> Frank E Harrell Jr              Prof. of Biostatistics & Statistics
> Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
> U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dj at research.bell-labs.com  Thu Aug  8 14:29:15 2002
From: dj at research.bell-labs.com (David James)
Date: Thu, 8 Aug 2002 08:29:15 -0400
Subject: [R] FW: ROracle error
In-Reply-To: <000b01c23e56$8633b380$f0a410ac@s464>; from vkhurana@mail.nmfs.hawaii.edu on Wed, Aug 07, 2002 at 11:08:05AM -1000
References: <000b01c23e56$8633b380$f0a410ac@s464>
Message-ID: <20020808082915.A13167@jessie.research.bell-labs.com>

Hello Vikram,

(I did respond to you yesterday's email from vkhurana at noaa.gov, but 
apparantly noaa.gov doesn't recognize your handle vkhurana.)

Apparently you don't have the Oracle ProC/C++ precomplier "proc"
in your $PATH.  You need to include $ORACLE_HOME/bin in your $PATH,
and probably $ORACLE_HOME/lib in your $LD_LIBRARY_PATH.  See the
files INSTALL, README, and README.client in the source distribution
(they'll be in the "inst" directory under "ROracle" after you untar
the source file ROracle_0.3-3.tar.gz).

Regards,
--
David

Vikram Khurana wrote:
> Howdy,
> 
> When doing a
> install.packages("ROracle") in R I'm getting the following error:
> 
> R CMD COMPILE RS-DBI.c
> make[1]: Entering directory `/tmp/R.INSTALL.1809/ROracle/src'
> gcc -I/usr/lib/R/include  -I/usr/local/include -D__NO_MATH_INLINES 
> -mieee-fp  -fPIC  -O2 -m486 -fno-strength-reduce -g -c RS-DBI.c -o
> RS-DBI.o
> make[1]: Leaving directory `/tmp/R.INSTALL.1809/ROracle/src'
> proc        CODE=ANSI_C INCLUDE=/usr/lib/R/include PARSE=FULL
> RS-Oracle.pc
> make: proc: Command not found
> make: *** [RS-Oracle.c] Error 127
> ERROR: compilation failed for package 'ROracle'
> 
> 
> I've tried this on 2 different RH 7.3 LINUX boxes with no luck. I also 
> searched the R search engine and google with no luck. Can someone please
> 
> point me in the right direction as to if I'm doing something wrong?
> 
> Thanks,
> Vikram
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Thu Aug  8 15:20:19 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Thu, 8 Aug 2002 09:20:19 -0400
Subject: [R] Re: cluster summary score
In-Reply-To: <001001c23ed6$5fa864b0$a91401a3@stats.ox.ac.uk>
References: <000501c23bb8$116e2e90$345c5242@p800>
	<20020804113607.392fef34.fharrell@virginia.edu>
	<000b01c23bd4$adaf5650$a91401a3@stats.ox.ac.uk>
	<20020804135643.1234c051.fharrell@virginia.edu>
	<000901c23be7$8369ac20$a91401a3@stats.ox.ac.uk>
	<20020804145622.2361570d.fharrell@virginia.edu>
	<001001c23ed6$5fa864b0$a91401a3@stats.ox.ac.uk>
Message-ID: <20020808092019.5865bcc0.fharrell@virginia.edu>

This is confusing because if you do the variable clustering correctly, the cluster scores should be weakly correlated.  Check how you are doing the variable clustering and how you are interpreting measures of collinearity.
-Frank Harrell

On Thu, 8 Aug 2002 13:23:05 +0100
Huan Huang <huang at stats.ox.ac.uk> wrote:

> Dear Prof. Harrell and R list,
> 
> I have done the variable clustering and summary scores. Thanks a lot for
> your kind help.
> 
> But it hasn't solved the collinearity problem in my dataset. Afer the
> clustering and transcan, there is still very strong collinearity between the
> summary scores. The objective of my project is to find out the influential
> variables. I believe any variable resuction is not appropriate when the
> collinearity exists. I am thinking about the principal component regression
> and variable reduction based on it (Rudolf J. Freund and William J. Wilson
> (1998), P215).
> 
> Does anybody have suggestion on the variable resuction under this condition?
> I will appreciate any kind imformation.
> 
> Best
> 
> Huan
> ----- Original Message -----
> From: "Frank E Harrell Jr" <fharrell at virginia.edu>
> To: "Huan Huang" <huang at stats.ox.ac.uk>
> Sent: Sunday, August 04, 2002 7:56 PM
> Subject: Re: cluster summary score
> 
> 
> > On Sun, 4 Aug 2002 19:48:22 +0100
> > Huan Huang <huang at stats.ox.ac.uk> wrote:
> >
> > >
> > >
> > > > This was just done by
> > > >
> > > > f <- lrm(y ~ all cluster summary scores)
> > > > fastbw(f, suitable stopping criteria)
> > >
> > > Thank you very much for your kind reply. But I don't know how to get the
> > > cluster summary score.
> > >
> > > I did:
> > > t <- transcan(x, transform = T)
> > > t$transform
> > >
> > > I got a new matrix, with the transformed value for each variable. How
> can I
> > > get the cluster summary scores?
> >
> > You see the little pc1 function I defined in Hmisc?  I just do things like
> >
> > p1 <- pc1(t$transform) or pct1(t$transform[,c(3,5,7)]) to use variables
> 3,5,7
> >
> > Frank
> >
> > >
> > > Huan
> > >
> > > >
> > > > Doing the fast backward stepdown is safer with cluster scores than
> with
> > > raw variables, especially if you use conservative stopping criteria
> (e.g.,
> > > large alpha).  I allowed "highly insignificant" cluster scores to be
> > > dropped, and did not ever look at their component variables again.
> > > >
> > > > Frank
> > > >
> > > > >
> > > > > Actually I am doing  my thesis project. My explanatory variables
> have
> > > > > serious collinearity. I have used the function transcan and varclus
> on
> > > the
> > > > > variables and find out some clusters. I am trying to use the method
> > > > > introduced in this section to drop some variables. I want to know
> how
> > > you
> > > > > carry out the cluster summary scores.
> > > > >
> > > > > Thanks a lot and looking forward to hearing from you.
> > > > >
> > > > > Huan
> > > > > ----- Original Message -----
> > > > > From: "Frank E Harrell Jr" <fharrell at virginia.edu>
> > > > > To: <pmj at jciconsult.com>
> > > > > Cc: <r-help at stat.math.ethz.ch>
> > > > > Sent: Sunday, August 04, 2002 4:36 PM
> > > > > Subject: Re: [R] Pseudo R^2 for logit - really naive question
> > > > >
> > > > >
> > > > > > The Nagelkerke R^2 is commonly used.   The lrm function in the
> Design
> > > > > library computes this for logistic regression.  The numerator is 1 -
> > > > > exp(-LR/n) where LR is the likelihood ratio chi-square stat and n is
> the
> > > > > total sample size.  Divide it by the maximum attainable value of
> this if
> > > the
> > > > > model is perfect (which is a simple function of the -2 log
> likelihood
> > > with
> > > > > an intercept-only model) to get Nagelkerke's R^2.  The numerator is
> > > exactly
> > > > > the ordinary R^2 in OLS, as LR = -n log(1-R^2) there.  For a more
> > > > > interpretable index and one that measures purely discrimination
> ability,
> > > the
> > > > > ROC area or "C index" which is essentially a Mann-Whitney statistic
> > > based on
> > > > > concordance probability is recommended.  The lrm function also
> outputs
> > > this
> > > > > or you can get it from the somers2 or rcorr.cens functions in the
> Hmisc
> > > > > library.
> > > > > >
> > > > > > Frank Harrell
> > > > > >
> > > > > > On Sun, 4 Aug 2002 09:08:46 -0400
> > > > > > "Paul M. Jacobson" <pmj at jciconsult.com> wrote:
> > > > > >
> > > > > > > I am using GLM to calculate logit models based on
> cross-sectional
> > > data.
> > > > > I
> > > > > > > am now down to the hard work of making the results intelligible
> to
> > > very
> > > > > > > average readers.  Is there any way to calculate a psuedo
> analoque to
> > > the
> > > > > R^2
> > > > > > > in standard linear regression for use as a purely descriptive
> > > statistic
> > > > > of
> > > > > > > goodness of fit? Most of the readers of my report will be
> vaguely
> > > > > familiar
> > > > > > > and more comfortable with R^2 than with any other regression
> > > > > diagnostics.
> > > > > > >
> > > > > > > Paul M. Jacobson
> > > > > > > Jacobson Consulting Inc.
> > > > > > > 80 Front Street East, Suite 720
> > > > > > > Toronto, ON, M5E 1T4
> > > > > > > Voice:  +1(416)868-1141
> > > > > > > Farm: +1(519)463-6061/6224
> > > > > > > Fax: +1(416)868-1131
> > > > > > > E-mail: pmj at jciconsult.com
> > > > > > > Web:  http://www.jciconsult.com/
> > > > > > >
> > > > > >
> > > > >
> > >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > > > > -.-.-
> > > > > > > r-help mailing list -- Read
> > > > > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > > > > > Send "info", "help", or "[un]subscribe"
> > > > > > > (in the "body", not the subject !)  To:
> > > r-help-request at stat.math.ethz.ch
> > > > > > >
> > > > >
> > >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > > > > _._
> > > > > >
> > > > > >
> > > > > > --
> > > > > > Frank E Harrell Jr              Prof. of Biostatistics &
> Statistics
> > > > > > Div. of Biostatistics & Epidem. Dept. of Health Evaluation
> Sciences
> > > > > > U. Virginia School of Medicine
> > > http://hesweb1.med.virginia.edu/biostat
> > > > >
> > >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > > > > -.-.-
> > > > > > r-help mailing list -- Read
> > > > > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > > > > Send "info", "help", or "[un]subscribe"
> > > > > > (in the "body", not the subject !)  To:
> > > r-help-request at stat.math.ethz.ch
> > > > > >
> > > > >
> > >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > > > > _._
> > > > > >
> > > > >
> > > >
> > > >
> > > > --
> > > > Frank E Harrell Jr              Prof. of Biostatistics & Statistics
> > > > Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
> > > > U. Virginia School of Medicine
> http://hesweb1.med.virginia.edu/biostat
> > > >
> > >
> >
> >
> > --
> > Frank E Harrell Jr              Prof. of Biostatistics & Statistics
> > Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
> > U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
> >
> 


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Thu Aug  8 15:37:05 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Thu, 8 Aug 2002 09:37:05 -0400
Subject: [R] Re: cluster summary score
In-Reply-To: <001001c23ed6$5fa864b0$a91401a3@stats.ox.ac.uk>; from huang@stats.ox.ac.uk on Thu, Aug 08, 2002 at 01:23:05PM +0100
References: <000501c23bb8$116e2e90$345c5242@p800><20020804113607.392fef34.fharrell@virginia.edu><000b01c23bd4$adaf5650$a91401a3@stats.ox.ac.uk><20020804135643.1234c051.fharrell@virginia.edu><000901c23be7$8369ac20$a91401a3@stats.ox.ac.uk> <20020804145622.2
Message-ID: <20020808093705.A1940@cattell.psych.upenn.edu>

On 08/08/02 13:23, Huan Huang wrote:
>Dear Prof. Harrell and R list,
>
>I have done the variable clustering and summary scores. Thanks a lot for
>your kind help.
>
>But it hasn't solved the collinearity problem in my dataset. Afer the
>clustering and transcan, there is still very strong collinearity between the
>summary scores. The objective of my project is to find out the influential
>variables. I believe any variable resuction is not appropriate when the
>collinearity exists. I am thinking about the principal component regression
>and variable reduction based on it (Rudolf J. Freund and William J. Wilson
>(1998), P215).
>
>Does anybody have suggestion on the variable resuction under this condition?
>I will appreciate any kind imformation.

I'm not sure what you mean by resuction, but when I and many
other psychologists face this kind of problem - reducing a set of
variables - we often use factor analysis.  A good progam is
factanal in the mva library.  Varimax rotation (the default)
usuallly picks out a sensible set of factors, although of course
other rotations may be more informative for a given case.  You
sort the loadings if you want.  (Look at the various options for
loadings() and print().)

There are no fixed rules for this sort of thing.  Sometimes one
variable winds up in the wrong place by chance.  The strategy I
use is to figure out a sensible grouping of variables before I
use them to predict anything, so that I am not biased by knowing
the results.  So I feel free to move or remove variables that
don't make sense.  Some people may prefer a more rigid approach,
which further reduces the temptation to cheat.

Having found the grouping of variables, you can do three
different things:

1. Define "scores" by simply adding up the (standardized?) scores
   of the variables in each group (with high loadings in the same
   factor, perhaps).

2. Use the factor scores themselves as variables.

3. Use a single representative variable from each group.  This
   seems to be what you were suggesting, but I'm having trouble
   thinking of a situation where this would be better than #1 or
   #2.

Whatever you do, you need to figure out how many groups, and
prcomp() or princomp() is often helpful here.  (And take a look
at biplot().  A really nice tool for looking at the first two
principal components.)  The factanal() program also reports a
chi-square fit statistic.  So in principle you could use that to
figure out how many factors there are.  However, that method
usually gives more factors than are meaningful, especially when
you have a large data set.

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page:            http://www.sas.upenn.edu/~baron
R page:               http://finzi.psych.upenn.edu/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chuck at bureau13.cc.uky.edu  Thu Aug  8 16:18:44 2002
From: chuck at bureau13.cc.uky.edu (Charles F. Fisher)
Date: Thu, 8 Aug 2002 10:18:44 -0400
Subject: [R] problem installing R-1.5.1 on hpux 11.11
Message-ID: <20020808101844.A14897@bureau13>

I ran into a problem installing R-1.5.1 on HPUX 11.11.

Running make check produces the following result in the base-Ex.R test:

running code in 'base-Ex.R' ...Undefined subroutine &R::Utils::fill called at /o
pt/local/src/R-1.5.1/share/perl/R/Utils.pm line 211.
 OK

What perl module is the "fill" routine used here from?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug  8 16:28:41 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 8 Aug 2002 15:28:41 +0100 (BST)
Subject: [R] problem installing R-1.5.1 on hpux 11.11
In-Reply-To: <20020808101844.A14897@bureau13>
Message-ID: <Pine.LNX.4.31.0208081522040.28477-100000@gannet.stats>

On Thu, 8 Aug 2002, Charles F. Fisher wrote:

> I ran into a problem installing R-1.5.1 on HPUX 11.11.
>
> Running make check produces the following result in the base-Ex.R test:
>
> running code in 'base-Ex.R' ...Undefined subroutine &R::Utils::fill called at /o
> pt/local/src/R-1.5.1/share/perl/R/Utils.pm line 211.
>  OK
>
> What perl module is the "fill" routine used here from?

Text::Wrap, as mentioned in about line 193.

It should be there provided your Perl is >= 5.005.  We've been unsure
about 5.004, but things which call this require 5.005.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.trapletti at bluewin.ch  Thu Aug  8 17:10:09 2002
From: a.trapletti at bluewin.ch (Adrian Trapletti)
Date: Thu, 08 Aug 2002 17:10:09 +0200
Subject: [R] Modified ARMA function
References: <200208060201.EAA16728@stat.math.ethz.ch>
Message-ID: <3D5289D1.B8338C78@bluewin.ch>

> Date: Sun, 04 Aug 2002 23:40:04 -0700
> From: krishna kumar <kriskumar at mailandnews.com>
> Subject: [R] Modified ARMA function
>
>  R-guRus ,
>
> ARMA function in tseries,  seems to be calculating the AR coeff 's as
>
>  coef <- lm(xx[,1]~xx[,lag$ar+1])$coef    [*snipped* from around  line
> 77,]

This is only to get preliminary estimates of the AR (and later also of the MA) coefficients. The final estimates are computed by conditional least squares (ie. minimizing function err defined in arma).

>
> I'd like to  modify this model with another term somewhat in these lines
>
> lm(xx[,1] ~xx[,lag$ar+1]+mvgsignal)$coef
>
> where mvgsignal is a moving average signal based on some indicators, the
> question
> is could i simply hack into tseries and do this and hope all is well ,

> is there a cleaner
> way

There is a cleaner way: Use the function arima from ts and use xreg=mvsignal (if mvsignal is exogenous).

> of specifying arbitrary parameters (additions) to GARCH and other
> estimators?.

> Please enlighten.
>
> thanks in advance,
>
> Krishna
>

best
Adrian

--
Dr. Adrian Trapletti             Phone :             +41 (0) 1 994 5631
Trapletti Statistical Computing  Mobile:             +41 (0)76 370 5631
Wildsbergstrasse 31              Fax   :             +41 (0) 1 994 5633
CH-8610 Uster                    Email :  mailto:a.trapletti at bluewin.ch
Switzerland                      WWW   : http://trapletti.homelinux.com



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chuck at bureau13.cc.uky.edu  Thu Aug  8 17:27:27 2002
From: chuck at bureau13.cc.uky.edu (Charles F. Fisher)
Date: Thu, 8 Aug 2002 11:27:27 -0400
Subject: [R] problem installing R-1.5.1 on hpux 11.11
In-Reply-To: <Pine.LNX.4.31.0208081522040.28477-100000@gannet.stats>; from ripley@stats.ox.ac.uk on Thu, Aug 08, 2002 at 03:28:41PM +0100
References: <20020808101844.A14897@bureau13> <Pine.LNX.4.31.0208081522040.28477-100000@gannet.stats>
Message-ID: <20020808112727.A14974@bureau13>

On Thu, Aug 08, 2002 at 03:28:41PM +0100, ripley at stats.ox.ac.uk wrote:
> On Thu, 8 Aug 2002, Charles F. Fisher wrote:
> 
> > I ran into a problem installing R-1.5.1 on HPUX 11.11.
> >
> > Running make check produces the following result in the base-Ex.R test:
> >
> > running code in 'base-Ex.R' ...Undefined subroutine &R::Utils::fill called at /o
> > pt/local/src/R-1.5.1/share/perl/R/Utils.pm line 211.
> >  OK
> >
> > What perl module is the "fill" routine used here from?
> 
> Text::Wrap, as mentioned in about line 193.
> 
> It should be there provided your Perl is >= 5.005.  We've been unsure
> about 5.004, but things which call this require 5.005.
> 
Thanks.  For some reason, fill  wasn't exported in the local Perl build
(which is 5.005).
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kriskumar at mailandnews.com  Thu Aug  8 18:07:30 2002
From: kriskumar at mailandnews.com (krishna kumar)
Date: Thu, 08 Aug 2002 09:07:30 -0700
Subject: [R] Modified ARMA function
References: <200208060201.EAA16728@stat.math.ethz.ch> <3D5289D1.B8338C78@bluewin.ch>
Message-ID: <3D529742.38DF4C9F@mailandnews.com>

Thanks Adrian,  that helped, this is nice too, now i can add a bunch of exogenous variables onto the arma equation.
thanks
Krishna

Adrian Trapletti wrote:

> > Date: Sun, 04 Aug 2002 23:40:04 -0700
> > From: krishna kumar <kriskumar at mailandnews.com>
> > Subject: [R] Modified ARMA function
> >
> >  R-guRus ,
> >
> > ARMA function in tseries,  seems to be calculating the AR coeff 's as
> >
> >  coef <- lm(xx[,1]~xx[,lag$ar+1])$coef    [*snipped* from around  line
> > 77,]
>
> This is only to get preliminary estimates of the AR (and later also of the MA) coefficients. The final estimates are computed by conditional least squares (ie. minimizing function err defined in arma).
>
> >
> > I'd like to  modify this model with another term somewhat in these lines
> >
> > lm(xx[,1] ~xx[,lag$ar+1]+mvgsignal)$coef
> >
> > where mvgsignal is a moving average signal based on some indicators, the
> > question
> > is could i simply hack into tseries and do this and hope all is well ,
>
> > is there a cleaner
> > way
>
> There is a cleaner way: Use the function arima from ts and use xreg=mvsignal (if mvsignal is exogenous).
>
> > of specifying arbitrary parameters (additions) to GARCH and other
> > estimators?.
>
> > Please enlighten.
> >
> > thanks in advance,
> >
> > Krishna
> >
>
> best
> Adrian
>
> --
> Dr. Adrian Trapletti             Phone :             +41 (0) 1 994 5631
> Trapletti Statistical Computing  Mobile:             +41 (0)76 370 5631
> Wildsbergstrasse 31              Fax   :             +41 (0) 1 994 5633
> CH-8610 Uster                    Email :  mailto:a.trapletti at bluewin.ch
> Switzerland                      WWW   : http://trapletti.homelinux.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mac24 at humboldt.edu  Thu Aug  8 18:16:26 2002
From: mac24 at humboldt.edu (Michael Camann)
Date: Thu, 8 Aug 2002 09:16:26 -0700 (PDT)
Subject: [R] hard to believe speed difference
In-Reply-To: <Pine.A41.4.44.0208061329530.167136-100000@homer38.u.washington.edu>
Message-ID: <Pine.OSF.4.44.0208080856060.121639-100000@axe.humboldt.edu>

Forgive me if I'm adding to this thread a bit late, but I've just returned
to town.  Also, apologies in advance to those who might take offense that
this post is not specifically a help related response.

Like many of us on this list (I presume), I've been writing computer code
for twenty-five years or so in a wide variety of languages.  I started
using S-Plus in 1991 and switched to R when I took my present job in 1997.
The point of this is that despite a decade or so of S/R experience, I've
only recently, within the last couple of years, begun to write R code that
makes efficient use of the language, particularly with regard to
eliminating loops.  Old habits die hard, especially coding paradigms that
are efficient solutions in many environments but not in R.

Perhaps when the Intro to R undergoes it's next modification cycle it
might be useful to say something about this *prominantly*.  Of course,
I'll be the first to admit that it might be there already-- part of the
problem is that those of us with extensive coding experience probably just
apply what we know works in other environments to our R code, where it
also works, albeit less efficiently, and cruise the manual(s) only when we
need to solve a syntax problem, locate a function argument, etc.  Perhaps
an rlint() function or something similar is in order....

--Mike C.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Michael A. Camann                                  Voice: 707-826-3676
Associate Professor of Zoology                       Fax: 707-826-3201
Institute for Forest Canopy Research     Email: mac24 at axe.humboldt.edu
Department of Biology                            ifcr at axe.humboldt.edu
Humboldt State University
Arcata, CA 95521

                 URL:http://www.humboldt.edu/~mac24/
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Thu Aug  8 18:31:19 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 08 Aug 2002 09:31:19 -0700
Subject: [R] hard to believe speed difference
In-Reply-To: <Pine.OSF.4.44.0208080856060.121639-100000@axe.humboldt.edu>
References: <Pine.OSF.4.44.0208080856060.121639-100000@axe.humboldt.edu>
Message-ID: <87ofcdfh2g.fsf@jeeves.blindglobe.net>

>>>>> "michael" == Michael Camann <mac24 at humboldt.edu> writes:

    michael> Like many of us on this list (I presume), I've been writing computer code
    michael> for twenty-five years or so in a wide variety of languages.  I started
    michael> using S-Plus in 1991 and switched to R when I took my present job in 1997.
    michael> The point of this is that despite a decade or so of S/R experience, I've
    michael> only recently, within the last couple of years, begun to write R code that
    michael> makes efficient use of the language, particularly with regard to
    michael> eliminating loops.  Old habits die hard, especially coding paradigms that
    michael> are efficient solutions in many environments but not in R.

There's a wonderful book called S Programming, by Venables and Ripley
(familiar names, eh?), which should be a must-read in this case.  See:

        http://www.stats.ox.ac.uk/pub/MASS3/Sprog/

for more details.  It's not clear that one could write a "lint" to
check for inefficiency; lint doesn't do that for C!

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Eric.Kort at vai.org  Thu Aug  8 18:31:15 2002
From: Eric.Kort at vai.org (Kort, Eric)
Date: Thu, 8 Aug 2002 12:31:15 -0400
Subject: [R] The unary - operator and matrix column labels
Message-ID: <0166955C4F625B4C81E0F436DE443C9809338D@VAIEXCH02.vai.org>

I am making some changes to the permax library (so that it will accept NA's).  This function performs a permutation analysis to identify discriminating attributes distinguishing two groups of observations.  It takes the form (at its most simplistic):

permax(data, ig1)

where ig1 is one group of interest.  The other group (if not specified) is assumed to be the remaining observations, namely, -ig1.

The problem is that I would like to be able to specify ig1 not as a vector of numeric indicies, but as a vector of column labels (as specified by data <- as.matrix(read.table("file", header=T....)).  But if I do this:

ig1 <- c('patient1', 'patient2')

then, while I can do this:

data[,ig1]

I can no longer do this:

data[,-ig1]

because the unary operator does not like working with column labels.  Is there a way to go backwards and determine the column indices from the column labels, or perhaps and even more simple way to obtain a vector of complementary column labels given a subset of labels?

Thanks,
Eric



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jg_liao at yahoo.com  Thu Aug  8 18:55:09 2002
From: jg_liao at yahoo.com (Jason Liao)
Date: Thu, 8 Aug 2002 09:55:09 -0700 (PDT)
Subject: [R] Vectorizing and R speed, follow-up
In-Reply-To: <Pine.OSF.4.44.0208080856060.121639-100000@axe.humboldt.edu>
Message-ID: <20020808165509.64736.qmail@web10501.mail.yahoo.com>

Thanks to Profs. Ripley, Lumley and Camann for replying to my
"complaint" about R speed. I have a few follow-up points:

1. They all pointed to the need to vectorizing the code for efficiency.
As Michael just said, however, this can require a substantial paradigms
shift and rethinking and may probe difficult to those of us who have
extensive experience in other languages and who may even consider
themselves good at programming. More importantly, some code can not be
vectorized. In my "real" program, I need to generate a large number of
truncated normal devaites.This has to done in a sequential manner since
the the mean and variance of the later ones depend on the values of the
previous ones.

2. I did another comparison between R and Java. This time is to compute
the covriance matrix of multinomial distributions. The R function is
simple and fully vectorized:
 
var.multinomial = function(n, pi)
{
   n * ( -pi%*%t(pi) + diag(pi*(1-pi)+pi*pi) )
}

For n=20, the time for one operation is 57/100000 seconds based on
  system.time(for (i in 1:100000) var = var.multinomial(20,
rep(1/20,20)) )

Hand coding this into Java and one opertaion takes 4/100000 seconds,
still 15 times faster.

3. I use Java for comparison because Java is also interpreted. Java
started also very slow but has improved tremendously with introduction
of just-in-time compiler and Hot spot. I am hoping that R will catch up
so that we statisticians will no longer need to struggle with C,
Fortran or Java.

Appendix:
My java code for variance of multinomial distribution:

 static double[][] var_multinomial(int n, double[] pi)
       {
           int p = pi.length;
           double[][] var = new double[p][p];
           for(int i=0; i<p; i++)
               for(int j=0; j<p; j++)
               {
                   if(i==j) var[i][j] = n*pi[i]*(1-pi[i]);
                   else var[i][j] = - n*pi[i]*pi[j];
               }
           return var;
       }












 static double[][] var_multinomial(int n, double[] pi)
       {
           int p = pi.length;
           double[][] var = new double[p][p];
           for(int i=0; i<p; i++)
               for(int j=0; j<p; j++)
               {
                   if(i==j) var[i][j] = n*pi[i]*(1-pi[i]);
                   else var[i][j] = - n*pi[i]*pi[j];
               }
           return var;
       }



=====
Jason G. Liao, Ph.D.
Division of Biometrics
University of Medicine and Dentistry of New Jersey
335 George Street, Suite 2200
New Brunswick, NJ 08903-2688
phone (732) 235-8611, fax (732) 235-9777
http://www.geocities.com/jg_liao

__________________________________________________

HotJobs - Search Thousands of New Jobs
http://www.hotjobs.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Brett.Magill at slps.org  Thu Aug  8 19:22:48 2002
From: Brett.Magill at slps.org (Brett A Magill)
Date: Thu, 8 Aug 2002 12:22:48 -0500
Subject: [R] Model GUI
Message-ID: <20458245FA51654B8BDE6B4EFF7B519401060D44@EXCHANGE1.slps.SLPSROOT.ORG>

Some time ago, someone pointed me to WINIDAMS, a free package for manipulation and analysis of data developed by UNESCO.  One of its features is a "modern GUI".  In light of the recent thread, I took a look at the package.  This seems like a great model upon which to craft a GUI for R.  

http://www.unesco.org/webworld/idams/  

(If you want to take a look, you need to submit a request for the software, they will send you a link to download the software.

Features of the GUI:
* an object browser (data sets, output, "setups" (analysis code) ), everything in the working directory.
* all data analysis is batch driven  (write code and submit) and code is saved in the working directory
* interactive graphics and tables
* integrated text processor for writing and submitting code as well as cutting and pasting output / report writing
* tabs to move between open objects in the GUI window
* commands and output can easily be pasted into a report
* a collection of code "prototypes" for functions, a skeleton to get users started on an analysis.

This is not your typical point and click GUI.  One big thing that is missing is a command line interface as IDAMS is based on a very different model than R.  It is not a programming language, but a collection of statistical routines.


Brett A. Magill, Evaluator
Research, Assessment, and Evaluation
Saint Louis Public Schools


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Aug  8 19:36:00 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 8 Aug 2002 10:36:00 -0700 (PDT)
Subject: [R] Re: Vectorizing and R speed, follow-up
In-Reply-To: <20020808165509.64736.qmail@web10501.mail.yahoo.com>
Message-ID: <Pine.A41.4.44.0208081029420.125672-100000@homer09.u.washington.edu>

On Thu, 8 Aug 2002, Jason Liao wrote:
>
> 3. I use Java for comparison because Java is also interpreted. Java
> started also very slow but has improved tremendously with introduction
> of just-in-time compiler and Hot spot. I am hoping that R will catch up
> so that we statisticians will no longer need to struggle with C,
> Fortran or Java.

I don't think it will. Java is byte-compiled (which makes quite a big
difference), and was designed from the ground up to be byte-compiled.  R
is much harder to optimise (as Luke Tierney will tell you), partly because
there are so many things that cannot be known until run-time.  Some Java
enthusiasts say that there is no reason in principle that Java should be
slower than C++. I don't think this is true for R.

In addition, there has probably been more programmer time spent on
optimising Java virtual machines than has been spent on writing all
statistical software ever.  This is partly a matter of resources but
partly that there are very few tasks in R where a 20% speedup would pay
off the effort required to achieve it.

I think it's reasonable to hope that there will be less and less need for
writing Fortran or even Java, but this will come partly because computers
will be faster and partly because the Fortran will already be written.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Andreas.Froehlich at imbs.mu-luebeck.de  Thu Aug  8 20:09:03 2002
From: Andreas.Froehlich at imbs.mu-luebeck.de (Andreas.Froehlich@imbs.mu-luebeck.de)
Date: Thu, 8 Aug 2002 20:09:03 +0200
Subject: [R] Splus-funktion "haplo.score"
Message-ID: <3D52CFDF.15522.275126B@localhost>

Sehr geehrte Damen und Herren,

hiermit m?chte ich bei Ihnen nachfragen, ob die f?r Splus 
geschriebene  "haplo.score"- Funktion auch unter R verwendet werden 
kann.
siehe
http://www.mayo.edu/statgen/software/
Wenn ja, wie sind die Aufrufe
Splus CHAPTER -m  und 
Splus make
in R zu realisieren?

Herzlichen Dank f?r Ihre M?he
mit freundlichen Gr??en
--
Dr. rer. nat. Andreas Fr?hlich
Institute of Medical Biometry and Statistics
Medical University of Luebeck
Ratzeburger Allee 160, House 4
23538 Luebeck
Germany
fon: ++49 (0) 451 / 500 - 2782
fax: ++ 49 (0) 451 / 500 - 2999
email: Andreas.Froehlich at imbs.mu-luebeck.de
web: http://www.imbs.mu-luebeck.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jday at csihq.com  Thu Aug  8 21:03:28 2002
From: jday at csihq.com (John Day)
Date: Thu, 08 Aug 2002 15:03:28 -0400
Subject: [R] hard to believe speed difference
In-Reply-To: <87ofcdfh2g.fsf@jeeves.blindglobe.net>
References: <Pine.OSF.4.44.0208080856060.121639-100000@axe.humboldt.edu>
 <Pine.OSF.4.44.0208080856060.121639-100000@axe.humboldt.edu>
Message-ID: <4.3.2.7.0.20020808150159.02cedac0@mail.csi-inc.com>

At 09:31 AM 8/8/2002 -0700, A.J. Rossini wrote:
>There's a wonderful book called S Programming, by Venables and Ripley
>(familiar names, eh?), which should be a must-read in this case.  See:
>
>         http://www.stats.ox.ac.uk/pub/MASS3/Sprog/
>
>for more details.  It's not clear that one could write a "lint" to
>check for inefficiency; lint doesn't do that for C!

Can someone tell me if Edition 4 ("MASS4") is actually shipping yet?

-jday


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Aug  8 21:35:58 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 08 Aug 2002 21:35:58 +0200
Subject: [R] Splus-funktion "haplo.score"
References: <3D52CFDF.15522.275126B@localhost>
Message-ID: <3D52C81E.A7E091ED@statistik.uni-dortmund.de>

Andreas.Froehlich at imbs.mu-luebeck.de wrote:
> 
> Sehr geehrte Damen und Herren,
> 
> hiermit m?chte ich bei Ihnen nachfragen, ob die f?r Splus
> geschriebene  "haplo.score"- Funktion auch unter R verwendet werden
> kann.
> siehe
> http://www.mayo.edu/statgen/software/

There are two questions:
 a) is it *allowed*? --- look for license information or ask the authors
for the license.
 b) is it possible?  --- ask the authors if a port is available, using
the "package" won't be possible without modifications, I think.


> Wenn ja, wie sind die Aufrufe
> Splus CHAPTER -m  und
> Splus make
> in R zu realisieren?

R has another principle of workspaces and packages than S-Plus. 
There is no need to create a workspace before you start, since R will
save a new one in your working directory if you tell R to save it (e.g.
at the end of your session).
To install a package use "R INSTALL package_version.tar.gz" for R
packages (the one you mentioned is NOT an R package). For details
consult the manuals "R Installation and Administration and " and
"Writing R Extensions". 
If you are an R beginner, you should consult the manual "An Introduction
to R" as well.


> Herzlichen Dank f?r Ihre M?he
> mit freundlichen Gr??en

You are welcome.

Uwe Ligges

BTW: English is the appropriate language on this list ....
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug  8 21:34:47 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 8 Aug 2002 20:34:47 +0100 (BST)
Subject: [R] hard to believe speed difference
In-Reply-To: <4.3.2.7.0.20020808150159.02cedac0@mail.csi-inc.com>
Message-ID: <Pine.LNX.4.31.0208082033480.29219-100000@gannet.stats>

No, but it is published and will be at the `JSM' next week.  I do have a
copy ....

On Thu, 8 Aug 2002, John Day wrote:

> At 09:31 AM 8/8/2002 -0700, A.J. Rossini wrote:
> >There's a wonderful book called S Programming, by Venables and Ripley
> >(familiar names, eh?), which should be a must-read in this case.  See:
> >
> >         http://www.stats.ox.ac.uk/pub/MASS3/Sprog/
> >
> >for more details.  It's not clear that one could write a "lint" to
> >check for inefficiency; lint doesn't do that for C!
>
> Can someone tell me if Edition 4 ("MASS4") is actually shipping yet?
>
> -jday
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Thu Aug  8 23:00:34 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Thu, 8 Aug 2002 17:00:34 -0400 
Subject: [R] Splus-funktion "haplo.score"
Message-ID: <D7A3CFD7825BD6119B880002A58F06C20149CE64@groexmb02.pfizer.com>

I have received permission from Daniel J. Schaid (one of the authors) to
create and distribute an R version of the haplo.score package.  I will be
uploading it to CRAN shortly once I've done a little more testing.

-Greg


> -----Original Message-----
> From: Uwe Ligges [mailto:ligges at statistik.uni-dortmund.de]
> Sent: Thursday, August 08, 2002 3:36 PM
> To: Andreas.Froehlich at imbs.mu-luebeck.de
> Cc: R-help at stat.math.ethz.ch
> Subject: Re: [R] Splus-funktion "haplo.score"
> 
> 
> Andreas.Froehlich at imbs.mu-luebeck.de wrote:
> > 
> > Sehr geehrte Damen und Herren,
> > 
> > hiermit m?chte ich bei Ihnen nachfragen, ob die f?r Splus
> > geschriebene  "haplo.score"- Funktion auch unter R verwendet werden
> > kann.
> > siehe
> > http://www.mayo.edu/statgen/software/
> 
> There are two questions:
>  a) is it *allowed*? --- look for license information or ask 
> the authors
> for the license.
>  b) is it possible?  --- ask the authors if a port is available, using
> the "package" won't be possible without modifications, I think.
> 
> 
> > Wenn ja, wie sind die Aufrufe
> > Splus CHAPTER -m  und
> > Splus make
> > in R zu realisieren?
> 
> R has another principle of workspaces and packages than S-Plus. 
> There is no need to create a workspace before you start, since R will
> save a new one in your working directory if you tell R to 
> save it (e.g.
> at the end of your session).
> To install a package use "R INSTALL package_version.tar.gz" for R
> packages (the one you mentioned is NOT an R package). For details
> consult the manuals "R Installation and Administration and " and
> "Writing R Extensions". 
> If you are an R beginner, you should consult the manual "An 
> Introduction
> to R" as well.
> 
> 
> > Herzlichen Dank f?r Ihre M?he
> > mit freundlichen Gr??en
> 
> You are welcome.
> 
> Uwe Ligges
> 
> BTW: English is the appropriate language on this list ....
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.co.nz  Thu Aug  8 23:45:58 2002
From: s.mcclatchie at niwa.co.nz (Sam McClatchie)
Date: Fri, 09 Aug 2002 09:45:58 +1200
Subject: [R] setting the size of plots
Message-ID: <3D52E696.9020008@niwa.cri.nz>

System info:
Linux slackware
R Version 1.5.1  (2002-06-17)
ESS 5.1.21
Emacs 21.2.1
-------------------

Hello Stephan

I've used this to size my plots which are then used as a postscript in 
LaTex:

ps.options(paper="a4", horizontal=FALSE, onefile=FALSE, width=5, height=7.5)
postscript('filename.ps')

This gives a 7.5 X 5 inch plot.

Cheers

Sam

-- 
Sam McClatchie, Research scientist (fisheries acoustics))))))))))
NIWA (National Institute of Water & Atmospheric Research Ltd)
PO Box 14 901, Kilbirnie, Wellington, New Zealand
s.mcclatchie at niwa.cri.nz
Research home page <http://www.smcc.150m.com/>
                     /\
          >><xX(&>
                  /// \\\
                 //// \\\\
                ///  <%)Xx><<
               /////  \\\\\\
         ><(((@>
   ><(((%>     ..>><xX(?>O<?)Xx><<



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pfaffman at relaxpc.com  Fri Aug  9 02:07:43 2002
From: pfaffman at relaxpc.com (Jay Pfaffman)
Date: Thu, 8 Aug 2002 17:07:43 -0700
Subject: [R] RMySQL fetch defaults to N=500?
Message-ID: <200208090007.g7907h127631@aaalab.Stanford.EDU>

It appears that fetch() gets only the first 500 rows by default.  I
don't see this in the documentation, but 

    timeinfo <- fetch(rs)

gets only 500 rows where

    timeinfo <- fetch(rs,n=-1)

gets (correctly) 736 for the same query.  Is this an undocumented
feature?  I played with this data for an alarming amount of time
before I realized that I was missing a third of the data.  I appear to
be using version 0.4-5.  I'll upgrade to 0.4-6 Real Soon Now.  My
first attempt failed for some reason.

-- 
Jay Pfaffman                           pfaffman at relaxpc.com
+1-415-821-7507 (H)                    +1-415-810-2238 (M)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jniesch at gwdg.de  Fri Aug  9 08:40:52 2002
From: jniesch at gwdg.de (Jens Nieschulze)
Date: Fri, 9 Aug 2002 08:40:52 +0200 (MET DST)
Subject: [R] RMySQL fetch defaults to N=500?
In-Reply-To: <200208090007.g7907h127631@aaalab.Stanford.EDU>
Message-ID: <Pine.SO4.4.10.10208090827240.6071-100000@ufobi7.uni-forst.gwdg.de>

On Thu, 8 Aug 2002, Jay Pfaffman wrote:

%It appears that fetch() gets only the first 500 rows by default.  I
%don't see this in the documentation, but 

it is not in ?fetch
but 
> describe(manager)
MySQLManager id = (5649) 
  Driver name:  MySQL 
  Max  connections: 10 
  Conn. processed: 1 
  Default records per fetch: 500 
  Open connections: 1 

where manager is your the output of dbManager("MySQL")
reveals some info


%    timeinfo <- fetch(rs)
%
%gets only 500 rows where
%
%    timeinfo <- fetch(rs,n=-1)
%
%gets (correctly) 736 for the same query.  Is this an undocumented
%feature?  I played with this data for an alarming amount of time
%before I realized that I was missing a third of the data.  I appear to
%be using version 0.4-5.  I'll upgrade to 0.4-6 Real Soon Now.  My
%first attempt failed for some reason.

undocumented? err, you can always look up the sources and in 
RMySQL.R (version 04-6)  this feature is documented 

line 647 
"MySQLManager" <- 
function(max.con=10, fetch.default.rec = 500, force.reload=F)

line 1400
"fetch.MySQLResultSet" <- 
function(res, n=0)   
## Fetch at most n records from the opened resultSet (n = -1 means
## all records, n=0 means extract as many as "default_fetch_rec",
## as defined by MySQLManager (see describe(mgr, T)).

regards,
	JN


%
%-- 
%Jay Pfaffman                           pfaffman at relaxpc.com
%+1-415-821-7507 (H)                    +1-415-810-2238 (M)
%
%-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
%r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
%Send "info", "help", or "[un]subscribe"
%(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
%_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
%

***********************************************************************
Jens Nieschulze

Institute for Forest Biometrics &	Phone: ++49-551-39-12107
Applied Computer Science		Fax  : ++49-551-39-3465
Buesgenweg 4
37077 Goettingen		E-mail: jniesch at uni-forst.gwdg.de
GERMANY				http://www.uni-forst.gwdg.de/~jniesch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From demiurg at ti.com  Fri Aug  9 11:13:10 2002
From: demiurg at ti.com (Sirotkin, Alexander)
Date: Fri, 09 Aug 2002 11:13:10 +0200
Subject: [R] nnet trouble
Message-ID: <3D5387A6.405@ti.com>

Hi.

I've spent a few days trying to use nnet package on a data other
that the example iris3 without any success.

I keep getting

Error in matrix(NA, length(keep), nout, dimnames = list(rn, 
dimnames(object$fitted)[[2]])) :
        length of dimnames[1] not equal to array extent

in predict() function on a data that looks absolutely similar to the 
example (except for
actual values and field names, of course).

Any1 can suggest anything I can try ? Is the package supposed to work at 
all ?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From demiurg at ti.com  Fri Aug  9 11:42:54 2002
From: demiurg at ti.com (Sirotkin, Alexander)
Date: Fri, 09 Aug 2002 11:42:54 +0200
Subject: [R] nnet trouble, continued
Message-ID: <3D538E9E.6050201@ti.com>

Well, it finally occured to me - predict.nnet() can't handle missing values.
In that case it's not really clear what's the point of adding na.action
to nnet() if I'm going to run into problems with missing values later
anyway...

P.S. Anybody who finds my postings insulting, please write a mail filter
    for my address. Although I can not understand why it may insult
    anybody.

P.P.S. Must be related to cultural differences, I guess...
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramasamy at stats.ox.ac.uk  Fri Aug  9 13:10:38 2002
From: ramasamy at stats.ox.ac.uk (Adaikalavan Ramasamy)
Date: Fri, 9 Aug 2002 12:10:38 +0100
Subject: [R] Statistical MAYDAY request. (fwd)
Message-ID: <001001c23f95$64b8b9e0$a81401a3@stats.ox.ac.uk>

I have been asked to forward this. Please reply directly or include the
people who have been CC-ed in this e-mail. Thank you.

> forwarded message from "Timothy Waters"
<timothy.waters at plant-sciences.oxford.ac.uk> -----
>
> Consider the following problem.  You have a dataset with approx 190
> datapoints.  Each datapoint has between 7 and 16 dimensions known: most
have
> 7, a few have 16, many have 14.  The ones that have seven are divided into
> two categories, such that the vast bulk fall into a category with
dimensions
> 1,2,3,4,5,6,7 known, and the others have dimensions 8,9,10,11,12,13,14
> known.
>
> So, a fairly difficult dataset, but anyway.
>
> Now, on to the analysis.  You wish to look for the presence of any form of
> multivariate structuring to the data, specifically, discrete clusters
> identified by combinations of one or more variables.  Clearly you have a
> couple of options.  You can just get it to produce a dendrogram (strictly
a
> phenogram in biological terms), or you can ask it to cluster the data into
> some number n of sets, where 1 =< n =< 10 (for present purposes) .  You
can
> then look at each possible solution (i.e. each value of n) and examine
what
> discriminant function analysis tells you about the ease of separation of
the
> clusters you have identified.
>
> BUT, can you give a program a dataset (i.e., this dataset) and say "Find
n,
> where n is the number of clusters that the data is structured into, such
> that the statistical differences between clusters are maximally
> significant."
>
> Thanks for any help,
>
> Tim.
>
>
>
>
> -----End of forwarded message from "Timothy Waters"
<timothy.waters at plant-sciences.oxford.ac.uk> -----
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dj at research.bell-labs.com  Fri Aug  9 13:59:33 2002
From: dj at research.bell-labs.com (David James)
Date: Fri, 9 Aug 2002 07:59:33 -0400
Subject: [R] RMySQL fetch defaults to N=500?
In-Reply-To: <200208090007.g7907h127631@aaalab.Stanford.EDU>; from pfaffman@relaxpc.com on Thu, Aug 08, 2002 at 05:07:43PM -0700
References: <200208090007.g7907h127631@aaalab.Stanford.EDU>
Message-ID: <20020809075932.A22600@jessie.research.bell-labs.com>

Hi,

Jay Pfaffman wrote:
> It appears that fetch() gets only the first 500 rows by default.  I
> don't see this in the documentation, but 
> 
>     timeinfo <- fetch(rs)
> 
> gets only 500 rows where
> 
>     timeinfo <- fetch(rs,n=-1)
> 
> gets (correctly) 736 for the same query.  Is this an undocumented
> feature?  I played with this data for an alarming amount of time
> before I realized that I was missing a third of the data.  I appear to
> be using version 0.4-5.  I'll upgrade to 0.4-6 Real Soon Now.  My
> first attempt failed for some reason.

Hmm, help(fetch) says
...
Usage:

     fetch(res, n, ...)

Arguments:

     res: a `resultSet' object. This object needs to be the result of a
          `SELECT' or `SELECT'-like statement, as produced by `dbExec.'
          or `dbExecStatement.' SQL statements such as `INSERT',
          `DELETE', do not create result sets. 

       n: maximum number of records to retrieve per fetch. Use `n = -1'
          to retrieve all pending records. Some implementations may
          recognize other special values (RS-MySQL interprets `n = 0'
          to mean "use whatever default was set in the call to
          `MySQL'). 

    ... : any other database-engine specific arguments. 

and if you follow the link to help(MySQL) ...

Usage:

     MySQL(max.con = 10, fetch.default.rec = 500, force.reload = F)

Arguments:

max.con : maximum number of connections that we intended to have open.
          This can be up to 100, a limit defined at compilation time.
          Strictly speaking this limit applies to MySQL servers, but
          clients can have (at least in theory) more than this. 

fetch.default.rec: number of records to fetch at one time from the
          database. (The `fetch' method uses this number as a default.) 

force.reload: should we reload (reinitialize) the client code? Setting
          this to `TRUE' allows you to change default settings.  Notice
          that all connections should be closed before re-loading. 


so I think it's clear (but I'm open to suggestions).

Regards,

> 
> -- 
> Jay Pfaffman                           pfaffman at relaxpc.com
> +1-415-821-7507 (H)                    +1-415-810-2238 (M)
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dj at research.bell-labs.com  Fri Aug  9 14:02:06 2002
From: dj at research.bell-labs.com (David James)
Date: Fri, 9 Aug 2002 08:02:06 -0400
Subject: [R] RMySQL fetch defaults to N=500?
In-Reply-To: <Pine.SO4.4.10.10208090827240.6071-100000@ufobi7.uni-forst.gwdg.de>; from jniesch@gwdg.de on Fri, Aug 09, 2002 at 08:40:52AM +0200
References: <200208090007.g7907h127631@aaalab.Stanford.EDU> <Pine.SO4.4.10.10208090827240.6071-100000@ufobi7.uni-forst.gwdg.de>
Message-ID: <20020809080205.B22600@jessie.research.bell-labs.com>

Jens Nieschulze wrote:
> On Thu, 8 Aug 2002, Jay Pfaffman wrote:
> 
> %It appears that fetch() gets only the first 500 rows by default.  I
> %don't see this in the documentation, but 
> 
> it is not in ?fetch

but it is (for sure on 0.4-6).

> but 
> > describe(manager)
> MySQLManager id = (5649) 
>   Driver name:  MySQL 
>   Max  connections: 10 
>   Conn. processed: 1 
>   Default records per fetch: 500 
>   Open connections: 1 
> 
> where manager is your the output of dbManager("MySQL")
> reveals some info
> 
> 
> %    timeinfo <- fetch(rs)
> %
> %gets only 500 rows where
> %
> %    timeinfo <- fetch(rs,n=-1)
> %
> %gets (correctly) 736 for the same query.  Is this an undocumented
> %feature?  I played with this data for an alarming amount of time
> %before I realized that I was missing a third of the data.  I appear to
> %be using version 0.4-5.  I'll upgrade to 0.4-6 Real Soon Now.  My
> %first attempt failed for some reason.
> 
> undocumented? err, you can always look up the sources and in 
> RMySQL.R (version 04-6)  this feature is documented 
> 
> line 647 
> "MySQLManager" <- 
> function(max.con=10, fetch.default.rec = 500, force.reload=F)
> 
> line 1400
> "fetch.MySQLResultSet" <- 
> function(res, n=0)   
> ## Fetch at most n records from the opened resultSet (n = -1 means
> ## all records, n=0 means extract as many as "default_fetch_rec",
> ## as defined by MySQLManager (see describe(mgr, T)).
> 
> regards,
> 	JN
> 
> 
> %
> %-- 
> %Jay Pfaffman                           pfaffman at relaxpc.com
> %+1-415-821-7507 (H)                    +1-415-810-2238 (M)
> %
> %-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> %r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> %Send "info", "help", or "[un]subscribe"
> %(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> %_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> %
> 
> ***********************************************************************
> Jens Nieschulze
> 
> Institute for Forest Biometrics &	Phone: ++49-551-39-12107
> Applied Computer Science		Fax  : ++49-551-39-3465
> Buesgenweg 4
> 37077 Goettingen		E-mail: jniesch at uni-forst.gwdg.de
> GERMANY				http://www.uni-forst.gwdg.de/~jniesch
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Fri Aug  9 14:12:58 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Fri, 09 Aug 2002 08:12:58 -0400
Subject: asking for help (was RE: [R] nnet trouble, continued)
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC56D@usrymx10.merck.com>

> From: Sirotkin, Alexander [mailto:demiurg at ti.com]
> 
> P.S. Anybody who finds my postings insulting, please write a 
> mail filter
>     for my address. Although I can not understand why it may insult
>     anybody.
> 
> P.P.S. Must be related to cultural differences, I guess...

It's not insulting to me, personally, but quite possibly to the author of
that software, who spent unknown amount of time to create it and give it
away for free.

May I suggest that you learn how to ask questions in a way that will
actually encourage people to help you, if that is your intent?  For starter:

o Give the version info for VR (which includes nnet), R, and your OS.

o Give the command(s) that failed, not just the error message.

o Attach data used, or use a dataset included in R or one of the packages.  
  "Almost like the iris data" obviously isn't true: there are no NAs in
iris.

I've used nnet quite a few times, and the only occasions that it failed is
when the data is too large.

Andy


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stat at estadao.com.br  Fri Aug  9 14:59:46 2002
From: stat at estadao.com.br (Rafael Bertola)
Date: Fri, 9 Aug 2002 09:59:46 -0300 
Subject: [R] time series and R
Message-ID: <2136.143.106.2.50.1028897986.estadao@webmail.estadao.com.br>

Hi,

Are there some texts about time series that teatches it with R?
And site 'bout time series "for dummies" , can anyone indicate them for me?

thanks a lot


Rafael Bertola
Undergraduate in Statistics at UNICAMP - Brasil


--------------------------------------------------



--------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gazave at isem.isem.univ-montp2.fr  Fri Aug  9 15:01:29 2002
From: gazave at isem.isem.univ-montp2.fr (Elodie Gazave)
Date: Fri, 09 Aug 2002 15:01:29 +0200
Subject: No subject
Message-ID: <4.2.0.58.20020809114025.0095b8f0@isem.isem.univ-montp2.fr>

Hello everybody,
I would like to know the method to compute the power test for a logistic 
regression.
Thank you very much for your help,
Elodie

Elodie Gazave

***********************************
Laboratoire G?n?tique et Environnement
Institut des Sciences de l'Evolution de Montpellier
CC 064
Universit? de Montpellier II
Place Eug?ne Bataillon
F-34095 Montpellier Cedex 5
Fax: 33-(0)4 67 14 36 10  Tel: (0)4 67 14 47 82
***********************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From demiurg at ti.com  Fri Aug  9 16:06:28 2002
From: demiurg at ti.com (Sirotkin, Alexander)
Date: Fri, 09 Aug 2002 16:06:28 +0200
Subject: asking for help (was RE: [R] nnet trouble, continued)
References: <51F9C42DA15CD311BD220008C707D81906FFC56D@usrymx10.merck.com>
Message-ID: <3D53CC64.9040001@ti.com>

I agree (mostly) with what you've said here. I did not intend to send 
that comment
to the auther of the software. Well, maybe I should have checked who's 
the author
and wether or not he is subscribed to that list, but... In any case, I 
don't think it justified
the response, which was much more insulting.

As for the question itself - I already found that missing values in 
arguments to predict.nnet()
caused that error. I guess I just have to replace all NAs with means 
before using my data
with nnet. I though that the fact that nnet() accepts na.action = 
na.omit parameter suggests
that predict.nnet() will be able to deal with NAs in one way or another, 
but I guess it's not.

Anyway, thanks.

Liaw, Andy wrote:

>>From: Sirotkin, Alexander [mailto:demiurg at ti.com]
>>
>>P.S. Anybody who finds my postings insulting, please write a 
>>mail filter
>>    for my address. Although I can not understand why it may insult
>>    anybody.
>>
>>P.P.S. Must be related to cultural differences, I guess...
>>    
>>
>
>It's not insulting to me, personally, but quite possibly to the author of
>that software, who spent unknown amount of time to create it and give it
>away for free.
>
>May I suggest that you learn how to ask questions in a way that will
>actually encourage people to help you, if that is your intent?  For starter:
>
>o Give the version info for VR (which includes nnet), R, and your OS.
>
>o Give the command(s) that failed, not just the error message.
>
>o Attach data used, or use a dataset included in R or one of the packages.  
>  "Almost like the iris data" obviously isn't true: there are no NAs in
>iris.
>
>I've used nnet quite a few times, and the only occasions that it failed is
>when the data is too large.
>
>Andy
>
>
>------------------------------------------------------------------------------
>Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.
>
>==============================================================================
>  
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laura at bayesian-bay.freeserve.co.uk  Fri Aug  9 15:28:57 2002
From: laura at bayesian-bay.freeserve.co.uk (laura@bayesian-bay.freeserve.co.uk)
Date: Fri, 9 Aug 2002 13:28:57 +0000
Subject: [R] simulating binary variables
Message-ID: <20020809132857.MOGG23487.fep08-svc.ttyl.com@localhost>

Dear list

As a relative newbie to R I am after some basic help.

I am wanting to simulate a data set consisting of a Y variable and several X variables, all either binary or discrete. I am wondering how to go about doing this and have failed to find anything about this in the R -help.

Thanks in advance 
Laura

_______________________________________________________________________




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From francoisklam at hotmail.com  Fri Aug  9 15:41:01 2002
From: francoisklam at hotmail.com (francois klam)
Date: Fri, 09 Aug 2002 13:41:01 +0000
Subject: [R] ANOVA type III sum of squares?
Message-ID: <F85PMLHclKblofZde4M0000bcc2@hotmail.com>

Hello,
I'm a neurophysiologist, and actually quite new to R. In fact, to analyse 
the responses of my neurons, I would like to have R doing an non-orthogonal 
ANOVA with a type III sum of squares.
Could anybody help me?
Thank you a lot in advance.
Francois




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uli at biochem.dshs-koeln.de  Fri Aug  9 15:50:18 2002
From: uli at biochem.dshs-koeln.de (Ulrich Flenker)
Date: Fri, 9 Aug 2002 15:50:18 +0200 (CEST)
Subject: [R] simulating binary variables
In-Reply-To: <20020809132857.MOGG23487.fep08-svc.ttyl.com@localhost>
Message-ID: <Pine.LNX.4.21.0208091547410.4062-100000@FILESERV.biochem.dshs-koeln.de>

On Fri, 9 Aug 2002 laura at bayesian-bay.freeserve.co.uk wrote:

> Dear list
> 
> As a relative newbie to R I am after some basic help.
> 
> I am wanting to simulate a data set consisting of a Y variable and several X variables, all either binary or discrete. I am wondering how to go about doing this and have failed to find anything about this in the R -help.
> 
> Thanks in advance 
> Laura
> 

Laura,

have a look at help(rbinom) and help(rpois).

-- 
	Uli Flenker

	Institute of Biochemistry
	German Sport University Cologne
	Carl-Diem-Weg 6
	50933 Cologne

	Phone 0049/221/4982-506

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Fri Aug  9 16:55:16 2002
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Fri, 9 Aug 2002 16:55:16 +0200
Subject: [R] Statistical MAYDAY request. (fwd)
In-Reply-To: <001001c23f95$64b8b9e0$a81401a3@stats.ox.ac.uk>
References: <001001c23f95$64b8b9e0$a81401a3@stats.ox.ac.uk>
Message-ID: <20020809145516.GA5254@giraffa.cbs.dtu.dk>

On Fri, Aug 09, 2002 at 12:10:38PM +0100, Adaikalavan Ramasamy wrote:
> I have been asked to forward this. Please reply directly or include the
> people who have been CC-ed in this e-mail. Thank you.
> 
> > forwarded message from "Timothy Waters"
> <timothy.waters at plant-sciences.oxford.ac.uk> -----
> >
> > Consider the following problem.  You have a dataset with approx 190
> > datapoints.  Each datapoint has between 7 and 16 dimensions known: most
> have
> > 7, a few have 16, many have 14.  The ones that have seven are divided into
> > two categories, such that the vast bulk fall into a category with
> dimensions
> > 1,2,3,4,5,6,7 known, and the others have dimensions 8,9,10,11,12,13,14
> > known.
> >
> > So, a fairly difficult dataset, but anyway.
> >
> > Now, on to the analysis.  You wish to look for the presence of any form of
> > multivariate structuring to the data, specifically, discrete clusters
> > identified by combinations of one or more variables.  Clearly you have a
> > couple of options.  You can just get it to produce a dendrogram (strictly
> a
> > phenogram in biological terms), or you can ask it to cluster the data into
> > some number n of sets, where 1 =< n =< 10 (for present purposes) .  You
> can
> > then look at each possible solution (i.e. each value of n) and examine
> what
> > discriminant function analysis tells you about the ease of separation of
> the
> > clusters you have identified.
> >
> > BUT, can you give a program a dataset (i.e., this dataset) and say "Find
> n,
> > where n is the number of clusters that the data is structured into, such
> > that the statistical differences between clusters are maximally
> > significant."


kmeans (package mva), pam, fanny and clara (package cluster) are likely to do accomplish such a job... 
(but the fact that you have two groups of data defined in two different
subspaces could cause harm... if they are orthogonal, may be it would
make more sense to split your data in two sets...)


Hopin' it helps,



L.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Fri Aug  9 16:08:00 2002
From: siim at obs.ee (Ott Toomet)
Date: Fri, 9 Aug 2002 16:08:00 +0200 (CEST)
Subject: [R] package tests
Message-ID: <Pine.LNX.4.44.0208091519010.1890-100000@localhost.localdomain>

Hi,

It is not quite clear for me what do tests mean in the case of a package. 
,,Writing R extensions'' says: 

... these two [files .Rout.save and .Rout] are compared, with differences
being reported but not causing an error.

and

... tests specified in that directory are run [by R CMD check].

I want to write a test for a self-made output routine, which saves data to a
file.  I think, in this case it is meaningful to create a data, save to the
file, and then compare the new file with the original one.  But two problems
arose -- first, R seems to assume that it is output to screen, which is to
be compared, and second, CMD check said OK even when the files were quite a
different.  Or is CMD check simply testing whether the test programs produce
an error?

with best wishes,

Ott Toomet

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Fri Aug  9 16:25:47 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Fri, 9 Aug 2002 10:25:47 -0400
Subject: [R] simulating binary variables
In-Reply-To: <20020809132857.MOGG23487.fep08-svc.ttyl.com@localhost>; from laura@bayesian-bay.freeserve.co.uk on Fri, Aug 09, 2002 at 01:28:57PM +0000
References: <20020809132857.MOGG23487.fep08-svc.ttyl.com@localhost>
Message-ID: <20020809102547.C4546@cattell.psych.upenn.edu>

On 08/09/02 13:28, laura at bayesian-bay.freeserve.co.uk wrote:

>I am wanting to simulate a data set consisting of a Y variable
 and several X variables, all either binary or discrete. I am
 wondering how to go about doing this and have failed to find
 anything about this in the R -help.

Try runif() in the base package.  It generates random numbers
from a uniform distribution.  So, for example, if you want a
binary variable with an expectation of .75, and 1000
observations, say:

runif(1000)<=.75

Or, if you want to see the numbers right away:

(runif(1000)<=.75)+0

To generate a factor with several levels, you can apply cut() to
runif().  That may be sufficient, but note that factors are
"categorical variables."

Of course, you assign these to variables, e.g.,

x1 <- runif(1000)<=.75

and then use these in your model.

Jon
-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page:            http://www.sas.upenn.edu/~baron
Questionnaires:       http://www.psych.upenn.edu/~baron/qs.html
Psychology webmaster: http://www.psych.upenn.edu/
R page:               http://finzi.psych.upenn.edu/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Fri Aug  9 16:33:46 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Fri, 9 Aug 2002 10:33:46 -0400
Subject: [R] The unary - operator and matrix column labels
In-Reply-To: <119992683@toto.iv>
Message-ID: <15699.53962.643458.240786@gargle.gargle.HOWL>

Kort, Eric <Eric.Kort at vai.org> writes:
>   ig1 <- c('patient1', 'patient2')
> then, while I can do this:
>   data[,ig1]
> I can no longer do this:
>   data[,-ig1]
> because the unary operator does not like working with column labels.  Is
> there a way to go backwards and determine the column indices from the column
> labels...?

If you know "ig1" is indeed a column of the matrix "data", this should work:

R> data[ , -match(ig1, colnames(data))]

If you don't know that for sure, and/or you want to preserve the matrix
structure of the result (drop=F), then here's a fancier version:

R> data[ , setdiff(colnames(data), ig1), drop=F]
-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug  9 17:09:38 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 9 Aug 2002 16:09:38 +0100 (BST)
Subject: [R] ANOVA type III sum of squares?
In-Reply-To: <F85PMLHclKblofZde4M0000bcc2@hotmail.com>
Message-ID: <Pine.LNX.4.31.0208091607530.11321-100000@gannet.stats>

On Fri, 9 Aug 2002, francois klam wrote:

> Hello,
> I'm a neurophysiologist, and actually quite new to R. In fact, to analyse
> the responses of my neurons, I would like to have R doing an non-orthogonal
> ANOVA with a type III sum of squares.
> Could anybody help me?

I believe you can use function Anova in package car, for a single-stratum
design.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramasamy at stats.ox.ac.uk  Fri Aug  9 17:16:23 2002
From: ramasamy at stats.ox.ac.uk (Adaikalavan Ramasamy)
Date: Fri, 9 Aug 2002 16:16:23 +0100
Subject: [R] simulating binary variables
References: <20020809132857.MOGG23487.fep08-svc.ttyl.com@localhost> <20020809102547.C4546@cattell.psych.upenn.edu>
Message-ID: <007501c23fb7$be3aba00$a61401a3@stats.ox.ac.uk>

As the previous mail, rbinom and rpois are your best bets for binomial and
discrete.
If you use runif or rnorm you will get continuos variables which you can
convert to discrete by using round(a*runif(100) +b)  mod m [but you run the
risk of getting a cycle of numbers if you're not careful].

If you got a non-standard distribution you could use sample. For eg
sample(0:1, 5000, replace=T) produces the similiar result as binomial with
probability 0.5. More interestingly, say if you want to simulate n obs from
a distributon that place a an equal mass on the first 100 prime numbers, the

x <- c( 2, 3,5,7,11, 13, 17,   19 ,  ... .........  ,521,  523, 541 )
y <- sample( x, n, replace=T) and you can turn the replace =F is you want
sampling without replacement


> On 08/09/02 13:28, laura at bayesian-bay.freeserve.co.uk wrote:
>
> >I am wanting to simulate a data set consisting of a Y variable
>  and several X variables, all either binary or discrete. I am
>  wondering how to go about doing this and have failed to find
>  anything about this in the R -help.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.schlattmann at medizin.fu-berlin.de  Fri Aug  9 17:47:07 2002
From: peter.schlattmann at medizin.fu-berlin.de (Peter Schlattmann)
Date: Fri, 09 Aug 2002 17:47:07 +0200
Subject: [R] trellis -graphic
Message-ID: <3D53E3FB.21CE0C1C@medizin.fu-berlin.de>

Dear all,

I am stuck with the following problem:

Using the Indometh data set I want to plot the predicted
values of a simple bixeponential model together with the observed
concentrations.

I managed to plot the predicted values:

datafi<-Indometh
fm<-nls(conc~SSbiexp(time,A1,lrc1,A2,lrc2),data=datafi)
yhat<-predict(fm)
datafi<-data.frame(datafi,yhat)
xyplot(yhat~time |Subject,data=datafi,type="l")

but how can I superpose the observed concentrations?

Thanks a lot for your help

Cheers
Peter

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Mike.Prager at noaa.gov  Fri Aug  9 17:59:08 2002
From: Mike.Prager at noaa.gov (Mike Prager)
Date: Fri, 09 Aug 2002 11:59:08 -0400
Subject: MASS (Was: [R] hard to believe speed difference)
In-Reply-To: <Pine.LNX.4.31.0208082033480.29219-100000@gannet.stats>
References: <4.3.2.7.0.20020808150159.02cedac0@mail.csi-inc.com>
Message-ID: <5.1.0.14.2.20020809115550.00af7418@hermes.nos.noaa.gov>


>On Thu, 8 Aug 2002, John Day wrote:
> >
> > Can someone tell me if Edition 4 ("MASS4") is actually shipping yet?

At 8/8/2002 at 03:34 PM, Brian D. Ripley wrote:
>No, but it is published and will be at the `JSM' next week.  I do have a
>copy ....


Congratulations to V and R.  I feel it only fair to warn them that, given 
the rate at which MASS is evolving, I am going to stop buying new editions 
and start leasing them.

...MHP

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Fri Aug  9 18:26:50 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Fri, 09 Aug 2002 12:26:50 -0400
Subject: [R] time series and R
References: <2136.143.106.2.50.1028897986.estadao@webmail.estadao.com.br>
Message-ID: <3D53ED4A.7F316E24@umsanet.edu.bo>

MASS (Modern Apl?ied Statistscs with S-Plus) has a chapter.

Kjetil Halvorsen


Rafael Bertola wrote:
> 
> Hi,
> 
> Are there some texts about time series that teatches it with R?
> And site 'bout time series "for dummies" , can anyone indicate them for me?
> 
> thanks a lot
> 
> Rafael Bertola
> Undergraduate in Statistics at UNICAMP - Brasil
> 
> --------------------------------------------------
> 
> --------------------------------------------------
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Fri Aug  9 18:28:32 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Fri, 09 Aug 2002 12:28:32 -0400
Subject: [R] ANOVA type III sum of squares?
References: <F85PMLHclKblofZde4M0000bcc2@hotmail.com>
Message-ID: <3D53EDB0.41F2A569@umsanet.edu.bo>

There is a function in the package car (on CRAN) whit an option for type
III SS. But why do you want it?

Kjetil Halvorsen

francois klam wrote:
> 
> Hello,
> I'm a neurophysiologist, and actually quite new to R. In fact, to analyse
> the responses of my neurons, I would like to have R doing an non-orthogonal
> ANOVA with a type III sum of squares.
> Could anybody help me?
> Thank you a lot in advance.
> Francois
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rls at pincock.com  Fri Aug  9 19:10:03 2002
From: rls at pincock.com (RLS)
Date: Fri, 9 Aug 2002 11:10:03 -0600
Subject: [R] percentile labels in qqnorm
Message-ID: <021901c23fc7$99fea740$6508a8c0@denver.hartcrowser.com>

Hi-

I wanted percentage labels on a qqnorm x axis. I used the following:

#make up some data

jt<-rnorm(100)

#qqnorm with percentile x labels

qqnorm(jt,axes=F,xlab="Percentiles")
box()
l<-c(1,5,10,30,50,70,90,95,99)
axis(1,at=qnorm(l/100),label=l)

which was ok for this data set.

Does anyone have  a more general solution which would allow one to
specify the number of x labels and then "pretty" choose the label values
and plot them?

Robert (Bob) Sandefur
Geostatistical Associate
Pincock Allen & Holt
274 Union Suite 200
Lakewood, CO 80228
303 914 4467

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vograno at arbitrade.com  Fri Aug  9 19:56:29 2002
From: vograno at arbitrade.com (Vadim Ogranovich)
Date: Fri, 9 Aug 2002 12:56:29 -0500 
Subject: [R] LM: Least Squares on Large Datasets OR why lm() is designed the w
	ay it is
Message-ID: <AFD78192EC49D311BFAE00902798AB8F23DA8C@jupiter.arbitrade.com>

Hi,

I have always been wondering why S-Plus/R can not fit a linear model to an
arbitrary large data set given that, I thought, it should be pretty
straightforward. Sometime ago I came across a reference to LM package,
http://www.econ.uiuc.edu/~anovo/LM.html, by Roger Koenker and Alvaro Novo.
So I thought here it is at last, but to my surprise this project hasn't made
to the recommended packages and its development seems to be stopped. I take
it as a strong evidence that there is a conceptual problem in doing this
sort of things and I thought it would be very educational for me to
understand it.

Here is how I would structure lm object, please feel free to point mistakes
out.

Suppose we want to analyze lm(Y ~ X), where Y is a vector and X is a matrix
1. Under the classical assumptions of normality and independence of the
residuals all information about the model is encapsulated in the covariance
matrix of [Y,X] and the observation count, i.e. length(Y). These include
variance of coefficients, their significance levels, ability to compute
predictions, etc. Moreover, all sub-models, i.e. a regression on any subset
of X columns are also readily computable, as well as ANOVA.
Given this I'd store the covmatrix of [Y,X] and the count on an lm object
and write summary.lm, anova.lm, step, stepAIC functions in terms of these
two members only.
I guess this is the idea behind the LM package.

2. There is whole lot of tests that are designed to check the classical
assumptions of normality of the residuals, detect influential points, etc.
Obviously these can not possibly be carried out without the residuals, etc.
So the lm object should provide a slot for the residuals, but whether the
residuals are in fact computed should not affect the functions mentioned in
the previous paragraph.


I will appreciate any comment on this "design".

Thanks, Vadim

-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE regarding privacy and confidentiality 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From flom at ndri.org  Fri Aug  9 20:20:01 2002
From: flom at ndri.org (Peter Flom)
Date: Fri, 09 Aug 2002 14:20:01 -0400
Subject: MASS (Was: [R] hard to believe speed difference)
Message-ID: <sd53cfa1.051@MAIL.NDRI.ORG>


At 8/8/2002 at 03:34 PM, Brian D. Ripley wrote:
>No, but it is published and will be at the `JSM' next week.  I do have
a
>copy ....


Excellent!  I will be sure to get a copy, since JSM is about 2 miles
from my house this year.

Peter
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug  9 20:45:51 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 9 Aug 2002 19:45:51 +0100 (BST)
Subject: [R] LM: Least Squares on Large Datasets OR why lm() is designed
 the w ay it is
In-Reply-To: <AFD78192EC49D311BFAE00902798AB8F23DA8C@jupiter.arbitrade.com>
Message-ID: <Pine.LNX.4.31.0208091931440.13821-100000@gannet.stats>

The information is equally stored in the QR decomposition as used by R,
*but* that approach is numerically much more accurate.  (BTW, your
approach needs means and centred covariances or it will be very poor
numerically.)  It's certainly possible to do this, and indeed it is
the philosophy behind the sweep operator that underlies much of SAS.

However, what you have overlooked is forming X.  That's the
memory-consuming part of the procedure, forming the model matrix.
In special cases that can be overcome: see the examples in `S
Programming'.  But that's why SAS has to treat factor variables separately
in regression.

I've never yet seen a large dataset (say over 10,000 rows) for which least
squares was an appopriate analysis (due to lack of homogeneity).  Also,
10,000 rows is sufficient to estimate the coefficients to very high
accuracy, to the point where non-random effects (e.g. lack of linearity,
missing predictors, omitted groupings etc) are probably larger.

lm is designed to provide the information statisticians use on reasonably
sized problems.  There are research projects (including one here) on doing
other calculations on very large datasets.

As an aside, stepAIC adds variables to the original fit, and that's not
possible within your proposed framework.

On Fri, 9 Aug 2002, Vadim Ogranovich wrote:

> I have always been wondering why S-Plus/R can not fit a linear model to an
> arbitrary large data set given that, I thought, it should be pretty
> straightforward. Sometime ago I came across a reference to LM package,
> http://www.econ.uiuc.edu/~anovo/LM.html, by Roger Koenker and Alvaro Novo.
> So I thought here it is at last, but to my surprise this project hasn't made
> to the recommended packages and its development seems to be stopped. I take
> it as a strong evidence that there is a conceptual problem in doing this
> sort of things and I thought it would be very educational for me to
> understand it.

Not in doing it, but in its being appropriate.

> Here is how I would structure lm object, please feel free to point mistakes
> out.
>
> Suppose we want to analyze lm(Y ~ X), where Y is a vector and X is a matrix
> 1. Under the classical assumptions of normality and independence of the
> residuals all information about the model is encapsulated in the covariance
> matrix of [Y,X] and the observation count, i.e. length(Y). These include
> variance of coefficients, their significance levels, ability to compute
> predictions, etc. Moreover, all sub-models, i.e. a regression on any subset
> of X columns are also readily computable, as well as ANOVA.
> Given this I'd store the covmatrix of [Y,X] and the count on an lm object
> and write summary.lm, anova.lm, step, stepAIC functions in terms of these
> two members only.
> I guess this is the idea behind the LM package.
>
> 2. There is whole lot of tests that are designed to check the classical
> assumptions of normality of the residuals, detect influential points, etc.
> Obviously these can not possibly be carried out without the residuals, etc.
> So the lm object should provide a slot for the residuals, but whether the
> residuals are in fact computed should not affect the functions mentioned in
> the previous paragraph.
>
>
> I will appreciate any comment on this "design".

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yerupaja01 at terra.es  Fri Aug  9 21:30:19 2002
From: yerupaja01 at terra.es (Antonio)
Date: Fri, 09 Aug 2002 21:30:19 +0200
Subject: [R] time series and R
In-Reply-To: <2136.143.106.2.50.1028897986.estadao@webmail.estadao.com.b
 r>
Message-ID: <3.0.6.32.20020809213019.007c0a50@pop3.terra.es>

Hi Rafael,


At 09:59 09/08/2002 -0300, you wrote:
>Hi,
>
>Are there some texts about time series that teatches it with R?

You could browse around 'ts' and 'tseries' packages. They both have the
explanation of every fucntion as well as some examples. It rest to ask if
you want an approach in the frequency or time domain. Anyway, 'ts' packages
handles very well both aspects. You could find some good examples in the
'pastecs' package (in french as far as i know) manual too.

>And site 'bout time series "for dummies" , can anyone indicate them for me?

More than a site I recommend you the books:

The Analysis of Time Series. An Introduction.Chris Chatfield. Chapman &
Hall 	and
Time Series: A Biostatistical Introduction. Peter Diggle. Oxford Science
Publications.

 I think they are a very starting point to this field. 

You could look to the R News Vol 2/2, June 2002 on the R web. It has two
chapters devoted to this matter.

Rest to ask what kind of data do you have and what do you expect from them?


Hope it helps

Cheers,

Antonio Rodr?guez
CICEM Agua del Pino
Huelva, Spain
>
>thanks a lot
>
>
>Rafael Bertola
>Undergraduate in Statistics at UNICAMP - Brasil
>
>
>--------------------------------------------------
>
>
>
>--------------------------------------------------
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
Antonio Rodr?guez Verdugo
Huelva, Spain
yerupaja01 at terra.es
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wviechtb at s.psych.uiuc.edu  Fri Aug  9 22:40:14 2002
From: wviechtb at s.psych.uiuc.edu (Wolfgang Viechtbauer)
Date: Fri, 9 Aug 2002 15:40:14 -0500 (CDT)
Subject: [R] Help with improving efficiency
Message-ID: <Pine.SOL.4.30.0208091508591.6013-100000@s.psych.uiuc.edu>

Dear All,

I have a problem that I think could be solved much more efficiently, but
I don't have a clue how to accomplish this. I have a matrix W with
dimensions k*(p+1):

Let's say W is 5*4 and looks like this:

> W
      [,1] [,2] [,3] [,4]
 [1,]    1   -1   -1    1
 [2,]    1    1    1    1
 [3,]    1    2   -2   -1
 [4,]    1    0   -1   -1
 [5,]    1   -2   -1    0

I want to take each row (a p*1 vector), transpose it (1*p column
vector), and then multiply that by the same row vector, which will give
me a p*p matrix. So, for each row, I calculate:

as.matrix(W[i,]) %*% W[i,]	for i = 1, ..., k.

Next, I want to find the sum of the k (p*p) matrices. The following code
seems to work fine:


k <- 5
p <- 3
W <- matrix(c( rep(1, k), round(rnorm(n=(p*k), mean=0, sd=1), 0)),
     ncol=(p+1), nrow=k) 		# create a random W matrix
m1 <- matrix(0, nrow=p+1, ncol=p+1)
for (i in 1:k) {
   m1 <- m1 + as.matrix(W[i,]) %*% W[i,]
}


but this just seems terribly inefficient. Any suggestions for improving
this? Thanks in advance.

Wolfgang


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gu4 at llnl.gov  Fri Aug  9 23:00:46 2002
From: gu4 at llnl.gov (Pauline Gu)
Date: Fri, 09 Aug 2002 14:00:46 -0700
Subject: [R] error starting SJava: classpath
Message-ID: <5.1.1.5.2.20020809135955.0253e570@poptop.llnl.gov>

Dear R experts,
Sorry, I am resending this, since I have not received this mail myself for 
the past 5 hours.

I saw a similar question dated July 2.  But there is no answer to it.  Does 
anybody have a solution to it?

I am using window NT, and the R version is 1.5.1, the SJava package is the 
binary version SJavaWin_0.62-8.zip.

Here are the error message:
 > library(SJava)
 > .JavaInit()
Error in .JavaInit() : Couldn't start Java Virtual Machine: Cannot find the 
Omegahat interface manager class. Check you classpath!
 > Javaconfig()
Error: couldn't find function "Javaconfig"
 > JavaConfig()
Error: couldn't find function "JavaConfig"
 > tmp <- javaConfig()
 > tmp$classPath
  [1] 
"E" 

  [2] "\\Program 
Files\\R\\rw1051\\library\\SJava\\org\\omegahat\\Interfaces\\NativeInterface\\OmegaInterfaceManager.class;E"
  [3] 
"\\ora9ias\\ORAINST\\jdbc\\lib\\classes111.zip;E" 

  [4] 
"\\ora9ias\\ORAINST\\lib\\servlet.jar;C" 

  [5] "\\Program 
Files\\JavaSoft\\JRE\\1.1\\lib;C" 

  [6] "\\Program 
Files\\JavaSoft\\JRE\\1.1\\lib\\activation.jar;C" 

  [7] "\\WINNT\\system32\\Lasso Modules\\Java 
Modules"
  [8] 
"E:/PROGRA~1/R/rw1051/library/SJava/org/omegahat/Jars/Environment.jar" 

  [9] 
"E:/PROGRA~1/R/rw1051/library/SJava/org/.." 

[10] 
"E:/PROGRA~1/R/rw1051/library/SJava/org/omegahat/Jars/antlr.jar" 

[11] 
"E:/PROGRA~1/R/rw1051/library/SJava/org/omegahat/Jars/jas.jar" 

[12] 
"E:/PROGRA~1/R/rw1051/library/SJava/org/omegahat/Jars/jhall.jar" 

 > version
          _
platform i386-pc-mingw32
arch     i386
os       mingw32
system   i386, mingw32
status
major    1
minor    5.1
year     2002
month    06
day      17
language R
 >


Thanks a lot for helping.

Pauline

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Fri Aug  9 23:10:50 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 09 Aug 2002 14:10:50 -0700
Subject: [R] error starting SJava: classpath
In-Reply-To: <5.1.1.5.2.20020809135955.0253e570@poptop.llnl.gov>
References: <5.1.1.5.2.20020809135955.0253e570@poptop.llnl.gov>
Message-ID: <87ptwreo11.fsf@jeeves.blindglobe.net>

>>>>> "pauline" == Pauline Gu <gu4 at llnl.gov> writes:


    pauline> Here are the error message:
    >> library(SJava)
    >> .JavaInit()
    pauline> Error in .JavaInit() : Couldn't start Java Virtual Machine: Cannot
    pauline> find the Omegahat interface manager class. Check you classpath!

This is precisely the problem.  The best solution at this point will
be to make sure that the classpath (Or the windows' equivalent of
LD_LIBRARY_PATH) is pointed at the right place.  I.e. while I'm not
good at debugging windows problems, it looks like a environmental
variables problem.

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gu4 at llnl.gov  Fri Aug  9 23:25:03 2002
From: gu4 at llnl.gov (Pauline Gu)
Date: Fri, 09 Aug 2002 14:25:03 -0700
Subject: [R] error starting SJava: classpath
In-Reply-To: <87ptwreo11.fsf@jeeves.blindglobe.net>
References: <5.1.1.5.2.20020809135955.0253e570@poptop.llnl.gov>
 <5.1.1.5.2.20020809135955.0253e570@poptop.llnl.gov>
Message-ID: <5.1.1.5.2.20020809142026.0253ba58@poptop.llnl.gov>

Thank you so much for replying, Dr. Rossini.

But, here is my classpath:
 > tmp <- javaConfig()
 > tmp$classPath
  [1] 
"E" 

  [2] "\\Program 
Files\\R\\rw1051\\library\\SJava\\org\\omegahat\\Interfaces\\NativeInterface\\OmegaInterfaceManager.class;E"
  [3] 
"\\ora9ias\\ORAINST\\jdbc\\lib\\classes111.zip;E" 

  [4] 
"\\ora9ias\\ORAINST\\lib\\servlet.jar;C" 

  [5] "\\Program 
Files\\JavaSoft\\JRE\\1.1\\lib;C" 

  [6] "\\Program 
Files\\JavaSoft\\JRE\\1.1\\lib\\activation.jar;C" 

  [7] "\\WINNT\\system32\\Lasso Modules\\Java 
Modules"
  [8] 
"E:/PROGRA~1/R/rw1051/library/SJava/org/omegahat/Jars/Environment.jar" 

  [9] 
"E:/PROGRA~1/R/rw1051/library/SJava/org/.." 

[10] 
"E:/PROGRA~1/R/rw1051/library/SJava/org/omegahat/Jars/antlr.jar" 

[11] 
"E:/PROGRA~1/R/rw1051/library/SJava/org/omegahat/Jars/jas.jar" 

[12] "E:/PROGRA~1/R/rw1051/library/SJava/org/omegahat/Jars/jhall.jar"

Actually, I did manually put the OmegaInterfaceManager.class into my 
classpath, as you can see from the bolded text above.  Unless this is not 
the file the program is looking for, if not, which one.  And the other 
question is that how come the format from the tmp$classPath for my 
environment classpath and the R classpath is different.   My environment 
classpath
takes two lines each (from [1] to [7]), while R classpath does not ([8] to 
[12]).

Thanks again for your help.

Pauline

At 02:10 PM 8/9/2002 -0700, A.J. Rossini wrote:
> >>>>> "pauline" == Pauline Gu <gu4 at llnl.gov> writes:
>
>
>     pauline> Here are the error message:
>     >> library(SJava)
>     >> .JavaInit()
>     pauline> Error in .JavaInit() : Couldn't start Java Virtual Machine: 
> Cannot
>     pauline> find the Omegahat interface manager class. Check you classpath!
>
>This is precisely the problem.  The best solution at this point will
>be to make sure that the classpath (Or the windows' equivalent of
>LD_LIBRARY_PATH) is pointed at the right place.  I.e. while I'm not
>good at debugging windows problems, it looks like a environmental
>variables problem.
>
>--
>A.J. Rossini                            Rsrch. Asst. Prof. of Biostatistics
>U. of Washington Biostatistics          rossini at u.washington.edu
>FHCRC/SCHARP/HIV Vaccine Trials Net     rossini at scharp.org
>-------------- http://software.biostat.washington.edu/ ----------------
>FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
>UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
>(my tuesday/wednesday/friday locations are completely unpredictable.)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gu4 at llnl.gov  Sat Aug 10 02:05:06 2002
From: gu4 at llnl.gov (Pauline Gu)
Date: Fri, 09 Aug 2002 17:05:06 -0700
Subject: [R] error starting SJava: classpath --solved
Message-ID: <5.1.1.5.2.20020809170354.025540e8@poptop.llnl.gov>

Dear R experts,

My problem solved, thanks to Dr. Rossini.

Pauline

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tilling27 at yahoo.com  Sat Aug 10 02:51:14 2002
From: tilling27 at yahoo.com (John Tillinghast)
Date: Fri, 9 Aug 2002 17:51:14 -0700 (PDT)
Subject: [R] Help with improving efficiency
In-Reply-To: <Pine.SOL.4.30.0208091508591.6013-100000@s.psych.uiuc.edu>
Message-ID: <20020810005115.51685.qmail@web40404.mail.yahoo.com>

The "real" answer will tell us something about R
syntax, arrays, vectorization, etc. I would also love
to know it.

But as it happens, the function you are describing is
equal to t(W)%*%W.

--- Wolfgang Viechtbauer <wviechtb at s.psych.uiuc.edu>
wrote:
> Dear All,
> 
> I have a problem that I think could be solved much
> more efficiently, but
> I don't have a clue how to accomplish this. I have a
> matrix W with
> dimensions k*(p+1):
> 
> Let's say W is 5*4 and looks like this:
> 
> > W
>       [,1] [,2] [,3] [,4]
>  [1,]    1   -1   -1    1
>  [2,]    1    1    1    1
>  [3,]    1    2   -2   -1
>  [4,]    1    0   -1   -1
>  [5,]    1   -2   -1    0
> 
> I want to take each row (a p*1 vector), transpose it
> (1*p column
> vector), and then multiply that by the same row
> vector, which will give
> me a p*p matrix. So, for each row, I calculate:
> 
> as.matrix(W[i,]) %*% W[i,]	for i = 1, ..., k.
> 
> Next, I want to find the sum of the k (p*p)
> matrices. The following code
> seems to work fine:
> 
> 
> k <- 5
> p <- 3
> W <- matrix(c( rep(1, k), round(rnorm(n=(p*k),
> mean=0, sd=1), 0)),
>      ncol=(p+1), nrow=k) 		# create a random W
> matrix
> m1 <- matrix(0, nrow=p+1, ncol=p+1)
> for (i in 1:k) {
>    m1 <- m1 + as.matrix(W[i,]) %*% W[i,]
> }
> 
> 
> but this just seems terribly inefficient. Any
> suggestions for improving
> this? Thanks in advance.
> 
> Wolfgang
> 
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Vikram.Khurana at noaa.gov  Sat Aug 10 04:12:44 2002
From: Vikram.Khurana at noaa.gov (Vikram Khurana)
Date: Fri, 09 Aug 2002 16:12:44 -1000
Subject: [R] FW: ROracle error
References: <000b01c23e56$8633b380$f0a410ac@s464> <20020808082915.A13167@jessie.research.bell-labs.com>
Message-ID: <3D54769C.8080108@noaa.gov>

  Thanks David,

I was able to get past the proc problems. However now I'm stuck on 
another problem. Hope you can point me in the right direction here too.

My pcscfg.cfg file in $ORACLE_HOME/precomp/admin/pcscfg.cfg
looks as follows:

sys_include=($ORACLE_HOME/precomp/public,/usr/lib/gcc-lib/i386-redhat-linux/2.96/include/,/usr/include)
include=($ORACLE_HOME/precomp/public)
include=($ORACLE_HOME/rdbms/demo)
include=($ORACLE_HOME/network/public)
include=($ORACLE_HOME/plsql/public)
ltype=short

The error message on executing R CMD INSTALL ROracle_0.3-3.tar.gz logged 
in as root is as follows:

R CMD COMPILE RS-DBI.c
make[1]: Entering directory `/tmp/R.INSTALL.6290/ROracle/src'
gcc -I/usr/lib/R/include  -I/usr/local/include -D__NO_MATH_INLINES -mieee-fp  -fPIC  -O2 -m486 -fno-strength-reduce -g -c RS-DBI.c -o RS-DBI.o
make[1]: Leaving directory `/tmp/R.INSTALL.6290/ROracle/src'
proc        CODE=ANSI_C INCLUDE=/usr/lib/R/include PARSE=FULL RS-Oracle.pc

Pro*C/C++: Release 8.1.7.0.0 - Production on Fri Aug 9 16:06:51 2002

(c) Copyright 2000 Oracle Corporation.  All rights reserved.

System default option values taken from: /home/oracle/OraHome1/precomp/admin/pcscfg.cfg

Error at line 36, column 10 in file /usr/lib/R/include/S.h
#include <stddef.h>
.........1
PCC-S-02015, unable to open include file
Error at line 33, column 10 in file /usr/include/stdlib.h
#include <stddef.h>
.........1
PCC-S-02015, unable to open include file
Syntax error at line 133, column 15, file /usr/include/stdlib.h:
Error at line 133, column 15 in file /usr/include/stdlib.h
extern size_t __ctype_get_mb_cur_max (void) __THROW;
..............1
PCC-S-02201, Encountered the symbol "__ctype_get_mb_cur_max" when expecting one 
of the following:

   ; , = ( [
The symbol ";" was substituted for "__ctype_get_mb_cur_max" to continue.

& on & on

I know this is really a Pro C problem & not a R problem, but I'm hoping 
somebody in this list might still be able to help me...

Thanks,
Vikram

David James wrote:

>Hello Vikram,
>
>(I did respond to you yesterday's email from vkhurana at noaa.gov, but 
>apparantly noaa.gov doesn't recognize your handle vkhurana.)
>
>Apparently you don't have the Oracle ProC/C++ precomplier "proc"
>in your $PATH.  You need to include $ORACLE_HOME/bin in your $PATH,
>and probably $ORACLE_HOME/lib in your $LD_LIBRARY_PATH.  See the
>files INSTALL, README, and README.client in the source distribution
>(they'll be in the "inst" directory under "ROracle" after you untar
>the source file ROracle_0.3-3.tar.gz).
>
>Regards,
>--
>David
>
>Vikram Khurana wrote:
>
>>Howdy,
>>
>>When doing a
>>install.packages("ROracle") in R I'm getting the following error:
>>
>>R CMD COMPILE RS-DBI.c
>>make[1]: Entering directory `/tmp/R.INSTALL.1809/ROracle/src'
>>gcc -I/usr/lib/R/include  -I/usr/local/include -D__NO_MATH_INLINES 
>>-mieee-fp  -fPIC  -O2 -m486 -fno-strength-reduce -g -c RS-DBI.c -o
>>RS-DBI.o
>>make[1]: Leaving directory `/tmp/R.INSTALL.1809/ROracle/src'
>>proc        CODE=ANSI_C INCLUDE=/usr/lib/R/include PARSE=FULL
>>RS-Oracle.pc
>>make: proc: Command not found
>>make: *** [RS-Oracle.c] Error 127
>>ERROR: compilation failed for package 'ROracle'
>>
>>
>>I've tried this on 2 different RH 7.3 LINUX boxes with no luck. I also 
>>searched the R search engine and google with no luck. Can someone please
>>
>>point me in the right direction as to if I'm doing something wrong?
>>
>>Thanks,
>>Vikram
>>
>>
>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>>r-help mai
>>ling list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>Send "info", "help", or "[un]subscribe"
>>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Sat Aug 10 04:08:47 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Sat, 10 Aug 2002 14:08:47 +1200 (NZST)
Subject: [R] Imputation?
Message-ID: <Pine.SOL.4.21.0208101407470.7552-100000@stat1.stat.auckland.ac.nz>

Hi,

Is there a package in R which can handle various kind of imputation
methods (for sampling purposes)?

Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
Homepage: http://www.stat.auckland.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From geoffwright at sympatico.ca  Sat Aug 10 04:43:22 2002
From: geoffwright at sympatico.ca (Geoff Wright)
Date: Fri, 9 Aug 2002 22:43:22 -0400
Subject: [R] trellis -graphic
In-Reply-To: <3D53E3FB.21CE0C1C@medizin.fu-berlin.de>
References: <3D53E3FB.21CE0C1C@medizin.fu-berlin.de>
Message-ID: <20020810024211.EZAR13064.tomts23-srv.bellnexxia.net@there>

Peter,

I was struggling with something similar to this earlier today.  You need to 
include a "panel =" into your xyplot function.  Look at the first few 
examples here...

http://terra.acs.unt.edu/Rdoc/library/lattice/demo/lattice.R

I think that you need to do something like...

xyplot(yhat~time |Subject,data=datafi,type="l", panel=function(x){
	panel.abline(0,1)
	})

I am not sure exactly what you need to put for function(x)... but I hope this 
puts you on the right track.

Cheers.
geoff

On Friday 09 August 2002 11:47 am, you wrote:
> Dear all,
>
> I am stuck with the following problem:
>
> Using the Indometh data set I want to plot the predicted
> values of a simple bixeponential model together with the observed
> concentrations.
>
> I managed to plot the predicted values:
>
> datafi<-Indometh
> fm<-nls(conc~SSbiexp(time,A1,lrc1,A2,lrc2),data=datafi)
> yhat<-predict(fm)
> datafi<-data.frame(datafi,yhat)
> xyplot(yhat~time |Subject,data=datafi,type="l")
>
> but how can I superpose the observed concentrations?
>
> Thanks a lot for your help
>
> Cheers
> Peter
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>.-.- r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help", or
> "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.cunliffe at auckland.ac.nz  Sat Aug 10 04:44:46 2002
From: r.cunliffe at auckland.ac.nz (Rachel Merriman)
Date: Sat, 10 Aug 2002 14:44:46 +1200 (NZST)
Subject: [R] lme output
Message-ID: <1028947486.3d547e1ec8dce@stat1.stat.auckland.ac.nz>

Hi,

I am having difficulty understanding some lme output -- I haven't found too 
many examples to help explain to me how to interpret the coefficients and would 
appreciate any help.

I am fitting a model:

fit <- lme(y ~ pre + group + time + group:time, random=~1|subject, 
na.action=na.omit, data=mydata)

...for a dataset where there are two groups being followed over time.  pre is 
before the treatment, and there are 4 post-treatment times (unequally spaced). 

The fitted coefficients are:

(Intercept) pre    group2 time2  time3  time4  group2:time2 group2:time3 
group2:time4
2.6442      0.5478 1.0183 0.6085 0.2326 0.5059 -1.9177      -0.3500 
-2.2029

of which there are only significant p-values (<0.05) for (Intercept), pre, 
group2:time2 and group2:time4.

anova(fit) gives:
               numDF  denDF  F-value  p-value
(Intercept)        1    864 550.9939   <.0001
pre                1    348 129.1674   <.0001
group              1    348   0.0049   0.9444
time               3    864   0.6715   0.5697
group:time         3    864   2.7206   0.0434

What I can't seem to do is understand how to correctly interpret the 
coefficients about what is going on.  I have been trying to work out the 
coefficients by subtracting various means but am getting nowhere.

Is anyone able to give me kind hand?

Rachel

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wviechtb at s.psych.uiuc.edu  Sat Aug 10 04:45:12 2002
From: wviechtb at s.psych.uiuc.edu (Wolfgang Viechtbauer)
Date: Fri, 9 Aug 2002 21:45:12 -0500 (CDT)
Subject: [R] Help with improving efficiency
In-Reply-To: <20020810005115.51685.qmail@web40404.mail.yahoo.com>
Message-ID: <Pine.SOL.4.30.0208092026090.6013-100000@s.psych.uiuc.edu>

> The "real" answer will tell us something about R
> syntax, arrays, vectorization, etc. I would also love
> to know it.
>
> But as it happens, the function you are describing is
> equal to t(W)%*%W.

I must admit that I completely didn't notice that my code is just a
cumbersome way of calculating the crossproduct of the W matrix (which
could be accomplished even faster with the crossprod() function, as one
person pointed out to me off-line).

However, I guess I should have mentioned that the code within the loop
is just a subset of the operations that are being performed on the row
vectors.

So, for example, let's say that each of the k (p*p) matrices is also
being multiplied by a value v[i]:


k <- 5
p <- 3
W <- matrix(c( rep(1, k), round(rnorm(n=(p*k), mean=0, sd=1), 0)),
     ncol=(p+1), nrow=k)                # create a random W matrix
v  <- rnorm(n=k, mean=0, sd=1)		# create random v values
m1 <- matrix(0, nrow=p+1, ncol=p+1)
for (i in 1:k) {
   m1 <- m1 + v[i] * as.matrix(W[i,]) %*% W[i,]
}


Obviously, this is different from simlpy taking the crossproduct of W.
The best way to optimize the code probably depends on the types of
operations being performed within the loop, but I am hoping to gain a
general idea of how to optimize this particular code and then maybe I
can apply that knowledge to the actual problem I am dealing with (and
the "real" answer, as pointed out, might serve a nice illustration of
how to write efficient code in general).

Wolfgang


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Sat Aug 10 06:26:10 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Fri, 9 Aug 2002 21:26:10 -0700 (PDT)
Subject: [R] Help with improving efficiency
In-Reply-To: <Pine.SOL.4.30.0208092026090.6013-100000@s.psych.uiuc.edu>
Message-ID: <Pine.GSO.4.10.10208092125010.15921-100000@quetelet.stat.ucla.edu>

In your example, you might consider

m1 <- t(W) %*% diag(v) %*% W

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Fri, 9 Aug 2002, Wolfgang Viechtbauer wrote:

> > The "real" answer will tell us something about R
> > syntax, arrays, vectorization, etc. I would also love
> > to know it.
> >
> > But as it happens, the function you are describing is
> > equal to t(W)%*%W.
> 
> I must admit that I completely didn't notice that my code is just a
> cumbersome way of calculating the crossproduct of the W matrix (which
> could be accomplished even faster with the crossprod() function, as one
> person pointed out to me off-line).
> 
> However, I guess I should have mentioned that the code within the loop
> is just a subset of the operations that are being performed on the row
> vectors.
> 
> So, for example, let's say that each of the k (p*p) matrices is also
> being multiplied by a value v[i]:
> 
> 
> k <- 5
> p <- 3
> W <- matrix(c( rep(1, k), round(rnorm(n=(p*k), mean=0, sd=1), 0)),
>      ncol=(p+1), nrow=k)                # create a random W matrix
> v  <- rnorm(n=k, mean=0, sd=1)		# create random v values
> m1 <- matrix(0, nrow=p+1, ncol=p+1)
> for (i in 1:k) {
>    m1 <- m1 + v[i] * as.matrix(W[i,]) %*% W[i,]
> }
> 
> 
> Obviously, this is different from simlpy taking the crossproduct of W.
> The best way to optimize the code probably depends on the types of
> operations being performed within the loop, but I am hoping to gain a
> general idea of how to optimize this particular code and then maybe I
> can apply that knowledge to the actual problem I am dealing with (and
> the "real" answer, as pointed out, might serve a nice illustration of
> how to write efficient code in general).
> 
> Wolfgang
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramasamy at stats.ox.ac.uk  Sat Aug 10 09:00:30 2002
From: ramasamy at stats.ox.ac.uk (Adaikalavan Ramasamy)
Date: Sat, 10 Aug 2002 08:00:30 +0100
Subject: [R] Attaching marginal summary plots to the main matrix plot
References: <4.3.2.7.0.20020808150159.02cedac0@mail.csi-inc.com> <5.1.0.14.2.20020809115550.00af7418@hermes.nos.noaa.gov>
Message-ID: <008a01c2403b$a121a4e0$461401a3@stats.ox.ac.uk>

Dear helplist, I am trying to visualise a datamatrix together with its
marginal densities.
Suppose dat <- matrix( rnorm(1000), nrow=25 )

I can the main visual plot using image, levelplot etc. But how do I attach
the plots for rows sums and column sums to the top/bottom and right hand
side of the original plot ?

The only way I can think of is by using par(mfrow=c(2,2)) command but the
result is not desirable. Is there are useful command to do this ? If
succesful I am thinking of affixing the boxplots by row and columns as well.
I have gone through the lattice help but am still confused. Thank you.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Sat Aug 10 09:26:49 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Sat, 10 Aug 2002 17:26:49 +1000
Subject: [R] Help with improving efficiency
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A9165388@Roper-CV.qld.cmis.csiro.au>

Roger Peng suggests:

>  -----Original Message-----
> From: 	Roger Peng [mailto:rpeng at stat.ucla.edu] 
> Sent:	Saturday, August 10, 2002 2:26 PM
> To:	Wolfgang Viechtbauer
> Cc:	r-help at stat.math.ethz.ch
> Subject:	Re: [R] Help with improving efficiency
> 
> In your example, you might consider
> 
> m1 <- t(W) %*% diag(v) %*% W
> 
	[WNV]  Mathematically correct but potentially memory demanding and
slow.  What's wrong with

		m1 <- crossprod(v*W, W)

	or, if you can assume that the elements of v are non-negative:

		m1 <- crossprod(sqrt(v) * W)

	?  I have learnt to be very wary about code that uses expliticly
stored diagonal matrices.

	Bill Venables.


> -roger
> _______________________________
> UCLA Department of Statistics
> rpeng at stat.ucla.edu
> http://www.stat.ucla.edu/~rpeng
> 
> On Fri, 9 Aug 2002, Wolfgang Viechtbauer wrote:
> 
> > > The "real" answer will tell us something about R
> > > syntax, arrays, vectorization, etc. I would also love
> > > to know it.
> > >
> > > But as it happens, the function you are describing is
> > > equal to t(W)%*%W.
> > 
> > I must admit that I completely didn't notice that my code is just a
> > cumbersome way of calculating the crossproduct of the W matrix (which
> > could be accomplished even faster with the crossprod() function, as one
> > person pointed out to me off-line).
> > 
> > However, I guess I should have mentioned that the code within the loop
> > is just a subset of the operations that are being performed on the row
> > vectors.
> > 
> > So, for example, let's say that each of the k (p*p) matrices is also
> > being multiplied by a value v[i]:
> > 
> > 
> > k <- 5
> > p <- 3
> > W <- matrix(c( rep(1, k), round(rnorm(n=(p*k), mean=0, sd=1), 0)),
> >      ncol=(p+1), nrow=k)                # create a random W matrix
> > v  <- rnorm(n=k, mean=0, sd=1)		# create random v values
> > m1 <- matrix(0, nrow=p+1, ncol=p+1)
> > for (i in 1:k) {
> >    m1 <- m1 + v[i] * as.matrix(W[i,]) %*% W[i,]
> > }
> > 
> > 
> > Obviously, this is different from simlpy taking the crossproduct of W.
> > The best way to optimize the code probably depends on the types of
> > operations being performed within the loop, but I am hoping to gain a
> > general idea of how to optimize this particular code and then maybe I
> > can apply that knowledge to the actual problem I am dealing with (and
> > the "real" answer, as pointed out, might serve a nice illustration of
> > how to write efficient code in general).
> > 
> > Wolfgang
> > 
> > 
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
> > 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Sat Aug 10 10:28:22 2002
From: siim at obs.ee (Ott Toomet)
Date: Sat, 10 Aug 2002 10:28:22 +0200 (CEST)
Subject: [R] package for saving large datasets in ASCII
Message-ID: <Pine.LNX.4.44.0208101025360.2111-100000@localhost.localdomain>

Hi,

I have made a tiny package for saving dataframes in ASCII format.  The
package contains functions save.table() and save.delim(), the first
mimics (not completely) write.table() and the second uses just
different default values, suitable for read.delim().

The reason I have written the functions is that I have had problems
with saving large dataframes in ASCII form.  write.table() essentially
makes a huge string in memory from the dataframe.  I am not sure about
write.matrix() (in MASS), but in my practice it is too
memory-intensive also.  My approach was to write the whole thing in C
in this way that the function takes the values from the dataframe, one
scalar value by time, and writes them immediately to the file.  This,
of course, puts certain limitations on the contents of dataframe and
output format.

Here is an example of the result:

> dim(e2000)
[1] 7505 1197
> library(savetable)
> system.time(save.table(e2000, "e2000"))
[1] 38.04  0.48 48.75  0.00  0.00
> library(MASS)
> system.time(write.matrix(e2000, "e2000", sep=",", 1))

 -- killed after 10 minutes swapping.

And now a smaller example:

> dim(e2000s)
[1]  100 1197
> library(savetable)
> system.time(save.table(e2000s, "e2000s"))
[1] 0.45 0.00 0.56 0.00 0.00
> system.time(write.table(e2000s, "e2000s"))
[1] 31.21  0.11 38.99  0.00  0.00
> library(MASS)
> system.time(write.matrix(e2000s, "e2000s", sep=",", 1))
[1] 4.01 0.66 5.45 0.00 0.00

None of the functions started swapping now, but as you can see,
save.table() is still around 10 times as fast as write.matrix().
Examples are on my 128MB PII-400 linux system and R 1.4.0.

I am not sure if there is much interest for such a package, so I put
it on my own website instead of CRAN
(http://www.obs.ee/~siim/savetable_0.1.0.tar.gz).  Any feedback is
appreciated.

Many thanks to Brian Ripley and the others, who helped me accessing R
objects in C.


Best wishes,

Ott Toomet


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jaitchis at hwy.com.au  Sat Aug 10 10:49:15 2002
From: jaitchis at hwy.com.au (John Aitchison)
Date: Sat, 10 Aug 2002 18:49:15 +1000
Subject: [R] ?subexpressions, D, deriv 
Message-ID: <3D55602B.5759.1A78266@localhost>


Hi all,

I am not used to using the computer to do calculus and have up to 
now done my differentiation "by hand" , calling on skills I learned 
many years ago and some standard cheat sheets.

My interest at present is in getting the second derivative of a 
gaussian, which I did by hand and results in a somewhat messy 
result involving terms in sigma^5  .. I have done some spot checks 
against R on the first derivative and my algebra seems OK, for the 
second derivative I get inflection points where expected via my 
algebra and R but I have not yet done a detailed numerical 
comparison (so I cannot be 100% sure of my algebra).


What I would like is for the output of D to look at least somewhat 
similar to my hand algebra. It occurred to me that if expressions 
could be constructed from subexpressions, I could get a more 
readable result (from D), as opposed to

> fx2
-(invroot2pi/sigma) * (exp(-0.5 * (((x - mu)/sigma)^2)) * (0.5 * 
    (2 * (1/sigma * (1/sigma)))) - exp(-0.5 * (((x - mu)/sigma)^2)) * 
    (0.5 * (2 * (1/sigma * ((x - mu)/sigma)))) * (0.5 * (2 * 
    (1/sigma * ((x - mu)/sigma)))))


So I tried, in the interests of simplification..

> expr1<-expression( ((x-mu)/sigma)^2)
> expr1
expression(((x - mu)/sigma)^2)
> x
[1]  5 15 20
> expr2<-expression(exp(-0.5*expr1))
> expr2
expression(exp(-0.5 * expr1))
> eval(expr2)
Error in -0.5 * expr1 : non-numeric argument to binary operator

I thought this might mean that I needed to define expr2 as calling 
expr1(x) , as follows
> expr2<-expression(exp(-0.5*expr1(x)))
> expr2
expression(exp(-0.5 * expr1(x)))
> eval(expr2)
Error in eval(expr, envir, enclos) : couldn't find function "expr1"

which seems to indicate that I am lacking in understanding of 
some issues of scope and calling enviroments.


Is what I am trying to do ( get a "readable" machine generated  
expression/formula for a higher derivative) possible? and if so, could 
someone give me some clues as to how to go about it?

Thank you






----------------------------------------- the original code

> invroot2pi
[1] 0.3989423
> fx
expression((invroot2pi/sigma) * exp(-0.5 * (((x - mu)/sigma)^2)))
> fx1<-D(fx,"x")  # first derivative
> fx1
-(invroot2pi/sigma) * (exp(-0.5 * (((x - mu)/sigma)^2)) * (0.5 * 
    (2 * (1/sigma * ((x - mu)/sigma)))))
> fx2<-D(fx1,"x")  # second derivative
> fx2
-(invroot2pi/sigma) * (exp(-0.5 * (((x - mu)/sigma)^2)) * (0.5 * 
    (2 * (1/sigma * (1/sigma)))) - exp(-0.5 * (((x - mu)/sigma)^2)) * 
    (0.5 * (2 * (1/sigma * ((x - mu)/sigma)))) * (0.5 * (2 * 
    (1/sigma * ((x - mu)/sigma)))))
> mu<-0
> sigma<-1
> x<-c(-1,0,1)
> eval(fx1)
[1]  0.2419707  0.0000000 -0.2419707
> eval(fx2)
[1]  0.0000000 -0.3989423  0.0000000
> # seems OK at first blush .. inflection points should be at mu+-
sigma
> x<-seq(-3,3,by=0.1)
> x
 [1] -3.0 -2.9 -2.8 -2.7 -2.6 -2.5 -2.4 -2.3 -2.2 -2.1 -2.0 -1.9 -1.8 -1.7 -
1.6
[16] -1.5 -1.4 -1.3 -1.2 -1.1 -1.0 -0.9 -0.8 -0.7 -0.6 -0.5 -0.4 -0.3 -0.2 
-0.1
[31]  0.0  0.1  0.2  0.3  0.4  0.5  0.6  0.7  0.8  0.9  1.0  1.1  1.2  1.3 
 1.4
[46]  1.5  1.6  1.7  1.8  1.9  2.0  2.1  2.2  2.3  2.4  2.5  2.6  2.7  2.8 
 2.9
[61]  3.0
> plot(eval(fx1))
> plot(x,eval(fx1))
> plot(x,eval(fx2))

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Sat Aug 10 13:32:44 2002
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Sat, 10 Aug 2002 13:32:44 +0200
Subject: [R] Questions about lexical scope
In-Reply-To: <200208061528.AAA07590@ibm.stat.ncku.edu.tw>
References: <200208061528.AAA07590@ibm.stat.ncku.edu.tw>
Message-ID: <20020810113244.GA17723@giraffa.cbs.dtu.dk>

Dear Joseph,


Did you get any answer about your problem ?

I have been toying with your examples and get a bit scared of what
is happening with lexical scoping...


I edited your function bv.integrate to have some informations about
what was going on.

bv.integrate <- function(f, a, b, n=100, rule=midpoint) {
  assign("count", 0, envir=.GlobalEnv)
  g <- function(y) {
    assign("count", get("count", envir=.GlobalEnv)+1, envir=.GlobalEnv
    fx <- function(x) f(x, y)
    rule(fx, a[2], b[2], n)
  }
  cat("# times in g:", get("count", envir=.GlobalEnv), "\n")
  rule(g, a[1], b[1])
}

my R sesssion gave the following:

> bv.integrate(function(x, y) sin(x + y), c(0,0), c(1,1), rule=trapezoidal)
# times in g: 0 
[1] 0.007080675
> print(count)
[1] 2

> bv.integrate(function(x, y) sin(x + y), c(0,0), c(1,1), rule=midpoint)
# times in g: 0 
[1] 0.773651
> print(count)
[1] 100


For some reason the function 'g' defined in bv.integrate is applied only
2 times when the rule is trapezoidal and 100 times when the rule is
midpoint (?!)... and the variable 'count' I defined in '.GlobalEnv' has
different values (depending on whether I am in '.GlobalEnv' or in
'bv.integrate'....


I must have missed something obvious somewhere... but where ?




L.





-- 
--------------------------------------------------------------
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			DK-2800 Lyngby,Denmark	
tel: +45 45 25 24 89		http://www.cbs.dtu.dk/laurent




On Wed, Aug 07, 2002 at 12:28:28AM +0900, Lu Chi-Hsien Joseph wrote:
> Dear R-users,
> 
> The numerical integration example given in Gentleman and Ihaka (2000), 
> "Lexical Scope and Statistical Computing," JCGS, 9, 491-508,
> is very interesting and helpful in understanding how lexical scope 
> is about.
> However, I got some questions that I just can't figure out.
> First all, allow me to copy the two functions given by the authors:
> 
> midpoint <- function(f, a, b, n=100) {
>     h <- (b - a)/n
>     (b - a)*mean(sapply(seq(a + h/2, b - h/2, length=n), f))
> }
> 
> bv.integrate <- function(f, a, b, n=100, rule=midpoint) {
>     g <- function(y) {
>         fx <- function(x) f(x, y)
>         rule(fx, a[2], b[2], n)
>     }
>     rule(g, a[1], b[1])
> }
> 
> I modified the function name from "integrate" to "bv.integrate".
> To integrate f(x,y)=sin(x + y) over the unit square,
> it works:
> > bv.integrate(function(x, y) sin(x + y), c(0,0), c(1,1))
> [1] 0.773651
> (compare with .7736445 calculated from 2sin(1)*(1 - cos(1)))
> 
> Then I write a function using trapezoidal rule as follows:
> 
> trapezoidal <- function(f, a, b, n=100) {
>     h <- (b - a)/n
>     i <- 1:n
>     sum(f(a + (i - 1)*h), f(a + i*h))*h/2
> }
> 
> I checked with
> > trapezoidal(sin, 0, 1)
> [1] 0.4596939
> > 1 - cos(1)
> [1] 0.4596977
> 
> and
> > trapezoidal(dnorm, -3, 3)
> [1] 0.9972922
> > diff(pnorm(c(-3, 3)))
> [1] 0.9973002
> 
> Then, this is what I got by plugged in "trapezoidal" for the "rule" 
> in bv.integrate():
> > bv.integrate(function(x, y) sin(x + y), c(0,0), c(1,1), rule=trapezoidal)
> [1] 0.007080675
> 
> Hundred time smaller! 
> Answer can be "improved" by increasing n, but always 100 times smaller.
> 
> Anything wrong with the way I wrote trapezoidal()?
> I just can't figure out any difference, in terms of input/output,
> between midpoint() and trapezoidal().
> 
> Then I tried to use integrate() as the rule in bv.integrate(),
> by defining a wrap-up function:
> 
> intg <- function(f, a, b, n=100) integrate(f, a, b, n)$value
> 
> to have the value as the only output.
> But, I got
> > bv.integrate(function(x, y) sin(x + y), c(0,0), c(1,1), rule=intg)
> Error in integrate(f, a, b, n) : evaluation of function gave a result 
> of wrong length
> 
> I tried to use debugger() to find out what's wrong,
> but not succeeded.
> There must be something I missed in understanding the lexical scope,
> however, what's going on with the function I wrote?
> What should be the way to correct them?
> 
> Certainly, I know integrate() should be the one to use.
> These are questions from my preparation of programming exercise 
> of using R in my statistical computation class.
> 
> I'll be very appreciated for anyone who might help me on these
> questions.
> 
> Best regards,
> 
> C. Joseph Lu
> Department of Statistics
> National Cheng-Kung University
> Tainan, Taiwan, ROC
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From geoffwright at sympatico.ca  Sat Aug 10 16:27:04 2002
From: geoffwright at sympatico.ca (Geoff Wright)
Date: Sat, 10 Aug 2002 10:27:04 -0400
Subject: [R] How to concatenate a variable and assign value
Message-ID: <20020810142711.TRVQ2648.tomts24-srv.bellnexxia.net@there>

for(i in c(1,50,100,250)){

	Then I want to create a variable called:
	graph++i <- histogram...
}

Any ideas?

With hist it is easy to create multiple graphs on a page but with the trellis 
histogram, I am finding it a bit more awkward.  It seems that I have to use
print(graph1, split=c(1,1,1,2), more=T) to achieve the desired result.  Does 
anyone have code they are willing to share which makes this a bit more 
manageable?

Thanks.
geoff
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From geoffwright at sympatico.ca  Sat Aug 10 18:25:25 2002
From: geoffwright at sympatico.ca (Geoff Wright)
Date: Sat, 10 Aug 2002 12:25:25 -0400
Subject: [R] Weird densityplot behaviour
Message-ID: <20020810162439.POUQ22294.tomts8-srv.bellnexxia.net@there>

When I do: 
rx<-rnorm(500)
densityplot(rx)

I get something that looks reasonable.

However, when I do:
rx<-rnorm(5)
densityplot(rx)

I get strange results sometimes...
For example, if rx = c(1,1,1,1,2), then the resulting plot shows marginal 
densities greater than 1.  I must be overlooking something.

Thanks.
geoff

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Sat Aug 10 18:28:52 2002
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Sat, 10 Aug 2002 11:28:52 -0500 (CDT)
Subject: [R] fractals
Message-ID: <200208101628.LAA24288@uhddx01.dt.uh.edu>

Dear R People:

Does anyone have any code for Fractals, chaos,
or anything like that, please?

This is strictly for demo purposes...decorative only.

This is R version 1.5.1 for Windows.


Thank you in advance!

Have a great weekend!

Sincerely,
Erin Hodgess
Associate Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
1 Main Street 
Houston, TX 77002
mailto: hodgess at uhddx01.dt.uh.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arc at arcriswell.com  Sun Aug 11 06:31:55 2002
From: arc at arcriswell.com (Andrew Criswell)
Date: Sun, 11 Aug 2002 11:31:55 +0700
Subject: [R] Ordinal categorical data with GLM
Message-ID: <002401c240f0$075b5530$0f7e92cb@andrewvhowclyz>

Hello All:

I am looking for you help.

I am trying to replicate the results of an example found in Alan Agresti's
"Categorical Data Analysis" on pages 267-269. The example is one of a 2 x 2
cross-classification table of ordinal counts: job satisfaction and income.

I am able to get Agresti's results for the independence model (G^2 = 12.03
with df = 9) assuming as he does that the data is nominal, but I'm unable to
derive his model of uniform association (linear-by-linear association, p.
263-269) for which he gets a value of G^2 = 2.39 with df = 8.

The observed data is represented by table 8.2 on page 268 and as follows:

Freq <- c(20, 24,  80,  82, 22, 38, 104, 125, 13, 28,  81, 113, 7, 18,  54,
92)

data.3 <- t(matrix(Freq, nrow = 4))

list.3 <- list(Income = c("< 6,000", "6,000-15,000", "15,000-25,000", ">
25,000"),
                  Satisfaction = c("Very dissatisfied", "Little
dissatisfied", "Moderately satisfied", "Very satisfied"))

dimnames(data.3) <- list.3

ftable(data.3)

I am able to obtain Agresti's results for the independence model which
assumes the data is nominal, not ordinal, using either glm() or loglm().

library(MASS)
options(contrasts=c("contr.sum", "contr.poly"))

X <- as.integer(gl(4, 4, 16)) - 1
Y <- as.integer(gl(4, 1, 16)) - 1

data.2 <- data.frame(Freq, X = factor(X), Y = factor(Y))

summary(fm3 <- glm(Freq ~ X + Y, data = data.2, family = poisson()))
dummy.coef(fm3)

fm4 <- loglm(Freq ~ X + Y, data = data.2, param = T, fit = T)
fm4;  fm4$param

My question is this: can glm() or some other function be used in the manner
Agresti employed for ordinal count data?

Thank you,
ANDREW

Andrew Criswell
Professor of Finance
Graduate School
Bangkok University


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richards at upci.pitt.edu  Sat Aug 10 19:18:05 2002
From: richards at upci.pitt.edu (Richards, Tom)
Date: Sat, 10 Aug 2002 13:18:05 -0400
Subject: [R] R and gcc, yet again
Message-ID: <73D624FECBBAF6459BB60437FF7C02FB06D235@nsabpmail>

Hello:

I have not compiled C code for R since around version 1.1.0, and i see that
I am really missing something here.  I am using widoes and mingw32 port of
gcc.  Now, as usual I have gone into Rinternals.h and physically changed all
declarations of functions returning SEXP's to

__declspec(dllimport) SEXP

but I still am getting repeated crashes of R.  Do any windows users know
what I am forgetting to do here?  Thanks in advance.

Tom
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Sat Aug 10 20:43:06 2002
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Sat, 10 Aug 2002 20:43:06 +0200
Subject: [R] Questions about lexical scope
In-Reply-To: <20020810113244.GA17723@giraffa.cbs.dtu.dk>
References: <200208061528.AAA07590@ibm.stat.ncku.edu.tw> <20020810113244.GA17723@giraffa.cbs.dtu.dk>
Message-ID: <20020810184306.GC17723@giraffa.cbs.dtu.dk>

As I was pointed out by Mr.R. himself(*), the call to
'cat' is done *before* the call to the function 'rule'
(hence the variable "count" should be zero... and
is zero...)

I should probably consider using bigger fonts (or bigger glasses)...


L.


(*): thanks Robert



On Sat, Aug 10, 2002 at 01:32:44PM +0200, Laurent Gautier wrote:
> Dear Joseph,
> 
> 
> Did you get any answer about your problem ?
> 
> I have been toying with your examples and get a bit scared of what
> is happening with lexical scoping...
> 
> 
> I edited your function bv.integrate to have some informations about
> what was going on.
> 
> bv.integrate <- function(f, a, b, n=100, rule=midpoint) {
>   assign("count", 0, envir=.GlobalEnv)
>   g <- function(y) {
>     assign("count", get("count", envir=.GlobalEnv)+1, envir=.GlobalEnv
>     fx <- function(x) f(x, y)
>     rule(fx, a[2], b[2], n)
>   }
>   cat("# times in g:", get("count", envir=.GlobalEnv), "\n")
>   rule(g, a[1], b[1])
> }
> 
> my R sesssion gave the following:
> 
> > bv.integrate(function(x, y) sin(x + y), c(0,0), c(1,1), rule=trapezoidal)
> # times in g: 0 
> [1] 0.007080675
> > print(count)
> [1] 2
> 
> > bv.integrate(function(x, y) sin(x + y), c(0,0), c(1,1), rule=midpoint)
> # times in g: 0 
> [1] 0.773651
> > print(count)
> [1] 100
> 
> 
> For some reason the function 'g' defined in bv.integrate is applied only
> 2 times when the rule is trapezoidal and 100 times when the rule is
> midpoint (?!)... and the variable 'count' I defined in '.GlobalEnv' has
> different values (depending on whether I am in '.GlobalEnv' or in
> 'bv.integrate'....
> 
> 
> I must have missed something obvious somewhere... but where ?
> 
> 
> 
> 
> L.
> 
> 
> 
> 
> 
> -- 
> --------------------------------------------------------------
> Laurent Gautier			CBS, Building 208, DTU
> PhD. Student			DK-2800 Lyngby,Denmark	
> tel: +45 45 25 24 89		http://www.cbs.dtu.dk/laurent
> 
> 
> 
> 
> On Wed, Aug 07, 2002 at 12:28:28AM +0900, Lu Chi-Hsien Joseph wrote:
> > Dear R-users,
> > 
> > The numerical integration example given in Gentleman and Ihaka (2000), 
> > "Lexical Scope and Statistical Computing," JCGS, 9, 491-508,
> > is very interesting and helpful in understanding how lexical scope 
> > is about.
> > However, I got some questions that I just can't figure out.
> > First all, allow me to copy the two functions given by the authors:
> > 
> > midpoint <- function(f, a, b, n=100) {
> >     h <- (b - a)/n
> >     (b - a)*mean(sapply(seq(a + h/2, b - h/2, length=n), f))
> > }
> > 
> > bv.integrate <- function(f, a, b, n=100, rule=midpoint) {
> >     g <- function(y) {
> >         fx <- function(x) f(x, y)
> >         rule(fx, a[2], b[2], n)
> >     }
> >     rule(g, a[1], b[1])
> > }
> > 
> > I modified the function name from "integrate" to "bv.integrate".
> > To integrate f(x,y)=sin(x + y) over the unit square,
> > it works:
> > > bv.integrate(function(x, y) sin(x + y), c(0,0), c(1,1))
> > [1] 0.773651
> > (compare with .7736445 calculated from 2sin(1)*(1 - cos(1)))
> > 
> > Then I write a function using trapezoidal rule as follows:
> > 
> > trapezoidal <- function(f, a, b, n=100) {
> >     h <- (b - a)/n
> >     i <- 1:n
> >     sum(f(a + (i - 1)*h), f(a + i*h))*h/2
> > }
> > 
> > I checked with
> > > trapezoidal(sin, 0, 1)
> > [1] 0.4596939
> > > 1 - cos(1)
> > [1] 0.4596977
> > 
> > and
> > > trapezoidal(dnorm, -3, 3)
> > [1] 0.9972922
> > > diff(pnorm(c(-3, 3)))
> > [1] 0.9973002
> > 
> > Then, this is what I got by plugged in "trapezoidal" for the "rule" 
> > in bv.integrate():
> > > bv.integrate(function(x, y) sin(x + y), c(0,0), c(1,1), rule=trapezoidal)
> > [1] 0.007080675
> > 
> > Hundred time smaller! 
> > Answer can be "improved" by increasing n, but always 100 times smaller.
> > 
> > Anything wrong with the way I wrote trapezoidal()?
> > I just can't figure out any difference, in terms of input/output,
> > between midpoint() and trapezoidal().
> > 
> > Then I tried to use integrate() as the rule in bv.integrate(),
> > by defining a wrap-up function:
> > 
> > intg <- function(f, a, b, n=100) integrate(f, a, b, n)$value
> > 
> > to have the value as the only output.
> > But, I got
> > > bv.integrate(function(x, y) sin(x + y), c(0,0), c(1,1), rule=intg)
> > Error in integrate(f, a, b, n) : evaluation of function gave a result 
> > of wrong length
> > 
> > I tried to use debugger() to find out what's wrong,
> > but not succeeded.
> > There must be something I missed in understanding the lexical scope,
> > however, what's going on with the function I wrote?
> > What should be the way to correct them?
> > 
> > Certainly, I know integrate() should be the one to use.
> > These are questions from my preparation of programming exercise 
> > of using R in my statistical computation class.
> > 
> > I'll be very appreciated for anyone who might help me on these
> > questions.
> > 
> > Best regards,
> > 
> > C. Joseph Lu
> > Department of Statistics
> > National Cheng-Kung University
> > Tainan, Taiwan, ROC
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
--------------------------------------------------------------
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			DK-2800 Lyngby,Denmark	
tel: +45 45 25 24 89		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Aug 10 20:54:05 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 10 Aug 2002 19:54:05 +0100 (BST)
Subject: [R] package for saving large datasets in ASCII
In-Reply-To: <Pine.LNX.4.44.0208101025360.2111-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.31.0208101951400.15053-100000@gannet.stats>

?write.matrix  will tell you what you have overlooked, a sensible
blocksize.

If `I am not sure about write.matrix()', surely reading the help page is a
first step?

On Sat, 10 Aug 2002, Ott Toomet wrote:

> Hi,
>
> I have made a tiny package for saving dataframes in ASCII format.  The
> package contains functions save.table() and save.delim(), the first
> mimics (not completely) write.table() and the second uses just
> different default values, suitable for read.delim().
>
> The reason I have written the functions is that I have had problems
> with saving large dataframes in ASCII form.  write.table() essentially
> makes a huge string in memory from the dataframe.  I am not sure about
> write.matrix() (in MASS), but in my practice it is too
> memory-intensive also.  My approach was to write the whole thing in C
> in this way that the function takes the values from the dataframe, one
> scalar value by time, and writes them immediately to the file.  This,
> of course, puts certain limitations on the contents of dataframe and
> output format.
>
> Here is an example of the result:
>
> > dim(e2000)
> [1] 7505 1197
> > library(savetable)
> > system.time(save.table(e2000, "e2000"))
> [1] 38.04  0.48 48.75  0.00  0.00
> > library(MASS)
> > system.time(write.matrix(e2000, "e2000", sep=",", 1))
>
>  -- killed after 10 minutes swapping.
>
> And now a smaller example:
>
> > dim(e2000s)
> [1]  100 1197
> > library(savetable)
> > system.time(save.table(e2000s, "e2000s"))
> [1] 0.45 0.00 0.56 0.00 0.00
> > system.time(write.table(e2000s, "e2000s"))
> [1] 31.21  0.11 38.99  0.00  0.00
> > library(MASS)
> > system.time(write.matrix(e2000s, "e2000s", sep=",", 1))
> [1] 4.01 0.66 5.45 0.00 0.00
>
> None of the functions started swapping now, but as you can see,
> save.table() is still around 10 times as fast as write.matrix().
> Examples are on my 128MB PII-400 linux system and R 1.4.0.
>
> I am not sure if there is much interest for such a package, so I put
> it on my own website instead of CRAN
> (http://www.obs.ee/~siim/savetable_0.1.0.tar.gz).  Any feedback is
> appreciated.
>
> Many thanks to Brian Ripley and the others, who helped me accessing R
> objects in C.
>
>
> Best wishes,
>
> Ott Toomet
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Aug 10 20:57:16 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 10 Aug 2002 19:57:16 +0100 (BST)
Subject: [R] R and gcc, yet again
In-Reply-To: <73D624FECBBAF6459BB60437FF7C02FB06D235@nsabpmail>
Message-ID: <Pine.LNX.4.31.0208101956130.15053-100000@gannet.stats>

On Sat, 10 Aug 2002, Richards, Tom wrote:

> Hello:
>
> I have not compiled C code for R since around version 1.1.0, and i see that
> I am really missing something here.  I am using widoes and mingw32 port of
> gcc.  Now, as usual I have gone into Rinternals.h and physically changed all
> declarations of functions returning SEXP's to
>
> __declspec(dllimport) SEXP
>
> but I still am getting repeated crashes of R.  Do any windows users know
> what I am forgetting to do here?  Thanks in advance.

Not leaving things alone?  There is no need to change the header files if
you follow exactly the documented procedures.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pmj at jciconsult.com  Sat Aug 10 21:02:55 2002
From: pmj at jciconsult.com (Paul M. Jacobson)
Date: Sat, 10 Aug 2002 15:02:55 -0400
Subject: [R] GLM Contingency table regressions
Message-ID: <001201c240a0$89607420$345c5242@p800>

I have a contingency table with a 0/1 variable (fwr) that flags a particular
condition, a weight variable (cnt) and other variables (e.g. zz)
characterizing that observation of the table.
I am trying to use GLM. By converting the variables to factors and running
the following regression:
fwr1<-factor(fwr)
zz1<-factor(zz1)
res1<-glm(fwr1 ~ zz1,weights=cnt)

Is that appropriate?

Paul M. Jacobson
Jacobson Consulting Inc.
80 Front Street East, Suite 720
Toronto, ON, M5E 1T4
Voice:  +1(416)868-1141
Farm: +1(519)463-6061/6224
Fax: +1(416)868-1131
E-mail: pmj at jciconsult.com
Web:  http://www.jciconsult.com/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fjmolina at lbl.gov  Sat Aug 10 19:33:13 2002
From: fjmolina at lbl.gov (Francisco J. Molina)
Date: Sat, 10 Aug 2002 13:33:13 -0400
Subject: [R] poscript("fileName.eps") possible?
Message-ID: <3D554E58.D63A8476@lbl.gov>

I have been checking the information provided with postscript().

Acording to the manual the argument of postscript() is the name of a
file with extension ps .

The postscript produced by R is EPS (Encapsulated PostScript)
     compatible, so I tried to pass to postscript() the name of a file
with extension eps. Then I included this file in
a Latex document and everything worked fine.

Does what I did work in general or I just was lucky?
Thank you.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Sun Aug 11 03:49:01 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Sat, 10 Aug 2002 18:49:01 -0700 (PDT)
Subject: [R] Weird densityplot behaviour
In-Reply-To: <20020810162439.POUQ22294.tomts8-srv.bellnexxia.net@there>
Message-ID: <20020811014901.46775.qmail@web13905.mail.yahoo.com>


--- Geoff Wright <geoffwright at sympatico.ca> wrote:
> When I do: 
> rx<-rnorm(500)
> densityplot(rx)
> 
> I get something that looks reasonable.
> 
> However, when I do:
> rx<-rnorm(5)
> densityplot(rx)
> 
> I get strange results sometimes...
> For example, if rx = c(1,1,1,1,2), then the resulting plot shows marginal 
> densities greater than 1.  

And why exactly is that strange ? For instance, try calculating the 
normal(0, .3^2) density at 0 [ dnorm(0, mean = 0, sd = .3) ]. 

> I must be overlooking something.
> 
> Thanks.
> geoff
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Aug 11 06:54:37 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 11 Aug 2002 05:54:37 +0100 (BST)
Subject: [R] poscript("fileName.eps") possible?
In-Reply-To: <3D554E58.D63A8476@lbl.gov>
Message-ID: <Pine.LNX.4.31.0208110547360.21846-100000@gannet.stats>

On Sat, 10 Aug 2002, Francisco J. Molina wrote:

> I have been checking the information provided with postscript().

Which information?  (It seems not to be the help page!)

> Acording to the manual the argument of postscript() is the name of a
> file with extension ps .

Not according to ?postscript, so which manual are you looking at?
The default name ends in .ps, but that's only the default.

> The postscript produced by R is EPS (Encapsulated PostScript)
>      compatible, so I tried to pass to postscript() the name of a file
> with extension eps. Then I included this file in
> a Latex document and everything worked fine.
>
> Does what I did work in general or I just was lucky?

You were lucky.  Other including applications require an EPS header, and
how to get that is described on the help page (under `onefile' and in
the Details).

On most systems the extension is irrelevant, and on most of those which
care it can be either .ps or .eps.  On just a few, .eps implies a .EPS
header.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clayton.vernon at bankofamerica.com  Sun Aug 11 07:22:51 2002
From: clayton.vernon at bankofamerica.com (Vernon, Clayton)
Date: Sun, 11 Aug 2002 00:22:51 -0500
Subject: [R] building with gcc 3.0 on solaris??
Message-ID: <8AC511FB1183D511B35C00508BCFB536026F0206@NYCTMP04>

hi-

i have a very, very 'hip' and current Solaris box, and i'm having a problem
building R. first off, it denies support for Gnome and Tcl/Tk during
Configure, despite these being installed and their 'bin' and 'lib'
directories beuing in the path and ld_library_path, respectively.

then, duirng 'make' it can't find the symbols 'BZ2_bzWriteClose,
...ReadOpen, ...ReadClose ...

help!
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clayton.vernon at bankofamerica.com  Sun Aug 11 07:23:36 2002
From: clayton.vernon at bankofamerica.com (Vernon, Clayton)
Date: Sun, 11 Aug 2002 00:23:36 -0500
Subject: [R] ps
Message-ID: <8AC511FB1183D511B35C00508BCFB536026F0207@NYCTMP04>

the undefined symbols are in 'connections.o'

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clayton.vernon at bankofamerica.com  Sun Aug 11 07:49:40 2002
From: clayton.vernon at bankofamerica.com (Vernon, Clayton)
Date: Sat, 10 Aug 2002 22:49:40 -0700
Subject: [R] f/up
Message-ID: <8AC511FB1183D511B35C00508BCFB536026F0208@NYCTMP04>

got it to build by editing the configure script. sorry to bother you all.
thanks.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pmj at jciconsult.com  Sun Aug 11 13:30:52 2002
From: pmj at jciconsult.com (Paul M. Jacobson)
Date: Sun, 11 Aug 2002 07:30:52 -0400
Subject: [R] GLM Contingency table regressions - more details.
Message-ID: <000301c2412a$8d871fb0$345c5242@p800>

I have a contingency table with a 0/1 variable (fwr) that flags a particular
condition, a weight variable (cnt) and other variables (e.g. zz)
characterizing that observation of the table.
I am trying to use GLM. By converting the variables to factors and running
the following regression:
fwr1<-factor(fwr)
zz1<-factor(zz1)
res1<-glm(fwr1 ~ zz1,weights=cnt,family=binomial)

Is that appropriate?  The issue is getting the appropriate regression
diagnostics.  The alternative would be to aggregate the dataset and
calculate the sample proportions for the true/false of fwr using the case
weights.  In other words, combine each pair of rows in the contingency
dataset that are identical except for the fwr and use the cnt weights as the
true/false proportions.  Would that give me better results.

Paul M. Jacobson
Jacobson Consulting Inc.
80 Front Street East, Suite 720
Toronto, ON, M5E 1T4
Voice:  +1(416)868-1141
Farm: +1(519)463-6061/6224
Fax: +1(416)868-1131
E-mail: pmj at jciconsult.com
Web:  http://www.jciconsult.com/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Sun Aug 11 14:51:33 2002
From: siim at obs.ee (Ott Toomet)
Date: Sun, 11 Aug 2002 14:51:33 +0200 (CEST)
Subject: [R] package for saving large datasets in ASCII
In-Reply-To: <Pine.LNX.4.31.0208101951400.15053-100000@gannet.stats>
Message-ID: <Pine.LNX.4.44.0208111449300.1305-100000@localhost.localdomain>

Hi,

I am Continuing discussion about dataframes in ASCII.

I have not overlooked the argument blocksize in write.matrix(), but
which is a sensible size?  I assumed the blocksize=1 is the most
memory-efficient, but (for smaller example) I experimented with
different sizes.  Initially, speed increased slightly, but seemed to
be constant or even decreasing from around value 5.

The problem for me is not the speed for small dataframes but the fact
that I was not able to save a large dataframe at all.  I think the
reason is associated with the first line of write.matrix() which is

    x <- as.matrix(x)

This converts the whole dataframe into a new ascii matrix, a process which
is both slow and memory consuming if the original object is large.  The
second place I am not sure about are lines

            cat(format(t(x[nlines + (1:nb), ])), file = file, 
                append = TRUE, sep = c(rep(sep, p - 1), "\n"))

isn't t(x[...]) creating new temporary objects?

Or have I misunderstood something?

BTW, are there any ways to check memory consumption of individual
objects and functions?

best wishes,

Ott

On Sat, 10 Aug 2002 ripley at stats.ox.ac.uk wrote:

  |?write.matrix  will tell you what you have overlooked, a sensible
  |blocksize.
  |
  |If `I am not sure about write.matrix()', surely reading the help page is a
  |first step?
  |
  |On Sat, 10 Aug 2002, Ott Toomet wrote:
  |
  |> Hi,
  |>
  |> I have made a tiny package for saving dataframes in ASCII format.  The
  |> package contains functions save.table() and save.delim(), the first
  |> mimics (not completely) write.table() and the second uses just
  |> different default values, suitable for read.delim().
  |>
  |> The reason I have written the functions is that I have had problems
  |> with saving large dataframes in ASCII form.  write.table() essentially
  |> makes a huge string in memory from the dataframe.  I am not sure about
  |> write.matrix() (in MASS), but in my practice it is too
  |> memory-intensive also.  My approach was to write the whole thing in C
  |> in this way that the function takes the values from the dataframe, one
  |> scalar value by time, and writes them immediately to the file.  This,
  |> of course, puts certain limitations on the contents of dataframe and
  |> output format.
  |>
  |> Here is an example of the result:
  |>
  |> > dim(e2000)
  |> [1] 7505 1197
  |> > library(savetable)
  |> > system.time(save.table(e2000, "e2000"))
  |> [1] 38.04  0.48 48.75  0.00  0.00
  |> > library(MASS)
  |> > system.time(write.matrix(e2000, "e2000", sep=",", 1))
  |>
  |>  -- killed after 10 minutes swapping.
  |>
  |> And now a smaller example:
  |>
  |> > dim(e2000s)
  |> [1]  100 1197
  |> > library(savetable)
  |> > system.time(save.table(e2000s, "e2000s"))
  |> [1] 0.45 0.00 0.56 0.00 0.00
  |> > system.time(write.table(e2000s, "e2000s"))
  |> [1] 31.21  0.11 38.99  0.00  0.00
  |> > library(MASS)
  |> > system.time(write.matrix(e2000s, "e2000s", sep=",", 1))
  |> [1] 4.01 0.66 5.45 0.00 0.00
  |>
  |> None of the functions started swapping now, but as you can see,
  |> save.table() is still around 10 times as fast as write.matrix().
  |> Examples are on my 128MB PII-400 linux system and R 1.4.0.
  |>
  |> I am not sure if there is much interest for such a package, so I put
  |> it on my own website instead of CRAN
  |> (http://www.obs.ee/~siim/savetable_0.1.0.tar.gz).  Any feedback is
  |> appreciated.
  |>
  |> Many thanks to Brian Ripley and the others, who helped me accessing R
  |> objects in C.
  |>
  |>
  |> Best wishes,
  |>
  |> Ott Toomet

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Aug 11 15:53:25 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 11 Aug 2002 14:53:25 +0100 (BST)
Subject: [R] A test on a 8000 x 1000 matrix using blocksize = 1000 ran in about
 150MbRe: [R] package for saving large datasets in ASCII
In-Reply-To: <Pine.LNX.4.44.0208111449300.1305-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.31.0208111355540.22252-100000@gannet.stats>

The sort of `large' here is 7500x1200.  That's 72Mb if real numbers, so
let's assume you have at least 256Mb to use.  I ran the following on
Windows with a 256Mb limit (and I had to use R-devel to do so). I actually
found it difficult to create a data frame of that size in 256Mb, and
resorted to

A1 <- vector("list", 1000)
for(i in 1:1000) A1[[i]] <- rnorm(8000)
class(A1) <- "data.frame"
row.names(A1) <- 1:8000

which took 15 secs and 140Mb as an underhand way to make a data frame.
(1.5.1 took too much memory here.)

Then

A2 <- as.matrix(A1)

took 1.8secs (hardly slow) and an additional 64Mb to hold the object A2.
I then deleted A1.  Running

write.table(A2, "foo.dat", blocksize=1000)

used about 150Mb in about four minutes.  That is formatting 8 million
numbers, and 85% of the time was spent in the system calls, as one should
expect.  (I suspect I did not need to delete A1, but didn't want to wait
around to find out.)

So

1) you could have checked your claims by some simple experiments.

2) as claimed, write.matrix does indeed do the job.

On Sun, 11 Aug 2002, Ott Toomet wrote:

> I am Continuing discussion about dataframes in ASCII.
>
> I have not overlooked the argument blocksize in write.matrix(), but
> which is a sensible size?  I assumed the blocksize=1 is the most
> memory-efficient, but (for smaller example) I experimented with
> different sizes.  Initially, speed increased slightly, but seemed to
> be constant or even decreasing from around value 5.

A few hundred, probably.

Why did you assume that blocksize=1 was best?  R is a vector language, and
it is normally best to use the largest blocks that you can fit in memory.

> The problem for me is not the speed for small dataframes but the fact
> that I was not able to save a large dataframe at all.  I think the
> reason is associated with the first line of write.matrix() which is
>
>     x <- as.matrix(x)
>
> This converts the whole dataframe into a new ascii matrix, a process which

Not if it is a matrix: what's the function name?  For a general data frame
there really is no choice but to convert each column as a whole.

> is both slow and memory consuming if the original object is large.

False: see above.

> The
> second place I am not sure about are lines
>
>             cat(format(t(x[nlines + (1:nb), ])), file = file,
>                 append = TRUE, sep = c(rep(sep, p - 1), "\n"))
>
> isn't t(x[...]) creating new temporary objects?

Yes (and so is the format call), but there is garbage collection.  That's
one reason why a blocksize of 1 is not at all sensible, forcing the loop
to be run thousands of times.  Just choose blocksize to keep this step in
your memory bounds.

> Or have I misunderstood something?

Your memory size?  I suggest buying another 512Mb/1Gb of RAM.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Sun Aug 11 18:16:03 2002
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Sun, 11 Aug 2002 18:16:03 +0200
Subject: [R] package for saving large datasets in ASCII
In-Reply-To: <Pine.LNX.4.44.0208111449300.1305-100000@localhost.localdomain>
References: <Pine.LNX.4.31.0208101951400.15053-100000@gannet.stats> <Pine.LNX.4.44.0208111449300.1305-100000@localhost.localdomain>
Message-ID: <20020811161603.GA10471@giraffa.cbs.dtu.dk>

On Sun, Aug 11, 2002 at 02:51:33PM +0200, Ott Toomet wrote:
> 
> BTW, are there any ways to check memory consumption of individual
> objects and functions?


Would 'object.size' correspond to your needs ?

> 
> best wishes,
> 
> Ott
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Sun Aug 11 17:16:35 2002
From: siim at obs.ee (Ott Toomet)
Date: Sun, 11 Aug 2002 17:16:35 +0200 (CEST)
Subject: [R] converting large dataframes to matrix (was: large dataframes in
 ASCII)
In-Reply-To: <Pine.LNX.4.31.0208111355540.22252-100000@gannet.stats>
Message-ID: <Pine.LNX.4.44.0208111642400.1525-100000@localhost.localdomain>

Hi,

True, write.matrix does quite a good job if the data already is in matrix
form.  The problem arises using real data (labour force survey in my case),
which includes variables of different storage mode.  The dataframe I used
contains mostly integers and factors in character form (most of dataframe
contains NA-s, however).

My computer has 128M memory, R (1.5.1) took 52MB when dataframe e2000 was
loaded (7500x1200).  Trying to transform it to a matrix

f2000 <- as.matrix(e2000)

R grew to 155MB after which I killed the process.  So, in this case the
block size does not help much.

Best wishes,

Ott




On Sun, 11 Aug 2002 ripley at stats.ox.ac.uk wrote:

  |The sort of `large' here is 7500x1200.  That's 72Mb if real numbers, so
  |let's assume you have at least 256Mb to use.  I ran the following on
  |Windows with a 256Mb limit (and I had to use R-devel to do so). I actually
  |found it difficult to create a data frame of that size in 256Mb, and
  |resorted to
  |
  |A1 <- vector("list", 1000)
  |for(i in 1:1000) A1[[i]] <- rnorm(8000)
  |class(A1) <- "data.frame"
  |row.names(A1) <- 1:8000
  |
  |which took 15 secs and 140Mb as an underhand way to make a data frame.
  |(1.5.1 took too much memory here.)
  |
  |Then
  |
  |A2 <- as.matrix(A1)
  |
  |took 1.8secs (hardly slow) and an additional 64Mb to hold the object A2.
  |I then deleted A1.  Running
  |
  |write.table(A2, "foo.dat", blocksize=1000)
  |

you mean write.matrix?

  |used about 150Mb in about four minutes.  That is formatting 8 million
  |numbers, and 85% of the time was spent in the system calls, as one should
  |expect.  (I suspect I did not need to delete A1, but didn't want to wait
  |around to find out.)
  |
  |So
  |
  |1) you could have checked your claims by some simple experiments.
  |
  |2) as claimed, write.matrix does indeed do the job.

Agree, given there is sufficent memory and/or the data is of homogeneous
storage mode.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ulf.martin at qdsl.de  Sun Aug 11 21:55:00 2002
From: ulf.martin at qdsl.de (Ulf Martin)
Date: Sun, 11 Aug 2002 21:55:00 +0200
Subject: [R] comand line options with editor call
References: <3E96F037.60105@arcriswell.com>
Message-ID: <3D56C114.8000301@qdsl.de>

Hi R users!

Is there a way to call the editor with command line options?
I.e. I want to use Vim and set it automatically in R mode when it is 
started.
This requires something like

   vim -c "set syn=r"

as the start command.
Any ideas?

I am using R 1.5.1 under Win 2000.

Thanks in advance!
--
Ulf Martin
ulf.martin at gmx.net

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.connolly at hortresearch.co.nz  Mon Aug 12 04:33:47 2002
From: p.connolly at hortresearch.co.nz (Patrick Connolly)
Date: Mon, 12 Aug 2002 14:33:47 +1200
Subject: [R] Level sets of factors are different (panel.superpose)
Message-ID: <20020812023347.GA199@hortresearch.co.nz>

I investigated why I was getting this error message...

Error in Ops.factor(groups[subscripts], vals[1]) : 
	Level sets of factors are different

which led me to putting a browser in panel.superpose:

Called from: panel.superpose(x, y, subscripts, ...)
Browse[1]> vals
vals
[1] 1 2 3
Levels:  1 2 3 
Browse[1]> groups[subscripts]
groups[subscripts]
 [1] 1 2 3 1 2 1 2 3 1 2 3 1 2 3
Levels:  1 2 3 

this is the line that would fall over (in a for loop)
Browse[1]> id <- (groups[subscripts] == vals[i])

so I investigated...

Browse[1]> id <- (groups[subscripts] == vals[1])
id <- (groups[subscripts] == vals[1])
Error in Ops.factor(groups[subscripts], vals[1]) : 
	Level sets of factors are different



I've not had this problem before, so I'm guessing that in this case,
it had something to do with the fact that level 3 was missing in the
second instance.

I couldn't see why the logical couldn't work that out so I tried
something that is often necessary with lists in Splus (3.4 anyway).  I
changed the line to

id <- as.vector(groups[subscripts]) == as.vector(vals[i])

and it works (at least it doesn't fall over -- I haven't done a
thorough check to see if it really is working correctly).

Is that what is to be expected?  I can't follow why.

best

-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world`s largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you`ve seen it.  ---Steven Wright 
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Mon Aug 12 05:16:10 2002
From: faheem at email.unc.edu (Faheem Mitha)
Date: Sun, 11 Aug 2002 23:16:10 -0400 (EDT)
Subject: [R] help with pseudo-random numbers
Message-ID: <Pine.LNX.4.44.0208112109470.835-100000@Chrestomanci>


Dear People,

I have a vexing problem related to pseudo-random number generation, and
would appreciate any help and advice. This problem is not directly related
to R, and the only reason I am posting it to this list is that my
implementation is using R. Let me describe my problem by giving an
example, that is close to what I am trying to do.

Suppose we are given a stream of pseudo-random numbers, U_1, U_2...
intended to simulate a sequence of iid rvs from Unif[0,1], and a
probability distribution (specified as a pdf f or cdf F), and are required
to obtain a sequence of rvs X_1, X_2... such that X_i is a deterministic
function of U_i.  Let us further suppose that F^{-1} is difficult to
calculate, so one does not simply do X_i = F^{-1}(U_i).

Now, a possible alternative would be use U_i to set a random seed for a
sequence of pseudo-random numbers, V_{i1}, V_{i2},... Then we can use this
V_{ij} stream for every i to simulate F using the basic rejection method.
(Here we further assume that there is some available pdf g we can simulate
from such that f <= Mg for some const M).

So we have a picture that looks like

U_1 (random number seed for): V_{1,1} V_{1,2} V_{1,3}...
U_2 (random number seed for): V_{2,1} V_{2,2} V_{2,3}...
...

However, this causes a difficulty, which is that the sequences V_{ij} for
different i will (probably) not be independent. As far as I known,
pseudo-random numbers are not meant to be used in this fashion. However,
assuming we're stuck with this situation, the question is how to mitigate
this problem so that it becomes less severe. Two possibilities come to my
mind.

1) Use two different random number generators to generate the U's and
generate the V's. If no other measures are taken, then using the same
random number generator for both seems unwise, since then (for example)
V_{1,1} and U_2 would be the same.

2) Discard part of the V stream for each i. Ie. for each i, we discard
V_{i,1}, V_{i,2},... V_{i,N} for some fixed N, and only use the numbers
from V_{i,N+1} onwards. This measure might lessen the risk of correlation,
though I don't know enough to say whether this would actually be
effective.

Now, I'd appreciate comments, even comments telling me how misguided my
attempts are. :-) However, I would particularly appreciate comments about
1) and 2), and if you think they are reasonable, tell me

1') What two random number generators should I use? I believe the R
default is "Marsaglia-Multicarry".

2') What should I take N to be? Clearly, I'd like to make it as small as
possible.

Any other suggestions you think would be better would also be gratefully
received.

Now, I have another question relating to how I could actually implement
the above scenario. The context in which I am working is mixed R/C++ code,
using compiled C++ code loaded into R as a shared library. Let us suppose
I am calling a C++ function main() from R. Now, when I call unif_rand() in
the C++ code, I assume I am using the random seed that was passed down
somehow from R. (I'd like to know how this is done if anyone can tell me).
Repeated calls to unif_rand() presumably correspond therefore to the U_i
above. Now, I'd like suggestions for the cleanest/easiest way to switch to
generating the sequence V_{ij} after setting the seed as U_i and then
continue generating the U's when I have done generating a sequence of
V_{ij}. There does not seem to be any very automatic way of handling such
a setup using already existing mechanisms.

Thanks in advance for any reply.

                                   Best regards, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Mon Aug 12 06:29:00 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Mon, 12 Aug 2002 16:29:00 +1200 (NZST)
Subject: [R] Display table as percentage
Message-ID: <Pine.SOL.4.21.0208121627310.12879-100000@stat1.stat.auckland.ac.nz>

Hi,

Suppose I have something like:
> table(x, y)
   y
x  1   2  3  4
1 21  55 60 50
2 51 121 83 90
3  1   1  1  0
4  1   1 10 11
5  3   5 16  5
6 14  18 14  1
7  0   2  4  2
8  1   5  5  1
9 19  35 26 17


Is there an easy way to display the table as percentage, instead of the
actual frequencies?

Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
Homepage: http://www.stat.auckland.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.connolly at hortresearch.co.nz  Mon Aug 12 07:04:09 2002
From: p.connolly at hortresearch.co.nz (Patrick Connolly)
Date: Mon, 12 Aug 2002 17:04:09 +1200
Subject: [R] Level sets of factors are different (panel.superpose)
In-Reply-To: <20020812023347.GA199@hortresearch.co.nz>
References: <20020812023347.GA199@hortresearch.co.nz>
Message-ID: <20020812050409.GA803@hortresearch.co.nz>

On Mon, 12-Aug-2002 at 02:33PM +1200, Patrick Connolly wrote:

|> I investigated why I was getting this error message...
|> 
|> Error in Ops.factor(groups[subscripts], vals[1]) : 
|> 	Level sets of factors are different

Since then, I've restarted that R session and the "problem" has
vanished.  Seems to be a memory leak of some type happens if a session
is left open for a couple of weeks.

best

-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world`s largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you`ve seen it.  ---Steven Wright 
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From m.mader at gsf.de  Sun Aug 11 15:59:46 2002
From: m.mader at gsf.de (Michael Mader)
Date: Sun, 11 Aug 2002 15:59:46 +0200
Subject: [R] Imputation?
References: <Pine.SOL.4.21.0208101407470.7552-100000@stat1.stat.auckland.ac.nz>
Message-ID: <3D566DD2.B68EB4F4@gsf.de>

Ko-Kang Kevin Wang wrote:

> Is there a package in R which can handle various kind of imputation

library(Hmisc)
e.g. ?transcan

-- 
Michael T. Mader
Institute for Bioinformatics/MIPS, GSF
0049-89-3187-3576


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Naime.Taibaly at wanadoo.fr  Mon Aug 12 10:37:36 2002
From: Naime.Taibaly at wanadoo.fr (Na=?iso-8859-1?Q?=EFme TAIBALY?=)
Date: Mon, 12 Aug 2002 10:37:36 +0200 (MET DST)
Subject: [R] Beginer
Message-ID: <3D49FF140037F306@mel-rta7.wanadoo.fr> (added by postmaster@wanadoo.fr)

Hi!

I just installed R on my computer, and I don't manage to run the function acf (autocovariance and autocorrelation function). It says me that this function is unknown. However, the standard functions like cos or read.table are OK. Can someone help me please?
Thanks a lot.
Naime

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 12 09:45:52 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 12 Aug 2002 08:45:52 +0100 (BST)
Subject: [R] Beginer
In-Reply-To: <3D49FF140037F306@mel-rta7.wanadoo.fr> (added by postmaster@wanadoo.fr)
Message-ID: <Pine.LNX.4.31.0208120844120.23404-100000@gannet.stats>

You have omitted

library(ts)

Running

help.search("acf")

would have told you where it is, although I wonder how you knew there was
a function acf() without knowing about package ts.

On Mon, 12 Aug 2002, Na=?iso-8859-1?Q?=EFme TAIBALY?= wrote:

> Hi!
>
> I just installed R on my computer, and I don't manage to run the function acf (autocovariance and autocorrelation function). It says me that this function is unknown. However, the standard functions like cos or read.table are OK. Can someone help me please?
> Thanks a lot.
> Naime

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Mon Aug 12 10:09:15 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Mon, 12 Aug 2002 20:09:15 +1200 (NZST)
Subject: R: [R] Display table as percentage
In-Reply-To: <EE31CB6EF5AA0F4EAF82892224244350020918@cmonti2.ausl.org>
Message-ID: <Pine.SOL.4.21.0208122008571.22318-100000@stat1.stat.auckland.ac.nz>

Thanks a lot!

prop.table is exactly what I want.

On Mon, 12 Aug 2002, Guazzetti Stefano wrote:

> Date: Mon, 12 Aug 2002 08:51:14 +0200
> From: Guazzetti Stefano <Stefano.Guazzetti at ausl.re.it>
> To: Ko-Kang Kevin Wang <kwan022 at stat.auckland.ac.nz>
> Subject: R: [R] Display table as percentage
> 
> Could  prop.table be the function that you are looking for?
> Stefano
> > -----Messaggio originale-----
> > Da: Ko-Kang Kevin Wang [mailto:kwan022 at stat.auckland.ac.nz]
> > Inviato: luned 12 agosto 2002 6.29
> > A: R Help
> > Oggetto: [R] Display table as percentage
> > 
> > 
> > Hi,
> > 
> > Suppose I have something like:
> > > table(x, y)
> >    y
> > x  1   2  3  4
> > 1 21  55 60 50
> > 2 51 121 83 90
> > 3  1   1  1  0
> > 4  1   1 10 11
> > 5  3   5 16  5
> > 6 14  18 14  1
> > 7  0   2  4  2
> > 8  1   5  5  1
> > 9 19  35 26 17
> > 
> > 
> > Is there an easy way to display the table as percentage, 
> > instead of the
> > actual frequencies?
> > 
> > Cheers,
> > 
> > Kevin
> > 
> > --------------------------------------------------------------
> > ----------------
> > Ko-Kang Kevin Wang
> > Postgraduate PGDipSci Student
> > Department of Statistics
> > University of Auckland
> > New Zealand
> > Homepage: http://www.stat.auckland.ac.nz/~kwan022
> > 
> > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read 
> > http://www.ci.tuwien.ac.at/~hornik/R/R-> FAQ.html
> > Send "info", 
> > "help", or "[un]subscribe"
> > (in the 
> > "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._._._
> > 
> 

Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
Homepage: http://www.stat.auckland.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Aug 12 10:19:06 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 12 Aug 2002 10:19:06 +0200
Subject: [R] fractals
In-Reply-To: <200208101628.LAA24288@uhddx01.dt.uh.edu>
References: <200208101628.LAA24288@uhddx01.dt.uh.edu>
Message-ID: <15703.28538.190890.412778@gargle.gargle.HOWL>

>>>>> "Erin" == Erin Hodgess <hodgess at uhddx01.dt.uh.edu>
>>>>>     on Sat, 10 Aug 2002 11:28:52 -0500 (CDT) writes:

    Erin> Dear R People:
    Erin> Does anyone have any code for Fractals, chaos,
    Erin> or anything like that, please?

    Erin> This is strictly for demo purposes...decorative only.

On a vacation evening, I've produced quite nice Mandelbrot
sets (+ coloring schemes) -- all in R -- just to see if it was
fast enough without C nor special bitmap displays.  

I had been pleasantly surprised how fast and beatiful the
results were. Feedback (to me privately) is welcome.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Mandelbrot.R
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20020812/6e0bbe7f/Mandelbrot.pl

From maechler at stat.math.ethz.ch  Mon Aug 12 10:33:23 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 12 Aug 2002 10:33:23 +0200
Subject: [R] GLM Contingency table regressions
In-Reply-To: <001201c240a0$89607420$345c5242@p800>
References: <001201c240a0$89607420$345c5242@p800>
Message-ID: <15703.29395.194946.482401@gargle.gargle.HOWL>

>>>>> "PaulMJ" == Paul M Jacobson <pmj at jciconsult.com>
>>>>>     on Sat, 10 Aug 2002 15:02:55 -0400 writes:

    PaulMJ> I have a contingency table with a 0/1 variable (fwr)
    PaulMJ> that flags a particular condition, a weight variable
    PaulMJ> (cnt) and other variables (e.g. zz) characterizing
    PaulMJ> that observation of the table.  I am trying to use
    PaulMJ> GLM. By converting the variables to factors and
    PaulMJ> running the following regression:

    PaulMJ> fwr1<-factor(fwr)
    PaulMJ> zz1<-factor(zz1)
    PaulMJ> res1<-glm(fwr1 ~ zz1,weights=cnt)

(spaces around "<-" would improve readibility}

    PaulMJ> Is that appropriate?

not quite.
Assuming that you really want to predict (a function of) the
probability   P[ fwr = 1 | zz1 ]
you need at least to add

	 family = binomial

to your glm() arguments.
The thing you did above was least-squares regression with a 0/1 variable
which is probably not what you wanted.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 12 10:57:15 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 12 Aug 2002 09:57:15 +0100 (BST)
Subject: [R] comand line options with editor call
In-Reply-To: <3D56C114.8000301@qdsl.de>
Message-ID: <Pine.LNX.4.31.0208120953090.23466-100000@gannet.stats>

On Sun, 11 Aug 2002, Ulf Martin wrote:

> Is there a way to call the editor with command line options?
> I.e. I want to use Vim and set it automatically in R mode when it is
> started.
> This requires something like
>
>    vim -c "set syn=r"
>
> as the start command.
> Any ideas?
>
> I am using R 1.5.1 under Win 2000.

Not possible on Windows.  The nub of the problem is that commands can
contain spaces, so there is no way to parse something like that.

options(editor='vim -c "set syn=r"')
does work on Linux, which assumes file paths do not contain spaces (even
though they can do so).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramasamy at stats.ox.ac.uk  Mon Aug 12 11:27:26 2002
From: ramasamy at stats.ox.ac.uk (Adaikalavan Ramasamy)
Date: Mon, 12 Aug 2002 10:27:26 +0100
Subject: [R] Attaching marginal summary plots to the main matrix plot
References: <Pine.LNX.4.31.0208120844120.23404-100000@gannet.stats>
Message-ID: <00e401c241e2$78d2f220$a71401a3@stats.ox.ac.uk>

Dear helplist, I am trying to visualise a datamatrix together with its
marginal densities.
Suppose dat <- matrix( rnorm(1000), nrow=25 )

 I can the main visual plot using image, levelplot etc. But how do I attach
the plots for rows sums and column sums to the top/bottom and right hand
side of the original plot ?

 The only way I can think of is by using par(mfrow=c(2,2)) command but the
result is not desirable. Is there are useful command(or website advising
how) to do this ? If succesful I am thinking of affixing the boxplots by row
and columns as well. I have gone through the lattice help but am still
confused. Thank you.

-Adai
PS: I am resending this as I haven't received a reply.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Mon Aug 12 00:27:37 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Mon, 12 Aug 2002 10:27:37 +1200
Subject: [R] Display table as percentage
In-Reply-To: <Pine.SOL.4.21.0208121627310.12879-100000@stat1.stat.auckland.ac.nz>; from kwan022@stat.auckland.ac.nz on Mon, Aug 12, 2002 at 04:29:00PM +1200
References: <Pine.SOL.4.21.0208121627310.12879-100000@stat1.stat.auckland.ac.nz>
Message-ID: <20020812102737.A15707@camille.indigoindustrial.co.nz>

On Mon, Aug 12, 2002 at 04:29:00PM +1200, Ko-Kang Kevin Wang wrote:
> Is there an easy way to display the table as percentage, instead of the
> actual frequencies?

prop.table()

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sholl at gmx.net  Mon Aug 12 10:41:21 2002
From: sholl at gmx.net (Stephan Holl)
Date: Mon, 12 Aug 2002 10:41:21 +0200
Subject: [R] using dbWriteTable() fails
Message-ID: <20020812104121.667e9993.sholl@gmx.net>

Dear R-List,
I try to use the function dbWriteTable()  from library(Rdbi.PgSQL) in
order to write my dataframe to a postgres-db.
The following command does not work.
> dbWriteTable(connect, blah, name=deparse(substitute(blah)),
> no.clobber=T)
Error in dbAppendTable.PgSQL.conn(conn, name, data) :
        Table blah does not exist
it seems, that this command is trying to append the data.frame to an
existing table.
Is there a function, where I can write data.frames to postgres?

BTW, this function erases existing tables with the same error-message as
written above. I guess that this behavior is not correct.
Thank you for your help.
Stephan Holl


-- 
--------------------------------------
Stephan Holl
GnuPG Key-ID: 11946A09
ICQ# 117277975 
--------------------------------------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020812/23b705e7/attachment.bin

From david.meyer at ci.tuwien.ac.at  Mon Aug 12 13:20:24 2002
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Mon, 12 Aug 2002 13:20:24 +0200
Subject: [R] How to concatenate a variable and assign value
References: <20020810142711.TRVQ2648.tomts24-srv.bellnexxia.net@there>
Message-ID: <3D5799F8.BAD55E5D@ci.tuwien.ac.at>

Geoff Wright wrote:
> 
> for(i in c(1,50,100,250)){
> 
>         Then I want to create a variable called:
>         graph++i <- histogram...
> }
> 
> Any ideas?

1) Have a look at ``assign()''
2) You might consider using a list

g.,
-d

> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
         Department of			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hdao at ford.com  Mon Aug 12 15:05:54 2002
From: hdao at ford.com (Dao, Hien-Trinh (H.T.))
Date: Mon, 12 Aug 2002 09:05:54 -0400
Subject: [R] Experimental Design
Message-ID: <B1E07298F659D51189E80002B3152E8902A3A360@na1ecm18.dearborn.ford.com>

Hi everyone,

Does R support DOE (design of experiment) matrix generation? I want to do DOE matrix generation using fractional factorial and central composite but don't know if R has some package for doing them. If yes, then what package or function should I use?
Thank you so much in advance

Hien-Trinh Dao
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From VBMorozov at lbl.gov  Mon Aug 12 15:15:00 2002
From: VBMorozov at lbl.gov (VBMorozov@lbl.gov)
Date: Mon, 12 Aug 2002 09:15:00 -0400
Subject: [R] problems with R setup in UNIX
Message-ID: <e2a6fe2f56.e2f56e2a6f@lbl.gov>

Dear R-guRus:
I have compiled a private (in my home directory) version of R in my 
Unix account, but a lot of commands aren't working in R for me - help 
command doesn't work, library(whatever - MASS, lattice, etc) doesn't 
work (I get a message "there is not Package whatever), and shell 
command doesn't work. 
Does anybody have any ideas on what might be missing in my R setup??

Thank you very much,
Vladimir.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Mon Aug 12 15:41:11 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Mon, 12 Aug 2002 08:41:11 -0500
Subject: [R] Attaching marginal summary plots to the main matrix plot
In-Reply-To: <008a01c2403b$a121a4e0$461401a3@stats.ox.ac.uk>
Message-ID: <001e01c24205$ec6336f0$0201a8c0@MARC>

> Dear helplist, I am trying to visualise a datamatrix together with its
> marginal densities.
> Suppose dat <- matrix( rnorm(1000), nrow=25 )
> 
> I can the main visual plot using image, levelplot etc. But how do I
attach
> the plots for rows sums and column sums to the top/bottom and right
hand
> side of the original plot ?
> 
> The only way I can think of is by using par(mfrow=c(2,2)) command but
the
> result is not desirable. Is there are useful command to do this ? If
> succesful I am thinking of affixing the boxplots by row and columns as
well.
> I have gone through the lattice help but am still confused. Thank you.

If I correctly understand what you are trying to do, the way to do this
would be to use par("fig"), which adjusts the size of the plot region
within the current device.

par(mfrow) and par(mfcol) result in the device being split up into
equally sized plot regions, which does not achieve what I think you
want.

Below is some code as an example.  I am using barplot() for the row and
column sum plots in the example.  This may or may not be how you want
these plotted.

I will leave the fine tuning of the plot types, sizes, axis ranges,
labels, row/column alignments, etc. for you. This should give you a
conceptual feel for how to go about it.

HTH.

Marc

------------------

#define matrix
dat <- matrix(rnorm(1000), nrow = 25)

# save the current parameters 
op <- par(no.readonly = TRUE) 


# open a new plot window 
plot.new() 


# adjust the plot region size for each area
# the LL and UR corners of the default region are (0,0) and (1,1) 
# par("fig") is (x1, x2, y1, y2) 


# first set the region for the larger plot at the bottom 
# note that the dimensions will overlap a bit in each region
par(fig = c(0.0, 0.75, 0.0, 0.75)) 


# now draw the larger plot 
image(dat)


# do not overwrite the current plot 
par(new = TRUE) 


# now set the second region for the small plot at the top 
par(fig = c(0.0, 0.75, .65, 1.0)) 

# plot the colSums
barplot(colSums(dat))


# do not overwrite the current plot 
par(new = TRUE) 


# now set the third region for the small plot to the right 
par(fig = c(0.65, 1.0, 0.0, 0.75)) 

# plot the rowSums
barplot(rowSums(dat), horiz = TRUE)


# restore the original parameters 
par(op) 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From matthew_wiener at merck.com  Mon Aug 12 16:10:46 2002
From: matthew_wiener at merck.com (Wiener, Matthew)
Date: Mon, 12 Aug 2002 10:10:46 -0400
Subject: [R] Attaching marginal summary plots to the main matrix
 plot
Message-ID: <7C4F091F6140D411A29300508B5C73B908A2BD33@usrymx04.merck.com>

Take a look at the manual page for "layout".  The final example does pretty
much what you're asking about (with a scatterplot and histograms, but the
idea should be the same).

Hope this helps,

Matthew Wiener
Applied Computer Science & Mathematics Dept.
Merck Research Labs
Rahway, NJ 07090
732-594-5303 

-----Original Message-----
From: Adaikalavan Ramasamy [mailto:ramasamy at stats.ox.ac.uk]
Sent: Monday, August 12, 2002 5:27 AM
To: r-help at stat.math.ethz.ch
Subject: [R] Attaching marginal summary plots to the main matrix plot


Dear helplist, I am trying to visualise a datamatrix together with its
marginal densities.
Suppose dat <- matrix( rnorm(1000), nrow=25 )

 I can the main visual plot using image, levelplot etc. But how do I attach
the plots for rows sums and column sums to the top/bottom and right hand
side of the original plot ?

 The only way I can think of is by using par(mfrow=c(2,2)) command but the
result is not desirable. Is there are useful command(or website advising
how) to do this ? If succesful I am thinking of affixing the boxplots by row
and columns as well. I have gone through the lattice help but am still
confused. Thank you.

-Adai
PS: I am resending this as I haven't received a reply.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at esb.ucp.pt  Mon Aug 12 17:27:46 2002
From: peter at esb.ucp.pt (Peter Ho)
Date: Mon, 12 Aug 2002 16:27:46 +0100
Subject: [R] Experimental Design
References: <B1E07298F659D51189E80002B3152E8902A3A360@na1ecm18.dearborn.ford.com>
Message-ID: <3D57D3F2.4020806@esb.ucp.pt>

Hien-Trinh,

The  package  conf.design " .... contains a series of simple tools for 
constructing and manipulating confounded and fractional factorial designs".
See http://cran.r-project.org/doc/packages/conf.design.pdf

Peter




Dao, Hien-Trinh (H.T.) wrote:

>Hi everyone,
>
>Does R support DOE (design of experiment) matrix generation? I want to do DOE matrix generation using fractional factorial and central composite but don't know if R has some package for doing them. If yes, then what package or function should I use?
>Thank you so much in advance
>
>Hien-Trinh Dao
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
>  
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Alexandra.Patriksson.8520 at student.uu.se  Mon Aug 12 17:55:43 2002
From: Alexandra.Patriksson.8520 at student.uu.se (Alexandra Patriksson)
Date: Mon, 12 Aug 2002 17:55:43 +0200 (CEST)
Subject: [R] programming in R
Message-ID: <1029167743.3d57da7f55fe4@cuculus.its.uu.se>

I have a probably basic problem concerning the R language.
I will write some small R programs but don't really know how to start. Do I have
to create my files in some editor like emacs or can I write my code in the R
prompt? How to compile the code?

I haven't found any good manual parts about this subject.

regards
A.P
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Mon Aug 12 18:16:47 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Mon, 12 Aug 2002 12:16:47 -0400
Subject: [R] package for saving large datasets in ASCII
In-Reply-To: <104277321@toto.iv>
Message-ID: <15703.57199.657167.997754@gargle.gargle.HOWL>

Ott,

I think "save.table" is a great idea!  I have a couple minor suggestions:

1) Personally my defaults would be sep="\t", na="NA", and col.names=(!append),
   that is, do not repeat column names if you're appending to an existing file
   (which presumably already has them at the top).

2) An option "digits" would be great, allowing you to specify the maximum
   digits after the decimal place.  "digits" might be a single number (applies
   to all numeric fields), a vector (length = number of columns in x), or a
   list (whose names corresponded to the names of x you wanted to influence).
   The C code would simply round numbers to that many places; see
   src/nmath/fround.c for code that already does this.

3) I happen to like lists that are not officially dataframes; I'm glad to see
   that save.table works just fine on these (you really test for "list", not
   "dataframe").

I'd be willing to work on #2 with you if you'd like.
-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Mon Aug 12 18:34:47 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Mon, 12 Aug 2002 12:34:47 -0400
Subject: [R] programming in R
In-Reply-To: <1029167743.3d57da7f55fe4@cuculus.its.uu.se>; from Alexandra.Patriksson.8520@student.uu.se on Mon, Aug 12, 2002 at 05:55:43PM +0200
References: <1029167743.3d57da7f55fe4@cuculus.its.uu.se>
Message-ID: <20020812123447.C23308@cattell.psych.upenn.edu>

On 08/12/02 17:55, Alexandra Patriksson wrote:
>I have a probably basic problem concerning the R language.
>I will write some small R programs but don't really know how to start. Do I have
>to create my files in some editor like emacs or can I write my code in the R
>prompt? 

Both.  But if it is more than just a few lines the editor method
is a good idea.  Then you save the file and run it with source(),
e.g., at the R prompt,
>source("myfile.R")

You can also save the code that you write when you quit a
session.  But if you are like me it is 25% stuff I want and 75%
mistakes.

A good technique is to use ESS (Emacs Speaks Statistics), which
allows you to go back and forth between the edited file that you
will save and the R prompt.  You can then easily "cut and paste"
the commands that work.

>How to compile the code?

I don't think you can do this.

>I haven't found any good manual parts about this subject.

You might look at the R for psychology thing in my R page below.
But I also think that this is in the manaul and in many of the
contributed documents in CRAN.

-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page:            http://www.sas.upenn.edu/~baron
R page:               http://finzi.psych.upenn.edu/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Eric.Kort at vai.org  Mon Aug 12 19:39:06 2002
From: Eric.Kort at vai.org (Kort, Eric)
Date: Mon, 12 Aug 2002 13:39:06 -0400
Subject: [R] Select exactly n elements of a vector
Message-ID: <0166955C4F625B4C81E0F436DE443C98093390@VAIEXCH02.vai.org>

In discussing permutation tests, _Modern Applied Statistics With S Plus_ suggests this (IMHO) rather elegant approach to generating a distribution of t-tests:

d<- ...some data...
ttest <- function(x) mean(x)/sqrt(var(x)/length(x))
n<-1000
res<-numeric(n)
for(i in 1:n) res[i] <- ttest(x<-d*sign(runif(10)-0.5)

The problem is that the sign(runif) results in random permutation of the observations into two groups of random size.  For my analysis, however, I want to fix the size of the two groups.  So I wonder if someone can point me toward an elegant way to randomly split a vector into two groups of specified sizes.  Or, similarly, randomly select a specific number of elements from a vector.

Thanks,
Eric
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at perseus.unalmed.edu.co  Mon Aug 12 19:48:40 2002
From: krcabrer at perseus.unalmed.edu.co (Kenneth Cabrera)
Date: Mon, 12 Aug 2002 12:48:40 -0500
Subject: [R] Any introductory R Slides? 
References: <1029167743.3d57da7f55fe4@cuculus.its.uu.se> <20020812123447.C23308@cattell.psych.upenn.edu>
Message-ID: <3D57F4F8.4060700@perseus.unalmed.edu.co>

Can somebody help me with some introductory R slides in ppt?
Thank you for your help.

-- 
Kenneth Roy Cabrera Torres
Unviersidad Nacional de Colombia, Sede Medell?n
Instituto de Ciencias Naturales y Ecolog?a
Escuela de Geociencias
e-mail krcabrer at unalmed.edu.co
Tel +57 (4) 430-9308



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 12 19:49:08 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 12 Aug 2002 18:49:08 +0100 (BST)
Subject: [R] Select exactly n elements of a vector
In-Reply-To: <0166955C4F625B4C81E0F436DE443C98093390@VAIEXCH02.vai.org>
Message-ID: <Pine.LNX.4.31.0208121845520.24323-100000@gannet.stats>

On Mon, 12 Aug 2002, Kort, Eric wrote:

> In discussing permutation tests, _Modern Applied Statistics With S Plus_ suggests this (IMHO) rather elegant approach to generating a distribution of t-tests:
>
> d<- ...some data...
> ttest <- function(x) mean(x)/sqrt(var(x)/length(x))
> n<-1000
> res<-numeric(n)
> for(i in 1:n) res[i] <- ttest(x<-d*sign(runif(10)-0.5)
>
> The problem is that the sign(runif) results in random permutation
of the observations into two groups of random size.  For my analysis,
however, I want to fix the size of the two groups.  So I wonder if
someone can point me toward an elegant way to randomly split a vector
into two groups of specified sizes.  Or, similarly, randomly select
a specific number of elements from a vector.

That's part of sample().  sample(10,4, TRUE) selects 4 elements from 1:10.
(and the negation will extract the other sample).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From upcirichards at yahoo.com  Mon Aug 12 20:36:34 2002
From: upcirichards at yahoo.com (Tom Richards)
Date: Mon, 12 Aug 2002 11:36:34 -0700 (PDT)
Subject: [R] Error 127 and dlltool
Message-ID: <20020812183634.45617.qmail@web13006.mail.yahoo.com>


Hello:

Many thanks to Professor Ripley for responding to my earlier post, included below, about trying to use mingw32 gcc.I did put back the original Rinternals.h. I am still crashing R every time I try to use C code. 



Here is what I did, basd on readme.packages:



1.) Ensured that C:\Rtools was first in my path, and obtained a new tools.zip from BDR's R tools site.



2.) Ensured that I do have Mingw-1.1, whose bin directory is in my path. Here is my path:



C:\rw1051\src\gnuwin32>path

PATH="C:\Rtools\";C:\Perl\bin;"C:\Mingw-1.1\bin";"C:\Rw1051\bin";C:\WINNT\system32;C:\WINNT;"D:\Program Files\Hummingbird\Connectivity\7.00\Accessories\";C:\Mingw-1.1\bin;



3.) Installed ActivePerl 5.6.1.



4.) Set R_HOME to C:\Rw1051



5.) edited MkRules: set only HEADER=C:\mingw-1.1\include



6.) Tried to make make libR.a:



C:\rw1051\src\gnuwin32>make libR.a



dlltool -k --as as --dllname R.dll --def R.exp --output-lib libR.a

make: dlltool: Command not found

make: *** [libR.a] Error 127

Now, dlltool.exe is in mingw-1.1\bin, which is in my path. I 

have no idea why that file is not found!



I tried a google search and found some earlier reports of 

Error 127 and dlltool problems with R, but most seem to 

involve using rcmd INSTALL.



What is my next step here? Have i missed something obvious  in readme.packages? Thanks in advance...



Tom Richards



> -----Original Message-----

> From: ripley at stats.ox.ac.uk [mailto:ripley at stats.ox.ac.uk]

> Sent: Saturday, August 10, 2002 2:57 PM

> To: Richards, Tom

> Cc: r-help at stat.math.ethz.ch

> Subject: Re: [R] R and gcc, yet again

> 

> 

> On Sat, 10 Aug 2002, Richards, Tom wrote:

> 

> > Hello:

> >

> > I have not compiled C code for R since around version 

> 1.1.0, and i see that

> > I am really missing something here. I am using widoes and 

> mingw32 port of

> > gcc. Now, as usual I have gone into Rinternals.h and 

> physically changed all

> > declarations of functions returning SEXP's to

> >

> > __declspec(dllimport) SEXP

> >

> > but I still am getting repeated crashes of R. Do any 

> windows users know

> > what I am forgetting to do here? Thanks in advance.

> 

> Not leaving things alone? There is no need to change the 

> header files if

> you follow exactly the documented procedures.

> 

> -- 

> Brian D. Ripley, ripley at stats.ox.ac.uk

> Professor of Applied Statistics, http://www.stats.ox.ac.uk/~ripley/

> University of Oxford, Tel: +44 1865 272861 (self)

> 1 South Parks Road, +44 1865 272860 (secr)

> Oxford OX1 3TG, UK Fax: +44 1865 272595

> 

> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.

> -.-.-.-.-.-.-.-.-

> r-help mailing list -- Read 

> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html

> Send "info", "help", or "[un]subscribe"

> (in the "body", not the subject !) To: 

> r-help-request at stat.math.ethz.ch

> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.

> _._._._._._._._._

> 



---------------------------------

HotJobs, a Yahoo! service - Search Thousands of New Jobs
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020812/5fe488e5/attachment.html

From Eric.Kort at vai.org  Mon Aug 12 20:38:56 2002
From: Eric.Kort at vai.org (Kort, Eric)
Date: Mon, 12 Aug 2002 14:38:56 -0400
Subject: [R] programming in R
Message-ID: <0166955C4F625B4C81E0F436DE443C980104C9@VAIEXCH02.vai.org>

> -----Original Message-----
> From: Alexandra Patriksson
> [mailto:Alexandra.Patriksson.8520 at student.uu.se]
> Sent: Monday, August 12, 2002 11:56 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] programming in R
> 
> 
> I have a probably basic problem concerning the R language.
> I will write some small R programs but don't really know how 
> to start. Do I have
> to create my files in some editor like emacs or can I write 
> my code in the R
> prompt? How to compile the code?
> 
> I haven't found any good manual parts about this subject.
> 
> regards
> A.P

You can write your code at the R prompt to test things out, but when you are ready to write up procedures or functions that you will want to repeat or otherwise document for future reference, you will want to write it up with an editor such as emacs.  I usually create a folder for each of my projects, and keep my data files and saved code in that folder (for example, I might have a folder called "c:/research/microarray" and a file called "c:/research/microarray/microarray.r" to hold the relevant code for that project.) 

R is an "interpretted" language, not a compiled language, so you don't need to compile it.  Just type your code into a file (e.g. "yourfile"), and then type:

source("yourfile")

at the R prompt.  (Also, R has a batch mode...but that is another topic).

Have you gone through the introductory session described starting on page 10 of the "Introduction to R" manual?  (http://cran.r-project.org/doc/manuals/R-intro.pdf)

hth,
Eric
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ngayee.Law at celeradiagnostics.com  Mon Aug 12 21:08:41 2002
From: Ngayee.Law at celeradiagnostics.com (Ngayee J Law)
Date: Mon, 12 Aug 2002 12:08:41 -0700
Subject: [R] Multiple Comparisons
Message-ID: <OF0BD74F6C.661E9084-ON88256C13.0069095E@pe-c.com>

Hello,

Could anyone point me to some packages in R that are doing
multiple comparisons corrections (eg. FWER, FDR control, etc.)?

Thanks a lot!
Jacqueline




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Mon Aug 12 09:07:21 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Mon, 12 Aug 2002 19:07:21 +1200
Subject: [R] programming in R
In-Reply-To: <1029167743.3d57da7f55fe4@cuculus.its.uu.se>; from Alexandra.Patriksson.8520@student.uu.se on Mon, Aug 12, 2002 at 05:55:43PM +0200
References: <1029167743.3d57da7f55fe4@cuculus.its.uu.se>
Message-ID: <20020812190721.A15793@camille.indigoindustrial.co.nz>

On Mon, Aug 12, 2002 at 05:55:43PM +0200, Alexandra Patriksson wrote:
...
> Do I have
> to create my files in some editor like emacs 

No, but it's easier once your commands get complicated.  Check out the R-WinEdt
if you're on Windows, too.  If you're familiar with emacs, life get a lot easier
with ESS and R.

> or can I write my code in the R
> prompt? 

Sure, for trying things out.  If you want to save what you did, help(savehistory)
will tell you how.

> How to compile the code?

You don't.  R is an interpreted language.  Compilation happens by running
the code through R.

The typical way most people start is with the source() command.  help(source)
will tell you what you need to know.

> I haven't found any good manual parts about this subject.

You need find the directory where R was installed (on Unix and Unix-like
systems, /usr/local/lib/R is the default; under Windows 
c:\Program files\R\rw1051\ is the default for R-1.5.1).  Under this
directory, there is a "doc/manual/" directory, which should contain several
pdf files.  R-intro.pdf, chapter 1, section 10 details how to recall saved functions
from file (created with your favorite editor), and chapter 10 answers the other 
questions that will arise once you start.  It's a very good, readable, comprehensive 
introduction.  

If you want to write packages (custom functions with full documentation, 
possibly with compiled code libraries, etc), the R-exts.pdf document in the
same directory is what you need (start with R-intro.pdf, though).

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jim_Garrett at bd.com  Mon Aug 12 21:31:16 2002
From: Jim_Garrett at bd.com (Jim_Garrett@bd.com)
Date: Mon, 12 Aug 2002 15:31:16 -0400
Subject: [R] set.seed
Message-ID: <OF9D4644AF.B5D72604-ON85256C13.0069FAAE@bd.com>


I'm running into problems with set.seed--maybe I'm misunderstanding
something.

I'm running R 1.5.1 on Windows 2000.

I'm basically trying to capture the random seed so that I can reproduce a
simulation if it's necessary later.  Using set.seed, I can certainly get
reproducible results, but not the results I get on the first pass.  Here's
an example:

# Generate a random number to initialize
> runif(1)
[1] 0.965875
> RNGkind()
[1] "Marsaglia-Multicarry" "Kinderman-Ramage"
>
> # Save random seed
> temp.seed <- .Random.seed
>
> # Proceed to generate random uniforms
> runif(5)
[1] 0.18734034 0.02723140 0.46396251 0.10602243 0.64362777
>
> # try to reproduce this sequence
> set.seed(temp.seed, "default")
> runif(5)
[1] 0.006153224 0.553233950 0.091852441 0.643058504 0.009685173
>
> # just to see, try again
> set.seed(temp.seed, "default")
> runif(5)
[1] 0.006153224 0.553233950 0.091852441 0.643058504 0.009685173

So you can see that I can reproduce the latter sequence, but not the first
sequence.  As a workaround, I guess I can call set.seed prior to generating
the first sequence.  But it puzzles me why capturing the random seed
appears not to be sufficient.  Am I overlooking something?

Thanks for any guidance.

Jim Garrett
Becton Dickinson Diagnostic Systems
Baltimore, Maryland, USA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Mon Aug 12 21:41:00 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Tue, 13 Aug 2002 07:41:00 +1200
Subject: [R] Any introductory R Slides? 
References: <1029167743.3d57da7f55fe4@cuculus.its.uu.se> <20020812123447.C23308@cattell.psych.upenn.edu> <3D57F4F8.4060700@perseus.unalmed.edu.co>
Message-ID: <002f01c24238$30ba1b20$1e2758db@kwan022>

Here is one I created last year.

http://www.stat.auckland.ac.nz/~kwan022/pub/R/R_Intro.ppt

------------------------------------------------
Ko-Kang Kevin Wang
Post Graduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
www.stat.auckand.ac.nz/~kwan022

----- Original Message -----
From: "Kenneth Cabrera" <krcabrer at perseus.unalmed.edu.co>
Cc: <r-help at stat.math.ethz.ch>
Sent: Tuesday, August 13, 2002 5:48 AM
Subject: [R] Any introductory R Slides?


> Can somebody help me with some introductory R slides in ppt?
> Thank you for your help.
>
> --
> Kenneth Roy Cabrera Torres
> Unviersidad Nacional de Colombia, Sede Medell?n
> Instituto de Ciencias Naturales y Ecolog?a
> Escuela de Geociencias
> e-mail krcabrer at unalmed.edu.co
> Tel +57 (4) 430-9308
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richards at toutatis.pci.upmc.edu  Mon Aug 12 21:41:03 2002
From: richards at toutatis.pci.upmc.edu (tom richards)
Date: Mon, 12 Aug 2002 15:41:03 -0400 (EDT)
Subject: [R] Error 127 and dlltool
Message-ID: <Pine.SOL.3.96.1020812153605.6642A-100000@biounix1>

Hello:


My apologies for an earlier post on this topic for which I got one of
those stupid yahoo accounts, our email server having been down for two
days now...

Many thanks to Professor Ripley for responding to my 
earlier post, included below, about trying to use mingw32 gcc.
 
I cannot make libR.a under Windows NT.
 
Here is what I did, basd on readme.packages:
 
 1.)  Ensured that C:\Rtools was first in my path, and 
 obtained a new tools.zip from BDR's R tools site.
 
 2.)  Ensured that I do have Mingw-1.1, whose bin directory is 
 in my path.  Here is my path:
 
 C:\rw1051\src\gnuwin32>path
 PATH="C:\Rtools\";C:\Perl\bin;"C:\Mingw-1.1\bin";"C:\Rw1051\bi
 n";C:\WINNT\system
 32;C:\WINNT;"D:\Program 
 Files\Hummingbird\Connectivity\7.00\Accessories\";C:\Min
 gw-1.1\bin;
 
 3.)  Installed ActivePerl 5.6.1.
 
 4.)  Set R_HOME to C:\Rw1051
 
 5.)  edited MkRules:  set only HEADER=C:\mingw-1.1\include
 
 6.)  Tried to make make libR.a:
 
 C:\rw1051\src\gnuwin32>make libR.a
 
 dlltool -k --as as   --dllname R.dll --def R.exp --output-lib libR.a
 make: dlltool: Command not found
 make: *** [libR.a] Error 127
 Now, dlltool.exe is in mingw-1.1\bin, which is in my path.  I 
 have no idea why that file is not found!
 
 I tried a google search and found some earlier reports of 
 Error 127 and dlltool problems with R, but most seem to 
 involve using rcmd INSTALL.
 
 What is my next step here?  Have i missed something obvious 
 in readme.packages?  Thanks in advance...
 
 Tom Richards
 
 > -----Original Message-----
 > From: ripley at stats.ox.ac.uk [mailto:ripley at stats.ox.ac.uk]
 > Sent: Saturday, August 10, 2002 2:57 PM
 > To: Richards, Tom
 > Cc: r-help at stat.math.ethz.ch
 > Subject: Re: [R] R and gcc, yet again
 > 
 > 
 > On Sat, 10 Aug 2002, Richards, Tom wrote:
 > 
 > > Hello:
 > >
 > > I have not compiled C code for R since around version 
 > 1.1.0, and i see that
 > > I am really missing something here.  I am using widoes and 
 > mingw32 port of
 > > gcc.  Now, as usual I have gone into Rinternals.h and 
 > physically changed all
 > > declarations of functions returning SEXP's to
 > >
 > > __declspec(dllimport) SEXP
 > >
 > > but I still am getting repeated crashes of R.  Do any 
 > windows users know
 > > what I am forgetting to do here?  Thanks in advance.
 > 
 > Not leaving things alone?  There is no need to change the 
 > header files if
 > you follow exactly the documented procedures.
 > 
 > -- 
 > Brian D. Ripley,                  ripley at stats.ox.ac.uk
 > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
 > University of Oxford,             Tel:  +44 1865 272861 (self)
 > 1 South Parks Road,                     +44 1865 272860 (secr)
 > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
 > 
 > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
 > -.-.-.-.-.-.-.-.-
 > r-help mailing list -- Read 
 > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 > Send "info", "help", or "[un]subscribe"
 > (in the "body", not the subject !)  To: 
 > r-help-request at stat.math.ethz.ch
 > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
 > _._._._._._._._._
 > 






:~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~:
: Thomas J. Richards              _/   _/  _/_/_/    _/_/  _/_/_/  :
: Statistician                    _/   _/  _/   _/ _/   _/   _/    :
: Biostatistics Center            _/   _/  _/   _/ _/        _/    :
: U. Pittsburgh Cancer Institute  _/   _/  _/_/_/  _/        _/    :
: 3600 Forbes Ave Suite 400A      _/   _/  _/      _/   _/   _/    :
: Pittsburgh, PA  15213             _/_/   _/        _/_/  _/_/_/  :
: 412-647-6852  fax:  412-647-5687                                 :
 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 12 21:48:54 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 12 Aug 2002 20:48:54 +0100 (BST)
Subject: [R] set.seed
In-Reply-To: <OF9D4644AF.B5D72604-ON85256C13.0069FAAE@bd.com>
Message-ID: <Pine.LNX.4.31.0208122045530.24657-100000@gannet.stats>

You either need to

1) set set.seed before the first run, then set it  again to the first
value.

or

2) save .Random.seed and reset it by

.Random.seed <- temp.seed

Beware that the second approach is not sufficient with the Box-Muller
method.

Your problem is that you have mixed the two approaches.

Hope this helps.


On Mon, 12 Aug 2002 Jim_Garrett at bd.com wrote:

>
> I'm running into problems with set.seed--maybe I'm misunderstanding
> something.
>
> I'm running R 1.5.1 on Windows 2000.
>
> I'm basically trying to capture the random seed so that I can reproduce a
> simulation if it's necessary later.  Using set.seed, I can certainly get
> reproducible results, but not the results I get on the first pass.  Here's
> an example:
>
> # Generate a random number to initialize
> > runif(1)
> [1] 0.965875
> > RNGkind()
> [1] "Marsaglia-Multicarry" "Kinderman-Ramage"
> >
> > # Save random seed
> > temp.seed <- .Random.seed
> >
> > # Proceed to generate random uniforms
> > runif(5)
> [1] 0.18734034 0.02723140 0.46396251 0.10602243 0.64362777
> >
> > # try to reproduce this sequence
> > set.seed(temp.seed, "default")
> > runif(5)
> [1] 0.006153224 0.553233950 0.091852441 0.643058504 0.009685173
> >
> > # just to see, try again
> > set.seed(temp.seed, "default")
> > runif(5)
> [1] 0.006153224 0.553233950 0.091852441 0.643058504 0.009685173
>
> So you can see that I can reproduce the latter sequence, but not the first
> sequence.  As a workaround, I guess I can call set.seed prior to generating
> the first sequence.  But it puzzles me why capturing the random seed
> appears not to be sufficient.  Am I overlooking something?
>
> Thanks for any guidance.
>
> Jim Garrett
> Becton Dickinson Diagnostic Systems
> Baltimore, Maryland, USA
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Wendy.Zhao at fimat.com  Mon Aug 12 22:08:16 2002
From: Wendy.Zhao at fimat.com (Wendy Zhao)
Date: Mon, 12 Aug 2002 15:08:16 -0500
Subject: No subject
Message-ID: <OFE1FC8B06.B72A3B12-ON86256C13.006E8A5D@fimat.com>

does anyone?add ROracle package on UNIX so far,
does anyone know what the requirement for adding ROracle on UNIX, if I have
my ORacle server on separate UNIX server, what I need to run install to
install ROracle package

thanks

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.hankin at auckland.ac.nz  Mon Aug 12 22:31:04 2002
From: r.hankin at auckland.ac.nz (Robin Hankin)
Date: Tue, 13 Aug 2002 08:31:04 +1200
Subject: [R] fractals
In-Reply-To: <200208101628.LAA24288@uhddx01.dt.uh.edu> (message from Erin
	Hodgess on Sat, 10 Aug 2002 11:28:52 -0500 (CDT))
References: <200208101628.LAA24288@uhddx01.dt.uh.edu>
Message-ID: <200208122031.g7CKV4u17157@r.hankin.sems.auckland.ac.nz>

Hi everyone.  

Try:

R>  image(sylvester.matrix(9,pattern=cbind(c(1,0),c(1,1))))

where 

R> sylvester.matrix <- function (n, pattern = rbind(c(1, 1), c(1, -1))) 
{
    n <- as.integer(n)
    stopifnot(n >= 0)
    if (n == 0) {
        return(as.matrix(1))
    }
    else {
        return(kronecker(pattern, sylvester.matrix(n - 1, pattern)))
    }
}


-- 

Robin Hankin, Lecturer,
School of Geography and Environmental Science
Tamaki Campus
Private Bag 92019 Auckland
New Zealand

r.hankin at auckland.ac.nz
tel 0064-9-373-7599 x6820; FAX 0064-9-373-7042

as of: Tue Aug 13 08:29:00 NZST 2002
This (linux) system up continuously for:  348 days, 15 hours, 11 minutes
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andys at neptuneinc.org  Mon Aug 12 22:36:57 2002
From: andys at neptuneinc.org (Andrew Schuh)
Date: Mon, 12 Aug 2002 14:36:57 -0600
Subject: [R] division by zero
Message-ID: <200208121436.57949.andys@neptuneinc.org>

Why does 1/0 return Inf?  Shouldn't this be returning NaN, NA, or something 
similar?
-- 
+++++++++++*******+++++***++*
Andrew Schuh
Environmental Mathematician
Neptune and Co.
(505) 884-8455
andys at neptuneinc.org
+++++++++++*******+++++***++*
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rg117 at ohm.york.ac.uk  Mon Aug 12 22:50:04 2002
From: rg117 at ohm.york.ac.uk (Rishabh Gupta)
Date: Mon, 12 Aug 2002 21:50:04 +0100
Subject: [R] question about cloud() in lattice package
Message-ID: <001801c24241$d5a89d60$35892090@ohm.york.ac.uk>

Hi all,
I have been previously been using scatterplot3d package to create some graphs but unfortunately it does not allow me to rotate the
plot on all three axis. The cloud() function in the lattice package does allow me to do so. When I was using scatterplot3d I was
using a script (Shown Below) to calculate the mean, quartiles and range limits for all three axis and I was representing that on the
plot (like a 3d version of the boxplot() function). I was just wondering whether there is any way of representing such information
with the cloud() function. Is there a way I can draw lines along each axis on the plot.
Any help would be greatly appreciated.

Many Thanks

Rishabh



THE SCRIPT:

s3d <- scatterplot3d(x, y, z, type="n", xlab="x", ylab="y", zlab="z")
for (g in unique(G))
{
    bxp.stx <- boxplot.stats(x[G==levels(G)[g]])
    bxp.sty <- boxplot.stats(y[G==levels(G)[g]])
    bxp.stz <- boxplot.stats(z[G==levels(G)[g]])

    lines(s3d$xyz.convert(bxp.stx$stats[c(3, 3)], bxp.sty$stats[c(3, 3)], bxp.stz$stats[c(1, 5)]))
    lines(s3d$xyz.convert(bxp.stx$stats[c(3, 3)], bxp.sty$stats[c(1, 5)], bxp.stz$stats[c(3, 3)]))
    lines(s3d$xyz.convert(bxp.stx$stats[c(1, 5)], bxp.sty$stats[c(3, 3)], bxp.stz$stats[c(3, 3)]))

    lines(s3d$xyz.convert(bxp.stx$stats[c(3, 3)], bxp.sty$stats[c(3, 3)], bxp.stz$stats[c(2, 4)]), lwd = 3)
    lines(s3d$xyz.convert(bxp.stx$stats[c(3, 3)], bxp.sty$stats[c(2, 4)], bxp.stz$stats[c(3, 3)]), lwd = 3)
    lines(s3d$xyz.convert(bxp.stx$stats[c(2, 4)], bxp.sty$stats[c(3, 3)], bxp.stz$stats[c(3, 3)]), lwd = 3)

    s3d$points3d(bxp.stx$stats[3], bxp.sty$stats[3], bxp.stz$stats[3], pch = 18, col = "red")
}


Where,
    x, y, z are the list of values along each axis
    G is the Group variable

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Mon Aug 12 23:36:06 2002
From: faheem at email.unc.edu (Faheem Mitha)
Date: Mon, 12 Aug 2002 17:36:06 -0400 (EDT)
Subject: [R] printing from latex help files in R
Message-ID: <Pine.LNX.4.44.0208121710140.835-100000@Chrestomanci>


Dear People,

I would like to print out some of the R help pages pertaining to various
topics. These are available on my system as html files. However they also
appear to be available as latex files in (for example) the R source tree
in the subdirectory library/base/latex. What I am wondering is if it is
possible to convert these latex files into postscript using dvips as is
usually done. The latex files don't appear to be standalone (missing
\begin{document} etc and also seem to have some special macros, so if this
can be done at all, it presumably would have to use some special command.
I looked around for information about this but could not find it. I would
greatly appreciate any information about this.

                                          Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Tue Aug 13 01:20:48 2002
From: jfox at mcmaster.ca (John Fox)
Date: Mon, 12 Aug 2002 19:20:48 -0400
Subject: [R] ANOVA type III sum of squares?
In-Reply-To: <F85PMLHclKblofZde4M0000bcc2@hotmail.com>
Message-ID: <5.1.0.14.2.20020812191714.01d7c790@mcmail.cis.mcmaster.ca>

Dear Francois,

As Brian Ripley and Kjetil Halvorsen have pointed out, the Anova function 
in the car package will compute Type III (and, incidentally, Type II) tests 
(for both linear and generalized linear models). If you decide that you 
want Type III tests, however, be careful with the contrast coding. In 
particular, for models with interactions, the default "treatment" coding in 
R will give meaningless results.

John

At 01:41 PM 8/9/2002 +0000, francois klam wrote:
>Hello,
>I'm a neurophysiologist, and actually quite new to R. In fact, to analyse 
>the responses of my neurons, I would like to have R doing an 
>non-orthogonal ANOVA with a type III sum of squares.
>Could anybody help me?
>Thank you a lot in advance.
>Francois

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Tue Aug 13 02:23:25 2002
From: jfox at mcmaster.ca (John Fox)
Date: Mon, 12 Aug 2002 20:23:25 -0400
Subject: [R] Ordinal categorical data with GLM
In-Reply-To: <002401c240f0$075b5530$0f7e92cb@andrewvhowclyz>
Message-ID: <5.1.0.14.2.20020812201122.01d8b8e0@mcmail.cis.mcmaster.ca>

Dear Andrew,

I don't believe that this question has been answered yet.

It's simple to fit the linear-by-linear association (uniform association) 
model, since it is essentially a Poisson regression of the cell counts on 
factors for the rows and columns plus the products of the row and column 
indices.

Adapting your code:

     > df <- data.frame(Freq, X = factor(X), Y = factor(Y), x=X, y=Y)
     > summary(glm(Freq ~ X + Y + I(x*y), data = df, family = poisson))

     Call:
     glm(formula = Freq ~ X + Y + I(x * y), family = poisson, data = df)

     Deviance Residuals:
         Min         1Q     Median         3Q        Max
     -1.034350  -0.175387   0.005087   0.270322   0.579845

     Coefficients:
                 Estimate Std. Error z value Pr(>|z|)
     (Intercept)  3.47292    0.10251  33.878  < 2e-16
     X1           0.29493    0.13241   2.227  0.02592
     X2           0.39634    0.06927   5.722 1.06e-08
     X3          -0.05812    0.06840  -0.850  0.39549
     Y1          -0.80530    0.11878  -6.780 1.21e-11
     Y2          -0.38583    0.08538  -4.519 6.21e-06
     Y3           0.54864    0.06200   8.849  < 2e-16
     I(x * y)     0.11194    0.03641   3.075  0.00211

     (Dispersion parameter for poisson family taken to be 1)

         Null deviance: 445.7627  on 15  degrees of freedom
     Residual deviance:   2.3859  on  8  degrees of freedom
     AIC: 107.42

     Number of Fisher Scoring iterations: 3

     > round(data.3 - t(matrix(residuals(mod, type='response'),4,4)),1)
                 Satisfaction
     Income          Very dissatisfied Little dissatisfied Moderately 
satisfied Very satisfied
     < 
6,000                    19.3                29.4                 74.9 
      82.3
     6,000-15,000               21.4                36.4 
103.7          127.4
     15,000-25,000              13.6                25.9 
82.4          113.2
     > 
25,000                    7.6                16.3                 58.0 
      89.1


which is the result given in Agesti.

I hope that this helps,
  John

At 11:31 AM 8/11/2002 +0700, Andrew Criswell wrote:
>Hello All:
>
>I am looking for you help.
>
>I am trying to replicate the results of an example found in Alan Agresti's
>"Categorical Data Analysis" on pages 267-269. The example is one of a 2 x 2
>cross-classification table of ordinal counts: job satisfaction and income.
>
>I am able to get Agresti's results for the independence model (G^2 = 12.03
>with df = 9) assuming as he does that the data is nominal, but I'm unable to
>derive his model of uniform association (linear-by-linear association, p.
>263-269) for which he gets a value of G^2 = 2.39 with df = 8.
>
>The observed data is represented by table 8.2 on page 268 and as follows:
>
>Freq <- c(20, 24,  80,  82, 22, 38, 104, 125, 13, 28,  81, 113, 7, 18,  54,
>92)
>
>data.3 <- t(matrix(Freq, nrow = 4))
>
>list.3 <- list(Income = c("< 6,000", "6,000-15,000", "15,000-25,000", ">
>25,000"),
>                   Satisfaction = c("Very dissatisfied", "Little
>dissatisfied", "Moderately satisfied", "Very satisfied"))
>
>dimnames(data.3) <- list.3
>
>ftable(data.3)
>
>I am able to obtain Agresti's results for the independence model which
>assumes the data is nominal, not ordinal, using either glm() or loglm().
>
>library(MASS)
>options(contrasts=c("contr.sum", "contr.poly"))
>
>X <- as.integer(gl(4, 4, 16)) - 1
>Y <- as.integer(gl(4, 1, 16)) - 1
>
>data.2 <- data.frame(Freq, X = factor(X), Y = factor(Y))
>
>summary(fm3 <- glm(Freq ~ X + Y, data = data.2, family = poisson()))
>dummy.coef(fm3)
>
>fm4 <- loglm(Freq ~ X + Y, data = data.2, param = T, fit = T)
>fm4;  fm4$param
>
>My question is this: can glm() or some other function be used in the manner
>Agresti employed for ordinal count data?
>
>Thank you,
>ANDREW
>
>Andrew Criswell
>Professor of Finance
>Graduate School
>Bangkok University
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Tue Aug 13 04:56:58 2002
From: faheem at email.unc.edu (Faheem Mitha)
Date: Mon, 12 Aug 2002 22:56:58 -0400 (EDT)
Subject: [R] printing from latex help files in R
In-Reply-To: <20020813014903.GA20205@sonny.eddelbuettel.com>
Message-ID: <Pine.LNX.4.44.0208122250180.835-100000@Chrestomanci>



On Mon, 12 Aug 2002, Dirk Eddelbuettel wrote:

>
> Faheem,
>
> > help(some.topic, offline=TRUE)
>
> should do if you also install r-base-latex under Debian -- as the latex
> files are only useful for offline viewing, and nobody else ever asked :)
> I decided to move them into a seperate package to keep the size on
> r-base-core down.

Thanks. However, I'm now getting a weird problem trying to print the help
file called Random.

help.search("Random")

gives me

Random.user(base)       User-supplied Random Number Generation
Random(base)            Random Number Generation
...

Now I get

> help("Random",offline=TRUE)
Error in help("Random", offline = TRUE) : No documentation for `Random' in
specified packages and libraries:
  you could try `help.search("Random")'

But Random.user works fine with identical syntax. What is wrong?

                                          Best regards, Faheem.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Duncan.Mackay at flinders.edu.au  Tue Aug 13 05:31:08 2002
From: Duncan.Mackay at flinders.edu.au (Duncan Mackay)
Date: Tue, 13 Aug 2002 13:01:08 +0930
Subject: [R] Ordinal categorical data with GLM
In-Reply-To: <5.1.0.14.2.20020812201122.01d8b8e0@mcmail.cis.mcmaster.ca>
Message-ID: <LKEKIOMKIBNKJOPKIKOOCEGACLAA.Duncan.Mackay@flinders.edu.au>

Hello,
you may also be interested in the following link (from Dr. Agresti's home
page) that provides a link to a document containing S-plus scripts for most
of the examples in the 1990 edition of "Categorical Data Analysis" by
Agresti.

http://math.cl.uh.edu/~thompsonla/5537/Splusdiscrete.PDF


Cheers,
Duncan
*******************************************
Dr. Duncan Mackay
Biology
Flinders University
GPO Box 2100
Adelaide
S.A.    5001
AUSTRALIA

Ph (08) 8201 2627    FAX (08) 8201 3015

http://www.bio.flinders.edu.au/dam/damres.htm


-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of John Fox
Sent: Tuesday, 13 August 2002 9:53 AM
To: Andrew Criswell
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] Ordinal categorical data with GLM


Dear Andrew,

I don't believe that this question has been answered yet.

It's simple to fit the linear-by-linear association (uniform association)
model, since it is essentially a Poisson regression of the cell counts on
factors for the rows and columns plus the products of the row and column
indices.

Adapting your code:

     > df <- data.frame(Freq, X = factor(X), Y = factor(Y), x=X, y=Y)
     > summary(glm(Freq ~ X + Y + I(x*y), data = df, family = poisson))

     Call:
     glm(formula = Freq ~ X + Y + I(x * y), family = poisson, data = df)

     Deviance Residuals:
         Min         1Q     Median         3Q        Max
     -1.034350  -0.175387   0.005087   0.270322   0.579845

     Coefficients:
                 Estimate Std. Error z value Pr(>|z|)
     (Intercept)  3.47292    0.10251  33.878  < 2e-16
     X1           0.29493    0.13241   2.227  0.02592
     X2           0.39634    0.06927   5.722 1.06e-08
     X3          -0.05812    0.06840  -0.850  0.39549
     Y1          -0.80530    0.11878  -6.780 1.21e-11
     Y2          -0.38583    0.08538  -4.519 6.21e-06
     Y3           0.54864    0.06200   8.849  < 2e-16
     I(x * y)     0.11194    0.03641   3.075  0.00211

     (Dispersion parameter for poisson family taken to be 1)

         Null deviance: 445.7627  on 15  degrees of freedom
     Residual deviance:   2.3859  on  8  degrees of freedom
     AIC: 107.42

     Number of Fisher Scoring iterations: 3

     > round(data.3 - t(matrix(residuals(mod, type='response'),4,4)),1)
                 Satisfaction
     Income          Very dissatisfied Little dissatisfied Moderately
satisfied Very satisfied
     <
6,000                    19.3                29.4                 74.9
      82.3
     6,000-15,000               21.4                36.4
103.7          127.4
     15,000-25,000              13.6                25.9
82.4          113.2
     >
25,000                    7.6                16.3                 58.0
      89.1


which is the result given in Agesti.

I hope that this helps,
  John

At 11:31 AM 8/11/2002 +0700, Andrew Criswell wrote:
>Hello All:
>
>I am looking for you help.
>
>I am trying to replicate the results of an example found in Alan Agresti's
>"Categorical Data Analysis" on pages 267-269. The example is one of a 2 x 2
>cross-classification table of ordinal counts: job satisfaction and income.
>
>I am able to get Agresti's results for the independence model (G^2 = 12.03
>with df = 9) assuming as he does that the data is nominal, but I'm unable
to
>derive his model of uniform association (linear-by-linear association, p.
>263-269) for which he gets a value of G^2 = 2.39 with df = 8.
>
>The observed data is represented by table 8.2 on page 268 and as follows:
>
>Freq <- c(20, 24,  80,  82, 22, 38, 104, 125, 13, 28,  81, 113, 7, 18,  54,
>92)
>
>data.3 <- t(matrix(Freq, nrow = 4))
>
>list.3 <- list(Income = c("< 6,000", "6,000-15,000", "15,000-25,000", ">
>25,000"),
>                   Satisfaction = c("Very dissatisfied", "Little
>dissatisfied", "Moderately satisfied", "Very satisfied"))
>
>dimnames(data.3) <- list.3
>
>ftable(data.3)
>
>I am able to obtain Agresti's results for the independence model which
>assumes the data is nominal, not ordinal, using either glm() or loglm().
>
>library(MASS)
>options(contrasts=c("contr.sum", "contr.poly"))
>
>X <- as.integer(gl(4, 4, 16)) - 1
>Y <- as.integer(gl(4, 1, 16)) - 1
>
>data.2 <- data.frame(Freq, X = factor(X), Y = factor(Y))
>
>summary(fm3 <- glm(Freq ~ X + Y, data = data.2, family = poisson()))
>dummy.coef(fm3)
>
>fm4 <- loglm(Freq ~ X + Y, data = data.2, param = T, fit = T)
>fm4;  fm4$param
>
>My question is this: can glm() or some other function be used in the manner
>Agresti employed for ordinal count data?
>
>Thank you,
>ANDREW
>
>Andrew Criswell
>Professor of Finance
>Graduate School
>Bangkok University
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chr.schulz at email.de  Tue Aug 13 08:14:14 2002
From: chr.schulz at email.de (chr.schulz@email.de)
Date: Tue, 13 Aug 2002 08:14:14 +0200
Subject: [R] matrixMultiplication & labels
Message-ID: <200208130614.g7D6EDX04388@mailgate5.cinetic.de>

Hi,

have anybody an idea, how i can header my res-matrix automatic
(i.e. first column get the header (name) "a.high*a.medium") , first
for ckeck the matrixMultiplication later for better reading.

thanks regards,Christian

P.S.  When i have a matrix with  ~ 500 cases instead of  4 i get  
problems with my memory  allocation  (192 MB RAM Win2000) - what can i do ,because
this is a step for mining associationsRules  what should happen in large datasets, too ?

zz <- apply(outer(t(dm),dm),c(1,4),function(dm)list(diag(dm)))
res <- matrix(unlist(zz[upper.tri(zz)]),nrow=nrow(dm))

$ dm
     a.high a.medium a.low b.high b.medium b.low c.high c.medium c.low
[1,]    0.3      0.5   0.2    0.1      0.3   0.6    0.1      0.3   0.6
[2,]    0.2      0.6   0.2    0.7      0.1   0.2    0.7      0.1   0.2
[3,]    0.3      0.1   0.6    0.3      0.2   0.5    0.3      0.2   0.5
[4,]    0.4      0.3   0.3    0.8      0.1   0.1    0.8      0.1   0.1
$ res
     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13] [,14]
[1,] 0.15 0.06 0.10 0.03 0.05 0.02 0.09 0.15 0.06  0.03  0.18  0.30  0.12  0.06
[2,] 0.12 0.04 0.12 0.14 0.42 0.14 0.02 0.06 0.02  0.07  0.04  0.12  0.04  0.14
[3,] 0.03 0.18 0.06 0.09 0.03 0.18 0.06 0.02 0.12  0.06  0.15  0.05  0.30  0.15
[4,] 0.12 0.12 0.09 0.32 0.24 0.24 0.04 0.03 0.03  0.08  0.04  0.03  0.03  0.08
     [,15] [,16] [,17] [,18] [,19] [,20] [,21] [,22] [,23] [,24] [,25] [,26]
[1,]  0.18  0.03  0.05  0.02  0.01  0.03  0.06  0.09  0.15  0.06  0.03  0.09
[2,]  0.02  0.14  0.42  0.14  0.49  0.07  0.14  0.02  0.06  0.02  0.07  0.01
[3,]  0.10  0.09  0.03  0.18  0.09  0.06  0.15  0.06  0.02  0.12  0.06  0.04
[4,]  0.01  0.32  0.24  0.24  0.64  0.08  0.08  0.04  0.03  0.03  0.08  0.01
     [,27] [,28] [,29] [,30] [,31] [,32] [,33] [,34] [,35] [,36]
[1,]  0.18  0.03  0.18  0.30  0.12  0.06  0.18  0.36  0.06  0.18
[2,]  0.02  0.07  0.04  0.12  0.04  0.14  0.02  0.04  0.14  0.02
[3,]  0.10  0.06  0.15  0.05  0.30  0.15  0.10  0.25  0.15  0.10
[4,]  0.01  0.08  0.04  0.03  0.03  0.08  0.01  0.01  0.08  0.01


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 13 08:42:32 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 13 Aug 2002 07:42:32 +0100 (BST)
Subject: [R] division by zero
In-Reply-To: <200208121436.57949.andys@neptuneinc.org>
Message-ID: <Pine.LNX.4.31.0208130734360.25373-100000@gannet.stats>

On Mon, 12 Aug 2002, Andrew Schuh wrote:

> Why does 1/0 return Inf?  Shouldn't this be returning NaN, NA, or something
> similar?

It's as defined in the IEC60559 standard for computer arithmetic, to shich
your computer's FPU is apparently complying.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lutz.thieme at amd.com  Tue Aug 13 11:58:31 2002
From: lutz.thieme at amd.com (lutz.thieme@amd.com)
Date: Tue, 13 Aug 2002 11:58:31 +0200
Subject: [R] getting source file name
Message-ID: <E540DF203FFED21182EB0008C72875600AEDA8A0@deexmta4.amd.com>

Hello everybody,

is there a way to get the file name of the source file from which I read and
execute my R code? 
In other words: If I'm executing "source('myRfile.r')" I'd like to have a statement 
inside myRfile.r like "src.file<-$0"  (in unix csh style) which assigns th variable
src.file to 'myRfile.r' .

Thanks in advance!

Best regards,

Lutz

	Lutz Thieme
	Product Engineering
	AMD - Saxony Manufacturing GmbH
	phone: + 49-351-277 -  4269
	fax:       + 49-351-277-9-4269



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From SHEN_MO_JUN at lilly.com  Tue Aug 13 12:10:50 2002
From: SHEN_MO_JUN at lilly.com (SHEN_MO_JUN@lilly.com)
Date: Tue, 13 Aug 2002 18:10:50 +0800
Subject: [R] Load Ascii file in R
Message-ID: <OF363DFC4C.CFD1CF87-ON48256C14.0036AD1C@ap.lilly.com>

Hi,

I am using R-1.5.1 on windows 2000.  I encountered  a problem when I tried 
to load a ascii .RData file 
whose first line is "RDA2". The error message is "restore file may be from 
a newer version of R -- no 
data loaded". 

I noticed that the error comes from magic comparison when load file.  The 
magic comparision of  the first 
five characters in the ascii file and the "RDA2\n" is always fail, and 
then comparison of "RD" is successful.
 
How can I solve the issue if I'd not like to recompile the source code? 

Looking forward to hearing from you. Thanks.

Mo Jun Shen
Lilly Systems Biology Pte Ltd
1 Science Park Road #04-01
The Capricorn
Singapore 117528
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020813/969df4de/attachment.html

From ripley at stats.ox.ac.uk  Tue Aug 13 12:26:40 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 13 Aug 2002 11:26:40 +0100 (BST)
Subject: [R] Load Ascii file in R
In-Reply-To: <OF363DFC4C.CFD1CF87-ON48256C14.0036AD1C@ap.lilly.com>
Message-ID: <Pine.LNX.4.31.0208131119190.27598-100000@gannet.stats>

How did you get such a file?

My guess is that you transferred the file from some other machine and
mangled the line endings en route.  As the following shows,

> save(ls, file="foo", ascii=T)
> load("foo")

it does work, and the file is written with LF and not CRLF line endings.
If I convert that file to CRLF line endings I get the error you report.

The solution seems to be to either convert the file to LF in a good
editor, or to track down where it is getting corrupted.


On Tue, 13 Aug 2002 SHEN_MO_JUN at lilly.com wrote:

> Hi,
>
> I am using R-1.5.1 on windows 2000.  I encountered  a problem when I tried
> to load a ascii .RData file
> whose first line is "RDA2". The error message is "restore file may be from
> a newer version of R -- no
> data loaded".
>
> I noticed that the error comes from magic comparison when load file.  The
> magic comparision of  the first
> five characters in the ascii file and the "RDA2\n" is always fail, and
> then comparison of "RD" is successful.
>
> How can I solve the issue if I'd not like to recompile the source code?

How did you manage to find out what the binary code was doing without
building a debug version?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.schlattmann at medizin.fu-berlin.de  Tue Aug 13 12:41:31 2002
From: peter.schlattmann at medizin.fu-berlin.de (Peter Schlattmann)
Date: Tue, 13 Aug 2002 12:41:31 +0200
Subject: [R] nlsList
Message-ID: <3D58E25B.3E87C855@medizin.fu-berlin.de>

Dear all,

is there a way to extract the individual variance-covariance matrix 
of the parameter estimates of the i-th individual using nlsList ?

Thanks a lot
Peter

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 13 12:53:57 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 13 Aug 2002 11:53:57 +0100 (BST)
Subject: [R] nlsList
In-Reply-To: <3D58E25B.3E87C855@medizin.fu-berlin.de>
Message-ID: <Pine.GSO.4.44.0208131152190.4621-100000@auk.stats>

On Tue, 13 Aug 2002, Peter Schlattmann wrote:

> is there a way to extract the individual variance-covariance matrix
> of the parameter estimates of the i-th individual using nlsList ?

Yes. For example:

library(nlme)
library(MASS)
example(nlsList)
lapply(fm1, vcov)

(at least, of the i-th fit)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bernhard.Pfaff at drkw.com  Tue Aug 13 13:09:27 2002
From: Bernhard.Pfaff at drkw.com (Pfaff, Bernhard)
Date: Tue, 13 Aug 2002 13:09:27 +0200
Subject: [R] Ex ante forecasting from structural equation models (SEM package)
Message-ID: <18D602BD42B7E24EB810D6454A58DB9001CADDD1@ibfftce505.is.de.dresdnerkb.com>

Dear Helplist,

I want to produce forecasts from a structural equation model. With the SEM
package the model setup and its estimation is possible. However, I have not
figured out how to obtain ex ante forecasts, i.e. applying the Gauss-Seidel
algorithm to the estimated structural equations for provided values of the
exogenous variables (i.e.: y_t = -inv(A)*B*x_t).

Does anyone know if the there is a function for producing such forecasts via
Gauss-Seidel or what other functions are supporting objects of class 'SEM'
or model notations in 'RAM' for achieving this task?

Many thks,
Bernhard



If you have received this e-mail in error or wish to read our e-mail disclaimer 
statement and monitoring policy, please refer to http://www.drkw.com/disc/email/ 
or contact the sender

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vezzu.andrea at libero.it  Tue Aug 13 13:33:05 2002
From: vezzu.andrea at libero.it (=?utf-8?Q?vezzu.andrea@libero.it?=)
Date: Tue, 13 Aug 2002 13:33:05 +0200
Subject: [R] =?iso-8859-1?Q?Non_linear_SUR_estimation?=
Message-ID: <H0S5F5$2D26D1D8448B0420F9254FB35B276C2A@libero.it>

TO: r-help at lists.R-project.org
    r-help at stat.math.ethz.ch



Hello to everyone,

I found some problems using R in the estimation of systems of nonlinear 
equations
like SURE (Seemingly Unrelated Regression Equations) with mutual 
parameters as the following system example:

EQ1  PQ1=P1*G1+B1*(Y-P1*G1-P2*G2-P3*G3)
EQ2  PQ2=P2*G2+B2*(Y-P1*G1-P2*G2-P3*G3)

where G1,G2,G3,B1,B2 are the coefficients to estimate.

command "nls" accept only single equation nonlinear model formula and 
package "systemfit" doesn't allows any nonlinear estimation.


Do you know a solution for this problem?

Thanks for the attention.

Best regards

Andrea Vezzulli
vezzu.andrea at libero.it
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vezzu.andrea at libero.it  Tue Aug 13 13:33:05 2002
From: vezzu.andrea at libero.it (=?utf-8?Q?vezzu.andrea@libero.it?=)
Date: Tue, 13 Aug 2002 13:33:05 +0200
Subject: [R] =?iso-8859-1?Q?Non_linear_SUR_estimation?=
Message-ID: <H0S5F5$2D26D1D8448B0420F9254FB35B276C2A@libero.it>

TO: r-help at lists.R-project.org
    r-help at stat.math.ethz.ch



Hello to everyone,

I found some problems using R in the estimation of systems of nonlinear 
equations
like SURE (Seemingly Unrelated Regression Equations) with mutual 
parameters as the following system example:

EQ1  PQ1=P1*G1+B1*(Y-P1*G1-P2*G2-P3*G3)
EQ2  PQ2=P2*G2+B2*(Y-P1*G1-P2*G2-P3*G3)

where G1,G2,G3,B1,B2 are the coefficients to estimate.

command "nls" accept only single equation nonlinear model formula and 
package "systemfit" doesn't allows any nonlinear estimation.


Do you know a solution for this problem?

Thanks for the attention.

Best regards

Andrea Vezzulli
vezzu.andrea at libero.it
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From isaia at econ.unito.it  Tue Aug 13 13:50:55 2002
From: isaia at econ.unito.it (E. D. Isaia)
Date: Tue, 13 Aug 2002 13:50:55 +0200
Subject: [R] Display table as percentage
References: <Pine.SOL.4.21.0208121627310.12879-100000@stat1.stat.auckland.ac.nz>
Message-ID: <3D58F29F.3070604@econ.unito.it>

An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020813/2f83e12a/attachment.html

From Alexandra.Patriksson.8520 at student.uu.se  Tue Aug 13 14:28:31 2002
From: Alexandra.Patriksson.8520 at student.uu.se (Alexandra Patriksson)
Date: Tue, 13 Aug 2002 14:28:31 +0200 (CEST)
Subject: [R] loess()
Message-ID: <1029241711.3d58fb6feb8c3@cuculus.its.uu.se>

One more question...

I need to use the Loess() function in the package modreg. What is the argument
"formula" meant to be?

A
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 13 14:45:54 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 13 Aug 2002 13:45:54 +0100 (BST)
Subject: [R] loess()
In-Reply-To: <1029241711.3d58fb6feb8c3@cuculus.its.uu.se>
Message-ID: <Pine.LNX.4.31.0208131343400.461-100000@gannet.stats>

On Tue, 13 Aug 2002, Alexandra Patriksson wrote:

> One more question...
>
> I need to use the Loess() function in the package modreg. What is the argument
> "formula" meant to be?

It's loess() not Loess().

?loess answers your question, with examples.  You can find many more
examples in the reference on that page.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Tue Aug 13 13:12:12 2002
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Tue, 13 Aug 2002 13:12:12 +0200 (MEST)
Subject: [R] loess()
In-Reply-To: <1029241711.3d58fb6feb8c3@cuculus.its.uu.se>
Message-ID: <XFMail.020813131212.theis@statistik.uni-dortmund.de>


On 13-Aug-02 Alexandra Patriksson wrote:
> One more question...
> 
> I need to use the Loess() function in the package modreg. What is the
> argument
> "formula" meant to be?
Like the help page says:
"a formula specifying the response and one or more numeric
predictors (best specified via an interaction, but can also be specified
additively)."

Formula in R are typically written in the following way:
y~x1^2+x1+x2

y is the response and x1 and x2 are influences in this example. For more detail
see help(formula).

I strongly recommend to read "An Introduction to R" which explains most basic
things comprehensively and furthermore first check the help-pages before asking
the list!

Regards,

Winfried

---------------------------------------------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 13-Aug-02

Dipl.-Math. Winfried Theis
SFB 475, Fachbereich Statistik, Universit"at Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903 FAX: +49-231-755-4387
----------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richards at upci.pitt.edu  Tue Aug 13 14:03:51 2002
From: richards at upci.pitt.edu (Richards, Tom)
Date: Tue, 13 Aug 2002 08:03:51 -0400
Subject: [R] Rcmd SHLIB under NT
Message-ID: <73D624FECBBAF6459BB60437FF7C02FB06D246@nsabpmail>

Hello:

	I'm trying to use Rcmd SHLIB to compile a single file, sann.c, to
get sann.dll.
I was able to get

make libR.a

to work, after going into MkRules and changing the line

DLLTOOL=$(BINPREF)dlltool -k --as $(AS)

to read

DLLTOOL=C:/MINGW-1.1/bin/dlltool -k --as $(AS)

But now I get:

C:\rw1051\src\gnuwin32>Rcmd SHLIB sann.c

make: make: Command not found
make: *** [libR] Error 127

My path is as follows:

C:\rw1051\src\gnuwin32>path
PATH="C:\Rtools\";C:\Mingw-1.1\bin;C:\Perl\bin;"C:\Rw1051\bin";C:\WINNT\syst
em32
;C:\WINNT;"D:\Program Files\Hummingbird\Connectivity\7.00\Accessories\";

Thus far in my life the only way I've been able to compile C code for R is
with the commands:

gcc -O2 -c %FNAME%.c -IC:\Rw1051\src\include -IC:\Mingw-1.1\include
dlltool --export-all-symbols --output-def %FNAME%.def %FNAME%.o
gcc -shared -o ..\libs\%FNAME%.dll %FNAME%.def %FNAME%.o
-LC:/Rw1051/src/gnuwin32 -lR

Is there some reason that only my computer cannot find make when I try
SHLIB?  Thanks in advance.

Tom Richards

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hoppe at sitewaerts.de  Tue Aug 13 15:08:54 2002
From: hoppe at sitewaerts.de (Daniel Hoppe)
Date: Tue, 13 Aug 2002 15:08:54 +0200
Subject: [R] Document R sourcecode with Tex
Message-ID: <903A7281CDB7D4118A5000500450BB088EB826@samoa.sitewaerts>

Hi,

I'm actually afraid that this is a RTFM question - I read the manual but
didn't find anything yet... I'm looking for a way to document R sourcecode
in my thesis. Does anyone know of a tool or function which can convert or
export R sourcecode to Tex? 

Thanks for any hints!

Best Regards,

Daniel

<<<<<<<<<<<<<<<<<<<<<<<<<<<
sitewaerts GmbH
Hebelstra?e 15
D-76133 Karlsruhe

Tel: +49 (721) 920 918 0
Fax: +49 (721) 920 918 29
http://www.sitewaerts.de
>>>>>>>>>>>>>>>>>>>>>>>>>>>


Der Inhalt dieser E-Mail ist vertraulich und ausschlie?lich f?r den
bezeichneten Adressaten bestimmt. Wenn Sie nicht der vorgesehene Adressat
dieser E-Mail oder dessen Vertreter sein sollten, so beachten Sie bitte, da?
jede Form der Kenntnisnahme, Ver?ffentlichung, Vervielf?ltigung oder
Weitergabe des Inhalts dieser E-Mail unzul?ssig ist. Wir bitten Sie, sich in
diesem Fall mit dem Absender der E-Mail in Verbindung zu setzen. Aussagen
gegen?ber dem Adressaten unterliegen den Regelungen des zugrundeliegenden
Angebotes bzw. Auftrags, insbesondere den Allgemeinen Auftragsbedingungen
und der individuellen Haftungsvereinbarung. Der Inhalt der E-Mail ist nur
rechtsverbindlich, wenn er unsererseits durch einen Brief entsprechend
best?tigt wird.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 13 15:20:27 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 13 Aug 2002 14:20:27 +0100 (GMT Daylight Time)
Subject: [R] Document R sourcecode with Tex
In-Reply-To: <903A7281CDB7D4118A5000500450BB088EB826@samoa.sitewaerts>
Message-ID: <Pine.WNT.4.44.0208131417300.1156-100000@petrel>

People who write S/R books and manuals normally use a verbatim environment,
either \begin{verbatim} or some variation thereon.  Take a look at
Rd.sty to see how the reference manual is done (it uses verbatim).

On Tue, 13 Aug 2002, Daniel Hoppe wrote:

> Hi,
>
> I'm actually afraid that this is a RTFM question - I read the manual but
> didn't find anything yet... I'm looking for a way to document R sourcecode
> in my thesis. Does anyone know of a tool or function which can convert or
> export R sourcecode to Tex?
>
> Thanks for any hints!
>
> Best Regards,
>
> Daniel
>
> <<<<<<<<<<<<<<<<<<<<<<<<<<<
> sitewaerts GmbH
> Hebelstrae 15
> D-76133 Karlsruhe
>
> Tel: +49 (721) 920 918 0
> Fax: +49 (721) 920 918 29
> http://www.sitewaerts.de
> >>>>>>>>>>>>>>>>>>>>>>>>>>>
>
>
> Der Inhalt dieser E-Mail ist vertraulich und ausschlielich fr den
> bezeichneten Adressaten bestimmt. Wenn Sie nicht der vorgesehene Adressat
> dieser E-Mail oder dessen Vertreter sein sollten, so beachten Sie bitte, da
> jede Form der Kenntnisnahme, Verffentlichung, Vervielfltigung oder
> Weitergabe des Inhalts dieser E-Mail unzulssig ist. Wir bitten Sie, sich in
> diesem Fall mit dem Absender der E-Mail in Verbindung zu setzen. Aussagen
> gegenber dem Adressaten unterliegen den Regelungen des zugrundeliegenden
> Angebotes bzw. Auftrags, insbesondere den Allgemeinen Auftragsbedingungen
> und der individuellen Haftungsvereinbarung. Der Inhalt der E-Mail ist nur
> rechtsverbindlich, wenn er unsererseits durch einen Brief entsprechend
> besttigt wird.
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Tue Aug 13 13:51:38 2002
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Tue, 13 Aug 2002 13:51:38 +0200 (MEST)
Subject: [R] Document R sourcecode with Tex
In-Reply-To: <903A7281CDB7D4118A5000500450BB088EB826@samoa.sitewaerts>
Message-ID: <XFMail.020813135138.theis@statistik.uni-dortmund.de>

Hi!
On 13-Aug-02 Daniel Hoppe wrote:
> Hi,
> 
> I'm actually afraid that this is a RTFM question - I read the manual but
> didn't find anything yet... I'm looking for a way to document R sourcecode
> in my thesis. Does anyone know of a tool or function which can convert or
> export R sourcecode to Tex? 
There are several ways. One is to simply use fancyverbatim to include the
sourcecode into the TeX-file, or a bit more sophisticated you may use the
listings to do the same since there is a definition for R included in the
distribution, though I must apologise for not updating it in quite a long
time... Listings prints functions in a different font than variables and
comments as well. Furthermore it has many interesting features for displaying
sourcecode. 

So long,

Winfried


---------------------------------------------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 13-Aug-02

Dipl.-Math. Winfried Theis
SFB 475, Fachbereich Statistik, Universit"at Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903 FAX: +49-231-755-4387
----------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Tue Aug 13 17:26:38 2002
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Tue, 13 Aug 2002 17:26:38 +0200
Subject: [R] Q: replacing elements in an array
Message-ID: <20020813152638.GC3593@giraffa.cbs.dtu.dk>

Dear all,


I have a question about the way the replacement of elements in an array
works in R (having a slight idea of the answer), and a question about
the way to achieve my goals.

If I have a 3 ways-array called 'a', the command

a[1, , ] <- rnorm(10)  # assumes the size matches

will result in having the whole object 'a' copied (since arrays are
just 'vectors with dimensions' in R) ... and at some point
two objects like 'a' will be in memory, right ? (this was the first
question).

I have rather large arrays, and I would like to modify some of their
elements in-situ (to save memory). Is there a way to do that ?


Thanks,






Laurent

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Tue Aug 13 16:26:08 2002
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 13 Aug 2002 10:26:08 -0400
Subject: [R] Ex ante forecasting from structural equation models
  (SEM package)
In-Reply-To: <18D602BD42B7E24EB810D6454A58DB9001CADDD1@ibfftce505.is.de.
 dresdnerkb.com>
Message-ID: <5.1.0.14.2.20020813101952.01d97e18@mcmail.cis.mcmaster.ca>

Dear Bernhard,

What you want are the reduced-form coefficients implied by the structural 
form of the model. I don't know a simple way of getting this from the RAM 
formulation of the model, short of constructing the coefficient matrices A 
and B from the estimates, which shouldn't be too onerous.

As far as I know, there are no methods for objects of class "sem" other 
than what's included in the package. Suggestions are welcome, of course.

Sorry,
  John

At 01:09 PM 8/13/2002 +0200, Pfaff, Bernhard wrote:
>Dear Helplist,
>
>I want to produce forecasts from a structural equation model. With the SEM
>package the model setup and its estimation is possible. However, I have not
>figured out how to obtain ex ante forecasts, i.e. applying the Gauss-Seidel
>algorithm to the estimated structural equations for provided values of the
>exogenous variables (i.e.: y_t = -inv(A)*B*x_t).
>
>Does anyone know if the there is a function for producing such forecasts via
>Gauss-Seidel or what other functions are supporting objects of class 'SEM'
>or model notations in 'RAM' for achieving this task?
>
>Many thks,
>Bernhard

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 13 17:05:36 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 13 Aug 2002 16:05:36 +0100 (BST)
Subject: [R] Q: replacing elements in an array
In-Reply-To: <20020813152638.GC3593@giraffa.cbs.dtu.dk>
Message-ID: <Pine.LNX.4.31.0208131548170.661-100000@gannet.stats>

On Tue, 13 Aug 2002, Laurent Gautier wrote:

> Dear all,
>
>
> I have a question about the way the replacement of elements in an array
> works in R (having a slight idea of the answer), and a question about
> the way to achieve my goals.
>
> If I have a 3 ways-array called 'a', the command
>
> a[1, , ] <- rnorm(10)  # assumes the size matches
>
> will result in having the whole object 'a' copied (since arrays are
> just 'vectors with dimensions' in R) ... and at some point
> two objects like 'a' will be in memory, right ? (this was the first
> question).

I don't think so.  See do_subassign and descendants.  It contains

    /* If there are multiple references to an object we must */
    /* duplicate it so that only the local version is mutated. */
    /* This will duplicate more often than necessary, but saves */
    /* over always duplicating. */
    /* FIXME: shouldn't x be protected? */

    if (NAMED(CAR(args)) == 2)
	x = SETCAR(args, duplicate(CAR(args)));

Now coercion can force a copy, but starting from a numeric array I think
your example does not duplicate.  And I can prove it:

> A <- array(0, dim=c(500, 500, 10))
> object.size(A)
[1] 20000128
> memory.size(T)
[1] 29028352
> A[1,,] <- 1
> memory.size(T)
[1] 29028352

so there was never a second copy.

> I have rather large arrays, and I would like to modify some of their
> elements in-situ (to save memory). Is there a way to do that ?

See above.  Do your own experiments / reading of code?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Tue Aug 13 17:15:37 2002
From: siim at obs.ee (Ott Toomet)
Date: Tue, 13 Aug 2002 17:15:37 +0200 (CEST)
Subject: [R] getting source file name
In-Reply-To: <E540DF203FFED21182EB0008C72875600AEDA8A0@deexmta4.amd.com>
Message-ID: <Pine.LNX.4.44.0208131711140.3411-100000@localhost.localdomain>

Hi,

I have not tried to get a call when source'ing a file, but you get current
function call from inside of the function using

sys.call().

When I want to get the name of the variable which is the first argument of a
function (e.g. for a plot title), I use

varname <- unlist(strsplit(as.character(sys.call()), "[(,)]")[2])

Perhaps you find a solution, playing around a bit.

Best wishes,

Ott



On Tue, 13 Aug 2002 lutz.thieme at amd.com wrote:

  |Hello everybody,
  |
  |is there a way to get the file name of the source file from which I read and
  |execute my R code? 
  |In other words: If I'm executing "source('myRfile.r')" I'd like to have a statement 
  |inside myRfile.r like "src.file<-$0"  (in unix csh style) which assigns th variable
  |src.file to 'myRfile.r' .
  |
  |Thanks in advance!
  |
  |Best regards,
  |
  |Lutz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Eric.Kort at vai.org  Tue Aug 13 17:50:02 2002
From: Eric.Kort at vai.org (Kort, Eric)
Date: Tue, 13 Aug 2002 11:50:02 -0400
Subject: [R] Document R sourcecode with Tex
Message-ID: <0166955C4F625B4C81E0F436DE443C980104CC@VAIEXCH02.vai.org>

> -----Original Message-----
> From: Daniel Hoppe [mailto:hoppe at sitewaerts.de]
> Hi,
> 
> I'm actually afraid that this is a RTFM question - I read the 
> manual but
> didn't find anything yet... I'm looking for a way to document 
> R sourcecode
> in my thesis. Does anyone know of a tool or function which 
> can convert or
> export R sourcecode to Tex? 
> 
> Thanks for any hints!
> 
> Best Regards,
> 
> Daniel

Check out the listings tex package, available from ctan.tug.org.  It is designed to format source code (of any variety), including line numbers, etc, if desired.

hth,
Eric
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mmiller3 at iupui.edu  Tue Aug 13 18:41:28 2002
From: mmiller3 at iupui.edu (Michael A. Miller)
Date: 13 Aug 2002 11:41:28 -0500
Subject: [R] tcltk - text widget with a scrollbar?
Message-ID: <87sn1i7ltz.fsf@lumen.indyrad.iupui.edu>

Can anyone show me how to connect a scrollbar to a text widget
using the tcltk library?  I'm confused about how to make sure the
two widgets know about each other and how to set up the
appropriate call-backs for scrolling.

Mike

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Tue Aug 13 18:49:36 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Tue, 13 Aug 2002 11:49:36 -0500
Subject: [R] Document R sourcecode with Tex
Message-ID: <E17eerQ-0006l4-00@sonny.eddelbuettel.com>


> I'm actually afraid that this is a RTFM question - I read the manual but
> didn't find anything yet... I'm looking for a way to document R sourcecode
> in my thesis. Does anyone know of a tool or function which can convert or
> export R sourcecode to Tex? 

GNU a2ps, an "anything to postscript" converter, can typeset and pretty-print
some 40+ languages, R and S included. thanks to a file Kurt, Torsten and I 
contributed to a2ps. At least Debian's a2ps includes this 'style sheet' file, others
can fetch it from CRAN.

It is of course meant directly for a printer (or viewer as gv) -- but some true 
postscript wizard might know a trick to 'extract' the pretty-printed code?
 
Dirk

-- 
According to the latest figures, 43% of all signatures are totally worthless.   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jzhang at jimmy.harvard.edu  Tue Aug 13 18:59:37 2002
From: jzhang at jimmy.harvard.edu (John Zhang)
Date: Tue, 13 Aug 2002 12:59:37 -0400 (EDT)
Subject: [R] tcltk - text widget with a scrollbar?
Message-ID: <200208131659.MAA08433@blaise.dfci.harvard.edu>


>To: r-help at stat.math.ethz.ch
>Subject: [R] tcltk - text widget with a scrollbar?
>Original-Sender: mmiller3 at iupui.edu
>From: mmiller3 at iupui.edu (Michael A. Miller)
>Date: 13 Aug 2002 11:41:28 -0500
>User-Agent: Gnus/5.09 (Gnus v5.9.0) Emacs/21.2
>MIME-Version: 1.0
>
>Can anyone show me how to connect a scrollbar to a text widget
>using the tcltk library?  I'm confused about how to make sure the
>two widgets know about each other and how to set up the
>appropriate call-backs for scrolling.

The following code should work:

> library(tcltk)
> top <- tktoplevel()
> mytext <- tktext(top)
> myscr <- tkscrollbar(top, command = function (...) tkyview(...))
> tkconfigure(mytext, yscrollcommand = function(...) tkset(myscr, ...))
> tkpack(myscr, side = "right", fill = "y")
> tkpack(mytext, fill = "both", expand = TRUE)



>
>Mike
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mmiller3 at iupui.edu  Tue Aug 13 20:03:29 2002
From: mmiller3 at iupui.edu (Michael A. Miller)
Date: 13 Aug 2002 13:03:29 -0500
Subject: [R] tcltk - text widget with a scrollbar?
References: <200208131659.MAA08433@blaise.dfci.harvard.edu>
Message-ID: <873ctihc0e.fsf@lumen.indyrad.iupui.edu>

>>>>> "John" == John Zhang <jzhang at jimmy.harvard.edu> writes:

    > The following code should work:

> library(tcltk)
> top <- tktoplevel()
> mytext <- tktext(top)
> myscr <- tkscrollbar(top, command = function (...) tkyview(...))
> tkconfigure(mytext, yscrollcommand = function(...) tkset(myscr, ...))
> tkpack(myscr, side = "right", fill = "y")
> tkpack(mytext, fill = "both", expand = TRUE)

Thanks John,

That almost works.  When I run your code and populate the text
widget with 

  for ( i in seq(100) ) {
    tkinsert(mytext,'end', paste(i,'lots of text\n'))
  }

I can scroll around in the widget with my scroll mouse, but using
the mouse on the scroll bar slider produces this sort of error:

Error in structure(.External("dotTcl", ..., PACKAGE = "tcltk"), class = "tclObj") : 
        [tcl] invalid command name "moveto".

Mousing on the other parts of the scroll bar produces this error:

Error in structure(.External("dotTcl", ..., PACKAGE = "tcltk"), class = "tclObj") : 
        [tcl] invalid command name "moveto".


Mike


P.S. Here's my version info:

R.version
         _                
platform i386-pc-linux-gnu
arch     i386             
os       linux-gnu        
system   i386, linux-gnu  
status                    
major    1                
minor    5.1              
year     2002             
month    06               
day      17               
language R                


> library(help=tcltk)
tcltk           Interface to Tcl/Tk

Description:

Package: tcltk
Version: 1.5.1
Priority: base
Title: Tcl/Tk Interface
Author: R Development Core Team
Maintainer: R Core Team <R-core at r-project.org>
Description: Interface and Language Bindings to Tcl/Tk GUI elements
License: GPL Version 2 or later.



I get the same error messages when I try this with a windows R:
> R.version
         _              
platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status                  
major    1              
minor    5.1            
year     2002           
month    06             
day      17             
language R             
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Tue Aug 13 21:57:04 2002
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Tue, 13 Aug 2002 21:57:04 +0200
Subject: [R] Q: replacing elements in an array
In-Reply-To: <Pine.LNX.4.31.0208131548170.661-100000@gannet.stats>
References: <20020813152638.GC3593@giraffa.cbs.dtu.dk> <Pine.LNX.4.31.0208131548170.661-100000@gannet.stats>
Message-ID: <20020813195704.GA31449@giraffa.cbs.dtu.dk>

Many thanks for the details... however I could find much about
the function 'memory.size' you use in your example (see below)...
is it a new function only in R-devel ?


L.

PS: In case it matters:
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    5.1              
year     2002             
month    06               
day      17               
language R 



On Tue, Aug 13, 2002 at 04:05:36PM +0100, ripley at stats.ox.ac.uk wrote:
> On Tue, 13 Aug 2002, Laurent Gautier wrote:
> 
> > Dear all,
> >
> >
> > I have a question about the way the replacement of elements in an array
> > works in R (having a slight idea of the answer), and a question about
> > the way to achieve my goals.
> >
> > If I have a 3 ways-array called 'a', the command
> >
> > a[1, , ] <- rnorm(10)  # assumes the size matches
> >
> > will result in having the whole object 'a' copied (since arrays are
> > just 'vectors with dimensions' in R) ... and at some point
> > two objects like 'a' will be in memory, right ? (this was the first
> > question).
> 
> I don't think so.  See do_subassign and descendants.  It contains
> 
>     /* If there are multiple references to an object we must */
>     /* duplicate it so that only the local version is mutated. */
>     /* This will duplicate more often than necessary, but saves */
>     /* over always duplicating. */
>     /* FIXME: shouldn't x be protected? */
> 
>     if (NAMED(CAR(args)) == 2)
> 	x = SETCAR(args, duplicate(CAR(args)));
> 
> Now coercion can force a copy, but starting from a numeric array I think
> your example does not duplicate.  And I can prove it:
> 
> > A <- array(0, dim=c(500, 500, 10))
> > object.size(A)
> [1] 20000128
> > memory.size(T)
> [1] 29028352
> > A[1,,] <- 1
> > memory.size(T)
> [1] 29028352
> 
> so there was never a second copy.
> 
> > I have rather large arrays, and I would like to modify some of their
> > elements in-situ (to save memory). Is there a way to do that ?
> 
> See above.  Do your own experiments / reading of code?
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 

-- 
--------------------------------------------------------------
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			DK-2800 Lyngby,Denmark	
tel: +45 45 25 24 89		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 13 20:57:46 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 13 Aug 2002 19:57:46 +0100 (BST)
Subject: [R] Q: replacing elements in an array
In-Reply-To: <20020813195704.GA31449@giraffa.cbs.dtu.dk>
Message-ID: <Pine.LNX.4.31.0208131955230.1123-100000@gannet.stats>

On Tue, 13 Aug 2002, Laurent Gautier wrote:

> Many thanks for the details... however I could find much about
> the function 'memory.size' you use in your example (see below)...
> is it a new function only in R-devel ?

Windows only, since 1.2.0.  It's a clone from S-PLUS, and returns the
memory in use, or the maximum ever used.  Saves watching `top' (or the
Windows task manager)!

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.connolly at hortresearch.co.nz  Wed Aug 14 05:14:02 2002
From: p.connolly at hortresearch.co.nz (Patrick Connolly)
Date: Wed, 14 Aug 2002 15:14:02 +1200
Subject: [R] Why can't Anove (car package) see the data?
Message-ID: <20020814031402.GB5354@hortresearch.co.nz>

At the end of the 'Details:' section of the help on Anova (car
package), it states:

     The standard R `anova' function calculates sequential (type-I)
     tests. These rarely test meaningful hypotheses.

So I thought I'd try it.  However, I was perplexed to get this
message:

Browse[1]> Anova.glm(leaf.glm1, type ="II")
Error in terms.formula(formula, data = data) : 
	Object "use.df" not found

The regular anova function can find use.df.  What could make it
invisible to Anova?  I thought it might be because terms.formula took
an argument x and I already had an object x, but changing its name
didn't help.  I spent some time searching the archives but found no
mention of this problem.  I read some of the car package help files,
but didn't notice a reference to what is different in the way data is
seen.

The example given in the help file does work, but it uses a data
object which is in the working directory.  That's not practicable
within a function.  So I'd appreciate other ideas.

platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    5.1              
year     2002             
month    06               
day      17               
language R                

Thanks

-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world`s largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you`ve seen it.  ---Steven Wright 
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arc at arcriswell.com  Wed Aug 14 17:27:17 2002
From: arc at arcriswell.com (arc)
Date: Wed, 14 Aug 2002 22:27:17 +0700
Subject: [R] Searching for a fac.design() equivalent
References: <LKEKIOMKIBNKJOPKIKOOCEGACLAA.Duncan.Mackay@flinders.edu.au>
Message-ID: <005401c243a7$14afcc20$29d994cb@andrewvhowclyz>

Hello:

Is there a function in R similar to fac.design() in Splus?

Thanks,
ANDREW

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arc at arcriswell.com  Wed Aug 14 17:44:42 2002
From: arc at arcriswell.com (arc)
Date: Wed, 14 Aug 2002 22:44:42 +0700
Subject: [R] availability of package gnlm
References: <LKEKIOMKIBNKJOPKIKOOCEGACLAA.Duncan.Mackay@flinders.edu.au>
Message-ID: <005501c243a9$832ccac0$29d994cb@andrewvhowclyz>

Hello:

I don't see the package "gnlm" Generalised Nonlinear Ordinal Regression
Model listed under package sources. Is it still available?

Thanks,
ANDREW

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Wed Aug 14 08:07:48 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Tue, 13 Aug 2002 23:07:48 -0700 (PDT)
Subject: [R] question about cloud() in lattice package
In-Reply-To: <001801c24241$d5a89d60$35892090@ohm.york.ac.uk>
Message-ID: <20020814060748.67574.qmail@web13901.mail.yahoo.com>


--- Rishabh Gupta <rg117 at ohm.york.ac.uk> wrote:
> Hi all,
> I have been previously been using scatterplot3d package to create some graphs
> but unfortunately it does not allow me to rotate the
> plot on all three axis. The cloud() function in the lattice package does
> allow me to do so. When I was using scatterplot3d I was
> using a script (Shown Below) to calculate the mean, quartiles and range
> limits for all three axis and I was representing that on the
> plot (like a 3d version of the boxplot() function). I was just wondering
> whether there is any way of representing such information
> with the cloud() function. Is there a way I can draw lines along each axis on
> the plot.
> Any help would be greatly appreciated.


You could try using the (horrible) panel function given below. It's a
modification of panel.cloud. The actual modifications shouldn't be difficult to
follow, and are demarcated as "New", in case you want to change colors etc.

An example of usage :

data(iris)
cloud(Sepal.Length ~ Petal.Width * Petal.Length, data = iris, 
      groups = Species, 
      panel = "panel.cloudbox", 
      zoom = .8)

#########################

panel.cloudbox <- function (x, y, z, subscripts, distance, xlim,
    ylim, zlim, subpanel = "panel.xyplot", rot.mat = rot.mat, aspect =
    aspect, zcol, col.regions, par.box = NULL, xlab, ylab, zlab,
    scales.3d, proportion = 0.6, wireframe = FALSE, scpos = list(x =
    1, y = 8, z = 12), groups, ...)

{
    if (any(subscripts)) {
        par.box.final <- trellis.par.get("box.3d")
        if (!is.null(par.box)) 
            par.box.final[names(par.box)] <- par.box
        subpanel <- if (is.character(subpanel)) 
            get(subpanel)
        else eval(subpanel)
        aspect <- rep(aspect, length = 2)
        x <- x[subscripts]
        y <- y[subscripts]
        z <- z[subscripts]

        corners <- data.frame(x = c(-1, 1, 1, -1, -1, 1, 1, -1)/2, 
                              y = c(-1, -1, -1, -1, 1, 1, 1, 1)/2 * aspect[1], 
                              z = c(-1, -1, 1, 1, -1, -1, 1, 1)/2 * aspect[2])
        pre <- c(1, 2, 4, 1, 2, 3, 4, 1, 5, 6, 8, 5)
        nxt <- c(2, 3, 3, 4, 6, 7, 8, 5, 6, 7, 7, 8)
        labs <- rbind(x = c(0, corners$x[pre[scpos$y]],
                      corners$x[pre[scpos$z]]), 
                      y = c(corners$y[pre[scpos$x]], 0,
                      corners$y[pre[scpos$z]]), 
                      z = c(corners$z[pre[scpos$x]],
                      corners$z[pre[scpos$y]], 
                      0))
        labs[, 1] <- labs[, 1] * (1 + scales.3d$x.scales$distance/3)
        labs[, 2] <- labs[, 2] * (1 + scales.3d$y.scales$distance/3)
        labs[, 3] <- labs[, 3] * (1 + scales.3d$z.scales$distance/3)
        axes <-
            rbind(x = c(proportion * corners$x[c(pre[scpos$x],
                  nxt[scpos$x])], corners$x[c(pre[scpos$y],
                  nxt[scpos$y])], corners$x[c(pre[scpos$z],
                  nxt[scpos$z])]), y = c(corners$y[c(pre[scpos$x],
                  nxt[scpos$x])], proportion *
                  corners$y[c(pre[scpos$y], nxt[scpos$y])],
                  corners$y[c(pre[scpos$z], nxt[scpos$z])]), z =
                  c(corners$z[c(pre[scpos$x], nxt[scpos$x])],
                  corners$z[c(pre[scpos$y], nxt[scpos$y])], proportion
                  * corners$z[c(pre[scpos$z], nxt[scpos$z])]))

        axes[, 1:2] <- axes[, 1:2] * (1 + scales.3d$x.scales$distance/10)
        axes[, 3:4] <- axes[, 3:4] * (1 + scales.3d$y.scales$distance/10)
        axes[, 5:6] <- axes[, 5:6] * (1 + scales.3d$z.scales$distance/10)
        x.at <- if (is.logical(scales.3d$x.scales$at)) 
            lpretty(xlim, scales.3d$x.scales$tick.number)
        else scales.3d$x.scales$at
        y.at <- if (is.logical(scales.3d$y.scales$at)) 
            lpretty(ylim, scales.3d$y.scales$tick.number)
        else scales.3d$y.scales$at
        z.at <- if (is.logical(scales.3d$z.scales$at)) 
            lpretty(zlim, scales.3d$z.scales$tick.number)
        else scales.3d$z.scales$at
        x.at <- x.at[x.at >= xlim[1] & x.at <= xlim[2]]
        y.at <- y.at[y.at >= ylim[1] & y.at <= ylim[2]]
        z.at <- z.at[z.at >= zlim[1] & z.at <= zlim[2]]
        x.at.lab <- if (is.logical(scales.3d$x.scales$labels)) 
            as.character(x.at)
        else as.character(scales.3d$x.scales$labels)
        y.at.lab <- if (is.logical(scales.3d$y.scales$labels)) 
            as.character(y.at)
        else as.character(scales.3d$y.scales$labels)
        z.at.lab <- if (is.logical(scales.3d$z.scales$labels)) 
            as.character(z.at)
        else as.character(scales.3d$z.scales$labels)
        cmin <- lapply(corners, min)
        cmax <- lapply(corners, max)
        clen <- lapply(corners, function(x) diff(range(x)))

        #######################################################
        ##                         New                       ##
        #######################################################

        bxp.stx <- numeric(0)
        bxp.sty <- numeric(0)
        bxp.stz <- numeric(0)

        vals <- sort(unique(groups))
        for (i in seq(along=vals)) {
            id <- (groups[subscripts] == vals[i])
            foox <- boxplot.stats(x[id])$stats
            fooy <- boxplot.stats(y[id])$stats
            fooz <- boxplot.stats(z[id])$stats
            bxp.stx <- c(bxp.stx, foox, rep(foox[3], 5), rep(foox[3], 5))
            bxp.sty <- c(bxp.sty, rep(fooy[3], 5), fooy, rep(fooy[3], 5))
            bxp.stz <- c(bxp.stz, rep(fooz[3], 5), rep(fooz[3], 5), fooz)
        }

        tdata <- rbind(x = cmin$x + clen$x * (bxp.stx - xlim[1])/diff(xlim), 
                       y = cmin$y + clen$y * (bxp.sty - ylim[1])/diff(ylim),
                       z = cmin$z + clen$z * (bxp.stz - zlim[1])/diff(zlim))
        
        #######################################################

        taxes <- rot.mat %*% axes
        x.at <- cmin$x + clen$x * (x.at - xlim[1])/diff(xlim)
        y.at <- cmin$y + clen$y * (y.at - ylim[1])/diff(ylim)
        z.at <- cmin$z + clen$z * (z.at - zlim[1])/diff(zlim)
        at.len <- length(x.at)
        x.at <- rbind(x = x.at,
                      y = rep(corners$y[pre[scpos$x]], 
                                at.len),
                      z = rep(corners$z[pre[scpos$x]], at.len))
        at.len <- length(y.at)
        y.at <- rbind(x = rep(corners$x[pre[scpos$y]], at.len), 
                      y = y.at,
                      z = rep(corners$z[pre[scpos$y]], at.len))
        at.len <- length(z.at)
        z.at <- rbind(x = rep(corners$x[pre[scpos$z]], at.len), 
                      y = rep(corners$y[pre[scpos$z]], at.len),
                      z = z.at)
        x.at.end <- x.at +
            scales.3d$x.scales$tck * 0.05 * labs[,1] 
        y.at.end <- y.at + scales.3d$y.scales$tck * 0.05 * labs[, 
                                                                2]
        z.at.end <- z.at + scales.3d$z.scales$tck * 0.05 * labs[, 
                                                                3]
        x.labs <- x.at + 2 * scales.3d$x.scales$tck * 0.05 * 
            labs[, 1]
        y.labs <- y.at + 2 * scales.3d$y.scales$tck * 0.05 * 
            labs[, 2]
        z.labs <- z.at + 2 * scales.3d$z.scales$tck * 0.05 * 
            labs[, 3]
        x.at <- rot.mat %*% x.at
        x.labs <- rot.mat %*% x.labs
        x.at.end <- rot.mat %*% x.at.end
        y.at <- rot.mat %*% y.at
        y.labs <- rot.mat %*% y.labs
        y.at.end <- rot.mat %*% y.at.end
        z.at <- rot.mat %*% z.at
        z.labs <- rot.mat %*% z.labs
        z.at.end <- rot.mat %*% z.at.end
        tdata <- rot.mat %*% tdata
        corners <- rot.mat %*% t(as.matrix(corners))
        tlabs <- rot.mat %*% labs
        zback <- min(corners[3, ])
        zfront <- max(corners[3, ])
        za <- (zfront * (1 - distance) - zback)/(zfront - zback)
        zb <- distance/(zfront - zback)
        tdata[1, ] <- (za + zb * tdata[3, ]) * tdata[1, ]
        tdata[2, ] <- (za + zb * tdata[3, ]) * tdata[2, ]
        corners[1, ] <- (za + zb * corners[3, ]) * corners[1, 
                                                           ]
        corners[2, ] <- (za + zb * corners[3, ]) * corners[2, 
                                                           ]
        taxes[1, ] <- (za + zb * taxes[3, ]) * taxes[1, ]
        taxes[2, ] <- (za + zb * taxes[3, ]) * taxes[2, ]
        x.at[1, ] <- (za + zb * x.at[3, ]) * x.at[1, ]
        x.at[2, ] <- (za + zb * x.at[3, ]) * x.at[2, ]
        x.labs[1, ] <- (za + zb * x.labs[3, ]) * x.labs[1, ]
        x.labs[2, ] <- (za + zb * x.labs[3, ]) * x.labs[2, ]
        x.at.end[1, ] <- (za + zb * x.at.end[3, ]) * x.at.end[1, 
                                                              ]
        x.at.end[2, ] <- (za + zb * x.at.end[3, ]) * x.at.end[2, 
                                                              ]
        y.at[1, ] <- (za + zb * y.at[3, ]) * y.at[1, ]
        y.at[2, ] <- (za + zb * y.at[3, ]) * y.at[2, ]
        y.labs[1, ] <- (za + zb * y.labs[3, ]) * y.labs[1, ]
        y.labs[2, ] <- (za + zb * y.labs[3, ]) * y.labs[2, ]
        y.at.end[1, ] <- (za + zb * y.at.end[3, ]) * y.at.end[1, 
                                                              ]
        y.at.end[2, ] <- (za + zb * y.at.end[3, ]) * y.at.end[2, 
                                                              ]
        z.at[1, ] <- (za + zb * z.at[3, ]) * z.at[1, ]
        z.at[2, ] <- (za + zb * z.at[3, ]) * z.at[2, ]
        z.labs[1, ] <- (za + zb * z.labs[3, ]) * z.labs[1, ]
        z.labs[2, ] <- (za + zb * z.labs[3, ]) * z.labs[2, ]
        z.at.end[1, ] <- (za + zb * z.at.end[3, ]) * z.at.end[1, 
                                                              ]
        z.at.end[2, ] <- (za + zb * z.at.end[3, ]) * z.at.end[2, 
                                                              ]
        tlabs[1, ] <- (za + zb * tlabs[3, ]) * tlabs[1, ]
        tlabs[2, ] <- (za + zb * tlabs[3, ]) * tlabs[2, ]
        farthest <- 1
        farval <- corners[3, 1]
        for (i in 2:8) if (corners[3, i] < farval) {
            farthest <- i
            farval <- corners[3, i]
        }
        mark <- rep(TRUE, 12)
        for (j in 1:12) if (pre[j] == farthest || nxt[j] == farthest) 
            mark[j] <- FALSE
        lsegments(corners[1, pre[!mark]], corners[2, pre[!mark]], 
                  corners[1, nxt[!mark]], corners[2, nxt[!mark]],
                  col = par.box.final$col, 
                  lwd = par.box.final$lwd, lty = 2)

        #############################################
        ##                   New                   ##
        #############################################

        for (i in seq(along=vals)) {
            llines(x = tdata[1, 15 * (i-1) + c(1,5)],
                   y = tdata[2, 15 * (i-1) + c(1,5)])
            llines(x = tdata[1, 15 * (i-1) + c(6,10)],
                   y = tdata[2, 15 * (i-1) + c(6,10)])
            llines(x = tdata[1, 15 * (i-1) + c(11,15)],
                   y = tdata[2, 15 * (i-1) + c(11,15)])

            llines(x = tdata[1, 15 * (i-1) + c(2,4)],
                   y = tdata[2, 15 * (i-1) + c(2,4)], lwd = 3)
            llines(x = tdata[1, 15 * (i-1) + c(7,9)],
                   y = tdata[2, 15 * (i-1) + c(7,9)], lwd = 3)
            llines(x = tdata[1, 15 * (i-1) + c(12,14)],
                   y = tdata[2, 15 * (i-1) + c(12,14)], lwd = 3)

            lpoints(x = tdata[1, 15 * (i-1) + 3],
                    y = tdata[2, 15 * (i-1) + 3],
                    col = "red", pch = 18)
        }


        #############################################
        
        lsegments(corners[1, pre[mark]], corners[2, pre[mark]], 
                  corners[1, nxt[mark]], corners[2, nxt[mark]],
                  col = par.box.final$col, 
                  lty = par.box.final$lty, lwd = par.box.final$lwd)
        if (scales.3d$x.scales$draw) {
            if (scales.3d$x.scales$arrows) {
                larrows(x0 = taxes[1, 1], y0 = taxes[2, 1],
                        x1 = taxes[1, 
                        2], y1 = taxes[2, 2], lty = scales.3d$x.scales$lty, 
                        lwd = scales.3d$x.scales$lwd,
                        col = scales.3d$x.scales$col)
            }
            else {
                lsegments(x0 = x.at[1, ], y0 = x.at[2, ],
                          x1 = x.at.end[1, 
                          ], y1 = x.at.end[2, ], lty = scales.3d$x.scales$lty, 
                          col = scales.3d$x.scales$col,
                          lwd = scales.3d$x.scales$lwd)
                ltext(x.at.lab, x = x.labs[1, ],
                      y = x.labs[2, 
                      ], cex = scales.3d$x.scales$cex,
                      font = scales.3d$x.scales$font, 
                      col = scales.3d$x.scales$col)
            }
        }
        if (scales.3d$y.scales$draw) {
            if (scales.3d$y.scales$arrows) {
                larrows(x0 = taxes[1, 3], y0 = taxes[2, 3],
                        x1 = taxes[1, 
                        4], y1 = taxes[2, 4], lty = scales.3d$y.scales$lty, 
                        lwd = scales.3d$y.scales$lwd,
                        col = scales.3d$y.scales$col)
            }
            else {
                lsegments(x0 = y.at[1, ], y0 = y.at[2, ],
                          x1 = y.at.end[1, 
                          ], y1 = y.at.end[2, ], lty = scales.3d$y.scales$lty, 
                          col = scales.3d$y.scales$col,
                          lwd = scales.3d$y.scales$lwd)
                ltext(y.at.lab, x = y.labs[1, ],
                      y = y.labs[2, 
                      ], cex = scales.3d$y.scales$cex,
                      font = scales.3d$y.scales$font, 
                      col = scales.3d$y.scales$col)
            }
        }
        if (scales.3d$z.scales$draw) {
            if (scales.3d$z.scales$arrows) {
                larrows(x0 = taxes[1, 5], y0 = taxes[2, 5],
                        x1 = taxes[1, 
                        6], y1 = taxes[2, 6], lty = scales.3d$z.scales$lty, 
                        lwd = scales.3d$z.scales$lwd,
                        col = scales.3d$z.scales$col)
            }
            else {
                lsegments(x0 = z.at[1, ], y0 = z.at[2, ],
                          x1 = z.at.end[1, 
                          ], y1 = z.at.end[2, ], lty = scales.3d$z.scales$lty, 
                          col = scales.3d$x.scales$col,
                          lwd = scales.3d$z.scales$lwd)
                ltext(z.at.lab, x = z.labs[1, ],
                      y = z.labs[2, 
                      ], cex = scales.3d$z.scales$cex,
                      font = scales.3d$z.scales$font, 
                      col = scales.3d$z.scales$col)
            }
        }
        if (!is.null(xlab)) 
            ltext(xlab$lab, x = tlabs[1, 1], y = tlabs[2, 1], 
                  cex = xlab$cex, rot = xlab$rot, font = xlab$font, 
                  col = xlab$col)
        if (!is.null(ylab)) 
            ltext(ylab$lab, x = tlabs[1, 2], y = tlabs[2, 2], 
                  cex = ylab$cex, rot = ylab$rot, font = ylab$font, 
                  col = ylab$col)
        if (!is.null(zlab)) 
            ltext(zlab$lab, x = tlabs[1, 3], y = tlabs[2, 3], 
                  cex = zlab$cex, rot = zlab$rot, font = zlab$font, 
                  col = zlab$col)
    }
}





__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wb at vestein.arb-phys.uni-dortmund.de  Wed Aug 14 08:50:28 2002
From: wb at vestein.arb-phys.uni-dortmund.de (Wilhelm B. Kloke)
Date: Wed, 14 Aug 2002 06:50:28 +0000 (UTC)
Subject: [R] test
Message-ID: <ajcujk$ib4$1@yorikke.arb-phys.uni-dortmund.de>

test
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mwgrant2001 at yahoo.com  Wed Aug 14 13:28:14 2002
From: mwgrant2001 at yahoo.com (Michael Grant)
Date: Wed, 14 Aug 2002 04:28:14 -0700 (PDT)
Subject: [R] Document R sourcecode with Tex
Message-ID: <20020814112814.23570.qmail@web20809.mail.yahoo.com>

Hi Daniel,

You may also find Sweave in the 'tools' package
helpful if you go beyond listing code and want to
include results. I have found Sweave exceedingly
effective for developing code verification and
validation documents. BTW, it is also very easy to
use.

Best regards,
Michael Grant

--- Daniel Hoppe <hoppe at sitewaerts.de> wrote:
> Hi,
> 
> I'm actually afraid that this is a RTFM question - I
> read the manual but
> didn't find anything yet... I'm looking for a way to
> document R sourcecode
> in my thesis. Does anyone know of a tool or function
> which can convert or
> export R sourcecode to Tex? 
> 
> Thanks for any hints!
> 
> Best Regards,
> 
> Daniel
> 
> <<<<<<<<<<<<<<<<<<<<<<<<<<<
> sitewaerts GmbH
> Hebelstrae 15
> D-76133 Karlsruhe
> 
> Tel: +49 (721) 920 918 0
> Fax: +49 (721) 920 918 29
> http://www.sitewaerts.de
> >>>>>>>>>>>>>>>>>>>>>>>>>>>
> 
> 
> Der Inhalt dieser E-Mail ist vertraulich und
> ausschlielich fr den
> bezeichneten Adressaten bestimmt. Wenn Sie nicht der
> vorgesehene Adressat
> dieser E-Mail oder dessen Vertreter sein sollten, so
> beachten Sie bitte, da
> jede Form der Kenntnisnahme, Verffentlichung,
> Vervielfltigung oder
> Weitergabe des Inhalts dieser E-Mail unzulssig ist.
> Wir bitten Sie, sich in
> diesem Fall mit dem Absender der E-Mail in
> Verbindung zu setzen. Aussagen
> gegenber dem Adressaten unterliegen den Regelungen
> des zugrundeliegenden
> Angebotes bzw. Auftrags, insbesondere den
> Allgemeinen Auftragsbedingungen
> und der individuellen Haftungsvereinbarung. Der
> Inhalt der E-Mail ist nur
> rechtsverbindlich, wenn er unsererseits durch einen
> Brief entsprechend
> besttigt wird.
> 
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Wed Aug 14 14:26:29 2002
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 14 Aug 2002 08:26:29 -0400
Subject: [R] Why can't Anove (car package) see the data?
In-Reply-To: <20020814031402.GB5354@hortresearch.co.nz>
Message-ID: <5.1.0.14.2.20020814074910.01d90d68@mcmail.cis.mcmaster.ca>

Dear Patrick,

It's difficult for me to tell from your description what the specific 
nature of the problem is, though it seems to be some kind of scoping issue.

I've experimented a bit and found that the call to update (indirectly) from 
Anova.glm (with LR type-II tests) seems to cause problems:

     > fun.1 <- function(df){
     +     mod <- glm(partic != 'not.work' ~ hincome + children + region,
     +         data=df, family=binomial)
     +     Anova(mod)
     +     }
     > fun.1(Womenlf)
     Error in eval(expr, envir, enclos) : numeric envir arg not of length one
     > traceback()
     16: eval(predvars, data, env)
     15: model.frame.default(formula = partic != "not.work" ~ children +
             region, data = df, drop.unused.levels = TRUE)
     14: model.frame(formula = partic != "not.work" ~ children + region,
             data = df, drop.unused.levels = TRUE)
     13: eval(expr, envir, enclos)
     12: eval(mf, parent.frame())
     11: glm(formula = partic != "not.work" ~ children + region, family = 
binomial,
             data = df)
     10: eval(expr, envir, enclos)
     9: eval(call, parent.frame())
     8: update.default(mod, eval(parse(text = paste(".~.-", 
paste(c(names[term],
         rels), collapse = "-")))))
     7: update(mod, eval(parse(text = paste(".~.-", paste(c(names[term],
         rels), collapse = "-")))))
     6: Anova.II.LR.glm(mod)
     5: switch(test.statistic, LR = Anova.II.LR.glm(mod), Wald = 
Anova.II.Wald.glm(mod),
         F = Anova.II.F.glm(mod, error, error.estimate))
     4: switch(type, II = switch(test.statistic, LR = Anova.II.LR.glm(mod),
         Wald = Anova.II.Wald.glm(mod), F = Anova.II.F.glm(mod, error,
             error.estimate)), III = switch(test.statistic, LR = 
Anova.III.LR.glm(mod),
         Wald = Anova.III.Wald.glm(mod), F = Anova.III.F.glm(mod,
             error, error.estimate)))
     3: Anova.glm(mod)
     2: Anova(mod)
     1: fun.1(Womenlf)

(This uses the Womenlf data frame in the car package.)

In contrast, Anova.lm, which doesn't call update, works OK:

    > fun.2 <- function(df){
     +     mod <- lm(prestige ~ income + education, data=df)
     +     Anova(mod)
     +     }
     > fun.2(Prestige)
     Anova Table (Type II tests)

     Response: prestige
             Sum Sq Df F value    Pr(>F)
     income    2248.1  1  36.856 2.355e-08
     education 8577.3  1 140.615 < 2.2e-16
     Residuals 6038.9 99
     >

(using the Prestige data frame, again in car.)

I don't see an immediate way around the problem, but I'll think about it. 
In addition, if you send me some more information -- the data that you were 
using, the model that you fit, the function from which you called Anova -- 
I'll take a look a it. I'm leaving town for several days tomorrow. If you 
send me the information before then, I'll take it with me.

I'm sorry that you're experiencing this problem,
  John

At 03:14 PM 8/14/2002 +1200, Patrick Connolly wrote:
>At the end of the 'Details:' section of the help on Anova (car
>package), it states:
>
>      The standard R `anova' function calculates sequential (type-I)
>      tests. These rarely test meaningful hypotheses.
>
>So I thought I'd try it.  However, I was perplexed to get this
>message:
>
>Browse[1]> Anova.glm(leaf.glm1, type ="II")
>Error in terms.formula(formula, data = data) :
>         Object "use.df" not found
>
>The regular anova function can find use.df.  What could make it
>invisible to Anova?  I thought it might be because terms.formula took
>an argument x and I already had an object x, but changing its name
>didn't help.  I spent some time searching the archives but found no
>mention of this problem.  I read some of the car package help files,
>but didn't notice a reference to what is different in the way data is
>seen.
>
>The example given in the help file does work, but it uses a data
>object which is in the working directory.  That's not practicable
>within a function.  So I'd appreciate other ideas.
>
>platform i686-pc-linux-gnu
>arch     i686
>os       linux-gnu
>system   i686, linux-gnu
>status
>major    1
>minor    5.1
>year     2002
>month    06
>day      17
>language R
>
>Thanks
>
>--
>Patrick Connolly
>HortResearch
>Mt Albert
>Auckland
>New Zealand
>Ph: +64-9 815 4200 x 7188
>~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
>I have the world`s largest collection of seashells. I keep it on all
>the beaches of the world ... Perhaps you`ve seen it.  ---Steven Wright
>~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
>
>
>______________________________________________________
>The contents of this e-mail are privileged and/or confidential to the
>named recipient and are not to be used by any other person and/or
>organisation. If you have received this e-mail in error, please notify
>the sender and delete all material pertaining to this e-mail.
>______________________________________________________
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed Aug 14 16:14:03 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 14 Aug 2002 09:14:03 -0500
Subject: [R] selfStart function problem
In-Reply-To: <3D37F6B6.1100.AD7E5F@localhost>
References: <3D37F6B6.1100.AD7E5F@localhost>
Message-ID: <6r4rdxwms4.fsf@franz.stat.wisc.edu>

"Lauri Meht?talo" <Lauri.Mehtatalo at metla.fi> writes:

> I am making a self-starting nonlinear function to model the relation
> of tree height (H) and diameter (D) in a forest stand. The function
> I am trying is H=a*exp[b*(D+5.8)^(-c)].  To calculate the initial
> estimates of the parameters, I linearized the formula by taking
> logarithms and fixing the parameter c=1. Then I calculated the
> initial estimates of a and b using lm() on the linearized form. The
> function works well if I am giving a single variable as an dependent
> variable, but if I use some transformation of height (e.g. (H-1.3))
> as dependent variable, the expression in lm()-model is not
> right. That is perhaps because of the mode of the object LHS is now
> "call", but I have not found how to get the program handle it
> correctly.  Has someone any idea? I am using R1.5.1 on Windows NT.
> 
> Lauri
> 
> My code is
> 
> > dhexp <- deriv(~ a*exp(b*(D+5.8)^(-c)), c("a","b","c"), function(D,a,b,c) {} )
> >
> > dhexpInit <- function(mCall, LHS, data) {
> +     equation <- paste('log(',LHS,') ~ I((',mCall[["D"]],'+5.8)^-1.0)')
> +     print(equation)
> +     linear <- lm(as.formula(equation),data=data)
> +     value <- c(exp(coef(linear)[1]), coef(linear)[2], 1.0)
> +     names(value) <- mCall[c("a", "b", "c")]
> +     value
> +     }

Although I am responding quite late to this message I hope this will
help.  I did not see other responses.

The recommended way of handling LHS inside the start function is as

              xy <- sortedXyData(mCall[["D"]], LHS, data)

That will provide you with a data frame with variables 'x' and 'y'
that result from evaluating the expressions for the D argument and the
left hand side.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From degiorgi at math.ethz.ch  Wed Aug 14 16:17:49 2002
From: degiorgi at math.ethz.ch (Enrico De Giorgi)
Date: Wed, 14 Aug 2002 16:17:49 +0200
Subject: [R] Matrix inverse
In-Reply-To: <20020814112814.23570.qmail@web20809.mail.yahoo.com>
Message-ID: <NEBBLOMPELHOIMFBEMAHIEKKCGAA.degiorgi@math.ethz.ch>

A beginners question:

What the analogon in R of the ginverse() function in Splus?

Thank you.

Best Regards,
Enric
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rg117 at ohm.york.ac.uk  Wed Aug 14 16:53:58 2002
From: rg117 at ohm.york.ac.uk (Rishabh Gupta)
Date: Wed, 14 Aug 2002 15:53:58 +0100
Subject: [R] question about cloud() in lattice package
References: <20020814060748.67574.qmail@web13901.mail.yahoo.com>
Message-ID: <001901c243a2$6b9cdb40$35892090@ohm.york.ac.uk>

Hi
    Thanks very much for your reply. I'm afraid I can't really claim to understand the workings of the function that you have
written since I am not that familiar with the lattice library (or R for that matter) but I tried it out and it works perfectly. Your
help is really appreciated.

Many Thanks

Rishabh
----- Original Message -----
From: "Deepayan Sarkar" <deepayansarkar at yahoo.com>
To: "Rishabh Gupta" <rg117 at ohm.york.ac.uk>; <r-help at stat.math.ethz.ch>
Sent: Wednesday, August 14, 2002 7:07 AM
Subject: Re: [R] question about cloud() in lattice package


|
| --- Rishabh Gupta <rg117 at ohm.york.ac.uk> wrote:
| > Hi all,
| > I have been previously been using scatterplot3d package to create some graphs
| > but unfortunately it does not allow me to rotate the
| > plot on all three axis. The cloud() function in the lattice package does
| > allow me to do so. When I was using scatterplot3d I was
| > using a script (Shown Below) to calculate the mean, quartiles and range
| > limits for all three axis and I was representing that on the
| > plot (like a 3d version of the boxplot() function). I was just wondering
| > whether there is any way of representing such information
| > with the cloud() function. Is there a way I can draw lines along each axis on
| > the plot.
| > Any help would be greatly appreciated.
|
|
| You could try using the (horrible) panel function given below. It's a
| modification of panel.cloud. The actual modifications shouldn't be difficult to
| follow, and are demarcated as "New", in case you want to change colors etc.
|
| An example of usage :
|
| data(iris)
| cloud(Sepal.Length ~ Petal.Width * Petal.Length, data = iris,
|       groups = Species,
|       panel = "panel.cloudbox",
|       zoom = .8)
|
| #########################
|
| panel.cloudbox <- function (x, y, z, subscripts, distance, xlim,
|     ylim, zlim, subpanel = "panel.xyplot", rot.mat = rot.mat, aspect =
|     aspect, zcol, col.regions, par.box = NULL, xlab, ylab, zlab,
|     scales.3d, proportion = 0.6, wireframe = FALSE, scpos = list(x =
|     1, y = 8, z = 12), groups, ...)
|
| {
|     if (any(subscripts)) {
|         par.box.final <- trellis.par.get("box.3d")
|         if (!is.null(par.box))
|             par.box.final[names(par.box)] <- par.box
|         subpanel <- if (is.character(subpanel))
|             get(subpanel)
|         else eval(subpanel)
|         aspect <- rep(aspect, length = 2)
|         x <- x[subscripts]
|         y <- y[subscripts]
|         z <- z[subscripts]
|
|         corners <- data.frame(x = c(-1, 1, 1, -1, -1, 1, 1, -1)/2,
|                               y = c(-1, -1, -1, -1, 1, 1, 1, 1)/2 * aspect[1],
|                               z = c(-1, -1, 1, 1, -1, -1, 1, 1)/2 * aspect[2])
|         pre <- c(1, 2, 4, 1, 2, 3, 4, 1, 5, 6, 8, 5)
|         nxt <- c(2, 3, 3, 4, 6, 7, 8, 5, 6, 7, 7, 8)
|         labs <- rbind(x = c(0, corners$x[pre[scpos$y]],
|                       corners$x[pre[scpos$z]]),
|                       y = c(corners$y[pre[scpos$x]], 0,
|                       corners$y[pre[scpos$z]]),
|                       z = c(corners$z[pre[scpos$x]],
|                       corners$z[pre[scpos$y]],
|                       0))
|         labs[, 1] <- labs[, 1] * (1 + scales.3d$x.scales$distance/3)
|         labs[, 2] <- labs[, 2] * (1 + scales.3d$y.scales$distance/3)
|         labs[, 3] <- labs[, 3] * (1 + scales.3d$z.scales$distance/3)
|         axes <-
|             rbind(x = c(proportion * corners$x[c(pre[scpos$x],
|                   nxt[scpos$x])], corners$x[c(pre[scpos$y],
|                   nxt[scpos$y])], corners$x[c(pre[scpos$z],
|                   nxt[scpos$z])]), y = c(corners$y[c(pre[scpos$x],
|                   nxt[scpos$x])], proportion *
|                   corners$y[c(pre[scpos$y], nxt[scpos$y])],
|                   corners$y[c(pre[scpos$z], nxt[scpos$z])]), z =
|                   c(corners$z[c(pre[scpos$x], nxt[scpos$x])],
|                   corners$z[c(pre[scpos$y], nxt[scpos$y])], proportion
|                   * corners$z[c(pre[scpos$z], nxt[scpos$z])]))
|
|         axes[, 1:2] <- axes[, 1:2] * (1 + scales.3d$x.scales$distance/10)
|         axes[, 3:4] <- axes[, 3:4] * (1 + scales.3d$y.scales$distance/10)
|         axes[, 5:6] <- axes[, 5:6] * (1 + scales.3d$z.scales$distance/10)
|         x.at <- if (is.logical(scales.3d$x.scales$at))
|             lpretty(xlim, scales.3d$x.scales$tick.number)
|         else scales.3d$x.scales$at
|         y.at <- if (is.logical(scales.3d$y.scales$at))
|             lpretty(ylim, scales.3d$y.scales$tick.number)
|         else scales.3d$y.scales$at
|         z.at <- if (is.logical(scales.3d$z.scales$at))
|             lpretty(zlim, scales.3d$z.scales$tick.number)
|         else scales.3d$z.scales$at
|         x.at <- x.at[x.at >= xlim[1] & x.at <= xlim[2]]
|         y.at <- y.at[y.at >= ylim[1] & y.at <= ylim[2]]
|         z.at <- z.at[z.at >= zlim[1] & z.at <= zlim[2]]
|         x.at.lab <- if (is.logical(scales.3d$x.scales$labels))
|             as.character(x.at)
|         else as.character(scales.3d$x.scales$labels)
|         y.at.lab <- if (is.logical(scales.3d$y.scales$labels))
|             as.character(y.at)
|         else as.character(scales.3d$y.scales$labels)
|         z.at.lab <- if (is.logical(scales.3d$z.scales$labels))
|             as.character(z.at)
|         else as.character(scales.3d$z.scales$labels)
|         cmin <- lapply(corners, min)
|         cmax <- lapply(corners, max)
|         clen <- lapply(corners, function(x) diff(range(x)))
|
|         #######################################################
|         ##                         New                       ##
|         #######################################################
|
|         bxp.stx <- numeric(0)
|         bxp.sty <- numeric(0)
|         bxp.stz <- numeric(0)
|
|         vals <- sort(unique(groups))
|         for (i in seq(along=vals)) {
|             id <- (groups[subscripts] == vals[i])
|             foox <- boxplot.stats(x[id])$stats
|             fooy <- boxplot.stats(y[id])$stats
|             fooz <- boxplot.stats(z[id])$stats
|             bxp.stx <- c(bxp.stx, foox, rep(foox[3], 5), rep(foox[3], 5))
|             bxp.sty <- c(bxp.sty, rep(fooy[3], 5), fooy, rep(fooy[3], 5))
|             bxp.stz <- c(bxp.stz, rep(fooz[3], 5), rep(fooz[3], 5), fooz)
|         }
|
|         tdata <- rbind(x = cmin$x + clen$x * (bxp.stx - xlim[1])/diff(xlim),
|                        y = cmin$y + clen$y * (bxp.sty - ylim[1])/diff(ylim),
|                        z = cmin$z + clen$z * (bxp.stz - zlim[1])/diff(zlim))
|
|         #######################################################
|
|         taxes <- rot.mat %*% axes
|         x.at <- cmin$x + clen$x * (x.at - xlim[1])/diff(xlim)
|         y.at <- cmin$y + clen$y * (y.at - ylim[1])/diff(ylim)
|         z.at <- cmin$z + clen$z * (z.at - zlim[1])/diff(zlim)
|         at.len <- length(x.at)
|         x.at <- rbind(x = x.at,
|                       y = rep(corners$y[pre[scpos$x]],
|                                 at.len),
|                       z = rep(corners$z[pre[scpos$x]], at.len))
|         at.len <- length(y.at)
|         y.at <- rbind(x = rep(corners$x[pre[scpos$y]], at.len),
|                       y = y.at,
|                       z = rep(corners$z[pre[scpos$y]], at.len))
|         at.len <- length(z.at)
|         z.at <- rbind(x = rep(corners$x[pre[scpos$z]], at.len),
|                       y = rep(corners$y[pre[scpos$z]], at.len),
|                       z = z.at)
|         x.at.end <- x.at +
|             scales.3d$x.scales$tck * 0.05 * labs[,1]
|         y.at.end <- y.at + scales.3d$y.scales$tck * 0.05 * labs[,
|                                                                 2]
|         z.at.end <- z.at + scales.3d$z.scales$tck * 0.05 * labs[,
|                                                                 3]
|         x.labs <- x.at + 2 * scales.3d$x.scales$tck * 0.05 *
|             labs[, 1]
|         y.labs <- y.at + 2 * scales.3d$y.scales$tck * 0.05 *
|             labs[, 2]
|         z.labs <- z.at + 2 * scales.3d$z.scales$tck * 0.05 *
|             labs[, 3]
|         x.at <- rot.mat %*% x.at
|         x.labs <- rot.mat %*% x.labs
|         x.at.end <- rot.mat %*% x.at.end
|         y.at <- rot.mat %*% y.at
|         y.labs <- rot.mat %*% y.labs
|         y.at.end <- rot.mat %*% y.at.end
|         z.at <- rot.mat %*% z.at
|         z.labs <- rot.mat %*% z.labs
|         z.at.end <- rot.mat %*% z.at.end
|         tdata <- rot.mat %*% tdata
|         corners <- rot.mat %*% t(as.matrix(corners))
|         tlabs <- rot.mat %*% labs
|         zback <- min(corners[3, ])
|         zfront <- max(corners[3, ])
|         za <- (zfront * (1 - distance) - zback)/(zfront - zback)
|         zb <- distance/(zfront - zback)
|         tdata[1, ] <- (za + zb * tdata[3, ]) * tdata[1, ]
|         tdata[2, ] <- (za + zb * tdata[3, ]) * tdata[2, ]
|         corners[1, ] <- (za + zb * corners[3, ]) * corners[1,
|                                                            ]
|         corners[2, ] <- (za + zb * corners[3, ]) * corners[2,
|                                                            ]
|         taxes[1, ] <- (za + zb * taxes[3, ]) * taxes[1, ]
|         taxes[2, ] <- (za + zb * taxes[3, ]) * taxes[2, ]
|         x.at[1, ] <- (za + zb * x.at[3, ]) * x.at[1, ]
|         x.at[2, ] <- (za + zb * x.at[3, ]) * x.at[2, ]
|         x.labs[1, ] <- (za + zb * x.labs[3, ]) * x.labs[1, ]
|         x.labs[2, ] <- (za + zb * x.labs[3, ]) * x.labs[2, ]
|         x.at.end[1, ] <- (za + zb * x.at.end[3, ]) * x.at.end[1,
|                                                               ]
|         x.at.end[2, ] <- (za + zb * x.at.end[3, ]) * x.at.end[2,
|                                                               ]
|         y.at[1, ] <- (za + zb * y.at[3, ]) * y.at[1, ]
|         y.at[2, ] <- (za + zb * y.at[3, ]) * y.at[2, ]
|         y.labs[1, ] <- (za + zb * y.labs[3, ]) * y.labs[1, ]
|         y.labs[2, ] <- (za + zb * y.labs[3, ]) * y.labs[2, ]
|         y.at.end[1, ] <- (za + zb * y.at.end[3, ]) * y.at.end[1,
|                                                               ]
|         y.at.end[2, ] <- (za + zb * y.at.end[3, ]) * y.at.end[2,
|                                                               ]
|         z.at[1, ] <- (za + zb * z.at[3, ]) * z.at[1, ]
|         z.at[2, ] <- (za + zb * z.at[3, ]) * z.at[2, ]
|         z.labs[1, ] <- (za + zb * z.labs[3, ]) * z.labs[1, ]
|         z.labs[2, ] <- (za + zb * z.labs[3, ]) * z.labs[2, ]
|         z.at.end[1, ] <- (za + zb * z.at.end[3, ]) * z.at.end[1,
|                                                               ]
|         z.at.end[2, ] <- (za + zb * z.at.end[3, ]) * z.at.end[2,
|                                                               ]
|         tlabs[1, ] <- (za + zb * tlabs[3, ]) * tlabs[1, ]
|         tlabs[2, ] <- (za + zb * tlabs[3, ]) * tlabs[2, ]
|         farthest <- 1
|         farval <- corners[3, 1]
|         for (i in 2:8) if (corners[3, i] < farval) {
|             farthest <- i
|             farval <- corners[3, i]
|         }
|         mark <- rep(TRUE, 12)
|         for (j in 1:12) if (pre[j] == farthest || nxt[j] == farthest)
|             mark[j] <- FALSE
|         lsegments(corners[1, pre[!mark]], corners[2, pre[!mark]],
|                   corners[1, nxt[!mark]], corners[2, nxt[!mark]],
|                   col = par.box.final$col,
|                   lwd = par.box.final$lwd, lty = 2)
|
|         #############################################
|         ##                   New                   ##
|         #############################################
|
|         for (i in seq(along=vals)) {
|             llines(x = tdata[1, 15 * (i-1) + c(1,5)],
|                    y = tdata[2, 15 * (i-1) + c(1,5)])
|             llines(x = tdata[1, 15 * (i-1) + c(6,10)],
|                    y = tdata[2, 15 * (i-1) + c(6,10)])
|             llines(x = tdata[1, 15 * (i-1) + c(11,15)],
|                    y = tdata[2, 15 * (i-1) + c(11,15)])
|
|             llines(x = tdata[1, 15 * (i-1) + c(2,4)],
|                    y = tdata[2, 15 * (i-1) + c(2,4)], lwd = 3)
|             llines(x = tdata[1, 15 * (i-1) + c(7,9)],
|                    y = tdata[2, 15 * (i-1) + c(7,9)], lwd = 3)
|             llines(x = tdata[1, 15 * (i-1) + c(12,14)],
|                    y = tdata[2, 15 * (i-1) + c(12,14)], lwd = 3)
|
|             lpoints(x = tdata[1, 15 * (i-1) + 3],
|                     y = tdata[2, 15 * (i-1) + 3],
|                     col = "red", pch = 18)
|         }
|
|
|         #############################################
|
|         lsegments(corners[1, pre[mark]], corners[2, pre[mark]],
|                   corners[1, nxt[mark]], corners[2, nxt[mark]],
|                   col = par.box.final$col,
|                   lty = par.box.final$lty, lwd = par.box.final$lwd)
|         if (scales.3d$x.scales$draw) {
|             if (scales.3d$x.scales$arrows) {
|                 larrows(x0 = taxes[1, 1], y0 = taxes[2, 1],
|                         x1 = taxes[1,
|                         2], y1 = taxes[2, 2], lty = scales.3d$x.scales$lty,
|                         lwd = scales.3d$x.scales$lwd,
|                         col = scales.3d$x.scales$col)
|             }
|             else {
|                 lsegments(x0 = x.at[1, ], y0 = x.at[2, ],
|                           x1 = x.at.end[1,
|                           ], y1 = x.at.end[2, ], lty = scales.3d$x.scales$lty,
|                           col = scales.3d$x.scales$col,
|                           lwd = scales.3d$x.scales$lwd)
|                 ltext(x.at.lab, x = x.labs[1, ],
|                       y = x.labs[2,
|                       ], cex = scales.3d$x.scales$cex,
|                       font = scales.3d$x.scales$font,
|                       col = scales.3d$x.scales$col)
|             }
|         }
|         if (scales.3d$y.scales$draw) {
|             if (scales.3d$y.scales$arrows) {
|                 larrows(x0 = taxes[1, 3], y0 = taxes[2, 3],
|                         x1 = taxes[1,
|                         4], y1 = taxes[2, 4], lty = scales.3d$y.scales$lty,
|                         lwd = scales.3d$y.scales$lwd,
|                         col = scales.3d$y.scales$col)
|             }
|             else {
|                 lsegments(x0 = y.at[1, ], y0 = y.at[2, ],
|                           x1 = y.at.end[1,
|                           ], y1 = y.at.end[2, ], lty = scales.3d$y.scales$lty,
|                           col = scales.3d$y.scales$col,
|                           lwd = scales.3d$y.scales$lwd)
|                 ltext(y.at.lab, x = y.labs[1, ],
|                       y = y.labs[2,
|                       ], cex = scales.3d$y.scales$cex,
|                       font = scales.3d$y.scales$font,
|                       col = scales.3d$y.scales$col)
|             }
|         }
|         if (scales.3d$z.scales$draw) {
|             if (scales.3d$z.scales$arrows) {
|                 larrows(x0 = taxes[1, 5], y0 = taxes[2, 5],
|                         x1 = taxes[1,
|                         6], y1 = taxes[2, 6], lty = scales.3d$z.scales$lty,
|                         lwd = scales.3d$z.scales$lwd,
|                         col = scales.3d$z.scales$col)
|             }
|             else {
|                 lsegments(x0 = z.at[1, ], y0 = z.at[2, ],
|                           x1 = z.at.end[1,
|                           ], y1 = z.at.end[2, ], lty = scales.3d$z.scales$lty,
|                           col = scales.3d$x.scales$col,
|                           lwd = scales.3d$z.scales$lwd)
|                 ltext(z.at.lab, x = z.labs[1, ],
|                       y = z.labs[2,
|                       ], cex = scales.3d$z.scales$cex,
|                       font = scales.3d$z.scales$font,
|                       col = scales.3d$z.scales$col)
|             }
|         }
|         if (!is.null(xlab))
|             ltext(xlab$lab, x = tlabs[1, 1], y = tlabs[2, 1],
|                   cex = xlab$cex, rot = xlab$rot, font = xlab$font,
|                   col = xlab$col)
|         if (!is.null(ylab))
|             ltext(ylab$lab, x = tlabs[1, 2], y = tlabs[2, 2],
|                   cex = ylab$cex, rot = ylab$rot, font = ylab$font,
|                   col = ylab$col)
|         if (!is.null(zlab))
|             ltext(zlab$lab, x = tlabs[1, 3], y = tlabs[2, 3],
|                   cex = zlab$cex, rot = zlab$rot, font = zlab$font,
|                   col = zlab$col)
|     }
| }
|
|
|
|
|
| __________________________________________________
|
|
|
| -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
| r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
| Send "info", "help", or "[un]subscribe"
| (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
| _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
|

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at esb.ucp.pt  Wed Aug 14 17:15:03 2002
From: peter at esb.ucp.pt (Peter Ho)
Date: Wed, 14 Aug 2002 16:15:03 +0100
Subject: [R]: use of Error() for repeated measures with more than 2 factors
Message-ID: <3D5A73F7.3000906@esb.ucp.pt>

I have been trying to analyse an unreplicated repeated measures 2-level 
factorial design with 11 factors using aov() with Error(), similar to 
that described in  "Notes on the use of R for psychology experiments and 
questionnaires" by Jonathan Baron and  Yuelin Li (see the example of Hay's)

I have found that there seems to be a limit, in the number of factors in 
Error() . For example,  the following worked :

aov(CV ~(Twb+Plb+Psb+tinsb+tseedb+Tmb+Mcb+Mom0b+Mom1b+Mom2b+Mom3b)^3 + 
Error(Batch / 
(Twb+Plb+Psb+tinsb+tseedb+Tmb+Mcb)),simulation.6batches.aovdata)

but not:

aov(CV ~(Twb+Plb+Psb+tinsb+tseedb+Tmb+Mcb+Mom0b+Mom1b+Mom2b+Mom3b)^3 + 
Error(Batch / 
(Twb+Plb+Psb+tinsb+tseedb+Tmb+Mcb+Mom0b+Mom1b)),simulation.6batches.aovdata)

which I suppose should be the right way to code the strata.formula for 
11 fixed factors. Returned the following reply after running this script:

 >Error in eval(expr, envir, enclos) : couldn't find function "Error"

The only difference between the two scripts is the second one contains 
all 11 factors. Is this a bug? Or should I be using lme() or some other 
function when the number of factors is greater than the "limit"?

I would also like to hear some views as to whether Error() should be 
used for repeated measures, pro & cons,etc? I have found differing views 
in books. For example, Neter et al  "applied linear statistical models " 
uses simply the combined treatment by subject interaction mean square 
when testing main effects and their interactions. They do state that the 
relaxation of the assumptions of a repeated measures model can be made 
by the inclusion of first-order interaction between each factor and 
subjects in the model. However, this still falls short of the ideas 
suggested with using Error() for testing.On the other hand,  Mead's "the 
design of experiments puts repeated measures in the same chapter with 
split unit design, which are multistratum design. Jonathan Baron's and 
 Yuelin Li's document also references a number of books on this matter.

I know that this point is not really suitable for r-help, but it is 
related indirectly with regard to the use of strata.formula in Error().


Any comments would be grateful


Peter Ho
ISR-Porto



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Wed Aug 14 17:20:48 2002
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Wed, 14 Aug 2002 10:20:48 -0500
Subject: [R] Matrix inverse
Message-ID: <OFABC145E6.8A514C5B-ON86256C15.005427B0@mmm.com>


I am not sure what S ginverse exactly does, but there is Moore-Penrose
generalized inverse in MASS.  It is called ginv.

Andy

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122


|---------+----------------------------->
|         |           "Enrico De Giorgi"|
|         |           <degiorgi at math.eth|
|         |           z.ch>             |
|         |                             |
|         |           08/14/2002 09:17  |
|         |                             |
|---------+----------------------------->
  >-----------------------------------------------------------------------------------------------------------------------------|
  |                                                                                                                             |
  |      To:       r-help at stat.math.ethz.ch                                                                                     |
  |      cc:       (bcc: Andrzej P. Jaworski/US-Corporate/3M/US)                                                                |
  |      Subject:  [R] Matrix inverse                                                                                           |
  >-----------------------------------------------------------------------------------------------------------------------------|





A beginners question:

What the analogon in R of the ginverse() function in Splus?

Thank you.

Best Regards,
Enric
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From claude at isem.univ-montp2.fr  Wed Aug 14 17:58:05 2002
From: claude at isem.univ-montp2.fr (julien claude)
Date: Wed, 14 Aug 2002 17:58:05 +0200
Subject: [R] Matrix inverse
In-Reply-To: <NEBBLOMPELHOIMFBEMAHIEKKCGAA.degiorgi@math.ethz.ch>
References: <20020814112814.23570.qmail@web20809.mail.yahoo.com>
Message-ID: <3.0.1.32.20020814175805.0087e100@isem.isem.univ-montp2.fr>

Dear Enrico,

ginv in the Package MASS  calculates the Moore-Penrose generalized inverse,
and should be the analogous of ginverse in Splus


-------
julien Claude
ISEM, Universit? de Montpellier 2
34095 Montpellier
France 




A 16:17 14/08/02 +0200, Enrico De Giorgi a ?crit :
>A beginners question:
>
>What the analogon in R of the ginverse() function in Splus?
>
>Thank you.
>
>Best Regards,
>Enric
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Eric.Kort at vai.org  Wed Aug 14 18:12:10 2002
From: Eric.Kort at vai.org (Kort, Eric)
Date: Wed, 14 Aug 2002 12:12:10 -0400
Subject: [R] t-test via matrix operations
Message-ID: <0166955C4F625B4C81E0F436DE443C980104CF@VAIEXCH02.vai.org>

I need to calculate a large number of t statistics, and would like to do so via matrix operations.  So far I have figured out a way to calculate the mean of each row of the matrix:

d <- matrix(runif(100000,1,10), 1000, 10) # some test data
s <- rep(1,ncol(d)) # a sum vector to use for matrix multiplication
means <- (d%*%s)/ncol(d)

This is at least 1 order of magnitude faster than iterating through the rows and using the mean function (<1/100th seconds vs. 13/100th seconds on my computer).

Two questions:
1) Do you see a way to further optimize/simplify/elegantize this calculation of the row means?
2) How do I proceed to calculate the row variances with matrix operations (specifically, how can I use matrix operations to subtract each element of each row from the corresponding row mean)?

Thank you,
Eric Kort
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 14 18:21:27 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 14 Aug 2002 17:21:27 +0100 (BST)
Subject: [R] t-test via matrix operations
In-Reply-To: <0166955C4F625B4C81E0F436DE443C980104CF@VAIEXCH02.vai.org>
Message-ID: <Pine.LNX.4.31.0208141718260.17339-100000@gannet.stats>

On Wed, 14 Aug 2002, Kort, Eric wrote:

> I need to calculate a large number of t statistics, and would like to do so via matrix operations.  So far I have figured out a way to calculate the mean of each row of the matrix:
>
> d <- matrix(runif(100000,1,10), 1000, 10) # some test data
> s <- rep(1,ncol(d)) # a sum vector to use for matrix multiplication
> means <- (d%*%s)/ncol(d)
>
> This is at least 1 order of magnitude faster than iterating through the
rows and using the mean function (<1/100th seconds vs. 13/100th seconds
on my computer).
>
> Two questions:
> 1) Do you see a way to further optimize/simplify/elegantize this
calculation of the row means?

function rowMeans

> 2) How do I proceed to calculate the row variances with matrix
operations (specifically, how can I use matrix operations to subtract each
element of each row from the corresponding row mean)?

sweep does the subtraction, but I would make use of rowmeans(d^2) and
rowmeans(d) in the classic hand-calculation formula.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Wed Aug 14 18:23:21 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Wed, 14 Aug 2002 12:23:21 -0400
Subject: [R] Matrix inverse
References: <NEBBLOMPELHOIMFBEMAHIEKKCGAA.degiorgi@math.ethz.ch>
Message-ID: <3D5A83F9.A8054C22@umsanet.edu.bo>

 help.search("ginv")


gives the following:

Help files with alias or title matching `ginv',
type `help(FOO, package = PKG)' to inspect entry `FOO(PKG) TITLE':

ginv(MASS)              Generalized Inverse of a Matrix
ginv(multcomp)          Generalized Inverse of a Matrix

so you must say for instance
library(MASS)

and then
?ginv

Kjetil Halvorsen

Enrico De Giorgi wrote:
> 
> A beginners question:
> 
> What the analogon in R of the ginverse() function in Splus?
> 
> Thank you.
> 
> Best Regards,
> Enric
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 14 18:55:34 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 14 Aug 2002 17:55:34 +0100 (BST)
Subject: [R] Why can't Anove (car package) see the data?
In-Reply-To: <5.1.0.14.2.20020814074910.01d90d68@mcmail.cis.mcmaster.ca>
Message-ID: <Pine.LNX.4.31.0208141748001.18789-100000@gannet.stats>

It is indeed a scope problem.  Anova.glm is calling functions which call
update and so is not calling glm in the correct frame.

Here is a fix:

fun.2 <- function(df){
    mod <- eval(substitute(
               glm(partic != 'not.work' ~ hincome + children + region,
               data=df, family=binomial), list(df=df)))
    Anova(mod)
}

which makes sure the actual data object gets stored in the call component
of the fitted model.  That is often a good idea, but Anova.glm needs
correcting.

This is a notorious problem in S, and although in ca 1998 I rewrote R's
update to work better (and better than S's) there is no getting away from
the S/R scope rules:  functions which have been called en route to (here)
Anova.II.LR.glm are not searched.

I'll correspond directly with John about possible solutions.  It should be
possible to use drop1.glm, or at least its ideas.


On Wed, 14 Aug 2002, John Fox wrote:

> Dear Patrick,
>
> It's difficult for me to tell from your description what the specific
> nature of the problem is, though it seems to be some kind of scoping issue.
>
> I've experimented a bit and found that the call to update (indirectly) from
> Anova.glm (with LR type-II tests) seems to cause problems:
>
>      > fun.1 <- function(df){
>      +     mod <- glm(partic != 'not.work' ~ hincome + children + region,
>      +         data=df, family=binomial)
>      +     Anova(mod)
>      +     }
>      > fun.1(Womenlf)
>      Error in eval(expr, envir, enclos) : numeric envir arg not of length one
>      > traceback()
>      16: eval(predvars, data, env)
>      15: model.frame.default(formula = partic != "not.work" ~ children +
>              region, data = df, drop.unused.levels = TRUE)
>      14: model.frame(formula = partic != "not.work" ~ children + region,
>              data = df, drop.unused.levels = TRUE)
>      13: eval(expr, envir, enclos)
>      12: eval(mf, parent.frame())
>      11: glm(formula = partic != "not.work" ~ children + region, family =
> binomial,
>              data = df)
>      10: eval(expr, envir, enclos)
>      9: eval(call, parent.frame())
>      8: update.default(mod, eval(parse(text = paste(".~.-",
> paste(c(names[term],
>          rels), collapse = "-")))))
>      7: update(mod, eval(parse(text = paste(".~.-", paste(c(names[term],
>          rels), collapse = "-")))))
>      6: Anova.II.LR.glm(mod)
>      5: switch(test.statistic, LR = Anova.II.LR.glm(mod), Wald =
> Anova.II.Wald.glm(mod),
>          F = Anova.II.F.glm(mod, error, error.estimate))
>      4: switch(type, II = switch(test.statistic, LR = Anova.II.LR.glm(mod),
>          Wald = Anova.II.Wald.glm(mod), F = Anova.II.F.glm(mod, error,
>              error.estimate)), III = switch(test.statistic, LR =
> Anova.III.LR.glm(mod),
>          Wald = Anova.III.Wald.glm(mod), F = Anova.III.F.glm(mod,
>              error, error.estimate)))
>      3: Anova.glm(mod)
>      2: Anova(mod)
>      1: fun.1(Womenlf)
>
> (This uses the Womenlf data frame in the car package.)
>
> In contrast, Anova.lm, which doesn't call update, works OK:
>
>     > fun.2 <- function(df){
>      +     mod <- lm(prestige ~ income + education, data=df)
>      +     Anova(mod)
>      +     }
>      > fun.2(Prestige)
>      Anova Table (Type II tests)
>
>      Response: prestige
>              Sum Sq Df F value    Pr(>F)
>      income    2248.1  1  36.856 2.355e-08
>      education 8577.3  1 140.615 < 2.2e-16
>      Residuals 6038.9 99
>      >
>
> (using the Prestige data frame, again in car.)
>
> I don't see an immediate way around the problem, but I'll think about it.
> In addition, if you send me some more information -- the data that you were
> using, the model that you fit, the function from which you called Anova --
> I'll take a look a it. I'm leaving town for several days tomorrow. If you
> send me the information before then, I'll take it with me.
>
> I'm sorry that you're experiencing this problem,
>   John
>
> At 03:14 PM 8/14/2002 +1200, Patrick Connolly wrote:
> >At the end of the 'Details:' section of the help on Anova (car
> >package), it states:
> >
> >      The standard R `anova' function calculates sequential (type-I)
> >      tests. These rarely test meaningful hypotheses.
> >
> >So I thought I'd try it.  However, I was perplexed to get this
> >message:
> >
> >Browse[1]> Anova.glm(leaf.glm1, type ="II")
> >Error in terms.formula(formula, data = data) :
> >         Object "use.df" not found
> >
> >The regular anova function can find use.df.  What could make it
> >invisible to Anova?  I thought it might be because terms.formula took
> >an argument x and I already had an object x, but changing its name
> >didn't help.  I spent some time searching the archives but found no
> >mention of this problem.  I read some of the car package help files,
> >but didn't notice a reference to what is different in the way data is
> >seen.
> >
> >The example given in the help file does work, but it uses a data
> >object which is in the working directory.  That's not practicable
> >within a function.  So I'd appreciate other ideas.
> >
> >platform i686-pc-linux-gnu
> >arch     i686
> >os       linux-gnu
> >system   i686, linux-gnu
> >status
> >major    1
> >minor    5.1
> >year     2002
> >month    06
> >day      17
> >language R
> >
> >Thanks
> >
> >--
> >Patrick Connolly
> >HortResearch
> >Mt Albert
> >Auckland
> >New Zealand
> >Ph: +64-9 815 4200 x 7188
> >~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
> >I have the world`s largest collection of seashells. I keep it on all
> >the beaches of the world ... Perhaps you`ve seen it.  ---Steven Wright
> >~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
> >
> >
> >______________________________________________________
> >The contents of this e-mail are privileged and/or confidential to the
> >named recipient and are not to be used by any other person and/or
> >organisation. If you have received this e-mail in error, please notify
> >the sender and delete all material pertaining to this e-mail.
> >______________________________________________________
> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >Send "info", "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
> -----------------------------------------------------
> John Fox
> Department of Sociology
> McMaster University
> Hamilton, Ontario, Canada L8S 4M4
> email: jfox at mcmaster.ca
> phone: 905-525-9140x23604
> web: www.socsci.mcmaster.ca/jfox
> -----------------------------------------------------
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From O.Kullmann at Swansea.ac.uk  Wed Aug 14 19:42:45 2002
From: O.Kullmann at Swansea.ac.uk (Oliver Kullmann)
Date: Wed, 14 Aug 2002 18:42:45 +0100
Subject: [R] numerical differentiation
Message-ID: <200208141842.45363.O.Kullmann@Swansea.ac.uk>

Hi,

I would like like to compute first and second derivative
from numerical data. I hoped I could compute a spline
object from the data (that works), and then compute the
derivative from that spline objects, but I couldn't find
anything like that.

Does somebody know how to get numerical derivatives?

Oliver

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 14 20:18:12 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 14 Aug 2002 19:18:12 +0100 (BST)
Subject: [R] numerical differentiation
In-Reply-To: <200208141842.45363.O.Kullmann@Swansea.ac.uk>
Message-ID: <Pine.LNX.4.31.0208141914271.18993-100000@gannet.stats>

On Wed, 14 Aug 2002, Oliver Kullmann wrote:

> I would like like to compute first and second derivative
> from numerical data. I hoped I could compute a spline
> object from the data (that works), and then compute the
> derivative from that spline objects, but I couldn't find
> anything like that.

Package pspline on CRAN will fit a spline to data and then predict
its derivatives.

smooth.spline in package modreg will do the same thing, but only for
cubic splines where the second derivative is piecewise linear.
A quintic spline would be a better idea, and pspline allows that.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Nikolaus.Hansen at ingene.de  Wed Aug 14 20:31:22 2002
From: Nikolaus.Hansen at ingene.de (Nikolaus Hansen)
Date: Wed, 14 Aug 2002 20:31:22 +0200
Subject: [R] Out of memory
Message-ID: <AAF430AF47FBDD409B95B63BD237EB54043677@mailman2.office.ingene.com>

During a R session (Version 1.4.1 under Windows) I ended up getting the following error message:

  Error: vector memory exhausted (limit reached?)

independently of the command like rm(something), q(), ls(), gc(), memory.size(), memory.limit(300000000), ...

What could I do now to save my data? How could I prevent this situation?

Thanks for any hint, 
Nikolaus Hansen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richards at upci.pitt.edu  Wed Aug 14 22:30:58 2002
From: richards at upci.pitt.edu (Richards, Tom)
Date: Wed, 14 Aug 2002 16:30:58 -0400
Subject: [R] Smoothing estimated probabilities
Message-ID: <73D624FECBBAF6459BB60437FF7C02FB06D24E@nsabpmail>

Hello:

	I have been using sm.binomial() in the Bowman and Azzalini's sm
package to smooth and plot estimated probabilities as a function of a
covariate.  I am concerned about my choice of bandwidth, and I was hoping
there was another method available in some other package, perhaps with an
automatic choice of smoothing parameter.  Does anyone know of one?  Thanks
in advance.

Tom Richards
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gu4 at llnl.gov  Wed Aug 14 22:52:36 2002
From: gu4 at llnl.gov (Pauline Gu)
Date: Wed, 14 Aug 2002 13:52:36 -0700
Subject: [R] SJava.dll, UnsatisfiedLinkError
In-Reply-To: <0166955C4F625B4C81E0F436DE443C980104CF@VAIEXCH02.vai.org>
Message-ID: <5.1.1.5.2.20020814134344.025f89e8@poptop.llnl.gov>

Dear R experts and Omega experts,

I am trying to run the R from Java.  Now, I am facing the problem: 
UnsatisfiedLinkError: SJava.dll, please see the detail Error message below:

Path is 
/cygdrive/c/Tcl/bin:.:/cygdrive/c/ora9iclient/jdk/jre/bin/classic:/cygdr
ive/c/Documents and 
Settings/pgu/Desktop/oldmachine/rtools:/cygdrive/e/R/gcc/bin
:/cygdrive/c/WINNT/system32:/cygdrive/c/WINNT:/cygdrive/c/WINNT/system32/WBEM:/c
ygdrive/c/ora9iclient/bin:/cygdrive/c/ora9iclient/jdk/bin:/cygdrive/c/Perl/bin:/
cygdrive/f/Mingw/bin:/cygdrive/c/Program Files/HTML Help 
Workshop:/cygdrive/e/r-
1.5.1/library/SJava/libs:/cygdrive/e/r-1.5.1/src/gnuwin32
Hello...
Exception in thread "main" java.lang.UnsatisfiedLinkError: 
E:\R-1.5.1\library\SJ
ava\libs\SJava.dll: Can't find dependent libraries
         at java.lang.ClassLoader$NativeLibrary.load(Native Method)
         at java.lang.ClassLoader.loadLibrary0(Unknown Source)
         at java.lang.ClassLoader.loadLibrary(Unknown Source)
         at java.lang.Runtime.loadLibrary0(Unknown Source)
         at java.lang.System.loadLibrary(Unknown Source)
         at 
org.omegahat.R.Java.RForeignReference.<clinit>(RForeignReference.java
:25)

As one can see, that I do have the SJava.dll directory 
(e/r-1.5.1/library/SJava/libs) in the path.  Please help.  Thanks.

OS: Window 2000
R version: R1.5.1 (compiled from Source code)
RSJava version: 0.65

Thanks in advance for your help.

Pauline

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Wed Aug 14 23:00:55 2002
From: chong at stat.purdue.edu (Chong Gu)
Date: Wed, 14 Aug 2002 16:00:55 -0500
Subject: [R] Smoothing estimated probabilities 
In-Reply-To: Your message of "Wed, 14 Aug 2002 16:30:58 -0400."
             <73D624FECBBAF6459BB60437FF7C02FB06D24E@nsabpmail> 
Message-ID: <200208142100.g7EL0u7j082244@odds.stat.purdue.edu>


You may want to try ssden in gss.


> Hello:
> 
> 	I have been using sm.binomial() in the Bowman and Azzalini's sm
> package to smooth and plot estimated probabilities as a function of a
> covariate.  I am concerned about my choice of bandwidth, and I was hoping
> there was another method available in some other package, perhaps with an
> automatic choice of smoothing parameter.  Does anyone know of one?  Thanks
> in advance.
> 
> Tom Richards
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> ._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From postmaster at nanet.com.br  Wed Aug 14 23:44:12 2002
From: postmaster at nanet.com.br (postmaster@nanet.com.br)
Date: Wed, 14 Aug 2002 18:44:12 -0300
Subject: [R] E-mail Nanet - Virus removido !
Message-ID: <MDAEMON68686868200208141844.AA4412088@nanet.com.br>

A mensagem a seguir possuia arquivos anexados com virus.
Os mesmos foram removidos:

>From      : ducharl at statcan.ca
To        : r-help at stat.math.ethz.ch
Subject   : Visibility
Date      : 
Message-ID: 

Arquivos                Nome do virus               Procedimento
------------------------------------------------------------------------------
cf2034122229.att              Exploit.IFrame.FileDownloadRemoved
Amr.scr                       I-Worm.Klez.h            Removed


Qualquer duvida entre em contato conosco:
virus at nanet.com.br
(0xx34) 3214-1004
http://www.nanet.com.br


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.connolly at hortresearch.co.nz  Wed Aug 14 23:53:17 2002
From: p.connolly at hortresearch.co.nz (Patrick Connolly)
Date: Thu, 15 Aug 2002 09:53:17 +1200
Subject: [R] Why can't Anova (car package) see the data?
In-Reply-To: <5.1.0.14.2.20020814074910.01d90d68@mcmail.cis.mcmaster.ca>
References: <20020814031402.GB5354@hortresearch.co.nz> <5.1.0.14.2.20020814074910.01d90d68@mcmail.cis.mcmaster.ca>
Message-ID: <20020814215317.GA6660@hortresearch.co.nz>

On Wed, 14-Aug-2002 at 08:26AM -0400, John Fox wrote:

|> Dear Patrick,
|> 
|> It's difficult for me to tell from your description what the specific 
|> nature of the problem is, though it seems to be some kind of scoping issue.
|> 
|> I've experimented a bit and found that the call to update (indirectly) from 
|> Anova.glm (with LR type-II tests) seems to cause problems:

The glms I've been using commonly use update directly, so it's even
more likely to be a problem.


|> I don't see an immediate way around the problem, but I'll think
|> about it.  In addition, if you send me some more information -- the
|> data that you were using, the model that you fit, the function from
|> which you called Anova -- I'll take a look a it. I'm leaving town
|> for several days tomorrow. If you send me the information before
|> then, I'll take it with me.

Thanks for the offer.  It would be a bit involved getting you an
appropriate piece of the data to replicate it, but I've been able to
get around the problem by attaching the dataframe and leaving out the
data = part of the call.

However, if the work around that Brian Ripley suggested isn't enough
to hunt down a more elegant fix and you need a problem to use, let me
know, and I'll extract a piece for you.

Thanks for your help.

-- 
Patrick Connolly
HortResearch
Mt Albert
Auckland
New Zealand 
Ph: +64-9 815 4200 x 7188
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~
I have the world`s largest collection of seashells. I keep it on all
the beaches of the world ... Perhaps you`ve seen it.  ---Steven Wright 
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~


______________________________________________________
The contents of this e-mail are privileged and/or confidential to the
named recipient and are not to be used by any other person and/or
organisation. If you have received this e-mail in error, please notify 
the sender and delete all material pertaining to this e-mail.
______________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Norman.Good at dpi.qld.gov.au  Thu Aug 15 00:06:31 2002
From: Norman.Good at dpi.qld.gov.au (Good, Norman)
Date: Thu, 15 Aug 2002 08:06:31 +1000
Subject: [R] predict se.fit for nls
Message-ID: <03DC03917AD26444A980CD8D4BC9621604390B@decsrv001.dpi.qld.gov.au>

Dear R developers

Is there or will there be and se.fit or confidence interval option for
non-linear models.

If not is there an easier work around than the one in MASS 3rd Ed p245


Cheers

Norm

Norm Good
Fisheries Resource  Assessment
Southern Fisheries Centre
13 Beach Road, PO Box 76
Deception Bay, Qld, 4508
DPI, AFFS (Agency for Food and Fibre Sciences)
Phone: +61 7 3817 9588
Fax: +61 7 3817 9555
Email: Norman.Good at dpi.qld.gov.au

There is no gravity; the earth just sucks.
-- Richard Bachman, "Rage" 



********************************DISCLAIMER****************************
The information contained in the above e-mail message or messages 
(which includes any attachments) is confidential and may be legally 
privileged.  It is intended only for the use of the person or entity 
to which it is addressed.  If you are not the addressee any form of 
disclosure, copying, modification, distribution or any action taken 
or omitted in reliance on the information is unauthorised.  Opinions 
contained in the message(s) do not necessarily reflect the opinions 
of the Queensland Government and its authorities.  If you received 
this communication in error, please notify the sender immediately and 
delete it from your computer system network.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Norman.Good at dpi.qld.gov.au  Thu Aug 15 00:11:51 2002
From: Norman.Good at dpi.qld.gov.au (Good, Norman)
Date: Thu, 15 Aug 2002 08:11:51 +1000
Subject: [R] predict se.fit for nls_ wrong page number quoted
Message-ID: <03DC03917AD26444A980CD8D4BC9621604390C@decsrv001.dpi.qld.gov.au>

Dear R developers

Is there or will there be and se.fit or confidence interval option for
non-linear models.

If not is there an easier work around than the one in MASS 3rd Ed p253.....


Cheers

Norm

Norm Good
Fisheries Resource  Assessment
Southern Fisheries Centre
13 Beach Road, PO Box 76
Deception Bay, Qld, 4508
DPI, AFFS (Agency for Food and Fibre Sciences)
Phone: +61 7 3817 9588
Fax: +61 7 3817 9555
Email: Norman.Good at dpi.qld.gov.au

There is no gravity; the earth just sucks.
-- Richard Bachman, "Rage" 



********************************DISCLAIMER****************************
The information contained in the above e-mail message or messages 
(which includes any attachments) is confidential and may be legally 
privileged.  It is intended only for the use of the person or entity 
to which it is addressed.  If you are not the addressee any form of 
disclosure, copying, modification, distribution or any action taken 
or omitted in reliance on the information is unauthorised.  Opinions 
contained in the message(s) do not necessarily reflect the opinions 
of the Queensland Government and its authorities.  If you received 
this communication in error, please notify the sender immediately and 
delete it from your computer system network.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From helena_shevchuk at hotmail.com  Thu Aug 15 02:40:41 2002
From: helena_shevchuk at hotmail.com (Helena Shevchuk)
Date: Wed, 14 Aug 2002 17:40:41 -0700
Subject: [R] How to run R to generate graphics (jpeg) files dynamically ?
Message-ID: <F126SOlbpH71yEXUIEA000004a1@hotmail.com>


Hello.
I am getting started with R system and I have a question:

I'd like to use R system to generate some graphics (jpeg) files dynamically 
from
command line or perl script (like: > Rgui -input_r_file <file>.r 
-output_jpeg_file <file>.jpeg)

1) How should I invoke R to read the data from external file.
2) How should I invoke R to run statements from external *.r file.
3) How should I invoke R to save processed data as jpeg file.

Thanks a lot.
Helena.





_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brad at aris.ss.uci.edu  Thu Aug 15 03:17:44 2002
From: brad at aris.ss.uci.edu (Brad Buchsbaum)
Date: Wed, 14 Aug 2002 18:17:44 -0700 (PDT)
Subject: [R] SJava.dll, UnsatisfiedLinkError
In-Reply-To: <5.1.1.5.2.20020814134344.025f89e8@poptop.llnl.gov>
Message-ID: <Pine.GSO.4.44.0208141816001.5537-100000@aris.ss.uci.edu>


Pauline,

Notice your path is separated by colons, and you seem to be using windows.


Brad Buchsbaum

On Wed, 14 Aug 2002, Pauline Gu wrote:

> Dear R experts and Omega experts,
>
> I am trying to run the R from Java.  Now, I am facing the problem:
> UnsatisfiedLinkError: SJava.dll, please see the detail Error message below:
>
> Path is
> /cygdrive/c/Tcl/bin:.:/cygdrive/c/ora9iclient/jdk/jre/bin/classic:/cygdr
> ive/c/Documents and
> Settings/pgu/Desktop/oldmachine/rtools:/cygdrive/e/R/gcc/bin
> :/cygdrive/c/WINNT/system32:/cygdrive/c/WINNT:/cygdrive/c/WINNT/system32/WBEM:/c
> ygdrive/c/ora9iclient/bin:/cygdrive/c/ora9iclient/jdk/bin:/cygdrive/c/Perl/bin:/
> cygdrive/f/Mingw/bin:/cygdrive/c/Program Files/HTML Help
> Workshop:/cygdrive/e/r-
> 1.5.1/library/SJava/libs:/cygdrive/e/r-1.5.1/src/gnuwin32
> Hello...
> Exception in thread "main" java.lang.UnsatisfiedLinkError:
> E:\R-1.5.1\library\SJ
> ava\libs\SJava.dll: Can't find dependent libraries
>          at java.lang.ClassLoader$NativeLibrary.load(Native Method)
>          at java.lang.ClassLoader.loadLibrary0(Unknown Source)
>          at java.lang.ClassLoader.loadLibrary(Unknown Source)
>          at java.lang.Runtime.loadLibrary0(Unknown Source)
>          at java.lang.System.loadLibrary(Unknown Source)
>          at
> org.omegahat.R.Java.RForeignReference.<clinit>(RForeignReference.java
> :25)
>
> As one can see, that I do have the SJava.dll directory
> (e/r-1.5.1/library/SJava/libs) in the path.  Please help.  Thanks.
>
> OS: Window 2000
> R version: R1.5.1 (compiled from Source code)
> RSJava version: 0.65
>
> Thanks in advance for your help.
>
> Pauline
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From m4625 at ms21.hinet.net  Thu Aug 15 03:24:09 2002
From: m4625 at ms21.hinet.net (m4625@ms21.hinet.net)
Date: Thu, 15 Aug 2002 09:24:09 +0800 (CST)
Subject: [R] sorry!~I have a question
Message-ID: <200208150124.g7F1O8c23394@webmail0-1.hinet.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20020815/db53bf83/attachment.pl

From ko-kang at xtra.co.nz  Thu Aug 15 05:13:27 2002
From: ko-kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Thu, 15 Aug 2002 15:13:27 +1200
Subject: [R] How to run R to generate graphics (jpeg) files dynamically ?
Message-ID: <20020815031327.RCXV7633.web3-rme.xtra.co.nz@[127.0.0.1]>


> 
> From: "Helena Shevchuk" <helena_shevchuk at hotmail.com>
> Date: 2002/08/15 Thu PM 12:40:41 GMT+12:00
> To: R-help at stat.math.ethz.ch
> Subject: [R] How to run R to generate graphics (jpeg) files dynamically ?
> 
> 
> Hello.
> I am getting started with R system and I have a question:
> 
> I'd like to use R system to generate some graphics (jpeg) files dynamically 
> from
> command line or perl script (like: > Rgui -input_r_file <file>.r 
> -output_jpeg_file <file>.jpeg)
> 
> 1) How should I invoke R to read the data from external file.
> 2) How should I invoke R to run statements from external *.r file.

Do you want to call the external files within R?  If so:
  source("foo.R")
will do as long as you set the working directory to be the directory with "foo.R". 

If you want to invoke in batch mode, then depending on your platform (from your description on Rgui, I take it you're on Windows), you will do:
  Rcmd BATCH foo.R
it will then run all the commands in foo.R and save the output in foo.Rout.

> 3) How should I invoke R to save processed data as jpeg file.

What do you mean by processed data?  If you meant "graphs", then take a look at:
  ?jpeg
if you mean all the commands and their results, they will be stored (if you run in BATCH mode) in *.Rout, which is plain ASCII file.


-----------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub (SDK)
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 15 08:23:56 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 15 Aug 2002 07:23:56 +0100 (BST)
Subject: [R] How to run R to generate graphics (jpeg) files dynamically
 ?
In-Reply-To: <F126SOlbpH71yEXUIEA000004a1@hotmail.com>
Message-ID: <Pine.LNX.4.31.0208150720000.19881-100000@gannet.stats>

Please read the rw-FAQ Q2.9.  You want to use rterm --no-save < input.R
and to open a jpeg() device in input.R.  You cannot use Rgui.

The answer here depends on the platform in use: you are using Windows, and
neglected to tell us.

On Wed, 14 Aug 2002, Helena Shevchuk wrote:

>
> Hello.
> I am getting started with R system and I have a question:
>
> I'd like to use R system to generate some graphics (jpeg) files dynamically
> from
> command line or perl script (like: > Rgui -input_r_file <file>.r
> -output_jpeg_file <file>.jpeg)
>
> 1) How should I invoke R to read the data from external file.

There's a whole R manual on that: see the Help menu in Rgui.

> 2) How should I invoke R to run statements from external *.r file.
> 3) How should I invoke R to save processed data as jpeg file.

Answered above.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Thu Aug 15 09:57:50 2002
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Thu, 15 Aug 2002 09:57:50 +0200 (MEST)
Subject: [R] sorry!~I have a question
In-Reply-To: <200208150124.g7F1O8c23394@webmail0-1.hinet.net>
Message-ID: <XFMail.020815095750.theis@statistik.uni-dortmund.de>


On 15-Aug-02 m4625 at ms21.hinet.net wrote:
> 
> I have a question.
> I can find a function about "Gaussian hypergeometric function" in sofeware
> Maple V.
> I need this function to calculate.
> Is there a similar function in R ?
Well, I don't know what function is implemented in Maple under this name, but
have a look at help(Hypergeometric) for the hypergeometric distribution
function. In library SuppDists there is the generalized hypergeometric
distribution.

Winfried
> Or I have to design such a function.
> 
> Thanks!
> Jimmy Cheng 
---------------------------------------------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 15-Aug-02

Dipl.-Math. Winfried Theis
SFB 475, Fachbereich Statistik, Universit"at Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903 FAX: +49-231-755-4387
----------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hennig at stat.math.ethz.ch  Thu Aug 15 11:32:12 2002
From: hennig at stat.math.ethz.ch (Christian Hennig)
Date: Thu, 15 Aug 2002 11:32:12 +0200 (CEST)
Subject: [R] Behaviour of cov.rob/MCD
Message-ID: <Pine.LNX.4.44.0208151123060.5956-100000@florence>

Dear list,

here is something I do not understand about cov.rob.

> dat <- rmvnorm(200,rep(0,10),diag(10))
> cov.rob(dat,method="mcd")
> cov.rob(dat,method="mcd",quantile.used= floor(3*211/4))
# All fine; default for quantile.used is floor(211/2)

> dat <- rmvnorm(20,rep(0,10),diag(10))
> cov.rob(dat,method="mcd")
# quantile.used is floor(31/2). Also fine, but...

> cov.rob(dat,method="mcd",quantile.used= floor(3*31/4))

This seems to never come to an end and cannot even be stopped by C-c C-c 
(ESS).
I thought that a larger quantile should get more stable results for such
small datasets, and I do not understand where the computational problem
comes from.

> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    5.1              
year     2002             
month    06               
day      17               
language R                

Best,
Christian

-- 
***********************************************************************
Christian Hennig
Seminar fuer Statistik, ETH-Zentrum (LEO), CH-8092 Zuerich (current)
and Fachbereich Mathematik-SPST/ZMS, Universitaet Hamburg
hennig at stat.math.ethz.ch, http://stat.ethz.ch/~hennig/
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hennig at stat.math.ethz.ch  Thu Aug 15 11:42:10 2002
From: hennig at stat.math.ethz.ch (Christian Hennig)
Date: Thu, 15 Aug 2002 11:42:10 +0200 (CEST)
Subject: [R] cov.rob: May I answer myself?
Message-ID: <Pine.LNX.4.44.0208151136460.5956-100000@florence>

I asked:

Dear list,

here is something I do not understand about cov.rob.

> dat <- rmvnorm(200,rep(0,10),diag(10))
> cov.rob(dat,method="mcd")
> cov.rob(dat,method="mcd",quantile.used= floor(3*211/4))
# All fine; default for quantile.used is floor(211/2)

> dat <- rmvnorm(20,rep(0,10),diag(10))
> cov.rob(dat,method="mcd")
# quantile.used is floor(31/2). Also fine, but...

> cov.rob(dat,method="mcd",quantile.used= floor(3*31/4))

This seems to never come to an end and cannot even be stopped by C-c C-c 
(ESS).
I thought that a larger quantile should get more stable results for such
small datasets, and I do not understand where the computational problem
comes from.

Answer:

I realize that quantile>n=20. It seems that this is the
problem. quantile=19 works, quantile=20 gives an error, quantile=21 causes
this strange behaviour. Perhaps there should be a protection?

Best,
Christian 


-- 
***********************************************************************
Christian Hennig
Seminar fuer Statistik, ETH-Zentrum (LEO), CH-8092 Zuerich (current)
and Fachbereich Mathematik-SPST/ZMS, Universitaet Hamburg
hennig at stat.math.ethz.ch, http://stat.ethz.ch/~hennig/
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Thu Aug 15 13:58:26 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Thu, 15 Aug 2002 07:58:26 -0400
Subject: [R] Smoothing estimated probabilities
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC592@usrymx10.merck.com>

(I just bought a copy of Prof. Gu's new book at the JSM, so I'll be learning
more about `gss'.)

I believe Loader's `locfit' package also does smooth logistic regression via
local polynomial (as `sm'), but with several automatic bandwidth selection
procedures.

gam() in the recommended package `mgcv' can also be used, I believe.

Andy

> -----Original Message-----
> From: Richards, Tom [mailto:richards at upci.pitt.edu]
> Sent: Wednesday, August 14, 2002 4:31 PM
> To: 'r-help at stat.math.ethz.ch'
> Subject: [R] Smoothing estimated probabilities
> 
> 
> Hello:
> 
> 	I have been using sm.binomial() in the Bowman and Azzalini's sm
> package to smooth and plot estimated probabilities as a function of a
> covariate.  I am concerned about my choice of bandwidth, and 
> I was hoping
> there was another method available in some other package, 
> perhaps with an
> automatic choice of smoothing parameter.  Does anyone know of 
> one?  Thanks
> in advance.
> 
> Tom Richards
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hoppe at sitewaerts.de  Thu Aug 15 14:04:56 2002
From: hoppe at sitewaerts.de (Daniel Hoppe)
Date: Thu, 15 Aug 2002 14:04:56 +0200
Subject: [R] Document R sourcecode with Tex
Message-ID: <903A7281CDB7D4118A5000500450BB088EB843@samoa.sitewaerts>

Hi all,

thanks for all the great help. Just in case someone is interested: I ended
up using the tex package "listings" and Sweave, both really convenient to
use.

Best Regards,

Daniel

<<<<<<<<<<<<<<<<<<<<<<<<<<<
sitewaerts GmbH
Hebelstra?e 15
D-76133 Karlsruhe

Tel: +49 (721) 920 918 0
Fax: +49 (721) 920 918 29
http://www.sitewaerts.de
>>>>>>>>>>>>>>>>>>>>>>>>>>>


Der Inhalt dieser E-Mail ist vertraulich und ausschlie?lich f?r den
bezeichneten Adressaten bestimmt. Wenn Sie nicht der vorgesehene Adressat
dieser E-Mail oder dessen Vertreter sein sollten, so beachten Sie bitte, da?
jede Form der Kenntnisnahme, Ver?ffentlichung, Vervielf?ltigung oder
Weitergabe des Inhalts dieser E-Mail unzul?ssig ist. Wir bitten Sie, sich in
diesem Fall mit dem Absender der E-Mail in Verbindung zu setzen. Aussagen
gegen?ber dem Adressaten unterliegen den Regelungen des zugrundeliegenden
Angebotes bzw. Auftrags, insbesondere den Allgemeinen Auftragsbedingungen
und der individuellen Haftungsvereinbarung. Der Inhalt der E-Mail ist nur
rechtsverbindlich, wenn er unsererseits durch einen Brief entsprechend
best?tigt wird.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Thu Aug 15 16:03:27 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Thu, 15 Aug 2002 10:03:27 -0400
Subject: [R] t-test via matrix operations
In-Reply-To: <40422354@toto.iv>
Message-ID: <15707.46255.730547.481961@gargle.gargle.HOWL>

Eric Kort <Eric.Kort at vai.org> wrote:
> 2) How do I proceed to calculate the row variances with matrix
> operations (specifically, how can I use matrix operations to subtract each
> element of each row from the corresponding row mean)?

Brian D. Ripley <ripley at stats.ox.ac.uk> replied:
> sweep does the subtraction, but I would make use of rowmeans(d^2) and
> rowmeans(d) in the classic hand-calculation formula.


Here are four useful functions that build on rowMeans and friends:

colVars <- function(x, na.rm=FALSE, dims=1, unbiased=TRUE, SumSquares=FALSE,
                    twopass=FALSE) {
  if (SumSquares) return(colSums(x^2, na.rm, dims))
  N <- colSums(!is.na(x), FALSE, dims)
  Nm1 <- if (unbiased) N-1 else N
  if (twopass) {x <- if (dims==length(dim(x))) x - mean(x, na.rm=na.rm) else
                     sweep(x, (dims+1):length(dim(x)), colMeans(x,na.rm,dims))}
  (colSums(x^2, na.rm, dims) - colSums(x, na.rm, dims)^2/N) / Nm1
}

rowVars <- function(x, na.rm=FALSE, dims=1, unbiased=TRUE, SumSquares=FALSE,
                    twopass=FALSE) {
  if (SumSquares) return(rowSums(x^2, na.rm, dims))
  N <- rowSums(!is.na(x), FALSE, dims)
  Nm1 <- if (unbiased) N-1 else N
  if (twopass) {x <- if (dims==0) x - mean(x, na.rm=na.rm) else
                     sweep(x, 1:dims, rowMeans(x,na.rm,dims))}
  (rowSums(x^2, na.rm, dims) - rowSums(x, na.rm, dims)^2/N) / Nm1
}

colStdevs <- function(x, ...) sqrt(colVars(x, ...))

rowStdevs <- function(x, ...) sqrt(rowVars(x, ...))

-----------------------------------------------------------------------------

And in case any core member is inspired to put these into base, here's the .Rd:

\name{colVars}
\alias{colVars}
\alias{rowVars}
\alias{colStdevs}
\alias{rowStdevs}
\title{Column and Row Variances}
\description{Variances, or standard deviations by column (or row) of an array.}
\usage{
  colVars (x, na.rm=FALSE, dims=1, unbiased=TRUE, SumSquares=FALSE,
           twopass=FALSE)
  rowVars (x, na.rm=FALSE, dims=1, unbiased=TRUE, SumSquares=FALSE,
           twopass=FALSE)
  colStdevs(x, ...)
  rowStdevs(x, ...)
}
\arguments{
  \item{x}{A numeric array (or a dataframe to convert to a matrix).}
  \item{na.rm}{Logical: Remove NA's?}
  \item{dims}{Number of dimensions to sum over [colSums] or leave alone
              [rowSums].  Only useful when x is a multidimensional array.}
  \item{unbiased}{Logical: Use (N-1) in the denominator when calculating
                  variance?}
  \item{SumSquares}{Logical: If TRUE, colVars just returns sums of squares.}
  \item{twopass}{Logical: If TRUE, colVars uses the corrected two-pass
     algorithm of Chan Golub & LeVeque, which is slower but less subject
     to roundoff error.}
  \item{...}{colStdevs/rowStdevs take the same arguments as colVars/rowVars.}
}
\details{On a matrix:

  colVars (x, na.rm) == apply(x, 2, var,  na.rm=na.rm)

  rowVars (x, na.rm) == apply(x, 1, var,  na.rm=na.rm)
}
\value{
  A vector or array with dimensionality length(dim(x))-dims [colVars] or
  dims [rowVars].  Dimnames of the remaining dimensions are preserved.
  When the result is 1-dimensional, it is always demoted to a vector.
}
\author{Originally by Douglas Bates <bates at stat.wisc.edu> as package
       "MatUtils".  Modified, expanded, and renamed by David Brahm
       <brahm at alum.mit.edu>, with help of course from the R-help gurus.}
\seealso{\code{\link{apply}}}
\examples{
x <- matrix(1:12, 3,4, dimnames=list(letters[1:3], LETTERS[1:4]))
x[2,2] <- NA
colVars(x)
}
\keyword{array}
\keyword{arith}

-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dj at research.bell-labs.com  Thu Aug 15 17:22:40 2002
From: dj at research.bell-labs.com (David James)
Date: Thu, 15 Aug 2002 11:22:40 -0400
Subject: [R] Re: your mail
In-Reply-To: <OFE1FC8B06.B72A3B12-ON86256C13.006E8A5D@fimat.com>; from Wendy.Zhao@fimat.com on Mon, Aug 12, 2002 at 03:08:16PM -0500
References: <OFE1FC8B06.B72A3B12-ON86256C13.006E8A5D@fimat.com>
Message-ID: <20020815112240.D10361@jessie.research.bell-labs.com>

Wendy Zhao wrote:
> does anyone?add ROracle package on UNIX so far,
> does anyone know what the requirement for adding ROracle on UNIX, if I have
> my ORacle server on separate UNIX server, what I need to run install to
> install ROracle package

You need the client portion (including the "developer" portion)
of the Unix Oracle distribution (you do *not* need the Oracle
server).   Typically you or your system administrator can
install the Oracle client portion from the same CD used for
installing the whole Oracle software.   To be more precise, you
need the Oracle's Pro C/C++ precomplier and the Oracle libraries,
all provided in the client portion (of course, you also need
a C compiler and other standard tools such as make, ld, etc.)

It is possible to compile ROracle in one machine and then copy the
compiled package to other similar Unix boxes that don't have the
Oracle client software.  Read the files "INSTALL", "README", and
"README.client" under the "inst" directory (to do this you'll need
to untar the ROracle_0.3-3.tar.gz file, say,

    gunzip ROracle_0.3-3.tar.gz tar xf ROracle_0.3-3.tar cat
    ROracle/inst/README.client

Regards,

--
David

> 
> thanks 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html > Send
"info", "help", or "[un]subscribe" > (in the "body", not
the subject !)  To: r-help-request at stat.math.ethz.ch >
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Aug 15 18:17:31 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 15 Aug 2002 18:17:31 +0200
Subject: [R] cov.rob: May I answer myself?
In-Reply-To: <Pine.LNX.4.44.0208151136460.5956-100000@florence>
References: <Pine.LNX.4.44.0208151136460.5956-100000@florence>
Message-ID: <15707.54299.891352.7160@gargle.gargle.HOWL>

>>>>> "ChrisH" == Christian Hennig <hennig at stat.math.ethz.ch>
>>>>>     on Thu, 15 Aug 2002 11:42:10 +0200 (CEST) writes:
	  
	  ...

    ChrisH> Answer:

    ChrisH> I realize that quantile>n=20. It seems that this is
    ChrisH> the problem. quantile=19 works, quantile=20 gives an
    ChrisH> error, quantile=21 causes this strange
    ChrisH> behaviour. Perhaps there should be a protection?

Das denke ich auch.... aber ich sollte es dann anschauen wenn
ich wieder in ZH bin.

Mit liebem Gruss aus Boston: Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sholl at gmx.net  Thu Aug 15 19:33:35 2002
From: sholl at gmx.net (Stephan Holl)
Date: Thu, 15 Aug 2002 19:33:35 +0200
Subject: [R] managing for-loops
Message-ID: <20020815193335.79803524.sholl@gmx.net>

Dear R-List, 
I succesfully managed to implement a SELECT query in a loop, so that the
results are stored in different data.frames.
Now I want to apply another function via for-loop, but nothing happens.
the new function calculates the mode of a distribution and returns a
vector.
I would like to store the vector in seperate objects in a for-loop, but
it fails. 

get.modal <- function(x) {
 x.elem<-sort(unique(x))
 x.count<-sapply(x.elem,esum<-function(elem,vec)
return(sum(vec==elem)),x)
 max.count<-max(x.count)
 modalwert <- x.elem[x.count == max.count]
 return(modalwert)
}

# collect vector with object-names to use in the loop
names <- ls(pat="EZG");names
[1] "EZG.ezg34.crossid.15" "EZG.ezg34.crossid.16" "EZG.ezg34.crossid.17"
[4] "EZG.ezg34.crossid.22" "EZG.ezg34.crossid.34" "EZG.ezg34.crossid.48"
[7] "EZG.ezg34.crossid.78"

# loop through all files and calculate mode:
for (i in names)
{
 new.names  <- paste(i, "index", sep=".")
  assign(new.names, get.modal(i$s))
 }

$s is the specific column on which the mode shuold be calculated.

Thank you for your help

Stephan Holl
-- 
--------------------------------------
Stephan Holl
GnuPG Key-ID: 11946A09
ICQ# 117277975 
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From danjumagaladima at arabia.com  Thu Aug 15 20:11:30 2002
From: danjumagaladima at arabia.com (Danjuma Galadima)
Date: Thu, 15 Aug 2002 11:11:30 -0700
Subject: [R] Your Response
Message-ID: <01b601c24487$2ddcbd30$14c9a8c0@mail2world.com>

GREENFIELDS AGRO-ALLIED COMPANY. 
10 BROAD STREET, 
LAGOS-NIGERIA. 

Your Kind Attn.,

BUSINESS PROPOSAL: TRANSFER OF USD13.2 M (THIRTEEN MILLION, TWO HUNDRED
THOUSANDUNITED STATES DOLLARS) & BUSINESS INVESTMENTS 
PARTNERSHIP. 

First, I must solicit your strictest confidence in this transaction,
this is byvirtue of it's nature as being utterly confidential and top
secret as you were introducedto us in confidence through the Nigerian 
Chamber of Commerce, foreign trade division.and if the contents of this
mail does meet with your approval, I humbly crave yourindulgence. I am
recently retired as the director of finance of the Federal MinistryOf
Power & Steel (FMP&S). 

During my tenure, I was also in charge of the tenders board. The job of
the tendersboard was to access bids made to the FMP&S by foreign and
local contractors forexecution of contracts recommend to the 
government for award. In the course of our work at the tenders board, we
recieved a bid of (USD46.8M) from Arab ContractorsCompany of Egypt for
the refurbishing of the six therminal flow stations and the supply 
of 27KVA transformers for the south-western part of the country. 

The bid was unsually low for the contract in question considering the
other bidswe had gone through. The tenders board then invited them for
an appraisal of theirbid. After the appraisal, we the five members of
the tenders board agreed to recommendthem for the award of the contract
only if they increase thier bid to USD60M. The balance USD13.2M was to
be paid to us (the members of the tenders board)after theexecution of
the contract for us. Not trusting the contractors to live up to their
own part of the bargain, we established the above mentioned company and
had them su-contract the USD13.2M to the company as a sub-contract. The
deed of sub-contractwas perfected by a notary public and copies
circulated to the FMP&S and the central bank of Nigeria (CBN). Arab
contractors have executed the whole contract and have been paid off,
leaving the balance USD13.2M. Considering the 
amount of the fund involved we cannot ask the CBN to pay directly into
our local bank account as the bank regulatory bodies will want to know
the directors of the company. 

Though I am retired, my other four partners are still in government
employ. I have therefore been mandated as a matter of trust by my
partners to source for a business partner to whom we could transfer 
the sum of USD13.2M by drawing up a letter of 
domiciliation instructing the concerned government parastatals i.e the
FMP&S and CBN to payinto the partner's account the contractual
entitlement of USD13.2M. You will agree with me that a letter of 
domiciliation is an accepted form of doing business worldwide.Should
this transaction interest you, you are to contact me on my personal
e-mail address, so that I can brief you fully, and discuss your 
renumeration for this undertaking.All logistics are in place and all
modalities worked out for the smooth conclusion of the transaction
within ten to fourteen days of commencement.

Please acknowledge the receipt of this letter using my personal E-mail
address. 

Yours Faithfuly, 

Danjuma Galadima 



-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020815/c88e1844/attachment.html

From gu4 at llnl.gov  Thu Aug 15 20:20:55 2002
From: gu4 at llnl.gov (Pauline Gu)
Date: Thu, 15 Aug 2002 11:20:55 -0700
Subject: [R] SJava, another UnsatisfiedLinkError
Message-ID: <5.1.1.5.2.20020815111057.025edd28@poptop.llnl.gov>

Thanks for Professor Ripley and Brad's reply.

UnsatisfiedLinkError: SJava.dll is gone.  But, I have another problem.  I 
have been trying to figure out, but, without success.

Here is my test.java:
import java.io.*;
import org.omegahat.R.Java.REvaluator;


public class test {
     public static void main(String args[]) {
         System.out.println("Hello...");
         org.omegahat.R.Java.REvaluator e = new REvaluator();
         Object val = e.eval("objects()");

         if (val != null) {
         String[] objects = (String[])val;
         for (int i=0; i < objects.length; i++) {
             System.err.println("("+i+") " + objects[i]);
         }
       }
     }
}

And here is my callR.win:

#!sh

# If the caller gives a class name, use that.
# Otherwise, we will look for the environment variable JCLASS
# or use the JavaRCall example

if test -n "$1" ; then
  JCLASS=$1
fi

JCLASS=${JCLASS-org.omegahat.R.Java.Examples.JavaRCall}

# Ensure R_HOME is set and available to Java.
#R_HOME=${R_HOME-/cygwin/home/duncan/Projects/R-1.3.1}
#export R_HOME

# Ensure that we can find SJava.dll and RInterpreter.dll
export PATH="${PATH}:${R_HOME}/library/SJava/libs:${R_HOME}/bin"
#echo ${PATH}

# Now the classpath for the Omegahat and related Jar files, etc.
JAR_DIR=${R_HOME}/library/SJava/org/omegahat/Jars

CLASSPATH=".;${R_HOME}/library/SJava;${JAR_DIR}/antlr.jar;${JAR_DIR}/Environment.jar;${JAR_DIR}/jas.jar;${JAR_DIR}/ROmegahatExamples.jar"

# We are ready
#java -classpath ${CLASSPATH} ${JCLASS}

#echo "javac -classpath ${CLASSPATH} bla.java"

javac -classpath ${CLASSPATH} test.java
java -classpath ${CLASSPATH} test

And here is my error message:
Hello...
Exception in thread "main" java.lang.UnsatisfiedLinkError: eval
         at org.omegahat.R.Java.REvaluator.eval(Native Method)
         at org.omegahat.R.Java.REvaluator.eval(REvaluator.java:86)
         at org.omegahat.R.Java.REvaluator.eval(REvaluator.java:36)
         at test.main(test.java:9)

Note: I have tried test.java with the REvaluator's call function, 
ROmegahatInterpreter's constructor function.  They all gave me the same 
message:
UnsatisfiedLinkError: call
UnsatisfiedLinkError: initR

I suspect the native functions in R is not working correctly from 
Java.  Can anyone give me some hint?

Thanks for your time.

Pauline

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From makram.talih at yale.edu  Thu Aug 15 20:22:35 2002
From: makram.talih at yale.edu (Makram Talih)
Date: Thu, 15 Aug 2002 14:22:35 -0400 (EDT)
Subject: [R] sample {base}
Message-ID: <Pine.LNX.4.44.0208151412020.22502-100000@ajax.its.yale.edu>

Hello,

Is there any logistic (or other) reason why the function sample, with
usage sample(x, size, replace = FALSE, prob = NULL) does not have a
default method when length(x) is equal to 1 but x is non-integer? The
default in the integer x case is an internal call to sample with x
replaced by 1:x . This of course generates an error message when x is a
character vector, say, with variable length -- in my case usually greater
than 1, but occasionally equal to 1 !

What I do now is simply make a special case in my code for length(x) == 1, 
but shouldn't this be incorporated in the function itself?

Thank you in advance for any clarification regarding this issue, and 
please excuse my ignorance if the answer is obvious.

Regards,

Makram Talih
Yale U. (Statistics)




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rvaradha at jhsph.edu  Thu Aug 15 20:59:09 2002
From: rvaradha at jhsph.edu (Ravi Varadhan)
Date: Thu, 15 Aug 2002 14:59:09 -0400
Subject: [R] sorry!~I have a question
References: <XFMail.020815095750.theis@statistik.uni-dortmund.de>
Message-ID: <002101c2448d$d6212890$1158120a@BSTE3005>

Hypergemoteric function is a special function of mathematical physics that
arises as the solution to a partial differential equation.  It is NOT the
same as the hypergeometric probability distribution.

I have an SPlus/R implementation which uses a Fortran DLL.  Let me know if
you need this.

Best,
Ravi.

----- Original Message -----
From: "Winfried Theis" <theis at statistik.uni-dortmund.de>
To: <m4625 at ms21.hinet.net>
Cc: <R-help at stat.math.ethz.ch>
Sent: Thursday, August 15, 2002 3:57 AM
Subject: RE: [R] sorry!~I have a question


>
> On 15-Aug-02 m4625 at ms21.hinet.net wrote:
> >
> > I have a question.
> > I can find a function about "Gaussian hypergeometric function" in
sofeware
> > Maple V.
> > I need this function to calculate.
> > Is there a similar function in R ?
> Well, I don't know what function is implemented in Maple under this name,
but
> have a look at help(Hypergeometric) for the hypergeometric distribution
> function. In library SuppDists there is the generalized hypergeometric
> distribution.
>
> Winfried
> > Or I have to design such a function.
> >
> > Thanks!
> > Jimmy Cheng
> ---------------------------------------------------------------------
> E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
> Date: 15-Aug-02
>
> Dipl.-Math. Winfried Theis
> SFB 475, Fachbereich Statistik, Universit"at Dortmund, 44221 Dortmund
> Tel.: +49-231-755-5903 FAX: +49-231-755-4387
> ----------------------------------------------------------------------
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dyang at nrcan.gc.ca  Thu Aug 15 22:38:45 2002
From: dyang at nrcan.gc.ca (Yang, Richard)
Date: Thu, 15 Aug 2002 16:38:45 -0400
Subject: [R] gnls error in NLS step 
Message-ID: <F0E0B899CB43D5118D220002A55113CF21BB23@s2-edm-r1.nrn.nrcan.gc.ca>


Dear R-helpers:

	I have a data set (over 21,000 records) which fitted to a nonlinear
function with 5 parameters using nls() without problems. However, when I
fitted it to the same function using glns(), an error occurred:

	Error in gnls(h2 ~ SiAB(b0, b1, b2, b3, b4, b5, h1, t1, t2), data =
lfdnlp1,  : 
            Step halving factor reduced below minimum in NLS step

The following is the printout of the gnls() with verbose = T :

NLS step: RSS =  60051.74 
 model parameters:0.0142528  -0.40339  1.07913  0.708258  -0.35343  0.333127

 iterations: 7 

Convergence:
  params 
1.083799 

NLS step: RSS =  60051.73 
 model parameters:0.0142575  -0.403859  1.07918  0.708292  -0.353546
0.333152  
 iterations: 7 

Convergence:
     params 
0.001160867 
Error in gnls(h2 ~ SiAB(b0, b1, b2, b3, b4, b5, h1, t1, t2), data = lfdnlp1,
: 
        Step halving factor reduced below minimum in NLS step

I changed the nlsTol to 1e-5 (default is 1e-3) without help. Any suggestions
or workaround for the error?  I am using R 1.50 on W2K.

TIA,

Richard


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wilson at visi.com  Fri Aug 16 01:25:23 2002
From: wilson at visi.com (Tim Wilson)
Date: Thu, 15 Aug 2002 18:25:23 -0500
Subject: [R] complex splits
Message-ID: <20020815232522.GA25070@isis.visi.com>

Hi everyone,

I'm having trouble figuring out how to split a dataframe more than once.

Let's say I have a dataframe d with a certain column called splitcol
composed of four possible ordinal values.  The same dataframe has
two other columns, col1 and col2, that have one of two possible values
each. I'd like to split d$splitcol based on col1 and col2 so I can report
frequencies of the subgroups.

So if col1 and col2 can each have two different values, after splitting
I should have four vectors based on d$splitcol.

Can I do this in one step, or do I need to do some intermediate
splitting?

-Tim

-- 
Tim Wilson      |   Visit Sibley online:   | Check out:
Henry Sibley HS |  http://www.isd197.org   | http://www.zope.com
W. St. Paul, MN |                          | http://slashdot.org
wilson at visi.com |  <dtml-var pithy_quote>  | http://linux.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pkleiber at honlab.nmfs.hawaii.edu  Fri Aug 16 02:30:08 2002
From: pkleiber at honlab.nmfs.hawaii.edu (Pierre Kleiber)
Date: Thu, 15 Aug 2002 14:30:08 -1000
Subject: [R] complex splits
References: <20020815232522.GA25070@isis.visi.com>
Message-ID: <3D5C4790.9040207@honlab.nmfs.hawaii.edu>


    split(d$splitcol,paste(d$col1,d$col2))

will give you vectors as elements of a list based on possible
combinations of col1 and col2.  Is that what you're after?
   Cheers, Pierre



Tim Wilson wrote:

> Hi everyone,
> 
> I'm having trouble figuring out how to split a dataframe more than once.
> 
> Let's say I have a dataframe d with a certain column called splitcol
> composed of four possible ordinal values.  The same dataframe has
> two other columns, col1 and col2, that have one of two possible values
> each. I'd like to split d$splitcol based on col1 and col2 so I can report
> frequencies of the subgroups.
> 
> So if col1 and col2 can each have two different values, after splitting
> I should have four vectors based on d$splitcol.
> 
> Can I do this in one step, or do I need to do some intermediate
> splitting?
> 
> -Tim
> 
> 


-- 
-----------------------------------------------------------------
Pierre Kleiber             Email: pkleiber at honlab.nmfs.hawaii.edu
Fishery Biologist                     Tel: 808 983-5399/737-7544
NOAA FISHERIES - Honolulu Laboratory         Fax: 808 983-2902
2570 Dole St., Honolulu, HI 96822-2396
-----------------------------------------------------------------
  "God could have told Moses about galaxies and mitochondria and
   all.  But behold... It was good enough for government work."
-----------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wilson at visi.com  Fri Aug 16 02:42:30 2002
From: wilson at visi.com (Tim Wilson)
Date: Thu, 15 Aug 2002 19:42:30 -0500
Subject: [R] complex splits
In-Reply-To: <3D5C4790.9040207@honlab.nmfs.hawaii.edu>
References: <20020815232522.GA25070@isis.visi.com> <3D5C4790.9040207@honlab.nmfs.hawaii.edu>
Message-ID: <20020816004230.GA28039@isis.visi.com>

On Thu, Aug 15, 2002 at 02:30:08PM -1000, Pierre Kleiber wrote:
> 
>    split(d$splitcol,paste(d$col1,d$col2))
> 
> will give you vectors as elements of a list based on possible
> combinations of col1 and col2.  Is that what you're after?

No, when I try this I only get two groups based on d$col1. What I'm
looking for is a split on d$col1 (producing two groups) and a subsequent
split on d$col2 for a total of four groups. Then I'll do frequencies of
those four groups.

-Tim

-- 
Tim Wilson      |   Visit Sibley online:   | Check out:
Henry Sibley HS |  http://www.isd197.org   | http://www.zope.com
W. St. Paul, MN |                          | http://slashdot.org
wilson at visi.com |  <dtml-var pithy_quote>  | http://linux.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pkleiber at honlab.nmfs.hawaii.edu  Fri Aug 16 02:55:36 2002
From: pkleiber at honlab.nmfs.hawaii.edu (Pierre Kleiber)
Date: Thu, 15 Aug 2002 14:55:36 -1000
Subject: [R] complex splits
References: <20020815232522.GA25070@isis.visi.com> <3D5C4790.9040207@honlab.nmfs.hawaii.edu> <20020816004230.GA28039@isis.visi.com>
Message-ID: <3D5C4D88.30806@honlab.nmfs.hawaii.edu>

Strange that you only get two groups.  Note that col2 is
pasted to col1.   Here's what I get:


 > d <- data.frame(col1=sample(c("a","b"),20,
         rep=T),col2=sample(c("c","d"),20,rep=T),
         splitcol=sample(LETTERS[1:4],20,rep=T))
 > d
    col1 col2 splitcol
1     a    c        A
2     b    d        B
3     a    c        B
4     b    c        C
5     a    d        A
6     a    d        C
7     b    c        D
8     a    d        D
9     b    c        B
10    a    c        D
11    b    c        C
12    b    d        C
13    b    d        B
14    a    d        C
15    a    c        B
16    a    d        A
17    b    d        C
18    b    d        A
19    b    c        A
20    b    d        C
 > split(d$splitcol,paste(d$col1,d$col2))
$"a c"
[1] A B D B
Levels:  A B C D

$"a d"
[1] A C D C A
Levels:  A B C D

$"b c"
[1] C D B C A
Levels:  A B C D

$"b d"
[1] B C B C A C
Levels:  A B C D




Tim Wilson wrote:

> On Thu, Aug 15, 2002 at 02:30:08PM -1000, Pierre Kleiber wrote:
> 
>>   split(d$splitcol,paste(d$col1,d$col2))
>>
>>will give you vectors as elements of a list based on possible
>>combinations of col1 and col2.  Is that what you're after?
>>
> 
> No, when I try this I only get two groups based on d$col1. What I'm
> looking for is a split on d$col1 (producing two groups) and a subsequent
> split on d$col2 for a total of four groups. Then I'll do frequencies of
> those four groups.
> 
> -Tim
> 
> 


-- 
-----------------------------------------------------------------
Pierre Kleiber             Email: pkleiber at honlab.nmfs.hawaii.edu
Fishery Biologist                     Tel: 808 983-5399/737-7544
NOAA FISHERIES - Honolulu Laboratory         Fax: 808 983-2902
2570 Dole St., Honolulu, HI 96822-2396
-----------------------------------------------------------------
  "God could have told Moses about galaxies and mitochondria and
   all.  But behold... It was good enough for government work."
-----------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wilson at visi.com  Fri Aug 16 03:04:34 2002
From: wilson at visi.com (Tim Wilson)
Date: Thu, 15 Aug 2002 20:04:34 -0500
Subject: [R] complex splits
In-Reply-To: <3D5C4D88.30806@honlab.nmfs.hawaii.edu>
References: <20020815232522.GA25070@isis.visi.com> <3D5C4790.9040207@honlab.nmfs.hawaii.edu> <20020816004230.GA28039@isis.visi.com> <3D5C4D88.30806@honlab.nmfs.hawaii.edu>
Message-ID: <20020816010433.GB28039@isis.visi.com>

On Thu, Aug 15, 2002 at 02:55:36PM -1000, Pierre Kleiber wrote:
> Strange that you only get two groups.  Note that col2 is
> pasted to col1.   Here's what I get:

Thanks Pierre! It works now. I must have typed something wrong before.

OK, everyone move along...nothing more to see here. :-)

-Tim

-- 
Tim Wilson      |   Visit Sibley online:   | Check out:
Henry Sibley HS |  http://www.isd197.org   | http://www.zope.com
W. St. Paul, MN |                          | http://slashdot.org
wilson at visi.com |  <dtml-var pithy_quote>  | http://linux.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vkhurana at mail.nmfs.hawaii.edu  Fri Aug 16 04:55:43 2002
From: vkhurana at mail.nmfs.hawaii.edu (Vikram Khurana)
Date: Thu, 15 Aug 2002 16:55:43 -1000
Subject: [R] Summary:ROracle error
Message-ID: <000001c244d0$69ddb8e0$f0a410ac@s464>


Oracle is finally up and running on RH 7.3 now. I will try to summarize
the pitfalls to avoid here for future reference.

1> Make sure you have the Pro C/C++ drivers in Oracle client installed.
This can be verified by looking for the existence of the proc directory
in $ORACLE_HOME. Existence of proc means it worked


2> Put the following in the .bashrc script in root
export ORACLE_HOME=/home/oracle/OraHome1
export PATH=$PATH:/sbin:/usr/sbin:/home/oracle:$ORACLE_HOME/bin:
/usr/lib/gcc-lib/i386-redhat-linux/egcs-2.91.66

The last ' /usr/lib/gcc-lib/i386-redhat-linux/egcs-2.91.66' to be
replaced by your gcc directory. The way you find your gcc directory is
by doing locate stddef.h
It will return a bunch of paths. Look for the one which is similar to
the one above.

Note that Oracle is only certified for gcc 2.95 or before. RH 7.3 comes
installed with 2.96. You will have to copy gcc 2.95 from another machine
which has it

3> make sure the pcscfg.cfg file under $ORACLE_HOME/precomp/admin looks
like 

sys_include=($ORACLE_HOME/precomp/public,/usr/lib/gcc-lib/i386-redhat-li
nux/egcs-2.91.66/include,/usr/include)
include=($ORACLE_HOME/precomp/public)
include=($ORACLE_HOME/rdbms/demo)
include=($ORACLE_HOME/network/public)
include=($ORACLE_HOME/plsql/public)
ltype=short

The 2nd path in the sys_include should be your gcc folder include file

4> export $LIBRARY_PATH=$ORACLE_HOME/lib
5> Run . .bashrc to set environment variables. Now you can run the R CMD
INSTALL ROracle_0.3-3.tar.gz command

6> If the error says that it cannot find stddef.h or stdarg.h, create a
soft link for
/usr/lib/gcc-lib/i386-redhat-linux/egcs-2.91.66/include/stddef.h and
/usr/lib/gcc-lib/i386-redhat-linux/egcs-2.91.66/include/stdarg.h
respectively in the directory that gcc is searching in (probably
/usr/include)

Thanks,
Vikram









-----Original Message-----
From: David James [mailto:dj at research.bell-labs.com] 
Sent: Thursday, August 15, 2002 5:48 AM
To: Vikram Khurana
Subject: Re: [R] ROracle error

Hi Vikram,

I forgot to ask you.  If and when you solve your problem, could you
please summarize it and send a copy to r-help?  I'm sure at some
point other people may encounter the same problem, and it would be
nice if you could save them some precious time.

Thanks,

--
David

Vikram Khurana wrote:
> David,
> 
> I followed all the steps in the ROracle INSTALL document. I also found
> out that gcc2.96 is incompatible with Oracle Pro C. 
> 
> So I copied the gcc 2.95.3 files from another RH 7.3 computer and put
> them 
> under /usr/local/ on my computer. I also put the 
> /usr/local/lib/gcc-lib/i686-pc-linux-gnu/2.95.3 path in PATH. However 
> now I get an error
> 
> R CMD SHLIB -o ROracle.so RS-DBI.o RS-Oracle.o
> make[1]: Entering directory `/tmp/R.INSTALL.15544/ROracle/src'
> gcc -shared  -o ROracle.so RS-DBI.o RS-Oracle.o 
> -L/home/oracle/OraHome1/lib -L/home/oracle/OraHome1/network/lib 
> -lclntst8 -lnbeq8 -lnhost8 -lnus8 -lnldap8 -lldapclnt8 -lnsslb8 -ln8 
> -lncrypt8 -ln8 -lncrypt8 -lnoname8 -lntcp8 -lntcps8 -lnsslb8 -lnent8 
> -lntcp8 -lntns8 -ldl -lm -lpthread -ldl -lm   -L/usr/lib/R/bin -lR
> ld: cannot open crtbeginS.o: No such file or directory
> make[1]: *** [ROracle.so] Error 1
> make[1]: Leaving directory `/tmp/R.INSTALL.15544/ROracle/src'
> make: *** [ROracle.so] Error 2
> ERROR: compilation failed for package 'ROracle'
> 
> crtbeginS.o does exist in the
> /usr/local/lib/gcc-lib/i686-pc-linux-gnu/2.95.3 directory ??
> 
> My pcscfg.cfg under $ORACLE_HOME/precomp/admin looks as follows:
>
sys_include=($ORACLE_HOME/precomp/public,/home/local/gcc-2.95.3/gcc/ginc
> lude,/usr/include)
> include=($ORACLE_HOME/precomp/public)
> include=($ORACLE_HOME/rdbms/demo)
> include=($ORACLE_HOME/network/public)
> include=($ORACLE_HOME/plsql/public)
> ltype=short
> 
> Would you know what I'm doing incorrectly?
> 
> Thanks for your time,
> Vikram
> 
> 
> 
> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch] On Behalf Of Vikram Khurana
> Sent: Friday, August 09, 2002 4:13 PM
> To: David James
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] FW: ROracle error
> 
>   Thanks David,
> 
> I was able to get past the proc problems. However now I'm stuck on 
> another problem. Hope you can point me in the right direction here
too.
> 
> My pcscfg.cfg file in $ORACLE_HOME/precomp/admin/pcscfg.cfg
> looks as follows:
> 
>
sys_include=($ORACLE_HOME/precomp/public,/usr/lib/gcc-lib/i386-redhat-li
> nux/2.96/include/,/usr/include)
> include=($ORACLE_HOME/precomp/public)
> include=($ORACLE_HOME/rdbms/demo)
> include=($ORACLE_HOME/network/public)
> include=($ORACLE_HOME/plsql/public)
> ltype=short
> 
> The error message on executing R CMD INSTALL ROracle_0.3-3.tar.gz
logged
> 
> in as root is as follows:
> 
> R CMD COMPILE RS-DBI.c
> make[1]: Entering directory `/tmp/R.INSTALL.6290/ROracle/src'
> gcc -I/usr/lib/R/include  -I/usr/local/include -D__NO_MATH_INLINES
> -mieee-fp  -fPIC  -O2 -m486 -fno-strength-reduce -g -c RS-DBI.c -o
> RS-DBI.o
> make[1]: Leaving directory `/tmp/R.INSTALL.6290/ROracle/src'
> proc        CODE=ANSI_C INCLUDE=/usr/lib/R/include PARSE=FULL
> RS-Oracle.pc
> 
> Pro*C/C++: Release 8.1.7.0.0 - Production on Fri Aug 9 16:06:51 2002
> 
> (c) Copyright 2000 Oracle Corporation.  All rights reserved.
> 
> System default option values taken from:
> /home/oracle/OraHome1/precomp/admin/pcscfg.cfg
> 
> Error at line 36, column 10 in file /usr/lib/R/include/S.h
> #include <stddef.h>
> .........1
> PCC-S-02015, unable to open include file
> Error at line 33, column 10 in file /usr/include/stdlib.h
> #include <stddef.h>
> .........1
> PCC-S-02015, unable to open include file
> Syntax error at line 133, column 15, file /usr/include/stdlib.h:
> Error at line 133, column 15 in file /usr/include/stdlib.h
> extern size_t __ctype_get_mb_cur_max (void) __THROW;
> ..............1
> PCC-S-02201, Encountered the symbol "__ctype_get_mb_cur_max" when
> expecting one 
> of the following:
> 
>    ; , = ( [
> The symbol ";" was substituted for "__ctype_get_mb_cur_max" to
continue.
> 
> & on & on
> 
> I know this is really a Pro C problem & not a R problem, but I'm
hoping 
> somebody in this list might still be able to help me...
> 
> Thanks,
> Vikram
> 
> David James wrote:
> 
> >Hello Vikram,
> >
> >(I did respond to you yesterday's email from vkhurana at noaa.gov, but 
> >apparantly noaa.gov doesn't recognize your handle vkhurana.)
> >
> >Apparently you don't have the Oracle ProC/C++ precomplier "proc"
> >in your $PATH.  You need to include $ORACLE_HOME/bin in your $PATH,
> >and probably $ORACLE_HOME/lib in your $LD_LIBRARY_PATH.  See the
> >files INSTALL, README, and README.client in the source distribution
> >(they'll be in the "inst" directory under "ROracle" after you untar
> >the source file ROracle_0.3-3.tar.gz).
> >
> >Regards,
> >--
> >David
> >
> >Vikram Khurana wrote:
> >
> >>Howdy,
> >>
> >>When doing a
> >>install.packages("ROracle") in R I'm getting the following error:
> >>
> >>R CMD COMPILE RS-DBI.c
> >>make[1]: Entering directory `/tmp/R.INSTALL.1809/ROracle/src'
> >>gcc -I/usr/lib/R/include  -I/usr/local/include -D__NO_MATH_INLINES 
> >>-mieee-fp  -fPIC  -O2 -m486 -fno-strength-reduce -g -c RS-DBI.c -o
> >>RS-DBI.o
> >>make[1]: Leaving directory `/tmp/R.INSTALL.1809/ROracle/src'
> >>proc        CODE=ANSI_C INCLUDE=/usr/lib/R/include PARSE=FULL
> >>RS-Oracle.pc
> >>make: proc: Command not found
> >>make: *** [RS-Oracle.c] Error 127
> >>ERROR: compilation failed for package 'ROracle'
> >>
> >>
> >>I've tried this on 2 different RH 7.3 LINUX boxes with no luck. I
also
> 
> >>searched the R search engine and google with no luck. Can someone
> please
> >>
> >>point me in the right direction as to if I'm doing something wrong?
> >>
> >>Thanks,
> >>Vikram
> >>
> >>
>
>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-
> >>r-help mai
> >>ling list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >>Send "info", "help", or "[un]subscribe"
> >>(in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
>
>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._
> >>
> >
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-.-.-
> >r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >Send "info", "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
>
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> ._._._._
> >
> 
> 
> 
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:
r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._
> 

-- 
David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082

Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ken_lee at tynesys.com  Fri Aug 16 10:28:21 2002
From: ken_lee at tynesys.com (ken_lee)
Date: Fri, 16 Aug 2002 16:28:21 +0800
Subject: [R] how to save data.frame to XML file?
In-Reply-To: <000001c244d0$69ddb8e0$f0a410ac@s464>
Message-ID: <IPECKKKLFINFHEGMEKKGGEGDCCAA.ken_lee@tynesys.com>

Dear all,
       I have some trouble to transpose data.frame to XML file, could anybody give me any example ?
      
   
Thanks,
Ken 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From emami at knmi.nl  Fri Aug 16 11:04:05 2002
From: emami at knmi.nl (Nader Emami)
Date: Fri, 16 Aug 2002 11:04:05 +0200
Subject: [R] system command
Message-ID: <3D5CC005.28387B88@knmi.nl>

Hello,

It is very simple question. I want to go to the parent directory and
give the 'system("cd ../") commnad. But it stayes at the same dirctory
as before. Do I forget to give some extra parameter to system command in
this case?

Regards,
Nader
--------------------------------------------------------------
Zie ook/see also: http://www.knmi.nl/maildisclaimer.html 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 16 11:59:42 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 16 Aug 2002 10:59:42 +0100 (GMT Daylight Time)
Subject: [R] changing directory (was system command)
In-Reply-To: <3D5CC005.28387B88@knmi.nl>
Message-ID: <Pine.WNT.4.44.0208161057070.1664-100000@petrel>

On Fri, 16 Aug 2002, Nader Emami wrote:

> Hello,
>
> It is very simple question. I want to go to the parent directory and
> give the 'system("cd ../") commnad. But it stayes at the same dirctory
> as before. Do I forget to give some extra parameter to system command in
> this case?

That launches a shell, changes working directory in that shell, then quits.

setwd("..")  should do what I guess you intended, change the working
directory of the R process itself.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Fri Aug 16 13:58:15 2002
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Fri, 16 Aug 2002 13:58:15 +0200 (CEST)
Subject: [R] system command
In-Reply-To: <3D5CC005.28387B88@knmi.nl>
Message-ID: <Pine.LNX.4.44.0208161357360.1925-100000@reclus.nhh.no>

On Fri, 16 Aug 2002, Nader Emami wrote:

> Hello,
> 
> It is very simple question. I want to go to the parent directory and
> give the 'system("cd ../") commnad. But it stayes at the same dirctory
> as before. Do I forget to give some extra parameter to system command in
> this case?

setwd()

--
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wb at yorikke.arb-phys.uni-dortmund.de  Fri Aug 16 13:57:30 2002
From: wb at yorikke.arb-phys.uni-dortmund.de (Wilhelm B. Kloke)
Date: Fri, 16 Aug 2002 11:57:30 +0000 (UTC)
Subject: [R] [nlme] BLUPs for a new subject in a fitted lme model?
Message-ID: <ajipba$6cb$1@yorikke.arb-phys.uni-dortmund.de>

I am seeking for a method to calculate, given a fitted lme model
and some data for a subject, the random effects predictors
for this subject. I can only find predictors for the subjects used in
creating the fit. Of course I could just add the subject and redo the fit.
But I want to avoid just this refitting. 

Thanks for help
wbk
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baba at muj.biglobe.ne.jp  Fri Aug 16 14:57:37 2002
From: baba at muj.biglobe.ne.jp (baba@muj.biglobe.ne.jp)
Date: Fri, 16 Aug 2002 21:57:37 +0900
Subject: [R] How to change parameters of Trellis-like graphs
Message-ID: <10208161257.AA00051@YOUR-J95YXTACB2.muj.biglobe.ne.jp>

Dear R-lists

I have just upgraded the version 1.5.1 from 1.4.1 in my laptop PC,
because, I have to prepare graphs by using the grid and lattice packages. 
I tried it with 1.4.1, but I could not it. 
After upgrade to 1.5.1, I have finished it. 

Next, I tried to modify some graphs with as follows: 
#
#  setting color for graph
#
library(grid)
library(lattice)
background <- trellis.par.get()
background$col <- "white"
show.settings()
background <- trellis.par.set("background",background)
show.settings()
names(trellis.par.get())
dot.symbol <- trellis.par.get()
dot.symbol$col <- "yellow"
dot.symbol <- trellis.par.set("dot.symbol",dot.symbol)
show.settings()
#
#
#
First, I could change the background color from Gray to White. 
But, when the last code 'show.settings()' runs, R 1.5.1 have crushed on my laptop. 
I have no idea such how to change the dot color of graphs.
Does anyone tell me how to change the graph parameters?

Thanks in advance,
Baba


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 16 15:26:58 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 16 Aug 2002 14:26:58 +0100 (BST)
Subject: [R] How to change parameters of Trellis-like graphs
In-Reply-To: <10208161257.AA00051@YOUR-J95YXTACB2.muj.biglobe.ne.jp>
Message-ID: <Pine.LNX.4.31.0208161420430.29481-100000@gannet.stats>

It crashes on Linux too.  You are not doing this right

background <- trellis.par.get("background")
background$col <- "white"
show.settings()
background <- trellis.par.set("background",background)
show.settings()
dot.symbol <- trellis.par.get("dot.symbol")
dot.symbol$col <- "yellow"
dot.symbol <- trellis.par.set("dot.symbol",dot.symbol)
show.settings()

works.

On Fri, 16 Aug 2002 baba at muj.biglobe.ne.jp wrote:

> Dear R-lists
>
> I have just upgraded the version 1.5.1 from 1.4.1 in my laptop PC,
> because, I have to prepare graphs by using the grid and lattice packages.
> I tried it with 1.4.1, but I could not it.
> After upgrade to 1.5.1, I have finished it.
>
> Next, I tried to modify some graphs with as follows:
> #
> #  setting color for graph
> #
> library(grid)
> library(lattice)
> background <- trellis.par.get()
> background$col <- "white"
> show.settings()
> background <- trellis.par.set("background",background)
> show.settings()
> names(trellis.par.get())
> dot.symbol <- trellis.par.get()
> dot.symbol$col <- "yellow"
> dot.symbol <- trellis.par.set("dot.symbol",dot.symbol)
> show.settings()
> #
> #
> #
> First, I could change the background color from Gray to White.
> But, when the last code 'show.settings()' runs, R 1.5.1 have crushed on my laptop.
> I have no idea such how to change the dot color of graphs.
> Does anyone tell me how to change the graph parameters?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Fri Aug 16 15:39:33 2002
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Fri, 16 Aug 2002 15:39:33 +0200 (MET DST)
Subject: [R] availability of package gnlm
In-Reply-To: <005501c243a9$832ccac0$29d994cb@andrewvhowclyz> from "arc" at Aug 14, 2002 10:44:42 PM
Message-ID: <200208161339.PAA26071@luc.ac.be>

> 
> Hello:
> 
> I don't see the package "gnlm" Generalised Nonlinear Ordinal Regression
> Model listed under package sources. Is it still available?

It is on my web page, as it always has been:
www.luc.ac.be/~jlindsey/rcode.html
  Jim

> 
> Thanks,
> ANDREW
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stat at estadao.com.br  Fri Aug 16 15:45:28 2002
From: stat at estadao.com.br (Rafael Bertola)
Date: Fri, 16 Aug 2002 10:45:28 -0300 
Subject: [R] data bank
Message-ID: <1780.143.106.103.171.1029505528.squirrel@webmail.estadao.com.br>

Hi, everybody

Were i can find free databank on the internet?

I need it to make analisys on a final discipline of my statistics course.
Probably i'll use R to make analisys, if someone have some hint i give thanks


bye

Rafael Bertola
IMECC - Unicamp - Brazil

------------------------------------------------------------------
ESTADAO.COM.BR - INTERNET E E-MAIL GR?TIS COM A QUALIDADE ESTAD?O!
Acesse agora e crie sua conta: http://www.estadao.com.br
------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Aug 16 16:49:28 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 16 Aug 2002 07:49:28 -0700 (PDT)
Subject: [R] complex splits
In-Reply-To: <3D5C4790.9040207@honlab.nmfs.hawaii.edu>
Message-ID: <Pine.A41.4.44.0208160749000.137938-100000@homer06.u.washington.edu>

On Thu, 15 Aug 2002, Pierre Kleiber wrote:

>
>     split(d$splitcol,paste(d$col1,d$col2))
>
 or more simply

	split(d$splitcol,list(d$col1,d$col2))

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From umalvarez at fata.unam.mx  Fri Aug 16 18:12:26 2002
From: umalvarez at fata.unam.mx (Ulises Mora Alvarez)
Date: Fri, 16 Aug 2002 11:12:26 -0500 (CDT)
Subject: [R] [nlme] BLUPs for a new subject in a fitted lme model?
In-Reply-To: <ajipba$6cb$1@yorikke.arb-phys.uni-dortmund.de>
Message-ID: <Pine.LNX.4.33.0208161102400.23628-100000@fata.unam.mx>

On Fri, 16 Aug 2002, Wilhelm B. Kloke wrote:

> I am seeking for a method to calculate, given a fitted lme model
> and some data for a subject, the random effects predictors
> for this subject. I can only find predictors for the subjects used in
> creating the fit. Of course I could just add the subject and redo the fit.
> But I want to avoid just this refitting. 
> 
> Thanks for help
> wbk

Once you've a lme model, you don't need to stimate new random effects for 
new subjects.

As stated by Pinheiro & Bates:
"Fixed affects are parameters associated with an entire population, or 
with repeatable levels of experimental factors.
Random effects are instead associated with experimental units drawn at 
random from a population."

Maybe you'd like to see Pinheiro & Bates' book for further details.


-- 
Ulises M. Alvarez
LAB. DE CHOQUES DEBILES
FISICA APLICADA Y TECNOLOGIA AVANZADA
UNAM
umalvarez at fata.unam.mx


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 16 18:53:03 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 16 Aug 2002 17:53:03 +0100 (BST)
Subject: [R] [nlme] BLUPs for a new subject in a fitted lme model?
In-Reply-To: <Pine.LNX.4.33.0208161102400.23628-100000@fata.unam.mx>
Message-ID: <Pine.LNX.4.31.0208161742150.1968-100000@gannet.stats>

That's not the whole story.  What (as I understand it) Wilhelm has are not
just new subjects, but new observations on new subjects.  Then there are
BLUPs associated with those new subjects.  Think of an enlarged data set
with the old and the new subjects: you can apply the lme at a given set of
parameter values and find the BLUPs for all the subjects.

It is equally true that new observations on the old subjects will change
the BLUPs.

I don't know how to do this with lme without refitting, although the
pieces needed must be in the package.


On Fri, 16 Aug 2002, Ulises Mora Alvarez wrote:

> On Fri, 16 Aug 2002, Wilhelm B. Kloke wrote:
>
> > I am seeking for a method to calculate, given a fitted lme model
> > and some data for a subject, the random effects predictors
> > for this subject. I can only find predictors for the subjects used in
> > creating the fit. Of course I could just add the subject and redo the fit.
> > But I want to avoid just this refitting.
> >
> > Thanks for help
> > wbk
>
> Once you've a lme model, you don't need to stimate new random effects for
> new subjects.
>
> As stated by Pinheiro & Bates:
> "Fixed affects are parameters associated with an entire population, or
> with repeatable levels of experimental factors.
> Random effects are instead associated with experimental units drawn at
> random from a population."
>
> Maybe you'd like to see Pinheiro & Bates' book for further details.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Aug 16 22:22:02 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Aug 2002 22:22:02 +0200
Subject: [R] tcltk - text widget with a scrollbar?
In-Reply-To: <873ctihc0e.fsf@lumen.indyrad.iupui.edu>
References: <200208131659.MAA08433@blaise.dfci.harvard.edu>
	<873ctihc0e.fsf@lumen.indyrad.iupui.edu>
Message-ID: <x2lm76pn9x.fsf@biostat.ku.dk>

mmiller3 at iupui.edu (Michael A. Miller) writes:

> > myscr <- tkscrollbar(top, command = function (...) tkyview(...))
> > tkconfigure(mytext, yscrollcommand = function(...) tkset(myscr, ...))
...
> I can scroll around in the widget with my scroll mouse, but using
> the mouse on the scroll bar slider produces this sort of error:
> 
> Error in structure(.External("dotTcl", ..., PACKAGE = "tcltk"), class = "tclObj") : 
>         [tcl] invalid command name "moveto".

I think you need tkyview(mytext,...) in the above. Try looking at the
code for demo(tkfaq) if it still refuses to work.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sullivansmd at comcast.net  Fri Aug 16 23:09:42 2002
From: sullivansmd at comcast.net (Steven Sullivan)
Date: Fri, 16 Aug 2002 17:09:42 -0400
Subject: [R] plot.design and NAs
Message-ID: <002501c24569$3d80d090$0201a8c0@STEVEN>

Hello all--

I'm trying to quickly, graphically, summarize the differences in the sample
proportion of "yes" responses in a 0-1 variable across sites.

I'm looking for a quick way to do one of the following:

(1) add means onto boxplots (I know there's a boxmeans=T toggle in plot(.),
but can I do this on proper boxplots?)
(2) run plot.design on data containing NAs?  (I have tried fun = function(x)
mean(x, na.rm=T) in plot.design(.)).

Best,
STS




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From umalvarez at fata.unam.mx  Fri Aug 16 23:50:12 2002
From: umalvarez at fata.unam.mx (Ulises Mora Alvarez)
Date: Fri, 16 Aug 2002 16:50:12 -0500 (CDT)
Subject: [R] [nlme] BLUPs for a new subject in a fitted lme model?
In-Reply-To: <Pine.LNX.4.31.0208161742150.1968-100000@gannet.stats>
Message-ID: <Pine.LNX.4.33.0208161621100.26001-100000@fata.unam.mx>

Prof. Ripley:

Thank you for your comment. I've missed the fact that Mr. Wilhelm is 
trying to include new observations on new subjects.

However, after the inclusion of the new observations Mr. Wilhelm maybe 
should ask to him self this question: Does the inclusion of new 
observations modify the significance of model?s parameters and random 
effects?

If your model is sound and has good foundations, I bet it would not.

On Fri, 16 Aug 2002 ripley at stats.ox.ac.uk wrote:

> That's not the whole story.  What (as I understand it) Wilhelm has are not
> just new subjects, but new observations on new subjects.  Then there are
> BLUPs associated with those new subjects.  Think of an enlarged data set
> with the old and the new subjects: you can apply the lme at a given set of
> parameter values and find the BLUPs for all the subjects.
> 
> It is equally true that new observations on the old subjects will change
> the BLUPs.
> 
> I don't know how to do this with lme without refitting, although the
> pieces needed must be in the package.
> 
> 
> On Fri, 16 Aug 2002, Ulises Mora Alvarez wrote:
> 
> > On Fri, 16 Aug 2002, Wilhelm B. Kloke wrote:
> >
> > > I am seeking for a method to calculate, given a fitted lme model
> > > and some data for a subject, the random effects predictors
> > > for this subject. I can only find predictors for the subjects used in
> > > creating the fit. Of course I could just add the subject and redo the fit.
> > > But I want to avoid just this refitting.
> > >
> > > Thanks for help
> > > wbk
> >
> > Once you've a lme model, you don't need to stimate new random effects for
> > new subjects.
> >
> > As stated by Pinheiro & Bates:
> > "Fixed affects are parameters associated with an entire population, or
> > with repeatable levels of experimental factors.
> > Random effects are instead associated with experimental units drawn at
> > random from a population."
> >
> > Maybe you'd like to see Pinheiro & Bates' book for further details.
> 
> 

-- 
Ulises M. Alvarez
LAB. DE CHOQUES DEBILES
FISICA APLICADA Y TECNOLOGIA AVANZADA
UNAM
umalvarez at fata.unam.mx


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baba at muj.biglobe.ne.jp  Sat Aug 17 04:04:32 2002
From: baba at muj.biglobe.ne.jp (baba@muj.biglobe.ne.jp)
Date: Sat, 17 Aug 2002 11:04:32 +0900
Subject: [R] How to change parameters of Trellis-like graphs
In-Reply-To: <Pine.LNX.4.31.0208161420430.29481-100000@gannet.stats>
Message-ID: <10208170204.AA00054@YOUR-J95YXTACB2.muj.biglobe.ne.jp>

Dear Prof. Ripley

Thank you very much for your kind support. 
Your code can work well on my laptop. 

Best and Kind regards,
Baba

ripley at stats.ox.ac.uk wrote:
>It crashes on Linux too.  You are not doing this right
>
>background <- trellis.par.get("background")
>background$col <- "white"
>show.settings()
>background <- trellis.par.set("background",background)
>show.settings()
>dot.symbol <- trellis.par.get("dot.symbol")
>dot.symbol$col <- "yellow"
>dot.symbol <- trellis.par.set("dot.symbol",dot.symbol)
>show.settings()
>
>works.
>
>On Fri, 16 Aug 2002 baba at muj.biglobe.ne.jp wrote:
>
>> Dear R-lists
>>
>> I have just upgraded the version 1.5.1 from 1.4.1 in my laptop PC,
>> because, I have to prepare graphs by using the grid and lattice packages.
>> I tried it with 1.4.1, but I could not it.
>> After upgrade to 1.5.1, I have finished it.
>>
>> Next, I tried to modify some graphs with as follows:
>> #
>> #  setting color for graph
>> #
>> library(grid)
>> library(lattice)
>> background <- trellis.par.get()
>> background$col <- "white"
>> show.settings()
>> background <- trellis.par.set("background",background)
>> show.settings()
>> names(trellis.par.get())
>> dot.symbol <- trellis.par.get()
>> dot.symbol$col <- "yellow"
>> dot.symbol <- trellis.par.set("dot.symbol",dot.symbol)
>> show.settings()
>> #
>> #
>> #
>> First, I could change the background color from Gray to White.
>> But, when the last code 'show.settings()' runs, R 1.5.1 have crushed on my laptop.
>> I have no idea such how to change the dot color of graphs.
>> Does anyone tell me how to change the graph parameters?
>
>--
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Sat Aug 17 05:48:02 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Sat, 17 Aug 2002 15:48:02 +1200 (NZST)
Subject: [R] Random Numbers
Message-ID: <Pine.SOL.4.21.0208171544070.16355-100000@stat1.stat.auckland.ac.nz>

hi,

Actually this applies not just to random numbers, but...

Suppose I type:
   x <- rnorm(30, 4, 1.5)
to get some 30 random normal numbers with mean 4 and standard deviation
1.5.

Is there anyway to "re-trace" x?  i.e. am I able to find out what the mean
and standard deviation for x is?

More generally, suppose I generated some random numbers using a particular
distribution.  Can I find out the parameters of the distribution on these
random numbers?

Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
Homepage: http://www.stat.auckland.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Sat Aug 17 07:41:53 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Sat, 17 Aug 2002 17:41:53 +1200 (NZST)
Subject: [R] Random Number Testing
Message-ID: <Pine.SOL.4.21.0208171740430.20678-100000@stat1.stat.auckland.ac.nz>

Hi,

Is there a package that contains testing algorithms (e.g. runs test,
serial test, autocorrelation test...) for random number generators ?

Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
Homepage: http://www.stat.auckland.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Aug 17 08:30:03 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 17 Aug 2002 07:30:03 +0100 (BST)
Subject: [R] Random Numbers
In-Reply-To: <Pine.SOL.4.21.0208171544070.16355-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.LNX.4.31.0208170726540.4258-100000@gannet.stats>

On Sat, 17 Aug 2002, Ko-Kang Kevin Wang wrote:

> Actually this applies not just to random numbers, but...
>
> Suppose I type:
>    x <- rnorm(30, 4, 1.5)
> to get some 30 random normal numbers with mean 4 and standard deviation
> 1.5.

Not quite.  You get numbers with a different mean and standard deviation:
(4, 1.5) apply to the population.

> Is there anyway to "re-trace" x?  i.e. am I able to find out what the mean
> and standard deviation for x is?

You can only estimate the population values, the usual estimates being the
sample mean and std dev.

> More generally, suppose I generated some random numbers using a particular
> distribution.  Can I find out the parameters of the distribution on these
> random numbers?

By fitting e.g. by maximum likelihood.  fitdistr(MASS) is a fairly general
function to do it.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Aug 17 08:35:52 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 17 Aug 2002 07:35:52 +0100 (BST)
Subject: [R] Random Number Testing
In-Reply-To: <Pine.SOL.4.21.0208171740430.20678-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.LNX.4.31.0208170730090.4258-100000@gannet.stats>

On Sat, 17 Aug 2002, Ko-Kang Kevin Wang wrote:

> Is there a package that contains testing algorithms (e.g. runs test,
> serial test, autocorrelation test...) for random number generators ?

Not an R package that I know of.  It's a pretty specialized subject.

Look up the DIEHARD package (http://stat.fsu.edu/~geo/diehard.html, but
that seems incomplete these days).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tura at centroin.com.br  Sat Aug 17 13:11:00 2002
From: tura at centroin.com.br (Bernardo Rangel Tura)
Date: Sat, 17 Aug 2002 08:11:00 -0300
Subject: [R] Random Numbers
In-Reply-To: <Pine.SOL.4.21.0208171544070.16355-100000@stat1.stat.auckla
 nd.ac.nz>
Message-ID: <5.1.0.14.2.20020817080935.009ef400@centroin.com.br>

At 15:48 17/08/2002 +1200, you wrote:
>hi,
>
>Actually this applies not just to random numbers, but...
>
>Suppose I type:
>   x <- rnorm(30, 4, 1.5)
>to get some 30 random normal numbers with mean 4 and standard deviation
>1.5.
>
>Is there anyway to "re-trace" x?  i.e. am I able to find out what the mean
>and standard deviation for x is?
>
>More generally, suppose I generated some random numbers using a particular
>distribution.  Can I find out the parameters of the distribution on these
>random numbers?

Well use fitdistr ()

require (mass)
x <- rnorm(30, 4, 1.5)
fitdistr(x,"normal",list(mean=0,sd=1))

result:
     mean         sd    
  3.7126893   1.2748764 
 (0.2327595) (0.1646173)
Warning message: 
NaNs produced in: dnorm(x, mean, sd, log) 
 



Thanks in advance

Bernardo Rangel Tura, MD, MSc
National Institute of Cardiology Laranjeiras
Rio de Janeiro Brazil

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hammett at princeton.edu  Sat Aug 17 16:38:06 2002
From: hammett at princeton.edu (Greg Hammett)
Date: Sat, 17 Aug 2002 15:38:06 +0100
Subject: [R] Peculiar behavior of attached objects
Message-ID: <3D5E5FCE.AAC1144@princeton.edu>

I've just discovered R and think it is terrific.  I quickly reproduced
results with a few lines of R commands that 7 years ago I had to do with
a larger fortran code and many calls to NAG routines.  (I'm mostly a
computational plasma physicist, but occasionally delve into statistical
analysis of data.)

But I've come accross a very peculiar behavior of attached objects that
cost me hours of searching for a bug, and it would be nice if the R
developers could implement a small change to make the language easier to
use.

The problem was originally buried in a much larger code, but I've boiled
it down to a 6 line example:

-----------

> d <- data.frame(y=10)
> attach(d)
> d$y <- 20

-----------

The online help for attach() warns not to assign to the short variable
name "y", as that creates a new variable named "y" and the original
variable "d$y" remains unchanged.  So I assumed that I could assign to
the fully qualified name "d$y", and indeed that successfully changed the
value of d$y:

-----------

> d$y
[1] 20
> y
[1] 10
> ls()
[1] "d"

------------

However, unbeknownst to me at first, it also created a new variable "y"
that keeps the original value of "d$y" and no longer points to the
present value of "d$y$".  Furthermore, this new variable "y" doesn't
show up in the list of objects reported by ls()!  (This is unlike the
example given in help(attach), where the new variable "height" created
by the assignment shows up in the ls() object list.)  If a user assumes
that "y" points to the present value of "d$y$, as the attach() command
usually does, he will have bugs that will be very hard to track down.

Although the new variable "y" is hidden from the ls() list of objects,
it will be removed by doing a detach("d") command:

-----------

> detach("d")
> y
Error: Object "y" not found

-----------

I can't think of any good reason why R should behave like this.  I've
tried this same example in Splus, and was surprised to see that it has
the same behavior, so I suppose R at least has compatible
peculiarities.  I understand that assigning to a short variable name
when attach is operational is supposed to create a new variable instead
of modifying the original:

> d <- data.frame(y=10)
> attach(d)
> y <- 20
> d$y
[1] 10

and that a lot of R code might have been written assuming this behavior
so it probably shouldn't be changed at this point.  But if one makes an
assignment to a fully qualified long variable name, I can't think of any
good reason for a new semi-hidden variable to be created.  Thus I think
that R should instead do the following:

> d <- data.frame(y=10)
> attach(d)
> d$y <- 20
> y
[1] 20

This seems to me to be a much more natural and intuitive behavior that
the user should expect.  Compatibility issues may require adding a
switch to allow users to get the old behavior if they really wanted, but
I can't think of how any users could have relied on this undocumented
"feature"...

--------------------------------------------------------------

I'm new to R, so perhaps I'm missing something that could be explained
to me.  If it is decided not to change R's behavior, then at the least 
I suggest that the example given by help(attach) be extended by
appending the following:

     attach(women)
     women$height <- height*2.54  ## Don't try to do this either, as it
     ## will still create a new variable "height" with the original
     ## values of women$height.  I.e., height no longer points to the
     ## present value of women$height:

     sd(women$height-height)   # shows 6.88709

     ## furthermore, this new variable is not listed by ls() and
     ## disappears after doing detach("women")
     ls()
     detach("women")
     height   # gives an error message


------------
Greg Hammett    hammett at princeton.edu
Lecturer with rank of Professor, 
   Astrophysical Sciences, Princeton University
Principal Research Physicist, 
   Princeton Plasma Physics Laboratory
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Aug 17 17:40:10 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 17 Aug 2002 16:40:10 +0100 (BST)
Subject: [R] Peculiar behavior of attached objects
In-Reply-To: <3D5E5FCE.AAC1144@princeton.edu>
Message-ID: <Pine.LNX.4.31.0208171620210.4721-100000@gannet.stats>

Sorry, but you mis-read the help page for `attach', and your explanation
is poppycock.

> d <- data.frame(y=10)
> attach(d)
> d$y <- 20
> y
[1] 10
> find("y")
[1] "d"

There is no `new variable': you are still seeing the one in the database
which is attached. As the help page clearly says, that is not changed but
a copy in the global environment is.

You can change the attached copy by direct use of assign():
> assign("y", 30, pos=2)
> y
[1] 30

but that does not change d.  You can also detach and attach.

If you find the R documentation terse (it can be) do cross-check the S
documentation (and this point is in both Venables & Ripley books, too).

On Sat, 17 Aug 2002, Greg Hammett wrote:

> I've just discovered R and think it is terrific.  I quickly reproduced
> results with a few lines of R commands that 7 years ago I had to do with
> a larger fortran code and many calls to NAG routines.  (I'm mostly a
> computational plasma physicist, but occasionally delve into statistical
> analysis of data.)
>
> But I've come accross a very peculiar behavior of attached objects that
> cost me hours of searching for a bug, and it would be nice if the R
> developers could implement a small change to make the language easier to
> use.
>
> The problem was originally buried in a much larger code, but I've boiled
> it down to a 6 line example:
>
> -----------
>
> > d <- data.frame(y=10)
> > attach(d)
> > d$y <- 20
>
> -----------
>
> The online help for attach() warns not to assign to the short variable
> name "y", as that creates a new variable named "y" and the original
> variable "d$y" remains unchanged.  So I assumed that I could assign to
> the fully qualified name "d$y", and indeed that successfully changed the
> value of d$y:
>
> -----------
>
> > d$y
> [1] 20
> > y
> [1] 10
> > ls()
> [1] "d"
>
> ------------
>
> However, unbeknownst to me at first, it also created a new variable "y"
> that keeps the original value of "d$y" and no longer points to the
> present value of "d$y$".  Furthermore, this new variable "y" doesn't
> show up in the list of objects reported by ls()!  (This is unlike the
> example given in help(attach), where the new variable "height" created
> by the assignment shows up in the ls() object list.)  If a user assumes
> that "y" points to the present value of "d$y$, as the attach() command
> usually does, he will have bugs that will be very hard to track down.
>
> Although the new variable "y" is hidden from the ls() list of objects,
> it will be removed by doing a detach("d") command:
>
> -----------
>
> > detach("d")
> > y
> Error: Object "y" not found
>
> -----------
>
> I can't think of any good reason why R should behave like this.  I've
> tried this same example in Splus, and was surprised to see that it has
> the same behavior, so I suppose R at least has compatible
> peculiarities.  I understand that assigning to a short variable name
> when attach is operational is supposed to create a new variable instead
> of modifying the original:
>
> > d <- data.frame(y=10)
> > attach(d)
> > y <- 20
> > d$y
> [1] 10
>
> and that a lot of R code might have been written assuming this behavior
> so it probably shouldn't be changed at this point.  But if one makes an
> assignment to a fully qualified long variable name, I can't think of any
> good reason for a new semi-hidden variable to be created.  Thus I think
> that R should instead do the following:
>
> > d <- data.frame(y=10)
> > attach(d)
> > d$y <- 20
> > y
> [1] 20
>
> This seems to me to be a much more natural and intuitive behavior that
> the user should expect.  Compatibility issues may require adding a
> switch to allow users to get the old behavior if they really wanted, but
> I can't think of how any users could have relied on this undocumented
> "feature"...
>
> --------------------------------------------------------------
>
> I'm new to R, so perhaps I'm missing something that could be explained
> to me.  If it is decided not to change R's behavior, then at the least
> I suggest that the example given by help(attach) be extended by
> appending the following:
>
>      attach(women)
>      women$height <- height*2.54  ## Don't try to do this either, as it
>      ## will still create a new variable "height" with the original
>      ## values of women$height.  I.e., height no longer points to the
>      ## present value of women$height:
>
>      sd(women$height-height)   # shows 6.88709
>
>      ## furthermore, this new variable is not listed by ls() and
>      ## disappears after doing detach("women")
>      ls()
>      detach("women")
>      height   # gives an error message
>
>
> ------------
> Greg Hammett    hammett at princeton.edu
> Lecturer with rank of Professor,
>    Astrophysical Sciences, Princeton University
> Principal Research Physicist,
>    Princeton Plasma Physics Laboratory
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sat Aug 17 18:15:00 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 17 Aug 2002 18:15:00 +0200
Subject: [R] plot.design and NAs
References: <002501c24569$3d80d090$0201a8c0@STEVEN>
Message-ID: <3D5E7684.FA42FC27@statistik.uni-dortmund.de>

Steven Sullivan wrote:
> 
> Hello all--
> 
> I'm trying to quickly, graphically, summarize the differences in the sample
> proportion of "yes" responses in a 0-1 variable across sites.
> 
> I'm looking for a quick way to do one of the following:
> 
> (1) add means onto boxplots (I know there's a boxmeans=T toggle in plot(.),

Is it? I cannot find it.


> but can I do this on proper boxplots?)

A quick hack would be something like

 a <- rnorm(10)
 b <- rnorm(10)
 boxplot(a, b)
 segments(1:2 - 0.4, mm <- c(mean(a), mean(b)), 
     1:2 + 0.4, mm, col = "red")

(with the default boxwidth of 0.8 and the placement of the middle of
boxes at 1, 2, ... )

A cleaner solution would be to change the R code of bxp().


> (2) run plot.design on data containing NAs?  (I have tried fun = function(x)
> mean(x, na.rm=T) in plot.design(.)).

Well, I cannot find plot.design anywhere; in which package is it
included?


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sat Aug 17 18:27:28 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 17 Aug 2002 18:27:28 +0200
Subject: [R] Out of memory
References: <AAF430AF47FBDD409B95B63BD237EB54043677@mailman2.office.ingene.com>
Message-ID: <3D5E7970.6E74E3D8@statistik.uni-dortmund.de>

Nikolaus Hansen wrote:
> 
> During a R session (Version 1.4.1 under Windows) I ended up getting the following error message:

R-1.5.1 is recent.


>   Error: vector memory exhausted (limit reached?)
> 
> independently of the command like rm(something), q(), ls(), gc(), memory.size(), memory.limit(300000000),

?memory.limit says: 

Usage: memory.limit(size = NA)
Arguments: size  [...] request a new limit, in Mb. 
                                               ^^
So something like memory.limit(500) is more reasonable, depending on the
size of RAM in your machine.
It is much more convenient to set  --mex-mem-size=500M  at the command
line, how it works is described in the R for Windows FAQs.


> What could I do now to save my data? How could I prevent this situation?

a) Be sure a reasonable amount of memory was really allocated.
b) Rewrite your R code to consume less memory and think about what is
needed in memory at one time. Can you divide the computations into
"smaller" ones releted to memory usage?
c) Buy some more RAM.
d) Wait ten years for a much bigger computer. ;-)

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sat Aug 17 18:30:34 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 17 Aug 2002 18:30:34 +0200
Subject: [R] Rcmd SHLIB under NT
References: <73D624FECBBAF6459BB60437FF7C02FB06D246@nsabpmail>
Message-ID: <3D5E7A2A.3E957AFA@statistik.uni-dortmund.de>

"Richards, Tom" wrote:
> 
> Hello:
> 
>         I'm trying to use Rcmd SHLIB to compile a single file, sann.c, to
> get sann.dll.
> I was able to get
> 
> make libR.a
> 
> to work, after going into MkRules and changing the line
> 
> DLLTOOL=$(BINPREF)dlltool -k --as $(AS)
> 
> to read
> 
> DLLTOOL=C:/MINGW-1.1/bin/dlltool -k --as $(AS)

Did you change it in an appropriate editor that does NOT convert Unix
line breaks to Windows line breaks? In any other way you may run into
some problems.


> But now I get:
> 
> C:\rw1051\src\gnuwin32>Rcmd SHLIB sann.c
> 
> make: make: Command not found
> make: *** [libR] Error 127
> 
> My path is as follows:
> 
> C:\rw1051\src\gnuwin32>path
> PATH="C:\Rtools\";C:\Mingw-1.1\bin;C:\Perl\bin;"C:\Rw1051\bin";C:\WINNT\syst
> em32
> ;C:\WINNT;"D:\Program Files\Hummingbird\Connectivity\7.00\Accessories\";


Your path statement MUST NOT end with a ";" or your OS won't find
anything in those paths (at least on WinNT).



> Thus far in my life the only way I've been able to compile C code for R is
> with the commands:
> 
> gcc -O2 -c %FNAME%.c -IC:\Rw1051\src\include -IC:\Mingw-1.1\include
> dlltool --export-all-symbols --output-def %FNAME%.def %FNAME%.o
> gcc -shared -o ..\libs\%FNAME%.dll %FNAME%.def %FNAME%.o
> -LC:/Rw1051/src/gnuwin32 -lR
> 
> Is there some reason that only my computer cannot find make when I try
> SHLIB?  Thanks in advance.


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sat Aug 17 18:36:46 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 17 Aug 2002 18:36:46 +0200
Subject: [R] printing from latex help files in R
References: <Pine.LNX.4.44.0208122250180.835-100000@Chrestomanci>
Message-ID: <3D5E7B9E.A0985E4E@statistik.uni-dortmund.de>

Faheem Mitha wrote:
> 
> On Mon, 12 Aug 2002, Dirk Eddelbuettel wrote:
> 
> >
> > Faheem,
> >
> > > help(some.topic, offline=TRUE)
> >
> > should do if you also install r-base-latex under Debian -- as the latex
> > files are only useful for offline viewing, and nobody else ever asked :)
> > I decided to move them into a seperate package to keep the size on
> > r-base-core down.
> 
> Thanks. However, I'm now getting a weird problem trying to print the help
> file called Random.
> 
> help.search("Random")
> 
> gives me
> 
> Random.user(base)       User-supplied Random Number Generation
> Random(base)            Random Number Generation
> ...
> 
> Now I get
> 
> > help("Random",offline=TRUE)
> Error in help("Random", offline = TRUE) : No documentation for `Random' in
> specified packages and libraries:
>   you could try `help.search("Random")'
> 
> But Random.user works fine with identical syntax. What is wrong?


(Almost) nothing. We have had a discussion on the R-devel list starting
on July 26 with subject "Random.Rd". Just investigate the thread in the
mailing list archives.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From michael.waters at dtn.ntl.com  Sat Aug 17 19:42:19 2002
From: michael.waters at dtn.ntl.com (Dr Mike Waters)
Date: Sat, 17 Aug 2002 18:42:19 +0100
Subject: [R] Is there a way of getting R up and running on an IPAQ 3870?
Message-ID: <000001c24615$6f6fca50$0100a8c0@mshome.net>

Hi,

I was wondering (as a trawl has not turned up anything) whether anyone
has any ideas regarding this matter? Does a version exist? Has anyone
been able to compile such a version? Any pointers would be most welcome,
as the ability to put an IPAQ to really productive use would be great.
Alternatively does anyone know of any other similar software to carry
out EDA and small scale post hoc analyses on these devices (free or
reasonably priced - I'm a poorly paid Civil Servant who's just shelled
out hard earned cash on this thing)?

TIA

Mike

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Aug 17 20:02:32 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 17 Aug 2002 19:02:32 +0100 (BST)
Subject: [R] Is there a way of getting R up and running on an IPAQ 3870?
In-Reply-To: <000001c24615$6f6fca50$0100a8c0@mshome.net>
Message-ID: <Pine.LNX.4.31.0208171858310.4931-100000@gannet.stats>

I understand an IPAQ runs a version of Windows CE aka Pocket Windows?
If so

1) We don't know of a suitable compiler.
2) I believe that even under Linux on that or similar hardware there are
problems with floating-point support.

So, it needs someone with a lot of time to get it working, I guess.

On Sat, 17 Aug 2002, Dr Mike Waters wrote:

> Hi,
>
> I was wondering (as a trawl has not turned up anything) whether anyone
> has any ideas regarding this matter? Does a version exist? Has anyone
> been able to compile such a version? Any pointers would be most welcome,
> as the ability to put an IPAQ to really productive use would be great.
> Alternatively does anyone know of any other similar software to carry
> out EDA and small scale post hoc analyses on these devices (free or
> reasonably priced - I'm a poorly paid Civil Servant who's just shelled
> out hard earned cash on this thing)?
>
> TIA
>
> Mike
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Sun Aug 18 13:58:58 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Sun, 18 Aug 2002 13:58:58 +0200
Subject: [R] Adding argument 'flush' to read.table() too...
Message-ID: <KKEGJOGBELBHDIKPINBMMEADCPAA.hb@maths.lth.se>

What about adding the argument 'flush=FALSE' to read.table() for the option
to ignore trailing elements on each row? This feature already exists in
scan(), which is called internally by read.table():

   flush: logical: if `TRUE', `scan' will flush to the end of the line
          after reading the last of the fields requested. This allows
          putting comments after the last field, but precludes putting
          more that one record on a line.

Looking at the code for read.table(), adding argument 'flush=FALSE' and then
call scan(..., flush=flush) internally seems to be fully backward
compatible. However, I do not know about the S-Plus compatibility.

Comment: I found the need for this when trying to read TAB delimited data
files from an external software that (for unknown reasons) adds several
trailing TAB's to the last 5-10 rows.

Regards,

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
+46 46 2229611 (off), +46 708 909208 (cell), +46 46 2224623 (fax)
h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Sun Aug 18 17:16:59 2002
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Sun, 18 Aug 2002 17:16:59 +0200
Subject: [R] Re: RArcInfo 0.3
References: <Pine.LNX.4.31.0207302019340.11520-100000@matheron.estadi.uv.es>
Message-ID: <3D5FBA6B.1000104@univie.ac.at>

virgilio,
i did my presentation at the asa meeting using RArcInfo
(giving you credits, of course).
while working with it and discussing it with other people,
2 issues arose.
one, i think, needs quick fixing,
the other one is more a feature wish.

1.
i was using another data set, the counties   of austria.
we have 120 of them,
and a few of them are totally enclosed in just  one other one.

the way you draw the polygons has the consequence that if the larger one 
is drawn after the smaller one,
the color of the smaller one is "overwritten"
and therefore the map is really wrong in the relevant area.
so this needs fixing.

2. it would be nice of the number of polygon edges could
be "thinned out" for doing a screen image.
the resolution of the borderlines is usually the one needed only for
high quality large format paper printout.
for screen images, it would look better with more straight edge lines 
and less corners.
i do not know if the arcinfo library you are using
supports such a thinning out.
as far as i know some gis programs have such a function built into them.

please tell me what you think about these 2 suggestions.

and thanks for a very nice R module.

erich














-- 
--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hammett at princeton.edu  Sun Aug 18 18:40:46 2002
From: hammett at princeton.edu (Greg Hammett)
Date: Sun, 18 Aug 2002 17:40:46 +0100
Subject: [R] Peculiar behavior of attached objects
References: <Pine.LNX.4.31.0208171620210.4721-100000@gannet.stats>
Message-ID: <3D5FCE0E.14538C58@princeton.edu>

Prof. Ripley, 

Thanks for your quick reply.  It was nice to hear an answer from one of
the experts in the field.  I agree that this behavior of R is as
documented, and found a good summary on p.29 of "An Introduction to R"
at

http://cran.r-project.org/doc/manuals/R-intro.pdf

When I had read the shorter online documentation, I had assumed that the
attach() command was like the "import" command of Python or the "use"
statement of Fortran90, which are very useful for avoiding name clashes
or allowing the usage of short names to refer to variables with longer
names in a package or module.  It still seems to me that requiring an R
user to detach() and attach() after each change of a dataframe variable
in order to be able to access it by a short name is somewhat awkward. 
Perhaps this is such an intrinsic part of the language that it would be
hard to extend, in which case the developers might consider adding a new
command which had more of the flexibility of the Python "import" command
or Fortran90 "use" statement.  (Of course it's easy for me to suggest
such a change, and much harder for someone to actually implement it...)

For example, in python, one can refer to variables by their fully
qualified module names:

>>> import math
>>> math.pi
3.1415926535897931

or by a shorter name defined inside a module:

>>> from math import *
>>> pi
3.1415926535897931

or if there is a name clash with another variable by the same name it
can be renamed:

>>> from math import pi as pim
>>> pim
3.1415926535897931

Similar things can be done with the Fortran90 "use" statement, which I
know does not create a new copy of a variable with separate memory
storage, which would be inefficient and awkward to use, it is just a new
name that points to the same location in memory.

More info at:

http://www.python.org/doc/current/tut/tut.html
http://www.python.org/doc/current/ref/import.html
http://w3.pppl.gov/~hammett/comp/f90tut/f90.tut7.html


As for my "explanation", I had assumed that it was only the action of
assigning to d$y while attach(d) was in effect that created a new
variable called y that was a copy of the original value of the dataframe
variable.  I guess you are telling me that a copy of the whole dataframe
is made every time an attach() command is issued.  I had assumed that
only new pointers with short names were created by an attach() command
(which is what the documentation seemed to imply to me), as it seems
inefficient to make a copy of a whole dataframe at every attach()
command, particularly for a very large database.

Thanks,

Greg

----------------------------------------------------------------------------


ripley at stats.ox.ac.uk wrote:
> 
> Sorry, but you mis-read the help page for `attach', and your explanation
> is poppycock.
> 
> > d <- data.frame(y=10)
> > attach(d)
> > d$y <- 20
> > y
> [1] 10
> > find("y")
> [1] "d"
> 
> There is no `new variable': you are still seeing the one in the database
> which is attached. As the help page clearly says, that is not changed but
> a copy in the global environment is.
> 
> You can change the attached copy by direct use of assign():
> > assign("y", 30, pos=2)
> > y
> [1] 30
> 
> but that does not change d.  You can also detach and attach.
> 
> If you find the R documentation terse (it can be) do cross-check the S
> documentation (and this point is in both Venables & Ripley books, too).
> 
> On Sat, 17 Aug 2002, Greg Hammett wrote:
> 
> > I've just discovered R and think it is terrific.  I quickly reproduced
> > results with a few lines of R commands that 7 years ago I had to do with
> > a larger fortran code and many calls to NAG routines.  (I'm mostly a
> > computational plasma physicist, but occasionally delve into statistical
> > analysis of data.)
> >
> > But I've come accross a very peculiar behavior of attached objects that
> > cost me hours of searching for a bug, and it would be nice if the R
> > developers could implement a small change to make the language easier to
> > use.
> >
> > The problem was originally buried in a much larger code, but I've boiled
> > it down to a 6 line example:
> >
> > -----------
> >
> > > d <- data.frame(y=10)
> > > attach(d)
> > > d$y <- 20
> >
> > -----------
> >
> > The online help for attach() warns not to assign to the short variable
> > name "y", as that creates a new variable named "y" and the original
> > variable "d$y" remains unchanged.  So I assumed that I could assign to
> > the fully qualified name "d$y", and indeed that successfully changed the
> > value of d$y:
> >
> > -----------
> >
> > > d$y
> > [1] 20
> > > y
> > [1] 10
> > > ls()
> > [1] "d"
> >
> > ------------
> >
> > However, unbeknownst to me at first, it also created a new variable "y"
> > that keeps the original value of "d$y" and no longer points to the
> > present value of "d$y$".  Furthermore, this new variable "y" doesn't
> > show up in the list of objects reported by ls()!  (This is unlike the
> > example given in help(attach), where the new variable "height" created
> > by the assignment shows up in the ls() object list.)  If a user assumes
> > that "y" points to the present value of "d$y$, as the attach() command
> > usually does, he will have bugs that will be very hard to track down.
> >
> > Although the new variable "y" is hidden from the ls() list of objects,
> > it will be removed by doing a detach("d") command:
> >
> > -----------
> >
> > > detach("d")
> > > y
> > Error: Object "y" not found
> >
> > -----------
> >
> > I can't think of any good reason why R should behave like this.  I've
> > tried this same example in Splus, and was surprised to see that it has
> > the same behavior, so I suppose R at least has compatible
> > peculiarities.  I understand that assigning to a short variable name
> > when attach is operational is supposed to create a new variable instead
> > of modifying the original:
> >
> > > d <- data.frame(y=10)
> > > attach(d)
> > > y <- 20
> > > d$y
> > [1] 10
> >
> > and that a lot of R code might have been written assuming this behavior
> > so it probably shouldn't be changed at this point.  But if one makes an
> > assignment to a fully qualified long variable name, I can't think of any
> > good reason for a new semi-hidden variable to be created.  Thus I think
> > that R should instead do the following:
> >
> > > d <- data.frame(y=10)
> > > attach(d)
> > > d$y <- 20
> > > y
> > [1] 20
> >
> > This seems to me to be a much more natural and intuitive behavior that
> > the user should expect.  Compatibility issues may require adding a
> > switch to allow users to get the old behavior if they really wanted, but
> > I can't think of how any users could have relied on this undocumented
> > "feature"...
> >
> > --------------------------------------------------------------
> >
> > I'm new to R, so perhaps I'm missing something that could be explained
> > to me.  If it is decided not to change R's behavior, then at the least
> > I suggest that the example given by help(attach) be extended by
> > appending the following:
> >
> >      attach(women)
> >      women$height <- height*2.54  ## Don't try to do this either, as it
> >      ## will still create a new variable "height" with the original
> >      ## values of women$height.  I.e., height no longer points to the
> >      ## present value of women$height:
> >
> >      sd(women$height-height)   # shows 6.88709
> >
> >      ## furthermore, this new variable is not listed by ls() and
> >      ## disappears after doing detach("women")
> >      ls()
> >      detach("women")
> >      height   # gives an error message
> >
> >
> > ------------
> > Greg Hammett    hammett at princeton.edu
> > Lecturer with rank of Professor,
> >    Astrophysical Sciences, Princeton University
> > Principal Research Physicist,
> >    Princeton Plasma Physics Laboratory
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Aug 18 19:58:26 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 18 Aug 2002 18:58:26 +0100 (BST)
Subject: [R] Adding argument 'flush' to read.table() too...
In-Reply-To: <KKEGJOGBELBHDIKPINBMMEADCPAA.hb@maths.lth.se>
Message-ID: <Pine.LNX.4.31.0208181852030.12232-100000@gannet.stats>

This will not work if the table has no header.  scan() requires you to
specify the fields, but read.table does not and so you cannot know
which fields might be surplus.  Similarly, the header line might have
surplus fields ....


On Sun, 18 Aug 2002, Henrik Bengtsson wrote:

> What about adding the argument 'flush=FALSE' to read.table() for the option
> to ignore trailing elements on each row? This feature already exists in
> scan(), which is called internally by read.table():
>
>    flush: logical: if `TRUE', `scan' will flush to the end of the line
>           after reading the last of the fields requested. This allows
>           putting comments after the last field, but precludes putting
>           more that one record on a line.
>
> Looking at the code for read.table(), adding argument 'flush=FALSE' and then
> call scan(..., flush=flush) internally seems to be fully backward
> compatible. However, I do not know about the S-Plus compatibility.
>
> Comment: I found the need for this when trying to read TAB delimited data
> files from an external software that (for unknown reasons) adds several
> trailing TAB's to the last 5-10 rows.
>
> Regards,
>
> Henrik Bengtsson
>
> Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
> Lund Institute of Technology/Lund University, Sweden (+2h UTC)
> +46 46 2229611 (off), +46 708 909208 (cell), +46 46 2224623 (fax)
> h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chr.schulz at email.de  Sun Aug 18 22:08:15 2002
From: chr.schulz at email.de (chr.schulz@email.de)
Date: Sun, 18 Aug 2002 22:08:15 +0200
Subject: [R] cluster (clara)
Message-ID: <200208182008.g7IK8FX26049@mailgate5.cinetic.de>

Hi,
sorry i have not beside this book
`clara' is fully described in chapter 3 "of Kaufman and Rousseeuw
 (1990) " , but need suggestion's.
 
Have anybody few words, how i have to interpret 
av_diss and isolation ?
 
Is it statistical nonsens (cases are propertys from persons) 
 recode nominal variables like "job positions" , "education" ... to binary variables
1/0 i.e.  Manager/NoManager  Worker/NoWorker .....
 for clustering,because when i use eulidean metric only similar ordinal scales  make
 sense without recoding. Additional for real-value's like age i do
 a  z-transformation ?
 
thanks for suggestions 
& regards, Christian


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Mon Aug 19 03:27:16 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Sun, 18 Aug 2002 21:27:16 -0400
Subject: [R] Out of memory
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC5A6@usrymx10.merck.com>

I have run into similar problems occasionally on Windoze NT.  For whatever
reason, R refuses to do anything, including q("no").  The only way out was
to kill it via Task Manager.  Not sure how to make it reproducible.
Unfortunately Uwe's comments are not exactly helpful, though mostly true.

Cheers,
Andy

> -----Original Message-----
> From: Uwe Ligges [mailto:ligges at statistik.uni-dortmund.de]
> Sent: Saturday, August 17, 2002 12:27 PM
> To: Nikolaus Hansen
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] Out of memory
> 
> 
> Nikolaus Hansen wrote:
> > 
> > During a R session (Version 1.4.1 under Windows) I ended up 
> getting the following error message:
> 
> R-1.5.1 is recent.
> 
> 
> >   Error: vector memory exhausted (limit reached?)
> > 
> > independently of the command like rm(something), q(), ls(), 
> gc(), memory.size(), memory.limit(300000000),
> 
> ?memory.limit says: 
> 
> Usage: memory.limit(size = NA)
> Arguments: size  [...] request a new limit, in Mb. 
>                                                ^^
> So something like memory.limit(500) is more reasonable, 
> depending on the
> size of RAM in your machine.
> It is much more convenient to set  --mex-mem-size=500M  at the command
> line, how it works is described in the R for Windows FAQs.
> 
> 
> > What could I do now to save my data? How could I prevent 
> this situation?
> 
> a) Be sure a reasonable amount of memory was really allocated.
> b) Rewrite your R code to consume less memory and think about what is
> needed in memory at one time. Can you divide the computations into
> "smaller" ones releted to memory usage?
> c) Buy some more RAM.
> d) Wait ten years for a much bigger computer. ;-)
> 
> Uwe Ligges
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at wsl.ch  Mon Aug 19 10:09:30 2002
From: christian.hoffmann at wsl.ch (Christian Hoffmann)
Date: Mon, 19 Aug 2002 10:09:30 +0200
Subject: [R] CONTENTS, TITLE not generated
Message-ID: <5.1.0.14.2.20020819100524.03e2ea40@mail.wsl.ch>

Hi all,

Using   R Version 1.5.0  (2002-04-29)  under Solaris I am reinstalling own 
packages useing the script

#!/bin/csh
cd ~/R/Sources
R CMD check --no-latex --no-perms --no-install $1
R CMD INSTALL --library=lib $1
R CMD Rdindex $1 > INDEX
R CMD build --force $1

Everything echoes with OK, *but* the files CONTENTS and TITLE will not be 
generated. What has changed in the process of compilation?

Thank you for any pointers.

--christian

Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Dynamics and Spatial Development
Swiss Federal Research Institute WSL
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: christian.hoffmann at wsl.ch
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 19 10:31:16 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 19 Aug 2002 09:31:16 +0100 (BST)
Subject: [R] CONTENTS, TITLE not generated
In-Reply-To: <5.1.0.14.2.20020819100524.03e2ea40@mail.wsl.ch>
Message-ID: <Pine.LNX.4.31.0208190926230.13215-100000@gannet.stats>

On Mon, 19 Aug 2002, Christian Hoffmann wrote:

> Using   R Version 1.5.0  (2002-04-29)  under Solaris I am reinstalling own
> packages useing the script
>
> #!/bin/csh
> cd ~/R/Sources
> R CMD check --no-latex --no-perms --no-install $1
> R CMD INSTALL --library=lib $1
> R CMD Rdindex $1 > INDEX
> R CMD build --force $1
>
> Everything echoes with OK, *but* the files CONTENTS and TITLE will not be
> generated. What has changed in the process of compilation?

I bet they are generated, in the place you installed the packages.  They
are not part of the sources and not written in the source tree.

There is no point in building the INDEX and then running `R CMD build
--force' which rebuilds it.

If you really want to re-install, just use

R CMD INSTALL --library=lib $1

If you want to check the sources and then keep a .tar.gz for distribution,
use

R CMD check $1
R CMD build --force $1

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 19 11:44:44 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 19 Aug 2002 10:44:44 +0100 (BST)
Subject: [R] [nlme] BLUPs for a new subject in a fitted lme model?
In-Reply-To: <Pine.GSO.4.33.0208191035370.22621-100000@holyrood.ed.ac.uk>
Message-ID: <Pine.LNX.4.31.0208191041401.13359-100000@gannet.stats>

On Mon, 19 Aug 2002 iwhite at staffmail.ed.ac.uk wrote:

> In the simple model Y = mu + U + e, where U and e have variances Vu and
> Ve, the BLUP for a subject with observation Y is
>
> E(U|Y) = Vu  * (Y - mu)
>         ----
>        (Vu+Ve)
>
> Similarly for more complicated models, i.e. the BLUP is a simple function
> of the variance components. I'm not sure whether this answers the original
> question, but it must be relevant and nobody has mentioned it so far.

Yes, it is relevant.

In general the BLUP is not a simple function like that, not with
hierarchical designs and e.g. random effects on slopes as well as
intercepts.  Which is why I'd like my software to do it for me.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From iwhite at staffmail.ed.ac.uk  Mon Aug 19 11:40:06 2002
From: iwhite at staffmail.ed.ac.uk (iwhite@staffmail.ed.ac.uk)
Date: Mon, 19 Aug 2002 10:40:06 +0100 (BST)
Subject: [R] [nlme] BLUPs for a new subject in a fitted lme model?
In-Reply-To: <Pine.LNX.4.31.0208161742150.1968-100000@gannet.stats>
Message-ID: <Pine.GSO.4.33.0208191035370.22621-100000@holyrood.ed.ac.uk>

In the simple model Y = mu + U + e, where U and e have variances Vu and
Ve, the BLUP for a subject with observation Y is

E(U|Y) = Vu  * (Y - mu)
        ----
       (Vu+Ve)

Similarly for more complicated models, i.e. the BLUP is a simple function
of the variance components. I'm not sure whether this answers the original
question, but it must be relevant and nobody has mentioned it so far.



On Fri, 16 Aug 2002 ripley at stats.ox.ac.uk wrote:

> That's not the whole story.  What (as I understand it) Wilhelm has are not
> just new subjects, but new observations on new subjects.  Then there are
> BLUPs associated with those new subjects.  Think of an enlarged data set
> with the old and the new subjects: you can apply the lme at a given set of
> parameter values and find the BLUPs for all the subjects.
>
> It is equally true that new observations on the old subjects will change
> the BLUPs.
>
> I don't know how to do this with lme without refitting, although the
> pieces needed must be in the package.
>
>
> On Fri, 16 Aug 2002, Ulises Mora Alvarez wrote:
>
> > On Fri, 16 Aug 2002, Wilhelm B. Kloke wrote:
> >
> > > I am seeking for a method to calculate, given a fitted lme model
> > > and some data for a subject, the random effects predictors
> > > for this subject. I can only find predictors for the subjects used in
> > > creating the fit. Of course I could just add the subject and redo the fit.
> > > But I want to avoid just this refitting.
> > >
> > > Thanks for help
> > > wbk
> >
> > Once you've a lme model, you don't need to stimate new random effects for
> > new subjects.
> >
> > As stated by Pinheiro & Bates:
> > "Fixed affects are parameters associated with an entire population, or
> > with repeatable levels of experimental factors.
> > Random effects are instead associated with experimental units drawn at
> > random from a population."
> >
> > Maybe you'd like to see Pinheiro & Bates' book for further details.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

======================================
I.White
ICAPB, University of Edinburgh
Ashworth Laboratories, West Mains Road
Edinburgh EH9 3JT
Fax: 0131 667 3210  Tel: 0131 650 5490
E-mail: iwhite at staffmail.ed.ac.uk
======================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From olivier.martin at inrialpes.fr  Mon Aug 19 23:27:59 2002
From: olivier.martin at inrialpes.fr (Olivier Martin)
Date: Mon, 19 Aug 2002 23:27:59 +0200
Subject: [R] latex for xlab
Message-ID: <3D6162DF.80507@inrialpes.fr>

Hi all,

I don't find the solution to my problem .
I represent  some points and i would like  a title for  the x axis.

I would like to write log_2 where 2 is a subscript of log.
I think  i have to use the functions parse or expression but i have some 
difficulties
to understand how i should use them.

Thanks


-- 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
Olivier MARTIN
PhD student                  phone : (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42		
INRIA Rhone-Alpes            fax   : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                   e-mail: olivier.martin at inrialpes.fr
38334 Saint Ismier cedex     web   : http://www.inrialpes.fr/is2/people/omartin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at esb.ucp.pt  Mon Aug 19 13:45:47 2002
From: peter at esb.ucp.pt (Peter Ho)
Date: Mon, 19 Aug 2002 12:45:47 +0100
Subject: [R]: Bug in Error() and the  use of Error() for repeated measures
 with more than 2 fa ctors
References: <3D5CF3E3.6090901@esb.ucp.pt>
Message-ID: <3D60DA6B.30205@esb.ucp.pt>

I forgot to mention that this analysis was carried out using the Windows 
version .
Perhaps this problem is windows specific.

Peter


Peter Ho wrote:

> Prof. Ripley,
>
> I am sending this to you again, as the first one was undelivered.
>
>
> Peter
>
> ripley at stats.ox.ac.uk wrote:
>
>
>>> There is no intended limit, but there was a bug fix in 1.5.0.  If this
>>> is using 1.5.x, could you send me an example that malfunctions?
>>>  
>>>
>>  
>>
>
> I have attached the .Rdata file with the dataframe 
> simulation.6batches.aovdata. The scripts are the same ones used in the 
> previous email
>
> This analysis was carried out using:
>
> R : Copyright 2002, The R Development Core Team
> Version 1.5.1  (2002-06-17)
>
>
>
> Peter
>
>
>
>>> Brian
>>>
>>> On Wed, 14 Aug 2002, Peter Ho wrote:
>>>
>>>>> I have been trying to analyse an unreplicated repeated measures 
>>>>> 2-level
>>>>> factorial design with 11 factors using aov() with Error(), similar to
>>>>> that described in  "Notes on the use of R for psychology 
>>>>> experiments and
>>>>> questionnaires" by Jonathan Baron and  Yuelin Li (see the example of
>>>>
>>>    Hay's)
>>
>>>>>
>>>>> I have found that there seems to be a limit, in the number of 
>>>>> factors in
>>>>> Error() . For example,  the following worked :
>>>>>
>>>>> aov(CV ~(Twb+Plb+Psb+tinsb+tseedb+Tmb+Mcb+Mom0b+Mom1b+Mom2b+Mom3b)3 +
>>>>> Error(Batch /
>>>>> (Twb+Plb+Psb+tinsb+tseedb+Tmb+Mcb)),simulation.6batches.aovdata)
>>>>>
>>>>> but not:
>>>>>
>>>>> aov(CV ~(Twb+Plb+Psb+tinsb+tseedb+Tmb+Mcb+Mom0b+Mom1b+Mom2b+Mom3b)3 +
>>>>> Error(Batch /
>>>>> (Twb+Plb+Psb+tinsb+tseedb+Tmb+Mcb+Mom0b+Mom1b)),simulation.6batches.aovdat 
>>>>>
>>>>
>>>   
>>
> a)
>
>>>>>
>>>>> which I suppose should be the right way to code the strata.formula 
>>>>> for
>>>>> 11 fixed factors. Returned the following reply after running this 
>>>>> script:
>>>>>
>>>   
>>>
>>>>>> >Error in eval(expr, envir, enclos) : couldn't find function "Error"
>>>>>
>>>>     
>>>>
>>>>>
>>>>> The only difference between the two scripts is the second one 
>>>>> contains
>>>>> all 11 factors. Is this a bug? Or should I be using lme() or some 
>>>>> other
>>>>> function when the number of factors is greater than the "limit"?
>>>>>
>>>>> I would also like to hear some views as to whether Error() should be
>>>>> used for repeated measures, pro & cons,etc? I have found differing 
>>>>> views
>>>>> in books. For example, Neter et al  "applied linear statistical 
>>>>> models "
>>>>> uses simply the combined treatment by subject interaction mean square
>>>>> when testing main effects and their interactions. They do state 
>>>>> that the
>>>>> relaxation of the assumptions of a repeated measures model can be 
>>>>> made
>>>>> by the inclusion of first-order interaction between each factor and
>>>>> subjects in the model. However, this still falls short of the ideas
>>>>> suggested with using Error() for testing.On the other hand,  
>>>>> Mead's "the
>>>>> design of experiments puts repeated measures in the same chapter with
>>>>> split unit design, which are multistratum design. Jonathan Baron's 
>>>>> and
>>>>> Yuelin Li's document also references a number of books on this 
>>>>> matter.
>>>>>
>>>>> I know that this point is not really suitable for r-help, but it is
>>>>> related indirectly with regard to the use of strata.formula in 
>>>>> Error().
>>>>>
>>>>>
>>>>> Any comments would be grateful
>>>>>
>>>>>
>>>>> Peter Ho
>>>>> ISR-Porto
>>>>>
>>>>>
>>>>>
>>>>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>>>>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wb at yorikke.arb-phys.uni-dortmund.de  Mon Aug 19 14:03:26 2002
From: wb at yorikke.arb-phys.uni-dortmund.de (Wilhelm B. Kloke)
Date: Mon, 19 Aug 2002 12:03:26 +0000 (UTC)
Subject: [R] [nlme] BLUPs for a new subject in a fitted lme model?
References: <ifado.list.r.help/Pine.GSO.4.33.0208191035370.22621-100000@holyrood.ed.ac.uk> <ifado.list.r.help/Pine.LNX.4.31.0208191041401.13359-100000@gannet.stats>
Message-ID: <ajqmqe$27j7$1@yorikke.arb-phys.uni-dortmund.de>

In article <ifado.list.r.help/Pine.LNX.4.31.0208191041401.13359-100000 at gannet.stats>,
 <ripley at stats.ox.ac.uk> wrote:
>On Mon, 19 Aug 2002 iwhite at staffmail.ed.ac.uk wrote:
>
>> In the simple model Y = mu + U + e, where U and e have variances Vu and
>> Ve, the BLUP for a subject with observation Y is
>>
>> E(U|Y) = Vu  * (Y - mu)
>>         ----
>>        (Vu+Ve)
>>
>> Similarly for more complicated models, i.e. the BLUP is a simple function
>> of the variance components. I'm not sure whether this answers the original
>> question, but it must be relevant and nobody has mentioned it so far.
>
>Yes, it is relevant.
>
>In general the BLUP is not a simple function like that, not with
>hierarchical designs and e.g. random effects on slopes as well as
>intercepts.  Which is why I'd like my software to do it for me.

Let me sharpen my original question. Given new observations (on a new
or even an old subject), is there a simple test whether these new
observations are fitted by the model? As I understand it, if I had the BLUPs
I could just compare the residuals of the fit with the model's residuals
and those of a fixed effects model only for the new data.

wbk
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Aug 19 14:14:34 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 19 Aug 2002 14:14:34 +0200
Subject: [R] latex for xlab
References: <3D6162DF.80507@inrialpes.fr>
Message-ID: <3D60E12A.A91A6B50@statistik.uni-dortmund.de>



Olivier Martin wrote:
> 
> Hi all,
> 
> I don't find the solution to my problem .
> I represent  some points and i would like  a title for  the x axis.
> 
> I would like to write log_2 where 2 is a subscript of log.
> I think  i have to use the functions parse or expression but i have some
> difficulties
> to understand how i should use them.

See 
 ?plotmath

Use it as in
 plot(1:10, xlab=expression(log[2]))

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Nikolaus.Hansen at ingene.de  Mon Aug 19 14:38:15 2002
From: Nikolaus.Hansen at ingene.de (Nikolaus Hansen)
Date: Mon, 19 Aug 2002 14:38:15 +0200
Subject: AW: [R] Out of memory
Message-ID: <AAF430AF47FBDD409B95B63BD237EB54043678@mailman2.office.ingene.com>

> "Liaw, Andy" wrote:
> > 
> > I have run into similar problems occasionally on Windoze 
> NT.  For whatever
> > reason, R refuses to do anything, including q("no").  
> 
> So you got a prompt and were able to type it in? Strange! Never seen
> something like that! 
> 
> 
> > The only way out was
> > to kill it via Task Manager.  Not sure how to make it reproducible.
> > Unfortunately Uwe's comments are not exactly helpful, 
> though mostly true.
> 
> a) What was wrong?

OK, the memory.limit(...) command was unreasonable as your comment pointed out. The version hint may also prove helpful. 

But you did not comment all the reasonable commands I typed in (Andy added on another one) without getting a reasonable response from R. Why not? Thus it seemed to me that you would expect and accept that kind of behaviour of R: E.g. loading some data into memory which exceed the recent memory size will result in refusing any further command (more precise: getting a prompt and an invariable response to any typed command). This is not exactly helpful...

> 
> b) They were helpful, since, obviously, the usage of 
> memory.limit() was
> not reasonable.
> 
> c) Some more un-helpful comments on memory usage:
> One of my collegeaus asked me how to compute all possible permutations
> of the integers 1, 2, ..., 20 and save them to a file. Well, 
> I told him,
> in principle he could use ... But he should think about the memory
> usage, since these are 20! permutations * 20 integers to store. If he
> could use just one byte per integer, approx. 50000000000 
> GigaByte would
> be required. ;-)

Maybe helpful for him. Even though not exactly the focus of my contribution. 

> 
> Best,
> Uwe
> 

Nikolaus Hansen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Xavier.Abulker at fimat.com  Mon Aug 19 10:27:56 2002
From: Xavier.Abulker at fimat.com (Xavier.Abulker@fimat.com)
Date: Mon, 19 Aug 2002 10:27:56 +0200
Subject: [R] install the SJava package on unix
Message-ID: <OFDC5E8591.1EE1BED1-ONC1256C1A.002E6EE1@fimat-france.fr>


Hi,
I've got a problem to use the SJava package with R.

I have a SUN solaris 8 machine.

Then I did R INSTALL -c SJava_0.65-0.tar.gz
 without problem

Now I try the test provided on the web site:
library(SJava)
and here I receive the error message:

Error in dyn.load(x, as.logical(local), as.logical(now)) :
        unable to load shared library
"/usr/local/lib/R/library/SJava/libs/SJava.so":
  ld.so.1: /usr/local/lib/R/bin/R.bin: fatal: libjvm.so: open failed: No
such file or directo
ry
Error in library(SJava) : .First.lib failed


The result of the command
java -version
java version "1.2.2"
Solaris VM (build Solaris_JDK_1.2.2_08, native threads, sunwjit)

The LD_LIBRARY_PATH is

Sys.getenv("LD_LIBRAYRY_PATH")
LD_LIBRARY_PATH
"/usr/local/lib/R/bin:/usr/local/lib:/usr/local/lib:/usr/ccs/lib:/usr/lib:/usr/local/lib:/usr/local/lib/gcc-lib/sparc-sun-solaris2.8/2.95.3:/usr/ccs/bin:/usr/openwin/lib:/usr/local/lib/R/library/SJava/libs:/usr/lib:/usr/local/lib/R/bin:/usr/local/lib/R/library/SJava/org/omegahat/Jars/:/opt/CARMA/lib:"



Could you please help me?

Thanks

Xavier




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Mon Aug 19 15:13:35 2002
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Mon, 19 Aug 2002 09:13:35 -0400
Subject: [R] install the SJava package on unix
In-Reply-To: <OFDC5E8591.1EE1BED1-ONC1256C1A.002E6EE1@fimat-france.fr>; from Xavier.Abulker@fimat.com on Mon, Aug 19, 2002 at 10:27:56AM +0200
References: <OFDC5E8591.1EE1BED1-ONC1256C1A.002E6EE1@fimat-france.fr>
Message-ID: <20020819091335.B10454@jessie.research.bell-labs.com>


Hi Xavier.

  The error message suggests that in loading SJava.so, the loader
cannot find the core Java library libjvm.so which is provided by in
your Java installation (JDK). Usually this is not installed somewhere
standard on your system and so, as you correctly surmized, you must
explicitly have the directory in your LD_LIBRARY_PATH. The scripts
RJava.bsh or RJava.csh that are installed with the SJava package in
the in the scripts/ directory of the package attempt to get the
correct values and will work for most JDKs. So before starting R,
execute

  . <wherever>/SJava/scripts/RJava.bsh
or for csh and tcsh shells
  source <wherever>/SJava/scripts/RJava.csh

and that will hopefully fix the proble.  Otherwise, find where
libjvm.so (and other libraries on which it depends (e.g. libhpi.so))
and manually add those directories to LD_LIBRARY_PATH.

 Hope this works.
  D.

Xavier.Abulker at fimat.com wrote:
> 
> Hi,
> I've got a problem to use the SJava package with R.
> 
> I have a SUN solaris 8 machine.
> 
> Then I did R INSTALL -c SJava_0.65-0.tar.gz
>  without problem
> 
> Now I try the test provided on the web site:
> library(SJava)
> and here I receive the error message:
> 
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>         unable to load shared library
> "/usr/local/lib/R/library/SJava/libs/SJava.so":
>   ld.so.1: /usr/local/lib/R/bin/R.bin: fatal: libjvm.so: open failed: No
> such file or directo
> ry
> Error in library(SJava) : .First.lib failed
> 
> 
> The result of the command
> java -version
> java version "1.2.2"
> Solaris VM (build Solaris_JDK_1.2.2_08, native threads, sunwjit)
> 
> The LD_LIBRARY_PATH is
> 
> Sys.getenv("LD_LIBRAYRY_PATH")
> LD_LIBRARY_PATH
> "/usr/local/lib/R/bin:/usr/local/lib:/usr/local/lib:/usr/ccs/lib:/usr/lib:/usr/local/lib:/usr/local/lib/gcc-lib/sparc-sun-solaris2.8/2.95.3:/usr/ccs/bin:/usr/openwin/lib:/usr/local/lib/R/library/SJava/libs:/usr/lib:/usr/local/lib/R/bin:/usr/local/lib/R/library/SJava/org/omegahat/Jars/:/opt/CARMA/lib:"
> 
> 
> 
> Could you please help me?
> 
> Thanks
> 
> Xavier
> 
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 19 15:23:01 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 19 Aug 2002 14:23:01 +0100 (BST)
Subject: AW: [R] Out of memory
In-Reply-To: <AAF430AF47FBDD409B95B63BD237EB54043678@mailman2.office.ingene.com>
Message-ID: <Pine.LNX.4.31.0208191414430.13749-100000@gannet.stats>

On Mon, 19 Aug 2002, Nikolaus Hansen wrote:

> But you did not comment all the reasonable commands I typed in
(Andy added on another one) without getting a reasonable response from R.
Why not? Thus it seemed to me that you would expect and accept that
kind of behaviour of R: E.g. loading some data into memory which exceed
the recent memory size will result in refusing any further command
(more precise: getting a prompt and an invariable response to any
typed command). This is not exactly helpful...

Would you prefer the process to be terminated?  You used up all the
resources allocated to R.  None could be freed by garbage collection.
What was R supposed to do?  There was no memory left to do anything else
in.

I think this circumstance is very rare (normally you get enough memory
back to do something).  I would prefer it to allowing R to take over all
the VM on a computer, when you probably need to reboot. Those who have not
seen this happen on a departmental server (say) should consider themselves
fortunate.  (It was open to you to set any limit you like if you prefer
this behaviour.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adayf96 at ucla.edu  Mon Aug 19 21:30:59 2002
From: adayf96 at ucla.edu (DAY,AARON GARTH)
Date: Mon, 19 Aug 2002 12:30:59 -0700 (PDT)
Subject: [R] How do I uninstall R on a linux box
Message-ID: <Pine.SOL.4.05.10208191230040.10530-100000@margay.noc.ucla.edu>

What do I need to do to uninstall R on a linux box??

Thanks for the help,

Aaron


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From olivier.martin at inrialpes.fr  Tue Aug 20 08:56:41 2002
From: olivier.martin at inrialpes.fr (Olivier Martin)
Date: Tue, 20 Aug 2002 08:56:41 +0200
Subject: [R] plot and bg
Message-ID: <3D61E829.6000908@inrialpes.fr>

Hi all,

I would like to plot some points and define the bg color of my graphics.
But the bg parameter set is defined for the. whole graphic.
In fact, i would like to use something like :

box(bg=gray(0.9)).

So, the background  concerns only the plot region  and not the main 
title, the x title and the y title.

The option col for the function box() concerns the contour and there is 
no option for the background.

Regards,

-- 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
Olivier MARTIN
PhD student                  phone : (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42		
INRIA Rhone-Alpes            fax   : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                   e-mail: olivier.martin at inrialpes.fr
38334 Saint Ismier cedex     web   : http://www.inrialpes.fr/is2/people/omartin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gattuso at obs-vlfr.fr  Tue Aug 20 00:18:39 2002
From: gattuso at obs-vlfr.fr (Jean-Pierre Gattuso)
Date: Tue, 20 Aug 2002 00:18:39 +0200
Subject: [R] Help with Lattice
Message-ID: <p05111700b987191d2ec2@[213.203.68.67]>

Hi:

I have started to use Lattice two days ago and find that it is an 
outstanding package. I am, however, stumbling on two problems, 
despite the fact that I have read the help pages as well as two pdf 
documents on Trellis that I found on the web.

1- I want to remove the ticks on the top and right sides of the 
panels and did not see any option in "scales" to do so.

2- I would like to remove the background color on the strips but 
could not find how to make the "bg" option in "strip.default " work. 
I would also like to remove the box around the strips and found no 
option to do it in "strip.default" or elsewhere.

Thanks in advance for your help.
jp
-- 
____________________________________________________________________
Jean-Pierre Gattuso
Laboratoire d'Oc?anographie de Villefranche, UMR 7093 CNRS-UPMC
B. P. 28, F-06234 Villefranche-sur-mer Cedex - France
Voice: +33 (0)493763859 - Fax: +33 (0)493763834
<mailto:gattuso at obs-vlfr.fr> - http://www.obs-vlfr.fr/~gattuso
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Tue Aug 20 02:18:47 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Mon, 19 Aug 2002 20:18:47 -0400
Subject: [R] Running median
Message-ID: <15713.35559.621169.839498@gargle.gargle.HOWL>

I have a Date x Stock (223 x 520) matrix of "trading volume".  I can calculate
a 5-day (past) average in about 1 second using: 

R> apply(vol, 1, filter, filter=c(0, rep(1/5,5)), sides=1)

I would like to do the same with a 5-day median, e.g.:

R> mymed <- function(x, n=5) {
R>   r <- rep(NA, length(x))
R>   for (i in (n+1):length(x)) r[i] <- median(x[i-(1:n)])
R>   return(r)
R> }
R> apply(vol, 1, mymed)

only faster (the above takes 65 seconds).  Is there already a function (or some
C code) to do this?  Any clever way to vectorize it?

smooth() in package "eda" with kind="3" calculates a running median of 3
values, so I may start with the code in library/eda/src/smooth.c, but it
doesn't generalize easily to N values.  Also, decmedian() in package "pastecs"
may be relevant, but doesn't seem any faster than my naive code.

Thanks!
-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Aug 20 08:00:19 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Aug 2002 08:00:19 +0200
Subject: [R] How do I uninstall R on a linux box
In-Reply-To: <Pine.SOL.4.05.10208191230040.10530-100000@margay.noc.ucla.edu>
References: <Pine.SOL.4.05.10208191230040.10530-100000@margay.noc.ucla.edu>
Message-ID: <x2wuqmoyrw.fsf@biostat.ku.dk>

"DAY,AARON GARTH" <adayf96 at ucla.edu> writes:

> What do I need to do to uninstall R on a linux box??

Depends on how you installed it...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Daniel.Faller at physik.uni-freiburg.de  Tue Aug 20 12:22:05 2002
From: Daniel.Faller at physik.uni-freiburg.de (Daniel Faller)
Date: Tue, 20 Aug 2002 12:22:05 +0200
Subject: [R] rotating a dendrogram
Message-ID: <200208201222.06815.Daniel.Faller@physik.uni-freiburg.de>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi,

I have set up a more or less complex graphics layout layout.

Similar to one of the examples I want to rotate one plot by 90 degrees. In the 
example barplot which has a horiz=TRUE/FALSE argument is used.

However, I want to rotate a dendrogram with plot.hclust(). There is no such 
argument. I only found options to rotate the labels (las), but nothing to 
rotate a whole plot.

Any ideas ? 


Gruss
     Daniel


_____________________________________________
Daniel Faller
Fakultaet fuer Physik
Abt. Honerkamp
Albert-Ludwigs-Universitaet Freiburg

Tel.: 0761-203-5875
Fax.: 0761-203-5967 
e-mail:  Daniel.Faller at physik.uni-freiburg.de
URL:     http://webber.physik.uni-freiburg.de/~fallerd         
PGP-Key: http://pgp.mit.edu/
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.6 (GNU/Linux)
Comment: For info see http://www.gnupg.org

iD8DBQE9YhhNtW1j248en+YRAs6bAJ9cPIR0TicIKnz+8xDrBNGcF/cyMgCgg4pC
yUZTOTb6ggnlS4Dn4H5Fsec=
=PUBj
-----END PGP SIGNATURE-----

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Tue Aug 20 12:31:07 2002
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Tue, 20 Aug 2002 12:31:07 +0200
Subject: [R] plot and bg
Message-ID: <3.0.32.20020820123107.008f44e0@162.38.183.200>

At 08:56 20/08/02 +0200, you wrote:
>Hi all,
>
>I would like to plot some points and define the bg color of my graphics.
>But the bg parameter set is defined for the. whole graphic.
>In fact, i would like to use something like :
>
>box(bg=gray(0.9)).
>
>So, the background  concerns only the plot region  and not the main 
>title, the x title and the y title.
>
>The option col for the function box() concerns the contour and there is 
>no option for the background.

There is an example in demo(graphics) where the colour of the background
within the plotting is not the same than in the margins; is it what you
want? (The code is there of course.)

EP

>Regards,
>
>-- 
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-.-
>Olivier MARTIN
>PhD student                  phone : (33) 04 76 61 53 55
>Projet IS2                               06 08 67 93 42		
>INRIA Rhone-Alpes            fax   : (33) 04 76 61 54 77
>655, Av. de l'Europe
>Montbonnot                   e-mail: olivier.martin at inrialpes.fr
>38334 Saint Ismier cedex     web   :
http://www.inrialpes.fr/is2/people/omartin
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-.-
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Tue Aug 20 14:02:22 2002
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Tue, 20 Aug 2002 22:02:22 +1000
Subject: [R] plot and bg
In-Reply-To: <3D61E829.6000908@inrialpes.fr>
References: <3D61E829.6000908@inrialpes.fr>
Message-ID: <20020820120650.JVHF27403.mta07.mail.mel.aone.net.au@there>

Olivier Martin wrote:

> Hi all,
>
> I would like to plot some points and define the bg color of my graphics.
> But the bg parameter set is defined for the. whole graphic.
> In fact, i would like to use something like :
>
> box(bg=gray(0.9)).
>
> So, the background  concerns only the plot region  and not the main 
> title, the x title and the y title.
>

This may not be the easiest way, but...

> plot(1:5,type="n")
> pd<-par("usr")
> rect(pd[1],pd[3],pd[2],pd[4],col="Gray")
> par(new=T)
> plot(1:5)

Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Aug 20 14:38:38 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 20 Aug 2002 14:38:38 +0200
Subject: [R] Running median
In-Reply-To: <15713.35559.621169.839498@gargle.gargle.HOWL>
References: <15713.35559.621169.839498@gargle.gargle.HOWL>
Message-ID: <15714.14414.92029.238066@gargle.gargle.HOWL>

>>>>> "DavidB" == David Brahm <brahm at alum.mit.edu>
>>>>>     on Mon, 19 Aug 2002 20:18:47 -0400 writes:

    DavidB> I have a Date x Stock (223 x 520) matrix of "trading
    DavidB> volume".  I can calculate a 5-day (past) average in
    DavidB> about 1 second using:

    R> apply(vol, 1, filter, filter=c(0, rep(1/5,5)), sides=1)

    DavidB> I would like to do the same with a 5-day median,
    DavidB> e.g.:


   R> mymed <- function(x, n=5) {
   R>   r <- rep(NA, length(x))
   R>   for (i in (n+1):length(x)) r[i] <- median(x[i-(1:n)])
   R>   return(r)
   R> }

   R> apply(vol, 1, mymed)

    DavidB> only faster (the above takes 65 seconds).  Is there
    DavidB> already a function (or some C code) to do this?  Any
    DavidB> clever way to vectorize it?

    DavidB> smooth() in package "eda" with kind="3" calculates a
    DavidB> running median of 3 values, so I may start with the
    DavidB> code in library/eda/src/smooth.c, but it doesn't
    DavidB> generalize easily to N values.  Also, decmedian() in
    DavidB> package "pastecs" may be relevant, but doesn't seem
    DavidB> any faster than my naive code.

(yes).

On the "R Developer page", there are TODO lists of several R core members.  
Mine (http://developer.R-project.org/TODO-MM.html) contains an item

  MM> Running Medians for library(modreg) : 
  MM>   We need a fast robust smoother; lowess() is not robust.  
  MM> 	(a non-release of a package "runmed" is available; 
  MM> 	 need to write a short paper on what I found ....)

There two big steps making it much faster :
1) move to compiled code
2) use a smarter algorithm -- I have two versions :
   a. There is a first idea of making it fast which dates back to
      Friedman & Stuetzle's work on projection pursuit in the 80s.
      
   b. Computing `running median of k' for larger `k' :
      To make this really fast (asymptotically optimal), 
      Haerdle & Steiner published a paper on how to do this
      and Berwin Turlach has programmed it (or just translated
      their program).

Yes, as I say above, this should eventually become part of the
"modreg" package.

-- 
Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Aug 20 15:34:02 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 20 Aug 2002 15:34:02 +0200
Subject: [R] plot and bg
In-Reply-To: <20020820120650.JVHF27403.mta07.mail.mel.aone.net.au@there>
References: <3D61E829.6000908@inrialpes.fr>
	<20020820120650.JVHF27403.mta07.mail.mel.aone.net.au@there>
Message-ID: <15714.17738.950539.596660@gargle.gargle.HOWL>

>>>>> "Jim" == Jim Lemon <bitwrit at ozemail.com.au>
>>>>>     on Tue, 20 Aug 2002 22:02:22 +1000 writes:

    Jim> Olivier Martin wrote:
    >> Hi all,
    >> 
    >> I would like to plot some points and define the bg color
    >> of my graphics.  But the bg parameter set is defined for
    >> the. whole graphic.  In fact, i would like to use
    >> something like :
    >> 
    >> box(bg=gray(0.9)).
    >> 
    >> So, the background concerns only the plot region and not
    >> the main title, the x title and the y title.
    >> 

    Jim> This may not be the easiest way, but...

    >> plot(1:5,type="n")
    >> pd<-par("usr")
    >> rect(pd[1],pd[3],pd[2],pd[4],col="Gray")
    >> par(new=T)
    >> plot(1:5)

The easiest way most probably being something like

plot(1:10, panel.first = {U <- par("usr")
                     rect(U[1],U[3],U[2],U[4],col="cornsilk", border="black")},
     main = "Extra background for plot()")

------
Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dyang at nrcan.gc.ca  Tue Aug 20 16:19:39 2002
From: dyang at nrcan.gc.ca (Yang, Richard)
Date: Tue, 20 Aug 2002 10:19:39 -0400
Subject: [R] Reset par(xaxp) in plot
Message-ID: <F0E0B899CB43D5118D220002A55113CF21BB27@s2-edm-r1.nrn.nrcan.gc.ca>

R-Helpers;

	This seems simple to set graphic parameter, but I tried plot a graph
with 10 intervals in x axis with  par(xaxp = c(0, 150, 10) but to no avail:

	par(xaxp =c (0, 150,  10))
	plot(age, y18, type="n", ylab="Height (m)", xlab=" age (Yrs)", font
= 2)
	lines(age, y6, lty = 4, lwd = 2)
	lnes(age, y10, lty = 1, lwd =2)
	lines(age, y14, lty = 2, lwd =2)
	lines(age, y18, lty = 3, lwd = 2)
	abline(v=50)

The plot shown only 3 intervals with tick at 0, 50, 100, and 150. and 

> par()$xaxp
[1]   0 150   3

	I use current version Lattice and Grid.

> version
         _              
platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status   Patched        
major    1              
minor    5.0            
year     2002           
month    05             
day      15             
language R          

	What did I miss?

Richard
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Tue Aug 20 16:30:01 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Tue, 20 Aug 2002 10:30:01 -0400
Subject: [R] Help with Lattice
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC5B2@usrymx10.merck.com>

> From: Jean-Pierre Gattuso [mailto:gattuso at obs-vlfr.fr]
> 
> Hi:
> 
> I have started to use Lattice two days ago and find that it is an 
> outstanding package. I am, however, stumbling on two problems, 
> despite the fact that I have read the help pages as well as two pdf 
> documents on Trellis that I found on the web.
> 
> 1- I want to remove the ticks on the top and right sides of the 
> panels and did not see any option in "scales" to do so.

Use scale=list(alternating=...) inside your trellis calls.

> 2- I would like to remove the background color on the strips but 
> could not find how to make the "bg" option in "strip.default " work. 
> I would also like to remove the box around the strips and found no 
> option to do it in "strip.default" or elsewhere.

Here's how I set the strips and shingles to all white:

trls.strp.bg <- trellis.par.get('strip.background')
trls.strp.sg <- trellis.par.get('strip.shingle')
trls.strp.bg$col <- rep(0, 7)
trls.strp.sg$col <- rep(0, 7)
trellis.par.set('strip.background',trls.strp.bg)
trellis.par.set('strip.shingle',trls.strp.sg)

Not sure what you mean by `box around the strip'.

HTH,
Andy
> 
> Thanks in advance for your help.
> jp
> -- 
> ____________________________________________________________________
> Jean-Pierre Gattuso
> Laboratoire d'Oc?anographie de Villefranche, UMR 7093 CNRS-UPMC
> B. P. 28, F-06234 Villefranche-sur-mer Cedex - France
> Voice: +33 (0)493763859 - Fax: +33 (0)493763834
> <mailto:gattuso at obs-vlfr.fr> - http://www.obs-vlfr.fr/~gattuso

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From degiorgi at math.ethz.ch  Tue Aug 20 16:28:47 2002
From: degiorgi at math.ethz.ch (Enrico De Giorgi)
Date: Tue, 20 Aug 2002 16:28:47 +0200
Subject: [R] Multi-plot
In-Reply-To: <20020820120650.JVHF27403.mta07.mail.mel.aone.net.au@there>
Message-ID: <NEBBLOMPELHOIMFBEMAHCENDCGAA.degiorgi@math.ethz.ch>

I'm working with the R-version 1.4.1.
I've written a function whcih produces 4 plots.
I would like to create 4 different windows, each of one with one plot.
Now, all the 4 plots are created in the windows and only the last one
remains.


How can solve this problem?

Regards,
edg

> -----Messaggio originale-----
> Da: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]Per conto di Jim Lemon
> Inviato: marted?, 20. agosto 2002 14:02
> A: r-help
> Oggetto: Re: [R] plot and bg
>
>
> Olivier Martin wrote:
>
> > Hi all,
> >
> > I would like to plot some points and define the bg color of my graphics.
> > But the bg parameter set is defined for the. whole graphic.
> > In fact, i would like to use something like :
> >
> > box(bg=gray(0.9)).
> >
> > So, the background  concerns only the plot region  and not the main
> > title, the x title and the y title.
> >
>
> This may not be the easiest way, but...
>
> > plot(1:5,type="n")
> > pd<-par("usr")
> > rect(pd[1],pd[3],pd[2],pd[4],col="Gray")
> > par(new=T)
> > plot(1:5)
>
> Jim
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Aug 20 16:34:19 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Aug 2002 16:34:19 +0200
Subject: [R] Reset par(xaxp) in plot
In-Reply-To: <F0E0B899CB43D5118D220002A55113CF21BB27@s2-edm-r1.nrn.nrcan.gc.ca>
References: <F0E0B899CB43D5118D220002A55113CF21BB27@s2-edm-r1.nrn.nrcan.gc.ca>
Message-ID: <x2ofbx1tw4.fsf@biostat.ku.dk>

"Yang, Richard" <dyang at nrcan.gc.ca> writes:

> R-Helpers;
> 
> 	This seems simple to set graphic parameter, but I tried plot a graph
> with 10 intervals in x axis with  par(xaxp = c(0, 150, 10) but to no avail:
> 
> 	par(xaxp =c (0, 150,  10))
> 	plot(age, y18, type="n", ylab="Height (m)", xlab=" age (Yrs)", font
> = 2)
> 	lines(age, y6, lty = 4, lwd = 2)
> 	lnes(age, y10, lty = 1, lwd =2)
> 	lines(age, y14, lty = 2, lwd =2)
> 	lines(age, y18, lty = 3, lwd = 2)
> 	abline(v=50)
> 
> The plot shown only 3 intervals with tick at 0, 50, 100, and 150. and 
> 
> > par()$xaxp
> [1]   0 150   3
...
> 	What did I miss?


xaxp is a bit tricky since it gets calculated and *set* by routines
like plot. You can, however, plot without axes, set xaxp, and then use
axis():

 plot(1:10,axes=F)
 par(xaxp=c(1,10,99))
 axis(1)
 axis(2)
 box()

(Arguably, plot(1:10,xaxp=c(1,10,99)) could be coerced to work, but it
currently does not.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Aug 20 16:42:42 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 20 Aug 2002 16:42:42 +0200
Subject: [R] Reset par(xaxp) in plot
References: <F0E0B899CB43D5118D220002A55113CF21BB27@s2-edm-r1.nrn.nrcan.gc.ca>
Message-ID: <3D625562.45371565@statistik.uni-dortmund.de>



"Yang, Richard" wrote:
> 
> R-Helpers;
> 
>         This seems simple to set graphic parameter, but I tried plot a graph
> with 10 intervals in x axis with  par(xaxp = c(0, 150, 10) but to no avail:

> 
>         par(xaxp =c (0, 150,  10))
>         plot(age, y18, type="n", ylab="Height (m)", xlab=" age (Yrs)", font
> = 2)
>         lines(age, y6, lty = 4, lwd = 2)
>         lnes(age, y10, lty = 1, lwd =2)
>         lines(age, y14, lty = 2, lwd =2)
>         lines(age, y18, lty = 3, lwd = 2)
>         abline(v=50)
> 
> The plot shown only 3 intervals with tick at 0, 50, 100, and 150. and
> 
> > par()$xaxp
> [1]   0 150   3

With par("xaxp") you read the current status of the plot, you cannot set
it.
Use par("lab") for these purposes (only approx. number of intervals can
be given) or add the axis explicitly with axis(), e.g.:

  par("lab" = c(10,5,5))
  plot(...)

or better for your case:

  plot(..., xaxt = "n")
  axis(1, at = seq(0, 150, 15))

 
>         I use current version Lattice and Grid.

But not in the example above.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jan.wiener at tuebingen.mpg.de  Tue Aug 20 16:43:38 2002
From: jan.wiener at tuebingen.mpg.de (Jan Malte Wiener)
Date: Tue, 20 Aug 2002 16:43:38 +0200
Subject: [R] t() converts data.frames ind matrix
Message-ID: <3D62559A.6000904@tuebingen.mpg.de>

hi,
i just recognized  that the t() function converts a data frames into a 
matrix (R 1.5). is that a bug or a feature ?
greetinx jan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramasamy at stats.ox.ac.uk  Tue Aug 20 16:45:08 2002
From: ramasamy at stats.ox.ac.uk (Adaikalavan Ramasamy)
Date: Tue, 20 Aug 2002 15:45:08 +0100
Subject: [R] Multi-plot
References: <NEBBLOMPELHOIMFBEMAHCENDCGAA.degiorgi@math.ethz.ch>
Message-ID: <002201c24858$2e19f450$a71401a3@stats.ox.ac.uk>

par(mfrow=c(2,2))

----- Original Message -----
From: "Enrico De Giorgi" <degiorgi at math.ethz.ch>
To: "r-help" <r-help at stat.math.ethz.ch>
Sent: Tuesday, August 20, 2002 3:28 PM
Subject: [R] Multi-plot


> I'm working with the R-version 1.4.1.
> I've written a function whcih produces 4 plots.
> I would like to create 4 different windows, each of one with one plot.
> Now, all the 4 plots are created in the windows and only the last one
> remains.
>
>
> How can solve this problem?
>
> Regards,
> edg
>
> > -----Messaggio originale-----
> > Da: owner-r-help at stat.math.ethz.ch
> > [mailto:owner-r-help at stat.math.ethz.ch]Per conto di Jim Lemon
> > Inviato: marted?, 20. agosto 2002 14:02
> > A: r-help
> > Oggetto: Re: [R] plot and bg
> >
> >
> > Olivier Martin wrote:
> >
> > > Hi all,
> > >
> > > I would like to plot some points and define the bg color of my
graphics.
> > > But the bg parameter set is defined for the. whole graphic.
> > > In fact, i would like to use something like :
> > >
> > > box(bg=gray(0.9)).
> > >
> > > So, the background  concerns only the plot region  and not the main
> > > title, the x title and the y title.
> > >
> >
> > This may not be the easiest way, but...
> >
> > > plot(1:5,type="n")
> > > pd<-par("usr")
> > > rect(pd[1],pd[3],pd[2],pd[4],col="Gray")
> > > par(new=T)
> > > plot(1:5)
> >
> > Jim
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-
> > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Aug 20 16:46:01 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 20 Aug 2002 16:46:01 +0200
Subject: [R] Multi-plot
References: <NEBBLOMPELHOIMFBEMAHCENDCGAA.degiorgi@math.ethz.ch>
Message-ID: <3D625629.3159DAAD@statistik.uni-dortmund.de>



Enrico De Giorgi wrote:
> 
> I'm working with the R-version 1.4.1.
> I've written a function whcih produces 4 plots.
> I would like to create 4 different windows, each of one with one plot.
> Now, all the 4 plots are created in the windows and only the last one
> remains.
> 
> How can solve this problem?

Start a new device before generating the next plot with:

 x11()     # on Linux / Unix and
 windows() # on windows

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.meyer at ci.tuwien.ac.at  Tue Aug 20 16:56:31 2002
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Tue, 20 Aug 2002 16:56:31 +0200
Subject: [R] Re: SVM questions
References: <64BC9A2B18FC5843BA0DE93548F745F304118828@NIHEXCHANGE3.nih.gov>
Message-ID: <3D62589F.79D0FA6A@ci.tuwien.ac.at>

> 
> So i guess from your prev. email the svmModel$coefs correspond to the
> "Alpha" .

yes (times the sign of y!).

> 
> Why do I see three columns in the coefs?( Is this the  number of classes -1
> = Numbe of hyperplanes)

yes, but in a packed format which is not trivial.

I attach some explanation I sent to R-help some time ago (the guy wanted
to write his own predict method).

> Is there a way to determine from the SV's key components of which in this
> case would be which of the 2000 genes helped in the classifying of a vector
> for a class(we have 4 classes in this example) that attributes the to
> classification .
> 

Yes: the elements of the SV-component of the model returned by svm() are
grouped by class, and the number of SV are stored in the nSV component.

So you should get the start indices with sth. like
cumsum(c(1,model$nSV)).

g.,

David.

----------------

For class prediction in the binary case, the class of a new data vector
``n'' is usually given by *the sign* of

Sum(a_i * y_i * K(x_i, n)) + rho
 i

where x_i is the i-th support vector, y_i the corresponding label, a_i
the corresponding coefficiant, and K is the kernel (in your case, the
linear one, so 
K(u,v) = u'v).


Now, ``libsvm'' actually returns a_i * y_i as i-th coefficiant and the
*negative* rho, so in fact uses the formula:

Sum(coef_i * K(x_i, n)) - rho
 i

where the training examples (=training data) are labeled {1,-1}.


A simplified R function for prediction with linear kernel would be:

svmpred <- function (m, newdata, K=crossprod) {
  ## this guy does the computation:
  pred.one <- function (x)
    sign(sum(sapply(1:m$tot.nSV, function (j)
                    K(m$SV[j,], x) * m$coefs[j]
                    )
             ) - m$rho
         )

  ## this is just for convenience:
  if (is.vector(newdata))
    newdata <- t(as.matrix(x))
  sapply (1:nrow(newdata),
          function (i) pred.one(newdata[i,]))
}


where ``pred.one'' does the actual prediction for one new data vector,
the rest is just a convenience for prediction of multiple new examples.

It's easy to extend this to other kernels, just replace ``K'' with the
appropriate function [see the help page for the formulas used] and
supply the additional constants.

Note, however, that multi-class prediction is more complicated, because
the coefficiants of the diverse binary svm's are stored in a compressed
format.

---------------------------------------------------------


To handle k classes, k>2, svm trains all binary subclassifiers
(one-against-one-method) and then uses a voting mechanism to determine
the actual class.

Now, this means k(k-1)/2 classifiers, hence in principle k(k-1)/2 sets
of
SV's, coefficiants and rhos. These are stored in a compressed format:

1) Only one SV is stored in case it were used by several clasifiers. The
model$SV-matrix is ordered by classes, and you find the starting indices
by using nSV (number of SV's):

start <- c(1, cumsum(model$nSV))
start <- start[-length(start)]

sum(nSV) equals the total nr. of (distinct) SVs.

2) The coefficients of the SV's are stored in the model$coefs-matrix,
grouped by classes. Because the separating hyperplanes found by the
svm-algorithm has SV's on both sides, you will have two sets of
coefficients per binary classifier, and e.g., for 3 classes, you could
build a *block*-matrix like this for the classifiers (i,j)
[i,j=class numbers):

   j     0         1        2
i      
0        X     set (0,1)  set (0,2)
1    set (1,0)     X      set (1,2)
2    set (2,0) set (2,1)     X

where set(i,j) are the coefficients for the classifier (i,j), lying on
the side of class j.

Because there are no entries for (i,i), we can save the diagonal and
shift up the lower triangular matrix to get

   j     0         1        2
i      
0    set (1,0) set (0,1)  set (0,2)
1    set (2,0) set (2,1)  set (1,2)


Each set (.,j) has length nSV[j], so of course, there will be some
filling 0s in some sets.

model$coefs is the *transposed* of such a matrix, therefore for the
Glass Data which has 6 classes, you get 6-1=5 columns.

The coefficients of (i,j) start at

m$coefs[start[i],j]

and those of (j,i) at

m$coefs[start[j],i-1) .

The k(k-1)/2 rhos are just linearly stored in the vector m$rho.


The following code shows how to use this for prediction:

## Linear Kernel function
K <- function(i,j) crossprod(i,j)

predsvm <- function(object, newdata) {
  ## compute start-index
  start <- c(1, cumsum(object$nSV)+1)
  start <- start[-length(start)]

  ## compute kernel values
  kernel <- sapply (1:object$tot.nSV,
                    function (x) K(object$SV[x,], newdata))

  ## compute raw prediction for classifier (i,j)
  predone <- function (i,j) {
    ## ranges for class i and j:
    ri <- start[i] : (start[i] + object$nSV[i] - 1)
    rj <- start[j] : (start[j] + object$nSV[j] - 1)
    
    ## coefs for (i,j):
    coef1 <- object$coefs[ri, j-1]
    coef2 <- object$coefs[rj, i]

    ## return raw values:
    crossprod(coef1, kernel[ri]) + crossprod(coef2, kernel[rj])
  }

  ## compute votes for all classifiers
  votes <- rep(0,object$nclasses)
  c <- 0 # rho counter
  for (i in 1 : (object$nclasses - 1))
    for (j in (i + 1) : object$nclasses)
      if (predone(i,j) > object$rho[c <- c + 1])
        votes[i] <- votes[i] + 1
      else
        votes[j] <- votes[j] + 1

  ## return winner (index with max. votes)
  object$levels[which(votes %in% max(votes))[1]]
}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Aug 20 17:01:27 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Tue, 20 Aug 2002 11:01:27 -0400 (EDT)
Subject: [R] Multi-plot
In-Reply-To: <NEBBLOMPELHOIMFBEMAHCENDCGAA.degiorgi@math.ethz.ch>
Message-ID: <Pine.LNX.4.44.0208201054550.3961-100000@bolker.zoo.ufl.edu>


  Create a new graphics window between plots.
  You don't say what operating system you're using: for Unix, x11() is the 
command to create a new window; for Windows, I believe it's windows() (see 
?Devices).
  Then see ?dev.cur() for information on how you can list, switch between 
graphics windows, etc.

  Q to gurus: is there a simple way to get the command for the default
graphics driver, something like options()$createdevice [options$device is
useful but "X11" can't quite be turned into x11() without some hacking,
and I don't know if that hack would work generally].  You can always write
a little bit of conditional code, but I'm just wondering if there's a
simple one-liner ...

  Ben Bolker

On Tue, 20 Aug 2002, Enrico De Giorgi wrote:

> I'm working with the R-version 1.4.1.
> I've written a function whcih produces 4 plots.
> I would like to create 4 different windows, each of one with one plot.
> Now, all the 4 plots are created in the windows and only the last one
> remains.
> 
> 
> How can solve this problem?
> 
> Regards,
> edg
> 
> > -----Messaggio originale-----
> > Da: owner-r-help at stat.math.ethz.ch
> > [mailto:owner-r-help at stat.math.ethz.ch]Per conto di Jim Lemon
> > Inviato: marted?, 20. agosto 2002 14:02
> > A: r-help
> > Oggetto: Re: [R] plot and bg
> >
> >
> > Olivier Martin wrote:
> >
> > > Hi all,
> > >
> > > I would like to plot some points and define the bg color of my graphics.
> > > But the bg parameter set is defined for the. whole graphic.
> > > In fact, i would like to use something like :
> > >
> > > box(bg=gray(0.9)).
> > >
> > > So, the background  concerns only the plot region  and not the main
> > > title, the x title and the y title.
> > >
> >
> > This may not be the easiest way, but...
> >
> > > plot(1:5,type="n")
> > > pd<-par("usr")
> > > rect(pd[1],pd[3],pd[2],pd[4],col="Gray")
> > > par(new=T)
> > > plot(1:5)
> >
> > Jim
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-
> > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._
> >
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Tue Aug 20 17:10:13 2002
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Tue, 20 Aug 2002 10:10:13 -0500 (CDT)
Subject: [R] help page for a function
Message-ID: <200208201510.KAA17549@uhddx01.dt.uh.edu>

Dear R People

I have a function that I wrote.  It's not part of a 
library, it's just a nice function.

However, I would like to have a "Help" page for it.
How do I go about doing that please?

Thanks so much in advance!

R version 1.5.1 for Windows.

Sincerely,
Erin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Aug 20 17:31:03 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 20 Aug 2002 17:31:03 +0200
Subject: [R] t() converts data.frames ind matrix
References: <3D62559A.6000904@tuebingen.mpg.de>
Message-ID: <3D6260B7.40A9A1CC@statistik.uni-dortmund.de>



Jan Malte Wiener wrote:
> 
> hi,
> i just recognized  that the t() function converts a data frames into a
> matrix (R 1.5). is that a bug or a feature ?

It's a feature. You cannot transpose a data.frames, so implicitly you
convert the data.frame to a matrix and transpose that matrix! See code
of t.data.frame().

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Aug 20 17:37:57 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 20 Aug 2002 17:37:57 +0200
Subject: [R] help page for a function
References: <200208201510.KAA17549@uhddx01.dt.uh.edu>
Message-ID: <3D626255.EA5054BB@statistik.uni-dortmund.de>

Erin Hodgess wrote:
> 
> Dear R People
> 
> I have a function that I wrote.  It's not part of a
> library, it's just a nice function.
> 
> However, I would like to have a "Help" page for it.
> How do I go about doing that please?
> 
> Thanks so much in advance!
> 
> R version 1.5.1 for Windows.

There is no clean solution, if you are going to do
 ?my.function
in R, I think.

But you can convert .Rd files to formatted help pages with 
  Rcmd Rdconv ....
if you are going to view the help file by, e.g., double-clicking it.

For help see the R Extension Writers' manual and    Rcmd Rdconv --help .
I'd suggest to build a package -- for sure, some more of your functions
are worth to be commented soon.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dyang at nrcan.gc.ca  Tue Aug 20 18:20:30 2002
From: dyang at nrcan.gc.ca (Yang, Richard)
Date: Tue, 20 Aug 2002 12:20:30 -0400
Subject: Sum: [R] Reset par(xaxp) in plot
Message-ID: <F0E0B899CB43D5118D220002A55113CF21BB2B@s2-edm-r1.nrn.nrcan.gc.ca>

Many thanks to Peter Dalgaard BSA and Uwe Uwe Ligges for their prompt
responses. It turns out xaxp can not be set by par(xaxp = c(x1, x2, n)) as
indicatedd in Help for 'par' document. Both pointed me to the right
direction by setting axes = F or xaxt = "n" in plot() and using axis(1,
seq=c(0,150,15)) to produce an axis with desired intervals. 

Richard

My original question:
 
> R-Helpers;
> 
> 	This seems simple to set graphic parameter, but I tried 
> plot a graph
> with 10 intervals in x axis with  par(xaxp = c(0, 150, 10) 
> but to no avail:
> 
> 	par(xaxp =c (0, 150,  10))
> 	plot(age, y18, type="n", ylab="Height (m)", xlab=" age 
> (Yrs)", font
> = 2)
> 	lines(age, y6, lty = 4, lwd = 2)
> 	lnes(age, y10, lty = 1, lwd =2)
> 	lines(age, y14, lty = 2, lwd =2)
> 	lines(age, y18, lty = 3, lwd = 2)
> 	abline(v=50)
> 
> The plot shown only 3 intervals with tick at 0, 50, 100, and 150. and 
> 
> > par()$xaxp
> [1]   0 150   3
> 
> 	I use current version Lattice and Grid.
> 
> > version
>          _              
> platform i386-pc-mingw32
> arch     i386           
> os       mingw32        
> system   i386, mingw32  
> status   Patched        
> major    1              
> minor    5.0            
> year     2002           
> month    05             
> day      15             
> language R          
> 
> 	What did I miss?
> 
> Richard
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From loganp at post.ch  Tue Aug 20 19:00:35 2002
From: loganp at post.ch (loganp@post.ch)
Date: Tue, 20 Aug 2002 19:00:35 +0200
Subject: [R] RODBC/Solaris/Oracle - No Data
Message-ID: <7B565FE3FF74D511844600508BAF9F53024C7107@hceh71.post.ch>

Hi,

Version info:
R: 1.5.1
RODBC: 0.8.3
Oracle: 8.1.7
unixODBC: 2.2.2
Easysoft ODBC driver: 1.0.0.6
SunOS/Solaris: 5.7

I'm trying to get RODBC working with Oracle on Solaris. I've installed unixODBC and the Easysoft ODBC driver. There are no problems connecting to the DB and executing queries using unixODBC's isql interactive client. Using R and RODBC however, I can open a connection but whenever I execute queries, I simply recieve a "No Data" message.

Debugging a query such as "select * from sometable", on the R side of things I receive the column names OK but when it calls down to RODBCFetchRows, the following object gets returned into erg, which in turn gets assigned to dbdata in sqlGetResults.

Browse[1]> dbdata
$data
$data[[1]]
NULL


$stat
[1] -1

I have executed the same query via unixODBC's isql using the same DSN and I receive a full result set with several rows.

Any suggestions please?

Thanks very much,
Phil
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wilson at visi.com  Tue Aug 20 19:15:07 2002
From: wilson at visi.com (Tim Wilson)
Date: Tue, 20 Aug 2002 12:15:07 -0500
Subject: [R] help page for a function
In-Reply-To: <200208201510.KAA17549@uhddx01.dt.uh.edu>
References: <200208201510.KAA17549@uhddx01.dt.uh.edu>
Message-ID: <20020820171507.GB3704@isis.visi.com>

On Tue, Aug 20, 2002 at 10:10:13AM -0500, Erin Hodgess wrote:
> 
> However, I would like to have a "Help" page for it.
> How do I go about doing that please?

Check the R manuals at CRAN and look at the "Writing R Extensions"
document. It looks like it will do the trick.

-Tim

--
Henry Sibley HS |  http://www.isd197.org   | http://www.zope.com
W. St. Paul, MN |                          | http://slashdot.org
wilson at visi.com |  <dtml-var pithy_quote>  | http://linux.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.meyer at ci.tuwien.ac.at  Tue Aug 20 19:31:40 2002
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Tue, 20 Aug 2002 19:31:40 +0200
Subject: [R] how to save data.frame to XML file?
References: <IPECKKKLFINFHEGMEKKGGEGDCCAA.ken_lee@tynesys.com>
Message-ID: <3D627CFC.746AD005@ci.tuwien.ac.at>

ken_lee wrote:
> 
> Dear all,
>        I have some trouble to transpose data.frame to XML file, could anybody give me any example ?

If you do not need a special XML fomat, you can try the package
`StatDataML' which writes R objects into the `StatDataML' format which
is XML.

g,
-d

> 
> 
> Thanks,
> Ken
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
         Department of			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Tue Aug 20 19:35:25 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Tue, 20 Aug 2002 13:35:25 -0400
Subject: [R] t() converts data.frames ind matrix
References: <3D62559A.6000904@tuebingen.mpg.de>
Message-ID: <3D627DDD.4261C1E1@umsanet.edu.bo>

This is a feature, I think. It was recently discussed on the list, so
search the help archives for an expanation.

Kjetil Halvorsen

Jan Malte Wiener wrote:
> 
> hi,
> i just recognized  that the t() function converts a data frames into a
> matrix (R 1.5). is that a bug or a feature ?
> greetinx jan
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From coforfe at yahoo.es  Tue Aug 20 19:57:56 2002
From: coforfe at yahoo.es (=?iso-8859-1?q?CARLOS=20ORTEGA?=)
Date: Tue, 20 Aug 2002 19:57:56 +0200 (CEST)
Subject: [R] Jpeg files dynamically but multiple figures (e.g xyplot (grid/lattice))...
Message-ID: <20020820175756.43724.qmail@web12105.mail.yahoo.com>


Dear List,

Some days ago, it was posted in this list a question regarding "How to generate graphics (jpeg) files dynamically". Although it was responded, there is a particular case in which I do not find the rigth solution.

My question also goes in the same direction but for the particular case of generating jpeg/bmp or png files when using xyplot (grid/lattice libraries) and the output is displayed in more than one window and its you do no have the control over the multiple figures except for allowing them to be displayed (par(ask=T/F)).

I know that there are alternatives like the pdf and postcript commands or even the obvious one to capture the different windows manually, but is any other way to capture it dynamically ?.

Thanks in advance,

Carlos.

P.S: Attached are the details of the R version I have.

+++++++++++++++++++++++++++++++++++++++++

> R.Version()
$platform
[1] "i386-pc-mingw32"

$arch
[1] "i386"

$os
[1] "mingw32"

$system
[1] "i386, mingw32"

$status
[1] ""

$major
[1] "1"

$minor
[1] "5.1"

$year
[1] "2002"

$month
[1] "06"

$day
[1] "17"

$language
[1] "R"

+++++++++++++++++++++++++++++


---------------------------------
Yahoo! Messenger
Nueva versi?n: Webcam, voz, y mucho m?s ?Gratis!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020820/5dfd55d2/attachment.html

From kamyar_hazaveh at ieee.org  Tue Aug 20 20:00:23 2002
From: kamyar_hazaveh at ieee.org (Kamyar Hazaveh Hesarmaskan)
Date: Tue, 20 Aug 2002 14:00:23 -0400 (EDT)
Subject: [R] Calling R from within Matlab Code
Message-ID: <Pine.LNX.4.33.0208201358460.5872-100000@serum.scl.csd.uwo.ca>


Hi,

Does anyone know how I can call R from within Matlab and return the result 
to Matlab?

Thanks,
Kamyar

-- 
==================================
FROM:   Kamyar Hazaveh Hesarmaskan
        Ontario, Canada
E-mail: kamyar_hazaveh at ieee.org

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cmoffet at nwrc.ars.usda.gov  Tue Aug 20 20:52:01 2002
From: cmoffet at nwrc.ars.usda.gov (Corey Moffet)
Date: Tue, 20 Aug 2002 12:52:01 -0600
Subject: [R] override ask = TRUE in plot.formula
Message-ID: <3.0.6.32.20020820125201.00b0dac0@nwrc.ars.usda.gov>

I am having difficulty with plot.formula.

For example:

-------------------

dat <- data.frame(y  =            c(1,1,1,2,2,2,3,3,3,4,4,4), 
                  x1 = as.ordered(c(1,1,1,1,1,1,2,2,2,2,2,2)),
                  x2 = as.ordered(c(1,1,1,2,2,2,1,1,1,2,2,2)))

plot(y ~ x1 + x2, data = dat) # Works fine "interactively" asking:
# "Hit <Return> to see next plot:"
#  But this causes problems when it is run in a batch file.

plot(y ~ x1 + x2, data = dat, ask = FALSE) # gives error:
# "Error in model.frame(formula, rownames, variables, varnames, extras,
extranames,  : 
#        variable lengths differ"

-------------------

I want to be able to generate these figures in a non-interactive batch file.

Is this the expected behavior?  Is there a work around?

platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status                  
major    1              
minor    5.1            
year     2002           
month    06             
day      17             
language R              

With best wishes and kind regards I am

Sincerely,

Corey A. Moffet
Support Scientist

University of Idaho
Northwest Watershed Research Center
800 Park Blvd, Plaza IV, Suite 105
Boise, ID 83712-7716
(208) 422-0718
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jyan at stat.wisc.edu  Tue Aug 20 21:03:16 2002
From: jyan at stat.wisc.edu (Jun Yan)
Date: Tue, 20 Aug 2002 14:03:16 -0500 (CDT)
Subject: [R] try-error in batch and interactive mode
Message-ID: <Pine.LNX.4.21.0208201348230.14482-100000@ludwig.stat.wisc.edu>

I have a tiny R script performing two tasks, the first one of which may
contain error.

mammon(12)% cat z.R
version
options(show.error.messages = FALSE)
try(b <- log("foo"))  ## task 1
1 + 2                 ## task 2

Running in batch mode from a solaries machine, the second task never got
started; see below:

mammon(13)% R BATCH --vanilla -q z.R
mammon(14)% cat z.Rout
> invisible(options(echo = TRUE))
> version
         _                   
platform sparc-sun-solaris2.8
arch     sparc               
os       solaris2.8          
system   sparc, solaris2.8   
status                       
major    1                   
minor    5.1                 
year     2002                
month    06                  
day      17                  
language R                   
> options(show.error.messages = FALSE)
> try(b <- log("foo"))
> 

The second task does start if run on a linux machine.

ludwig(22)% cat z.Rout
> invisible(options(echo = TRUE))
> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    5.1              
year     2002             
month    06               
day      17               
language R                
> options(show.error.messages = FALSE)
> try(b <- log("foo"))
> 1 + 2
[1] 3
> proc.time()
[1] 0.87 0.07 0.90 0.00 0.00
> 

The same code works well if pasted into an interactive R window.

I wonder what is causing the problem on solaries. I need to run a program
on solaries because the program calls an executable only available for
solaries.

Thanks,

Jun

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 20 21:19:18 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 20 Aug 2002 20:19:18 +0100 (BST)
Subject: [R] t() converts data.frames ind matrix
In-Reply-To: <3D6260B7.40A9A1CC@statistik.uni-dortmund.de>
Message-ID: <Pine.LNX.4.31.0208202018010.17166-100000@gannet.stats>

On Tue, 20 Aug 2002, Uwe Ligges wrote:

> Jan Malte Wiener wrote:
> >
> > hi,
> > i just recognized  that the t() function converts a data frames into a
> > matrix (R 1.5). is that a bug or a feature ?
>
> It's a feature. You cannot transpose a data.frames, so implicitly you
> convert the data.frame to a matrix and transpose that matrix! See code
> of t.data.frame().

The help page for R-devel (the next version of R-to-be) says so
explicitly, which may help users.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 20 21:25:04 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 20 Aug 2002 20:25:04 +0100 (BST)
Subject: [R] Multi-plot
In-Reply-To: <Pine.LNX.4.44.0208201054550.3961-100000@bolker.zoo.ufl.edu>
Message-ID: <Pine.LNX.4.31.0208202021560.17166-100000@gannet.stats>

On Tue, 20 Aug 2002, Ben Bolker wrote:

>
>   Create a new graphics window between plots.
>   You don't say what operating system you're using: for Unix, x11() is the
> command to create a new window; for Windows, I believe it's windows() (see
> ?Devices).
>   Then see ?dev.cur() for information on how you can list, switch between
> graphics windows, etc.
>
>   Q to gurus: is there a simple way to get the command for the default
> graphics driver, something like options()$createdevice [options$device is
> useful but "X11" can't quite be turned into x11() without some hacking,
> and I don't know if that hack would work generally].  You can always write
> a little bit of conditional code, but I'm just wondering if there's a
> simple one-liner ...

eval(get(getOption("device"))())

is essentially what the internal code does.  I've written that several
times before, and will see if I can find a place to put it in the
online docs.  (Ben: Suggestions welcome as to where.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 20 21:42:37 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 20 Aug 2002 20:42:37 +0100 (BST)
Subject: [R] Jpeg files dynamically but multiple figures (e.g xyplot
 (grid/lattice))...
In-Reply-To: <20020820175756.43724.qmail@web12105.mail.yahoo.com>
Message-ID: <Pine.LNX.4.31.0208202038060.17166-100000@gannet.stats>

There is currently no simple way to make more than one plot with a jpeg()
device, nor with bitmap().

I'll look into adding a onefile=FALSE argument to jpeg similar to that
used for postscript().  Not likely for 1.6.0, though.


On Tue, 20 Aug 2002, [iso-8859-1] CARLOS ORTEGA wrote:

>
> Dear List,
>
> Some days ago, it was posted in this list a question regarding "How to generate graphics (jpeg) files dynamically". Although it was responded, there is a particular case in which I do not find the rigth solution.
>
> My question also goes in the same direction but for the particular case of generating jpeg/bmp or png files when using xyplot (grid/lattice libraries) and the output is displayed in more than one window and its you do no have the control over the multiple figures except for allowing them to be displayed (par(ask=T/F)).
>
> I know that there are alternatives like the pdf and postcript commands or even the obvious one to capture the different windows manually, but is any other way to capture it dynamically ?.
>
> Thanks in advance,
>
> Carlos.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Tue Aug 20 22:02:18 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Tue, 20 Aug 2002 13:02:18 -0700 (PDT)
Subject: [R] Help with Lattice
In-Reply-To: <p05111700b987191d2ec2@[213.203.68.67]>
Message-ID: <20020820200218.64678.qmail@web13907.mail.yahoo.com>


--- Jean-Pierre Gattuso <gattuso at obs-vlfr.fr> wrote:
> Hi:
> 
> I have started to use Lattice two days ago and find that it is an 
> outstanding package. I am, however, stumbling on two problems, 
> despite the fact that I have read the help pages as well as two pdf 
> documents on Trellis that I found on the web.

Unfortunately, none of the things you want can be done (at least not very
easily) right now.

> 1- I want to remove the ticks on the top and right sides of the 
> panels and did not see any option in "scales" to do so.

You can try these, but neither are probably exactly what you want:

i ) xyplot(..., scales = list(alternating = 1, tck = 0))
ii) xyplot(..., scales = list(relation = "free"))

> 2- I would like to remove the background color on the strips but 
> could not find how to make the "bg" option in "strip.default " work. 
> I would also like to remove the box around the strips and found no 
> option to do it in "strip.default" or elsewhere.

The background is easy to change, by

lset(list(strip.background = list(col = "transparent")))

(note: this is overridden every time you start a new device)

or

xyplot(..., strip = function(bg, ...) strip.default(bg = 'transparent', ...))


The box can't really be removed (even if the strip function doesn't draw a box,
each panel draws a box around itself, as does the whole plotting region).

Deepayan



__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Aug 20 22:29:00 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Tue, 20 Aug 2002 16:29:00 -0400 (EDT)
Subject: [R] Multi-plot
In-Reply-To: <Pine.LNX.4.31.0208202021560.17166-100000@gannet.stats>
Message-ID: <Pine.LNX.4.44.0208201625220.5878-100000@bolker.zoo.ufl.edu>

On Tue, 20 Aug 2002 ripley at stats.ox.ac.uk wrote:

> On Tue, 20 Aug 2002, Ben Bolker wrote:
> 
> >   Q to gurus: is there a simple way to get the command for the default
> > graphics driver, something like options()$createdevice [options$device is
> > useful but "X11" can't quite be turned into x11() without some hacking,
> > and I don't know if that hack would work generally].  You can always write
> > a little bit of conditional code, but I'm just wondering if there's a
> > simple one-liner ...
> 
> eval(get(getOption("device"))())
> 
> is essentially what the internal code does.  I've written that several
> times before, and will see if I can find a place to put it in the
> online docs.  (Ben: Suggestions welcome as to where.)
> 

  How about ?Devices  ?  (I think that's the first place I would look ...)  
And/or ?options, under "device"  (the case difference between "X11" and 
x11() [which I now realize is an alias for X11(), but is how I usually 
invoke it] also confused me).


-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wilson at visi.com  Tue Aug 20 22:35:15 2002
From: wilson at visi.com (Tim Wilson)
Date: Tue, 20 Aug 2002 15:35:15 -0500
Subject: [R] weighting means
Message-ID: <20020820203515.GB15117@isis.visi.com>

Hi everyone,

I've got a dataframe called 'faculty'. I want to do a weighted mean on
the column called 'Q8' weighted by the contents of column 'CETP'. In
addition, I need to operate on the result of splitting 'faculty'
according to the contents of a column 'FACULTY'. For example

> lapply(split(faculty$Q8, faculty$FACULTY), mean)
$"1"
[1] 2.2

$"2"
[1] 1.888889

gives the mean of 'Q8' after splitting by 'FACULTY'. When I try this
with weighted.mean, it doesn't work because I don't know how to specify
the result of the split as the argument for weighted.mean. For example,

> lapply(split(faculty$Q8, faculty$FACULTY), weighted.mean)
$"1"
[1] 2.2

$"2"
[1] 1.888889

gives the same results as above because I haven't specified the vector
to use for weighting. The following doesn't work at all for the obvious
reason that weighted.mean is not operating on the result of the split.

> lapply(split(faculty$Q8, faculty$FACULTY), weighted.mean(faculty$Q8,
faculty$CETP))
Error in match.fun(FUN) : not function, character, or symbol:
"weighted.mean(faculty$Q8, faculty$CETP)"
> 

Any ideas?

-Tim

-- 
Tim Wilson      |   Visit Sibley online:   | Check out:
Henry Sibley HS |  http://www.isd197.org   | http://www.zope.com
W. St. Paul, MN |                          | http://slashdot.org
wilson at visi.com |  <dtml-var pithy_quote>  | http://linux.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Aug 20 23:02:12 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 20 Aug 2002 23:02:12 +0200
Subject: [R] try-error in batch and interactive mode
References: <Pine.LNX.4.21.0208201348230.14482-100000@ludwig.stat.wisc.edu>
Message-ID: <3D62AE54.A0A5B2F6@statistik.uni-dortmund.de>

Jun Yan wrote:
> 
> I have a tiny R script performing two tasks, the first one of which may
> contain error.
> 
> mammon(12)% cat z.R
> version
> options(show.error.messages = FALSE)
> try(b <- log("foo"))  ## task 1
> 1 + 2                 ## task 2
> 
> Running in batch mode from a solaries machine, the second task never got
> started; see below:
> 
> mammon(13)% R BATCH --vanilla -q z.R
> mammon(14)% cat z.Rout
> > invisible(options(echo = TRUE))
> > version
>          _
> platform sparc-sun-solaris2.8
> arch     sparc
> os       solaris2.8
> system   sparc, solaris2.8
> status
> major    1
> minor    5.1
> year     2002
> month    06
> day      17
> language R
> > options(show.error.messages = FALSE)
> > try(b <- log("foo"))
> >
> 
> The second task does start if run on a linux machine.
> 
> ludwig(22)% cat z.Rout
> > invisible(options(echo = TRUE))
> > version
>          _
> platform i686-pc-linux-gnu
> arch     i686
> os       linux-gnu
> system   i686, linux-gnu
> status
> major    1
> minor    5.1
> year     2002
> month    06
> day      17
> language R
> > options(show.error.messages = FALSE)
> > try(b <- log("foo"))
> > 1 + 2
> [1] 3
> > proc.time()
> [1] 0.87 0.07 0.90 0.00 0.00
> >
> 
> The same code works well if pasted into an interactive R window.

It's not easy to test that, is it?
The next expressions will be evaluated anyway -- with or without a
working try() around it.


> I wonder what is causing the problem on solaries. I need to run a program
> on solaries because the program calls an executable only available for
> solaries.


For me it looks like a bug. 
I am not very sure, particularly since it is there since at least
R-1.1.1, which is the oldest running R version I have got on our Solaris
system, and nobody reported anything like this (nothing similar in the
database). 


Regularly you would write a function such as 

  testit <- function(){
    version
    options(show.error.messages = FALSE)
    try(b <- log("foo"))  ## task 1
    1 + 2                 ## task 2
  }

  testit()

which works in a batch file and is at least a workaround.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Aug 20 23:17:47 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 20 Aug 2002 23:17:47 +0200
Subject: [R] override ask = TRUE in plot.formula
References: <3.0.6.32.20020820125201.00b0dac0@nwrc.ars.usda.gov>
Message-ID: <3D62B1FB.B77A2F67@statistik.uni-dortmund.de>

Corey Moffet wrote:
> 
> I am having difficulty with plot.formula.
> 
> For example:
> 
> -------------------
> 
> dat <- data.frame(y  =            c(1,1,1,2,2,2,3,3,3,4,4,4),
>                   x1 = as.ordered(c(1,1,1,1,1,1,2,2,2,2,2,2)),
>                   x2 = as.ordered(c(1,1,1,2,2,2,1,1,1,2,2,2)))
> 
> plot(y ~ x1 + x2, data = dat) # Works fine "interactively" asking:
> # "Hit <Return> to see next plot:"
> #  But this causes problems when it is run in a batch file.
> 
> plot(y ~ x1 + x2, data = dat, ask = FALSE) # gives error:
> # "Error in model.frame(formula, rownames, variables, varnames, extras,
> extranames,  :
> #        variable lengths differ"
> 
> -------------------
> 
> I want to be able to generate these figures in a non-interactive batch file.
> 
> Is this the expected behavior?  Is there a work around?


I think it's not expected and a bug. Could you file a bug report,
please?

Workaround:
  plot(y ~ x1 + x2, data = dat, ask = NULL)

Uwe Ligges


> platform i386-pc-mingw32
> arch     i386
> os       mingw32
> system   i386, mingw32
> status
> major    1
> minor    5.1
> year     2002
> month    06
> day      17
> language R
> 
> With best wishes and kind regards I am
> 
> Sincerely,
> 
> Corey A. Moffet
> Support Scientist
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcelo at leptocephala.lei.furg.br  Tue Aug 20 23:30:50 2002
From: marcelo at leptocephala.lei.furg.br (marcelo)
Date: Tue, 20 Aug 2002 18:30:50 -0300 (BRT)
Subject: [R] About lm()
Message-ID: <Pine.LNX.4.33.0208201817430.13705-100000@leptocephala.lei.furg.br>

Dear Mr. and Mrs. 

I'm very grateful for these software and this list.
My question is:
when a use linear multiple regression (lm()) for my data,
abundance ichthyoplankton ~ salinity + temperature + month of the 
year(f1 is a factor: 1 for january, 2 for february, ..., 12 for december), 
the summary() of results is
...
Coefficients:
                 Estimate Std. Error t value Pr(>|t|)    
(Intercept)       0.726347   0.285607   2.543 0.011217 *  
temperature	 -0.011410   0.014200  -0.804 0.421978    
salinity	 -0.018194   0.002453  -7.416 3.81e-13 ***
f1.L             -0.060886   0.093818  -0.649 0.516584    
f1.Q              0.856714   0.196832   4.353 1.56e-05 ***
f1.C              0.522526   0.078261   6.677 5.27e-11 ***
f1^4              0.570152   0.095059   5.998 3.33e-09 ***
f1^5             -0.292748   0.077436  -3.781 0.000171 ***
...
f1^10             0.182789   0.082543   2.214 0.027145 *  
f1^11             0.329844   0.094470   3.492 0.000513 ***

What does mean f1.L, f1.Q, f1.C ??
Thanks in advance.
-- 
Marcelo Alexandre Bruno - Pos-graduacao Oceanografia Biologica
Departamento de Oceanografia -  Laboratorio de Ecologia do Ictioplancton
(0xx53) 2336529 - Rio Grande - RS - BRAZIL

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pp175 at columbia.edu  Wed Aug 21 00:43:42 2002
From: pp175 at columbia.edu (Paul Pavlidis)
Date: Tue, 20 Aug 2002 18:43:42 -0400
Subject: [R] R doesn't use all available memory
Message-ID: <3D62C61E.2040405@columbia.edu>

Hi,

I'm running R 1.5.1 under Solaris 5.8 (i86), 2GB physical RAM. R can't run 
memory intensive jobs even though the system reports plenty of free memory: R 
seems to refuse to take more than about 800Mb even though there is apparently 
about 950Mb still free - not to mention swap space. I've tried changing 
mem.limits() etc. with no effect.

The result is an error of the ilk "Error: cannot allocate vector of size 105183 
Kb" (or 7000kb,or 200kb, or whatever, depending on what I am attempting to do, 
once I hit that limit).

This seems to be a problem with R or my system, not the specific code since I 
can reproduce it a variety of ways.

Am I missing something? Thanks for any help.

Please reply to this email address.
Paul

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gu4 at llnl.gov  Wed Aug 21 02:41:15 2002
From: gu4 at llnl.gov (Pauline Gu)
Date: Tue, 20 Aug 2002 17:41:15 -0700
Subject: [R] Rterm and cgi
Message-ID: <5.1.1.5.2.20020820173649.00abfb30@poptop.llnl.gov>

Dear R experts,

I posted a question last week regarding RSJava error UnsatisfiedLink: 
eval.  But, I did not get any response yet.

So, I am trying to work something out.

I tried to write something with perl, but it still does not work.  In perl, 
when I used rename which is a Dos command, it worked through the cgi, so 
did cp (which is not a Dos command, but, it is in my path).

And the perl worked from the command line for Rterm.  But, through cgi, it 
did produced the output file without any content.

My sampe R file is just like:
a <- rnorm(10, 4)
a

So, the output file should give me some content.

Can anybody give me some hint?  I searched the R archive, there was a 
similar posting over a year ago, but, I did not see any solution.

Thanks for your help.

OS: Windows NT
R: 1.5.1
Apache Server

Pauline

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Wed Aug 21 05:51:07 2002
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 20 Aug 2002 23:51:07 -0400
Subject: [R] About lm()
In-Reply-To: <Pine.LNX.4.33.0208201817430.13705-100000@leptocephala.lei.
 furg.br>
Message-ID: <5.1.0.14.2.20020820234439.01d9b688@mcmail.cis.mcmaster.ca>

Dear Marcelo,

Apparently f1 is an ordered factor rather than a factor; consequently 
orthogonal polynomial contrasts are generated. Type ?contr.poly for more 
information.

Alternatively, you may have changed the contrast option for unordered 
factors to contr.poly, but this seems unlikely. Enter options('contrasts') 
to check the contrasts option. You can enter class(f1) to check whether f1 
is a factor or an ordered factor.

I hope that this helps,
  John

At 06:30 PM 8/20/2002 -0300, marcelo wrote:
>Dear Mr. and Mrs.
>
>I'm very grateful for these software and this list.
>My question is:
>when a use linear multiple regression (lm()) for my data,
>abundance ichthyoplankton ~ salinity + temperature + month of the
>year(f1 is a factor: 1 for january, 2 for february, ..., 12 for december),
>the summary() of results is
>...
>Coefficients:
>                  Estimate Std. Error t value Pr(>|t|)
>(Intercept)       0.726347   0.285607   2.543 0.011217 *
>temperature     -0.011410   0.014200  -0.804 0.421978
>salinity        -0.018194   0.002453  -7.416 3.81e-13 ***
>f1.L             -0.060886   0.093818  -0.649 0.516584
>f1.Q              0.856714   0.196832   4.353 1.56e-05 ***
>f1.C              0.522526   0.078261   6.677 5.27e-11 ***
>f1^4              0.570152   0.095059   5.998 3.33e-09 ***
>f1^5             -0.292748   0.077436  -3.781 0.000171 ***
>...
>f1^10             0.182789   0.082543   2.214 0.027145 *
>f1^11             0.329844   0.094470   3.492 0.000513 ***
>
>What does mean f1.L, f1.Q, f1.C ??
>Thanks in advance.
>--
>Marcelo Alexandre Bruno - Pos-graduacao Oceanografia Biologica
>Departamento de Oceanografia -  Laboratorio de Ecologia do Ictioplancton
>(0xx53) 2336529 - Rio Grande - RS - BRAZIL

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Wed Aug 21 07:53:03 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Wed, 21 Aug 2002 15:53:03 +1000
Subject: [R] Population dynamicist job in Queensland, Australia
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A91653DB@Roper-CV.qld.cmis.csiro.au>

My apologies for he very short time before things close, but it's not my
fault.  If necessary get your hat in the ring by Friday and see to the
niceties later, may I suggest.

This is a vacancy in my group in Cleveland.  The work is interesting and the
challenges large.

Bill Venables.
----------------------------------------------------------------------------
 

Division of Marine Research
Cleveland, Queensland

POPULATION DYNAMICIST
Ref: MRC/02

$68K to $82K pa + superannuation


In collaboration with other research scientists in the Tropical Marine
Ecosystem Management Sub-Program, you will formulate, direct and conduct
research into the assessment of marine species population dynamics.  This
will involve:
	*	Leading a small scientific team researching the development
and application of population and ecosystem models for tropical species or
systems; 
	*	Integrating fishery, ecosystem and oceanographic dynamics
into the modelling environment;
	*	Developing field data collection programs;
	*	Proactively engaging in multi-disciplinary collaboration
across CSIRO Marine Research, and other international fishery and
oceanographic research organizations; and 
	*	Acting as an adviser to the fisheries manager bodies.
A PhD (or equivalent) and relevant work experience is required in population
dynamics, quantitative ecology, fisheries science, applied mathematics,
statistics or a related field. Experience in a marine environment is
advantageous, but candidates with experience in allied systems will be
favourably considered. 
For enquiries about this role, please contact Cathy Dichmont, on (07) 3826
7219, or email cathy.dichmont at csiro.au <mailto:cathy.dichmont at csiro.au> .
Applications should be made on-line, at www.csiro.au/careers
<http://www.csiro.au/careers> .


Bill Venables, 
CMIS, CSIRO Marine Laboratories, 
PO Box 120, Cleveland, Qld. 4163
AUSTRALIA
Phone:  +61 7 3826 7251  
Fax:    +61 7 3826 7304
Mobile: +61 419 634 642
<mailto: Bill.Venables at csiro.au>
http://www.cmis.csiro.au/bill.venables/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From degiorgi at math.ethz.ch  Wed Aug 21 09:05:03 2002
From: degiorgi at math.ethz.ch (Enrico De Giorgi)
Date: Wed, 21 Aug 2002 09:05:03 +0200
Subject: [R] Quadratic optimization problem
Message-ID: <NEBBLOMPELHOIMFBEMAHEENLCGAA.degiorgi@math.ethz.ch>

I hope that someone can help me with the following question:
I would like to solve the Markowitz optimization problem WITH short-sale
constraints.
Maybe a procedure to solve a quadratic optimization problem with convex
constraints and positive variables is already implemented in R?


Thank you very much,

edg

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Aug 21 11:08:09 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Aug 2002 11:08:09 +0200
Subject: [R] Rterm and cgi
In-Reply-To: <5.1.1.5.2.20020820173649.00abfb30@poptop.llnl.gov>
References: <5.1.1.5.2.20020820173649.00abfb30@poptop.llnl.gov>
Message-ID: <x2vg64vati.fsf@biostat.ku.dk>

Pauline Gu <gu4 at llnl.gov> writes:

> My sampe R file is just like:
> a <- rnorm(10, 4)
> a
> 
> So, the output file should give me some content.

I'm not too sure, but you might need a print(a) there. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at miic.org.uk  Wed Aug 21 11:41:19 2002
From: mark at miic.org.uk (Mark Edwards)
Date: Wed, 21 Aug 2002 10:41:19 +0100
Subject: [R] A layman seeks help!
Message-ID: <ED522064EF38D6118F9C0002A5FBEA7B4CA4E0@MIBNTSRVR3>

I have been given a 'code' file and a 'data' file which is designed for use
in R.

I have successfully installed the program onto my pc, but am struggling to
actaully use the code. How do i prompt R to read the code file and run?

Any ideas?

Many thanks

Mark

____________
Mark Edwards
mark at miic.org.uk






******************************************** 
DISCLAIMER: 
The information in this e-mail and any attachment is confidential and 
may be legally privileged. It is intended solely for the addressee. 
Access to this e-mail by anyone else is unauthorised. 

If you are not the intended recipient, any disclosure, copying, 
distribution or any action taken or omitted to be taken in reliance 
on it, is prohibited and may be unlawful. Please contact the sender 
if you have received this e-mail in error. 
********************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jniesch at gwdg.de  Wed Aug 21 11:59:16 2002
From: jniesch at gwdg.de (Jens Nieschulze)
Date: Wed, 21 Aug 2002 11:59:16 +0200 (MET DST)
Subject: [R] A layman seeks help!
In-Reply-To: <ED522064EF38D6118F9C0002A5FBEA7B4CA4E0@MIBNTSRVR3>
Message-ID: <Pine.SO4.4.10.10208211158360.23145-100000@ufobi7.uni-forst.gwdg.de>

On Wed, 21 Aug 2002, Mark Edwards wrote:

%I have been given a 'code' file and a 'data' file which is designed for use
%in R.
%
%I have successfully installed the program onto my pc, but am struggling to
%actaully use the code. How do i prompt R to read the code file and run?
%
%Any ideas?

source("/path/to/sourcefile/file")

%
%Many thanks
%
%Mark
%
%____________
%Mark Edwards
%mark at miic.org.uk
%
%
%
%
%
%
%******************************************** 
%DISCLAIMER: 
%The information in this e-mail and any attachment is confidential and 
%may be legally privileged. It is intended solely for the addressee. 
%Access to this e-mail by anyone else is unauthorised. 
%
%If you are not the intended recipient, any disclosure, copying, 
%distribution or any action taken or omitted to be taken in reliance 
%on it, is prohibited and may be unlawful. Please contact the sender 
%if you have received this e-mail in error. 
%********************************************
%-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
%r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
%Send "info", "help", or "[un]subscribe"
%(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
%_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
%

***********************************************************************
Jens Nieschulze

Institute for Forest Biometrics &	Phone: ++49-551-39-12107
Applied Computer Science		Fax  : ++49-551-39-3465
Buesgenweg 4
37077 Goettingen		E-mail: jniesch at uni-forst.gwdg.de
GERMANY				http://www.uni-forst.gwdg.de/~jniesch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From agehr at mozart.depaul.edu  Wed Aug 21 12:03:43 2002
From: agehr at mozart.depaul.edu (Adam Gehr)
Date: Wed, 21 Aug 2002 05:03:43 -0500
Subject: [R] Quadratic optimization problem
References: <NEBBLOMPELHOIMFBEMAHEENLCGAA.degiorgi@math.ethz.ch>
Message-ID: <3D63657F.E387D215@mozart.depaul.edu>

I've been using the solve.QP function in the quadprog
package to solve that problem. It's just a matter of setting
up matrices with the proper constraints.


Enrico De Giorgi wrote:
> 
> I hope that someone can help me with the following question:
> I would like to solve the Markowitz optimization problem WITH short-sale
> constraints.
> Maybe a procedure to solve a quadratic optimization problem with convex
> constraints and positive variables is already implemented in R?
> 
> Thank you very much,
> 
> edg
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Aug 21 12:06:14 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 21 Aug 2002 12:06:14 +0200
Subject: [R] R doesn't use all available memory (Solaris)
In-Reply-To: <3D62C61E.2040405@columbia.edu>
References: <3D62C61E.2040405@columbia.edu>
Message-ID: <15715.26134.546677.330858@gargle.gargle.HOWL>

>>>>> "Paul" == Paul Pavlidis <pp175 at columbia.edu>
>>>>>     on Tue, 20 Aug 2002 18:43:42 -0400 writes:

    Paul> I'm running R 1.5.1 under Solaris 5.8 (i86), 2GB
    Paul> physical RAM. R can't run memory intensive jobs even
    Paul> though the system reports plenty of free memory: R
    Paul> seems to refuse to take more than about 800Mb even
    Paul> though there is apparently about 950Mb still free -
    Paul> not to mention swap space. I've tried changing
    Paul> mem.limits() etc. with no effect.

A system administrator can always limit the amount of memory a
specific process can use.
In a csh, type
   limit
in a sh,
   ulimit -a

For the latter, on our Solaris 8 machine, I get

    $ ulimit -a  

    time(seconds) unlimited
    file(blocks) unlimited
    data(kbytes) unlimited
    stack(kbytes) 8192
    coredump(blocks) 0
    nofiles(descriptors) 256
    memory(kbytes) unlimited

I suspect you will see limits on memory, data, or such.
If you do and want to change this, go talk to your IT staff.
 
    Paul> The result is an error of the ilk "Error: cannot
    Paul> allocate vector of size 105183 Kb" (or 7000kb,or
    Paul> 200kb, or whatever, depending on what I am attempting
    Paul> to do, once I hit that limit).

    Paul> This seems to be a problem with R or my system, not
    Paul> the specific code since I can reproduce it a variety
    Paul> of ways.

    Paul> Am I missing something? Thanks for any help.

you're welcome

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Wed Aug 21 12:05:00 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Wed, 21 Aug 2002 06:05:00 -0400
Subject: [R] A layman seeks help!
In-Reply-To: <ED522064EF38D6118F9C0002A5FBEA7B4CA4E0@MIBNTSRVR3>; from mark@miic.org.uk on Wed, Aug 21, 2002 at 10:41:19AM +0100
References: <ED522064EF38D6118F9C0002A5FBEA7B4CA4E0@MIBNTSRVR3>
Message-ID: <20020821060500.A15118@cattell.psych.upenn.edu>

On 08/21/02 10:41, Mark Edwards wrote:
>I have been given a 'code' file and a 'data' file which is designed for use
>in R.
>
>I have successfully installed the program onto my pc, but am struggling to
>actaully use the code. How do i prompt R to read the code file and run?
>
>Any ideas?

At the R prompt, say

source("codefile")

where codefile is the name of it.  You need the quotes.

When you're done,

q()

exits the program.

Now that you've gotten this far, you might look at the manual
that came with R, run the examples, etc.

Jon
-- 
Jonathan Baron, Professor of Psychology, University of Pennsylvania
R page:               http://finzi.psych.upenn.edu/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Aug 21 12:07:40 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 21 Aug 2002 12:07:40 +0200
Subject: [R] sourcing code and importing data; was: A layman seeks help!
References: <ED522064EF38D6118F9C0002A5FBEA7B4CA4E0@MIBNTSRVR3>
Message-ID: <3D63666C.FC20BE1D@statistik.uni-dortmund.de>

Mark Edwards wrote:
> 
> I have been given a 'code' file and a 'data' file which is designed for use
> in R.
> 
> I have successfully installed the program onto my pc, but am struggling to
> actaully use the code. How do i prompt R to read the code file and run?
> 
> Any ideas?

Yes. 

At first you should get an idea what R is and how to use it. For a
"layman" a point to start is reading "An Introduction to R".
If you feel comfortable with the manuals and cannot figure out how to
solve a problem, you can ask the mailing list, but put an appropriate
subject into the header, please.

Well, you can use source() to source the code. How to import the data is
described in the "R Data Import/Export" manual - it depends on the
format of your "data". 

Since your questions is not very explicit, I cannot give an explicit
answer.
Please, tell us your OS and version of R in case of forthcoming
questions.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at miic.org.uk  Wed Aug 21 12:08:16 2002
From: mark at miic.org.uk (Mark Edwards)
Date: Wed, 21 Aug 2002 11:08:16 +0100
Subject: [R] sourcing code and importing data; was: A layman seeks hel
	p!
Message-ID: <ED522064EF38D6118F9C0002A5FBEA7B4CA4E1@MIBNTSRVR3>

Excellent - many thanks to all. 

To be honest i found the manual "An introduction to R" not very
user-friendly.

Thanks all.

Mark

> -----Original Message-----
> From: Uwe Ligges [mailto:ligges at statistik.uni-dortmund.de]
> Sent: 21 August 2002 11:08
> To: Mark Edwards
> Cc: 'R-help at lists.R-project.org'
> Subject: Re: [R] sourcing code and importing data; was: A layman seeks
> help!
> 
> 
> Mark Edwards wrote:
> > 
> > I have been given a 'code' file and a 'data' file which is 
> designed for use
> > in R.
> > 
> > I have successfully installed the program onto my pc, but 
> am struggling to
> > actaully use the code. How do i prompt R to read the code 
> file and run?
> > 
> > Any ideas?
> 
> Yes. 
> 
> At first you should get an idea what R is and how to use it. For a
> "layman" a point to start is reading "An Introduction to R".
> If you feel comfortable with the manuals and cannot figure out how to
> solve a problem, you can ask the mailing list, but put an appropriate
> subject into the header, please.
> 
> Well, you can use source() to source the code. How to import 
> the data is
> described in the "R Data Import/Export" manual - it depends on the
> format of your "data". 
> 
> Since your questions is not very explicit, I cannot give an explicit
> answer.
> Please, tell us your OS and version of R in case of forthcoming
> questions.
> 
> Uwe Ligges
> 





******************************************** 
DISCLAIMER: 
The information in this e-mail and any attachment is confidential and 
may be legally privileged. It is intended solely for the addressee. 
Access to this e-mail by anyone else is unauthorised. 

If you are not the intended recipient, any disclosure, copying, 
distribution or any action taken or omitted to be taken in reliance 
on it, is prohibited and may be unlawful. Please contact the sender 
if you have received this e-mail in error. 
********************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Wed Aug 21 12:17:34 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Wed, 21 Aug 2002 22:17:34 +1200
Subject: [R] A layman seeks help!
References: <ED522064EF38D6118F9C0002A5FBEA7B4CA4E0@MIBNTSRVR3>
Message-ID: <001f01c248fb$f8c55bb0$922658db@kwan022>

You haven't given enough information, but from what I understand, your code
file is a file with extension .R?

If so, then you can either open the file in any text editor, copy and paste
everything into R.  Alternatively, you can use the source() command to
source it in.

Cheers,

Kevin

------------------------------------------------
Ko-Kang Kevin Wang
Post Graduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
www.stat.auckand.ac.nz/~kwan022

----- Original Message -----
From: "Mark Edwards" <mark at miic.org.uk>
To: "'R-help at lists.R-project.org'" <R-help at stat.math.ethz.ch>
Sent: Wednesday, August 21, 2002 9:41 PM
Subject: [R] A layman seeks help!


> I have been given a 'code' file and a 'data' file which is designed for
use
> in R.
>
> I have successfully installed the program onto my pc, but am struggling to
> actaully use the code. How do i prompt R to read the code file and run?
>
> Any ideas?
>
> Many thanks
>
> Mark
>
> ____________
> Mark Edwards
> mark at miic.org.uk
>
>
>
>
>
>
> ********************************************
> DISCLAIMER:
> The information in this e-mail and any attachment is confidential and
> may be legally privileged. It is intended solely for the addressee.
> Access to this e-mail by anyone else is unauthorised.
>
> If you are not the intended recipient, any disclosure, copying,
> distribution or any action taken or omitted to be taken in reliance
> on it, is prohibited and may be unlawful. Please contact the sender
> if you have received this e-mail in error.
> ********************************************
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From scholl at yubc.net  Wed Aug 21 12:17:17 2002
From: scholl at yubc.net (Brian Scholl)
Date: Wed, 21 Aug 2002 12:17:17 +0200
Subject: [R] lagged regression
Message-ID: <000b01c248fc$62e18320$10a47cd4@brian>

Is there a way to suppress one or more repressors variables in ar?   I'd
like to do a lagged regression of x on y, but the order of the lags will
likely be quite long so I don't want to write a new term in something like
lm for each lag I add.

Brian

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From o.christensen at lancaster.ac.uk  Wed Aug 21 14:52:56 2002
From: o.christensen at lancaster.ac.uk (Ole Christensen)
Date: Wed, 21 Aug 2002 13:52:56 +0100
Subject: [R] is.numeric()
Message-ID: <3D638D28.525A9124@lancs.ac.uk>

Dear R-list

I am having troubles understanding how the function is.numeric() works.
Any help appreciated.

Some commands are given here (the output and my comments are given
below)


vec <- c(1.4, NA, NA, NA)
sapply(vec,FUN=is.numeric)
is.numeric(vec[2])
is.na(vec[2])
is.numeric(NA)

vec <- c(TRUE, FALSE, NA, NA)
sapply(vec,FUN=is.numeric)
is.numeric(vec[2])
is.numeric(vec[3])
is.numeric(FALSE)

vec <- c(1.3, FALSE, NA, NA)
sapply(vec,FUN=is.numeric)
is.numeric(vec[2])
is.numeric(vec[3])


###
output + comments :
###


> vec <- c(1.4, NA, NA, NA)
> sapply(vec,FUN=is.numeric)
[1] TRUE TRUE TRUE TRUE
> is.numeric(vec[2])
[1] TRUE
> is.na(vec[2])
[1] TRUE
> is.numeric(NA)
[1] FALSE


I would have expected that is.numeric() on vec[2], vec[3] and vec[4]
would give three times FALSE.

My attempt to try to vectorize is.numeric() using sapply() might be
nonsense. Is it possible to vectorize is.numeric() ?


> vec <- c(TRUE, FALSE, NA, NA)
> sapply(vec,FUN=is.numeric)
[1] TRUE TRUE TRUE TRUE
> is.numeric(vec[2])
[1] FALSE
> is.numeric(vec[3])
[1] FALSE
> is.numeric(FALSE)
[1] FALSE


Here I am surprised that is.numeric(vec[2]) doesn't return the same
result as in the first example. The element is NA in both cases.

Apparently my attempt to vectorize is.numeric doesn't give what I
expected. I would have expected that 
sapply(vec,FUN=is.numeric) would equal
c(is.numeric(vec[1],is.numeric(vec[2],is.numeric(vec[3],is.numeric(vec[4])



Cheers Ole


> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    5.1              
year     2002             
month    06               
day      17               
language R  



-- 
Ole F. Christensen
Department of Mathematics and Statistics
Fylde College, Lancaster University 
Lancaster, LA1 4YF, England
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.schlattmann at medizin.fu-berlin.de  Wed Aug 21 14:55:17 2002
From: peter.schlattmann at medizin.fu-berlin.de (Peter Schlattmann)
Date: Wed, 21 Aug 2002 14:55:17 +0200
Subject: [R] package nlme: covariates and self-starting nonlinear regression  
Message-ID: <3D638DB5.F1FEC367@medizin.fu-berlin.de>

Dear all,

I want to include covariates into the self-starting linear regression
functions
SSbiexp and SSfol. Is there a way to do this or do I need to define my
own functions
depending on the covariates?

My second question concerns the function nlme:
Is it possible to use this functions for fixed effects only?



Thanks a lot for your help
Best regards 
Peter

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Wed Aug 21 14:48:55 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Wed, 21 Aug 2002 08:48:55 -0400
Subject: [R] sourcing code and importing data; was: A layman seeks
 hel	p!
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC5C4@usrymx10.merck.com>

> From: Mark Edwards [mailto:mark at miic.org.uk]
> 
> Excellent - many thanks to all. 
> 
> To be honest i found the manual "An introduction to R" not very
> user-friendly.

Then please tell us how/why you feel that way.  Give some examples in that
document where you have trouble.  I'm quite sure R Core always welcome
constructive criticisms... (apologies for putting words in their mouths).

You may also want to check out the "contributed documentation" on CRAN.
Some of them might be to your liking.

Andy
 
> Thanks all.
> 
> Mark

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Aug 21 15:01:54 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Aug 2002 15:01:54 +0200
Subject: [R] sourcing code and importing data; was: A layman seeks hel	p!
In-Reply-To: <51F9C42DA15CD311BD220008C707D81906FFC5C4@usrymx10.merck.com>
References: <51F9C42DA15CD311BD220008C707D81906FFC5C4@usrymx10.merck.com>
Message-ID: <x2r8gsuzzx.fsf@biostat.ku.dk>

"Liaw, Andy" <andy_liaw at merck.com> writes:

> > From: Mark Edwards [mailto:mark at miic.org.uk]
> > 
> > Excellent - many thanks to all. 
> > 
> > To be honest i found the manual "An introduction to R" not very
> > user-friendly.
> 
> Then please tell us how/why you feel that way.  Give some examples in that
> document where you have trouble.  I'm quite sure R Core always welcome
> constructive criticisms... (apologies for putting words in their mouths).
> 
> You may also want to check out the "contributed documentation" on CRAN.
> Some of them might be to your liking.

In the case of "An introduction to R", the case is likely that it has
a target audience of professional [and] theoretical statisticians --
matrix calculus assumed and so forth. Some ot the contributed docs -
and at least one book... - do target less experienced people.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Wed Aug 21 16:12:52 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Wed, 21 Aug 2002 10:12:52 -0400
Subject: [R] weighting means
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC5C9@usrymx10.merck.com>

Not sure if this is what you're looking for.  Try something like

 by(faculty, faculty$FACULTY, function(Q8, CETP) weighted.mean(Q8, CETP))

Andy

> -----Original Message-----
> From: Tim Wilson [mailto:wilson at visi.com]
> Sent: Tuesday, August 20, 2002 4:35 PM
> To: R-help
> Subject: [R] weighting means
> 
> 
> Hi everyone,
> 
> I've got a dataframe called 'faculty'. I want to do a weighted mean on
> the column called 'Q8' weighted by the contents of column 'CETP'. In
> addition, I need to operate on the result of splitting 'faculty'
> according to the contents of a column 'FACULTY'. For example
> 
> > lapply(split(faculty$Q8, faculty$FACULTY), mean)
> $"1"
> [1] 2.2
> 
> $"2"
> [1] 1.888889
> 
> gives the mean of 'Q8' after splitting by 'FACULTY'. When I try this
> with weighted.mean, it doesn't work because I don't know how 
> to specify
> the result of the split as the argument for weighted.mean. 
> For example,
> 
> > lapply(split(faculty$Q8, faculty$FACULTY), weighted.mean)
> $"1"
> [1] 2.2
> 
> $"2"
> [1] 1.888889
> 
> gives the same results as above because I haven't specified the vector
> to use for weighting. The following doesn't work at all for 
> the obvious
> reason that weighted.mean is not operating on the result of the split.
> 
> > lapply(split(faculty$Q8, faculty$FACULTY), weighted.mean(faculty$Q8,
> faculty$CETP))
> Error in match.fun(FUN) : not function, character, or symbol:
> "weighted.mean(faculty$Q8, faculty$CETP)"
> > 
> 
> Any ideas?
> 
> -Tim
> 
> -- 
> Tim Wilson      |   Visit Sibley online:   | Check out:
> Henry Sibley HS |  http://www.isd197.org   | http://www.zope.com
> W. St. Paul, MN |                          | http://slashdot.org
> wilson at visi.com |  <dtml-var pithy_quote>  | http://linux.com
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message. If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Wed Aug 21 16:47:03 2002
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Wed, 21 Aug 2002 09:47:03 -0500
Subject: [R] Quadratic optimization problem
Message-ID: <OF760AAA22.28F08359-ON86256C1C.0050B37C@mmm.com>


The quadprog package available from CRAN should do the trick.

Andy

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122


|---------+----------------------------->
|         |           "Enrico De Giorgi"|
|         |           <degiorgi at math.eth|
|         |           z.ch>             |
|         |                             |
|         |           08/21/2002 02:05  |
|         |                             |
|---------+----------------------------->
  >-----------------------------------------------------------------------------------------------------------------------------|
  |                                                                                                                             |
  |      To:       "R-help" <r-help at stat.math.ethz.ch>                                                                          |
  |      cc:       (bcc: Andrzej P. Jaworski/US-Corporate/3M/US)                                                                |
  |      Subject:  [R] Quadratic optimization problem                                                                           |
  >-----------------------------------------------------------------------------------------------------------------------------|





I hope that someone can help me with the following question:
I would like to solve the Markowitz optimization problem WITH short-sale
constraints.
Maybe a procedure to solve a quadratic optimization problem with convex
constraints and positive variables is already implemented in R?


Thank you very much,

edg

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Matthias.Foehl at drkw.com  Wed Aug 21 16:48:07 2002
From: Matthias.Foehl at drkw.com (Foehl, Matthias)
Date: Wed, 21 Aug 2002 16:48:07 +0200
Subject: [R] column names in write.table
Message-ID: <5A1D56DECE4EF242B1CE7A18FB1F87F51E1E0C@ibfftce105.is.de.dresdnerkb.com>


Dear all,

I want to place titles above columns of data while calling write.table to
create a csv.-file, like

write.table( fc, file="fs.csv", append=F, sep=",",
row.names=T,col.names=c("Index","Rate","Demand","Supply"))


When setting "row.names=T", no column title for the index column is
generated. The R Help says

"Normally there is no column name for a column of row names. If col.names=NA
a blank column name is added. This can be used to write CSV files for input
to spreadsheets. "


But in this case, I want to have the titles as shown above.

For now, I did a

write.table( fs ,file="fs.csv", append=F, sep=",", row.names=T,
col.names=c("Index\",\"Rate","Demand","Supply"))

to artifially generate the title. Wouldn't it be more elegant to provide
this feature by default when row.names=T is set?


Cheers, Matthias


If you have received this e-mail in error or wish to read our e-mail disclaimer 
statement and monitoring policy, please refer to http://www.drkw.com/disc/email/ 
or contact the sender

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Aug 21 17:28:01 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 21 Aug 2002 08:28:01 -0700 (PDT)
Subject: [R] is.numeric()
In-Reply-To: <3D638D28.525A9124@lancs.ac.uk>
Message-ID: <Pine.A41.4.44.0208210821590.57192-100000@homer34.u.washington.edu>

On Wed, 21 Aug 2002, Ole Christensen wrote:

> ###
> output + comments :
> ###
>
>
> > vec <- c(1.4, NA, NA, NA)
> > sapply(vec,FUN=is.numeric)
> [1] TRUE TRUE TRUE TRUE
> > is.numeric(vec[2])
> [1] TRUE
> > is.na(vec[2])
> [1] TRUE
> > is.numeric(NA)
> [1] FALSE
>
>
> I would have expected that is.numeric() on vec[2], vec[3] and vec[4]
> would give three times FALSE.
>
>
> My attempt to try to vectorize is.numeric() using sapply() might be
> nonsense. Is it possible to vectorize is.numeric() ?

You can vectorize anything.  You appear to be getting confused by the fact
that there is more than one sort of NA.

In the first case vec is a numeric vector, so the NAs in it are numeric
NAs. That is, they represent some number but you don't know which one
because you didn't measure it. This is numeric.

In the second case vec is a logical vector, so the NAs are logical NAs:
the value is TRUE or FALSE but you don't know which one.  This is not
numeric

You can also have character NAs, representing a missing character string.
This isn't numeric either.

The `default' NA produced when you type `NA' is a logical NA and so isn't
numeric.

There's also NaN, which represents the value of an undefined mathematical
operation, eg 0/0.

We need different types of NA because all the elements in a vector must be
of the same type.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gu4 at llnl.gov  Wed Aug 21 17:34:24 2002
From: gu4 at llnl.gov (Pauline Gu)
Date: Wed, 21 Aug 2002 08:34:24 -0700
Subject: [R] Rterm and cgi
In-Reply-To: <x2vg64vati.fsf@biostat.ku.dk>
References: <5.1.1.5.2.20020820173649.00abfb30@poptop.llnl.gov>
 <5.1.1.5.2.20020820173649.00abfb30@poptop.llnl.gov>
Message-ID: <5.1.1.5.2.20020821083135.02dd1868@poptop.llnl.gov>

Hello, Peter,

I tried with print(a) and it still shows nothing.  I still could not get 
the cgi script to work correctly.  It does produce the output file, except 
not content.  In the archived newsgroup, someone mentioned that some 
environment might need to be set.  But I do not know what environment to 
set, besides R_HOME.

Thanks for your help.

Pauline
At 11:08 AM 8/21/2002 +0200, Peter Dalgaard BSA wrote:
>Pauline Gu <gu4 at llnl.gov> writes:
>
> > My sampe R file is just like:
> > a <- rnorm(10, 4)
> > a
> >
> > So, the output file should give me some content.
>
>I'm not too sure, but you might need a print(a) there.
>
>--
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
>~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gattuso at obs-vlfr.fr  Wed Aug 21 16:13:47 2002
From: gattuso at obs-vlfr.fr (Jean-Pierre Gattuso)
Date: Wed, 21 Aug 2002 16:13:47 +0200
Subject: [R] More help with Lattice
Message-ID: <p05111708b9894ad50520@[213.203.85.210]>

Hi:

Thanks a lot to Deepayan Sarkar, author of lattice I think, who 
solved my first query. I am afraid that I have another one.

I am plotting several mutipanels boxplots (with one conditioning 
variable) on one page. The x, y and conditioning variable are all 
continuous variables. The x and conditioning variables are 
transformed to shingles before being plotted. The plot looks nice but 
there are two changes that I cannot manage to do.

1- The labels displayed on the y axis are of course the categories of 
the shingle. I would like to display instead the actual intervals of 
the shingle. Is that possible?

2- It is even worse for the conditioning variable because its name is 
displayed, with no information on the interval that it represents in 
each panel (except the colored rectangle that moves along the strip). 
Anyway, I got rid of the strip because vertical space is at premium 
on this page. Here too, I would like to display the interval of the 
conditioning variable on each panel. Andrew C. Ward suggested that I 
should use ltext in a panel function but I did not succeed.

What is the documentation available for lattice? I have "Tour of 
Trellis" (Becker et al.) and the S user's manual on Treillis. These 
documents, together with the help pages, got me quite a long way. 
However, some instructions are not very clear (at least for a newbie, 
with no programming expertise), especially for the use of panel 
functions. Is there any other documentation available? I know, I 
could have gone the R-help archives but I am out of the office and 
rely on a slow and rather unreliable Internet connection.

I am sorry to have produced such a long msg.

Thanks in advance for your help.
jp
-- 
____________________________________________________________________
Jean-Pierre Gattuso
Laboratoire d'Oc?anographie de Villefranche, UMR 7093 CNRS-UPMC
B. P. 28, F-06234 Villefranche-sur-mer Cedex - France
Voice: +33 (0)493763859 - Fax: +33 (0)493763834
<mailto:gattuso at obs-vlfr.fr> - http://www.obs-vlfr.fr/~gattuso
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Wed Aug 21 18:10:44 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Wed, 21 Aug 2002 12:10:44 -0400
Subject: [R] weighting means
References: <20020820203515.GB15117@isis.visi.com>
Message-ID: <3D63BB84.2CBB5A91@umsanet.edu.bo>

What about:

> ?weighted.mean
> ?tapply
> Q8 <- rnorm(100)
> Faculty <- factor(c(rep(1,50), rep(2,50)))
> w <- 1:100
> tapply(Q8, Faculty, weighted.mean, w)
         1          2 
-0.0976302 -0.1457895 


Kjetil Halvorsen

Tim Wilson wrote:
> 
> Hi everyone,
> 
> I've got a dataframe called 'faculty'. I want to do a weighted mean on
> the column called 'Q8' weighted by the contents of column 'CETP'. In
> addition, I need to operate on the result of splitting 'faculty'
> according to the contents of a column 'FACULTY'. For example
> 
> > lapply(split(faculty$Q8, faculty$FACULTY), mean)
> $"1"
> [1] 2.2
> 
> $"2"
> [1] 1.888889
> 
> gives the mean of 'Q8' after splitting by 'FACULTY'. When I try this
> with weighted.mean, it doesn't work because I don't know how to specify
> the result of the split as the argument for weighted.mean. For example,
> 
> > lapply(split(faculty$Q8, faculty$FACULTY), weighted.mean)
> $"1"
> [1] 2.2
> 
> $"2"
> [1] 1.888889
> 
> gives the same results as above because I haven't specified the vector
> to use for weighting. The following doesn't work at all for the obvious
> reason that weighted.mean is not operating on the result of the split.
> 
> > lapply(split(faculty$Q8, faculty$FACULTY), weighted.mean(faculty$Q8,
> faculty$CETP))
> Error in match.fun(FUN) : not function, character, or symbol:
> "weighted.mean(faculty$Q8, faculty$CETP)"
> >
> 
> Any ideas?
> 
> -Tim
> 
> --
> Tim Wilson      |   Visit Sibley online:   | Check out:
> Henry Sibley HS |  http://www.isd197.org   | http://www.zope.com
> W. St. Paul, MN |                          | http://slashdot.org
> wilson at visi.com |  <dtml-var pithy_quote>  | http://linux.com
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Wed Aug 21 18:25:11 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Wed, 21 Aug 2002 12:25:11 -0400
Subject: [R] package nlme: covariates and self-starting nonlinear regression
References: <3D638DB5.F1FEC367@medizin.fu-berlin.de>
Message-ID: <3D63BEE7.AA1C9AC1@umsanet.edu.bo>

Hola!

For the last Q: For fixed effects only, see the functions
gls  and gnls.

Kjetil Halvorsen


Peter Schlattmann wrote:
> 
> Dear all,
> 
> I want to include covariates into the self-starting linear regression
> functions
> SSbiexp and SSfol. Is there a way to do this or do I need to define my
> own functions
> depending on the covariates?
> 
> My second question concerns the function nlme:
> Is it possible to use this functions for fixed effects only?
> 
> Thanks a lot for your help
> Best regards
> Peter
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Wed Aug 21 21:12:27 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Wed, 21 Aug 2002 12:12:27 -0700 (PDT)
Subject: [R] More help with Lattice
In-Reply-To: <p05111708b9894ad50520@[213.203.85.210]>
Message-ID: <20020821191227.8981.qmail@web13906.mail.yahoo.com>


--- Jean-Pierre Gattuso <gattuso at obs-vlfr.fr> wrote:
> Hi:
> 
> Thanks a lot to Deepayan Sarkar, author of lattice I think, who 
> solved my first query. I am afraid that I have another one.
> 
> I am plotting several mutipanels boxplots (with one conditioning 
> variable) on one page. The x, y and conditioning variable are all 
> continuous variables. The x and conditioning variables are 
> transformed to shingles before being plotted. The plot looks nice but 
> there are two changes that I cannot manage to do.
> 
> 1- The labels displayed on the y axis are of course the categories of 
> the shingle. I would like to display instead the actual intervals of 
> the shingle. Is that possible?

This one's easy. For example, 

x <- rnorm(100)
y <- equal.count(rnorm(100))
z <- equal.count(rnorm(100))

ylabels <- substring(as.character(levels(y)), 2)
## or,  if these are too long
## ylabels <- substring(as.character(lapply(levels(y), round, 3)), 2)

bwplot(y ~ x | z, scales = list(y = list(labels = ylabels)))


> 2- It is even worse for the conditioning variable because its name is 
> displayed, with no information on the interval that it represents in 
> each panel (except the colored rectangle that moves along the strip). 
> Anyway, I got rid of the strip because vertical space is at premium 
> on this page. Here too, I would like to display the interval of the 
> conditioning variable on each panel. Andrew C. Ward suggested that I 
> should use ltext in a panel function but I did not succeed.

This might be a problem if you don't want to use the strip function, since a
panel function is usually not sent any information about which levels of the
conditioning variable it corresponds to. With strip, it should be easy:

zlabels <- substring(as.character(levels(z)), 2)
bwplot(y ~ x | z, strip = function(which.given, ...)    
       grid.text(zlabels[which.given]))
## assuming that you have only one conditioning variable

> What is the documentation available for lattice? I have "Tour of 
> Trellis" (Becker et al.) and the S user's manual on Treillis. These 
> documents, together with the help pages, got me quite a long way. 
> However, some instructions are not very clear (at least for a newbie, 
> with no programming expertise), especially for the use of panel 
> functions. Is there any other documentation available? I know, I 
> could have gone the R-help archives but I am out of the office and 
> rely on a slow and rather unreliable Internet connection.

Currently, there's not much else. (Incidentally, everything I used is
documented in the help pages, although they might be a bit difficult to find.)
A web page is in the making (at packages.r-project.org/lattice), but I haven't
gotten around to really starting it up yet. 

> I am sorry to have produced such a long msg.
> 
> Thanks in advance for your help.
> jp
> -- 
> ____________________________________________________________________
> Jean-Pierre Gattuso
> Laboratoire d'Ocanographie de Villefranche, UMR 7093 CNRS-UPMC
> B. P. 28, F-06234 Villefranche-sur-mer Cedex - France
> Voice: +33 (0)493763859 - Fax: +33 (0)493763834
> <mailto:gattuso at obs-vlfr.fr> - http://www.obs-vlfr.fr/~gattuso
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ypeng at math.mun.ca  Wed Aug 21 22:11:53 2002
From: ypeng at math.mun.ca (Paul Y. Peng)
Date: Wed, 21 Aug 2002 17:41:53 -0230
Subject: [R] Tenure track positions in Statistics
Message-ID: <3D63F409.DC4DF747@math.mun.ca>

This email is forwarded on behalf of Dr. Herbert Gaskill.
Please do not reply to me but direct enquiries to 
Ms Wanda Heath <wanda at math.mun.ca> or Dr. Herbert Gaskill
<head at math.mun.ca>. Apologies for cross-posting.


MEMORIAL UNIVERSITY OF NEWFOUNDLAND
St. John's, Newfoundland, Canada  A1C 5S7
www.math.mun.ca

DEPARTMENT OF MATHEMATICS AND STATISTICS

The Department of Mathematics and Statistics at Memorial University of
Newfoundland invites applications for one, or possibly two, tenure-track
positions (subject to budgetary approval) at the Assistant Professor
level
in Statistics, starting September 1, 2003.  A PhD in Statistics is
required
at the time of appointment.

Outstanding applications from all areas in Statistics will be
considered.
The  possibility of collaboration with current department members will
be an
asset,  particularly in the area of biostatistics.

All applicants are expected to demonstrate the potential to be excellent
undergraduate and graduate teachers, and possess a strong research
record
with outstanding promise for future research.

Review of applications will begin October 15, 2002 and continue until
suitable candidates have been identified.  Candidates should submit a
Curriculum Vitae, a description of research interests and academic
goals, a
description of their teaching interests, experience and philosophy, and
selected (pre)reprints of publications.  They should also arrange for
three
confidential letters of recommendation, at least one of which deals with
teaching, to be sent to:

MS/STAT/02
Dr. Herbert Gaskill, Head
Department of Mathematics & Statistics
Memorial University of Newfoundland
St. John's, Newfoundland, Canada  A1C 5S7
email: head at math.mun.ca

Memorial University is the largest university in Atlantic Canada.  As
the
province's only university, Memorial plays an integral role in the
educational and cultural life of Newfoundland and Labrador.  Offering
diverse undergraduate and graduate programs to almost 16,000 students,
Memorial provides a distinctive and stimulating environment for learning
in
St. John's, a very safe, friendly city with great historic charm, a
vibrant
cultural life, and easy access to a wide range of outdoor activities.

Memorial University is committed to employment equity and encourages
applications from qualified women and men, visible minorities,
aboriginal
people and persons with disabilities.  In accordance with Canadian
Immigration requirements, priority will be given to Canadian citizens
and
permanent residents of Canada.  Partners of candidates for positions are
invited to include their resume for possible matching with other job
opportunities.

************************************************
Wanda Heath
Secretary to the Head of Department
Department of Mathematics & Statistics
Memorial University of Newfoundland
St. John's, NF  A1C 5S7   CANADA
Phone: (709) 737-8783  Fax:  (709) 737-3010
Email:  wanda at math.mun.ca
************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Wed Aug 21 22:59:01 2002
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Wed, 21 Aug 2002 16:59:01 -0400
Subject: [R] Calling R from within Matlab Code
In-Reply-To: <Pine.LNX.4.33.0208201358460.5872-100000@serum.scl.csd.uwo.ca>; from kamyar_hazaveh@ieee.org on Tue, Aug 20, 2002 at 02:00:23PM -0400
References: <Pine.LNX.4.33.0208201358460.5872-100000@serum.scl.csd.uwo.ca>
Message-ID: <20020821165901.L659@jessie.research.bell-labs.com>

As far as I am aware, there is no package that currently does this.
Some people (Friedrich Leisch and others in Vienna) are working on
using XML to communicate between the two systems.

I am in the process of putting together an R-Octave interface
which allows one to call R from Octave. An R-Matlab interface
would be relatively easy to construct by adapting the R-Octave
code in a few spots. I have looked at embedding R in Matlab
over the past few years and it appears that there are enough
hooks for this.

In principal, all you need to do is create R as a shared library
and then dynamically load some code into Matlab that is linked
against that and which creates R expressions  to be evaluated
from Matlab calls. Many of the Omegahat packages do this, so example
code is available.

I'll hopefully make the R-Octave code available in the next few weeks.

Kamyar Hazaveh Hesarmaskan wrote:
> 
> Hi,
> 
> Does anyone know how I can call R from within Matlab and return the result 
> to Matlab?
> 
> Thanks,
> Kamyar
> 
> -- 
> ==================================
> FROM:   Kamyar Hazaveh Hesarmaskan
>         Ontario, Canada
> E-mail: kamyar_hazaveh at ieee.org
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurence at ics.uci.edu  Thu Aug 22 03:21:18 2002
From: laurence at ics.uci.edu (Laurence Richard)
Date: Wed, 21 Aug 2002 18:21:18 -0700
Subject: [R] correlation
Message-ID: <3D643C8E.B4D99418@ics.uci.edu>

Dear All,

I have a file (a matrix) on which I have to compute the correlations.
The function "cov" compute the correlations
between the columns of a matrix, but I want to compute the correlations
between the raws.

Can somebody say to me how I can carry out that?

Thanks

Laurence



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ken_lee at tynesys.com  Thu Aug 22 03:57:54 2002
From: ken_lee at tynesys.com (ken_lee)
Date: Thu, 22 Aug 2002 09:57:54 +0800
Subject: [R] two bugs ? 
In-Reply-To: <20020821191227.8981.qmail@web13906.mail.yahoo.com>
Message-ID: <IPECKKKLFINFHEGMEKKGCEHJCCAA.ken_lee@tynesys.com>

Dear,
       I thought these two example are bugs. 
example 1:  colnames issue
 > tmp<-data.frame(value=1:3,group1=1:3)     
 > if (length(tmp$group)>1) z<-1 else z<-2
 > print(z)

   [1] 1

example2 :  length issue
> tmp<-data.frame(value=1:3,group=c("a","a","b")  )
> tmp1<-gsummary(tmp,FUN=length,groups=tmp$group)
> tmp1
  value group
a     2     a
b     1     b

> tmp<-data.frame(value=1:3,group=c("a","c","b"))  
> tmp1<-gsummary(tmp,FUN=length,groups=tmp$group)
> tmp1
  value group
a     1     a
b     3     b
c     2     c

ken
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Thu Aug 22 04:38:38 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Wed, 21 Aug 2002 21:38:38 -0500
Subject: [R] Quadratic optimization problem
In-Reply-To: <NEBBLOMPELHOIMFBEMAHEENLCGAA.degiorgi@math.ethz.ch>
References: <NEBBLOMPELHOIMFBEMAHEENLCGAA.degiorgi@math.ethz.ch>
Message-ID: <20020822023838.GA32286@sonny.eddelbuettel.com>

On Wed, Aug 21, 2002 at 09:05:03AM +0200, Enrico De Giorgi wrote:
> I hope that someone can help me with the following question:
> I would like to solve the Markowitz optimization problem WITH short-sale
> constraints.

Try 
	library(tseries)
	help(portfolio.optim)

Hth, Dirk

-- 
Good judgement comes from experience; experience comes from bad judgement. 
							    -- Fred Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ririzarr at jhsph.edu  Thu Aug 22 04:59:47 2002
From: ririzarr at jhsph.edu (Rafael A. Irizarry)
Date: Wed, 21 Aug 2002 22:59:47 -0400 (EDT)
Subject: [R] correlation
In-Reply-To: <3D643C8E.B4D99418@ics.uci.edu>
Message-ID: <Pine.LNX.4.33.0208212258510.26190-100000@localhost.localdomain>

take the cov of the transpose

if "x" is your matix:
cov(t(x))

On Wed, 21 Aug 2002, Laurence Richard wrote:

> Dear All,
> 
> I have a file (a matrix) on which I have to compute the correlations.
> The function "cov" compute the correlations
> between the columns of a matrix, but I want to compute the correlations
> between the raws.
> 
> Can somebody say to me how I can carry out that?
> 
> Thanks
> 
> Laurence
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Thu Aug 22 01:16:15 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Wed, 21 Aug 2002 19:16:15 -0400
Subject: [R] weighting means
In-Reply-To: <3D63BB84.2CBB5A91@umsanet.edu.bo>
References: <20020820203515.GB15117@isis.visi.com>
	<3D63BB84.2CBB5A91@umsanet.edu.bo>
Message-ID: <20020821191615.07878bf4.fharrell@virginia.edu>

On Wed, 21 Aug 2002 12:10:44 -0400
kjetil halvorsen <kjetilh at umsanet.edu.bo> wrote:

> What about:
> 
> > ?weighted.mean
> > ?tapply
> > Q8 <- rnorm(100)
> > Faculty <- factor(c(rep(1,50), rep(2,50)))
> > w <- 1:100
> > tapply(Q8, Faculty, weighted.mean, w)
>          1          2 
> -0.0976302 -0.1457895 
> 
> 
> Kjetil Halvorsen
> 
> Tim Wilson wrote:
> > 
> > Hi everyone,
> > 
> > I've got a dataframe called 'faculty'. I want to do a weighted mean on
> > the column called 'Q8' weighted by the contents of column 'CETP'. In
> > addition, I need to operate on the result of splitting 'faculty'
> > according to the contents of a column 'FACULTY'. For example
> > 
> > > lapply(split(faculty$Q8, faculty$FACULTY), mean)
> > $"1"
> > [1] 2.2
> > 
> > $"2"
> > [1] 1.888889
> > 
> > gives the mean of 'Q8' after splitting by 'FACULTY'. When I try this
> > with weighted.mean, it doesn't work because I don't know how to specify
> > the result of the split as the argument for weighted.mean. For example,
> > 
> > > lapply(split(faculty$Q8, faculty$FACULTY), weighted.mean)
> > $"1"
> > [1] 2.2
> > 
> > $"2"
> > [1] 1.888889
> > 
> > gives the same results as above because I haven't specified the vector
> > to use for weighting. The following doesn't work at all for the obvious
> > reason that weighted.mean is not operating on the result of the split.
> > 
> > > lapply(split(faculty$Q8, faculty$FACULTY), weighted.mean(faculty$Q8,
> > faculty$CETP))
> > Error in match.fun(FUN) : not function, character, or symbol:
> > "weighted.mean(faculty$Q8, faculty$CETP)"
> > >
> > 
> > Any ideas?
> > 
> > -Tim
> > 
> > --
> > Tim Wilson      |   Visit Sibley online:   | Check out:
> > Henry Sibley HS |  http://www.isd197.org   | http://www.zope.com
> > W. St. Paul, MN |                          | http://slashdot.org
> > wilson at visi.com |  <dtml-var pithy_quote>  | http://linux.com

Also take a look at the many weighted stats functions in the Hmisc library.  Do 
library(Hmisc)
?wtd.mean

-Frank

-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wss at ufla.br  Thu Aug 22 05:38:41 2002
From: wss at ufla.br (washington santos da silva)
Date: Thu, 22 Aug 2002 00:38:41 -0300
Subject: [R] How to create daily ts() object?
Message-ID: <3D645CC1.ADDB0F94@ufla.br>

Dear R developers

How can I create a daily ts() object ? and How can I plot such object
with the dates in the axis? Is it possible to create a ts() object,
whose data is daily based but measured only on working days?

regards

Long Life to R

Washington Santos da Silva
Universidade Federal de Lavras - Brasil
Departamento de Ci?ncias Exatas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Thu Aug 22 05:57:26 2002
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 21 Aug 2002 23:57:26 -0400
Subject: [R] correlation
In-Reply-To: <3D643C8E.B4D99418@ics.uci.edu>
Message-ID: <5.1.0.14.2.20020821235457.01d8f890@mcmail.cis.mcmaster.ca>

Dear Laurence,

At 06:21 PM 8/21/2002 -0700, you wrote:

>I have a file (a matrix) on which I have to compute the correlations.
>The function "cov" compute the correlations
>between the columns of a matrix, but I want to compute the correlations
>between the raws.

Actually, cov computes covariances; cor computes correlations


>Can somebody say to me how I can carry out that?

Just transpose the matrix, as in cor(t(x)).

I hope that this helps,
  John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chr.schulz at email.de  Thu Aug 22 07:24:39 2002
From: chr.schulz at email.de (chr.schulz@email.de)
Date: Thu, 22 Aug 2002 07:24:39 +0200
Subject: [R] correlation
Message-ID: <200208220524.g7M5OcX19104@mailgate5.cinetic.de>

IMHO cov ist the covarriance and cor is the correlation !
And for your row problem it is possible  transpose your matrix !?

 cor(t(yourMatrix),use="pairwise.complete.obs")

regards,Christian


Laurence Richard schrieb:

Dear All,

I have a file (a matrix) on which I have to compute the correlations.
The function "cov" compute the correlations
between the columns of a matrix, but I want to compute the correlations
between the raws.

Can somebody say to me how I can carry out that?

Thanks

Laurence



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xiaoping_jin at hotmail.com  Thu Aug 22 07:13:34 2002
From: xiaoping_jin at hotmail.com (xiaoping Jin)
Date: Wed, 21 Aug 2002 22:13:34 -0700
Subject: [R] LAPACK in R
Message-ID: <F210mrG6tbnqL3rnv4H0001fe4c@hotmail.com>

An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020821/de0498e1/attachment.html

From a.trapletti at bluewin.ch  Thu Aug 22 09:18:52 2002
From: a.trapletti at bluewin.ch (Adrian Trapletti)
Date: Thu, 22 Aug 2002 09:18:52 +0200
Subject: [R] Quadratic optimization problem
References: <200208220201.EAA23424@stat.math.ethz.ch>
Message-ID: <3D64905C.FF46E314@bluewin.ch>

> Date: Wed, 21 Aug 2002 09:05:03 +0200
> From: "Enrico De Giorgi" <degiorgi at math.ethz.ch>
> Subject: [R] Quadratic optimization problem
>
> I hope that someone can help me with the following question:
> I would like to solve the Markowitz optimization problem WITH short-sale
> constraints.
> Maybe a procedure to solve a quadratic optimization problem with convex
> constraints and positive variables is already implemented in R?
>
> Thank you very much,
>
> edg

Have a look at portfolio.optim() from tseries.

best
Adrian

--
Dr. Adrian Trapletti             Phone :             +41 (0) 1 994 5631
Trapletti Statistical Computing  Mobile:             +41 (0)76 370 5631
Wildsbergstrasse 31              Fax   :             +41 (0) 1 994 5633
CH-8610 Uster                    Email :  mailto:a.trapletti at bluewin.ch
Switzerland                      WWW   : http://trapletti.homelinux.com



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Aug 22 10:49:58 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Aug 2002 10:49:58 +0200
Subject: [R] two bugs ?
In-Reply-To: <IPECKKKLFINFHEGMEKKGCEHJCCAA.ken_lee@tynesys.com>
References: <IPECKKKLFINFHEGMEKKGCEHJCCAA.ken_lee@tynesys.com>
Message-ID: <x2vg636zwp.fsf@biostat.ku.dk>

"ken_lee" <ken_lee at tynesys.com> writes:

> Dear,
>        I thought these two example are bugs. 
> example 1:  colnames issue
>  > tmp<-data.frame(value=1:3,group1=1:3)     
>  > if (length(tmp$group)>1) z<-1 else z<-2
>  > print(z)
> 
>    [1] 1


tmp$group is 1:3 because of partial matching in "$" (which is not a
bug, but maybe a design infelicity). 
 
> example2 :  length issue
> > tmp<-data.frame(value=1:3,group=c("a","a","b")  )
> > tmp1<-gsummary(tmp,FUN=length,groups=tmp$group)
> > tmp1
>   value group
> a     2     a
> b     1     b
> 
> > tmp<-data.frame(value=1:3,group=c("a","c","b"))  
> > tmp1<-gsummary(tmp,FUN=length,groups=tmp$group)
> > tmp1
>   value group
> a     1     a
> b     3     b
> c     2     c

That's how gsummary (from nlme) works. Look at the definition of FUN.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From o.christensen at lancaster.ac.uk  Thu Aug 22 10:56:37 2002
From: o.christensen at lancaster.ac.uk (Ole Christensen)
Date: Thu, 22 Aug 2002 09:56:37 +0100
Subject: [R] is.numeric()
References: <Pine.A41.4.44.0208210821590.57192-100000@homer34.u.washington.edu>
Message-ID: <3D64A745.7BAF510F@lancs.ac.uk>


Thank you Thomas for poiting out the different sorts of NA (which was
really the core of my problem). Thanks also to Patrick Burns, who
refered me to page 17 of the book ``S Poetry'' (available at :
http://www.i-way.co.uk/~pat/Spoetry ).


I still have a problem with vectorizing is.numeric() for a logical
vector :

vec <- c(TRUE, FALSE, NA, NA)
sapply(vec,FUN=is.numeric)
is.numeric(vec[2])
is.numeric(vec[3])


gives:

> vec <- c(TRUE, FALSE, NA, NA)
> sapply(vec,FUN=is.numeric)
[1] TRUE TRUE TRUE TRUE
> is.numeric(vec[2])
[1] FALSE
> is.numeric(vec[3])
[1] FALSE


Cheers Ole



platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    5.1              
year     2002             
month    06               
day      17               
language R 



Thomas Lumley wrote:
> 
> On Wed, 21 Aug 2002, Ole Christensen wrote:
> 
> > ###
> > output + comments :
> > ###
> >
> >
> > > vec <- c(1.4, NA, NA, NA)
> > > sapply(vec,FUN=is.numeric)
> > [1] TRUE TRUE TRUE TRUE
> > > is.numeric(vec[2])
> > [1] TRUE
> > > is.na(vec[2])
> > [1] TRUE
> > > is.numeric(NA)
> > [1] FALSE
> >
> >
> > I would have expected that is.numeric() on vec[2], vec[3] and vec[4]
> > would give three times FALSE.
> >
> >
> > My attempt to try to vectorize is.numeric() using sapply() might be
> > nonsense. Is it possible to vectorize is.numeric() ?
> 
> You can vectorize anything.  You appear to be getting confused by the fact
> that there is more than one sort of NA.
> 
> In the first case vec is a numeric vector, so the NAs in it are numeric
> NAs. That is, they represent some number but you don't know which one
> because you didn't measure it. This is numeric.
> 
> In the second case vec is a logical vector, so the NAs are logical NAs:
> the value is TRUE or FALSE but you don't know which one.  This is not
> numeric
> 
> You can also have character NAs, representing a missing character string.
> This isn't numeric either.
> 
> The `default' NA produced when you type `NA' is a logical NA and so isn't
> numeric.
> 
> There's also NaN, which represents the value of an undefined mathematical
> operation, eg 0/0.
> 
> We need different types of NA because all the elements in a vector must be
> of the same type.
> 
>         -thomas

-- 
Ole F. Christensen
Department of Mathematics and Statistics
Fylde College, Lancaster University 
Lancaster, LA1 4YF, England
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Thu Aug 22 11:09:35 2002
From: siim at obs.ee (Ott Toomet)
Date: Thu, 22 Aug 2002 11:09:35 +0200 (CEST)
Subject: [R] installing package maps
Message-ID: <Pine.LNX.4.44.0208221057250.1618-100000@localhost.localdomain>

HI,

Is there anybody using package maps, available at
ftp://ftp.mcs.vuw.ac.nz/pub/statistics/map/

I have installed it (version  maps_0.1-3.tar.gz wich seems to be latest, on
R 1.5.1, linux), but whatever I do, I get a segfault.  Discussion in the
mailing list suggests that the package is not finished yet but is still
usable, at least on some platforms.  Does anybody has experience with
similar problems, e.g. as

> library(maps)
> map()

Process R segmentation fault (core dumped) at Thu Aug 22 10:57:09 2002

The installation seems to be OK, see below.  Perhaps I need to set some
options?

Ott


----------------------------
[root at localhost siim]# R CMD INSTALL a/maps_0.1-3.tar.gz 
* Installing *source* package 'maps' ...
** libs
gcc -I/usr/lib/R/include  -I/usr/local/include -D__NO_MATH_INLINES -mieee-fp
-fPIC  -O2 -I/include  -c mapget.c -o mapget.o
gcc -I/usr/lib/R/include  -I/usr/local/include -D__NO_MATH_INLINES -mieee-fp
-fPIC  -O2 -I/include  -c maps_i.c -o maps_i.o
gcc -I/usr/lib/R/include  -I/usr/local/include -D__NO_MATH_INLINES -mieee-fp
-fPIC  -O2 -I/include  -c thin.c -o thin.o
R SHLIB -o maps.so mapget.o maps_i.o thin.o
make[1]: Entering directory /tmp/R.INSTALL.1293/maps/src'
gcc -shared  -o maps.so mapget.o maps_i.o thin.o    -L/usr/lib/R/bin -lR
make[1]: Leaving directory /tmp/R.INSTALL.1293/maps/src'
gcc -o Gmake Gmake.c
gcc -o Lmake Lmake.c
./Lmake 0 s b county.line ../data/county.L
/Gmake b county.gon ../data/county.G ../data/county.L
cp county.N ../data/county.N
./Lmake 0 s b state.line ../data/state.L
./Gmake b state.gon ../data/state.G ../data/state.L
cp state.N ../data/state.N
./Lmake 0 s b state.vbm.line ../data/state.vbm.L
./Gmake b state.vbm.gon ../data/state.vbm.G ../data/state.vbm.L
cp state.vbm.N ../data/state.vbm.N
./Lmake 0 s b usa.line ../data/usa.L
./Gmake b usa.gon ../data/usa.G ../data/usa.L
cp usa.N ../data/usa.N
./Lmake 0 s b china.line ../data/china.L
./Gmake b china.gon ../data/china.G ../data/china.L
cp china.N ../data/china.N
./Lmake 0 s b nz.line ../data/nz.L
./Gmake b nz.gon ../data/nz.G ../data/nz.L
cp nz.N ../data/nz.N
./Lmake 0 s b nz.vhr.line ../data/nz.vhr.L
./Gmake b nz.vhr.gon ../data/nz.vhr.G ../data/nz.vhr.L
cp nz.vhr.N ../data/nz.vhr.N
/Lmake 0 s b rivers.line ../data/rivers.L
./Gmake b rivers.gon ../data/rivers.G ../data/rivers.L
cp rivers.N ../data/rivers.N
./Lmake 0 s b world.thin.line ../data/world.thin.L
./Gmake b world.thin.gon ../data/world.thin.G ../data/world.thin.L
cp world.thin.N ../data/world.thin.N
./Lmake 0 s b world.line ../data/world.L
./Gmake b world.gon ../data/world.G ../data/world.L
cp world.N ../data/world.N
./Lmake 0 s b world2.thin.line ../data/world2.thin.L
./Gmake b world2.thin.gon ../data/world2.thin.G ../data/world2.thin.L
cp world2.thin.N ../data/world2.thin.N
./Lmake 0 s b world2.line ../data/world2.L
./Gmake b world2.gon ../data/world2.G ../data/world2.L
cp world2.N ../data/world2.N
echo 'source("world.cities.s")' | R --vanilla --no-save

R : Copyright 2002, The R Development Core Team
Version 1.5.1  (2002-06-17)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type license()' or licence()' for distribution details.

R is a collaborative project with many contributors.
Type contributors()' for more information.

Type demo()' for some demos, help()' for on-line help, or
help.start()' for a HTML browser interface to help.
Type q()' to quit R.

> source("world.cities.s")
> 
** R
** data
** help
 >>> Building/Updating help pages for package maps'
     Formats: text html latex example 
  map                               text    html    latex   example
  map.axes                          text    html    latex   example
  map.cities                        text    html    latex   example
  map.scale                         text    html    latex   example
  nz                                text    html    latex   example
  state.vbm                         text    html    latex   example
  usa                               text    html    latex   example
  world                             text    html    latex   example
  world.cities                      text    html    latex
* DONE (maps)

* DONE (INSTALL)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Nikolaus.Hansen at ingene.de  Thu Aug 22 11:27:09 2002
From: Nikolaus.Hansen at ingene.de (Nikolaus Hansen)
Date: Thu, 22 Aug 2002 11:27:09 +0200
Subject: [R] Out of memory
Message-ID: <AAF430AF47FBDD409B95B63BD237EB5404367A@mailman2.office.ingene.com>


> > But you did not comment all the reasonable commands I typed in
> > (Andy added on another one) without getting a reasonable 
> > response from R.
> > Why not? Thus it seemed to me that you would expect and accept that
> > kind of behaviour of R: E.g. loading some data into memory 
> > which exceed
> > the recent memory size will result in refusing any further command
> > (more precise: getting a prompt and an invariable response to any
> > typed command). This is not exactly helpful...
> 
> Would you prefer the process to be terminated?  

No. Even tough in effect there were no difference. 

> You used up all the
> resources allocated to R.  None could be freed by garbage collection.
> What was R supposed to do?  There was no memory left to do 
> anything else
> in.

Easy to say what I would expect from the users point of view: An error message if I try to use too much memory and afterwards the possibility to free memory, e.g. by rm(some.of.my.data) and/or do a garbage collection. I have no idea if this would be difficult to ensure under any circumstances. 

> 
> I think this circumstance is very rare (normally you get enough memory
> back to do something).  I would prefer it to allowing R to 
> take over all
> the VM on a computer, when you probably need to reboot. Those 
> who have not
> seen this happen on a departmental server (say) should 
> consider themselves
> fortunate.  

Yes, I do. 

Thanks for the reply,
Nikolaus Hansen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Aug 22 11:38:21 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 22 Aug 2002 11:38:21 +0200
Subject: [R] is.numeric()
In-Reply-To: <3D64A745.7BAF510F@lancs.ac.uk>
References: <Pine.A41.4.44.0208210821590.57192-100000@homer34.u.washington.edu>
	<3D64A745.7BAF510F@lancs.ac.uk>
Message-ID: <15716.45325.486622.155620@gargle.gargle.HOWL>


>>>>> "Ole" == Ole Christensen <o.christensen at lancaster.ac.uk>
>>>>>     on Thu, 22 Aug 2002 09:56:37 +0100 writes:

	  ...

    Ole> I still have a problem with vectorizing is.numeric() for a logical
    Ole> vector :

something which does never make sense, since 
for atomic vectors (i.e. non-lists), all elements are of identical type.
(as I think Thomas *did* say).

However, you really found a bug in lapply() {which is called by
sapply()} :

    Ole> gives:

    >> vec <- c(TRUE, FALSE, NA, NA)
    >> sapply(vec,FUN=is.numeric)
    Ole> [1] TRUE TRUE TRUE TRUE

{and the same from unlist(sapply(*))}
which is definitely wrong.

So, finally:  Thank you for the bug report!  
{I'll put it into R-bugs}

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Thu Aug 22 11:45:59 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Thu, 22 Aug 2002 11:45:59 +0200
Subject: [R] Reading unicode files?
Message-ID: <KKEGJOGBELBHDIKPINBMAECGCPAA.hb@maths.lth.se>

Are there any plans to support reading of unicode text files? I realize this
would require a totally new internal structure of character strings, but
what about a "brute force" reading where all unicode characters are
converted to ASCII characters? I do not know how much extra it would take;
maybe the underlying libraries already support this? Why do one want this
dumb translation? It would useful if the data file I am reading is 99.99%
numerical and I could live with the fact that some character fields *might*
get funny looking values.

This is just a query of the status of unicode and not a request of an
implementation. There are plenty of software that can read Unicode text
files and save them as plain ASCII so I am doing fine myself.

Have a great day

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
+46 46 2229611 (off), +46 708 909208 (cell), +46 46 2224623 (fax)
h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ray.Brownrigg at mcs.vuw.ac.nz  Thu Aug 22 12:40:53 2002
From: Ray.Brownrigg at mcs.vuw.ac.nz (Ray Brownrigg)
Date: Thu, 22 Aug 2002 22:40:53 +1200 (NZST)
Subject: [R] installing package maps
Message-ID: <200208221040.g7MAerT20574@tahi.mcs.vuw.ac.nz>

> Is there anybody using package maps, available at
> ftp://ftp.mcs.vuw.ac.nz/pub/statistics/map/
> 
> I have installed it (version  maps_0.1-3.tar.gz wich seems to be latest, on
> R 1.5.1, linux), but whatever I do, I get a segfault.  Discussion in the
> mailing list suggests that the package is not finished yet but is still
> usable, at least on some platforms.  Does anybody has experience with
> similar problems, e.g. as
> 
Sorry about that.  I have now put up maps_0.1-4.tar.gz.  The 0.1-3
version was fine on Solaris (which is where I had tested it first).
Unfortunately, I suspect that neither of these versions will work under
Windows, which is what prompted the changes to the sources in the first
place.

Note that the 0.1-X series is now (Unix-) platform independent, since
the map databases are created from text files (the earlier
1.0-X_[intel|sparc] versions included binary databases).  If anybody has
succeeded in getting a Windows version that also compiles and runs
under Unix, I'd be happy to test it (on Solaris, Digital Unix and
RedHat7.3) so that it can be submitted to CRAN.

Regards,
Ray Brownrigg
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at perseus.unalmed.edu.co  Thu Aug 22 14:35:02 2002
From: krcabrer at perseus.unalmed.edu.co (Kenneth Cabrera)
Date: Thu, 22 Aug 2002 07:35:02 -0500
Subject: [R] Nested models?
References: <3E96F037.60105@arcriswell.com>
Message-ID: <3D64DA76.60606@perseus.unalmed.edu.co>

Hello R users:

I have two questions:

1. How can I perform Nested (several levels) mixed experimental models in R?

2. Where can I find the fac.design, design functions in R?

Thank you very much.

-- 
Kenneth Roy Cabrera Torres
Unviersidad Nacional de Colombia, Sede Medell?n
Instituto de Ciencias Naturales y Ecolog?a
Escuela de Geociencias
e-mail krcabrer at unalmed.edu.co
Tel +57 (4) 430-9308



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From orp at intras.es  Thu Aug 22 14:51:14 2002
From: orp at intras.es (Oscar Rueda)
Date: Thu, 22 Aug 2002 14:51:14 +0200
Subject: [R] weighting means
In-Reply-To: <20020821191615.07878bf4.fharrell@virginia.edu>
Message-ID: <UR341ZVQED63JGF0RXTTNKUOKJZ.3d64de42@oscar>

Hello to all

Is there a way to get weighted means using summary.formula() from Hmisc?

For example, the following doesn't work:

>a<-c(rep("A",3),rep("B",7))
>b<-c(1:10)
>c<-c(rep("X",2),rep("Y",8))
>w<-c(10:1)
>z<-data.frame(a,b,c,w)
>library(Hmisc)
>summary(b~a+c,data=z,method="cross",fun=function(y)wtd.mean(y,weights=z$w))

Error in wtd.mean(y, weights = z$w) : dim<- length of dims do not match the length of object

Thanks for the replies,

Oscar Rueda



22/08/02 1:16:15, Frank E Harrell Jr <fharrell at virginia.edu> escribi:

>On Wed, 21 Aug 2002 12:10:44 -0400
>kjetil halvorsen <kjetilh at umsanet.edu.bo> wrote:
>
>> What about:
>> 
>> > ?weighted.mean
>> > ?tapply
>> > Q8 <- rnorm(100)
>> > Faculty <- factor(c(rep(1,50), rep(2,50)))
>> > w <- 1:100
>> > tapply(Q8, Faculty, weighted.mean, w)
>>          1          2 
>> -0.0976302 -0.1457895 
>> 
>> 
>> Kjetil Halvorsen
>> 
>> Tim Wilson wrote:
>> > 
>> > Hi everyone,
>> > 
>> > I've got a dataframe called 'faculty'. I want to do a weighted mean on
>> > the column called 'Q8' weighted by the contents of column 'CETP'. In
>> > addition, I need to operate on the result of splitting 'faculty'
>> > according to the contents of a column 'FACULTY'. For example
>> > 
>> > > lapply(split(faculty$Q8, faculty$FACULTY), mean)
>> > $"1"
>> > [1] 2.2
>> > 
>> > $"2"
>> > [1] 1.888889
>> > 
>> > gives the mean of 'Q8' after splitting by 'FACULTY'. When I try this
>> > with weighted.mean, it doesn't work because I don't know how to specify
>> > the result of the split as the argument for weighted.mean. For example,
>> > 
>> > > lapply(split(faculty$Q8, faculty$FACULTY), weighted.mean)
>> > $"1"
>> > [1] 2.2
>> > 
>> > $"2"
>> > [1] 1.888889
>> > 
>> > gives the same results as above because I haven't specified the vector
>> > to use for weighting. The following doesn't work at all for the obvious
>> > reason that weighted.mean is not operating on the result of the split.
>> > 
>> > > lapply(split(faculty$Q8, faculty$FACULTY), weighted.mean(faculty$Q8,
>> > faculty$CETP))
>> > Error in match.fun(FUN) : not function, character, or symbol:
>> > "weighted.mean(faculty$Q8, faculty$CETP)"
>> > >
>> > 
>> > Any ideas?
>> > 
>> > -Tim
>> > 
>> > --
>> > Tim Wilson      |   Visit Sibley online:   | Check out:
>> > Henry Sibley HS |  http://www.isd197.org   | http://www.zope.com
>> > W. St. Paul, MN |                          | http://slashdot.org
>> > wilson at visi.com |  <dtml-var pithy_quote>  | http://linux.com
>
>Also take a look at the many weighted stats functions in the Hmisc library.  Do 
>library(Hmisc)
>?wtd.mean
>
>-Frank
>
>-- 
>Frank E Harrell Jr              Prof. of Biostatistics & Statistics
>Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
>U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
>



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Thu Aug 22 15:04:25 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Thu, 22 Aug 2002 09:04:25 -0400
Subject: [R] weighting means
In-Reply-To: <UR341ZVQED63JGF0RXTTNKUOKJZ.3d64de42@oscar>
References: <20020821191615.07878bf4.fharrell@virginia.edu>
	<UR341ZVQED63JGF0RXTTNKUOKJZ.3d64de42@oscar>
Message-ID: <20020822090425.11b13a6a.fharrell@virginia.edu>

On Thu, 22 Aug 2002 14:51:14 +0200
Oscar Rueda <orp at intras.es> wrote:

> Hello to all
> 
> Is there a way to get weighted means using summary.formula() from Hmisc?
> 
> For example, the following doesn't work:
> 
> >a<-c(rep("A",3),rep("B",7))
> >b<-c(1:10)
> >c<-c(rep("X",2),rep("Y",8))
> >w<-c(10:1)
> >z<-data.frame(a,b,c,w)
> >library(Hmisc)
> >summary(b~a+c,data=z,method="cross",fun=function(y)wtd.mean(y,weights=z$w))
> 
> Error in wtd.mean(y, weights = z$w) : dim<- length of dims do not match the length of object
> 
> Thanks for the replies,
> 
> Oscar Rueda

Not at present.  That would not be very hard to add to summary.formula and I will add that to my "to do" list.  -Frank
> 
> 
> 
> 22/08/02 1:16:15, Frank E Harrell Jr <fharrell at virginia.edu> escribi:
> 
> >On Wed, 21 Aug 2002 12:10:44 -0400
> >kjetil halvorsen <kjetilh at umsanet.edu.bo> wrote:
> >
> >> What about:
> >> 
> >> > ?weighted.mean
> >> > ?tapply
> >> > Q8 <- rnorm(100)
> >> > Faculty <- factor(c(rep(1,50), rep(2,50)))
> >> > w <- 1:100
> >> > tapply(Q8, Faculty, weighted.mean, w)
> >>          1          2 
> >> -0.0976302 -0.1457895 
> >> 
> >> 
> >> Kjetil Halvorsen
> >> 
> >> Tim Wilson wrote:
> >> > 
> >> > Hi everyone,
> >> > 
> >> > I've got a dataframe called 'faculty'. I want to do a weighted mean on
> >> > the column called 'Q8' weighted by the contents of column 'CETP'. In
> >> > addition, I need to operate on the result of splitting 'faculty'
> >> > according to the contents of a column 'FACULTY'. For example
> >> > 
> >> > > lapply(split(faculty$Q8, faculty$FACULTY), mean)
> >> > $"1"
> >> > [1] 2.2
> >> > 
> >> > $"2"
> >> > [1] 1.888889
> >> > 
> >> > gives the mean of 'Q8' after splitting by 'FACULTY'. When I try this
> >> > with weighted.mean, it doesn't work because I don't know how to specify
> >> > the result of the split as the argument for weighted.mean. For example,
> >> > 
> >> > > lapply(split(faculty$Q8, faculty$FACULTY), weighted.mean)
> >> > $"1"
> >> > [1] 2.2
> >> > 
> >> > $"2"
> >> > [1] 1.888889
> >> > 
> >> > gives the same results as above because I haven't specified the vector
> >> > to use for weighting. The following doesn't work at all for the obvious
> >> > reason that weighted.mean is not operating on the result of the split.
> >> > 
> >> > > lapply(split(faculty$Q8, faculty$FACULTY), weighted.mean(faculty$Q8,
> >> > faculty$CETP))
> >> > Error in match.fun(FUN) : not function, character, or symbol:
> >> > "weighted.mean(faculty$Q8, faculty$CETP)"
> >> > >
> >> > 
> >> > Any ideas?
> >> > 
> >> > -Tim
> >> > 
> >> > --
> >> > Tim Wilson      |   Visit Sibley online:   | Check out:
> >> > Henry Sibley HS |  http://www.isd197.org   | http://www.zope.com
> >> > W. St. Paul, MN |                          | http://slashdot.org
> >> > wilson at visi.com |  <dtml-var pithy_quote>  | http://linux.com
> >
> >Also take a look at the many weighted stats functions in the Hmisc library.  Do 
> >library(Hmisc)
> >?wtd.mean
> >
> >-Frank
> >
> >-- 
> >Frank E Harrell Jr              Prof. of Biostatistics & Statistics
> >Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
> >U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >Send "info", "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> >
> 
> 
> 


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Thu Aug 22 15:27:32 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Thu, 22 Aug 2002 08:27:32 -0500
Subject: [R] How to create daily ts() object?
Message-ID: <E17hrzo-0000I3-00@sonny.eddelbuettel.com>



> How can I create a daily ts() object ? and How can I plot such object
> with the dates in the axis? Is it possible to create a ts() object,
> whose data is daily based but measured only on working days?

No, as previously discussed on this list.  deltat (or frequency, 
depending what you prefer to set) has to be constant for ts objects.

-- 
According to the latest figures, 43% of all signatures are totally 
worthless.   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Aug 22 17:33:09 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 22 Aug 2002 08:33:09 -0700 (PDT)
Subject: [R] is.numeric()
In-Reply-To: <15716.45325.486622.155620@gargle.gargle.HOWL>
Message-ID: <Pine.A41.4.44.0208220832270.93374-100000@homer16.u.washington.edu>

On Thu, 22 Aug 2002, Martin Maechler wrote:
>
> However, you really found a bug in lapply() {which is called by
> sapply()} :
>

The bug is in as.list()
> vec
[1]  TRUE FALSE    NA    NA
> as.list(vec)
[[1]]
[1] 1

[[2]]
[1] 0

[[3]]
[1] NA

[[4]]
[1] NA

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Thu Aug 22 18:31:38 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Thu, 22 Aug 2002 12:31:38 -0400
Subject: [R] Nested models?
References: <3E96F037.60105@arcriswell.com> <3D64DA76.60606@perseus.unalmed.edu.co>
Message-ID: <3D6511EA.B7806A6B@umsanet.edu.bo>

Hola!

This cvan be done with the nlme package, function lme, quiet easily, 
but it is a goog idea to buy the Pinheiro/Bates book. Or mayby MASS4
covers this enough for a start?

2. AFAIK, this doesnt exist in R. 

Kjetil Halvorsen


Kenneth Cabrera wrote:
> 
> Hello R users:
> 
> I have two questions:
> 
> 1. How can I perform Nested (several levels) mixed experimental models in R?
> 
> 2. Where can I find the fac.design, design functions in R?
> 
> Thank you very much.
> 
> --
> Kenneth Roy Cabrera Torres
> Unviersidad Nacional de Colombia, Sede Medell?n
> Instituto de Ciencias Naturales y Ecolog?a
> Escuela de Geociencias
> e-mail krcabrer at unalmed.edu.co
> Tel +57 (4) 430-9308
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From noemifrassia at hotmail.com  Thu Aug 22 19:18:41 2002
From: noemifrassia at hotmail.com (noemi frassia)
Date: Thu, 22 Aug 2002 17:18:41 +0000
Subject: [R] =?iso-8859-1?B?Q1VSU09TIEdJUyBZIFRFTEVERVRFQ0NJ004=?=
Message-ID: <F20yo0Um1XyHGNDJfvi0001add2@hotmail.com>

CENTRO DE TRANSFERENCIA TECNOL?GICA EN SISTEMAS DE INFORMACI?N GEOGR?FICA Y
TELEDETECCI?N

TUTORIAL  GRATUITO
Entendiendo la proyecci?n de los mapas  - SISTEMA Gauss-Kr?ger

CURSOS SEPTIEMBRE
ArcView 8.1
ArcView 3.2
GIS aplicado a  Marketing y  Ventas

CURSOS DISTANCIA:
Sistemas de Informaci?n Geogr?fica(Certificado UBA)
ArcView 3.2
ArcView 8.1
Teledetecci?n
ENVI 3.5
Bases de Datos para Todos (Certificado UBA)

CONTACTO
Arq. Mercedes Frassia, Especialista en Planificaci?n Urbana, UBA; Diploma en
UNIGIS, Manchester, UK
Telefono: (54) 11- 4-896-2466
(54) 11- 15-4-140-3587
E-mail: info at cursogis.com.ar
http://www.cursogis.com.ar


LISTADO DE PARTICIPANTES

Estos docentes han contado en los ?ltimos 2 a?os con mas de 500 alumnos 
entre los que se encuentran representantes de los siguientes organismos:

Universidades
Belgrano, Cat?lica, de Bah?a Blanca, de Bologna, de Buenos Aires, del Centro 
de la Provincia de Buenos Aires, del Comahue, del Litoral, de C?rdoba, de 
Flores, de General Sarmiento, de Jujuy, de la Fraternidad de Agrupaciones 
Santo Tom?s de Aquino (F.A.S.T.A), de La Plata, de La Patagonia Austral, 
Latinoamericana de Ciencias Ambientales, de Lujan, de Mar del Plata, de 
Quilmes, de La Republica (Uruguay), de La Rioja, de Lomas de Zamora, del 
Pilar (Paraguay), Regional Santa Fe, Rosario, de Salta, de Santa Fe, de San 
Juan, de Tucum?n, del Salvador, del Sur, Patagonia Austral, San Juan Bosco, 
Tecnol?gica Nacional, Torcuato Di Tella,  etc.
Municipalidades
Bah?a Blanca, Benito Ju?rez, Bragado, Campana, Ca?uelas, Castelli, 
Chascom?s, Coronel Su?rez, Coronel Rosales , Despe?aderos, Escobar, 
Florencio Varela, General Alvear, General Pueyrred?n, Jes?s Mar?a, Jun?n, La 
Plata, Laboulaye, Laprida, Lomas de Zamora, Malvinas Argentinas, Moreno, 
Mor?n, Necochea, Pehuajo, Pergamino, Posadas, Quilmes, Ramallo, R?o 
Gallegos, Rosario, Saladillo, San Fernando, San Isidro, San Mart?n, San 
Nicol?s, San Salvador de Jujuy, Santa Fe, Santo Tom?, Tigre, Venado Tuerto, 
Vicente L?pez, Viedma, Villa Allende, Villa Constituci?n, Villa de Merlo, 
Villa Mar?a, Gobierno de la Ciudad de Buenos Aires, etc.
ONG
Asociacion Demosvida, Aves Argentinas, Conservaci?n Argentina, Estaci?n 
Cient?fica Charles Darwin (Gal?pagos), Fundaci?n Amigos para la Naturaleza 
Noel Kempff (Bolivia), Fundaci?n Cethus, Fundaci?n CEPA / FLACAM, Fundacion 
Green Cross, Fundaci?n Moises Bertoni (Paraguay), Fundacion Pro Vivienda 
Social,  Fundaci?n Vida Silvestre Argentina, Plus Radio (Paraguay)
Empresas
Aeromapa, Agrimax, Ambiental SA Ambiente Online, Analog?as (empresa dedicada 
a la investigaci?n de mercado y marketing pol?tico),  ACA Automovil Club 
Argentino, BA&H BOOZ ALLEN & HAMILTON Consultora, BellSouth, Boston 
Geom?tica SRL (Paraguay), Cooperativa "16 de Octubre" de Servicios P?blicos 
de Esquel, Chevron Petrolera, Consultora Ambiental Echechuri, Consultora de 
Ingenier?a Cooprogetti, ComTrad SA, Cooperativa "16 de Octubre" de Servicios 
P?blicos, Copygraph, Cybermapa, Diario la Naci?n, Econat SA, Energicon SA, 
Epson Argentina, Estudio EGA, Franklin Consultora SA, Phoenix Oil & Gas, GEA 
Ge?logos Asociados, Gu?as FILCAR, Halcrow (Ingenier?a Hidr?ulica), Hewlett 
Packard, HIDRA Servicios de Ingenier?a, Hidroblan SA, HYTEC, IATASA 
(Ingenier?a y Asistencia T?cnica Argentina SA), JMB S.A. Ingenier?a 
Ambiental, La Dulce Seguros, Nostromo Consultora SRL, Novartis Argentina SA 
(Protecci?n de Cultivos), OCA correos, Palma y Asociados, Pampa Byte, Papel 
Prensa SA, PECOM (Perez Companc), Petrolera Pan American Energy,  Petrolera 
Quintana Minerals, PlusPetrol, Recovery SA (Planeamiento y Catastro, 
Sistemas Catastrales), SERVICOOP (Cooperativa de Servicios P?blicos de 
Madryn), SEINCO S.R.L. (Uruguay), Transpetrol SA, TRANSBA SA (Transporte de 
Energ?a El?ctrica de la Provincia de Buenos Aires), URBI (Concesionario del 
Catastro de la Ciudad de Posadas), WMC - Water Management Consultants 
(Chile), YPF-REPSOL, ZYZ Cosultores (Servicios en medioambiente, 
estructuras, estudios de suelos y proyectos de arquitectura)
Otros Organismos
Administraci?n de Parques Nacionales, Armada Argentina, Auditoria General de 
la Naci?n, Auditoria General de la Naci?n, Autoridad Regulatoria Nuclear, 
Banco de la Provincia de Buenos Aires, CEAMSE (Coordinaci?n Ecol?gica ?rea 
Metropolitana Sociedad del Estado), Centro de Geolog?as de Costas, Centro de 
Sensores Remotos De la FAA, CABA (Programa Reforma Pol?tica), CEPED 
(Instituto de Investigaciones Econ?micas), CNEA (Comisi?n Nacional de 
Energ?a At?mica), Colegio de Agrimensores - Distrito 1, CONAE (Comisi?n 
Nacional de Energ?a At?mica), CONICET (Consejo Nacional de Investigaciones 
Cient?ficas y T?cnicas), CFI (Consejo Federal de Inversiones) , COREBE 
(Comisi?n Regional del R?o Bermejo), CORFO (Corporaci?n de Desarrollo Valle 
Bonaerense del R?o Colorado), Defensor?a del Pueblo, Direcci?n General de 
Escuelas de la Provincia de Bueno Aires, Direcci?n Nacional de Desarrollo 
Urbano (de la Subsecretaria de Desarrollo Urbano y Vivienda de La Naci?n), 
Escuela de Ingenier?a de Caminos de Monta?a, Escuela de Prefectura Nacional, 
Fuerza A?rea Argentina, Gobierno Provincial de C?rdoba, IGM (Instituto 
Geogr?fico Militar), INA (Instituto Nacional del Agua), INDEC (Instituto 
Nacional de Estad?stica y Censos), INREMI (Instituto de Recursos Minerales 
de la Facultad de Ciencias Naturales y Museo UNLP), Instituto Ant?rtico 
Argentino, Instituto Provincial de la Vivienda de Formosa, Instituto 
Argentino de Oceanograf?a, INTA (Instituto Nacional de Tecnolog?a  
Agropecuaria), Laboratorio Tecnol?gigo del Uruguay LATU, Ministerio de 
Desarrollo Social y Medio Ambiente, Ministerio de Econom?a, Ministerio de 
Econom?a de la Provincia de Neuquen, Ministerio de Econom?a del Chaco, 
Ministerio de Econom?a de la Ciudad de La Plata, Ministerio de 
Infraestructura y Vivienda de la Subsecretaria de Recursos H?dricos, 
Ministerio de Infraestructura y Vivienda, Ministerio de Justicia y Seguridad 
de la Provincia de Buenos Aires, Ministerio de la Producci?n  de la 
Provincia de Chaco, Ministerio de Servicios y Obras P?blicas de la Provincia 
de Buenos Aires, Ministerio del Agro y la Producci?n de la Provincia de 
Misiones, Ministerio del Agro y La Producci?n de la Provincia de Misiones, 
Ministerio del Interior (Unidad ejecutora Central Catastro), OCRABA (?rgano 
de Control de los Accesos a la Ciudad de Buenos Aires, ORSEP (Organismo 
Regulador de Seguridad de Presas), Secretaria de Agricultura de la Naci?n, 
Secretaria de Miner?a de la Naci?n, Secretaria de Turismo de la Naci?n, 
Secretar?a de Ambiente y Desarrollo Sustentable, SEGEMAR (Servicio Geol?gico 
Minero Argentino), SENASA (Servicio Nacional de Sanidad Animal y Calidad 
Agroalimentaria), Servicio Nacional de ?reas Protegidas (Bolivia), SIFEM 
(Sistema Federal de Emergencias del Estado Nacional), Sociedad Rural de 
Rivadavia, Vialidad de la Provincia de Buenos Aires, Vialidad de la 
Provincia de La Rioja, Vialidad Nacional, etc.




_________________________________________________________________
MSN Fotos: la forma m?s f?cil de compartir e imprimir fotos. 
http://photos.msn.es/support/worldwide.aspx

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Thu Aug 22 19:42:24 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Thu, 22 Aug 2002 13:42:24 -0400
Subject: [R] Calling R from within Matlab Code
Message-ID: <D7A3CFD7825BD6119B880002A58F06C20149CE9F@groexmb02.pfizer.com>

Another option is to use one of the R<-->Python interfaces (RSPython, RPy)
in conjunction with the Python<-->MatLab interface 'PyMat'
http://claymore.engineer.gvsu.edu/~steriana/Python.

-Greg

> -----Original Message-----
> From: Duncan Temple Lang [mailto:duncan at research.bell-labs.com]
> Sent: Wednesday, August 21, 2002 4:59 PM
> To: Kamyar Hazaveh Hesarmaskan
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] Calling R from within Matlab Code
> 
> 
> As far as I am aware, there is no package that currently does this.
> Some people (Friedrich Leisch and others in Vienna) are working on
> using XML to communicate between the two systems.
> 
> I am in the process of putting together an R-Octave interface
> which allows one to call R from Octave. An R-Matlab interface
> would be relatively easy to construct by adapting the R-Octave
> code in a few spots. I have looked at embedding R in Matlab
> over the past few years and it appears that there are enough
> hooks for this.
> 
> In principal, all you need to do is create R as a shared library
> and then dynamically load some code into Matlab that is linked
> against that and which creates R expressions  to be evaluated
> from Matlab calls. Many of the Omegahat packages do this, so example
> code is available.
> 
> I'll hopefully make the R-Octave code available in the next few weeks.
> 
> Kamyar Hazaveh Hesarmaskan wrote:
> > 
> > Hi,
> > 
> > Does anyone know how I can call R from within Matlab and 
> return the result 
> > to Matlab?
> > 
> > Thanks,
> > Kamyar
> > 
> > -- 
> > ==================================
> > FROM:   Kamyar Hazaveh Hesarmaskan
> >         Ontario, Canada
> > E-mail: kamyar_hazaveh at ieee.org
> > 
> > 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> > 
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 
> -- 
> _______________________________________________________________
> 
> Duncan Temple Lang                duncan at research.bell-labs.com
> Bell Labs, Lucent Technologies    office: (908)582-3217
> 700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
> Murray Hill, NJ  07974-2070       
>          http://cm.bell-labs.com/stat/duncan
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alkim at u.washington.edu  Thu Aug 22 20:39:12 2002
From: alkim at u.washington.edu (Albert Kim)
Date: Thu, 22 Aug 2002 11:39:12 -0700 (PDT)
Subject: [R] Error: object is not a matrix
Message-ID: <Pine.A41.4.44.0208221136260.67814-100000@homer38.u.washington.edu>

Hi,

I have encountered the following error, when using 'aov', which I think
has something to do with the length of my call to 'aov', and I cannot
understand why:

	Error in model.frame.default(formula = Y2 ~ P2 + P2:AAAAAAAA +
P2:B2 +  :
		object is not a matrix


The error occurs when I run the first sequence below, but not the
second.  The two sequences are based on the SAME data, but in one
case, the variable names are longer [Although I don't think the nature
of my analysis is relevant here, it is a 3-way repeated measures
ANOVA;  the "P" factor is a random factor for participants in an
experiment and the A,B,C factors are factorially crossed within P].

## RESULTS IN ERROR:
> AK2.df <<- read.table("foo.data", col.names = c("Y2",
"P2","AAAAAAAA","B2","C2"))
> AK2.df$P2 <- as.factor(AK2.df$P2)
> attach(AK2.df)
> AK2anova.out <- aov(Y2 ~ AAAAAAAA * B2 * C2 + Error(P2 + P2:AAAAAAAA +
P2:B2 + P2:C2 + P2:AAAAAAAA:B2 + P2:AAAAAAAA:C2 + P2:B2:C2 +
P2:AAAAAAAA:B2:C2), data=AK2.df)

Error in model.frame.default(formula = Y2 ~ P2 + P2:AAAAAAAA + P2:B2 +  :
	object is not a matrix

## IDENTICAL ANALYSIS WITH DIFFERENT VARIABLE NAMES DOES NOT PRODOCE
ERROR:
> AK.df <<- read.table("foo.data", col.names = c("Y", "P","A","B","C"))
> AK.df$P <- as.factor(AK.df$P)
> attach(AK.df)
> AKanova.out <- aov(Y ~ A * B * C + Error(P + P:A + P:B + P:C + P:A:B +
P:A:C + P:B:C + P:A:B:C), data=AK.df)

I have reproduced this error in a number of ways, and the only common
characteristic I can see to my actions is that the length of the call
to 'aov' is always too long:  either one of the variable names is too
long, or I include too many error terms, etc...).

Any help would be appreciated,
Al Kim
Research Scientist
Department of Psychology
University of Washington, Box 351525
Seattle, WA. 98195, USA
E-Mail:  alkim at u.washington.edu;  Tel: (206)543-2395



Included below is the data I'm using.

> AK.df
    Y P  A     B       C
1  10 1 E1   Red   Agent
2   9 1 E1   Red Patient
3   0 1 E1 Unred   Agent
4   0 1 E1 Unred Patient
5   5 1 E2   Red   Agent
6   6 1 E2   Red Patient
7   0 1 E2 Unred   Agent
8   0 1 E2 Unred Patient
9   8 2 E1   Red   Agent
10  9 2 E1   Red Patient
11  0 2 E1 Unred   Agent
12  0 2 E1 Unred Patient
13  4 2 E2   Red   Agent
14  4 2 E2   Red Patient
15  0 2 E2 Unred   Agent
16  0 2 E2 Unred Patient
17 12 3 E1   Red   Agent
18 11 3 E1   Red Patient
19  2 3 E1 Unred   Agent
20  0 3 E1 Unred Patient
21  6 3 E2   Red   Agent
22  7 3 E2   Red Patient
23  0 3 E2 Unred   Agent
24  0 3 E2 Unred Patient

> AK2.df
   Y2 P2 AAAAAAAA    B2      C2
1  10  1       E1   Red   Agent
2   9  1       E1   Red Patient
3   0  1       E1 Unred   Agent
4   0  1       E1 Unred Patient
5   5  1       E2   Red   Agent
6   6  1       E2   Red Patient
7   0  1       E2 Unred   Agent
8   0  1       E2 Unred Patient
9   8  2       E1   Red   Agent
10  9  2       E1   Red Patient
11  0  2       E1 Unred   Agent
12  0  2       E1 Unred Patient
13  4  2       E2   Red   Agent
14  4  2       E2   Red Patient
15  0  2       E2 Unred   Agent
16  0  2       E2 Unred Patient
17 12  3       E1   Red   Agent
18 11  3       E1   Red Patient
19  2  3       E1 Unred   Agent
20  0  3       E1 Unred Patient
21  6  3       E2   Red   Agent
22  7  3       E2   Red Patient
23  0  3       E2 Unred   Agent
24  0  3       E2 Unred Patient


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 22 21:10:02 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 22 Aug 2002 20:10:02 +0100 (BST)
Subject: [R] LAPACK in R
In-Reply-To: <F210mrG6tbnqL3rnv4H0001fe4c@hotmail.com>
Message-ID: <Pine.LNX.4.31.0208222008030.19139-100000@gannet.stats>

You can't do this.  Some of LAPACK is included in the lapack module, but
that is not a part of R that is always loaded, and the code has been
corrected.

Similarly you cannot easily use compiled code in another package.

What's so hard about linking your own code against your system's lapack
library?

On Wed, 21 Aug 2002, xiaoping Jin wrote:

>
>
> Hi,
>
> Now I am writting a R program, which calls a C program by using
> .C function. I like to use some matrix calculation functions provided by
> R package in my C program, for example, Cholesky decomposition.
>
> When I read "write R extension", it saild "the header file
> R_ext/linpack.h contains BLAS, LINPACK functions included in R. But we
> know LAPACK is better than Linpack. Is it possible to use functions from
> LAPACK.  I also saw R_ext/lapack.h in src/r_ext  directory. How to use
> this header file?
>
> I have checked "matrix" package. There it used functions from lapack c++
> . How to use those information in my C program? What I should do?
>
> Hope you can help me out!
>
>
>
> Thanks,
>
>
> Xiaoping
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help", or
> "[un]subscribe" (in the "body", not the subject !) To:
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 22 21:22:18 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 22 Aug 2002 20:22:18 +0100 (BST)
Subject: [R] Nested models?
In-Reply-To: <3D6511EA.B7806A6B@umsanet.edu.bo>
Message-ID: <Pine.LNX.4.31.0208222021150.19139-100000@gannet.stats>

On Thu, 22 Aug 2002, kjetil halvorsen wrote:

> Hola!
>
> This cvan be done with the nlme package, function lme, quiet easily,
> but it is a goog idea to buy the Pinheiro/Bates book. Or mayby MASS4
> covers this enough for a start?

If you have balanced nested mixed models, aov using Error may be a bit
easier.  MASS3 and MASS4 have examples done both ways.

>
> 2. AFAIK, this doesnt exist in R.
>
> Kjetil Halvorsen
>
>
> Kenneth Cabrera wrote:
> >
> > Hello R users:
> >
> > I have two questions:
> >
> > 1. How can I perform Nested (several levels) mixed experimental models in R?
> >
> > 2. Where can I find the fac.design, design functions in R?
> >
> > Thank you very much.
> >
> > --
> > Kenneth Roy Cabrera Torres
> > Unviersidad Nacional de Colombia, Sede Medelln
> > Instituto de Ciencias Naturales y Ecologa
> > Escuela de Geociencias
> > e-mail krcabrer at unalmed.edu.co
> > Tel +57 (4) 430-9308
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Thu Aug 22 22:23:03 2002
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Thu, 22 Aug 2002 22:23:03 +0200
Subject: [R] window "placement"
Message-ID: <3D654827.1040603@univie.ac.at>

Using Thomas Baier's DCOM server I can do the following (in Windows 2000):
I create a slider in Excel, and the sliders On_Change event triggers a 
call to R.
This call redraws an R graph, and so I have animated R graphics controlled
by Excel's slider.
The problem is that Excel needs focus so i can grab the slider, and 
therefore it partially covers
R's graph window.

Is there a way to keep the R graph window (created by way of the DCOM 
server)
on top of Excel (or even on top of everything else)
even when it does not have focus?

-- 
--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Aug 22 22:34:40 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 22 Aug 2002 15:34:40 -0500
Subject: [R] package nlme: covariates and self-starting nonlinear regression
In-Reply-To: <3D63BEE7.AA1C9AC1@umsanet.edu.bo>
References: <3D638DB5.F1FEC367@medizin.fu-berlin.de>
	<3D63BEE7.AA1C9AC1@umsanet.edu.bo>
Message-ID: <6ru1lm4opr.fsf@franz.stat.wisc.edu>

kjetil halvorsen <kjetilh at umsanet.edu.bo> writes:

> For the last Q: For fixed effects only, see the functions
> gls  and gnls.

Perhaps nls too.

> Peter Schlattmann wrote:
> > 
> > Dear all,
> > 
> > I want to include covariates into the self-starting linear
                                                        ^^^^^^ nonlinear?
> > regression functions SSbiexp and SSfol. Is there a way to do this
> > or do I need to define my own functions depending on the
> > covariates?

Can you give us an example of what you mean by "include covariates"?

-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Aug 22 23:13:57 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Aug 2002 23:13:57 +0200
Subject: [R] Error: object is not a matrix
In-Reply-To: <Pine.A41.4.44.0208221136260.67814-100000@homer38.u.washington.edu>
References: <Pine.A41.4.44.0208221136260.67814-100000@homer38.u.washington.edu>
Message-ID: <x2fzx6ha0a.fsf@biostat.ku.dk>

Albert Kim <alkim at u.washington.edu> writes:

> I have reproduced this error in a number of ways, and the only common
> characteristic I can see to my actions is that the length of the call
> to 'aov' is always too long:  either one of the variable names is too
> long, or I include too many error terms, etc...).

A similar error was fixed in 1.5.0. Which version are you using?

    o   aov() and model.tables() were failing on multistrata models with
        excessively long Error formula. (PR#1315)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alkim at u.washington.edu  Thu Aug 22 23:17:25 2002
From: alkim at u.washington.edu (Albert Kim)
Date: Thu, 22 Aug 2002 14:17:25 -0700 (PDT)
Subject: [R] Error: object is not a matrix
In-Reply-To: <x2fzx6ha0a.fsf@biostat.ku.dk>
Message-ID: <Pine.A41.4.44.0208221416050.67822-100000@homer38.u.washington.edu>


I'm running 1.4.1.  I'll try the latest version.
Thanks,
Al Kim
Research Scientist
Department of Psychology
University of Washington, Box 351525
Seattle, WA. 98195, USA
E-Mail:  alkim at u.washington.edu;  Tel: (206)543-2395


On 22 Aug 2002, Peter Dalgaard BSA wrote:

> Albert Kim <alkim at u.washington.edu> writes:
>
> > I have reproduced this error in a number of ways, and the only common
> > characteristic I can see to my actions is that the length of the call
> > to 'aov' is always too long:  either one of the variable names is too
> > long, or I include too many error terms, etc...).
>
> A similar error was fixed in 1.5.0. Which version are you using?
>
>     o   aov() and model.tables() were failing on multistrata models with
>         excessively long Error formula. (PR#1315)
>
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alkim at u.washington.edu  Fri Aug 23 00:00:40 2002
From: alkim at u.washington.edu (Albert Kim)
Date: Thu, 22 Aug 2002 15:00:40 -0700 (PDT)
Subject: [R] Error: object is not a matrix
In-Reply-To: <Pine.A41.4.44.0208221416050.67822-100000@homer38.u.washington.edu>
Message-ID: <Pine.A41.4.44.0208221450450.67822-100000@homer38.u.washington.edu>


I have updated to R 1.5.1, but now get a new error, which appears to
have the same cause:

> AK.df <<- read.table("foo.data", col.names = c("Y","P","A","B","CLongFactorName"))
> AK.df$P <- as.factor(AK.df$P)
> attach(AK.df)

> AKanova.out <- aov(Y ~ A * B * CLongFactorName + Error(P + P:A + P:B +
P:CLongFactorName + P:A:B + P:A:CLongFactorName + P:B:CLongFactorName +
P:A:B:CLongFactorName), data=AK.df)

Error in eval(expr, envir, enclos) : couldn't find function "Error"

I can avoid the error by either of the following steps:
	1)  replace "CLongFactorName" with the shorter label "C"
	2)  reduce the number of terms in my Error formula.

Thanks
Al
--
Al Kim
Research Scientist
Department of Psychology
University of Washington, Box 351525
Seattle, WA. 98195, USA
E-Mail:  alkim at u.washington.edu;  Tel: (206)543-2395


On Thu, 22 Aug 2002, Albert Kim wrote:

>
> I'm running 1.4.1.  I'll try the latest version.
> Thanks,
> Al Kim
> Research Scientist
> Department of Psychology
> University of Washington, Box 351525
> Seattle, WA. 98195, USA
> E-Mail:  alkim at u.washington.edu;  Tel: (206)543-2395
>
>
> On 22 Aug 2002, Peter Dalgaard BSA wrote:
>
> > Albert Kim <alkim at u.washington.edu> writes:
> >
> > > I have reproduced this error in a number of ways, and the only common
> > > characteristic I can see to my actions is that the length of the call
> > > to 'aov' is always too long:  either one of the variable names is too
> > > long, or I include too many error terms, etc...).
> >
> > A similar error was fixed in 1.5.0. Which version are you using?
> >
> >     o   aov() and model.tables() were failing on multistrata models with
> >         excessively long Error formula. (PR#1315)
> >
> >
> > --
> >    O__  ---- Peter Dalgaard             Blegdamsvej 3
> >   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
> >  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> > ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From davidjohnmackie at hotmail.com  Fri Aug 23 00:05:16 2002
From: davidjohnmackie at hotmail.com (David Mackie)
Date: Fri, 23 Aug 2002 10:05:16 +1200
Subject: [R] Calculating dispersion in glm
Message-ID: <F130hm9R30xyhgvpx9P0000cc4f@hotmail.com>

Hi all,

How is dispersion calculated within the glm function in R ?

Cheers



_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wilson at visi.com  Fri Aug 23 00:09:34 2002
From: wilson at visi.com (Tim Wilson)
Date: Thu, 22 Aug 2002 17:09:34 -0500
Subject: [R] combining output from several operations
Message-ID: <20020822220934.GM22121@isis.visi.com>

Hi everyone,

I wonder if there's a patient soul out there who has a minute to look at
the following. 

I've got a set of summary statistics I need to perform many times.
Naturally, I've looked at writing a function to automate the process as
much as possible. (These are the data I mentioned recently in my
question about weighted means.) I'm having trouble figuring out the
proper syntax for taking the results of several different functions and
combining them into a single function. I'm pasting an example below of the
analysis I need to do for each column of a number of dataframes. This
works perfectly, but repeating this procedure a couple hundred times
doesn't thrill me.

The only thing that isn't complete below is that I need the describe
function (from the Hmisc library) to give me the standard deviation
as well as the mean. Is it possible to do that without modifying the
describe function directly?

I'd be glad to hear any suggestions from the R gurus on the list.

-Tim

> lapply(split(faculty$Q8, list(faculty$TWOYROR4, faculty$FACULTY)),
describe)
$"2.1"
X[[1]] 
      n missing  unique    Mean 
     47       0       3   3.362 

3 (38, 81%), 4 (1, 2%), 5 (8, 17%) 

$"4.1"
X[[2]] 
      n missing  unique    Mean 
    147       0       5   1.837 

          0  1  2  3 4
Frequency 1 59 57 23 7
%         1 40 39 16 5

$"2.2"
X[[3]] 
      n missing  unique    Mean 
      2       0       1       3 

$"4.2"
X[[4]] 
      n missing  unique    Mean 
     25       0       5     1.8 

          0  1  2  3 4
Frequency 2  8  9  5 1
%         8 32 36 20 4

> a <- aggregate(faculty$Q8, list(CETP=faculty$CETP), mean)

NOTE: I'm using the aggregate function to weight the means so that each
CETP contributes equally to an overall mean and standard deviation. I
need to use this procedure on each of the four results of lapply above.
I can't figure that out at all.

> a
                  CETP        x
1  ACEPT               2.521739
2  LaCEPT              1.666667
3  MASTEP              2.442308
4  MMSTEC              1.900000
5  NYCETP              1.875000
6  PETE                1.600000
7  STEMTEC             2.428571
8  Temple/Philadelphia 2.750000
9  TxCETP              2.218182
10 VCEPT               2.222222
> mean(a$x)
[1] 2.162469
> a <- aggregate(faculty$Q8, list(CETP=faculty$CETP), sd)
> mean(a$x)
[1] 1.041506
>

-- 
Tim Wilson      |   Visit Sibley online:   | Check out:
Henry Sibley HS |  http://www.isd197.org   | http://www.zope.com
W. St. Paul, MN |                          | http://slashdot.org
wilson at visi.com |  <dtml-var pithy_quote>  | http://linux.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Aug 23 00:29:38 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 22 Aug 2002 15:29:38 -0700 (PDT)
Subject: [R] Calculating dispersion in glm
In-Reply-To: <F130hm9R30xyhgvpx9P0000cc4f@hotmail.com>
Message-ID: <Pine.A41.4.44.0208221527170.93374-100000@homer16.u.washington.edu>

On Fri, 23 Aug 2002, David Mackie wrote:

> Hi all,
>
> How is dispersion calculated within the glm function in R ?
>

It isn't.

It's calculated within the summary.glm function (or supplied by the user).
as
 sum(object$weights * object$residuals^2)/df.r

which works out to be equal to the mean square of the Pearson residuals.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From verzani at math.csi.cuny.edu  Thu Aug 22 21:56:16 2002
From: verzani at math.csi.cuny.edu (verzani@math.csi.cuny.edu)
Date: Thu, 22 Aug 2002 15:56:16 -0400
Subject: [R] New version of simpleR notes
Message-ID: <15717.16864.302319.682489@levy.math.csi.cuny.edu>


Hello R users,

An updated version of my notes "simpleR -- Using R for Introductory
Statistics" is now available from  
 
	http://www.math.csi.cuny.edu/Statistics/R/simpleR/

They are available online in HTML format or as printable PDF or PS
files. The notes were originally written so that my students could use
R instead of MINITAB in my introductory statistics course. However,
they are now a bit more comprehensive and may be useful for other
things.

Comments, corrections and suggestions are most welcome.

John Verzani
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Fri Aug 23 03:06:20 2002
From: Bill.Venables at cmis.csiro.au (Bill.Venables@cmis.csiro.au)
Date: Fri, 23 Aug 2002 11:06:20 +1000
Subject: [R] Calculating dispersion in glm
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A9165404@Roper-CV.qld.cmis.csiro.au>

Small footnote.  This estimate of the dispersion parameter is according to
the recommendation in McCullagh and Nelder.  For normal models it agrees
with mean deviance, for Poisson and Binomial it is not needed as dispersion
is 1, known, so the only contentious cases commonly occurring are gamma,
inverse gaussian and quasi and for quasi you don't have much else to go on.
There is a function in the MASS library called gamma.dispersion that
calculates an accurate MLE of the dispersion parameter and it can sometimes
be useful to compare these with the mean square Pearson residual estimate of
McCullagh and Nelder.  When they differ, use the latter; if they are the
same you can use either...!

Bill Venables.

-----Original Message-----
From: Thomas Lumley [mailto:tlumley at u.washington.edu]
Sent: Friday, August 23, 2002 8:30 AM
To: David Mackie
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] Calculating dispersion in glm


On Fri, 23 Aug 2002, David Mackie wrote:

> Hi all,
>
> How is dispersion calculated within the glm function in R ?
>

It isn't.

It's calculated within the summary.glm function (or supplied by the user).
as
 sum(object$weights * object$residuals^2)/df.r

which works out to be equal to the mean square of the Pearson residuals.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Fri Aug 23 03:35:11 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Fri, 23 Aug 2002 13:35:11 +1200 (NZST)
Subject: [R] List to Data Frame
Message-ID: <Pine.SOL.4.21.0208231317530.29135-100000@stat1.stat.auckland.ac.nz>

Hi,

Suppose I have two lists.  The first list is called FOO while the second
is called FRED.  

Say FOO looks (I've simplifed it) like:
    [[1]]
            [,1]
  [1,] 1
  [2,] 2

    [[2]]
            [,1]
  [1,] 3
  [2,] 4
while FRED looks like:
    [[1]]
            [,1]
  [1,] 5
  [2,] 6        

    [[2]]
            [,1]
  [1,] 7  
  [2,] 8

Can I turn this list into a dataframe which looks like:
             FOO  FRED 
  theta1.1     1     5
  theta2.1     2     6
  theta1.2     3     7
  theta2.2     4     8
or something close to this form?

In fact what I will have some 20 rows with something like: 
  theta1.1
  theta2.1
  theta1.2
  theta2.2
  theta1.3
  theta2.3
  .
  .
  .

However, I'm not sure how to achieve this.

Thanks in advance for the help  

Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
Homepage: http://www.stat.auckland.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From RML27 at cornell.edu  Fri Aug 23 03:42:49 2002
From: RML27 at cornell.edu (Ronnen Levinson)
Date: Thu, 22 Aug 2002 18:42:49 -0700
Subject: [R] Legends and Fonts
Message-ID: <3D659319.1D63DFF9@cornell.edu>

Hello.

Is it possible to set specify the font used by legend()? I would like to
specify a fixed-width font so that I can line up parts of vertically
stacked curve labels. For example, it would be nice if I could align the
names, ages, and weights in the following three curve labels:

    Bob age=7 weight=100
    Alexander age=13 weight=150
    Susan age=20 weight=130

Is there perhaps a clever solution involving expression()?

Thanks,

Ronnen.

> version
         _
platform i386-pc-mingw32
arch     i386
os       mingw32
system   i386, mingw32
status
major    1
minor    5.1
year     2002
month    06
day      17
language R

--
Ronnen Levinson, Ph.D.            \/      RML27 at cornell.edu
scientist                         ||      http://ronnen.com
Lawrence Berkeley National Lab    /\      fax 425.955.1992

======================================
Should I marry W.? Not if she won't tell me the other letters in her
name.

-- Woody Allen
======================================


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From v.samak at verizon.net  Fri Aug 23 04:26:49 2002
From: v.samak at verizon.net (Vele Samak)
Date: Thu, 22 Aug 2002 22:26:49 -0400
Subject: [R] R_NilValue blows up on Windows
Message-ID: <000201c24a4c$88f2d220$7a01a8c0@prilep>

Ok, Here's the c code that's loaded into R as dll on windows:

#include <R.h>
#include <Rdefines.h>
SEXP test1(SEXP col);

SEXP test1(SEXP col) 
{
  SEXP col2;
  Rprintf("no value!\n");
  return col2;
}

Compiles ok with bcc32 into a dll, loads into R as part of a library, I
Run library(rkdb), then 
> .Call("test1", 2)
no value!

And puf! Rterm crashes. 

What's the point of this? I developed a library for connecting to a kdb
database from within R. Similar to RODBC, but faster and more
streamlined for access of real-time tick data. Everything works great,
compiles on Win2000, R 1.3.1 and R 1.5.1 with Borland's free C++ 5.5,
and runs into .dll. All functions work great except when there's no data
from the database I do 
  if (nrows <= 0) {
    Rprintf("No rows...");
    return R_NilValue;
  }	
And there lies the blow up of Rterm!!! Apparently R_NilValue can be
assigned to any SEXP object internally, but when it's returned, Rterm
doesn't know what to do with it. I tried another bypass: 
	SEXP NIL;
  if (nrows <= 0) {
    Rprintf("No rows...");
    return NIL;
  }		
This works in most but not all cases. Weird! 

Any suggestions, comments are highly appreciated. Thanks,

--
Vele Samak
http://www.velesamak.com 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Fri Aug 23 06:04:26 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Fri, 23 Aug 2002 00:04:26 -0400
Subject: [R] combining output from several operations
In-Reply-To: <20020822220934.GM22121@isis.visi.com>
References: <20020822220934.GM22121@isis.visi.com>
Message-ID: <20020823000426.3d12dce5.fharrell@virginia.edu>

On Thu, 22 Aug 2002 17:09:34 -0500
Tim Wilson <wilson at visi.com> wrote:

> Hi everyone,
> 
> I wonder if there's a patient soul out there who has a minute to look at
> the following. 
> 
> I've got a set of summary statistics I need to perform many times.
> Naturally, I've looked at writing a function to automate the process as
> much as possible. (These are the data I mentioned recently in my
> question about weighted means.) I'm having trouble figuring out the
> proper syntax for taking the results of several different functions and
> combining them into a single function. I'm pasting an example below of the
> analysis I need to do for each column of a number of dataframes. This
> works perfectly, but repeating this procedure a couple hundred times
> doesn't thrill me.
> 
> The only thing that isn't complete below is that I need the describe
> function (from the Hmisc library) to give me the standard deviation
> as well as the mean. Is it possible to do that without modifying the
> describe function directly?
> 
> I'd be glad to hear any suggestions from the R gurus on the list.
> 
> -Tim
> 
> > lapply(split(faculty$Q8, list(faculty$TWOYROR4, faculty$FACULTY)),
> describe)
> $"2.1"
> X[[1]] 
>       n missing  unique    Mean 
>      47       0       3   3.362 
> 
> 3 (38, 81%), 4 (1, 2%), 5 (8, 17%) 
> 
> $"4.1"
> X[[2]] 
>       n missing  unique    Mean 
>     147       0       5   1.837 
> 
>           0  1  2  3 4
> Frequency 1 59 57 23 7
> %         1 40 39 16 5
> 
> $"2.2"
> X[[3]] 
>       n missing  unique    Mean 
>       2       0       1       3 
> 
> $"4.2"
> X[[4]] 
>       n missing  unique    Mean 
>      25       0       5     1.8 
> 
>           0  1  2  3 4
> Frequency 2  8  9  5 1
> %         8 32 36 20 4
> 
> > a <- aggregate(faculty$Q8, list(CETP=faculty$CETP), mean)
> 
> NOTE: I'm using the aggregate function to weight the means so that each
> CETP contributes equally to an overall mean and standard deviation. I
> need to use this procedure on each of the four results of lapply above.
> I can't figure that out at all.
> 
> > a
>                   CETP        x
> 1  ACEPT               2.521739
> 2  LaCEPT              1.666667
> 3  MASTEP              2.442308
> 4  MMSTEC              1.900000
> 5  NYCETP              1.875000
> 6  PETE                1.600000
> 7  STEMTEC             2.428571
> 8  Temple/Philadelphia 2.750000
> 9  TxCETP              2.218182
> 10 VCEPT               2.222222
> > mean(a$x)
> [1] 2.162469
> > a <- aggregate(faculty$Q8, list(CETP=faculty$CETP), sd)
> > mean(a$x)
> [1] 1.041506
> >
> 
> -- 
> Tim Wilson      |   Visit Sibley online:   | Check out:
> Henry Sibley HS |  http://www.isd197.org   | http://www.zope.com
> W. St. Paul, MN |                          | http://slashdot.org
> wilson at visi.com |  <dtml-var pithy_quote>  | http://linux.com

Tim - describe takes a weights= argument, but you're right - describe does not compute the SD [due to my bias against SD as a descriptive statistic, especially for skewed data].

Frank Harrell

-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 23 07:20:45 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 23 Aug 2002 06:20:45 +0100 (BST)
Subject: [R] window "placement"
In-Reply-To: <3D654827.1040603@univie.ac.at>
Message-ID: <Pine.LNX.4.31.0208230619370.19835-100000@gannet.stats>

On Thu, 22 Aug 2002, Erich Neuwirth wrote:

> Using Thomas Baier's DCOM server I can do the following (in Windows 2000):
> I create a slider in Excel, and the sliders On_Change event triggers a
> call to R.
> This call redraws an R graph, and so I have animated R graphics controlled
> by Excel's slider.
> The problem is that Excel needs focus so i can grab the slider, and
> therefore it partially covers
> R's graph window.
>
> Is there a way to keep the R graph window (created by way of the DCOM
> server)
> on top of Excel (or even on top of everything else)
> even when it does not have focus?

?bringToTop

The problem is in Excel, though: focus and raising should be separate.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 23 07:42:24 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 23 Aug 2002 06:42:24 +0100 (BST)
Subject: [R] R_NilValue blows up on Windows
In-Reply-To: <000201c24a4c$88f2d220$7a01a8c0@prilep>
Message-ID: <Pine.LNX.4.31.0208230625310.19835-100000@gannet.stats>

There is no such problem, as R itself uses this construction repeatedly.
You are using a non-standard compiler, and also your example is incorrect,
as the recommended compiler warns.

On Thu, 22 Aug 2002, Vele Samak wrote:

> Ok, Here's the c code that's loaded into R as dll on windows:
>
> #include <R.h>
> #include <Rdefines.h>
> SEXP test1(SEXP col);
>
> SEXP test1(SEXP col)
> {
>   SEXP col2;
>   Rprintf("no value!\n");
>   return col2;
> }
>
> Compiles ok with bcc32 into a dll, loads into R as part of a library, I
> Run library(rkdb), then
> > .Call("test1", 2)
> no value!
>
> And puf! Rterm crashes.

As it should.  You have returned an unassigned pointer.  Does your
compiler not warn you about such an error?  The recommended one does:

gcc   -Ic:/R/rw1060/src/include -Wall -O2   -c foo.c -o foo.o
foo.c: In function `test1':
foo.c:6: warning: `col2' might be used uninitialized in this function

> What's the point of this? I developed a library for connecting to a kdb
> database from within R. Similar to RODBC, but faster and more
> streamlined for access of real-time tick data. Everything works great,
> compiles on Win2000, R 1.3.1 and R 1.5.1 with Borland's free C++ 5.5,
> and runs into .dll.

Are you sure that R_NilValue is being linked correctly?  It is an
exported variable from R.dll.  There is a caveat in `readme.packages'
about this, and it is the usual cause of such problems.

> All functions work great except when there's no data
> from the database I do
>   if (nrows <= 0) {
>     Rprintf("No rows...");
>     return R_NilValue;
>   }
> And there lies the blow up of Rterm!!! Apparently R_NilValue can be
> assigned to any SEXP object internally, but when it's returned, Rterm
> doesn't know what to do with it.

It does if linked as recommended,

> I tried another bypass:
> 	SEXP NIL;
>   if (nrows <= 0) {
>     Rprintf("No rows...");
>     return NIL;
>   }
> This works in most but not all cases. Weird!

What's NIL?

> Any suggestions, comments are highly appreciated. Thanks,


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 23 07:59:56 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 23 Aug 2002 06:59:56 +0100 (BST)
Subject: [R] Error: object is not a matrix
In-Reply-To: <Pine.A41.4.44.0208221450450.67822-100000@homer38.u.washington.edu>
Message-ID: <Pine.LNX.4.31.0208230658280.19835-100000@gannet.stats>

There is another call to deparse in aov(),  Does adding width = 500 to
that call solve this?

If not, please submit a bug report with a reproducible example: there is
nothing here I can try.

On Thu, 22 Aug 2002, Albert Kim wrote:

>
> I have updated to R 1.5.1, but now get a new error, which appears to
> have the same cause:
>
> > AK.df <<- read.table("foo.data", col.names = c("Y","P","A","B","CLongFactorName"))
> > AK.df$P <- as.factor(AK.df$P)
> > attach(AK.df)
>
> > AKanova.out <- aov(Y ~ A * B * CLongFactorName + Error(P + P:A + P:B +
> P:CLongFactorName + P:A:B + P:A:CLongFactorName + P:B:CLongFactorName +
> P:A:B:CLongFactorName), data=AK.df)
>
> Error in eval(expr, envir, enclos) : couldn't find function "Error"
>
> I can avoid the error by either of the following steps:
> 	1)  replace "CLongFactorName" with the shorter label "C"
> 	2)  reduce the number of terms in my Error formula.
>
> Thanks
> Al
> --
> Al Kim
> Research Scientist
> Department of Psychology
> University of Washington, Box 351525
> Seattle, WA. 98195, USA
> E-Mail:  alkim at u.washington.edu;  Tel: (206)543-2395
>
>
> On Thu, 22 Aug 2002, Albert Kim wrote:
>
> >
> > I'm running 1.4.1.  I'll try the latest version.
> > Thanks,
> > Al Kim
> > Research Scientist
> > Department of Psychology
> > University of Washington, Box 351525
> > Seattle, WA. 98195, USA
> > E-Mail:  alkim at u.washington.edu;  Tel: (206)543-2395
> >
> >
> > On 22 Aug 2002, Peter Dalgaard BSA wrote:
> >
> > > Albert Kim <alkim at u.washington.edu> writes:
> > >
> > > > I have reproduced this error in a number of ways, and the only common
> > > > characteristic I can see to my actions is that the length of the call
> > > > to 'aov' is always too long:  either one of the variable names is too
> > > > long, or I include too many error terms, etc...).
> > >
> > > A similar error was fixed in 1.5.0. Which version are you using?
> > >
> > >     o   aov() and model.tables() were failing on multistrata models with
> > >         excessively long Error formula. (PR#1315)
> > >
> > >
> > > --
> > >    O__  ---- Peter Dalgaard             Blegdamsvej 3
> > >   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
> > >  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> > > ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Herr.Alfred at gmx.net  Fri Aug 23 09:07:11 2002
From: Herr.Alfred at gmx.net (Herr.Alfred@gmx.net)
Date: Fri, 23 Aug 2002 09:07:11 +0200 (MEST)
Subject: [R] row.names - problem with vers. 1.4.1
Message-ID: <24455.1030086431@www12.gmx.net>

Hi,

need a little help:

I want to handle a file with a first column like this:
...
27.10.98	
28.10.98	
29.10.98	
...

In vers. 1.5.1 I can use a statement like:

# load daily
prices
prices<-as.matrix(read.table(paste(path,"prices",date,".txt",sep=""),row.names=1,header=T)) 

In ves. 1.4.1 R generates an ERROR:
Error in "row.names<-.data.frame"(*tmp*, value = row.names) : 
        duplicate row.names are not allowed

For a reason too complex to explain I HAVE TO use 1.4.1! Can anyone tell me
how to solve this problem in 1.4.1?

TIA,
Alfred.

-- 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From scholl at yubc.net  Fri Aug 23 09:59:33 2002
From: scholl at yubc.net (Brian Scholl)
Date: Fri, 23 Aug 2002 09:59:33 +0200
Subject: [R] quick xtable questions
Message-ID: <000501c24a7b$32f44fa0$b3a47cd4@brian>

Hi, I'm creating a lot of tables in a file for inclusion in a Latex
document.  When I try to compile that document there is an error "too many
unprocessed floats."  Is there a way to correct this?

Also, in a Latex table I want R to put in a $\beta$ in the caption, but it
puts a weird system character instead of the \b


Brian

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Aug 23 10:15:40 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 23 Aug 2002 10:15:40 +0200
Subject: [R] quick xtable questions
References: <000501c24a7b$32f44fa0$b3a47cd4@brian>
Message-ID: <3D65EF2C.FC21E696@statistik.uni-dortmund.de>

Brian Scholl wrote:
> 
> Hi, I'm creating a lot of tables in a file for inclusion in a Latex
> document.  When I try to compile that document there is an error "too many
> unprocessed floats."  Is there a way to correct this?
>
> Also, in a Latex table I want R to put in a $\beta$ in the caption, but it
> puts a weird system character instead of the \b

The question is how you tried to do it (and you are not very specific in
your question). I guess you forgot to double the backslashes - and
double doubled ones, depending on the way evaluation takes place...

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Fri Aug 23 10:35:15 2002
From: siim at obs.ee (Ott Toomet)
Date: Fri, 23 Aug 2002 10:35:15 +0200 (CEST)
Subject: [R] List to Data Frame
In-Reply-To: <Pine.SOL.4.21.0208231317530.29135-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.LNX.4.44.0208231030490.3176-100000@localhost.localdomain>

Hi,

to achieve a matrix or data frame like you are looking for, I would use

> cbind(unlist(FOO), unlist(FRED))
     [,1] [,2]
[1,]    1    5
[2,]    2    6
[3,]    3    7
[4,]    4    8

If your point was to achive suitable row and col names, I would perhaps use
dimnames()<-  You may consider giving a new name for unlisted variables,
e.g.

foo <- unlist(FOO)
fred <- unlist(FRED)

and then you get colnames in your dataframe.

Perhaps it helps.

Ott


On Fri, 23 Aug 2002, Ko-Kang Kevin Wang wrote:

  |Hi,
  |
  |Suppose I have two lists.  The first list is called FOO while the second
  |is called FRED.  
  |
  |Say FOO looks (I've simplifed it) like:
  |    [[1]]
  |            [,1]
  |  [1,] 1
  |  [2,] 2
  |
  |    [[2]]
  |            [,1]
  |  [1,] 3
  |  [2,] 4
  |while FRED looks like:
  |    [[1]]
  |            [,1]
  |  [1,] 5
  |  [2,] 6        
  |
  |    [[2]]
  |            [,1]
  |  [1,] 7  
  |  [2,] 8
  |
  |Can I turn this list into a dataframe which looks like:
  |             FOO  FRED 
  |  theta1.1     1     5
  |  theta2.1     2     6
  |  theta1.2     3     7
  |  theta2.2     4     8
  |or something close to this form?
  |
  |In fact what I will have some 20 rows with something like: 
  |  theta1.1
  |  theta2.1
  |  theta1.2
  |  theta2.2
  |  theta1.3
  |  theta2.3
  |  .
  |  .
  |  .
  |
  |However, I'm not sure how to achieve this.
  |
  |Thanks in advance for the help  
  |
  |Cheers,
  |
  |Kevin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From malewski.peter at mh-hannover.de  Fri Aug 23 11:12:03 2002
From: malewski.peter at mh-hannover.de (Peter Malewski)
Date: Fri, 23 Aug 2002 11:12:03 +0200
Subject: [R] quick xtable questions
In-Reply-To: <000501c24a7b$32f44fa0$b3a47cd4@brian>; from scholl@yubc.net on Fri, Aug 23, 2002 at 09:59:33AM +0200
References: <000501c24a7b$32f44fa0$b3a47cd4@brian>
Message-ID: <20020823111154.A13828@rzsrv2.rz.tu-bs.de>

This is a latex faq. In German there is an answer at:
http://www.dante.de/faq/de-tex-faq/html/makros2.html#8

..look arount the internet and find the english equivalent!
P.



On Fri, Aug 23, 2002 at 09:59:33AM +0200, Brian Scholl wrote:
> Hi, I'm creating a lot of tables in a file for inclusion in a Latex
> document.  When I try to compile that document there is an error "too many
> unprocessed floats."  Is there a way to correct this?
> 
> Also, in a Latex table I want R to put in a $\beta$ in the caption, but it
> puts a weird system character instead of the \b
> 
> 
> Brian
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Fri Aug 23 11:26:59 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Fri, 23 Aug 2002 11:26:59 +0200 (MEST)
Subject: [R] quick xtable questions
In-Reply-To: <000501c24a7b$32f44fa0$b3a47cd4@brian>
Message-ID: <Pine.GSO.4.10.10208231117180.23295-100000@speed>

I believe this is a LaTeX related problem and not a problem with
[R]/xtable. The reason is that LaTeX tries to place the floats (tables and 
images) where they best fit and if they not fit very well they are placed
at the end of the document. This is often happens if the images/tables
are big. If there are too many of badly placed floats you will the kind
of error message you are reporting.

First, try to add the options h - here, t - top, b - bottom, i.e. 
\begin{table}[htb]. It might help. Secondly, you can specify the
page region where floats are allowed to be placed. Here is an example that
I once used:

% Define where floats (figures, tables etc) can be place.
% For more information see:
%
%   http://www.cs.ruu.nl/~piet/floats/node1.html
%
% Max fraction of page for floats at top (default 0.7)
\renewcommand{\topfraction}{0.95}
% Max fraction of page for floats at top (default 0.7)
\renewcommand{\bottomfraction}{0.95}
% Min fraction of page for text (default 0.2)
\renewcommand{\textfraction}{0.05}
% Min fraction of floatpage that should have floats (default 0.5)
\renewcommand{\floatpagefraction}{0.35}
% Max number of floats at top of page (default 2)
\setcounter{topnumber}{3}
% Max number of floats at bottom of page (default 1)
\setcounter{bottomnumber}{3}
% Max number of floats on a page (default 3)
\setcounter{totalnumber}{6}

Finally, you can alway use brute force and add \newpage between some
of the tables to help LaTeX. Not very nice, but it often works.


Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences 
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
+46 46 2229611 (off), +46 708 909208 (cell), +46 46 2224623 (fax)
h b @ m a t h s . l t h . s e, http://www.maths.lth.se/~hb/

On Fri, 23 Aug 2002, Brian Scholl wrote:

> Hi, I'm creating a lot of tables in a file for inclusion in a Latex
> document.  When I try to compile that document there is an error "too many
> unprocessed floats."  Is there a way to correct this?
> 
> Also, in a Latex table I want R to put in a $\beta$ in the caption, but it
> puts a weird system character instead of the \b
> 
> 
> Brian
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Fri Aug 23 11:47:35 2002
From: siim at obs.ee (Ott Toomet)
Date: Fri, 23 Aug 2002 11:47:35 +0200 (CEST)
Subject: [R] quick xtable questions
In-Reply-To: <000501c24a7b$32f44fa0$b3a47cd4@brian>
Message-ID: <Pine.LNX.4.44.0208231142420.3205-100000@localhost.localdomain>

On Fri, 23 Aug 2002, Brian Scholl wrote:

  |Hi, I'm creating a lot of tables in a file for inclusion in a Latex
  |document.  When I try to compile that document there is an error "too many
  |unprocessed floats."  Is there a way to correct this?


This is not really xtable but latex problem.  It means latex keeps on
collecting new tables (end figures) but do not have a suitable page to put
them on.  You may consider \clearpage (and perhaps package afterpage)
somewhere to force the tables to be printed.  Check the placement options on
the
\begin{table}[htbp], specially p option should help (it puts a float on a
separate sheet, althoug I think it is default).

  |
  |Also, in a Latex table I want R to put in a $\beta$ in the caption, but it
  |puts a weird system character instead of the \b

you should write "$\\beta$"


Ott

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nolwenn.lemeur at nantes.inserm.fr  Fri Aug 23 14:23:55 2002
From: nolwenn.lemeur at nantes.inserm.fr (Nolwenn Le Meur)
Date: Fri, 23 Aug 2002 14:23:55 +0200
Subject: [R] axis() plot() - step
Message-ID: <NOEOLHEEMLOCABODHCFCAEKFCAAA.nolwenn.lemeur@nantes.inserm.fr>

Hi,
Stupid question I guess but I can't figure out how to have a span of 0.5
instead of 1 in my graph.
Actually, I want to create a plot with x(-2,2) and y(-2,2) and an step of
0.5 along the axis.
Does somebody can help me ? Is it in par(), axis() or plot() that I have to
add something ?

Thanks
Nolwenn

*------------------------------------------*
Nolwenn Le Meur
INSERM U533
Facult? de M?decine
1, rue Gaston Veil
44035 Nantes cedex 1
t?l: +33(0)2-40-41-29-86
fax: +33(0)2-40-41-29-50
e-mail: nolwenn.lemeur at nantes.inserm.fr
*------------------------------------------*

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Aug 23 14:43:56 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 23 Aug 2002 14:43:56 +0200
Subject: [R] axis() plot() - step
References: <NOEOLHEEMLOCABODHCFCAEKFCAAA.nolwenn.lemeur@nantes.inserm.fr>
Message-ID: <3D662E0C.ED203FAB@statistik.uni-dortmund.de>



Nolwenn Le Meur wrote:
> 
> Hi,
> Stupid question I guess but I can't figure out how to have a span of 0.5
> instead of 1 in my graph.
> Actually, I want to create a plot with x(-2,2) and y(-2,2) and an step of
> 0.5 along the axis.
> Does somebody can help me ? Is it in par(), axis() or plot() that I have to
> add something ?


  plot(..., xlim = c(-2, 2), ylim = c(-2,2), xaxt = "n", yaxt = "n") 
  axis(1, at = seq(-2, 2, 0.5))  
  axis(2, at = seq(-2, 2, 0.5))

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Fri Aug 23 14:57:17 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Fri, 23 Aug 2002 08:57:17 -0400
Subject: [R] row.names - problem with vers. 1.4.1
Message-ID: <51F9C42DA15CD311BD220008C707D81906FFC5DE@usrymx10.merck.com>

Your "problem" is not specific to 1.4.1, or even R.  read.table generates a
data frame, and data frame *must* have unique row names in all versions of R
and Splus (well, almost...).

If you don't need the row and column names, preprocess the file first.  If
you know the number of columns in the file, use scan() instead of
read.table.  It'll be much faster and memory efficient.  For example:

## strip out the first column
cmd <- paste("cut -d' ' -f2- ", path, "prices", date, ".txt", sep="")
prices <- matrix(scan(pipe(cmd), skip=1), byrow=TRUE, ncol=????)

HTH,
andy

> -----Original Message-----
> From: Herr.Alfred at gmx.net [mailto:Herr.Alfred at gmx.net]
> Sent: Friday, August 23, 2002 3:07 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] row.names - problem with vers. 1.4.1
> 
> 
> Hi,
> 
> need a little help:
> 
> I want to handle a file with a first column like this:
> ...
> 27.10.98	
> 28.10.98	
> 29.10.98	
> ...
> 
> In vers. 1.5.1 I can use a statement like:
> 
> # load daily
> prices
> prices<-as.matrix(read.table(paste(path,"prices",date,".txt",s
> ep=""),row.names=1,header=T)) 
> 
> In ves. 1.4.1 R generates an ERROR:
> Error in "row.names<-.data.frame"(*tmp*, value = row.names) : 
>         duplicate row.names are not allowed
> 
> For a reason too complex to explain I HAVE TO use 1.4.1! Can 
> anyone tell me
> how to solve this problem in 1.4.1?
> 
> TIA,
> Alfred.
> 
> -- 
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


------------------------------------------------------------------------------
Notice:  This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named in this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at esb.ucp.pt  Fri Aug 23 15:47:49 2002
From: peter at esb.ucp.pt (Peter Ho)
Date: Fri, 23 Aug 2002 14:47:49 +0100
Subject: [R] Error: object is not a matrix
References: <Pine.LNX.4.31.0208230658280.19835-100000@gannet.stats>
Message-ID: <3D663D05.1050604@esb.ucp.pt>

I had a similar problem with a long Error formula. I sent an email to 
the list a few days ago.

Subject:
Re: [R]: Bug in Error() and the use of Error() for repeated measures 
with more than 2 factors
From:
Peter Ho <peter at esb.ucp.pt>
Date:
Mon, 19 Aug 2002 14:33:01 +0100

To:
ripley at stats.ox.ac.uk, r-help at stat.math.ethz.ch


I have repeated my analysis using shorter factor names , where the 
following  original formula:


simulation.blockE.aov.CV.3waymodel <- aov(CV 
~(Twb+Plb+Psb+tinsb+tseedb+Tmb+Mcb+Mom0b+Mom1b+Mom2b+Mom3b)^3 + 
Error(Batch / 
(Twb+Plb+Psb+tinsb+tseedb+Tmb+Mcb+Mom0b+Mom1b+Mom2b+Mom3b)), data= 
simulation.6batches.aovdata)

 gave an error:

Error in eval(expr, envir, enclos) : couldn't find function "Error"

The now shortened factor names formula below works :

simulation.blockE.aov.CV.3waymodel.S <- aov(CV 
~(Tw+Pl+Ps+ti+ts+Tm+Mc+M0+M1+M2+M3)^3 + Error(B/ 
(Tw+Pl+Ps+ti+ts+Tm+Mc+M0+M1+M2+M3)),simulation.aovdata.S)

So this solves the problem I had earlier, although

ripley at stats.ox.ac.uk wrote:

>There is another call to deparse in aov(),  Does adding width = 500 to
>that call solve this?
>  
>
I have tried this , but got the following error:

 > simulation.blockE.aov.CV.3waymodel <- aov(CV 
~(Twb+Plb+Psb+tinsb+tseedb+Tmb+Mcb+Mom0b+Mom1b+Mom2b+Mom3b)^3 + 
Error(Batch / 
(Twb+Plb+Psb+tinsb+tseedb+Tmb+Mcb+Mom0b+Mom1b+Mom2b+Mom3b)),width = 500, 
data= simulation.6batches.aovdata)

Error in eval(expr, envir, enclos) : couldn't find function "Error"
In addition: Warning message:
Extra arguments 500 are just disregarded. in: lm.fit(x, y, offset = 
offset, ...)



>If not, please submit a bug report with a reproducible example: there is
>nothing here I can try.
>
>On Thu, 22 Aug 2002, Albert Kim wrote:
>
>  
>
>>I have updated to R 1.5.1, but now get a new error, which appears to
>>have the same cause:
>>
>>    
>>
>>>AK.df <<- read.table("foo.data", col.names = c("Y","P","A","B","CLongFactorName"))
>>>AK.df$P <- as.factor(AK.df$P)
>>>attach(AK.df)
>>>      
>>>
>>>AKanova.out <- aov(Y ~ A * B * CLongFactorName + Error(P + P:A + P:B +
>>>      
>>>
>>P:CLongFactorName + P:A:B + P:A:CLongFactorName + P:B:CLongFactorName +
>>P:A:B:CLongFactorName), data=AK.df)
>>
>>Error in eval(expr, envir, enclos) : couldn't find function "Error"
>>
>>I can avoid the error by either of the following steps:
>>	1)  replace "CLongFactorName" with the shorter label "C"
>>	2)  reduce the number of terms in my Error formula.
>>
>>Thanks
>>Al
>>--
>>Al Kim
>>Research Scientist
>>Department of Psychology
>>University of Washington, Box 351525
>>Seattle, WA. 98195, USA
>>E-Mail:  alkim at u.washington.edu;  Tel: (206)543-2395
>>
>>
>>On Thu, 22 Aug 2002, Albert Kim wrote:
>>
>>    
>>
>>>I'm running 1.4.1.  I'll try the latest version.
>>>Thanks,
>>>Al Kim
>>>Research Scientist
>>>Department of Psychology
>>>University of Washington, Box 351525
>>>Seattle, WA. 98195, USA
>>>E-Mail:  alkim at u.washington.edu;  Tel: (206)543-2395
>>>
>>>
>>>On 22 Aug 2002, Peter Dalgaard BSA wrote:
>>>
>>>      
>>>
>>>>Albert Kim <alkim at u.washington.edu> writes:
>>>>
>>>>        
>>>>
>>>>>I have reproduced this error in a number of ways, and the only common
>>>>>characteristic I can see to my actions is that the length of the call
>>>>>to 'aov' is always too long:  either one of the variable names is too
>>>>>long, or I include too many error terms, etc...).
>>>>>          
>>>>>
>>>>A similar error was fixed in 1.5.0. Which version are you using?
>>>>
>>>>    o   aov() and model.tables() were failing on multistrata models with
>>>>        excessively long Error formula. (PR#1315)
>>>>
>>>>
>>>>--
>>>>   O__  ---- Peter Dalgaard             Blegdamsvej 3
>>>>  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>>>> (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
>>>>~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
>>>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>>>>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>>>Send "info", "help", or "[un]subscribe"
>>>>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>>>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>>>>
>>>>        
>>>>
>>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>>>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>>Send "info", "help", or "[un]subscribe"
>>>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>>>
>>>      
>>>
>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>Send "info", "help", or "[un]subscribe"
>>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>>
>>    
>>
>
>  
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Fri Aug 23 16:07:11 2002
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Sat, 24 Aug 2002 00:07:11 +1000
Subject: [R] Legends and Fonts
In-Reply-To: <3D659319.1D63DFF9@cornell.edu>
References: <3D659319.1D63DFF9@cornell.edu>
Message-ID: <20020823140121.HSWQ27131.mta09.mail.mel.aone.net.au@there>

Ronnen Levinson wrote:
> Hello.
>
> Is it possible to set specify the font used by legend()? I would like to
> specify a fixed-width font so that I can line up parts of vertically
> stacked curve labels. For example, it would be nice if I could align the
> names, ages, and weights in the following three curve labels:
>
>     Bob age=7 weight=100
>     Alexander age=13 weight=150
>     Susan age=20 weight=130
>
> Is there perhaps a clever solution involving expression()?
>
Don't know how clever it is, but this might do the job:

> tl<-matrix(c("Bob","Alexander","Susan","Age=7","Age=13","Age=20",
+ "Weight=100","Weight=150","Weight=130"),ncol=3)
> tl
     [,1]        [,2]     [,3]
[1,] "Bob"       "Age=7"  "Weight=100"
[2,] "Alexander" "Age=13" "Weight=150"
[3,] "Susan"     "Age=20" "Weight=130"

longest.string<-function(stringvec) {
 longest<-0
 for(i in 1:length(stringvec))
  if(strwidth(stringvec[i]) > longest) longest<-strwidth(stringvec[i])
 return(longest)
}

tab.list<-function(x,y,tl,margin=0.1) {
 dtl<-dim(tl)
 par(adj=0)
 height<-strheight("M")*1.5
 if(length(dtl) > 1) {
  widths<-vector("numeric",0)
  for(i in 1:dtl[2]) widths[i]<-longest.string(tl[,i])
  xpos<-x
  for(i in 1:dtl[2]) {
   for(j in 1:dtl[1]) {
    ypos<-y-(j-1)*height
    text(xpos,ypos,tl[j,i])
   }
   xpos<-xpos + widths[i] * 1.1
  }
 }
 else {
  width<-longest.string(tl)
  for(j in length(tl)) {
   ypos<-y+(i-1)*height
   text(xpos,ypos,tl[j,i])
  }
 }
 rect(x-margin*(xpos-x),
      ypos - (height + margin*(y-ypos)),
      xpos+margin*(xpos-x),
      y + (height + margin*(y-ypos)))
}

plot(...)
tab.list(x,y,tl)

where x and y are the top left corner of the _text_, and there will be a 
bit of margin left around the text within the box.

Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Fri Aug 23 16:10:12 2002
From: siim at obs.ee (Ott Toomet)
Date: Fri, 23 Aug 2002 16:10:12 +0200 (CEST)
Subject: [R] bug in graph title (main=) ?
Message-ID: <Pine.LNX.4.44.0208231603390.3605-100000@localhost.localdomain>

Hi,

try

plot(1:10, main=list("title"))

I think the plot should either have title "title", or should I get an error
message.  But there are different weird characters instead.  Of course, it
is not intended to use lists as a title, but it sometimes happens...

Cheers,

Ott
---------------------------
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    5.1              
year     2002             
month    06               
day      17               
language R                

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mmiller3 at iupui.edu  Fri Aug 23 16:42:58 2002
From: mmiller3 at iupui.edu (Michael A. Miller)
Date: 23 Aug 2002 09:42:58 -0500
Subject: [R] nls question
Message-ID: <8765y1fxfx.fsf@lumen.indyrad.iupui.edu>

I'm using the nls library to fit peaks in spectra.  The model
that I'm using is a quadratic background plus a Gaussian peak.
The peak is well described by the Gaussian and the background is
mostly linear with a bit of quadratic.  My goal is an estimate of
the integral (and the uncertainty of the integral) of the peak
without the back ground.  

The procedure that I'm using is as follows - first, smooth the
data with modreg's smooth.spline.  Use this smoothed curve to
make an initial estimate of the peak position, height and width.

Next, use the smoothed data below the peak to calculate initial
values for the quadratic background.

Finally, fit the spectrum like this:

back.ground.fnc <- function( E, a0, a1, a2 ) {
  result <- a0 + a1*E + a2*E*E
  return(result)
}

spectrum.fnc <- function(E, n0, x0, s, a0, a1, a2 ) {
  back.ground <- back.ground.fnc( E, a0, a1, a2 )
  ## Make sure the background is non-negative:
  back.ground <- back.ground * (back.ground > 0)
  result <- n0 * exp( - ( ( E - x0 ) / s )^2 ) + back.ground
  return(result)
}

##===================================================================================
weighted.spectrum.fnc <- function( counts, E, n0, x0, s, a0, a1, a2 ) {
  epsilon <- 1e-20
  pred <- spectrum.fnc( E, n0, x0, s, a0, a1, a2 )
  w <- sqrt(abs(counts+epsilon))
  (counts - pred) / w
}

spectrum.fit <- nls( ~ weighted.spectrum.fnc( counts, E, n0, x0, s, a0, a1, a2 ),
                    data = fit.df, 
                    start = list( n0=n0, x0=x0, s=s, a0=a0, a1=a1, a2=a2 )
                    )

I've found that, for data sets that are similar sometimes the fit
works well and sometimes it fails when it hits step factor or
iteration limits.  In trying to sort out what's going on, I've
managed to confuse myself pretty badly.  Can someone help me to
understand how I can make nls give me a successful fit?  Is there
an nls library tutorial kicking around anywhere?

Mike
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Fri Aug 23 17:11:16 2002
From: siim at obs.ee (Ott Toomet)
Date: Fri, 23 Aug 2002 17:11:16 +0200 (CEST)
Subject: [R] axis() plot() - step
In-Reply-To: <NOEOLHEEMLOCABODHCFCAEKFCAAA.nolwenn.lemeur@nantes.inserm.fr>
Message-ID: <Pine.LNX.4.44.0208231709040.3644-100000@localhost.localdomain>

Hi,

I think the following example would help:

plot(-2:2,-2:2, xaxt="n", yaxt="n")
axis(1, at=seq(-2,2,by=0.5))
axis(2, at=seq(-2,2,by=0.5))

You have to specify *axt="n" in order to not draw them initially, and then
draw your own axis using at=c(whatever values you want the tickmarks to be
drawn).

Cheers,

Ott


On Fri, 23 Aug 2002, Nolwenn Le Meur wrote:

  |Hi,
  |Stupid question I guess but I can't figure out how to have a span of 0.5
  |instead of 1 in my graph.
  |Actually, I want to create a plot with x(-2,2) and y(-2,2) and an step of
  |0.5 along the axis.
  |Does somebody can help me ? Is it in par(), axis() or plot() that I have to
  |add something ?
  |
  |Thanks
  |Nolwenn

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Fri Aug 23 17:27:39 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Fri, 23 Aug 2002 17:27:39 +0200 (MEST)
Subject: [R] Is there a sleep, wait, pause function?
In-Reply-To: <Pine.GSO.4.10.10208231117180.23295-100000@speed>
Message-ID: <Pine.GSO.4.10.10208231723490.28281-100000@speed>

Is there a (cross-platform) sleep/pause/wait function in [R]? 

I want to poll a file once in a while to see if and external process is
ready. Between each poll [R] should consume as little CPU as possible.

Thanks

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences 
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
+46 46 2229611 (off), +46 708 909208 (cell), +46 46 2224623 (fax)
h b @ m a t h s . l t h . s e, http://www.maths.lth.se/~hb/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Aug 23 17:34:52 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Aug 2002 17:34:52 +0200
Subject: [R] Is there a sleep, wait, pause function?
In-Reply-To: <Pine.GSO.4.10.10208231723490.28281-100000@speed>
References: <Pine.GSO.4.10.10208231723490.28281-100000@speed>
Message-ID: <x2vg61mvvn.fsf@biostat.ku.dk>

Henrik Bengtsson <hb at maths.lth.se> writes:

> Is there a (cross-platform) sleep/pause/wait function in [R]? 
> 
> I want to poll a file once in a while to see if and external process is
> ready. Between each poll [R] should consume as little CPU as possible.

Sys.sleep()

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tplate at blackmesacapital.com  Fri Aug 23 17:48:37 2002
From: tplate at blackmesacapital.com (Tony Plate)
Date: Fri, 23 Aug 2002 09:48:37 -0600
Subject: [R] row.names - problem with vers. 1.4.1
In-Reply-To: <24455.1030086431@www12.gmx.net>
Message-ID: <5.1.0.14.2.20020823091436.046f8660@mailhost.blackmesacapital.com>

This should work:

prices.raw<-read.table(paste(path,"prices",date,".txt",sep=""),row.names=NULL,header=T)
prices <- as.matrix(prices.raw[,-1])
dimnames(prices)[[1]] <- as.chararacter(prices.raw[,1])

Your problem comes because you are telling R to use the first column of the 
table as row names, but as R is replying to you, it doesn't like that 
because they're not unique.  So the simple solution is to let R generate 
it's own row names and treat the row names in the file as the first column 
of data.  Then convert the rest of the data frame to a matrix, and finally, 
use the first column of the data frame as the row names of the 
matrix.  (Matrices can have non-unique dimnames).

Are you sure you can use read.table in R1.5.1 to read a file with duplicate 
row names?  I can't:

 > 
sink("clipboard");print(matrix(1:6,ncol=2,dimnames=list(c("A","B","A"),c("x","y")))); 
sink()
 > readLines("clipboard")
[1] "  x y" "A 1 4" "B 2 5" "A 3 6"
 > prices.raw <- read.table("clipboard", row.names=1)
Error in "row.names<-.data.frame"(*tmp*, value = row.names) :
         duplicate row.names are not allowed
 > prices.raw <- read.table("clipboard", row.names=NULL)
 > prices.raw
   row.names x y
1         A 1 4
2         B 2 5
3         A 3 6
 > prices <- as.matrix(prices.raw[,-1])
 > dimnames(prices)[[1]] <- as.character(prices.raw[,1])
 > prices
   x y
A 1 4
B 2 5
A 3 6
 > version
          _
platform i386-pc-mingw32
arch     i386
os       mingw32
system   i386, mingw32
status
major    1
minor    5.1
year     2002
month    06
day      17
language R

hope this helps,

-- Tony Plate

At 09:07 AM 8/23/2002 +0200, Herr.Alfred at gmx.net wrote:
>Hi,
>
>need a little help:
>
>I want to handle a file with a first column like this:
>...
>27.10.98
>28.10.98
>29.10.98
>...
>
>In vers. 1.5.1 I can use a statement like:
>
># load daily
>prices
>prices<-as.matrix(read.table(paste(path,"prices",date,".txt",sep=""),row.names=1,header=T)) 
>
>
>In ves. 1.4.1 R generates an ERROR:
>Error in "row.names<-.data.frame"(*tmp*, value = row.names) :
>         duplicate row.names are not allowed
>
>For a reason too complex to explain I HAVE TO use 1.4.1! Can anyone tell me
>how to solve this problem in 1.4.1?
>
>TIA,
>Alfred.
>
>--
>
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From schneid at giub.unibe.ch  Fri Aug 23 17:46:37 2002
From: schneid at giub.unibe.ch (Nicolas Schneider)
Date: Fri, 23 Aug 2002 17:46:37 +0200 (MEST)
Subject: [R] y-axis with "break"
Message-ID: <200208231545.RAA22403@giub.unibe.ch>

Dear R-users

I would like to draw a barplot with a special y-axis. Most of my data points are 
in the range from -50 to 50, apart from one value that is 550. I would now like 
to have a y-axis from -50 to 50, then a "break" and the "rest" of the y-axis, 
let's say from 500 to 600. In order to make clear what I'm trying to do, I 
attached a figure.

Is it possible to do this in R?

Thanks for your help

Nick


_____________________________________________________________

Nicolas Schneider, PhD Student
University of Bern
Institute of Geography
Climatology & Meteorology
Hallerstrasse 12
CH-3012 Bern

phone +41-31-631-8542
fax   +41-31-631-8511
email schneid at giub.unibe.ch
-------------- next part --------------
A non-text attachment was scrubbed...
Name: axis.jpg
Type: image/jpeg
Size: 18949 bytes
Desc: axis.jpg
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020823/ea154142/axis.jpg

From tsvetan.stoyanov at mirant.com  Fri Aug 23 18:29:09 2002
From: tsvetan.stoyanov at mirant.com (Stoyanov, Tsvetan)
Date: Fri, 23 Aug 2002 12:29:09 -0400
Subject: [R] No ESS process is associated with this buffer now
Message-ID: <6836373FB0BED5498DDE3C8B15B5F09B02848104@atles11.southernenergy.com>


I use R with ESS in Emacs 21.2.1 on Windows NT. When I edit  a function with
C-c C-d and then
try to load it back with C-c C-l, I get the following error. I know I can
use C-c C-b but anyway, it is a bug. 
Any ideas?

Thanks,
Tsvetan

Debugger entered--Lisp error: (error "No ESS process is associated with this
buffer now.")
  signal(error ("No ESS process is associated with this buffer now."))
  error("No ESS process is associated with this buffer now.")
  get-ess-process(nil)
  ess-get-process-variable(nil inferior-ess-ddeclient)
  ess-ddeclient-p()
  ess-command("search()\n" #<buffer  *search-list*>)
  ess-search-list()
  ess-object-modtime(#("myfun" 0 5 (face font-lock-function-name-face
fontified t)))
  ess-check-modifications()
  ess-load-file-original("h:/tmp/StoyanovT.myfun.R")
  ess-load-file("h:/tmp/StoyanovT.myfun.R")
* call-interactively(ess-load-file)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Aug 23 18:37:22 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 23 Aug 2002 18:37:22 +0200
Subject: [R] y-axis with "break"
References: <200208231545.RAA22403@giub.unibe.ch>
Message-ID: <3D6664C2.3B32EA95@statistik.uni-dortmund.de>



Nicolas Schneider wrote:
> 
> Dear R-users
> 
> I would like to draw a barplot with a special y-axis. Most of my data points are
> in the range from -50 to 50, apart from one value that is 550. I would now like
> to have a y-axis from -50 to 50, then a "break" and the "rest" of the y-axis,
> let's say from 500 to 600. In order to make clear what I'm trying to do, I
> attached a figure.
> 
> Is it possible to do this in R?

Not really, I think. What you can do, e.g., is that ugly trick along the
following lines:

 barplot(c(-50, 50, 450 - 300, 50), ylim=c(-150, 200), yaxt="n")
 axis(2, seq(-150, 200, 50), labels = c(seq(-150, 100, 50), 450, 500))
 lines(rep(par("usr")[1], 2), c(100, 150), col="white", lty="dashed")

Better solutions are welcome!

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Aug 23 18:58:09 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Fri, 23 Aug 2002 12:58:09 -0400 (EDT)
Subject: [R] y-axis with "break"
In-Reply-To: <3D6664C2.3B32EA95@statistik.uni-dortmund.de>
Message-ID: <Pine.LNX.4.44.0208231257220.4152-100000@bolker.zoo.ufl.edu>


  I don't have anything better than Uwe suggested, but I did write an 
"axis.break()" function at one point that inserts the actual break in the 
axis -- let me know if you want it.

  Ben Bolker

On Fri, 23 Aug 2002, Uwe Ligges wrote:

> 
> 
> Nicolas Schneider wrote:
> > 
> > Dear R-users
> > 
> > I would like to draw a barplot with a special y-axis. Most of my data points are
> > in the range from -50 to 50, apart from one value that is 550. I would now like
> > to have a y-axis from -50 to 50, then a "break" and the "rest" of the y-axis,
> > let's say from 500 to 600. In order to make clear what I'm trying to do, I
> > attached a figure.
> > 
> > Is it possible to do this in R?
> 
> Not really, I think. What you can do, e.g., is that ugly trick along the
> following lines:
> 
>  barplot(c(-50, 50, 450 - 300, 50), ylim=c(-150, 200), yaxt="n")
>  axis(2, seq(-150, 200, 50), labels = c(seq(-150, 100, 50), 450, 500))
>  lines(rep(par("usr")[1], 2), c(100, 150), col="white", lty="dashed")
> 
> Better solutions are welcome!
> 
> Uwe Ligges
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hoppe at sitewaerts.de  Fri Aug 23 19:09:50 2002
From: hoppe at sitewaerts.de (Daniel Hoppe)
Date: Fri, 23 Aug 2002 19:09:50 +0200
Subject: [R] Surprising result from integrate
Message-ID: <903A7281CDB7D4118A5000500450BB088EB8B9@samoa.sitewaerts>

Hi all,

sorry for this extensive question, but I think that I'm missing something
fundamental.

I stepped into a surprising result with the integrate function and I would
be glad if someone could put some light onto this. I try to integrate over
an s-shaped growth-function. The results from this calculation seem to be
correct for small values of t. Just for fun I tried some large values and
suddenly one part of the formula got close to zero (i2, it is not expected
to do this). I tried different numbers and found that for t=upper=59954
everything is fine and for t=upper=59955 integrate wouldn't return the
correct result anymore (see below). I'm now wondering if I'm misinterpreting
how integrate is supposed to be used. Details can be found below.

Thanks for your thoughts and best regards,

Daniel


This is the output of the function calls:

> bergernasr.clv.continuous(10)
112.1139 with absolute error < 6.2e-13
111.1077 with absolute error < 6.2e-13
[1] 243.2216

> bergernasr.clv.continuous(59954)
112.1139 with absolute error < 6.2e-13
150.2340 with absolute error < 3e-07
[1] 282.3478

> bergernasr.clv.continuous(59955)
112.1139 with absolute error < 6.2e-13
6.137708e-05 with absolute error < 0.00012
[1] 132.1139

These are the functions required to see this effect.

bergernasr.clv.continuous.f1 <- function(t, h, v, ret, d)
{

    (h*t^2 + v) * (ret / ( 1 + d ))^t
}

bergernasr.clv.continuous.f2 <- function (t, g,h, v, ret, N, d)
{
    (h*g^2 + v + N*(1-exp(-t+g))) * (ret / ( 1 + d ))^t
}

bergernasr.clv.continuous <- function(t)
{
    g <- 5         # Wendepunkt
    v <- 20        # Sockelbetrag
    h <- 4         # Umsatzwachstum
    N <- 80        # Wachstum ab Wendepunkt
    r <- .9        # Retention rate
    d <- .2        # Discount rate

     i1 <- integrate(bergernasr.clv.continuous.f1, h=h,v=v,ret=r,d=d,
lower=0, upper=5)
     i2 <- integrate(bergernasr.clv.continuous.f2, g=g, h=h,v=v,ret=r,N=N,
d=d, lower=g, upper=t)
     print(i1)
     print(i2)
     return (
        v 
        + i1[[1]] 
        + i2[[1]]
     )
}

For better readability the function in Mathtype / Tex format:

% MathType!MTEF!2!1!+-
% feaafaart1ev1aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
% hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr
% 4rNCHbGeaGqiVCI8FfYJH8YrFfeuY-Hhbbf9v8qqaqFr0xc9pk0xbb
% a9q8WqFfeaY-biLkVcLq-JHqpepeea0-as0Fb9pgeaYRXxe9vr0-vr
% 0-vqpWqaaeaabiGaciaacaqabeaadaqaaqaaaOqaaiaadoeacaWGmb
% GaamOvaiabg2da9iaadAhacqGHRaWkdaWdXbqaamaabmaabaGaamiA
% aiaadshadaahaaWcbeqaaiaaikdaaaGccqGHRaWkcaWG2baacaGLOa
% GaayzkaaGaeyyXIC9aaeWaaeaadaWcaaqaaiaadkhaaeaacaaIXaGa
% ey4kaSIaamizaaaaaiaawIcacaGLPaaadaahaaWcbeqaaiaadshaaa
% GccaWGKbWaaeWaaeaacaWG0baacaGLOaGaayzkaaGaey4kaSYaa8qC
% aeaadaqadaqaaiaadIgacaWGNbWaaWbaaSqabeaacaaIYaaaaOGaey
% 4kaSIaamODaiabgUcaRiaad6eacqGHflY1caGGOaGaaGymaiabgkHi
% TiaadwgadaahaaWcbeqaaiabgkHiTiaadshacqGHRaWkcaWGNbaaaO
% GaaiykaaGaayjkaiaawMcaaaWcbaGaam4zaaqaaiaad6gaa0Gaey4k
% IipakiabgwSixpaabmaabaWaaSaaaeaacaWGYbaabaGaaGymaiabgU
% caRiaadsgaaaaacaGLOaGaayzkaaWaaWbaaSqabeaacaWG0baaaOGa
% amizamaabmaabaGaamiDaaGaayjkaiaawMcaaaWcbaGaaGimaaqaai
% aadEgaa0Gaey4kIipaaaa!74B6!
\[
CLV = v + \int\limits_0^g {\left( {ht^2  + v} \right) \cdot \left(
{\frac{r}{{1 + d}}} \right)^t d\left( t \right) + \int\limits_g^n
{\left( {hg^2  + v + N \cdot (1 - e^{ - t + g} )} \right)}  \cdot
\left( {\frac{r}{{1 + d}}} \right)^t d\left( t \right)}
\]

<<<<<<<<<<<<<<<<<<<<<<<<<<<
sitewaerts GmbH
Hebelstra?e 15
D-76133 Karlsruhe

Tel: +49 (721) 920 918 0
Fax: +49 (721) 920 918 29
http://www.sitewaerts.de
>>>>>>>>>>>>>>>>>>>>>>>>>>>


Der Inhalt dieser E-Mail ist vertraulich und ausschlie?lich f?r den
bezeichneten Adressaten bestimmt. Wenn Sie nicht der vorgesehene Adressat
dieser E-Mail oder dessen Vertreter sein sollten, so beachten Sie bitte, da?
jede Form der Kenntnisnahme, Ver?ffentlichung, Vervielf?ltigung oder
Weitergabe des Inhalts dieser E-Mail unzul?ssig ist. Wir bitten Sie, sich in
diesem Fall mit dem Absender der E-Mail in Verbindung zu setzen. Aussagen
gegen?ber dem Adressaten unterliegen den Regelungen des zugrundeliegenden
Angebotes bzw. Auftrags, insbesondere den Allgemeinen Auftragsbedingungen
und der individuellen Haftungsvereinbarung. Der Inhalt der E-Mail ist nur
rechtsverbindlich, wenn er unsererseits durch einen Brief entsprechend
best?tigt wird.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Fri Aug 23 19:39:35 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Fri, 23 Aug 2002 13:39:35 -0400
Subject: [R] y-axis with "break"
In-Reply-To: <200208231545.RAA22403@giub.unibe.ch>
References: <200208231545.RAA22403@giub.unibe.ch>
Message-ID: <20020823133935.447ffcbe.fharrell@virginia.edu>

This sort of solution has been discussed in Bill Cleveland's "The Elements of Graphing Data" (Hobart Press), and not in a very positive light I must add.

Frank Harrell

On Fri, 23 Aug 2002 17:46:37 +0200 (MEST)
Nicolas Schneider <schneid at giub.unibe.ch> wrote:

> Dear R-users
> 
> I would like to draw a barplot with a special y-axis. Most of my data points are 
> in the range from -50 to 50, apart from one value that is 550. I would now like 
> to have a y-axis from -50 to 50, then a "break" and the "rest" of the y-axis, 
> let's say from 500 to 600. In order to make clear what I'm trying to do, I 
> attached a figure.
> 
> Is it possible to do this in R?
> 
> Thanks for your help
> 
> Nick
> 
> 
> _____________________________________________________________
> 
> Nicolas Schneider, PhD Student
> University of Bern
> Institute of Geography
> Climatology & Meteorology
> Hallerstrasse 12
> CH-3012 Bern
> 
> phone +41-31-631-8542
> fax   +41-31-631-8511
> email schneid at giub.unibe.ch
> 


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Fri Aug 23 19:23:36 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 23 Aug 2002 10:23:36 -0700
Subject: [R] No ESS process is associated with this buffer now
In-Reply-To: <6836373FB0BED5498DDE3C8B15B5F09B02848104@atles11.southernenergy.com>
References: <6836373FB0BED5498DDE3C8B15B5F09B02848104@atles11.southernenergy.com>
Message-ID: <87lm6x32w7.fsf@jeeves.blindglobe.net>


And why are you sending an ESS bug to the R lists?  Please send it to
the ESS lists.

>>>>> "tsvetan" == Tsvetan Stoyanov <Stoyanov> writes:

    tsvetan> I use R with ESS in Emacs 21.2.1 on Windows NT. When I edit  a function with
    tsvetan> C-c C-d and then
    tsvetan> try to load it back with C-c C-l, I get the following error. I know I can
    tsvetan> use C-c C-b but anyway, it is a bug. 
    tsvetan> Any ideas?

    tsvetan> Thanks,
    tsvetan> Tsvetan

    tsvetan> Debugger entered--Lisp error: (error "No ESS process is associated with this
    tsvetan> buffer now.")
    tsvetan>   signal(error ("No ESS process is associated with this buffer now."))
    tsvetan>   error("No ESS process is associated with this buffer now.")
    tsvetan>   get-ess-process(nil)
    tsvetan>   ess-get-process-variable(nil inferior-ess-ddeclient)
    tsvetan>   ess-ddeclient-p()
    tsvetan>   ess-command("search()\n" #<buffer  *search-list*>)
    tsvetan>   ess-search-list()
    tsvetan>   ess-object-modtime(#("myfun" 0 5 (face font-lock-function-name-face
    tsvetan> fontified t)))
    tsvetan>   ess-check-modifications()
    tsvetan>   ess-load-file-original("h:/tmp/StoyanovT.myfun.R")
    tsvetan>   ess-load-file("h:/tmp/StoyanovT.myfun.R")
    tsvetan> * call-interactively(ess-load-file)
    tsvetan> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    tsvetan> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
    tsvetan> Send "info", "help", or "[un]subscribe"
    tsvetan> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
    tsvetan> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 23 20:07:03 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 23 Aug 2002 19:07:03 +0100 (BST)
Subject: [R] Is there a sleep, wait, pause function?
In-Reply-To: <Pine.GSO.4.10.10208231723490.28281-100000@speed>
Message-ID: <Pine.LNX.4.31.0208231904390.2609-100000@gannet.stats>

?Sys.sleep ...

> help.search("sleep")
Help files with alias or title matching `sleep',
type 'help(FOO, package = PKG)' to inspect entry 'FOO(PKG) TITLE':

sleep(base)             Students' Sleep Data
sweep(base)             Sweep out Array Summaries
Sys.sleep(base)         Suspend Execution for a Time Interval



On Fri, 23 Aug 2002, Henrik Bengtsson wrote:

> Is there a (cross-platform) sleep/pause/wait function in [R]?
>
> I want to poll a file once in a while to see if and external process is
> ready. Between each poll [R] should consume as little CPU as possible.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Aug 23 20:08:46 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 23 Aug 2002 11:08:46 -0700 (PDT)
Subject: [R] Surprising result from integrate
In-Reply-To: <903A7281CDB7D4118A5000500450BB088EB8B9@samoa.sitewaerts>
Message-ID: <Pine.A41.4.44.0208231058440.141772-100000@homer20.u.washington.edu>

On Fri, 23 Aug 2002, Daniel Hoppe wrote:

> Hi all,
>
> sorry for this extensive question, but I think that I'm missing something
> fundamental.
>
> I stepped into a surprising result with the integrate function and I would
> be glad if someone could put some light onto this. I try to integrate over
> an s-shaped growth-function. The results from this calculation seem to be
> correct for small values of t. Just for fun I tried some large values and
> suddenly one part of the formula got close to zero (i2, it is not expected
> to do this). I tried different numbers and found that for t=upper=59954
> everything is fine and for t=upper=59955 integrate wouldn't return the
> correct result anymore (see below). I'm now wondering if I'm misinterpreting
> how integrate is supposed to be used. Details can be found below.
>


The problem is that  f2 is nearly zero for most of its range, eg for
t=100, it is 6.4e-11. The integrate() function only evaluates the function
at finitely many places and at some point it gets zero at all these points
and doesn't notice the tiny region where f2 is non-zero.

If you really want to integrate out to infinity then say so:
 > bergernasr.clv.continuous(Inf)
 112.1139 with absolute error < 1.2e-12
 150.2340 with absolute error < 0.0010
 [1] 282.3478
and it will work.

You can see a simpler version of the same thing with dnorm:
> integrate(dnorm,0,2)
0.4772499 with absolute error < 5.3e-15
> integrate(dnorm,0,20)
0.5 with absolute error < 3.7e-05
> integrate(dnorm,0,200)
0.5 with absolute error < 1.6e-07
> integrate(dnorm,0,2000)
0.5 with absolute error < 4.4e-06
> integrate(dnorm,0,20000)
0 with absolute error < 0


	-thomas



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Aug 23 20:13:58 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 23 Aug 2002 20:13:58 +0200
Subject: [R] axis() plot() - step
In-Reply-To: <Pine.LNX.4.44.0208231709040.3644-100000@localhost.localdomain>
References: <NOEOLHEEMLOCABODHCFCAEKFCAAA.nolwenn.lemeur@nantes.inserm.fr>
	<Pine.LNX.4.44.0208231709040.3644-100000@localhost.localdomain>
Message-ID: <15718.31590.713806.586923@gargle.gargle.HOWL>

>>>>> "Ott" == Ott Toomet <siim at obs.ee>
>>>>>     on Fri, 23 Aug 2002 17:11:16 +0200 (CEST) writes:

    Ott> Hi,
    Ott> I think the following example would help:

    Ott> plot(-2:2,-2:2, xaxt="n", yaxt="n")
    Ott> axis(1, at=seq(-2,2,by=0.5))
    Ott> axis(2, at=seq(-2,2,by=0.5))

    Ott> You have to specify *axt="n" in order to not draw them
    Ott> initially, and then draw your own axis using
    Ott> at=c(whatever values you want the tickmarks to be drawn).

yes, if you want to be very explicit.
Another option would be to just say 
``I want more ticks, but R should still do them automatically''.
This is the case for using par(lab=)  something which I prefer
to completely specifying things.
Here :

op <- par(lab = c(10,10,7))
plot(-2:2, -2:2)
par(op) ## resetting to default par("lab")


Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rvaradha at jhsph.edu  Fri Aug 23 21:03:03 2002
From: rvaradha at jhsph.edu (Ravi Varadhan)
Date: Fri, 23 Aug 2002 15:03:03 -0400
Subject: [R] Surprising result from integrate
References: <903A7281CDB7D4118A5000500450BB088EB8B9@samoa.sitewaerts>
Message-ID: <000001c24ad7$d86d48e0$1158120a@BSTE3005>

The problem is with the relative tolerance (rel.tol).  The default is the
4th root of the machine epsilon, which works out to be roughly about 1.e-04.
If you lower this to, say,1e-07, then you will get the right results.

Ravi.

----- Original Message -----
From: "Daniel Hoppe" <hoppe at sitewaerts.de>
To: <r-help at stat.math.ethz.ch>
Sent: Friday, August 23, 2002 1:09 PM
Subject: [R] Surprising result from integrate


> Hi all,
>
> sorry for this extensive question, but I think that I'm missing something
> fundamental.
>
> I stepped into a surprising result with the integrate function and I would
> be glad if someone could put some light onto this. I try to integrate over
> an s-shaped growth-function. The results from this calculation seem to be
> correct for small values of t. Just for fun I tried some large values and
> suddenly one part of the formula got close to zero (i2, it is not expected
> to do this). I tried different numbers and found that for t=upper=59954
> everything is fine and for t=upper=59955 integrate wouldn't return the
> correct result anymore (see below). I'm now wondering if I'm
misinterpreting
> how integrate is supposed to be used. Details can be found below.
>
> Thanks for your thoughts and best regards,
>
> Daniel
>
>
> This is the output of the function calls:
>
> > bergernasr.clv.continuous(10)
> 112.1139 with absolute error < 6.2e-13
> 111.1077 with absolute error < 6.2e-13
> [1] 243.2216
>
> > bergernasr.clv.continuous(59954)
> 112.1139 with absolute error < 6.2e-13
> 150.2340 with absolute error < 3e-07
> [1] 282.3478
>
> > bergernasr.clv.continuous(59955)
> 112.1139 with absolute error < 6.2e-13
> 6.137708e-05 with absolute error < 0.00012
> [1] 132.1139
>
> These are the functions required to see this effect.
>
> bergernasr.clv.continuous.f1 <- function(t, h, v, ret, d)
> {
>
>     (h*t^2 + v) * (ret / ( 1 + d ))^t
> }
>
> bergernasr.clv.continuous.f2 <- function (t, g,h, v, ret, N, d)
> {
>     (h*g^2 + v + N*(1-exp(-t+g))) * (ret / ( 1 + d ))^t
> }
>
> bergernasr.clv.continuous <- function(t)
> {
>     g <- 5         # Wendepunkt
>     v <- 20        # Sockelbetrag
>     h <- 4         # Umsatzwachstum
>     N <- 80        # Wachstum ab Wendepunkt
>     r <- .9        # Retention rate
>     d <- .2        # Discount rate
>
>      i1 <- integrate(bergernasr.clv.continuous.f1, h=h,v=v,ret=r,d=d,
> lower=0, upper=5)
>      i2 <- integrate(bergernasr.clv.continuous.f2, g=g, h=h,v=v,ret=r,N=N,
> d=d, lower=g, upper=t)
>      print(i1)
>      print(i2)
>      return (
>         v
>         + i1[[1]]
>         + i2[[1]]
>      )
> }
>
> For better readability the function in Mathtype / Tex format:
>
> % MathType!MTEF!2!1!+-
> % feaafaart1ev1aaatCvAUfeBSjuyZL2yd9gzLbvyNv2CaerbuLwBLn
> % hiov2DGi1BTfMBaeXatLxBI9gBaerbd9wDYLwzYbItLDharqqtubsr
> % 4rNCHbGeaGqiVCI8FfYJH8YrFfeuY-Hhbbf9v8qqaqFr0xc9pk0xbb
> % a9q8WqFfeaY-biLkVcLq-JHqpepeea0-as0Fb9pgeaYRXxe9vr0-vr
> % 0-vqpWqaaeaabiGaciaacaqabeaadaqaaqaaaOqaaiaadoeacaWGmb
> % GaamOvaiabg2da9iaadAhacqGHRaWkdaWdXbqaamaabmaabaGaamiA
> % aiaadshadaahaaWcbeqaaiaaikdaaaGccqGHRaWkcaWG2baacaGLOa
> % GaayzkaaGaeyyXIC9aaeWaaeaadaWcaaqaaiaadkhaaeaacaaIXaGa
> % ey4kaSIaamizaaaaaiaawIcacaGLPaaadaahaaWcbeqaaiaadshaaa
> % GccaWGKbWaaeWaaeaacaWG0baacaGLOaGaayzkaaGaey4kaSYaa8qC
> % aeaadaqadaqaaiaadIgacaWGNbWaaWbaaSqabeaacaaIYaaaaOGaey
> % 4kaSIaamODaiabgUcaRiaad6eacqGHflY1caGGOaGaaGymaiabgkHi
> % TiaadwgadaahaaWcbeqaaiabgkHiTiaadshacqGHRaWkcaWGNbaaaO
> % GaaiykaaGaayjkaiaawMcaaaWcbaGaam4zaaqaaiaad6gaa0Gaey4k
> % IipakiabgwSixpaabmaabaWaaSaaaeaacaWGYbaabaGaaGymaiabgU
> % caRiaadsgaaaaacaGLOaGaayzkaaWaaWbaaSqabeaacaWG0baaaOGa
> % amizamaabmaabaGaamiDaaGaayjkaiaawMcaaaWcbaGaaGimaaqaai
> % aadEgaa0Gaey4kIipaaaa!74B6!
> \[
> CLV = v + \int\limits_0^g {\left( {ht^2  + v} \right) \cdot \left(
> {\frac{r}{{1 + d}}} \right)^t d\left( t \right) + \int\limits_g^n
> {\left( {hg^2  + v + N \cdot (1 - e^{ - t + g} )} \right)}  \cdot
> \left( {\frac{r}{{1 + d}}} \right)^t d\left( t \right)}
> \]
>
> <<<<<<<<<<<<<<<<<<<<<<<<<<<
> sitewaerts GmbH
> Hebelstra?e 15
> D-76133 Karlsruhe
>
> Tel: +49 (721) 920 918 0
> Fax: +49 (721) 920 918 29
> http://www.sitewaerts.de
> >>>>>>>>>>>>>>>>>>>>>>>>>>>
>
>
> Der Inhalt dieser E-Mail ist vertraulich und ausschlie?lich f?r den
> bezeichneten Adressaten bestimmt. Wenn Sie nicht der vorgesehene Adressat
> dieser E-Mail oder dessen Vertreter sein sollten, so beachten Sie bitte,
da?
> jede Form der Kenntnisnahme, Ver?ffentlichung, Vervielf?ltigung oder
> Weitergabe des Inhalts dieser E-Mail unzul?ssig ist. Wir bitten Sie, sich
in
> diesem Fall mit dem Absender der E-Mail in Verbindung zu setzen. Aussagen
> gegen?ber dem Adressaten unterliegen den Regelungen des zugrundeliegenden
> Angebotes bzw. Auftrags, insbesondere den Allgemeinen Auftragsbedingungen
> und der individuellen Haftungsvereinbarung. Der Inhalt der E-Mail ist nur
> rechtsverbindlich, wenn er unsererseits durch einen Brief entsprechend
> best?tigt wird.
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Lingyun.Shi at fimat.com  Fri Aug 23 20:50:18 2002
From: Lingyun.Shi at fimat.com (Lingyun Shi)
Date: Fri, 23 Aug 2002 13:50:18 -0500
Subject: [R] R/SJava/ROracle installation problem
Message-ID: <OFECC90072.A2BB1496-ON86256C1E.0066D60C@fimat.com>

Hi,
I had problem during SJava and ROracle installation. I use "R CMD INSTALL
-c SJava_0.65-0.tar.gz" command to install SJava pakage. After
installation, I start R session and type library(SJava), error happened as:

> library(SJava)
Error in dyn.load(x, as.logical(local), as.logical(now)) :
        unable to load shared library
"/usr/local/lib/R/library/SJava/libs/SJava.so":
  ld.so.1: /usr/local/lib/R/bin/R.bin: fatal: libRSNativeJava.so: open
failed: No such file or directory
Error in library(SJava) : .First.lib failed

Error also happened after I install ROracle package using command "R CMD
INSTALL --configure-args='--with-oracle=9' ROracle_0.3-3.tar.gz":

> library(ROracle)
Error in dyn.load(x, as.logical(local), as.logical(now)) :
        unable to load shared library
"/usr/local/lib/R/library/ROracle/libs/ROracle.so":
  ld.so.1: /usr/local/lib/R/bin/R.bin: fatal: relocation error: file
/usr/local/lib/R/library/ROracle/libs/ROracle.so: symbol sqlcxt: referenced
symbol not found
Error in library(ROracle) : .First.lib failed

Does anyone know why this happened? how to solve this? Many thanks!

Kate

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dj at research.bell-labs.com  Fri Aug 23 21:31:26 2002
From: dj at research.bell-labs.com (David James)
Date: Fri, 23 Aug 2002 15:31:26 -0400
Subject: [R] R/SJava/ROracle installation problem
In-Reply-To: <OFECC90072.A2BB1496-ON86256C1E.0066D60C@fimat.com>; from Lingyun.Shi@fimat.com on Fri, Aug 23, 2002 at 01:50:18PM -0500
References: <OFECC90072.A2BB1496-ON86256C1E.0066D60C@fimat.com>
Message-ID: <20020823153126.B21451@jessie.research.bell-labs.com>

Hi,

In the case of ROracle it seems you don't have access to
Oracle's runtime shared libraries (perhaps you need to include
$ORACLE_HOME/lib in your LD_LIBRARY_PATH?)  You may want to (re?)read
the files "README" and "INSTALL" in the source package.

Lingyun Shi wrote:
> Hi,
> I had problem during SJava and ROracle installation. I use "R CMD INSTALL
> -c SJava_0.65-0.tar.gz" command to install SJava pakage. After
> installation, I start R session and type library(SJava), error happened as:
> 
> > library(SJava)
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>         unable to load shared library
> "/usr/local/lib/R/library/SJava/libs/SJava.so":
>   ld.so.1: /usr/local/lib/R/bin/R.bin: fatal: libRSNativeJava.so: open
> failed: No such file or directory
> Error in library(SJava) : .First.lib failed
> 
> Error also happened after I install ROracle package using command "R CMD
> INSTALL --configure-args='--with-oracle=9' ROracle_0.3-3.tar.gz":
> 
> > library(ROracle)
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>         unable to load shared library
> "/usr/local/lib/R/library/ROracle/libs/ROracle.so":
>   ld.so.1: /usr/local/lib/R/bin/R.bin: fatal: relocation error: file
> /usr/local/lib/R/library/ROracle/libs/ROracle.so: symbol sqlcxt: referenced
> symbol not found
> Error in library(ROracle) : .First.lib failed
> 
> Does anyone know why this happened? how to solve this? Many thanks!
> 
> Kate
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From joshi at engr.orst.edu  Fri Aug 23 21:50:23 2002
From: joshi at engr.orst.edu (Saket Joshi)
Date: Fri, 23 Aug 2002 12:50:23 -0700 (PDT)
Subject: [R] why delete.response?
Message-ID: <Pine.GSO.4.44.0208231242300.4436-100000@flop.ENGR.ORST.EDU>

Hi all,

I am running R1.5.0 under unix.

I recently used the function 'predict.tree' to make predictions with a
tree object and a dataframe of numeric items. The predict.tree internally,
calls a function 'delete.response'.

When I removed this function call from the source code of predict.tree, it
ran 10 times faster without any differences in the result obtained.
The documentation for delete.response says that this function is used for
deleting the response variable from the dataset. However the documentation
for the predict.tree function says that the response variable is ignored
during prediction.

Could someone tell me why the function 'predict.tree' calls
'delete.response'?

Thanks in advance,
-Saket.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Aug 23 23:21:04 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 23 Aug 2002 14:21:04 -0700 (PDT)
Subject: [R] why delete.response?
In-Reply-To: <Pine.GSO.4.44.0208231242300.4436-100000@flop.ENGR.ORST.EDU>
Message-ID: <Pine.A41.4.44.0208231410020.141772-100000@homer20.u.washington.edu>

On Fri, 23 Aug 2002, Saket Joshi wrote:

> Hi all,
>
> I am running R1.5.0 under unix.
>
> I recently used the function 'predict.tree' to make predictions with a
> tree object and a dataframe of numeric items. The predict.tree internally,
> calls a function 'delete.response'.
>
> When I removed this function call from the source code of predict.tree, it
> ran 10 times faster without any differences in the result obtained.
> The documentation for delete.response says that this function is used for
> deleting the response variable from the dataset. However the documentation
> for the predict.tree function says that the response variable is ignored
> during prediction.
>
> Could someone tell me why the function 'predict.tree' calls
> 'delete.response'?

In order to ignore the response.

If you remove the call to delete.response() you will not be able to
predict on a new data set that does not have the response variable
defined. Eg, following example(predict.tree)
     data(shuttle, package="MASS")
     shuttle.tr <- tree(use ~ ., shuttle, subset=1:253,
                        mindev=1e-6, minsize=2)
     shuttle.tr
     shuttle1 <- shuttle[254:256, ]  # 3 missing cases
     predict(shuttle.tr, shuttle1)

     shuttle2<-shutlle1[,-7]  #drop response variable
     ## this doesn't work in your version
     predict(shuttle.tr, shuttle2)


It's very surprising that delete.response is that slow. I haven't seen it
take more than a few hundredths of a second

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xiaopinj at biostat.umn.edu  Sat Aug 24 04:19:51 2002
From: xiaopinj at biostat.umn.edu (Xiaoping Jin)
Date: Fri, 23 Aug 2002 21:19:51 -0500 (CDT)
Subject: [R] link my own C library using Rcmd SHLIB
Message-ID: <Pine.GSO.4.44.0208232118100.11524-100000@smelt.biostat.umn.edu>

Hi All,

I have already used gcc to creat a library, for example, it is called
"test.a", which includes many
c objects.

How to link my main "a.c" function to this library when I used Rcmd SHLIB
to complier my main c program?

I tried "Rcmd SHLIB a.c test.a". It does not work this way. Does anyone
have idea about this?

Thanks,

Xiaoping



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From isaia at econ.unito.it  Sat Aug 24 05:12:59 2002
From: isaia at econ.unito.it (E. D. Isaia)
Date: Sat, 24 Aug 2002 05:12:59 +0200
Subject: [R] plot and bg
References: <3D61E829.6000908@inrialpes.fr>
Message-ID: <3D66F9BB.9020207@econ.unito.it>

If it helps you

x<-runif(100,10,20)
y<-2*x+rnorm(length(x),0,1)
xticks<-pretty(x)
yticks<-pretty(y)

par(bg="gray")
coord <- par("usr")
plot(x, type="n",axes=FALSE,ann=FALSE,xlim=range(xticks),ylim=range(yticks))
rect(coord[1],coord[3],coord [2],coord [4],col="yellow",border="navy")

points(x,y,pch=20,cex=1.5,col="red")
axis(1, col.axis="navy")
axis(2, col.axis="navy")

Best, isaia

Olivier Martin wrote:

> Hi all,
>
> I would like to plot some points and define the bg color of my graphics.
> But the bg parameter set is defined for the. whole graphic.
> In fact, i would like to use something like :
>
> box(bg=gray(0.9)).
>
> So, the background  concerns only the plot region  and not the main 
> title, the x title and the y title.
>
> The option col for the function box() concerns the contour and there 
> is no option for the background.
>
> Regards,
>

-- 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~ Ennio D. Isaia
~ Dep. of Statistics & Mathematics, University of Torino
~ Piazza Arbarello, 8 - 10128 Torino (Italy)
~ Phone: +39 011 670 62 51 ~~ Fax: +39 011 670 62 39
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From isaia at econ.unito.it  Sat Aug 24 05:13:08 2002
From: isaia at econ.unito.it (E. D. Isaia)
Date: Sat, 24 Aug 2002 05:13:08 +0200
Subject: [R] Multi-plot
References: <NEBBLOMPELHOIMFBEMAHCENDCGAA.degiorgi@math.ethz.ch>
Message-ID: <3D66F9C4.8040204@econ.unito.it>

You may use

windows(width=7,height=5)   ## width & height in inches
plot(1:10,col="red")        ## 1st plot
windows(width=7,height=5)   ## width & height in inches
plot(10:1,col="navy")       ## 2nd plot
and so on...

(windows(),X11() or macintosh() depending on the platform)

Best, isaia.


Enrico De Giorgi wrote:

>I'm working with the R-version 1.4.1.
>I've written a function whcih produces 4 plots.
>I would like to create 4 different windows, each of one with one plot.
>Now, all the 4 plots are created in the windows and only the last one
>remains.
>
>
>How can solve this problem?
>
>Regards,
>edg
>
>>-----Messaggio originale-----
>>Da: owner-r-help at stat.math.ethz.ch
>>[mailto:owner-r-help at stat.math.ethz.ch]Per conto di Jim Lemon
>>Inviato: marted?, 20. agosto 2002 14:02
>>A: r-help
>>Oggetto: Re: [R] plot and bg
>>
>>
>>Olivier Martin wrote:
>>
>>>Hi all,
>>>
>>>I would like to plot some points and define the bg color of my graphics.
>>>But the bg parameter set is defined for the. whole graphic.
>>>In fact, i would like to use something like :
>>>
>>>box(bg=gray(0.9)).
>>>
>>>So, the background  concerns only the plot region  and not the main
>>>title, the x title and the y title.
>>>
>>This may not be the easiest way, but...
>>
>>>plot(1:5,type="n")
>>>pd<-par("usr")
>>>rect(pd[1],pd[3],pd[2],pd[4],col="Gray")
>>>par(new=T)
>>>plot(1:5)
>>>
>>Jim
>>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
>>-.-.-.-.-.-.-
>>r-help mailing list -- Read
>>http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>>Send "info", "help", or "[un]subscribe"
>>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
>>_._._._._._._
>>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~ Ennio D. Isaia
~ Dep. of Statistics & Mathematics, University of Torino
~ Piazza Arbarello, 8 - 10128 Torino (Italy)
~ Phone: +39 011 670 62 51 ~~ Fax: +39 011 670 62 39
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Aug 24 07:05:07 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 24 Aug 2002 06:05:07 +0100 (BST)
Subject: [R] why delete.response?
In-Reply-To: <Pine.GSO.4.44.0208231242300.4436-100000@flop.ENGR.ORST.EDU>
Message-ID: <Pine.LNX.4.31.0208240556420.4481-100000@gannet.stats>

On Fri, 23 Aug 2002, Saket Joshi wrote:

> Hi all,
>
> I am running R1.5.0 under unix.
>
> I recently used the function 'predict.tree' to make predictions with a
> tree object and a dataframe of numeric items. The predict.tree internally,
> calls a function 'delete.response'.
>
> When I removed this function call from the source code of predict.tree, it
> ran 10 times faster without any differences in the result obtained.
> The documentation for delete.response says that this function is used for
> deleting the response variable from the dataset. However the documentation
> for the predict.tree function says that the response variable is ignored
> during prediction.
>
> Could someone tell me why the function 'predict.tree' calls
> 'delete.response'?

To make prediction possible without having the response variable in
`newdata'.

Your description of `delete.response' is incorrect: see its help page.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Aug 24 08:03:53 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 24 Aug 2002 07:03:53 +0100 (BST)
Subject: [R] link my own C library using Rcmd SHLIB
In-Reply-To: <Pine.GSO.4.44.0208232118100.11524-100000@smelt.biostat.umn.edu>
Message-ID: <Pine.LNX.4.31.0208240700400.5079-100000@gannet.stats>

On Fri, 23 Aug 2002, Xiaoping Jin wrote:

> Hi All,
>
> I have already used gcc to creat a library, for example, it is called
> "test.a", which includes many
> c objects.
>
> How to link my main "a.c" function to this library when I used Rcmd SHLIB
> to complier my main c program?
>
> I tried "Rcmd SHLIB a.c test.a". It does not work this way. Does anyone
> have idea about this?

Set PKG_LIBS in a file Makevars.win just as you would do when setting up
the sources for an R package (which I think would be the preferred way to
do this).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xiaopinj at biostat.umn.edu  Sat Aug 24 08:32:02 2002
From: xiaopinj at biostat.umn.edu (Xiaoping Jin)
Date: Sat, 24 Aug 2002 01:32:02 -0500 (CDT)
Subject: [R] link my own C library using Rcmd SHLIB
In-Reply-To: <Pine.LNX.4.31.0208240700400.5079-100000@gannet.stats>
Message-ID: <Pine.GSO.4.44.0208240120450.12303-100000@smelt.biostat.umn.edu>

Hi Dr Ripley,

Thank you for your email!
Since I am a beginner on R, Could you tell me a little more, if you have
time?
First, where I can find makevar.win? I only saw "makefile" in my PC.
Second, how to set PKG_LIBS in that file?
I have read manaul agian, if I did something in this file, I can use -l or
-L flags to pass linker, am I right?

By the way, I have read your splus book, there you mentioned gnu complier.
I can use gcc, dllwrap tool. Can I do this way?

Now I am trying to firgure those out. I have some own package ( .a file),
and I want to use them when I use .C function.

Thanks,

 Xiaoping

On Sat, 24 Aug 2002 ripley at stats.ox.ac.uk wrote:

> On Fri, 23 Aug 2002, Xiaoping Jin wrote:
>
> > Hi All,
> >
> > I have already used gcc to creat a library, for example, it is called
> > "test.a", which includes many
> > c objects.
> >
> > How to link my main "a.c" function to this library when I used Rcmd SHLIB
> > to complier my main c program?
> >
> > I tried "Rcmd SHLIB a.c test.a". It does not work this way. Does anyone
> > have idea about this?
>
> Set PKG_LIBS in a file Makevars.win just as you would do when setting up
> the sources for an R package (which I think would be the preferred way to
> do this).
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Aug 24 09:00:02 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sat, 24 Aug 2002 08:00:02 +0100 (BST)
Subject: [R] link my own C library using Rcmd SHLIB
In-Reply-To: <Pine.GSO.4.44.0208240120450.12303-100000@smelt.biostat.umn.edu>
Message-ID: <Pine.LNX.4.31.0208240758310.5138-100000@gannet.stats>

On Sat, 24 Aug 2002, Xiaoping Jin wrote:

> Hi Dr Ripley,
>
> Thank you for your email!
> Since I am a beginner on R, Could you tell me a little more, if you have
> time?
> First, where I can find makevar.win? I only saw "makefile" in my PC.

You create Makevars.win.  See some of the packages for examples.

> Second, how to set PKG_LIBS in that file?
> I have read manaul agian, if I did something in this file, I can use -l or
> -L flags to pass linker, am I right?

Yes.

>
> By the way, I have read your splus book, there you mentioned gnu complier.
> I can use gcc, dllwrap tool. Can I do this way?

Yes, but gcc -shared -o foo.so *,o test.a  is better.

> Now I am trying to firgure those out. I have some own package ( .a file),
> and I want to use them when I use .C function.
>
> Thanks,
>
>  Xiaoping
>
> On Sat, 24 Aug 2002 ripley at stats.ox.ac.uk wrote:
>
> > On Fri, 23 Aug 2002, Xiaoping Jin wrote:
> >
> > > Hi All,
> > >
> > > I have already used gcc to creat a library, for example, it is called
> > > "test.a", which includes many
> > > c objects.
> > >
> > > How to link my main "a.c" function to this library when I used Rcmd SHLIB
> > > to complier my main c program?
> > >
> > > I tried "Rcmd SHLIB a.c test.a". It does not work this way. Does anyone
> > > have idea about this?
> >
> > Set PKG_LIBS in a file Makevars.win just as you would do when setting up
> > the sources for an R package (which I think would be the preferred way to
> > do this).
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
> >
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Sat Aug 24 13:19:57 2002
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Sat, 24 Aug 2002 21:19:57 +1000
Subject: [R] y-axis with "break"
In-Reply-To: <200208231545.RAA22403@giub.unibe.ch>
References: <200208231545.RAA22403@giub.unibe.ch>
Message-ID: <20020824113255.SBNN14568.mta04.mail.mel.aone.net.au@there>

Nicolas Schneider wrote:
> Dear R-users
>
> I would like to draw a barplot with a special y-axis. Most of my data
> points are in the range from -50 to 50, apart from one value that is
> 550. I would now like to have a y-axis from -50 to 50, then a "break"
> and the "rest" of the y-axis, let's say from 500 to 600. In order to
> make clear what I'm trying to do, I attached a figure.
>
> Is it possible to do this in R?
>
There is an axis.break() function in 'Kickstarting R' at:

http://cran.r-project.org

under "Contributed Documentation". It allows the user to place a
break at any point on any axis.

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nlpace at remi.med.utah.edu  Sat Aug 24 22:09:53 2002
From: nlpace at remi.med.utah.edu (Nathan Leon Pace, MD, MStat)
Date: Sat, 24 Aug 2002 14:09:53 -0600
Subject: [R] nlme
Message-ID: <3D67E811.8080007@bigpace.med.utah.edu>

In the non linear mixed effects package a groupedData object can be 
created to facilitate modeling.

The gD object includes a formula of the form 'response variable' ~ 
'primary covariate' | 'grouping factor'.

In experiments creating response surfaces there are 2 or more primary 
covariates.

Is there any way to use the groupedData() function to include 2 primary 
covariates?

Thanks

-- 
Nathan Leon Pace, MD, MStat  Work:nlpace at bigpace.med.utah.ed
Department of Anesthesiology Play:nlpaces at attbi.com
University of Utah           Voice Work:801.581.6393  Play:801.467.2925
Salt Lake City, Utah         Fax   Work:801.581.4367  Play:801.467.0555


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wviechtb at s.psych.uiuc.edu  Sun Aug 25 01:45:45 2002
From: wviechtb at s.psych.uiuc.edu (Wolfgang Viechtbauer)
Date: Sat, 24 Aug 2002 18:45:45 -0500 (CDT)
Subject: [R] Density of non-central t distribution
Message-ID: <Pine.SOL.4.30.0208241835170.2353-100000@s.psych.uiuc.edu>

Hello Everybody,

Is there a function available for calculating the density of a
non-central t distribution? (dt does not accept the ncp option).

Thanks in advance!

--
Wolfgang Viechtbauer

"Are you not thinking what I am not thinking?"


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clists at perrin.socsci.unc.edu  Sun Aug 25 04:03:31 2002
From: clists at perrin.socsci.unc.edu (Andrew Perrin)
Date: Sat, 24 Aug 2002 22:03:31 -0400 (EDT)
Subject: [R] nlme
In-Reply-To: <3D67E811.8080007@bigpace.med.utah.edu>
Message-ID: <Pine.LNX.4.21.0208242202350.9143-100000@perrin.socsci.unc.edu>

If I understand your question correctly, the syntax is:

response ~ primary1 + primary2 + ... + primaryn |
grouping1/grouping2/.../groupingm

where there are n primary covariates and m grouping levels.

ap

----------------------------------------------------------------------
Andrew J Perrin - http://www.unc.edu/~aperrin
Assistant Professor of Sociology, U of North Carolina, Chapel Hill
clists at perrin.socsci.unc.edu * andrew_perrin (at) unc.edu


On Sat, 24 Aug 2002, Nathan Leon Pace, MD, MStat wrote:

> In the non linear mixed effects package a groupedData object can be 
> created to facilitate modeling.
> 
> The gD object includes a formula of the form 'response variable' ~ 
> 'primary covariate' | 'grouping factor'.
> 
> In experiments creating response surfaces there are 2 or more primary 
> covariates.
> 
> Is there any way to use the groupedData() function to include 2 primary 
> covariates?
> 
> Thanks
> 
> -- 
> Nathan Leon Pace, MD, MStat  Work:nlpace at bigpace.med.utah.ed
> Department of Anesthesiology Play:nlpaces at attbi.com
> University of Utah           Voice Work:801.581.6393  Play:801.467.2925
> Salt Lake City, Utah         Fax   Work:801.581.4367  Play:801.467.0555
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Aug 25 10:06:37 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 25 Aug 2002 09:06:37 +0100 (BST)
Subject: [R] Error: object is not a matrix
In-Reply-To: <Pine.LNX.4.31.0208230658280.19835-100000@gannet.stats>
Message-ID: <Pine.GSO.4.44.0208250905340.14695-100000@auk.stats>

On Fri, 23 Aug 2002 ripley at stats.ox.ac.uk wrote:

> There is another call to deparse in aov(),  Does adding width = 500 to
> that call solve this?

It does.  Unfortunately, deparse is currently broken in R-devel which
complicated finding this.

[...]


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Aug 25 16:39:30 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Aug 2002 16:39:30 +0200
Subject: [R] Density of non-central t distribution
In-Reply-To: <Pine.SOL.4.30.0208241835170.2353-100000@s.psych.uiuc.edu>
References: <Pine.SOL.4.30.0208241835170.2353-100000@s.psych.uiuc.edu>
Message-ID: <x2bs7rm28t.fsf@biostat.ku.dk>

Wolfgang Viechtbauer <wviechtb at s.psych.uiuc.edu> writes:

> Hello Everybody,
> 
> Is there a function available for calculating the density of a
> non-central t distribution? (dt does not accept the ncp option).
> 
> Thanks in advance!

Not that I know of. However, if you don't need it to any great
precision, it cn be trivially obtained by numeric differentiation of
pt(). 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sullivansmd at comcast.net  Sun Aug 25 19:22:47 2002
From: sullivansmd at comcast.net (Steven Sullivan)
Date: Sun, 25 Aug 2002 13:22:47 -0400
Subject: [R] Rterm BATCH versus Splus BATCH
Message-ID: <000501c24c5c$0822dd40$0201a8c0@STEVEN>

I have written a batch file I thought would run in R (for Windows, 1.5.1),
but as the documentation suggests, R is different in how it handles BATCH
from S-Plus (i.e. not directly equivalent to "Splus BATCH infile outfile
errfile").

If the file consists of a list of valid R commands, what's the best way of
automating it?

Many thanks.
STS



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sullivansmd at comcast.net  Sun Aug 25 19:34:58 2002
From: sullivansmd at comcast.net (Steven Sullivan)
Date: Sun, 25 Aug 2002 13:34:58 -0400
Subject: [R] Rterm BATCH versus Splus BATCH (II)
Message-ID: <000d01c24c5d$bc519d50$0201a8c0@STEVEN>

I had looked at the R documentation prior to my last message, but I need a
little guidance as to how I "set up a batch file using Rterm."  This makes
it sound as if Rterm is solely an editor for batch files.  And, having "set
up a batch file using Rterm," where do I run it?

Sorry for being obtuse.

STS



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Aug 25 19:43:57 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Sun, 25 Aug 2002 18:43:57 +0100 (BST)
Subject: [R] Rterm BATCH versus Splus BATCH
In-Reply-To: <000501c24c5c$0822dd40$0201a8c0@STEVEN>
Message-ID: <Pine.LNX.4.31.0208251842460.21726-100000@gannet.stats>

There is no such thing as `Rterm BATCH'.

Perhaps you should read the rw-FAQ before posting FAQs?

On Sun, 25 Aug 2002, Steven Sullivan wrote:

> I have written a batch file I thought would run in R (for Windows, 1.5.1),
> but as the documentation suggests, R is different in how it handles BATCH
> from S-Plus (i.e. not directly equivalent to "Splus BATCH infile outfile
> errfile").
>
> If the file consists of a list of valid R commands, what's the best way of
> automating it?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Sun Aug 25 19:54:23 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Sun, 25 Aug 2002 13:54:23 -0400
Subject: [R] Rterm BATCH versus Splus BATCH
In-Reply-To: <000501c24c5c$0822dd40$0201a8c0@STEVEN>; from sullivansmd@comcast.net on Sun, Aug 25, 2002 at 01:22:47PM -0400
References: <000501c24c5c$0822dd40$0201a8c0@STEVEN>
Message-ID: <20020825135423.A16622@cattell.psych.upenn.edu>

On 08/25/02 13:22, Steven Sullivan wrote:
>I have written a batch file I thought would run in R (for Windows, 1.5.1),
>but as the documentation suggests, R is different in how it handles BATCH
>from S-Plus (i.e. not directly equivalent to "Splus BATCH infile outfile
>errfile").
>
>If the file consists of a list of valid R commands, what's the best way of
>automating it?

I assume you mean "of running it".

I don't know the _best_ way, but one way is:

R --vanilla < myfile.R

(on Unix/Linux)

Jon
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wviechtb at s.psych.uiuc.edu  Sun Aug 25 23:28:52 2002
From: wviechtb at s.psych.uiuc.edu (Wolfgang Viechtbauer)
Date: Sun, 25 Aug 2002 16:28:52 -0500 (CDT)
Subject: [R] Density of non-central t distribution
In-Reply-To: <Pine.SOL.4.30.0208241835170.2353-100000@s.psych.uiuc.edu>
Message-ID: <Pine.SOL.4.30.0208251542250.19340-100000@s.psych.uiuc.edu>

For those who might be interested:

I wrote a function that gives the pdf of a non-central t distribution.
This is an approximation based on Resnikoff & Lieberman (1957):

m   = degrees of freedom
ncp = non-centrality parameter

dtnc <- function(x, m, ncp) {
   y <- -ncp*x/sqrt(m+x^2)
   a <- (-y + sqrt(y^2 + 4*m)) / 2
   Hhmy <- 1/factorial(m) * a^m * exp(-0.5*(a+y)^2) * sqrt(2*pi*a^2/(m+a^2)) * (1 - 3*m/(4*(m+a^2)^2) + 5*m^2/(6*(m+a^2)^3))
factorial(m) / (2^((m-1)/2) * gamma(m/2) * sqrt(pi*m)) * exp(-0.5*m*ncp^2/(m+x^2)) * (m/(m+x^2))^((m+1)/2) * Hhmy
}

The function, as given, makes use of factorial() provided by the
gregmisc package (unless I overlooked it, I think it would be nice to
have a factorial function in the base package). The approximation part
is the calculation of Hhmy -- it is quite accurate though.

Actually, the two factorial(m) parts cancel each other out, so you can
rewrite the function as:

dtnc <- function(x, m, ncp) {
   y <- -ncp*x/sqrt(m+x^2)
   a <- (-y + sqrt(y^2 + 4*m)) / 2
   Hhmy <- a^m * exp(-0.5*(a+y)^2) * sqrt(2*pi*a^2/(m+a^2)) * (1 - 3*m/(4*(m+a^2)^2) + 5*m^2/(6*(m+a^2)^3))
1 / (2^((m-1)/2) * gamma(m/2) * sqrt(pi*m)) * exp(-0.5*m*ncp^2/(m+x^2)) * (m/(m+x^2))^((m+1)/2) * Hhmy
}

which doesn't require factorial(). I gave the first version, because the
exact value of Hhmy requires the evaluation on an integral, namely

integrand <- function(v, y, m) { v^m / factorial(m) * exp(-0.5*(v+y)^2) }
Hhmy      <- integrate(integrand, lower=0, upper=Inf, y=y, m=m)$value

and then, the two factorial(m)'s don't cancel. However, when using this
integral in the function above, it doesn't give the correct results. I
can't figure out why, but maybe this is still of interest to somebody.

--
Wolfgang Viechtbauer

"Are you not thinking what I am not thinking?"


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Simon.Gatehouse at csiro.au  Mon Aug 26 00:39:34 2002
From: Simon.Gatehouse at csiro.au (Gatehouse, Simon (E&M, North Ryde))
Date: Mon, 26 Aug 2002 08:39:34 +1000
Subject: [R] windows focus and setting active device
Message-ID: <FFE02AF26875734B82A728403821CB2E04F20A@asp-ri.riverside.csiro.au>

Dear R users,
I am using R 5.1 on Windows 2000. Is there a system call or somesuch way of
identifying the graphic window which currently has focus and using that
information to make it the active device for futher plotting etc.

I have done a quick seaqrch in R the archives using 'focus active device'
but came up with nothing useful.

Any information would be most welcome. Thanks in anticipation.

Simon Gatehouse 

***********************************
Simon Gatehouse                                  
CSIRO Exploration and Mining,
Newbigin Close off Julius Ave
North Ryde, NSW
 
Mail:      PO Box 136, North Ryde
           NSW 1670, Australia
Phone:     61 (2) 9490 8677
Fax:       61 (2) 9490 8921
Mobile:    61  0407 130 635 
E-mail:    simon.gatehouse at csiro.au
Web Page:  http://www.csiro.au/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Simon.Gatehouse at csiro.au  Mon Aug 26 03:01:10 2002
From: Simon.Gatehouse at csiro.au (Gatehouse, Simon (E&M, North Ryde))
Date: Mon, 26 Aug 2002 11:01:10 +1000
Subject: [R] windows focus and setting active device
Message-ID: <FFE02AF26875734B82A728403821CB2E04F20C@asp-ri.riverside.csiro.au>

Dear all, 
It seems I was unclear in my question as I recieved a reply of dev.cur() and
on further thought the clearer question may contain its own answer. No!

I define focus is defined as that window which, in the windows operating
system, is highlighted and brough to the top by a mouse click. In most cases
it will not be the active or current window as defined in R.
 
Any graphic window can be made active with dev.cur() if you know its device
number.  How do you get the device number of the window currently in focus
as known by the operating system?

It seems I actually need the window that has most recently lost focus as to
run a script to determine focus requires giving the command window the focus
to invoke the script! 
Is there a way of accessing such a parameter from the operating system?  

Simon Gatehouse

 

***********************************
Simon Gatehouse                                  
CSIRO Exploration and Mining,
Newbigin Close off Julius Ave
North Ryde, NSW
 
Mail:      PO Box 136, North Ryde
           NSW 1670, Australia
Phone:     61 (2) 9490 8677
Fax:       61 (2) 9490 8921
Mobile:    61  0407 130 635 
E-mail:    simon.gatehouse at csiro.au
Web Page:  http://www.csiro.au/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 26 07:18:18 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Mon, 26 Aug 2002 06:18:18 +0100 (BST)
Subject: [R] windows focus and setting active device
In-Reply-To: <FFE02AF26875734B82A728403821CB2E04F20C@asp-ri.riverside.csiro.au>
Message-ID: <Pine.LNX.4.31.0208260614010.23768-100000@gannet.stats>

On R for Windows, you can give focus (as you define it) to a window with
bringToTop(). If you want anything else, you will need to code it
yourself. Beware that this is tricky as the SDI and MDI interfaces behave
differently, as do some versions of Windows.

BTW `highlighted' and `brought to top' are different concepts and
can happen independently.

On Mon, 26 Aug 2002, Gatehouse, Simon (E&M, North Ryde) wrote:

> Dear all,
> It seems I was unclear in my question as I recieved a reply of dev.cur() and
> on further thought the clearer question may contain its own answer. No!
>
> I define focus is defined as that window which, in the windows operating
> system, is highlighted and brough to the top by a mouse click. In most cases
> it will not be the active or current window as defined in R.
>
> Any graphic window can be made active with dev.cur() if you know its device
> number.  How do you get the device number of the window currently in focus
> as known by the operating system?
>
> It seems I actually need the window that has most recently lost focus as to
> run a script to determine focus requires giving the command window the focus
> to invoke the script!

But not to have it on top.

> Is there a way of accessing such a parameter from the operating system?
>
> Simon Gatehouse
>
>
>
> ***********************************
> Simon Gatehouse
> CSIRO Exploration and Mining,
> Newbigin Close off Julius Ave
> North Ryde, NSW
>
> Mail:      PO Box 136, North Ryde
>            NSW 1670, Australia
> Phone:     61 (2) 9490 8677
> Fax:       61 (2) 9490 8921
> Mobile:    61  0407 130 635
> E-mail:    simon.gatehouse at csiro.au
> Web Page:  http://www.csiro.au/
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tord.snall at ebc.uu.se  Mon Aug 26 11:39:53 2002
From: tord.snall at ebc.uu.se (Tord Snall)
Date: Mon, 26 Aug 2002 11:39:53 +0200
Subject: No subject
Message-ID: <3.0.6.32.20020826113953.00a3c210@mail.anst.uu.se>

auth 79ab8625 subscribe r-help-digest Tord Snall <tord.snall at ebc.uu.se>

-----------------------------------------------------------------------
Tord Sn?ll
Avd. f v?xtekologi, Evolutionsbiologiskt centrum, Uppsala universitet
Dept. of Plant Ecology, Evolutionary Biology Centre, Uppsala University
Villav?gen 14			
SE-752 36 Uppsala, Sweden
Tel: 018-471 28 82 (int +46 18 471 28 82) (work)
Tel: 018-25 71 33 (int +46 18 25 71 33) (home)
Fax: 018-55 34 19 (int +46 18 55 34 19) (work)
E-mail: Tord.Snall at ebc.uu.se
------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vincent.hernu at sncf.fr  Mon Aug 26 11:55:41 2002
From: vincent.hernu at sncf.fr (Vincent HERNU)
Date: Mon, 26 Aug 2002 11:55:41 +0200
Subject: [R] help
References: <Pine.GSO.4.10.10207310911400.8149-100000@quetelet.stat.ucla.edu>
Message-ID: <3D69FB1D.529D5A90@sncf.fr>

Hello,

I had applyed bagging to classification trees with the function Bagging of the
package ipred but the factor variables which have more than 2 responses don't enter
the model. Is there a solution to make them enter?

Thank you.

Vincent HERNU.

Roger Peng a ?crit :

> Check out the 'ipred' package.
>
> -roger
> _______________________________
> UCLA Department of Statistics
> rpeng at stat.ucla.edu
> http://www.stat.ucla.edu/~rpeng
>
> On Wed, 31 Jul 2002, Vincent HERNU wrote:
>
> > Hello,
> >
> > I would like to apply BAGGING to classification tree. Does a package
> > exists on that method?
> >
> > In advance I thank you for your answer and I am looking forward to
> > hearing from you .
> >
> > Best regards,
> >
> > Vincent HERNU.
> >
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfkincaid at comcast.net  Mon Aug 26 19:26:28 2002
From: jfkincaid at comcast.net (Joel Kincaid)
Date: Mon, 26 Aug 2002 13:26:28 -0400
Subject: [R] (CAR) Scatterplot and problems (?) with abline
Message-ID: <001b01c24d25$b6a21740$a8492244@salsbr01.md.comcast.net>

Network Blitz
I'm trying to generate a graph to summarize Interest Rate Parity. This
involves a scatterplot of x against y where the x and y limits are set
so to center the graph on 0,0 and then adding each axis line and a 45
degree line. Using CAR's scatterplot (sample code below) everything
except the axes plot fine:

scatterplot( Interest.Rate.Dif ~ ForPrm| profit,
xlim=c(-1,1),ylim=c(-1,1))
abline(0,1)
abline(v=0)
abline(h=0).
The problem is that the vertical (horz) line lies aprox 3% below (to the
left) of the 'zero' tick (or perhaps the zero tick lies above the zero
point). My intution is that there are multiple coordnet systems, but who
knows....
Any insights, suggestions etc, are welcome,
cheers,
Joel Kincaid,
Asst. Prof of Economics,
Salisbury University,
Salisbury MD USA

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Rajiv.Prasad at pnl.gov  Mon Aug 26 19:54:48 2002
From: Rajiv.Prasad at pnl.gov (Prasad, Rajiv)
Date: Mon, 26 Aug 2002 10:54:48 -0700
Subject: [R] updating n within for(i in 1:n) loop
Message-ID: <202822BFB70EBC4BB3EAFD853EE2B6BF0175BC88@pnlmse10.pnl.gov>

Hi folks:

I think I'm having problems with figuring this one out:

test1 <- function()
{
  n <- 2

  for(i in 1:n)
  {
    cat(paste("i =", i, "\n")); flush.console()
    n <- 5  # version 1
    #n <<- 5  # version 2
    #assign("n", 5, envir = environment(test1))  # version 3
  }
}

I need the for(.) loop to run (say) n=5 times within the function, but I do
not know that before the loop begins.  In other words, n is to be updated
during computations within the for(.) loop.  This code prints "i = 1" and "i
= 2" only.  If I modify test1(.) to use version 2 or version 3 of the
assignment, there is no change to the output, and I end up with an "n" in
the parent environment with value 5.  So the problem is to assign 5 to n in
the calling environment of the for(.) loop??  (I'm sure my terminology is
quite mixed up here -- please feel free to comment.)

How do I do this?

Thanks in advance.

> version
         _              
platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status                  
major    1              
minor    5.1            
year     2002           
month    06             
day      17             
language R              


Rajiv
--------
Rajiv Prasad
Postdoctoral Research Associate, Hydrology Group
Pacific Northwest National Laboratory, P.O. Box 999, MSIN K9-33
Richland, WA 99352
Voice: (509) 375-2096  Fax: (509) 372-6089  Email: rajiv.prasad at pnl.gov

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From matthew_wiener at merck.com  Mon Aug 26 20:50:53 2002
From: matthew_wiener at merck.com (Wiener, Matthew)
Date: Mon, 26 Aug 2002 14:50:53 -0400
Subject: [R] updating n within for(i in 1:n) loop
Message-ID: <7C4F091F6140D411A29300508B5C73B908A2BD8A@usrymx04.merck.com>

Maybe a while loop would serve your purpose better -- it's a little hard to
tell from what you've given here.

Hope this helps,

Matt

-----Original Message-----
From: Prasad, Rajiv [mailto:Rajiv.Prasad at pnl.gov]
Sent: Monday, August 26, 2002 1:55 PM
To: R-Help (E-mail)
Subject: [R] updating n within for(i in 1:n) loop


Hi folks:

I think I'm having problems with figuring this one out:

test1 <- function()
{
  n <- 2

  for(i in 1:n)
  {
    cat(paste("i =", i, "\n")); flush.console()
    n <- 5  # version 1
    #n <<- 5  # version 2
    #assign("n", 5, envir = environment(test1))  # version 3
  }
}

I need the for(.) loop to run (say) n=5 times within the function, but I do
not know that before the loop begins.  In other words, n is to be updated
during computations within the for(.) loop.  This code prints "i = 1" and "i
= 2" only.  If I modify test1(.) to use version 2 or version 3 of the
assignment, there is no change to the output, and I end up with an "n" in
the parent environment with value 5.  So the problem is to assign 5 to n in
the calling environment of the for(.) loop??  (I'm sure my terminology is
quite mixed up here -- please feel free to comment.)

How do I do this?

Thanks in advance.

> version
         _              
platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status                  
major    1              
minor    5.1            
year     2002           
month    06             
day      17             
language R              


Rajiv
--------
Rajiv Prasad
Postdoctoral Research Associate, Hydrology Group
Pacific Northwest National Laboratory, P.O. Box 999, MSIN K9-33
Richland, WA 99352
Voice: (509) 375-2096  Fax: (509) 372-6089  Email: rajiv.prasad at pnl.gov

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reid_huntsinger at merck.com  Mon Aug 26 20:50:14 2002
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Mon, 26 Aug 2002 14:50:14 -0400
Subject: [R] updating n within for(i in 1:n) loop
Message-ID: <2C23DE2983BE034CB1CB90DB6B813FD6028AC0CA@uswpmx11.merck.com>

I think a while or repeat is what you want. I believe the 1:n in the for
loop is evaluated only once, at the beginning, but I could be wrong.

Reid Huntsinger

-----Original Message-----
From: Prasad, Rajiv [mailto:Rajiv.Prasad at pnl.gov]
Sent: Monday, August 26, 2002 1:55 PM
To: R-Help (E-mail)
Subject: [R] updating n within for(i in 1:n) loop


Hi folks:

I think I'm having problems with figuring this one out:

test1 <- function()
{
  n <- 2

  for(i in 1:n)
  {
    cat(paste("i =", i, "\n")); flush.console()
    n <- 5  # version 1
    #n <<- 5  # version 2
    #assign("n", 5, envir = environment(test1))  # version 3
  }
}

I need the for(.) loop to run (say) n=5 times within the function, but I do
not know that before the loop begins.  In other words, n is to be updated
during computations within the for(.) loop.  This code prints "i = 1" and "i
= 2" only.  If I modify test1(.) to use version 2 or version 3 of the
assignment, there is no change to the output, and I end up with an "n" in
the parent environment with value 5.  So the problem is to assign 5 to n in
the calling environment of the for(.) loop??  (I'm sure my terminology is
quite mixed up here -- please feel free to comment.)

How do I do this?

Thanks in advance.

> version
         _              
platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status                  
major    1              
minor    5.1            
year     2002           
month    06             
day      17             
language R              


Rajiv
--------
Rajiv Prasad
Postdoctoral Research Associate, Hydrology Group
Pacific Northwest National Laboratory, P.O. Box 999, MSIN K9-33
Richland, WA 99352
Voice: (509) 375-2096  Fax: (509) 372-6089  Email: rajiv.prasad at pnl.gov

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

------------------------------------------------------------------------------
Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.

==============================================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From virgil at uv.es  Mon Aug 26 21:05:09 2002
From: virgil at uv.es (virgil@uv.es)
Date: Mon, 26 Aug 2002 21:05:09 +0200 (CEST)
Subject: [R] Re: RArcInfo 0.3 (fwd)
Message-ID: <Pine.LNX.4.31.0208262103390.17405-100000@matheron.estadi.uv.es>

Hi,

I have been thinking about your questions and comments. And I think I have
the answers. :D

> the way you draw the polygons has the consequence that if the larger one
> is drawn after the smaller one,
> the color of the smaller one is "overwritten"
> and therefore the map is really wrong in the relevant area.
> so this needs fixing.

Another approach is sorting the polygons by its area. The polygons
are plotted according to the order in "index", so, this way, the inner
polygons are plotted later and you get the right map.

Of course, this could be done inside plotpoly, but then another parameter
will be needed, and I would like to keep the function as simple as
possible in order to provide the most flexibility to the user.

> 2. it would be nice of the number of polygon edges could
> be "thinned out" for doing a screen image.
> the resolution of the borderlines is usually the one needed only for
> high quality large format paper printout.
> for screen images, it would look better with more straight edge lines
> and less corners.
> i do not know if the arcinfo library you are using
> supports such a thinning out.

I don't think so. The library is just a heap of function to access to the
data in the binary coverages. I know plotpoly is REALLY slow. For example,
plotting the map of Austria takes about 5-10 minutes in my computer (an
Athlon 1.4 MHZ, 1 GB RAM).

But I think this happens because, when plotting, the function works with a
lot of lists (with data that aren't needed for printing). That's why I am
thinking about creating a new object storing only the the points needed to
plot each arc, like in a shapefile.

There is a package called maptools to manage ESRI shapefiles (it is not on
CRAN). So, I can create anew function to convert the data imported from
the binary coverage to the same type of data imported from the shapefile
(just a table data and the vertices of the polygons). So, you can use the
functions in maptools to plot.

It's good because many people just want to draw a map according to some
data (me too :D).


Well, any comment or question?

Regards,

Virgilio


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Mon Aug 26 21:31:38 2002
From: macq at llnl.gov (Don MacQueen)
Date: Mon, 26 Aug 2002 12:31:38 -0700
Subject: [R] updating n within for(i in 1:n) loop
In-Reply-To: <202822BFB70EBC4BB3EAFD853EE2B6BF0175BC88@pnlmse10.pnl.gov>
References: <202822BFB70EBC4BB3EAFD853EE2B6BF0175BC88@pnlmse10.pnl.gov>
Message-ID: <p05111a04b990314abe26@[128.115.153.6]>

Try 'while' instead of 'for'.
See ?Control.

Here's an example
>  n <- 3
>  while (n < 10) { cat(n,'before\n')
+        n <- 6; cat(n,'during\n') ; n <- 13 ; cat(n,'after\n') }
3 before
6 during
13 after

-Don

At 10:54 AM -0700 8/26/02, Prasad, Rajiv wrote:
>Hi folks:
>
>I think I'm having problems with figuring this one out:
>
>test1 <- function()
>{
>   n <- 2
>
>   for(i in 1:n)
>   {
>     cat(paste("i =", i, "\n")); flush.console()
>     n <- 5  # version 1
>     #n <<- 5  # version 2
>     #assign("n", 5, envir = environment(test1))  # version 3
>   }
>}
>
>I need the for(.) loop to run (say) n=5 times within the function, but I do
>not know that before the loop begins.  In other words, n is to be updated
>during computations within the for(.) loop.  This code prints "i = 1" and "i
>= 2" only.  If I modify test1(.) to use version 2 or version 3 of the
>assignment, there is no change to the output, and I end up with an "n" in
>the parent environment with value 5.  So the problem is to assign 5 to n in
>the calling environment of the for(.) loop??  (I'm sure my terminology is
>quite mixed up here -- please feel free to comment.)
>
>How do I do this?
>
>Thanks in advance.
>
>>  version
>          _             
>platform i386-pc-mingw32
>arch     i386          
>os       mingw32       
>system   i386, mingw32 
>status                 
>major    1             
>minor    5.1           
>year     2002          
>month    06            
>day      17            
>language R             
>
>
>Rajiv
>--------
>Rajiv Prasad
>Postdoctoral Research Associate, Hydrology Group
>Pacific Northwest National Laboratory, P.O. Box 999, MSIN K9-33
>Richland, WA 99352
>Voice: (509) 375-2096  Fax: (509) 372-6089  Email: rajiv.prasad at pnl.gov
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rvaradha at jhsph.edu  Mon Aug 26 22:01:11 2002
From: rvaradha at jhsph.edu (Ravi Varadhan)
Date: Mon, 26 Aug 2002 16:01:11 -0400
Subject: [R] updating n within for(i in 1:n) loop
Message-ID: <5984e459dc57.59dc575984e4@jhsph.edu>


Why not use a "while" loop instead?

n <- 2
i <- 1
 while (i <= n)
 {
   cat(paste("i =", i, "\n")); flush.console()
   n <- 5  # version 1
   i <- i+1
  }

I think the above should work.

Ravi.


----- Original Message -----
From: "Prasad, Rajiv" <Rajiv.Prasad at pnl.gov>
Date: Monday, August 26, 2002 1:54 pm
Subject: [R] updating n within for(i in 1:n) loop

> Hi folks:
> 
> I think I'm having problems with figuring this one out:
> 
> test1 <- function()
> {
>  n <- 2
> 
>  for(i in 1:n)
>  {
>    cat(paste("i =", i, "\n")); flush.console()
>    n <- 5  # version 1
>    #n <<- 5  # version 2
>    #assign("n", 5, envir = environment(test1))  # version 3
>  }
> }
> 
> I need the for(.) loop to run (say) n=5 times within the function, 
> but I do
> not know that before the loop begins.  In other words, n is to be 
> updatedduring computations within the for(.) loop.  This code 
> prints "i = 1" and "i
> = 2" only.  If I modify test1(.) to use version 2 or version 3 of the
> assignment, there is no change to the output, and I end up with an 
> "n" in
> the parent environment with value 5.  So the problem is to assign 
> 5 to n in
> the calling environment of the for(.) loop??  (I'm sure my 
> terminology is
> quite mixed up here -- please feel free to comment.)
> 
> How do I do this?
> 
> Thanks in advance.
> 
> > version
>         _              
> platform i386-pc-mingw32
> arch     i386           
> os       mingw32        
> system   i386, mingw32  
> status                  
> major    1              
> minor    5.1            
> year     2002           
> month    06             
> day      17             
> language R              
> 
> 
> Rajiv
> --------
> Rajiv Prasad
> Postdoctoral Research Associate, Hydrology Group
> Pacific Northwest National Laboratory, P.O. Box 999, MSIN K9-33
> Richland, WA 99352
> Voice: (509) 375-2096  Fax: (509) 372-6089  Email: 
> rajiv.prasad at pnl.gov
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-
> FAQ.htmlSend "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-
> 
request at stat.math.ethz.ch_._._._._._._._._._._._._._._._._._._._._._._._
._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tklistaddr at keittlab.bio.sunysb.edu  Mon Aug 26 23:09:09 2002
From: tklistaddr at keittlab.bio.sunysb.edu (Timothy H. Keitt)
Date: 26 Aug 2002 17:09:09 -0400
Subject: [R] updating n within for(i in 1:n) loop
In-Reply-To: <2C23DE2983BE034CB1CB90DB6B813FD6028AC0CA@uswpmx11.merck.com>
References: <2C23DE2983BE034CB1CB90DB6B813FD6028AC0CA@uswpmx11.merck.com>
Message-ID: <1030396149.13286.76.camel@keittlab-6>

The problem is that the '1:n' in 'for(i in 1:n)' is only evaluated once
at the beginning of the loop, so altering 'n' later does not change the
loop behavior. Try something like:

i <- 0
repeat {
	i <- i + 1
	cat(i, '\n')
	if (i > 9) break
}

T.

On Mon, 2002-08-26 at 14:50, Huntsinger, Reid wrote:
> I think a while or repeat is what you want. I believe the 1:n in the for
> loop is evaluated only once, at the beginning, but I could be wrong.
> 
> Reid Huntsinger
> 
> -----Original Message-----
> From: Prasad, Rajiv [mailto:Rajiv.Prasad at pnl.gov]
> Sent: Monday, August 26, 2002 1:55 PM
> To: R-Help (E-mail)
> Subject: [R] updating n within for(i in 1:n) loop
> 
> 
> Hi folks:
> 
> I think I'm having problems with figuring this one out:
> 
> test1 <- function()
> {
>   n <- 2
> 
>   for(i in 1:n)
>   {
>     cat(paste("i =", i, "\n")); flush.console()
>     n <- 5  # version 1
>     #n <<- 5  # version 2
>     #assign("n", 5, envir = environment(test1))  # version 3
>   }
> }
> 
> I need the for(.) loop to run (say) n=5 times within the function, but I do
> not know that before the loop begins.  In other words, n is to be updated
> during computations within the for(.) loop.  This code prints "i = 1" and "i
> = 2" only.  If I modify test1(.) to use version 2 or version 3 of the
> assignment, there is no change to the output, and I end up with an "n" in
> the parent environment with value 5.  So the problem is to assign 5 to n in
> the calling environment of the for(.) loop??  (I'm sure my terminology is
> quite mixed up here -- please feel free to comment.)
> 
> How do I do this?
> 
> Thanks in advance.
> 
> > version
>          _              
> platform i386-pc-mingw32
> arch     i386           
> os       mingw32        
> system   i386, mingw32  
> status                  
> major    1              
> minor    5.1            
> year     2002           
> month    06             
> day      17             
> language R              
> 
> 
> Rajiv
> --------
> Rajiv Prasad
> Postdoctoral Research Associate, Hydrology Group
> Pacific Northwest National Laboratory, P.O. Box 999, MSIN K9-33
> Richland, WA 99352
> Voice: (509) 375-2096  Fax: (509) 372-6089  Email: rajiv.prasad at pnl.gov
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> 
> ------------------------------------------------------------------------------
> Notice: This e-mail message, together with any attachments, contains information of Merck & Co., Inc. (Whitehouse Station, New Jersey, USA) that may be confidential, proprietary copyrighted and/or legally privileged, and is intended solely for the use of the individual or entity named on this message.  If you are not the intended recipient, and have received this message in error, please immediately return this by e-mail and then delete it.
> 
> ==============================================================================
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cbotts at stat.ufl.edu  Tue Aug 27 01:14:00 2002
From: cbotts at stat.ufl.edu (Carsten Botts)
Date: Mon, 26 Aug 2002 19:14:00 -0400
Subject: [R] generating time series data
Message-ID: <3D6AB638.CF1558B1@stat.ufl.edu>

To whom it may concern,

	I am interested in generating data from an ARMA(p,q) process in R.   I
know that there are functions in S which allow for this, but I don't
know if such functions exist in R.   Do they?   And if so, what are
those functions?


Thanks,


Carsten Botts

e-mail: cbotts at stat.ufl.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richards at upci.pitt.edu  Tue Aug 27 01:11:57 2002
From: richards at upci.pitt.edu (Richards, Tom)
Date: Mon, 26 Aug 2002 19:11:57 -0400
Subject: [R] Random unit vectors in R^{n}
Message-ID: <73D624FECBBAF6459BB60437FF7C02FB06D27A@nsabpmail>

Hello:

	Can you tell me if there's a simple way to generate in R random
vectors on the unit sphere in R^{n}?  Additionally, are there references for
this question?  Thanks in advance.

Tom
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Tue Aug 27 01:27:25 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 26 Aug 2002 16:27:25 -0700
Subject: [R] Random unit vectors in R^{n}
In-Reply-To: <73D624FECBBAF6459BB60437FF7C02FB06D27A@nsabpmail>
References: <73D624FECBBAF6459BB60437FF7C02FB06D27A@nsabpmail>
Message-ID: <877kidqjz6.fsf@jeeves.blindglobe.net>

>>>>> "tom" == Tom Richards <Richards> writes:

    tom> Hello: Can you tell me if there's a simple way to generate in
    tom> R random vectors on the unit sphere in R^{n}?  Additionally,
    tom> are there references for this question?  Thanks in advance.


I suspect that you can generate them in R^n and then scale?  (i.e. 
use (x/|x|) ).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Aug 27 01:50:43 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 26 Aug 2002 16:50:43 -0700 (PDT)
Subject: [R] Random unit vectors in R^{n}
In-Reply-To: <877kidqjz6.fsf@jeeves.blindglobe.net>
Message-ID: <Pine.A41.4.44.0208261640530.65552-100000@homer01.u.washington.edu>

On 26 Aug 2002, A.J. Rossini wrote:

> >>>>> "tom" == Tom Richards <Richards> writes:
>
>     tom> Hello: Can you tell me if there's a simple way to generate in
>     tom> R random vectors on the unit sphere in R^{n}?  Additionally,
>     tom> are there references for this question?  Thanks in advance.
>
>
> I suspect that you can generate them in R^n and then scale?  (i.e.
> use (x/|x|) ).

If you use a spherically symmetric distribution to generate them from, eg
making the coordinates independent standard Normals rather than
independent uniform[-1,1]  or, say, Cauchy

eg
    x<-matrix(rnorm(n*nsamples),nrow=nsamples)
    r<-x/sqrt(rowSums(x*x))
works.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 27 08:49:26 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 27 Aug 2002 07:49:26 +0100 (BST)
Subject: [R] generating time series data
In-Reply-To: <3D6AB638.CF1558B1@stat.ufl.edu>
Message-ID: <Pine.LNX.4.31.0208270748080.31357-100000@gannet.stats>

library(ts)
?arima.sim

Same name but not quite the same usage as S-PLUS (not S).

On Mon, 26 Aug 2002, Carsten Botts wrote:

> To whom it may concern,
>
> 	I am interested in generating data from an ARMA(p,q) process in R.   I
> know that there are functions in S which allow for this, but I don't
> know if such functions exist in R.   Do they?   And if so, what are
> those functions?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Tue Aug 27 11:51:42 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Tue, 27 Aug 2002 21:51:42 +1200 (NZST)
Subject: [R] legend() outside plotting region
Message-ID: <Pine.SOL.4.21.0208272146090.21901-100000@stat1.stat.auckland.ac.nz>

Hi,

Is it possible to put the legend outside the plotting region?

Say, I have some 24 lines within my plot, which pretty much filled the
plotting region and left me no space (well not enough space) to put in a
legend.  So I'd like to put the legend outside the plotting region
(i.e. the region enclosed by the two axis -- I hope I got my terminology
right).

Actually, I did the 24 lines with something like:
 for(i in 1:ncol(FOO))
     lines(FOO[, i], lty = i)
where FOO is my data frame containing 24 columns.  As a side track, is
there a better way to represent this, as 24 lines is very difficult to
distinguish anyhow.  This data frame, by the way, is a time series.

Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
Homepage: http://www.stat.auckland.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From coforfe at yahoo.es  Tue Aug 27 12:43:35 2002
From: coforfe at yahoo.es (=?iso-8859-1?q?CARLOS=20ORTEGA?=)
Date: Tue, 27 Aug 2002 12:43:35 +0200 (CEST)
Subject: [R] Peter Dalgaard's book availability....
Message-ID: <20020827104335.96556.qmail@web12101.mail.yahoo.com>

Dear List,

Does anyone know when will be available Peter
Dalgaard's book: "Introductory Statistics with R" ?.

According to Amazon: "This item will be published on
August 15, 2002", but it continues unpublised.

Thanks,
Carlos Ortega.

_______________________________________________________________
Yahoo! Messenger
Nueva versi?n: Webcam, voz, y mucho m?s ?Gratis! 
Desc?rgalo ya desde http://messenger.yahoo.es
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Tue Aug 27 12:58:35 2002
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Tue, 27 Aug 2002 20:58:35 +1000
Subject: [R] legend() outside plotting region
In-Reply-To: <Pine.SOL.4.21.0208272146090.21901-100000@stat1.stat.auckland.ac.nz>
References: <Pine.SOL.4.21.0208272146090.21901-100000@stat1.stat.auckland.ac.nz>
Message-ID: <20020827105234.INVO27131.mta09.mail.mel.aone.net.au@there>

Ko-Kang Kevin Wang wrote:
> Hi,
>
> Is it possible to put the legend outside the plotting region?
>
After you have plotted the data, use

par(xpd=T)

and then legend() with x,y values where you want it.

>  ...As a side track, is
> there a better way to represent this, as 24 lines is very difficult to
> distinguish anyhow.  This data frame, by the way, is a time series.
>
24 lines would probably confuse the average spider. What do you want to 
illustrate? If it is a comparison between one group of lines and another, 
you might be able to plot two polygons showing the region that each group 
occupies, or something like that.

Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Aug 27 13:33:12 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Aug 2002 13:33:12 +0200
Subject: [R] Peter Dalgaard's book availability....
In-Reply-To: <20020827104335.96556.qmail@web12101.mail.yahoo.com>
References: <20020827104335.96556.qmail@web12101.mail.yahoo.com>
Message-ID: <x2ptw4iljb.fsf@biostat.ku.dk>

CARLOS ORTEGA <coforfe at yahoo.es> writes:

> Dear List,
> 
> Does anyone know when will be available Peter
> Dalgaard's book: "Introductory Statistics with R" ?.
> 
> According to Amazon: "This item will be published on
> August 15, 2002", but it continues unpublised.
> 
> Thanks,
> Carlos Ortega.

It does exist in physical form (I have a copy. In fact two, because
the author copy didn't arrive before I left for the JSM...)

It was published just before the JSM (on Aug.9) but it takes a few
weeks before it reaches the warehouses.

Same thing with MASS4, I expect.

        -p

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From juli at ceam.es  Tue Aug 27 13:31:55 2002
From: juli at ceam.es (juli g. pausas)
Date: Tue, 27 Aug 2002 13:31:55 +0200
Subject: [R] ts basic question
Message-ID: <3D6B632B.45BF4A58@ceam.es>

Dear R collegues,

I'd like to use the time-series facilities of R and I'm not sure how to
set my dataset properly.
I have monthly data, so the description could be:  ts(data,
start=c(1951,1), frequency= 12)
However, the data is a matrix of years (rows) and months (columns), as
follows:

> s1 <- read.table("stdata.txt", header=TRUE)
> s1[1:3, ]
  YEAR  JAN  FEB  MAR  APR  MAY  JUN  JUL  AUG  SEP  OCT  NOV  DEC
1 1951  1.7  0.6 -0.8 -0.6 -1.0 -0.3 -1.4 -0.7 -1.3 -1.4 -1.0 -1.0
2 1952 -1.2 -1.1  0.0 -0.5  0.6  0.5  0.4 -0.4 -0.3  0.2 -0.2 -1.6
3 1953  0.2 -1.0 -0.8 -0.1 -2.2 -0.3 -0.1 -1.9 -1.5 -0.2 -0.4 -0.7
>

How can I create a ts object from this format?
Alternatively, I could delete the column YEAR from the file, read the
file with scan to create a single vector (reading by rows), and then
use: ts(s1, start=c(1951,1), frequency= 12).
Is there a better way to do this?

Thanks in advance
(R 1.5.0)

Juli

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 27 13:51:28 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 27 Aug 2002 12:51:28 +0100 (BST)
Subject: [R] Peter Dalgaard's book availability....
In-Reply-To: <x2ptw4iljb.fsf@biostat.ku.dk>
Message-ID: <Pine.LNX.4.31.0208271250020.22327-100000@gannet.stats>

On 27 Aug 2002, Peter Dalgaard BSA wrote:

> CARLOS ORTEGA <coforfe at yahoo.es> writes:
>
> > Dear List,
> >
> > Does anyone know when will be available Peter
> > Dalgaard's book: "Introductory Statistics with R" ?.
> >
> > According to Amazon: "This item will be published on
> > August 15, 2002", but it continues unpublised.
> >
> > Thanks,
> > Carlos Ortega.
>
> It does exist in physical form (I have a copy. In fact two, because
> the author copy didn't arrive before I left for the JSM...)
>
> It was published just before the JSM (on Aug.9) but it takes a few
> weeks before it reaches the warehouses.
>
> Same thing with MASS4, I expect.

Yes, but that was a couple of weeks ahead and people have got copies from
Amazon.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 27 13:54:05 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 27 Aug 2002 12:54:05 +0100 (BST)
Subject: [R] ts basic question
In-Reply-To: <3D6B632B.45BF4A58@ceam.es>
Message-ID: <Pine.LNX.4.31.0208271252040.22327-100000@gannet.stats>

On Tue, 27 Aug 2002, juli g. pausas wrote:

> Dear R collegues,
>
> I'd like to use the time-series facilities of R and I'm not sure how to
> set my dataset properly.
> I have monthly data, so the description could be:  ts(data,
> start=c(1951,1), frequency= 12)
> However, the data is a matrix of years (rows) and months (columns), as
> follows:
>
> > s1 <- read.table("stdata.txt", header=TRUE)
> > s1[1:3, ]
>   YEAR  JAN  FEB  MAR  APR  MAY  JUN  JUL  AUG  SEP  OCT  NOV  DEC
> 1 1951  1.7  0.6 -0.8 -0.6 -1.0 -0.3 -1.4 -0.7 -1.3 -1.4 -1.0 -1.0
> 2 1952 -1.2 -1.1  0.0 -0.5  0.6  0.5  0.4 -0.4 -0.3  0.2 -0.2 -1.6
> 3 1953  0.2 -1.0 -0.8 -0.1 -2.2 -0.3 -0.1 -1.9 -1.5 -0.2 -0.4 -0.7
> >
>
> How can I create a ts object from this format?

Something like

ts(t(si), start=c(1951,1), frequency= 12)

since t will convert it to a matrix.

> Alternatively, I could delete the column YEAR from the file, read the
> file with scan to create a single vector (reading by rows), and then
> use: ts(s1, start=c(1951,1), frequency= 12).
> Is there a better way to do this?

Yes. Use skip in scan and don't alter the file.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bernhard.Pfaff at drkw.com  Tue Aug 27 08:21:52 2002
From: Bernhard.Pfaff at drkw.com (Pfaff, Bernhard)
Date: Tue, 27 Aug 2002 08:21:52 +0200
Subject: [R] generating time series data
Message-ID: <18D602BD42B7E24EB810D6454A58DB9001CADE13@ibfftce505.is.de.dresdnerkb.com>

Hello Carsten,

in the 'ts'-package is a function called 'ARMAacf'. This function computes
the ACFs and PACFs of an ARMA(p,q)-model. You have to provide the vector of
AR- and MA-coefficients. If you want to generate a sample series itself that
adheres to such an ARMA(p,q) model overlay the function with a noise term
generated by 'rnorm' and provide starting values. I do not know of an
existing function that generates such a sample series. Hope that is of help
for you.

Bernhard 

-----Original Message-----
From: Carsten Botts [mailto:cbotts at stat.ufl.edu]
Sent: 27 August 2002 01:14
To: R-help at stat.math.ethz.ch
Subject: [R] generating time series data


To whom it may concern,

	I am interested in generating data from an ARMA(p,q) process in R.
I
know that there are functions in S which allow for this, but I don't
know if such functions exist in R.   Do they?   And if so, what are
those functions?


Thanks,


Carsten Botts

e-mail: cbotts at stat.ufl.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


If you have received this e-mail in error or wish to read our e-mail disclaimer 
statement and monitoring policy, please refer to http://www.drkw.com/disc/email/ 
or contact the sender

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Tue Aug 27 15:50:17 2002
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Tue, 27 Aug 2002 06:50:17 -0700
Subject: [R] Peter Dalgaard's book availability....
In-Reply-To: <Pine.LNX.4.31.0208271250020.22327-100000@gannet.stats>
References: <x2ptw4iljb.fsf@biostat.ku.dk>
Message-ID: <5.1.1.5.2.20020827064826.017d7f30@pop4.attglobal.net>

At 04:51 AM 8/27/2002, ripley at stats.ox.ac.uk wrote:
 >On 27 Aug 2002, Peter Dalgaard BSA wrote:
 >

 >> weeks before it reaches the warehouses.
 >>
 >> Same thing with MASS4, I expect.
 >
 >Yes, but that was a couple of weeks ahead and people have got copies from
 >Amazon.


Not, AFAIK, from Amazon US.  I've had an order in for MASS4 and for Peter's 
book since mid-July.  According to the Amazon US web page, neither book is 
published yet.  They're ordered separately and neither one shows an 
estimated shipping date either.  

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Tue Aug 27 16:00:18 2002
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 27 Aug 2002 10:00:18 -0400
Subject: [R] (CAR) Scatterplot and problems (?) with abline
In-Reply-To: <001b01c24d25$b6a21740$a8492244@salsbr01.md.comcast.net>
Message-ID: <5.1.0.14.2.20020827094927.02d3f098@mcmail.cis.mcmaster.ca>

Dear Joel,

To draw marginal boxplots around the scatterplot, the scatterplot function 
in car sets some plotting parameters, then resets these to their previous 
value when the function exits, making it impossible to add to the plot. 
This behaviour is intentional, but I agree that it can be problematic.

An immediate fix is to comment out the command
   on.exit(par(mar = mar, mfcol = mfcol))
in scatterplot.default. If you do this, be aware that these plotting 
parameters will be changed for the current graphics device.

A more permanent solution is to add an argument such as reset.par 
(defaulting to FALSE) to the function, which I'll do in the next version of 
car.

Thanks for bringing the problem to my attention,
  John

At 01:26 PM 8/26/2002 -0400, Joel Kincaid wrote:
>Network Blitz
>I'm trying to generate a graph to summarize Interest Rate Parity. This
>involves a scatterplot of x against y where the x and y limits are set
>so to center the graph on 0,0 and then adding each axis line and a 45
>degree line. Using CAR's scatterplot (sample code below) everything
>except the axes plot fine:
>
>scatterplot( Interest.Rate.Dif ~ ForPrm| profit,
>xlim=c(-1,1),ylim=c(-1,1))
>abline(0,1)
>abline(v=0)
>abline(h=0).
>The problem is that the vertical (horz) line lies aprox 3% below (to the
>left) of the 'zero' tick (or perhaps the zero tick lies above the zero
>point). My intution is that there are multiple coordnet systems, but who
>knows....
>Any insights, suggestions etc, are welcome,
>cheers,
>Joel Kincaid,
>Asst. Prof of Economics,
>Salisbury University,
>Salisbury MD USA
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Tue Aug 27 17:12:50 2002
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 27 Aug 2002 11:12:50 -0400
Subject: [R] generating time series data
References: <3D6AB638.CF1558B1@stat.ufl.edu>
Message-ID: <3D6B96F2.B9CD3FDF@bank-banque-canada.ca>

Carsten Botts wrote:
> 
> To whom it may concern,
> 
>         I am interested in generating data from an ARMA(p,q) process in R.   I
> know that there are functions in S which allow for this, but I don't
> know if such functions exist in R.   Do they?   And if so, what are
> those functions?
> 

The simulate function in the DSE bundle does this. See the user's guide for more
details and examples. There are also functions for studying estimation
techniques by repeatedly simulating and estimating.

Paul Gilbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jranke at uni-bremen.de  Tue Aug 27 17:49:43 2002
From: jranke at uni-bremen.de (Johannes Ranke)
Date: Tue, 27 Aug 2002 17:49:43 +0200
Subject: [R] probit etc. for dose-response modeling
Message-ID: <20020827154942.GA29636@eckehaat.uft.uni-bremen.de>

Hello all

I have done some fitting of pnorm functions to dose-response data, so I could
calculate EC50 values (dose where the response is 0.5). I used the nlm function
for this, so I did not get any information about the confidence intervals of
the fitted parameters.

What would be a good way to do such a probit fit, or is there a package which I
could use?

Best regards

Johannes Ranke
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Aug 27 17:53:40 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 27 Aug 2002 08:53:40 -0700 (PDT)
Subject: [R] probit etc. for dose-response modeling
In-Reply-To: <20020827154942.GA29636@eckehaat.uft.uni-bremen.de>
Message-ID: <Pine.A41.4.44.0208270852540.118758-100000@homer41.u.washington.edu>

On Tue, 27 Aug 2002, Johannes Ranke wrote:

> Hello all
>
> I have done some fitting of pnorm functions to dose-response data, so I could
> calculate EC50 values (dose where the response is 0.5). I used the nlm function
> for this, so I did not get any information about the confidence intervals of
> the fitted parameters.
>
> What would be a good way to do such a probit fit, or is there a package which I
> could use?

Probit models are generalised linear models so you can use glm().

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fmejia at mac.com  Tue Aug 27 17:58:46 2002
From: fmejia at mac.com (=?ISO-8859-1?Q?Fredy_Mej=EDa?=)
Date: Tue, 27 Aug 2002 09:58:46 -0600
Subject: [R] 2 questions about cluster analysis
Message-ID: <DE586A82-B9D5-11D6-8CBB-000A27DCBAD6@mac.com>

Hello everyone!

I have two questions regarding cluster analysis with the package 'cluster'
:

1.  I have a dissimilarity matrix in csv format, and I would like to use 
it to generate a dendogram using 'hclust'.  How do I make that matrix 
compatible with the function?  I think it has to be similar to the objects 
generated by  the 'dist' function.  Any ideas?

2.  Does anybody have a code for calculating a similarity matrix using the 
Nei-Li index.  My data has either presence (1) or absence (0) for several 
attributes in 73 individuals (specifically, I'm trying to construct a 
dendogram with RFLP data)

Many thanks in advance!

Fredy Mej?a

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Andre.dos.Anjos at cern.ch  Tue Aug 27 18:09:34 2002
From: Andre.dos.Anjos at cern.ch (Andre Rabello DOS ANJOS)
Date: Tue, 27 Aug 2002 18:09:34 +0200
Subject: [R] PDF output problem
Message-ID: <20020827160934.GG13125@pcatd37.cern.ch>

Hello,
	I'm quite new to R, but I've already stepped into this problem:
I open a PDF device with:
pdf("Name-%d.pdf", width=10, height=10, onefile=FALSE)

And draw 4 histograms in a row, expecting the pdf device to
automatically number them from 1 to 4. What I get back is
only 2 images with names "Name-1.pdf" and "Name-2.pdf" that
contain the two last histograms I've plotted. Is it a known
problem? Or am I doing something wrong here?

I attach the script to this message in the hope somebody knows
the cause of this strange behaviour. Thanks in advance for
any help.

	Andre.

-- 
Andre Rabello DOS ANJOS, M.Sc.
Signal Processing, Data Analysis and Computing
Office: 32-2-A06, Tel: (+ 41 22) 767 5022
Fax: (+ 41 22) 767 8420
CERN - EP/HC Division
CH-1211 Geneve 23 - Suisse/Switzerland
http://cern.ch/rabello
-------------- next part --------------
# Hello emacs (ess), this is -*- R -*-
# $Id$
# Andre DOS ANJOS <Andre.dos.Anjos at cern.ch>

# This script will run R, producing histograms
# generated with data from nat.

# Calculates the standard deviation of a vector
std <- function (x) {
  return(sqrt(sum((x-mean(x))^2)/(length(x)-1)))
}

# This function will produce a fancy histogram in R. The histogram,
# besides having the normal look, will display the total number of
# entries, the average and standard deviation (aka, sigma). 
nathist <- function (d, breaks = "Sturges",
                     main = "NetLogger Histogram",
                     xlab = expression(paste("Time (", mu, "s)")),
                     ylab = "Counts") {
  r <- hist(d, breaks=breaks, main=main, xlab=xlab, ylab=ylab,
            border='black', col='yellow')
  y <- max(r$counts) * 0.9
  x <- r$breaks[length(r$breaks)-1] * 0.7
  text(x, y, paste("Entries: ", length(d)), pos=4, col='blue3')
  text(x, 0.97*y, paste("Average: ",mean(d)), pos=4, col='blue3')
  text(x, 0.94*y, paste("Deviation: ",std(d)), pos=4, col='blue3')
  rect(0.99*x, 0.92*y, 0.99*r$breaks[length(r$breaks)], y*1.03,
       border='black')
  ##text(r$mids, r$counts*1.005, r$counts, pos=3)
  ## return(r)
}

#Set the column names
colname <- c("ROW.NAMES", "PUT.L1RESULT", "GET.L1RESULT", "START.PROCESSING",
             "GAUDI.START.ALGO.PROCESSING", "ROSDATA.REQUESTED.1",
             "ROSDATA.RECEIVED.1", "ROSDATA.REQUESTED.2",
             "ROSDATA.RECEIVED.2", "GAUDI.END.ALGO.PROCESSING",
             "END.PROCESSING", "SEND.L2DECISION", "DELETE.L1MESG")

#Read-in the data table
my <- read.table("file.dat", col.names=colname, row.names=1)

# Data Transfer Overhead
datareq = my[,"ROSDATA.RECEIVED.1"] - my[,"ROSDATA.REQUESTED.1"] +
  my[,"ROSDATA.RECEIVED.2"] - my[,"ROSDATA.REQUESTED.2"]

pdf(file="nat-rose.pdf", heigh=10, width=10, onefile=TRUE)
nathist(datareq, main="L2PU/ROSE Data Transfer Overhead", breaks=25)

# Gaudi Timings
gaudi = my[,"GAUDI.END.ALGO.PROCESSING"] -
  my[,"GAUDI.START.ALGO.PROCESSING"] - datareq
pdf(file="nat-pesa.pdf", heigh=10, width=10, onefile=TRUE)
nathist(gaudi, main="PESA Timings", breaks=50)

# L2PU Overhead
l2pu = my[,"DELETE.L1MESG"] - my[,"GET.L1RESULT"] - datareq - gaudi
pdf(file="nat-l2pu.pdf", heigh=10, width=10, onefile=TRUE)
nathist(l2pu, main="L2PU Overhead", breaks=50)

# Queue Timing
queue = my[,"GET.L1RESULT"] - my[,"PUT.L1RESULT"]
pdf(file="nat-queue.pdf", heigh=10, width=10, onefile=TRUE)
nathist(queue, main="Queue Timings", breaks=50)

graphics.off()
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 232 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020827/4d6cf11b/attachment.bin

From Andre.dos.Anjos at cern.ch  Tue Aug 27 18:17:00 2002
From: Andre.dos.Anjos at cern.ch (Andre Rabello DOS ANJOS)
Date: Tue, 27 Aug 2002 18:17:00 +0200
Subject: [R] PDF problem (correction)
Message-ID: <20020827161700.GA13494@pcatd37.cern.ch>

The script I just sent was not _exactly_ the one I
used to produce the error: Just erase all pdf()
lines and substitute by one before the first
histogram plotting.

-- 
Andre Rabello DOS ANJOS, M.Sc.
Signal Processing, Data Analysis and Computing
Office: 32-2-A06, Tel: (+ 41 22) 767 5022
Fax: (+ 41 22) 767 8420
CERN - EP/HC Division
CH-1211 Geneve 23 - Suisse/Switzerland
http://cern.ch/rabello
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 232 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020827/7975cdc3/attachment.bin

From Rajiv.Prasad at pnl.gov  Tue Aug 27 18:20:10 2002
From: Rajiv.Prasad at pnl.gov (Prasad, Rajiv)
Date: Tue, 27 Aug 2002 09:20:10 -0700
Subject: [R] updating n within for(i in 1:n) loop
Message-ID: <202822BFB70EBC4BB3EAFD853EE2B6BF0175BC89@pnlmse10.pnl.gov>

Thanks to all who replied.  the while construct worked perfectly for my
problem.

Rajiv
--------
Rajiv Prasad
Postdoctoral Research Associate, Hydrology Group
Pacific Northwest National Laboratory, P.O. Box 999, MSIN K9-33
Richland, WA 99352
Voice: (509) 375-2096  Fax: (509) 372-6089  Email: rajiv.prasad at pnl.gov


> -----Original Message-----
> From: Ravi Varadhan [mailto:rvaradha at jhsph.edu]
> Sent: Monday, August 26, 2002 1:01 PM
> To: Prasad, Rajiv
> Cc: R-Help (E-mail)
> Subject: Re: [R] updating n within for(i in 1:n) loop
> 
> 
> 
> Why not use a "while" loop instead?
> 
> n <- 2
> i <- 1
>  while (i <= n)
>  {
>    cat(paste("i =", i, "\n")); flush.console()
>    n <- 5  # version 1
>    i <- i+1
>   }
> 
> I think the above should work.
> 
> Ravi.
> 
> 
> ----- Original Message -----
> From: "Prasad, Rajiv" <Rajiv.Prasad at pnl.gov>
> Date: Monday, August 26, 2002 1:54 pm
> Subject: [R] updating n within for(i in 1:n) loop
> 
> > Hi folks:
> > 
> > I think I'm having problems with figuring this one out:
> > 
> > test1 <- function()
> > {
> >  n <- 2
> > 
> >  for(i in 1:n)
> >  {
> >    cat(paste("i =", i, "\n")); flush.console()
> >    n <- 5  # version 1
> >    #n <<- 5  # version 2
> >    #assign("n", 5, envir = environment(test1))  # version 3
> >  }
> > }
> > 
> > I need the for(.) loop to run (say) n=5 times within the function, 
> > but I do
> > not know that before the loop begins.  In other words, n is to be 
> > updatedduring computations within the for(.) loop.  This code 
> > prints "i = 1" and "i
> > = 2" only.  If I modify test1(.) to use version 2 or 
> version 3 of the
> > assignment, there is no change to the output, and I end up with an 
> > "n" in
> > the parent environment with value 5.  So the problem is to assign 
> > 5 to n in
> > the calling environment of the for(.) loop??  (I'm sure my 
> > terminology is
> > quite mixed up here -- please feel free to comment.)
> > 
> > How do I do this?
> > 
> > Thanks in advance.
> > 
> > > version
> >         _              
> > platform i386-pc-mingw32
> > arch     i386           
> > os       mingw32        
> > system   i386, mingw32  
> > status                  
> > major    1              
> > minor    5.1            
> > year     2002           
> > month    06             
> > day      17             
> > language R              
> > 
> > 
> > Rajiv
> > --------
> > Rajiv Prasad
> > Postdoctoral Research Associate, Hydrology Group
> > Pacific Northwest National Laboratory, P.O. Box 999, MSIN K9-33
> > Richland, WA 99352
> > Voice: (509) 375-2096  Fax: (509) 372-6089  Email: 
> > rajiv.prasad at pnl.gov
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > .-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-
> > FAQ.htmlSend "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-
> > 
> request at stat.math.ethz.ch_._._._._._._._._._._._._._._._._._._
> ._._._._._
> ._._._._._._._._._._._._._._._._
> > 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rnassar at duke.edu  Tue Aug 27 18:16:24 2002
From: rnassar at duke.edu (Rashid Nassar)
Date: Tue, 27 Aug 2002 12:16:24 -0400 (EDT)
Subject: [R] Peter Dalgaard's book availability....
In-Reply-To: <5.1.1.5.2.20020827064826.017d7f30@pop4.attglobal.net>
Message-ID: <Pine.GSO.4.44.0208271214210.27163-100000@godzilla4.acpub.duke.edu>

Barnes & Noble (www.bn.com) have MASS4 (2 - 3 days shipping) but not (so
far) Peter Dalgaard's book.

Rashid Nassar

On Tue, 27 Aug 2002, Marc R. Feldesman wrote:

> At 04:51 AM 8/27/2002, ripley at stats.ox.ac.uk wrote:
>  >On 27 Aug 2002, Peter Dalgaard BSA wrote:
>  >
>
>  >> weeks before it reaches the warehouses.
>  >>
>  >> Same thing with MASS4, I expect.
>  >
>  >Yes, but that was a couple of weeks ahead and people have got copies from
>  >Amazon.
>
>
> Not, AFAIK, from Amazon US.  I've had an order in for MASS4 and for Peter's
> book since mid-July.  According to the Amazon US web page, neither book is
> published yet.  They're ordered separately and neither one shows an
> estimated shipping date either.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikem at salter-point.com  Tue Aug 27 18:26:20 2002
From: mikem at salter-point.com (Michael M. Meyer)
Date: Tue, 27 Aug 2002 09:26:20 -0700
Subject: [R] Peter Dalgaard's book availability.... 
In-Reply-To: Message from "Marc R. Feldesman" <feldesmanm@pdx.edu> 
   of "Tue, 27 Aug 2002 06:50:17 PDT." <5.1.1.5.2.20020827064826.017d7f30@pop4.attglobal.net> 
Message-ID: <200208271626.g7RGQK107545@home.salter-point.com>

I have received my copy of MASS4 from Amazon US.  It arrived yesterday. 
--Mike

>***> "Marc R. Feldesman" wrote (Tue, 27 Aug 2002 06:50:17 PDT)
> At 04:51 AM 8/27/2002, ripley at stats.ox.ac.uk wrote:
>  >On 27 Aug 2002, Peter Dalgaard BSA wrote:
>  >
> 
>  >> weeks before it reaches the warehouses.
>  >>
>  >> Same thing with MASS4, I expect.
>  >
>  >Yes, but that was a couple of weeks ahead and people have got copies from
>  >Amazon.
> 
> 
> Not, AFAIK, from Amazon US.  I've had an order in for MASS4 and for Peter's 
> book since mid-July.  According to the Amazon US web page, neither book is 
> published yet.  They're ordered separately and neither one shows an 
> estimated shipping date either.  
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> ._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From elvis at xlsolutions-corp.com  Tue Aug 27 19:14:17 2002
From: elvis at xlsolutions-corp.com (Elvis Miller, PhD)
Date: Tue, 27 Aug 2002 13:14:17 -0400
Subject: [R] Course***R/S-plus Programming Techniques II September - August 2002
Message-ID: <200208271714.g7RHEHr11214@email.featureprice.com>

XLSolutions Corporation (www.xlsolutions-corp.com) is proud
to announce a 2-day "R/S-plus Programming Techniques II" course:

**** Irvine ------------------------> September 16-17  
**** Seattle -----------------------> September 16-17
**** San Francisco -----------------> September 19-20
**** Boston ------------------------> October 7-8
**** Atlanta -----------------------> October 10-11

Early-bird: $985
Payments are due AFTER the course but you need to hold your seat
NOW! 

Course Description:

This intermediate level course is recommended for
statisticians/analysts who have some previous experience
using R/S-plus and wish to hone their skills.
Casual users can "fill in the gaps" of their knowledge
to make better use of R/S-PLus.

This course will focus on advanced graphics, Vectorization,
resource management, connecting to C++, introduction to
classes and methods (including S4 classes)  and statistical
modeling with applications to finance and biotech.


Course Outline:

- Overview of R/S-Plus
- Using Advanced Lattice/Trellis Graphics
- Using High-level Plotting Functions
- Taking advantage of fast objects and fast functions
- Avoiding Loops
- Vectorization
- Statistical Modeling with applications to finance and biotech
- Resource Management
- Techniques for Effective use of R and S
- Connecting to C++
- Introduction to Classes (S4/S-Plus) and Methods
- Macros in R
- Building and Distributing Packages (libraries)



Registration:

Email Sue Turner: sue at xlsolutions-corp.com
Phone: 206-686-1578 x221
Visit us: www.xlsolutions-corp.com/training.htm


Course Format:

This course consists of a series of short lectures with
demonstrations and interactive sessions for the participants.
Each student is provided with bound copies of the notes and
a CD-ROM containing all examples, exercises and software used
on the course.



Share Your Thoughts:

Are there any additional topics you would like for this course to
address?
Would you like for this course to be offered in another city?

Please let us know by contributing to our recommendation list:
training at xlsolutions-corp.com.

========================================================================

R/S-Plus Programming Techniques II 
Pre-registration Form (Please email or print and fax: 206-686-1578)
XLsolutions Corporation: For your Solutions needs, Consulting and
Training.
www.xlsolutions-corp.com



Title...... First Name ................. Last Name....................

Organization..........................................................

Mailing Address.......................................................

.....................................................................

.....................................................................

Zip Code...................... Country.............................

Telephone........................... Fax ...............................

E-mail................................................................

Payment will be made by: (1) check (2) invoice (3) bank transfer



Elvis Miller, PhD
Manager Training and Technical Support
North American Division
XLSolutions Corporation
Email: elvis at xlsolutions-corp.com
Phone: 206-686-1578
Web: www.xlsolutions-corp.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Aug 27 19:13:46 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 27 Aug 2002 10:13:46 -0700 (PDT)
Subject: [R] PDF output problem
In-Reply-To: <20020827160934.GG13125@pcatd37.cern.ch>
Message-ID: <Pine.A41.4.44.0208271012210.118758-100000@homer41.u.washington.edu>


Still present in r-devel, eg

pdf("name%d.pdf",onefile=FALSE)
plot(1,main=1)
plot(1,main=2)
plot(1,main=3)
plot(1,main=4)
dev.off()

produces two files "name1.pdf" and "name2.pdf" containing the first and
fourth plots respectively. Doesn't happen with postscript().

	-thomas




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ypeng at math.mun.ca  Tue Aug 27 19:37:48 2002
From: ypeng at math.mun.ca (Paul Y. Peng)
Date: Tue, 27 Aug 2002 15:07:48 -0230
Subject: [R] Peter Dalgaard's book availability....
References: <20020827104335.96556.qmail@web12101.mail.yahoo.com>
Message-ID: <3D6BB8EC.92BDA9D4@math.mun.ca>

CARLOS ORTEGA wrote:
> 
> Dear List,
> 
> Does anyone know when will be available Peter
> Dalgaard's book: "Introductory Statistics with R" ?.
> 
> According to Amazon: "This item will be published on
> August 15, 2002", but it continues unpublised.

I believe this book is already available from the publisher. I saw
a few copies for sale in Springer's booth at JSM in NYC.

Paul.
--

His mind is like a steel trap: full of mice.
                -- Foghorn Leghorn
---------------------------------------------------------------+++
Paul Y. Peng, PhD                     E-mail: ypeng at math.mun.ca \\\
Department of Mathematics and Statistics    Fax: (709) 737 3010  \\\
Memorial University of Newfoundland       Phone: (709) 737 8080  ///
St. John's, NFLD A1C 5S7, Canada    Web: www.math.mun.ca/~ypeng ///
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 27 19:41:41 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 27 Aug 2002 18:41:41 +0100 (BST)
Subject: [R] Peter Dalgaard's book availability....
In-Reply-To: <3D6BB8EC.92BDA9D4@math.mun.ca>
Message-ID: <Pine.LNX.4.31.0208271838180.20567-100000@gannet.stats>

On Tue, 27 Aug 2002, Paul Y. Peng wrote:

> CARLOS ORTEGA wrote:
> >
> > Does anyone know when will be available Peter
> > Dalgaard's book: "Introductory Statistics with R" ?.
> >
> > According to Amazon: "This item will be published on
> > August 15, 2002", but it continues unpublised.
>
> I believe this book is already available from the publisher. I saw
> a few copies for sale in Springer's booth at JSM in NYC.

That proves very little.  My PRNN book had 30 copies on sale at NIPS in
November 1995, but was not officially published until 1996.  Advance
copies are often available weeks before the warehouses have them.

www.springer-ny.com does say both ISwR and MASS4 are published and in
stock, which it did not a week ago.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Aug 27 20:49:58 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Aug 2002 20:49:58 +0200
Subject: [R] Peter Dalgaard's book availability....
In-Reply-To: <Pine.LNX.4.31.0208271838180.20567-100000@gannet.stats>
References: <Pine.LNX.4.31.0208271838180.20567-100000@gannet.stats>
Message-ID: <x23ct0qgq1.fsf@biostat.ku.dk>

ripley at stats.ox.ac.uk writes:


> > I believe this book is already available from the publisher. I saw
> > a few copies for sale in Springer's booth at JSM in NYC.
> 
> That proves very little.  My PRNN book had 30 copies on sale at NIPS in
> November 1995, but was not officially published until 1996.  Advance
> copies are often available weeks before the warehouses have them.
> 
> www.springer-ny.com does say both ISwR and MASS4 are published and in
> stock, which it did not a week ago.

At least they should have the stock of copies that didn't get sold at
the JSM...  ;-) 

Certain proof of shipping would seem to be when the authors receive
their free copies (except for the first one which they FedEx ASAP).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Tue Aug 27 21:13:21 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Kevin Wang)
Date: Wed, 28 Aug 2002 07:13:21 +1200
Subject: [R] Peter Dalgaard's book availability....
References: <x2ptw4iljb.fsf@biostat.ku.dk> <5.1.1.5.2.20020827064826.017d7f30@pop4.attglobal.net>
Message-ID: <001b01c24dfd$d0824c60$892037d2@kwan022>


----- Original Message -----
From: "Marc R. Feldesman" <feldesmanm at pdx.edu>
To: <ripley at stats.ox.ac.uk>; "Peter Dalgaard BSA" <p.dalgaard at biostat.ku.dk>
Cc: "CARLOS ORTEGA" <coforfe at yahoo.es>; <r-help at stat.math.ethz.ch>
Sent: Wednesday, August 28, 2002 1:50 AM
Subject: Re: [R] Peter Dalgaard's book availability....


> Not, AFAIK, from Amazon US.  I've had an order in for MASS4 and for
Peter's
> book since mid-July.  According to the Amazon US web page, neither book is
> published yet.  They're ordered separately and neither one shows an
> estimated shipping date either.

Actually it (MASS4) is available from Amazon US.  I "pre-ordered" MASS4 in
July, and about 5 days ago I got an email from Amazon saying it has been
shipped.  Having said that, their web site still shows it is not published
yet,  I guess they probably have not updated their database yet.

Cheers,

Kevin


------------------------------------------------
Ko-Kang Kevin Wang
Post Graduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand

www.stat.auckand.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Brett.Magill at slps.org  Tue Aug 27 21:07:18 2002
From: Brett.Magill at slps.org (Brett A Magill)
Date: Tue, 27 Aug 2002 14:07:18 -0500
Subject: [R] Opening Data Via FTP
Message-ID: <20458245FA51654B8BDE6B4EFF7B519401061719@EXCHANGE1.slps.SLPSROOT.ORG>

Hello all,

I am trying to read a table in via ftp, something like this:

  read.table("ftp://ftp.the.file.com/the/directory/file.txt")

The trouble with that is, our ftp server is picky and wants my username and password.  Oh, bother.  My question:  Is there a way to send user/pass and read the file into R?

I am using R 1.5.1 on Windows 98.  

Thanks,


Brett A. Magill, Evaluator
Research, Assessment, and Evaluation
Saint Louis Public Schools
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 27 21:38:21 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Tue, 27 Aug 2002 20:38:21 +0100 (BST)
Subject: [R] Opening Data Via FTP
In-Reply-To: <20458245FA51654B8BDE6B4EFF7B519401061719@EXCHANGE1.slps.SLPSROOT.ORG>
Message-ID: <Pine.LNX.4.31.0208272033340.26594-100000@gannet.stats>

On Tue, 27 Aug 2002, Brett A Magill wrote:

> I am trying to read a table in via ftp, something like this:
>
>   read.table("ftp://ftp.the.file.com/the/directory/file.txt")
>
> The trouble with that is, our ftp server is picky and wants my username
and password.  Oh, bother.  My question:  Is there a way to send user/pass
and read the file into R?

Yes.

It's pretty standard

ftp://user:pass at ftp.the.file.com/the/directory/file.txt

and that works in R (or used to).

I suggest use --internet2 and however you would do this in Internet
Explorer.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chr.schulz at email.de  Tue Aug 27 22:00:18 2002
From: chr.schulz at email.de (chr.schulz@email.de)
Date: Tue, 27 Aug 2002 22:00:18 +0200
Subject: [R] unlist (rpart.object.list)
Message-ID: <200208272000.g7RK0IX08649@mailgate5.cinetic.de>

Hello,
can me please help anbody how it is possible 
unlist a "rpart.object.list" i.e. from bagging(ipred) to
plot this "unique" several rpart.objects .

..i make attempts with unlist, get really atomic
elements, but need only the different tree's !

Thanks for advance
& regards,Christian



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Tue Aug 27 22:45:02 2002
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Tue, 27 Aug 2002 16:45:02 -0400
Subject: [R] Package foreign
References: <3E96F037.60105@arcriswell.com>
Message-ID: <3D6BE4CE.3F621184@umsanet.edu.bo>

Hola!

Can the foreign package now read data from spss 10?

Kjetil Halvorsen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Tue Aug 27 23:42:50 2002
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Tue, 27 Aug 2002 14:42:50 -0700
Subject: [R] Peter Dalgaard's book availability....
In-Reply-To: <001b01c24dfd$d0824c60$892037d2@kwan022>
References: <x2ptw4iljb.fsf@biostat.ku.dk>
 <5.1.1.5.2.20020827064826.017d7f30@pop4.attglobal.net>
Message-ID: <5.1.1.5.2.20020827143927.01685e08@pop4.attglobal.net>

At 12:13 PM 8/27/2002, Ko-Kang Kevin Wang took a glob of electronic fairy 
dust, mushed it together in odd and bizarre ways, and ruminated:
 >
 >Actually it (MASS4) is available from Amazon US.  I "pre-ordered" MASS4 in
 >July, and about 5 days ago I got an email from Amazon saying it has been
 >shipped.  Having said that, their web site still shows it is not published
 >yet,  I guess they probably have not updated their database yet.
 >

I preordered from Amazon in early July.  Despite reports of shipments from 
Amazon, Amazon's own customer service people insist the book isn't 
available yet.  I cancelled my order with Amazon and went over to Barnes & 
Noble.  There I ordered it and it will ship tomorrow.

Just for fun, I went back to the Amazon site and tried to pre-order the 
book again.  When I did, the site told me the book would ship on September 
15, 2002.  Something is definitely amiss at Amazon US right now.   

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Brian.J.GREGOR at odot.state.or.us  Wed Aug 28 02:46:22 2002
From: Brian.J.GREGOR at odot.state.or.us (Brian.J.GREGOR@odot.state.or.us)
Date: Tue, 27 Aug 2002 17:46:22 -0700
Subject: [R] Selection of Records in a Data Frame Based on a Criteria Applying
	 to Factors
Message-ID: <372EFF9FE4E42E419C978E7A305DC5FE014E50B2@EXSALEM5.highway.odot.state.or.us>

I was wondering whether there is a simpler way of selecting records from a
data frame based on criteria applied to records grouped by factors.  Each
record of my data frame represents a bridge.  The record includes data on
the bridge number (bridge.num), the number of the roadway link the bridge is
on (link.num), a restriction level for the bridge (status), and a year that
the restriction occurs (year).  A roadway link may have more than one bridge
on it.  What I need to do is make a data frame of roadway links where each
link record represents the greatest degree of bridge restriction present on
the link (e.g. the most restricted and the earliest year of restriction).
Here is how I process the bridges data frame to get my result:

bridges <- bridges[order(bridges$link.num),]
bridges <- bridges[unlist(tapply(bridges$status, bridges$link.id,
function(x) x==max(x))),]
bridges <- bridges[unlist(tapply(bridges$year, bridges$link.id, function(x)
x==min(x))),]
bridges <- bridges[!duplicated(bridges$link.id),]  # remove remaining
duplicates

Is there a better way to do this?

Brian Gregor, P.E.
Transportation Planning Analysis Unit
Oregon Department of Transportation
Brian.J.GREGOR at odot.state.or.us
(503) 986-4120
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chromatonus712 at hotmail.com  Wed Aug 28 03:02:57 2002
From: chromatonus712 at hotmail.com (chromatonus 712)
Date: Wed, 28 Aug 2002 01:02:57 +0000
Subject: [R] how do you install R-plus on Win ME?
Message-ID: <F167mNEYnkZvLQET7ff000013c4@hotmail.com>

Hi, I downloaded the 5mb zip file, but couldn't find any exe. files...
Thanks


_________________________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Remington.Richard at epamail.epa.gov  Wed Aug 28 03:18:03 2002
From: Remington.Richard at epamail.epa.gov (Remington.Richard@epamail.epa.gov)
Date: Tue, 27 Aug 2002 18:18:03 -0700
Subject: [R] base conversion, digit interweaving
Message-ID: 
 <OFF22F9215.398E299F-ON88256C23.0006D86A-88256C23.00072574@rtp.epa.gov>


I've written some "rough" functions for base conversion and digit
interweaving
(as in x=135, y=246, interwoven=123456) which are ok for a small number
of
conversions or weaves, but, to be able to handle a large number of
conversions
or weaves, I'm hoping that some faster code already exists (ideally
calling C
or FORTRAN).  Any suggestions for going base10 to base2, base2 to base4,
or
digit interweaving would be appreciated.

regards,
Richard Remington

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rvaradha at jhsph.edu  Wed Aug 28 04:54:43 2002
From: rvaradha at jhsph.edu (Ravi Varadhan)
Date: Tue, 27 Aug 2002 22:54:43 -0400
Subject: [R] Random unit vectors in R^{n}
Message-ID: <009101c24e3e$43d708a0$8a101eac@newmicronpc>

There is a note by George Marsaglia in Annals of mathematical statistics
(1972) (p. 645-646), which talks about faster ways of picking points
uniformly from the surface of a unit sphere.  However, his algorithms are
limited to 3 and 4 dimensions.  I am not sure if there are similar
algorithms for any general "n".  For larger "n", it seems that the method
suggested by Tom Lumley, using "n"  N(0,1) deviates, is the best approach.

Ravi.

-----Original Message-----
From: Richards, Tom <richards at upci.pitt.edu>
To: R-Help (E-mail) <r-help at stat.math.ethz.ch>
Date: Monday, August 26, 2002 8:31 PM
Subject: [R] Random unit vectors in R^{n}


>Hello:
>
> Can you tell me if there's a simple way to generate in R random
>vectors on the unit sphere in R^{n}?  Additionally, are there references
for
>this question?  Thanks in advance.
>
>Tom
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Wed Aug 28 05:23:34 2002
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 27 Aug 2002 23:23:34 -0400
Subject: [R] Package foreign
In-Reply-To: <3D6BE4CE.3F621184@umsanet.edu.bo>
References: <3E96F037.60105@arcriswell.com>
Message-ID: <5.1.0.14.2.20020827232200.01d83fc8@mcmail.cis.mcmaster.ca>

Dear Kjetil,

It seems to work for me. (I believe that I've imported such files in the 
past, and I just checked on one of the data files distributed with SPSS.)

John

At 04:45 PM 8/27/2002 -0400, kjetil halvorsen wrote:
>Hola!
>
>Can the foreign package now read data from spss 10?
>
>Kjetil Halvorsen

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From magnus at hetland.org  Wed Aug 28 05:38:50 2002
From: magnus at hetland.org (Magnus Lie Hetland)
Date: Wed, 28 Aug 2002 05:38:50 +0200
Subject: [R] Huge data frames?
Message-ID: <20020828053850.A19965@idi.ntnu.no>

A friend of mine recently mentioned that he had painlessly imported a
data file with 8 columns and 500,000 rows into matlab. When I tried
the same thing in R (both Unix and Windows variants) I had little
success. The Windows version hung for a very long time, until I
eventually more or less ran out of virtual memory; I tried to set the
proper memory allocations for the Unix version, but it never seemed
satisfied :]

I used read.table -- should I have used something else? Is it even
possible to work with this large files? I assume a memory-mapped
binary file would have been quite efficient (as opposed to an
in-memory parsed text file) -- is something like that even possible in
R?

-- 
Magnus Lie Hetland                                  The Anygui Project
http://hetland.org                                  http://anygui.org
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjlu at ibm.stat.ncku.edu.tw  Wed Aug 28 06:12:21 2002
From: cjlu at ibm.stat.ncku.edu.tw (Lu Chi-Hsien Joseph)
Date: Wed, 28 Aug 2002 13:12:21 +0900
Subject: [R] Where are the data "sales" and "production"
Message-ID: <200208280412.NAA16732@ibm.stat.ncku.edu.tw>


Dear R-users,

I just can't find the data set "sales" and "production" used
in the documentation: "An Introduction to R".

"sales" first appears on page 59 in 
> fm <- glm(y ~ x1 + x2, family = gaussian, data = sales)

"production" first appears on page 55 in
fm2 <- lm(y ~ x1 + x2, data = production)

Best regards,

C. Joseph Lu
Department of Statistics
National Cheng-Kung University
Tainan, Taiwan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Wed Aug 28 06:58:48 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Tue, 27 Aug 2002 21:58:48 -0700 (PDT)
Subject: [R] sourcing a file with the plot.lme() function
Message-ID: <Pine.GSO.4.10.10208272151380.674-100000@quetelet.stat.ucla.edu>

I ran into a problem trying to make a plot from a file that's read using
source.  Basically, I have the following code in a file "plot.R" :

library(nlme)
data(Loblolly)
fm1 <- nlme(height ~ SSasymp(age, Asym, R0, lrc),
            data = Loblolly,
            fixed = Asym + R0 + lrc ~ 1,
            random = Asym ~ 1,
            start = c(Asym = 103, R0 = -8.5, lrc = -3.3))
windows(6,6)
plot(fm1)

This code is taken from the help page for 'nlme'.  If I cut an paste this
code into the console, everything works as expected.  However, if I try to
execute the code by calling source("plot.R") the plot is never made.  Has
anyone seen this?


> version
         _              
platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status                  
major    1              
minor    5.1            
year     2002           
month    06             
day      17             
language R              

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Wed Aug 28 07:14:04 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Wed, 28 Aug 2002 07:14:04 +0200
Subject: [R] how do you install R-plus on Win ME?
In-Reply-To: <F167mNEYnkZvLQET7ff000013c4@hotmail.com>
Message-ID: <KKEGJOGBELBHDIKPINBMOEEHCPAA.hb@maths.lth.se>

I don't know which file you actually downloaded, maybe it was a file
containing the R source or something else. The executable install file for
Windows is

  http://cran.r-project.org/bin/windows/base/SetupR.exe  (approx 18Mb)

BTW: It is not called R-plus, but R.

Henrik Bengtsson

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of chromatonus 712
> Sent: Wednesday, August 28, 2002 3:03 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] how do you install R-plus on Win ME?
>
>
> Hi, I downloaded the 5mb zip file, but couldn't find any exe. files...
> Thanks
>
>
> _________________________________________________________________
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jranke at uni-bremen.de  Wed Aug 28 08:24:27 2002
From: jranke at uni-bremen.de (Johannes Ranke)
Date: Wed, 28 Aug 2002 08:24:27 +0200
Subject: [R] probit etc. for dose-response modeling
In-Reply-To: <Pine.A41.4.44.0208270852540.118758-100000@homer41.u.washington.edu>
References: <20020827154942.GA29636@eckehaat.uft.uni-bremen.de> <Pine.A41.4.44.0208270852540.118758-100000@homer41.u.washington.edu>
Message-ID: <20020828062426.GA30325@eckehaat.uft.uni-bremen.de>

Hi again

I found that the nonlinear least squares method also works nicely:

	library(nls)
	model <- nls(viability ~ pnorm(-log10(conc),-EC50,slope),data=data, \
		 start=list(EC50=1.8,slope=0.8))

Is there an advantage of using glm, and how would this work in this case?

Johannes

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Wed Aug 28 08:32:42 2002
From: siim at obs.ee (Ott Toomet)
Date: Wed, 28 Aug 2002 08:32:42 +0200 (CEST)
Subject: [R] Huge data frames?
In-Reply-To: <20020828053850.A19965@idi.ntnu.no>
Message-ID: <Pine.LNX.4.44.0208280826130.3430-100000@localhost.localdomain>

Hi,

You should use scan() to read large ASCII tables.  If you save a dataframe
using save(), you get a binary file which works pretty fast.

Note that similar problems arise if you try to save big dataframes in ASCII
(you may consider my package savetable at
http://www.obs.ee/~siim/savetable_0.1.0.tar.gz in order to do that).

Best wishes,

Ott



On Wed, 28 Aug 2002, Magnus Lie Hetland wrote:

  |A friend of mine recently mentioned that he had painlessly imported a
  |data file with 8 columns and 500,000 rows into matlab. When I tried
  |the same thing in R (both Unix and Windows variants) I had little
  |success. The Windows version hung for a very long time, until I
  |eventually more or less ran out of virtual memory; I tried to set the
  |proper memory allocations for the Unix version, but it never seemed
  |satisfied :]
  |
  |I used read.table -- should I have used something else? Is it even
  |possible to work with this large files? I assume a memory-mapped
  |binary file would have been quite efficient (as opposed to an
  |in-memory parsed text file) -- is something like that even possible in
  |R?
  |
  |

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 28 08:39:11 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 28 Aug 2002 07:39:11 +0100 (BST)
Subject: [R] sourcing a file with the plot.lme() function
In-Reply-To: <Pine.GSO.4.10.10208272151380.674-100000@quetelet.stat.ucla.edu>
Message-ID: <Pine.LNX.4.31.0208280738430.4413-100000@gannet.stats>

Isn't that a lattice plot?  Those need to be printed explicitly.

On Tue, 27 Aug 2002, Roger Peng wrote:

> I ran into a problem trying to make a plot from a file that's read using
> source.  Basically, I have the following code in a file "plot.R" :
>
> library(nlme)
> data(Loblolly)
> fm1 <- nlme(height ~ SSasymp(age, Asym, R0, lrc),
>             data = Loblolly,
>             fixed = Asym + R0 + lrc ~ 1,
>             random = Asym ~ 1,
>             start = c(Asym = 103, R0 = -8.5, lrc = -3.3))
> windows(6,6)
> plot(fm1)
>
> This code is taken from the help page for 'nlme'.  If I cut an paste this
> code into the console, everything works as expected.  However, if I try to
> execute the code by calling source("plot.R") the plot is never made.  Has
> anyone seen this?
>
>
> > version
>          _
> platform i386-pc-mingw32
> arch     i386
> os       mingw32
> system   i386, mingw32
> status
> major    1
> minor    5.1
> year     2002
> month    06
> day      17
> language R
>
> -roger
> _______________________________
> UCLA Department of Statistics
> rpeng at stat.ucla.edu
> http://www.stat.ucla.edu/~rpeng
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 28 08:41:10 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 28 Aug 2002 07:41:10 +0100 (BST)
Subject: [R] probit etc. for dose-response modeling
In-Reply-To: <20020828062426.GA30325@eckehaat.uft.uni-bremen.de>
Message-ID: <Pine.LNX.4.31.0208280739440.4413-100000@gannet.stats>

That fits by least-squares, which is not optimal.  glm fits by
maximum-likelihood.  This can matter: the menarche data set (in MASS)
is one example.

On Wed, 28 Aug 2002, Johannes Ranke wrote:

> Hi again
>
> I found that the nonlinear least squares method also works nicely:
>
> 	library(nls)
> 	model <- nls(viability ~ pnorm(-log10(conc),-EC50,slope),data=data, \
> 		 start=list(EC50=1.8,slope=0.8))
>
> Is there an advantage of using glm, and how would this work in this case?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chr.schulz at email.de  Wed Aug 28 08:46:17 2002
From: chr.schulz at email.de (chr.schulz@email.de)
Date: Wed, 28 Aug 2002 08:46:17 +0200
Subject: [R] Package foreign
Message-ID: <200208280646.g7S6kGX28679@mailgate5.cinetic.de>

....in example 
data <- read.spss("c:/data.sav",use.value.label=F,to.data.frame=T)

try help(read.spss) !

regards,christian





kjetilh at umsanet.edu.bo schrieb am 28.08.02 02:08:39:
> Hola!
> 
> Can the foreign package now read data from spss 10?
> 
> Kjetil Halvorsen
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nikko at hailmail.net  Wed Aug 28 08:41:09 2002
From: nikko at hailmail.net (Nicholas Lewin-Koh)
Date: 28 Aug 2002 14:41:09 +0800
Subject: [R] user defined function in rpart
Message-ID: <1030516885.1243.29.camel@sta123.stat.nus.edu.sg>

Hi,
I am trying to use the rpart library with my own set of functions on a
survival object. I get an immeadiate segmentation fault when i try
calling rpart with my list of functions. I get the same problem with the
logrank example from Therneau,s S-rpart library though their anova
example works. Should I report this as a bug, as even if my functions
are structured improperly, that should lead to an error in R (or
warning) not a seg fault.

If anyone has gotten this to work with survival objects i would
appreciate any tips. My test function is below. Note that there is
nothing for categorical cases because i am not using any caterorical
variables in my test.

Thanks Nicholas


tst.eval<-function(y, wt, parms){
  dev<- sum(residuals(coxph(y~-1))^2) 
  list(label= sum(y[,2]), deviance=dev)
}

tst.split<-function(y, wt, x, parms, continuous){
  xun<-sort(unique(x))
  n <- nrow(y)
  ndev<-sum(residuals(coxph(y~-1))^2)
  gd<-rep(0,n-1)
  dir<-rep(1,n-1)
  if (continuous) {
    for(i in xun[xun<max(xun)]){
       lft<-try(sum(residuals(coxph(y[x>i]~-1))^2))
       rt<-try(sum(residuals(coxph(y[x<=i]~-1))^2))
       gd[x==i]<-ndev-(lft+rt)
       #dir[x==i]<-1
    }
    
    list(goodness=gd , direction=)
  }
  else{
    list(goodness= , direction = )
  }
}

tst.init<-function(y, offset, parms, wt){
    browser()
    if (!is.null(offset)) y <- y-offset
    list(y=y, parms=0, numresp=2, numy=2,
	      summary= function(yval, dev, wt, ylevel, digits ) {
		  paste("  mean=", format(signif(yval, digits)),
			", MSE=" , format(signif(dev/wt, digits)),
			sep='')
	     },
    	 text= function(yval, dev, wt, ylevel, digits, n, use.n ) {
	     if(use.n) {paste(formatg(yval,digits),"\nn=", n,sep="")}
             else{paste(formatg(yval,digits))}
           })

}



tst.lst<-list(eval=tst.eval, split=tst.split, init=tst.init)

data(lung)
fit1 <- rpart(Surv(time, status) ~ age +  ph.karno +
meal.cal,data=lung,control=rpart.control(minsplit=30, xval=0,
cp=.011),method=tst.lst)




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 28 08:50:20 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 28 Aug 2002 07:50:20 +0100 (BST)
Subject: [R] Huge data frames?
In-Reply-To: <20020828053850.A19965@idi.ntnu.no>
Message-ID: <Pine.LNX.4.31.0208280731030.4413-100000@gannet.stats>

On Wed, 28 Aug 2002, Magnus Lie Hetland wrote:

> A friend of mine recently mentioned that he had painlessly imported a
> data file with 8 columns and 500,000 rows into matlab. When I tried
> the same thing in R (both Unix and Windows variants) I had little
> success. The Windows version hung for a very long time, until I
> eventually more or less ran out of virtual memory; I tried to set the
> proper memory allocations for the Unix version, but it never seemed
> satisfied :]

That's not big: if numeric it is a 32Mb object.  People do do that quite
often (on machines with 512Mb or more, but memory is cheap).  So it is
hard to know what the problem is, but ?read.table gives some hints
(including using scan()).

I've just done an experiment. I generated 4m rnorms, made a matrix,
wrote them out.  Then.

AA <- read.table("foo.dat", nrows=5e5, comment.char="",
                 colClasses=rep("numeric", 8), header=T)

worked for me in about 20secs, using less than 150Mb.

That was painless, and all the speed-ups are documented in ?read.table.


> I used read.table -- should I have used something else? Is it even
> possible to work with this large files? I assume a memory-mapped
> binary file would have been quite efficient (as opposed to an
> in-memory parsed text file) -- is something like that even possible in
> R?

Certainly possible to read binary files. That's what load/save do,
and see ?readBin to read binary files written by other formats.
Having a file that size in memory is not a problem.  Doing useful
analyses may be (especially in Matlab).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chr.schulz at email.de  Wed Aug 28 08:53:08 2002
From: chr.schulz at email.de (chr.schulz@email.de)
Date: Wed, 28 Aug 2002 08:53:08 +0200
Subject: [R] Huge data frames?
Message-ID: <200208280653.g7S6r8X06409@mailgate5.cinetic.de>

..perhaps you have more access
when you use the Rodbc Package and MySQL as
Data-Store !?

channel  <- odbcConnect("db_name","login","pass")
data  <- sqlFetch(channel, data, errors = TRUE, as = "data frame", nullstring = "sysmis", na.strings = "NA")   

..or sqlQuery !


good luck ;-)

regards,christian



Magnus Lie Hetland <magnus at hetland.org> schrieb am 28.08.02 07:44:33:
> A friend of mine recently mentioned that he had painlessly imported a
> data file with 8 columns and 500,000 rows into matlab. When I tried
> the same thing in R (both Unix and Windows variants) I had little
> success. The Windows version hung for a very long time, until I
> eventually more or less ran out of virtual memory; I tried to set the
> proper memory allocations for the Unix version, but it never seemed
> satisfied :]
> 
> I used read.table -- should I have used something else? Is it even
> possible to work with this large files? I assume a memory-mapped
> binary file would have been quite efficient (as opposed to an
> in-memory parsed text file) -- is something like that even possible in
> R?
> 
> -- 
> Magnus Lie Hetland                                  The Anygui Project
> http://hetland.org                                  http://anygui.org
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Allyson.Williams at dpi.qld.gov.au  Wed Aug 28 08:54:16 2002
From: Allyson.Williams at dpi.qld.gov.au (Williams, Allyson)
Date: Wed, 28 Aug 2002 16:54:16 +1000
Subject: No subject
Message-ID: <03DC03917AD26444A980CD8D4BC9621604E0C6@decsrv001.dpi.qld.gov.au>

Hi,

I'm wanting to produce a filled contour plot (easy), and overlay the
Australian coastline ( ie oz(add=True)).
That is,
filled.contour(longs, lats, field)
oz(add=T)

HOWEVER, the axes of the "filled contour" and the "oz map" do not
automatically align themselves with each other. 
 ie my contours are not correctly positioned over the map. 


HOWEVER, if I just plot contours (as opposed to filled contours) with
the oz map, it works fine. 
That is,
contour(longs,lats,field)
oz(add=T)


Why the difference? Any ideas as to how to produce the filled contours
with map properly positioned? (plot.axes etc did not work)

Many thanks for your time.
Allyson

********************************DISCLAIMER****************************
The information contained in the above e-mail message or messages 
(which includes any attachments) is confidential and may be legally 
privileged.  It is intended only for the use of the person or entity 
to which it is addressed.  If you are not the addressee any form of 
disclosure, copying, modification, distribution or any action taken 
or omitted in reliance on the information is unauthorised.  Opinions 
contained in the message(s) do not necessarily reflect the opinions 
of the Queensland Government and its authorities.  If you received 
this communication in error, please notify the sender immediately and 
delete it from your computer system network.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 28 09:03:10 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 28 Aug 2002 08:03:10 +0100 (BST)
Subject: [R] Huge data frames?
In-Reply-To: <200208280653.g7S6r8X06409@mailgate5.cinetic.de>
Message-ID: <Pine.LNX.4.31.0208280800080.6795-100000@gannet.stats>

RODBC definitely uses more memory than read.table.

One day I'll rewrite RODBC to use the more efficient internals of the
current read.table.

On Wed, 28 Aug 2002 chr.schulz at email.de wrote:

> ..perhaps you have more access
> when you use the Rodbc Package and MySQL as
> Data-Store !?
>
> channel  <- odbcConnect("db_name","login","pass")
> data  <- sqlFetch(channel, data, errors = TRUE, as = "data frame", nullstring = "sysmis", na.strings = "NA")
>
> ..or sqlQuery !
>
>
> good luck ;-)
>
> regards,christian
>
>
>
> Magnus Lie Hetland <magnus at hetland.org> schrieb am 28.08.02 07:44:33:
> > A friend of mine recently mentioned that he had painlessly imported a
> > data file with 8 columns and 500,000 rows into matlab. When I tried
> > the same thing in R (both Unix and Windows variants) I had little
> > success. The Windows version hung for a very long time, until I
> > eventually more or less ran out of virtual memory; I tried to set the
> > proper memory allocations for the Unix version, but it never seemed
> > satisfied :]
> >
> > I used read.table -- should I have used something else? Is it even
> > possible to work with this large files? I assume a memory-mapped
> > binary file would have been quite efficient (as opposed to an
> > in-memory parsed text file) -- is something like that even possible in
> > R?
> >
> > --
> > Magnus Lie Hetland                                  The Anygui Project
> > http://hetland.org                                  http://anygui.org
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Wed Aug 28 10:10:12 2002
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Wed, 28 Aug 2002 10:10:12 +0200
Subject: [R] Huge data frames?
In-Reply-To: <20020828053850.A19965@idi.ntnu.no>
References: <20020828053850.A19965@idi.ntnu.no>
Message-ID: <20020828081012.GA18644@giraffa.cbs.dtu.dk>

On Wed, Aug 28, 2002 at 05:38:50AM +0200, Magnus Lie Hetland wrote:
> A friend of mine recently mentioned that he had painlessly imported a
> data file with 8 columns and 500,000 rows into matlab. When I tried
> the same thing in R (both Unix and Windows variants) I had little
> success. The Windows version hung for a very long time, until I
> eventually more or less ran out of virtual memory; I tried to set the
> proper memory allocations for the Unix version, but it never seemed
> satisfied :]
> 
> I used read.table -- should I have used something else? Is it even

try 'scan'

> possible to work with this large files? I assume a memory-mapped
> binary file would have been quite efficient (as opposed to an
> in-memory parsed text file) -- is something like that even possible in
> R?
> 

have a look at the package 'rhdf5' (at least at www.bioconductor.org,
not sure it's on CRAN). Not exactly what you describe but could be
relevant.



Regards,


L.


> -- 
> Magnus Lie Hetland                                  The Anygui Project
> http://hetland.org                                  http://anygui.org
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
--------------------------------------------------------------
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			DK-2800 Lyngby,Denmark	
tel: +45 45 25 24 89		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 28 09:11:47 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 28 Aug 2002 08:11:47 +0100 (BST)
Subject: [R] Package foreign
In-Reply-To: <200208280646.g7S6kGX28679@mailgate5.cinetic.de>
Message-ID: <Pine.LNX.4.31.0208280807170.6795-100000@gannet.stats>

On Wed, 28 Aug 2002 chr.schulz at email.de wrote:

> ....in example
> data <- read.spss("c:/data.sav",use.value.label=F,to.data.frame=T)
>
> try help(read.spss) !

Which seems to me to say nothing about which versions of SPSS are
supported, as I read it the point of Kjetil's question.

John Fox has successfully read one SPSS10 dataset, but I don't think we
know if the code reads all such datasets (even for earlier SPSS versions).
These proprietary formats are not that well documented (and sometimes what
documentation there is is incorrect or outdated).

> kjetilh at umsanet.edu.bo schrieb am 28.08.02 02:08:39:
> >
> > Can the foreign package now read data from spss 10?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chr.schulz at email.de  Wed Aug 28 09:22:35 2002
From: chr.schulz at email.de (chr.schulz@email.de)
Date: Wed, 28 Aug 2002 09:22:35 +0200
Subject: [R] Package foreign
Message-ID: <200208280722.g7S7MZX01989@mailgate5.cinetic.de>

...it works for SPSS10.0.5  Win2000 fine for me and i have got
never any problem - and use.value.labels  works fine, too !

..and i think their should no difference between version 9.0 or 8.0 for the *.sav files ?

Notice:
The *.spo (Outputs) files make problems using different versions from 10.0 to 9.0.

regards,Christian


regards,christian

<ripley at stats.ox.ac.uk> schrieb am 28.08.02 09:11:48:
> On Wed, 28 Aug 2002 chr.schulz at email.de wrote:
> 
> > ....in example
> > data <- read.spss("c:/data.sav",use.value.label=F,to.data.frame=T)
> >
> > try help(read.spss) !
> 
> Which seems to me to say nothing about which versions of SPSS are
> supported, as I read it the point of Kjetil's question.
> 
> John Fox has successfully read one SPSS10 dataset, but I don't think we
> know if the code reads all such datasets (even for earlier SPSS versions).
> These proprietary formats are not that well documented (and sometimes what
> documentation there is is incorrect or outdated).
> 
> > kjetilh at umsanet.edu.bo schrieb am 28.08.02 02:08:39:
> > >
> > > Can the foreign package now read data from spss 10?
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From H.RINNER at tirol.gv.at  Wed Aug 28 09:48:39 2002
From: H.RINNER at tirol.gv.at (RINNER Heinrich)
Date: Wed, 28 Aug 2002 09:48:39 +0200
Subject: [R] RODBC: sqlFetch and its argument sqtable
Message-ID: <C4D44AB4CB62D311BA6500041202E886031EE10A@xms1.tirol.gv.at>

Calling function "sqlFetch" in library(RODBC) and specifying a character
string as 2nd argument, I get an error I don't understand:

library(RODBC)
channel <- odbcConnect("mydatabase.mdb", case="msaccess")
sqlFetch(channel, "mytable")
# this works fine
tabname <- "mytable"; sqlFetch(channel, tabname)
# this gives an error:
# Error in sqlFetch(channel, tabname) : tabname :table not found on channel
0

Shouldn't the second way work as well, or if not, why not?

platform i386-pc-mingw32
arch     i386           
os       mingw32        
system   i386, mingw32  
status                  
major    1              
minor    5.1            
year     2002           
month    06             
day      17             
language R

Package: RODBC
Version: 0.8-3
Date: 2001-06-21
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jranke at uni-bremen.de  Wed Aug 28 09:57:16 2002
From: jranke at uni-bremen.de (Johannes Ranke)
Date: Wed, 28 Aug 2002 09:57:16 +0200
Subject: [R] probit etc. for dose-response modeling
In-Reply-To: <Pine.LNX.4.31.0208280739440.4413-100000@gannet.stats>
References: <20020828062426.GA30325@eckehaat.uft.uni-bremen.de> <Pine.LNX.4.31.0208280739440.4413-100000@gannet.stats>
Message-ID: <20020828075715.GB30325@eckehaat.uft.uni-bremen.de>

I do not have binomial data, though - gaussian only allows link="identity" - 
is there another way? 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 28 10:09:23 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 28 Aug 2002 09:09:23 +0100 (BST)
Subject: [R] RODBC: sqlFetch and its argument sqtable
In-Reply-To: <C4D44AB4CB62D311BA6500041202E886031EE10A@xms1.tirol.gv.at>
Message-ID: <Pine.GSO.4.44.0208280907530.4849-100000@auk.stats>

It's not designed to work like that.

Note that RODBC is in Devel on CRAN and not currently maintained AFAIK.

On Wed, 28 Aug 2002, RINNER Heinrich wrote:

> Calling function "sqlFetch" in library(RODBC) and specifying a character
> string as 2nd argument, I get an error I don't understand:
>
> library(RODBC)
> channel <- odbcConnect("mydatabase.mdb", case="msaccess")
> sqlFetch(channel, "mytable")
> # this works fine
> tabname <- "mytable"; sqlFetch(channel, tabname)
> # this gives an error:
> # Error in sqlFetch(channel, tabname) : tabname :table not found on channel
> 0
>
> Shouldn't the second way work as well, or if not, why not?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jranke at uni-bremen.de  Wed Aug 28 10:14:17 2002
From: jranke at uni-bremen.de (Johannes Ranke)
Date: Wed, 28 Aug 2002 10:14:17 +0200
Subject: [R] probit etc. for dose-response modeling
In-Reply-To: <Pine.GSO.4.44.0208280905030.4849-100000@auk.stats>
References: <20020828075715.GB30325@eckehaat.uft.uni-bremen.de> <Pine.GSO.4.44.0208280905030.4849-100000@auk.stats>
Message-ID: <20020828081417.GC30586@eckehaat.uft.uni-bremen.de>

the "healthy status" of our cells is around 1, and if they are
inactive, they are around 0. Values > 1 and < 0 do occur.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 28 10:19:12 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 28 Aug 2002 09:19:12 +0100 (BST)
Subject: [R] probit etc. for dose-response modeling
In-Reply-To: <20020828081417.GC30586@eckehaat.uft.uni-bremen.de>
Message-ID: <Pine.GSO.4.44.0208280917230.7094-100000@auk.stats>

Sounds like you need to dichotomize.

More generally, R can only fit a fully-specified statistical model.
Specifying the model is the hard part of applied statistics.

On Wed, 28 Aug 2002, Johannes Ranke wrote:

> the "healthy status" of our cells is around 1, and if they are
> inactive, they are around 0. Values > 1 and < 0 do occur.
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From humbertc at univ-mlv.fr  Wed Aug 28 13:10:39 2002
From: humbertc at univ-mlv.fr (Cyril Humbert)
Date: Wed, 28 Aug 2002 13:10:39 +0200
Subject: [R] Random unit vectors in R^{n}
In-Reply-To: <73D624FECBBAF6459BB60437FF7C02FB06D27A@nsabpmail>; from richards@upci.pitt.edu on Mon, Aug 26, 2002 at 07:11:57PM -0400
References: <73D624FECBBAF6459BB60437FF7C02FB06D27A@nsabpmail>
Message-ID: <20020828131039.A28131@borneo.univ-mlv.fr>

Richards, Tom wrote:
> Hello:
> 
> 	Can you tell me if there's a simple way to generate in R random
> vectors on the unit sphere in R^{n}?  Additionally, are there references for
> this question?  Thanks in advance.
> 
> Tom

There's some references in the documentation of the gsl library
(GNU scientific library). 
See http://sources.redhat.com/gsl/ref/gsl-ref_19.html#SEC303

-- 
Cyril  
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Derek.Eder at neuro.gu.se  Wed Aug 28 13:32:06 2002
From: Derek.Eder at neuro.gu.se (Derek Eder)
Date: Wed, 28 Aug 2002 13:32:06 +0200
Subject: [R] Coercing character string to function argument ?
Message-ID: <sd6cd173.000@dss2.med.gu.se>

I need to turn the character string:  "1:5, 20:25, 50"  into indices for subsetting a vector.

For example:

indices <- "1:5, 20:25, 50, 99"
vector <- rnorm(100,0,1)

# Please R, show me the way to achieve this:  vector[indices]


I thank you angels in advance for rushing in where this fool got bogged down!

- Derek 

Derek N. Eder
G?teborgs Universitet
Institutionen f?r klinisk neurovetenskap
Klinisk Neurofysiologi
Sahlgrenska universitetssjukhuset SS/SU
Bl? straket 7, v?n 3
SE 413 45  G?teborg
Sverige
Tlf. +46 (031) 34  2-6139  (office)
Tlf. +46 (031) 34 2-1283  (laboratory)
Tlf. +46 0709 / 7 2-1283 (mobil)
Fax. +46 (031) 82 81 63 
derek.eder at neuro.gu.se


Gothenburg University
Institute of Clinical Neuroscience,
Department of Clinical Neurophysiology
Salhgrenska Hospital  SU/SS
SE 413 45  G?teborg
Sweden


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 28 13:43:58 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 28 Aug 2002 12:43:58 +0100 (BST)
Subject: [R] Coercing character string to function argument ?
In-Reply-To: <sd6cd173.000@dss2.med.gu.se>
Message-ID: <Pine.LNX.4.31.0208281242160.29706-100000@gannet.stats>

parse is your friend:

i <- "1:5, 20:25, 50"
> eval(parse(text=paste("c(",i, ")")))
 [1]  1  2  3  4  5 20 21 22 23 24 25 50


On Wed, 28 Aug 2002, Derek Eder wrote:

> I need to turn the character string:  "1:5, 20:25, 50"  into indices for subsetting a vector.
>
> For example:
>
> indices <- "1:5, 20:25, 50, 99"
> vector <- rnorm(100,0,1)
>
> # Please R, show me the way to achieve this:  vector[indices]
>
>
> I thank you angels in advance for rushing in where this fool got bogged down!
>
> - Derek
>
> Derek N. Eder
> Gteborgs Universitet
> Institutionen fr klinisk neurovetenskap
> Klinisk Neurofysiologi
> Sahlgrenska universitetssjukhuset SS/SU
> Bl straket 7, vn 3
> SE 413 45  Gteborg
> Sverige
> Tlf. +46 (031) 34  2-6139  (office)
> Tlf. +46 (031) 34 2-1283  (laboratory)
> Tlf. +46 0709 / 7 2-1283 (mobil)
> Fax. +46 (031) 82 81 63
> derek.eder at neuro.gu.se
>
>
> Gothenburg University
> Institute of Clinical Neuroscience,
> Department of Clinical Neurophysiology
> Salhgrenska Hospital  SU/SS
> SE 413 45  Gteborg
> Sweden
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramasamy at stats.ox.ac.uk  Wed Aug 28 13:45:00 2002
From: ramasamy at stats.ox.ac.uk (Adaikalavan Ramasamy)
Date: Wed, 28 Aug 2002 12:45:00 +0100
Subject: [R] Coercing character string to function argument ?
References: <sd6cd173.000@dss2.med.gu.se>
Message-ID: <004501c24e88$5716dc70$a81401a3@stats.ox.ac.uk>

> indices <- c(1:5, 20:25, 50, 99)
> is.numeric(indices)
[1] TRUE


----- Original Message -----
From: "Derek Eder" <Derek.Eder at neuro.gu.se>
To: "<" <r-help at stat.math.ethz.ch>
Sent: Wednesday, August 28, 2002 12:32 PM
Subject: [R] Coercing character string to function argument ?


> I need to turn the character string:  "1:5, 20:25, 50"  into indices for
subsetting a vector.
>
> For example:
>
> indices <- "1:5, 20:25, 50, 99"
> vector <- rnorm(100,0,1)
>
> # Please R, show me the way to achieve this:  vector[indices]
>
>
> I thank you angels in advance for rushing in where this fool got bogged
down!
>
> - Derek
>
> Derek N. Eder
> G?teborgs Universitet
> Institutionen f?r klinisk neurovetenskap
> Klinisk Neurofysiologi
> Sahlgrenska universitetssjukhuset SS/SU
> Bl? straket 7, v?n 3
> SE 413 45  G?teborg
> Sverige
> Tlf. +46 (031) 34  2-6139  (office)
> Tlf. +46 (031) 34 2-1283  (laboratory)
> Tlf. +46 0709 / 7 2-1283 (mobil)
> Fax. +46 (031) 82 81 63
> derek.eder at neuro.gu.se
>
>
> Gothenburg University
> Institute of Clinical Neuroscience,
> Department of Clinical Neurophysiology
> Salhgrenska Hospital  SU/SS
> SE 413 45  G?teborg
> Sweden
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From melvinjohn1 at madrid.com  Wed Aug 28 22:58:27 2002
From: melvinjohn1 at madrid.com (MELVIN JOHN)
Date: Wed, 28 Aug 2002 13:58:27 -0700
Subject: [R] ENQUIRY
Message-ID: <200208281159.NAA15275@stat.math.ethz.ch>

I have interest of investing in your country as such I would like to make contact with you for assistance as soon as I am able to transfer my fund for this investment, which is already with a security company in Europe.

You will assist me in collecting the funds from the security company as I can not travel out of my country now. I retired as a chairman of my local council and do not want to recontest election. Please if you would assist me, do reply this mail.Enclosing your telephone/fax numbers.

Thanks,

Yours sincerely,

Melvin John


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From melvinjohn1 at madrid.com  Wed Aug 28 23:14:57 2002
From: melvinjohn1 at madrid.com (MELVIN JOHN)
Date: Wed, 28 Aug 2002 14:14:57 -0700
Subject: [R] ENQUIRY
Message-ID: <200208281215.OAA18919@stat.math.ethz.ch>

I have interest of investing in your country as such I would like to make contact with you for assistance as soon as I am able to transfer my fund for this investment, which is already with a security company in Europe.

You will assist me in collecting the funds from the security company as I can not travel out of my country now. I retired as a chairman of my local council and do not want to recontest election. Please if you would assist me, do reply this mail.Enclosing your telephone/fax numbers.

Thanks,

Yours sincerely,

Melvin John


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bob.ohara at helsinki.fi  Wed Aug 28 14:34:23 2002
From: bob.ohara at helsinki.fi (Anon.)
Date: Wed, 28 Aug 2002 15:34:23 +0300
Subject: [R] Extracting variance component estimates from lme
Message-ID: <3D6CC34F.D11DBC0E@helsinki.fi>

I assume I'm missing something obvious here...

The short form of my main question is: how do I extract variance
components from an lme object?

The longer form (plus optional supplementary question!): I'm looking at
some quantitative genetics, and want to estimate two variance components
so that I can then calculate a statistic called Qst from them.  So I
have this:

  reg1 <- lme(y ~ temp*food, random =~1|POP/SIRE/DAM,
na.action=na.exclude))
  summary(reg1)

which shows me the random effects as standard deviations.  I then want
the SIRE and POP variance components (as Vsire and Vpop respectively) to
put into the calculation of Qst as 

Qst <- Vpop/(Vpop + 8*Vsire)

And obviously writing down the components and then plugging them in is
not elegant.  Especially as I then want to calculate the standard error
for Qst, which leads me to my supplementary question...

I could calculate the standard errors by bootstrapping, but it would
probably be quicker to sample the relevant components from the
likelihood, and calculate Qst from that.  But I would need to know the
distribution of the components.  Can anyone point me in teh right
direction to a reference on this?  For balanced data it's easy, but what
about un-balanced data?  That wasn't an R query, but you can probably
see whats' coming...  If you know the answer to the last question, then
how do I sample from the distribution?  Again, if it's a gamma/chi^2
then I already know, but if not...

Thanks in advance!

Bob

-- 
Bob O'Hara

Rolf Nevanlinna Institute
P.O. Box 4 (Yliopistonkatu 5)
FIN-00014 University of Helsinki
Finland
Telephone: +358-9-191 23743 
Mobile: +358 50 599 0540
Fax:  +358-9-191 22 779
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pvirketis at hbk.com  Wed Aug 28 17:47:48 2002
From: pvirketis at hbk.com (Pijus Virketis)
Date: Wed, 28 Aug 2002 10:47:48 -0500
Subject: [R] handling dates in R
Message-ID: <7C87D4C5FFAFD311B333009027D6036305ECC902@EXCHANGE>

Dear all,

I am just getting into R, and I arrive with a task in hand. I need to handle time series of price data, and use them in regressions and cluster models of various kinds. At this time, I am just trying to learn the most graceful ways of working with date-indexed data in R in general. 

I know of the ts object; however, it seems to assume a very regular periodicity of the data. Unfortunately, price data is usually available not for 7 days a week but for 5, and with omissions for trading holidays, etc. 

What is the best way to represent this in a ts object? Also, other languages I have worked with have libraries to do things such as date comparison, to derive the day of the week from a date, etc. Does R have such a facility? Or should I farm a task like that to an external tool, such as Python or Perl?

Thanks!

Pijus

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yuelin at mail.med.upenn.edu  Wed Aug 28 18:28:28 2002
From: yuelin at mail.med.upenn.edu (Yuelin Li)
Date: Wed, 28 Aug 2002 12:28:28 -0400 (EDT)
Subject: [R] all possible subsets of r out of n
Message-ID: <Pine.OSF.4.33.0208281214570.279949-100000@pobox.upenn.edu>

Has anyone written a function that returns all possible
subsets of r elements out of a vector that contains n
elements?  I have not been able to find an answer in the FAQ
or the archives.

Say I have a vector: letters[1:10].  I want to get a matrix
of 120 rows that contains all possible subsets of 3 letters
out of the 10.  And I would like to be able to generalize to
any r out of n, like function(x=letters[1:10], r=3) that
returns:

a, b, c
a, b, d
a, b, e
...

etc.

Many thanks in advance,

- Yuelin Li.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Wed Aug 28 19:05:14 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Wed, 28 Aug 2002 10:05:14 -0700 (PDT)
Subject: [R] sourcing a file with the plot.lme() function
In-Reply-To: <Pine.GSO.4.10.10208272151380.674-100000@quetelet.stat.ucla.edu>
Message-ID: <20020828170514.63552.qmail@web13906.mail.yahoo.com>


--- Roger Peng <rpeng at stat.ucla.edu> wrote:
> I ran into a problem trying to make a plot from a file that's read using
> source.  Basically, I have the following code in a file "plot.R" :
> 
> library(nlme)
> data(Loblolly)
> fm1 <- nlme(height ~ SSasymp(age, Asym, R0, lrc),
>             data = Loblolly,
>             fixed = Asym + R0 + lrc ~ 1,
>             random = Asym ~ 1,
>             start = c(Asym = 103, R0 = -8.5, lrc = -3.3))
> windows(6,6)
> plot(fm1)
> 
> This code is taken from the help page for 'nlme'.  If I cut an paste this
> code into the console, everything works as expected.  However, if I try to
> execute the code by calling source("plot.R") the plot is never made.  Has
> anyone seen this?

This is caused by not using an explicit print() around the "trellis" object
returned by plot(). Unlike conventional graphics, trellis/lattice functions
don't actually draw anything; the actual plotting is done by the default print
method for the object returned.

print(plot(fm1))

should work.

Deepayan


__________________________________________________

Yahoo! Finance - Get real-time stock quotes

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Wed Aug 28 19:50:07 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Wed, 28 Aug 2002 13:50:07 -0400
Subject: [R] all possible subsets of r out of n
Message-ID: <D7A3CFD7825BD6119B880002A58F06C20149CEC4@groexmb02.pfizer.com>

The gregmisc package contains the function 'combinations'.

One you install gregmisc, the code

	library(gregmisc)
	combinations(10, 3, letters[1:10])

should give you what you want.

-Greg 

> -----Original Message-----
> From: Yuelin Li [mailto:yuelin at mail.med.upenn.edu]
> Sent: Wednesday, August 28, 2002 12:28 PM
> To: r-help at stat.math.ethz.ch
> Subject: [R] all possible subsets of r out of n
> 
> 
> Has anyone written a function that returns all possible
> subsets of r elements out of a vector that contains n
> elements?  I have not been able to find an answer in the FAQ
> or the archives.
> 
> Say I have a vector: letters[1:10].  I want to get a matrix
> of 120 rows that contains all possible subsets of 3 letters
> out of the 10.  And I would like to be able to generalize to
> any r out of n, like function(x=letters[1:10], r=3) that
> returns:
> 
> a, b, c
> a, b, d
> a, b, e
> ...
> 
> etc.
> 
> Many thanks in advance,
> 
> - Yuelin Li.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Wed Aug 28 20:31:48 2002
From: macq at llnl.gov (Don MacQueen)
Date: Wed, 28 Aug 2002 11:31:48 -0700
Subject: [R] handling dates in R
In-Reply-To: <7C87D4C5FFAFD311B333009027D6036305ECC902@EXCHANGE>
References: <7C87D4C5FFAFD311B333009027D6036305ECC902@EXCHANGE>
Message-ID: <p05111a03b992c67db587@[128.115.153.6]>


At 10:47 AM -0500 8/28/02, Pijus Virketis wrote:
>Dear all,
>
>I am just getting into R, and I arrive with a task in hand. I need 
>to handle time series of price data, and use them in regressions and 
>cluster models of various kinds. At this time, I am just trying to 
>learn the most graceful ways of working with date-indexed data in R 
>in general.
>
>I know of the ts object; however, it seems to assume a very regular 
>periodicity of the data. Unfortunately, price data is usually 
>available not for 7 days a week but for 5, and with omissions for 
>trading holidays, etc.
>
>What is the best way to represent this in a ts object? Also, other 
>languages I have worked with have libraries to do things such as 
>date comparison, to derive the day of the week from a date, etc. 
>Does R have such a facility? Or should I farm a task like that to an 
>external tool, such as Python or Perl?

R includes functions for handling dates as you describe. Start with 
the help page for the ISOdatetime function:
   ?ISOdatetime
and that should lead you to additional information. Such as
   ?DateTimeClasses

Also, at http://www.R-project.org/, click on the "Newsletter" link. 
One of the newsletter has a discussion on the topic (sorry, I don't 
remember which one).

>Thanks!
>
>Pijus
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-Don
-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Derek.Yi at FMR.COM  Wed Aug 28 20:57:36 2002
From: Derek.Yi at FMR.COM (Yi, Derek)
Date: Wed, 28 Aug 2002 14:57:36 -0400
Subject: [R] NA rownames in dataframes
Message-ID: <763C275E6A1C2248AFD475237AD6135B5EC6BA@MSGBOS576NTS.fmr.com>

Hey everyone!

I am seeing strange behavior with NA in the rownames of dataframes:

> a <- data.frame(1:3, row.names = c("r1", NA, "r3"))
> cbind(a)
       X1.3
r1        1
<NA>      2
r3        3

Everything works.  The peculiar thing is that when the NA is in the first
row, things no longer work as I would have expected:

> b <- data.frame(1:3, row.names = c(NA, "r2", "r3"))
> cbind(b)
Error in if (missing(row.names) && (nrows[i] > 0) && (rowsi[[1]] != ""))
row.names <- data.row.names(row.names,  : 
	missing value where logical needed
> data.frame(b)
Error in if (missing(row.names) && (nrows[i] > 0) && (rowsi[[1]] != ""))
row.names <- data.row.names(row.names,  : 
	missing value where logical needed

> traceback()
3: data.frame(..., check.names = FALSE)
2: cbind(...)
1: cbind(b)

This seems to be a problem associated only with dataframes, as a similar
example using matrices works perfectly fine.  Has anyone experienced this
behavior before?

Thanks!

Derek

> R.version
         _                   
platform sparc-sun-solaris2.6
arch     sparc               
os       solaris2.6          
system   sparc, solaris2.6   
status                       
major    1                   
minor    5.1                 
year     2002                
month    06                  
day      17                  
language R
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rvaradha at jhsph.edu  Wed Aug 28 21:51:10 2002
From: rvaradha at jhsph.edu (Ravi Varadhan)
Date: Wed, 28 Aug 2002 15:51:10 -0400
Subject: [R] all possible subsets of r out of n
References: <Pine.OSF.4.33.0208281214570.279949-100000@pobox.upenn.edu>
Message-ID: <002c01c24ecc$42003540$1158120a@BSTE3005>

I had the same question a couple of years ago and here is the reply I got
from Tim Hesterberg of Insightful Corp. It should work in R.

Ravi.

----------------------------------------------------------------------------
--
I don't have that.  But there is code to compute all combinations of
k integers out of n that you might adapt.
For a recursive version, see Venables & Ripley's subsets() function
(page 50 of their S Programming book).
A non-recursive version (harder to understand and extend, but faster
for larger n because it avoids recomputing quantities) is:

combinations _ function(n, k){
  # Compute all n choose k combinations of size k from 1:n
  # Return matrix with k rows and choose(n,k) columns.
  # Avoids recursion.
  if(!is.numeric(n) || length(n) != 1 || n%%1) stop("'n' must be an
integer")
  if(!is.numeric(k) || length(k) != 1 || k%%1) stop("'k' must be an
integer")
  if(k > n || k <= 0) return(numeric(0))
  rowMatrix _ function(n) structure(1:n, dim=c(1,n))
  colMatrix _ function(n) structure(1:n, dim=c(n,1))
  if(k == n) return(colMatrix(n))
  if(k == 1) return(rowMatrix(n))
  L _ vector("list", k)
  # L[[j]] will contain combinations(N, j) for N = 2:n
  L[[1]] _ rowMatrix(2)
  L[[2]] _ colMatrix(2)
  Diff _ n-k
  for(N in seq(3, n, by=1)){
    # loop over j in reverse order, to avoid overwriting
    for(j in seq(min(k, N-1), max(2, N-Diff), by= -1))
      L[[j]] _ cbind(L[[j]], rbind(L[[j-1]], N, deparse.level=1))
    if(N <= Diff+1) L[[1]] _ rowMatrix(N)
    else L[[N-(Diff+1)]] _ numeric(0)
    if(N <= k) L[[N]] _ colMatrix(N)
  }
  L[[k]]
}
----- Original Message -----
From: "Yuelin Li" <yuelin at mail.med.upenn.edu>
To: <r-help at stat.math.ethz.ch>
Sent: Wednesday, August 28, 2002 12:28 PM
Subject: [R] all possible subsets of r out of n


> Has anyone written a function that returns all possible
> subsets of r elements out of a vector that contains n
> elements?  I have not been able to find an answer in the FAQ
> or the archives.
>
> Say I have a vector: letters[1:10].  I want to get a matrix
> of 120 rows that contains all possible subsets of 3 letters
> out of the 10.  And I would like to be able to generalize to
> any r out of n, like function(x=letters[1:10], r=3) that
> returns:
>
> a, b, c
> a, b, d
> a, b, e
> ...
>
> etc.
>
> Many thanks in advance,
>
> - Yuelin Li.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 28 21:54:14 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Wed, 28 Aug 2002 20:54:14 +0100 (BST)
Subject: [R] NA rownames in dataframes
In-Reply-To: <763C275E6A1C2248AFD475237AD6135B5EC6BA@MSGBOS576NTS.fmr.com>
Message-ID: <Pine.LNX.4.31.0208282047200.8413-100000@gannet.stats>

It's a bug in data.frame.  You should not be allowed NA rownames.
Solution: don't specify them.

I'll add a test for 1.6.0.

On Wed, 28 Aug 2002, Yi, Derek wrote:

> Hey everyone!
>
> I am seeing strange behavior with NA in the rownames of dataframes:
>
> > a <- data.frame(1:3, row.names = c("r1", NA, "r3"))
> > cbind(a)
>        X1.3
> r1        1
> <NA>      2
> r3        3
>
> Everything works.  The peculiar thing is that when the NA is in the first
> row, things no longer work as I would have expected:
>
> > b <- data.frame(1:3, row.names = c(NA, "r2", "r3"))
> > cbind(b)
> Error in if (missing(row.names) && (nrows[i] > 0) && (rowsi[[1]] != ""))
> row.names <- data.row.names(row.names,  :
> 	missing value where logical needed
> > data.frame(b)
> Error in if (missing(row.names) && (nrows[i] > 0) && (rowsi[[1]] != ""))
> row.names <- data.row.names(row.names,  :
> 	missing value where logical needed
>
> > traceback()
> 3: data.frame(..., check.names = FALSE)
> 2: cbind(...)
> 1: cbind(b)
>
> This seems to be a problem associated only with dataframes, as a similar
> example using matrices works perfectly fine.  Has anyone experienced this
> behavior before?
>
> Thanks!
>
> Derek
>
> > R.version
>          _
> platform sparc-sun-solaris2.6
> arch     sparc
> os       solaris2.6
> system   sparc, solaris2.6
> status
> major    1
> minor    5.1
> year     2002
> month    06
> day      17
> language R
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Aug 28 22:09:47 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Aug 2002 22:09:47 +0200
Subject: [R] NA rownames in dataframes
In-Reply-To: <763C275E6A1C2248AFD475237AD6135B5EC6BA@MSGBOS576NTS.fmr.com>
References: <763C275E6A1C2248AFD475237AD6135B5EC6BA@MSGBOS576NTS.fmr.com>
Message-ID: <x24rdeeodw.fsf@biostat.ku.dk>

"Yi, Derek" <Derek.Yi at FMR.COM> writes:

> > data.frame(b)
> Error in if (missing(row.names) && (nrows[i] > 0) && (rowsi[[1]] != ""))
> row.names <- data.row.names(row.names,  : 
> 	missing value where logical needed
> 
> > traceback()
> 3: data.frame(..., check.names = FALSE)
> 2: cbind(...)
> 1: cbind(b)
> 
> This seems to be a problem associated only with dataframes, as a similar
> example using matrices works perfectly fine.  Has anyone experienced this
> behavior before?

Not to my knowledge, on this list, anyway. However, it looks like a
fairly clear bug. I think you want 

... && !(rowsi[[1]] %in% "")

in the relevant line about two-thirds through data.frame().

Character NA's (as opposed to the string "NA") are a relatively new
invention, and oversights like this are bound to happen.

(NA rownames are generally a bad idea, though...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wchan at lbl.gov  Wed Aug 28 22:53:11 2002
From: wchan at lbl.gov (Rengie Chan)
Date: Wed, 28 Aug 2002 13:53:11 -0700
Subject: [R] plotting barplot in log scale
Message-ID: <3D6D3837.141AB846@lbl.gov>

Hello.

Does anyone know how to get barplot to plot in log scale? I tried:

barplot(Mx, log="y", besides=F), where Mx is a 2 by 31 matrix to be
plotted.

R complains: Error in plot.window(xlim, ylim, log = "", ...) : 
        formal argument "log" matched by multiple actual arguments

I know there's nothing wrong with the rest of the arguments because if I
took out log="y", it plots fine.

I'm using version 4.1 on Linux.

Thanks.

-Rengie
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From roger at ysidro.econ.uiuc.edu  Wed Aug 28 23:39:46 2002
From: roger at ysidro.econ.uiuc.edu (Roger Koenker)
Date: Wed, 28 Aug 2002 16:39:46 -0500 (CDT)
Subject: [R] fix(fix)
Message-ID: <Pine.GSO.4.33.0208281632340.14567-100000@ysidro.econ.uiuc.edu>

About 2 percent of the time I use fix() to edit a function that is
sitting in .RData I get the response:

> fix(qss)
Error in edit(name, file, editor) : problem with running editor vi

when I try to close the editing session.  I used to think that these
were always cases where there was some syntactical error with the
edited file, but this is not the case.  I realize that one surefire
way to avoid this problem is to stop using fix()...but if there are
other suggestions, I would be happy to hear them.

This is solaris 2.8,  R1.5.0 with vi as the editor.


url:	http://www.econ.uiuc.edu		Roger Koenker
email	roger at ysidro.econ.uiuc.edu		Department of Economics
vox: 	217-333-4558				University of Illinois
fax:   	217-244-6678				Champaign, IL 61820

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrysopa at insecta.ufv.br  Thu Aug 29 00:07:48 2002
From: chrysopa at insecta.ufv.br (Ronaldo Reis Jr.)
Date: Wed, 28 Aug 2002 19:07:48 -0300
Subject: [R] segfault in RMySQL
Message-ID: <200208281907.48625.chrysopa@insecta.ufv.br>

Hi all,

I have experimented a segmentation fault error using 
RMySQL_0.4-6 library in R 1.5.1.

Look the sequence:

-------------------------------------------
> library(RMySQL)
> m <- dbManager("MySQL")
> m
<MySQLManager:(1137)> 
> describe(m)
<MySQLManager:(1137)> 
  Driver name:  MySQL 
  Max  connections: 10 
  Conn. processed: 0 
  Default records per fetch: 500 
  Open connections: 0 
> con <- dbConnect(m)

Process R segmentation fault at Wed Aug 28 08:21:11 2002
-------------------------------------------

The problem is always in dbConnect function.

I try:

---------------------------------
> con <- dbConnect(m,group="tese")
---------------------------------

where tese is in .my.cfn 

-------------------------------------
[ronaldo at debian ronaldo]$ cat .my.cfn 
     [tese]
     user = ronaldo
     database = tese
     password = mypass
     host = localhost
-------------------------------------

I try also:

----------------------------------------
> con <- dbConnect(m,host="localhost",user="ronaldo",
+ database="tese",password="mypass")
----------------------------------------

The problem is the same.

I use R on Debian Woody.

The R work well, the mysql work fine in shell.

I compiled and recompiled 

Anybody have any idea for solution or discovery why, how and where is the 
problem?

Thanks

Ronaldo

-- 
No fim tudo d? certo, se nao deu certo ? porque ainda nao chegou ao fim. 
		-- Fernando Sabino
--
|   //|\\   [*****************************][*******************]
|| ( ? ? )  [Ronaldo Reis J?nior          ][PentiumIII-600     ]
|     V     [ESALQ/USP-Entomologia, CP-09 ][HD: 30 + 10 Gb     ]
||  / l \   [13418-900 Piracicaba - SP    ][RAM: 128 Mb        ]
|  /(lin)\  [Fone: 19-429-4199 r.229      ][Video: SiS620-8Mb  ]
||/(linux)\ [chrysopa at insecta.ufv.br      ][Modem: Pctel-onboar]
|/ (linux) \[ICQ#: 5692561                ][SO: CL 7.0 (2.2.19)]
||  ( x )   [*****************************][*******************]
||| _/ \_Powered by Gnu/Debian Woody D+:) | Lxuser#: 205366

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Aug 29 00:15:57 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 Aug 2002 00:15:57 +0200
Subject: [R] fix(fix)
In-Reply-To: <Pine.GSO.4.33.0208281632340.14567-100000@ysidro.econ.uiuc.edu>
References: <Pine.GSO.4.33.0208281632340.14567-100000@ysidro.econ.uiuc.edu>
Message-ID: <x2r8gid3z6.fsf@biostat.ku.dk>

Roger Koenker <roger at ysidro.econ.uiuc.edu> writes:

> About 2 percent of the time I use fix() to edit a function that is
> sitting in .RData I get the response:

In the workspace, you mean? You can't edit things in .RData directly.
 
> > fix(qss)
> Error in edit(name, file, editor) : problem with running editor vi
> 
> when I try to close the editing session.  I used to think that these
> were always cases where there was some syntactical error with the
> edited file, but this is not the case.  I realize that one surefire
> way to avoid this problem is to stop using fix()...but if there are
> other suggestions, I would be happy to hear them.
> 
> This is solaris 2.8,  R1.5.0 with vi as the editor.

The error message means that the editor returned a non-zero error
code, so you just have to make it stop doing that... Not sure why that
would happen with vi/Sol8 (out of disk space? file locked? or just vi
returning random value?)

You could kill the problem by having your own editor script, something
like

#!/bin/sh
vi $*
true

and then use that for your editor. However, you'ld also be killing off
indications of real system problems...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Aug 29 00:31:18 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 Aug 2002 00:31:18 +0200
Subject: [R] fix(fix)
In-Reply-To: <x2r8gid3z6.fsf@biostat.ku.dk>
References: <Pine.GSO.4.33.0208281632340.14567-100000@ysidro.econ.uiuc.edu>
	<x2r8gid3z6.fsf@biostat.ku.dk>
Message-ID: <x2n0r6d39l.fsf@biostat.ku.dk>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> 
> You could kill the problem by having your own editor script, something
> like
> 
> #!/bin/sh
> vi $*
> true

(or probably better end with "exit 0")

> and then use that for your editor. However, you'ld also be killing off
> indications of real system problems...

Apparently, this is a known issue with vi on Solaris

http://groups.google.com/groups?hl=en&lr=&ie=UTF-8&threadm=ed882ecb.0206200045.753754ea%40posting.google.com&rnum=2&prev=/groups%3Fq%3Dvi%2Bsolaris%2B%2Breturn%2Bnon-zero%26hl%3Den%26lr%3D%26ie%3DISO-8859-1

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chromatonus712 at hotmail.com  Thu Aug 29 01:44:24 2002
From: chromatonus712 at hotmail.com (chromatonus 712)
Date: Wed, 28 Aug 2002 23:44:24 +0000
Subject: [R] Thank you for the quick tip :)
Message-ID: <F133OwLtWo4rnoXCwN400013fcb@hotmail.com>

I have been to New Zealand 10 years ago and it was very enjoyable :)



_________________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mschwartz at medanalytics.com  Thu Aug 29 02:28:37 2002
From: mschwartz at medanalytics.com (Marc Schwartz)
Date: Wed, 28 Aug 2002 19:28:37 -0500
Subject: [R] plotting barplot in log scale
In-Reply-To: <3D6D3837.141AB846@lbl.gov>
Message-ID: <003301c24ef3$051aff30$0201a8c0@MARC>

> Hello.
> 
> Does anyone know how to get barplot to plot in log scale? I tried:
> 
> barplot(Mx, log="y", besides=F), where Mx is a 2 by 31 matrix to be
> plotted.
> 
> R complains: Error in plot.window(xlim, ylim, log = "", ...) :
>         formal argument "log" matched by multiple actual arguments
> 
> I know there's nothing wrong with the rest of the arguments because if
I
> took out log="y", it plots fine.
> 
> I'm using version 4.1 on Linux.
> 
> Thanks.
> 
> -Rengie

The problem that you are having is that barplot.default() (the method
used by barplot() ), explicitly calls the following if "plot = TRUE":

plot.new()
plot.window(xlim, ylim, log = "", ...)

Note that the log argument is passed to plot.window() in such a fashion
as to negate the value you have when you call barplot().  This is the
cause of the error that you are getting since the log argument is being
passed as both "" and "y" from your initial call.

The "cleanest" approach might be to modify the code for
barplot.default() to enable you to pass a log argument and create a new
barplot function using the modified code.  You'd also have to do some
checking on the y-axis limits, etc.

Alternatively, you could create the plot piece-meal by using
plot.window() to create the plotting region with a y-axis log scaled
with region limits that you specify and then draw the bars using rect().

HTH.

Marc


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Thu Aug 29 02:38:55 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Wed, 28 Aug 2002 17:38:55 -0700 (PDT)
Subject: [R] fitting nlme model inside a function
Message-ID: <Pine.GSO.4.10.10208281732180.12491-100000@quetelet.stat.ucla.edu>

I'm not an experienced user of the 'nlme' package but I ran into a curious
problem recently that I couldn't find on the mailing list anywhere.

I have simple function which calls 'groupedData' and 'nlme':

g <- function(dataset) {
    unig <- groupedData(logfv ~ Vs+v1+v2+v3+PHA| EQ, data=dataset)
    
    modelfv <- nlme(logfv~a + c*log(Vs/a1)+ b1*( v1 +
         v2*(Vs-300)^2/(300-120)^2 )*log(PHA/0.1)   
         + b2*( v3 + v2 + (-1*v2)*(Vs-300)^2 /(300-120)^2)*log(PHA/0.1),
                    data=unig, fixed=a1+c+b1+b2~1, random=a~1|EQ ,
                    start=c(a1=0.05, b1=0.1, b2=0.1, c=0.1))
}

and the following data frame:

"test.uni" <-
structure(list(Fv = c(0.719674506, 1.76086339, 1.235763846, 0.592482033, 
0.536563657, 0.935437428, 1.030349018, 1.10411289, 1.192487905, 
0.398788849), Eqs = c(131, 122, 122, 122, 122, 122, 122, 54, 
122, 131), Vs = c(1309.116, 1303.02, 1240.536, 1219.2, 1136.998, 
1018.032, 893.064, 893.064, 874.776, 853.44), PHA = c(0.1608982, 
0.048490234, 0.052890618, 0.057810549, 0.24927051, 0.06389893, 
0.055244608, 0.15433018, 0.054221601, 0.13537748), Site = c(5, 
5, 5, 5, 5, 5, 5, 5, 5, 5), EQ = structure(c(27, 24, 24, 24, 
24, 24, 24, 13, 24, 27), class = "factor", .Label = c("6", "12", 
"25", "28", "29", "30", "33", "34", "45", "48", "50", "53", "54", 
"73", "76", "77", "80", "90", "100", "103", "117", "118", "120", 
"122", "127", "129", "131", "142", "147", "148", "151", "153"
)), logfv = c(-0.328956244188746, 0.565804251263614, 0.211689277673822, 
-0.523434730483267, -0.622570071573506, -0.0667410216621068, 
0.0298975972712109, 0.0990421980619555, 0.176041801171271,
-0.919323202669533
)), .Names = c("Fv", "Eqs", "Vs", "PHA", "Site", "EQ", "logfv"
), row.names = c("1", "2", "3", "4", "5", "6", "7", "8", "9", 
"10"), class = "data.frame")


But when I run the 'g' function in R, I get the following error:

> g(test.uni)
Error in inherits(data, "data.frame") : Object "dataset" not found
> traceback()
5: inherits(data, "data.frame")
4: nfGroupedData(formula = logfv ~ Vs + v1 + v2 + v3 + PHA | EQ, 
       data = dataset)
3: do.call("nfGroupedData", mCall)
2: groupedData(logfv ~ Vs + v1 + v2 + v3 + PHA | EQ, data = dataset)
1: g(test.uni)


Any hints?




> version
         _                           
platform i686-pc-linux-gnu           
arch     i686                        
os       linux-gnu                   
system   i686, linux-gnu             
status   Under development (unstable)
major    1                           
minor    6.0                         
year     2002                        
month    08                          
day      28                          
language R                           

Package: nlme
Version: 3.1-29
Date: 2002/08/10

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From upton at mitre.org  Thu Aug 29 04:02:11 2002
From: upton at mitre.org (Stephen C. Upton)
Date: Wed, 28 Aug 2002 22:02:11 -0400
Subject: [R] running SJava
Message-ID: <3D6D80A1.C5C9F809@mitre.org>

Folks,

Having problems getting started with SJava and request help.

I get this error when running .JavaInit() (within RGui 1.5.1, on Windows
2000):
Error in .JavaInit() : Couldn't start Java Virtual Machine: Cannot find
the Omegahat interface manager class. Check you classpath!

(Before you right back saying read the emails, please read further - in
short, been there, done that)

Environment:
RWin 1.5.1 (install from binaries)
OS Win 2000 SP3
jdk 1.4.0 (could this be it?? I saw requirement for 1.2 or 1.3 - I
wouldn't think this is the problem)
SJavaWin_0.62-8 binary
(. . . what else?)

Install procedure:
1. According to http://www.omegahat.org/RSJava/#Download,
cd $RHOME/library
unzip SJavaWin_0.62-8.zip
2. did that
3. got .Defunct error. email suggested changing SJava file in
{R_HOME}/library/SJava/R
4. did that
5. tried .JavaInit()

Attempts to solve problem:
1. Read the FAQ. Not much here on this one, although several emails
requesting help on this one, with no apparent solution.
2. Read the Archives. There were several emails concerning this, but
though one even said problem solved, but does not. It's a java classpath
problem, and not a LD_LIBRARY problem.
3. RTFM. Actually, the Howto.pdf dated 16 July 2002 (page 5), in fact
states:
"The default values in .javaConfig are computed and fixed when the R
library is installed These contain
the entries of the default classpath necessary to locate the classes
used to run the embedded Omegahat
interpreter and also the system properties that control how that
interpreter is created and behaves (e.g.
class names for components, etc.)." The other manuals don't seem to
cover the
a. Tried setting a reasonable classpath, in my case
C:/R/rw1051/library/SJava in a CLASSPATH environment variable. java
should be able to find the
org.omegahat.Interfaces.NativeInterface.OmegaInterfaceManager. However I
noticed on the SJava file, in the javaConfig assignment, the
expression      if(nchar(tmp) > 0)
       classPath <- strsplit(tmp,":")[[1]]
   }
" which seems to split based on a unix environment and not a windows.
Realizing I *shouldn't* need this just to see if things will run, took
out my CLASSPATH (after trying other various settings).
b. Tried modifying the SJava file where the default$classPath is set.
4. Uninstalled by deleting the library/SJava directory and started over.

Any help would be greatly appreciated. Also willing to be a guinea pig
for the windows stuff. Haven't tried a install from source. My next step
if I haven't really mucked things up.

thanx
steve
novice R user, but plenty of java



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 29 08:59:42 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 29 Aug 2002 07:59:42 +0100 (BST)
Subject: [R] running SJava
In-Reply-To: <3D6D80A1.C5C9F809@mitre.org>
Message-ID: <Pine.LNX.4.31.0208290740120.9856-100000@gannet.stats>

The URI you quote says SJavaWin 0.62-8 is for R 1.3.1 (which is a year
old).  The current version of SJava is 0.65-0.  I don't think you can run
0.62-8 on later versions of R.

BTW, there are separate email lists for the Omegahat packages
on www.omegahat.org which look to me to be more appropriate.

On Wed, 28 Aug 2002, Stephen C. Upton wrote:

> Folks,
>
> Having problems getting started with SJava and request help.
>
> I get this error when running .JavaInit() (within RGui 1.5.1, on Windows
> 2000):
> Error in .JavaInit() : Couldn't start Java Virtual Machine: Cannot find
> the Omegahat interface manager class. Check you classpath!
>
> (Before you right back saying read the emails, please read further - in
> short, been there, done that)
>
> Environment:
> RWin 1.5.1 (install from binaries)
> OS Win 2000 SP3
> jdk 1.4.0 (could this be it?? I saw requirement for 1.2 or 1.3 - I
> wouldn't think this is the problem)
> SJavaWin_0.62-8 binary
> (. . . what else?)
>
> Install procedure:
> 1. According to http://www.omegahat.org/RSJava/#Download,
> cd $RHOME/library
> unzip SJavaWin_0.62-8.zip
> 2. did that
> 3. got .Defunct error. email suggested changing SJava file in
> {R_HOME}/library/SJava/R
> 4. did that
> 5. tried .JavaInit()
>
> Attempts to solve problem:
> 1. Read the FAQ. Not much here on this one, although several emails
> requesting help on this one, with no apparent solution.
> 2. Read the Archives. There were several emails concerning this, but
> though one even said problem solved, but does not. It's a java classpath
> problem, and not a LD_LIBRARY problem.
> 3. RTFM. Actually, the Howto.pdf dated 16 July 2002 (page 5), in fact
> states:
> "The default values in .javaConfig are computed and fixed when the R
> library is installed These contain
> the entries of the default classpath necessary to locate the classes
> used to run the embedded Omegahat
> interpreter and also the system properties that control how that
> interpreter is created and behaves (e.g.
> class names for components, etc.)." The other manuals don't seem to
> cover the
> a. Tried setting a reasonable classpath, in my case
> C:/R/rw1051/library/SJava in a CLASSPATH environment variable. java
> should be able to find the
> org.omegahat.Interfaces.NativeInterface.OmegaInterfaceManager. However I
> noticed on the SJava file, in the javaConfig assignment, the
> expression      if(nchar(tmp) > 0)
>        classPath <- strsplit(tmp,":")[[1]]
>    }
> " which seems to split based on a unix environment and not a windows.
> Realizing I *shouldn't* need this just to see if things will run, took
> out my CLASSPATH (after trying other various settings).
> b. Tried modifying the SJava file where the default$classPath is set.
> 4. Uninstalled by deleting the library/SJava directory and started over.
>
> Any help would be greatly appreciated. Also willing to be a guinea pig
> for the windows stuff. Haven't tried a install from source. My next step
> if I haven't really mucked things up.
>
> thanx
> steve
> novice R user, but plenty of java
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Aug 29 09:56:05 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 29 Aug 2002 09:56:05 +0200
Subject: [R] unlist (rpart.object.list)
References: <200208272000.g7RK0IX08649@mailgate5.cinetic.de>
Message-ID: <3D6DD395.E6ADAC3E@statistik.uni-dortmund.de>

chr.schulz at email.de wrote:
> 
> Hello,
> can me please help anbody how it is possible
> unlist a "rpart.object.list" i.e. from bagging(ipred) to
> plot this "unique" several rpart.objects .
> 
> ..i make attempts with unlist, get really atomic
> elements, but need only the different tree's !

Right, that's what unlist() does.


In ?bagging (package ipred), you will find in section "Value":

  Value 
  An object of class bagging: a list containing the following objects 

  mt   list of length nbagg containing rpart trees. 


So, following the first example in ?bagging, you get a list of trees
with:

 X <- as.data.frame(matrix(rnorm(1000), ncol=10))
 y <- factor(ifelse(apply(X, 1, mean) > 0, 1, 0))
 learn <- cbind(y, X)

 mt <- bagging(y ~., data=learn, coob=TRUE)
 mt$mt

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Thu Aug 29 11:55:42 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Thu, 29 Aug 2002 21:55:42 +1200 (NZST)
Subject: [R] Factor Analysis in MASS4
Message-ID: <Pine.SOL.4.21.0208292151020.98-100000@stat1.stat.auckland.ac.nz>

Hi,

I had a look at the MASS4 scripts in the MASS package, in Ch 11.3 Factor
Analysis, there is a section of codes like:

  data(ability.cov)

  ability.FA <- factanal(covmat = ability.cov, factors = 1)
  ability.FA
  (ability.FA <- update(ability.FA, factors = 2))
  #summary(ability.FA)
  round(loadings(ability.FA) %*% t(loadings(ability.FA)) +
             diag(ability.FA$uniq), 3)

Unfortunately I still haven't received the book I ordered, so I can't look
this up.

Two questions:

1) What does the update() do?  I mean, what happens if I replace it with 
     factanal(covmat = ability.cov, factors = 2)

2) What does the last command, the formulae in round() mean?  I tried it
and it produced a matrix that looks kind of like correlation matrix of
some sort... 


Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
Homepage: http://www.stat.auckland.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 29 12:38:08 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 29 Aug 2002 11:38:08 +0100 (BST)
Subject: [R] Factor Analysis in MASS4
In-Reply-To: <Pine.SOL.4.21.0208292151020.98-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.LNX.4.31.0208291136450.16061-100000@gannet.stats>

On Thu, 29 Aug 2002, Ko-Kang Kevin Wang wrote:

> Hi,
>
> I had a look at the MASS4 scripts in the MASS package, in Ch 11.3 Factor
> Analysis, there is a section of codes like:
>
>   data(ability.cov)
>
>   ability.FA <- factanal(covmat = ability.cov, factors = 1)
>   ability.FA
>   (ability.FA <- update(ability.FA, factors = 2))
>   #summary(ability.FA)
>   round(loadings(ability.FA) %*% t(loadings(ability.FA)) +
>              diag(ability.FA$uniq), 3)
>
> Unfortunately I still haven't received the book I ordered, so I can't look
> this up.
>
> Two questions:
>
> 1) What does the update() do?  I mean, what happens if I replace it with
>      factanal(covmat = ability.cov, factors = 2)

That's what it does.  update always recalls the original call with the
changes as given.

> 2) What does the last command, the formulae in round() mean?  I tried it
> and it produced a matrix that looks kind of like correlation matrix of
> some sort...

It is the fitted correlations.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Thu Aug 29 15:39:32 2002
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 29 Aug 2002 09:39:32 -0400
Subject: [R] Factor Analysis in MASS4
In-Reply-To: <Pine.SOL.4.21.0208292151020.98-100000@stat1.stat.auckland.
 ac.nz>
Message-ID: <5.1.0.14.2.20020829093137.02d58a50@mcmail.cis.mcmaster.ca>

Dear Kevin,

At 09:55 PM 8/29/2002 +1200, Ko-Kang Kevin Wang wrote:

>I had a look at the MASS4 scripts in the MASS package, in Ch 11.3 Factor
>Analysis, there is a section of codes like:
>
>   data(ability.cov)
>
>   ability.FA <- factanal(covmat = ability.cov, factors = 1)
>   ability.FA
>   (ability.FA <- update(ability.FA, factors = 2))
>   #summary(ability.FA)
>   round(loadings(ability.FA) %*% t(loadings(ability.FA)) +
>              diag(ability.FA$uniq), 3)
>
>Unfortunately I still haven't received the book I ordered, so I can't look
>this up.

I, too (and I'm sure many others) are also waiting.

>Two questions:
>
>1) What does the update() do?  I mean, what happens if I replace it with
>      factanal(covmat = ability.cov, factors = 2)

As is generally the case, update methods allow you to respecify a model, 
here a factor analysis, changing some arguments to the modeling function. 
As you probably discovered, factanal(covmat = ability.cov, factors = 2) is 
equivalent.

>2) What does the last command, the formulae in round() mean?  I tried it
>and it produced a matrix that looks kind of like correlation matrix of
>some sort...

These are the reproduced correlations, which may be compared with the 
observed correlations, round(ability.FA$correlation, 3).

I hope that this helps,
  John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Aug 29 17:09:29 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 29 Aug 2002 08:09:29 -0700 (PDT)
Subject: [R] running SJava
In-Reply-To: <3D6D80A1.C5C9F809@mitre.org>
Message-ID: <Pine.A41.4.44.0208290808290.62488-100000@homer15.u.washington.edu>

On Wed, 28 Aug 2002, Stephen C. Upton wrote:

> Folks,
>
> Having problems getting started with SJava and request help.
>
> I get this error when running .JavaInit() (within RGui 1.5.1, on Windows
> 2000):
> Error in .JavaInit() : Couldn't start Java Virtual Machine: Cannot find
> the Omegahat interface manager class. Check you classpath!

One workaround I have had some success with is to set the working
directory to the directory containing the Omegahat dll before running
.JavaInit().

	-thomas

> (Before you right back saying read the emails, please read further - in
> short, been there, done that)
>
> Environment:
> RWin 1.5.1 (install from binaries)
> OS Win 2000 SP3
> jdk 1.4.0 (could this be it?? I saw requirement for 1.2 or 1.3 - I
> wouldn't think this is the problem)
> SJavaWin_0.62-8 binary
> (. . . what else?)
>
> Install procedure:
> 1. According to http://www.omegahat.org/RSJava/#Download,
> cd $RHOME/library
> unzip SJavaWin_0.62-8.zip
> 2. did that
> 3. got .Defunct error. email suggested changing SJava file in
> {R_HOME}/library/SJava/R
> 4. did that
> 5. tried .JavaInit()
>
> Attempts to solve problem:
> 1. Read the FAQ. Not much here on this one, although several emails
> requesting help on this one, with no apparent solution.
> 2. Read the Archives. There were several emails concerning this, but
> though one even said problem solved, but does not. It's a java classpath
> problem, and not a LD_LIBRARY problem.
> 3. RTFM. Actually, the Howto.pdf dated 16 July 2002 (page 5), in fact
> states:
> "The default values in .javaConfig are computed and fixed when the R
> library is installed These contain
> the entries of the default classpath necessary to locate the classes
> used to run the embedded Omegahat
> interpreter and also the system properties that control how that
> interpreter is created and behaves (e.g.
> class names for components, etc.)." The other manuals don't seem to
> cover the
> a. Tried setting a reasonable classpath, in my case
> C:/R/rw1051/library/SJava in a CLASSPATH environment variable. java
> should be able to find the
> org.omegahat.Interfaces.NativeInterface.OmegaInterfaceManager. However I
> noticed on the SJava file, in the javaConfig assignment, the
> expression      if(nchar(tmp) > 0)
>        classPath <- strsplit(tmp,":")[[1]]
>    }
> " which seems to split based on a unix environment and not a windows.
> Realizing I *shouldn't* need this just to see if things will run, took
> out my CLASSPATH (after trying other various settings).
> b. Tried modifying the SJava file where the default$classPath is set.
> 4. Uninstalled by deleting the library/SJava directory and started over.
>
> Any help would be greatly appreciated. Also willing to be a guinea pig
> for the windows stuff. Haven't tried a install from source. My next step
> if I haven't really mucked things up.
>
> thanx
> steve
> novice R user, but plenty of java
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle
^^^^^^^^^^^^^^^^^^^^^^^^
- NOTE NEW EMAIL ADDRESS

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From grimm.heinz at rcc.ch  Thu Aug 29 18:33:01 2002
From: grimm.heinz at rcc.ch (Heinz Grimm)
Date: Thu, 29 Aug 2002 18:33:01 +0200
Subject: [R] Problems to install SJava 0.65
Message-ID: <3D6E4CBD.DD8B5A1D@rcc.ch>

Hi,

I am trying to install SJava on Windows NT as described on
http://www.omegahat.org/RSJava/ .
"make pkg-SJava" aborts with error message ./configure.win not found
(details appended). The  directory
`/cygdrive/d/r-project/R-1.5.1/src/library/SJava/' contents a file
configure.win.
A bug in the makefile? Any hints?

Thank you,
Heinz Grimm

$ make pkg-SJava
make DLLNM=  FLIBS="-lg2c -lRblas" BUILD=MINGW \
  -C d:/r-project/R-1.5.1/src/library/SJava PKG=SJava
RHOME=d:/r-project/R-1.5.1
 RLIB=d:/r-project/R-1.5.1/library \
  -f d:/r-project/R-1.5.1/src/gnuwin32/MakePkg
make[1]: Entering directory
`/cygdrive/d/r-project/R-1.5.1/src/library/SJava'
---------- Making package SJava ------------
Building JNI header files...
mkdir -p d:/r-project/R-1.5.1/library/SJava
cp -r  ./INDEX  ./TITLE inst/* d:/r-project/R-1.5.1/library/SJava/
  adding build stamp to DESCRIPTION
  making DLL
make[2]: Entering directory
`/cygdrive/d/r-project/R-1.5.1/src/library/SJava/src
'
(cd .. ; ./configure.win d:/r-project/R-1.5.1)
./configure.win: not found
make[2]: *** [config] Error 127
make[2]: Leaving directory
`/cygdrive/d/r-project/R-1.5.1/src/library/SJava/src'

make[1]: *** [src/SJava.dll] Error 2
make[1]: Leaving directory
`/cygdrive/d/r-project/R-1.5.1/src/library/SJava'
make: *** [pkg-SJava] Error 2
$
-------------- next part --------------
A non-text attachment was scrubbed...
Name: grimm.heinz.vcf
Type: text/x-vcard
Size: 291 bytes
Desc: Card for Heinz Grimm
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020829/760096b0/grimm.heinz.vcf

From gu4 at llnl.gov  Thu Aug 29 18:58:34 2002
From: gu4 at llnl.gov (Pauline Gu)
Date: Thu, 29 Aug 2002 09:58:34 -0700
Subject: [R] running SJava
In-Reply-To: <3D6D80A1.C5C9F809@mitre.org>
Message-ID: <5.1.1.5.2.20020829095703.00ac1bc8@poptop.llnl.gov>

Hello, Stephen,

I encountered this problem before.  Here is my short time fix, please let 
me know if you find something better.
Thanks again, Dr. Rossini, for your quick response.

I tried pathSeparator <- ";" and then .JavaInit(), but it did not work, I 
guess because the pathSeparator statement overrode mine.

But, thanks for the idea, I tried version$os <- "Win32" and it worked.

Pauline

At 04:40 PM 8/9/2002 -0700, you wrote:
 >>>>> "pauline" == Pauline Gu <gu4 at llnl.gov> writes:

     pauline> Dear Dr. Rossini,
     pauline> Thanks for quick response.  I checked into the source code of
     pauline> .JavaInit().  And I found out the problem is with

     pauline> pathSeparator <- ifelse(version$os == "Win32", ";", ":")

     pauline> and when I typed version$os and the program gave me 
"mingw32".  So, I
     pauline> guess it uses : as my pathseparator.  But, I do not know how 
to modify
     pauline> this function.  I do not find this function in R.  Can you 
help me,
     pauline> please?

How about:
         pathSeparator <- ";"

best,
-tony

At 10:02 PM 8/28/2002 -0400, Stephen C. Upton wrote:
>Folks,
>
>Having problems getting started with SJava and request help.
>
>I get this error when running .JavaInit() (within RGui 1.5.1, on Windows
>2000):
>Error in .JavaInit() : Couldn't start Java Virtual Machine: Cannot find
>the Omegahat interface manager class. Check you classpath!
>
>(Before you right back saying read the emails, please read further - in
>short, been there, done that)
>
>Environment:
>RWin 1.5.1 (install from binaries)
>OS Win 2000 SP3
>jdk 1.4.0 (could this be it?? I saw requirement for 1.2 or 1.3 - I
>wouldn't think this is the problem)
>SJavaWin_0.62-8 binary
>(. . . what else?)
>
>Install procedure:
>1. According to http://www.omegahat.org/RSJava/#Download,
>cd $RHOME/library
>unzip SJavaWin_0.62-8.zip
>2. did that
>3. got .Defunct error. email suggested changing SJava file in
>{R_HOME}/library/SJava/R
>4. did that
>5. tried .JavaInit()
>
>Attempts to solve problem:
>1. Read the FAQ. Not much here on this one, although several emails
>requesting help on this one, with no apparent solution.
>2. Read the Archives. There were several emails concerning this, but
>though one even said problem solved, but does not. It's a java classpath
>problem, and not a LD_LIBRARY problem.
>3. RTFM. Actually, the Howto.pdf dated 16 July 2002 (page 5), in fact
>states:
>"The default values in .javaConfig are computed and fixed when the R
>library is installed These contain
>the entries of the default classpath necessary to locate the classes
>used to run the embedded Omegahat
>interpreter and also the system properties that control how that
>interpreter is created and behaves (e.g.
>class names for components, etc.)." The other manuals don't seem to
>cover the
>a. Tried setting a reasonable classpath, in my case
>C:/R/rw1051/library/SJava in a CLASSPATH environment variable. java
>should be able to find the
>org.omegahat.Interfaces.NativeInterface.OmegaInterfaceManager. However I
>noticed on the SJava file, in the javaConfig assignment, the
>expression      if(nchar(tmp) > 0)
>        classPath <- strsplit(tmp,":")[[1]]
>    }
>" which seems to split based on a unix environment and not a windows.
>Realizing I *shouldn't* need this just to see if things will run, took
>out my CLASSPATH (after trying other various settings).
>b. Tried modifying the SJava file where the default$classPath is set.
>4. Uninstalled by deleting the library/SJava directory and started over.
>
>Any help would be greatly appreciated. Also willing to be a guinea pig
>for the windows stuff. Haven't tried a install from source. My next step
>if I haven't really mucked things up.
>
>thanx
>steve
>novice R user, but plenty of java
>
>
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lockwood at rand.org  Thu Aug 29 20:00:59 2002
From: lockwood at rand.org (J.R. Lockwood)
Date: Thu, 29 Aug 2002 14:00:59 -0400 (EDT)
Subject: [R] lme() with known level-one variances
Message-ID: <Pine.LNX.4.33.0208291343360.16743-100000@penguin.rand.org>

Greetings,

I have a meta-analysis problem in which I have fixed effects
regression coefficients (and estimated standard errors) from identical
models fit to different data sets.  I would like to use these results
to create pooled estimated regression coefficients and estimated
standard errors for these pooled coefficients.  In particular, I would
like to estimate the model

\beta_{i} = \mu + \eta_{i} + \epsilon_{i}

\eta_{i} ~ iid N(0,\tau^2) and independent of the \epsilon_{i}, the
latter themselves being independent with variances assumed known and
equal to the squared standard errors reported in the regression
output.

I would like to use lme() to estimate \tau^2 by REML, and also get a
sensibly weighted estimate for \mu from the fixed effects output.  I
am not sure how to do this.  I have tried

lme(fixed=beta~1,random=~1|group,weights=~beta.v)

where "beta" are my coefficients, "group" is a trivial factor
indicating that each observation is its own group, and "beta.v" are
the squared standard errors.  Whatever I get out of this doesn't make
sense to me, and I suspect that I have specified the model
incorrectly.

Incidentally, if I just run the simple unidentifiable model

lme(fixed=beta~1,random=~1|group)

lme() somehow manages to produce estimates of the two variance
components, although the estimated confidence intervals are huge and
contain zero.  If I square and sum the estimated variance components,
I do get the sample variance of my regression coefficients, but why
that particular parceling of variance was chosen as opposed to any
other with the same property eludes me.

Here are my specs:
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    5.1              
year     2002             
month    06               
day      17               
language R  


Thanks in advance for your help -- I've learned a ton of statistics
and computing on this list.

J.R. Lockwood
412-683-2300 x4941
lockwood at rand.org
http://www.rand.org/methodology/stat/members/lockwood/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From joshi at engr.orst.edu  Thu Aug 29 21:33:26 2002
From: joshi at engr.orst.edu (Saket Joshi)
Date: Thu, 29 Aug 2002 12:33:26 -0700 (PDT)
Subject: [R] 2 questions
Message-ID: <Pine.GSO.4.44.0208291215580.21700-100000@flop.ENGR.ORST.EDU>

Hi all,

I am using R1.5.0 under Unix,

I have a couple of questions here.

1. My program is running out of memory. I am writing a program to grow a
list of trees using rpart() on a subset of a large dataset(5807x693) with
a different response for every tree. I saw that after each tree was
constucted, 116 MB of data was being added to the Vcells. I have no idea
what this data is. My dataset is 30MB large and each tree is 1.6 MB large.
Could someone tell me how to monitor what data is getting stored in the
Vcells?

2. This is related to the same program as above. When growing a tree I
used the expression:

fit <- rpart(formula= x[[34]] ~ ., data = x)

This does not give an error but does give an obviously wrong answer. But
when I rearranged the data.frame, x, so that the response variable comes in the
first column and all the other variables in the remaining columns and
tried using

fit <- rpart(x)

it worked perfectly i.e gave the correct tree.
Could someone tell me what to do if I want the 34th column of the
data.frame to be the response variable but dont want to use the column
names in the formula for growing the tree.

Thanks in advance.
-Saket.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chromatonus712 at hotmail.com  Thu Aug 29 21:36:59 2002
From: chromatonus712 at hotmail.com (chromatonus 712)
Date: Thu, 29 Aug 2002 19:36:59 +0000
Subject: [R] How would you do a logistic analysis
Message-ID: <F36ZvYx7ctUUzlIuqE70001e0f0@hotmail.com>

On two lists of data (in a matrix perhaps?) And may i also know where I can 
find the complete documentation of how to use all the functions in R? Thank 
you for your help!


_________________________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 29 22:01:44 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Thu, 29 Aug 2002 21:01:44 +0100 (BST)
Subject: [R] How would you do a logistic analysis
In-Reply-To: <F36ZvYx7ctUUzlIuqE70001e0f0@hotmail.com>
Message-ID: <Pine.LNX.4.31.0208292059490.2628-100000@gannet.stats>

On Thu, 29 Aug 2002, chromatonus 712 wrote:

> On two lists of data (in a matrix perhaps?)

Lists and matrices are different things, so please be more precise.

> And may i also know where I can
> find the complete documentation of how to use all the functions in R? Thank
> you for your help!

In refman.pdf.  You may need to do

make pdf
make install-pdf

though to get it installed.

Good reading (it is over 1000 A4 pages).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tobias-elze at tobias-elze.de  Fri Aug 30 00:13:17 2002
From: tobias-elze at tobias-elze.de (Tobias Elze)
Date: Fri, 30 Aug 2002 00:13:17 +0200
Subject: [R] problem with toString
Message-ID: <IFHDHBZBJILIOJ10542SQ712V3WUP.3d6e9c7d@asdf-mptvl8gouk>

Hi,

I am using R 1.5.1 under Windows 2000. I have a problem with the function toString: It seems not to work for longer 
vectors as expressions.

This example works well:

q1<-expression(c(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15))
toString(q1)

I get:
"c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15)"  => OK


But this one does not:
q2<-expression(c(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19))
toString(q2)

I get:
"c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, "  => WRONG

R cuts my vectors if they are too long. Can someone help me about this?

Thank you,

Tobias Elze.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Fri Aug 30 07:37:55 2002
From: siim at obs.ee (Ott Toomet)
Date: Fri, 30 Aug 2002 07:37:55 +0200 (CEST)
Subject: [R] How would you do a logistic analysis
In-Reply-To: <F36ZvYx7ctUUzlIuqE70001e0f0@hotmail.com>
Message-ID: <Pine.LNX.4.44.0208300727500.6266-100000@localhost.localdomain>

On Thu, 29 Aug 2002, chromatonus 712 wrote:

  |On two lists of data (in a matrix perhaps?) And may i also know where I can 
  |find the complete documentation of how to use all the functions in R? Thank 
  |you for your help!

It seems that you need to start with ,,an introduction to R'', available at
CRAN (R website) where it is made clear what is list, what is matrix and how
to do anayses with them (there is also mentioned logit).

You need to do something like

glm(y ~ x1 + x2, family=binomial(link=logit))

where x1 and x2 are explanatory variables and y are responses.  Note this is
binomial logit, I have not seen any package able to do multinomial or nested
logit.  There are however many methods for multinominal analysis,
unfortunately I am not familiar with them.

You can download complete R reference manual from CRAN, but I would rather
use a html-form of it (html form should be installed by default).

Cheers,

Ott

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 30 08:51:10 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 30 Aug 2002 07:51:10 +0100 (BST)
Subject: [R] problem with toString
In-Reply-To: <IFHDHBZBJILIOJ10542SQ712V3WUP.3d6e9c7d@asdf-mptvl8gouk>
Message-ID: <Pine.LNX.4.31.0208300742390.3245-100000@gannet.stats>

Why are you using toString?  The main purpose of toString is to
get truncate the character representation of objects: otherwise
as.character would suffice.

The problem you are seeing is in as.character:

> as.character(q2)
[1] "c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, "

and it comes from the cutoff value of 60 in deparse.  I would use

tmp <- deparse(q2, 500)
substring(tmp, 12, nchar(tmp)-1)


On Fri, 30 Aug 2002, Tobias Elze wrote:

> Hi,
>
> I am using R 1.5.1 under Windows 2000. I have a problem with the
function toString: It seems not to work for longer
> vectors as expressions.
>
> This example works well:
>
> q1<-expression(c(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15))
> toString(q1)
>
> I get:
> "c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15)"  => OK
>
>
> But this one does not:
> q2<-expression(c(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19))
> toString(q2)
>
> I get:
> "c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, "  => WRONG
>
> R cuts my vectors if they are too long. Can someone help me about this?
>
> Thank you,
>
> Tobias Elze.
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From grimm.heinz at rcc.ch  Fri Aug 30 11:12:38 2002
From: grimm.heinz at rcc.ch (Heinz Grimm)
Date: Fri, 30 Aug 2002 11:12:38 +0200
Subject: [R] Can neither find or create RInterpreter.DLL
Message-ID: <3D6F3706.3A049C6A@rcc.ch>

Hi,

I am doing my first steps with R. This worked so far:
- Installed R1.5.1 from binary distribution
- Installed SJava 0.62.8 from binary distribution
- Executed Java statements within R

Problem:
If I call R from Java, I get an UnsatisfiedLinkError:
RInterpreter.DLL not found. This DLL is completely
missing, I searched all drives for it.

In "Calling R from Java" I found a hint: "...you will
need to have built R as a shared library. You can
do this by passing the argument --enable-shared
to the configure script..."

Ok, I downloaded the source of R1.5.1 and run the
script:

$ sh configure --enable-shared
uname: not found
chmod: not found
configure: error: cannot create configure.lineno; rerun with a POSIX
shell
$

Although this error occurred, make runs fine and creates Rgui.EXE,
R.DLL....
but no RInterpreter.DLL.

I installed all the tools recommended in
http://www.stats.ox.ac.uk/pub/Rtools/
- Tools.ZIP http://www.stats.ox.ac.uk/pub/Rtools/tools.zip
- Perl http://www.activestate.com/Products/ActivePerl/Download.html
- MINGW compiler http://www.mingw.org/

Any help is highly appreciated.

Heinz Grimm

-------------- next part --------------
A non-text attachment was scrubbed...
Name: grimm.heinz.vcf
Type: text/x-vcard
Size: 291 bytes
Desc: Card for Heinz Grimm
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020830/1b70b26b/grimm.heinz.vcf

From p.dalgaard at biostat.ku.dk  Fri Aug 30 11:12:55 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Aug 2002 11:12:55 +0200
Subject: [R] Can neither find or create RInterpreter.DLL
In-Reply-To: <3D6F3706.3A049C6A@rcc.ch>
References: <3D6F3706.3A049C6A@rcc.ch>
Message-ID: <x2lm6obtgo.fsf@biostat.ku.dk>

Heinz Grimm <grimm.heinz at rcc.ch> writes:

> Ok, I downloaded the source of R1.5.1 and run the
> script:
> 
> $ sh configure --enable-shared
> uname: not found
> chmod: not found
> configure: error: cannot create configure.lineno; rerun with a POSIX
> shell
> $
> 
> Although this error occurred, make runs fine and creates Rgui.EXE,
> R.DLL....
> but no RInterpreter.DLL.

If configure failed, chances are that you ran make with a default
configuration (without --enable-shared), so my guess is that you need
to get that step to work. Since it cannot find a couple of key
commands, you might need to set your PATH variable correctly.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 30 11:21:58 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 30 Aug 2002 10:21:58 +0100 (BST)
Subject: [R] Can neither find or create RInterpreter.DLL
In-Reply-To: <x2lm6obtgo.fsf@biostat.ku.dk>
Message-ID: <Pine.LNX.4.31.0208301019390.7961-100000@gannet.stats>

I think this is trying to follow the _Unix_ instructions on _Windows_.

Try the Windows instructions for SJava (but look in the recent R-help
archives for problems with the misuse of version$os in setting the path
separator).

On 30 Aug 2002, Peter Dalgaard BSA wrote:

> Heinz Grimm <grimm.heinz at rcc.ch> writes:
>
> > Ok, I downloaded the source of R1.5.1 and run the
> > script:
> >
> > $ sh configure --enable-shared
> > uname: not found
> > chmod: not found
> > configure: error: cannot create configure.lineno; rerun with a POSIX
> > shell
> > $
> >
> > Although this error occurred, make runs fine and creates Rgui.EXE,
> > R.DLL....
> > but no RInterpreter.DLL.
>
> If configure failed, chances are that you ran make with a default
> configuration (without --enable-shared), so my guess is that you need
> to get that step to work. Since it cannot find a couple of key
> commands, you might need to set your PATH variable correctly.
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Fri Aug 30 11:20:34 2002
From: vito.muggeo at giustizia.it (vito muggeo)
Date: Fri, 30 Aug 2002 11:20:34 +0200
Subject: [R] lme() with known level-one variances
References: <Pine.LNX.4.33.0208291343360.16743-100000@penguin.rand.org>
Message-ID: <003701c25006$843fe140$5c13070a@it.giustizia.it>

See the rmeta package on CRAN (the metaDSL() function would do what you are
looking for).

BTW, in your code note:

i)In the model estimation, the estimated coefficients beta have to be
weighed by the inverse of their variance (the smaller the variance, the more
accurate the estimated beta, the more important its influence on the pooled
estimate)
ii) As far as I know, it makes no sense to set no.group=no.observations;
otherwise you could not estimate the intra-group variance.

best,
vito


----- Original Message -----
From: "J.R. Lockwood" <lockwood at rand.org>
To: <r-help at stat.math.ethz.ch>
Cc: "J.R. Lockwood" <lockwood at rand.org>
Sent: Thursday, August 29, 2002 8:00 PM
Subject: [R] lme() with known level-one variances


> Greetings,
>
> I have a meta-analysis problem in which I have fixed effects
> regression coefficients (and estimated standard errors) from identical
> models fit to different data sets.  I would like to use these results
> to create pooled estimated regression coefficients and estimated
> standard errors for these pooled coefficients.  In particular, I would
> like to estimate the model
>
> \beta_{i} = \mu + \eta_{i} + \epsilon_{i}
>
> \eta_{i} ~ iid N(0,\tau^2) and independent of the \epsilon_{i}, the
> latter themselves being independent with variances assumed known and
> equal to the squared standard errors reported in the regression
> output.
>
> I would like to use lme() to estimate \tau^2 by REML, and also get a
> sensibly weighted estimate for \mu from the fixed effects output.  I
> am not sure how to do this.  I have tried
>
> lme(fixed=beta~1,random=~1|group,weights=~beta.v)
>
> where "beta" are my coefficients, "group" is a trivial factor
> indicating that each observation is its own group, and "beta.v" are
> the squared standard errors.  Whatever I get out of this doesn't make
> sense to me, and I suspect that I have specified the model
> incorrectly.
>
> Incidentally, if I just run the simple unidentifiable model
>
> lme(fixed=beta~1,random=~1|group)
>
> lme() somehow manages to produce estimates of the two variance
> components, although the estimated confidence intervals are huge and
> contain zero.  If I square and sum the estimated variance components,
> I do get the sample variance of my regression coefficients, but why
> that particular parceling of variance was chosen as opposed to any
> other with the same property eludes me.
>
> Here are my specs:
> platform i686-pc-linux-gnu
> arch     i686
> os       linux-gnu
> system   i686, linux-gnu
> status
> major    1
> minor    5.1
> year     2002
> month    06
> day      17
> language R
>
>
> Thanks in advance for your help -- I've learned a ton of statistics
> and computing on this list.
>
> J.R. Lockwood
> 412-683-2300 x4941
> lockwood at rand.org
> http://www.rand.org/methodology/stat/members/lockwood/
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Fri Aug 30 12:03:54 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Fri, 30 Aug 2002 22:03:54 +1200 (NZST)
Subject: [R] Factor Analysis in MASS4
In-Reply-To: <Pine.LNX.4.31.0208291136450.16061-100000@gannet.stats>
Message-ID: <Pine.SOL.4.21.0208302201590.4203-100000@stat1.stat.auckland.ac.nz>

I see.

Just out of interest, is it possible to do a regresion analysis on the
factors obtained from the factor analysis?

On Thu, 29 Aug 2002 ripley at stats.ox.ac.uk wrote:

> Date: Thu, 29 Aug 2002 11:38:08 +0100 (BST)
> From: ripley at stats.ox.ac.uk
> To: Ko-Kang Kevin Wang <kwan022 at stat.auckland.ac.nz>
> Cc: R Help <r-help at stat.math.ethz.ch>
> Subject: Re: [R] Factor Analysis in MASS4
> 
> On Thu, 29 Aug 2002, Ko-Kang Kevin Wang wrote:
> 
> > Hi,
> >
> > I had a look at the MASS4 scripts in the MASS package, in Ch 11.3 Factor
> > Analysis, there is a section of codes like:
> >
> >   data(ability.cov)
> >
> >   ability.FA <- factanal(covmat = ability.cov, factors = 1)
> >   ability.FA
> >   (ability.FA <- update(ability.FA, factors = 2))
> >   #summary(ability.FA)
> >   round(loadings(ability.FA) %*% t(loadings(ability.FA)) +
> >              diag(ability.FA$uniq), 3)
> >
> > Unfortunately I still haven't received the book I ordered, so I can't look
> > this up.
> >
> > Two questions:
> >
> > 1) What does the update() do?  I mean, what happens if I replace it with
> >      factanal(covmat = ability.cov, factors = 2)
> 
> That's what it does.  update always recalls the original call with the
> changes as given.
> 
> > 2) What does the last command, the formulae in round() mean?  I tried it
> > and it produced a matrix that looks kind of like correlation matrix of
> > some sort...
> 
> It is the fitted correlations.
> 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 

Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
Homepage: http://www.stat.auckland.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tobias-elze at tobias-elze.de  Fri Aug 30 14:03:10 2002
From: tobias-elze at tobias-elze.de (Tobias Elze)
Date: Fri, 30 Aug 2002 14:03:10 +0200
Subject: [R] problem with toString
Message-ID: <MIA7UTDBWRKG3YK52EDLG83BAXS96PK.3d6f5efe@asdf-mptvl8gouk>


>Why are you using toString?  The main purpose of toString is to
>get truncate the character representation of objects: otherwise
>as.character would suffice.
>
>The problem you are seeing is in as.character:
>
>> as.character(q2)
>[1] "c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, "
>
>and it comes from the cutoff value of 60 in deparse.  I would use
>
>tmp <- deparse(q2, 500)
>substring(tmp, 12, nchar(tmp)-1)
>
>-- 
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595

Thank you for your helpful answer. As far as I can understand, that means if I don't know how long my expression q is, I 
should use something as this:

 q <- expression(c(1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19))
 d <- deparse(q)
 s=""
 for (i in 1:length(d))
 {
 	s <- paste(tmp, d[i])
 }
 substring(s, 13, nchar(s)-1)

(The superfluous spaces in string s don't bother me and can easily be removed.) Maybe one could use a shorter method 
using apply for this?

I'd like to add some additional information about the background answering the question why I need this: I am planning to 
write a kind of plugin of a GPL Computer Algebra System to R enabling it to calculate symbolically.

What I have done is to use unevaluated expressions as input to my symbolic functions. These expressions are converted to 
strings (therefore my question), the strings are syntactically converted and then piped to the CAS from which I get strings 
back. Those answer strings are then converted into R expressions again, returned by the function. For example:

> x<-expression(pi/3)
> sym.sin(x)		# symbolic sine function
expression(sqrt(3)/2)

There are still some problems doing it this way: Long integers and fractions are shortened during the conversion from string 
to R expression. If I get back 1000! as a string, R will make it to inf. But this is due to the fact that R has never been 
intended to do such work, I know... (I will use unconverted strings in such cases)
By the way, converting strings to R expressions I am using parse together with temporary files. Is there an easier way doing 
this without temp files?

All the same, my testing results are promising: Even although R has not been intended to calculate symbolically, many things 
seem to be implementable. And maybe I can make a package for R in the future containing the sources of the CAS, providing 
many essential symbolic functions - I think this could be of general interest.

Thanks once more for your help,

king regards,

Tobias Elze.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Fri Aug 30 14:47:25 2002
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 30 Aug 2002 08:47:25 -0400
Subject: [R] Factor Analysis in MASS4
In-Reply-To: <Pine.SOL.4.21.0208302201590.4203-100000@stat1.stat.aucklan
 d.ac.nz>
References: <Pine.LNX.4.31.0208291136450.16061-100000@gannet.stats>
Message-ID: <5.1.0.14.2.20020830084448.01d890c0@mcmail.cis.mcmaster.ca>

Dear Kevin,

At 10:03 PM 8/30/2002 +1200, Ko-Kang Kevin Wang wrote:
>I see.
>
>Just out of interest, is it possible to do a regresion analysis on the
>factors obtained from the factor analysis?

Dear Kevin,

Factor scores are variables, so, as a mechanical matter, you can use them 
in a subsequent analysis. (You won't get factor scores if you start with a 
covariance matrix, as opposed to a data matrix.) Factor scores can have 
large measurement-error components, however, which causes problems if you 
use them as explanatory variables in a regression.

If your goal is to do a regression using the factors, and you can specify 
in advance which variables load on which factors, you might consider 
estimating the factor loadings and regression coefficients simultaneously, 
e.g., with the sem (structural-equation model) function in the sem package.

John
-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbonk at host.sk  Fri Aug 30 15:27:51 2002
From: rbonk at host.sk (Rado Bonk)
Date: Fri, 30 Aug 2002 15:27:51 +0200
Subject: [R] postscript() problem
Message-ID: <20020830152749.E16865@creon.profinet.sk>

Hi R-users,

I am using "postscript("xx.eps", horizontal=FALSE, onefile=FALSE,
height=6, width=10, pointsize=10)"  and "barplot(xx.dat)" in R to produce
EPS graphics for LATeX document. When checking the graphics with "gv" I
see that it was not produced with full details. The main graphic is
there, but axes labels and titles are missing. While checking the xx.eps
file with text editor I see that the xx.eps file was not produced
correctly and with full details. It's clearly missing some last lines.

Example of "tail xx.eps":
###example###
/ps 10 def R 10 s
100.97 244.54 (jan) 0.50 0.00 0.00 t
138.91 244.54 (feb) 0.50 0.00 0.00 t
176.85 244.54 (mar) 0.50 0.00 0.00 t
214.79 244.54 (apr) 0.50 0.00 0.00 t
252.73 244.54 (maj) 0.50 0.00 0.00 t
290.67 244.54 (jun) 0.50 0.00 0.00 t
328.61 244.54 (jul) 0.50 0.00 0.00 t
366.55 244.54 (aug) 0.50 0.00 0.00 t
404.49 244.54 (sep) 0.5
###example###

Where is oct., nov. and so on??? The graphical output using x11() driver
is correct.


Thanks,

Rado


-- 
Radoslav Bonk M.S.
Dept. of Physical Geography and Geoecology
Faculty of Sciences, Comenius University
Mlynska Dolina 842 15, Bratislava, SLOVAKIA
tel: +421 2 602 96 250 e-mail: rbonk at host.sk
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lockwood at rand.org  Fri Aug 30 16:06:22 2002
From: lockwood at rand.org (J.R. Lockwood)
Date: Fri, 30 Aug 2002 10:06:22 -0400 (EDT)
Subject: [R] lme() with known level-one variances
In-Reply-To: <003701c25006$843fe140$5c13070a@it.giustizia.it>
Message-ID: <Pine.LNX.4.33.0208300952560.23759-100000@penguin.rand.org>

Dear Vito,

Thank you for your response.  I still have some concerns:

>
> See the rmeta package on CRAN (the metaDSL() function would do what you are
> looking for).

It is not clear to me that this function does what I need.  I
apologize for casting my original question in terms of a
meta-analysis; it is a bit of a red herring.  My more general question
is whether it is possible to tell lme() to treat some variance
components as known, and to estimate others conditional on them.

> 
> BTW, in your code note:
> 
> i)In the model estimation, the estimated coefficients beta have to be
> weighed by the inverse of their variance (the smaller the variance, the more
> accurate the estimated beta, the more important its influence on the pooled
> estimate)

Unless I am misinterpreting, the "weights" argument that I passed to
lme() is inverted.  But after further consideration I do not think
that weighting is what I am seeking.

> ii) As far as I know, it makes no sense to set no.group=no.observations;
> otherwise you could not estimate the intra-group variance.
> 

I am not sure to what function the arguments you reference belong
(they do not appear to be part of meta.DSL()).  But the larger point
is that I do not want to estimate the intra-group variances -- I want
to treat them as known.

best,

J.R. Lockwood
412-683-2300 x4941
lockwood at rand.org
http://www.rand.org/methodology/stat/members/lockwood/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From noemifrassia at hotmail.com  Fri Aug 30 17:00:17 2002
From: noemifrassia at hotmail.com (noemi frassia)
Date: Fri, 30 Aug 2002 15:00:17 +0000
Subject: [R] =?iso-8859-1?B?Q1VSU09TIEdJUyBZIFRFTEVERVRFQ0NJ004=?=
Message-ID: <F135NTO98psxHTw5Vtq00026c6b@hotmail.com>

CENTRO DE TRANSFERENCIA TECNOL?GICA EN SISTEMAS DE INFORMACI?N GEOGR?FICA Y
TELEDETECCI?N

TUTORIAL  GRATUITO
Entendiendo la proyecci?n de los mapas  - SISTEMA Gauss-Kr?ger

CURSOS SEPTIEMBRE
ArcView 8.1
ArcView 3.2
GIS aplicado a  Marketing y  Ventas

CURSOS DISTANCIA:
Sistemas de Informaci?n Geogr?fica(Certificado UBA)
ArcView 3.2
ArcView 8.1
Teledetecci?n
ENVI 3.5
Bases de Datos para Todos (Certificado UBA)



CONTACTO
Arq. Mercedes Frassia, Especialista en Planificaci?n Urbana, UBA; Diploma en
UNIGIS, Manchester, UK
Telefono: (54) 11- 4-896-2466
(54) 11- 15-4-140-3587
E-mail: info at cursogis.com.ar
http://www.cursogis.com.ar





LISTADO DE PARTICIPANTES



Estos docentes han contado en los ?ltimos 2 a?os con mas de 500 alumnos 
entre los que se encuentran representantes de los siguientes organismos:



Universidades

Belgrano, Cat?lica, de Bah?a Blanca, de Bologna, de Buenos Aires, del Centro 
de la Provincia de Buenos Aires, del Comahue, del Litoral, de C?rdoba, de 
Flores, de General Sarmiento, de Jujuy, de la Fraternidad de Agrupaciones 
Santo Tom?s de Aquino (F.A.S.T.A), de La Plata, de La Patagonia Austral, 
Latinoamericana de Ciencias Ambientales, de Lujan, de Mar del Plata, de 
Quilmes, de La Republica (Uruguay), de La Rioja, de Lomas de Zamora, del 
Pilar (Paraguay), Regional Santa Fe, Rosario, de Salta, de Santa Fe, de San 
Juan, de Tucum?n, del Salvador, del Sur, Patagonia Austral, San Juan Bosco, 
Tecnol?gica Nacional, Torcuato Di Tella,  etc.

Municipalidades

Bah?a Blanca, Benito Ju?rez, Bragado, Campana, Ca?uelas, Castelli, 
Chascom?s, Coronel Su?rez, Coronel Rosales , Despe?aderos, Escobar, 
Florencio Varela, General Alvear, General Pueyrred?n, Jes?s Mar?a, Jun?n, La 
Plata, Laboulaye, Laprida, Lomas de Zamora, Malvinas Argentinas, Moreno, 
Mor?n, Necochea, Pehuajo, Pergamino, Posadas, Quilmes, Ramallo, R?o 
Gallegos, Rosario, Saladillo, San Fernando, San Isidro, San Mart?n, San 
Nicol?s, San Salvador de Jujuy, Santa Fe, Santo Tom?, Tigre, Venado Tuerto, 
Vicente L?pez, Viedma, Villa Allende, Villa Constituci?n, Villa de Merlo, 
Villa Mar?a, Gobierno de la Ciudad de Buenos Aires, etc.

ONG

Asociacion Demosvida, Aves Argentinas, Conservaci?n Argentina, Estaci?n 
Cient?fica Charles Darwin (Gal?pagos), Fundaci?n Amigos para la Naturaleza 
Noel Kempff (Bolivia), Fundaci?n Cethus, Fundaci?n CEPA / FLACAM, Fundacion 
Green Cross, Fundaci?n Moises Bertoni (Paraguay), Fundacion Pro Vivienda 
Social,  Fundaci?n Vida Silvestre Argentina, Plus Radio (Paraguay)

Empresas

Aeromapa, Agrimax, Ambiental SA Ambiente Online, Analog?as (empresa dedicada 
a la investigaci?n de mercado y marketing pol?tico),  ACA Automovil Club 
Argentino, BA&H BOOZ ALLEN & HAMILTON Consultora, BellSouth, Boston 
Geom?tica SRL (Paraguay), Cooperativa "16 de Octubre" de Servicios P?blicos 
de Esquel, Chevron Petrolera, Consultora Ambiental Echechuri, Consultora de 
Ingenier?a Cooprogetti, ComTrad SA, Cooperativa "16 de Octubre" de Servicios 
P?blicos, Copygraph, Cybermapa, Diario la Naci?n, Econat SA, Energicon SA, 
Epson Argentina, Estudio EGA, Franklin Consultora SA, Phoenix Oil & Gas, GEA 
Ge?logos Asociados, Gu?as FILCAR, Halcrow (Ingenier?a Hidr?ulica), Hewlett 
Packard, HIDRA Servicios de Ingenier?a, Hidroblan SA, HYTEC, IATASA 
(Ingenier?a y Asistencia T?cnica Argentina SA), JMB S.A. Ingenier?a 
Ambiental, La Dulce Seguros, Nostromo Consultora SRL, Novartis Argentina SA 
(Protecci?n de Cultivos), OCA correos, Palma y Asociados, Pampa Byte, Papel 
Prensa SA, PECOM (Perez Companc), Petrolera Pan American Energy,  Petrolera 
Quintana Minerals, PlusPetrol, Recovery SA (Planeamiento y Catastro, 
Sistemas Catastrales), SERVICOOP (Cooperativa de Servicios P?blicos de 
Madryn), SEINCO S.R.L. (Uruguay), Transpetrol SA, TRANSBA SA (Transporte de 
Energ?a El?ctrica de la Provincia de Buenos Aires), URBI (Concesionario del 
Catastro de la Ciudad de Posadas), WMC - Water Management Consultants 
(Chile), YPF-REPSOL, ZYZ Cosultores (Servicios en medioambiente, 
estructuras, estudios de suelos y proyectos de arquitectura)

Otros Organismos

Administraci?n de Parques Nacionales, Armada Argentina, Auditoria General de 
la Naci?n, Auditoria General de la Naci?n, Autoridad Regulatoria Nuclear, 
Banco de la Provincia de Buenos Aires, CEAMSE (Coordinaci?n Ecol?gica ?rea 
Metropolitana Sociedad del Estado), Centro de Geolog?as de Costas, Centro de 
Sensores Remotos De la FAA, CABA (Programa Reforma Pol?tica), CEPED 
(Instituto de Investigaciones Econ?micas), CNEA (Comisi?n Nacional de 
Energ?a At?mica), Colegio de Agrimensores - Distrito 1, CONAE (Comisi?n 
Nacional de Energ?a At?mica), CONICET (Consejo Nacional de Investigaciones 
Cient?ficas y T?cnicas), CFI (Consejo Federal de Inversiones) , COREBE 
(Comisi?n Regional del R?o Bermejo), CORFO (Corporaci?n de Desarrollo Valle 
Bonaerense del R?o Colorado), Defensor?a del Pueblo, Direcci?n General de 
Escuelas de la Provincia de Bueno Aires, Direcci?n Nacional de Desarrollo 
Urbano (de la Subsecretaria de Desarrollo Urbano y Vivienda de La Naci?n), 
Escuela de Ingenier?a de Caminos de Monta?a, Escuela de Prefectura Nacional, 
Fuerza A?rea Argentina, Gobierno Provincial de C?rdoba, IGM (Instituto 
Geogr?fico Militar), INA (Instituto Nacional del Agua), INDEC (Instituto 
Nacional de Estad?stica y Censos), INREMI (Instituto de Recursos Minerales 
de la Facultad de Ciencias Naturales y Museo UNLP), Instituto Ant?rtico 
Argentino, Instituto Provincial de la Vivienda de Formosa, Instituto 
Argentino de Oceanograf?a, INTA (Instituto Nacional de Tecnolog?a  
Agropecuaria), Laboratorio Tecnol?gigo del Uruguay LATU, Ministerio de 
Desarrollo Social y Medio Ambiente, Ministerio de Econom?a, Ministerio de 
Econom?a de la Provincia de Neuquen, Ministerio de Econom?a del Chaco, 
Ministerio de Econom?a de la Ciudad de La Plata, Ministerio de 
Infraestructura y Vivienda de la Subsecretaria de Recursos H?dricos, 
Ministerio de Infraestructura y Vivienda, Ministerio de Justicia y Seguridad 
de la Provincia de Buenos Aires, Ministerio de la Producci?n  de la 
Provincia de Chaco, Ministerio de Servicios y Obras P?blicas de la Provincia 
de Buenos Aires, Ministerio del Agro y la Producci?n de la Provincia de 
Misiones, Ministerio del Agro y La Producci?n de la Provincia de Misiones, 
Ministerio del Interior (Unidad ejecutora Central Catastro), OCRABA (?rgano 
de Control de los Accesos a la Ciudad de Buenos Aires, ORSEP (Organismo 
Regulador de Seguridad de Presas), Secretaria de Agricultura de la Naci?n, 
Secretaria de Miner?a de la Naci?n, Secretaria de Turismo de la Naci?n, 
Secretar?a de Ambiente y Desarrollo Sustentable, SEGEMAR (Servicio Geol?gico 
Minero Argentino), SENASA (Servicio Nacional de Sanidad Animal y Calidad 
Agroalimentaria), Servicio Nacional de ?reas Protegidas (Bolivia), SIFEM 
(Sistema Federal de Emergencias del Estado Nacional), Sociedad Rural de 
Rivadavia, Vialidad de la Provincia de Buenos Aires, Vialidad de la 
Provincia de La Rioja, Vialidad Nacional, etc.




_________________________________________________________________
Charle con sus amigos online usando MSN Messenger: http://messenger.msn.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Aug 30 17:09:26 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Aug 2002 17:09:26 +0200
Subject: [R] postscript() problem
In-Reply-To: <20020830152749.E16865@creon.profinet.sk>
References: <20020830152749.E16865@creon.profinet.sk>
Message-ID: <x2d6s0pemx.fsf@biostat.ku.dk>

Rado Bonk <rbonk at host.sk> writes:

> Hi R-users,
> 
> I am using "postscript("xx.eps", horizontal=FALSE, onefile=FALSE,
> height=6, width=10, pointsize=10)"  and "barplot(xx.dat)" in R to produce
> EPS graphics for LATeX document. When checking the graphics with "gv" I
> see that it was not produced with full details. The main graphic is
> there, but axes labels and titles are missing. While checking the xx.eps
> file with text editor I see that the xx.eps file was not produced
> correctly and with full details. It's clearly missing some last lines.

Did you remember to close the device with dev.off()?


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Fri Aug 30 17:29:38 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Fri, 30 Aug 2002 11:29:38 -0400
Subject: [R] postscript() problem
Message-ID: <D7A3CFD7825BD6119B880002A58F06C20149CED8@groexmb02.pfizer.com>

Rado,

When producing a graphics file, it is important to issue dev.off() to
complete the file.  Perhaps you did omitted this?

Your session should look like:


> postscript("xx.eps", horizontal=FALSE, onefile=FALSE, 
+            height=6, width=10, pointsize=10)
> barplot(xx.dat)
> dev.off()

-Greg

	

> -----Original Message-----
> From: Rado Bonk [mailto:rbonk at host.sk]
> Sent: Friday, August 30, 2002 9:28 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] postscript() problem
> 
> 
> Hi R-users,
> 
> R to produce
> EPS graphics for LATeX document. When checking the graphics 
> with "gv" I
> see that it was not produced with full details. The main graphic is
> there, but axes labels and titles are missing. While checking 
> the xx.eps
> file with text editor I see that the xx.eps file was not produced
> correctly and with full details. It's clearly missing some last lines.
> 
> Example of "tail xx.eps":
> ###example###
> /ps 10 def R 10 s
> 100.97 244.54 (jan) 0.50 0.00 0.00 t
> 138.91 244.54 (feb) 0.50 0.00 0.00 t
> 176.85 244.54 (mar) 0.50 0.00 0.00 t
> 214.79 244.54 (apr) 0.50 0.00 0.00 t
> 252.73 244.54 (maj) 0.50 0.00 0.00 t
> 290.67 244.54 (jun) 0.50 0.00 0.00 t
> 328.61 244.54 (jul) 0.50 0.00 0.00 t
> 366.55 244.54 (aug) 0.50 0.00 0.00 t
> 404.49 244.54 (sep) 0.5
> ###example###
> 
> Where is oct., nov. and so on??? The graphical output using 
> x11() driver
> is correct.
> 
> 
> Thanks,
> 
> Rado
> 
> 
> -- 
> Radoslav Bonk M.S.
> Dept. of Physical Geography and Geoecology
> Faculty of Sciences, Comenius University
> Mlynska Dolina 842 15, Bratislava, SLOVAKIA
> tel: +421 2 602 96 250 e-mail: rbonk at host.sk
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Fri Aug 30 17:35:32 2002
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Fri, 30 Aug 2002 11:35:32 -0400
Subject: [R] lme() with known level-one variances
Message-ID: <OF756DD711.AEDB49D6-ON85256C25.00552D40@rtp.epa.gov>


If I understand your request correctly, you want to use something like
"weights=varIdent(...)" as an argument to lme().  varIdent and the other
varFunc constructors have an argument "fixed" that allow you to specify
values for some or all of the coefficients of the variance function.
See ?varIdent.  The actual error variance will be varFunc() * sigma^2,
where sigma^2 is estimated.

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919)
541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


|---------+------------------------------>
|         |           "J.R. Lockwood"    |
|         |           <lockwood at rand.org>|
|         |           Sent by:           |
|         |           owner-r-help at stat.m|
|         |           ath.ethz.ch        |
|         |                              |
|         |                              |
|         |           08/29/02 02:00 PM  |
|         |                              |
|---------+------------------------------>
  >------------------------------------------------------------------------------------------------------|
  |                                                                                                      |
  |       To:       r-help at stat.math.ethz.ch                                                             |
  |       cc:       "J.R. Lockwood" <lockwood at rand.org>                                                  |
  |       Subject:  [R] lme() with known level-one variances                                             |
  >------------------------------------------------------------------------------------------------------|




Greetings,

I have a meta-analysis problem in which I have fixed effects
regression coefficients (and estimated standard errors) from identical
models fit to different data sets.  I would like to use these results
to create pooled estimated regression coefficients and estimated
standard errors for these pooled coefficients.  In particular, I would
like to estimate the model

\beta_{i} = \mu + \eta_{i} + \epsilon_{i}

\eta_{i} ~ iid N(0,\tau^2) and independent of the \epsilon_{i}, the
latter themselves being independent with variances assumed known and
equal to the squared standard errors reported in the regression
output.

I would like to use lme() to estimate \tau^2 by REML, and also get a
sensibly weighted estimate for \mu from the fixed effects output.  I
am not sure how to do this.  I have tried

lme(fixed=beta~1,random=~1|group,weights=~beta.v)

where "beta" are my coefficients, "group" is a trivial factor
indicating that each observation is its own group, and "beta.v" are
the squared standard errors.  Whatever I get out of this doesn't make
sense to me, and I suspect that I have specified the model
incorrectly.

Incidentally, if I just run the simple unidentifiable model

lme(fixed=beta~1,random=~1|group)

lme() somehow manages to produce estimates of the two variance
components, although the estimated confidence intervals are huge and
contain zero.  If I square and sum the estimated variance components,
I do get the sample variance of my regression coefficients, but why
that particular parceling of variance was chosen as opposed to any
other with the same property eludes me.

Here are my specs:
platform i686-pc-linux-gnu
arch     i686
os       linux-gnu
system   i686, linux-gnu
status
major    1
minor    5.1
year     2002
month    06
day      17
language R


Thanks in advance for your help -- I've learned a ton of statistics
and computing on this list.

J.R. Lockwood
412-683-2300 x4941
lockwood at rand.org
http://www.rand.org/methodology/stat/members/lockwood/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Aug 30 18:11:49 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 30 Aug 2002 09:11:49 -0700 (PDT)
Subject: [R] lme() with known level-one variances
In-Reply-To: <OF756DD711.AEDB49D6-ON85256C25.00552D40@rtp.epa.gov>
Message-ID: <Pine.A41.4.44.0208300904540.226824-100000@homer03.u.washington.edu>

On Fri, 30 Aug 2002 Setzer.Woodrow at epamail.epa.gov wrote:

>
> If I understand your request correctly, you want to use something like
> "weights=varIdent(...)" as an argument to lme().  varIdent and the other
> varFunc constructors have an argument "fixed" that allow you to specify
> values for some or all of the coefficients of the variance function.
> See ?varIdent.  The actual error variance will be varFunc() * sigma^2,
> where sigma^2 is estimated.
>

That's the problem.

As happens in meta-analysis as well, the problem is to estimate a model
with a variance component fixed. Not fixed up to a scale parameter. Fixed.

In meta-analysis the model is that within each trial a treatment effect
parameter is constant, and as the trial is large the variance of the
estimated treatment effect is very accurately known conditional on the
true treatment effect for that trial. The unconditional variance is then
the known conditional variance plus an unknown variance.

It doesn't seem that lme() is designed for this, and last time I tried to
do it I gave up and changed the model more or less as you suggest.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From KKarty at affinnova.com  Fri Aug 30 18:22:28 2002
From: KKarty at affinnova.com (Kevin Karty)
Date: Fri, 30 Aug 2002 12:22:28 -0400
Subject: [R] Ordered logit or probit
Message-ID: <90821ABF429A074DA88E56D1DF7A71611E27A6@afifs1.affinnova.com>



Has anyone written something that runs ordered logit or probit in R?  If
so, where might it be
Located...

Kevin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lockwood at rand.org  Fri Aug 30 18:27:37 2002
From: lockwood at rand.org (J.R. Lockwood)
Date: Fri, 30 Aug 2002 12:27:37 -0400 (EDT)
Subject: [R] lme() with known level-one variances
In-Reply-To: <Pine.A41.4.44.0208300904540.226824-100000@homer03.u.washington.edu>
Message-ID: <Pine.LNX.4.33.0208301218180.24879-100000@penguin.rand.org>

> 
> >
> > If I understand your request correctly, you want to use something like
> > "weights=varIdent(...)" as an argument to lme().  varIdent and the other
> > varFunc constructors have an argument "fixed" that allow you to specify
> > values for some or all of the coefficients of the variance function.
> > See ?varIdent.  The actual error variance will be varFunc() * sigma^2,
> > where sigma^2 is estimated.
> >
> 
> That's the problem.
> 
> As happens in meta-analysis as well, the problem is to estimate a model
> with a variance component fixed. Not fixed up to a scale parameter. Fixed.
> 
> In meta-analysis the model is that within each trial a treatment effect
> parameter is constant, and as the trial is large the variance of the
> estimated treatment effect is very accurately known conditional on the
> true treatment effect for that trial. The unconditional variance is then
> the known conditional variance plus an unknown variance.
> 
> It doesn't seem that lme() is designed for this, and last time I tried to
> do it I gave up and changed the model more or less as you suggest.

Thanks to you both for your helpful input.  Thomas is correct that I
want to treat them as fixed (no free parameters) rather than fixed up
to a scale factor.  Indeed I have not yet been able to keep lme() from
estimating two variance components.  If Thomas gave up, that's pretty
much enough evidence for me that I need to look elsewhere.

I do not think that for this particular problem, writing a routine to
do the REML/ML estimation of the inter-study variance component would
be too difficult.  I will add this to the growing list of items I
would like to contribute to this great project.

Thanks again and best regards,

J.R. Lockwood
412-683-2300 x4941
lockwood at rand.org
http://www.rand.org/methodology/stat/members/lockwood/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Fri Aug 30 18:28:18 2002
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Fri, 30 Aug 2002 12:28:18 -0400
Subject: [R] lme() with known level-one variances
Message-ID: <OF9A5E9D8C.A74A2B45-ON85256C25.005943B6@rtp.epa.gov>


Right.  After thinking about the problem a few minutes longer, I
realized my mistake.  Chapter 5 ("Inference Based on Individual
Estimates") of Davidian and Giltinan (1995) : "Nonlinear Models for
Repeated Measurement Data" can be used to do exactly this.  It turns out
to be quite simple for a one-dimensional parameter, and I coded it up.
This is my interpretation of their "Global two-stage method":

"estmixed" <-
function (mi, sei)
{
    if (length(mi) == 1) {
        c(muhat = mi, muhat.se = sei, sdhat = NA)
    }
    else {
        vari <- sei^2
        start <- c(mean(mi), log(var(mi)))
        out <- try(optim(par = start, fn = mll, method = "BFGS",
            mi = mi, vari = vari))
        if (inherits(out, "try-error")) {
            print(cbind(mi, sei))
            print(out)
            stop("Problem in optim")
        }
        if (out$convergence == 0)
            c(muhat = out$par[1], muhat.se = sqrt(1/sum(1/(vari +
                exp(out$par[2])))), sdhat = sqrt(exp(out$par[2])))
        else c(muhat = NA, muhat.se = NA, sdhat = NA)
    }
}

On input, mi is the vector of parameter estimates, and sei is the vector of their standard errors.
On output, muhat is the global estimate, muhat.se is an estimate of its standard error, and sdhat is an estimate of the among-group standard
deviation.

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919)
541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


                                                                                                                                               
                      Thomas Lumley                                                                                                            
                      <tlumley at u.washin        To:       Woodrow Setzer/RTP/USEPA/US at EPA                                                       
                      gton.edu>                cc:       "J.R. Lockwood" <lockwood at rand.org>, r-help at stat.math.ethz.ch                         
                                               Subject:  Re: [R] lme() with known level-one variances                                          
                      08/30/02 12:11 PM                                                                                                        
                                                                                                                                               
                                                                                                                                               




On Fri, 30 Aug 2002 Setzer.Woodrow at epamail.epa.gov wrote:

>
> If I understand your request correctly, you want to use something like
> "weights=varIdent(...)" as an argument to lme().  varIdent and the
other
> varFunc constructors have an argument "fixed" that allow you to
specify
> values for some or all of the coefficients of the variance function.
> See ?varIdent.  The actual error variance will be varFunc() * sigma^2,
> where sigma^2 is estimated.
>

That's the problem.

As happens in meta-analysis as well, the problem is to estimate a model
with a variance component fixed. Not fixed up to a scale parameter.
Fixed.

In meta-analysis the model is that within each trial a treatment effect
parameter is constant, and as the trial is large the variance of the
estimated treatment effect is very accurately known conditional on the
true treatment effect for that trial. The unconditional variance is then
the known conditional variance plus an unknown variance.

It doesn't seem that lme() is designed for this, and last time I tried
to
do it I gave up and changed the model more or less as you suggest.


             -thomas





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yzhou at arcturusag.com  Fri Aug 30 20:20:33 2002
From: yzhou at arcturusag.com (Yi-Xiong Zhou)
Date: Fri, 30 Aug 2002 11:20:33 -0700
Subject: [R] TIFF reader in R
Message-ID: <BBAF0DEC119BD41193C100B0D0788DFE1D236C@GENOME>

Does anyone know whether there is a function to read in .tif files?

Thanks. 

Yi-Xiong

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Fri Aug 30 20:34:45 2002
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Fri, 30 Aug 2002 14:34:45 -0400
Subject: [R] lme() with known level-one variances
Message-ID: <OF59B5D118.CD4F60B7-ON85256C25.00650BB1@rtp.epa.gov>


That argument is not documented in the current Windows version of nlme,
and gives an error when I try it.:

> glsControl(sigma=1)
Error in glsControl(sigma = 1) : unused argument(s) (sigma ...)
> package.description("nlme")[c("Version","Date")]
     Version         Date
    "3.1-29" "2002/08/10"

> version
         _
platform i386-pc-mingw32
arch     i386
os       mingw32
system   i386, mingw32
status
major    1
minor    5.1
year     2002
month    06
day      17
language R

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919)
541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


                                                                                                                                               
                      "Austin, Matt"                                                                                                           
                      <maustin at amgen.co        To:       'Thomas Lumley' <tlumley at u.washington.edu>, Woodrow Setzer/RTP/USEPA/US at EPA           
                      m>                       cc:       "J.R. Lockwood" <lockwood at rand.org>, r-help at stat.math.ethz.ch                         
                                               Subject:  RE: [R] lme() with known level-one variances                                          
                      08/30/02 01:56 PM                                                                                                        
                                                                                                                                               
                                                                                                                                               




Can you do this using gls() with control = glsControl( sigma = yourValue
) ?

--Matt

-----Original Message-----
From: Thomas Lumley [mailto:tlumley at u.washington.edu]
Sent: Friday, August 30, 2002 9:12 AM
To: Setzer.Woodrow at epamail.epa.gov
Cc: J.R. Lockwood; r-help at stat.math.ethz.ch
Subject: Re: [R] lme() with known level-one variances


On Fri, 30 Aug 2002 Setzer.Woodrow at epamail.epa.gov wrote:

>
> If I understand your request correctly, you want to use something like
> "weights=varIdent(...)" as an argument to lme().  varIdent and the
other
> varFunc constructors have an argument "fixed" that allow you to
specify
> values for some or all of the coefficients of the variance function.
> See ?varIdent.  The actual error variance will be varFunc() * sigma^2,
> where sigma^2 is estimated.
>

That's the problem.

As happens in meta-analysis as well, the problem is to estimate a model
with a variance component fixed. Not fixed up to a scale parameter.
Fixed.

In meta-analysis the model is that within each trial a treatment effect
parameter is constant, and as the trial is large the variance of the
estimated treatment effect is very accurately known conditional on the
true treatment effect for that trial. The unconditional variance is then
the known conditional variance plus an unknown variance.

It doesn't seem that lme() is designed for this, and last time I tried
to
do it I gave up and changed the model more or less as you suggest.


             -thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.
-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._.
_._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maustin at amgen.com  Fri Aug 30 19:56:35 2002
From: maustin at amgen.com (Austin, Matt)
Date: Fri, 30 Aug 2002 10:56:35 -0700
Subject: [R] lme() with known level-one variances
Message-ID: <36975CB1FED8D21194930008C7CFA87B04A106A5@gray-exch.amgen.com>

Can you do this using gls() with control = glsControl( sigma = yourValue ) ?

--Matt

-----Original Message-----
From: Thomas Lumley [mailto:tlumley at u.washington.edu]
Sent: Friday, August 30, 2002 9:12 AM
To: Setzer.Woodrow at epamail.epa.gov
Cc: J.R. Lockwood; r-help at stat.math.ethz.ch
Subject: Re: [R] lme() with known level-one variances


On Fri, 30 Aug 2002 Setzer.Woodrow at epamail.epa.gov wrote:

>
> If I understand your request correctly, you want to use something like
> "weights=varIdent(...)" as an argument to lme().  varIdent and the other
> varFunc constructors have an argument "fixed" that allow you to specify
> values for some or all of the coefficients of the variance function.
> See ?varIdent.  The actual error variance will be varFunc() * sigma^2,
> where sigma^2 is estimated.
>

That's the problem.

As happens in meta-analysis as well, the problem is to estimate a model
with a variance component fixed. Not fixed up to a scale parameter. Fixed.

In meta-analysis the model is that within each trial a treatment effect
parameter is constant, and as the trial is large the variance of the
estimated treatment effect is very accurately known conditional on the
true treatment effect for that trial. The unconditional variance is then
the known conditional variance plus an unknown variance.

It doesn't seem that lme() is designed for this, and last time I tried to
do it I gave up and changed the model more or less as you suggest.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cnlawren at phy.olemiss.edu  Fri Aug 30 20:47:57 2002
From: cnlawren at phy.olemiss.edu (Chris Lawrence)
Date: Fri, 30 Aug 2002 13:47:57 -0500
Subject: [R] Ordered logit or probit
In-Reply-To: <90821ABF429A074DA88E56D1DF7A71611E27A6@afifs1.affinnova.com>
References: <90821ABF429A074DA88E56D1DF7A71611E27A6@afifs1.affinnova.com>
Message-ID: <20020830184757.GB4360@phy.olemiss.edu>

On Aug 30, Kevin Karty wrote:
> Has anyone written something that runs ordered logit or probit in R?  If
> so, where might it be located...

Ordered logit models can be run using the polr() routine in the MASS
library.  Ordered probit requires a bit of source hacking; a cheesy,
undocumented retread of polr that does ordered probit instead is at
http://www.lordsutch.com/chris/oprobit.q; example use:

source("oprobit.q")
oprobit(as.ordered(impeach) ~ party + clinton_vote + marginality + ...)

In theory, ordered probit and ordered logit should give similar
results (although rescaled) for well-behaved data; however, if
something strange is going on in the tails (where the pdfs are
somewhat different), they can differ quite a bit.


Chris
-- 
Chris Lawrence <cnlawren at olemiss.edu> - http://www.lordsutch.com/chris/

Instructor and Ph.D. Candidate, Political Science, Univ. of Mississippi
208 Deupree Hall - 662-915-5765
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jonqli at labs.agilent.com  Fri Aug 30 21:50:28 2002
From: jonqli at labs.agilent.com (Jonathan Li)
Date: Fri, 30 Aug 2002 12:50:28 -0700
Subject: [R] density() returns a density function that does not add up to 1
Message-ID: <3D6FCC84.F16D2B3B@labs.agilent.com>

Dear R users,

I ran into this curious problem:

> d <- rnorm(100)
> d.density <- density(d)
> sum( d.density$x * d.density$y)
[1] 2.517502

Admittedly the method of computing the mass under the density curve at
line 3 is crude.
But 2.5 is pretty far from 1, the value it should be.

I tried a few other dataset and got similar result. Am I missing
something obvious?
Or is the return of density() not supposed to be normalized?

Thanks in advance!
Jonathan

-- 
Jonathan Q. Li, PhD
Agilent Technologies Laboratory
Palo Alto, California, USA
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Fri Aug 30 22:05:08 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 30 Aug 2002 13:05:08 -0700
Subject: [R] density() returns a density function that does not add up to 1
In-Reply-To: <3D6FCC84.F16D2B3B@labs.agilent.com>
References: <3D6FCC84.F16D2B3B@labs.agilent.com>
Message-ID: <87r8ggi03v.fsf@jeeves.blindglobe.net>

>>>>> "jonathan" == Jonathan Li <jonqli at labs.agilent.com> writes:

    jonathan> Dear R users,
    jonathan> I ran into this curious problem:

    >> d <- rnorm(100)
    >> d.density <- density(d)
    >> sum( d.density$x * d.density$y)
    jonathan> [1] 2.517502

I get 6.5

    jonathan> Admittedly the method of computing the mass under the density curve at
    jonathan> line 3 is crude.

It's actually wrong.   You aren't computing an integral, you need the
the approximate area under d.density$y[i], NOT the value of the X
axis. 

    jonathan> But 2.5 is pretty far from 1, the value it should be.

nope.

    jonathan> I tried a few other dataset and got similar result. Am I missing
    jonathan> something obvious?
    jonathan> Or is the return of density() not supposed to be normalized?

You just need to integrate properly.  You are attempting Riemann
integration, but need to change things a bit.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Fri Aug 30 22:09:03 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 30 Aug 2002 13:09:03 -0700
Subject: [R] density() returns a density function that does not add up to 1
In-Reply-To: <3D6FCC84.F16D2B3B@labs.agilent.com>
References: <3D6FCC84.F16D2B3B@labs.agilent.com>
Message-ID: <87lm6ohzxc.fsf@jeeves.blindglobe.net>

>>>>> "jonathan" == Jonathan Li <jonqli at labs.agilent.com> writes:

    jonathan> Dear R users,
    jonathan> I ran into this curious problem:

    >> d <- rnorm(100)
    >> d.density <- density(d)
    >> sum( d.density$x * d.density$y)
    jonathan> [1] 2.517502

whoops, you probably want something like: 

> sum( diff(d.density$x) * d.density$y)
[1] 1.000950

instead, for a crude integration (and yes, it throws a warning).

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
(my tuesday/wednesday/friday locations are completely unpredictable.)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jonqli at labs.agilent.com  Fri Aug 30 22:28:37 2002
From: jonqli at labs.agilent.com (Jonathan Li)
Date: Fri, 30 Aug 2002 13:28:37 -0700
Subject: [R] density() returns a density function that does not add up to 1
References: <3D6FCC84.F16D2B3B@labs.agilent.com> <87lm6ohzxc.fsf@jeeves.blindglobe.net>
Message-ID: <3D6FD575.F67C78A9@labs.agilent.com>

Thank you for the message. It helps a lot. I see where my method was
wrong.
Now another case:

> dd <- c(rnorm(1000,0,1), rnorm(100, 100,1), rnorm(10, 1000,1))
> ddd <- density(dd)
> sum( diff(ddd$x)*ddd$y)
[1] 2.856715

If you add more extreme tails, the thing gets worse:

> dd <- c(rnorm(1000,0,1), rnorm(100, 100,1), rnorm(10, 1000,1), rnorm(5, 5000,1))
> ddd <- density(dd)
> sum( diff(ddd$x) * ddd$y)
[1] 13.90902

I am not sure what is going on now?
Thanks again!
Jonathan


"A.J. Rossini" wrote:
> 
> >>>>> "jonathan" == Jonathan Li <jonqli at labs.agilent.com> writes:
> 
>     jonathan> Dear R users,
>     jonathan> I ran into this curious problem:
> 
>     >> d <- rnorm(100)
>     >> d.density <- density(d)
>     >> sum( d.density$x * d.density$y)
>     jonathan> [1] 2.517502
> 
> whoops, you probably want something like:
> 
> > sum( diff(d.density$x) * d.density$y)
> [1] 1.000950
> 
> instead, for a crude integration (and yes, it throws a warning).
> 
> --
> A.J. Rossini                            Rsrch. Asst. Prof. of Biostatistics
> U. of Washington Biostatistics          rossini at u.washington.edu
> FHCRC/SCHARP/HIV Vaccine Trials Net     rossini at scharp.org
> -------------- http://software.biostat.washington.edu/ ----------------
> FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
> UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
> (my tuesday/wednesday/friday locations are completely unpredictable.)

-- 
Jonathan Q. Li, PhD
Agilent Technologies Laboratory
Palo Alto, California, USA
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 30 22:28:46 2002
From: ripley at stats.ox.ac.uk (ripley@stats.ox.ac.uk)
Date: Fri, 30 Aug 2002 21:28:46 +0100 (BST)
Subject: User error (was [R] density() returns a density function that
 does not add up to 1)
In-Reply-To: <3D6FCC84.F16D2B3B@labs.agilent.com>
Message-ID: <Pine.LNX.4.31.0208302121180.16296-100000@gannet.stats>

On Fri, 30 Aug 2002, Jonathan Li wrote:

> I ran into this curious problem:

(or, I did something silly)

> > d <- rnorm(100)
> > d.density <- density(d)
> > sum( d.density$x * d.density$y)
> [1] 2.517502
>
> Admittedly the method of computing the mass under the density curve at
> line 3 is crude.

(and got a nonsensical answer)

> But 2.5 is pretty far from 1, the value it should be.
>
> I tried a few other dataset and got similar result. Am I missing
> something obvious?
> Or is the return of density() not supposed to be normalized?

I think you intended

sum( unique(diff(d.density$x)) * d.density$y )

Your sum is 512x the estimate of E(X).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lockwood at rand.org  Fri Aug 30 22:31:11 2002
From: lockwood at rand.org (J.R. Lockwood)
Date: Fri, 30 Aug 2002 16:31:11 -0400 (EDT)
Subject: [R] lme() with known level-one variances (SOLUTION)
In-Reply-To: <OF9A5E9D8C.A74A2B45-ON85256C25.005943B6@rtp.epa.gov>
Message-ID: <Pine.LNX.4.33.0208301630020.25292-100000@penguin.rand.org>

Thanks to the help of R. Woodrow Setzer, Jr. and Thomas Lumley, the
problem has been solved.  A brief recap:

The model of interest is

\beta_{i} = \mu + \eta_{i} + \epsilon_{i}

\eta_{i} ~ iid N(0,\tau^2) and independent of the \epsilon_{i}, the
latter themselves being independent with variances assumed known.  We
would like to estimate \tau^2 and \mu, using either ML or REML.  The
motivating application was a meta-analysis of regression coefficients
(the \beta_{i}) with the fixed variances equal to the squared standard
errors reported in the regression output.

The conclusion was that lme() is not suitable for this estimation, or
at least it is not obvious how to trick lme() into doing it.  The
solution is that the problem is easy enough to attack with brute
force.  I modified the code very kindly posted by Mr. Setzer to handle
either ML or REML estimation; it is below.

-------------------------------------------
estmixed <- function (mi, sei, method="ML"){
  ## mi are individual estimates, sei are their standard errors
  mll<-function (par, mi, vari){
    ## calculate -2 * log likelihood
    ## par[1] is the grand mean
    ## par[2] is the log of the between-group variance component
    sum(log(vari + exp(par[2]))) + sum((mi - par[1])^2/(vari +
exp(par[2])))
  }
  mll.reml<-function (par, mi, vari){
    ## calculate -2 * log REML likelihood (see Lindstrom and Bates)
    sum(log(vari + exp(par[2]))) + sum((mi - par[1])^2/(vari +
exp(par[2]))) + log(sum(1/(vari + exp(par[2]))))
  }
  if(method!="ML" & method!="REML"){
    stop("Invalid value of method")
  }
  if (length(mi) == 1) {
    c(muhat = mi, muhat.se = sei, sdhat = NA)
  }
  else {
    vari <- sei^2
    start <- c(mean(mi), log(var(mi)))
    objfun <- if(method == "ML") mll else mll.reml
    out <- try(optim(par = start, fn = objfun, method
= "BFGS",control=list(maxit=500),mi = mi, vari = vari))

    if (inherits(out, "try-error")) {
      print(cbind(mi, sei))
      print(out)
      stop("Problem in optim")
    }
    if (out$convergence == 0)
      c(muhat = out$par[1], muhat.se = sqrt(1/sum(1/(vari +
exp(out$par[2])))), sdhat = sqrt(exp(out$par[2])))
    else {
      c(muhat = NA, muhat.se = NA, sdhat = NA)
    }
  }
}
-------------------------------------------------------

An example application follows:

beta.est<-c(0.40,-8.02,-1.60,-8.50,-3.20)
beta.se<-c(3.64,3.73,2.35,3.14,2.05)
estmixed(beta.est,beta.se,"ML")
## -3.6835705  1.2241980  0.0700697
estmixed(beta.est,beta.se,"REML")
## -3.806156  1.428062  1.513580

Thanks again--

J.R. Lockwood
412-683-2300 x4941
lockwood at rand.org
http://www.rand.org/methodology/stat/members/lockwood/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Aug 30 22:43:24 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Aug 2002 22:43:24 +0200
Subject: [R] density() returns a density function that does not add up to 1
In-Reply-To: <3D6FD575.F67C78A9@labs.agilent.com>
References: <3D6FCC84.F16D2B3B@labs.agilent.com>
	<87lm6ohzxc.fsf@jeeves.blindglobe.net>
	<3D6FD575.F67C78A9@labs.agilent.com>
Message-ID: <x28z2o5b83.fsf@biostat.ku.dk>

Jonathan Li <jonqli at labs.agilent.com> writes:

> Thank you for the message. It helps a lot. I see where my method was
> wrong.
> Now another case:
> 
> > dd <- c(rnorm(1000,0,1), rnorm(100, 100,1), rnorm(10, 1000,1))
> > ddd <- density(dd)
> > sum( diff(ddd$x)*ddd$y)
> [1] 2.856715
> 
> If you add more extreme tails, the thing gets worse:
> 
> > dd <- c(rnorm(1000,0,1), rnorm(100, 100,1), rnorm(10, 1000,1), rnorm(5, 5000,1))
> > ddd <- density(dd)
> > sum( diff(ddd$x) * ddd$y)
> [1] 13.90902
> 
> I am not sure what is going on now?

You're trying to calculate and then integrate a very spiky density.
Try plotting it and then increase the number of points used to
approximate it:

> dd <- c(rnorm(1000,0,1), rnorm(100, 100,1), rnorm(10, 1000,1), rnorm(5, 5000,1))
>  ddd <- density(dd,n=2^15)
>  sum( diff(ddd$x) * ddd$y)
[1] 1.000014
Warning message: 
longer object length
        is not a multiple of shorter object length in: diff(ddd$x) * ddd$y 


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maustin at amgen.com  Fri Aug 30 20:48:12 2002
From: maustin at amgen.com (Austin, Matt)
Date: Fri, 30 Aug 2002 11:48:12 -0700
Subject: [R] lme() with known level-one variances
Message-ID: <36975CB1FED8D21194930008C7CFA87B04A106A7@gray-exch.amgen.com>

I apologize for the confusion, you are correct this is not implemented in
the current R version of nlme, it's in the current S-Plus version.

--Matt

-----Original Message-----
From: Setzer.Woodrow at epamail.epa.gov
[mailto:Setzer.Woodrow at epamail.epa.gov]
Sent: Friday, August 30, 2002 11:35 AM
To: Austin, Matt
Cc: r-help at stat.math.ethz.ch
Subject: RE: [R] lme() with known level-one variances



That argument is not documented in the current Windows version of nlme,
and gives an error when I try it.:

> glsControl(sigma=1)
Error in glsControl(sigma = 1) : unused argument(s) (sigma ...)
> package.description("nlme")[c("Version","Date")]
     Version         Date
    "3.1-29" "2002/08/10"

> version
         _
platform i386-pc-mingw32
arch     i386
os       mingw32
system   i386, mingw32
status
major    1
minor    5.1
year     2002
month    06
day      17
language R

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919)
541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


 

                      "Austin, Matt"

                      <maustin at amgen.co        To:       'Thomas Lumley'
<tlumley at u.washington.edu>, Woodrow Setzer/RTP/USEPA/US at EPA           
                      m>                       cc:       "J.R. Lockwood"
<lockwood at rand.org>, r-help at stat.math.ethz.ch                         
                                               Subject:  RE: [R] lme() with
known level-one variances                                          
                      08/30/02 01:56 PM

 

 





Can you do this using gls() with control = glsControl( sigma = yourValue
) ?

--Matt

-----Original Message-----
From: Thomas Lumley [mailto:tlumley at u.washington.edu]
Sent: Friday, August 30, 2002 9:12 AM
To: Setzer.Woodrow at epamail.epa.gov
Cc: J.R. Lockwood; r-help at stat.math.ethz.ch
Subject: Re: [R] lme() with known level-one variances


On Fri, 30 Aug 2002 Setzer.Woodrow at epamail.epa.gov wrote:

>
> If I understand your request correctly, you want to use something like
> "weights=varIdent(...)" as an argument to lme().  varIdent and the
other
> varFunc constructors have an argument "fixed" that allow you to
specify
> values for some or all of the coefficients of the variance function.
> See ?varIdent.  The actual error variance will be varFunc() * sigma^2,
> where sigma^2 is estimated.
>

That's the problem.

As happens in meta-analysis as well, the problem is to estimate a model
with a variance component fixed. Not fixed up to a scale parameter.
Fixed.

In meta-analysis the model is that within each trial a treatment effect
parameter is constant, and as the trial is large the variance of the
estimated treatment effect is very accurately known conditional on the
true treatment effect for that trial. The unconditional variance is then
the known conditional variance plus an unknown variance.

It doesn't seem that lme() is designed for this, and last time I tried
to
do it I gave up and changed the model more or less as you suggest.


             -thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.
-.-
r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._.
_._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From roger at ysidro.econ.uiuc.edu  Fri Aug 30 23:28:16 2002
From: roger at ysidro.econ.uiuc.edu (Roger Koenker)
Date: Fri, 30 Aug 2002 16:28:16 -0500 (CDT)
Subject: [R] data inquiry
Message-ID: <Pine.GSO.4.33.0208301556310.17217-100000@ysidro.econ.uiuc.edu>


Does anyone know whether the Hildenbrand and Hildenbrand (1986) food
expenditure data used in Haerdle's "Applied NP Regression" is publicly
available somewhere?


url:	http://www.econ.uiuc.edu		Roger Koenker
email	roger at ysidro.econ.uiuc.edu		Department of Economics
vox: 	217-333-4558				University of Illinois
fax:   	217-244-6678				Champaign, IL 61820


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Fri Aug 30 23:26:21 2002
From: aolinto at bignet.com.br (Antonio Olinto)
Date: Fri, 30 Aug 2002 18:26:21 -0300
Subject: [R] solving equations
References: <90821ABF429A074DA88E56D1DF7A71611E27A6@afifs1.affinnova.com> <20020830184757.GB4360@phy.olemiss.edu>
Message-ID: <002f01c2506c$2c9a6080$39cffea9@batata>

Dear R-users,

I'm trying to solve the following equation:

F=25*(F+0.2)/22.2/(EXP(F+0.2)-1)

In Excel I found F=0.696176718 but I'd like to know how to use R to solve
it. I tried, without success, to use "solve".

Thanks a lot,

Antonio Olinto






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Fri Aug 30 23:40:28 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Fri, 30 Aug 2002 14:40:28 -0700 (PDT)
Subject: [R] solving equations
In-Reply-To: <002f01c2506c$2c9a6080$39cffea9@batata>
Message-ID: <Pine.GSO.4.10.10208301438550.23267-100000@quetelet.stat.ucla.edu>

You could try using 'uniroot':

> f <- function(F) { F - (25*(F+0.2)/22.2/(exp(F+0.2)-1)) }
> uniroot(f, c(0, 1))$root
[1] 0.6959678

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Fri, 30 Aug 2002, Antonio Olinto wrote:

> Dear R-users,
> 
> I'm trying to solve the following equation:
> 
> F=25*(F+0.2)/22.2/(EXP(F+0.2)-1)
> 
> In Excel I found F=0.696176718 but I'd like to know how to use R to solve
> it. I tried, without success, to use "solve".
> 
> Thanks a lot,
> 
> Antonio Olinto
> 
> 
> 
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Aug 30 23:45:22 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 30 Aug 2002 14:45:22 -0700 (PDT)
Subject: [R] solving equations
In-Reply-To: <002f01c2506c$2c9a6080$39cffea9@batata>
Message-ID: <Pine.A41.4.44.0208301444590.226828-100000@homer03.u.washington.edu>

On Fri, 30 Aug 2002, Antonio Olinto wrote:

> Dear R-users,
>
> I'm trying to solve the following equation:
>
> F=25*(F+0.2)/22.2/(EXP(F+0.2)-1)
>
> In Excel I found F=0.696176718 but I'd like to know how to use R to solve
> it. I tried, without success, to use "solve".
>

Use uniroot()

R> uniroot(function(F) F-25*(F+0.2)/22.2/(exp(F+0.2)-1), c(0,10))
$root
[1] 0.695973

$f.root
[1] -9.561183e-06

$iter
[1] 4

$estim.prec
[1] 6.103516e-05


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From joshi at engr.orst.edu  Sat Aug 31 00:52:08 2002
From: joshi at engr.orst.edu (Saket Joshi)
Date: Fri, 30 Aug 2002 15:52:08 -0700 (PDT)
Subject: [R] tree growing with rpart
In-Reply-To: <Pine.GSO.4.44.0208291215580.21700-100000@flop.ENGR.ORST.EDU>
Message-ID: <Pine.GSO.4.44.0208301514330.8187-100000@flop.ENGR.ORST.EDU>

Hi all,

My sincere apologies to all those who could not understand my previous
question and so could not answer it. I am not a statistitian and neither
have I worked on R for long. So please excuse my naive language. I hope I
can explain my question better this time.

I have a data.frame named 'temp'. The following are the series of commands
that followed after I obtained this data.frame

> x <- rpart(temp)

> attributes(x)
$names
 [1] "frame"     "where"     "call"      "terms"     "cptable"   "splits"
 [7] "method"    "parms"     "control"   "functions" "y"         "ordered"

$class
[1] "rpart"


> x$functions
$summary
function (yval, dev, wt, ylevel, digits)
{
    paste("  mean=", formatg(yval, digits), ", MSE=", formatg(dev/wt,
        digits), sep = "")
}
<environment: 4494214>

$text
function (yval, dev, wt, ylevel, digits, n, use.n)
{
    if (use.n) {
        paste(formatg(yval, digits), "\nn=", n, sep = "")
    }
    else {
        paste(formatg(yval, digits))
    }
}
<environment: 4494214>


> gc()
           used  (Mb) gc trigger  (Mb)
Ncells   330122   8.9    1162530  31.1
Vcells 46072722 351.6   64233246 490.1

> x$functions <- NULL

> gc()
           used  (Mb) gc trigger  (Mb)
Ncells   326469   8.8    1162530  31.1
Vcells 34321042 261.9   64233246 490.1


When the "functions" attribute of x was set to NULL, the storage in the
Vcells reduced from 351.6 Mb to 261.9 Mb as can be seen from the 2 gc()
commands executed above.

I imagined that the rpart object 'x', is storing a pointer by the name of
'functions' to a large amount of data in the Vcells. This data was garbage
collected when the pointer 'functions' was NULLed. However I am not sure
that I am right on this count.

My question is: Is there a way in which the options to rpart or otherwise
can be set so as to never create the pointer 'functions' while fitting the
rpart model in the first place instead of having to delete it later in
order to save memory?

Thanks in advance,
Saket.





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r_stuff_online at hotmail.com  Sat Aug 31 01:00:33 2002
From: r_stuff_online at hotmail.com (Neil Osborne)
Date: Fri, 30 Aug 2002 23:00:33 +0000
Subject: [R] Partitioning an nxp Time series matrix
Message-ID: <F2866zwIbtJFiRBSuaa00009854@hotmail.com>

Hi,

I have an nxp data set of time series. For my final year project, I would 
like to partition this data set into a smaller number of units ( < n). Where 
each of the units contains time series that move closely together (i.e. in 
unison), and the "simmilarity" (in terms of occurence & amplitudes of peaks 
and troughs) between the segregated units is "low".

I know these are slightly "fuzzy" terms, but I want to get to the essence of 
what I'm trying to achieve (time series partitioning), without throwing in 
words like correlation or cointegration which are "trigger" words. I would 
like to know if anyone has done this kind of partitioning before ?

Any tips or suggestions as to how to carry out such a partioning in R will 
be MOST welcome. Ideally, I would like to automate this partitioning through 
an R "script" since n will be approx 500, and it will not be feasible to do 
this manually.

Any pointers/help will be very much appreciated

Regards



_________________________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tklistaddr at keittlab.bio.sunysb.edu  Sat Aug 31 01:07:05 2002
From: tklistaddr at keittlab.bio.sunysb.edu (Timothy H. Keitt)
Date: 30 Aug 2002 19:07:05 -0400
Subject: [R] TIFF reader in R
In-Reply-To: <BBAF0DEC119BD41193C100B0D0788DFE1D236C@GENOME>
References: <BBAF0DEC119BD41193C100B0D0788DFE1D236C@GENOME>
Message-ID: <1030748825.12765.0.camel@keittlab-6>

See http://keittlab.bio.sunysb.edu/R/GDAL/

Cheers,
Tim

On Fri, 2002-08-30 at 14:20, Yi-Xiong Zhou wrote:
> Does anyone know whether there is a function to read in .tif files?
> 
> Thanks. 
> 
> Yi-Xiong
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fmejia at mac.com  Sat Aug 31 07:22:43 2002
From: fmejia at mac.com (=?ISO-8859-1?Q?Fredy_Mej=EDa?=)
Date: Fri, 30 Aug 2002 23:22:43 -0600
Subject: [R] Counting elements in 2 rows of a matrix
Message-ID: <AD2E95A3-BCA1-11D6-AFEB-000A27DCBAD6@mac.com>

Dear R-users:

Sorry to bother so late with this question, which surely has simple answer.
   I'm working with matrices that contain either "1" or "0", for example:

   [,1] [,2] [,3] [,4] [,5]
A    1    0    1    0    0
B    0    1    0    1    0
C    1    0    1    0    0
D    1    1    1    0    1

I want to count the number of "1" common to, say, A and B, the number of 
"1" that appear only in A and the number of "1" that appear only in B.  
Please let me know if there's a simple way of doing this without the 
complicated for...next loops that have come across my mind.

Fredy Mej?a
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 656 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020830/e6781301/attachment.bin

From deleeuw at stat.ucla.edu  Sat Aug 31 08:19:01 2002
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Fri, 30 Aug 2002 23:19:01 -0700
Subject: [R] Counting elements in 2 rows of a matrix
In-Reply-To: <AD2E95A3-BCA1-11D6-AFEB-000A27DCBAD6@mac.com>
Message-ID: <8AA040DB-BCA9-11D6-ADB7-000393860F3C@stat.ucla.edu>

 > x
      [,1] [,2] [,3] [,4] [,5]
[1,]    1    0    1    0    0
[2,]    0    1    0    1    0
[3,]    1    0    1    0    0
[4,]    1    1    1    0    1
 > table(x[1,],x[2,])

     0 1
   0 1 2
   1 2 0
 > as.vector(table(x[1,],x[2,]))
[1] 1 2 2 0
 >prs<-function(x,i,j) as.vector(table(x[i,],x[j,])[2:4])
 > prs(x,1,2)
[1] 2 2 0
 > prs(x,1,3)
[1] 0 0 2

or use

ab.common<-function(x) crossprod(t(x))
ab.unique<-function(x) outer(rowSums(x),rep(1,nrow(x)))-pr11(x)

The first function will give what two rows have in common, the
second will give what they have unique (01 below the
diagonal, 10 above)

 > ab.common(x)
      [,1] [,2] [,3] [,4]
[1,]    2    0    2    2
[2,]    0    2    0    1
[3,]    2    0    2    2
[4,]    2    1    2    4
 > ab.unique(x)
      [,1] [,2] [,3] [,4]
[1,]    0    2    0    0
[2,]    2    0    2    1
[3,]    0    2    0    0
[4,]    2    3    2    0

For ab.unique you can also use
ab.unique <-function(x) matrix(rowSums(x), nrow(x),nrow(x))-ab.common(x)
which may be marginally faster.

On Friday, August 30, 2002, at 10:22 PM, Fredy Mej?a wrote:

> Dear R-users:
>
> Sorry to bother so late with this question, which surely has simple  
> answer.  I'm working with matrices that contain either "1" or "0", for  
> example:
>
>   [,1] [,2] [,3] [,4] [,5]
> A    1    0    1    0    0
> B    0    1    0    1    0
> C    1    0    1    0    0
> D    1    1    1    0    1
>
> I want to count the number of "1" common to, say, A and B, the number  
> of "1" that appear only in A and the number of "1" that appear only in  
> B.  Please let me know if there's a simple way of doing this without  
> the complicated for...next loops that have come across my mind.
>
> Fredy Mej?a
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au
   
------------------------------------------------------------------------ 
-------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ricardogs at terra.com.br  Sun Aug 25 13:28:33 2002
From: ricardogs at terra.com.br (=?iso-8859-1?Q?Ricardo_Gon=E7alves_Da-Silva?=)
Date: Sun, 25 Aug 2002 08:28:33 -0300
Subject: [R] Time Series
Message-ID: <000c01c24c2a$8dbc23d0$0100000a@casa1>

Dear Users,
My problem concernes on time series and unit roots.
The issues are the following:
1- My time series has a lack of 10 observations (missing data). There are
some R package that could impute missing data for dependent time series?

2- The packs ts and tseries has various Unit root test procedures, however I
not able to find a package that could test for Unit roots in presence of
more than one structural break.
Ricardo Gon?alves Silva
Universidade de S?o Paulo-USP
Instituto de Ci?ncias Matem?ticas-ICMC
Departamento de Estat?stica
www.icmc.usp.br/~ricardo
www.macroeconometrics.hpg.com.br



---




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 28 10:06:13 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 28 Aug 2002 09:06:13 +0100 (BST)
Subject: [R] probit etc. for dose-response modeling
In-Reply-To: <20020828075715.GB30325@eckehaat.uft.uni-bremen.de>
Message-ID: <Pine.GSO.4.44.0208280905030.4849-100000@auk.stats>

What do you have?

`dose-response modeling'  normally implies success/fail responses.


On Wed, 28 Aug 2002, Johannes Ranke wrote:

> I do not have binomial data, though - gaussian only allows link="identity" -
> is there another way?
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nklepeis at uclink4.berkeley.edu  Fri Aug 30 08:57:38 2002
From: nklepeis at uclink4.berkeley.edu (Neil Klepeis)
Date: Thu, 29 Aug 2002 23:57:38 -0700
Subject: [R] Limit on Function Size
Message-ID: <3D6F1762.9030009@uclink4.berkeley.edu>

With R 1.5.1 (Linux/Intel), I noticed that one of my large functions 
(>3000 lines) can no longer be parsed.   Somewhere around 2800 lines, R 
will segfault when I `eval(parse(file="..."))' the function.

I can parse the lines after around line 2800 by themselves (i.e., cut 
and pasted).

Is there some new limit on the size of R functions?


-- 
______________________________________________________
Neil E. Klepeis, UC Berkeley, School of Public Health,
and Lawrence Berkeley National Laboratory,
Berkeley, CA USA.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From d.orme at ic.ac.uk  Fri Aug 30 10:13:54 2002
From: d.orme at ic.ac.uk (David Orme)
Date: Fri, 30 Aug 2002 09:13:54 +0100
Subject: [R] Intercept in model formulae.
Message-ID: <a05100305b993f4c42e9f@[129.31.3.212]>

Hi,

I'm trying to create a linear model for a dataset that has a breakpoint e.g.

# dummy dataset
x <- 1:20
y <- c(1:10,seq(10.5,15,0.5))
plot(x,y)

I've modelled this using the following formula:

temp <- lm(y ~ x*(x<=10)+x*(x>10))

I want to be able to omit the intercept (i.e. force the line through 
zero) from the first of these segments (x<=10) so that I'm only 
estimating one intercept and two slopes. I've tried including -1 in 
the formula, folllowing the lm(y ~ x -1) syntax  to omit the 
intercept from lm(y ~x) but the linear model still returns an 
estimate of the intercept of the first segment. I can't work out what 
the syntax for the formula should be. Is it possible in one step or 
do I have to fit the two lines as two models?

Any suggestions?

Thanks in advance,

David Orme

>  R.version
          _
platform ppc-apple-macos
arch     ppc
os       MacOS
system   ppc, MacOS
status
major    1
minor    5.0
year     2002
month    04
day      29
language R 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Tue Aug 27 13:00:00 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Tue, 27 Aug 2002 23:00:00 +1200 (NZST)
Subject: Presentation Method (was: Re: [R] legend() outside plotting region
In-Reply-To: <20020827105234.INVO27131.mta09.mail.mel.aone.net.au@there>
Message-ID: <Pine.SOL.4.21.0208272255560.24990-100000@stat1.stat.auckland.ac.nz>

On Tue, 27 Aug 2002, Jim Lemon wrote:

> Date: Tue, 27 Aug 2002 20:58:35 +1000
> From: Jim Lemon <bitwrit at ozemail.com.au>
> To: Ko-Kang Kevin Wang <kwan022 at stat.auckland.ac.nz>
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] legend() outside plotting region
> 
> >  ...As a side track, is
> > there a better way to represent this, as 24 lines is very difficult to
> > distinguish anyhow.  This data frame, by the way, is a time series.
> >
> 24 lines would probably confuse the average spider. What do you want to 
> illustrate? If it is a comparison between one group of lines and another, 
> you might be able to plot two polygons showing the region that each group 
> occupies, or something like that.

I agree 24 lines are too many (probably for anyone, cetainly for me 
:-)).  But they represent the traffic rate across 24 different switches,
therefore I've been thinking, for a long time, whether it is sensible to
(say) separate into two graphs.  The problem is the switches are of the
same type in the same geographical regions.  So I'm not sure if separaion
will result in misinforming people...

Cheers,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
New Zealand
Homepage: http://www.stat.auckland.ac.nz/~kwan022


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


