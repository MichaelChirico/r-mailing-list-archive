From mroberts at ers.usda.gov  Sat Sep  1 00:22:33 2001
From: mroberts at ers.usda.gov (Michael Roberts)
Date: Fri, 31 Aug 2001 18:22:33 -0400
Subject: [R] accessing virtual memory
Message-ID: <3B900E29.1CDE0298@ers.usda.gov>

Hello R users,

I am doing some work with a large data set but am running out
of memory.  I understand that R dynamically loads memory as
it needs it, but for some reason it cannot seem to find my virtual
memory.  It's limit is about 256M (my hard memory) regardless
of the amount of virtual memory. I'm running R 1.30 on Windows
NT.

Am I missing an easy fix here?

Many thanks in advance,

Mike


Michael J. Roberts
USDA, Economic Research Service
Resource Economics Division
Production, Management, and Technology Branch



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Sat Sep  1 03:57:11 2001
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Fri, 31 Aug 2001 20:57:11 -0500
Subject: [R] update.packages with proxy?
References: <3B900E29.1CDE0298@ers.usda.gov>
Message-ID: <3B904077.66C77407@epm.net.co>

Hello Dear R user:

How can I use the update.package() function if my system
has proxy configuration.

Thank you very much

Kenneth Cabrera
Universidad Nacional de Colombia
Sede Medellin
Facultad de Ciencias
ICNE
-------------- next part --------------
A non-text attachment was scrubbed...
Name: krcabrer.vcf
Type: text/x-vcard
Size: 270 bytes
Desc: Card for Kenneth Cabrera
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20010831/b5def339/krcabrer.vcf

From ripley at stats.ox.ac.uk  Sat Sep  1 08:34:12 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 1 Sep 2001 07:34:12 +0100 (BST)
Subject: [R] update.packages with proxy?
In-Reply-To: <3B904077.66C77407@epm.net.co>
Message-ID: <Pine.GSO.4.31.0109010730250.23381-100000@auk.stats>

On Fri, 31 Aug 2001, Kenneth Cabrera wrote:

> Hello Dear R user:
>
> How can I use the update.package() function if my system
> has proxy configuration.

See ?download.file, as in

  method: Download method, see `download.file'.

Of course, if you had told us your R version and platform I might be able
to be more specific ....

On Windows you can use internet2.dll (see the changes file) and set the
proxy in Internet Options in the Control Panel, *if* you have Internet
Explorer >=4 installed.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Sep  1 08:40:39 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 1 Sep 2001 07:40:39 +0100 (BST)
Subject: [R] accessing virtual memory
In-Reply-To: <3B900E29.1CDE0298@ers.usda.gov>
Message-ID: <Pine.GSO.4.31.0109010736120.23381-100000@auk.stats>

On Fri, 31 Aug 2001, Michael Roberts wrote:

> Hello R users,
>
> I am doing some work with a large data set but am running out
> of memory.  I understand that R dynamically loads memory as
> it needs it, but for some reason it cannot seem to find my virtual
> memory.  It's limit is about 256M (my hard memory) regardless
> of the amount of virtual memory. I'm running R 1.30 on Windows
> NT.
>
> Am I missing an easy fix here?

See the rw-FAQ, question

  2.4 There seems to be a limit on the memory it uses!

Also, you will get a message when it runs out saying

Reached total allocation of 255Mb: see help(memory.size)

and you could always as a last resort do as it says ....


I should say that on Windows 9x systems you really don't want to use your
virtual memory, and for NT/2000 you will see a large performance hit.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Sat Sep  1 09:30:22 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Sat, 1 Sep 2001 09:30:22 +0200
Subject: [R] update.packages with proxy?
In-Reply-To: <3B904077.66C77407@epm.net.co>
Message-ID: <MABBLJDICACNFOLGIHJOGEGKCFAA.phgrosje@ulb.ac.be>

You don't tell which system you are running on. But if it is Windows, it is
possible to use update.package() through a proxy with the following
modifications:

- Go to the subdirectory 'modules'. You will find there 'internet.dll' and
'internet2.dll'.
- Rename 'internet.dll' whatever you want. For instance 'internet.old'
- Rename 'internet2.dll' to 'internet.dll'

Now, R will use the same configuration as Internet Explorer does. If you can
access the web via Internet Explorer through a proxy, i.e., if you correctly
configure it, then, it should now be the same for R.

If I understand, primary 'internet.dll' is more reliable but it bypass
internet access configuration of IE. 'internet2.dll' is provided as an
alternative in cases where 'internet.dll' fails, like an access through a
proxy.

All the best,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................



>Hello Dear R user:

>How can I use the update.package() function if my system
>has proxy configuration.

>Thank you very much

>Kenneth Cabrera
>Universidad Nacional de Colombia
>Sede Medellin
>Facultad de Ciencias
>ICNE

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Sep  1 10:18:40 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 1 Sep 2001 09:18:40 +0100 (BST)
Subject: [R] update.packages with proxy?
In-Reply-To: <MABBLJDICACNFOLGIHJOGEGKCFAA.phgrosje@ulb.ac.be>
Message-ID: <Pine.LNX.4.31.0109010914070.23933-100000@gannet.stats>

On Sat, 1 Sep 2001, Philippe Grosjean wrote:

> You don't tell which system you are running on. But if it is Windows, it is
> possible to use update.package() through a proxy with the following
> modifications:
>
> - Go to the subdirectory 'modules'. You will find there 'internet.dll' and
> 'internet2.dll'.
> - Rename 'internet.dll' whatever you want. For instance 'internet.old'
> - Rename 'internet2.dll' to 'internet.dll'
>
> Now, R will use the same configuration as Internet Explorer does. If you can
> access the web via Internet Explorer through a proxy, i.e., if you correctly
> configure it, then, it should now be the same for R.
>
> If I understand, primary 'internet.dll' is more reliable but it bypass
> internet access configuration of IE. 'internet2.dll' is provided as an
> alternative in cases where 'internet.dll' fails, like an access through a
> proxy.

internet.dll also works through a proxy.  Why it fails on some Windows
systems is unknown: we have been unable to reproduce the problem.  Now
1.3.1 is released, the documentation shows how to set proxies for each.
(Binaries for 1.3.1 are not yet on CRAN.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From till.baumgaertel at epost.de  Sat Sep  1 11:52:34 2001
From: till.baumgaertel at epost.de (Till Baumgaertel)
Date: Sat, 1 Sep 2001 11:52:34 +0200
Subject: [R] local dicriminant basis with wavelets
Message-ID: <3B90CC02.4832.2DBD88@localhost>

hi,

does anyone already have implemented in R the Best-Basis 
Algorithm or the Local Discriminant Basis Algorithm using 
wavelets? 

for those interested: both algorithms are described in N. Saito, R. 
R. Coifman: "Local Discriminant Bases" (SPIE vol. 2303, 1994) and 
can be downloaded here: 
ftp://pascal.math.yale.edu/pub/wavelets/papers/ldb.ps.gz

thanks,
till

--
ALL THESE WORLDS 
ARE YOURS, EXCEPT EUROPA. 
USE THEM TOGETHER. 
USE THEM IN PEACE
31622,776585872405015194191707146
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mabramso at gmu.edu  Sat Sep  1 17:36:37 2001
From: mabramso at gmu.edu (Myriam Abramson)
Date: 01 Sep 2001 11:36:37 -0400
Subject: [R] new newbie graphics question
In-Reply-To: <m3bskzionj.fsf@home.sweet.home>
References: <m3bskzionj.fsf@home.sweet.home>
Message-ID: <m37kvi3ou2.fsf@home.sweet.home>


Thanks for all the responses. 

FWIW, the par(new=TRUE) does rescale the graph as opposed to
lines(...) so it's more appropriate in the general case. 

Yep, I do find the documentation rather terse. 

For example, I haven't been able to rescale the axes properly. 
I have 30 data points but I want the x-axis to read from 0 to 3000. 
How is that done? What I've tried from looking at the ?axis
documentation does not work and then my y-axis is messed up. 

TIA.
-- 
                                   myriam

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at amadeus.statistik.uni-dortmund.de  Sat Sep  1 18:22:59 2001
From: ligges at amadeus.statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 01 Sep 2001 18:22:59 +0200
Subject: [R] new newbie graphics question
References: <m3bskzionj.fsf@home.sweet.home> <m37kvi3ou2.fsf@home.sweet.home>
Message-ID: <3B910B63.BA9AE68C@statistik.uni-dortmund.de>



Myriam Abramson wrote:
> 
> Thanks for all the responses.
> 
> FWIW, the par(new=TRUE) does rescale the graph as opposed to
> lines(...) so it's more appropriate in the general case.
> 
> Yep, I do find the documentation rather terse.
> 
> For example, I haven't been able to rescale the axes properly.
> I have 30 data points but I want the x-axis to read from 0 to 3000.
> How is that done? What I've tried from looking at the ?axis
> documentation does not work and then my y-axis is messed up.

Try
  plot(..., xlim=c(0, 3000))

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Sat Sep  1 20:15:28 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Sat, 1 Sep 2001 20:15:28 +0200
Subject: [R] new newbie graphics question
In-Reply-To: <m37kvi3ou2.fsf@home.sweet.home>
Message-ID: <MABBLJDICACNFOLGIHJOGEGMCFAA.phgrosje@ulb.ac.be>

plot(x, y, xlim=c(0, 3000))

read ?plot more carefully.

All the best,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( ( 
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1" 
( ( ( ( (                                  L. Gonick & W. Smith (1993) 
 ) ) ) ) )
.......................................................................
 


>Thanks for all the responses. 

>FWIW, the par(new=TRUE) does rescale the graph as opposed to
>lines(...) so it's more appropriate in the general case. 

>Yep, I do find the documentation rather terse. 

>For example, I haven't been able to rescale the axes properly. 
>I have 30 data points but I want the x-axis to read from 0 to 3000. 
>How is that done? What I've tried from looking at the ?axis
>documentation does not work and then my y-axis is messed up. 

>TIA.
>-- 
>                                   myriam

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mabramso at gmu.edu  Sat Sep  1 22:17:30 2001
From: mabramso at gmu.edu (Myriam Abramson)
Date: 01 Sep 2001 16:17:30 -0400
Subject: [R] new newbie graphics question
In-Reply-To: <3B910B63.BA9AE68C@statistik.uni-dortmund.de>
References: <m3bskzionj.fsf@home.sweet.home> <m37kvi3ou2.fsf@home.sweet.home>
	<3B910B63.BA9AE68C@statistik.uni-dortmund.de>
Message-ID: <m3k7zi1x9h.fsf@home.sweet.home>


> > For example, I haven't been able to rescale the axes properly.
> > I have 30 data points but I want the x-axis to read from 0 to 3000.
> > How is that done? What I've tried from looking at the ?axis
> > documentation does not work and then my y-axis is messed up.
> 
> Try
>   plot(..., xlim=c(0, 3000))
> 

Sorry, that does not work. the data is now scaled from 0 to 30
although the labels are correct. 

                                 myriam

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From merithew at ccmr.cornell.edu  Sat Sep  1 22:53:41 2001
From: merithew at ccmr.cornell.edu (Robert D. Merithew)
Date: Sat, 1 Sep 2001 16:53:41 -0400 (EDT)
Subject: [R] interpolation and numerical differentiation in R ?
Message-ID: <Pine.LNX.4.10.10109011640560.802-100000@magic.ccmr.cornell.edu>


Hi,

I'm trying to determine if R is useful to me.  I've browsed 'The Basics of
S and S-Plus' (Krause & Olson), and like the logic of the language.  
However, I don't see an easy way to do things like this:


* given a set of observations (x,y) (x and y equal-length vectors), and a
2nd set of abscissas x2, interpolate y at the new abscissas x2.  (for now,
I don't really care what kind of interpolation -- linear, some type of
spline, etc.)

* given observations (x,y), (with unequally-spaced x), create vector z
with the numerical derivative of y with respect to x (eg evaluated at the
values x).


I'm sure I could loop over the observations and do the interpolation and
differentiation point-by-point, but that kind of defeats the purpose of a
'vectorized' environment, I think.

I analyze data from solid-state physics experiments, and very little of
the analysis is really *statistical*, so it may be that R is the wrong
tool for me.

If anyone can point me toward documentation covering how to do tasks like
the above in R, I'd appreciate it.

thanks,

-Robert Merithew, PhD			rdm28 at cornell.edu
 LASSP, Cornell University
 Ithaca, NY

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at amadeus.statistik.uni-dortmund.de  Sat Sep  1 23:21:18 2001
From: ligges at amadeus.statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 01 Sep 2001 23:21:18 +0200
Subject: [R] new newbie graphics question
References: <m3bskzionj.fsf@home.sweet.home> <m37kvi3ou2.fsf@home.sweet.home>
		<3B910B63.BA9AE68C@statistik.uni-dortmund.de> <m3k7zi1x9h.fsf@home.sweet.home>
Message-ID: <3B91514E.63AE23F3@statistik.uni-dortmund.de>

Myriam Abramson wrote:
> 
> > > For example, I haven't been able to rescale the axes properly.
> > > I have 30 data points but I want the x-axis to read from 0 to 3000.
> > > How is that done? What I've tried from looking at the ?axis
> > > documentation does not work and then my y-axis is messed up.
> >
> > Try
> >   plot(..., xlim=c(0, 3000))
> >
> 
> Sorry, that does not work. the data is now scaled from 0 to 30
> although the labels are correct.

Hmmmmm...
If you want points to appear at a certain position (x, y) in the plot,
just specify x and y! I assume you only specified the y locations of the
points.

To plot your 30 points equidistant between 0 and 3000, you can try
  plot(seq(0, 3000, 100), y)

Please read "An Introduction to R". It is a really nice introduction to
make your first steps in R and learn much about it.
Having read "Section 12: Graphical procedures" you would have known how
to solve your problem, I think.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mabramso at gmu.edu  Sat Sep  1 23:20:09 2001
From: mabramso at gmu.edu (Myriam Abramson)
Date: 01 Sep 2001 17:20:09 -0400
Subject: [R] new newbie graphics question
In-Reply-To: <m37kvi3ou2.fsf@home.sweet.home>
References: <m3bskzionj.fsf@home.sweet.home> <m37kvi3ou2.fsf@home.sweet.home>
Message-ID: <m3d75a1ud2.fsf@home.sweet.home>


> FWIW, the par(new=TRUE) does rescale the graph as opposed to
> lines(...) so it's more appropriate in the general case. 

No, that's not right. The graph is not scaled right with par(). It's
scaled right with lines() but that does not help if it's not in the
dimensions of the first plot. 

Sorry for asking so many questions but I have a deadline and 
I'm working over the holiday weekend :(


                                   myriam

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mabramso at gmu.edu  Sat Sep  1 23:21:33 2001
From: mabramso at gmu.edu (Myriam Abramson)
Date: 01 Sep 2001 17:21:33 -0400
Subject: [R] new newbie graphics question
In-Reply-To: <m37kvi3ou2.fsf@home.sweet.home>
References: <m3bskzionj.fsf@home.sweet.home> <m37kvi3ou2.fsf@home.sweet.home>
Message-ID: <m38zfy1uaq.fsf@home.sweet.home>


> For example, I haven't been able to rescale the axes properly. 
> I have 30 data points but I want the x-axis to read from 0 to 3000. 
> How is that done? What I've tried from looking at the ?axis
> documentation does not work and then my y-axis is messed up. 

Okay, I've figured this one out.  Now, if I can just get the scaling
right :0)


                                   myriam

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mabramso at gmu.edu  Sat Sep  1 23:30:54 2001
From: mabramso at gmu.edu (Myriam Abramson)
Date: 01 Sep 2001 17:30:54 -0400
Subject: [R] new newbie graphics question
In-Reply-To: <3B91514E.63AE23F3@statistik.uni-dortmund.de>
References: <m3bskzionj.fsf@home.sweet.home> <m37kvi3ou2.fsf@home.sweet.home>
	<3B910B63.BA9AE68C@statistik.uni-dortmund.de>
	<m3k7zi1x9h.fsf@home.sweet.home>
	<3B91514E.63AE23F3@statistik.uni-dortmund.de>
Message-ID: <m33d661tv5.fsf@home.sweet.home>


Okay, folks. I got it and the scaling too. 

I hate working under pressure. 

Thanks for the help. 

-- 
                                   myriam
IM: tokujawa
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Sun Sep  2 00:38:46 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 01 Sep 2001 17:38:46 -0500
Subject: [R] interpolation and numerical differentiation in R ?
In-Reply-To: <Pine.LNX.4.10.10109011640560.802-100000@magic.ccmr.cornell.edu>
References: <Pine.LNX.4.10.10109011640560.802-100000@magic.ccmr.cornell.edu>
Message-ID: <6rzo8epmdl.fsf@franz.stat.wisc.edu>

"Robert D. Merithew" <merithew at ccmr.cornell.edu> writes:

> Hi,
> 
> I'm trying to determine if R is useful to me.  I've browsed 'The Basics of
> S and S-Plus' (Krause & Olson), and like the logic of the language.  
> However, I don't see an easy way to do things like this:
> 
> 
> * given a set of observations (x,y) (x and y equal-length vectors), and a
> 2nd set of abscissas x2, interpolate y at the new abscissas x2.  (for now,
> I don't really care what kind of interpolation -- linear, some type of
> spline, etc.)

See interpSpline in the splines library.

> * given observations (x,y), (with unequally-spaced x), create vector z
> with the numerical derivative of y with respect to x (eg evaluated at the
> values x).

When evaluating the interpolating spline produced by interpSpline you
can specify that you want derivatives instead of the function value.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From merithew at ccmr.cornell.edu  Sun Sep  2 05:27:32 2001
From: merithew at ccmr.cornell.edu (Robert D. Merithew)
Date: Sat, 1 Sep 2001 23:27:32 -0400 (EDT)
Subject: [R] interpolation and numerical differentiation in R ?
In-Reply-To: <6rzo8epmdl.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.LNX.4.10.10109012307420.1182-100000@magic.ccmr.cornell.edu>



On 1 Sep 2001, Douglas Bates wrote:

> See interpSpline in the splines library.
> 
> When evaluating the interpolating spline produced by interpSpline you
> can specify that you want derivatives instead of the function value.

perfect.  I'd use predict.bSpline, it seems.

My problem was that I started looking in the wrong place. I was wandering
around the documentation on the web site, which I was unable to search
(pdf files).  Now that I've installed R, and can search I see that R has
an enormous number of functions which will be useful to me.  I didn't get
that impression from the 'Basics' book, though the book will be very
helpful as I get used to the data structures.

I think I'm going to like this language/package.

Thank you!

-Robert Merithew

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Sep  2 08:47:05 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 2 Sep 2001 07:47:05 +0100 (BST)
Subject: [R] interpolation and numerical differentiation in R ?
In-Reply-To: <Pine.LNX.4.10.10109012307420.1182-100000@magic.ccmr.cornell.edu>
Message-ID: <Pine.GSO.4.31.0109020742420.9820-100000@auk.stats>

On Sat, 1 Sep 2001, Robert D. Merithew wrote:

>
>
> On 1 Sep 2001, Douglas Bates wrote:
>
> > See interpSpline in the splines library.
> >
> > When evaluating the interpolating spline produced by interpSpline you
> > can specify that you want derivatives instead of the function value.
>
> perfect.  I'd use predict.bSpline, it seems.
>
> My problem was that I started looking in the wrong place. I was wandering
> around the documentation on the web site, which I was unable to search
> (pdf files).  Now that I've installed R, and can search I see that R has
> an enormous number of functions which will be useful to me.  I didn't get
> that impression from the 'Basics' book, though the book will be very
> helpful as I get used to the data structures.

Well, it is a basic book, not really a book on Basics of the language.
You didn't say which edition: both are about S-PLUS not R, and the current
Second Edition is mainly aimed at GUI-using users of S-PLUS 2000.

I'd say the other books mentioned in the R FAQ were better for your
purposes, although none hit exactly this (which is only in R).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Sun Sep  2 09:32:34 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Sun, 2 Sep 2001 09:32:34 +0200
Subject: [R] interpolation and numerical differentiation in R ?
In-Reply-To: <Pine.LNX.4.10.10109012307420.1182-100000@magic.ccmr.cornell.edu>
Message-ID: <MABBLJDICACNFOLGIHJOEEGOCFAA.phgrosje@ulb.ac.be>

About interpolation, note that a new package is in construction which will
provide some more interpolations methods, including area method... and also
some functions for calculating best regular interval to keep much of the
irregular serie information (for instance, using turning points, i.e.,
information theory). Some code is already available at
http://www.sciviews/_passtec. For the moment, it is in French only and code
is not packaged into a library yet. But you could get an idea of what it can
do at a quick glance by browsing the manual (if you can read French). Final
library with manual in English will be uploaded to CRAN in 4 or 5 months. It
could help or not depending on your requirements...

All the best,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................



>> See interpSpline in the splines library.
>>
>> When evaluating the interpolating spline produced by interpSpline you
>> can specify that you want derivatives instead of the function value.

>perfect.  I'd use predict.bSpline, it seems.

>My problem was that I started looking in the wrong place. I was wandering
>around the documentation on the web site, which I was unable to search
>(pdf files).  Now that I've installed R, and can search I see that R has
>an enormous number of functions which will be useful to me.  I didn't get
>that impression from the 'Basics' book, though the book will be very
>helpful as I get used to the data structures.

>I think I'm going to like this language/package.

>Thank you!

>-Robert Merithew

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Sun Sep  2 17:14:58 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 02 Sep 2001 10:14:58 -0500
Subject: [R] interpolation and numerical differentiation in R ?
In-Reply-To: <Pine.LNX.4.10.10109012307420.1182-100000@magic.ccmr.cornell.edu>
References: <Pine.LNX.4.10.10109012307420.1182-100000@magic.ccmr.cornell.edu>
Message-ID: <6ritf1bp59.fsf@franz.stat.wisc.edu>

"Robert D. Merithew" <merithew at ccmr.cornell.edu> writes:

> On 1 Sep 2001, Douglas Bates wrote:
> 
> > See interpSpline in the splines library.
> > 
> > When evaluating the interpolating spline produced by interpSpline you
> > can specify that you want derivatives instead of the function value.

> perfect.  I'd use predict.bSpline, it seems.

It would be predict.npolySpline although you do not usually call
methods like this directly.  In the object system for the S language
calling predict on an interpolation spline produced by interpSpline
searches for predict.npolySpline, then predict.polySpline, then
predict.spline then predict.default.
 
 > library(splines)
 > data(women)
 > ispl2 <- interpSpline(weight ~ height, women)
 > class(ispl2)
 [1] "npolySpline" "polySpline"  "spline"     
 > methods(predict)
  [1] "predict.bSpline"     "predict.bs"          "predict.nbSpline"   
  [4] "predict.npolySpline" "predict.ns"          "predict.pbSpline"   
  [7] "predict.polySpline"  "predict.ppolySpline" "predict.glm"        
 [10] "predict.lm"          "predict.mlm"        
 > predict(ispl2)
 $x
  [1] 58.00 58.28 58.56 58.84 59.12 59.40 59.68 59.96 60.24 60.52 60.80 61.08
 [13] 61.36 61.64 61.92 62.20 62.48 62.76 63.04 63.32 63.60 63.88 64.16 64.44
 [25] 64.72 65.00 65.28 65.56 65.84 66.12 66.40 66.68 66.96 67.24 67.52 67.80
 [37] 68.08 68.36 68.64 68.92 69.20 69.48 69.76 70.04 70.32 70.60 70.88 71.16
 [49] 71.44 71.72 72.00

 $y
  [1] 115.0000 115.4908 116.0170 116.6137 117.3153 118.1214 118.9894 119.8747
  [9] 120.7384 121.5787 122.4078 123.2380 124.0759 124.9181 125.7601 126.5980
 [17] 127.4340 128.2735 129.1220 129.9792 130.8301 131.6572 132.4454 133.2228
 [25] 134.0528 135.0000 136.1000 137.2727 138.4090 139.4026 140.2416 141.0276
 [33] 141.8690 142.8564 143.9707 145.1507 146.3356 147.4868 148.6046 149.6935
 [41] 150.7604 151.8353 152.9613 154.1817 155.5178 156.9329 158.3808 159.8173
 [49] 161.2269 162.6180 164.0000

 attr(,"class")
 [1] "xyVector"
 > predict(ispl2, deriv = 1)
 $x
  [1] 58.00 58.28 58.56 58.84 59.12 59.40 59.68 59.96 60.24 60.52 60.80 61.08
 [13] 61.36 61.64 61.92 62.20 62.48 62.76 63.04 63.32 63.60 63.88 64.16 64.44
 [25] 64.72 65.00 65.28 65.56 65.84 66.12 66.40 66.68 66.96 67.24 67.52 67.80
 [37] 68.08 68.36 68.64 68.92 69.20 69.48 69.76 70.04 70.32 70.60 70.88 71.16
 [49] 71.44 71.72 72.00

 $y
  [1] 1.731918 1.794971 1.984130 2.299394 2.714477 3.016164 3.157722 3.139151
  [9] 3.035441 2.973657 2.955882 2.979670 3.002836 3.010095 3.001447 2.985954
 [17] 2.988631 3.010927 3.052004 3.060702 3.006831 2.890390 2.759254 2.831848
 [25] 3.135101 3.669014 4.123423 4.188163 3.863236 3.219987 2.837113 2.841450
 [33] 3.232999 3.789298 4.133397 4.259116 4.176018 4.049060 3.938009 3.842865
 [41] 3.799047 3.904315 4.164333 4.575846 4.940126 5.139893 5.175145 5.078116
 [49] 4.995859 4.946505 4.930054

 attr(,"class")
 [1] "xyVector"
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Mon Sep  3 04:53:29 2001
From: andy_liaw at merck.com (Liaw, Andy)
Date: Sun, 02 Sep 2001 22:53:29 -0400
Subject: [R] error compiling R-1.3.1 from source on WinNT
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC81FF@usrymx10.merck.com>

Dear R-help,

I have encountered some errors when trying to compile R-1.3.1 from source on
my WinNT4SP6 laptop (PII w/128MB RAM).  I have installed all the tools
following the instruction in src/gnuwin32/INSTALL, with the exception that
the mingw compiler I have might be a bit older (they are the ones
recommended for R-1.3.0, I believe).  I have also compiled the ATLAS
libraries from source using the cygwin compilers.

The first time through, I managed to compile R as well as all the base
packages.  However, when I started R and tried to get help (and help.search,
too), I got an error message about unzip.  I looked in the help
subdirectories, and they do not contain the zip files that are suppose to be
there.

Not knowing what to do, I re-started from scrach (meaning I did a "make
distclean" from src/gnuwin32 and "make BUILD=mingw32" again).  This time I
did notice some error messages when compiling help files.  Not only that, it
also failed to compile loess in the modreg package.  The abbreviated errors
are as follows:

{Typical error #1: get it for all packages.}
make -C ./help RHOME=C:/Rtools/R-1.3.1 PKGDIR=C:/Rtools/R-1.3.1/src/library
RLIB=C:/Rtools/R-1.3.1/library ziponlyhelp-base
make[2]: Entering directory `/cygdrive/c/Rtools/R-1.3.1/src/gnuwin32/help'
zip -jqmX help/Rhelp help/* -x help/AnIndex 2> nul
make[3]: [zipup] Error 12 (ignored)
zip -jqmX R-ex/Rex R-ex/*.R 2> nul
make[3]: [zipup] Error 12 (ignored)
zip -jqmX latex/Rhelp latex/*.tex 2> nul
make[3]: [zipup] Error 12 (ignored)

*************************************************************************
{Typical error #2: also get it for all packages.}

make  --no-print-directory -C C:/Rtools/R-1.3.1/src/library/base/chm -f
C:/Rtools/R-1.3.1/src/gnuwin32/help/Makefile base.chm
hhc base.hhp
Microsoft HTML Help Compiler 4.74.8702

Compiling c:\Rtools\R-1.3.1\src\library\base\chm\base.chm


Compile time: 0 minutes, 29 seconds
626     Topics
3,454   Local links
23      Internet links
1       Graphic


Created c:\Rtools\R-1.3.1\src\library\base\chm\base.chm, 887,735 bytes
Compression decreased file by 1,537,524 bytes.
make[3]: [base.chm] Error 1 (ignored)
mkdir -p C:/Rtools/R-1.3.1/library/base/chtml
cp C:/Rtools/R-1.3.1/src/library/base/chm/base.chm
C:/Rtools/R-1.3.1/library/base/chtml

**************************************************************************
gcc  --shared -s  -o modreg.dll modreg.def modreg.a modreg_res.o
-LC:/Rtools/R-1.3.1/src/gnuwin32  -L/Rtools/ATLAS/lib/WinNT_PII -lcblas
-lf77blas -latlas -lR

modreg.a(loessf.o)(.text+0x172e):loessf.f: undefined reference to `pow_dd'
modreg.a(loessf.o)(.text+0x1749):loessf.f: undefined reference to `pow_dd'
modreg.a(loessf.o)(.text+0x1810):loessf.f: undefined reference to `pow_dd'
modreg.a(loessf.o)(.text+0x1825):loessf.f: undefined reference to `pow_dd'
modreg.a(ppr.o)(.text+0x2d27):ppr.f: undefined reference to `pow_dd'
modreg.a(sslvrg.o)(.text+0x8c):sslvrg.f: more undefined references to
`pow_dd' follow

Can anyone help?  I'm really clueless at this point...  Any help is much
appreciated!

Regards,
Andy
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From H.RINNER at TIROL.GV.AT  Mon Sep  3 09:11:09 2001
From: H.RINNER at TIROL.GV.AT (RINNER Heinrich)
Date: Mon, 3 Sep 2001 09:11:09 +0200 
Subject: [R] update.packages with proxy?
Message-ID: <C4D44AB4CB62D311BA6500041202E886264232@xms1.tirol.gv.at>

This reminds me of a question I've never asked yet: Is there a trick to make
this work when a username authentication is required for using the proxy?
I need a user name and a password to connect to the Internet, and so I get:
> version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    3.0            
year     2001           
month    06             
day      22             
language R              
> CRAN.packages()
trying URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
Error in download.file(url = paste(contriburl, "PACKAGES", sep = "/"),  : 
        cannot open: HTTP status was `407 Proxy authorization required'
> 

I understand why this does not work, but don't know what I can do about it.

Heinrich.


> ----------
> Von: 	Prof Brian Ripley[SMTP:ripley at stats.ox.ac.uk]
> Gesendet: 	Samstag, 01. September 2001 10:18
> An: 	Philippe Grosjean
> Cc: 	Kenneth Cabrera; R-help at stat.math.ethz.ch
> Betreff: 	RE: [R] update.packages with proxy?
> 
> On Sat, 1 Sep 2001, Philippe Grosjean wrote:
> 
> > You don't tell which system you are running on. But if it is Windows, it
> is
> > possible to use update.package() through a proxy with the following
> > modifications:
> >
> > - Go to the subdirectory 'modules'. You will find there 'internet.dll'
> and
> > 'internet2.dll'.
> > - Rename 'internet.dll' whatever you want. For instance 'internet.old'
> > - Rename 'internet2.dll' to 'internet.dll'
> >
> > Now, R will use the same configuration as Internet Explorer does. If you
> can
> > access the web via Internet Explorer through a proxy, i.e., if you
> correctly
> > configure it, then, it should now be the same for R.
> >
> > If I understand, primary 'internet.dll' is more reliable but it bypass
> > internet access configuration of IE. 'internet2.dll' is provided as an
> > alternative in cases where 'internet.dll' fails, like an access through
> a
> > proxy.
> 
> internet.dll also works through a proxy.  Why it fails on some Windows
> systems is unknown: we have been unable to reproduce the problem.  Now
> 1.3.1 is released, the documentation shows how to set proxies for each.
> (Binaries for 1.3.1 are not yet on CRAN.)
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Sep  3 09:40:57 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 3 Sep 2001 08:40:57 +0100 (BST)
Subject: [R] update.packages with proxy?
In-Reply-To: <C4D44AB4CB62D311BA6500041202E886264232@xms1.tirol.gv.at>
Message-ID: <Pine.LNX.4.31.0109030836250.2491-100000@gannet.stats.ox.ac.uk>

On Mon, 3 Sep 2001, RINNER Heinrich wrote:

> This reminds me of a question I've never asked yet: Is there a trick to make
> this work when a username authentication is required for using the proxy?
> I need a user name and a password to connect to the Internet, and so I get:
> > version
>          _
> platform i386-pc-mingw32
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    3.0
> year     2001
> month    06
> day      22
> language R
> > CRAN.packages()
> trying URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
> Error in download.file(url = paste(contriburl, "PACKAGES", sep = "/"),  :
>         cannot open: HTTP status was `407 Proxy authorization required'
> >
>
> I understand why this does not work, but don't know what I can do about it.

There is no provision for that in the default code.  (It's not usual
for http proxies.)

There was a documentation bug in 1.3.0 under Windows. Here's what
1.3.1 says

  Proxies can be specified via environment variables.
  Setting \code{"no_proxy"} stops any proxy being tried.
  Otherwise the setting of \code{"http_proxy"} or \code{"ftp_proxy"}
  (or failing that, the all upper-case version) is consulted and if
  non-empty used as a proxy site.  For FTP transfers, the username
  and password on the proxy can be specified by \code{"ftp_proxy_user"}
  and \code{"ftp_proxy_password"}.

  There is an alternative method if you have Internet Explorer 4 or
  later installed.   You can use \code{modules\\internet2.dll} to
  replace \code{modules\\internet.dll}, when
  the `Internet Options' of the system are used to choose proxies and so
  on; these are set in the Control Panel and are those used for Internet
  Explorer.

The procedure is the same under 1.3.0, and internet2.dll may work for you.
Alternatively, use method="wget".


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Mon Sep  3 09:43:38 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Mon, 3 Sep 2001 09:43:38 +0200
Subject: [R] interpolation and numerical differentiation in R ?
In-Reply-To: <15251.13199.319534.402603@gargle.gargle.HOWL>
Message-ID: <MABBLJDICACNFOLGIHJOEEGPCFAA.phgrosje@ulb.ac.be>

Oh sorry,
The correct address is: http://www.sciviews.org/_passtec

>>>>> "Philippe" == Philippe Grosjean <phgrosje at ulb.ac.be> writes:

    Philippe> About interpolation, note that a new package is in
    Philippe> construction which will provide some more interpolations
    Philippe> methods, including area method... and also some functions for
    Philippe> calculating best regular interval to keep much of the
    Philippe> irregular serie information (for instance, using turning
    Philippe> points, i.e., information theory). Some code is already
    Philippe> available at http://www.sciviews/_passtec. For the moment, it
    Philippe> is in French only and code is not packaged into a library
    Philippe> yet. But you could get an idea of what it can do at a quick
    Philippe> glance by browsing the manual (if you can read French). Final
    Philippe> library with manual in English will be uploaded to CRAN in 4
    Philippe> or 5 months. It could help or not depending on your
    Philippe> requirements...

Interesting, thank you Philippe!
Since I can read French pretty well, I wanted to look at it.
However, for me,
    http://www.sciviews/_passtec
doesn't seem to be valid.
Have you mis-typed something?

Bonnes salutations,

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bob.ohara at helsinki.fi  Mon Sep  3 17:05:51 2001
From: bob.ohara at helsinki.fi (Anon.)
Date: Mon, 03 Sep 2001 18:05:51 +0300
Subject: [R] Missing values in time series
Message-ID: <3B939C4F.58B4CB34@helsinki.fi>

Apologies for this - I'm sure I'm missing something somewhere...

I've got a time series with several of missing values in it that I want
to torture with R.  But ts doesn't like the NA's, and I can't find any
documentation telling me what to do about it.

Help!

Bob

-- 
Bob O'Hara
Metapopulation Research Group
Division of Population Biology
Department of Ecology and Systematics
PO Box 17 (Arkadiankatu 7)
FIN-00014 University of Helsinki
Finland

NOTE: NEW TELEPHONE NUMBER
tel: +358 9 191 28779  fax: +358 9 191 28701
email: bob.ohara at helsinki.fi
To induce catatonia, visit:
http://www.helsinki.fi/science/metapop/

It is being said of a certain poet, that though he tortures the English
language, he has still never yet succeeded in forcing it to reveal his
meaning
- Beachcomber
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From landgreb at mpipsykl.mpg.de  Mon Sep  3 21:10:53 2001
From: landgreb at mpipsykl.mpg.de (Jobst Landgrebe)
Date: Mon, 3 Sep 2001 21:10:53 +0200
Subject: [R] mixture distributions
Message-ID: <20010903211053.A1382@pcc113.mpipsykl.mpg.de>

Dear List,

I am looking for a possibility to fit a mixture model under R using
maximum likelihood estimation.
Venables and Ripley describe a solution working under S+ (in MASS, 3. ed.,
p. 263) which requires the D system function and deriv3. This solution does not
seem to be portable to R or at least I do not realise how.

Is there anyone who

a) knows how one could make the MASS-method run under R?

or

b) has written an EM-algorithm to fit mixture models in R that I could
use?


I would be glad to hear from someone.


Sincerely,

Jobst



Dr. Jobst Landgrebe
AG Wurst (Molecular Neurogenetics)
MPI of Psychiatry
Kraepelinstr. 2-10
D-80804 Munich
phone +49 89 30622626
fax +49 89 30622642
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Sep  3 21:49:44 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 3 Sep 2001 20:49:44 +0100 (BST)
Subject: [R] mixture distributions
In-Reply-To: <20010903211053.A1382@pcc113.mpipsykl.mpg.de>
Message-ID: <Pine.LNX.4.31.0109032044330.1577-100000@gannet.stats>

On Mon, 3 Sep 2001, Jobst Landgrebe wrote:

> Dear List,
>
> I am looking for a possibility to fit a mixture model under R using
> maximum likelihood estimation.
> Venables and Ripley describe a solution working under S+ (in MASS, 3. ed.,
> p. 263) which requires the D system function and deriv3. This solution does not
> seem to be portable to R or at least I do not realise how.
>
> Is there anyone who
>
> a) knows how one could make the MASS-method run under R?

You can optimize without derivatives.  ms() is not in R either.

> or
>
> b) has written an EM-algorithm to fit mixture models in R that I could
> use?

There's one (rather buried) in package mda.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Mon Sep  3 22:21:32 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Tue, 4 Sep 2001 08:21:32 +1200
Subject: [R] mixture distributions
References: <20010903211053.A1382@pcc113.mpipsykl.mpg.de>
Message-ID: <001801c134b6$05fddce0$355f36d2@kwan022>

Hi Jobst,

----- Original Message -----
From: "Jobst Landgrebe" <landgreb at mpipsykl.mpg.de>
To: <r-help at lists.R-project.org>
Sent: Tuesday, September 04, 2001 7:10 AM
Subject: [R] mixture distributions


> Dear List,
>
> Venables and Ripley describe a solution working under S+ (in MASS, 3. ed.,
> p. 263) which requires the D system function and deriv3. This solution
does not
> seem to be portable to R or at least I do not realise how.

It is, there is a version for R.  Look in CRAN (http://cran.r-project.org/).
It is called VR package (Venables and Ripley).

> Is there anyone who
>
> a) knows how one could make the MASS-method run under R?

Depends on the OS platform are using, install the package then type
library( MASS ) in R.

> or
>
> b) has written an EM-algorithm to fit mixture models in R that I could
> use?
>
>
> I would be glad to hear from someone.
>
>
> Sincerely,
>
> Jobst
>
>
>
> Dr. Jobst Landgrebe
> AG Wurst (Molecular Neurogenetics)
> MPI of Psychiatry
> Kraepelinstr. 2-10
> D-80804 Munich
> phone +49 89 30622626
> fax +49 89 30622642
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alkauffm at rz.uni-potsdam.de  Mon Sep  3 23:55:44 2001
From: alkauffm at rz.uni-potsdam.de (Albrecht Kauffmann)
Date: Mon, 03 Sep 2001 22:55:44 +0100
Subject: [R] durbin-h test
Message-ID: <200109032055.f83KtiU19330@persius.rz.uni-potsdam.de>

Dear users of the R program,

is there one package containing the durbin-h test of autocorrelation
of the residuals of linear models in the case of time-lagged 
endogeneous variables? 

With many thanks for any hint

Albrecht Kauffmann
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jones at reed.edu  Tue Sep  4 02:32:56 2001
From: jones at reed.edu (Albyn Jones)
Date: Mon, 3 Sep 2001 17:32:56 -0700 (PDT)
Subject: [R] mixture distributions
In-Reply-To: <20010903211053.A1382@pcc113.mpipsykl.mpg.de> (message from Jobst
	Landgrebe on Mon, 3 Sep 2001 21:10:53 +0200)
Message-ID: <200109040032.f840Wu415440@sellwood.reed.edu>


here are some functions I wrote and tested in Splus; originally
based on some else's version for two components.  I haven't tried
them in R yet...  I expect there is plenty of room for
improvement.

albyn
----------------------------------------------------------------------
"Mixture.em" <- 
function(y, mu, v, p=1/length(mu), eps = .00001, max.iter=25, prnt=F,probs=F)
{
	p <- p/sum(p)  # make sure probabilities add to 1
	iter <- 1
	n <- length(y)
	k <- length(mu)
	done <- 0
	loglik0 <- -(2^1000)
        while(!done && iter <= max.iter) {
		#
		# E step: guess probability y[i] is from group j
		#
		L <- Norm.mixd(y,p,mu,v)
		Lsum <- apply(L,1,"sum")
		loglik <- sum(log(Lsum))
                bayes <- sweep(L,1,Lsum,"/")
		#  
		# M step: estimate component parameters given 
		#         group assignment probabilities
		#
		N <- apply(bayes,2,sum)
                mu <- as.numeric(y %*% bayes)/N
		Y <- matrix(y, nrow=n, ncol=k)
		M <- matrix(mu, nrow=n, ncol=k, byrow=T)
		SQ <- bayes*(Y-M)^2
		v <- apply(SQ,2,sum)/N
		p <- N/sum(N)
		if(abs((loglik-loglik0)/loglik) < eps) done <- 1
		if(prnt){
			cat("step:",k,"\n")
			cat("means:",mu,"\n \n")
			}
		loglik0 <- loglik
		iter <- iter + 1
        }
if( !probs)        list(mu=mu,v=v,p=p,loglik=loglik)
else		list(mu=mu,v=v,p=p,loglik=loglik,P=bayes)
}

Norm.mixd <- function(y,p,m,v)
{
# evaluates the components of the normal mixture density determined
# by the vector of means mu, variances v, and proportions p, for the
# vector of data y.
# Pi is assumed to be predefined
# returns a matrix with rows corresponding to obs.
# and columns corresponding to mixture components, ie.
# d(i,j)= f(y[i] | m[j],v[j],p[j])
        k<-length(p)
        n<-length(y)
        a<-matrix(y,nrow=n,ncol=k)
        b<-matrix(m,nrow=n,ncol=k,byrow=T)
        d<-sweep((a-b)^2,2,v,"/")/2
        b<-matrix(p,nrow=n,ncol=k,byrow=T) 
        b<-sweep(b,2,sqrt(2*Pi*v),"/")
        d<- b*exp(-d)
        d
}


"norm.mix.plot"<-
function(p, m, v)
{
# creates data structure containing $x, $y for plotting the
# mixture density specified by the parameters in params
	s <- sqrt(v)
	if(length(s) == 1)
		s <- rep(s, length(p))
	if(length(p) != length(m))
		fatal("invalid parameter specification")
	k <- length(m)
	xlim <- c(min(m - 3 * s), max(m + 3 * s))
	x <- seq(xlim[1], xlim[2], length = 400)
	y <- matrix(0, nrow = k, ncol = length(x))
	for(i in 1:k) {
		y[i,  ] <- p[i] * dnorm(x, m[i], s[i])
		ifelse(is.na(y[i,  ]), 0, y[i,  ])
	}
	y <- apply(y, 2, "sum")
	z <- list(x = x, y = y)
	z
}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jg_liao at yahoo.com  Tue Sep  4 03:48:02 2001
From: jg_liao at yahoo.com (Jason Liao)
Date: Mon, 3 Sep 2001 18:48:02 -0700 (PDT)
Subject: [R] fastest way to multiply each column of a matrix by a single vlaue
Message-ID: <20010904014802.86701.qmail@web10507.mail.yahoo.com>

Let A be a m by n matrix and b a length n vector. What is the fastest
vectorized code for doing

for(j in 1:n) A[, j] <- A[, j]/b[j]   ?

solution 1:

t(t(A)/b)

solution 2:

B <- matrix( rep(b, m), byrow=T, nrow=m )
A/B 

anything else?

I have a program that uses this kind of operation million of times and
I appreciate your input.

Thanks.

Jason Liao



=====
Jason G. Liao
Department of Biometry and Epidemiology
Medical University of South Carolina
135 Rutledge Ave., STE 1148, Charleston, SC 29425
phone (843) 876-1114, fax (843) 876-1126

http://www.geocities.com/jg_liao/index.html

__________________________________________________
Do You Yahoo!?
Get email alerts & NEW webcam video instant messaging with Yahoo! Messenger
http://im.yahoo.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jkawczak at uncc.edu  Tue Sep  4 07:40:27 2001
From: jkawczak at uncc.edu (Janusz Kawczak)
Date: Tue, 4 Sep 2001 01:40:27 -0400 (EDT)
Subject: [R] Runs Statistic
In-Reply-To: <200109040032.f840Wu415440@sellwood.reed.edu>
Message-ID: <Pine.SOL.4.33.0109040125290.22993-100000@is-sm1.uncc.edu>

Dear R users:

I am trying to get the runs statistics for a very long binary sequences
and I ran into trouble with the sped  when using (probably too many) "if"
and "for" statements in my program. Let me explain what I would like to
see as the final output. Say, I have a sequence 1001101000. The runs vector
should be r=(1,2,2,1,1,3), i.e. counting similar subsequences. Also, it
could be treated as an independent question, the longest run is of
interest.

Just to give you an idea the length of the original sequences will be of
order 10^6 and greater.

Any help greatly appreciated.
Janusz.

** Janusz Kawczak							**
** UNC at Charlotte, Department of Mathematics, Room 350F		**
** 9201 University City Blvd.						**
** Charlotte, NC, 28223-0001, U.S.A.					**
** Tel.: (704) 687-2566 (W) (704) 921-0273 (H) Fax.: (704) 687-6415	**


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep  4 07:49:09 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 4 Sep 2001 06:49:09 +0100 (BST)
Subject: [R] fastest way to multiply each column of a matrix by a single
 vlaue
In-Reply-To: <20010904014802.86701.qmail@web10507.mail.yahoo.com>
Message-ID: <Pine.GSO.4.31.0109040644290.7740-100000@auk.stats>

On Mon, 3 Sep 2001, Jason Liao wrote:

> Let A be a m by n matrix and b a length n vector. What is the fastest
> vectorized code for doing
>
> for(j in 1:n) A[, j] <- A[, j]/b[j]   ?
>
> solution 1:
>
> t(t(A)/b)
>
> solution 2:
>
> B <- matrix( rep(b, m), byrow=T, nrow=m )
> A/B

You don't need the rep because of the re-cycling rule.  Either

B <- matrix(b, m, n, byrow=T)

or, a litle faster

A/rep(b, rep(m, n))


You'll find the S/R system code uses the last most often.

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep  4 08:00:06 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 4 Sep 2001 07:00:06 +0100 (BST)
Subject: [R] Runs Statistic
In-Reply-To: <Pine.SOL.4.33.0109040125290.22993-100000@is-sm1.uncc.edu>
Message-ID: <Pine.GSO.4.31.0109040652450.7740-100000@auk.stats>

On Tue, 4 Sep 2001, Janusz Kawczak wrote:

> Dear R users:
>
> I am trying to get the runs statistics for a very long binary sequences
> and I ran into trouble with the sped  when using (probably too many) "if"
> and "for" statements in my program. Let me explain what I would like to
> see as the final output. Say, I have a sequence 1001101000. The runs vector
> should be r=(1,2,2,1,1,3), i.e. counting similar subsequences. Also, it
> could be treated as an independent question, the longest run is of
> interest.

> inp <- as.numeric(strsplit("1001101000", "")[[1]])
> inp
 [1] 1 0 0 1 1 0 1 0 0 0
> rle(inp)$lengths
[1] 1 2 2 1 1 3

> Just to give you an idea the length of the original sequences will be of
> order 10^6 and greater.

That might tax rle, but you can do it in pieces if needed. However, on a
1GHz 512Mb machine:

> inp <- rbinom(1e6, 1, 0.4)
> system.time(foo <- rle(inp)$lengths)
[1] 3.49 0.25 3.74 0.00 0.00


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.pesl at arcs.ac.at  Tue Sep  4 10:29:05 2001
From: thomas.pesl at arcs.ac.at (Pesl Thomas)
Date: Tue, 4 Sep 2001 10:29:05 +0200 
Subject: AW: [R] Runs Statistic
Message-ID: <D16B18FFF743D311A9CA0090275F3CB004384840@arcss07.arcs.ac.at>

Does the function rle() help you??

Thomas Pesl
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.pesl at arcs.ac.at  Tue Sep  4 10:44:05 2001
From: thomas.pesl at arcs.ac.at (Pesl Thomas)
Date: Tue, 4 Sep 2001 10:44:05 +0200 
Subject: [R] Newsgroup - another try?
Message-ID: <D16B18FFF743D311A9CA0090275F3CB004384841@arcss07.arcs.ac.at>

As nobody seems to answer my request, I simply post it again.
Is there any reason why the r-help-mailinglist should not be converted to a
newsgroup?

These were the advantages of a newsgroup I mentioned earlier:
-) you can easily search the archives
-) the discussion is faster (I experience that the R-mailinglist has a lag
of about 1 to 2 hours (not for everyone!!!). When I ask a question, I get
sometimes a rather quick response by direct mail, but I recieve my own
question and the answers about 1 to 2 hours later). Hence it is not possible
for all to participate in a discussion.
-) a newsgroup allows you to order the messages in threads, so you can
easily follow the discussion.

Now I find that my lag is increasing (up to 4 hours). I do not believe that
there would be any sense for me in replying on a question, when there have
already replied some other people (what I do not know at that time). But
maybe it would make because nobody has replied yet. How should I know?

Thomas Pesl
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marchini at stats.ox.ac.uk  Tue Sep  4 10:57:14 2001
From: marchini at stats.ox.ac.uk (Jonathan Marchini)
Date: Tue, 04 Sep 2001 09:57:14 +0100
Subject: [R] mixture distributions
References: <20010903211053.A1382@pcc113.mpipsykl.mpg.de>
Message-ID: <3B94976A.C95BA3F3@stats.ox.ac.uk>

Jobst Landgrebe wrote:
> 
> Dear List,
> 
> I am looking for a possibility to fit a mixture model under R using
> maximum likelihood estimation.
> Venables and Ripley describe a solution working under S+ (in MASS, 3. ed.,
> p. 263) which requires the D system function and deriv3. This solution does not
> seem to be portable to R or at least I do not realise how.
> 
> Is there anyone who
> 
> a) knows how one could make the MASS-method run under R?
> 
> or
> 
> b) has written an EM-algorithm to fit mixture models in R that I could
> use?
> 
> I would be glad to hear from someone.
> 
> Sincerely,
> 
> Jobst

Dear Jobst,

Check out the R package mclust at 

http://www.ci.tuwien.ac.at/R/src/contrib/PACKAGES.html#mclust

It enables you to fit Gaussian Mixture models using the EM algoritm.

Cheers,

Jonathan

> Dr. Jobst Landgrebe
> AG Wurst (Molecular Neurogenetics)
> MPI of Psychiatry
> Kraepelinstr. 2-10
> D-80804 Munich
> phone +49 89 30622626
> fax +49 89 30622642
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Jonathan L. Marchini,		(home)	jonathan.marchini at balliol.ox.ac.uk
Department of Statistics,	(work)	marchini at stats.ox.ac.uk
University of Oxford,		http://www.stats.ox.ac.uk/~marchini
1 South Parks Road,		Tel: 	+44 1865 272593 (work)	
Oxford OX1 3TG, UK		Fax: 	+44 1865 272595
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Tue Sep  4 11:12:29 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Tue, 4 Sep 2001 11:12:29 +0200
Subject: [R] fastest way to multiply each column of a matrix by a single vlaue
In-Reply-To: <20010904014802.86701.qmail@web10507.mail.yahoo.com>
Message-ID: <MABBLJDICACNFOLGIHJOIEHDCFAA.phgrosje@ulb.ac.be>

Why not make two versions of your program with each alternative and test
their speed with system.time()? Then, you'll have this indication "in
situation".

Best regards,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................



>Let A be a m by n matrix and b a length n vector. What is the fastest
>vectorized code for doing

>for(j in 1:n) A[, j] <- A[, j]/b[j]   ?

>solution 1:

>t(t(A)/b)

>solution 2:

>B <- matrix( rep(b, m), byrow=T, nrow=m )
>A/B

>anything else?

>I have a program that uses this kind of operation million of times and
>I appreciate your input.

>Thanks.

>Jason Liao



=====
Jason G. Liao
Department of Biometry and Epidemiology
Medical University of South Carolina
135 Rutledge Ave., STE 1148, Charleston, SC 29425
phone (843) 876-1114, fax (843) 876-1126

http://www.geocities.com/jg_liao/index.html

__________________________________________________
Do You Yahoo!?
Get email alerts & NEW webcam video instant messaging with Yahoo! Messenger
http://im.yahoo.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Tue Sep  4 11:45:46 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Tue, 4 Sep 2001 21:45:46 +1200
Subject: [R] kudos -- time handling
Message-ID: <20010904214545.A2308@camille.indigoindustrial.co.nz>

As seems to be the way with good software projects, tools 
from R seem to fall into my hands at just the moment I need
them.  I'm very impressed, and very grateful.

Just wanted to give a quick congratulations to those in
R Core who worked so hard to get date/time handling in
1.3 to the slick, elegant state it's in.  This is 
*not* an easy thing to do ever, never mind in the 
generality, completeness, and beauty that has been 
done here.  Impressed.

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Tue Sep  4 11:29:28 2001
From: plummer at iarc.fr (Martyn Plummer)
Date: Tue, 04 Sep 2001 11:29:28 +0200 (CEST)
Subject: [R] Newsgroup - another try?
In-Reply-To: <D16B18FFF743D311A9CA0090275F3CB004384841@arcss07.arcs.ac.at>
Message-ID: <XFMail.20010904112928.plummer@iarc.fr>

On 04-Sep-2001 Pesl Thomas wrote:
> As nobody seems to answer my request, I simply post it again.
> Is there any reason why the r-help-mailinglist should not be converted to a
> newsgroup?

I can think of two disadvantages of a newsgroup

1) Access
Everyone with an email address can sub_scribe to the R mailing lists.
However, not everyone has a news feed. I don't.

2) Control
Moving to a news group means giving up control over the list.
For example, Martin Maechler has put excellent spam filters in place
and we certainly wouldn't have those any more.

In terms of the other points you raise, the R mailing lists do
have archives at
http://www.ens.gu.edu.au/robertk/R/about.htm
and you can search these with an advanced google search.

Many e-mail clients can order messages by thread and, more importantly,
filter them. This is not really a news-group/mailing list difference.

Martyn

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.pesl at arcs.ac.at  Tue Sep  4 11:32:01 2001
From: thomas.pesl at arcs.ac.at (Pesl Thomas)
Date: Tue, 4 Sep 2001 11:32:01 +0200
Subject: AW: [R] Newsgroup - another try?
Message-ID: <D16B18FFF743D311A9CA0090275F3CB004384853@arcss07.arcs.ac.at>

| I can think of two disadvantages of a newsgroup
|
| 1) Access
| Everyone with an email address can sub_scribe to the R mailing lists.
| However, not everyone has a news feed. I don't.

Everyone who has access to the internet can also have a news-account. There
are a lot of good free news-servers (most of the time hosted by
universities), and on the client-site you can often use your mail-program
(e.g. OE) if you do not want to buy a program.

| 2) Control
| Moving to a news group means giving up control over the list.
| For example, Martin Maechler has put excellent spam filters in place
| and we certainly wouldn't have those any more.
AFAIK newsgroups can be moderated, too. That should mean, that it is
possible to apply the same filters.
I am subscribed to different newsgroups and none of these have any problem
with spam.

By the way: At this point I have not recieved my own question.

Thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cof at agere.com  Tue Sep  4 11:44:32 2001
From: cof at agere.com (Ortega Fernandez, Carlos (carlos))
Date: Tue, 4 Sep 2001 11:44:32 +0200 
Subject: [R] Missing values in time series
Message-ID: <B010EF86FE79904186E666A83CA90B3C98BC2F@SP0005EXCUAG01.ags.agere.com>

I think that a similar question was posted some months ago in the R-Help and
Prof. Brian Ripley replied to that.
Please search the R-Help with the strings "Time Series" or "Arima".

Carlos Ortega.

-----Mensaje original-----
De: Anon. [mailto:bob.ohara at helsinki.fi]
Enviado el: lunes 3 de septiembre de 2001 17:06
Para: R help
Asunto: [R] Missing values in time series


Apologies for this - I'm sure I'm missing something somewhere...

I've got a time series with several of missing values in it that I want
to torture with R.  But ts doesn't like the NA's, and I can't find any
documentation telling me what to do about it.

Help!

Bob

-- 
Bob O'Hara
Metapopulation Research Group
Division of Population Biology
Department of Ecology and Systematics
PO Box 17 (Arkadiankatu 7)
FIN-00014 University of Helsinki
Finland

NOTE: NEW TELEPHONE NUMBER
tel: +358 9 191 28779  fax: +358 9 191 28701
email: bob.ohara at helsinki.fi
To induce catatonia, visit:
http://www.helsinki.fi/science/metapop/

It is being said of a certain poet, that though he tortures the English
language, he has still never yet succeeded in forcing it to reveal his
meaning
- Beachcomber
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep  4 11:43:01 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Sep 2001 11:43:01 +0200
Subject: [R] Newsgroup - another try?
In-Reply-To: <D16B18FFF743D311A9CA0090275F3CB004384841@arcss07.arcs.ac.at>
References: <D16B18FFF743D311A9CA0090275F3CB004384841@arcss07.arcs.ac.at>
Message-ID: <x2pu97thp6.fsf@blueberry.kubism.ku.dk>

Pesl Thomas <thomas.pesl at arcs.ac.at> writes:

> As nobody seems to answer my request, I simply post it again.
> Is there any reason why the r-help-mailinglist should not be converted to a
> newsgroup?
> 
> These were the advantages of a newsgroup I mentioned earlier:
> -) you can easily search the archives
> -) the discussion is faster (I experience that the R-mailinglist has a lag
> of about 1 to 2 hours (not for everyone!!!). When I ask a question, I get
> sometimes a rather quick response by direct mail, but I recieve my own
> question and the answers about 1 to 2 hours later). Hence it is not possible
> for all to participate in a discussion.
> -) a newsgroup allows you to order the messages in threads, so you can
> easily follow the discussion.
> 
> Now I find that my lag is increasing (up to 4 hours). I do not believe that
> there would be any sense for me in replying on a question, when there have
> already replied some other people (what I do not know at that time). But
> maybe it would make because nobody has replied yet. How should I know?

Much as I like newsgroups, there are various counterarguments to take
into consideration.

  - Newsgroups easily become spamtraps unless someone actively cancels
    articles

  - Some people do not have news access. Some lists solve this by a
    bidirectional mail-to-news gateway, but it is not without problems.

  - News works by a flooding algorithm. Messages may take different
    routes from newsfeed to newsfeed. *You* may have a quick news
    server, but I subscribe to several groups where I get messages
    with response preceding the question and sometimes delayed by days
    - a full newsfeed generates gigabytes of traffic each day and
    sometimes machines or communication lines clog up. The rapid
    response you see on newsgroups is sometimes deceptive: Your
    message shows up immediately on your nearby news server, but you
    have no idea when it will show up for the guy you are replying to.

  - You can actually get mail readers that sorts mail into folders by
    mailing list and organize it into threads. Mine for instance...

The indexing by systems like groups.google.com would be very valuable,
though. I've lost count of the number of times I have solved
miscellaneous computer problems by scanning posts on google or (Deja
as it used to be).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.pesl at arcs.ac.at  Tue Sep  4 11:46:51 2001
From: thomas.pesl at arcs.ac.at (Pesl Thomas)
Date: Tue, 4 Sep 2001 11:46:51 +0200 
Subject: AW: [R] Newsgroup - another try?
Message-ID: <D16B18FFF743D311A9CA0090275F3CB004384854@arcss07.arcs.ac.at>

In fact I do not know, how to start a newsgroup, but I believe that others
here do.

Thomas Pesl
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Tue Sep  4 12:24:04 2001
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Tue, 4 Sep 2001 12:24:04 +0200 (MET DST)
Subject: [R] Newsgroup - another try?
In-Reply-To: <x2pu97thp6.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.OSF.4.30.0109041215020.20917-100000@alnair.uio.no>

On 4 Sep 2001, Peter Dalgaard BSA wrote:

>  - Newsgroups easily become spamtraps unless someone actively cancels
>    articles

This may or may not happen. It is also possible to robot-moderate a
newsgroup, in which you can have the same spam filters.

>  - Some people do not have news access.

They can use Google groups.

>    Some lists solve this by a
>    bidirectional mail-to-news gateway, but it is not without problems.

I haven't seen any problems with a bidirectional mail<->news gateway. It
seems unproblematic to me... What are the problems?

>  - News works by a flooding algorithm. Messages may take different
>    routes from newsfeed to newsfeed. *You* may have a quick news
>    server, but I subscribe to several groups where I get messages
>    with response preceding the question and sometimes delayed by days
>    - a full newsfeed generates gigabytes of traffic each day and
>    sometimes machines or communication lines clog up. The rapid
>    response you see on newsgroups is sometimes deceptive: Your
>    message shows up immediately on your nearby news server, but you
>    have no idea when it will show up for the guy you are replying to.

True.

>  - You can actually get mail readers that sorts mail into folders by
>    mailing list and organize it into threads. Mine for instance...

Mine too... :-) (That is, I use procmail)


Actually, I think a newsgroup with a bidirectional mail<->news gateway is
a great idea.

As for the process, I don't know it exactly, though I read about it years
ago. I think the point is that you post a Request for Discussion (RFD) to
appropriate newsgroups and mailing lists. The discussion is then to take
place in a designated newsgroup for the purpose of discussing new groups
(I think it may be news.groups or something).

After a period of discussion, one has to find a "uninterested" third
party volunteer. There are many who does this. Then, you post a Call for
Votes (CFV), and there are rules as to how many votes you need (quite
conservative). This is for the sci. and similar hierarchies. For the alt.
hierarchy, anybody can make a newsgroup. I think all you need is a PGP
key to identify yourself.

Vennlig Tiddeli-bom,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://folk.uio.no/kjetikj/>
Webmaster at skepsis.no                            OpenPGP KeyID: 6A6A0BBC

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mylesj at icrf.icnet.uk  Tue Sep  4 12:44:12 2001
From: mylesj at icrf.icnet.uk (Jonathan Myles)
Date: Tue, 4 Sep 2001 11:44:12 +0100 (BST)
Subject: [R] Re: GLMMGibbs crashes on seeds data
In-Reply-To: <Pine.LNX.4.33.0108301641570.11120-100000@lindeman-cv.cmis.csiro.au>
Message-ID: <Pine.GSO.3.96.1010904102251.8350A-100000@cordite>


Hello Peter,

You haven't included the plate factor in the formula in the glmm
statement, it should be:

glmm(formula=cbind(r,n-r) ~ x1 + x2 + plate, data=seeds, ....)

I thought I had sorted out the problem of models with no random terms,
but clearly I hadn't, so sometime I must try to fix this.  Since
GLMMGibbs uses flat priors for fixed effects, the Credible intervals
for effects in a model with no random effects will be equal to the
frequentist confidence intervals produced by glm()

Best Wishes

Jonathan Myles

On Thu, 30 Aug 2001, Peter Baker wrote:

> Hi all
> 
> I know GLMMGibbs is still in beta but has anyone experienced (and
> solved ;-) this problem?
> 
> I decided to look at the seeds example but I get a core dump on two
> intel linux boxes and also a sun workstation. All are running R1.3.0
> but different hardware/OS's so I think I've done something wrong
> 
> > library(GLMMGibbs)
> > data(seeds)
> > seeds$plate <- as.factor(1:21)
> > seeds$plate <- Ra(data=seeds$plate, shape=0.001, scale=0.001,
> +                   type="identity", contrast="sum", of.interest=F)
> > gseeds.1 <- glmm(formula=cbind(r,n-r) ~ x1 + x2, data=seeds, family=binomial,
> +                store.results=T, icm=500, burnin=1000, keep=20000,
> +                progress.info=500, thin=5)
> Segmentation fault (core dumped)
> 
> > version
>          _
> platform i686-pc-linux-gnu
> arch     i686
> os       linux-gnu
> system   i686, linux-gnu
> status
> major    1
> minor    3.0
> year     2001
> month    06
> day      22
> language R
> 
> $ cat /etc/issue
> Red Hat Linux release 6.2 (Zoot)
> Kernel 2.2.16-3 on an i686
> 
> Suggestions welcome
> 
> Thanks
> Peter
> 
> -- 
> Dr Peter Baker, Statistician (Bioinformatics/Genetics),
> CSIRO Mathematical & Information Sciences, 233 Middle St/
> PO Box 120, CLEVELAND, QLD 4163 Australia.
> Email: Peter.Baker at cmis.csiro.au
> Phone:+61 7 3826 7263 Fax:+61 7 3826 7304
> 
> 
> 
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markhall at gol.com  Tue Sep  4 12:33:00 2001
From: markhall at gol.com (Mark Hall)
Date: Tue, 4 Sep 2001 19:33:00 +0900
Subject: [R] Newsgroup - another try?
References: <D16B18FFF743D311A9CA0090275F3CB004384841@arcss07.arcs.ac.at>
Message-ID: <009101c1352e$163319e0$a114d8cb@01680437>




| As nobody seems to answer my request, I simply post it again.
| Is there any reason why the r-help-mailinglist should not be converted to
a
| newsgroup?

Not that my opinion means much, but:

1.  The few newsgroups I tried seemed to be littered with spam, porno, etc.,
despite being on academic topics.  The only ones that seem not to be that
way are moderated ones.


2. | -) the discussion is faster (I experience that the R-mailinglist has a
lag
| of about 1 to 2 hours (not for everyone!!!). When I ask a question, I get
| sometimes a rather quick response by direct mail, but I recieve my own
| question and the answers about 1 to 2 hours later).

Well, for me, it hasn't been that long of a wait.  I could also funnily ask,
coming from one of my old professors---"What's the rush, are you launching
nuclear missles or does someone's life hang in the balance?"

3.  Hence it is not possible
| for all to participate in a discussion.
| -) a newsgroup allows you to order the messages in threads, so you can
| easily follow the discussion.

There seems to be a healthy amount of discussion and comment IMO.

4.  A final thing, not all servers can access all news groups. E-mail
doesn't have that problem.

Best, Mark Hall


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Tue Sep  4 14:03:58 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Tue, 4 Sep 2001 14:03:58 +0200
Subject: [R] Newsgroup - another try?
In-Reply-To: <x2pu97thp6.fsf@blueberry.kubism.ku.dk>
Message-ID: <MABBLJDICACNFOLGIHJOMEHFCFAA.phgrosje@ulb.ac.be>

I think the real problem is the exponentially growing success of R and thus,
of R-help mailing list. A mailing list with less than 5 messages per days is
OK. But with 20 or more, it becomes a problem... People with slow internet
access that connect every week or so could have thousands of mails waiting
on the server when they subscribe to huge mailing lists.

I am happy with this mailing list, because I am connected all day long...
But as always, if someone complains and prefer a newsgroup, then he could do
the job himself and propose one... This is how GPL works for code, and it's
the same for "technical support": for users, by users. Isn't it?

All the best,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jconnor at bio.ri.ccf.org  Tue Sep  4 14:17:58 2001
From: jconnor at bio.ri.ccf.org (Jason Connor)
Date: Tue, 4 Sep 2001 08:17:58 -0400 (EDT)
Subject: [R] evaluation is nested too deeply: infinite recursion? 
Message-ID: <Pine.SOL.3.96.1010904081329.15841L-100000@foster>


I recently started using R (Version 1.3.0 on a Dell machine).  After using
R for about a week, I started receiving the error message shown below.
I can't even run simple commands that I know should work.  

Is this a bug or did I just mess something up? I've uninstalled and
reinstalled R but continue to receive the same errors.   

The errors are shown below:


R : Copyright 2001, The R Development Core Team
Version 1.3.0  (2001-06-22)

>  
> help(sum)
Error in as.double.default(U) : evaluation is nested too deeply: infinite recursion?
> lm(rnorm(100)~rnorm(100))
Error in as.vector(data) : evaluation is nested too deeply: infinite recursion?
>  


Thank you very much for considering my problem.

Jason


From maechler at stat.math.ethz.ch  Tue Sep  4 14:19:50 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 4 Sep 2001 14:19:50 +0200
Subject: [R] Newsgroup - another try?
In-Reply-To: <D16B18FFF743D311A9CA0090275F3CB004384841@arcss07.arcs.ac.at>
References: <D16B18FFF743D311A9CA0090275F3CB004384841@arcss07.arcs.ac.at>
Message-ID: <15252.50918.433346.673821@gargle.gargle.HOWL>

>>>>> "ThomasP" == Pesl Thomas <thomas.pesl at arcs.ac.at> writes:

    ThomasP> Is there any reason why the r-help-mailinglist should not be
    ThomasP> converted to a newsgroup?

    ThomasP> These were the advantages of a newsgroup I mentioned earlier:

        ThomasP>   ....

    ThomasP> -) the discussion is faster (I experience that the R-mailinglist
    ThomasP>    has a lag of about 1 to 2 hours (not for everyone!!!).

        ThomasP>   ....

    ThomasP> Now I find that my lag is increasing (up to 4 hours). 

Almost every point has been answered/discussed already.

Just a remark from the mailing list maintainer on the (non)-speed of R-help:

Yes, the delays are longer than they should; if you subscribed late (in the
history of R) and as first person from your "e-mail domain",
you will have longer delays than others.

It is our server (and its setup of "sendmail") which is not faster, but at 
least it's one where I have lots of control.  
Setting up and configuring the basic mail service is not my business though.   

I have tried to use an alternative to sendmail ("bulkmail") for a mailing
list `explosion', but that failed for obscure reasons that I didn't want to
follow up back then.  The situation *will* improve hopefully within the
next few months for another reason: The mail server has currently too many
duties (including CRAN.ch) and hopefully will soon be retired from one of
its major tasks, and hence be speedier in mail handling.
BTW: We have currently 822 adresses subscribed to R-help and 568 to R-announce
     (which is gatewayed into R-help). If I add R-devel and the *-digest
     lists and uniqify the subscribed addresses, we currently have 1338 unique
     subscriber addresses (up from 1119 as of Feb.2, when I started
     collecting the combined statistics).

As to your delays, Thomas, here are the facts :

  > ## Data from Aug.18 -- Sept.4, 2001 [13:45]
  > ## On Server:
  > ## 1)
  > ##   grep -i 'pesl.*delay' /var/log/syslog > syslog-pesl
  > ##  zgrep -i 'pesl.*delay' /var/log/SYSLOG/syslog.2001.Aug.25.gz > syslog-pesl-1
  > ## 2) Using Emacs on these two:
  > ##  i. goto beginning   (query-replace-regexp ".*, delay=" "" nil)
  > ##  ii.goto beginning   (query-replace-regexp ",.*" "" nil)
  > ## Result of both files concatenated in to this one:
  > str(del.pesl <- scan("/u/maechler/Mail/MISC/syslog-pesl-delays", what = ""))
  Read 151 items
   chr [1:151] "00:25:52" "02:44:42" "03:03:42" "03:08:49" "02:38:14" ...
  > str(ll.d <- strsplit(del.pesl, ":"))#- all sublists of length 3
  List of 151
   $ : chr [1:3] "00" "25" "52"
   $ : chr [1:3] "02" "44" "42"
   $ : chr [1:3] "03" "03" "42"
   $ : chr [1:3] "03" "08" "49"
   ..........
   $ : chr [1:3] "02" "47" "01"
   $ : chr [1:3] "02" "33" "59"
   $ : chr [1:3] "02" "28" "42"
  > str(secs <- sapply(ll.d, function(ch3) c(as.integer(ch3) %*% c(3600, 60, 1))))
   num [1:151]  1552  9882 11022 11329  9494 ...
  > dSecs <- structure(secs, units = "secs", class = "difftime")

    ## too bad, we don't have a nice  summary.difftime()  yet ...

  > summary(dSecs) / 3600
     Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
    0.179   2.200   2.336   2.275   2.558   3.583 

so, it's 2:20 that you have to suffer on the `average' which seems
well bearable. As you point out yourself: If you post yourself, you get
answers by direct e-mail very quickly. For everything else, the people who
are on the train for a longer time will have the opportunity to answer
before the newcomers -- which I think is not bad.

By the way, there are quite a few subscribers to "r-help-digest" which is
the digest version of R-help arriving (at most) 6 times a week only.  They
know they lag behind and still sometimes react very helpfully.

Regards,
Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep  4 14:59:21 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Sep 2001 14:59:21 +0200
Subject: [R] evaluation is nested too deeply: infinite recursion?
In-Reply-To: <Pine.SOL.3.96.1010904081329.15841L-100000@foster>
References: <Pine.SOL.3.96.1010904081329.15841L-100000@foster>
Message-ID: <x28zfvt8ly.fsf@blueberry.kubism.ku.dk>

Jason Connor <jconnor at bio.ri.ccf.org> writes:

> I recently started using R (Version 1.3.0 on a Dell machine).  After using
> R for about a week, I started receiving the error message shown below.
> I can't even run simple commands that I know should work.  

A Dell machine running Windows? (As opposed to the Dell running Linux
which I'm currently looking at.)

> Is this a bug or did I just mess something up? I've uninstalled and
> reinstalled R but continue to receive the same errors.   
> 
> The errors are shown below:

> 
> R : Copyright 2001, The R Development Core Team
> Version 1.3.0  (2001-06-22)
> 
> >  
> > help(sum)
> Error in as.double.default(U) : evaluation is nested too deeply: infinite recursion?
> > lm(rnorm(100)~rnorm(100))
> Error in as.vector(data) : evaluation is nested too deeply: infinite recursion?

Hum. Something like this might happen if you set
options(expression=25) or so. Might something like this be lurking in
a workspace you load on startup?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From v_bill_pikounis at merck.com  Tue Sep  4 15:17:37 2001
From: v_bill_pikounis at merck.com (Pikounis, V. Bill)
Date: Tue, 04 Sep 2001 09:17:37 -0400
Subject: [R] job opening: Merck basic research
Message-ID: <53E1616C2129D511BE8900508B68D472018694AE@usrymx09.merck.com>

This note is similar to a posting from last summer.  Apologies for
cross-posting to those on both lists.

There is currently one position available.

Please direct all inquiries to Vladimir Svetnik, vladimir_svetnik at merck.com
;
his US Mail address and phone number given below.  Any replies directed to
me
will just be forwarded to him.

Thank you.

###################
STATISTICIAN / DATA ANALYST
Merck Research Labs

Position Description:

The Biometrics Research Department at Merck Research Laboratories, Merck &
Co., Inc. in Rahway, NJ is seeking a highly motivated statistician/data
analyst to work in its basic research and drug discovery area.  Primary
responsibilities include collaborating with scientists on experimental
design
and data analyses, developing statistical and exploratory data analysis
software, developing new statistical methodology, and co-authoring research
presentations and publications.

We collaborate with scientists in a wide range of disciplines, including
biology, biochemistry, genomics, bioinformatics, analytical chemistry,
chemical engineering, bioprocess development, veterinary medicine, and
molecular systems, among others. Good oral and written communications
abilities are therefore essential, as is the desire to learn enough of the
relevant science to interact effectively.

A Ph.D. or equivalent in statistics (such as Masters with substantial
experience) or a related area is required. More specifically, we seek a
statistical scientist with strength in modern methods (cf. Venables and
Ripley, MASS, 1994-9) for the design and analysis of complex studies and the
analysis of large, complex, and "messy" data sets. Some of the specific
statistical areas covered by this description include data visualization,
multivariate non-parametric methods, pattern recognition, resistant/robust
methods, Bayesian methods, nonlinear mixed effect modeling, and
chemometrics. For the data visualization portion in particular, we expect
someone well versed in data graph principles and their applications for
study
and presentation (cf.  Tukey, Tufte, and Cleveland.)

Equally important, we seek someone able and constantly eager to extend and
broaden their statistical and computing expertise to meet new
challenges. Ongoing education is a vital part of the job.

Excellent software skills are essential. Facility in the S Language, either
S-PLUS or R, is required.  Familiarity with other statistical and
mathematical
software (e.g. Matlab, Mathematica) would be a plus, as would experience in
any of C/C++, SQL, or Java. Our computing environment is a mixture of Linux
and Windows operating systems.

Prior experience in the pharmaceutical or related (diagnostic, chemical)
research would be helpful but is not essential. Formal education in
non-statistical areas like biology, chemistry, or computer science would
also
be a big plus.

If you believe that your interests and background might match our needs
please
hardcopy mail your CV or resume and a cover letter to

ATTENTION: Open Position
Vladimir Svetnik, Ph.D.
Biometrics Research Dept.
Merck Research Laboratories, MailDrop RY70-38
126 E. Lincoln Avenue
Rahway, NJ 07065-0900

You can also submit electronically to vladimir_svetnik at merck.com .

(Please note the MailDrop portion is **crucial**).

Feel free to include the URL of a personal web page with additional
information. 

Thank you very much. 

______________________________
Bill Pikounis, Ph.D.
   E-mail: v_bill_pikounis at merck.com
   Phone: 732.594.3913
   Fax:  732.594.1565

Merck Research Laboratories
P.O. Box 2000, MailDrop RY70-38
126 E. Lincoln Ave
Rahway, NJ 07065-0900


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Tue Sep  4 15:23:30 2001
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Tue, 04 Sep 2001 09:23:30 -0400
Subject: [R] Newsgroup - another try?
References: <D16B18FFF743D311A9CA0090275F3CB004384841@arcss07.arcs.ac.at>
Message-ID: <3B94D5D2.7A79DA4C@umsanet.edu.bo>

One reason not to convert the r-help mailing list into a newsgroup:
Newsgroups are not accesible in all countries.

Kjetil Halvorsen


Pesl Thomas wrote:
> 
> As nobody seems to answer my request, I simply post it again.
> Is there any reason why the r-help-mailinglist should not be converted to a
> newsgroup?
> 
> These were the advantages of a newsgroup I mentioned earlier:
> -) you can easily search the archives
> -) the discussion is faster (I experience that the R-mailinglist has a lag
> of about 1 to 2 hours (not for everyone!!!). When I ask a question, I get
> sometimes a rather quick response by direct mail, but I recieve my own
> question and the answers about 1 to 2 hours later). Hence it is not possible
> for all to participate in a discussion.
> -) a newsgroup allows you to order the messages in threads, so you can
> easily follow the discussion.
> 
> Now I find that my lag is increasing (up to 4 hours). I do not believe that
> there would be any sense for me in replying on a question, when there have
> already replied some other people (what I do not know at that time). But
> maybe it would make because nobody has replied yet. How should I know?
> 
> Thomas Pesl
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Tue Sep  4 15:26:50 2001
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Tue, 04 Sep 2001 09:26:50 -0400
Subject: AW: [R] Newsgroup - another try?
References: <D16B18FFF743D311A9CA0090275F3CB004384853@arcss07.arcs.ac.at>
Message-ID: <3B94D69A.37C532AA@umsanet.edu.bo>



Pesl Thomas wrote:
> 
> | I can think of two disadvantages of a newsgroup
> |
> | 1) Access
> | Everyone with an email address can sub_scribe to the R mailing lists.
> | However, not everyone has a news feed. I don't.
> 
> Everyone who has access to the internet can also have a news-account. There

Last I tried to find one (long time ago) it was or to slow or only with
access for a certain geographical area. I dont know of any news-feed 
located in latin America. 

Kjetil Halvorsen.

> are a lot of good free news-servers (most of the time hosted by
> universities), and on the client-site you can often use your mail-program
> (e.g. OE) if you do not want to buy a program.
> 
> | 2) Control
> | Moving to a news group means giving up control over the list.
> | For example, Martin Maechler has put excellent spam filters in place
> | and we certainly wouldn't have those any more.
> AFAIK newsgroups can be moderated, too. That should mean, that it is
> possible to apply the same filters.
> I am subscribed to different newsgroups and none of these have any problem
> with spam.
> 
> By the way: At this point I have not recieved my own question.
> 
> Thomas
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at perseus.unalmed.edu.co  Tue Sep  4 16:08:04 2001
From: krcabrer at perseus.unalmed.edu.co (Kenneth Cabrera)
Date: Tue, 04 Sep 2001 09:08:04 -0500
Subject: [R] Newsgroup - another try?
References: <D16B18FFF743D311A9CA0090275F3CB004384841@arcss07.arcs.ac.at> <3B94D5D2.7A79DA4C@umsanet.edu.bo>
Message-ID: <3B94E044.2FC07125@perseus.unalmed.edu.co>



kjetil halvorsen wrote:

> One reason not to convert the r-help mailing list into a newsgroup:
> Newsgroups are not accesible in all countries.
>
> Kjetil Halvorsen

Thank you Kjetil, I agree with you.
My internet server do not have a newsgroup systems.
So, please do not convert R help list in a newsgroup.

Thank you!

>
>
> Pesl Thomas wrote:
> >
> > As nobody seems to answer my request, I simply post it again.
> > Is there any reason why the r-help-mailinglist should not be converted to a
> > newsgroup?
> >
> > These were the advantages of a newsgroup I mentioned earlier:
> > -) you can easily search the archives
> > -) the discussion is faster (I experience that the R-mailinglist has a lag
> > of about 1 to 2 hours (not for everyone!!!). When I ask a question, I get
> > sometimes a rather quick response by direct mail, but I recieve my own
> > question and the answers about 1 to 2 hours later). Hence it is not possible
> > for all to participate in a discussion.
> > -) a newsgroup allows you to order the messages in threads, so you can
> > easily follow the discussion.
> >
> > Now I find that my lag is increasing (up to 4 hours). I do not believe that
> > there would be any sense for me in replying on a question, when there have
> > already replied some other people (what I do not know at that time). But
> > maybe it would make because nobody has replied yet. How should I know?
> >
> > Thomas Pesl
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Tue Sep  4 16:48:45 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Tue, 4 Sep 2001 10:48:45 -0400 (EDT)
Subject: [R] Newsgroup - another try?
Message-ID: <200109041448.f84Emjl25052@cattell.psych.upenn.edu>

After reading all this, I have come to the conclusion that
a newsgroup would present many obstacles.  I would support
it if it were started, but it seems clear that some sort of
mailing list is still needed.  Mail-news gateways are also
more complicated than they may appear.  (My university has
all but abolished them because of excessive demands for
staff support from people who try to use them.)

Thus, I am planning to try to set up the mail archives so
that they are searchable with HtDig.  I'm not sure that this
can be done (by me), but I thought that I ought to say that
I intend to try.  I already have HtDig set up for R
documents at http://finzi.psych.upenn.edu (which does not
always have its power turned on, but I guess it will once I
do this, if I do).

Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Tue Sep  4 16:55:39 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 04 Sep 2001 10:55:39 -0400
Subject: [R] Newsgroup - another try?
In-Reply-To: <D16B18FFF743D311A9CA0090275F3CB004384841@arcss07.arcs.ac.at>
References: <D16B18FFF743D311A9CA0090275F3CB004384841@arcss07.arcs.ac.at>
Message-ID: <2lp9pt0hkkq72ha1jff9eand2vlh310c4c@4ax.com>

On Tue, 4 Sep 2001 10:44:05 +0200 , you wrote in message
<D16B18FFF743D311A9CA0090275F3CB004384841 at arcss07.arcs.ac.at>:

>As nobody seems to answer my request, I simply post it again.
>Is there any reason why the r-help-mailinglist should not be converted to a
>newsgroup?

I agree that a moderated newsgroup would be preferable to the current
mailing list.  The main benefit I see is that the mailing list tends
to fill up my inbox, while a newsgroup is held on the server.  This
isn't a problem when I'm at home (I have a fast connection and my mail
reader can sort things reasonably well), but when I'm travelling I
have to use what's available, and often have substantial delays while
it downloads dozens or hundreds of messages.

The obstacles I see are mainly in terms of time:

 - To be useful, the mailing list should be in the main hierarchy.  It
takes  a fair bit of time and effort to create a newsgroup there.
Here is a description of the process:
<http://www.faqs.org/faqs/usenet/creating-newsgroups/part1/>.  Other
FAQs describe various aspects of the process.

 - Because of spam, it would need a moderator.  There is
robo-moderation software, but someone needs to know how to use it and
be willing to commit the time to make sure it runs smoothly.

 - The knowledgeable and helpful participants in the mailing list are
all very busy, and have well established routines that work with the
mailing list.  They're likely to be unwilling to change their routines
for no perceived gain, so you may have trouble finding knowledgeable
participants for the newsgroup.

It's also possible to set up a local mail to news gateway, so that the
mailing list appears to local users at your site as a newsgroup; if
you do that, please make sure that posting is only allowed from local
users (or your site will become a source of spam on the mailing list).

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Tue Sep  4 17:02:12 2001
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Tue, 4 Sep 2001 17:02:12 +0200 (MET DST)
Subject: [R] Newsgroup - another try?
In-Reply-To: <3B94E044.2FC07125@perseus.unalmed.edu.co>
Message-ID: <Pine.OSF.4.30.0109041641080.20917-100000@alnair.uio.no>

On Tue, 4 Sep 2001, Kenneth Cabrera wrote:

>
>
>kjetil halvorsen wrote:
>
>> One reason not to convert the r-help mailing list into a newsgroup:
>> Newsgroups are not accesible in all countries.
>
>Thank you Kjetil, I agree with you.
>My internet server do not have a newsgroup systems.

I must say, I find it completely unthinkable that you do not have access
to USENET... I know that around 1994 had many nice conversations with
people from Mexico on USENET, and I thought I met people from Colombia
too. Of course, since then, the signal to noise ratio on USENET has
dropped significantly, so I guess spammers may effectively have shut down
USENET servers in Latin America.

However, if all else fails, you can connect to http://groups.google.com/
...? I would find it incredible if you couldn't connect to USENET there...

You see, when I get my own system running, I'll drop the newsfeed myself,
and use Google groups.

>So, please do not convert R help list in a newsgroup.

I don't think that was actually the proposal. Both would exist, it is just
that those who find a newsgroup more convenient can use a newsgroup, and
those who like e-mail can use e-mail. However, with the number of votes
needed for the creation of a newsgroup, quite a number of people would
have to support the idea.

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://folk.uio.no/kjetikj/>
Webmaster at skepsis.no                            OpenPGP KeyID: 6A6A0BBC

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep  4 17:10:36 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Sep 2001 17:10:36 +0200
Subject: [R] Newsgroup - another try?
In-Reply-To: <2lp9pt0hkkq72ha1jff9eand2vlh310c4c@4ax.com>
References: <D16B18FFF743D311A9CA0090275F3CB004384841@arcss07.arcs.ac.at>
	<2lp9pt0hkkq72ha1jff9eand2vlh310c4c@4ax.com>
Message-ID: <x2zo8brnyr.fsf@blueberry.kubism.ku.dk>

Duncan Murdoch <murdoch at stats.uwo.ca> writes:

> It's also possible to set up a local mail to news gateway, so that the
> mailing list appears to local users at your site as a newsgroup; if
> you do that, please make sure that posting is only allowed from local
> users (or your site will become a source of spam on the mailing list).

And be very VERY careful to avoid feeding incoming mail back as new
messages to the list. I have seen this happen several times on other
lists. It can create tons of duplicate messages in no time....

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jg_liao at yahoo.com  Tue Sep  4 17:13:55 2001
From: jg_liao at yahoo.com (Jason Liao)
Date: Tue, 4 Sep 2001 08:13:55 -0700 (PDT)
Subject: [R] fastest way to multiply each column of a matrix by a single vlaue
In-Reply-To: <Pine.GSO.4.31.0109040644290.7740-100000@auk.stats>
Message-ID: <20010904151355.22598.qmail@web10508.mail.yahoo.com>

Thanks, Prof. Ripley! That is really helpful.

Jason Liao

--- Prof Brian D Ripley <ripley at stats.ox.ac.uk> wrote:
> On Mon, 3 Sep 2001, Jason Liao wrote:
> 
> > Let A be a m by n matrix and b a length n vector. What is the
> fastest
> > vectorized code for doing
> >
> > for(j in 1:n) A[, j] <- A[, j]/b[j]   ?
> >
> > solution 1:
> >
> > t(t(A)/b)
> >
> > solution 2:
> >
> > B <- matrix( rep(b, m), byrow=T, nrow=m )
> > A/B
> 
> You don't need the rep because of the re-cycling rule.  Either
> 
> B <- matrix(b, m, n, byrow=T)
> 
> or, a litle faster
> 
> A/rep(b, rep(m, n))
> 
> 
> You'll find the S/R system code uses the last most often.
> 
> [...]
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 


=====
Jason G. Liao
Department of Biometry and Epidemiology
Medical University of South Carolina
135 Rutledge Ave., STE 1148, Charleston, SC 29425
phone (843) 876-1114, fax (843) 876-1126

http://www.geocities.com/jg_liao/index.html

__________________________________________________
Do You Yahoo!?
Get email alerts & NEW webcam video instant messaging with Yahoo! Messenger
http://im.yahoo.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jg_liao at yahoo.com  Tue Sep  4 17:13:55 2001
From: jg_liao at yahoo.com (Jason Liao)
Date: Tue, 4 Sep 2001 08:13:55 -0700 (PDT)
Subject: [R] fastest way to multiply each column of a matrix by a single vlaue
In-Reply-To: <Pine.GSO.4.31.0109040644290.7740-100000@auk.stats>
Message-ID: <20010904151355.22598.qmail@web10508.mail.yahoo.com>

Thanks, Prof. Ripley! That is really helpful.

Jason Liao

--- Prof Brian D Ripley <ripley at stats.ox.ac.uk> wrote:
> On Mon, 3 Sep 2001, Jason Liao wrote:
> 
> > Let A be a m by n matrix and b a length n vector. What is the
> fastest
> > vectorized code for doing
> >
> > for(j in 1:n) A[, j] <- A[, j]/b[j]   ?
> >
> > solution 1:
> >
> > t(t(A)/b)
> >
> > solution 2:
> >
> > B <- matrix( rep(b, m), byrow=T, nrow=m )
> > A/B
> 
> You don't need the rep because of the re-cycling rule.  Either
> 
> B <- matrix(b, m, n, byrow=T)
> 
> or, a litle faster
> 
> A/rep(b, rep(m, n))
> 
> 
> You'll find the S/R system code uses the last most often.
> 
> [...]
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 


=====
Jason G. Liao
Department of Biometry and Epidemiology
Medical University of South Carolina
135 Rutledge Ave., STE 1148, Charleston, SC 29425
phone (843) 876-1114, fax (843) 876-1126

http://www.geocities.com/jg_liao/index.html

__________________________________________________
Do You Yahoo!?
Get email alerts & NEW webcam video instant messaging with Yahoo! Messenger
http://im.yahoo.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Tue Sep  4 17:14:30 2001
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Tue, 04 Sep 2001 17:14:30 +0200
Subject: [R] Newsgroup - another try?
Message-ID: <3.0.32.20010904171429.00911950@162.38.183.200>

			  [Manually approved by MM;
			   had `majordomo buzzwords' in text]

My grain of salt on this issue...

I find the flow of messages coming from r-help very manageable... except
probably on Monday morning :-( (too many statisticians work during the
week-end!). I tend to un-subscribe from the list when I am away from my lab
more than a week.

Fortunately, most users put meaningful "Subject" in their messages, so that
it is easy to sort the incoming messages that could be interesting, or for
which I could contribute anything.

Regarding the delay between queries and replies, I often receive the latter
before the former. Thus, when I receive a query with no reply, I assume
nobody has yet answered, and I try to do it if I can.

Finally, the list archives are indeed a useful source of information. I
recently needed a function to compute Moran's test and found it there
(thanks to Ben Bolker). If I un-subscribe, I sometimes drop an eye on the
most recent messages in the archives to see what are the recent gossips.

Emmanuel Paradis

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Sep  4 17:30:25 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 4 Sep 2001 08:30:25 -0700 (PDT)
Subject: [R] Newsgroup - another try?
In-Reply-To: <Pine.OSF.4.30.0109041215020.20917-100000@alnair.uio.no>
Message-ID: <Pine.A41.4.33.0109040814590.50656-100000@homer09.u.washington.edu>

On Tue, 4 Sep 2001, Kjetil Kjernsmo wrote:
>
> >    Some lists solve this by a
> >    bidirectional mail-to-news gateway, but it is not without problems.
>
> I haven't seen any problems with a bidirectional mail<->news gateway. It
> seems unproblematic to me... What are the problems?

The problems are greatest when adding a mail gateway to a newsgroup rather
than the other way around. Many email clients don't preserve the necessary
information for proper threading.  If you look at eg sci.stat.consult,
which is gatewayed, it is less well threaded than the R-help archives. The
other, less relevant, problem is that you can't crosspost with email,
only multipost.


	-thomas


Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hlmotor at hotmail.com  Tue Sep  4 18:35:22 2001
From: hlmotor at hotmail.com (hlmotor@hotmail.com)
Date: Wed, 5 Sep 2001 00:35:22 +0800
Subject: [R] DC/AC motor sale
Message-ID: <200109041627.SAA08545@stat.math.ethz.ch>

Hing Lung Motor Mfy,   New Offer   Aug-2001
http://www.hinglungmotor.com.hk     hlmotor at hkstar.com     hlmotor at i-cable.com     Fax: 852-24817148
NO: HL101-D-D8xH6 VIBRATER MOTOR 
SIZE:  20 x 15.5 x H25 MM
PRICE:  US$ 0.13/PCNO: HL307 MOTOR 
SIZE: D12 x 19.5 MM
PRICE: US$ 0.38/PC
NO: HL1011-DC  SCOOTER MOTOR 
SIZE: D100 x H70 MM
OUTPUT: 95 W
PRICE: US$ 13.50/PCNO: HL200 GENERATOR MOTOR 
SIZE: D30.5 x H13 MM
PRICE: US$ 2.30/PC
 
WE PRODUCE MORE THAN 50 DIFFERENT DESIGN  
AND SIZE OF AC/DC MOTORS, THEY ARE SUITABLE 
FOR OPERATION TOYS, HOUSEHOLD APPLIANCES, 
RECORDS, SCOOTER, VIBRATOR, GENERATOR ETC.
?@
 -----ANY ENQUIRY ARE WELCOME-----
?@
?@

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010905/e60ecd35/attachment.html

From xyzzy at speakeasy.org  Tue Sep  4 18:36:54 2001
From: xyzzy at speakeasy.org (Trent Piepho)
Date: Tue, 4 Sep 2001 09:36:54 -0700 (PDT)
Subject: [R] Newsgroup - another try?
In-Reply-To: <Pine.OSF.4.30.0109041641080.20917-100000@alnair.uio.no>
Message-ID: <Pine.LNX.4.04.10109040935320.32538-100000@xyzzy.dsl.speakeasy.net>

On Tue, 4 Sep 2001, Kjetil Kjernsmo wrote:
> I don't think that was actually the proposal. Both would exist, it is just
> that those who find a newsgroup more convenient can use a newsgroup, and
> those who like e-mail can use e-mail. However, with the number of votes
> needed for the creation of a newsgroup, quite a number of people would
> have to support the idea.

You don't need votes to create an alt.* group, you just do it.  That's why
there are thousands of useless alt groups with nothing but spam in them.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikalzet at libero.it  Tue Sep  4 21:48:22 2001
From: mikalzet at libero.it (mikalzet@libero.it)
Date: Tue, 4 Sep 2001 21:48:22 +0200 (CEST)
Subject: [R] R-1.3.1 for Mandrake 8.0 available on CRAN
In-Reply-To: <200109031241.f83CfUr29871@mail.mclink.it>
Message-ID: <Pine.LNX.4.33L2.0109042146500.1783-100000@localhost.localdomain>


The R-base and R-recommended 1.3.1 rpm's for mandrake 8.0 are now
available on CRAN.

-- 
Dr. Michele Alzetta

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a-malagoli at uchicago.edu  Tue Sep  4 22:16:16 2001
From: a-malagoli at uchicago.edu (Andrea Malagoli)
Date: Tue, 4 Sep 2001 15:16:16 -0500
Subject: [R] R under Win2k
Message-ID: <004701c1357e$73e6c6e0$86988780@liturchi>

I have tried to compile R-1.3.1 under the Cygwin environment, but it does
not
seem to work, although the option is there. Must I use Mingw32?

At the same time, I cannot figure out how to build packages from sources
under Win32.

Are there examples on how to do this?

Thanks.
- Andrea Malagoli
  Universtiy of Chicago

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep  4 23:31:37 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 4 Sep 2001 22:31:37 +0100 (BST)
Subject: [R] broken Cygwin environments (was R under Win2k)
In-Reply-To: <004701c1357e$73e6c6e0$86988780@liturchi>
Message-ID: <Pine.GSO.4.31.0109042222320.617-100000@auk.stats>

On Tue, 4 Sep 2001, Andrea Malagoli wrote:

> I have tried to compile R-1.3.1 under the Cygwin environment, but it does
> not
> seem to work, although the option is there. Must I use Mingw32?

Hint: The file you are looking for is called INSTALL, which says

  It *might* also be possible to use the compilers from the cygwin 1.1 net
  release with the -mno-cygwin -mwin32 flags; the current versions use
  mscrt.dll.  (You will need the cygwin, gcc, mingw32, w32api and
  binutils bundles.  All the recent versions we have tried do not work
  unchanged with -mno-cygwin.)

Hint, hint: you need to mend the Cygwin environment, and I'm not going
tell you how to do it, as my patches were rejected by the maintainers
(with comments to the cygwin list, but not even copied to me).

Most of us prefer to use working tools, but it's not compulsory.


Please use a less misleading subject line.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From csprin at brandybuck.ca.sandia.gov  Wed Sep  5 00:36:27 2001
From: csprin at brandybuck.ca.sandia.gov (Clayton Springer)
Date: Tue, 4 Sep 2001 15:36:27 -0700
Subject: [R] searching the r-help list
Message-ID: <20010904153627.A11662@brandybuck>

Do those who have had trouble finding stuff in the R-archive

used the search engine?

http://www.scirus.com/

And as far as threading goes. My mailler "mutt" threads the
mailing list quite nicely.

--Clayton


-- 
Clayton Springer, Ph. D.
Sandia National Laboratories                      csprin at ca.sandia.gov
Biosystems Research Department                    (925) 294-2143
P.O. Box 969, MS 9951                fax:         (925) 294-3020
Livermore, CA, 94551-0969

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Wed Sep  5 00:51:02 2001
From: aolinto at bignet.com.br (Antonio Olinto)
Date: Tue, 4 Sep 2001 19:51:02 -0300
Subject: [R] data manipulation
Message-ID: <001401c13594$3eef8100$ae54fea9@nautilus>

Dear R-list members,

Here goes a simple question that I could not solve: I want to delete a row
in a data frame.
Suppose rows 5 and 9 are out-layers and I want to take them out from a data
frame named "length1.dat":

       LT   LF
 1    335 320
 2    340 335
 3    360 355
 4    370 365
 5    376 310
 6    388 378
 7    395 385
 8    400 390
 9    400 410
10   405 392

I tried to make another data frame:

length2.dat <- data.frame(subset(length1.dat,select=-[5,])) # to take out
the 5th row

and also ... select= [-c(5,)] ... [-5,-9] ... many other variations, without
success.

I?d be thankful to receive any help. I have printed Maindonald?s ?Using R
...? and Verzani?s ?simpleR? but I could not find any hint on this matter.

Thanks in advance,

Antonio Olinto
Fisheries Institute
Sao Paulo - BRAZIL


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.S.Cowpertwait at massey.ac.nz  Wed Sep  5 01:56:43 2001
From: P.S.Cowpertwait at massey.ac.nz (Cowpertwait, Paul)
Date: Wed, 5 Sep 2001 11:56:43 +1200 
Subject: [R] data manipulation
Message-ID: <98B01D2717B9D411B38F0008C784093164D092@its-xchg2.massey.ac.nz>

Antonio,

This seems to work (but you may want to adjust the resulting column names):

length2.dat <- data.frame(cbind(length1.dat$LT[-c(5,6)],
length1.dat$LF[-c(5,6)]))

_____________________________________

Paul S.P. Cowpertwait
IIMS, Massey University, Albany, 
Private Bag 102 904 
North Shore Mail Centre
Auckland, NZ
Tel (+64) (9) 443 9799 ext 9488

http://www.massey.ac.nz/~pscowper
_____________________________________
 

-----Original Message-----
From: Antonio Olinto [mailto:aolinto at bignet.com.br]
Sent: Wednesday, 5 September 2001 10:51
To: R-help
Subject: [R] data manipulation


Dear R-list members,

Here goes a simple question that I could not solve: I want to delete a row
in a data frame.
Suppose rows 5 and 9 are out-layers and I want to take them out from a data
frame named "length1.dat":

       LT   LF
 1    335 320
 2    340 335
 3    360 355
 4    370 365
 5    376 310
 6    388 378
 7    395 385
 8    400 390
 9    400 410
10   405 392

I tried to make another data frame:

length2.dat <- data.frame(subset(length1.dat,select=-[5,])) # to take out
the 5th row

and also ... select= [-c(5,)] ... [-5,-9] ... many other variations, without
success.

I?d be thankful to receive any help. I have printed Maindonald?s ?Using R
...? and Verzani?s ?simpleR? but I could not find any hint on this matter.

Thanks in advance,

Antonio Olinto
Fisheries Institute
Sao Paulo - BRAZIL


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Robert.Denham at dnr.qld.gov.au  Wed Sep  5 02:36:57 2001
From: Robert.Denham at dnr.qld.gov.au (Robert.Denham@dnr.qld.gov.au)
Date: Wed, 5 Sep 2001 10:36:57 +1000 
Subject: [R] data manipulation
Message-ID: <CB3BE9CAB8C8D411AAF800805F65125AA913DB@INDPLLYMAIL>

Antonio,
       it is much simpler than that:
length2.dat <- length1.dat[-c(5,9),]

You can of course overwrite the existing dataframe if you want:

length1.dat <- length1.dat[-c(5,9),]

Robert Denham
Qld Dept. Natural Resources
Brisbane


>Dear R-list members,

> Here goes a simple question that I could not solve: I want to delete a row
> in a data frame.
> Suppose rows 5 and 9 are out-layers and I want to take them out from a
data
> frame named "length1.dat":

>       LT   LF
> 1    335 320
> 2    340 335
> 3    360 355
> 4    370 365
> 5    376 310
> 6    388 378
> 7    395 385
> 8    400 390
> 9    400 410
> 10   405 392

> Antonio Olinto
> Fisheries Institute
> Sao Paulo - BRAZIL



************************************************************************
The information in this e-mail together with any attachments is
intended only for the person or entity to which it is addressed
and may contain confidential and/or privileged material.

Any form of review, disclosure, modification, distribution
and/or publication of this e-mail message is prohibited.  

If you have received this message in error, you are asked to
inform the sender as quickly as possible and delete this message
and any copies of this message from your computer and/or your
computer system network.  
************************************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.S.Cowpertwait at massey.ac.nz  Wed Sep  5 05:12:34 2001
From: P.S.Cowpertwait at massey.ac.nz (Cowpertwait, Paul)
Date: Wed, 5 Sep 2001 15:12:34 +1200 
Subject: [R] Fitting distributions
Message-ID: <98B01D2717B9D411B38F0008C784093164D093@its-xchg2.massey.ac.nz>


Are there any functions in R for fitting distributions?  In particular, I
would like to fit the weibull and extreme-value distributions when:

i)  the data are given and the maximum likelihood estimates are required;

ii) the sample moments are available but the complete data record is not
(so moment estimates are required).

Any suggestions will be gratefully received.
_____________________________________

Paul S.P. Cowpertwait
IIMS, Massey University, Albany, 
Private Bag 102 904 
North Shore Mail Centre
Auckland, NZ
Tel (+64) (9) 443 9799 ext 9488

http://www.massey.ac.nz/~pscowper
_____________________________________
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Wed Sep  5 07:16:08 2001
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Wed, 05 Sep 2001 17:16:08 +1200
Subject: [R] Two-way tables of data, etc
Message-ID: <200109050517.RAA31004@gosset.stats.waikato.ac.nz>

Suppose I have a randomized block experiment with response vector y, treatment
factor A, and block factor B. How may I print out the data in a nice two-way
array?

Here is one solution that I found (data from Steel And Torrie):

block <- gl(4,6,24)
tnames <- c("Seedling","Early", "Full", "Full/100",
          "Ripening", "Uninoculated")
treat <- gl(6,1,24,label=tnames)
content <- scan()
4.4 3.3 4.4 6.8 6.3 6.4
5.9 1.9 4.0 6.6 4.9 7.3
6.0 4.9 4.5 7.0 5.9 7.7
4.1 7.1 3.1 6.4 7.1 6.7

content <- content+30
cmat <- matrix(content,nrow=4,ncol=6,byrow=T)
dimnames(cmat) <- list(NULL,tnames)
cmat


OK, but what if I wanted to do something similar for a two-way array with
multiple observations per cell? Or present the cell means? And what about
displaying multi-way arrays of data?

Murray Jorgensen


Dr Murray Jorgensen      http://www.stats.waikato.ac.nz/Staff/maj.html 
Department of Statistics, University of Waikato, Hamilton, New Zealand 
Email: maj at waikato.ac.nz                            Fax +64-7 838 4155
Phone +64-7 838 4773 home phone +64-7 856 6705  Mobile +64-21 139 5862

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep  5 07:42:56 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 5 Sep 2001 06:42:56 +0100 (BST)
Subject: [R] Two-way tables of data, etc
In-Reply-To: <200109050517.RAA31004@gosset.stats.waikato.ac.nz>
Message-ID: <Pine.GSO.4.31.0109050636000.749-100000@auk.stats>

On Wed, 5 Sep 2001, Murray Jorgensen wrote:

> Suppose I have a randomized block experiment with response vector y, treatment
> factor A, and block factor B. How may I print out the data in a nice two-way
> array?
>
> Here is one solution that I found (data from Steel And Torrie):
>
> block <- gl(4,6,24)
> tnames <- c("Seedling","Early", "Full", "Full/100",
>           "Ripening", "Uninoculated")
> treat <- gl(6,1,24,label=tnames)
> content <- scan()
> 4.4 3.3 4.4 6.8 6.3 6.4
> 5.9 1.9 4.0 6.6 4.9 7.3
> 6.0 4.9 4.5 7.0 5.9 7.7
> 4.1 7.1 3.1 6.4 7.1 6.7
>
> content <- content+30
> cmat <- matrix(content,nrow=4,ncol=6,byrow=T)
> dimnames(cmat) <- list(NULL,tnames)
> cmat
>
>
> OK, but what if I wanted to do something similar for a two-way array with
> multiple observations per cell? Or present the cell means? And what about
> displaying multi-way arrays of data?

xtabs(content ~ block + treat)

is almost what you gave, better labelled.

The obvious (to me) tools are xtabs and ftable to flatten arrays.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Wed Sep  5 07:47:50 2001
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Wed, 05 Sep 2001 17:47:50 +1200
Subject: [R] Two-way tables of data, etc
In-Reply-To: <Pine.GSO.4.31.0109050636000.749-100000@auk.stats>
References: <200109050517.RAA31004@gosset.stats.waikato.ac.nz>
Message-ID: <200109050548.RAA31064@gosset.stats.waikato.ac.nz>

At 06:42 AM 5-09-01 +0100, Prof Brian D Ripley wrote:

>xtabs(content ~ block + treat)
>
>is almost what you gave, better labelled.
>
>The obvious (to me) tools are xtabs and ftable to flatten arrays.

Yes, excellent. Thank you.

The beginning of the xtabs documentation is a little misleading, though, as it
runs

>
> xtabs
> {base}                                                                   
>            R Documentation
> Cross Tabulation
> Description
>
> Create a contingency table from cross-classifying factors, usually contained
> in a data frame, using a formula interface. 


and I normally expect a contingency table to contain counts.


Dr Murray Jorgensen      http://www.stats.waikato.ac.nz/Staff/maj.html 
Department of Statistics, University of Waikato, Hamilton, New Zealand 
Email: maj at waikato.ac.nz                            Fax +64-7 838 4155
Phone +64-7 838 4773 home phone +64-7 856 6705  Mobile +64-21 139 5862

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep  5 07:57:59 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 5 Sep 2001 06:57:59 +0100 (BST)
Subject: [R] Fitting distributions
In-Reply-To: <98B01D2717B9D411B38F0008C784093164D093@its-xchg2.massey.ac.nz>
Message-ID: <Pine.GSO.4.31.0109050648590.749-100000@auk.stats>

On Wed, 5 Sep 2001, Cowpertwait, Paul wrote:

>
> Are there any functions in R for fitting distributions?  In particular, I
> would like to fit the weibull and extreme-value distributions when:
>
> i)  the data are given and the maximum likelihood estimates are required;

See survreg in package survival. It's a trivial case (no regressors, no
censoring).

survreg(y ~ 1, dist="weibull")

survreg(log(y) ~ 1, dist="Weibull")

since log-Weibulls are Gumbel.

Direct computation of the likelihood is easy: see the recent postings here,
or V&R's exercises (e.g 8.10).


> ii) the sample moments are available but the complete data record is not
> (so moment estimates are required).

I think you will need to program that yourself.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep  5 08:10:30 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 5 Sep 2001 07:10:30 +0100 (BST)
Subject: [R] Two-way tables of data, etc
In-Reply-To: <200109050548.RAA31064@gosset.stats.waikato.ac.nz>
Message-ID: <Pine.GSO.4.31.0109050700430.749-100000@auk.stats>

On Wed, 5 Sep 2001, Murray Jorgensen wrote:

> At 06:42 AM 5-09-01 +0100, Prof Brian D Ripley wrote:
>
> >xtabs(content ~ block + treat)
> >
> >is almost what you gave, better labelled.
> >
> >The obvious (to me) tools are xtabs and ftable to flatten arrays.
>
> Yes, excellent. Thank you.
>
> The beginning of the xtabs documentation is a little misleading, though, as it
> runs

Rather, I am mis-using the tool, as I happen to know it does this
(or rather that crosstabs in S-PLUS can be so abused).

Kurt: might it be worth adding an example, e.g.

> data(warpbreaks)
> warpbreaks$replicate <- rep(1:9, len=54)
> ftable(xtabs(breaks ~ wool + tension + replicate, data = warpbreaks))

or maybe

ftable(xtabs(breaks ~ wool + replicate + tension, data = warpbreaks))

or even

tab <- xtabs(breaks ~ wool + replicate + tension, data = warpbreaks)
dimnames(tab)[[2]] <- rep("", 9)
names(dimnames(tab))[2] <- ""
ftable(tab)


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.pesl at arcs.ac.at  Wed Sep  5 08:45:49 2001
From: thomas.pesl at arcs.ac.at (Pesl Thomas)
Date: Wed, 5 Sep 2001 08:45:49 +0200 
Subject: [R] Newsgroup - conclusion
Message-ID: <D16B18FFF743D311A9CA0090275F3CB00438485A@arcss07.arcs.ac.at>

| |> By the way: At this point I have not recieved my own question.
| 
| That might be because the subject has acquired 'AW:' as a prefix.  If
| you sort by subject, it comes a long way down the list.

No I just wanted to show my lag.

My conclusion is, that there are definetly some people here that are not
able to connect to a (fast) newsgroup server. I did not see that problem.
The news-email-gateway seems to be very problematic. So all in all it looks
to me as if it is the best way like it is now. Martin Maechler pointed out
that the problem for the moment, why I have sometimes a big lag is the
mailserver, which seems to be very busy. This could change in the near
future.

I did not know that there are mail programs that can do threading, maybe I
will search for one.

The question was posted again because I first did not get a real response.
Now I see the problems and understand them.

Thomas
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep  5 09:22:10 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 5 Sep 2001 08:22:10 +0100 (BST)
Subject: [R] Fitting distributions
Message-ID: <Pine.LNX.4.31.0109050813240.3147-100000@gannet.stats>

This has come up a couple of times recently.  MASS4 will have a
general-purpose function for maximum-likelihood fitting and a set of
wrappers for common distributions.

Here's a preview of the R version (rapidly converted this morning).
You can do things like

fitdist(x, dnorm, list(mean = 0, sd = 1))
fitdist(x, dnorm, list(sd = 1), mean=0.5)

the latter fixing the mean.

This is not much tested (in R and much of it had to be changed for R) but
should give a flavour of what is possible.  Eventually there will be
a much more comprehensive interface.

fitdist <- function(x, dist, start, ...)
{
    myfn <- function(parm, ...) -sum(log(dens(parm, ...)))

    dens1 <- function(parm, x, ...) dist(x, parm, ...)
    dens2 <- function(parm, x, ...) dist(x, parm[1], parm[2], ...)
    dens3 <- function(parm, x, ...) dist(x, parm[1], parm[2], parm[3], ...)
    dens4 <- function(parm, x, ...)
        dist(x, parm[1], parm[2], parm[3], , parm[4], ...)

    if(missing(x) || length(x) == 0 || mode(x) != "numeric")
        stop("`x' must be a non-empty numeric vector")
    if(missing(dist) || !is.function(dist))
        stop("`dist' must be supplied as a function")
    if(missing(start) || !is.list(start))
        stop("`start' must be a named list")
    nm <- names(start)
    ## reorder arguments to dist
    f <- formals(dist)
    args <- names(f)
    m <- match(nm, args)
    if(any(is.na(m)))
        stop("`start' specifies names which are not arguments to `dist'")
    formals(dist) <- c(f[c(1, m)], f[-c(1, m)])
    ## try to be somewhat efficient
    switch(length(nm),
           "1" = {dens <- dens1},
           "2" = {dens <- dens2},
           "3" = {dens <- dens3},
           "4" = {dens <- dens3},
           stop("only handle 1:4 variable parms"))
    res <- optim(start, myfn, x=x, ...)
    if(res$convergence > 0) stop("optimization failed")
    res$par
}


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.baker at cmis.csiro.au  Wed Sep  5 10:30:54 2001
From: peter.baker at cmis.csiro.au (Peter Baker)
Date: Wed, 5 Sep 2001 18:30:54 +1000 (EST)
Subject: [R] How to get % and subscript in plotmath 
Message-ID: <Pine.LNX.4.33.0109051821480.10166-100000@lindeman-cv.cmis.csiro.au>

Hi

I seem to have a problem getting both a subscript and a % symbol on a label

ylab=expression(S/S[MSY] (* plain(%) * )) or
ylab=expression(S/S[MSY] (%) )
                                and many variants  gives a syntax error
ylab=paste(expression(S/S[MSY]), "(%)", sep="")
                                yields the % symbol but no subscripts

If I leave out the %, I get the subscript OK

Advice greatly appreciated

Regards
Peter

-- 
Dr Peter Baker, Statistician (Bioinformatics/Genetics),
CSIRO Mathematical & Information Sciences, 233 Middle St/
PO Box 120, CLEVELAND, QLD 4163 Australia.
Email: Peter.Baker at cmis.csiro.au
Phone:+61 7 3826 7263 Fax:+61 7 3826 7304

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bxc at novonordisk.com  Wed Sep  5 10:50:57 2001
From: bxc at novonordisk.com (BXC (Bendix Carstensen))
Date: Wed, 5 Sep 2001 10:50:57 +0200 
Subject: [R] Bug in ftable?? (Was: Two-way tables of data, etc)
Message-ID: <D5A7D734C9C5D211B9E30008C78923020E95AFBB@exdkba03.novo.dk>

Further to the discussion between Murray Jorgensen and Brian Ripley,
it seems to me better to choose tabulations that will not come and bite
you. Suppose your data are sligtly irregular, e.g. (for the sake of
the argument):

data( warpbreaks )
warpbreaks$variant <- rep( 1:5, len=54 )
attach( warpbreaks )
tb <- table( wool, tension, variant )
tb

# in this case you would like to see:

tp <- tapply( breaks, list( wool, tension, variant ), mean )
tp

# and hardly:
ftable( xtabs( breaks ~ wool + tension + variant ) )

# It would be nice to flatten the tabulations, so I tried:
ftable( tb )

tp <- as.table( tp )
ftable( tp )

But here i get:

> attr( tp, "class" ) <- "table"
> ftable( tp )
Error in cbind(...) : number of rows of matrices must match (see arg 2)

# But still they seem to have similar attributes (except for the naming)
attributes( tb )
attributes( tp )

Is this a bug or a facility of ftable ?

Bendix Carstensen

----------------------
Bendix Carstensen
Senior Statistician
Steno Diabetes Centre
Niels Steensens Vej 2
DK-2820 Gentofte
Denmark
tel: +45 44 43 87 38
mob: +45 28 25 87 38
fax: +45 44 43 73 13
bxc at novo.dk
www.biostat.ku.dk/~bxc
----------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep  5 10:58:16 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Sep 2001 10:58:16 +0200
Subject: [R] How to get % and subscript in plotmath
In-Reply-To: <Pine.LNX.4.33.0109051821480.10166-100000@lindeman-cv.cmis.csiro.au>
References: <Pine.LNX.4.33.0109051821480.10166-100000@lindeman-cv.cmis.csiro.au>
Message-ID: <x2k7zeko9j.fsf@blueberry.kubism.ku.dk>

Peter Baker <peter.baker at cmis.csiro.au> writes:

> Hi
> 
> I seem to have a problem getting both a subscript and a % symbol on a label
> 
> ylab=expression(S/S[MSY] (* plain(%) * )) or
> ylab=expression(S/S[MSY] (%) )
>                                 and many variants  gives a syntax error
> ylab=paste(expression(S/S[MSY]), "(%)", sep="")
>                                 yields the % symbol but no subscripts
> 
> If I leave out the %, I get the subscript OK
> 
> Advice greatly appreciated

The first thing to check with this stuff is that you have a valid R
expression. The first two are not valid since for one thing a % by
itself is not possible in R syntax - also, a "*" immediately after a
left parenthesis is surely wrong. The third one results from pasting
an expression and a character string, which gives a character string,
and no math plotting.

Did you mean

expression(S/S[MSY] * "%")


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep  5 11:32:43 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Sep 2001 11:32:43 +0200
Subject: [R] Bug in ftable?? (Was: Two-way tables of data, etc)
In-Reply-To: <D5A7D734C9C5D211B9E30008C78923020E95AFBB@exdkba03.novo.dk>
References: <D5A7D734C9C5D211B9E30008C78923020E95AFBB@exdkba03.novo.dk>
Message-ID: <x2g0a2kmo4.fsf@blueberry.kubism.ku.dk>

"BXC (Bendix Carstensen)" <bxc at novonordisk.com> writes:

[tp<- tapply( breaks, list( wool, tension, variant ), mean )]

> tp <- as.table( tp )
> ftable( tp )
> 
> But here i get:
> 
> > attr( tp, "class" ) <- "table"
> > ftable( tp )
> Error in cbind(...) : number of rows of matrices must match (see arg 2)

Um, I don't think so.... ;-)

> # But still they seem to have similar attributes (except for the naming)
> attributes( tb )
> attributes( tp )
> 
> Is this a bug or a facility of ftable ?

It's a bug *somewhere*, not necessarily in ftable. The problem is
either that the dimname-names are not added by tapply, that neither
as.table or ftable add dummy names, or that write.ftable gags when
names are absent. (Or put differently: Are either the "table" or
"ftable" objects *required* to have named attributes??). 

Actually, the fact that tapply doesn't generated named dimnames cannot
be considered the cause since 
(a) as.table should work on any matrix.
(b) the second argument to tapply is not a named list in your case

One  workaround is to add in the names:

  ft <- ftable(tp)
  names(attr(ft,"row.vars")) <- c("wool","tension")
  names(attr(ft,"col.vars")) <- "variant"
  ft

another is to make sure that tapply gets the names right:

> tp <- tapply(breaks, list(wool=wool,tension=tension,variant=variant), mean)
> ftable(tp)
             variant    1    2    3    4    5
wool tension                                 
A    L               39.0 40.5 40.0 46.0 70.0
     M               28.0 29.5 26.5 12.0 18.0
     H               19.5 22.0 10.0 39.5 24.5
B    L               31.5 29.0 29.0 27.5 24.5
     M               39.0 35.0 23.5 29.0 22.5
     H               17.5 18.0 20.0 22.5 13.0

or - lazy variation - abuse the fact that dataframes are lists and do
have labeled columns:

> tp <- tapply( breaks, data.frame(wool,tension,variant), mean )
> ftable(tp)
             variant    1    2    3    4    5
wool tension                                 
A    L               39.0 40.5 40.0 46.0 70.0
     M               28.0 29.5 26.5 12.0 18.0
     H               19.5 22.0 10.0 39.5 24.5
B    L               31.5 29.0 29.0 27.5 24.5
     M               39.0 35.0 23.5 29.0 22.5
     H               17.5 18.0 20.0 22.5 13.0


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bxc at novonordisk.com  Wed Sep  5 13:06:25 2001
From: bxc at novonordisk.com (BXC (Bendix Carstensen))
Date: Wed, 5 Sep 2001 13:06:25 +0200 
Subject: [R] Bug in ftable?? (Was: Two-way tables of data, etc)
Message-ID: <D5A7D734C9C5D211B9E30008C78923020E95AFBC@exdkba03.novo.dk>

Thanks to Peter Dalgaard for the helpful hints aboy dimnames.
This will work:

data( warpbreaks )
warpbreaks$variant <- rep( 1:5, len=54 )
attach( warpbreaks )
tb <- table( wool, tension, variant )
tb

# in this case you would like to see:

tp <- tapply( breaks, list( wool, tension, variant ), mean )
tp
dimnames( tp ) <- dimnames( tb )
ftable( tp )

Slightly clumsy, but a workaround.

Bendix C
----------------------
Bendix Carstensen
Senior Statistician
Steno Diabetes Centre
Niels Steensens Vej 2
DK-2820 Gentofte
Denmark
tel: +45 44 43 87 38
mob: +45 28 25 87 38
fax: +45 44 43 73 13
bxc at novo.dk
www.biostat.ku.dk/~bxc
----------------------



> -----Original Message-----
> From: Peter Dalgaard BSA [mailto:p.dalgaard at biostat.ku.dk]
> Sent: 5. september 2001 11:33
> To: BXC (Bendix Carstensen)
> Cc: Murray Jorgensen; 'Prof Brian D Ripley'; r-help at stat.math.ethz.ch
> Subject: Re: [R] Bug in ftable?? (Was: Two-way tables of data, etc)
> 
> 
> "BXC (Bendix Carstensen)" <bxc at novonordisk.com> writes:
> 
> [tp<- tapply( breaks, list( wool, tension, variant ), mean )]
> 
> > tp <- as.table( tp )
> > ftable( tp )
> > 
> > But here i get:
> > 
> > > attr( tp, "class" ) <- "table"
> > > ftable( tp )
> > Error in cbind(...) : number of rows of matrices must match 
> (see arg 2)
> 
> Um, I don't think so.... ;-)
> 
> > # But still they seem to have similar attributes (except 
> for the naming)
> > attributes( tb )
> > attributes( tp )
> > 
> > Is this a bug or a facility of ftable ?
> 
> It's a bug *somewhere*, not necessarily in ftable. The problem is
> either that the dimname-names are not added by tapply, that neither
> as.table or ftable add dummy names, or that write.ftable gags when
> names are absent. (Or put differently: Are either the "table" or
> "ftable" objects *required* to have named attributes??). 
> 
> Actually, the fact that tapply doesn't generated named dimnames cannot
> be considered the cause since 
> (a) as.table should work on any matrix.
> (b) the second argument to tapply is not a named list in your case
> 
> One  workaround is to add in the names:
> 
>   ft <- ftable(tp)
>   names(attr(ft,"row.vars")) <- c("wool","tension")
>   names(attr(ft,"col.vars")) <- "variant"
>   ft
> 
> another is to make sure that tapply gets the names right:
> 
> > tp <- tapply(breaks, 
> list(wool=wool,tension=tension,variant=variant), mean)
> > ftable(tp)
>              variant    1    2    3    4    5
> wool tension                                 
> A    L               39.0 40.5 40.0 46.0 70.0
>      M               28.0 29.5 26.5 12.0 18.0
>      H               19.5 22.0 10.0 39.5 24.5
> B    L               31.5 29.0 29.0 27.5 24.5
>      M               39.0 35.0 23.5 29.0 22.5
>      H               17.5 18.0 20.0 22.5 13.0
> 
> or - lazy variation - abuse the fact that dataframes are lists and do
> have labeled columns:
> 
> > tp <- tapply( breaks, data.frame(wool,tension,variant), mean )
> > ftable(tp)
>              variant    1    2    3    4    5
> wool tension                                 
> A    L               39.0 40.5 40.0 46.0 70.0
>      M               28.0 29.5 26.5 12.0 18.0
>      H               19.5 22.0 10.0 39.5 24.5
> B    L               31.5 29.0 29.0 27.5 24.5
>      M               39.0 35.0 23.5 29.0 22.5
>      H               17.5 18.0 20.0 22.5 13.0
> 
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: 
> (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: 
> (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Sep  5 14:18:29 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Wed, 5 Sep 2001 08:18:29 -0400 (EDT)
Subject: [R] searching the r-help list
In-Reply-To: <20010904153627.A11662@brandybuck>
Message-ID: <Pine.LNX.4.30.0109050817140.16096-100000@bolker.zoo.ufl.edu>


  Hmmm.  Seems like a useful resource, but (at least in 30 seconds of
playing with it) doesn't seem directed enough for what I usually want.
I'm looking forward to the ht://Dig server that someone (Jonathan Baron?)
said he was setting up.

  Ben Bolker


On Tue, 4 Sep 2001, Clayton Springer wrote:

> Do those who have had trouble finding stuff in the R-archive
>
> used the search engine?
>
> http://www.scirus.com/
>
> And as far as threading goes. My mailler "mutt" threads the
> mailing list quite nicely.
>
> --Clayton
>
>
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Wed Sep  5 15:39:08 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 05 Sep 2001 09:39:08 -0400
Subject: [R] R under Win2k
In-Reply-To: <004701c1357e$73e6c6e0$86988780@liturchi>
References: <004701c1357e$73e6c6e0$86988780@liturchi>
Message-ID: <6jacptg65unr9sue3kr0bbqvcm85qg6qkq@4ax.com>

On Tue, 4 Sep 2001 15:16:16 -0500, you wrote in message
<004701c1357e$73e6c6e0$86988780 at liturchi>:

>I have tried to compile R-1.3.1 under the Cygwin environment, but it does
>not
>seem to work, although the option is there. Must I use Mingw32?

The "readme.packages" file suggests Mingw32 pretty strongly, so I
think that's the safest thing to try.

>At the same time, I cannot figure out how to build packages from sources
>under Win32.
>
>Are there examples on how to do this?

That's discussed in the same file.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Wed Sep  5 15:57:32 2001
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Wed, 05 Sep 2001 15:57:32 +0200
Subject: [R] Replacing NAs with interpolated values
Message-ID: <3B962F4C.A01F9DD1@psy.uni-muenchen.de>

Hi there,

I've got this vector:

-84  -87  -90  -90  -89  -86 NA NA NA NA NA NA NA NA NA NA NA NA  -96 
-99 -100  -99  -96 -92  -89  -87  -87  -88  -90  -92  -94  -95  -96 
-97  -97  -97  -96  -95

Is there a function in R which replaces the NAs with "interpolated"
values between -86 and -96?

Thanks, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Wed Sep  5 16:43:52 2001
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Wed, 5 Sep 2001 16:43:52 +0200 (MEST)
Subject: [R] Replacing NAs with interpolated values
In-Reply-To: <3B962F4C.A01F9DD1@psy.uni-muenchen.de>
Message-ID: <Pine.LNX.4.21.0109051642590.30491-100000@artemis.imbe.med.uni-erlangen.de>

> Hi there,
> 
> I've got this vector:
> 
> -84  -87  -90  -90  -89  -86 NA NA NA NA NA NA NA NA NA NA NA NA  -96 
> -99 -100  -99  -96 -92  -89  -87  -87  -88  -90  -92  -94  -95  -96 
> -97  -97  -97  -96  -95
> 
> Is there a function in R which replaces the NAs with "interpolated"
> values between -86 and -96?

maybe something like 

> x <- c(1,2,NA, NA, NA, 10)
> indx <- which(is.na(x))
> x[is.na(x)] <- mean(c(x[indx[1]-1], x[indx[length(indx)]+1]))
> x
[1]  1  2  6  6  6 10

where `mean' is to be replaced with your interpolation :-)

Torsten


> 
> Thanks, Sven
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep  5 17:24:08 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 5 Sep 2001 16:24:08 +0100 (GMT Daylight Time)
Subject: [R] Re: [S] dyn.load
In-Reply-To: <001c01c1361b$1942a720$1100a8c0@ico.scs.es>
Message-ID: <Pine.WNT.4.31.0109051615430.316-100000@gannet>

Moved to R-help: this is an R-specific question.

On Wed, 5 Sep 2001, Juan Ramon Gonzalez wrote:

> Dear s-users,
>
> I need to translate a function of Splus in to R. The function calls a
DLL library using the instruction dll.load. In R exists the function
'dyn.load' and I get the following results

dll.load is not in the current S-PLUS Windows version, BTW.

> > dyn.load("c:/windows/system/my_function.dll")
> > is.loaded("my_function")
> [1] TRUE

>
> but I have problems when I use the  '.Fortran'  function. I get the following message:
>
> > .Fortran("my_function",.....)
> Error in .Fortran("my_function") : C/Fortran function name not in load table
>
> ( where ,....  are the parameters of my_function )
>
> I would like to know why it doesn't work

Because the symbol being looked for is "my_function_".  You are mis-using
is.loaded, in both R and S-PLUS:

     Functions `symbol.C' and `symbol.For' map function or subroutine
     names to the symbol name in the compiled code: `is.loaded' checks
     if the symbol name is loaded and hence available for use in `.C'
     or `.Fortran'.

You needed is.loaded(symbol.For("my_function")).


Perhaps you need to re-read the readme.packages file about Windows Fortran
compilers (assuming you did use a Fortran compiler).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep  5 17:18:59 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Sep 2001 17:18:59 +0200
Subject: [R] Replacing NAs with interpolated values
In-Reply-To: <Pine.LNX.4.21.0109051642590.30491-100000@artemis.imbe.med.uni-erlangen.de>
References: <Pine.LNX.4.21.0109051642590.30491-100000@artemis.imbe.med.uni-erlangen.de>
Message-ID: <x2ofopk6n0.fsf@blueberry.kubism.ku.dk>

Torsten Hothorn <Torsten.Hothorn at rzmail.uni-erlangen.de> writes:

> > Hi there,
> > 
> > I've got this vector:
> > 
> > -84  -87  -90  -90  -89  -86 NA NA NA NA NA NA NA NA NA NA NA NA  -96 
> > -99 -100  -99  -96 -92  -89  -87  -87  -88  -90  -92  -94  -95  -96 
> > -97  -97  -97  -96  -95
> > 
> > Is there a function in R which replaces the NAs with "interpolated"
> > values between -86 and -96?
> 
> maybe something like 
> 
> > x <- c(1,2,NA, NA, NA, 10)
> > indx <- which(is.na(x))
> > x[is.na(x)] <- mean(c(x[indx[1]-1], x[indx[length(indx)]+1]))
> > x
> [1]  1  2  6  6  6 10
> 
> where `mean' is to be replaced with your interpolation :-)
> 
> Torsten

How about this:

y <- c(1, 2, NA, NA, NA, 10)
x <- seq(along=y)
approx(x,y,x)$y
#[1]  1  2  4  6  8 10

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Wed Sep  5 18:28:20 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Wed, 5 Sep 2001 18:28:20 +0200
Subject: [R] Replacing NAs with interpolated values
In-Reply-To: <3B962F4C.A01F9DD1@psy.uni-muenchen.de>
Message-ID: <MABBLJDICACNFOLGIHJOIEHOCFAA.phgrosje@ulb.ac.be>

You don't tell us what kind of data it represents. Are they independent
data? If yes, you cannot interpolate. Are they autocorrelated, i.e., is it a
time or space or space/time series? If yes, some interpolation is possible,
taking advantage of autocorrelation. See ?interp or ?spline for instance.
However, interpolation is somewhat efficient for sparse gaps only. You have
a very big gap in a small serie and I am afraid it is not possible to
"reconstruct" so many missing values! A multivariate method exists that
could help perhaps. It is called ZET-method. The principle is the following.
If your data have some correlation with other parameters that are measured
along the whole serie, including missing values, the algorithm seek for
correlations between the serie to interpolate and those other variables.
Then it uses information on the other series to predict missing values. This
is actually the most powerful method to reconstruct series with missing
values like this. It is not implemented in R (as far as I know?), but it
will be in a few months when package 'PASSTEC' will be done. In the
meantime, you can consult the following reference:

Zagoruiko, N.G. & V.N. Yolkina, 1982. Inference on data tables with missing
values. Handbook of statistics, 2:493-500. North Holland Publishing Company.

A temporary version of 'PASSTEC' (in French, sorry) is available at
http://www.sciviews.org/_passtec. It's manual summarizes briefly the
ZET-method pp. 68-69.

Best Regards,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


>Hi there,

>I've got this vector:

>-84  -87  -90  -90  -89  -86 NA NA NA NA NA NA NA NA NA NA NA NA  -96
>-99 -100  -99  -96 -92  -89  -87  -87  -88  -90  -92  -94  -95  -96
>-97  -97  -97  -96  -95

>Is there a function in R which replaces the NAs with "interpolated"
>values between -86 and -96?

>Thanks, Sven

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Wed Sep  5 20:43:20 2001
From: macq at llnl.gov (Don MacQueen)
Date: Wed, 5 Sep 2001 11:43:20 -0700
Subject: [R] Newsgroup - another try?
In-Reply-To: 
 <Pine.A41.4.33.0109040814590.50656-100000@homer09.u.washington.edu>
References: 
 <Pine.A41.4.33.0109040814590.50656-100000@homer09.u.washington.edu>
Message-ID: <p05101015b7bc21074e73@[128.115.153.6]>

My personal, admittedly selfish, reason for preferring a mailing list 
is that with a mailing list the email comes to me, whereas with a 
newsgroup I have to go get it. Sure, I could probably overcome that, 
but things work well as they are, and I have found newsgroup user 
interfaces to be less convenient.

Threading can be nice, but it's very easy with my email software 
(Eudora) to group all the messages on the same subject together.

-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Wed Sep  5 21:01:15 2001
From: rolf at math.unb.ca (Rolf Turner)
Date: Wed, 5 Sep 2001 16:01:15 -0300 (ADT)
Subject: [R] Command line editing.
Message-ID: <200109051901.QAA22565@tanner.math.unb.ca>


I've looked through the FAQ and can't find anything about
this.

I'm working on a Sun machine, running Solaris 2.7.

I'm a new R-user; have been using Splus for millenia, and finally
decided it was time I got going with R.  So I downloaded R, installed
it, fiddled about a bit, and found that command-line editing was
absent.

Scrounging through the documentation some more, I saw it to indicate
that if GNU readline is installed on the system, then R ***does***
provide command-line editing.  So I got readline and installed it ---
there seemed to be no problems with that.

Then I (re) issued the ./configure, make, and make install commands
for R.

Then I fired up R, typed a few commands, and tried typing <ctrl>-p,
which according to ``An Introduction to R'' by Venables and Smith
et al., should take me to the previous command.  Instead, I simply
got ``^P'' appearing on the screen.  What am I missing?

(***Please*** don't tell me to use ESS --- (a) I don't want to; I
am emacs-averse.  (b) I ***did*** try to install ESS, despite (a),
and could not get that %%^#*#)%'-ing thing to work either!)

					cheers,

						Rolf Turner
						rolf at math.unb.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep  5 21:28:46 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 5 Sep 2001 20:28:46 +0100 (GMT Daylight Time)
Subject: [R] Command line editing.
In-Reply-To: <200109051901.QAA22565@tanner.math.unb.ca>
Message-ID: <Pine.WNT.4.31.0109052026520.1208-100000@tern.stats>

On Wed, 5 Sep 2001, Rolf Turner wrote:

>
> I've looked through the FAQ and can't find anything about
> this.
>
> I'm working on a Sun machine, running Solaris 2.7.
>
> I'm a new R-user; have been using Splus for millenia, and finally
> decided it was time I got going with R.  So I downloaded R, installed
> it, fiddled about a bit, and found that command-line editing was
> absent.
>
> Scrounging through the documentation some more, I saw it to indicate
> that if GNU readline is installed on the system, then R ***does***
> provide command-line editing.  So I got readline and installed it ---
> there seemed to be no problems with that.
>
> Then I (re) issued the ./configure, make, and make install commands
> for R.
>
> Then I fired up R, typed a few commands, and tried typing <ctrl>-p,
> which according to ``An Introduction to R'' by Venables and Smith
> et al., should take me to the previous command.  Instead, I simply
> got ``^P'' appearing on the screen.  What am I missing?

does up-arrow work?  It's easier ....
If not, you need to delete config.cache and re-configure, I expect.

For me command-line editing in R on Solaris 2.7 aka 7 works as it does in
tcsh (and finally in S-PLUS 6.0 ...).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep  5 21:27:08 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Sep 2001 21:27:08 +0200
Subject: [R] Command line editing.
In-Reply-To: <200109051901.QAA22565@tanner.math.unb.ca>
References: <200109051901.QAA22565@tanner.math.unb.ca>
Message-ID: <x2k7zdh20j.fsf@blueberry.kubism.ku.dk>

Rolf Turner <rolf at math.unb.ca> writes:

> Scrounging through the documentation some more, I saw it to indicate
> that if GNU readline is installed on the system, then R ***does***
> provide command-line editing.  So I got readline and installed it ---
> there seemed to be no problems with that.
> 
> Then I (re) issued the ./configure, make, and make install commands
> for R.
> 
> Then I fired up R, typed a few commands, and tried typing <ctrl>-p,
> which according to ``An Introduction to R'' by Venables and Smith
> et al., should take me to the previous command.  Instead, I simply
> got ``^P'' appearing on the screen.  What am I missing?

The build process probably needs help finding the readline libraries
and/or header files. Where did you install them?

> (***Please*** don't tell me to use ESS --- (a) I don't want to; I
> am emacs-averse.  (b) I ***did*** try to install ESS, despite (a),
> and could not get that %%^#*#)%'-ing thing to work either!)

If at first, you don't succeed.... ;-)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tov at ece.cmu.edu  Wed Sep  5 22:05:38 2001
From: tov at ece.cmu.edu (Thomas Vogels)
Date: 05 Sep 2001 16:05:38 -0400
Subject: [R] Command line editing.
In-Reply-To: Rolf Turner's message of "Wed, 5 Sep 2001 16:01:15 -0300 (ADT)"
References: <200109051901.QAA22565@tanner.math.unb.ca>
Message-ID: <px8zft4d4d.fsf@infiniti.ece.cmu.edu>


Rolf Turner <rolf at math.unb.ca> writes:

> I've looked through the FAQ and can't find anything about
> this.
> 
> I'm working on a Sun machine, running Solaris 2.7.
> 
> I'm a new R-user; have been using Splus for millenia, and finally
> decided it was time I got going with R.  So I downloaded R, installed
> it, fiddled about a bit, and found that command-line editing was
> absent.
> 
> Scrounging through the documentation some more, I saw it to indicate
> that if GNU readline is installed on the system, then R ***does***
> provide command-line editing.  So I got readline and installed it ---
> there seemed to be no problems with that.
> 
> Then I (re) issued the ./configure, make, and make install commands
> for R.

- Make sure to follow Prof. Ripley's advise to remove config.cache .

- Once you fire up the newly built R, you can verify that the readline
  library was picked up correctly using the capabilities function:

R> capabilities("cledit")
cledit 
  TRUE 

- If you are Emacs averse, why do you use ^P instead of Esc k ? :-)

  -tom


> 
> Then I fired up R, typed a few commands, and tried typing <ctrl>-p,
> which according to ``An Introduction to R'' by Venables and Smith
> et al., should take me to the previous command.  Instead, I simply
> got ``^P'' appearing on the screen.  What am I missing?
> 
> (***Please*** don't tell me to use ESS --- (a) I don't want to; I
> am emacs-averse.  (b) I ***did*** try to install ESS, despite (a),
> and could not get that %%^#*#)%'-ing thing to work either!)
> 
> 					cheers,
> 
> 						Rolf Turner
> 						rolf at math.unb.ca

-- 
mailto:tov at ece.cmu.edu (Tom Vogels)   Tel: (412) 268-6638   FAX: -3204
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Thu Sep  6 03:20:29 2001
From: gb at stat.umu.se (=?ISO-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Thu, 6 Sep 2001 03:20:29 +0200 (CEST)
Subject: [R] Using libRmath.a in Fortran?
In-Reply-To: <200109051901.QAA22565@tanner.math.unb.ca>
Message-ID: <Pine.LNX.4.33.0109060314530.4800-100000@tal.stat.umu.se>

Is it possible to call the routines in the standalone library
libRmath from Fortran programs? I'm using g77 on Linux.

G?ran Brostr?m

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Rob.Hyndman at buseco.monash.edu.au  Thu Sep  6 02:06:35 2001
From: Rob.Hyndman at buseco.monash.edu.au (Rob Hyndman)
Date: Thu, 06 Sep 2001 11:06:35 +1100
Subject: [R] Mixed-effects model problem.
Message-ID: <3B96BE0A.9A2735CD@buseco.monash.edu.au>

I'm trying to fit a mixed-effects model of the form
Y = a + bX + cZ + e
where X are fixed effects and Z are random. i.e., c is a vector of
random coefficients with mean 0. There is no "grouping" variable such as
would be used with longitudinal data.

Can the nlme package handle this sort of thing? Although it is a simpler
model than would be used with grouped data, I can't seem to convince
lme() to fit it. It seems to want a grouping variable and I can't
persuade it that there is no such thing.

Any help would be appreciated.
Rob
__________________________________________________
Associate Professor Rob J Hyndman
Department of Econometrics & Business Statistics,
Monash University, VIC 3800, Australia
http://www-personal.buseco.monash.edu.au/~hyndman/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.janmaat at acadiau.ca  Thu Sep  6 02:37:16 2001
From: john.janmaat at acadiau.ca (john.janmaat@acadiau.ca)
Date: Wed, 5 Sep 2001 21:37:16 -0300 (ADT)
Subject: [R] Prompt with scan()
In-Reply-To: <p05101015b7bc21074e73@[128.115.153.6]>
References: <Pine.A41.4.33.0109040814590.50656-100000@homer09.u.washington.edu> <p05101015b7bc21074e73@[128.115.153.6]>
Message-ID: <200109060037.VAA23142@themis.acadiau.ca>

Hello,

I am using R to teach an undergraduate course in
Econometrics.  For class demonstration purposes, I plan
to prepare my scripts and be able to step through them. 
I noticed that the built-in demo prompts for an enter
with what looks like the scan() function, but replaces
the n: prompt with different text.  The on-line
documention does not make it clear to me how to do
this.  Suggestions?

Thanks,

John.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Sep  6 04:01:58 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Wed, 5 Sep 2001 22:01:58 -0400 (EDT)
Subject: [R] Prompt with scan()
In-Reply-To: <200109060037.VAA23142@themis.acadiau.ca>
Message-ID: <Pine.LNX.4.30.0109052158580.21371-100000@bolker.zoo.ufl.edu>


  Do you mean readline()?

readline has a 32-character limit, which you can get around as follows:

 myreadline <- function(prompt="") {
  cat(prompt)
  readLines(n=1)
}





On Wed, 5 Sep 2001 john.janmaat at acadiau.ca wrote:

> Hello,
>
> I am using R to teach an undergraduate course in
> Econometrics.  For class demonstration purposes, I plan
> to prepare my scripts and be able to step through them.
> I noticed that the built-in demo prompts for an enter
> with what looks like the scan() function, but replaces
> the n: prompt with different text.  The on-line
> documention does not make it clear to me how to do
> this.  Suggestions?
>
> Thanks,
>
> John.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From synthespian at uol.com.br  Thu Sep  6 05:17:34 2001
From: synthespian at uol.com.br (synthespian@uol.com.br)
Date: Thu, 6 Sep 2001 00:17:34 -0300
Subject: [R] Newsgroup - another try?
In-Reply-To: <15252.50918.433346.673821@gargle.gargle.HOWL>; from maechler@stat.math.ethz.ch on Tue, Sep 04, 2001 at 02:19:50PM +0200
References: <D16B18FFF743D311A9CA0090275F3CB004384841@arcss07.arcs.ac.at> <15252.50918.433346.673821@gargle.gargle.HOWL>
Message-ID: <20010906001734.B3785@siddhi.samsara.org>

On Tue, Sep 04, 2001 at 02:19:50PM +0200, Martin Maechler wrote:



> BTW: We have currently 822 adresses subscribed to R-help and 568 to R-announce
>      (which is gatewayed into R-help). If I add R-devel and the *-digest
>      lists and uniqify the subscribed addresses, we currently have 1338 unique
>      subscriber addresses (up from 1119 as of Feb.2, when I started
>      collecting the combined statistics).

In that case I suppose the biggest argument against R-help becoming a newsgroups would be the small user base.
In fact, it came a bit as a shock to me (but I'm alright now).
Cheers,

Henry
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Sep  6 08:15:34 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Sep 2001 08:15:34 +0200
Subject: [R] Using libRmath.a in Fortran?
In-Reply-To: <Pine.LNX.4.33.0109060314530.4800-100000@tal.stat.umu.se>
References: <Pine.LNX.4.33.0109060314530.4800-100000@tal.stat.umu.se>
Message-ID: <x2bskox2t5.fsf@blueberry.kubism.ku.dk>

G?ran Brostr?m <gb at stat.umu.se> writes:

> Is it possible to call the routines in the standalone library
> libRmath from Fortran programs? I'm using g77 on Linux.

Not directly. Look at e.g.

double dweibull(double x, double shape, double scale, int give_log)

this uses call-by-value semantics, where Fortran always uses
call-by-reference, i.e. pointers. So, notwithstanding linker and
symbol naming issues, you would at the very least have to write 
wrapper functions to the tune of

double dweibw(double *x, double *shape, double *scale, int *give_log)
{
        return dweibull(*x, *shape, *scale, *give_log);
}

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Sep  6 08:20:06 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Sep 2001 08:20:06 +0200
Subject: [R] Mixed-effects model problem.
In-Reply-To: <3B96BE0A.9A2735CD@buseco.monash.edu.au>
References: <3B96BE0A.9A2735CD@buseco.monash.edu.au>
Message-ID: <x27kvcx2ll.fsf@blueberry.kubism.ku.dk>

Rob Hyndman <Rob.Hyndman at buseco.monash.edu.au> writes:

> I'm trying to fit a mixed-effects model of the form
> Y = a + bX + cZ + e
> where X are fixed effects and Z are random. i.e., c is a vector of
> random coefficients with mean 0. There is no "grouping" variable such as
> would be used with longitudinal data.
> 
> Can the nlme package handle this sort of thing? Although it is a simpler
> model than would be used with grouped data, I can't seem to convince
> lme() to fit it. It seems to want a grouping variable and I can't
> persuade it that there is no such thing.
> 
> Any help would be appreciated.

It's been a while since I played around with this, but as far as I
remember there is no requirement that the grouping variable has more
than one group...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep  6 08:59:33 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 6 Sep 2001 07:59:33 +0100 (BST)
Subject: [R] Prompt with scan()
In-Reply-To: <Pine.LNX.4.30.0109052158580.21371-100000@bolker.zoo.ufl.edu>
Message-ID: <Pine.GSO.4.31.0109060754090.9548-100000@auk.stats>

On Wed, 5 Sep 2001, Ben Bolker wrote:

>   Do you mean readline()?
>
> readline has a 32-character limit, which you can get around as follows:
>
>  myreadline <- function(prompt="") {
>   cat(prompt)
>   readLines(n=1)
> }

For the record, that's not the same thing.  Consider the effects of sink().
Using stderr() would be safer, but not 100% the same.

Is there a real need to raise the 32-char limit?  We can very easily do so
(or users can: just change

#define CONSOLE_PROMPT_SIZE     32

in src/main/scan.c)  There does need to be a limit though: what do you
want?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at wsl.ch  Thu Sep  6 09:13:02 2001
From: christian.hoffmann at wsl.ch (Christian Hoffmann)
Date: Thu, 06 Sep 2001 09:13:02 +0200
Subject: [R] code/documentation mismatches
Message-ID: <3.0.6.32.20010906091302.0097dac0@mail.wsl.ch>

Hi,

I would like to get a hint on how to debug in the case of 

#> R CMD check pllib

signalling

* checking for code/documentation mismatches ... WARNING
Error in parse(file, n, text, prompt) : syntax error on line 22

I am able to sort out which of the files is the culprit is by swapping
files in and out of the /R and /man directories. But I cannot find the
syntax error, the .Rd file seems to be correct.

It would be helpful to have an indication of the file which contains the
error. The corresponding line in 

\pllib.Rcheck\pllib-Ex.R

is even a blank line.

Thanks for help
--christian
Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: christian.hoffmann_at_wsl.ch__prevent_spamming
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Thu Sep  6 09:55:56 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 6 Sep 2001 09:55:56 +0200
Subject: [R] code/documentation mismatches
In-Reply-To: <3.0.6.32.20010906091302.0097dac0@mail.wsl.ch>
References: <3.0.6.32.20010906091302.0097dac0@mail.wsl.ch>
Message-ID: <15255.11276.870562.70503@mithrandir.hornik.net>

>>>>> Christian Hoffmann writes:

> Hi,
> I would like to get a hint on how to debug in the case of 

> #> R CMD check pllib

> signalling

> * checking for code/documentation mismatches ... WARNING
> Error in parse(file, n, text, prompt) : syntax error on line 22

> I am able to sort out which of the files is the culprit is by swapping
> files in and out of the /R and /man directories. But I cannot find the
> syntax error, the .Rd file seems to be correct.

> It would be helpful to have an indication of the file which contains the
> error. The corresponding line in 

> \pllib.Rcheck\pllib-Ex.R

> is even a blank line.

If you have access to the current r-devel snapshot, use R CMD check from
there (in fact, I think you could simply use codoc() from there).  The
newer versions report which file caused the problem, etc.  If you do not
have such access, use codoc() from the R prompt with `keep = TRUE', and
inspect the tempfiles.  Typically, the problems come from statements in
\usage which are not valid R code.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Sep  6 09:53:39 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Sep 2001 09:53:39 +0200
Subject: [R] code/documentation mismatches
In-Reply-To: <3.0.6.32.20010906091302.0097dac0@mail.wsl.ch>
References: <3.0.6.32.20010906091302.0097dac0@mail.wsl.ch>
Message-ID: <x2ae08ycu4.fsf@blueberry.kubism.ku.dk>

Christian Hoffmann <christian.hoffmann at wsl.ch> writes:

> Hi,
> 
> I would like to get a hint on how to debug in the case of 
> 
> #> R CMD check pllib
> 
> signalling
> 
> * checking for code/documentation mismatches ... WARNING
> Error in parse(file, n, text, prompt) : syntax error on line 22
> 
> I am able to sort out which of the files is the culprit is by swapping
> files in and out of the /R and /man directories. But I cannot find the
> syntax error, the .Rd file seems to be correct.
> 
> It would be helpful to have an indication of the file which contains the
> error. The corresponding line in 
> 
> \pllib.Rcheck\pllib-Ex.R
> 
> is even a blank line.

That's not the file with the problem. As I read the code, it is a
dynamically constructed file containing the usage sections of your .Rd
files. 

Hmm. Longer term, I think we might want a small change to "R CMD
check" to be optionally more verbose.

Your problem would seem to happen during this section:

        open Rcmd, "> $Rcmd" || die "Cannot write to \`$Rcmd'\n";
        print Rcmd "codoc(dir = \"${pkgdir}\")\n";
        close Rcmd;
        system("${R_exe} ${R_opts} --quiet < ${Rcmd} > ${Rout}");

so the thing you could do to decipher the problem would be to fire up
R yourself and run

codoc(dir="/path/to/pllib", verbose=T)

you might want to precede that with debug(codoc) so that you can catch
the actual file before it is deleted.
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Thu Sep  6 09:57:19 2001
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Thu, 6 Sep 2001 09:57:19 +0200 (MEST)
Subject: [R] code/documentation mismatches
In-Reply-To: <3.0.6.32.20010906091302.0097dac0@mail.wsl.ch>
Message-ID: <Pine.LNX.4.21.0109060952230.11500-100000@artemis.imbe.med.uni-erlangen.de>


> Hi,
> 
> I would like to get a hint on how to debug in the case of 
> 
> #> R CMD check pllib
> 
> signalling
> 
> * checking for code/documentation mismatches ... WARNING
> Error in parse(file, n, text, prompt) : syntax error on line 22
> 
> I am able to sort out which of the files is the culprit is by swapping
> files in and out of the /R and /man directories. But I cannot find the
> syntax error, the .Rd file seems to be correct.

This is done in ./src/scripts/check

$log->checking("for code/documentation mismatches");

        my $Rcmd = "$TMPDIR/Rcmd.$$";
        my $Rout = "$TMPDIR/Rout.$$";
        open Rcmd, "> $Rcmd" || die "Cannot write to \`$Rcmd'\n";
        print Rcmd "codoc(dir = \"${pkgdir}\")\n";
        close Rcmd;
        system("${R_exe} ${R_opts} --quiet < ${Rcmd} > ${Rout}");
        my @out;
        open Rout,  "< $Rout";
        while(<Rout>) {chomp; push(@out, $_);}
        close Rout;
        unlink($Rcmd);
        unlink($Rout);

we can see that the code checked is generated by "codoc", therefore:

R> codoc(dir="path_to_mypackage")

returns the code to be checked. Often the error above is caused by a
newline in the parameter-list in the Rd-file. 

Torsten

> 
> It would be helpful to have an indication of the file which contains the
> error. The corresponding line in 
> 
> \pllib.Rcheck\pllib-Ex.R
> 
> is even a blank line.
> 
> Thanks for help
> --christian
> Dr.sc.math.Christian W. Hoffmann
> Mathematics and Statistical Computing
> Landscape Modeling and Web Applications
> Swiss Federal Research Institute WSL 
> Zuercherstrasse 111
> CH-8903 Birmensdorf, Switzerland
> phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
> e-mail: christian.hoffmann_at_wsl.ch__prevent_spamming
> www: http://www.wsl.ch/staff/christian.hoffmann/
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Sep  6 10:00:00 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Sep 2001 10:00:00 +0200
Subject: [R] code/documentation mismatches
In-Reply-To: <15255.11276.870562.70503@mithrandir.hornik.net>
References: <3.0.6.32.20010906091302.0097dac0@mail.wsl.ch>
	<15255.11276.870562.70503@mithrandir.hornik.net>
Message-ID: <x266awycjj.fsf@blueberry.kubism.ku.dk>

Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at> writes:

> If you have access to the current r-devel snapshot, use R CMD check from
> there (in fact, I think you could simply use codoc() from there).  The
> newer versions report which file caused the problem, etc.  If you do not
> have such access, use codoc() from the R prompt with `keep = TRUE', and
> inspect the tempfiles.  Typically, the problems come from statements in
> \usage which are not valid R code.

Oops. I overlooked keep=TRUE so you wouldn't need to turn debugging on
just to see the file. Anyways, both that and verbose=TRUE is available
in 1.3.1 if you run codoc explicitly as I suggested.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu Sep  6 10:13:34 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 6 Sep 2001 10:13:34 +0200 (MET DST)
Subject: [R] Using R with large objects: special entry in the FAQ
Message-ID: <Pine.OSF.3.96.1010906100346.25274A-100000@ija.csic.es>

R user:

If you have any advice or trick relevant to 
"using R with large data sets" (i.e., methods
to be prefered, methods to be avoided, memory setings,
batch processing..., anything you could think that
might be useful in this context) please consider
sending it to me at 
alobo at ija.csic.es 
(NOT to the list). I will collect them and 
write a summary that could be included in the
FAQ (if the FAQ curator agrees).

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Thu Sep  6 11:12:39 2001
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Thu, 06 Sep 2001 11:12:39 +0200
Subject: [R] Replacing NAs with interpolated values
References: <Pine.LNX.4.21.0109051642590.30491-100000@artemis.imbe.med.uni-erlangen.de> <x2ofopk6n0.fsf@blueberry.kubism.ku.dk>
Message-ID: <3B973E07.8F1ABE0A@psy.uni-muenchen.de>

Peter Dalgaard BSA wrote:
[snip] 
> How about this:
> 
> y <- c(1, 2, NA, NA, NA, 10)
> x <- seq(along=y)
> approx(x,y,x)$y
> #[1]  1  2  4  6  8 10

Thanks, this do the trick.

Bye, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From v.moreno at ico.scs.es  Thu Sep  6 17:56:41 2001
From: v.moreno at ico.scs.es (Victor Moreno)
Date: Thu, 6 Sep 2001 11:56:41 -0400
Subject: [R] crosstabulation
Message-ID: <01090611564101.11158@serc-vm.ico.scs.es>

Hi,
I find difficult to read crosstabulated data without percentages, so I wrote 
this dirty function that may be useful to others. It only works up to 3 
dimensions since I am not very good at programming in R. I would appreciate 
if someone else has a better similar function or can improve this one.

As an example of use:
> x<-rbinom(100,1,.3)
> y<-rbinom(100,1,.3)
> z<-rbinom(100,1,.3)

> Table(x)
  x     (%)
0    71 ( 71.0)
1    29 ( 29.0)

> Table(x,y)
   y
x   0     (%)     1     (%)
  0    52 ( 73.2)    19 ( 26.8)
  1    17 ( 58.6)    12 ( 41.4)

> Table(x,y,margin=2)  #column percentages
   y
x   0     (%)     1     (%)
  0    52 ( 75.4)    19 ( 61.3)
  1    17 ( 24.6)    12 ( 38.7)

> Table(x,y,z)
 
 z = 0
   y
x   0     (%)     1     (%)
  0    38 ( 71.7)    15 ( 28.3)
  1    14 ( 63.6)     8 ( 36.4)
 
 z = 1
   y
x   0     (%)     1     (%)
  0    14 ( 77.8)     4 ( 22.2)
  1     3 ( 42.9)     4 ( 57.1)
>

#################################################
Table<-
function(..., margin = 1)
{
proportion.table<-
function(data, MARGIN = 1)
{
if(is.null(d <- dim(data)))
stop("data is not an array")
if(any(data < 0) || any(trunc(data) != data))
stop("data is not an array of counts")
if(length(MARGIN))
sweep(data, MARGIN = MARGIN, apply(data, MARGIN = MARGIN, sum), "/")
else data/sum(data)
}
tt <- table(...)
dd <- dim(tt)
dnam <- dimnames(tt)
if(length(dd) > 3)
stop("max 3 dimensions")
if(length(dd) == 1) {
dd <- c(dd, 1)
dim(tt) <- dd
margin <- 2
dnam<-list(dnam[[1]],names(dnam[1]))
}
dd[2] <- dd[2] * 2
rr <- array(dim = dd)
rr.lab <- rep(dnam[[2]], 2)
if(length(dd) == 3) {
for(j in 1:dd[3]) {
pp <- proportion.table(tt[,  , j], margin)
for(i in seq(1, dd[2], 2)) {
rr[, i, j] <- formatC(tt[, i/2 + 0.5, j], 0,5,format="f" )
rr[, i + 1, j] <- paste("(", formatC(100 * pp[, i/2 + 0.5], 1, 5,format="f"), 
")", sep = "")
rr.lab[i] <- dnam[[2]][i/2 + 0.5]
rr.lab[i + 1] <- "(%)"
} } }
else {
# dim<=2
pp <- proportion.table(tt, margin)
for(i in seq(1, dd[2], 2)) {
rr[, i] <- formatC(tt[, i/2 + 0.5], 0, 5,format="f")
rr[, i + 1] <- paste("(", formatC(100 * pp[, i/2 + 0.5], 1, 5,format="f"), 
")", sep = "")
rr.lab[i] <- dnam[[2]][i/2 + 0.5]
rr.lab[i + 1] <- "(%)"
}
}
dnam[[2]] <- rr.lab
dimnames(rr) <- dnam

if(length(dim(rr)) == 2) {
print(rr, quote = F)
}
else {
for(i in 1:dim(rr)[3]) {
cat("\n",names(dnam[3]),"=", dimnames(rr)[[3]][i], "\n")
print(rr[,  , i], quote = F)
}
}

invisible(rr)
}

#################################################

-- 
Victor Moreno                                       V.Moreno at ico.scs.es
Servei d'Epidemiologia i Registre del Cancer        http://lbe.uab.es
Institut Catala d'Oncologia                         
Gran Via km 2.7, 08907 Hospitalet, Barcelona, Spain
Tel: + 34 93260 7434 / 7401 / 7812                  fax +34 93260 7787
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dlucy at maths.ed.ac.uk  Thu Sep  6 12:51:35 2001
From: dlucy at maths.ed.ac.uk (David Lucy)
Date: Thu, 6 Sep 2001 11:51:35 +0100 (BST)
Subject: [R] code/documentation mismatches
In-Reply-To: <3.0.6.32.20010906091302.0097dac0@mail.wsl.ch>
Message-ID: <Pine.SOL.4.21.0109061145380.19071-100000@wallis>

> * checking for code/documentation mismatches ... WARNING
> Error in parse(file, n, text, prompt) : syntax error on line 22
> 
> I am able to sort out which of the files is the culprit is by swapping
> files in and out of the /R and /man directories. But I cannot find the
> syntax error, the .Rd file seems to be correct.


Christian,

I've just been updating the code for a couple of packages and I got the
same "* checking for code/documentation mismatches ... WARNING" - although I
didn't get the syntax error bit. What I found it to be was that R CMD goes
through the R code files and picks out all the parameters to pass to a function,
then if it sees that there is an undocumented parameter flags a warning. I
certainly had a couple of undocumented parameters I hadn't noticed.

Yours may be the same sort of thing.

Regards, David.




**********************************************************************
**  Dr. David Lucy                                                  **
**  Joseph Bell Centre for Forensic Statistics and Legal Reasoning  **
**  Department of Mathematics and Statistics                        **
**  The University of Edinburgh                                     **
**  James Clerk Maxwell Building                                    **
**  King's Buildings                                                **
**  Mayfield Road                                                   **
**  Edinburgh                                                       **
**  EH9 3JZ                                                         **
**                                                                  **
**  tel: 0131 650 5057                                              **
**  extension: 505057                                               **
**  e-mail: dlucy at maths.ed.ac.uk                                    **
**                                                                  **
**  Truncated address:                                              **
**                                                                  **
**  Dr. David Lucy                                                  **
**  Department of Mathematics                                       **
**  JCMB                                                            **
**  King's Buildings                                                **
**  Edinburgh University                                            **
**  Edinburgh                                                       **
**  EH9 3JZ                                                         **
**********************************************************************



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dray at biomserv.univ-lyon1.fr  Thu Sep  6 14:04:01 2001
From: dray at biomserv.univ-lyon1.fr (Stephane Dray)
Date: Thu, 6 Sep 2001 14:04:01 +0200
Subject: [R] svd and eigen
Message-ID: <a05010402b7bd150b43b0@[134.214.32.69]>

Hello List,
i need help for eigen and svd functions. I have a non-symmetric 
square matrix. These matrix is not positive (some eigenvalues are 
negative). I want to diagonalise these matrix. So, I use svd and 
eigen and i compare the results. eigen give me the "good" eigenvalues 
(positive and negative). I compare with another software and the 
results are the same. BUT, when i use svd, the results are completely 
different (no sign and not the same value). I thought that svd is a 
generalisation of eigen for non-square matrices but apparently, there 
are more differences ?
I 've R1.2.3 on W2000.

Thanks in advance.
-- 
St?phane DRAY
---------------------------------------------------------------
Biom?trie et Biologie ?volutive - Equipe "?cologie Statistique"
Universite Lyon 1 - Bat 711 - 69622 Villeurbanne CEDEX - France

Tel : 04 72 43 27 56			   Fax : 04 78 89 27 19
       04 72 43 27 57 	   E-mail : dray at biomserv.univ-lyon1.fr 
---------------------------------------------------------------
ADE-4               http://pbil.univ-lyon1.fr/ADE-4/ADE-4F.html
---------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Sep  6 14:10:44 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Thu, 6 Sep 2001 08:10:44 -0400 (EDT)
Subject: [R] Prompt with scan()
In-Reply-To: <Pine.GSO.4.31.0109060754090.9548-100000@auk.stats>
Message-ID: <Pine.LNX.4.30.0109060806010.21754-100000@bolker.zoo.ufl.edu>


  I was using it for a prompt in my functions that index the CRAN
packages: I have a line

answer <- substr(myreadline("Delete temporary index files (y/N)? "), 1, 1)

(37 characters in the prompt string)
  I wouldn't imagine using readline with a prompt more than 80 characters,
but it's hard to see why it would hurt to make CONSOLE_PROMPT_SIZE equal
to 256, or even 512 ... people always end up using things in ways you
didn't expect, and in this case it seems harmless.

  thanks,
    Ben Bolker

On Thu, 6 Sep 2001, Prof Brian D Ripley wrote:

> On Wed, 5 Sep 2001, Ben Bolker wrote:
>
> >   Do you mean readline()?
> >
> > readline has a 32-character limit, which you can get around as follows:
> >
> >  myreadline <- function(prompt="") {
> >   cat(prompt)
> >   readLines(n=1)
> > }
>
> For the record, that's not the same thing.  Consider the effects of sink().
> Using stderr() would be safer, but not 100% the same.
>
> Is there a real need to raise the 32-char limit?  We can very easily do so
> (or users can: just change
>
> #define CONSOLE_PROMPT_SIZE     32
>
> in src/main/scan.c)  There does need to be a limit though: what do you
> want?
>
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Thu Sep  6 19:28:04 2001
From: gb at stat.umu.se (=?ISO-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Thu, 6 Sep 2001 19:28:04 +0200 (CEST)
Subject: [R] Using libRmath.a in Fortran?
In-Reply-To: <x2bskox2t5.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.33.0109061859200.23061-100000@tal.stat.umu.se>

On 6 Sep 2001, Peter Dalgaard BSA wrote:

> G?ran Brostr?m <gb at stat.umu.se> writes:
>
> > Is it possible to call the routines in the standalone library
> > libRmath from Fortran programs? I'm using g77 on Linux.
>
> Not directly. Look at e.g.
>
> double dweibull(double x, double shape, double scale, int give_log)
>
> this uses call-by-value semantics, where Fortran always uses
> call-by-reference, i.e. pointers. So, notwithstanding linker and
> symbol naming issues, you would at the very least have to write
> wrapper functions to the tune of
>
> double dweibw(double *x, double *shape, double *scale, int *give_log)
> {
>         return dweibull(*x, *shape, *scale, *give_log);
> }
>
>

Thanks to Peter, and also to Douglas Bates, who also gave hints to
how to solve the above-mentioned "naming issues": I came up with
the following program, which (seems to!?) work:

Fortran program (nrand.f) :
---------------------------
      program nrand

      implicit none

      integer first, second
      double precision frnorm, mean, sd, y

      first = 19609
      second = 10198

      call fsetseed(first, second)

      mean = 0.d0
      sd = 1.d0

      y = frnorm(mean, sd)
      write(*, '(/3(a, f6.3))') 'rnorm(', mean, ', ', sd, ') = ', y
C     Just to show that "y is random":
      y = frnorm(mean, sd)
      write(*, '(a, 9x, f6.3/)') 'another value: ', y

      end

And the  C  wrapper (frnorm.c) :
--------------------
#define MATHLIB_STANDALONE
#include <Rmath.h>      /* to define rnorm, etc */
#include <R_ext/RS.h>   /* to define F77_NAME */

double F77_NAME(frnorm)(double *mean, double *sd)
{
  return rnorm(*mean, *sd);
}

void F77_NAME(fsetseed)(int* one, int* two)
{
  set_seed( (unsigned int)(*one), (unsigned int)(*two) );
}

And the Makefile:
-----------------
OBJS = frnorm.o nrand.o

CFLAGS = -Wall -g -I/usr/local/lib/R/include
FFLAGS = -Wall -g -C

LIBS = -lRmath

nrand: $(OBJS)
	g77 -o nrand $(OBJS) $(LIBS)

%.o : %.f
	g77 $(FFLAGS) -c $<

%.o : %.c
	gcc $(CFLAGS) -c $<
--------------------------------------------------------------------

Is this correct? And is this a correct way of accessing the random
number generator? It is the line "A little care is needed to use the
random-number routines..." from the documentation that worries me a
little.

Thanks,

G?ran
-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Gerard.Keogh at cso.ie  Thu Sep  6 16:08:16 2001
From: Gerard.Keogh at cso.ie (Gerard.Keogh@cso.ie)
Date: Thu, 06 Sep 2001 15:08:16 +0100
Subject: [R] overlay plots
Message-ID: <OF62D87A41.4733FB80-ON80256ABF.004D2E97@cso.ie>

Hi all!

I new to R (I don't know anything about S+ either!)

I've a simple question:

How do I generate overlay plots in R?
So far as I can see the plot(x, y) operator will only give me one graph and
the plot(x ~ y + z) will give me 2 separate plots.
Is there an easy way to overlay or am I missing the obvious?


Any help welcome.

Gerard Keogh

The information in this email, and any attachments transmitted with it, are confidential 
and are for the intended recipient only. If you receive this message in error, please 
notify us via postmaster at cso.ie.

To see the latest figures from the CSO go to http://www.cso.ie
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jniesch at gwdg.de  Thu Sep  6 16:29:34 2001
From: jniesch at gwdg.de (Jens Nieschulze)
Date: Thu, 6 Sep 2001 16:29:34 +0200 (MET DST)
Subject: [R] overlay plots
In-Reply-To: <OF62D87A41.4733FB80-ON80256ABF.004D2E97@cso.ie>
Message-ID: <Pine.SO4.4.10.10109061627420.19624-100000@ufobi7.uni-forst.gwdg.de>

On Thu, 6 Sep 2001 Gerard.Keogh at cso.ie wrote:

> Hi all!
> 
> I new to R (I don't know anything about S+ either!)
> 
> I've a simple question:
> 
> How do I generate overlay plots in R?
> So far as I can see the plot(x, y) operator will only give me one graph and
> the plot(x ~ y + z) will give me 2 separate plots.
> Is there an easy way to overlay or am I missing the obvious?
between two calls to plot you should set
par(new=T)

specify the xlim=c(x1,x2) ylim=c(y1,y2) in each call to plot() to get
propper matching of the overlaid plots
> 
> 
> Any help welcome.
> 
> Gerard Keogh
> 
> The information in this email, and any attachments transmitted with it, are confidential 
> and are for the intended recipient only. If you receive this message in error, please 
> notify us via postmaster at cso.ie.
> 
> To see the latest figures from the CSO go to http://www.cso.ie
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

***********************************************************************
Jens Nieschulze

Institute for Forest Biometrics &	Phone: ++49-551-39-12107
Applied Computer Science		Fax  : ++49-551-39-3465
Buesgenweg 4
37077 Goettingen		E-mail: jniesch at uni-forst.gwdg.de
GERMANY				http://www.uni-forst.gwdg.de/~jniesch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snw at mcs.st-and.ac.uk  Thu Sep  6 16:29:23 2001
From: snw at mcs.st-and.ac.uk (Simon Wood)
Date: Thu, 6 Sep 2001 15:29:23 +0100 (BST)
Subject: [R] svd and eigen
In-Reply-To: <a05010402b7bd150b43b0@[134.214.32.69]>
Message-ID: <Pine.GSO.4.21.0109061522500.1279-100000@dolphin>

The singular values of a matrix A are the +ve square roots of
the eigenvalues of A'A, or AA' (depending on the shape of A), where A' is
transpose of A. e.g....

> A<-matrix(rnorm(10),2,5)
> svd(A)$d
[1] 1.6157235 0.9652578
> eigen(A%*%t(A))$values^0.5
[1] 1.6157235 0.9652578

Simon

> Hello List,
> i need help for eigen and svd functions. I have a non-symmetric 
> square matrix. These matrix is not positive (some eigenvalues are 
> negative). I want to diagonalise these matrix. So, I use svd and 
> eigen and i compare the results. eigen give me the "good" eigenvalues 
> (positive and negative). I compare with another software and the 
> results are the same. BUT, when i use svd, the results are completely 
> different (no sign and not the same value). I thought that svd is a 
> generalisation of eigen for non-square matrices but apparently, there 
> are more differences ?
> I 've R1.2.3 on W2000.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From remigijus.lapinskas at maf.vu.lt  Thu Sep  6 16:36:27 2001
From: remigijus.lapinskas at maf.vu.lt (Remigijus Lapinskas)
Date: Thu, 6 Sep 2001 16:36:27 +0200
Subject: [R] East European
Message-ID: <14691.010906@maf.vu.lt>

Dear List,

There has just been this question (as well as the answer to it) in the S list:

> I would like to put some text in plots... but in french. How can I
> write accented letters?
> I suppose that there is a possibility similar as the one which
> works in LaTeX, isn't it?

What about R (for Windows and in East European languages)? Specifically,
how can I give a title like this:

plot(x,y,main="\v Salis") (i.e. S must be with a "hat")?


Thank you,
Remigijus


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.georges at uibk.ac.at  Thu Sep  6 16:47:58 2001
From: christian.georges at uibk.ac.at (Christian Georges)
Date: Thu, 06 Sep 2001 16:47:58 +0200
Subject: [R] Array as time series?
Message-ID: <3B978C9E.A377B460@uibk.ac.at>

Dear R-helpers,

I have 4-dimensional atmospheric data (x,y,z,t), which I want to analyse
on spatio-temporal diversities.
As far as I understand there only exists the possibility to construct
time series as two-dimensional matrices (mts).
For the moment, I hold it in different objects:

1. a four-dimensional array for the spatial related analyses
2. a two-dimensional mts timeserie, which was derived from 1. by
computing spatial means.

But, still this doesn't help for combined spatio-temporal analysis.

One could regard the time dimension as just another linearily spaced
dimension in the four-dimensional array, but when it comes analyses and
graphics output it gets complicated, since one can't use all timeseries
(ts-) related functions (require ts attributes).

Could you provide me some comments, workarounds or your experiences on
similar problems.

Thanks in advance,

Christian
-------------- next part --------------
A non-text attachment was scrubbed...
Name: christian.georges.vcf
Type: text/x-vcard
Size: 324 bytes
Desc: Karte fr Christian Georges
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20010906/bc572dbc/christian.georges.vcf

From dray at biomserv.univ-lyon1.fr  Thu Sep  6 17:12:11 2001
From: dray at biomserv.univ-lyon1.fr (Stephane Dray)
Date: Thu, 6 Sep 2001 17:12:11 +0200
Subject: [R] svd and eigen
In-Reply-To: <Pine.GSO.4.21.0109061522500.1279-100000@dolphin>
References: <Pine.GSO.4.21.0109061522500.1279-100000@dolphin>
Message-ID: <a05010406b7bd428cf5d6@[134.214.32.69]>

>The singular values of a matrix A are the +ve square roots of
>the eigenvalues of A'A, or AA' (depending on the shape of A), where A' is
>transpose of A. e.g....
>
>>  A<-matrix(rnorm(10),2,5)
>>  svd(A)$d
>[1] 1.6157235 0.9652578
>>  eigen(A%*%t(A))$values^0.5
>[1] 1.6157235 0.9652578
>

Yes, of course ... but :
>  svd(mat)$d
  [1] 1.17069725 1.01156192 0.90637068 0.81183730 0.75508662 
0.57540484 0.53941772 0.51359072 0.49338327 0.45236340
[11] 0.42074523 0.40355803 0.37502763 0.36161939 0.31022290 
0.30024633 0.27126673 0.25990555 0.19974930 0.18071039
[21] 0.14214615 0.13599764 0.09270370 0.06966780 0.04571913
>  eigen(mat)$values
  [1]  1.00000000  0.89480696  0.79123824  0.69792179 -0.63442305 
-0.55072855 -0.52263267  0.50820449 -0.50552311
[10] -0.45431956 -0.40717371  0.37976933 -0.36275320  0.34892256 
-0.34126875 -0.31841576 -0.30411335  0.27663288
[19] -0.22103895 -0.19623454 -0.14990290  0.14228531 -0.10127212 
0.08101399 -0.05099532

-- 
St?phane DRAY
---------------------------------------------------------------
Biom?trie et Biologie ?volutive - Equipe "?cologie Statistique"
Universite Lyon 1 - Bat 711 - 69622 Villeurbanne CEDEX - France

Tel : 04 72 43 27 56			   Fax : 04 78 89 27 19
       04 72 43 27 57 	   E-mail : dray at biomserv.univ-lyon1.fr 
---------------------------------------------------------------
ADE-4               http://pbil.univ-lyon1.fr/ADE-4/ADE-4F.html
---------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep  6 17:23:01 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 6 Sep 2001 16:23:01 +0100 (BST)
Subject: [R] East European
In-Reply-To: <14691.010906@maf.vu.lt>
Message-ID: <Pine.LNX.4.31.0109061615290.2588-100000@gannet.stats>

On Thu, 6 Sep 2001, Remigijus Lapinskas wrote:

> Dear List,
>
> There has just been this question (as well as the answer to it) in the S list:

Answered by me ...

> > I would like to put some text in plots... but in french. How can I
> > write accented letters?
> > I suppose that there is a possibility similar as the one which
> > works in LaTeX, isn't it?
>
> What about R (for Windows and in East European languages)? Specifically,
> how can I give a title like this:
>
> plot(x,y,main="\v Salis") (i.e. S must be with a "hat")?

That's Scaron, \212, and it works for me (Windows 2000).  Did you actually
try it?

There are limits: only characters in WinAnsi encoding are likely to work.

As for `East European': cyrllic languages are not covered, nor is
at least one Western European language (Greek).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Thu Sep  6 17:36:40 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Thu, 06 Sep 2001 11:36:40 -0400
Subject: [R] overlay plots
In-Reply-To: <OF62D87A41.4733FB80-ON80256ABF.004D2E97@cso.ie>
References: <OF62D87A41.4733FB80-ON80256ABF.004D2E97@cso.ie>
Message-ID: <sg5fpt8ml4pogr6qm9sdkp9cfp5ors57mk@4ax.com>

On Thu, 06 Sep 2001 15:08:16 +0100, you wrote in message
<OF62D87A41.4733FB80-ON80256ABF.004D2E97 at cso.ie>:

>Hi all!
>
>I new to R (I don't know anything about S+ either!)
>
>I've a simple question:
>
>How do I generate overlay plots in R?
>So far as I can see the plot(x, y) operator will only give me one graph and
>the plot(x ~ y + z) will give me 2 separate plots.
>Is there an easy way to overlay or am I missing the obvious?
>
>
>Any help welcome.

The general scheme in R (and S+) is that one call sets up a plotting
region and establishes a coordinate system, and possibly fills it, and
then further calls can be used to embellish it.  

What you want to do is to use one call to plot y vs. x, then add the z
vs. x points to that plot.  A simple way to do that is

 plot(x,  y)  
 points(x, z)

Note that the horizontal coordinate is listed first when you list
arguments, but the vertical coordinate is listed first when you use a
formula, so this is equivalent:

 plot(y ~ x)
 points(z ~ x)
 
Because the first call establishes the coordinates, you might find
that not all the z values are shown.  To guarantee this, you can use
optional arguments in the first call, e.g.

 plot(x, y, ylim = range(c(y,z)))

You should also look at "axis", "lines", "text", "mtext", "box" etc.
for other functions to embellish the plot.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Sep  6 17:36:19 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Sep 2001 17:36:19 +0200
Subject: [R] svd and eigen
In-Reply-To: <a05010406b7bd428cf5d6@[134.214.32.69]>
References: <Pine.GSO.4.21.0109061522500.1279-100000@dolphin>
	<a05010406b7bd428cf5d6@[134.214.32.69]>
Message-ID: <x2r8tkwcuk.fsf@blueberry.kubism.ku.dk>

Stephane Dray <dray at biomserv.univ-lyon1.fr> writes:

> >The singular values of a matrix A are the +ve square roots of
> >the eigenvalues of A'A, or AA' (depending on the shape of A), where A' is
> >transpose of A. e.g....
> >
> >>  A<-matrix(rnorm(10),2,5)
> >>  svd(A)$d
> >[1] 1.6157235 0.9652578
> >>  eigen(A%*%t(A))$values^0.5
> >[1] 1.6157235 0.9652578
> >
> 
> Yes, of course ... but :
> >  svd(mat)$d
>   [1] 1.17069725 1.01156192 0.90637068 0.81183730 0.75508662
> 0.57540484 0.53941772 0.51359072 0.49338327 0.45236340
> [11] 0.42074523 0.40355803 0.37502763 0.36161939 0.31022290 0.30024633
> 0.27126673 0.25990555 0.19974930 0.18071039
> [21] 0.14214615 0.13599764 0.09270370 0.06966780 0.04571913
> >  eigen(mat)$values
>   [1]  1.00000000  0.89480696  0.79123824  0.69792179 -0.63442305
> -0.55072855 -0.52263267  0.50820449 -0.50552311
> [10] -0.45431956 -0.40717371  0.37976933 -0.36275320  0.34892256
> -0.34126875 -0.31841576 -0.30411335  0.27663288
> [19] -0.22103895 -0.19623454 -0.14990290  0.14228531 -0.10127212
> 0.08101399 -0.05099532

You're under the mistaken impression that the eigenvalues of A'A have
anything to do with those of A:

A <- matrix(rnorm(9),3)
eigen(t(A)%*%A)$values
abs(eigen(A)$values)^2

# it only works when A is symmetric:
A <- A+t(A)
eigen(t(A)%*%A)$values
eigen(A)$values
eigen(A)$values^2


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stephan at fs2.ma.man.ac.uk  Thu Sep  6 17:30:28 2001
From: stephan at fs2.ma.man.ac.uk (Dr. Stephan Martin Rudolfer)
Date: Thu, 6 Sep 2001 17:30:28 BST
Subject: [R] Update.packages() seems to just stop
Message-ID: <86E28E37A50@fs2.ma.man.ac.uk>

OS: Win98

When using update.packages(), either directly or using the packages 
option at the top of the screen, I get the following messages.  

> update.packages()
trying URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
Content type `text/plain' length 5164 bytes
opened URL
downloaded 5164 bytes

>


However, the first time I successfully managed to use 
update.packages(), it gave me the whole list of packages installed on 
R, with the options of downloading each one or not.

What has changed, and how can I get back to the previous  results?

Many thanks in advance for any help given.


******************************************************************************************
* Dr. Stephan M. Rudolfer  Office tel: +44 161 275 5912                                  *
*     Chairman, Manchester Group, Royal Statistical Society                              *
* Mathematics Department   Dept. tel: +44 161 275 5800                                   * 
* The University           Fax      : +44 161 275 5819                                   * 
* MANCHESTER M13 9PL       Email    : s.m.rudolfer at man.ac.uk                             *
* UK                       WWW      : http://www.maths.man.ac.uk/DeptWeb/Homepages/smr/  * 
******************************************************************************************


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at amadeus.statistik.uni-dortmund.de  Thu Sep  6 18:49:28 2001
From: ligges at amadeus.statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 06 Sep 2001 18:49:28 +0200
Subject: [R] Update.packages() seems to just stop
References: <86E28E37A50@fs2.ma.man.ac.uk>
Message-ID: <3B97A918.2E027A3F@statistik.uni-dortmund.de>



"Dr. Stephan Martin Rudolfer" wrote:
> 
> OS: Win98
> 
> When using update.packages(), either directly or using the packages
> option at the top of the screen, I get the following messages.
> 
> > update.packages()
> trying URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
> Content type `text/plain' length 5164 bytes
> opened URL
> downloaded 5164 bytes
> 
> >
> 
> However, the first time I successfully managed to use
> update.packages(), it gave me the whole list of packages installed on
> R, with the options of downloading each one or not.
> 
> What has changed, and how can I get back to the previous  results?
> 
> Many thanks in advance for any help given.


That happens, if no packages are outdated. Do you think, there are any
updated packages on CRAN (since you run update.packages() the last
time)?

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Thu Sep  6 19:24:24 2001
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Thu, 06 Sep 2001 13:24:24 -0400
Subject: [R] Fitting distributions
References: <Pine.LNX.4.31.0109050813240.3147-100000@gannet.stats>
Message-ID: <3B97B148.77198D83@umsanet.edu.bo>

Hola!

I think some of this is avaliable as fit.dist in Jim Lindsays
package gnlm.

Kjetil Halvorsen


Prof Brian Ripley wrote:
> 
> This has come up a couple of times recently.  MASS4 will have a
> general-purpose function for maximum-likelihood fitting and a set of
> wrappers for common distributions.
> 
> Here's a preview of the R version (rapidly converted this morning).
> You can do things like
> 
> fitdist(x, dnorm, list(mean = 0, sd = 1))
> fitdist(x, dnorm, list(sd = 1), mean=0.5)
> 
> the latter fixing the mean.
> 
> This is not much tested (in R and much of it had to be changed for R) but
> should give a flavour of what is possible.  Eventually there will be
> a much more comprehensive interface.
> 
> fitdist <- function(x, dist, start, ...)
> {
>     myfn <- function(parm, ...) -sum(log(dens(parm, ...)))
> 
>     dens1 <- function(parm, x, ...) dist(x, parm, ...)
>     dens2 <- function(parm, x, ...) dist(x, parm[1], parm[2], ...)
>     dens3 <- function(parm, x, ...) dist(x, parm[1], parm[2], parm[3], ...)
>     dens4 <- function(parm, x, ...)
>         dist(x, parm[1], parm[2], parm[3], , parm[4], ...)
> 
>     if(missing(x) || length(x) == 0 || mode(x) != "numeric")
>         stop("`x' must be a non-empty numeric vector")
>     if(missing(dist) || !is.function(dist))
>         stop("`dist' must be supplied as a function")
>     if(missing(start) || !is.list(start))
>         stop("`start' must be a named list")
>     nm <- names(start)
>     ## reorder arguments to dist
>     f <- formals(dist)
>     args <- names(f)
>     m <- match(nm, args)
>     if(any(is.na(m)))
>         stop("`start' specifies names which are not arguments to `dist'")
>     formals(dist) <- c(f[c(1, m)], f[-c(1, m)])
>     ## try to be somewhat efficient
>     switch(length(nm),
>            "1" = {dens <- dens1},
>            "2" = {dens <- dens2},
>            "3" = {dens <- dens3},
>            "4" = {dens <- dens3},
>            stop("only handle 1:4 variable parms"))
>     res <- optim(start, myfn, x=x, ...)
>     if(res$convergence > 0) stop("optimization failed")
>     res$par
> }
> 
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tpotter at home.com  Thu Sep  6 19:32:56 2001
From: tpotter at home.com (Tom Potter)
Date: Thu, 6 Sep 2001 12:32:56 -0500
Subject: [R] Erlang Loss Function in R
Message-ID: <NDBBKMMHALFKBOABLDBJMEKHCHAA.tpotter@home.com>

This is my first post here.  As a new user of R, I was pleased to discover a
simple and  elegant way to compute in R the Erlang Loss Function, which I
present below.

INTRODUCTION
The Erlang Loss Function is defined as

elf(n, a ) = ( a^n/n! ) / ( 1 + a + a^2/2 + a^3/3! + ... + a^n/n!)

for all real numbers a>=0 and all integers n>=0 (except that the function is
undefined when  BOTH n and a are zero).  The function can be extended
analytically to non-integral values  of n by various means.  The basic
reference is: Jagerman, D. L. (1974), "Some properties of  the Erlang loss
function", Bell System Tech. J. (53), 525-551.

The Erlang Loss Function is important in queueing theory, especially in
telecom  applications.  One use is in computing the blockage in the M/M/c/c
queue (Poisson arrivals,  exponential service times, finite number of
servers, no waiting positions).  Here

  blockage = elf( nserver, load )

where

  nserver = number of servers
  load = offered load in erlangs
  blockage = probability that an arriving customer finds all servers busy

FIRST ATTEMPT: ITERATION
Using a familiar iteration ("Erlang's B formula") one could write this code:

elf <- function(n, a)
  {
    b <- 1 ;  i<- 0
    while((i <- i+1)<=n) b <- b*a/(i+b*a)
    b
  }

This works for all integers n>=0 and all real numbers a>=0.  But it has
these deficiencies:  (1) slow for large 'n', (2) gives incorrect values when
'n' is not an integer, (3) will not  work when 'n' is a vector (but it does
allow 'a' to be a vector).

CODING USING GAMMA DISTRIBUTION
A nicer version of elf() exploits R's wonderful gamma distribution
functions!  I use the  fact, perhaps not generally known, that the Erlang
Loss Function is the ratio of the gamma  density to the gamma CDF, for
suitable parameters.  (Also, I'll change the name from elf()  to erlb(),
because this function is sometimes called "Erlang's B function", and because
'elf' is an abbreviation in frequent use with a different meaning in the
Unix world.)  Here  is the code:

erlb<- function(nsrv, nerl, log=FALSE)
{
  # Returns Erlang-B blockage for nsrv servers and nerl erlangs of traffic.
  # If log=TRUE, then logarithm of the blockage is returned.  Works for all
  # nsrv>=0 and all nerl>=0.  Both nsrv and nerl can be non-integers.

  lnerlb<-
    dgamma(nerl, shape=nsrv+1, scale=1, log=TRUE) -
    pgamma(nerl, shape=nsrv+1, scale=1, log.p=TRUE, lower.tail=FALSE) ;
  if (log) lnerlb else exp(lnerlb)
}

This version has these advantages
.  MUCH faster, especially for large values of the 1st argument
.  Works for non-integral 'nsrv'
.  Works when either 'nsrv', or 'nerl', or both are vectors
.  Can return an accurate logarithm of the Erlang Loss Function if that is
needed.

Tom Potter
Nashville, Tennessee
tpotter at home.com <mailto:tpotter at home.com>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tebaldi at rap.ucar.edu  Thu Sep  6 19:59:42 2001
From: tebaldi at rap.ucar.edu (Claudia Tebaldi)
Date: Thu, 6 Sep 2001 11:59:42 -0600 (MDT)
Subject: [R] interrupting the sourcing of a file
Message-ID: <Pine.GSO.4.05.10109061146420.11047-100000@virga.rap.ucar.edu>

Hi all

I'm running lm()/leaps() kind of computations within a loop, and I
submitted the entire thing by sourcing a file of R code in interactive
mode. 
I'd like to interrupt the evaluation of this (it's taking way too long)
but I am not able to. 
I'm running R-1.3.0 from an emacs window (ESS-5.0) and I'm on a linux box,
(Debian). I tried Control-c Control-c (nothing happens), or Control-g
(Quit appears in the minibuffer window, but with no other consequences
for the R process). 

I could kill the emacs job, but of course this would cause all the
computations done in this session to be lost. I'd be happy to
prevent that from happening...

thanks in advance

claudia

-------------------------------------------------------------------------
claudia tebaldi                                  NCAR  RAP
project scientist                                P.O. Box 3000
(303) 497-2830                                   Boulder, CO 80307
--------------------------------------------------------------------------




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep  6 20:33:54 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 6 Sep 2001 19:33:54 +0100 (BST)
Subject: [R] Fitting distributions
In-Reply-To: <3B97B148.77198D83@umsanet.edu.bo>
Message-ID: <Pine.LNX.4.31.0109061931450.2835-100000@gannet.stats>

On Thu, 6 Sep 2001, kjetil halvorsen wrote:

> Hola!
>
> I think some of this is avaliable as fit.dist in Jim Lindsays
> package gnlm.


Not according to his help page:

\name{fit.dist}
\title{Fit Probability Distributions to Frequency Data}

Not the same problem.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Sep  6 20:44:41 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 6 Sep 2001 11:44:41 -0700 (PDT)
Subject: [R] interrupting the sourcing of a file
In-Reply-To: <Pine.GSO.4.05.10109061146420.11047-100000@virga.rap.ucar.edu>
Message-ID: <Pine.A41.4.33.0109061142100.17872-100000@homer03.u.washington.edu>

On Thu, 6 Sep 2001, Claudia Tebaldi wrote:

> Hi all
>
> I'm running lm()/leaps() kind of computations within a loop, and I
> submitted the entire thing by sourcing a file of R code in interactive
> mode.
> I'd like to interrupt the evaluation of this (it's taking way too long)
> but I am not able to.
> I'm running R-1.3.0 from an emacs window (ESS-5.0) and I'm on a linux box,
> (Debian). I tried Control-c Control-c (nothing happens), or Control-g
> (Quit appears in the minibuffer window, but with no other consequences
> for the R process).
>
> I could kill the emacs job, but of course this would cause all the
> computations done in this session to be lost. I'd be happy to
> prevent that from happening...
>

You could try sending SIGINT to the R process with the kill command. That
is, find the process id (pid) of the R process and do
  kill -INT pid
from the shell.

It works for me, but so does C-c C-c.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Thu Sep  6 23:43:03 2001
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Thu, 6 Sep 2001 16:43:03 -0500
Subject: [R] Compiling 1.3.1 under RH Linux
Message-ID: <OF0D26EC2D.D29F79F9-ON86256ABF.00768015@mmm.com>

Hi,

I am trying to compile R-1.3.1 under RH-7.2 Linux.  I used the old gcc
compiler (kgcc) and the compilation went fine.  I can start R and run some
rudimentary tasks with no problem.  However, when I did

     make check

I got the following error in base-Ex.Rout

     > fa <- file.access(dir("."))
     Error in file.access(dir(".")) : file.access is not implemented on
this system

Any help will be appreciated.

Andy

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.S.Cowpertwait at massey.ac.nz  Fri Sep  7 00:03:37 2001
From: P.S.Cowpertwait at massey.ac.nz (Cowpertwait, Paul)
Date: Fri, 7 Sep 2001 10:03:37 +1200 
Subject: [R] Array as time series?
Message-ID: <98B01D2717B9D411B38F0008C784093164D09F@its-xchg2.massey.ac.nz>

If your data is a bit like rainfall at multiple sites, I could probably
offer some comments (assuming (x,y,z,t) is location and time?), although I
don't know how useful they will be for your particular application.

My (limited) experience is that R will do quite a lot up to bivariate time
series (e.g. ccf function), but beyond that you need to write your own code.
This could be in R, but may be more appropriate in a fully compiled language
(like C or Fortran) if you have a large data set (because R is too slow for
heavy number crunching work; although it appears to be faster than S-Plus).


Again I'm not sure whether this is relevant for your data set, but a fairly
common approach with climatological data is to attempt to reduce the
dimensions using principle components.  I understand PCA functions exist in
R, although I've never used them.  Depending on your data this approach may
simplify the problem.  


-----Original Message-----
From: Christian Georges [mailto:christian.georges at uibk.ac.at]
Sent: Friday, 7 September 2001 02:48
To: r-help at stat.math.ethz.ch; Christian Georges
Subject: [R] Array as time series?


Dear R-helpers,

I have 4-dimensional atmospheric data (x,y,z,t), which I want to analyse
on spatio-temporal diversities.
As far as I understand there only exists the possibility to construct
time series as two-dimensional matrices (mts).
For the moment, I hold it in different objects:

1. a four-dimensional array for the spatial related analyses
2. a two-dimensional mts timeserie, which was derived from 1. by
computing spatial means.

But, still this doesn't help for combined spatio-temporal analysis.

One could regard the time dimension as just another linearily spaced
dimension in the four-dimensional array, but when it comes analyses and
graphics output it gets complicated, since one can't use all timeseries
(ts-) related functions (require ts attributes).

Could you provide me some comments, workarounds or your experiences on
similar problems.

Thanks in advance,

Christian
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Sep  7 00:11:25 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Sep 2001 00:11:25 +0200
Subject: [R] Compiling 1.3.1 under RH Linux
In-Reply-To: <OF0D26EC2D.D29F79F9-ON86256ABF.00768015@mmm.com>
References: <OF0D26EC2D.D29F79F9-ON86256ABF.00768015@mmm.com>
Message-ID: <x2lmjsdl6a.fsf@blueberry.kubism.ku.dk>

apjaworski at mmm.com writes:

> Hi,
> 
> I am trying to compile R-1.3.1 under RH-7.2 Linux.  I used the old gcc
> compiler (kgcc) and the compilation went fine.  I can start R and run some
> rudimentary tasks with no problem.  However, when I did
> 
>      make check
> 
> I got the following error in base-Ex.Rout
> 
>      > fa <- file.access(dir("."))
>      Error in file.access(dir(".")) : file.access is not implemented on
> this system
> 
> Any help will be appreciated.
> 
> Andy

Um, isn't 7.2 still in beta? But why use kgcc, the ordinary gcc worked
ok with 7.1.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Sep  7 09:02:51 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 7 Sep 2001 09:02:51 +0200
Subject: [R] overlay plots
In-Reply-To: <sg5fpt8ml4pogr6qm9sdkp9cfp5ors57mk@4ax.com>
References: <OF62D87A41.4733FB80-ON80256ABF.004D2E97@cso.ie>
	<sg5fpt8ml4pogr6qm9sdkp9cfp5ors57mk@4ax.com>
Message-ID: <15256.28955.854218.459701@gargle.gargle.HOWL>

>>>>> "Duncan" == Duncan Murdoch <murdoch at stats.uwo.ca> writes:

    Duncan> On Thu, 06 Sep 2001 15:08:16 +0100, you wrote in message
    Duncan> <OF62D87A41.4733FB80-ON80256ABF.004D2E97 at cso.ie>:

    >> Hi all!
    >> 
    >> I new to R (I don't know anything about S+ either!)
    >> 
    >> I've a simple question:
    >> 
    >> How do I generate overlay plots in R?
    >> So far as I can see the plot(x, y) operator will only give me one graph and
    >> the plot(x ~ y + z) will give me 2 separate plots.
    >> Is there an easy way to overlay or am I missing the obvious?
    >> 
    >> 
    >> Any help welcome.

    Duncan> The general scheme in R (and S+) is that one call sets up a
    Duncan> plotting region and establishes a coordinate system, and
    Duncan> possibly fills it, and then further calls can be used to
    Duncan> embellish it.

    Duncan> What you want to do is to use one call to plot y vs. x, then
    Duncan> add the z vs. x points to that plot.  A simple way to do that
    Duncan> is

    Duncan> plot(x,  y)  
    Duncan> points(x, z)

    Duncan> Note that the horizontal coordinate is listed first when you
    Duncan> list arguments, but the vertical coordinate is listed first
    Duncan> when you use a formula, so this is equivalent:

    Duncan> plot(y ~ x)
    Duncan> points(z ~ x)
 
    Duncan> Because the first call establishes the coordinates, you might
    Duncan> find that not all the z values are shown.  To guarantee this,
    Duncan> you can use optional arguments in the first call, e.g.

    Duncan> plot(x, y, ylim = range(c(y,z)))

    Duncan> You should also look at "axis", "lines", "text", "mtext", "box" etc.
    Duncan> for other functions to embellish the plot.

But if it's really as simple, you might also think of using
matplot(), matlines(),...  which are useful wrappers to
one plot(.) + several points() / lines() calls.  For the above example,

    matplot(x, cbind(y,z))

Martin Maechler <maechler at stat.math.ethz.ch>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Fri Sep  7 10:41:49 2001
From: plummer at iarc.fr (Martyn Plummer)
Date: Fri, 07 Sep 2001 10:41:49 +0200 (CEST)
Subject: [R] Compiling 1.3.1 under RH Linux
In-Reply-To: <x2lmjsdl6a.fsf@blueberry.kubism.ku.dk>
Message-ID: <XFMail.20010907104149.plummer@iarc.fr>

On 06-Sep-2001 Peter Dalgaard BSA wrote:
> apjaworski at mmm.com writes:
> 
>> Hi,
>> 
>> I am trying to compile R-1.3.1 under RH-7.2 Linux.  I used the old gcc
>> compiler (kgcc) and the compilation went fine.  I can start R and run some
>> rudimentary tasks with no problem.  However, when I did
>> 
>>      make check
>> 
>> I got the following error in base-Ex.Rout
>> 
>>      > fa <- file.access(dir("."))
>>      Error in file.access(dir(".")) : file.access is not implemented on
>> this system
>> 
>> Any help will be appreciated.
>> 
>> Andy
> 
> Um, isn't 7.2 still in beta? But why use kgcc, the ordinary gcc worked
> ok with 7.1.

kgcc also works with 7.1, but I'm not sure why you would want to use it.
Although the version of gcc (2.96) that shipped with Red Hat 7.0 was
horribly broken, it has been fixed.

You can install an RPM for R-1.3.1 which is available on CRAN.  This was
compiled on 7.1, but since Red Hat are supposed to maintain binary
compatibility across point releases, it should install on 7.2.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From PHewson at devon.gov.uk  Fri Sep  7 10:38:07 2001
From: PHewson at devon.gov.uk (Paul Hewson)
Date: Fri, 7 Sep 2001 09:38:07 +0100 
Subject: [R] chron is.weekend() function
Message-ID: <839153510892D31199B000508B5ECDB50B1ED90A@cor-exg3.devon.gov.uk>

Hello,

I have a dataset which has fields giving both calendar date and weekday.   I
know better functions are now available, but I am still using chron because
of the is.holiday() function and a homemade (even Heath Robinson would be
ashamed) is.daylight() function. 

As a check for typos in the data input, I checked that the dates matched the
weekdays.   I'm getting some confusing results from the is.weekend function
in chron.   For example (in US format: mm/dd/yy):

> mb.df$dtg[is.weekend(mb.df$dtg) == FALSE & mb.df$Weekday == "Sun"]
  [1] (09/24/00 11:52:00) (07/30/00 13:30:00) (04/30/00 15:30:00)
  [4] (04/30/00 16:28:00) (06/04/00 17:35:00) (09/03/00 14:45:00)
  [7] (05/07/00 16:42:00) (12/17/00 11:55:00) (08/20/00 10:20:00)
 [10] (01/07/01 20:32:00) (06/18/00 15:45:00) (09/24/00 11:16:00)
 [13] (09/10/00 20:35:00) (03/18/00 17:50:00) (09/03/00 09:20:00)
 [16] (06/18/00 14:37:00) (09/24/00 15:47:00) (09/03/00 20:38:00)

I have checked most of these dates on my calendar and it agrees with the
original dataset that they are in fact Sundays.   Also, I note that
is.weekend() seems to think that Fridays from 2000 onwards are weekends.

The dataset contains data from 1996 until early 2001 and chron's
is.weekend() resolved dates correctly prior to 2000.   From the command line
however more recent dates are also resolved correctly.   For example I
tried:

> is.weekend("09/02/01")
 [1] TRUE

and

> is.weekend("09/03/01")
 [1] FALSE

which is correct and therefore gives me some worries about my data, but I
would really appreciate any ideas as to where I should start looking.

Thanks

Paul

This was run on R 1.3.0 on Mandrake 7.1 with chron 2.2-17   

-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
Paul Hewson     tel. (01392) 382773
Data Analyst and Research Officer

Road Safety Team, Environment Directorate, 
Devon County Council,
1st Floor, Lucombe House,
County Hall
Topsham Road
Exeter EX2 4QW

tel (01392) 382773   fax (01392) 382135
email phewson at devon.gov.uk
-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From HoyleS at prose.dpi.qld.gov.au  Fri Sep  7 10:56:53 2001
From: HoyleS at prose.dpi.qld.gov.au (Hoyle, Simon)
Date: Fri, 7 Sep 2001 18:56:53 +1000 
Subject: [R] State space modelling
Message-ID: <A3D56E56D0CED311A23300A0C9FC21FA01A0BC@SFCCRMNT001>

Hi, I'm new to R and am trying to implement a state-space model, and do some
simulations looking at how well it works. Does anyone have an example I
could use as a template? I'm having trouble working out where to start, and
haven't been able to find anything similar in the help files or on the web. 

My example is a surplus production fisheries model, so something similar to
that would be ideal. 

Thanks,
Simon

Simon Hoyle, Fisheries Modeller
Southern Fisheries Centre, PO Box 76, Deception Bay, Q 4508, Australia
(07) 3817 9541 (w)  3817 9555 (fax)  3269 0302 (h)
hoyles at dpi.qld.gov.au  /  simon_hoyle at iname.com /
sd.hoyle at student.qut.edu.au


********************************DISCLAIMER****************************
The information contained in the above e-mail message or messages 
(which includes any attachments) is confidential and may be legally 
privileged.  It is intended only for the use of the person or entity 
to which it is addressed.  If you are not the addressee any form of 
disclosure, copying, modification, distribution or any action taken 
or omitted in reliance on the information is unauthorised.  Opinions 
contained in the message(s) do not necessarily reflect the opinions 
of the Queensland Government and its authorities.  If you received 
this communication in error, please notify the sender immediately and 
delete it from your computer system network.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Fri Sep  7 11:54:00 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Fri, 7 Sep 2001 11:54:00 +0200
Subject: [R] Array as time series?
In-Reply-To: <3B978C9E.A377B460@uibk.ac.at>
Message-ID: <MABBLJDICACNFOLGIHJOIEIICFAA.phgrosje@ulb.ac.be>

A few indications about multivate analyses you can perform on time series:

- You can use any multivariate analysis like PCA and co, clustering methods
and so, considering time as just another variable. Although not implemented
in R, there are clustering methods with time connexity, i.e., in the final
dendrogram, all stations apppear in the chronological order and clusters are
constrained between adjacent stations in time (or space) only.

- A few multivariate analyses specific to space-time series:
+ Distogram

Mackas, D.L., 1984. Spatial autocorrelation of plankton community
composition in a continental shelf ecosystem. Limnol. Ecol., 20:451-471.

+ multiple autocorrelation with methods like crossD2 and D2 to the center.

Ibanez, F., 1981. Immediate detection of heterogeneities in continuous
multivariate oceanographic recordings. Application to time series analysis
of changes in the bay of Villefranche sur mer. Limnol. Oceanogr.,
26:336-349.

Ibanez, F., 1991. Treatment of the data deriving from the COST 647 project
on coastal benthic ecology: The within-site analysis. In: B. Keegan (ed),
Space and time series data analysis in coastal benthic ecology. Pp 5-43.

I certainly speak too much about something that is not finished yet... but
an R package for such multivariate time series analyses is in preparation
(due to the end of the year). See: http://www.sciviews.org/_passtec (in
French for the moment only).

All the best,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................



>Dear R-helpers,

>I have 4-dimensional atmospheric data (x,y,z,t), which I want to analyse
>on spatio-temporal diversities.
>As far as I understand there only exists the possibility to construct
>time series as two-dimensional matrices (mts).
>For the moment, I hold it in different objects:

>1. a four-dimensional array for the spatial related analyses
>2. a two-dimensional mts timeserie, which was derived from 1. by
>computing spatial means.

>But, still this doesn't help for combined spatio-temporal analysis.

>One could regard the time dimension as just another linearily spaced
>dimension in the four-dimensional array, but when it comes analyses and
>graphics output it gets complicated, since one can't use all timeseries
>(ts-) related functions (require ts attributes).

>Could you provide me some comments, workarounds or your experiences on
>similar problems.

>Thanks in advance,

>Christian

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Fri Sep  7 13:49:21 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Fri, 7 Sep 2001 13:49:21 +0200 (MET DST)
Subject: [R] "load" for text file with functions?
Message-ID: <Pine.OSF.3.96.1010907131928.24584A-100000@ija.csic.es>

Hi!

I'm writing down the methods that I used to
migrate from Splus to R and expand a bit the
R docs for this subject. Prior to send these
notes to the FAQ curator I would like to make sure
on the following:

Given an ascii text file with several
functions (i.e., myfuncs.txt), is there any equivalent to
load(), so that the functions become
usable in R? Or is it necessary
to install it as a library? 

(As a quick trick, I used
fix(newfunc) and then pasted
all the file myfuncs.txt in newfunc.
Then save(newfunc,file="myfuncs.R").
Note that data.restore does not
give good results for functions).

Thanks

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Sep  7 13:58:17 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Fri, 7 Sep 2001 07:58:17 -0400 (EDT)
Subject: [R] "load" for text file with functions?
In-Reply-To: <Pine.OSF.3.96.1010907131928.24584A-100000@ija.csic.es>
Message-ID: <Pine.LNX.4.30.0109070758090.23377-100000@bolker.zoo.ufl.edu>


  Do you mean source() ?

On Fri, 7 Sep 2001, Agustin Lobo wrote:

> Hi!
>
> I'm writing down the methods that I used to
> migrate from Splus to R and expand a bit the
> R docs for this subject. Prior to send these
> notes to the FAQ curator I would like to make sure
> on the following:
>
> Given an ascii text file with several
> functions (i.e., myfuncs.txt), is there any equivalent to
> load(), so that the functions become
> usable in R? Or is it necessary
> to install it as a library?
>
> (As a quick trick, I used
> fix(newfunc) and then pasted
> all the file myfuncs.txt in newfunc.
> Then save(newfunc,file="myfuncs.R").
> Note that data.restore does not
> give good results for functions).
>
> Thanks
>
> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sristatistician at yahoo.com  Fri Sep  7 14:14:50 2001
From: sristatistician at yahoo.com (srinivasa raghavan)
Date: Fri, 7 Sep 2001 05:14:50 -0700 (PDT)
Subject: [R] Installing loading package cclust -Windows 
Message-ID: <20010907121450.55533.qmail@web20109.mail.yahoo.com>

Hi R-users,

   I try to install "cclust" package binary for
windows but the package was not available for loading
from the load package menu in windows.The Zip file was
downloaded in to folder "library" inside the folder
"rw1030". 

   It is not clear what is wrong.Any help will be
appreciated.

srinivas    

__________________________________________________
Do You Yahoo!?
Get email alerts & NEW webcam video instant messaging with Yahoo! Messenger
http://im.yahoo.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Fri Sep  7 14:45:19 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Fri, 7 Sep 2001 14:45:19 +0200 (MET DST)
Subject: [R] "load" for text file with functions?
In-Reply-To: <Pine.LNX.4.30.0109070758090.23377-100000@bolker.zoo.ufl.edu>
Message-ID: <Pine.OSF.3.96.1010907141536.24584B-100000@ija.csic.es>

Glups.

Yes, thanks. I did not think on it in this context, as 
it is used to execute commands. But, in fact, myfunc <- function() {} is
a command... that creates myfunc. So I should have.

Agus

On Fri, 7 Sep 2001, Ben Bolker wrote:

> 
>   Do you mean source() ?
> 
> On Fri, 7 Sep 2001, Agustin Lobo wrote:
> 
> > Hi!
> >
> > I'm writing down the methods that I used to
> > migrate from Splus to R and expand a bit the
> > R docs for this subject. Prior to send these
> > notes to the FAQ curator I would like to make sure
> > on the following:
> >
> > Given an ascii text file with several
> > functions (i.e., myfuncs.txt), is there any equivalent to
> > load(), so that the functions become
> > usable in R? Or is it necessary
> > to install it as a library?
> >
> > (As a quick trick, I used
> > fix(newfunc) and then pasted
> > all the file myfuncs.txt in newfunc.
> > Then save(newfunc,file="myfuncs.R").
> > Note that data.restore does not
> > give good results for functions).
> >
> > Thanks
> >
> > Dr. Agustin Lobo
> > Instituto de Ciencias de la Tierra (CSIC)
> > Lluis Sole Sabaris s/n
> > 08028 Barcelona SPAIN
> > tel 34 93409 5410
> > fax 34 93411 0012
> > alobo at ija.csic.es
> >
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> 318 Carr Hall                                bolker at zoo.ufl.edu
> Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
> Box 118525                                   (ph)  352-392-5697
> Gainesville, FL 32611-8525                   (fax) 352-392-3704
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Fri Sep  7 16:26:41 2001
From: aolinto at bignet.com.br (Antonio Olinto)
Date: Fri, 7 Sep 2001 11:26:41 -0300
Subject: [R] fitting models with gnls
Message-ID: <002401c137a9$553dd1c0$ae54fea9@nautilus>

Dear R-list members,

Some months ago I wrote a message on the usage of gnls (nlme library) and here I come again.

Let me give an example:

I have a 10 year length-at-age data set of 10 fishes (see growth.dat at the end of this message) and I want to fit a von Bertalanffy growth model, Li= Linf*(1-exp(-k*(ti-t0))) where Li = length at age i, Linf= asymptotic length, k= curvature parameter, ti= age i, and t0= age of length 0.

I'd solved the problem using nls but the points are not independent. The length-at-age data are correlated for each fish because I'm following the growth history of each specimen.

Trying to use gnls I wrote to R-list and to Mr. Jose Pinheiro who kindly advised me on this matter. The problem was that using S-Plus he could fit the model and I, using R with the same commands, got an error message:

> growth.gnls <- gnls(lt ~ Linf*(1-exp(-K*(age-t0))),
+ data=growth.dat, params= Linf +K + t0 ~ 1, start=list(Linf=500,K=0.2,t0=0),
+ control = list(returnObject = T), corr = corAR1(form=~fish|age))


Error in "[<-.factor"(*tmp*, , value = grpShrunk[revOrderShrunk]) : 
        Argument "i" is missing, with no default

If I use nls function I can estimate the parameters:

> growth.nls <- nls(lt ~ Linf*(1-exp(-K*(age-t0))),
+ data=growth.dat, start=list(Linf=500,K=0.2,t0=0))

> summary(growth.nls)

Formula: lt ~ Linf * (1 - exp(-K * (age - t0)))

Parameters:
      Estimate Std. Error t value Pr(>|t|)    
Linf 509.72841    7.93394  64.247  < 2e-16 ***
K      0.19888    0.00764  26.031  < 2e-16 ***
t0     0.29873    0.04462   6.696  1.4e-09 ***
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1 

Residual standard error: 10.32 on 97 degrees of freedom

Correlation of Parameter Estimates:
      Linf      K
K  -0.9631       
t0 -0.6472 0.7827

Well, I would be grateful to receive any help.

Best regards,

Antonio Olinto
Fisheries Institute
Sao Paulo - BRASIL

-------------

> growth.dat

    fish age    lt
1      1   1  65.3
2      1   2 144.1
3      1   3 208.6
4      1   4 261.4
5      1   5 304.7
6      1   6 340.1
7      1   7 369.1
8      1   8 392.8
9      1   9 412.2
10     1  10 428.1
11     2   1  68.5
12     2   2 149.8
13     2   3 215.0
14     2   4 267.3
15     2   5 309.3
16     2   6 343.0
17     2   7 370.1
18     2   8 391.8
19     2   9 409.2
20     2  10 423.2
21     3   1  60.4
22     3   2 134.4
23     3   3 196.3
24     3   4 248.0
25     3   5 291.1
26     3   6 327.2
27     3   7 357.3
28     3   8 382.5
29     3   9 403.5
30     3  10 421.0
31     4   1  64.1
32     4   2 142.2
33     4   3 206.7
34     4   4 260.0
35     4   5 304.1
36     4   6 340.6
37     4   7 370.8
38     4   8 395.8
39     4   9 416.4
40     4  10 433.5
41     5   1  71.4
42     5   2 156.0
43     5   3 223.9
44     5   4 278.5
45     5   5 322.2
46     5   6 357.3
47     5   7 385.5
48     5   8 408.1
49     5   9 426.3
50     5  10 440.8
51     6   1  66.6
52     6   2 147.0
53     6   3 212.8
54     6   4 266.7
55     6   5 310.8
56     6   6 346.9
57     6   7 376.5
58     6   8 400.7
59     6   9 420.5
60     6  10 436.7
61     7   1  64.5
62     7   2 143.0
63     7   3 207.9
64     7   4 261.5
65     7   5 305.9
66     7   6 342.6
67     7   7 373.0
68     7   8 398.1
69     7   9 418.8
70     7  10 436.0
71     8   1  66.0
72     8   2 146.3
73     8   3 212.7
74     8   4 267.6
75     8   5 313.0
76     8   6 350.6
77     8   7 381.6
78     8   8 407.3
79     8   9 428.5
80     8  10 446.1
81     9   1  74.2
82     9   2 162.3
83     9   3 232.9
84     9   4 289.6
85     9   5 335.1
86     9   6 371.6
87     9   7 400.9
88     9   8 424.4
89     9   9 443.3
90     9  10 458.5
91    10   1  62.2
92    10   2 138.4
93    10   3 202.1
94    10   4 255.3
95    10   5 299.7
96    10   6 336.8
97    10   7 367.8
98    10   8 393.7
99    10   9 415.3
100   10  10 433.4
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010907/d001a160/attachment.html

From dj at research.bell-labs.com  Fri Sep  7 16:44:07 2001
From: dj at research.bell-labs.com (David James)
Date: Fri, 7 Sep 2001 10:44:07 -0400
Subject: [R] chron is.weekend() function
In-Reply-To: <839153510892D31199B000508B5ECDB50B1ED90A@cor-exg3.devon.gov.uk>; from PHewson@devon.gov.uk on Fri, Sep 07, 2001 at 09:38:07AM +0100
References: <839153510892D31199B000508B5ECDB50B1ED90A@cor-exg3.devon.gov.uk>
Message-ID: <20010907104406.D6103@jessie.research.bell-labs.com>

Hi Paul,

This is clearly a bug -- the argument needs to be coerced 
to a "dates" class argument, since the underlying algorithm relies 
on integer arithmetic (date+time objects are represented as
floating point numbers).

Thus you can use is.weekend(dates(mb.df$dtg)) as a workaround.  

(I'll send you a fix later on).

Paul Hewson wrote:
> Hello,
> 
> I have a dataset which has fields giving both calendar date and weekday.   I
> know better functions are now available, but I am still using chron because
> of the is.holiday() function and a homemade (even Heath Robinson would be
> ashamed) is.daylight() function. 
> 
> As a check for typos in the data input, I checked that the dates matched the
> weekdays.   I'm getting some confusing results from the is.weekend function
> in chron.   For example (in US format: mm/dd/yy):
> 
> > mb.df$dtg[is.weekend(mb.df$dtg) == FALSE & mb.df$Weekday == "Sun"]
>   [1] (09/24/00 11:52:00) (07/30/00 13:30:00) (04/30/00 15:30:00)
>   [4] (04/30/00 16:28:00) (06/04/00 17:35:00) (09/03/00 14:45:00)
>   [7] (05/07/00 16:42:00) (12/17/00 11:55:00) (08/20/00 10:20:00)
>  [10] (01/07/01 20:32:00) (06/18/00 15:45:00) (09/24/00 11:16:00)
>  [13] (09/10/00 20:35:00) (03/18/00 17:50:00) (09/03/00 09:20:00)
>  [16] (06/18/00 14:37:00) (09/24/00 15:47:00) (09/03/00 20:38:00)
> 
> I have checked most of these dates on my calendar and it agrees with the
> original dataset that they are in fact Sundays.   Also, I note that
> is.weekend() seems to think that Fridays from 2000 onwards are weekends.
> 
> The dataset contains data from 1996 until early 2001 and chron's
> is.weekend() resolved dates correctly prior to 2000.   From the command line
> however more recent dates are also resolved correctly.   For example I
> tried:
> 
> > is.weekend("09/02/01")
>  [1] TRUE
> 
> and
> 
> > is.weekend("09/03/01")
>  [1] FALSE
> 
> which is correct and therefore gives me some worries about my data, but I
> would really appreciate any ideas as to where I should start looking.
> 
> Thanks
> 
> Paul
> 
> This was run on R 1.3.0 on Mandrake 7.1 with chron 2.2-17   
> 
> -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
> Paul Hewson     tel. (01392) 382773
> Data Analyst and Research Officer
> 
> Road Safety Team, Environment Directorate, 
> Devon County Council,
> 1st Floor, Lucombe House,
> County Hall
> Topsham Road
> Exeter EX2 4QW
> 
> tel (01392) 382773   fax (01392) 382135
> email phewson at devon.gov.uk
> -=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kestickler at netscape.net  Fri Sep  7 16:35:46 2001
From: kestickler at netscape.net (kestickler@netscape.net)
Date: Fri, 07 Sep 2001 10:35:46 -0400
Subject: [R] R style guide
Message-ID: <1ED304FB.657E0AC9.0F79CEED@netscape.net>

Hi, 
i'm fairly new to R but have been reading up on the language for the past couple of weeks. As i begin to write code that might be used by others, i was wondering if there is a "R style guide" that would recommend good R programming practices & code conventions - equivalent manuals in Java for instance from javasoft, lay out guidelines for variable names, interface declaration, class organization etc. 

Thanks, 

ken 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tklistaddr at keittlab.bio.sunysb.edu  Fri Sep  7 17:16:19 2001
From: tklistaddr at keittlab.bio.sunysb.edu (Timothy H. Keitt)
Date: Fri, 07 Sep 2001 11:16:19 -0400
Subject: [R] Array as time series?
References: <98B01D2717B9D411B38F0008C784093164D09F@its-xchg2.massey.ac.nz>
Message-ID: <3B98E4C3.7050009@keittlab.bio.sunysb.edu>

It would be nice to have a more general time series data structure, 
e.g., for 2D spatial PDE solutions and so on.  This could easily be done 
by using the "array" type for data storage, and then making the 
convention that the 5 dimensions represent time, x, y, z, variable.

mdts <- function(x, dimensions, start, end, frequency) {

    out <- array(x, d)
    attr(out, "tsp") <- c(start, end, frequency)
    class(out) <- "mdts"

    return(out)

}

x <- mdts(1, c(10, 3, 3, 1, 2), 1, 10, 1) # 10 time steps of 3x3 grids 
with 2 observations per cell

T.

Cowpertwait, Paul wrote:

>If your data is a bit like rainfall at multiple sites, I could probably
>offer some comments (assuming (x,y,z,t) is location and time?), although I
>don't know how useful they will be for your particular application.
>
>My (limited) experience is that R will do quite a lot up to bivariate time
>series (e.g. ccf function), but beyond that you need to write your own code.
>This could be in R, but may be more appropriate in a fully compiled language
>(like C or Fortran) if you have a large data set (because R is too slow for
>heavy number crunching work; although it appears to be faster than S-Plus).
>
>
>Again I'm not sure whether this is relevant for your data set, but a fairly
>common approach with climatological data is to attempt to reduce the
>dimensions using principle components.  I understand PCA functions exist in
>R, although I've never used them.  Depending on your data this approach may
>simplify the problem.  
>
>
>-----Original Message-----
>From: Christian Georges [mailto:christian.georges at uibk.ac.at]
>Sent: Friday, 7 September 2001 02:48
>To: r-help at stat.math.ethz.ch; Christian Georges
>Subject: [R] Array as time series?
>
>
>Dear R-helpers,
>
>I have 4-dimensional atmospheric data (x,y,z,t), which I want to analyse
>on spatio-temporal diversities.
>As far as I understand there only exists the possibility to construct
>time series as two-dimensional matrices (mts).
>For the moment, I hold it in different objects:
>
>1. a four-dimensional array for the spatial related analyses
>2. a two-dimensional mts timeserie, which was derived from 1. by
>computing spatial means.
>
>But, still this doesn't help for combined spatio-temporal analysis.
>
>One could regard the time dimension as just another linearily spaced
>dimension in the four-dimensional array, but when it comes analyses and
>graphics output it gets complicated, since one can't use all timeseries
>(ts-) related functions (require ts attributes).
>
>Could you provide me some comments, workarounds or your experiences on
>similar problems.
>
>Thanks in advance,
>
>Christian
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Timothy H. Keitt
Department of Ecology and Evolution
State University of New York at Stony Brook
Stony Brook, New York 11794 USA
Phone: 631-632-1101, FAX: 631-632-7626
http://life.bio.sunysb.edu/ee/keitt/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Sep  7 17:40:30 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Sep 2001 17:40:30 +0200
Subject: [R] fitting models with gnls
In-Reply-To: <002401c137a9$553dd1c0$ae54fea9@nautilus>
References: <002401c137a9$553dd1c0$ae54fea9@nautilus>
Message-ID: <x2elpjf1qp.fsf@blueberry.kubism.ku.dk>

"Antonio Olinto" <aolinto at bignet.com.br> writes:

> Error in "[<-.factor"(*tmp*, , value = grpShrunk[revOrderShrunk]) : 
>         Argument "i" is missing, with no default


Hmm. That probably comes from an assignment f[]<-something where f is
a factor. The same thing is seen with

f<-factor(1:3)
g<-factor(3:1)
f[]<-g

This might count as a bug in R. You could try fixing [<-.factor
yourself. The offending line would be

  x[i] <- m

and might be happier as

  if (missing(i)) x[] <- m else x[i] <- m

or

  x[if (missing(i)) TRUE else i] <- m

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Fri Sep  7 18:03:22 2001
From: rolf at math.unb.ca (Rolf Turner)
Date: Fri, 7 Sep 2001 13:03:22 -0300 (ADT)
Subject: [R] Command-line editing re-visited.
Message-ID: <200109071603.NAA22015@gelfand.math.unb.ca>

Quick summary:

	- I got command line editing to work (thanks to all who
	  responded to me),

	- but now my ``m'' key won't work in R (??!!??!!??),

	- and I can't find how to get command-line editing to
	  use vi syntax.

More detail:

This posting consists of (1) a summary and thanks, and (2) some new
questions.

Summary and thanks:
===================

I was having trouble getting command-line editing in R to work;
I had installed R, found that ``GNU readline'' was needed,
installed readline, re-installed R, and still couldn't get
command line editing to work.

My problem was immediately solved by Prof. Brian Ripley who
said

>  ... you need to delete config.cache and re-configure, I expect.

I did that, and away it went.

I also got responses from Peter Dalgaard, Thomas Vogels,
Dirk Eddelbuettel, Alex Buerkle, and Jason Turner.  Thanks to all
who responded.

(2) New questions:
==================

(a) Now my ``m'' key won't work in R!!!  When I press ``m'' the machine
just beeps.  All other keys seem to work O.K.  What's going on and
how do I fix it?

(The ``m'' key is only recalcitrant in R; if I quit R and go back
to the Unix shell, ``m'' works fine.)

(b) Thomas Vogels suggested

>  Once you fire up the newly built R, you can verify that the readline
>  library was picked up correctly using the capabilities function:
> 
> R> capabilities("cledit")
> cledit 
>   TRUE

When I did

	> capabilities("cledit")

I got

	logical(0)

The help on capabilities evinced no reference to ``cledit''.
Is something missing here?

(c) Thomas Vogels also asked

> If you are Emacs averse, why do you use ^P instead of Esc k ? :-)

[As well, Prof. Ripley pointed out that the arrow keys work --- which
I wasn't sure of, so I used ^P so as to cut to the chase.  I've now
tried the arrow keys and they do indeed work, of course.]

Well, to answer Prof. Vogels' question, I was just following the
instructions in ``An Introduction to R'' by Venables and Smith, et
al.  They ***mention*** that command line editing can be made to work
with vi syntax, but they don't say ***how***.  (At least I couldn't
find the ``how''; mebbe I'm just blind.)

So, I now come to my QUESTION:  How ***do*** you persuade the R
command-line editor to use vi syntax?  Ideally I would like to be
able to put something into an ``init'' file (.Renviron???) so that
I always get vi syntax when I fire up R.  Failing that, something
that I can put into a .First() function.

Thanks.

					cheers,

						Rolf Turner
						rolf at math.unb.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Fri Sep  7 18:09:26 2001
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Fri, 07 Sep 2001 18:09:26 +0200
Subject: [R] Installing loading package cclust -Windows 
Message-ID: <3.0.32.20010907180925.0090ea80@162.38.183.200>

At 05:14 07/09/01 -0700, you wrote:
>Hi R-users,
>
>   I try to install "cclust" package binary for
>windows but the package was not available for loading
>from the load package menu in windows.The Zip file was
>downloaded in to folder "library" inside the folder
>"rw1030". 
>
>   It is not clear what is wrong.Any help will be
>appreciated.
>
>srinivas    

Hi,

Probably you did not install the package properly. Under Windows, there is
a menu called "Packages" with which you can install packages, either from
CRAN (i.e. download AND install) or from zip files on your local disk
(which you can do since you apparently already downloaded the required file).
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Sep  7 18:28:59 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Sep 2001 18:28:59 +0200
Subject: [R] Command-line editing re-visited.
In-Reply-To: <200109071603.NAA22015@gelfand.math.unb.ca>
References: <200109071603.NAA22015@gelfand.math.unb.ca>
Message-ID: <x2ae07ezhw.fsf@blueberry.kubism.ku.dk>

Rolf Turner <rolf at math.unb.ca> writes:

> (a) Now my ``m'' key won't work in R!!!  When I press ``m'' the machine
> just beeps.  All other keys seem to work O.K.  What's going on and
> how do I fix it?
> 
> (The ``m'' key is only recalcitrant in R; if I quit R and go back
> to the Unix shell, ``m'' works fine.)

Beats me... What happens if you precede it with ^V ?

> Well, to answer Prof. Vogels' question, I was just following the
> instructions in ``An Introduction to R'' by Venables and Smith, et
> al.  They ***mention*** that command line editing can be made to work
> with vi syntax, but they don't say ***how***.  (At least I couldn't
> find the ``how''; mebbe I'm just blind.)
> 
> So, I now come to my QUESTION:  How ***do*** you persuade the R
> command-line editor to use vi syntax?  Ideally I would like to be
> able to put something into an ``init'' file (.Renviron???) so that
> I always get vi syntax when I fire up R.  Failing that, something
> that I can put into a .First() function.

hit ESC then Ctr-j or put the command "vi-editing-mode" in your
~/.inputrc 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Fri Sep  7 18:47:17 2001
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Fri, 7 Sep 2001 11:47:17 -0500
Subject: [R] Compiling 1.3.1 under RH Linux
Message-ID: <OF327A7214.B178EBC7-ON86256AC0.005A0670@mmm.com>


Thanks to everyone who responded to my e-mail.

First of all the RH-7.2 was a typo - I am running 7.1.

The whole story turned out to be quite different from what I expected.  I
share it here because it might be helpful for somebody in a similar
situation.

I tried to compile R-1.3.1 with the (fixed) RH gcc compiler (version
2.96.85).  It did not get far.  In fact, if I remember correctly, the
compilation stopped at  the third file (binning.c in src/appl) with an
unspecified "internal gcc error".  That was odd, because I had no problem
compiling R-1.3.0 a few months ago.  However, since the RH gcc has been
updated since then, I decided to try kgcc which is supposed to be more
stable.  As I noticed below, the compile worked, but the tests did not.

The problem turned out to be unrelated to R or gcc.  I like dabbing in
network security issues.  Since my machine is on 24 hours a day, I run a
pretty tight firewall and frequently try different other anti-hacking
measures.  A few weeks ago I installed a loadable kernel module called
StJude.  It is supposed to stop both local and remote root exploits by
stopping "improper privilege transitions" according the StJude model.  It
turned out that the module was messing gcc up.  I unloaded the module and
the compilation of R went without a hitch and all the tests passed with no
problems.

Thanks again,

Andy

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122


                                                                                                                                               
                    Martyn Plummer                                                                                                             
                    <plummer at iarc.f      To:     Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>                                                 
                    r>                   cc:     r-help at stat.math.ethz.ch                                                                      
                                           Andrzej P. Jaworski/US-Corporate/3M/US at 3M-Corporate                                                 
                    09/07/2001           Subject:     Re: [R] Compiling 1.3.1 under RH Linux                                                   
                    03:41 AM                                                                                                                   
                                                                                                                                               
                                                                                                                                               





On 06-Sep-2001 Peter Dalgaard BSA wrote:
> apjaworski at mmm.com writes:
>
>> Hi,
>>
>> I am trying to compile R-1.3.1 under RH-7.2 Linux.  I used the old gcc
>> compiler (kgcc) and the compilation went fine.  I can start R and run
some
>> rudimentary tasks with no problem.  However, when I did
>>
>>      make check
>>
>> I got the following error in base-Ex.Rout
>>
>>      > fa <- file.access(dir("."))
>>      Error in file.access(dir(".")) : file.access is not implemented on
>> this system
>>
>> Any help will be appreciated.
>>
>> Andy
>
> Um, isn't 7.2 still in beta? But why use kgcc, the ordinary gcc worked
> ok with 7.1.

kgcc also works with 7.1, but I'm not sure why you would want to use it.
Although the version of gcc (2.96) that shipped with Red Hat 7.0 was
horribly broken, it has been fixed.

You can install an RPM for R-1.3.1 which is available on CRAN.  This was
compiled on 7.1, but since Red Hat are supposed to maintain binary
compatibility across point releases, it should install on 7.2.

Martyn




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep  7 19:14:45 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 7 Sep 2001 18:14:45 +0100 (BST)
Subject: [R] Command-line editing re-visited.
In-Reply-To: <200109071603.NAA22015@gelfand.math.unb.ca>
Message-ID: <Pine.GSO.4.31.0109071809140.5471-100000@auk.stats>

A couple of small points.

On Fri, 7 Sep 2001, Rolf Turner wrote:

...

> (b) Thomas Vogels suggested
>
> >  Once you fire up the newly built R, you can verify that the readline
> >  library was picked up correctly using the capabilities function:
> >
> > R> capabilities("cledit")
> > cledit
> >   TRUE
>
> When I did
>
> 	> capabilities("cledit")
>
> I got
>
> 	logical(0)
>
> The help on capabilities evinced no reference to ``cledit''.
> Is something missing here?

You need 1.3.1 for this.

> So, I now come to my QUESTION:  How ***do*** you persuade the R
> command-line editor to use vi syntax?  Ideally I would like to be
> able to put something into an ``init'' file (.Renviron???) so that
> I always get vi syntax when I fire up R.  Failing that, something
> that I can put into a .First() function.

Try man readline:
You want something like  `set keymap vi-insert' in your .inputrc, I think.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri Sep  7 19:17:35 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 07 Sep 2001 12:17:35 -0500
Subject: [R] fitting models with gnls
In-Reply-To: <002401c137a9$553dd1c0$ae54fea9@nautilus>
References: <002401c137a9$553dd1c0$ae54fea9@nautilus>
Message-ID: <6rn146j4y8.fsf@franz.stat.wisc.edu>

"Antonio Olinto" <aolinto at bignet.com.br> writes:

> Dear R-list members,

> Some months ago I wrote a message on the usage of gnls (nlme
> library) and here I come again.

Sorry about the delay.  As some people have noticed, I am seriously
over-committed right now and it is difficult to find time to look at
problems with the R version of nlme.

As Peter Dalgaard said, the problem is in an assignment of the form
  fact[] <- value
where fact is a factor.  The particular line that is giving the
problem is in the gnls function itself
        grpShrunk[] <- grpShrunk[revOrderShrunk]

If you remove the first set of brackets, so it reads
        grpShrunk <- grpShrunk[revOrderShrunk]
you can fit your model in R.

> growth.gnls <- gnls(lt ~ Linf*(1-exp(-K*(age-t0))),
+   data=growth.dat, params= Linf +K + t0 ~ 1, start=list(Linf=500,K=0.2,t0=0),
+   control = list(returnObject = T), corr = corAR1(form=~fish|age))
> summary(growth.gnls)
Generalized nonlinear least squares fit
  Model: lt ~ Linf * (1 - exp(-K * (age - t0))) 
  Data: growth.dat 
       AIC      BIC    logLik
  757.3853 770.4112 -373.6927

Correlation Structure: AR(1)
 Formula: ~fish | age 
 Parameter estimate(s):
       Phi 
0.04672911 

Coefficients:
        Value Std.Error  t-value p-value
Linf 509.7454  8.278899 61.57164  <.0001
K      0.1988  0.007966 24.95591  <.0001
t0     0.2987  0.046531  6.41996  <.0001

 Correlation: 
   Linf   K     
K  -0.963       
t0 -0.647  0.783

Standardized residuals:
       Min         Q1        Med         Q3        Max 
-1.7863143 -0.5340824 -0.1925364  0.3771429  2.5162105 

Residual standard error: 10.32122 
Degrees of freedom: 100 total; 97 residual

I agree with Peter that this is best fixed by changing [<-.factor in
R.  The temporary fix is to create a private copy of gnls and make the
change described above.  I would prefer not to make a permanent change
like that in the nlme package.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bernard.Urban at meteo.fr  Fri Sep  7 19:45:28 2001
From: Bernard.Urban at meteo.fr (Bernard Urban)
Date: 07 Sep 2001 19:45:28 +0200
Subject: [R] R on HPUX
Message-ID: <871ylic2tj.fsf@merceron.meteo.fr>


I have problems compiling R on HP-UX 10.20
(using native cc and f2c).

The problem arises when building R_X11.sl:

        cc -b  -o ../../../bin/R_X11.sl dataentry.o devX11.o rotated.o rbitmap.o -lSM -lICE -lX11  -L/usr/local/lib  -lm 
cc: warning 422: Unknown option "b" ignored.
/usr/ccs/bin/ld: (Warning) At least one PA 2.0 object file (dataentry.o) was detected. The linked output may not run on a PA 1.x system.
/usr/ccs/bin/ld: Unsatisfied symbols:
   Rf_VectorToPairList (code)
   Rf_endcontext (code)
   R_NaReal (data)

[...]

I have configured by ./configure --with-f2c.
Any hint ?

-- 

Bernard
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From camann at babylon.cnrs.humboldt.edu  Fri Sep  7 20:07:48 2001
From: camann at babylon.cnrs.humboldt.edu (Michael Camann)
Date: Fri, 7 Sep 2001 11:07:48 -0700 (PDT)
Subject: [R] State space modelling
In-Reply-To: <A3D56E56D0CED311A23300A0C9FC21FA01A0BC@SFCCRMNT001>
Message-ID: <Pine.LNX.4.10.10109071040260.13195-100000@babylon.cnrs.humboldt.edu>

Simon--

I did a lot of state-space simulation modeling using S-plus in my
dissertation work some years ago.  One of the primary lessons I learned
was that S (and R) is great for "wrapping" the simulation engine, but not
particulary good for coding the simulations themselves, largely due to
memory and speed issues.  This is especially true for large simulations
and/or lots of time steps.

What worked for me was a combination approach with the actual simulation
coded in C with an R wrapper (I used S but I'll write R here for clarity).
I dynamically linked the C simulation to the R wrapper so that I could
simply pass empty data structures (the model compartments) from R to C,
the C simulation code filled them with time-stepped values, and then
returned them to the R wrapper for analyses, display, etc.  The really
cool part was that I could use a simple shell script to write input
parameters to a file, then call the R code via the command line interface,
and thus let the system cook through HUGE explorations of state-space
while I was out enjoying the University night life.  Nowadays, if I did it
again, I'd probably not pass whole data structures to the simulation
engine, but rather just the input parameters, then I'd write the results
to output files for R to suck back in when the simulation completed-- of
course, that'll only work if you don't need simultaneous
display/interaction with the simulation while it runs.

Doing it the way I did it was a bit of a pain initially-- at least at the
time all of the variable references in the C code had to be pointer refs
and pointer arithmatic-- I assume that's still the case.  The alternative
approach I mentioned above would ease the pain somewhat by largely
eliminating the pointer arithmatic (which was only really a problem when
debugging). All in all, R is supurb for the wrapper functions because of
it's extensive graphical and analysis capabilities.

Best of luck!
--Mike C.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Michael A. Camann                                  Voice: 707-826-3676
Associate Professor of Zoology                       Fax: 707-826-3201
Institute for Forest Canopy Research     Email: mac24 at axe.humboldt.edu
Department of Biology                            ifcr at axe.humboldt.edu
Humboldt State University           
Arcata, CA 95521

                 URL:http://www.humboldt.edu/~mac24/
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Fri Sep  7 20:05:31 2001
From: rolf at math.unb.ca (Rolf Turner)
Date: Fri, 7 Sep 2001 15:05:31 -0300 (ADT)
Subject: [R] Command-line editing --- the last word?
Message-ID: <200109071805.PAA24603@gelfand.math.unb.ca>


I got the help I needed from Peter Dalgaard, Dirk Eddelbuettel, and
Brian Ripley (thanks very much to all).  The crucial thing is a file
.inputrc in one's home directory, which controls various options for
readline.  If one creates this file with a line

	set editing-mode vi

then one gets vi syntax in one's command-line editing in R,
and all the universe is in harmony (OMMMMMMMMMMMM).

The ``m'' phenomenon is thusly explained as well; I ***had*** fooled
about with ~/.inputrc previously, but having mis-read the man entry I
put ``editing-mode vi'' rather than ``set editing-mode vi'' which
didn't work, but somehow had an unfortunate impact upon the ``m''
key.


				cheers,

					Rolf Turner
					rolf at math.unb.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tov at ece.cmu.edu  Fri Sep  7 21:08:38 2001
From: tov at ece.cmu.edu (Thomas Vogels)
Date: 07 Sep 2001 15:08:38 -0400
Subject: [R] Command-line editing re-visited.
In-Reply-To: Prof Brian D Ripley's message of "Fri, 7 Sep 2001 18:14:45 +0100 (BST)"
References: <Pine.GSO.4.31.0109071809140.5471-100000@auk.stats>
Message-ID: <pxiteu3jk9.fsf@infiniti.ece.cmu.edu>


Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> A couple of small points.
> 
> On Fri, 7 Sep 2001, Rolf Turner wrote:
> 
> ...
> 
> > (b) Thomas Vogels suggested
> >
> > >  Once you fire up the newly built R, you can verify that the readline
> > >  library was picked up correctly using the capabilities function:
> > >
> > > R> capabilities("cledit")
> > > cledit
> > >   TRUE
> >
> > When I did
> >
> > 	> capabilities("cledit")
> >
> > I got
> >
> > 	logical(0)
> >
> > The help on capabilities evinced no reference to ``cledit''.
> > Is something missing here?
> 
> You need 1.3.1 for this.

(...which I silently assumed Rolf has since he's compiling R himself...)


> > So, I now come to my QUESTION:  How ***do*** you persuade the R
> > command-line editor to use vi syntax?  Ideally I would like to be
> > able to put something into an ``init'' file (.Renviron???) so that
> > I always get vi syntax when I fire up R.  Failing that, something
> > that I can put into a .First() function.
> 
> Try man readline:
> You want something like  `set keymap vi-insert' in your .inputrc, I think.

Rolf: The alternative is the line `set editing-mode vi' in your
~/.inputrc file.

R developers: According to the readline manual, you should be able to
set the editing-mode (or any other option) depending on the
application that uses the readline library.  So the following should
work:

$if R
set editing-mode vi
$endif

... but doesn't.  (The same construct works for bash with `$if bash'...)

Does R set its application name to something else (or none at all)?

Regards,
  -tom



-- 
mailto:tov at ece.cmu.edu (Tom Vogels)   Tel: (412) 268-6638   FAX: -3204
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Fri Sep  7 21:13:37 2001
From: rolf at math.unb.ca (Rolf Turner)
Date: Fri, 7 Sep 2001 16:13:37 -0300 (ADT)
Subject: [R] Off-line help.
Message-ID: <200109071913.QAA26678@gelfand.math.unb.ca>


For some reason, off-line help seems no longer to be working
in R for me.

I.e. if I do, e.g.,

	> help(plot,offline=T)

***nothing*** happens.  Previously, (before I re-installed R to
get command-line editing working, I think) if did this, a file
called ``plot.ps'' was created in the current working directory,
and I could happily lpr this file.  Now .... nadda.

I have a ***vague*** recollection that when I was reconfiguring/
re-installing R, a message flashed past on the screen to the effect
that .dvi help files would not be available, but I didn't pay much
attention at the time.  I have no idea why this should be the case;
nothing had changed except for my installing the readline package.

Any suggestions as to what I can/should do to get offline/postscript
help to come back?

Thanks.

					cheers,

						Rolf Turner
						rolf at math.unb.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MajorSetback at excite.com  Fri Sep  7 21:20:08 2001
From: MajorSetback at excite.com (Peter Lauren)
Date: Fri, 7 Sep 2001 12:20:08 -0700 (PDT)
Subject: [R] biplot
Message-ID: <389548.999890413285.JavaMail.imail@hook.excite.com>

I have started using biplot() (with R1.3.0 on Windows) and have become very
frustrated.  As far as I can see, I follow the directions but either it
doesn't do what I want it to do, it gives fairly arcane error messages or
both.  All I want to do is plot two separate data sets to see how different
they are from each other with respect to two metrics that are represented by
the two axes. 

My first problem is that biplot forms two axes: the bottom and left axes for
the former data set and the top and right axes for the latter set. 
Invariably, these axes are scaled differently so it look like the data sets
are easy to distinguish until I realise that they are plotted on different
axes.  I try to make all the axes the same by doing

>  biplot(former_set, latter_set,xlim <- 0:3,ylim <- 0:3)

This sets the left and bottom axes to the required range but not the top or
right axis.

I also do not want the arrow heads, so I enter

>   biplot(former_set, latter_set,arrow.len=0)

I do not get the arrows but I do get the following error message.
Error in arrows(x0, y0, x1, y1, length = length, angle = angle, code = code,
: 
        invalid head length

This depite the fact that the help for biplot says " The arrow head can be
suppressed by `arrow.len = 0'.".  

The program also does not appear to like it when I enter 

>    biplot(former_set, latter_set,var.axis=FALSE,colour)

I get 11 warnings, all saying 'parameter "var.axis" couldn't be set in
high-level plot() function' but the graph does not look any different.

Also, colour does not appear to work.  I fill a vector, colour, with
different numbers and check them with 

> colour

to get

> [1] 3 2

but the colours are always black and red regardless of which numbers I
enter.

I would be most grateful if someone could enlighten me on how to fix these
problems.

Thanks,
Peter.





_______________________________________________________
http://inbox.excite.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Fri Sep  7 21:24:25 2001
From: aolinto at bignet.com.br (Antonio Olinto)
Date: Fri, 7 Sep 2001 16:24:25 -0300
Subject: [R] fitting models with gnls
References: <002401c137a9$553dd1c0$ae54fea9@nautilus> <6rn146j4y8.fsf@franz.stat.wisc.edu>
Message-ID: <003701c137d2$ff65b540$ae54fea9@nautilus>

Dear Bates and Dalgaard,

Thanks for your attention. Removing the brackets I could fit the model.

Sincerely,

Antonio Olinto

----- Original Message -----
From: "Douglas Bates" <bates at stat.wisc.edu>
To: "Antonio Olinto" <aolinto at bignet.com.br>
Cc: "R-help" <r-help at stat.math.ethz.ch>
Sent: Friday, September 07, 2001 2:17 PM
Subject: Re: [R] fitting models with gnls


> "Antonio Olinto" <aolinto at bignet.com.br> writes:
>
> > Dear R-list members,
>
> > Some months ago I wrote a message on the usage of gnls (nlme
> > library) and here I come again.
>
> Sorry about the delay.  As some people have noticed, I am seriously
> over-committed right now and it is difficult to find time to look at
> problems with the R version of nlme.
>
> As Peter Dalgaard said, the problem is in an assignment of the form
>   fact[] <- value
> where fact is a factor.  The particular line that is giving the
> problem is in the gnls function itself
>         grpShrunk[] <- grpShrunk[revOrderShrunk]
>
> If you remove the first set of brackets, so it reads
>         grpShrunk <- grpShrunk[revOrderShrunk]
> you can fit your model in R.
>
> > growth.gnls <- gnls(lt ~ Linf*(1-exp(-K*(age-t0))),
> +   data=growth.dat, params= Linf +K + t0 ~ 1,
start=list(Linf=500,K=0.2,t0=0),
> +   control = list(returnObject = T), corr = corAR1(form=~fish|age))
> > summary(growth.gnls)
> Generalized nonlinear least squares fit
>   Model: lt ~ Linf * (1 - exp(-K * (age - t0)))
>   Data: growth.dat
>        AIC      BIC    logLik
>   757.3853 770.4112 -373.6927
>
> Correlation Structure: AR(1)
>  Formula: ~fish | age
>  Parameter estimate(s):
>        Phi
> 0.04672911
>
> Coefficients:
>         Value Std.Error  t-value p-value
> Linf 509.7454  8.278899 61.57164  <.0001
> K      0.1988  0.007966 24.95591  <.0001
> t0     0.2987  0.046531  6.41996  <.0001
>
>  Correlation:
>    Linf   K
> K  -0.963
> t0 -0.647  0.783
>
> Standardized residuals:
>        Min         Q1        Med         Q3        Max
> -1.7863143 -0.5340824 -0.1925364  0.3771429  2.5162105
>
> Residual standard error: 10.32122
> Degrees of freedom: 100 total; 97 residual
>
> I agree with Peter that this is best fixed by changing [<-.factor in
> R.  The temporary fix is to create a private copy of gnls and make the
> change described above.  I would prefer not to make a permanent change
> like that in the nlme package.
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tov at ece.cmu.edu  Fri Sep  7 21:31:45 2001
From: tov at ece.cmu.edu (Thomas Vogels)
Date: 07 Sep 2001 15:31:45 -0400
Subject: [R] adding logical vector to data frame
Message-ID: <pxae063ihq.fsf@infiniti.ece.cmu.edu>


Hello.  I'm afraid that I'm missing something very obvious this
afternoon...

When I add a column to a data.frame (by assigning to a "new" column
name a logical vector), I thought that I had (at least) 3 options to
do so:

R> j <- data.frame (x=1:2)

R> j$y <- c(TRUE,FALSE) #assignment 1
R> str(j)
`data.frame':	2 obs. of  2 variables:
 $ x: int  1 2
 $ y: logi   TRUE FALSE

R> j[["y"]] <- c(TRUE,FALSE) #assignment 2
R> str(j)
`data.frame':	2 obs. of  2 variables:
 $ x: int  1 2
 $ y: Factor w/ 2 levels "FALSE","TRUE": 2 1

R> j[["y"]] <- I(c(TRUE,FALSE)) #assignment 3
R> str(j)
`data.frame':	2 obs. of  2 variables:
 $ x: int  1 2
 $ y:Class 'AsIs'  logi [1:2]  TRUE FALSE


Why is assignment 1 not identical to either assignment 2 or 3?  Is
there a method dispatch skipped?

Thanks!
  -tom


-- 
mailto:tov at ece.cmu.edu (Tom Vogels)   Tel: (412) 268-6638   FAX: -3204

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Sep  7 21:50:27 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Fri, 7 Sep 2001 15:50:27 -0400 (EDT)
Subject: [R] biplot
In-Reply-To: <389548.999890413285.JavaMail.imail@hook.excite.com>
Message-ID: <Pine.LNX.4.30.0109071537200.26250-100000@bolker.zoo.ufl.edu>

On Fri, 7 Sep 2001, Peter Lauren wrote:

> I have started using biplot() (with R1.3.0 on Windows) and have become very
> frustrated.  As far as I can see, I follow the directions but either it
> doesn't do what I want it to do, it gives fairly arcane error messages or
> both.  All I want to do is plot two separate data sets to see how different
> they are from each other with respect to two metrics that are represented by
> the two axes.
>
> My first problem is that biplot forms two axes: the bottom and left axes for
> the former data set and the top and right axes for the latter set.
> Invariably, these axes are scaled differently so it look like the data sets
> are easy to distinguish until I realise that they are plotted on different
> axes.  I try to make all the axes the same by doing

  I'm not sure, but it sounds to me like you may be trying to use a fairly
specialized tool to do something else.  You might want to just look into
using par(new=TRUE) to draw two plots with different axes on top of each
other.

> >  biplot(former_set, latter_set,xlim <- 0:3,ylim <- 0:3)
>
> This sets the left and bottom axes to the required range but not the top or
> right axis.
>
> I also do not want the arrow heads, so I enter
>
> >   biplot(former_set, latter_set,arrow.len=0)
>
> I do not get the arrows but I do get the following error message.
> Error in arrows(x0, y0, x1, y1, length = length, angle = angle, code = code,
> :
>         invalid head length
>
> This depite the fact that the help for biplot says " The arrow head can be
> suppressed by `arrow.len = 0'.".

  This sounds like it may indeed be a bug.
  (Q to any developers who are reading: would it be a problem to make
zero-length arrows give a warning rather than an error?)  I can think of
two ways to work around it: (1) hack biplot.default to test whether
arrow.len equals 0, and only try to draw arrows if not (otherwise
segments() might work);  (2) set your arrow lengths to some ridiculously
small number.

 >
> The program also does not appear to like it when I enter
>
> >    biplot(former_set, latter_set,var.axis=FALSE,colour)
>
> I get 11 warnings, all saying 'parameter "var.axis" couldn't be set in
> high-level plot() function' but the graph does not look any different.

  Shouldn't that be var.axes ???

> Also, colour does not appear to work.  I fill a vector, colour, with
> different numbers and check them with
>
> > colour
>
> to get
>
> > [1] 3 2
>
> but the colours are always black and red regardless of which numbers I
> enter.

  ??? How are you specifying this colo(u)r vector to biplot?  Are you
actually using the col= argument in the function call?

>
> I would be most grateful if someone could enlighten me on how to fix these
> problems.
>
> Thanks,
> Peter.
>
>
>
>
>
> _______________________________________________________
> http://inbox.excite.com
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep  7 21:52:47 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 7 Sep 2001 20:52:47 +0100 (GMT Daylight Time)
Subject: [R] biplot
In-Reply-To: <389548.999890413285.JavaMail.imail@hook.excite.com>
Message-ID: <Pine.WNT.4.31.0109072040080.1112-100000@tern.stats>

On Fri, 7 Sep 2001, Peter Lauren wrote:

> I have started using biplot() (with R1.3.0 on Windows) and have become very
> frustrated.  As far as I can see, I follow the directions but either it

More careful checking might reduce your frustration: several errors are
obvious at a glance.  Read on ...

> doesn't do what I want it to do, it gives fairly arcane error messages or
> both.  All I want to do is plot two separate data sets to see how different
> they are from each other with respect to two metrics that are represented by
> the two axes.
>
> My first problem is that biplot forms two axes: the bottom and left axes for
> the former data set and the top and right axes for the latter set.
> Invariably, these axes are scaled differently so it look like the data sets
> are easy to distinguish until I realise that they are plotted on different
> axes.  I try to make all the axes the same by doing
>
> >  biplot(former_set, latter_set,xlim <- 0:3,ylim <- 0:3)
>
> This sets the left and bottom axes to the required range but not the top or
> right axis.

Um. That's = not <- in there ... and _ is not what I think you intended
here.

If you read the code you'll see which parameter you have overlooked.

>
> I also do not want the arrow heads, so I enter
>
> >   biplot(former_set, latter_set,arrow.len=0)
>
> I do not get the arrows but I do get the following error message.
> Error in arrows(x0, y0, x1, y1, length = length, angle = angle, code = code,
> :
>         invalid head length
>
> This depite the fact that the help for biplot says " The arrow head can be
> suppressed by `arrow.len = 0'.".

That's out of date, but was true when written.  It used to crash some
badly-written OSes (like the one you are using).  Try a very small number
instead.

> The program also does not appear to like it when I enter
>
> >    biplot(former_set, latter_set,var.axis=FALSE,colour)
>
> I get 11 warnings, all saying 'parameter "var.axis" couldn't be set in
> high-level plot() function' but the graph does not look any different.
>
> Also, colour does not appear to work.  I fill a vector, colour, with
> different numbers and check them with
>
> > colour
>
> to get
>
> > [1] 3 2
>
> but the colours are always black and red regardless of which numbers I
> enter.

There is no argument `colour', is there now?
And it's var.axes, not var.axis ....

> I would be most grateful if someone could enlighten me on how to fix these
> problems.

See above.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep  7 21:57:06 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 7 Sep 2001 20:57:06 +0100 (GMT Daylight Time)
Subject: [R] adding logical vector to data frame
In-Reply-To: <pxae063ihq.fsf@infiniti.ece.cmu.edu>
Message-ID: <Pine.WNT.4.31.0109072054081.1112-100000@tern.stats>

R version?

This works correctly in R-devel.  Yes, using $ on data frame subverts some
of the conversions, but logical variables are full-status variables now.


On 7 Sep 2001, Thomas Vogels wrote:

>
> Hello.  I'm afraid that I'm missing something very obvious this
> afternoon...
>
> When I add a column to a data.frame (by assigning to a "new" column
> name a logical vector), I thought that I had (at least) 3 options to
> do so:
>
> R> j <- data.frame (x=1:2)
>
> R> j$y <- c(TRUE,FALSE) #assignment 1
> R> str(j)
> `data.frame':	2 obs. of  2 variables:
>  $ x: int  1 2
>  $ y: logi   TRUE FALSE
>
> R> j[["y"]] <- c(TRUE,FALSE) #assignment 2
> R> str(j)
> `data.frame':	2 obs. of  2 variables:
>  $ x: int  1 2
>  $ y: Factor w/ 2 levels "FALSE","TRUE": 2 1
>
> R> j[["y"]] <- I(c(TRUE,FALSE)) #assignment 3
> R> str(j)
> `data.frame':	2 obs. of  2 variables:
>  $ x: int  1 2
>  $ y:Class 'AsIs'  logi [1:2]  TRUE FALSE
>
>
> Why is assignment 1 not identical to either assignment 2 or 3?  Is
> there a method dispatch skipped?
>
> Thanks!
>   -tom
>
>
> --
> mailto:tov at ece.cmu.edu (Tom Vogels)   Tel: (412) 268-6638   FAX: -3204
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tov at ece.cmu.edu  Fri Sep  7 22:02:52 2001
From: tov at ece.cmu.edu (Thomas Vogels)
Date: 07 Sep 2001 16:02:52 -0400
Subject: [R] Why does substr<- truncate and not replace...
Message-ID: <px66au3h1v.fsf@infiniti.ece.cmu.edu>


... when the replacement string is shorter than the portion of the
string to be replaced?

The documentation to substr (in R 1.3.1) gives me:

     If the portion to be replaced is longer than the replacement
     string, then only the portion the length of the string is
     replaced.

And so I try:

R> x <- "abcdef"
R> substr(x,2,3) <- "xy" #ok
R> x
[1] "axydef"
R> substr(x,2,3) <- "w" #ko
R> x
[1] "aw"

hmm, I would have expected "awdef".  Am I reading the docs wrong?  (Or
am I just blinded to expect this string because that's what Perl would do?)

Thanks!
  -tom


-- 
mailto:tov at ece.cmu.edu (Tom Vogels)   Tel: (412) 268-6638   FAX: -3204

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep  7 22:51:30 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 7 Sep 2001 21:51:30 +0100 (BST)
Subject: [R] Fitting distributions
In-Reply-To: <3B9928A6.4E3EA726@umsanet.edu.bo>
Message-ID: <Pine.LNX.4.31.0109072122560.4429-100000@gannet.stats>

On Fri, 7 Sep 2001, kjetil halvorsen wrote:

> Hola!
>
> I think the original posters problem was to fit a weibull. this could be
> done with:
>
> library(gnlm)
> > x <- rweibull(100, 2, 3)
> > y <- rep(1,100)
>
> > fit.dist(x,y,"Weibull")
>
> Weibull distribution,  n = 100
>
>      mean  variance alpha.hat    mu.hat
>  2.438586  1.840581  1.890002  6.782797
>
> -log likelihood             AIC
>       -296.4451       -294.4451
>
>            yi ni pi.hat    pi.tilde like.comp     resid
> 1   1.8744688  1   0.01 0.300583890 -3.403142 -5.300156

>From the help page again:

  breaks: If TRUE, `y' contains breaks between categories instead of
          mid-points.

so according the help page it is assuming grouped observations
specified by midpoints.  That is not the same problem, as I did say.

Who knows if the help page is right?


> Kjetil Halvorsen
>
>
> Prof Brian Ripley wrote:
> >
> > On Thu, 6 Sep 2001, kjetil halvorsen wrote:
> >
> > > Hola!
> > >
> > > I think some of this is avaliable as fit.dist in Jim Lindsays
> > > package gnlm.
> >
> > Not according to his help page:
> >
> > \name{fit.dist}
> > \title{Fit Probability Distributions to Frequency Data}
> >
> > Not the same problem.
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rls at pincock.com  Fri Sep  7 23:11:12 2001
From: rls at pincock.com (Bob Sandefur)
Date: Fri, 07 Sep 2001 14:11:12 -0700
Subject: [R] dxf() like bmp() or postscript()?
Message-ID: <sb98d59f.036@smtp>

hi-
 I have been using postscript()and contour() to do quick plots of geological
 sufaces and it would be handy to be able to dump a plot as an autocad dxf
 file for vector import into autocad. A search of rhelp of 99 thru 01 gave no  matches for dxf. Any suggestions for a dxf or dump of a plot as vectors?

Thanx

Thanx

Robert (Bob) L Sandefur 
Principal Geostatistician
Pincock Allen & Holt (A Hart Crowser Company)
 International Minerals Consultants
 274 Union Suite 200
 Lakewood CO 80228
 USA
 303 914-4467  v
 303 987-8907 f
rls at pincock.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Fri Sep  7 22:05:58 2001
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Fri, 07 Sep 2001 16:05:58 -0400
Subject: [R] Fitting distributions
References: <Pine.LNX.4.31.0109061931450.2835-100000@gannet.stats>
Message-ID: <3B9928A6.4E3EA726@umsanet.edu.bo>

Hola!

I think the original posters problem was to fit a weibull. this could be
done with:

library(gnlm)
> x <- rweibull(100, 2, 3)
> y <- rep(1,100)

> fit.dist(x,y,"Weibull")

Weibull distribution,  n = 100

     mean  variance alpha.hat    mu.hat 
 2.438586  1.840581  1.890002  6.782797 

-log likelihood             AIC 
      -296.4451       -294.4451 

           yi ni pi.hat    pi.tilde like.comp     resid
1   1.8744688  1   0.01 0.300583890 -3.403142 -5.300156

.
.
.

Kjetil Halvorsen


Prof Brian Ripley wrote:
> 
> On Thu, 6 Sep 2001, kjetil halvorsen wrote:
> 
> > Hola!
> >
> > I think some of this is avaliable as fit.dist in Jim Lindsays
> > package gnlm.
> 
> Not according to his help page:
> 
> \name{fit.dist}
> \title{Fit Probability Distributions to Frequency Data}
> 
> Not the same problem.
> 
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Sep  8 00:00:10 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Sep 2001 00:00:10 +0200
Subject: [R] Why does substr<- truncate and not replace...
In-Reply-To: <px66au3h1v.fsf@infiniti.ece.cmu.edu>
References: <px66au3h1v.fsf@infiniti.ece.cmu.edu>
Message-ID: <x24rqeu0et.fsf@blueberry.kubism.ku.dk>

Thomas Vogels <tov at ece.cmu.edu> writes:

> ... when the replacement string is shorter than the portion of the
> string to be replaced?
> 
> The documentation to substr (in R 1.3.1) gives me:
> 
>      If the portion to be replaced is longer than the replacement
>      string, then only the portion the length of the string is
>      replaced.
> 
> And so I try:
> 
> R> x <- "abcdef"
> R> substr(x,2,3) <- "xy" #ok
> R> x
> [1] "axydef"
> R> substr(x,2,3) <- "w" #ko
> R> x
> [1] "aw"
> 
> hmm, I would have expected "awdef".  Am I reading the docs wrong?  (Or
> am I just blinded to expect this string because that's what Perl would do?)
> 
> Thanks!
>   -tom

Looks like a bit of a bug. I bet the \0 terminator gets copied in from
the replacement.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Sat Sep  8 00:10:33 2001
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Sat, 08 Sep 2001 00:10:33 +0200
Subject: [R] adding logical vector to data frame
Message-ID: <3.0.32.20010908001033.0090b4a0@162.38.183.200>

At 15:31 07/09/01 -0400, Thomas Vogels <tov at ece.cmu.edu> wrote:
>
>Hello.  I'm afraid that I'm missing something very obvious this
>afternoon...
>
>When I add a column to a data.frame (by assigning to a "new" column
>name a logical vector), I thought that I had (at least) 3 options to
>do so:
>
>R> j <- data.frame (x=1:2)
>
>R> j$y <- c(TRUE,FALSE) #assignment 1
>R> str(j)
>`data.frame':	2 obs. of  2 variables:
> $ x: int  1 2
> $ y: logi   TRUE FALSE
>
>R> j[["y"]] <- c(TRUE,FALSE) #assignment 2
>R> str(j)
>`data.frame':	2 obs. of  2 variables:
> $ x: int  1 2
> $ y: Factor w/ 2 levels "FALSE","TRUE": 2 1
>
>R> j[["y"]] <- I(c(TRUE,FALSE)) #assignment 3
>R> str(j)
>`data.frame':	2 obs. of  2 variables:
> $ x: int  1 2
> $ y:Class 'AsIs'  logi [1:2]  TRUE FALSE
>
>
>Why is assignment 1 not identical to either assignment 2 or 3?  Is
>there a method dispatch skipped?
>
>Thanks!
>  -tom

Hi,

I think that if you use names for indexing, you have to use single brackets
["..."], not double as in your example:

> j <- data.frame (x=1:2)
> j["y"] <- c(TRUE,FALSE) #assignment 4
> str(j)
`data.frame':   2 obs. of  2 variables:
 $ x: int  1 2
 $ y: logi   TRUE FALSE


You'll need a more expert opinion than mine to explain the differences
between [ and [[, but look at the following:

> x <- 1:9
> names(x) <- LETTERS[x] # give names to the observations
> x
A B C D E F G H I 
1 2 3 4 5 6 7 8 9 
> x["C"]
C 
3 
> x[["C"]]
[1] 3
> names(x["C"])
[1] "C"
> names(x[["C"]])
NULL

The same with numeric indexing, but not logical indexing:

> x[3]
C 
3
> x[[3]]
[1] 3
> x[x == 3]
C 
3 
> x[[x == 3]]
Error: attempt to select more than one element



Emmanuel Paradis
Laboratoire de Pal?ontologie
Institut des Sciences de l'?volution
Universit? Montpellier II
F-34095 Montpellier c?dex 05
France
   phone: +33  4 67 14 39 64
     fax: +33  4 67 14 36 10
  mailto:paradis at isem.univ-montp2.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From schultz at fig.cox.miami.edu  Sat Sep  8 03:49:53 2001
From: schultz at fig.cox.miami.edu (Stewart Schultz)
Date: Fri, 7 Sep 2001 21:49:53 -0400
Subject: [R] multiple fitted curves plot
Message-ID: <l03102801b7bf28d7291a@[129.171.42.223]>

Dear Rusers,

How would I plot several (24) fitted curves (nonlinear least squares)
within a single plot?  To get the parameters I use:

resff <- list()
for (s in levels(PairID)) {
      resff[[s]] <- nls(Photo ~ SSasymp(Ci, Asym, lrc, c0),
      subset = (PairID == s))
}

Is it also possible to plot two different groups (male, female) of curves
in the same plot, with different style lines?

Many thanks,
Stewart


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From libanez at nature.berkeley.edu  Sat Sep  8 03:58:00 2001
From: libanez at nature.berkeley.edu (=?iso-8859-1?Q?Luis_M_Iba=F1ez_de_Garayo?=)
Date: Fri, 7 Sep 2001 18:58:00 -0700
Subject: [R] Nightmare on windows using graphics; any idea?
Message-ID: <000a01c13809$b105e820$40c29888@computer>

If I plot ten graphics, the probability of getting a Frozen R process on my Windows me operating system is close to 0.99; it's a nightmare. Why?

Luis!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010907/a75f4db5/attachment.html

From ripley at stats.ox.ac.uk  Sat Sep  8 08:35:41 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 8 Sep 2001 07:35:41 +0100 (BST)
Subject: [R] dxf() like bmp() or postscript()?
In-Reply-To: <sb98d59f.036@smtp>
Message-ID: <Pine.GSO.4.31.0109080734030.6057-100000@auk.stats>

On Fri, 7 Sep 2001, Bob Sandefur wrote:

> hi-
>  I have been using postscript()and contour() to do quick plots of geological
>  sufaces and it would be handy to be able to dump a plot as an autocad dxf
>  file for vector import into autocad. A search of rhelp of 99 thru 01 gave no  matches for dxf. Any suggestions for a dxf or dump of a plot as vectors?

This is the first I have heard of DXF files.

"R is a collaborative project with many contributors."

Here's an opportunity.  The XFig driver might be a good place to start:
you might even be able to convert XFig files.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Sep  8 08:47:05 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 8 Sep 2001 07:47:05 +0100 (BST)
Subject: [R] Why does substr<- truncate and not replace...
In-Reply-To: <x24rqeu0et.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.31.0109080746230.6281-100000@auk.stats>

On 8 Sep 2001, Peter Dalgaard BSA wrote:

> Thomas Vogels <tov at ece.cmu.edu> writes:
>
> > ... when the replacement string is shorter than the portion of the
> > string to be replaced?
> >
> > The documentation to substr (in R 1.3.1) gives me:
> >
> >      If the portion to be replaced is longer than the replacement
> >      string, then only the portion the length of the string is
> >      replaced.
> >
> > And so I try:
> >
> > R> x <- "abcdef"
> > R> substr(x,2,3) <- "xy" #ok
> > R> x
> > [1] "axydef"
> > R> substr(x,2,3) <- "w" #ko
> > R> x
> > [1] "aw"
> >
> > hmm, I would have expected "awdef".  Am I reading the docs wrong?  (Or
> > am I just blinded to expect this string because that's what Perl would do?)
> >
> > Thanks!
> >   -tom
>
> Looks like a bit of a bug. I bet the \0 terminator gets copied in from
> the replacement.

Yes, the test was one off. Fixed now.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Sat Sep  8 08:13:37 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Sat, 8 Sep 2001 08:13:37 +0200
Subject: [R] R on HPUX
In-Reply-To: <871ylic2tj.fsf@merceron.meteo.fr>
References: <871ylic2tj.fsf@merceron.meteo.fr>
Message-ID: <15257.46865.787353.970851@mithrandir.hornik.net>

>>>>> Bernard Urban writes:

> I have problems compiling R on HP-UX 10.20
> (using native cc and f2c).

> The problem arises when building R_X11.sl:

>         cc -b  -o ../../../bin/R_X11.sl dataentry.o devX11.o rotated.o rbitmap.o -lSM -lICE -lX11  -L/usr/local/lib  -lm 
> cc: warning 422: Unknown option "b" ignored.
> /usr/ccs/bin/ld: (Warning) At least one PA 2.0 object file (dataentry.o) was detected. The linked output may not run on a PA 1.x system.
> /usr/ccs/bin/ld: Unsatisfied symbols:
>    Rf_VectorToPairList (code)
>    Rf_endcontext (code)
>    R_NaReal (data)

> [...]

> I have configured by ./configure --with-f2c.
> Any hint ?

You are not telling us which version of R this is.  I assume it is
1.3.0, and I think the problem is fixed in 1.3.1.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jg_liao at yahoo.com  Sat Sep  8 16:04:40 2001
From: jg_liao at yahoo.com (Jason Liao)
Date: Sat, 8 Sep 2001 07:04:40 -0700 (PDT)
Subject: [R] R-function available for noncentral hypergeometric distribution
Message-ID: <20010908140440.31340.qmail@web10504.mail.yahoo.com>

For those who are interested, I have made available a R function for
noncentral hypergeometric distribution at

http://www.geocities.com/jg_liao/software/Hypergeometric/hypergeometric_in_R.txt

The paper that describes the algorithm will appear in The American
Statistician.  

The function does not run on S-plus as the R's scoping rule is used.
Here is how the function can be used:

 
>  n1 <- 100
>  n2 <- 100
>  m1 <- 100
>  N <- n1+n2
>  odds.ratio <- 3;
#create an object for this specific non-central hypergeometric
distribution
>  obj <- hypergeometric(n1, n2, N, odds.ratio)
#get the mean
>  obj$mean()
[1] 63.46481
#get the variance
>  obj$var()
[1] 11.66092
#probability mass at 40
>  obj$d(40)
[1] 1.978419e-11
#cumulative distribution from lower end to 40
>  obj$p(40)
[1] 2.304486e-11
#generates one random deviate from the distribution
>  obj$r()
[1] 63
  

=====
Jason G. Liao
Department of Biometry and Epidemiology
Medical University of South Carolina
135 Rutledge Ave., STE 1148, Charleston, SC 29425
phone (843) 876-1114, fax (843) 876-1126

http://www.geocities.com/jg_liao/index.html

__________________________________________________
Do You Yahoo!?
Get email alerts & NEW webcam video instant messaging with Yahoo! Messenger
http://im.yahoo.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ozric at web.de  Sat Sep  8 16:54:10 2001
From: ozric at web.de (C. Schulz)
Date: Sat, 8 Sep 2001 16:54:10 +0200
Subject: [R] Basic SPSS  commands  in  R ?
Message-ID: <200109081454.f88EsAx01023@mailgate5.cinetic.de>

Hello,
i'm newbie of R and think it is a really good alternative to SPSS.
But i have more problems using elementary things comparable with using advanced methods.

(1) How can i value label i.e the variable X in data.frame DATA
with the labels ( 1=very good ) (2=good).

spss syntax when DATA is in Spreadsheet is:
value labels X
1 'very good'.
2 'good'.
execute.

(2) How can i split the data set dependent from one variable and 
give a special output i.e. frequencies.

spss syntax:
SORT CASES BY countryg .
SPLIT FILE
LAYERED BY countryg .
FREQUENCIES
VARIABLES=X Y Z 
/ORDER ANALYSIS .

Thanks in advance 
regards,christian

_______________________________________________________________________




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Sat Sep  8 17:08:40 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Sat, 8 Sep 2001 11:08:40 -0400 (EDT)
Subject: [R] Basic SPSS  commands  in  R ?
In-Reply-To: <200109081454.f88EsAx01023@mailgate5.cinetic.de>
Message-ID: <Pine.LNX.4.30.0109081107120.27277-100000@bolker.zoo.ufl.edu>

On Sat, 8 Sep 2001, C. Schulz wrote:

> Hello,
> i'm newbie of R and think it is a really good alternative to SPSS.
> But i have more problems using elementary things comparable with using advanced methods.


1. make your variable into a factor, then set the levels
(see ?factor, ?levels)

>
> (1) How can i value label i.e the variable X in data.frame DATA
> with the labels ( 1=very good ) (2=good).
>
> spss syntax when DATA is in Spreadsheet is:
> value labels X
> 1 'very good'.
> 2 'good'.
> execute.
>

2. Look at ?split, ?tapply, ?table

> (2) How can i split the data set dependent from one variable and
> give a special output i.e. frequencies.
>
> spss syntax:
> SORT CASES BY countryg .
> SPLIT FILE
> LAYERED BY countryg .
> FREQUENCIES
> VARIABLES=X Y Z
> /ORDER ANALYSIS .
>
> Thanks in advance
> regards,christian
>
> _______________________________________________________________________
>
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Sat Sep  8 17:41:06 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 08 Sep 2001 10:41:06 -0500
Subject: [R] multiple fitted curves plot
In-Reply-To: <l03102801b7bf28d7291a@[129.171.42.223]>
References: <l03102801b7bf28d7291a@[129.171.42.223]>
Message-ID: <6rsndxsnal.fsf@franz.stat.wisc.edu>

Stewart Schultz <schultz at fig.cox.miami.edu> writes:

> How would I plot several (24) fitted curves (nonlinear least squares)
> within a single plot?  

Are you sure you want to do that?  Overlaying 24 curves on a single
plot tends to make for a busy plot.  You may want to consider a
trellis type of plot instead.  See xyplot from the lattice package.

> To get the parameters I use:
> 
> resff <- list()
> for (s in levels(PairID)) {
>       resff[[s]] <- nls(Photo ~ SSasymp(Ci, Asym, lrc, c0),
>       subset = (PairID == s))
> }

An alternative would be to use the nlsList function from the nlme
package.

If you really do want to plot all the fitted nls models on a single
plot, it is best to use predict on the fitted model with a closely
spaced set of Ci values that cover the range of the observed data.  It
could look like


plot(Ci, Photo, type = "n")  # sets up the plotting scales
crange <- range(Ci)
cseq <- seq(crange[1], crange[2], len = 100)
for (s in levels(PairID)) {
  lines(cseq, predict(resff[[s]], list(Ci = cseq)))
}

> Is it also possible to plot two different groups (male, female) of curves
> in the same plot, with different style lines?

Yes.

>From your questions it seems that you may want to consider some of the
techniques available in the nlme package.  The book

@Book{pinh:bate:2000,
  author =	 {Jos\'{e} C. Pinheiro and Douglas M. Bates},
  title = 	 {Mixed-Effects Models in \textsf{S} and \textsf{S-PLUS}},
  publisher = 	 {Springer},
  year = 	 2000,
  series =	 {Statistics and Computing}
}

has several examples of these techniques.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Sat Sep  8 20:26:23 2001
From: rolf at math.unb.ca (Rolf Turner)
Date: Sat, 8 Sep 2001 15:26:23 -0300 (ADT)
Subject: [R] Starting R quietly.
Message-ID: <200109081826.PAA05667@gelfand.math.unb.ca>


If one starts R with the command

	R -q

then it starts quietly, without giving its introductory message.

Is there any way that this behaviour can be arranged, say by placing
an appropriate line in ~/.Renviron or ~/.Rprofile?  (So that it
happens consistently and I don't have to remember to type that -q.)

I know I can alias R to "R -q" but I dislike doing that; strikes
me as dangerous.

					cheers,

						Rolf Turner
						rolf at math.unb.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Sat Sep  8 20:24:43 2001
From: rolf at math.unb.ca (Rolf Turner)
Date: Sat, 8 Sep 2001 15:24:43 -0300 (ADT)
Subject: [R] Off-line help -- problem solved.
Message-ID: <200109081824.PAA26649@tanner.math.unb.ca>


I re-installed R yet one more time (making sure that this time I got
R-1.3.1 --- how the ***hell*** did I get R-1.3.0 before? Like, I
mean, I just went to the R/CRAN website and downloaded ....).

Anyhow, after re-installation, the problem that I was having, i.e.
not getting any output whatever help(<topic>,offline=T), disappeared.
No idea why it was there in the first place, but.

				cheers,

					Rolf Turner
					rolf at math.unb.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Sat Sep  8 20:31:45 2001
From: rolf at math.unb.ca (Rolf Turner)
Date: Sat, 8 Sep 2001 15:31:45 -0300 (ADT)
Subject: [R] .Rhistory
Message-ID: <200109081831.PAA26676@tanner.math.unb.ca>


It seems that when I choose not to save the workspace, R then chooses
not to update the command history saved in the file .Rhistory.

I can see a rationale for this, but I find it annoying; I might well
want to be able to get at previous commands, even if I don't want to
keep the objects created by these commands.

Is there anyway of changing this behaviour --- i.e. to get R to save
the commands but not the workspace?

					cheers,

						Rolf Turner
						rolf at math.unb.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Sep  8 21:12:03 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 8 Sep 2001 20:12:03 +0100 (BST)
Subject: [R] .Rhistory
In-Reply-To: <200109081831.PAA26676@tanner.math.unb.ca>
Message-ID: <Pine.LNX.4.31.0109082011090.7619-100000@gannet.stats>

On Sat, 8 Sep 2001, Rolf Turner wrote:

>
> It seems that when I choose not to save the workspace, R then chooses
> not to update the command history saved in the file .Rhistory.
>
> I can see a rationale for this, but I find it annoying; I might well
> want to be able to get at previous commands, even if I don't want to
> keep the objects created by these commands.
>
> Is there anyway of changing this behaviour --- i.e. to get R to save
> the commands but not the workspace?

?savehistory

since I used to find it annoying too...

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Sun Sep  9 15:25:01 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Sun, 9 Sep 2001 09:25:01 -0400 (EDT)
Subject: [R] plots with symbols proportional to number of repeats
Message-ID: <Pine.LNX.4.30.0109090922080.28168-100000@bolker.zoo.ufl.edu>


  Some of my students were interested in a plot where the sizes of the
symbols were proportional to the number of repeats in the data (I have
them plotting discrete data, so there are often overlaps).  Here's the
solution I came up with, which seems clever (to me) but not necessarily
the best way.  Can anyone suggest improvements?

sizeplot <- function(x,y,maxsize=0.2,
                     xlab=deparse(substitute(x)),
                     ylab=deparse(substitute(y)),
                     ...) {
  pair <- function(x,y) {
    paste(x,y,sep="/")
  }
  unpair <- function(x) {
    t(sapply(strsplit(x,"/"),as.numeric))
  }
  f <- factor(pair(x,y))
  n <- table(f)
  newpts <- unpair(levels(f))
  symbols(newpts[,1],newpts[,2],circles=n,inches=maxsize,
          xlab=xlab,ylab=ylab,...)
}

x <- c(0.1,0.1,0.1,0.1,0.1,0.2,0.2,0.2,0.2,0.3,0.3)
y <- c( 1,  1,  1,  1,  2,  2,  2,  3,  3,  4,  5 )

plot(x,y)

sizeplot(x,y)


-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Timmiccoop at aol.com  Sun Sep  9 18:17:23 2001
From: Timmiccoop at aol.com (Timmiccoop@aol.com)
Date: Sun, 9 Sep 2001 12:17:23 EDT
Subject: [R] Spearman's analysis
Message-ID: <145.1476e4e.28ccf013@aol.com>

I have computed correlation coefficients for my dissertation data using 
Spearman's Rho with adjustments for tie scores; however, I do not have access 
to a way to find exact p's. I have a friend who has R but he doesn't know if 
it is appropriate for my analysis, given the constraint of tie scores? Can 
you advise me? Thanks. Michele Fagan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010909/1c9ce2c1/attachment.html

From jsrobleda at yahoo.com  Sun Sep  9 21:43:44 2001
From: jsrobleda at yahoo.com (=?iso-8859-1?Q?Johana_S=E1nchez?=)
Date: Sun, 9 Sep 2001 15:43:44 -0400
Subject: [R] Information about Correspondence Analisys
Message-ID: <000a01c13967$c1356040$c80a1bc4@supercable.net.ve>

    I like that you give me more information about the way to interpretated the options "ca".  Also, I like that you explain to me how can  I do with the "NA" values.


    I apreciated you response


Thank you




                                        Johana S?nchez
                                            Venezuela
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010909/5c571463/attachment.html

From jasont at indigoindustrial.co.nz  Sun Sep  9 23:01:04 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Mon, 10 Sep 2001 09:01:04 +1200
Subject: [R] dxf() like bmp() or postscript()?
In-Reply-To: <sb98d59f.036@smtp>; from rls@pincock.com on Fri, Sep 07, 2001 at 02:11:12PM -0700
References: <sb98d59f.036@smtp>
Message-ID: <20010910090104.A3078@camille.indigoindustrial.co.nz>

Hi

>  I have been using postscript()and contour() to do quick plots of geological
>  sufaces and it would be handy to be able to dump a plot as an autocad dxf
>  file for vector import into autocad. 

Assuming you have ghostscript, pstoedit might help.  This converts Postscript
to various vector and bitmap formats, including DXF (so says the man page,
anyway -- I've only ever used it for fig format).  pstoedit can be found at 

http://www.geocities.com/wglunz/pstoedit/

A one-step from R would definately be nicer -- as Prof. Ripley pointed
out, a call for volunteers at this point is in order.

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Sun Sep  9 23:14:52 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Mon, 10 Sep 2001 09:14:52 +1200
Subject: [R] Spearman's analysis
In-Reply-To: <145.1476e4e.28ccf013@aol.com>; from Timmiccoop@aol.com on Sun, Sep 09, 2001 at 12:17:23PM -0400
References: <145.1476e4e.28ccf013@aol.com>
Message-ID: <20010910091452.B3078@camille.indigoindustrial.co.nz>

> I have computed correlation coefficients for my dissertation data using 
> Spearman's Rho with adjustments for tie scores; however, I do not have access 
> to a way to find exact p's. I have a friend who has R but he doesn't know if 
> it is appropriate for my analysis, given the constraint of tie scores? Can 
> you advise me? Thanks. Michele Fagan

Not a full-time statistician, so I can't advise on the breakdown
of Spearman's rho under ties.  However, the library exactRankTests
might give you a good starting point on how to compute such
stats (appropriate or not) in the presence of ties.  Rnews, volume
1/1 has a nice explanation of the package, by its author:

@Article{Rnews:Hothorn:2001,
  author      = {Torsten Hothorn},
  title       = {On Exact Rank Tests in R},
  journal     = {R News},
  year        = 2001,
  volume      = 1,
  number      = 1,
  pages       = {11--12},
  month       = {January},
  url         = {http://CRAN.R-project.org/doc/Rnews/},
}
  
Cheers
  
Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From steve.cassidy at mq.edu.au  Mon Sep 10 03:55:01 2001
From: steve.cassidy at mq.edu.au (Steve Cassidy)
Date: Mon, 10 Sep 2001 11:55:01 +1000
Subject: [R] MacOS R and tcltk
Message-ID: <01091011550104.01670@sputnik>

>From what I can glean from the sources and bundled packages, the tcltk 
package isn't built by default for the MacOS port of R.  Looking at the code 
there doesn't seem to be any real reason not to do this except that perhaps 
tcl/tk isn't available on the builders machine.  Is this the case?

Since I have a need for cross platform access to tcltk from R, and since I 
have one of the Mac Tcl maintainers working with me, I plan to build this 
package at least for our own purposes.  I can make it available to others if 
there is a demand.  

I also wonder whether anyone has done anything about passing data between tcl 
and R. I need to pass lists of things back and forth and although it seems I 
can do this via strings it will introduce a lot of overhead when they are 
long.  I haven't looked at R internals much but would it be hard to code for 
special cases like passing a vector of strings or a vector of doubles? 

My interest here is making some signal processing and speech database 
functionality available in R which is already available as tcl extensions. 


Steve
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stranda at cofc.edu  Mon Sep 10 04:59:52 2001
From: stranda at cofc.edu (Allan Strand)
Date: 09 Sep 2001 22:59:52 -0400
Subject: [R] problems linking c++ code
In-Reply-To: Timmiccoop@aol.com's message of "Sun, 09 Sep 2001 12:17:23 -0400 (EDT)"
Message-ID: <863d5veonr.fsf@linum.cofc.edu>


I've been trying to learn about dynamically loading subroutines in R.
Ultimately I would like to use this approach to implement some
simulations.  For the moment though, I've run into a problem compiling
c++ code and loading it into R.

The 'C/C++' and 'R'code below works fine when compiled and linked with
gcc, but gives an error when the library is compiled and linked with
g++.  In the case when it fails, it does so because of an undefined
symbol in the *.so file.  Is there something I can link in to resolve
this problem?  Is there another obvious solution?

The system is FreeBSD 4.x-stable.  The R version is 1.3.1. The gcc/g++
version is 2.95.3.  I compile with R CMD INSTALL and my MAkevars file
has the following lines:

PKG_CXXFLAGS = -fPIC -I./ -I../../ 
PKG_CFLAGS = -fPIC -I./ -I../../ 
PKG_LIBS = -L/usr/local/lib 
 

The error I get when loading the library in R is:
> library(rmetasim)
Error in dyn.load(x, as.logical(local), as.logical(now)) : 
        unable to load shared library "/usr/local/lib/R/library/rmetasim/libs/rmetasim.so":
  /usr/local/lib/R/library/rmetasim/libs/rmetasim.so: Undefined symbol "Rf_unprotect__Fi"
Error in library(rmetasim) : .First.lib failed
> 


R-code
=====================

.First.lib <- function(libpath, libname)
  {
    library.dynam(libname)
  }

read.landscape <- function(fn = "filename")
  {
    .Call("read_landscape",fn,PACKAGE = "rmetasim")
  }

C-code
===================
#include <R.h>
#include <Rdefines.h>
#include <Rinternals.h>

#ifdef __cplusplus
extern "C" SEXP read_landscape(SEXP fn);
extern "C" {
#endif

SEXP read_landscape(SEXP fn)
{
  SEXP l;
  PROTECT(l = allocVector (REALSXP, 2));
  REAL(l)[0] = 12.0;
  REAL(l)[1] =14.5;
  UNPROTECT(1);
  return l;
}

#ifdef __cplusplus
} ///end of extern "C"
#endif

-- 
Allan Strand,   Biology
College of Charleston  
Charleston, SC 29424   

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From umusus at net.nagasaki-u.ac.jp  Mon Sep 10 08:28:01 2001
From: umusus at net.nagasaki-u.ac.jp (Susumu =?ISO-2022-JP?B?VGFuaW11cmEvGyRCQytCPBsoQiAbJEI/OBsoQg==?=)
Date: Mon, 10 Sep 2001 15:28:01 +0900
Subject: [R] data format for ppinit
Message-ID: <20010910152801.675b579e.umusus@net.nagasaki-u.ac.jp>

After installation of R into VineLinux2.1.5, I started to enjoy statistics
following some instruction, and found it very useful.

One of my main purpose to use R is to try spatial statistics.  Since
library named "spatial" has already installed, I just tried ...
> library(spatial)
> towns <- ppinit(test.dat)

------- test.dat -------
x,y
4,7
5,7
5,8
5,9
6,7
6,8
6,9
7,8

--------------------------

However, following error was given.
Error in scan(tfile, list(xl = 0, xu = 0, yl = 0, yu = 0, fac = 0),n =5, :
          "scan" expected a real, got "5,7"
Also, I tried...
>towns <- ppinit("test.dat",xl=0,xu=10,yl=0,yu=10,fac=1)
Error in ppinit("test.dat", xl = 0, xu = 10, yl = 0, yu = 10, fac = 1)
        unused argument(s) (xl ...)

On manual, usage of ppinit is "ppinit(file)" but no format of file was
given. Only have it said "the file should contain, the number of points", a
header(ignored), xl xu yl yu scale, xy(repeated n times)."

Does someone know about the date format of ppinit ?


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Mon Sep 10 08:53:48 2001
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Mon, 10 Sep 2001 08:53:48 +0200 (MET DST)
Subject: [R] Fitting distributions
In-Reply-To: <Pine.LNX.4.31.0109072122560.4429-100000@gannet.stats> from "Prof Brian Ripley" at Sep 07, 2001 09:51:30 PM
Message-ID: <200109100653.IAA01531@luc.ac.be>

> 
> On Fri, 7 Sep 2001, kjetil halvorsen wrote:
> 
> > Hola!
> >
> > I think the original posters problem was to fit a weibull. this could be
> > done with:
> >
> > library(gnlm)
> > > x <- rweibull(100, 2, 3)
> > > y <- rep(1,100)
> >
> > > fit.dist(x,y,"Weibull")
> >
> > Weibull distribution,  n = 100
> >
> >      mean  variance alpha.hat    mu.hat
> >  2.438586  1.840581  1.890002  6.782797
> >
> > -log likelihood             AIC
> >       -296.4451       -294.4451
> >
> >            yi ni pi.hat    pi.tilde like.comp     resid
> > 1   1.8744688  1   0.01 0.300583890 -3.403142 -5.300156
> 
> >From the help page again:
> 
>   breaks: If TRUE, `y' contains breaks between categories instead of
>           mid-points.
> 
> so according the help page it is assuming grouped observations
> specified by midpoints.  That is not the same problem, as I did say.

Brian is correct.

> 
> Who knows if the help page is right?

Yes it is.

> 
> 
> > Kjetil Halvorsen
> >
> >
> > Prof Brian Ripley wrote:
> > >
> > > On Thu, 6 Sep 2001, kjetil halvorsen wrote:
> > >
> > > > Hola!
> > > >
> > > > I think some of this is avaliable as fit.dist in Jim Lindsays
> > > > package gnlm.

Actually, it is rather gnlr in the same library that will do much of
the proposed fitdist.
  Jim

> > >
> > > Not according to his help page:
> > >
> > > \name{fit.dist}
> > > \title{Fit Probability Distributions to Frequency Data}
> > >
> > > Not the same problem.
> > >
> > > --
> > > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > > University of Oxford,             Tel:  +44 1865 272861 (self)
> > > 1 South Parks Road,                     +44 1865 272860 (secr)
> > > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> > >
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Mon Sep 10 09:18:48 2001
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Mon, 10 Sep 2001 09:18:48 +0200 (CEST)
Subject: [R] data format for ppinit
In-Reply-To: <20010910152801.675b579e.umusus@net.nagasaki-u.ac.jp>
Message-ID: <Pine.LNX.4.21.0109100901590.3349-100000@reclus.nhh.no>

On Mon, 10 Sep 2001, Susumu [ISO-2022-JP] Tanimura/$BC+B<(B $B?8(B wrote:

> After installation of R into VineLinux2.1.5, I started to enjoy statistics
> following some instruction, and found it very useful.
> 
> One of my main purpose to use R is to try spatial statistics.  Since
> library named "spatial" has already installed, I just tried ...
> > library(spatial)
> > towns <- ppinit(test.dat)

help(ppinit)

gives the documentation for ppinit. If you look at:

example(ppinit)

and examine the file it reads ($R_HOME/library/spatial/data/towns.dat),
you will see that the format described on the help page is easy to 
follow:

69
TOWNS
0 40 0 40 1
  .84 39.16
  .84 33.20
 4.24 34.04
....

69 points
a header
xl xu yl yu scale (the point (xl, yl) is the lower left corner of the
region of interest, (xu, yu) the upper right corner; scale is usually 1)
followed by coordinate pairs for the specified number of points.


> ------- test.dat -------
> x,y
> 4,7
> 5,7
> 5,8
> 5,9
> 6,7
> 6,8
> 6,9
> 7,8
> 
> --------------------------

This is a different problem. You are assuming that you can use commas to
separate values - in general values should be separated by white
space. For ppinit, your file would need to be:

8
TEST
3 8 6 10 1
4 7
5 7
5 8
5 9
6 7
6 8
6 9
7 8

> pptest <- ppinit("/tmp/test.dat")
> str(pptest)
List of 3
 $ x   : num [1:8] 4 5 5 5 6 6 6 7
 $ y   : num [1:8] 7 7 8 9 7 8 9 8
 $ area: Named num [1:4] 3 8 6 10
  ..- attr(*, "names")= chr [1:4] "xl" "xu" "yl" "yu"
> plot(pptest)

now works fine. Please also refer to the section of Venables & Ripley
(Modern Applied Statistics with S-Plus) about the functions provided in
the spatial package.

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Sep 10 10:33:39 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 10 Sep 2001 09:33:39 +0100 (BST)
Subject: [R] problems linking c++ code
In-Reply-To: <863d5veonr.fsf@linum.cofc.edu>
Message-ID: <Pine.LNX.4.31.0109100924150.14684-100000@gannet.stats>

On 9 Sep 2001, Allan Strand wrote:

>
> I've been trying to learn about dynamically loading subroutines in R.
> Ultimately I would like to use this approach to implement some
> simulations.  For the moment though, I've run into a problem compiling
> c++ code and loading it into R.
>
> The 'C/C++' and 'R'code below works fine when compiled and linked with
> gcc, but gives an error when the library is compiled and linked with
> g++.  In the case when it fails, it does so because of an undefined
> symbol in the *.so file.  Is there something I can link in to resolve
> this problem?  Is there another obvious solution?

Using the Rinternals.h in C++ code is not supported.
It's not clear to me why you are writing C in C++ inside extern "C"
declarations, but if you do you need to put
the Rinternals.h inside extern "C" too.

BTW, you code is not using Rdefines.h, but I think that may need to be
inside extern "C" too.

The `standard' headers (those used with .C) have extern "C" wrappers, but
not the advanced ones for .Call/.Extern.  We assume that people using
.Call are pretty au fait with their ccompiler systems, and already know
how to use .C.

>
> The system is FreeBSD 4.x-stable.  The R version is 1.3.1. The gcc/g++
> version is 2.95.3.  I compile with R CMD INSTALL and my MAkevars file
> has the following lines:
>
> PKG_CXXFLAGS = -fPIC -I./ -I../../
> PKG_CFLAGS = -fPIC -I./ -I../../
> PKG_LIBS = -L/usr/local/lib
>
>
> The error I get when loading the library in R is:
> > library(rmetasim)
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>         unable to load shared library "/usr/local/lib/R/library/rmetasim/libs/rmetasim.so":
>   /usr/local/lib/R/library/rmetasim/libs/rmetasim.so: Undefined symbol "Rf_unprotect__Fi"
> Error in library(rmetasim) : .First.lib failed
> >
>
>
> R-code
> =====================
>
> .First.lib <- function(libpath, libname)
>   {
>     library.dynam(libname)
>   }

That should be library.dynam("rmetasim", libname, libpath) to make sure
you use your package.

>
> read.landscape <- function(fn = "filename")
>   {
>     .Call("read_landscape",fn,PACKAGE = "rmetasim")
>   }
>
> C-code
> ===================
> #include <R.h>
> #include <Rdefines.h>
> #include <Rinternals.h>
>
> #ifdef __cplusplus
> extern "C" SEXP read_landscape(SEXP fn);
> extern "C" {
> #endif
>
> SEXP read_landscape(SEXP fn)
> {
>   SEXP l;
>   PROTECT(l = allocVector (REALSXP, 2));
>   REAL(l)[0] = 12.0;
>   REAL(l)[1] =14.5;
>   UNPROTECT(1);
>   return l;
> }
>
> #ifdef __cplusplus
> } ///end of extern "C"
> #endif
>
> --
> Allan Strand,   Biology
> College of Charleston
> Charleston, SC 29424
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Sep 10 10:37:27 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 10 Sep 2001 09:37:27 +0100 (BST)
Subject: [R] MacOS R and tcltk
In-Reply-To: <01091011550104.01670@sputnik>
Message-ID: <Pine.LNX.4.31.0109100934060.14684-100000@gannet.stats>

On Mon, 10 Sep 2001, Steve Cassidy wrote:

> >From what I can glean from the sources and bundled packages, the tcltk
> package isn't built by default for the MacOS port of R.  Looking at the code
> there doesn't seem to be any real reason not to do this except that perhaps
> tcl/tk isn't available on the builders machine.  Is this the case?

You will need to work out how to handle the event-loop integration.
We have different approaches on Unix and Windows for tcltk (since it
provides different interfaces).  My guess is that you may be able to adapt
the Windows one.

> Since I have a need for cross platform access to tcltk from R, and since I
> have one of the Mac Tcl maintainers working with me, I plan to build this
> package at least for our own purposes.  I can make it available to others if
> there is a demand.

I think that would be very helpful.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bernard.Urban at meteo.fr  Mon Sep 10 11:03:47 2001
From: Bernard.Urban at meteo.fr (Bernard Urban)
Date: 10 Sep 2001 11:03:47 +0200
Subject: [R] R on HPUX
In-Reply-To: <15257.46865.787353.970851@mithrandir.hornik.net>
References: <871ylic2tj.fsf@merceron.meteo.fr>
	<15257.46865.787353.970851@mithrandir.hornik.net>
Message-ID: <87g09vct8s.fsf@merceron.meteo.fr>

Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at> writes:

> >>>>> Bernard Urban writes:
> 
> > I have problems compiling R on HP-UX 10.20
> > (using native cc and f2c).
> 
> > The problem arises when building R_X11.sl:
> 
> >         cc -b  -o ../../../bin/R_X11.sl dataentry.o devX11.o rotated.o rbitmap.o -lSM -lICE -lX11  -L/usr/local/lib  -lm 
> > cc: warning 422: Unknown option "b" ignored.
> > /usr/ccs/bin/ld: (Warning) At least one PA 2.0 object file (dataentry.o) was detected. The linked output may not run on a PA 1.x system.
> > /usr/ccs/bin/ld: Unsatisfied symbols:
> >    Rf_VectorToPairList (code)
> >    Rf_endcontext (code)
> >    R_NaReal (data)
> 
> > [...]
> 
> > I have configured by ./configure --with-f2c.
> > Any hint ?
> 
> You are not telling us which version of R this is.  I assume it is
> 1.3.0, and I think the problem is fixed in 1.3.1.
> 

I have tried 1.3.1 and the old 1.1.1, same problem.
Obviously, the configure process forgets to add the R internal
libraries to the linking command.

-- 

Bernard Urban
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Sep 10 11:39:01 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 10 Sep 2001 10:39:01 +0100 (BST)
Subject: [R] R on HPUX
In-Reply-To: <87g09vct8s.fsf@merceron.meteo.fr>
Message-ID: <Pine.LNX.4.31.0109101033410.14752-100000@gannet.stats>

On 10 Sep 2001, Bernard Urban wrote:

> Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at> writes:
>
> > >>>>> Bernard Urban writes:
> >
> > > I have problems compiling R on HP-UX 10.20
> > > (using native cc and f2c).
> >
> > > The problem arises when building R_X11.sl:
> >
> > >         cc -b  -o ../../../bin/R_X11.sl dataentry.o devX11.o rotated.o rbitmap.o -lSM -lICE -lX11  -L/usr/local/lib  -lm
> > > cc: warning 422: Unknown option "b" ignored.
> > > /usr/ccs/bin/ld: (Warning) At least one PA 2.0 object file (dataentry.o) was detected. The linked output may not run on a PA 1.x system.
> > > /usr/ccs/bin/ld: Unsatisfied symbols:
> > >    Rf_VectorToPairList (code)
> > >    Rf_endcontext (code)
> > >    R_NaReal (data)
> >
> > > [...]
> >
> > > I have configured by ./configure --with-f2c.
> > > Any hint ?
> >
> > You are not telling us which version of R this is.  I assume it is
> > 1.3.0, and I think the problem is fixed in 1.3.1.
> >
>
> I have tried 1.3.1 and the old 1.1.1, same problem.
> Obviously, the configure process forgets to add the R internal
> libraries to the linking command.

There are no `R internal libraries': these are resolved from the R.bin
binary when the shared library is loaded.  Warnings are found on Tru64
in this case, but amongst Unix systems only AIX seems to need an import
library for R.bin.

People have definitely built versions around 1.1.1 and later on HP-UX `out
of the box', so this must it seems be a difference between your system and
those tested.  Are there any HP-UX users out there who can help?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep 10 12:06:53 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Sep 2001 12:06:53 +0200
Subject: [R] MacOS R and tcltk
In-Reply-To: <01091011550104.01670@sputnik>
References: <01091011550104.01670@sputnik>
Message-ID: <x2heubnyv6.fsf@blueberry.kubism.ku.dk>

Steve Cassidy <steve.cassidy at mq.edu.au> writes:

> From what I can glean from the sources and bundled packages, the tcltk 
> package isn't built by default for the MacOS port of R.  Looking at the code 
> there doesn't seem to be any real reason not to do this except that perhaps 
> tcl/tk isn't available on the builders machine.  Is this the case?

Probably the real reason is that the people who did the tcltk package
(i.e. mainly me with assistance from Brian Ripley on Windows) haven't
understood the event loop integration issues on Mac well enough.

Actually I'm not at all sure the way we do it on the other two
platforms is all that hot. We ought to understand the "notifier"
concept better and use it in the same way that the main loops of the
three flavours of Tcl_MainLoop does, or maybe setup a notifier
structure for R itself and use that as the event source for
Tcl_MainLoop itself (or any other GUI loop we might be running with).

> Since I have a need for cross platform access to tcltk from R, and since I 
> have one of the Mac Tcl maintainers working with me, I plan to build this 
> package at least for our own purposes.  I can make it available to others if 
> there is a demand.  

That would be most welcome.

> I also wonder whether anyone has done anything about passing data between tcl 
> and R. I need to pass lists of things back and forth and although it seems I 
> can do this via strings it will introduce a lot of overhead when they are 
> long.  I haven't looked at R internals much but would it be hard to code for 
> special cases like passing a vector of strings or a vector of doubles? 

It's fairly easy to get hold of the internal data structures in R and
as far as I can see also to copy them to and from Tcl objects using
Tcl_SetDoubleObject, Tcl_SetVar and friends. You'd need to read the R
Extensions manual for the details.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stranda at cofc.edu  Mon Sep 10 13:33:47 2001
From: stranda at cofc.edu (Allan Strand)
Date: 10 Sep 2001 07:33:47 -0400
Subject: [R] problems linking c++ code
In-Reply-To: Prof Brian Ripley's message of "Mon, 10 Sep 2001 09:33:39 +0100 (BST)"
References: <Pine.LNX.4.31.0109100924150.14684-100000@gannet.stats>
Message-ID: <86vgircmas.fsf@linum.cofc.edu>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:
> On 9 Sep 2001, Allan Strand wrote:
> 
> >
> > I've been trying to learn about dynamically loading subroutines in R.
> > Ultimately I would like to use this approach to implement some
> > simulations.  For the moment though, I've run into a problem compiling
> > c++ code and loading it into R.
> >
> > The 'C/C++' and 'R'code below works fine when compiled and linked with
> > gcc, but gives an error when the library is compiled and linked with
> > g++.  In the case when it fails, it does so because of an undefined
> > symbol in the *.so file.  Is there something I can link in to resolve
> > this problem?  Is there another obvious solution?
> 
> Using the Rinternals.h in C++ code is not supported.
> It's not clear to me why you are writing C in C++ inside extern "C"
> declarations, but if you do you need to put
> the Rinternals.h inside extern "C" too.

That certainly fixes the problem I posted.

I had c++ code inside the extern "C" {} as well.  The simulation
library I have already written is in c++.  I tried to pare down the
code to the smallest functioning bit that still exhibited the
behavior.  I didn't want to post a more extraneous code than
necessary.  Ultimately, I'd like to instantiate a c++ object and
convert it into several R objects.

> 
> BTW, you code is not using Rdefines.h, but I think that may need to be
It was using Rdefines.h, but I went to the Rinternals solution while
exploring my problem.

> inside extern "C" too.
> 
> The `standard' headers (those used with .C) have extern "C" wrappers, but
> not the advanced ones for .Call/.Extern.  We assume that people using
> .Call are pretty au fait with their ccompiler systems, and already know
> how to use .C.
> 

Clumsily trying to develop such an expertise...

Do you know of examples of c++ code interfaced through the
.Call/.Extern system?

Thanks for your pointers,
a.

-- 
Allan Strand,   Biology    http://linum.cofc.edu
College of Charleston      Ph. (843) 953-8085
Charleston, SC 29424       Fax (843) 953-5453
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Sep 10 14:16:56 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 10 Sep 2001 13:16:56 +0100 (BST)
Subject: [R] problems linking c++ code
In-Reply-To: <86vgircmas.fsf@linum.cofc.edu>
Message-ID: <Pine.LNX.4.31.0109101311040.14954-100000@gannet.stats>

On 10 Sep 2001, Allan Strand wrote:

....

> Do you know of examples of c++ code interfaced through the
> .Call/.Extern system?

The Matrix library on CRAN, for one.  Most people seem to use the R
internals in C and link to other C++ functions through extern "C" exports.

Matrix has

extern "C" {
#include <R.h>
#include <Rinternals.h>
...
}

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From steve.cassidy at mq.edu.au  Mon Sep 10 14:43:27 2001
From: steve.cassidy at mq.edu.au (Steve Cassidy)
Date: Mon, 10 Sep 2001 22:43:27 +1000
Subject: [R] MacOS R and tcltk
In-Reply-To: <x2heubnyv6.fsf@blueberry.kubism.ku.dk>
References: <01091011550104.01670@sputnik> <x2heubnyv6.fsf@blueberry.kubism.ku.dk>
Message-ID: <01091022432700.01669@sputnik>

On Monday 10 September 2001 20:06, Peter Dalgaard BSA wrote:
> Steve Cassidy <steve.cassidy at mq.edu.au> writes:
> > From what I can glean from the sources and bundled packages, the tcltk
> > package isn't built by default for the MacOS port of R.  Looking at the
> > code there doesn't seem to be any real reason not to do this except that
> > perhaps tcl/tk isn't available on the builders machine.  Is this the
> > case?
>
> Probably the real reason is that the people who did the tcltk package
> (i.e. mainly me with assistance from Brian Ripley on Windows) haven't
> understood the event loop integration issues on Mac well enough.

Thanks, I'll talk it over with Dan and perhaps some of the folk on 
comp.lang.tcl to see if there is a nice solution.  There's been some 
interesting stuff done recently on integrating the windows event loop with 
Tcl, it might be relevant here. 

> > I also wonder whether anyone has done anything about passing data between
> > tcl and R.
>
> It's fairly easy to get hold of the internal data structures in R and
> as far as I can see also to copy them to and from Tcl objects using
> Tcl_SetDoubleObject, Tcl_SetVar and friends. You'd need to read the R
> Extensions manual for the details.

We'll look at this too. Thanks for the pointers.

Steve
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Mon Sep 10 15:19:30 2001
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 10 Sep 2001 09:19:30 -0400
Subject: [R] State space modelling
References: <A3D56E56D0CED311A23300A0C9FC21FA01A0BC@SFCCRMNT001>
Message-ID: <3B9CBDE1.A288C0C3@bank-banque-canada.ca>

>Hi, I'm new to R and am trying to implement a state-space model, and do
some
>simulations looking at how well it works.

You might look at the dse package available on CRAN and the Users' Guide
available at
<http://www.bank-banque-canada.ca/pgilbert>. It does multivariate
state-space and also ARMA modelling. The simulate method does
simulation. There are also methods for monte-carlo experiments.

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From korbinian.strimmer at zoology.oxford.ac.uk  Mon Sep 10 15:44:26 2001
From: korbinian.strimmer at zoology.oxford.ac.uk (Korbinian Strimmer)
Date: Mon, 10 Sep 2001 14:44:26 +0100 (BST)
Subject: [R] QUESTION: enumerating linear models
In-Reply-To: <3B9CBDE1.A288C0C3@bank-banque-canada.ca>
Message-ID: <Pine.OSF.4.21.0109101442090.25031-100000@ermine.ox.ac.uk>


Hi all,

how do I enumerate models in R in an efficient way?

Suppose I am interested in the fitted values of all linear
models with at most four predictors.  Can I use a loop 1:16
to do the equivalent of the following? 


m <-  matrix(ncol=length(Y),nrow=16)

m[1,] <- rep(mean(Y), length(Y)) # no predictor
m[2,] <- lm(Y ~ X1)$fitted.values # one predictor
m[3,] <- lm(Y ~ X2)$fitted.values
m[4,] <- lm(Y ~ X3)$fitted.values
m[5,] <- lm(Y ~ X4)$fitted.values
m[6,] <- lm(Y ~ X1+X2)$fitted.values # two predictors
m[7,] <- lm(Y ~ X1+X3)$fitted.values
m[8,] <- lm(Y ~ X1+X4)$fitted.values
m[9,] <- lm(Y ~ X2+X3)$fitted.values
m[10,] <- lm(Y ~ X2+X4)$fitted.values
m[11,] <- lm(Y ~ X3+X4)$fitted.values
m[12,] <- lm(Y ~ X1+X2+X3)$fitted.values # three predictors
m[13,] <- lm(Y ~ X1+X2+X4)$fitted.values
m[14,] <- lm(Y ~ X1+X3+X4)$fitted.values
m[15,] <- lm(Y ~ X2+X3+X4)$fitted.values
m[16,] <- lm(Y ~ X1+X2+X3+X4)$fitted.values # four predictors



--
Korbinian Strimmer                       http://users.ox.ac.uk/~strimmer
Dept. of Zoology, University of Oxford, South Parks Road, Oxford OX1 3PS
+44 1865 271272 (phone), -49 (fax), korbinian.strimmer at zoo.ox.ac.uk

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.holtman at convergys.com  Mon Sep 10 17:01:39 2001
From: james.holtman at convergys.com (james.holtman@convergys.com)
Date: Mon, 10 Sep 2001 11:01:39 -0400
Subject: [R] on.exit processing
Message-ID: <OF4C322183.060CAD7B-ON85256AC3.00515143@cbis.com>

I have encountered a 'strange' behavior in the 'on.exit' processing.  I had
a function where I setup an 'on.exit' condition and then later on added to
it with an 'on.exit({...}, add=T)'.  What appeared to happen is that on
subsequent calls to the function, even if only the first 'on.exit' was
called, it was still executing the one with the 'add=T'.

I am using Version 1.3.0  (2001-06-22) on Windows 2000.

Here is a small sample of what is happening.  The function conditionally
sets up the on.exit, and as you can see, each time the 'second' one is
setup, it just keeps adding to what is output:


> x.func <- function(x=0){
+     on.exit({cat('first exit call\n')})
+     if (x == 1) on.exit({cat('second exit call\n')}, add=T)
+     invisible(NULL)
+ }
> x.func(0)   # only the 'first' exit
first exit call
> x.func(1)   # both 'first' & 'second'
first exit call
second exit call
> x.func(0)   # only the 'first'
first exit call
second exit call         #<<  shouldn't be here
> x.func(1)   # both 'first' & 'second'
first exit call
second exit call
second exit call         #<<  shouldn't be here
> x.func(1)   # both 'first' & 'second'
first exit call
second exit call
second exit call         #<<  shouldn't be here
second exit call         #<<  shouldn't be here
> x.func(1)   # both 'first' & 'second'
first exit call
second exit call
second exit call         #<<  shouldn't be here
second exit call         #<<  shouldn't be here
second exit call         #<<  shouldn't be here
>

--

NOTICE:  The information contained in this electronic mail transmission is
intended by Convergys Corporation for the use of the named individual or
entity to which it is directed and may contain information that is
privileged or otherwise confidential.  If you have received this electronic
mail transmission in error, please delete it from your system without
copying or forwarding it, and notify the sender of the error by reply email
or by telephone (collect), so that the sender's address records can be
corrected.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From schaffer at chee.queensu.ca  Mon Sep 10 17:02:01 2001
From: schaffer at chee.queensu.ca (Mark Schaffer)
Date: Mon, 10 Sep 2001 11:02:01 -0400
Subject: [R] Multiresponse parameter estimation
Message-ID: <01C139E8.059792A0.schaffer@chee.queensu.ca>

I am looking for a way to do multiresponse parameter estimation for a 
problem that is quite similar in form to the alpha-pinene example in Bates 
and Watts (1988), p. 147, where the model is a set of ODEs.  I am 
specifically interested in obtaining the parameter covariance matrix, as 
well.  Which package(s) in R would I use to do such a thing?

Mark Schaffer
Dept. of Chemical Engineering
Queen's University
Kingston, ON
Tel: 613-533-6758
Fax: 613-533-6637
Email: schaffer at chee.queensu.ca
http://chemeng.chee.queensu.ca/~schaffer/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luke at nokomis.stat.umn.edu  Mon Sep 10 17:11:43 2001
From: luke at nokomis.stat.umn.edu (Luke Tierney)
Date: Mon, 10 Sep 2001 10:11:43 -0500
Subject: [R] on.exit processing
In-Reply-To: <OF4C322183.060CAD7B-ON85256AC3.00515143@cbis.com>; from james.holtman@convergys.com on Mon, Sep 10, 2001 at 11:01:39AM -0400
References: <OF4C322183.060CAD7B-ON85256AC3.00515143@cbis.com>
Message-ID: <20010910101142.A14898@nokomis.stat.umn.edu>

Yuk!

I think the problem is in the way on.exit actions are installed.
Looking at the output of debug it looks like we are doing the add by
destructively modifying the expression, which in turn modifies the
function code itself:

> f(0)
first exit call
> f(1)
first exit call
second exit call
> f(1)
first exit call
second exit call
second exit call
> debug(f)
> f(1)
debugging in: f(1)
debug: {
    on.exit({
        cat("first exit call\n")
        {
            cat("second exit call\n")
        }
        {
            cat("second exit call\n")
        }
    })
    if (x == 1) 
        on.exit({
            cat("second exit call\n")
        }, add = T)
    invisible(NULL)
}
Browse[1]> 
debug: on.exit({
    cat("first exit call\n")
    {
        cat("second exit call\n")
    }
    {
        cat("second exit call\n")
    }
})

Looking at the code it would appear that this only happens when the
existing on.exit form has braces around it. Looks like the code


		ctxt->conexit = listAppend(oldcode,tmp);

in builtin.c:do_onexit should be something like

		ctxt->conexit = listAppend(duplicate(oldcode),tmp);

but this needs a bit more checking.

luke


On Mon, Sep 10, 2001 at 11:01:39AM -0400, james.holtman at convergys.com wrote:
> I have encountered a 'strange' behavior in the 'on.exit' processing.  I had
> a function where I setup an 'on.exit' condition and then later on added to
> it with an 'on.exit({...}, add=T)'.  What appeared to happen is that on
> subsequent calls to the function, even if only the first 'on.exit' was
> called, it was still executing the one with the 'add=T'.
> 
> I am using Version 1.3.0  (2001-06-22) on Windows 2000.
> 
> Here is a small sample of what is happening.  The function conditionally
> sets up the on.exit, and as you can see, each time the 'second' one is
> setup, it just keeps adding to what is output:
> 
> 
> > x.func <- function(x=0){
> +     on.exit({cat('first exit call\n')})
> +     if (x == 1) on.exit({cat('second exit call\n')}, add=T)
> +     invisible(NULL)
> + }
> > x.func(0)   # only the 'first' exit
> first exit call
> > x.func(1)   # both 'first' & 'second'
> first exit call
> second exit call
> > x.func(0)   # only the 'first'
> first exit call
> second exit call         #<<  shouldn't be here
> > x.func(1)   # both 'first' & 'second'
> first exit call
> second exit call
> second exit call         #<<  shouldn't be here
> > x.func(1)   # both 'first' & 'second'
> first exit call
> second exit call
> second exit call         #<<  shouldn't be here
> second exit call         #<<  shouldn't be here
> > x.func(1)   # both 'first' & 'second'
> first exit call
> second exit call
> second exit call         #<<  shouldn't be here
> second exit call         #<<  shouldn't be here
> second exit call         #<<  shouldn't be here
> >
> 
> --
> 
> NOTICE:  The information contained in this electronic mail transmission is
> intended by Convergys Corporation for the use of the named individual or
> entity to which it is directed and may contain information that is
> privileged or otherwise confidential.  If you have received this electronic
> mail transmission in error, please delete it from your system without
> copying or forwarding it, and notify the sender of the error by reply email
> or by telephone (collect), so that the sender's address records can be
> corrected.
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Mon Sep 10 17:20:28 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 10 Sep 2001 10:20:28 -0500
Subject: [R] Multiresponse parameter estimation
In-Reply-To: <01C139E8.059792A0.schaffer@chee.queensu.ca>
References: <01C139E8.059792A0.schaffer@chee.queensu.ca>
Message-ID: <6rae032htv.fsf@franz.stat.wisc.edu>

Mark Schaffer <schaffer at chee.queensu.ca> writes:

> I am looking for a way to do multiresponse parameter estimation for a 
> problem that is quite similar in form to the alpha-pinene example in Bates 
> and Watts (1988), p. 147, where the model is a set of ODEs.  I am 
> specifically interested in obtaining the parameter covariance matrix, as 
> well.  Which package(s) in R would I use to do such a thing?

I don't think multiresponse parameter estimation in that sense has been
implemented in R.  It could be added to the nls function but that
would require some rather sophisticated programming and I don't have
time to do that right now.  I could advise someone who wanted to try.

There is an odesolve package that you may want to consider for solving
the ODE's.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Sep 10 17:28:08 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 10 Sep 2001 08:28:08 -0700 (PDT)
Subject: [R] Basic SPSS  commands  in  R ?
In-Reply-To: <200109081454.f88EsAx01023@mailgate5.cinetic.de>
Message-ID: <Pine.A41.4.33.0109100818410.131456-100000@homer06.u.washington.edu>

On Sat, 8 Sep 2001, C. Schulz wrote:

> Hello,
> i'm newbie of R and think it is a really good alternative to SPSS.
> But i have more problems using elementary things comparable with using advanced methods.
>
> (1) How can i value label i.e the variable X in data.frame DATA
> with the labels ( 1=very good ) (2=good).
>
> spss syntax when DATA is in Spreadsheet is:
> value labels X
> 1 'very good'.
> 2 'good'.
> execute.

x<-factor(x,labels=c("very good","good"))


> (2) How can i split the data set dependent from one variable and
> give a special output i.e. frequencies.
>
> spss syntax:
> SORT CASES BY countryg .
> SPLIT FILE
> LAYERED BY countryg .
> FREQUENCIES
> VARIABLES=X Y Z
> /ORDER ANALYSIS .
>

Various commands. The easiest is by(), tapply is more general

For example, looking at the Cars93 dataset in the MASS package:

library(MASS)   #load the package
data(Cars93)    #load the dataset

#summaries of all variables by type of car
by(Cars93,Cars93$Type,summary)

##summaries of weight, horsepower and engine size by US/Foreign origin
by(Cars93[,c("Weight","Horsepower","EngineSize")],Cars93$Origin,summary)

## table of no. of cylinders by type for US and Foreign cars.
by(Cars93[,c("Cylinders","Type")], Cars93$Origin, table)


This also gives some more examples of factors (aka VALUE LABELS)


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Mon Sep 10 17:43:30 2001
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Mon, 10 Sep 2001 17:43:30 +0200 (MEST)
Subject: [R] Offline change detection methods?
Message-ID: <Pine.GSO.4.10.10109101711000.754-100000@speed.maths.lth.se>

Dear [R] people, I am looking for a method to test if there are any
changes (jump points) in a time series data set or not. If there are, I
would like to identify the jump points. All the data is available from the
beginning so an offline method could be used.

The current data set that I have could be seen as a time series with
five almost equally sized segments that stands out to have different
(constant) means and possibly different variances. All 10000 data points
can be considered independent and containing 1-2 percent outliers.
Actually, the data set contains not only one variable, but several
variables that are all known to have the same jump point positions, if
any. I believe that several variables could be used in a multivariate
approach to improve the identification of the jump points, but a 
univariate method is ok too.

It would also be possible to identify the positions visually, but I am
looking for a method that could be applied automatically. It should 
ofcourse also be applicable to new data sets, which could have totally
different number of jump points, jump point positions, and different means
and variances. Between different data sets there is little or nothing in
common and for this reason, I believe, methods like HMM won't work
since I have no test data to learn the models. Also, even though the jump
points are within about the same distance from each other in the current
data set, this might not always be case. 

The current reference I have is "Detection of Abrupt Changes - Theory and
Application" by Basseville & Nikiforov. They explain several methods which
seems promising to me, even a few offline methods. Do anyone know about
other references? Do anyone know if B&N's methods (or others) are 
implemented in [R] or S-Plus? If not, maybe someone knows about other
implementations that I could port?

Thank you

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences 
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
hb at maths.lth.se, http://www.maths.lth.se/matstat/staff/hb/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Sep 10 17:54:28 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 10 Sep 2001 08:54:28 -0700 (PDT)
Subject: [R] Offline change detection methods?
In-Reply-To: <Pine.GSO.4.10.10109101711000.754-100000@speed.maths.lth.se>
Message-ID: <Pine.A41.4.33.0109100853250.131456-100000@homer06.u.washington.edu>

On Mon, 10 Sep 2001, Henrik Bengtsson wrote:

> Dear [R] people, I am looking for a method to test if there are any
> changes (jump points) in a time series data set or not. If there are, I
> would like to identify the jump points. All the data is available from the
> beginning so an offline method could be used.
>

The strucchange package may be helpful here.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stephan at fs2.ma.man.ac.uk  Mon Sep 10 16:58:37 2001
From: stephan at fs2.ma.man.ac.uk (Dr. Stephan Martin Rudolfer)
Date: Mon, 10 Sep 2001 16:58:37 BST
Subject: [R] Update.packages() seems to just stop
In-Reply-To: <3B97A918.2E027A3F@statistik.uni-dortmund.de>
Message-ID: <8CDA3C95670@fs2.ma.man.ac.uk>

> Date:          Thu, 06 Sep 2001 18:49:28 +0200
> From:          Uwe Ligges <ligges at amadeus.statistik.uni-dortmund.de>
> Organization:  Fachbereich Statistik, Universitaet Dortmund
> To:            "Dr. Stephan Martin Rudolfer" <stephan at fs2.ma.man.ac.uk>
> Cc:            r-help at stat.math.ethz.ch
> Subject:       Re: [R] Update.packages() seems to just stop

> 
> 
> "Dr. Stephan Martin Rudolfer" wrote:
> > 
> > OS: Win98
> > 
> > When using update.packages(), either directly or using the packages
> > option at the top of the screen, I get the following messages.
> > 
> > > update.packages()
> > trying URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
> > Content type `text/plain' length 5164 bytes
> > opened URL
> > downloaded 5164 bytes
> > 
> > >
> > 
> > However, the first time I successfully managed to use
> > update.packages(), it gave me the whole list of packages installed on
> > R, with the options of downloading each one or not.
> > 
> > What has changed, and how can I get back to the previous  results?
> > 
> > Many thanks in advance for any help given.
> 
> 
> That happens, if no packages are outdated. Do you think, there are any
> updated packages on CRAN (since you run update.packages() the last
> time)?
> 
> Uwe Ligges

Many thanks for your comments.

I've no idea whether there are any updated packages on CRAN (since 
I ran update.packages() the last time);  what I do know is that the 
only package which I did update was "foreign", leaving the other ones 
un-updated.  That is why I was rather surprised not to be given any 
other packages to update.

Stephan Rudolfer


******************************************************************************************
* Dr. Stephan M. Rudolfer  Office tel: +44 161 275 5912                                  *
*     Chairman, Manchester Group, Royal Statistical Society                              *
* Mathematics Department   Dept. tel: +44 161 275 5800                                   * 
* The University           Fax      : +44 161 275 5819                                   * 
* MANCHESTER M13 9PL       Email    : s.m.rudolfer at man.ac.uk                             *
* UK                       WWW      : http://www.maths.man.ac.uk/DeptWeb/Homepages/smr/  * 
******************************************************************************************


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at amadeus.statistik.uni-dortmund.de  Mon Sep 10 18:09:50 2001
From: ligges at amadeus.statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 10 Sep 2001 18:09:50 +0200
Subject: [R] Update.packages() seems to just stop
References: <8CDA3C95670@fs2.ma.man.ac.uk>
Message-ID: <3B9CE5CE.1F2992F9@statistik.uni-dortmund.de>

"Dr. Stephan Martin Rudolfer" wrote:
> > > When using update.packages(), either directly or using the packages
> > > option at the top of the screen, I get the following messages.
> > >
> > > > update.packages()
> > > trying URL `http://cran.r-project.org/bin/windows/contrib/PACKAGES'
> > > Content type `text/plain' length 5164 bytes
> > > opened URL
> > > downloaded 5164 bytes
> > >
> > > >
> > >
> > > However, the first time I successfully managed to use
> > > update.packages(), it gave me the whole list of packages installed on
> > > R, with the options of downloading each one or not.
> > >
> > > What has changed, and how can I get back to the previous  results?
> > >
> > > Many thanks in advance for any help given.
> >
> >
> > That happens, if no packages are outdated. Do you think, there are any
> > updated packages on CRAN (since you run update.packages() the last
> > time)?
> >
> > Uwe Ligges
> 
> Many thanks for your comments.
> 
> I've no idea whether there are any updated packages on CRAN (since
> I ran update.packages() the last time);  what I do know is that the
> only package which I did update was "foreign", leaving the other ones
> un-updated.  That is why I was rather surprised not to be given any
> other packages to update.


If 
  old.packages()
results in NULL, there shouldn't be any outdated packages on your
system.

You can verify it with
  installed.packages()[,c(1,3)]
which shows installed packages and version numbers and
  CRAN.packages()[,c(1,2)]
which shows CRAN packages and version numbers

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Mon Sep 10 18:41:06 2001
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Mon, 10 Sep 2001 18:41:06 +0200
Subject: [R] Offline change detection methods?
References: <Pine.GSO.4.10.10109101711000.754-100000@speed.maths.lth.se>
Message-ID: <3B9CED22.D8DC3350@ci.tuwien.ac.at>

Henrik Bengtsson wrote:
> 
> Dear [R] people, I am looking for a method to test if there are any
> changes (jump points) in a time series data set or not.

The package "strucchange" offers a couple of methods to test whether
there are any jump points or not. In the regression context it's just
regression with a constant, i.e. formulas of type y ~ 1.

> If there are, I would like to identify the jump points.

With the methods in "strucchange" you can do so visually by interpreting
empirical fluctuation processes, see efp() in "strucchange".
An algorithm for estimating the number/location of the breakpoints is
not implemented (yet). But I've got a preliminary version of a function
for this task, which I can send you.

You will also find some references for structural change tests in the
help pages of "strucchange".

Achim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From niels.waller at home.com  Mon Sep 10 21:05:45 2001
From: niels.waller at home.com (niels Waller)
Date: Mon, 10 Sep 2001 12:05:45 -0700
Subject: [R] inter tick distance
Message-ID: <NCBBKMNKKMFCIGDCHLDOCEPGCKAA.niels.waller@home.com>



R colleagues,

I am stumped. I would like the inter-tick distances to be the same on the x
and y axes but cannot determine how to do so when the lower half of the y
axis is not printed.  Thanks for any and all suggestions. (btw, setting
par(pty="s")  does not solve my problem)

Niels Waller


M<-matrix(c(2,1,
           -1,3),2,2,byrow=TRUE)

dimnames(M)<-list(c("P1","P2"),c("V1","V2"))

writeLines(text=c("\n","Matrix M"))
print(M)

plot(c(-4,4),c(0,4),type="n",xlim=c(-3,3),axes=FALSE,xlab="",ylab="")
axis(side=1,pos=0,labels=FALSE)
axis(side=2,pos=0,labels=FALSE,at=c(0,1,2,3,4))
arrows(0,0,M[1,1],M[1,2],angle=20,length=.15,lwd=2)
arrows(0,0,M[2,1],M[2,2],angle=20,length=.15,lwd=2)





*******************************************************
Niels Waller, Ph.D.
Director of Quantitative Methods and Evaluation
Department of Psychology and Human Development
Vanderbilt University
Phone: (615) 322-8380    email: niels.waller at vanderbilt.edu
QME Home page: http://www.vanderbilt.edu/quantmetheval/
*******************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Mon Sep 10 20:34:10 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Mon, 10 Sep 2001 20:34:10 +0200
Subject: [R] Offline change detection methods?
In-Reply-To: <Pine.GSO.4.10.10109101711000.754-100000@speed.maths.lth.se>
Message-ID: <MABBLJDICACNFOLGIHJOCEJICFAA.phgrosje@ulb.ac.be>

A simple method for detecting (even subtle) change in the mean in a time
serie is by using cumulate sums (cumsum). A reference:

Ibanez, F., J.M. Fromentin & J. Castel, 1993. Application de la methode des
sommes cumulees a l'analyse des series chronologiques oceanographiques. C.
R. Acad. Sci. Paris, Life Sciences, 316:745-748.


A powerful multivariate method for detecting changes in time series is 'D2
to the center'. Reference:

Ibanez, F., 1981. Immediate detection of heterogeneities in continuous
multivariate oceanographic recordings. Application to time series analysis
of changes in the bay of Villefranche sur mer. Limnol. Oceanogr.,
26:336-349.

Best regards,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................



-----Message d'origine-----
De : owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]De la part de Henrik Bengtsson
Envoye : lundi 10 septembre 2001 17:44
A : R-help at stat.math.ethz.ch
Objet : [R] Offline change detection methods?


Dear [R] people, I am looking for a method to test if there are any
changes (jump points) in a time series data set or not. If there are, I
would like to identify the jump points. All the data is available from the
beginning so an offline method could be used.

The current data set that I have could be seen as a time series with
five almost equally sized segments that stands out to have different
(constant) means and possibly different variances. All 10000 data points
can be considered independent and containing 1-2 percent outliers.
Actually, the data set contains not only one variable, but several
variables that are all known to have the same jump point positions, if
any. I believe that several variables could be used in a multivariate
approach to improve the identification of the jump points, but a
univariate method is ok too.

It would also be possible to identify the positions visually, but I am
looking for a method that could be applied automatically. It should
ofcourse also be applicable to new data sets, which could have totally
different number of jump points, jump point positions, and different means
and variances. Between different data sets there is little or nothing in
common and for this reason, I believe, methods like HMM won't work
since I have no test data to learn the models. Also, even though the jump
points are within about the same distance from each other in the current
data set, this might not always be case.

The current reference I have is "Detection of Abrupt Changes - Theory and
Application" by Basseville & Nikiforov. They explain several methods which
seems promising to me, even a few offline methods. Do anyone know about
other references? Do anyone know if B&N's methods (or others) are
implemented in [R] or S-Plus? If not, maybe someone knows about other
implementations that I could port?

Thank you

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
hb at maths.lth.se, http://www.maths.lth.se/matstat/staff/hb/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tov at ece.cmu.edu  Mon Sep 10 21:08:53 2001
From: tov at ece.cmu.edu (Thomas Vogels)
Date: 10 Sep 2001 15:08:53 -0400
Subject: [R] adding logical vector to data frame
In-Reply-To: Emmanuel Paradis's message of "Sat, 08 Sep 2001 00:10:33 +0200"
References: <3.0.32.20010908001033.0090b4a0@162.38.183.200>
Message-ID: <pxae022796.fsf@infiniti.ece.cmu.edu>


Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> R version?
> 
> This works correctly in R-devel.  Yes, using $ on data frame subverts some
> of the conversions, but logical variables are full-status variables now.

Prof. Ripley,

thanks for the answer--both parts (confirmation of different treatment
of '$' and news from R-devel) are very helpful.


Emmanuel Paradis <paradis at isem.univ-montp2.fr> writes:

[snip]
> You'll need a more expert opinion than mine to explain the differences
> between [ and [[, but look at the following:
> 
> > x <- 1:9
> > names(x) <- LETTERS[x] # give names to the observations
> > x
> A B C D E F G H I 
> 1 2 3 4 5 6 7 8 9 
> > x["C"]
> C 
> 3 
> > x[["C"]]
> [1] 3
> > names(x["C"])
> [1] "C"
> > names(x[["C"]])
> NULL

Quite obviously, I'm not an expert, but in my simple-minded view, []
subsets, while [[]] extracts (one element, and one element only).
So x["C"] is the third row of x while x[["C"]] gives you the
third element (a scalar, no name).

> The same with numeric indexing, but not logical indexing:
> 
> > x[3]
> C 
> 3
> > x[[3]]
> [1] 3
> > x[x == 3]
> C 
> 3 
> > x[[x == 3]]
> Error: attempt to select more than one element

because 'x == 3' results in a vector of the same length as x.  Since
that length is > 1, an error occurs.  (You could argue that if the
index vector contains exactly one TRUE value, '[['() could proceed,
but that's probably more dangerous than helpful.)

  -tom

-- 
mailto:tov at ece.cmu.edu (Tom Vogels)   Tel: (412) 268-6638   FAX: -3204
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep 10 21:09:53 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 10 Sep 2001 21:09:53 +0200
Subject: [R] inter tick distance
In-Reply-To: <NCBBKMNKKMFCIGDCHLDOCEPGCKAA.niels.waller@home.com>
References: <NCBBKMNKKMFCIGDCHLDOCEPGCKAA.niels.waller@home.com>
Message-ID: <x2pu8yyi9q.fsf@blueberry.kubism.ku.dk>

"niels Waller" <niels.waller at home.com> writes:

> R colleagues,
> 
> I am stumped. I would like the inter-tick distances to be the same on the x
> and y axes but cannot determine how to do so when the lower half of the y
> axis is not printed.  Thanks for any and all suggestions. (btw, setting
> par(pty="s")  does not solve my problem)
> 
> Niels Waller

This is a tough one. I think I would

a) set xaxs and yaxs to "i"
b) set xlim and ylim 
c) set pin to be proportional to the chosen limits.


Try replacing the last bit of your example with

par(pin=c(6,6))
plot(c(-4,4),c(0,4),type="n",xaxs="i",yaxs="i",
xlim=c(-3,3),ylim=c(-1,5),axes=FALSE,xlab="",ylab="")
axis(side=1,pos=0,labels=FALSE)
axis(side=2,pos=0,labels=FALSE,at=c(0,1,2,3,4))
arrows(0,0,M[1,1],M[1,2],angle=20,length=.15,lwd=2)
arrows(0,0,M[2,1],M[2,2],angle=20,length=.15,lwd=2)


> M<-matrix(c(2,1,
>            -1,3),2,2,byrow=TRUE)
> 
> dimnames(M)<-list(c("P1","P2"),c("V1","V2"))
> 
> writeLines(text=c("\n","Matrix M"))
> print(M)
> 
> plot(c(-4,4),c(0,4),type="n",xlim=c(-3,3),axes=FALSE,xlab="",ylab="")
> axis(side=1,pos=0,labels=FALSE)
> axis(side=2,pos=0,labels=FALSE,at=c(0,1,2,3,4))
> arrows(0,0,M[1,1],M[1,2],angle=20,length=.15,lwd=2)
> arrows(0,0,M[2,1],M[2,2],angle=20,length=.15,lwd=2)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Mon Sep 10 21:17:53 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 10 Sep 2001 15:17:53 -0400
Subject: [R] inter tick distance
In-Reply-To: <NCBBKMNKKMFCIGDCHLDOCEPGCKAA.niels.waller@home.com>
References: <NCBBKMNKKMFCIGDCHLDOCEPGCKAA.niels.waller@home.com>
Message-ID: <t54qpto4tvlnu64pbk9d2lual67qjq3t8o@4ax.com>

On Mon, 10 Sep 2001 12:05:45 -0700, you wrote in message
<NCBBKMNKKMFCIGDCHLDOCEPGCKAA.niels.waller at home.com>:

>
>
>R colleagues,
>
>I am stumped. I would like the inter-tick distances to be the same on the x
>and y axes but cannot determine how to do so when the lower half of the y
>axis is not printed.  Thanks for any and all suggestions. (btw, setting
>par(pty="s")  does not solve my problem)

I think if you use both 'par(pty="s")' and set both xlim and ylim to
the same size, then the ticks have the same spacing.  Doing it with
your example leaves ugly space above or below the plot (so titles will
appear misplaced); I don't know a simple way around that, but you can
manually move titles (using the line= parameter of mtext()).

 M<-matrix(c(2,1,
           -1,3),2,2,byrow=TRUE)

 dimnames(M)<-list(c("P1","P2"),c("V1","V2"))

 writeLines(text=c("\n","Matrix M"))
 print(M)

 par(pty='s')

plot(c(-4,4),c(0,4),type="n",xlim=c(-3,3),ylim=c(-1,5),axes=FALSE,xlab="",ylab="",
     main="Too high",sub="Too low")
 axis(side=1,pos=0,labels=FALSE)
 axis(side=2,pos=0,labels=FALSE,at=c(0,1,2,3,4))
 arrows(0,0,M[1,1],M[1,2],angle=20,length=.15,lwd=2)
 arrows(0,0,M[2,1],M[2,2],angle=20,length=.15,lwd=2)

Duncan Murdoch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at amadeus.statistik.uni-dortmund.de  Mon Sep 10 21:18:41 2001
From: ligges at amadeus.statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 10 Sep 2001 21:18:41 +0200
Subject: [R] inter tick distance
References: <NCBBKMNKKMFCIGDCHLDOCEPGCKAA.niels.waller@home.com>
Message-ID: <3B9D1211.DAE81225@statistik.uni-dortmund.de>

niels Waller wrote:
> 
> R colleagues,
> 
> I am stumped. I would like the inter-tick distances to be the same on the x
> and y axes but cannot determine how to do so when the lower half of the y
> axis is not printed.  Thanks for any and all suggestions. (btw, setting
> par(pty="s")  does not solve my problem)
> 
> Niels Waller
> 
> M<-matrix(c(2,1,
>            -1,3),2,2,byrow=TRUE)
> 
> dimnames(M)<-list(c("P1","P2"),c("V1","V2"))
> 
> writeLines(text=c("\n","Matrix M"))
> print(M)


Let me add two lines:

  postscript("file.ps", width=3, height=3)

> plot(c(-4,4),c(0,4),type="n",xlim=c(-3,3),axes=FALSE,xlab="",ylab="")
> axis(side=1,pos=0,labels=FALSE)
> axis(side=2,pos=0,labels=FALSE,at=c(0,1,2,3,4))
> arrows(0,0,M[1,1],M[1,2],angle=20,length=.15,lwd=2)
> arrows(0,0,M[2,1],M[2,2],angle=20,length=.15,lwd=2)

  dev.off()


I think "inter-tick distance" *is* already the same in the postscript
file. 

For the windows() device (I don't know your OS) you can use
  windows(rescale="fit", xpinch=102, ypinch=77)
instead of postscript() but maybe xpinch/ypinch must be adjusted for
your system.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjeff at geog.ubc.ca  Mon Sep 10 22:09:31 2001
From: cjeff at geog.ubc.ca (Chris Jeffery)
Date: Mon, 10 Sep 2001 13:09:31 -0700 (PDT)
Subject: [R] not safe to return vector pointer
Message-ID: <Pine.GSO.4.10.10109101301040.2588-100000@phoebe.geog.ubc.ca>


Hello All,

I recently upgraded from R-1.1.1 to R-1.2.2.

I have an R function that uses .Call() to
return a list from C code.  The C code
has the form:

SEXP function(SEXP var)
{
   SEXP rlist ;  
   PROTECT(rlist = NEW_LIST(3)) ;  
   VECTOR_PTR(rlist)[0] = NEW_INTEGER(1) ;
   VECTOR_PTR(rlist)[1] = NEW_STRING(1) ;

   ...

   UNPROTECT(1) ;

   return(rlist) ;
}

When I try to .Call("function",...) from R I get
the following error message:

Error: not safe to return vector pointer

Why is it no longer safe to return a vector pointer?
How can I correct this problem?

Thanks in advance,

Chris
------------------------------------------------------------
Chris Jeffery  (cjeff at geog.ubc.ca)
Department of Geography,                 Tel: (604) 822-2663
University of British Columbia, B.C.     Fax: (604) 822-6150

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikem at actrix.co.nz  Tue Sep 11 14:24:31 2001
From: mikem at actrix.co.nz (Michael Manning)
Date: Tue, 11 Sep 2001 08:24:31 -0400
Subject: [R] Postscript query
Message-ID: <3B9E027F.5A3536B1@actrix.co.nz>

Hi all

I am experiencing some interesting results when I attempt to save
graphical output to a file via "postscript".  I am running R version
1.3.0 on a Mandrake 8.0 system under Xemacs 21.1.14 via ESS 5.1.18. 
Once I have generated a graph, I have attempted to save the graph with
statements like

postscript("myplot.eps",horizontal=FALSE, height=8, width=6)

however, the resulting postscript file appears to be, um, blank (i.e.
when I open the file in the gimp or some other graphics editor, there
isn't anything there).

Feedback?

Regards

Michael Manning
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Sep 10 22:24:45 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 10 Sep 2001 13:24:45 -0700 (PDT)
Subject: [R] not safe to return vector pointer
In-Reply-To: <Pine.GSO.4.10.10109101301040.2588-100000@phoebe.geog.ubc.ca>
Message-ID: <Pine.A41.4.33.0109101319200.131456-100000@homer06.u.washington.edu>

On Mon, 10 Sep 2001, Chris Jeffery wrote:

>
> Hello All,
>
> I recently upgraded from R-1.1.1 to R-1.2.2.

If it was recent, it would have been better to update to R-1.3.0 or 1.3.1

> I have an R function that uses .Call() to
> return a list from C code.  The C code
> has the form:
>
> SEXP function(SEXP var)
> {
>    SEXP rlist ;
>    PROTECT(rlist = NEW_LIST(3)) ;
>    VECTOR_PTR(rlist)[0] = NEW_INTEGER(1) ;
>    VECTOR_PTR(rlist)[1] = NEW_STRING(1) ;
>
>    ...
>
>    UNPROTECT(1) ;
>
>    return(rlist) ;
> }
>
> When I try to .Call("function",...) from R I get
> the following error message:
>
> Error: not safe to return vector pointer
>
> Why is it no longer safe to return a vector pointer?
> How can I correct this problem?

The new memory manager in R 1.2 needs to know when objects are updated.
This means that there are new macros for access to strings and vectors.

You need to use eg

  SET_VECTOR_ELT(rlist,0,NEW_INTEGER(1));

instead of

  VECTOR(rlist)[0]=NEW_INTEGER(1));.

There are similar macros for string access.

More detail is given in the 'Writing R Extensions' manual. Modifying code
to handle this new `write barrier' isn't that painful and the new memory
manager is much better than the old one, so it was worth the change.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Mon Sep 10 22:46:44 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Mon, 10 Sep 2001 16:46:44 -0400 (EDT)
Subject: [R] Postscript query
In-Reply-To: <3B9E027F.5A3536B1@actrix.co.nz>
Message-ID: <Pine.LNX.4.30.0109101637420.30728-100000@bolker.zoo.ufl.edu>


  You've misunderstood how the postscript() device works, I think.

  You should do

postscript(whatever)
... plot commands ...
dev.off()

dev.print(file="whatever") works more the way you're thinking.

Note, however, that for best results you either (1) want to set your
windows() or x11() device to the same size as your intended output file or
(2) use the postscript()/plot commands/dev.off()  approach; translating
the stored plot commands to a new device isn't always WYSIWYG.



On Tue, 11 Sep 2001, Michael Manning wrote:

> Hi all
>
> I am experiencing some interesting results when I attempt to save
> graphical output to a file via "postscript".  I am running R version
> 1.3.0 on a Mandrake 8.0 system under Xemacs 21.1.14 via ESS 5.1.18.
> Once I have generated a graph, I have attempted to save the graph with
> statements like
>
> postscript("myplot.eps",horizontal=FALSE, height=8, width=6)
>
> however, the resulting postscript file appears to be, um, blank (i.e.
> when I open the file in the gimp or some other graphics editor, there
> isn't anything there).
>
> Feedback?
>
> Regards
>
> Michael Manning
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Mon Sep 10 23:09:20 2001
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Tue, 11 Sep 2001 09:09:20 +1200
Subject: [R] Postscript query
References: <3B9E027F.5A3536B1@actrix.co.nz>
Message-ID: <007001c13a3c$dbcd2cf0$175dd882@stat.auckland.ac.nz>

Hi


> I am experiencing some interesting results when I attempt to save
> graphical output to a file via "postscript".  I am running R version
> 1.3.0 on a Mandrake 8.0 system under Xemacs 21.1.14 via ESS 5.1.18.
> Once I have generated a graph, I have attempted to save the graph with
> statements like
>
> postscript("myplot.eps",horizontal=FALSE, height=8, width=6)
>
> however, the resulting postscript file appears to be, um, blank (i.e.
> when I open the file in the gimp or some other graphics editor, there
> isn't anything there).


The postscript() function only creates a new, _blank_, postscript device.
Subsequent drawing operations, such as plot(), lines(), ..., will go to that
device.

If you have created a graph in a window and want to "save" it to postscript,
you need to either ...
(i)  open a postscript device using postscript() and then rerun the graphics
commands to reproduce your graph on the postscript device, or ...
(ii)  use one of the functions dev.copy(), dev.print(), or dev.copy2eps() to
copy the contents of the window to a postscript device.

Hope that helps.

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lizquierdo at finlay.edu.cu  Tue Sep 11 03:55:39 2001
From: lizquierdo at finlay.edu.cu (Luis A. Izquierdo)
Date: Mon, 10 Sep 2001 21:55:39 -0400
Subject: [R] Exact conf. interval for one proportion
Message-ID: <000601c13a65$2c002740$750f0a0a@matematica3>

Dear R people:

I need to estimates some confidence intervals for one proportion. Reference
for binom.test
in ctest package, I suspect is so old and perhaps now there are better
methods. Wrong
or not?
Please, I need your advise.

Luis A Izquierdo
Dpto Estadistica / Instituto Finlay
Cuba

lizquierdo at finlay.edu.cu


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nfruge at macalester.edu  Tue Sep 11 06:36:26 2001
From: nfruge at macalester.edu (nfruge@macalester.edu)
Date: Mon, 10 Sep 2001 23:36:26 -0500
Subject: [R] Differential Equations Using R?
Message-ID: <3732573268.1000164985@std197.dorms5.macalester.edu>

To whom it may concern,
        I am a student at Macaleste College, and next semester Macalester
is going to offer a course for CellBio that is mainly statistically based.
For the most part the students will be using R for analysis. The problem is
there will be some simple differential equations for the students to solve.
The committee that in charge of the classes corriculam would like only to
have to use one software package "R" for the entire corse. Thus the
students will not have to learn another platform in order to solve
differential equations. I have been nominated to find out if there exists
such a program for "R". Hence the question: Does there exist a program,
which has been written for R, where differential equations can be solved
numerically? If there is please contact me at your convience on where I may
find this program. If there is not such a program would it be simpler to
write such a program or to just learn how to use MatLab or another math
program? Your input would be greatly appreciated. Thank you all for your
time.

Regards,
Nick Fruge


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snw at mcs.st-and.ac.uk  Tue Sep 11 07:27:37 2001
From: snw at mcs.st-and.ac.uk (Simon Wood)
Date: Tue, 11 Sep 2001 06:27:37 +0100 (BST)
Subject: [R] Differential Equations Using R?
In-Reply-To: <3732573268.1000164985@std197.dorms5.macalester.edu>
Message-ID: <Pine.GSO.4.21.0109110621590.25494-100000@dolphin>


On Mon, 10 Sep 2001 nfruge at macalester.edu wrote:

> To whom it may concern,
>         I am a student at Macaleste College, and next semester Macalester
> is going to offer a course for CellBio that is mainly statistically based.
> For the most part the students will be using R for analysis. The problem is
> there will be some simple differential equations for the students to solve.
> The committee that in charge of the classes corriculam would like only to
> have to use one software package "R" for the entire corse. Thus the
> students will not have to learn another platform in order to solve
> differential equations. I have been nominated to find out if there exists
> such a program for "R". Hence the question: Does there exist a program,
> which has been written for R, where differential equations can be solved
> numerically? If there is please contact me at your convience on where I may
> find this program. If there is not such a program would it be simpler to
> write such a program or to just learn how to use MatLab or another math
> program? Your input would be greatly appreciated. Thank you all for your
> time.
> 
> Regards,
> Nick Fruge
> 
For simple stuff I use this adaptive timestepping rk2(3) integrator:

ode<-function (s0, t0 = 0, t1 = 1, c = 0, odt = 0.1, tol = array(1e-05, 
    length(s0)), sup = ode.setup()) 
{
    if (sup$on) {
        if (sup$phase) 
            sup$points <- length(sup$i)/2
        else sup$points <- length(sup$i)
        if (sup$points != round(sup$points)) 
            stop("Something wrong with your plot index vector")
        if (sup$phase == FALSE) 
            sup$xl <- c(t0, t1)
        plot(sup$xl, sup$yl, type = "n", xlab = "", ylab = "")
    }
    a2 <- 0.25
    a3 <- 27/40
    b21 <- 0.25
    b31 <- -189/800
    b32 <- 729/800
    b41 <- 214/891
    b42 <- 1/33
    b43 <- 650/891
    cc1 <- 533/2106
    cc3 <- 800/1053
    cc4 <- -1/78
    s <- s0
    t <- t0
    k <- floor((t1 - t0)/odt) + 1
    n.states <- length(s0)
    ot <- array(0, k)
    os <- array(0, c(k, n.states))
    ot[1] <- t
    os[1, ] <- s
    op.i <- 2
    next.op.t <- odt
    dt <- 0.01
    g <- grad(s, t, c)
    while (t < t1) {
        bct1 <- b21 * dt
        k1 <- g
        new.s <- s + k1 * bct1
        k2 <- grad(new.s, t + dt * a2, c)
        bct1 <- b31 * dt
        bct2 <- b32 * dt
        new.s <- s + k1 * bct1 + k2 * bct2
        k3 <- grad(new.s, t + dt * a3, c)
        bct1 <- b41 * dt
        bct2 <- b42 * dt
        bct3 <- b43 * dt
        new.s <- s + k1 * bct1 + k2 * bct2 + k3 * bct3
        k4 <- grad(new.s, t + dt, c)
        bct1 <- cc1 * dt
        bct2 <- cc3 * dt
        bct3 <- cc4 * dt
        error <- s + bct1 * k1 + bct2 * k3 + bct3 * k4 - new.s
        error <- abs(error)
        if (sum(error > tol) > 0) {
            dt <- dt * (min(tol/error)^0.3333) * 0.9
            if (dt <= 0) 
                stop("Timestep shrunk to zero")
        }
        else {
            g <- k4
            s <- new.s
            t <- t + dt
            if (min(error) > 0) 
                dt <- min(0.9 * dt * min(tol/error)^0.3333, 5 * 
                  dt)
            else dt <- 5 * dt
            if (t >= next.op.t) {
                ot[op.i] <- t
                os[op.i, ] <- s
                if (sup$on) {
                  if (sup$phase) {
                    if (sup$line) 
                      for (i in 1:sup$points) {
                        kx <- sup$i[2 * i - 1]
                        ky <- sup$i[2 * i]
                        x <- c(os[op.i - 1, kx], s[kx])
                        y <- c(os[op.i - 1, ky], s[ky])
                        lines(x, y)
                      }
                    else for (i in 1:sup$points) {
                      kx <- sup$i[2 * i - 1]
                      ky <- sup$i[2 * i]
                      points(os[op.i - 1, kx], os[op.i - 1, ky], 
                        pch = 19, col = "white")
                      points(s[kx], s[ky], pch = 19, col = "red")
                    }
                  }
                  else {
                    x <- c(ot[op.i - 1], t)
                    for (i in 1:sup$points) {
                      ky <- sup$i[i]
                      y <- c(os[op.i - 1, ky], s[ky])
                      lines(x, y)
                    }
                  }
                }
                op.i <- op.i + 1
                next.op.t <- next.op.t + odt
            }
            if ((t + dt) > next.op.t) 
                dt <- next.op.t - t
            if ((t + dt) > t1) 
                dt <- t1 - t
        }
    }
    ot[k] <- t
    os[k, ] <- s
    r <- list(t = ot, s = os)
}


ode.setup<-function (on = FALSE, phase = FALSE, i = 1, line = TRUE, xl =
c(0, 1), yl = c(0, 1)) 
{
    op <- list(on = on, phase = phase, i = i, line = line, xl = xl, 
        yl = yl)
}


Here's an example (planetary motion):

   grad<-function(s,t,c)
     { g<-s
       r3<-(s[1]^2+s[2]^2)^1.5  #radius
       g[1]<-s[3]    # x
       g[2]<-s[4]    # y 
       g[3]<- -s[1]/r3     # dx/dt
       g[4]<- -s[2]/r3     # dy/dt
       g
     }
     s0<-c(1,0,0,0.6)

ode(s0,0,20,0,0.05,1e-6,sup=ode.setup(on=T,phase=T,i=c(1,2),line=T,xl=c(-1,1),yl=c(-1,1)))

Documentation:

Numerical solution of ordinary differential equations.

Description:

     Use RK2(3) to solve the system of equations whose gradient vector
     is given by grad(). The equations are of the form:

     ds_1/dt = g_1(s,t)

     ds_2/dt = g_2(s,t)

     etc.

     where s is the vector of state variables.

Usage:


ode(s0,t0=0,t1=1,c=0,odt=0.1,tol=array(1e-5,length(s0)),sup=ode.setup())

Arguments:

      s0: Initial values of state variables.

      t0: The start time for model integration.

      t1: The stop time for model integration. 

       c: Array of any parameters to be passed to grad().

     odt: The time interval at which to output data.

     tol: An array of tolerance values for the state variables (can use
          a single number)

     sup: A list controlling the display of the solutions

Details:

     This function solves the system using an adaptive rk2(3) scheme.
     The user needs to define a function `grad(s,c,t)' that provides
     the  gradient values defining the model (see below).

Value:

     The returned value is a list with elements `t' - a one dimensional
     array  of output times and  `s' - a 2 dimensional array of states.

Simon

  ______________________________________________________________________
> Simon Wood  snw at st-and.ac.uk  http://www.ruwpa.st-and.ac.uk/simon.html
> The Mathematical Institute, North Haugh, St. Andrews, Fife KY16 9SS UK
> Direct telephone: (0)1334 463799          Indirect fax: (0)1334 463748 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Tue Sep 11 08:22:54 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 11 Sep 2001 08:22:54 +0200
Subject: [R] Exact conf. interval for one proportion
In-Reply-To: <000601c13a65$2c002740$750f0a0a@matematica3>
References: <000601c13a65$2c002740$750f0a0a@matematica3>
Message-ID: <15261.44478.647605.397078@mithrandir.hornik.net>

>>>>> Luis A Izquierdo writes:

> Dear R people:

> I need to estimates some confidence intervals for one
> proportion. Reference for binom.test in ctest package, I suspect is so
> old and perhaps now there are better methods. Wrong or not?  Please, I
> need your advise.

There are better methods than the standard Clopper-Pearson confidence
intervals, but they are not implemented yet.  See the docs:

  Confidence intervals are obtained by a procedure first given in
  Clopper and Pearson (1934).  This guarantees that the confidence level
  is at least \code{conf.level}, but in general does not give the
  shortest-length confidence intervals.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep 11 08:26:47 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 11 Sep 2001 07:26:47 +0100 (BST)
Subject: [R] Differential Equations Using R?
In-Reply-To: <3732573268.1000164985@std197.dorms5.macalester.edu>
Message-ID: <Pine.GSO.4.31.0109110723390.25595-100000@auk.stats>

On Mon, 10 Sep 2001 nfruge at macalester.edu wrote:

> To whom it may concern,
>         I am a student at Macaleste College, and next semester Macalester
> is going to offer a course for CellBio that is mainly statistically based.
> For the most part the students will be using R for analysis. The problem is
> there will be some simple differential equations for the students to solve.
> The committee that in charge of the classes corriculam would like only to
> have to use one software package "R" for the entire corse. Thus the
> students will not have to learn another platform in order to solve
> differential equations. I have been nominated to find out if there exists
> such a program for "R". Hence the question: Does there exist a program,
> which has been written for R, where differential equations can be solved
> numerically? If there is please contact me at your convience on where I may
> find this program. If there is not such a program would it be simpler to
> write such a program or to just learn how to use MatLab or another math
> program? Your input would be greatly appreciated. Thank you all for your
> time.

Have you looked at the odesolve package on CRAN?

auk% cat odesolve/DESCRIPTION
Package: odesolve
Version: 0.5-5
Date: 2001/05/09
Title: Solvers for Ordinary Differential Equations
Author: R. Woodrow Setzer <setzer.woodrow at epa.gov> with fixups by Martin
Maechler <maechler at stat.math.ethz.ch>
Maintainer: R. Woodrow Setzer <setzer.woodrow at epa.gov>
Depends: R (>= 1.0.0)
Description: This package provides an interface for the ODE solver lsoda.
        ODEs are expressed as R functions.
License: GPL version 2

Looks like it meets your needs.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Gerard.Keogh at cso.ie  Mon Sep 10 17:17:54 2001
From: Gerard.Keogh at cso.ie (Gerard.Keogh@cso.ie)
Date: Mon, 10 Sep 2001 16:17:54 +0100
Subject: [R] ?? hmm ??
Message-ID: <OFEC44B6D3.6E573230-ON80256AC3.0052FFC7@cso.ie>

Hello again!
thanks to all who helped with overlay plots - v.  easy in the end.

Anyway, another new(ba)bee type question - the gurus will cringe I'm sure!

Q. simple R function
mm <- function (u) {
  x <- u$GDP
  x
  m <- mean(x)
  m
}

When the function is called the vector "x" does not get printed from within
the function, but the mean value "m" does, why?
I think it's probably to do with scoping but don't really know.
The vector "x" can of course be printed with the print function so there no
problem seeing it for program debugging etc.

Thanks in advance.

Gerard Keogh

The information in this email, and any attachments transmitted with it, are confidential 
and are for the intended recipient only. If you receive this message in error, please 
notify us via postmaster at cso.ie.

To see the latest figures from the CSO go to http://www.cso.ie

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Tue Sep 11 09:08:08 2001
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Tue, 11 Sep 2001 09:08:08 +0200 (MEST)
Subject: [R] ?? hmm ??
In-Reply-To: <OFEC44B6D3.6E573230-ON80256AC3.0052FFC7@cso.ie>
Message-ID: <Pine.LNX.4.21.0109110906480.15505-100000@artemis.imbe.med.uni-erlangen.de>

> Hello again!
> thanks to all who helped with overlay plots - v.  easy in the end.
> 
> Anyway, another new(ba)bee type question - the gurus will cringe I'm sure!
> 
> Q. simple R function
> mm <- function (u) {
>   x <- u$GDP
>   x
>   m <- mean(x)
>   m
> }

m is returned by the function mm while x is not. If you would like to
return both x and m use

mm <- function (u) {
  x <- u$GDP
  x
  m <- mean(x)
  list(m = m, x = x)
}

which returns a names list with elements m and x

Torsten


> 
> When the function is called the vector "x" does not get printed from within
> the function, but the mean value "m" does, why?
> I think it's probably to do with scoping but don't really know.
> The vector "x" can of course be printed with the print function so there no
> problem seeing it for program debugging etc.
> 
> Thanks in advance.
> 
> Gerard Keogh
> 
> The information in this email, and any attachments transmitted with it, are confidential 
> and are for the intended recipient only. If you receive this message in error, please 
> notify us via postmaster at cso.ie.
> 
> To see the latest figures from the CSO go to http://www.cso.ie
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Robert.Espesser at lpl.univ-aix.fr  Tue Sep 11 08:40:47 2001
From: Robert.Espesser at lpl.univ-aix.fr (Robert Espesser -- CNRS)
Date: Tue, 11 Sep 2001 08:40:47 +0200
Subject: [R] correlation predictors problem
Message-ID: <3B9DB1EF.CB7CC4D5@lpl.univ-aix.fr>

R colleagues,

I want 
to get the correlation between the coefficients of a regression.
Everything seems OK, but when there are more than 3 regressors, the 
correlation matrix is completely wrong, as follows:

> x.glm <- glm( bascule  ~durP+  durI +durC+moyHzPB +moyHzIN, x,family=binomial)
> summary(x.glm,correlation=T)
 
Call:
glm(formula = bascule ~ durP + durI + durC + moyHzPB + moyHzIN,
    family = binomial, data = x)
 .......
........
(Dispersion parameter for binomial family taken to be 1)
 
    Null deviance: 365.00  on 266  degrees of freedom
Residual deviance: 305.72  on 261  degrees of freedom
AIC: 317.72
 
Number of Fisher Scoring iterations: 3
 
Correlation of Coefficients:
        ( dP dI dC mHP
durP      1
durI         1
durC            1
moyHzPB .          1
moyHzIN ,
attr(,"legend")
[1] 0 ` ' 0.3 `.' 0.6 `,' 0.8 `+' 0.9 `*' 0.95 `B' 1 


I used binaries  rpm from  CRAN .
The same error is obtained with R1.2  on RH6.2 
and R.1.3.1-1 on RH7.0 (with the updated glibc2.2).
A similar  error is obtained with lm.

Thank you
-- 
Robert Espesser     
Laboratoire Parole et Langage  ESA 6057, CNRS
29 Av. Robert Schuman  13621 AIX    (FRANCE)
Tel: +33 (0)4 42 95 36 26   Fax: +33 (0)4 42 59 50 96
http://www.lpl.univ-aix.fr/~espesser
mailto:Robert.Espesser at lpl.univ-aix.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep 11 10:02:31 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 11 Sep 2001 09:02:31 +0100 (BST)
Subject: [R] correlation predictors problem
In-Reply-To: <3B9DB1EF.CB7CC4D5@lpl.univ-aix.fr>
Message-ID: <Pine.LNX.4.31.0109110856190.10472-100000@gannet.stats>

On Tue, 11 Sep 2001, Robert Espesser -- CNRS wrote:

> R colleagues,
>
> I want
> to get the correlation between the coefficients of a regression.
> Everything seems OK, but when there are more than 3 regressors, the
> correlation matrix is completely wrong, as follows:
>
> > x.glm <- glm( bascule  ~durP+  durI +durC+moyHzPB +moyHzIN, x,family=binomial)
> > summary(x.glm,correlation=T)
>
> Call:
> glm(formula = bascule ~ durP + durI + durC + moyHzPB + moyHzIN,
>     family = binomial, data = x)
>  .......
> ........
> (Dispersion parameter for binomial family taken to be 1)
>
>     Null deviance: 365.00  on 266  degrees of freedom
> Residual deviance: 305.72  on 261  degrees of freedom
> AIC: 317.72
>
> Number of Fisher Scoring iterations: 3
>
> Correlation of Coefficients:
>         ( dP dI dC mHP
> durP      1
> durI         1
> durC            1
> moyHzPB .          1
> moyHzIN ,
> attr(,"legend")
> [1] 0 ` ' 0.3 `.' 0.6 `,' 0.8 `+' 0.9 `*' 0.95 `B' 1

Notice the legend.  You don't have the correlation matrix but a
representation of it.

This is one of those things that certain people are keen on, and so
make the default for others.

You want

print(summary(x.glm,correlation=TRUE), symbolic.cor = FALSE)

I do think there should be a global option to turn this on, it being off
by default.  It's not even a documented argument in current R (but will be
in 1.4.0).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep 11 10:12:27 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Sep 2001 10:12:27 +0200
Subject: [R] correlation predictors problem
In-Reply-To: <3B9DB1EF.CB7CC4D5@lpl.univ-aix.fr>
References: <3B9DB1EF.CB7CC4D5@lpl.univ-aix.fr>
Message-ID: <x2ofoino2c.fsf@blueberry.kubism.ku.dk>

Robert Espesser -- CNRS <Robert.Espesser at lpl.univ-aix.fr> writes:

> R colleagues,
> 
> I want 
> to get the correlation between the coefficients of a regression.
> Everything seems OK, but when there are more than 3 regressors, the 
> correlation matrix is completely wrong, as follows:
....
> Correlation of Coefficients:
>         ( dP dI dC mHP
> durP      1
> durI         1
> durC            1
> moyHzPB .          1
> moyHzIN ,
> attr(,"legend")
> [1] 0 ` ' 0.3 `.' 0.6 `,' 0.8 `+' 0.9 `*' 0.95 `B' 1 

Um, wrong in what way? 

If you just think this looks weird, blame Martin who wrote the code
for displaying correlation matrices like this. See the help for
symnum() for what it means. You can turn this off by passing
symbolic.cor=FALSE to print.summary.lm.

If the actual correlations are wrong, you need to tell us why you
think so. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Tue Sep 11 10:19:13 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Tue, 11 Sep 2001 10:19:13 +0200
Subject: [R] ?? hmm ??
In-Reply-To: <OFEC44B6D3.6E573230-ON80256AC3.0052FFC7@cso.ie>
Message-ID: <MABBLJDICACNFOLGIHJOEEJMCFAA.phgrosje@ulb.ac.be>

A function returns only a single result in R. A way to get several results
from a function is by using a list:

> mm <- function(u) {
+	x <- u$GDP
+	m <- mean(x)
+	res <- list(data=x, mean=m)
+	res
+ }

> a <- NULL
> a$GDP <- 1:10
> a.mm <- mm(a)
> a.mm$data
 [1]  1  2  3  4  5  6  7  8  9 10
> a.mm$mean
 [1] 5.5

All the best,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-----Message d'origine-----
De : owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]De la part de Gerard.Keogh at cso.ie
Envoye : lundi 10 septembre 2001 17:18
A : r-help at lists.r-project.org
Objet : [R] ?? hmm ??


Hello again!
thanks to all who helped with overlay plots - v.  easy in the end.

Anyway, another new(ba)bee type question - the gurus will cringe I'm sure!

Q. simple R function
mm <- function (u) {
  x <- u$GDP
  x
  m <- mean(x)
  m
}

When the function is called the vector "x" does not get printed from within
the function, but the mean value "m" does, why?
I think it's probably to do with scoping but don't really know.
The vector "x" can of course be printed with the print function so there no
problem seeing it for program debugging etc.

Thanks in advance.

Gerard Keogh

The information in this email, and any attachments transmitted with it, are
confidential
and are for the intended recipient only. If you receive this message in
error, please
notify us via postmaster at cso.ie.

To see the latest figures from the CSO go to http://www.cso.ie

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From H.RINNER at TIROL.GV.AT  Tue Sep 11 10:57:52 2001
From: H.RINNER at TIROL.GV.AT (RINNER Heinrich)
Date: Tue, 11 Sep 2001 10:57:52 +0200
Subject: AW: [R] Exact conf. interval for one proportion
Message-ID: <C4D44AB4CB62D311BA6500041202E886264238@xms1.tirol.gv.at>

If your sample is taken from a finite population, you might find the
following answer given to my question on "exact confidence intervals for
proportions" in 06/2000 useful:
<http://www.r-project.org/nocvs/mail/r-help/2000/1410.html>.
Basically it shows that you could simply use uniroot and phyper in that
case.

Heinrich.

> ----------
> Von: 	Luis A. Izquierdo[SMTP:lizquierdo at finlay.edu.cu]
> Gesendet: 	Dienstag, 11. September 2001 03:55
> An: 	r-help at stat.math.ethz.ch
> Betreff: 	[R] Exact conf. interval for one proportion
> 
> Dear R people:
> 
> I need to estimates some confidence intervals for one proportion.
> Reference
> for binom.test
> in ctest package, I suspect is so old and perhaps now there are better
> methods. Wrong
> or not?
> Please, I need your advise.
> 
> Luis A Izquierdo
> Dpto Estadistica / Instituto Finlay
> Cuba
> 
> lizquierdo at finlay.edu.cu
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From juli at ceam.es  Tue Sep 11 12:52:50 2001
From: juli at ceam.es (juli g. pausas)
Date: Tue, 11 Sep 2001 12:52:50 +0200
Subject: [R] AIC
Message-ID: <3B9DED01.6B673D9E@ceam.es>

Dear R collegues,
I'm trying to understand what's AIC in R (ver. 1.3.1), and I'm getting a
different answer if I look at the AIC(of the fitted model) or the aic in
the summary( of the fitted model). Is this correct? Can somebody explain
me the difference between the two values? or Is the AIC criterion not
appropiated for Poisson models?

R session:

> t1 <- glm(tax ~ areal, family=poisson(link=log))
> t2 <- summary(t1)
> AIC(t1)
[1] 2173.717

> t2[5]
$aic
[1] 35206.69

> t2[12]
$aic
[1] 35206.69

> t1
Call:  glm(formula = tax ~ areal, family = poisson(link = log))

Coefficients:
(Intercept)        areal
    3.19610      0.03029

Degrees of Freedom: 283 Total (i.e. Null);  282 Residual
Null Deviance:      40600
Residual Deviance: 32880        AIC: 35210

> t2
Call:
glm(formula = tax ~ areal, family = poisson(link = log))

Deviance Residuals:
    Min       1Q   Median       3Q      Max
-25.259   -8.768   -1.270    6.653   25.605

Coefficients:
             Estimate Std. Error z value Pr(>|z|)
(Intercept) 3.1960994  0.0362085   88.27   <2e-16 ***
areal       0.0302905  0.0003333   90.88   <2e-16 ***
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1

(Dispersion parameter for poisson family taken to be 1)

    Null deviance: 40605  on 283  degrees of freedom
Residual deviance: 32881  on 282  degrees of freedom
AIC: 35207

Number of Fisher Scoring iterations: 3


Thank you very much for your help

Juli


--
Juli G. Pausas
Centro de Estudios Ambientales del Mediterraneo (CEAM)
C/ C.R. Darwin 14, Parc Tecnologic,
46980 Paterna, Valencia, SPAIN
Tel: (+ 34) 96 131 8227; Fax: (+ 34) 96 131 8190
mailto:juli at ceam.es
http://www.gva.es/ceam

GCTE Fire Network - http://www.gva.es/ceam/FireNetwork

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010911/6365c884/attachment.html

From bitwrit at ozemail.com.au  Tue Sep 11 13:40:08 2001
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Tue, 11 Sep 2001 21:40:08 +1000
Subject: [R] Postscript query
Message-ID: <3B9DF818.2E519B87@ozemail.com.au>

Michael Manning wrote:

> I am experiencing some interesting results when I attempt to save
> graphical output to a file via "postscript".  I am running R version
> 1.3.0 on a Mandrake 8.0 system under Xemacs 21.1.14 via ESS 5.1.18. 
> Once I have generated a graph, I have attempted to save the graph with
> statements like
>
> postscript("myplot.eps",horizontal=FALSE, height=8, width=6)
>
> however, the resulting postscript file appears to be, um, blank (i.e.
> when I open the file in the gimp or some other graphics editor, there
> isn't anything there).

On Mandrake 7.2 (R running in "konsole") the following produces correct
output:

> postscript("test.ps",horizontal=FALSE, height=8, width=6)
> plot(1:10)
> dev.off()

when viewed with Ghostview. Have you missed any steps?

Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From helgito at hi.is  Tue Sep 11 13:32:40 2001
From: helgito at hi.is (helgito@hi.is)
Date: Tue, 11 Sep 2001 11:32:40 +0000
Subject: [R] 64-bit programming
Message-ID: <3B9DF658.E8C42437@hi.is>

Has R been ported to  64-bit platforms?  E.g. as in FORTRAN when you
define
double precision number as:

REAL*16

I have heard that some SUN computers already offer 64-bit architecture
but I am unsure
about the GNU support  for that hardware.  I am seeking increased
accuracy  in floating
point operations.

regards

Helgi

--
Helgi Tomasson                                       FAX:  354-552-6806
University of Iceland                                PHONE:354-525-4571
Faculty of Economics and Business Administration     email:helgito at rhi.hi.is
Oddi v/ Sturlugotu
IS-101 Reykjavik
ICELAND



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep 11 13:46:56 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 11 Sep 2001 12:46:56 +0100 (BST)
Subject: [R] AIC
In-Reply-To: <3B9DED01.6B673D9E@ceam.es>
Message-ID: <Pine.LNX.4.31.0109111241300.10651-100000@gannet.stats>

On Tue, 11 Sep 2001, juli g. pausas wrote:

> Dear R collegues,
> I'm trying to understand what's AIC in R (ver. 1.3.1), and I'm getting a
> different answer if I look at the AIC(of the fitted model) or the aic in
> the summary( of the fitted model). Is this correct? Can somebody explain
> me the difference between the two values? or Is the AIC criterion not
> appropiated for Poisson models?

It's the AIC _function_ that is inappropriate for glm models.  There is no
glm method, so the lm method is used.

Martin: I think you moved AIC and logLik into base R: this needs sorting
out.

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep 11 13:58:20 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 11 Sep 2001 12:58:20 +0100 (BST)
Subject: [R] 64-bit programming
In-Reply-To: <3B9DF658.E8C42437@hi.is>
Message-ID: <Pine.LNX.4.31.0109111247420.10651-100000@gannet.stats>

On Tue, 11 Sep 2001 helgito at hi.is wrote:

> Has R been ported to  64-bit platforms?  E.g. as in FORTRAN when you
> define
> double precision number as:
>
> REAL*16
>
> I have heard that some SUN computers already offer 64-bit architecture
> but I am unsure
> about the GNU support  for that hardware.  I am seeking increased
> accuracy  in floating
> point operations.

We run R in 64-bit mode on Suns under the native compiler. However,
the double type in 64-bit mode is 8 bytes, not 16 bytes, and that's
part of the agreement between manufacturers for 64-but platforms as we
understand it:

int - 4 bytes
long - 8 bytes
double - 8 bytes

The 64-bit refers to the pointer size and perhaps to buses and to the
preferred size for integer arithmetic. It does not refer to the FPU,
and FPUs have been 64 bits or greater (e.g. i686) for about 15 years.

Why do you think REAL*16 will give you increased accuracy?  Accuracy has a
lot more to do with the algorithms used and their convergence criteria.
As R is a statistical package, numerical accuracy is almost always
secondary to data uncertainty.

At least the build of gcc 3.0.1 we have does not run in -m64 mode.
The potential benefit of 64-but mode is to address large amounts of
virtual memory from a single process, but R has internal limits there
still, I believe.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luke at nokomis.stat.umn.edu  Tue Sep 11 14:00:00 2001
From: luke at nokomis.stat.umn.edu (Luke Tierney)
Date: Tue, 11 Sep 2001 07:00:00 -0500
Subject: [R] on.exit processing
In-Reply-To: <20010910101142.A14898@nokomis.stat.umn.edu>; from luke@stat.umn.edu on Mon, Sep 10, 2001 at 10:11:43AM -0500
References: <OF4C322183.060CAD7B-ON85256AC3.00515143@cbis.com> <20010910101142.A14898@nokomis.stat.umn.edu>
Message-ID: <20010911070000.B18095@nokomis.stat.umn.edu>

Replacing

 		ctxt->conexit = listAppend(oldcode,tmp);

in builtin.c:do_onexit with

 		ctxt->conexit = listAppend(duplicate(oldcode),tmp);

fixes this bug.  It is fixed in the development tree and should be in
the next release.

If you need to work around the bug before then, make sure the first
on.exit expression you register does not have braces around it.

luke

> On Mon, Sep 10, 2001 at 11:01:39AM -0400, james.holtman at convergys.com wrote:
> > I have encountered a 'strange' behavior in the 'on.exit' processing.  I had
> > a function where I setup an 'on.exit' condition and then later on added to
> > it with an 'on.exit({...}, add=T)'.  What appeared to happen is that on
> > subsequent calls to the function, even if only the first 'on.exit' was
> > called, it was still executing the one with the 'add=T'.
> > 
> > I am using Version 1.3.0  (2001-06-22) on Windows 2000.
> > 
> > Here is a small sample of what is happening.  The function conditionally
> > sets up the on.exit, and as you can see, each time the 'second' one is
> > setup, it just keeps adding to what is output:
> > 
> > 
> > > x.func <- function(x=0){
> > +     on.exit({cat('first exit call\n')})
> > +     if (x == 1) on.exit({cat('second exit call\n')}, add=T)
> > +     invisible(NULL)
> > + }
> > > x.func(0)   # only the 'first' exit
> > first exit call
> > > x.func(1)   # both 'first' & 'second'
> > first exit call
> > second exit call
> > > x.func(0)   # only the 'first'
> > first exit call
> > second exit call         #<<  shouldn't be here
> > > x.func(1)   # both 'first' & 'second'
> > first exit call
> > second exit call
> > second exit call         #<<  shouldn't be here
> > > x.func(1)   # both 'first' & 'second'
> > first exit call
> > second exit call
> > second exit call         #<<  shouldn't be here
> > second exit call         #<<  shouldn't be here
> > > x.func(1)   # both 'first' & 'second'
> > first exit call
> > second exit call
> > second exit call         #<<  shouldn't be here
> > second exit call         #<<  shouldn't be here
> > second exit call         #<<  shouldn't be here
> > >
> > 
> > --
> > 
> > NOTICE:  The information contained in this electronic mail transmission is
> > intended by Convergys Corporation for the use of the named individual or
> > entity to which it is directed and may contain information that is
> > privileged or otherwise confidential.  If you have received this electronic
> > mail transmission in error, please delete it from your system without
> > copying or forwarding it, and notify the sender of the error by reply email
> > or by telephone (collect), so that the sender's address records can be
> > corrected.
> > 
> > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> -- 
> Luke Tierney
> University of Minnesota                      Phone:           612-625-7843
> School of Statistics                         Fax:             612-624-8868
> 313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
> Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From heberto.ghezzo at mcgill.ca  Tue Sep 11 14:44:48 2001
From: heberto.ghezzo at mcgill.ca (Heberto Ghezzo)
Date: Tue, 11 Sep 2001 08:44:48 -0400
Subject: [R] Exact conf. interval for one proportion
References: <000601c13a65$2c002740$750f0a0a@matematica3> <15261.44478.647605.397078@mithrandir.hornik.net>
Message-ID: <3B9E0740.DE95D8AB@mcgill.ca>

>

Just in the last American Statistician a paper by Robert G. Newcombe(AS 55-3 Aug
2001 p200-2
"The Wilson limits for logit(pi) can be expressed as
logit(p)+- arcsinh(z/(2*sqrt(n.p.q)) He refers to his paper in Stats in medicine
1998-17-857-872 in which he finds by simulations that the coverage of Wilsos's in
952 while the Clopper is .971 and Walds .881
Wilson's by the way is from 1927 so newer is not always better. . . .


> >>>>> Luis A Izquierdo writes:
>
> > Dear R people:
>
> > I need to estimates some confidence intervals for one
> > proportion. Reference for binom.test in ctest package, I suspect is so
> > old and perhaps now there are better methods. Wrong or not?  Please, I
> > need your advise.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From helgito at hi.is  Tue Sep 11 15:29:27 2001
From: helgito at hi.is (helgito@hi.is)
Date: Tue, 11 Sep 2001 13:29:27 +0000
Subject: [R] 64-bit programming
References: <Pine.LNX.4.31.0109111247420.10651-100000@gannet.stats>
Message-ID: <3B9E11B7.A9479FE6@hi.is>

>
>
> Why do you think REAL*16 will give you increased accuracy?  Accuracy has a
> lot more to do with the algorithms used and their convergence criteria.
> As R is a statistical package, numerical accuracy is almost always
> secondary to data uncertainty.
>
>

I tested a Solaris fotran compiler on a Sun and it allowed REAL*16 whereas
a GNU fortran on the same machine did not.  It seems to me that that the
increased
numerical accuracy compared to REAL*8 on an Intel-86 machine was not
proportional. The Intel machines have a numerical stack of lenght 80 so if
the Fortran program is well optimized you should not loose as as many digits
as you might expect.
REAL*8 gives about 15 digits in floating-point.  It was my hope that REAL*16
would give around 30.  In my simple experiment it seemed that I only got
about 20-25.
Maybe the Sun or the compiler does not use a stack as the Intel-86 machines.

I want to add several hundred thousand numbers, and their squares, which some
are range from  maybe 10^(-6) to 1 or more.
With crude programming I fear that I am loosing important digits.

I was wondering whether I should apply for a Sun station or wait further
development.

regards

Helgi

>
> --

--
Helgi Tomasson                                       FAX:  354-552-6806
University of Iceland                                PHONE:354-525-4571
Faculty of Economics and Business Administration     email:helgito at rhi.hi.is
Oddi v/ Sturlugotu
IS-101 Reykjavik
ICELAND



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Tue Sep 11 15:41:03 2001
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Tue, 11 Sep 2001 09:41:03 -0400
Subject: [R] ?? hmm ??
Message-ID: <5429125E11E4D411AF7300805FE603A8014CEDB9@groexmbcr02.pfizer.com>

To add to the other answers, 
  1) Normally, the last statement in a function determines its return value.
  2) Normally, when a function returns to the top level (the ">" prompt),
its value is printed by calling print().

Thus your function returns the value of "m", which gets printed when it
returns to the top level.  To see the value of "x", you can either return it
and the value of "m" by changing the last line to "return(x,m)", or you can
call "print(x)" inside the function.

-Greg
 

-----Original Message-----
From: Gerard.Keogh at cso.ie [mailto:Gerard.Keogh at cso.ie]
Sent: Monday, September 10, 2001 11:18 AM
To: r-help at hypatia.math.ethz.ch
Subject: [R] ?? hmm ??


Hello again!
thanks to all who helped with overlay plots - v.  easy in the end.

Anyway, another new(ba)bee type question - the gurus will cringe I'm sure!

Q. simple R function
mm <- function (u) {
  x <- u$GDP
  x
  m <- mean(x)
  m
}

When the function is called the vector "x" does not get printed from within
the function, but the mean value "m" does, why?
I think it's probably to do with scoping but don't really know.
The vector "x" can of course be printed with the print function so there no
problem seeing it for program debugging etc.

Thanks in advance.

Gerard Keogh

The information in this email, and any attachments transmitted with it, are
confidential 
and are for the intended recipient only. If you receive this message in
error, please 
notify us via postmaster at cso.ie.

To see the latest figures from the CSO go to http://www.cso.ie

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jean-Cedric.Chappelier at epfl.ch  Tue Sep 11 16:02:39 2001
From: Jean-Cedric.Chappelier at epfl.ch (Jean-Cedric Chappelier)
Date: Tue, 11 Sep 2001 16:02:39 +0200
Subject: [R] [Q] Sparse Matrices in R?
Message-ID: <3B9E197F.8526BD73@epfl.ch>

Does anyone knows if there is a way to handle sparse matrices in R?

More precisely I am looking for a way to do correspondance analysis
on a contingency table which is quite huge (1,000 x 10,000) but sparse
(i.e. full of zero).

Creating it directly in R (eg as x <- array(0,c(1000,10000) then filling
the non zero cells) seems definitely not the good solution as
R is then unable to process it (e.g. ca(x) stop for out of memory:
 "Error:  cannot allocate vector of size xxx")

Any help?

Thank you.
-- 
Jean-C?dric Chappelier           | WWW: http://liawww.epfl.ch/~chaps
DI-LIA-INR232                    | Tel:      +41 21 693.66.83 or .78
EPFL, DI (INR), CH-1015 Lausanne | Fax:             +41 21 693.52.25
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep 11 16:05:31 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 11 Sep 2001 15:05:31 +0100 (BST)
Subject: [R] 64-bit programming
In-Reply-To: <3B9E11B7.A9479FE6@hi.is>
Message-ID: <Pine.LNX.4.31.0109111455001.11305-100000@gannet.stats>

On Tue, 11 Sep 2001 helgito at hi.is wrote:

> >
> >
> > Why do you think REAL*16 will give you increased accuracy?  Accuracy has a
> > lot more to do with the algorithms used and their convergence criteria.
> > As R is a statistical package, numerical accuracy is almost always
> > secondary to data uncertainty.
> >
> >
>
> I tested a Solaris fotran compiler on a Sun and it allowed REAL*16 whereas
> a GNU fortran on the same machine did not.  It seems to me that that the
> increased
> numerical accuracy compared to REAL*8 on an Intel-86 machine was not
> proportional. The Intel machines have a numerical stack of lenght 80 so if
> the Fortran program is well optimized you should not loose as as many digits
> as you might expect.
> REAL*8 gives about 15 digits in floating-point.  It was my hope that REAL*16
> would give around 30.  In my simple experiment it seemed that I only got
> about 20-25.
> Maybe the Sun or the compiler does not use a stack as the Intel-86 machines.
>
> I want to add several hundred thousand numbers, and their squares, which some
> are range from  maybe 10^(-6) to 1 or more.
> With crude programming I fear that I am loosing important digits.

> I was wondering whether I should apply for a Sun station or wait further
> development.

Better to learn some numerical analysis.  For example you could sum the
smallest first.  If you want centred moments, centre first ....
There is a whole science out there of getting accurate results with low
precision (it was needed where the only fast arithmetic was a few
hexadecimal digits).  That could be tricky and even needed iterative
refinement, but double precision swept all that away at least of
statistical purposes (except perhaps for people who think the normal
equations are the way to solve least-squares problems).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From roger at ysidro.econ.uiuc.edu  Tue Sep 11 16:28:19 2001
From: roger at ysidro.econ.uiuc.edu (Roger Koenker)
Date: Tue, 11 Sep 2001 09:28:19 -0500 (CDT)
Subject: [R] [Q] Sparse Matrices in R?
In-Reply-To: <3B9E197F.8526BD73@epfl.ch>
Message-ID: <Pine.GSO.4.33.0109110919330.5411-100000@ysidro.econ.uiuc.edu>

On Tue, 11 Sep 2001, Jean-Cedric Chappelier wrote:

> Does anyone knows if there is a way to handle sparse matrices in R?

Kurt Hornik and I had several discussions about this a few weeks ago.
For the moment the answer seems to be no, or rather it is up to users
to find libraries and roll their own procedures in some lower level
language.  Since there are several formats for sparse matrices and
serious questions about what range of operations would be useful, it
would be nice to have some discussion about this.  I've been toying
with the idea of implementing Saunders LSQR for sparse lm() problems
with the idea that it could be extended to interior point methods
for absolute error problems as well.

url:	http://www.econ.uiuc.edu		Roger Koenker
email	roger at ysidro.econ.uiuc.edu		Department of Economics
vox: 	217-333-4558				University of Illinois
fax:   	217-244-6678				Champaign, IL 61820

On Tue, 11 Sep 2001, Jean-Cedric Chappelier wrote:

> Does anyone knows if there is a way to handle sparse matrices in R?
>
> More precisely I am looking for a way to do correspondance analysis
> on a contingency table which is quite huge (1,000 x 10,000) but sparse
> (i.e. full of zero).
>
> Creating it directly in R (eg as x <- array(0,c(1000,10000) then filling
> the non zero cells) seems definitely not the good solution as
> R is then unable to process it (e.g. ca(x) stop for out of memory:
>  "Error:  cannot allocate vector of size xxx")
>
> Any help?
>
> Thank you.
> --
> Jean-Cdric Chappelier           | WWW: http://liawww.epfl.ch/~chaps
> DI-LIA-INR232                    | Tel:      +41 21 693.66.83 or .78
> EPFL, DI (INR), CH-1015 Lausanne | Fax:             +41 21 693.52.25
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Marcos_Sanches at gallup.com  Tue Sep 11 16:54:50 2001
From: Marcos_Sanches at gallup.com (Marcos_Sanches@gallup.com)
Date: Tue, 11 Sep 2001 11:54:50 -0300
Subject: [R] String variables in GLM
Message-ID: <002401c13ad1$b51df5e0$b454a8c0@gallup.com.br>


	Hello!
	I have a dataset with variables in string format (ages class and sex) which
I want to recode as numerical variables. How can I accomplish this?  Is
there any way to do that automatically? Could someone help me?

	Thanks in advance,

	Marcos
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Tue Sep 11 17:12:31 2001
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Tue, 11 Sep 2001 17:12:31 +0200
Subject: [R] ?? hmm ??
Message-ID: <3.0.32.20010911171230.008faeb0@162.38.183.200>

At 16:17 10/09/01 +0100, you wrote:
>Hello again!
>thanks to all who helped with overlay plots - v.  easy in the end.
>
>Anyway, another new(ba)bee type question - the gurus will cringe I'm sure!
>
>Q. simple R function
>mm <- function (u) {
>  x <- u$GDP
>  x
>  m <- mean(x)
>  m
>}
>
>When the function is called the vector "x" does not get printed from within
>the function, but the mean value "m" does, why?
>I think it's probably to do with scoping but don't really know.
>The vector "x" can of course be printed with the print function so there no
>problem seeing it for program debugging etc.
>
>Thanks in advance.
>
>Gerard Keogh

If you want to have the results just printed, you can modify your function
by adding print(x):

mm <- function (u) {
  x <- u$GDP
  print(x)
  m <- mean(x)
  m
}



Emmanuel Paradis
Laboratoire de Pal?ontologie
Institut des Sciences de l'?volution
Universit? Montpellier II
F-34095 Montpellier c?dex 05
France
   phone: +33  4 67 14 39 64
     fax: +33  4 67 14 36 10
  mailto:paradis at isem.univ-montp2.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Sep 11 17:20:56 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 11 Sep 2001 08:20:56 -0700 (PDT)
Subject: [R] ?? hmm ??
In-Reply-To: <OFEC44B6D3.6E573230-ON80256AC3.0052FFC7@cso.ie>
Message-ID: <Pine.A41.4.33.0109110815580.62078-100000@homer16.u.washington.edu>

On Mon, 10 Sep 2001 Gerard.Keogh at cso.ie wrote:

> Hello again!
> thanks to all who helped with overlay plots - v.  easy in the end.
>
> Anyway, another new(ba)bee type question - the gurus will cringe I'm sure!
>
> Q. simple R function
> mm <- function (u) {
>   x <- u$GDP
>   x
>   m <- mean(x)
>   m
> }
>
> When the function is called the vector "x" does not get printed from within
> the function, but the mean value "m" does, why?

Actually neither x nor m gets printed from within the function, because
you didn't ask R to print either of them.

The statement
     x
means "Work out what x is". To print x you need
     print(x)
which means "Work out what x is and print the result"


The thing that is printed when you type mm(u) at the command line is not m
but mm(u). At the command line, only, a calculated value that isn't
assigned to any other variable will be printed.

So
   mm(u)
at the command line means "Work out the value of mm(u)", and since it is
at the command line and the result is not assigned to anything it is printed.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Sep 11 17:28:44 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 11 Sep 2001 08:28:44 -0700 (PDT)
Subject: [R] String variables in GLM
In-Reply-To: <002401c13ad1$b51df5e0$b454a8c0@gallup.com.br>
Message-ID: <Pine.A41.4.33.0109110825360.62078-100000@homer16.u.washington.edu>

On Tue, 11 Sep 2001 Marcos_Sanches at gallup.com wrote:

>
> 	Hello!
> 	I have a dataset with variables in string format (ages class and sex) which
> I want to recode as numerical variables. How can I accomplish this?  Is
> there any way to do that automatically? Could someone help me?
>

You probably want factor variables. These are described in Section 4 of
the 'Introduction to R' manual.

Reading variables in using read.table will typically make them into
factors automatically. If you have string variables use factor() to
convert them
eg

  sex<-factor(sex,levels=c("Male","Female"))

The variable can then be used in regression modelling where it will by
default be coded with indicator variables for each level except the first
(in this case that corresponds to Male=0, Female=1).


	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Marcos_Sanches at gallup.com  Tue Sep 11 18:04:09 2001
From: Marcos_Sanches at gallup.com (Marcos_Sanches@gallup.com)
Date: Tue, 11 Sep 2001 13:04:09 -0300
Subject: [R] String variables in GLM
In-Reply-To: <Pine.A41.4.33.0109110825360.62078-100000@homer16.u.washington.edu>
Message-ID: <003701c13adb$640543c0$b454a8c0@gallup.com.br>

	Many thanks Thomas!!! The "factor" solved the problem!!!

Marcos


#-----Original Message-----
#From: Thomas Lumley [mailto:tlumley at u.washington.edu]
#Sent: Tuesday, September 11, 2001 12:29 PM
#To: Marcos_Sanches at gallup.com
#Cc: r-help at stat.math.ethz.ch
#Subject: Re: [R] String variables in GLM
#
#
#On Tue, 11 Sep 2001 Marcos_Sanches at gallup.com wrote:
#
#>
#> 	Hello!
#> 	I have a dataset with variables in string format (ages 
#class and sex) which
#> I want to recode as numerical variables. How can I accomplish this?  Is
#> there any way to do that automatically? Could someone help me?
#>
#
#You probably want factor variables. These are described in Section 4 of
#the 'Introduction to R' manual.
#
#Reading variables in using read.table will typically make them into
#factors automatically. If you have string variables use factor() to
#convert them
#eg
#
#  sex<-factor(sex,levels=c("Male","Female"))
#
#The variable can then be used in regression modelling where it will by
#default be coded with indicator variables for each level except the first
#(in this case that corresponds to Male=0, Female=1).
#
#
#	-thomas
#
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Tue Sep 11 19:47:22 2001
From: aolinto at bignet.com.br (aolinto@bignet.com.br)
Date: Tue, 11 Sep 2001 17:47:22 GMT
Subject: [R] data frames
Message-ID: <200109111822.PAA02121@hp.bignet.com.br>

Dear R-list members

Here goes a question on data frames:

I want to create a new data frame excluding some records 
(rows) from an existing one.

Considering the data frame "fish.dat" at the end of this 
message, I can make a boxplot(Ring~Radius) and identify the 
points at rows 11 and 25 as outliers.

With the command fish.dat[c(11, 25),] I can identify which 
fishes are related to these rows (fishes #4 and #1).

With subset(fish.dat,reg==1) I can display all records from 
fish 1. My first question is:
How can I list all records from fishes 1 and 4 at once?

Now I want to create a new data frame without the records from 
fishes 1 and 4.

The only way I know is to type
newfish.dat <- fish.dat[-c(2,4,6,10,11,15, ... ),]

Probably there's an easier way that I couldn't find out. I've 
already made some trials, all with syntax problems.

Thanks,

Antonio Olinto
Fisheries Institute
Sao Paulo - Brasil

	Fish	Ring	Radius
1	2	1	0.36
2	4	1	0.37
3	3	1	0.44
4	1	1	0.45
5	5	1	0.47
6	4	2	0.58
7	2	2	0.59
8	3	2	0.68
9	5	2	0.72
10	1	2	0.80
11	4	3	0.63
12	2	3	0.85
13	3	3	0.93
14	5	3	0.97
15	1	3	1.05
16	4	4	0.95
17	3	4	1.11
18	2	4	1.15
19	5	4	1.15
20	1	4	1.28
21	4	5	1.13
22	3	5	1.29
23	5	5	1.32
24	2	5	1.35
25	1	5	1.49


-----------------------------------------------------
E-Mail enviado por WebMail - http://www.bignet.com.br


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Tue Sep 11 20:38:26 2001
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Tue, 11 Sep 2001 14:38:26 -0400
Subject: [R] data frames
References: <200109111822.PAA02121@hp.bignet.com.br>
Message-ID: <3B9E5A22.70C3770B@umsanet.edu.bo>

Hola!

What about 

> fish2 <- fish[ !((Fish==1) | (Fish==4)) ,]

Kjetil Halvorsen.


aolinto at bignet.com.br wrote:
> 
> Dear R-list members
> 
> Here goes a question on data frames:
> 
> I want to create a new data frame excluding some records
> (rows) from an existing one.
> 
> Considering the data frame "fish.dat" at the end of this
> message, I can make a boxplot(Ring~Radius) and identify the
> points at rows 11 and 25 as outliers.
> 
> With the command fish.dat[c(11, 25),] I can identify which
> fishes are related to these rows (fishes #4 and #1).
> 
> With subset(fish.dat,reg==1) I can display all records from
> fish 1. My first question is:
> How can I list all records from fishes 1 and 4 at once?
> 
> Now I want to create a new data frame without the records from
> fishes 1 and 4.
> 
> The only way I know is to type
> newfish.dat <- fish.dat[-c(2,4,6,10,11,15, ... ),]
> 
> Probably there's an easier way that I couldn't find out. I've
> already made some trials, all with syntax problems.
> 
> Thanks,
> 
> Antonio Olinto
> Fisheries Institute
> Sao Paulo - Brasil
> 
>         Fish    Ring    Radius
> 1       2       1       0.36
> 2       4       1       0.37
> 3       3       1       0.44
> 4       1       1       0.45
> 5       5       1       0.47
> 6       4       2       0.58
> 7       2       2       0.59
> 8       3       2       0.68
> 9       5       2       0.72
> 10      1       2       0.80
> 11      4       3       0.63
> 12      2       3       0.85
> 13      3       3       0.93
> 14      5       3       0.97
> 15      1       3       1.05
> 16      4       4       0.95
> 17      3       4       1.11
> 18      2       4       1.15
> 19      5       4       1.15
> 20      1       4       1.28
> 21      4       5       1.13
> 22      3       5       1.29
> 23      5       5       1.32
> 24      2       5       1.35
> 25      1       5       1.49
> 
> -----------------------------------------------------
> E-Mail enviado por WebMail - http://www.bignet.com.br
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john_heumann at agilent.com  Tue Sep 11 20:54:49 2001
From: john_heumann at agilent.com (HEUMANN,JOHN (A-Loveland,ex1))
Date: Tue, 11 Sep 2001 12:54:49 -0600
Subject: [R] for loop question
Message-ID: <9153F74610B7D311B83900902771C8710A4CE336@axcs07.cos.agilent.com>

In the windows version of R (1.3.0) is the following a bug, a
known problem, or expected behavior:

 > for (i in 1:2) {
 + for (j in i+1:3) {
 + print(j)
 + }
 + }
 [1] 2
 [1] 3
 [1] 4      ????
 [1] 3
 [1] 4      ????
 [1] 5      ????
 >

Conversely, the following behaves as expected:

 > for (i in 1:2) {
 + k <- i+1
 + for (j in k:3) {
 + print(j)
 + }
 + }
 [1] 2
 [1] 3
 [1] 3
 >

This is under NT4, SP5 using a pre-compiled binary from CRAN.

Thanks,
-jh-

=========================================
John M. Heumann, Agilent Technologies
815 14th St. S.W., Loveland, CO 80537 USA
Email: john_heumann at agilent.com
Phone: 970 679-3761 FAX: 970 679-5399
=========================================
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Sep 11 21:41:51 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 11 Sep 2001 12:41:51 -0700 (PDT)
Subject: [R] data frames
In-Reply-To: <200109111822.PAA02121@hp.bignet.com.br>
Message-ID: <Pine.A41.4.33.0109111239360.62078-100000@homer16.u.washington.edu>

On Tue, 11 Sep 2001 aolinto at bignet.com.br wrote:

> Dear R-list members
>
> Here goes a question on data frames:
>
> I want to create a new data frame excluding some records
> (rows) from an existing one.
>
> Considering the data frame "fish.dat" at the end of this
> message, I can make a boxplot(Ring~Radius) and identify the
> points at rows 11 and 25 as outliers.
>
> With the command fish.dat[c(11, 25),] I can identify which
> fishes are related to these rows (fishes #4 and #1).
>
> With subset(fish.dat,reg==1) I can display all records from
> fish 1. My first question is:
> How can I list all records from fishes 1 and 4 at once?

subset(fish.dat,reg %in% c(1,4))

> Now I want to create a new data frame without the records from
> fishes 1 and 4.
>
> The only way I know is to type
> newfish.dat <- fish.dat[-c(2,4,6,10,11,15, ... ),]


subset(fish.dat, !(reg %in% c(1,4)))




	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Sep 11 21:45:10 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Tue, 11 Sep 2001 15:45:10 -0400 (EDT)
Subject: [R] for loop question
In-Reply-To: <9153F74610B7D311B83900902771C8710A4CE336@axcs07.cos.agilent.com>
Message-ID: <Pine.LNX.4.30.0109111538400.32124-100000@bolker.zoo.ufl.edu>


  This is a "gotcha", which I think I will add to my list of "R traps"
(http://www.zoo.ufl.edu/bolker/emd/R/R-traps.html).

  The problem is in "operator precedence", or "priority": the colon
operator has higher precedence than the plus operator, so R treats

i+1:3

as

i+(1:3)

rather than

(i+1):3

(which is what you should write to get the behavior you expected).  I'm
not sure where this is found in the documentation.

OK, p. 14 of the "Introduction to R" says

  The colon operator has highest priority within an expression, so, for
  example 2*1:15 is the vector c(2, 4, ..., 28, 30). Put n <- 10 and
  compare the sequences 1:n-1 and 1:(n-1).


On Tue, 11 Sep 2001, HEUMANN,JOHN (A-Loveland,ex1) wrote:

> In the windows version of R (1.3.0) is the following a bug, a
> known problem, or expected behavior:
>
>  > for (i in 1:2) {
>  + for (j in i+1:3) {
>  + print(j)
>  + }
>  + }
>  [1] 2
>  [1] 3
>  [1] 4      ????
>  [1] 3
>  [1] 4      ????
>  [1] 5      ????
>  >
>
> Conversely, the following behaves as expected:
>
>  > for (i in 1:2) {
>  + k <- i+1
>  + for (j in k:3) {
>  + print(j)
>  + }
>  + }
>  [1] 2
>  [1] 3
>  [1] 3
>  >
>
> This is under NT4, SP5 using a pre-compiled binary from CRAN.
>
> Thanks,
> -jh-
>
> =========================================
> John M. Heumann, Agilent Technologies
> 815 14th St. S.W., Loveland, CO 80537 USA
> Email: john_heumann at agilent.com
> Phone: 970 679-3761 FAX: 970 679-5399
> =========================================
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Sep 11 21:43:50 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 11 Sep 2001 12:43:50 -0700 (PDT)
Subject: [R] for loop question
In-Reply-To: <9153F74610B7D311B83900902771C8710A4CE336@axcs07.cos.agilent.com>
Message-ID: <Pine.A41.4.33.0109111242350.62078-100000@homer16.u.washington.edu>

On Tue, 11 Sep 2001, HEUMANN,JOHN (A-Loveland,ex1) wrote:

> In the windows version of R (1.3.0) is the following a bug, a
> known problem, or expected behavior:
>
>  > for (i in 1:2) {
>  + for (j in i+1:3) {
>  + print(j)
>  + }
>  + }
>  [1] 2
>  [1] 3
>  [1] 4      ????
>  [1] 3
>  [1] 4      ????
>  [1] 5      ????
>  >


It's expected behaviour (if you expect it)

Try
  i<-1
  i+1:3
  (i+1):3

to see what is going on


	-thomas


Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at amadeus.statistik.uni-dortmund.de  Tue Sep 11 21:59:59 2001
From: ligges at amadeus.statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 11 Sep 2001 21:59:59 +0200
Subject: [R] for loop question
References: <9153F74610B7D311B83900902771C8710A4CE336@axcs07.cos.agilent.com>
Message-ID: <3B9E6D3F.E3F4ED3B@statistik.uni-dortmund.de>

"HEUMANN,JOHN (A-Loveland,ex1)" wrote:
> 
> In the windows version of R (1.3.0) is the following a bug, a
> known problem, or expected behavior:
> 
>  > for (i in 1:2) {
>  + for (j in i+1:3) {
>  + print(j)
>  + }
>  + }
>  [1] 2
>  [1] 3
>  [1] 4      ????
>  [1] 3
>  [1] 4      ????
>  [1] 5      ????

Looks extremly as expected:

  # outer loop i=1
# [1] 2     i=1, j=i+1
# [1] 3     i=1, j=i+2
# [1] 4     i=1, j=i+3
  # outer loop i=2
# [1] 3     i=2, j=i+1
# [1] 4     i=2, j=i+2
# [1] 5     i=2, j=i+3


> Conversely, the following behaves as expected:
> 
>  > for (i in 1:2) {
>  + k <- i+1
>  + for (j in k:3) {
>  + print(j)
>  + }
>  + }
>  [1] 2
>  [1] 3
>  [1] 3


What you mean is (the braces!!!):

 for (i in 1:2) {
  for (j in (i+1):3)
   print(j)
 }

Have a look at this (no spaces are here asn intentional negative
example):
1+1:3 # the sequence is evaluated at first!


Another way to do your calculation:

i <- 1:2
j <- 3
lapply(i, function(x) seq(x+1,j))


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Tue Sep 11 22:48:47 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 11 Sep 2001 16:48:47 -0400
Subject: [R] for loop question
In-Reply-To: <9153F74610B7D311B83900902771C8710A4CE336@axcs07.cos.agilent.com>
References: <9153F74610B7D311B83900902771C8710A4CE336@axcs07.cos.agilent.com>
Message-ID: <40usptc341fcolgu0qkni359vcok8dg3h0@4ax.com>

On Tue, 11 Sep 2001 12:54:49 -0600, you wrote in message
<9153F74610B7D311B83900902771C8710A4CE336 at axcs07.cos.agilent.com>:

>In the windows version of R (1.3.0) is the following a bug, a
>known problem, or expected behavior:
>
> > for (i in 1:2) {
> + for (j in i+1:3) {
> + print(j)
> + }
> + }
> [1] 2
> [1] 3
> [1] 4      ????
> [1] 3
> [1] 4      ????
> [1] 5      ????

I think you're fooled by operator precedence.  The expression "i+1:3"
is equivalent to "i + (1:3)", i.e. c(i+1, i+2, i+3).

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gpetris at definetti.uark.edu  Tue Sep 11 23:00:17 2001
From: gpetris at definetti.uark.edu (Giovanni Petris)
Date: Tue, 11 Sep 2001 16:00:17 -0500 (CDT)
Subject: [R] for loop question
In-Reply-To: <9153F74610B7D311B83900902771C8710A4CE336@axcs07.cos.agilent.com>
	(john_heumann@agilent.com)
References: <9153F74610B7D311B83900902771C8710A4CE336@axcs07.cos.agilent.com>
Message-ID: <200109112100.QAA19917@definetti.uark.edu>


It seems the expected behavior to me, given that the : operator has
higher precedence than +. 

> j <- 1
> j+1:3
[1] 2 3 4

> From: "HEUMANN,JOHN (A-Loveland,ex1)" <john_heumann at agilent.com>
> Date: Tue, 11 Sep 2001 12:54:49 -0600
> Sender: owner-r-help at stat.math.ethz.ch
> Precedence: SfS-bulk
> Content-Type: text/plain;
> 	charset="ISO-8859-1"
> Content-Length: 1047
> 
> In the windows version of R (1.3.0) is the following a bug, a
> known problem, or expected behavior:
> 
>  > for (i in 1:2) {
>  + for (j in i+1:3) {
>  + print(j)
>  + }
>  + }
>  [1] 2
>  [1] 3
>  [1] 4      ????
>  [1] 3
>  [1] 4      ????
>  [1] 5      ????
>  >
> 
> Conversely, the following behaves as expected:
> 
>  > for (i in 1:2) {
>  + k <- i+1
>  + for (j in k:3) {
>  + print(j)
>  + }
>  + }
>  [1] 2
>  [1] 3
>  [1] 3
>  >
> 
> This is under NT4, SP5 using a pre-compiled binary from CRAN.
> 
> Thanks,
> -jh-
> 

-- 

 __________________________________________________
[                                                  ]
[ Giovanni Petris                 GPetris at uark.edu ]
[ Department of Mathematical Sciences              ]
[ University of Arkansas - Fayetteville, AR 72701  ]
[ Ph: (501) 575-6324, 575-8630 (fax)               ]
[ http://definetti.uark.edu/~gpetris/              ]
[__________________________________________________]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lizquierdo at finlay.edu.cu  Wed Sep 12 04:35:00 2001
From: lizquierdo at finlay.edu.cu (Luis A. Izquierdo)
Date: Tue, 11 Sep 2001 22:35:00 -0400
Subject: [R] Exact conf. interval for one proportion
Message-ID: <01a801c13b33$b6448800$750f0a0a@matematica3>

Thanks  Heberto Ghezzo ,RINNER Heinrich, Kurt Hornik and Frank E Harrell Jr.

Luis Izq


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ekato at ees.hokudai.ac.jp  Wed Sep 12 08:42:28 2001
From: ekato at ees.hokudai.ac.jp (Etsushi Kato)
Date: Wed, 12 Sep 2001 15:42:28 +0900
Subject: [R] nonlinear fitting when both x and y having measurement error?
Message-ID: <20010912154229F.ekato@ees.hokudai.ac.jp>

Dear r-help,

I want to conduct nonlinear fitting to a data frame having x and y
variables.  Because both x and y have measurement error, I want to
include error term of x variable in the model.  I'm not sure but I 
think ordinary nls model only consider error term of y variable.

How can I do this kind of nonlinear fitting in R.  Is there any
examples in nls package?

Thanks in advance,

-- 
Etsushi Kato
ekato at ees.hokudai.ac.jp
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep 12 09:03:19 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 12 Sep 2001 08:03:19 +0100 (BST)
Subject: [R] nonlinear fitting when both x and y having measurement error?
In-Reply-To: <20010912154229F.ekato@ees.hokudai.ac.jp>
Message-ID: <Pine.LNX.4.31.0109120757210.12874-100000@gannet.stats>

On Wed, 12 Sep 2001, Etsushi Kato wrote:

> Dear r-help,
>
> I want to conduct nonlinear fitting to a data frame having x and y
> variables.  Because both x and y have measurement error, I want to
> include error term of x variable in the model.  I'm not sure but I
> think ordinary nls model only consider error term of y variable.
>
> How can I do this kind of nonlinear fitting in R.  Is there any
> examples in nls package?

That is not a least-squares problem.  Even in the simple linear case (one
x one y) it's a hard problem, one that cannot be solved without more
information (for example on the ratio of the error variances, or knowing
one of them). As far as I know there is no software available in R for
that case (although it's not hard to write).

I think you need to write down a suitable likelihood and optimize it
numerically (with optim).

This topic is not well covered in regression texts, although it is in that
by Sprent, for example.  There is a specialist text by W. A. Fuller (1987)
Measurement Error Models.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Wed Sep 12 09:21:02 2001
From: plummer at iarc.fr (Martyn Plummer)
Date: Wed, 12 Sep 2001 09:21:02 +0200 (CEST)
Subject: [R] nonlinear fitting when both x and y having measurement e
In-Reply-To: <Pine.LNX.4.31.0109120757210.12874-100000@gannet.stats>
Message-ID: <XFMail.20010912092102.plummer@iarc.fr>

On 12-Sep-2001 Prof Brian Ripley wrote:
> On Wed, 12 Sep 2001, Etsushi Kato wrote:
> 
>> Dear r-help,
>>
>> I want to conduct nonlinear fitting to a data frame having x and y
>> variables.  Because both x and y have measurement error, I want to
>> include error term of x variable in the model.  I'm not sure but I
>> think ordinary nls model only consider error term of y variable.
>>
>> How can I do this kind of nonlinear fitting in R.  Is there any
>> examples in nls package?
> 
> That is not a least-squares problem.  Even in the simple linear case (one
> x one y) it's a hard problem, one that cannot be solved without more
> information (for example on the ratio of the error variances, or knowing
> one of them). As far as I know there is no software available in R for
> that case (although it's not hard to write).
> 
> I think you need to write down a suitable likelihood and optimize it
> numerically (with optim).
> 
> This topic is not well covered in regression texts, although it is in that
> by Sprent, for example.  There is a specialist text by W. A. Fuller (1987)
> Measurement Error Models.

Non-linear measurement error models are covered by:

Carroll, R.J., Ruppert, D. and Stefanski, L.A.  Measurement Error
in Nonlinear Models, Chapman & Hall 1995 

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.pesl at arcs.ac.at  Wed Sep 12 11:39:44 2001
From: thomas.pesl at arcs.ac.at (Pesl Thomas)
Date: Wed, 12 Sep 2001 11:39:44 +0200
Subject: [R] glm + error
Message-ID: <D16B18FFF743D311A9CA0090275F3CB0043848EC@arcss07.arcs.ac.at>

Can someone explain this error? 
I do not understand it and do not know what to do.

> v.glm.allmax<-glm(ALL.MAX~.,data=v.q.allmax)
Error in eval(expr, envir, enclos) : numeric envir arg not of length one

Thank you for your help.

Thomas


platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    3.1            
year     2001           
month    08             
day      31             
language R   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep 12 12:04:35 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 12 Sep 2001 11:04:35 +0100 (BST)
Subject: [R] glm + error
In-Reply-To: <D16B18FFF743D311A9CA0090275F3CB0043848EC@arcss07.arcs.ac.at>
Message-ID: <Pine.LNX.4.31.0109121057090.13132-100000@gannet.stats>

On Wed, 12 Sep 2001, Pesl Thomas wrote:

> Can someone explain this error?
> I do not understand it and do not know what to do.
>
> > v.glm.allmax<-glm(ALL.MAX~.,data=v.q.allmax)
> Error in eval(expr, envir, enclos) : numeric envir arg not of length one

What's v.q.allmax?  My guess is that it is a matrix and not a data frame.
(Perhaps we should explicitly check for that case to give a more
explicit error message.)

The obvious thing to do is to check that what you passed glm is what the
help page says is required.

BTW, since you are using a Gaussian glm, there is little (if any) reason
to prefer glm to lm.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.pesl at arcs.ac.at  Wed Sep 12 12:38:21 2001
From: thomas.pesl at arcs.ac.at (Pesl Thomas)
Date: Wed, 12 Sep 2001 12:38:21 +0200
Subject: [R] glm + error
Message-ID: <D16B18FFF743D311A9CA0090275F3CB0043848ED@arcss07.arcs.ac.at>

|What's v.q.allmax?  My guess is that it is a matrix and not a 
|data frame.
This was exactly my fault, I am sorry in posting this simple question, but I
was not able to find the mistake by myself.
Thank you,
	Thomas
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From y.buckley at ic.ac.uk  Wed Sep 12 14:36:29 2001
From: y.buckley at ic.ac.uk (Buckley, Yvonne M)
Date: Wed, 12 Sep 2001 13:36:29 +0100
Subject: [R] Multilevel models with binary data
Message-ID: <B8E71A89E7E0D411B0E200A0C9D85B26AA156D@icex6.cc.ic.ac.uk>

I have been using lme to model data with multiple nested random effects and
continuous response variables however I also have data with a binary
response variable, binomial errors and multiple levels of nesting of random
effects (e.g. site/block/quadrat/year), is there a package available which
will do this?  Jim Lindsey's package "repeated" appears to be only able to
cope with 2 levels of nesting.

Also I have been looking at the GLMMGibbs package but cannot locate the
document "GLMMGibbs: An R Package for Estimating Bayesian Generalised Linear
Mixed Models by Gibbs Sampling"  which is supposed to be distributed with
the package.  Does anyone have this or can they tell me where to find it?

Thanks,
Yvonne Buckley

********************************************************************
Yvonne Buckley 
Department of Biology
Imperial College at Silwood Park
Ascot, Berkshire
SL5 7PY
tel: 0207 5942 364 (office)
tel: 01344 891 539 (home)
fax: 0207 5942 339 
email: y.buckley at ic.ac.uk

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ekato at ees.hokudai.ac.jp  Wed Sep 12 14:42:58 2001
From: ekato at ees.hokudai.ac.jp (Etsushi Kato)
Date: Wed, 12 Sep 2001 21:42:58 +0900
Subject: [R] nonlinear fitting when both x and y having measurement e
In-Reply-To: <XFMail.20010912092102.plummer@iarc.fr>
References: <Pine.LNX.4.31.0109120757210.12874-100000@gannet.stats> <XFMail.20010912092102.plummer@iarc.fr>
Message-ID: <20010912214259T.ekato@ees.hokudai.ac.jp>

Thank you very much Prof. Ripley and Martyn Plummer.
Also I got one suggestion of using ORDPACK at http://www.netlib.org/.

> > That is not a least-squares problem.  Even in the simple linear case (one
> > x one y) it's a hard problem, one that cannot be solved without more
> > information (for example on the ratio of the error variances, or knowing
> > one of them). As far as I know there is no software available in R for
> > that case (although it's not hard to write).

My data is allometric relationship of biological data, and perhaps it is
OK to assume both variables having equal accuracies.  So I was just
considering using orthogonal distance to the nonlinear curve.

> > I think you need to write down a suitable likelihood and optimize it
> > numerically (with optim).

It's a bit difficult for me to construct likelihood function, because
right now there is no books you suggested around me...
For the moment, I'm considering using ORDPACK.  I'll try to construct
R code later.


Best Regards,
-- 
Etsushi Kato
ekato at ees.hokudai.ac.jp
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ekato at ees.hokudai.ac.jp  Wed Sep 12 14:54:54 2001
From: ekato at ees.hokudai.ac.jp (Etsushi Kato)
Date: Wed, 12 Sep 2001 21:54:54 +0900
Subject: [R] nonlinear fitting when both x and y having measurement e
Message-ID: <20010912215454S.ekato@ees.hokudai.ac.jp>

Sorry, for disturbing the list again.

> Also I got one suggestion of using ORDPACK at http://www.netlib.org/.

It's ODRPACK at http://www.netlib.org/, not ORDPACK.


Best,
--
Etsushi Kato
ekato at ees.hokudai.ac.jp
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.pesl at arcs.ac.at  Wed Sep 12 15:03:14 2001
From: thomas.pesl at arcs.ac.at (Pesl Thomas)
Date: Wed, 12 Sep 2001 15:03:14 +0200
Subject: [R] Partial correlation
Message-ID: <D16B18FFF743D311A9CA0090275F3CB004384915@arcss07.arcs.ac.at>

I am not able to find a function which can do a partial correlation.
Can anyone tell me the name?

Thomas
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.barron at jesus.ox.ac.uk  Wed Sep 12 15:13:39 2001
From: david.barron at jesus.ox.ac.uk (David Barron)
Date: Wed, 12 Sep 2001 14:13:39 +0100
Subject: [R] Partial correlation
References: <D16B18FFF743D311A9CA0090275F3CB004384915@arcss07.arcs.ac.at>
Message-ID: <00f401c13b8c$bd5e0400$c9a501a3@mgtstud.ox.ac.uk>

Try looking in the archive of the R-Help mailing list.  You'll find several
answers to this exact query that were posted on 1 August 2001.

David

----- Original Message -----
From: "Pesl Thomas" <thomas.pesl at arcs.ac.at>
To: "R-Help (E-Mail)" <r-help at lists.r-project.org>
Sent: Wednesday, September 12, 2001 2:03 PM
Subject: [R] Partial correlation


> I am not able to find a function which can do a partial correlation.
> Can anyone tell me the name?
>
> Thomas
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Wed Sep 12 15:43:21 2001
From: andy_liaw at merck.com (Liaw, Andy)
Date: Wed, 12 Sep 2001 09:43:21 -0400
Subject: [R] nonlinear fitting when both x and y having measurement e
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC822D@usrymx10.merck.com>

Would principal curves be appropriate for such problems?  Packages pcurve
and princurve can do this...

Andy

> -----Original Message-----
> From: Etsushi Kato [mailto:ekato at ees.hokudai.ac.jp]
> Sent: Wednesday, September 12, 2001 8:43 AM
> To: r-help at stat.math.ethz.ch
> Cc: Prof Brian Ripley; Martyn Plummer
> Subject: Re: [R] nonlinear fitting when both x and y having 
> measurement
> e
> 
> 
> Thank you very much Prof. Ripley and Martyn Plummer.
> Also I got one suggestion of using ORDPACK at http://www.netlib.org/.
> 
> > > That is not a least-squares problem.  Even in the simple 
> linear case (one
> > > x one y) it's a hard problem, one that cannot be solved 
> without more
> > > information (for example on the ratio of the error 
> variances, or knowing
> > > one of them). As far as I know there is no software 
> available in R for
> > > that case (although it's not hard to write).
> 
> My data is allometric relationship of biological data, and 
> perhaps it is
> OK to assume both variables having equal accuracies.  So I was just
> considering using orthogonal distance to the nonlinear curve.
> 
> > > I think you need to write down a suitable likelihood and 
> optimize it
> > > numerically (with optim).
> 
> It's a bit difficult for me to construct likelihood function, because
> right now there is no books you suggested around me...
> For the moment, I'm considering using ORDPACK.  I'll try to construct
> R code later.
> 
> 
> Best Regards,
> -- 
> Etsushi Kato
> ekato at ees.hokudai.ac.jp
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sway at tanox.com  Wed Sep 12 17:43:58 2001
From: sway at tanox.com (Shawn Way)
Date: Wed, 12 Sep 2001 10:43:58 -0500
Subject: [R] Analysis of Varience question.
Message-ID: <0565F48FC373D411BE4D00B0D049602628E581@nt40hou1.tanox.com>

I'm trying to use R for some of the analysis shown in Box, Hunter and Hunter
(1979, I believe) using the aov function.  I'm using the first example in
chapter 6, where they are determining the analysis of varience between 4
treatments.

In this example, the are determineing the analysis between and within
treatments, which I can get by

aov(response~treatment+Error(treatment))

Where response is the response data (numeric) and treatment is the treatment
type (Factor).

In the next example, they determine the analysis of varience of the grand
average with these parameters, ie something like 

response~average(response)+treatment+Error(treatment)

Giving the sum of the squares, the degrees of freedowm, etc.

Is this possible with the current setup of R?


Shawn Way


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010912/de2199b3/attachment.html

From bates at stat.wisc.edu  Wed Sep 12 19:38:59 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 12 Sep 2001 12:38:59 -0500
Subject: [R] Analysis of Varience question.
In-Reply-To: <0565F48FC373D411BE4D00B0D049602628E581@nt40hou1.tanox.com>
References: <0565F48FC373D411BE4D00B0D049602628E581@nt40hou1.tanox.com>
Message-ID: <6rofognwb0.fsf@franz.stat.wisc.edu>

Shawn Way <sway at tanox.com> writes:

> I'm trying to use R for some of the analysis shown in Box, Hunter and Hunter
> (1979, I believe) using the aov function.  

1978 actually

> I'm using the first example in
> chapter 6, where they are determining the analysis of varience between 4
> treatments.
> 
> In this example, the are determineing the analysis between and within
> treatments, which I can get by
> 
> aov(response~treatment+Error(treatment))
> 
> Where response is the response data (numeric) and treatment is the treatment
> type (Factor).

In this case you could use
 aov(response ~ treatment)

> In the next example, they determine the analysis of varience of the grand
> average with these parameters, ie something like 

> response~average(response)+treatment+Error(treatment)

> Giving the sum of the squares, the degrees of freedowm, etc.

> Is this possible with the current setup of R?

Yes but bear in mind that Box, Hunter and Hunter are providing that
example for pedagogical reasons, not because one would usually form
the analysis of variance table in that way.

Analysis of variance tables in R do not give the contribution of the
constant although the underlying model does, by default, include a
constant.  To get the constant into the analysis of variance table you
must introduce an explicit constant term into the model and exclude
the implicit constant term.  The following transcript shows this

 > BHH6 <- data.frame(diet = rep(LETTERS[1:4], c(4, 6, 6, 8)),
 +      Time = c(62,60,63,59,63,67,71,64,65,66,68,66,71,67,68,68,
 +               56,62,60,61,63,64,63,59))
 > aov(Time ~ diet, data = BHH6)  # default representation of aov model
 Call:
    aov(formula = Time ~ diet, data = BHH6)

 Terms:
                 diet Residuals
 Sum of Squares   228       112
 Deg. of Freedom    3        20

 Residual standard error: 2.366432 
 Estimated effects may be unbalanced
 > summary(aov(Time ~ diet, data = BHH6))  # an ANOVA table
             Df Sum Sq Mean Sq F value    Pr(>F)    
 diet         3  228.0    76.0  13.571 4.658e-05 ***
 Residuals   20  112.0     5.6                      
 ---
 Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1 
 > BHH6$const <- rep(1, nrow(BHH6))  # add a constant column to the data frame
 > summary(aov(Time ~ const + diet - 1, data = BHH6))
           Df Sum Sq Mean Sq   F value    Pr(>F)    
 const      1  98304   98304 17554.286 < 2.2e-16 ***
 diet       3    228      76    13.571 4.658e-05 ***
 Residuals 20    112       6                        
 ---
 Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1 

Notice that the last call to aov uses a formula with "- 1" in it
to remove the implicit constant term from the model.

Box, Hunter and Hunter (or BH^2, as we know it) is a great book but
the computational methods described there are rather dated.  The
book was published nearly 25 years ago and at that time it had been
around in the form of class notes for many, many years.  Bill Hunter
used to joke that the book had reached the age of majority (i.e. was
21 years old) before it was published.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Wed Sep 12 22:50:16 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Wed, 12 Sep 2001 16:50:16 -0400
Subject: [R] error in nlme
Message-ID: <OF58ADDFFC.19D49949-ON85256AC5.00704B34@rtp.epa.gov>

I'm getting an error from nlme that has me stymied.  I have a data set
,'mydata', with variables: AChE, Dose, sex, set, and mrid; 'set' and 'mrid'
indicate two levels of nesting, with 'set' nested within 'mrid'.  I want to
fit the model:

mod <- nlme(AChE ~ Cexp(Dose, A, B, m), data=mydata,  fixed = A+B+M~sex,
random=A+B+m~sex | mrid/set, weights=varPower(fixed=1))

(mydata has over 1000 records, so I won't reproduce it here).

When I run this, I get the error:

Error: dim<- length of dims do not match the length of object

It turns out the error is being thrown by the statement:

dim(work$pdFactor) <- dim(pdMatrix(nlmeSt$reStruct[[1]]))

indeed:

Browse[1]> length(work$pdFactor)
[1] 72
Browse[1]> dim(pdMatrix(nlmeSt$reStruct[[1]]))
[1] 6 6

It looks like work$pdFactor contains information about both levels of
nesting, which is being ignored.

Does someone have an idea for a fix (or am I abusing nlme)?

I'm using :

> package.description("nlme")[1:3]
     Package      Version         Date
      "nlme"     "3.1-17" "2001/08/26"
         _
platform i386-pc-mingw32
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    3.1
year     2001
month    08
day      31
language R

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Wed Sep 12 22:57:20 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Wed, 12 Sep 2001 16:57:20 -0400
Subject: [R] error in nlme?, more information
Message-ID: <OFBC5A79CB.4697F3DA-ON85256AC5.0072FEED@rtp.epa.gov>

I should have added two things to my previous note: a '?' in the subject
line, and the fact that the statement throwing the error is from
nlme.formula.

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Sep 13 00:56:25 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 12 Sep 2001 17:56:25 -0500
Subject: [R] error in nlme
In-Reply-To: <OF58ADDFFC.19D49949-ON85256AC5.00704B34@rtp.epa.gov>
References: <OF58ADDFFC.19D49949-ON85256AC5.00704B34@rtp.epa.gov>
Message-ID: <6r4rq810iu.fsf@franz.stat.wisc.edu>

Setzer.Woodrow at epamail.epa.gov writes:

> I'm getting an error from nlme that has me stymied.  I have a data set
> ,'mydata', with variables: AChE, Dose, sex, set, and mrid; 'set' and 'mrid'
> indicate two levels of nesting, with 'set' nested within 'mrid'.  I want to
> fit the model:

> mod <- nlme(AChE ~ Cexp(Dose, A, B, m), data=mydata,  fixed = A+B+M~sex,
> random=A+B+m~sex | mrid/set, weights=varPower(fixed=1))

> (mydata has over 1000 records, so I won't reproduce it here).
> 
> When I run this, I get the error:
> 
> Error: dim<- length of dims do not match the length of object
> 
> It turns out the error is being thrown by the statement:
> 
> dim(work$pdFactor) <- dim(pdMatrix(nlmeSt$reStruct[[1]]))
> 
> indeed:
> 
> Browse[1]> length(work$pdFactor)
> [1] 72
> Browse[1]> dim(pdMatrix(nlmeSt$reStruct[[1]]))
> [1] 6 6
> 
> It looks like work$pdFactor contains information about both levels of
> nesting, which is being ignored.
> 
> Does someone have an idea for a fix (or am I abusing nlme)?

You're not abusing nlme - it is supposed to be able to do that but the
R version doesn't.

The original S code for nlme had to be modified for R and the
modifications for the case of nested grouping factors were getting
very complicated.  I eventually punted and modified it so it would
work with a single grouping factor only (that's the reStruct[[1]] in
the assignment).

People have claimed that this did work in R at one time.  I'm not
sure.  I don't remember fixing it myself.

Fixing this would take a non-trivial amount of time and given the
number of things already on my "To Do" list I can't predict when I
will be able to look at it.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Thu Sep 13 05:56:05 2001
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Wed, 12 Sep 2001 20:56:05 -0700
Subject: [R] OT:  ps -> eps -> MS Word
Message-ID: <5.1.0.14.2.20010912204922.00ad2580@pop4.attglobal.net>

I've created a bunch of postscript trees (post.rpart), which I subsequently 
edit in Adobe Acrobat 4.05 (I need additional labelling that isn't easy to 
add with R).  After editing the labels and annotations using Acrobat, I 
then export the file to Adobe's .eps format so I can insert the picture 
into a Microsoft Word 2000 document.  The .pdf file distilled from the .ps 
file is crystal clear, while the .eps file is fuzzy at any resolution in 
any program (Ghostview 4/Ghostscript 7), Paintshop Pro 7, Word 2000, 
Powerpoint 2000.  Is there some way to keep the .eps resolution the same as 
the .pdf/.ps resolution?

(I realize that LaTex is the way to go, but I'm too near completion of this 
project to change the entire document.  And, the journal is too Neanderthal 
to accept a manuscript in LaTex format).

I welcome suggestions.



Dr. Marc R. Feldesman
email:  feldesmanm at pdx.edu
email:  feldesman at attglobal.net
fax:    503-725-3905

"Don't know where I'm going.
Don't like where I've been.
There may be no exit.
But hell, I'm going in."  Jimmy Buffett

Powered by Superchoerus - the 700 MHz Coppermine Box

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Thu Sep 13 07:00:40 2001
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Thu, 13 Sep 2001 17:00:40 +1200
Subject: [R] trouble locating confint function/ nls library/ 
Message-ID: <3BA0E638.14859.2FBAB15A@localhost>

A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 3706 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20010913/b4135232/attachment.bin

From hodgess at uhddx01.dt.uh.edu  Thu Sep 13 07:44:35 2001
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Thu, 13 Sep 2001 00:44:35 -0500 (CDT)
Subject: [R] Non-r question
Message-ID: <200109130544.AAA28880@uhddx01.dt.uh.edu>

Dear R People:

Here is a non-R question, please:

Does anyone use hevea for Windows to convert LaTex to HTML?
If so, how do you handle \bar{x}, please?

I've tried \stackrel and many other things...nothing is
working.

Thanks for any help!

sincerely,
Erin Hodgess

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep 13 08:36:28 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 13 Sep 2001 07:36:28 +0100 (BST)
Subject: [R] trouble locating confint function/ nls library/ 
In-Reply-To: <3BA0E638.14859.2FBAB15A@localhost>
Message-ID: <Pine.GSO.4.31.0109130735050.7090-100000@auk.stats>

On Thu, 13 Sep 2001, S.McClatchie wrote:

> System info:
>
> R ver. 1.3.0  (2001-06-22) on NT
>
> ESS v. 5.1.18 using emacs ver. 20.7.1
>
> --------------------------------
>
> Colleagues,
>
>
> Is the function 'confint' still current?


It's in MASS:

> help.search("confint")
Help files with alias or title matching `confint',
type `help(FOO, package = PKG)' to inspect entry `FOO(PKG) TITLE':

confint(MASS)           Confidence Intervals for Model Parameters

including the nls method.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From iosu at ucc.ie  Thu Sep 13 10:22:40 2001
From: iosu at ucc.ie (Jesus Maria Frias Celayeta)
Date: Thu, 13 Sep 2001 09:22:40 +0100 (IST)
Subject: [R] trouble locating confint function/ nls library/ 
In-Reply-To: <3BA0E638.14859.2FBAB15A@localhost>
Message-ID: <Pine.LNX.4.33.0109130920550.12241-100000@JMFrias.ucc.ie>

Hi Sam,
	confint() is in the library MASS

> help.search("confint")
Help files with alias or title matching `confint':
Type `?FOO' to inspect entry `FOO(PKG) TITLE'.


confint(MASS)           Confidence Intervals for Model Parameters

cheers,

IOsu



On Thu, 13 Sep 2001, S.McClatchie wrote:

> System info:
> R ver. 1.3.0  (2001-06-22) on NT
> ESS v. 5.1.18 using emacs ver. 20.7.1
> --------------------------------
> Colleagues,
>
> Is the function 'confint' still current?
>
> >From the help.start():

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Thu Sep 13 10:56:35 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Thu, 13 Sep 2001 10:56:35 +0200
Subject: [R] maintainer of strucchange unreachable?
Message-ID: <MABBLJDICACNFOLGIHJOGEKLCFAA.phgrosje@ulb.ac.be>

It's two days I try to answer to a mail of Achim Zeileis, the maintainer of
strucchange package, using the mail address: zeileis at ci.tuwien.ac.at.

I got the following error:

   ----- The following addresses had permanent fatal errors -----
<zeileis at ci.tuwien.ac.at>
    (reason: 550 5.7.1 <zeileis at ci.tuwien.ac.at>... Access denied)

Can anyone tell me how to reach him?
Thanks,

Philippie Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
......................................................................


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Thu Sep 13 11:07:37 2001
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Thu, 13 Sep 2001 11:07:37 +0200
Subject: [R] maintainer of strucchange unreachable?
References: <MABBLJDICACNFOLGIHJOGEKLCFAA.phgrosje@ulb.ac.be>
Message-ID: <3BA07759.FC7222F6@ci.tuwien.ac.at>

Philippe Grosjean wrote:
> 
> It's two days I try to answer to a mail of Achim Zeileis, the maintainer of
> strucchange package, using the mail address: zeileis at ci.tuwien.ac.at.

Well, I'm still here :-) And the e-mail address is supposed to be right
as well.
I've got no clue why you're not able to mail to that address.

For the moment you could use one of the following addresses:
zeileis at statistik.uni-dortmund.de
zeileis at gmx.net

Thanks for your effort
Achim

 
> I got the following error:
> 
>    ----- The following addresses had permanent fatal errors -----
> <zeileis at ci.tuwien.ac.at>
>     (reason: 550 5.7.1 <zeileis at ci.tuwien.ac.at>... Access denied)
> 
> Can anyone tell me how to reach him?
> Thanks,
> 
> Philippie Grosjean
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roeder at imise.uni-leipzig.de  Thu Sep 13 11:52:33 2001
From: Roeder at imise.uni-leipzig.de (Ingo Roeder)
Date: Thu, 13 Sep 2001 11:52:33 +0200
Subject: [R] image plot legends
Message-ID: <3BA081E1.93C82FCC@imise.uni-leipzig.de>

Hi,

is there anybody knowing a possibility to produce a legend
(describing the color scheme) in an image plot in R. In S-Plus
this works using image.legend.

Thank's in advance.
INGO
-- 
-----------------------------------------------------------------
 Ingo Roeder
                                                                   
 Institute for Medical Informatics, Statistics and Epidemiology
 University of Leipzig    
 Liebigstr. 27, 04103 Leipzig (Germany)
                   
 phone: +49 (0)341-97-16-111
 fax:   +49 (0)341-97-16-109
 email: Roeder at imise.uni-leipzig.de
 URL:   www.imise.uni-leipzig.de/~ingo
-----------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Thu Sep 13 12:08:55 2001
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Thu, 13 Sep 2001 12:08:55 +0200
Subject: [R] OT:  ps -> eps -> MS Word
Message-ID: <3.0.32.20010913120854.00920e20@162.38.183.200>

At 20:56 12/09/01 -0700, "Marc R. Feldesman" wrote:
>I've created a bunch of postscript trees (post.rpart), which I subsequently 
>edit in Adobe Acrobat 4.05 (I need additional labelling that isn't easy to 
>add with R).

I believe it is actually easy. You can use text() and a few other functions
to do so. For instance, taking the example from ?post.rpart

 library(rpart)
 data(car.test.frame)
 z.auto <- rpart(Mileage ~ Weight, car.test.frame)
# plot the tree with an extra space below to add labels at the tips
 plot(z.auto, ylim=c(0.2, 1))
# define 4 labels (A to D)
 labels <- LETTERS[1:4]
# get the points where you want to put the labels with the mouse
 locator(4) -> loc1
 text(loc1$x, loc1$y, labels)
# add vertical labels on the main branches
 locator(1) -> loc2
 text(loc2$x, loc2$y, "Group 1", srt=90)
 locator(1) -> loc3
 text(loc3$x, loc3$y, "Group 2", srt=270)
# one more for fun (in the middle of the plot)
 exp <- expression(p == over(1, 1+e^(-(beta*x+alpha))))
 locator(1) -> loc4
 text(loc4$x, loc4$y, exp, srt=45)

Once you have set up all your locations, labels, ..., and possibly add
extra spaces on your plot with xlim, ylim, or adjusting par(mar=), you can
open a PS or a PDF device and execute the plotting commands, e.g.:

 pdf("toto.pdf")
 plot(z.auto, ylim=c(0.2, 1))
 text(loc1$x, loc1$y, labels)
 text(loc2$x, loc2$y, "Group 1", srt=90)
 text(loc3$x, loc3$y, "Group 2", srt=270)
 text(loc4$x, loc4$y, exp, srt=45)
 dev.off()

If you produce a PS file with postscript(), you can then use Ghostscript to
convert it to EPS. But ?postscript says:

     The postscript produced by R is EPS (Encapsulated PostScript)
     compatible, and can be included into other documents, e.g. into
     LaTeX, using `\includegraphics{<filename>}'.  For use in this way
     you will probably want to set `horizontal=FALSE, onefile=FALSE,
     paper="special"'.

Hope this helps.

>  After editing the labels and annotations using Acrobat, I 
>then export the file to Adobe's .eps format so I can insert the picture 
>into a Microsoft Word 2000 document.  The .pdf file distilled from the .ps 
>file is crystal clear, while the .eps file is fuzzy at any resolution in 
>any program (Ghostview 4/Ghostscript 7), Paintshop Pro 7, Word 2000, 
>Powerpoint 2000.  Is there some way to keep the .eps resolution the same as 
>the .pdf/.ps resolution?
>
>(I realize that LaTex is the way to go, but I'm too near completion of this 
>project to change the entire document.  And, the journal is too Neanderthal 
>to accept a manuscript in LaTex format).
>
>I welcome suggestions.
>
>
>
>Dr. Marc R. Feldesman
>email:  feldesmanm at pdx.edu
>email:  feldesman at attglobal.net
>fax:    503-725-3905
>
>"Don't know where I'm going.
>Don't like where I've been.
>There may be no exit.
>But hell, I'm going in."  Jimmy Buffett
>
>Powered by Superchoerus - the 700 MHz Coppermine Box
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>

Emmanuel Paradis
Laboratoire de Pal?ontologie
Institut des Sciences de l'?volution
Universit? Montpellier II
F-34095 Montpellier c?dex 05
France
   phone: +33  4 67 14 39 64
     fax: +33  4 67 14 36 10
  mailto:paradis at isem.univ-montp2.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ted.Harding at nessie.mcc.ac.uk  Thu Sep 13 12:23:57 2001
From: Ted.Harding at nessie.mcc.ac.uk ( (Ted Harding))
Date: Thu, 13 Sep 2001 11:23:57 +0100 (BST)
Subject: [R] OT:  ps -> eps -> MS Word
In-Reply-To: <5.1.0.14.2.20010912204922.00ad2580@pop4.attglobal.net>
Message-ID: <XFMail.010913112357.Ted.Harding@nessie.mcc.ac.uk>

On 13-Sep-01 Marc R. Feldesman wrote:
> I've created a bunch of postscript trees (post.rpart), which I
> subsequently edit in Adobe Acrobat 4.05 (I need additional labelling
> that isn't easy to add with R).  After editing the labels and
> annotations using Acrobat, I then export the file to Adobe's .eps
> format so I can insert the picture into a Microsoft Word 2000
> document.  The .pdf file distilled from the .ps file is crystal
> clear, while the .eps file is fuzzy at any resolution in any program
> (Ghostview 4/Ghostscript 7), Paintshop Pro 7, Word 2000, 
> Powerpoint 2000.  Is there some way to keep the .eps resolution the
> same as the .pdf/.ps resolution?

What do you mean by the EPS file being "fuzzy"? Is it just the
additional labelling which is fuzzy (in which case it may have
something to do with fonts), or is it the whole thing?

In the latter case there must be something wrong with the PS->EPS
conversion. Basically, the PostScript content of an EPS file should
be identical to that of the PS file it is derived from (you really
only need to add one "commment" to a PS file to get an EPS file,
and this should have no effect whatever on the process of rendering
the PS content -- apart from location and scale changes which
importing software may wrap it in, which would not apply to viewing
the EPS file itself in Ghostview or Ghostscript).

I'm guessing -- but if somewhere along the PS->EPS line there's
a conversion to bitmap graphics then you could get "fuzzy" output.

Another possibility is that the EPS file is really an "EPSI" file,
(Encapsulated PostScript Interchange) which includes several lines
of "Preview comment" which encode a bitmap of the PS image. This,
being bitmap, would certainly look nasty. However, again this
should not be a problem with Ghostview or Ghostscript (certainly
not with Ghostscript which should completely ignore any "comment"
and display the true PostScript directly).

Hoping this helps,
Ted.

--------------------------------------------------------------------
E-Mail: (Ted Harding) <Ted.Harding at nessie.mcc.ac.uk>
Fax-to-email: +44 (0)870 167 1972
Date: 13-Sep-01                                       Time: 11:23:57
------------------------------ XFMail ------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Thu Sep 13 14:53:09 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Thu, 13 Sep 2001 13:53:09 +0100 (BST)
Subject: [R] how does R represent numbers?
Message-ID: <Pine.LNX.4.10.10109131332430.5306-100000@localhost.localdomain>

I just found out that R assumes that vectors created with the : operator
are integer:
> a<-1:3
> is.integer(a)
[1] TRUE

Vectors created with seq() can be integer
> a<-seq(1,3)
> is.integer(a)
[1] TRUE

or double
> a<-seq(1,3,1)
> is.integer(a)
[1] FALSE

The vector is double if I do it like this:
> a<-c(1,2,3)
> is.integer(a)
[1] FALSE

rep() seems to make doubles:
> a<-rep(1,3)
> is.integer(a)
[1] FALSE

A single number with no decimal place is double:
> is.integer(1)
[1] FALSE
This is the reason I previously thought all numbers were double in R.


Maybe there's a good reason for this situation, but it seems strange and
inconsistent to me.

This might be a silly suggestion, but how about:
* all numbers assumed to be double unless explicitly set as integer *
* using integer() or changed to integer using as.integer()          *


Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Thu Sep 13 15:38:30 2001
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Thu, 13 Sep 2001 15:38:30 +0200
Subject: [R] image plot legends
Message-ID: <3.0.32.20010913153829.008f4de0@162.38.183.200>

At 11:52 13/09/01 +0200, you wrote:
>Hi,
>
>is there anybody knowing a possibility to produce a legend
>(describing the color scheme) in an image plot in R. In S-Plus
>this works using image.legend.
>
>Thank's in advance.
>INGO

Look at the function filled.contour().




Emmanuel Paradis
Laboratoire de Pal?ontologie
Institut des Sciences de l'?volution
Universit? Montpellier II
F-34095 Montpellier c?dex 05
France
   phone: +33  4 67 14 39 64
     fax: +33  4 67 14 36 10
  mailto:paradis at isem.univ-montp2.fr
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Thu Sep 13 15:54:45 2001
From: macq at llnl.gov (Don MacQueen)
Date: Thu, 13 Sep 2001 06:54:45 -0700
Subject: [R] OT:  ps -> eps -> MS Word
In-Reply-To: <5.1.0.14.2.20010912204922.00ad2580@pop4.attglobal.net>
References: <5.1.0.14.2.20010912204922.00ad2580@pop4.attglobal.net>
Message-ID: <p0510100fb7c669f72258@[128.115.153.6]>

My guess is that the problem is in how Acrobat saves in .eps format.
If you have Adobe Illustrator available, try using it instead.
I frequently go R/SPlus -> Illustrator -> Word without loss of resolution.
(Illustrator and Word on the Macintosh, but that shouldn't matter for 
this kind of thing)
-Don

At 8:56 PM -0700 9/12/01, Marc R. Feldesman wrote:
>I've created a bunch of postscript trees (post.rpart), which I 
>subsequently edit in Adobe Acrobat 4.05 (I need additional labelling 
>that isn't easy to add with R).  After editing the labels and 
>annotations using Acrobat, I then export the file to Adobe's .eps 
>format so I can insert the picture into a Microsoft Word 2000 
>document.  The .pdf file distilled from the .ps file is crystal 
>clear, while the .eps file is fuzzy at any resolution in any program 
>(Ghostview 4/Ghostscript 7), Paintshop Pro 7, Word 2000, Powerpoint 
>2000.  Is there some way to keep the .eps resolution the same as the 
>.pdf/.ps resolution?
>
>(I realize that LaTex is the way to go, but I'm too near completion 
>of this project to change the entire document.  And, the journal is 
>too Neanderthal to accept a manuscript in LaTex format).
>
>I welcome suggestions.
>
>
>
>Dr. Marc R. Feldesman
>email:  feldesmanm at pdx.edu
>email:  feldesman at attglobal.net
>fax:    503-725-3905
>
>"Don't know where I'm going.
>Don't like where I've been.
>There may be no exit.
>But hell, I'm going in."  Jimmy Buffett
>
>Powered by Superchoerus - the 700 MHz Coppermine Box
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep 13 15:55:28 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 13 Sep 2001 14:55:28 +0100 (BST)
Subject: [R] how does R represent numbers?
In-Reply-To: <Pine.LNX.4.10.10109131332430.5306-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.31.0109131451470.14713-100000@gannet.stats>

On Thu, 13 Sep 2001, Bill Simpson wrote:

> I just found out that R assumes that vectors created with the : operator
> are integer:
> > a<-1:3
> > is.integer(a)
> [1] TRUE
>
> Vectors created with seq() can be integer
> > a<-seq(1,3)
> > is.integer(a)
> [1] TRUE

> or double
> > a<-seq(1,3,1)
> > is.integer(a)
> [1] FALSE

All as documented in ?seq.

> The vector is double if I do it like this:
> > a<-c(1,2,3)
> > is.integer(a)
> [1] FALSE
>
> rep() seems to make doubles:
> > a<-rep(1,3)
> > is.integer(a)
> [1] FALSE
>
> A single number with no decimal place is double:
> > is.integer(1)
> [1] FALSE
> This is the reason I previously thought all numbers were double in R.
>
>
> Maybe there's a good reason for this situation, but it seems strange and
> inconsistent to me.
>
> This might be a silly suggestion, but how about:
> * all numbers assumed to be double unless explicitly set as integer *
> * using integer() or changed to integer using as.integer()          *

There are good reasons for this, the main one being that systems
should work as advertised.

There are other sorts of numbers in R too, BTW.  (Hint: what are the five
atomic vector types?)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dick at b6ori1.bauv.unibw-muenchen.de  Thu Sep 13 18:52:48 2001
From: dick at b6ori1.bauv.unibw-muenchen.de (Thomas Dick)
Date: Thu, 13 Sep 2001 16:52:48 +0000
Subject: [R] akaike's information criterion
Message-ID: <1010913165249.ZM362906@B6ori1>

Hello all,

i hope you don't mind my off topic question. i want to use the Akaike criterion
for variable selection in a regression model. Does anyone know some basic
literature about that topic?

Especially I'm interested in answers to the following questions:
1. Has (and if so how has) the criterion to be modified, if i estimate the
transformations of the variables too?

2. How is the usage of the criterion if i use dummy variables (for categorical
data) in the model?

3. does the criterion have only one minimum, or may i assume several local
minima?

Thank you in advance
Thomas
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep 13 17:10:29 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 13 Sep 2001 16:10:29 +0100 (BST)
Subject: [R] akaike's information criterion
In-Reply-To: <1010913165249.ZM362906@B6ori1>
Message-ID: <Pine.LNX.4.31.0109131602080.14822-100000@gannet.stats>

On Thu, 13 Sep 2001, Thomas Dick wrote:

> Hello all,
>
> i hope you don't mind my off topic question. i want to use the Akaike criterion
> for variable selection in a regression model. Does anyone know some basic
> literature about that topic?

There's a book

     Sakamoto, Y., Ishiguro, M., and Kitagawa G. (1986). Akaike
     Information Criterion Statistics. D. Reidel Publishing Company.

for example.  And complete derivations and comments on the whole
family in chapter 2 of

     Ripley, B. D. (1996) Pattern Recognition and Neural Networks.
     Cambridge.


> Especially I'm interested in answers to the following questions:
> 1. Has (and if so how has) the criterion to be modified, if i estimate the
> transformations of the variables too?

Those are extra parameters: add them in (unless the maximum occurs at
a range boundary).

> 2. How is the usage of the criterion if i use dummy variables (for categorical
> data) in the model?

Not at all: that is done for you in creating a regression model.

> 3. does the criterion have only one minimum, or may i assume several local
> minima?

It's a minimum over a finite set of models.  Finite sets have no
concept of local minima.  However, one can have several models from which
all one-step changes (suitably defined) increase AIC.

AIC is a very general concept which arose in time series/single
processing (and was published by name in the IEEE Trans on Automatic
Control).  It's clear how to define it for regular maximum likelihood
problems (hence the boundary restriction above).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Thu Sep 13 17:19:33 2001
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Thu, 13 Sep 2001 11:19:33 -0400
Subject: [R] akaike's information criterion
References: <1010913165249.ZM362906@B6ori1>
Message-ID: <3BA0CE85.6F569CEC@virginia.edu>

Especially if you are going to be doing formal statistical
inference but often even just for prediction,
model uncertainty of all types needs to be taken
into account.  The use of AIC to select from among
a small set of competing models or to select a single
"tuning constant" such as an overall shrinkage or
penalty factor does not cause many problems.  For
what you have suggested, it is possible to be
mislead by unrecognized model uncertainty when
entertaining many models and transformations.
The formula for AIC in many ways assumes that
the model specification was non-stochastic.

See

@ARTICLE{far92cos,
  author = {Faraway, J. J.},
  year = 1992,
  title = {The cost of data analysis},
  journal = J Comp Graphical Stat,
  volume = 1,
  pages = {213-229},
  annote = {bootstrap; validation; predictive accuracy; modeling
strategy;
           regression diagnostics;model uncertainty}
}
and

@ARTICLE{cha95mod,
  author = {Chatfield, C.},
  year = 1995,
  title = {Model uncertainty, data mining and statistical inference
(with
          discussion)},
  journal = JRSSA,
  volume = 158,
  pages = {419-466},
  annote = {bias by selecting model because it fits the data well; bias
in
           standard errors;P. 420: ... need for a better balance in the
           literature and in statistical teaching between {\em
techniques} and
           problem solving {\em strategies}. P. 421: It is `well known'
to be
           `logically unsound and practically misleading' (Zhang, 1992)
to
           make inferences as if a model is known to be true when it
has, in
           fact, been selected from the {\em same} data to be used for
           estimation purposes. However, although statisticians may
admit this
           privately (Breiman (1992) calls it a `quiet scandal'), they
(we)
           continue to ignore the difficulties because it is not clear
what
           else could or should be done. P. 421: Estimation errors for
           regression coefficients are usually smaller than errors from
           failing to take into account model specification. P. 422:
           Statisticians must stop pretending that model uncertainty
does not
           exist and begin to find ways of coping with it. P. 426: It is
           indeed strange that we often admit model uncertainty by
searching
           for a best model but then ignore this uncertainty by making
           inferences and predictions as if certain that the best
fitting
           model is actually true. P. 427: The analyst needs to assess
the
           model selection {\em process} and not just the best fitting
model.
           P. 432: The use of subset selection methods is well known to
           introduce alarming biases. P. 433: ... the AIC can be highly
biased
           in data-driven model selection situations. P. 434: Prediction
           intervals will generally be too narrow. In the discussion,
Jamal R.
           M. Ameen states that a model should be (a) satisfactory in
           performance relative to the stated objective, (b) logically
sound,
           (c) representative, (d) questionable and subject to on-line
           interrogation, (e) able to accommodate external or expert
           information and (f) able to convey information.}
}


Frank Harrell


Thomas Dick wrote:
> 
> Hello all,
> 
> i hope you don't mind my off topic question. i want to use the Akaike criterion
> for variable selection in a regression model. Does anyone know some basic
> literature about that topic?
> 
> Especially I'm interested in answers to the following questions:
> 1. Has (and if so how has) the criterion to be modified, if i estimate the
> transformations of the variables too?
> 
> 2. How is the usage of the criterion if i use dummy variables (for categorical
> data) in the model?
> 
> 3. does the criterion have only one minimum, or may i assume several local
> minima?
> 
> Thank you in advance
> Thomas
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From smcnary at charm.net  Thu Sep 13 17:30:49 2001
From: smcnary at charm.net (Scot W McNary)
Date: Thu, 13 Sep 2001 11:30:49 -0400 (EDT)
Subject: [R] OT:  ps -> eps -> MS Word
In-Reply-To: <p0510100fb7c669f72258@[128.115.153.6]>
Message-ID: <Pine.BSI.4.21.0109131121310.1800-100000@fellspt.charm.net>



In windows (98) I've had problems with eps/bmp/emf with resolution when
trying to paste into word (not just with R graphics but with SAS graphics
as well).  By accident two weeks ago I learned that writing the graphic in
PNG format results in very little resolution loss.  It may work in for you
too, at least until you find a more permanent strategy.  I paste it in
using "insert picture", "from file" pull downs into word/powerpoint.

Scot McNary



--
  Scot W. McNary  email:smcnary at charm.net   

On Thu, 13 Sep 2001, Don MacQueen wrote:

> My guess is that the problem is in how Acrobat saves in .eps format.
> If you have Adobe Illustrator available, try using it instead.
> I frequently go R/SPlus -> Illustrator -> Word without loss of resolution.
> (Illustrator and Word on the Macintosh, but that shouldn't matter for 
> this kind of thing)
> -Don
> 
> At 8:56 PM -0700 9/12/01, Marc R. Feldesman wrote:
> >I've created a bunch of postscript trees (post.rpart), which I 
> >subsequently edit in Adobe Acrobat 4.05 (I need additional labelling 
> >that isn't easy to add with R).  After editing the labels and 
> >annotations using Acrobat, I then export the file to Adobe's .eps 
> >format so I can insert the picture into a Microsoft Word 2000 
> >document.  The .pdf file distilled from the .ps file is crystal 
> >clear, while the .eps file is fuzzy at any resolution in any program 
> >(Ghostview 4/Ghostscript 7), Paintshop Pro 7, Word 2000, Powerpoint 
> >2000.  Is there some way to keep the .eps resolution the same as the 
> >.pdf/.ps resolution?
> >
> >(I realize that LaTex is the way to go, but I'm too near completion 
> >of this project to change the entire document.  And, the journal is 
> >too Neanderthal to accept a manuscript in LaTex format).
> >
> >I welcome suggestions.
> >
> >
> >
> >Dr. Marc R. Feldesman
> >email:  feldesmanm at pdx.edu
> >email:  feldesman at attglobal.net
> >fax:    503-725-3905
> >
> >"Don't know where I'm going.
> >Don't like where I've been.
> >There may be no exit.
> >But hell, I'm going in."  Jimmy Buffett
> >
> >Powered by Superchoerus - the 700 MHz Coppermine Box
> >
> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >Send "info", "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 
> -- 
> --------------------------------------
> Don MacQueen
> Environmental Protection Department
> Lawrence Livermore National Laboratory
> Livermore, CA, USA
> --------------------------------------
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andyj at splash.princeton.edu  Thu Sep 13 17:39:38 2001
From: andyj at splash.princeton.edu (Andy Jacobson)
Date: 13 Sep 2001 11:39:38 -0400
Subject: [R] significant figures in summary()
Message-ID: <f2k8zfjhzgl.fsf@tazman.princeton.edu>

Howdy,

        Should summary() print answers with different numbers of
        significant figures, as in the following?

> dim(iv)
[1] 3000    2
> summary(iv)
       X1                 X2           
 Min.   :-4.15261   Min.   :-3.271520  
 1st Qu.:-0.66188   1st Qu.:-0.671205  
 Median : 0.01233   Median :-0.008175  
 Mean   : 0.01121   Mean   : 0.016815  
 3rd Qu.: 0.67778   3rd Qu.: 0.715284  
 Max.   : 3.73594   Max.   : 3.691423  
> summary(iv[,1])
    Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
-4.15300 -0.66190  0.01233  0.01121  0.67780  3.73600 
> summary(iv[,2])
     Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
-3.272000 -0.671200 -0.008175  0.016820  0.715300  3.691000 

          Thanks,
                Andy

-- 
Andy Jacobson

andyj at splash.princeton.edu     

Program in Atmospheric and Oceanic Sciences
Sayre Hall, Forrestal Campus
Princeton University
PO Box CN710 Princeton, NJ 08544-0710 USA

Tel: 609/258-5260  Fax: 609/258-2850
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nychka at cgd.ucar.edu  Thu Sep 13 18:05:36 2001
From: nychka at cgd.ucar.edu (Doug Nychka)
Date: Thu, 13 Sep 2001 10:05:36 -0600 (MDT)
Subject: [R] image plot legends
In-Reply-To: <3BA081E1.93C82FCC@imise.uni-leipzig.de>
Message-ID: <Pine.GSO.4.30.0109131001050.3801-100000@student.cgd.ucar.edu>


The contributed package: fields

has a function: image.plot

that has the same arguments the image function but attempts to add a
legend strip in an semi-intelligent way.  Our group has found this very
useful to produce rapidly image plots with some default legend labeling

Doug



-----------------------------------------------------------------------------
Doug Nychka,

Geophysical Statistics Project              Email: nychka at ucar.edu
National Center for Atmospheric Research    Voice: 303-497-1711
Climate and Global Dynamics Division          FAX: 303-497-1333
Boulder, CO  80307                            Web: www.cgd.ucar.edu/~nychka

Address for overnight mail: 1850 Table Mesa Drive, Boulder, CO 80305

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Thu Sep 13 18:39:41 2001
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Thu, 13 Sep 2001 09:39:41 -0700
Subject: [R] ps/eps/Word
Message-ID: <5.1.0.14.2.20010913092957.026c0cc0@pop4.attglobal.net>

Thanks to all who offered advice on how to solve a loss of resolution 
problem involving ps from R, ps -> eps from Acrobat, and Word.

It appears that this problem will need to be resolved inside R.  If I try 
to add anything additional (more text, clipart embellishments) to a ps/eps 
file (using, say, Adobe Acrobat, PaintShop Pro, Powerpoint, or Adobe 
Illustrator), it gets placed as a separate layer in the finished 
file.  When Adobe exports the file to .eps format it *silently* merges the 
layers which ends up muddying the rectangles, ellipses, and text from the 
original postscript file with text and clipart added at the second phase of 
the graphic editing process.  Saving in PNG, TIF, WMF or any other format 
*after* adding new information does the same thing, and I haven't yet found 
a way around this.

I can solve the text embellishment issue by adding the information at 
"design" time using plot.rpart, text.rpart, and locator functions in 
conjunction with "fancy" parameter, but the issue of adding clipart 
graphics is not one that I've figured out how to solve.




Dr. Marc R. Feldesman
email:  feldesmanm at pdx.edu
email:  feldesman at attglobal.net
fax:    503-725-3905

"Don't know where I'm going.
Don't like where I've been.
There may be no exit.
But hell, I'm going in."  Jimmy Buffett

Powered by Superchoerus - the 700 MHz Coppermine Box

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Thu Sep 13 18:39:41 2001
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Thu, 13 Sep 2001 09:39:41 -0700
Subject: [R] ps/eps/Word
Message-ID: <5.1.0.14.2.20010913092957.026c0cc0@pop4.attglobal.net>

Thanks to all who offered advice on how to solve a loss of resolution 
problem involving ps from R, ps -> eps from Acrobat, and Word.

It appears that this problem will need to be resolved inside R.  If I try 
to add anything additional (more text, clipart embellishments) to a ps/eps 
file (using, say, Adobe Acrobat, PaintShop Pro, Powerpoint, or Adobe 
Illustrator), it gets placed as a separate layer in the finished 
file.  When Adobe exports the file to .eps format it *silently* merges the 
layers which ends up muddying the rectangles, ellipses, and text from the 
original postscript file with text and clipart added at the second phase of 
the graphic editing process.  Saving in PNG, TIF, WMF or any other format 
*after* adding new information does the same thing, and I haven't yet found 
a way around this.

I can solve the text embellishment issue by adding the information at 
"design" time using plot.rpart, text.rpart, and locator functions in 
conjunction with "fancy" parameter, but the issue of adding clipart 
graphics is not one that I've figured out how to solve.




Dr. Marc R. Feldesman
email:  feldesmanm at pdx.edu
email:  feldesman at attglobal.net
fax:    503-725-3905

"Don't know where I'm going.
Don't like where I've been.
There may be no exit.
But hell, I'm going in."  Jimmy Buffett

Powered by Superchoerus - the 700 MHz Coppermine Box

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a215020 at agate.fmr.com  Thu Sep 13 21:24:11 2001
From: a215020 at agate.fmr.com (David Brahm)
Date: Thu, 13 Sep 2001 15:24:11 -0400 (EDT)
Subject: [R] rowsum dimnames
Message-ID: <200109131924.f8DJOBo29206@arbres1a.FMR.Com>

Hi,

The result of rowsum() in R doesn't have the dimnames I'd expect, e.g.:

> rowsum(matrix(1:12, 3,4), c("Y","X","Y"))
    [,1] [,2] [,3] [,4]
  1    2    5    8   11
  2    4   10   16   22

whereas S-Plus gives the more useful result:
    [,1] [,2] [,3] [,4] 
  X    2    5    8   11
  Y    4   10   16   22

This is because R's rowsum() code gives the first dimnames as "ugroup", which
is a factor, rather than "as.character(ugroup)".  Is this a bug or a feature?

I'm using R 1.3.0 on Solaris 2.6.  Help says rowsum's author is Terry Therneau.
Thanks!
			-- David Brahm (a215020 at agate.fmr.com)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Sep 13 21:40:05 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Sep 2001 21:40:05 +0200
Subject: [R] rowsum dimnames
In-Reply-To: <200109131924.f8DJOBo29206@arbres1a.FMR.Com>
References: <200109131924.f8DJOBo29206@arbres1a.FMR.Com>
Message-ID: <x2g09qyj56.fsf@blueberry.kubism.ku.dk>

David Brahm  <a215020 at agate.fmr.com> writes:

> Hi,
> 
> The result of rowsum() in R doesn't have the dimnames I'd expect, e.g.:
> 
> > rowsum(matrix(1:12, 3,4), c("Y","X","Y"))
>     [,1] [,2] [,3] [,4]
>   1    2    5    8   11
>   2    4   10   16   22
> 
> whereas S-Plus gives the more useful result:
>     [,1] [,2] [,3] [,4] 
>   X    2    5    8   11
>   Y    4   10   16   22
> 
> This is because R's rowsum() code gives the first dimnames as "ugroup", which
> is a factor, rather than "as.character(ugroup)".  Is this a bug or a feature?
> 
> I'm using R 1.3.0 on Solaris 2.6.  Help says rowsum's author is Terry Therneau.
> Thanks!

Probably a bug. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Thu Sep 13 19:03:43 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Thu, 13 Sep 2001 13:03:43 -0400
Subject: [R] R kudos
Message-ID: <OFD81B4FD1.C38AF29F-ON85256AC6.005CAB8F@rtp.epa.gov>

This is not a request for help, but I thought the readers of this mailing
list might appreciate the following, anyway.  I have been working with US
EPA's (that's the United States Environmental Protection Agency) Office of
Pesticides on a preliminary assessment for the effects of exposure to
multiple organophosphate pesticides on human health (as required by the
Food Quality Protection Act).  This is a particularly high profile
activity, and requires external review, conducted by a panel of scientists
from relevant disciplines from the academy, industry, and government.  This
particular assessment required quite a lot of dose-response modeling (there
were over 1300 datasets involved), and I put together an ad hoc package
using R and tcl/tk so that scientists in our Office of Pesticides could
carry out the modeling and evaluate the results.  This package became part
of the public record for the analysis: reviewers (and the general public;
everything was distributed on an EPA web site) could run the models and
view the code as part of their review. Our Science Advisory Panel review
was last week, and we just got their final report.  The following paragraph
may be of interest to R users:

The Panel also commends the EPA on the use of R (see the main EPA report
for references), as it is the best way to ensure portable, open code that
is freely available to all interested users, with state-of-the art
algorithms for statistical calculation.


R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kestickler at netscape.net  Thu Sep 13 23:51:18 2001
From: kestickler at netscape.net (kestickler@netscape.net)
Date: Thu, 13 Sep 2001 17:51:18 -0400
Subject: [R] row-wise dataframe calculation 
Message-ID: <7B55D6BD.6C7DA663.0F79CEED@netscape.net>

Hi,

i have a dataframe such as:

      Exp1 Exp2 Exp3
name1 12.6 78.0 45.6
name2 11.9 19.0 21.0
name3 10.0 14.0 17.0
...
...
...

Real datasets might be quite large - 20,000 rows by 100 columns

I want to calculate metrics such as the variation *row-wise*. So, var for name1, var for name 2, var for name3 etc.

Can someone kindly guide me on how best to code this?

Also, once such a metric has been calculated for each row, how best to store the results such that when (for instance) the results are sorted, i can access the row names along with the (ordered) variance value?

Thanks for any help.

ken




__________________________________________________________________




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richmond at saintmarys.edu  Fri Sep 14 04:20:26 2001
From: richmond at saintmarys.edu (David A Richmond)
Date: Thu, 13 Sep 2001 21:20:26 -0500 (EST)
Subject: [R] stuff I used to do in Matlab
Message-ID: <Pine.GSO.4.20.0109132113260.25232-100000@jade.saintmarys.edu>

Hi,
	I'm new to R, and trying to map stuff I knew how to do in Matlab
to R. For instances, in matlab, sum(x) gave the column sums of
matrix(/vector) x. In R it just gives the sum of all the elements,
regardless of their form (vector or matrix). Is there a simple way to
return a vector of column sums for a matrix? Also, in Matlab binary
operators exist for concatenating a matrix onto the end or the bottom of
another matrix (i.e. horiz or vertically) but no such operators seem to
exist for R. is there an easy way to concatenate matrices? (I have found a
way which involves several steps, first creating a new matrix of zeros
with dimensions based on the dims of the old ones, and then inserting the
contents of the old matrices into the new one, but this seems very
cumbersome, esp. since I'm used to being able to do it with something like
c = [a,b]. Thanks for entertaining my newbie questions

dave

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|David Richmond                It works on a          |      
+ Dept. of Sociology          complex scientific      + 
|Saint Mary's College          principle, known as    |  
+ Notre Dame, IN 46556               "pot luck."      +
|219-284-4517                    - The Doctor         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Sep 14 05:16:21 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Thu, 13 Sep 2001 23:16:21 -0400 (EDT)
Subject: [R] stuff I used to do in Matlab
In-Reply-To: <Pine.GSO.4.20.0109132113260.25232-100000@jade.saintmarys.edu>
Message-ID: <Pine.LNX.4.30.0109132314510.12415-100000@bolker.zoo.ufl.edu>

On Thu, 13 Sep 2001, David A Richmond wrote:

> Hi,
> 	I'm new to R, and trying to map stuff I knew how to do in Matlab
> to R. For instances, in matlab, sum(x) gave the column sums of
> matrix(/vector) x. In R it just gives the sum of all the elements,
> regardless of their form (vector or matrix). Is there a simple way to
> return a vector of column sums for a matrix?

  apply(x,2,sum)   gives column sums
  apply(x,1,sum)   gives row sums


> Also, in Matlab binary
> operators exist for concatenating a matrix onto the end or the bottom of
> another matrix (i.e. horiz or vertically) but no such operators seem to
> exist for R. is there an easy way to concatenate matrices? (I have found a
> way which involves several steps, first creating a new matrix of zeros
> with dimensions based on the dims of the old ones, and then inserting the
> contents of the old matrices into the new one, but this seems very
> cumbersome, esp. since I'm used to being able to do it with something like
> c = [a,b]. Thanks for entertaining my newbie questions

  cbind(x,y)  concatenates matrices by column
  rbind(x,y)  concatenates matrices by row


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From H.F.Xie at westminster.ac.uk  Fri Sep 14 05:36:54 2001
From: H.F.Xie at westminster.ac.uk (Haifeng (Kevin) Xie)
Date: Fri, 14 Sep 2001 04:36:54 +0100 (BST)
Subject: [R] Supply linear constrain to optimizer
Message-ID: <Pine.GSO.4.05.10109140413130.20108-100000@leopard>

Dear R and S users,

I've been working on fitting finite mixture of negative exponential
distributions using maximum likelihood based on the example given in MASS.
So far I had much success in fitting two components. The problem started
when I tried to extend the procedure to fit three components.
More specifically,

likelihood = sum( ln(c1*exp(-x/lambda1)/lambda1 +
c2*exp(-x/lambda2)/lambda2 + (1-c1-c2)*exp(-x/lambda3)/lambda3) )

I've used optimizers such as ms and nlminb (SPLUS 5.0 for UNIX), and
provided parameters constrains (0 <= c1, c2 <= 1) to nlminb via lower and
upper. But these constrains provide no protection for (1-c1-c2) being
between interval [0,1], which resulted in generating NAs in the likelihood
function during iteration. 

I've been looking at various documentations, but didn't see anywhere
mentioning setting linear constrain, in this case, c1 + c2 <= 1.

Any suggestion and pointers will be greatly apprepciated. 

Kevin Xie
Research Student
Cavendish School of Computer Science
University of Westminster
London, UK

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From T.Bock at econ.usyd.edu.au  Fri Sep 14 06:02:23 2001
From: T.Bock at econ.usyd.edu.au (Timothy Bock)
Date: Fri, 14 Sep 2001 14:02:23 +1000
Subject: [R] stuff I used to do in Matlab
Message-ID: <7CFCEDE422DB34448322D25F92DB2D45093ACC@EVS1.econ.usyd.edu.au>

> 	I'm new to R, and trying to map stuff I knew how to do in Matlab
> to R. For instances, in matlab, sum(x) gave the column sums of
> matrix(/vector) x. 


#column sums
margin.table(x,2)
# or
apply(z,2,sum)

> concatenating a matrix onto the end or 
> the bottom of
> another matrix (i.e. horiz or vertically) but no such 
> operators seem to
> exist for R. is there an easy way to concatenate matrices? 

# horizontally
cbind(x1,x2)
# vertically
rbind(x1,x2)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Fri Sep 14 06:10:53 2001
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 14 Sep 2001 00:10:53 -0400
Subject: [R] row-wise dataframe calculation 
In-Reply-To: <7B55D6BD.6C7DA663.0F79CEED@netscape.net>
Message-ID: <5.1.0.14.2.20010913235828.01bdfe68@mcmail.cis.mcmaster.ca>

Dear Ken,

At 05:51 PM 13/09/2001 -0400, kestickler at netscape.net wrote:
>Hi,
>
>i have a dataframe such as:
>
>       Exp1 Exp2 Exp3
>name1 12.6 78.0 45.6
>name2 11.9 19.0 21.0
>name3 10.0 14.0 17.0
>...
>...
>...
>
>Real datasets might be quite large - 20,000 rows by 100 columns
>
>I want to calculate metrics such as the variation *row-wise*. So, var for 
>name1, var for name 2, var for name3 etc.
>
>Can someone kindly guide me on how best to code this?

The size of the dataset may prove to be a problem, but in principle this 
kind of calculation can be done with the apply function: apply(df, 1, var), 
where df is the data frame containing your data.

>Also, once such a metric has been calculated for each row, how best to 
>store the results such that when (for instance) the results are sorted, i 
>can access the row names along with the (ordered) variance value?

You can simply create a new variable in the data frame, e.g., df$var <- 
apply(df, 1, var) .

When you sort a variable in a data frame, usually the row names don't show 
in the result. But something like the following should work (again, if the 
size of the problem isn't too large for your resources):

   names(df$var) <- rownames(df); sort(df$var)

I hope that this helps,
  John

-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From GoodN at prose.dpi.qld.gov.au  Fri Sep 14 08:36:33 2001
From: GoodN at prose.dpi.qld.gov.au (Good, Norman)
Date: Fri, 14 Sep 2001 16:36:33 +1000
Subject: [R] Power to detect change (poisson)
Message-ID: <A3D56E56D0CED311A23300A0C9FC21FA591C2A@SFCCRMNT001>

Hi All (first timer here, be gentle!!)

I'm trying to extract the residual variance out of a glm with poisson data
to
conduct power and sample size to detect a change over years.
I have equal reps within year (for now).

Is the residual variance just the grand mean of the original count data, or
something trickier?

glm.Male_glm(M~year*strata,family=poisson,offset=dur)

 levels(year)
[1] "2000" "2001"
> levels(strata)
[1] "0-4"   "4.1-8"    "12.1-16" "8.1-12" 





Norm Good

Fisheries Biologist (Mathematician)
Southern Fisheries Centre
PO Box 76, Deception Bay Q 4508
telephone 3817 9588, fascimile 3817 9555




********************************DISCLAIMER****************************
The information contained in the above e-mail message or messages 
(which includes any attachments) is confidential and may be legally 
privileged.  It is intended only for the use of the person or entity 
to which it is addressed.  If you are not the addressee any form of 
disclosure, copying, modification, distribution or any action taken 
or omitted in reliance on the information is unauthorised.  Opinions 
contained in the message(s) do not necessarily reflect the opinions 
of the Queensland Government and its authorities.  If you received 
this communication in error, please notify the sender immediately and 
delete it from your computer system network.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Fri Sep 14 09:14:52 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Fri, 14 Sep 2001 09:14:52 +0200
Subject: [R] Supply linear constrain to optimizer
In-Reply-To: <Pine.GSO.4.05.10109140413130.20108-100000@leopard>
Message-ID: <MABBLJDICACNFOLGIHJOMELCCFAA.phgrosje@ulb.ac.be>

Try reparameterize the function. Replace c1 and c2 by functions such they
return values in the range you want. Hints: use ln(c) instead of c for
returning a positive number; to obtain a range like [a, b], you can use a
4-parameter logistic function,... OK, it's not easy in the present case, but
it is a way to get around your problem.
Best regards,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
......................................................................


>Dear R and S users,

>I've been working on fitting finite mixture of negative exponential
>distributions using maximum likelihood based on the example given in MASS.
>So far I had much success in fitting two components. The problem started
>when I tried to extend the procedure to fit three components.
>More specifically,

>likelihood = sum( ln(c1*exp(-x/lambda1)/lambda1 +
>c2*exp(-x/lambda2)/lambda2 + (1-c1-c2)*exp(-x/lambda3)/lambda3) )

>I've used optimizers such as ms and nlminb (SPLUS 5.0 for UNIX), and
>provided parameters constrains (0 <= c1, c2 <= 1) to nlminb via lower and
>upper. But these constrains provide no protection for (1-c1-c2) being
>between interval [0,1], which resulted in generating NAs in the likelihood
>function during iteration.

>I've been looking at various documentations, but didn't see anywhere
>mentioning setting linear constrain, in this case, c1 + c2 <= 1.

>Any suggestion and pointers will be greatly apprepciated.

>Kevin Xie
>Research Student
>Cavendish School of Computer Science
>University of Westminster
>London, UK


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Fri Sep 14 09:26:37 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Fri, 14 Sep 2001 09:26:37 +0200
Subject: [R] stuff I used to do in Matlab
In-Reply-To: <Pine.GSO.4.20.0109132113260.25232-100000@jade.saintmarys.edu>
Message-ID: <MABBLJDICACNFOLGIHJOEELDCFAA.phgrosje@ulb.ac.be>

I am currently converting Matlab code into R code. All basic matrix
operations in Matlab exist also in R... You just have to find them because
functions names and logic are sometimes a little bit different. You have a
few hints with other answers in this thread. R is strongest in indexing
matrices. It handles also data.frames, factors, etc... with no direct
equivalent in Matlab. You are better to consider you learn a new language
instead of trying to use R as a Matlab-like language. If you do so, I guess
you will prefer R than Matlab for most applications (like I do!). My R code
tend also to be somewhat shorter than Matlab equivalent :-) However, Matlab
code (if run in v. 6) is often faster :-(
All the best,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


>Hi,
>	I'm new to R, and trying to map stuff I knew how to do in Matlab
>to R. For instances, in matlab, sum(x) gave the column sums of
>matrix(/vector) x. In R it just gives the sum of all the elements,
>regardless of their form (vector or matrix). Is there a simple way to
>return a vector of column sums for a matrix? Also, in Matlab binary
>operators exist for concatenating a matrix onto the end or the bottom of
>another matrix (i.e. horiz or vertically) but no such operators seem to
>exist for R. is there an easy way to concatenate matrices? (I have found a
>way which involves several steps, first creating a new matrix of zeros
>with dimensions based on the dims of the old ones, and then inserting the
>contents of the old matrices into the new one, but this seems very
>cumbersome, esp. since I'm used to being able to do it with something like
>c = [a,b]. Thanks for entertaining my newbie questions

>dave

>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
>|David Richmond                It works on a          |
>+ Dept. of Sociology          complex scientific      +
>|Saint Mary's College          principle, known as    |
>+ Notre Dame, IN 46556               "pot luck."      +
>|219-284-4517                    - The Doctor         |
>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Sep 14 09:50:59 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Sep 2001 09:50:59 +0200
Subject: [R] stuff I used to do in Matlab
In-Reply-To: <7CFCEDE422DB34448322D25F92DB2D45093ACC@EVS1.econ.usyd.edu.au>
References: <7CFCEDE422DB34448322D25F92DB2D45093ACC@EVS1.econ.usyd.edu.au>
Message-ID: <x28zfi8b30.fsf@blueberry.kubism.ku.dk>

"Timothy Bock" <T.Bock at econ.usyd.edu.au> writes:

> > 	I'm new to R, and trying to map stuff I knew how to do in Matlab
> > to R. For instances, in matlab, sum(x) gave the column sums of
> > matrix(/vector) x. 
> 
> 
> #column sums
> margin.table(x,2)
> # or
> apply(z,2,sum)

Margin.table() is really intended for tables, It was originally a
straight call to apply() but nowadays it is jumping through a
couple of extra hoops to make sure the result is a table (in
particular, it returns a 1D-array instead of a vector for a 1D
marginal). For ordinary matrix operations, it should probably be
avoided. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Sep 13 19:46:16 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 13 Sep 2001 19:46:16 +0200
Subject: [R] significant figures in summary()
References: <f2k8zfjhzgl.fsf@tazman.princeton.edu>
Message-ID: <3BA0F0E8.62C15D2D@statistik.uni-dortmund.de>

Andy Jacobson wrote:
> 
> Howdy,
> 
>         Should summary() print answers with different numbers of
>         significant figures, as in the following?
> 
> > dim(iv)
> [1] 3000    2
> > summary(iv)
>        X1                 X2
>  Min.   :-4.15261   Min.   :-3.271520
>  1st Qu.:-0.66188   1st Qu.:-0.671205
>  Median : 0.01233   Median :-0.008175
>  Mean   : 0.01121   Mean   : 0.016815
>  3rd Qu.: 0.67778   3rd Qu.: 0.715284
>  Max.   : 3.73594   Max.   : 3.691423
> > summary(iv[,1])
>     Min.  1st Qu.   Median     Mean  3rd Qu.     Max.
> -4.15300 -0.66190  0.01233  0.01121  0.67780  3.73600
> > summary(iv[,2])
>      Min.   1st Qu.    Median      Mean   3rd Qu.      Max.
> -3.272000 -0.671200 -0.008175  0.016820  0.715300  3.691000


I assume iv is a data.frame [summary.data.frame() will be used], while
iv[,i] are vectors [summary.default() will be used].

>From ?summary:
 summary.default(object, ..., digits = max(3, getOption("digits")-3))
 summary.data.frame(object, maxsum = 7,
                   digits = max(3, getOption("digits")-3), ...)


Without having changed the default of options("digits"), 
in summary() is digits = 7-3 (=4) in both cases.

Again from ?summary:
 digits - integer, used for number formatting with signif() 
          (for summary.default) 
          or format() (for summary.data.frame).

And that's the big difference! Have also a look at ?signif and ?format.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Duncan.Mackay at flinders.edu.au  Fri Sep 14 10:07:17 2001
From: Duncan.Mackay at flinders.edu.au (Duncan Mackay)
Date: Fri, 14 Sep 2001 17:37:17 +0930
Subject: [R] converting numeric to ordered
Message-ID: <LKEKIOMKIBNKJOPKIKOOEEAACEAA.Duncan.Mackay@flinders.edu.au>

Hello all,
would someone please tell me why the following code doesn't "work" (i.e. do
what i expected!).
I wanted to convert numeric variables in a matrix to ordered (for input as
nominal variables into the 'daisy' program).
Why does the following code seem to work, but the "is.ordered" command
reports that the variables are not ordered (factors)??


> xxx <- matrix(c(0,1,0,1,0,1,0,1,0),ncol=3)
> xxx
     [,1] [,2] [,3]
[1,]    0    1    0
[2,]    1    0    1
[3,]    0    1    0
> yyy <- apply(xxx,2,as.ordered)
> yyy
     [,1] [,2] [,3]
[1,]    1    2    1
[2,]    2    1    2
[3,]    1    2    1
> apply(yyy,2,is.ordered)
[1] FALSE FALSE FALSE

Duncan

*******************************************
Dr. Duncan Mackay
Biology
Flinders University
GPO Box 2100
Adelaide
S.A.    5001
AUSTRALIA

Ph (08) 8201 2627    FAX (08) 8201 3015

http://www.bio.flinders.edu.au/dam/damres.htm


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep 14 10:23:27 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 14 Sep 2001 09:23:27 +0100 (BST)
Subject: [R] converting numeric to ordered
In-Reply-To: <LKEKIOMKIBNKJOPKIKOOEEAACEAA.Duncan.Mackay@flinders.edu.au>
Message-ID: <Pine.LNX.4.31.0109140918001.15649-100000@gannet.stats>

On Fri, 14 Sep 2001, Duncan Mackay wrote:

> Hello all,
> would someone please tell me why the following code doesn't "work" (i.e. do
> what i expected!).
> I wanted to convert numeric variables in a matrix to ordered (for input as
> nominal variables into the 'daisy' program).
> Why does the following code seem to work, but the "is.ordered" command
> reports that the variables are not ordered (factors)??

It's a matrix. "ordered" is a class. Only data frames can have columns of
different classes.  I think you want

> xxx <- as.data.frame(xxx)
> xxx
  V1 V2 V3
1  0  1  0
2  1  0  1
3  0  1  0

xxx[] <- lapply(xxx, as.ordered)

When ?daisy says

       x: data matrix or dataframe.  Dissimilarities will be computed
          between the rows of `x'.  Columns of mode `numeric' will be
          recognized as interval scaled variables, columns of class
          `factor' will be recognized as nominal variables, and columns
          of class `ordered' will be recognized as ordinal variables.

the comment applies to data frames only.  (Martin: might you clarify
this?)

> > xxx <- matrix(c(0,1,0,1,0,1,0,1,0),ncol=3)
> > xxx
>      [,1] [,2] [,3]
> [1,]    0    1    0
> [2,]    1    0    1
> [3,]    0    1    0
> > yyy <- apply(xxx,2,as.ordered)
> > yyy
>      [,1] [,2] [,3]
> [1,]    1    2    1
> [2,]    2    1    2
> [3,]    1    2    1
> > apply(yyy,2,is.ordered)
> [1] FALSE FALSE FALSE
>
> Duncan
>
> *******************************************
> Dr. Duncan Mackay
> Biology
> Flinders University
> GPO Box 2100
> Adelaide
> S.A.    5001
> AUSTRALIA
>
> Ph (08) 8201 2627    FAX (08) 8201 3015
>
> http://www.bio.flinders.edu.au/dam/damres.htm
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Thilo.Engelskircher at gmx.de  Fri Sep 14 10:30:36 2001
From: Thilo.Engelskircher at gmx.de (Thilo Engelskircher)
Date: Fri, 14 Sep 2001 10:30:36 +0200 (MEST)
Subject: [R] SPC package for R?
Message-ID: <23067.1000456236@www1.gmx.net>

Hello!

Is there a SPC (statistical process control) package for R.
So far I couldn't find one.

Thanks in advance,

Thilo.

-- 
GMX - Die Kommunikationsplattform im Internet.
http://www.gmx.net

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From conversa at unina.it  Fri Sep 14 13:20:29 2001
From: conversa at unina.it (Claudio Conversano)
Date: Fri, 14 Sep 2001 13:20:29 +0200
Subject: [R] problem with rpart()
Message-ID: <5.1.0.14.0.20010914131514.00a80930@127.0.0.1>

I am using rpart() using R v. 1.3.0 under Windows 2000.

I tried to run the routine with the following command:

a1<-rpart(X1~X2+X3,data=prova)

and it turns out with the following error message:

Error in matrix(c(rp$isplit[, 2:3], rp$dsplit), ncol = 5, dimnames = 
list(tname[rp$isplit[,  :
         length of dimnames[1] not equal to array extent

the dataset prova has been imported in R using the command read.table. 
Apparently, it seems that the file has been correctly imported.

Any help will be appreciated!

thanks in advance!

Claudio  

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marchini at stats.ox.ac.uk  Fri Sep 14 13:29:31 2001
From: marchini at stats.ox.ac.uk (Jonathan Marchini)
Date: Fri, 14 Sep 2001 12:29:31 +0100
Subject: [R] tkfilefind in tcltk on Windows2000
Message-ID: <3BA1EA1B.1152A013@stats.ox.ac.uk>

Hi,

The tkfilefind demo in the tcltk package doesn't seem to work for me in
Windows2000.

The demo script uses tkfilefind(".") which doesn't display the parent
directory so you can't browse around the whole drive.

Using tkfilefind() (which uses the default path getwd()) doesn't seem to
work for me at all.

I also tried tkfilefind("/") which worked fine but then using

> a<-tkfilefind("/")
> a
[1] "//jm2.null.mc.img"
> library(AnalyzeFMRI)
> f.analyze.file.summary(a)

causes R to crash i.e. using "//jm2.null.mc.img" as a path to a file
doesn't seem to work.

I found a way round it using

path<-getwd()
if(.Platform$OS.type == "windows") {
path<-paste(substring(getwd(),1,2),Platform()$file.sep,sep="")
}

tkfilefind(path)

but this only allows you to access files on the drive of the working
directory.

I also found a problem selecting a file when the path has spaces. IIt
seems to return a vector of characters
 
> tkfilefind("C:/")
[1] "C:/Program/Files" "/R/rw1031/FAQ"   

I was wondering if there was an easier way around these problems? I find
the tkfilefind function very useful when writing small GUI's that
read/write data from files.

Cheers,

Jonathan

-- 
Jonathan L. Marchini,		(home)	jonathan.marchini at balliol.ox.ac.uk
Department of Statistics,	(work)	marchini at stats.ox.ac.uk
University of Oxford,		http://www.stats.ox.ac.uk/~marchini
1 South Parks Road,		Tel: 	+44 1865 272593 (work)	
Oxford OX1 3TG, UK		Fax: 	+44 1865 272595
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Sep 14 13:58:09 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Fri, 14 Sep 2001 07:58:09 -0400 (EDT)
Subject: [R] Supply linear constrain to optimizer
In-Reply-To: <MABBLJDICACNFOLGIHJOMELCCFAA.phgrosje@ulb.ac.be>
Message-ID: <Pine.LNX.4.30.0109140753320.12751-100000@bolker.zoo.ufl.edu>


  I agree with the suggestion to reparameterize the data, but the problem
here is not readjusting the range (the box constraints in optim/L-BFGS-B
work just fine).
  A transformation I have used for compositional data:

  c(1) <-> p(1)
  c(2) <-> p(2)/(1-p(1))
  ...
  c(n) <-> p(n)/(1-sum p(1)..p(n-1))


On Fri, 14 Sep 2001, Philippe Grosjean wrote:

> Try reparameterize the function. Replace c1 and c2 by functions such they
> return values in the range you want. Hints: use ln(c) instead of c for
> returning a positive number; to obtain a range like [a, b], you can use a
> 4-parameter logistic function,... OK, it's not easy in the present case, but
> it is a way to get around your problem.
> Best regards,
>
> Philippe Grosjean
>
>
> ...........]<(({?<...............<?}))><...............................
>  ) ) ) ) )	 __               	 __
> ( ( ( ( ( 	|__)              	|  _
>  ) ) ) ) )	|   hilippe       	|__)rosjean
> ( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
>  ) ) ) ) )	                  	 __
> ( ( ( ( ( 	|\  /|            	|__)
>  ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
> ( ( ( ( (
>  ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
> ( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
>  ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
> ( ( ( ( (
>  ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
> ( ( ( ( (                                  L. Gonick & W. Smith (1993)
>  ) ) ) ) )
> ......................................................................
>
>
> >Dear R and S users,
>
> >I've been working on fitting finite mixture of negative exponential
> >distributions using maximum likelihood based on the example given in MASS.
> >So far I had much success in fitting two components. The problem started
> >when I tried to extend the procedure to fit three components.
> >More specifically,
>
> >likelihood = sum( ln(c1*exp(-x/lambda1)/lambda1 +
> >c2*exp(-x/lambda2)/lambda2 + (1-c1-c2)*exp(-x/lambda3)/lambda3) )
>
> >I've used optimizers such as ms and nlminb (SPLUS 5.0 for UNIX), and
> >provided parameters constrains (0 <= c1, c2 <= 1) to nlminb via lower and
> >upper. But these constrains provide no protection for (1-c1-c2) being
> >between interval [0,1], which resulted in generating NAs in the likelihood
> >function during iteration.
>
> >I've been looking at various documentations, but didn't see anywhere
> >mentioning setting linear constrain, in this case, c1 + c2 <= 1.
>
> >Any suggestion and pointers will be greatly apprepciated.
>
> >Kevin Xie
> >Research Student
> >Cavendish School of Computer Science
> >University of Westminster
> >London, UK
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Sep 14 14:13:55 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 14 Sep 2001 14:13:55 +0200
Subject: [R] tkfilefind in tcltk on Windows2000
References: <3BA1EA1B.1152A013@stats.ox.ac.uk>
Message-ID: <3BA1F483.E576C327@statistik.uni-dortmund.de>

Jonathan Marchini wrote:
> 
> Hi,
> 
> The tkfilefind demo in the tcltk package doesn't seem to work for me in
> Windows2000.
> 
> The demo script uses tkfilefind(".") which doesn't display the parent
> directory so you can't browse around the whole drive.

Right, it uses the working directory ... and works fine on WinNT4.


> Using tkfilefind() (which uses the default path getwd()) doesn't seem to
> work for me at all.

Which is the same here ...
What you want is:
  setwd("c:/")
  demo(tkfilefind)


> I also tried tkfilefind("/") which worked fine but then using
> 
> > a<-tkfilefind("/")
> > a
> [1] "//jm2.null.mc.img"
> > library(AnalyzeFMRI)
> > f.analyze.file.summary(a)
> causes R to crash i.e. using "//jm2.null.mc.img" as a path to a file
> doesn't seem to work.

That's a bug in package AnalyzeFMRI, which doesn't check the existance
of the file.
  file.exists(a) # should give FALSE !!!

What you want is: 
  tkfilefind("c:/")

 
> I found a way round it using
> 
> path<-getwd()
> if(.Platform$OS.type == "windows") {
> path<-paste(substring(getwd(),1,2),Platform()$file.sep,sep="")
> }
> 
> tkfilefind(path)
> 
> but this only allows you to access files on the drive of the working
> directory.

What about 
  tkfilefind("c:/"), tkfilefind("d:/"), tkfilefind("e:/"), ... ???


> I also found a problem selecting a file when the path has spaces. IIt
> seems to return a vector of characters
> 
> > tkfilefind("C:/")
> [1] "C:/Program/Files" "/R/rw1031/FAQ"

That's hard to fix if you also want to be able to make multiple
selections.

 
> I was wondering if there was an easier way around these problems? I find
> the tkfilefind function very useful when writing small GUI's that
> read/write data from files.


It is much easier to use file.choose() on Windows!!!

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Sep 14 14:14:31 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Sep 2001 14:14:31 +0200
Subject: [R] tkfilefind in tcltk on Windows2000
In-Reply-To: <3BA1EA1B.1152A013@stats.ox.ac.uk>
References: <3BA1EA1B.1152A013@stats.ox.ac.uk>
Message-ID: <x2zo7yvujc.fsf@blueberry.kubism.ku.dk>

Jonathan Marchini <marchini at stats.ox.ac.uk> writes:

> Hi,
> 
> The tkfilefind demo in the tcltk package doesn't seem to work for me in
> Windows2000.
> 
> The demo script uses tkfilefind(".") which doesn't display the parent
> directory so you can't browse around the whole drive.
> 
> Using tkfilefind() (which uses the default path getwd()) doesn't seem to
> work for me at all.
> 
> I also tried tkfilefind("/") which worked fine but then using
> 
> > a<-tkfilefind("/")
> > a
> [1] "//jm2.null.mc.img"
> > library(AnalyzeFMRI)
> > f.analyze.file.summary(a)
> 
> causes R to crash i.e. using "//jm2.null.mc.img" as a path to a file
> doesn't seem to work.
> 
> I found a way round it using
> 
> path<-getwd()
> if(.Platform$OS.type == "windows") {
> path<-paste(substring(getwd(),1,2),Platform()$file.sep,sep="")
> }
> 
> tkfilefind(path)
> 
> but this only allows you to access files on the drive of the working
> directory.
> 
> I also found a problem selecting a file when the path has spaces. IIt
> seems to return a vector of characters
>  
> > tkfilefind("C:/")
> [1] "C:/Program/Files" "/R/rw1031/FAQ"   
> 
> I was wondering if there was an easier way around these problems? I find
> the tkfilefind function very useful when writing small GUI's that
> read/write data from files.

Hmmm.... It is after all just a demo, intending to show how you might
communicate with a fairly complex Tcl module. It could well be the
case that the "hierarchy_dir" widget on which it builds has
shortcomings and you could go looking for another file selector
dialog. Or maybe you could take a closer look at the function and
modify it to suit your needs.

However, after poking around a bit, I'm 95% confident that what you
really want is tkcmd("tk_getOpenFile")...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Fri Sep 14 14:20:57 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Fri, 14 Sep 2001 14:20:57 +0200
Subject: [R] Supply linear constrain to optimizer
In-Reply-To: <Pine.LNX.4.30.0109140753320.12751-100000@bolker.zoo.ufl.edu>
Message-ID: <MABBLJDICACNFOLGIHJOCELFCFAA.phgrosje@ulb.ac.be>

>  I agree with the suggestion to reparameterize the data, but the problem
>here is not readjusting the range (the box constraints in optim/L-BFGS-B
>work just fine).
>  A transformation I have used for compositional data:

>  c(1) <-> p(1)
>  c(2) <-> p(2)/(1-p(1))
>  ...
>  c(n) <-> p(n)/(1-sum p(1)..p(n-1))

Hummm, let me see. I use also min(x, 10) instead of x to constraint a
parameter x <= 10 (same with max)... but it is dangerous and it should be
used carfully. Your problem here is more complex. You want to make sure
1-c1-c2 is in range [0, 1], isn't it? What about replacing (1-c1-c2) by (if
((c1+c2)>1) 1e100 else if ((c1+c2)<0) 1e100 else (1-c1-c2)) in

likelihood = sum( ln(c1*exp(-x/lambda1)/lambda1 +
c2*exp(-x/lambda2)/lambda2 + (1-c1-c2)*exp(-x/lambda3)/lambda3) )

This way, you would not have negative numbers which produces NaN in ln(x)
[by the way, you mean log(x), I presume?]. You will obtain large positive
numbers in each case where the condition is not met. These solutions for c1
and c2 will then be avoided during the minimization process. This is a
mechanism used in nonlinear module of Statistica for instance and it is very
efficient.
All the best,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep 14 14:39:36 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 14 Sep 2001 13:39:36 +0100 (BST)
Subject: [R] Supply linear constrain to optimizer
In-Reply-To: <Pine.LNX.4.30.0109140753320.12751-100000@bolker.zoo.ufl.edu>
Message-ID: <Pine.LNX.4.31.0109141329460.18468-100000@gannet.stats>

In my reading the most common transformation for mixtures is a log-linear
model, that is p_i = exp(g_i) / sum_j exp(g_j).  There are one too many
g_i's and this is solved in exactly the same way as for a log-linear model
via glm, by omitting one, by a sum constraint ....

This view does exclude any p_i = 0, but that is intentional as components
could be dropped.

If the boundary cases were of interest it would be nice to have an
optimizer that allows linear inequality bounds (that is to optimize over a
simplex).  As we don't have one, setting the objective to a large value
or NA (in R at least) will cause the optimizer to keep within the region,
but it may also cause it to work really slowly.

Brian

On Fri, 14 Sep 2001, Ben Bolker wrote:

>
>   I agree with the suggestion to reparameterize the data, but the problem
> here is not readjusting the range (the box constraints in optim/L-BFGS-B
> work just fine).
>   A transformation I have used for compositional data:
>
>   c(1) <-> p(1)
>   c(2) <-> p(2)/(1-p(1))
>   ...
>   c(n) <-> p(n)/(1-sum p(1)..p(n-1))
>
>
> On Fri, 14 Sep 2001, Philippe Grosjean wrote:
>
> > Try reparameterize the function. Replace c1 and c2 by functions such they
> > return values in the range you want. Hints: use ln(c) instead of c for
> > returning a positive number; to obtain a range like [a, b], you can use a
> > 4-parameter logistic function,... OK, it's not easy in the present case, but
> > it is a way to get around your problem.
> > Best regards,
> >
> > Philippe Grosjean
> >
> >
> > ...........]<(({?<...............<?}))><...............................
> >  ) ) ) ) )	 __               	 __
> > ( ( ( ( ( 	|__)              	|  _
> >  ) ) ) ) )	|   hilippe       	|__)rosjean
> > ( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
> >  ) ) ) ) )	                  	 __
> > ( ( ( ( ( 	|\  /|            	|__)
> >  ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
> > ( ( ( ( (
> >  ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
> > ( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
> >  ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
> > ( ( ( ( (
> >  ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
> > ( ( ( ( (                                  L. Gonick & W. Smith (1993)
> >  ) ) ) ) )
> > ......................................................................
> >
> >
> > >Dear R and S users,
> >
> > >I've been working on fitting finite mixture of negative exponential
> > >distributions using maximum likelihood based on the example given in MASS.
> > >So far I had much success in fitting two components. The problem started
> > >when I tried to extend the procedure to fit three components.
> > >More specifically,
> >
> > >likelihood = sum( ln(c1*exp(-x/lambda1)/lambda1 +
> > >c2*exp(-x/lambda2)/lambda2 + (1-c1-c2)*exp(-x/lambda3)/lambda3) )
> >
> > >I've used optimizers such as ms and nlminb (SPLUS 5.0 for UNIX), and
> > >provided parameters constrains (0 <= c1, c2 <= 1) to nlminb via lower and
> > >upper. But these constrains provide no protection for (1-c1-c2) being
> > >between interval [0,1], which resulted in generating NAs in the likelihood
> > >function during iteration.
> >
> > >I've been looking at various documentations, but didn't see anywhere
> > >mentioning setting linear constrain, in this case, c1 + c2 <= 1.
> >
> > >Any suggestion and pointers will be greatly apprepciated.
> >
> > >Kevin Xie
> > >Research Student
> > >Cavendish School of Computer Science
> > >University of Westminster
> > >London, UK
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
> --
> 318 Carr Hall                                bolker at zoo.ufl.edu
> Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
> Box 118525                                   (ph)  352-392-5697
> Gainesville, FL 32611-8525                   (fax) 352-392-3704
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Sep 14 14:54:57 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Fri, 14 Sep 2001 08:54:57 -0400 (EDT)
Subject: [R] Supply linear constrain to optimizer
In-Reply-To: <Pine.LNX.4.31.0109141329460.18468-100000@gannet.stats>
Message-ID: <Pine.LNX.4.30.0109140852300.12788-100000@bolker.zoo.ufl.edu>


  Good to hear about the log-linear mixture (which should have occurred to
me).  I found that for my particular problem (which does have some optimal
values at zero, on the boundary) that I would get p_i's of such different
orders of magnitude that the optimizer worked pretty poorly ...

On Fri, 14 Sep 2001, Prof Brian Ripley wrote:

> In my reading the most common transformation for mixtures is a log-linear
> model, that is p_i = exp(g_i) / sum_j exp(g_j).  There are one too many
> g_i's and this is solved in exactly the same way as for a log-linear model
> via glm, by omitting one, by a sum constraint ....
>
> This view does exclude any p_i = 0, but that is intentional as components
> could be dropped.
>
> If the boundary cases were of interest it would be nice to have an
> optimizer that allows linear inequality bounds (that is to optimize over a
> simplex).  As we don't have one, setting the objective to a large value
> or NA (in R at least) will cause the optimizer to keep within the region,
> but it may also cause it to work really slowly.
>
> Brian
>
> On Fri, 14 Sep 2001, Ben Bolker wrote:
>
> >
> >   I agree with the suggestion to reparameterize the data, but the problem
> > here is not readjusting the range (the box constraints in optim/L-BFGS-B
> > work just fine).
> >   A transformation I have used for compositional data:
> >
> >   c(1) <-> p(1)
> >   c(2) <-> p(2)/(1-p(1))
> >   ...
> >   c(n) <-> p(n)/(1-sum p(1)..p(n-1))
> >
> >
> > On Fri, 14 Sep 2001, Philippe Grosjean wrote:
> >
> > > Try reparameterize the function. Replace c1 and c2 by functions such they
> > > return values in the range you want. Hints: use ln(c) instead of c for
> > > returning a positive number; to obtain a range like [a, b], you can use a
> > > 4-parameter logistic function,... OK, it's not easy in the present case, but
> > > it is a way to get around your problem.
> > > Best regards,
> > >
> > > Philippe Grosjean
> > >
> > >
> > > ...........]<(({?<...............<?}))><...............................
> > >  ) ) ) ) )	 __               	 __
> > > ( ( ( ( ( 	|__)              	|  _
> > >  ) ) ) ) )	|   hilippe       	|__)rosjean
> > > ( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
> > >  ) ) ) ) )	                  	 __
> > > ( ( ( ( ( 	|\  /|            	|__)
> > >  ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
> > > ( ( ( ( (
> > >  ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
> > > ( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
> > >  ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
> > > ( ( ( ( (
> > >  ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
> > > ( ( ( ( (                                  L. Gonick & W. Smith (1993)
> > >  ) ) ) ) )
> > > ......................................................................
> > >
> > >
> > > >Dear R and S users,
> > >
> > > >I've been working on fitting finite mixture of negative exponential
> > > >distributions using maximum likelihood based on the example given in MASS.
> > > >So far I had much success in fitting two components. The problem started
> > > >when I tried to extend the procedure to fit three components.
> > > >More specifically,
> > >
> > > >likelihood = sum( ln(c1*exp(-x/lambda1)/lambda1 +
> > > >c2*exp(-x/lambda2)/lambda2 + (1-c1-c2)*exp(-x/lambda3)/lambda3) )
> > >
> > > >I've used optimizers such as ms and nlminb (SPLUS 5.0 for UNIX), and
> > > >provided parameters constrains (0 <= c1, c2 <= 1) to nlminb via lower and
> > > >upper. But these constrains provide no protection for (1-c1-c2) being
> > > >between interval [0,1], which resulted in generating NAs in the likelihood
> > > >function during iteration.
> > >
> > > >I've been looking at various documentations, but didn't see anywhere
> > > >mentioning setting linear constrain, in this case, c1 + c2 <= 1.
> > >
> > > >Any suggestion and pointers will be greatly apprepciated.
> > >
> > > >Kevin Xie
> > > >Research Student
> > > >Cavendish School of Computer Science
> > > >University of Westminster
> > > >London, UK
> > >
> > >
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > >
> >
> > --
> > 318 Carr Hall                                bolker at zoo.ufl.edu
> > Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
> > Box 118525                                   (ph)  352-392-5697
> > Gainesville, FL 32611-8525                   (fax) 352-392-3704
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Sep 14 15:12:57 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Sep 2001 15:12:57 +0200
Subject: [R] Supply linear constrain to optimizer
In-Reply-To: <Pine.LNX.4.31.0109141329460.18468-100000@gannet.stats>
References: <Pine.LNX.4.31.0109141329460.18468-100000@gannet.stats>
Message-ID: <x2vgilx6ee.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> If the boundary cases were of interest it would be nice to have an
> optimizer that allows linear inequality bounds (that is to optimize over a
> simplex).

Anyone looking for a project? I don't actually think this is
particularly hard to do for someone who understands what the
box-constrained algorithm already does. (That is a nearly vacuous
statement, I know. Brian would be eligible, but hardly looking for a
project...). 

There are two approaches: Either allow the box to generalize into
arbitrary intersections of half-spaces (I don't think that's the
definition of a simplex?) , or allow linear *equality* restrictions to
be added to the original optimization problem, so that you could

max f(c1,c2,c3) subj. to 
c3 == c1 + c2
with constr.
0 < c1 < 1
0 < c2 < 1
c3 < 1 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chris.marshall at wrx-us.com  Fri Sep 14 16:47:56 2001
From: chris.marshall at wrx-us.com (Chris Marshall)
Date: Fri, 14 Sep 2001 10:47:56 -0400
Subject: [R] "return" function
Message-ID: <D8FC432ED011D511B1D9001083FD45E70F35F7@norcom2.norcom.net>

I tried to write a function like this

f1 <- function(){
   if (condition 1) return
   if (condition 2) return
   ...
   if (condition 3) return

   do more work
}

Where I am using return to exit the function prematurely when I detect
conditions that warrant it.  Return doesn't seem to work this way.

How should I do this?

Chris Marshall
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Fri Sep 14 17:13:20 2001
From: rolf at math.unb.ca (Rolf Turner)
Date: Fri, 14 Sep 2001 12:13:20 -0300 (ADT)
Subject: [R] Dynamic loading problem.
Message-ID: <200109141513.MAA07223@gelfand.math.unb.ca>

I'm having a dynamic loading problem that seems to be
caused by exponentiation (the ** operator in Fortran/ratfor).

This can be illustrated by the following toy example:

===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===
% cat foo.r
subroutine foo(x,n)
x = x**n
return
end

% f77 -c foo.r
/tmp/ratfor.06661.0.f:
        foo:
% R CMD SHLIB -o foo.so foo.o
gcc -G  -o foo.so foo.o  -L/usr/local/lib  
% R -q

> dyn.load("foo.so")
Error in dyn.load(x, as.logical(local), as.logical(now)) : 
        unable to load shared library "/home1/faculty/rolf/Traal/Temp/foo.so":
  ld.so.1: /usr/local/lib/R/bin/R.bin: fatal: relocation error: file /home1/faculty/rolf/Traal/Temp/foo.so: symbol __pow_ri: referenced symbol not found
> q()
===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===

I presume/hope that by handing SHLIB some other flags or by
specifying some environment variable or other, or by ..., I should
be able to get dyn.load() to find ``__pow_ri''.

The same problem does NOT arise when I use Splus3.4 SHLIB and
dyn.load.shared() in Splus3.4, so ``__pow_ri'' must be around
somewhere.

Can anyone tell me (in simple, prescriptive, explicit terms) what
I need to do to alleviate this problem?

I'm running R-1.3.1 on a Sun Sparc Ultra-5, under SunOS 5.7/Solaris 2.7.

					cheers,

						Rolf Turner
						rolf at math.unb.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep 14 17:23:53 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 14 Sep 2001 16:23:53 +0100 (BST)
Subject: [R] Dynamic loading problem.
In-Reply-To: <200109141513.MAA07223@gelfand.math.unb.ca>
Message-ID: <Pine.LNX.4.31.0109141617060.1757-100000@gannet.stats>

On Fri, 14 Sep 2001, Rolf Turner wrote:

> I'm having a dynamic loading problem that seems to be
> caused by exponentiation (the ** operator in Fortran/ratfor).
>
> This can be illustrated by the following toy example:
>
> ===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===
> % cat foo.r
> subroutine foo(x,n)
> x = x**n
> return
> end
>
> % f77 -c foo.r
> /tmp/ratfor.06661.0.f:
>         foo:
> % R CMD SHLIB -o foo.so foo.o
> gcc -G  -o foo.so foo.o  -L/usr/local/lib
> % R -q
>
> > dyn.load("foo.so")
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>         unable to load shared library "/home1/faculty/rolf/Traal/Temp/foo.so":
>   ld.so.1: /usr/local/lib/R/bin/R.bin: fatal: relocation error: file /home1/faculty/rolf/Traal/Temp/foo.so: symbol __pow_ri: referenced symbol not found
> > q()
> ===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===
>
> I presume/hope that by handing SHLIB some other flags or by
> specifying some environment variable or other, or by ..., I should
> be able to get dyn.load() to find ``__pow_ri''.
>
> The same problem does NOT arise when I use Splus3.4 SHLIB and
> dyn.load.shared() in Splus3.4, so ``__pow_ri'' must be around
> somewhere.
>
> Can anyone tell me (in simple, prescriptive, explicit terms) what
> I need to do to alleviate this problem?
>
> I'm running R-1.3.1 on a Sun Sparc Ultra-5, under SunOS 5.7/Solaris 2.7.

Use Fortran!  Seriously, on my Ultra1

auk% R CMD SHLIB foo.f
f77   -PIC  -O -c foo.f -o foo.o
foo.f:
        foo:

gcc -G  -o foo.so foo.o  -L/usr/local/lib -R/opt/SUNWspro/lib
-L/opt/SUNWspro/lib -L/opt/SUNWspro/WS6U1/lib -L/usr/ccs/lib -L/usr/lib
-lF77 -lM77 -lsunmath -lm -lcx

shows what's up, and with

dummy.f (empty)

auk% R CMD SHLIB foo.o dummy.f
f77   -PIC  -O -c dummy.f -o dummy.o
dummy.f:
gcc -G  -o foo.so foo.o dummy.o  -L/usr/local/lib -R/opt/SUNWspro/lib
-L/opt/SUNWspro/lib -L/opt/SUNWspro/WS6U1/lib -L/usr/ccs/lib -L/usr/lib
-lF77 -lM77 -lsunmath -lm -lcx

fixes it.

S-PLUS comes (usually) with support for ratfor: R does not.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Fri Sep 14 17:36:11 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Fri, 14 Sep 2001 17:36:11 +0200
Subject: [R] Supply linear constrain to optimizer
In-Reply-To: <x2vgilx6ee.fsf@blueberry.kubism.ku.dk>
Message-ID: <MABBLJDICACNFOLGIHJOIELHCFAA.phgrosje@ulb.ac.be>

>Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

>> If the boundary cases were of interest it would be nice to have an
>> optimizer that allows linear inequality bounds (that is to optimize over
a
>> simplex).

>Anyone looking for a project? I don't actually think this is
>particularly hard to do for someone who understands what the
>box-constrained algorithm already does. (That is a nearly vacuous
>statement, I know. Brian would be eligible, but hardly looking for a
>project...).

I have unfortunately absolutely *no* time (a PhD thesis and a R
package -PASSTEC- to finish for the end of the year), but I am _very, very_
interested by such a feature in R! A good starting place in the litterature:
Nocedal & Wright, 1999. Numerical optimization. Spriger, New York: chapters
12 & 13. A starting point in GPL code? Don't know, may be is it something
like this in Octave or Scilab???
Best,

Philippe Grosjean

>There are two approaches: Either allow the box to generalize into
>arbitrary intersections of half-spaces (I don't think that's the
>definition of a simplex?) , or allow linear *equality* restrictions to
>be added to the original optimization problem, so that you could

>max f(c1,c2,c3) subj. to
>c3 == c1 + c2
>with constr.
>0 < c1 < 1
>0 < c2 < 1
>c3 < 1

>--
>   O__  ---- Peter Dalgaard             Blegdamsvej 3
>  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
> (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
>~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Sep 14 18:27:39 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 14 Sep 2001 09:27:39 -0700 (PDT)
Subject: [R] "return" function
In-Reply-To: <D8FC432ED011D511B1D9001083FD45E70F35F7@norcom2.norcom.net>
Message-ID: <Pine.A41.4.33.0109140921570.130734-100000@homer03.u.washington.edu>

On Fri, 14 Sep 2001, Chris Marshall wrote:

> I tried to write a function like this
>
> f1 <- function(){
>    if (condition 1) return
>    if (condition 2) return
>    ...
>    if (condition 3) return
>
>    do more work
> }
>
> Where I am using return to exit the function prematurely when I detect
> conditions that warrant it.  Return doesn't seem to work this way.
>
> How should I do this?

You need to evaluate the function

 if (condition1) return()
 if (condition2) return()
etc

It's the same for all functions -- at the command line, for example, if
you type the name of a function without parentheses you just get the
source code for the function listed.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tebaldi at rap.ucar.edu  Fri Sep 14 19:56:33 2001
From: tebaldi at rap.ucar.edu (Claudia Tebaldi)
Date: Fri, 14 Sep 2001 11:56:33 -0600 (MDT)
Subject: [R] "return" function
In-Reply-To: <D8FC432ED011D511B1D9001083FD45E70F35F7@norcom2.norcom.net>
Message-ID: <Pine.GSO.4.05.10109141145280.29817-100000@virga.rap.ucar.edu>

as you say in your subject line, 'return' is a function
you may want to say something like 

...
if(condition) return(NULL)
...

or simply 
...
if(condition) return()
...

using just 'return' in your code makes R print out the function, not
execute it  

c






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Fri Sep 14 20:51:52 2001
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Fri, 14 Sep 2001 11:51:52 -0700
Subject: [R] rpart or Postscript problem?
Message-ID: <5.1.0.14.2.20010914113353.00ac5050@odin.pdx.edu>

I've run into another postscript/rpart problem unrelated to the issues I've 
mentioned in a previous query.

I'm using 1.3.1 on a Win2K box.

 >plotcp(some.rpart.object)

draws a very nice plot on the windows graphic device.  If I save this as a 
postscript file, either by opening a postscript device before calling 
plotcp, or by saving the graphics window as a postscript file, the 
resulting file is not properly interpreted by Adobe Illustrator 9.0.1.   In 
particular, Illustrator misaligns the legend at the top of the box, as well 
as the tick marks, and tick mark labels.  The x and y axis labels, legends 
and tick marks are fine.  If I save the graph as a metafile and then read 
it into Adobe Illustrator, the graphic is fine.

On the other hand, just to complicate matters, if I read the .ps file into 
Adobe Acrobat Distiller 4.05, the resulting pdf file is perfectly 
aligned.  (It also seems perfectly aligned under Ghostview 4.0 as well).

So, is this a problem with the postscript driver for R, a problem with 
plotcp, or inconsistency between Adobe applications?






=====================
Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department
Portland State University
1721 SW Broadway
Portland, Oregon 97201
email:  feldesmanm at pdx.edu
phone:  503-725-3081
fax:    503-725-3905
http://web.pdx.edu/~h1mf
PGP Key Available On Request
======================

"Anyway, no drug, not even alcohol, causes the fundamental ills of society.
If we're looking for the source of our troubles, we shouldn't test people
for drugs, we should test them for stupidity, ignorance, greed and love of
power."   P.J. O'Rourke

Powered by Optiplochoerus and Windows 2000 (scary isn't it?)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From calvinw at ces.clemson.edu  Fri Sep 14 22:36:35 2001
From: calvinw at ces.clemson.edu (Calvin L. Williams, Ph.D.)
Date: Fri, 14 Sep 2001 16:36:35 -0400
Subject: [R] Rai and Van Ryzin Model
Message-ID: <p05100302b7c81ac7b072@[130.127.112.242]>

R-users,
Has anyone implemented (coded) the Rai and Van Ryzin dose-response model from
their 1985 Biometrics paper. I'm trying to avoid re-inventing the wheel. If not
any hints on coding this would be greatly appreciated.

Thanks,
-- 
====================  Calvin L. Williams, Ph.D.  ====================
       Department of Mathematical Sciences, Clemson University
                              Box 340975 ,   0-323 Martin Hall
                        Clemson, South Carolina 29634-0975
        VOICE: (864) 656-5241  or leave message (864) 654-7187
                   EMAIL: calvinw at ces.clemson.edu
                                 FAX: 1-(864) 656-5230
          WWW:   http://www.ces.clemson.edu/~calvinw/
============================================================
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From froth at hms.harvard.edu  Fri Sep 14 23:21:54 2001
From: froth at hms.harvard.edu (Fritz Roth)
Date: Fri, 14 Sep 2001 17:21:54 -0400
Subject: [R] R Installation problem:  'make check' errors
Message-ID: <4.3.2.7.2.20010914163801.01bf4000@hms.harvard.edu>

Hi All,

I'm trying to install R from source on an Intel machine running Linux 
(RedHat 6.2) and I am getting errors (Error 139, Error 2, and Error 1) on 
'make check'.  Perhaps I've forgotten something basic?

---------------------------------------------------------------------
Here's what I've done:
/configure --prefix=/home1/froth/R --enable-R-shlib --with-tcltk --with-x
make
make clean
----------------------------------------------------------------------
The output from 'make clean' is as follows:
[froth at lama R-1.3.1]$ make check
make[1]: Entering directory `/home1/froth/R/src/R-1.3.1/tests'
make[2]: Entering directory `/home1/froth/R/src/R-1.3.1/tests'
make[3]: Entering directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
make[4]: Entering directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
make[4]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
make[4]: Entering directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
collecting examples for package `base' ...
make[5]: Entering directory `/home1/froth/R/src/R-1.3.1/src/library'
  >>> Building/Updating help pages for package `base'
      Formats: text example
make[5]: Leaving directory `/home1/froth/R/src/R-1.3.1/src/library'
running code in base-Ex.R ...
../../bin/R --vanilla < base-Ex.R > base-Ex.Rout
make[4]: *** [base-Ex.Rout] Error 139
make[4]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
make[3]: *** [test-Examples] Error 2
make[3]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
make[2]: *** [test-Examples] Error 2
make[2]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests'
make[1]: *** [test-all-basics] Error 1
make[1]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests'
make: *** [check] Error 2
[froth at lama R-1.3.1]$

Any advice would be greatly appreciated.

Thanks!
Fritz Roth

-------------------------------------------------
Frederick P. Roth, Asst. Professor
Harvard Medical School
Dept. of Biological Chemistry and Molecular Pharmacology
250 Longwood Avenue, SGMB-322, Boston, MA 02115
(617) 432-3551 phone            (617) 432-3557 FAX
froth at hms.harvard.edu           http://llama.med.harvard.edu
-------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Sep 14 23:42:15 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Sep 2001 23:42:15 +0200
Subject: [R] R Installation problem:  'make check' errors
In-Reply-To: <4.3.2.7.2.20010914163801.01bf4000@hms.harvard.edu>
References: <4.3.2.7.2.20010914163801.01bf4000@hms.harvard.edu>
Message-ID: <x27kv18n60.fsf@blueberry.kubism.ku.dk>

Fritz Roth <froth at hms.harvard.edu> writes:

> Hi All,
> 
> I'm trying to install R from source on an Intel machine running Linux
> (RedHat 6.2) and I am getting errors (Error 139, Error 2, and Error 1)
> on 'make check'.  Perhaps I've forgotten something basic?
> 
> ---------------------------------------------------------------------
> Here's what I've done:
> /configure --prefix=/home1/froth/R --enable-R-shlib --with-tcltk --with-x
> make
> make clean
> ----------------------------------------------------------------------
> The output from 'make clean' is as follows:
> [froth at lama R-1.3.1]$ make check
> make[1]: Entering directory `/home1/froth/R/src/R-1.3.1/tests'
> make[2]: Entering directory `/home1/froth/R/src/R-1.3.1/tests'
> make[3]: Entering directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
> make[4]: Entering directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
> make[4]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
> make[4]: Entering directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
> collecting examples for package `base' ...
> make[5]: Entering directory `/home1/froth/R/src/R-1.3.1/src/library'
>   >>> Building/Updating help pages for package `base'
>       Formats: text example
> make[5]: Leaving directory `/home1/froth/R/src/R-1.3.1/src/library'
> running code in base-Ex.R ...
> ../../bin/R --vanilla < base-Ex.R > base-Ex.Rout
> make[4]: *** [base-Ex.Rout] Error 139
> make[4]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
> make[3]: *** [test-Examples] Error 2
> make[3]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
> make[2]: *** [test-Examples] Error 2
> make[2]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests'
> make[1]: *** [test-all-basics] Error 1
> make[1]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests'
> make: *** [check] Error 2
> [froth at lama R-1.3.1]$
> 
> Any advice would be greatly appreciated.

Hmm. The compilers of 6.2 aren't all that hot (and are known to break
the next R version) but I thought that 1.3.x would work.

The clue to what might be wrong comes at the end of the base-Ex.Rout
file  (except if file buffering causes the output to be lost, but I
think the error looks different then), so that's what you should show
us. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From froth at hms.harvard.edu  Sat Sep 15 01:16:15 2001
From: froth at hms.harvard.edu (Fritz Roth)
Date: Fri, 14 Sep 2001 19:16:15 -0400
Subject: [R] R Installation problem:  'make check' errors
In-Reply-To: <20010914174046.A22392@jimmy.harvard.edu>
References: <4.3.2.7.2.20010914163801.01bf4000@hms.harvard.edu>
 <4.3.2.7.2.20010914163801.01bf4000@hms.harvard.edu>
Message-ID: <4.3.2.7.2.20010914174614.01a81de0@hms.harvard.edu>

Robert and Peter,

Thanks for the quick feedback.

As you both supposed, I did actually use 'make check' previously even 
though I said 'make clean' in my email for some strange reason.

OK.. so I used "./configure --enable-R-shlib" as suggested by Robert, and 
it did find tcl/tk and X libraries.

I get the same 'make check' output as before (Error 139 on 
'base-Ex.Rout').  Also I noticed there was a core dump in ./tests/Examples.

Per your suggestions I looked at the file "base-Ex.Rout" to get a clue 
about the first error (there wasn't any file called 
"base-Ex.Rout.fail").  The tail end of 'base-Ex.Rout' is below:
-------------------------------------------------------------------------------------------------------------
[froth at lama Examples]$
[froth at lama Examples]$ tail --lines=40 base-Ex.Rout
lm(formula = Employed ~ . - Population - GNP.deflator, data = longley)

Residuals:
      Min       1Q   Median       3Q      Max
-0.42165 -0.12457 -0.02416  0.08369  0.45268

Coefficients:
                Estimate Std. Error t value Pr(>|t|)
(Intercept)  -3.599e+03  7.406e+02  -4.859 0.000503 ***
GNP          -4.019e-02  1.647e-02  -2.440 0.032833 *
Unemployed   -2.088e-02  2.900e-03  -7.202 1.75e-05 ***
Armed.Forces -1.015e-02  1.837e-03  -5.522 0.000180 ***
Year          1.887e+00  3.828e-01   4.931 0.000449 ***
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1

Residual standard error: 0.2794 on 11 degrees of freedom
Multiple R-Squared: 0.9954,     Adjusted R-squared: 0.9937
F-statistic: 589.8 on 4 and 11 DF,  p-value: 9.5e-13

 >  for(wh in 1:4) plot(lm.fm2, which = wh)
 >
 >
 > ## Keywords: 'hplot', 'regression'.
 >
 >
 > par(get("par.postscript", env = .CheckExEnv))
 > rm(list = ls(all = TRUE)); .Random.seed <- c(0,rep(7654,3))
 > ..nameEx <- "plot.table"
 > ###--- >>> `plot.table' <<<----- Plot Methods for `table' Objects
 >
 >       ## alias         help(plot.table)
 >
 > ##___ Examples ___:
 >
 > ## 1-d tables
 > (Poiss.tab <- table(N = rpois(200, lam= 5)))
N
  0  1  2  3  4  5  6  7  8  9 10 11 18
  1  4 14 21 46 40 24 14 19 11  3  2  1
[froth at lama Examples]$


------------------------------------------------------------------------------------------

Just for kicks I ran make check again, and got farther along before another 
Error 139:

------------------------------------------------------------------



[froth at lama R-1.3.1]$ make check
make[1]: Entering directory `/home1/froth/R/src/R-1.3.1/tests'
make[2]: Entering directory `/home1/froth/R/src/R-1.3.1/tests'
make[3]: Entering directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
make[4]: Entering directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
make[4]: `Makedeps' is up to date.
make[4]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
make[4]: Entering directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
collecting examples for package `ctest' ...
make[5]: Entering directory `/home1/froth/R/src/R-1.3.1/src/library'
  >>> Building/Updating help pages for package `ctest'
      Formats: text example
make[5]: Leaving directory `/home1/froth/R/src/R-1.3.1/src/library'
running code in ctest-Ex.R ...
./../bin/R --vanilla < ctest-Ex.R > ctest-Ex.Rout
collecting examples for package `eda' ...
make[5]: Entering directory `/home1/froth/R/src/R-1.3.1/src/library'
  >>> Building/Updating help pages for package `eda'
      Formats: text example
make[5]: Leaving directory `/home1/froth/R/src/R-1.3.1/src/library'
running code in eda-Ex.R ...
../../bin/R --vanilla < eda-Ex.R > eda-Ex.Rout
collecting examples for package `lqs' ...
make[5]: Entering directory `/home1/froth/R/src/R-1.3.1/src/library'
  >>> Building/Updating help pages for package `lqs'
      Formats: text example
make[5]: Leaving directory `/home1/froth/R/src/R-1.3.1/src/library'
running code in lqs-Ex.R ...
../../bin/R --vanilla < lqs-Ex.R > lqs-Ex.Rout
collecting examples for package `modreg' ...
make[5]: Entering directory `/home1/froth/R/src/R-1.3.1/src/library'
  >>> Building/Updating help pages for package `modreg'
      Formats: text example
make[5]: Leaving directory `/home1/froth/R/src/R-1.3.1/src/library'
running code in modreg-Ex.R ...
../../bin/R --vanilla < modreg-Ex.R > modreg-Ex.Rout
collecting examples for package `mva' ...
make[5]: Entering directory `/home1/froth/R/src/R-1.3.1/src/library'
  >>> Building/Updating help pages for package `mva'
      Formats: text example
make[5]: Leaving directory `/home1/froth/R/src/R-1.3.1/src/library'
running code in mva-Ex.R ...
../../bin/R --vanilla < mva-Ex.R > mva-Ex.Rout
make[4]: *** [mva-Ex.Rout] Error 139
make[4]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
make[3]: *** [test-Examples] Error 2
make[3]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
make[2]: *** [test-Examples] Error 2
make[2]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests'
make[1]: *** [test-all-basics] Error 1
make[1]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests'
make: *** [check] Error 2
[froth at lama R-1.3.1]$



------------------------------------------------------------------------------------------------

Here's a look at 'mva-Ex.Rout':

------------------------------------------------------------------------------------------------



[froth at lama Examples]$ tail -n 40 mva-Ex.Rout

R : Copyright 2001, The R Development Core Team
Version 1.3.1  (2001-08-31)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

[froth at lama Examples]$
------------------------------------------------------------------------------------







At 05:40 PM 9/14/2001 -0400, Robert Gentleman wrote:
>On Fri, Sep 14, 2001 at 05:21:54PM -0400, Fritz Roth wrote:
> > Hi All,
> >
> > I'm trying to install R from source on an Intel machine running Linux
> > (RedHat 6.2) and I am getting errors (Error 139, Error 2, and Error 1) on
> > 'make check'.  Perhaps I've forgotten something basic?
> >
> > ---------------------------------------------------------------------
> > Here's what I've done:
> > /configure --prefix=/home1/froth/R --enable-R-shlib --with-tcltk --with-x
> > make
> > make clean
>  Hi Fritz,
>
>  You should just be able to do
>  ./configure --enable-R-shlib ; make
>  then I presume it's
>  make check
>  (rather than make clean)
>
>  If tcltk is there it will get found (it might not be in the right
>  place etc).
>
>  I recommend going:
>   make distclean
>   ./configure --enable-R-shlib
>
>  (now look at what it found -- if it doesn't find either X or tcltk
>  you need to either a: install them or b: tell R where they are
>  (locate can help).
>
>   Next, do
>   make
>
>   then
>    make check
>
>   if it still fails then look in tests/Examples/whatevercause the
>   first error
>
>   in your case it will be in  base-Ex.Rout, there should be a file
>   called base-Ex.Rout.fail (or something similar).
>   look at the last few lines in that, it will tell you what failed and
>   then we can proceed from there.
>   regards
>     Robert
>
>
> > ----------------------------------------------------------------------
> > The output from 'make clean' is as follows:
> > [froth at lama R-1.3.1]$ make check
> > make[1]: Entering directory `/home1/froth/R/src/R-1.3.1/tests'
> > make[2]: Entering directory `/home1/froth/R/src/R-1.3.1/tests'
> > make[3]: Entering directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
> > make[4]: Entering directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
> > make[4]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
> > make[4]: Entering directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
> > collecting examples for package `base' ...
> > make[5]: Entering directory `/home1/froth/R/src/R-1.3.1/src/library'
> >   >>> Building/Updating help pages for package `base'
> >       Formats: text example
> > make[5]: Leaving directory `/home1/froth/R/src/R-1.3.1/src/library'
> > running code in base-Ex.R ...
> > ../../bin/R --vanilla < base-Ex.R > base-Ex.Rout
> > make[4]: *** [base-Ex.Rout] Error 139
> > make[4]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
> > make[3]: *** [test-Examples] Error 2
> > make[3]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
> > make[2]: *** [test-Examples] Error 2
> > make[2]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests'
> > make[1]: *** [test-all-basics] Error 1
> > make[1]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests'
> > make: *** [check] Error 2
> > [froth at lama R-1.3.1]$
> >
> > Any advice would be greatly appreciated.
> >
> > Thanks!
> > Fritz Roth
> >
> > -------------------------------------------------
> > Frederick P. Roth, Asst. Professor
> > Harvard Medical School
> > Dept. of Biological Chemistry and Molecular Pharmacology
> > 250 Longwood Avenue, SGMB-322, Boston, MA 02115
> > (617) 432-3551 phone            (617) 432-3557 FAX
> > froth at hms.harvard.edu           http://llama.med.harvard.edu
> > -------------------------------------------------
> >
> > 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > 
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
>--
>+---------------------------------------------------------------------------+
>| Robert Gentleman                 phone : (617) 632-5250                   |
>| Associate Professor              fax:   (617)  632-2444                   |
>| Department of Biostatistics      office: M1B28
>| Harvard School of Public Health  email: rgentlem at jimmy.dfci.harvard.edu   |
>+---------------------------------------------------------------------------+

Fritz Roth <froth at hms.harvard.edu> writes:

 > Hi All,
 >
 > I'm trying to install R from source on an Intel machine running Linux
 > (RedHat 6.2) and I am getting errors (Error 139, Error 2, and Error 1)
 > on 'make check'.  Perhaps I've forgotten something basic?
 >
 > ---------------------------------------------------------------------
 > Here's what I've done:
 > /configure --prefix=/home1/froth/R --enable-R-shlib --with-tcltk --with-x
 > make
 > make clean
 > ----------------------------------------------------------------------
 > The output from 'make clean' is as follows:
 > [froth at lama R-1.3.1]$ make check
 > make[1]: Entering directory `/home1/froth/R/src/R-1.3.1/tests'
 > make[2]: Entering directory `/home1/froth/R/src/R-1.3.1/tests'
 > make[3]: Entering directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
 > make[4]: Entering directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
 > make[4]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
 > make[4]: Entering directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
 > collecting examples for package `base' ...
 > make[5]: Entering directory `/home1/froth/R/src/R-1.3.1/src/library'
 >   >>> Building/Updating help pages for package `base'
 >       Formats: text example
 > make[5]: Leaving directory `/home1/froth/R/src/R-1.3.1/src/library'
 > running code in base-Ex.R ...
 > ../../bin/R --vanilla < base-Ex.R > base-Ex.Rout
 > make[4]: *** [base-Ex.Rout] Error 139
 > make[4]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
 > make[3]: *** [test-Examples] Error 2
 > make[3]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
 > make[2]: *** [test-Examples] Error 2
 > make[2]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests'
 > make[1]: *** [test-all-basics] Error 1
 > make[1]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests'
 > make: *** [check] Error 2
 > [froth at lama R-1.3.1]$
 >
 > Any advice would be greatly appreciated.

Hmm. The compilers of 6.2 aren't all that hot (and are known to break
the next R version) but I thought that 1.3.x would work.

The clue to what might be wrong comes at the end of the base-Ex.Rout
file  (except if file buffering causes the output to be lost, but I
think the error looks different then), so that's what you should show
us.

--
    O__  ---- Peter Dalgaard             Blegdamsvej 3
   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-------------------------------------------------
Frederick P. Roth, Asst. Professor
Harvard Medical School
Dept. of Biological Chemistry and Molecular Pharmacology
250 Longwood Avenue, SGMB-322, Boston, MA 02115
(617) 432-3551 phone            (617) 432-3557 FAX
froth at hms.harvard.edu           http://llama.med.harvard.edu
-------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Sep 15 12:03:14 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Sep 2001 12:03:14 +0200
Subject: [R] R Installation problem:  'make check' errors
In-Reply-To: <4.3.2.7.2.20010914174614.01a81de0@hms.harvard.edu>
References: <4.3.2.7.2.20010914163801.01bf4000@hms.harvard.edu>
	<4.3.2.7.2.20010914163801.01bf4000@hms.harvard.edu>
	<4.3.2.7.2.20010914174614.01a81de0@hms.harvard.edu>
Message-ID: <x2vgikg49p.fsf@blueberry.kubism.ku.dk>

Fritz Roth <froth at hms.harvard.edu> writes:

> Robert and Peter,
> 
> Thanks for the quick feedback.
> 
> As you both supposed, I did actually use 'make check' previously even
> though I said 'make clean' in my email for some strange reason.
> 
> OK.. so I used "./configure --enable-R-shlib" as suggested by Robert,
> and it did find tcl/tk and X libraries.
> 
> I get the same 'make check' output as before (Error 139 on
> 'base-Ex.Rout').  Also I noticed there was a core dump in
> ./tests/Examples.
> 
> Per your suggestions I looked at the file "base-Ex.Rout" to get a clue
> about the first error (there wasn't any file called
> "base-Ex.Rout.fail").  The tail end of 'base-Ex.Rout' is below:
....
> ------------------------------------------------------------------------------------------
> 
> Just for kicks I ran make check again, and got farther along before
> another Error 139:

Yes, that is a bug in the make process. It is not re-running the
failed check of base-Ex.R. I think we got that fixed in 1.4(-pre).

> ../../bin/R --vanilla < modreg-Ex.R > modreg-Ex.Rout
> collecting examples for package `mva' ...
> make[5]: Entering directory `/home1/froth/R/src/R-1.3.1/src/library'
>   >>> Building/Updating help pages for package `mva'
>       Formats: text example
> make[5]: Leaving directory `/home1/froth/R/src/R-1.3.1/src/library'
> running code in mva-Ex.R ...
> ../../bin/R --vanilla < mva-Ex.R > mva-Ex.Rout
> make[4]: *** [mva-Ex.Rout] Error 139
> make[4]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
> make[3]: *** [test-Examples] Error 2
> make[3]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests/Examples'
> make[2]: *** [test-Examples] Error 2
> make[2]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests'
> make[1]: *** [test-all-basics] Error 1
> make[1]: Leaving directory `/home1/froth/R/src/R-1.3.1/tests'
> make: *** [check] Error 2
> [froth at lama R-1.3.1]$

Hmmmm. Is mva the first of those packages that use Fortran? There are
known issues with Fortran dynamic libraries and 6.2, and the
--enable-shlib might trigger a problem where it normally doesn't.

> [froth at lama Examples]$ tail -n 40 mva-Ex.Rout
> 
> R : Copyright 2001, The R Development Core Team
> Version 1.3.1  (2001-08-31)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type `license()' or `licence()' for distribution details.
> 
> R is a collaborative project with many contributors.
> Type `contributors()' for more information.
> 
> Type `demo()' for some demos, `help()' for on-line help, or
> `help.start()' for a HTML browser interface to help.
> Type `q()' to quit R.

This is incomplete because you get a fatal error (triggering the core
dump). What happens if you go to the tests/Examples directory and type

../../bin/R --vanilla < mva-Ex.R

?

My guess is that you get as far as library('mva'), and if you do the
same with base-Ex.R you'll see the crash happening at a similar spot.

You can also try running under gdb ("../../bin/R -d gdb" then "run
--vanilla < mva-Ex.R") and see if the crash doesn't happen inside
dlopen.  

Either way, you should probably upgrade the compiler suite (or the OS)
or maybe try using f2c.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Sat Sep 15 14:39:46 2001
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Sat, 15 Sep 2001 14:39:46 +0200 (MEST)
Subject: [R] Command-line history not working...
Message-ID: <Pine.GSO.4.10.10109151406270.19116-100000@speed.maths.lth.se>

I am trying to build [R] v1.3.1 *locally* on a Sun Solaris 8 machine.
One problem I am currently struggeling with is to make the command-line
history function to work. I have installed GNU readline version 4.2
(latest version). Looking at the "config.log" file it seems that all
readline related checks, e.g. "readline/history.h", passes (they did not
before installing GNU readline).

In [R] almost all GNU readline command-line editing functions work, but I
can't get the history functions (Ctrl+P, Ctrl+N or arrow up and down) to
work. I am missing something, but what? Could you please refer me to a
solution.

Thanks

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences 
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Sat Sep 15 10:55:49 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Sat, 15 Sep 2001 10:55:49 +0200
Subject: [R] Dynamic loading problem.
In-Reply-To: <Pine.LNX.4.31.0109141617060.1757-100000@gannet.stats>
References: <200109141513.MAA07223@gelfand.math.unb.ca>
	<Pine.LNX.4.31.0109141617060.1757-100000@gannet.stats>
Message-ID: <15267.6037.285327.543783@mithrandir.hornik.net>

>>>>> Prof Brian Ripley writes:

> On Fri, 14 Sep 2001, Rolf Turner wrote:

>> I'm having a dynamic loading problem that seems to be
>> caused by exponentiation (the ** operator in Fortran/ratfor).
>> 
>> This can be illustrated by the following toy example:
>> 
>> ===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===
>> % cat foo.r
>> subroutine foo(x,n)
>> x = x**n
>> return
>> end
>> 
>> % f77 -c foo.r
>> /tmp/ratfor.06661.0.f:
>> foo:
>> % R CMD SHLIB -o foo.so foo.o
>> gcc -G  -o foo.so foo.o  -L/usr/local/lib
>> % R -q
>> 
>> > dyn.load("foo.so")
>> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>> unable to load shared library "/home1/faculty/rolf/Traal/Temp/foo.so":
>> ld.so.1: /usr/local/lib/R/bin/R.bin: fatal: relocation error: file /home1/faculty/rolf/Traal/Temp/foo.so: symbol __pow_ri: referenced symbol not found
>> > q()
>> ===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===
>> 
>> I presume/hope that by handing SHLIB some other flags or by
>> specifying some environment variable or other, or by ..., I should
>> be able to get dyn.load() to find ``__pow_ri''.
>> 
>> The same problem does NOT arise when I use Splus3.4 SHLIB and
>> dyn.load.shared() in Splus3.4, so ``__pow_ri'' must be around
>> somewhere.
>> 
>> Can anyone tell me (in simple, prescriptive, explicit terms) what
>> I need to do to alleviate this problem?
>> 
>> I'm running R-1.3.1 on a Sun Sparc Ultra-5, under SunOS 5.7/Solaris 2.7.

> Use Fortran!  Seriously, on my Ultra1

> auk% R CMD SHLIB foo.f
> f77   -PIC  -O -c foo.f -o foo.o
> foo.f:
>         foo:

> gcc -G  -o foo.so foo.o  -L/usr/local/lib -R/opt/SUNWspro/lib
> -L/opt/SUNWspro/lib -L/opt/SUNWspro/WS6U1/lib -L/usr/ccs/lib -L/usr/lib
> -lF77 -lM77 -lsunmath -lm -lcx

> shows what's up, and with

> dummy.f (empty)

> auk% R CMD SHLIB foo.o dummy.f
> f77   -PIC  -O -c dummy.f -o dummy.o
> dummy.f:
> gcc -G  -o foo.so foo.o dummy.o  -L/usr/local/lib -R/opt/SUNWspro/lib
> -L/opt/SUNWspro/lib -L/opt/SUNWspro/WS6U1/lib -L/usr/ccs/lib -L/usr/lib
> -lF77 -lM77 -lsunmath -lm -lcx

> fixes it.

> S-PLUS comes (usually) with support for ratfor: R does not.

This could be added, but I am not sure if it is worth it.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Sat Sep 15 15:55:41 2001
From: pauljohn at ukans.edu (pauljohn@ukans.edu)
Date: Sat, 15 Sep 2001 08:55:41 -0500
Subject: [R] nonlinear fitting when both x and y having measurement error?
References: <20010912154229F.ekato@ees.hokudai.ac.jp>
Message-ID: <3BA35DDD.991337C6@ukans.edu>

I've seen the answers that point in the measurement model
direction, but I wonder if there is not a more direct approach.

In my copy of Pindyck and Rubinfeld's Econometric Models and
Economic Forecasts, it outlines an instrumental variable
approach in which the x with error is replaced by an instrument,
a predicted value from an auxiliary model in which x is
regressed on other exogenous/predetermined variables.  They
prove the parameter estimates are consistent, which (I believe)
is about the best we can hope for. 

One advantage of that strategy is that one need not assume a
specific distribution for the error terms involved, only
something general like E(e)=0 and constant variance.  The ML
approach will require the choice of a precise distribution. Not
so? 

They don't show that approach works when the relationship
between x and y is nonlinear.  Come to think of it, I don't
recall a treatment of IV applications for nonlinear equations.

This is a great question and I'm interested to hear more about
how the project works out in the end.
pj
Etsushi Kato wrote:
> 
> Dear r-help,
> 
> I want to conduct nonlinear fitting to a data frame having x and y
> variables.  Because both x and y have measurement error, I want to
> include error term of x variable in the model.  I'm not sure but I
> think ordinary nls model only consider error term of y variable.

-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science           
http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Sep 15 16:44:49 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 15 Sep 2001 15:44:49 +0100 (BST)
Subject: [R] nonlinear fitting when both x and y having measurement error?
In-Reply-To: <3BA35DDD.991337C6@ukans.edu>
Message-ID: <Pine.GSO.4.31.0109151513040.3896-100000@toucan.stats>

On Sat, 15 Sep 2001 pauljohn at ukans.edu wrote:

> I've seen the answers that point in the measurement model
> direction, but I wonder if there is not a more direct approach.

> In my copy of Pindyck and Rubinfeld's Econometric Models and
> Economic Forecasts, it outlines an instrumental variable
> approach in which the x with error is replaced by an instrument,
> a predicted value from an auxiliary model in which x is
> regressed on other exogenous/predetermined variables.  They
> prove the parameter estimates are consistent, which (I believe)
> is about the best we can hope for.

It's an asymptotic notion.  It may be better to be a little biased and a
lot more precise in small samples.

> One advantage of that strategy is that one need not assume a
> specific distribution for the error terms involved, only
> something general like E(e)=0 and constant variance.  The ML
> approach will require the choice of a precise distribution. Not
> so?

Not so!  There are sum-of-squares formulations and those were thought of
first (in the 19th century).  If the error variances are known to be
constant and known to be equal, the MLE under normality minimizes the sum
of squared perpendicular distances to the curve.  ML theory helps when
those assumptions are not true.

But these arguments are slippery. Least-squares regression does not assume
a normal model.  But it is optimal for a normal model (and for nothing
else), and seriously sub-optimal for very small departures from the normal
model (enter Robust Statistics).  So you can only justify using it if
normality has been tested to be a plausible working assumption and the
damaging departures have been guarded against. Or of course, if no better
tools are available.  That's why I believe projects like are R so
important: to make better tools available.


One major problem with the IV approach as I understand it is that you need
a good instrument. Both in this problem (allometric relationship of
biological data, in my understanding) and the ones I am familiar with
(calibration in chemistry, line-fitting in radio astronomy) I do not think
there are any plausible instruments: everything known is `known' with
considerable error, and all errors on one unit will be correlated.


> They don't show that approach works when the relationship
> between x and y is nonlinear.  Come to think of it, I don't
> recall a treatment of IV applications for nonlinear equations.
>
> This is a great question and I'm interested to hear more about
> how the project works out in the end.
> pj
> Etsushi Kato wrote:
> >
> > Dear r-help,
> >
> > I want to conduct nonlinear fitting to a data frame having x and y
> > variables.  Because both x and y have measurement error, I want to
> > include error term of x variable in the model.  I'm not sure but I
> > think ordinary nls model only consider error term of y variable.
>
> --
> Paul E. Johnson                       email: pauljohn at ukans.edu
> Dept. of Political Science
> http://lark.cc.ukans.edu/~pauljohn
> University of Kansas                  Office: (785) 864-9086
> Lawrence, Kansas 66045                FAX: (785) 864-5700
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Sat Sep 15 16:44:58 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Sat, 15 Sep 2001 10:44:58 -0400
Subject: [R] Rai and Van Ryzin Model
Message-ID: <OF60FC756C.6A4F42E1-ON85256AC8.0050AD4A@rtp.epa.gov>


Not (yet) in R, but EPA's BMDS software (Windows only) will fit this model.
See

http://www.epa.gov/ncea/bmds.htm

You may contact me if you have questions.

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


                                                                                                                                               
                    "Calvin L. Williams,                                                                                                       
                    Ph.D."                      To:     r-help at stat.math.ethz.ch                                                               
                    <calvinw at ces.clemson        cc:                                                                                            
                    .edu>                       Subject:     [R] Rai and Van Ryzin Model                                                       
                    Sent by:                                                                                                                   
                    owner-r-help at stat.ma                                                                                                       
                    th.ethz.ch                                                                                                                 
                                                                                                                                               
                                                                                                                                               
                    09/14/01 04:36 PM                                                                                                          
                                                                                                                                               
                                                                                                                                               




R-users,
Has anyone implemented (coded) the Rai and Van Ryzin dose-response model
from
their 1985 Biometrics paper. I'm trying to avoid re-inventing the wheel. If
not
any hints on coding this would be greatly appreciated.

Thanks,
--
====================  Calvin L. Williams, Ph.D.  ====================
       Department of Mathematical Sciences, Clemson University
                              Box 340975 ,   0-323 Martin Hall
                        Clemson, South Carolina 29634-0975
        VOICE: (864) 656-5241  or leave message (864) 654-7187
                   EMAIL: calvinw at ces.clemson.edu
                                 FAX: 1-(864) 656-5230
          WWW:   http://www.ces.clemson.edu/~calvinw/
============================================================
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Sat Sep 15 20:02:56 2001
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Sat, 15 Sep 2001 14:02:56 -0400
Subject: [R] Tk version of data.entry?
Message-ID: <5429125E11E4D411AF7300805FE603A8014CEE17@groexmbcr02.pfizer.com>


Has anyone taken the time to put together a Tk version of the data.entry()
function?

-Greg


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Sep 15 21:12:05 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Sep 2001 21:12:05 +0200
Subject: [R] Command-line history not working...
In-Reply-To: <Pine.GSO.4.10.10109151406270.19116-100000@speed.maths.lth.se>
References: <Pine.GSO.4.10.10109151406270.19116-100000@speed.maths.lth.se>
Message-ID: <x2lmjgi7zu.fsf@blueberry.kubism.ku.dk>

Henrik Bengtsson <hb at maths.lth.se> writes:

> I am trying to build [R] v1.3.1 *locally* on a Sun Solaris 8 machine.
> One problem I am currently struggeling with is to make the command-line
> history function to work. I have installed GNU readline version 4.2
> (latest version). Looking at the "config.log" file it seems that all
> readline related checks, e.g. "readline/history.h", passes (they did not
> before installing GNU readline).
> 
> In [R] almost all GNU readline command-line editing functions work, but I
> can't get the history functions (Ctrl+P, Ctrl+N or arrow up and down) to
> work. I am missing something, but what? Could you please refer me to a
> solution.
> 
> Thanks
> 
> Henrik Bengtsson

Also this one?

checking for rl_callback_read_char in -lreadline..

Two suggestions. One is that you forgot to remove config.cache so that
the test lingers on from before you installed readline. The
other is more insidious, and bit me on Solaris 7 recently using
tools from www.sunfreeware.com: Apparently the shared readline libs
that they ship is incompatible with gcc-3.0.1 so that the test fails
even though readline actually does have rl_callback_read_char. I had
to remove the shared version of the library to make it take.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmagalhaes at eng.uminho.pt  Sun Sep 16 17:01:44 2001
From: jmagalhaes at eng.uminho.pt (Jorge Magalhaes)
Date: Sun, 16 Sep 2001 16:01:44 +0100 (WEST)
Subject: [R] lattice package and postscript
In-Reply-To: <6r4rq810iu.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.LNX.4.21.0109161600090.1710-100000@linux.local>

Hi:

I tried to make some yxplot plots in the postscript format. But every time i tried to do it my chart is corrupted. 
In the X11 window the plot is good, but in the postscript file the axes, title, border and xlab is missing.  I think i need to change the height and width, but i don't know  how a can do it.

Have a nice day

Thanks very much

Jorge M.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From froth at hms.harvard.edu  Sun Sep 16 19:14:46 2001
From: froth at hms.harvard.edu (Fritz Roth)
Date: Sun, 16 Sep 2001 13:14:46 -0400
Subject: [R] R Installation problem:  'make check' errors
Message-ID: <4.3.2.7.2.20010916130044.01bf3b28@hms.harvard.edu>

Hi All,

OK...  so it looks like '--enable-shlib' option wasn't the problem, as I've 
now done:
'make distclean'
'configure'  [no options selected]
'make'
'make check'

and I get the same error on 'make check':
----------------------------------------------------------------
../../bin/R --vanilla < base-Ex.R > base-Ex.Rout
make[4]: *** [base-Ex.Rout] Error 139
---------------------------------------------------------

following your advice, I did
'../../bin/R -d gdb'
and
'r --vanilla < base-Ex.R > base-Ex.Rout'
with the following results:

----------------------------------------------------------


[froth at lama R-1.3.1]$ cd tests/Examples/
[froth at lama Examples]$ ls
Makedeps  Makefile.in  base-Ex.R     base-Examples.ps
Makefile  all.Rdata    base-Ex.Rout
[froth at lama Examples]$ ../../bin/R -d gdb
GNU gdb 19991004
Copyright 1998 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you are
welcome to change it and/or distribute copies of it under certain conditions.
Type "show copying" to see the conditions.
There is absolutely no warranty for GDB.  Type "show warranty" for details.
This GDB was configured as "i386-redhat-linux"...
(gdb) r --vanilla < base-Ex.R > base-Ex.Rout
Starting program: /home1/froth/R/src/R-1.3.1/bin/R.bin --vanilla < 
base-Ex.R > base-Ex.Rout
BUG IN DYNAMIC LINKER ld.so: ../sysdeps/i386/dl-machine.h: 380: 
elf_machine_rel: Assertion `! "unexpected dynamic reloc type"' failed!

Program exited with code 0177.
(gdb)
(gdb)

-------------------------------------------------------

after running 'make check' again to proceed further to the next error:

------------------------------------------------
../../bin/R --vanilla < mva-Ex.R > mva-Ex.Rout
make[4]: *** [mva-Ex.Rout] Error 139
-----------------------------------------------------

  I also tried running mva-Ex.R within gdb:

----------------------------------------------------
(gdb) r --vanilla < mva-Ex.R > mva-Ex.Rout
Starting program: /home1/froth/R/src/R-1.3.1/bin/R.bin --vanilla < 
mva-Ex.R > mva-Ex.Rout

Program received signal SIGSEGV, Segmentation fault.
strcmp (p1=0x522e73 <Address 0x522e73 out of bounds>, p2=0x40010c27 "")
     at ../sysdeps/generic/strcmp.c:38
38      ../sysdeps/generic/strcmp.c: No such file or directory.
(gdb)
---------------------------------------------------
unless anyone can suggest a simpler fix to these problems, I'll assume that 
RedHat Linux 6.2 is at fault as suggested earlier and try R installation 
again after an OS upgrade  (planned in the very near future anyway)

Thanks for your advice!
Fritz

-------------------------------------------------
Frederick P. Roth, Asst. Professor
Harvard Medical School
Dept. of Biological Chemistry and Molecular Pharmacology
250 Longwood Avenue, SGMB-322, Boston, MA 02115
(617) 432-3551 phone            (617) 432-3557 FAX
froth at hms.harvard.edu           http://llama.med.harvard.edu
-------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sun Sep 16 19:30:36 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 16 Sep 2001 19:30:36 +0200
Subject: [R] lattice package and postscript
References: <Pine.LNX.4.21.0109161600090.1710-100000@linux.local>
Message-ID: <3BA4E1BC.77048977@statistik.uni-dortmund.de>



Jorge Magalhaes wrote:
> 
> Hi:
> 
> I tried to make some yxplot plots in the postscript format. But every time i tried to do it my chart is corrupted.
> In the X11 window the plot is good, but in the postscript file the axes, title, border and xlab is missing.  I think i need to change the height and width, but i don't know  how a can do it.

Use
  trellis.device("postscript", ...)

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Sun Sep 16 19:30:41 2001
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Sun, 16 Sep 2001 10:30:41 -0700 (PDT)
Subject: Fwd: Re: [R] lattice package and postscript
Message-ID: <20010916173041.21123.qmail@web13901.mail.yahoo.com>


Did you remember to start the postscript device
using 

> trellis.device(postscript, file = "output.ps") ?


--- Jorge Magalhaes <jmagalhaes at eng.uminho.pt>
wrote:
> > Hi:
> > 
> > I tried to make some yxplot plots in the
> postscript
> > format. But every time i tried to do it my chart
> is
> > corrupted. 
> > In the X11 window the plot is good, but in the
> > postscript file the axes, title, border and xlab
> is
> > missing.  I think i need to change the height and
> > width, but i don't know  how a can do it.
> > 
> > Have a nice day
> > 
> > Thanks very much
> > 
> > Jorge M.


__________________________________________________
Terrorist Attacks on U.S. - How can you help?
Donate cash, emergency relief information
http://dailynews.yahoo.com/fc/US/Emergency_Information/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tim.hannig at gopenguin.com  Mon Sep 17 09:10:27 2001
From: tim.hannig at gopenguin.com (Tim Hannig)
Date: Mon, 17 Sep 2001 02:10:27 -0500
Subject: [R] variance of a linear model
Message-ID: <web-2570063@MegaMac.com>

Hi,

this question may be off topic:

the unbiased estimator of the variance of the errors in a
linear regression moedel with p coefficients is:

	sigma2=sum((y-yi)^2)/(length(y)-p-1)

But what if i estimate transformations of the dependent an
independent variables (e.g. Box-Cox) too? May I calculate
the variance using

	sigma2=sum((y-yi)^2)/(length(y)-2*p-1)

or should I use the first formula then?

Thank you,
Tim
=================================================
Where Do You Want To Go Tomorrow?
http://www.GoPenguin.com
GoPenguin Network Inc.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sristatistician at yahoo.com  Mon Sep 17 10:10:10 2001
From: sristatistician at yahoo.com (srinivasa raghavan)
Date: Mon, 17 Sep 2001 01:10:10 -0700 (PDT)
Subject: [R] tree model large dataset -error
Message-ID: <20010917081010.347.qmail@web20106.mail.yahoo.com>

Hi R-users,

     I was trying to do CART using the tree package
for a dataset with 6 groups and 1000 predictor
variables, number of observations 5000. The following
error message is generated

Error:cannot allocate vector of size 3910 kb
In addition: warning message:
Reached total allocation of 125Mb:

I am using R 1.3 for Windows 98 in a pII with 128
MBRAM

    If RAM should be increased what is the ideal
system configuration for processing large datasets say
more than 500 MB size to perform Multivariate and
Exploratory data analysis( I maynot be able to switch
to mainframe or supercomputers)

any suggestion will be highly appreciated

srinivas

__________________________________________________
Terrorist Attacks on U.S. - How can you help?
Donate cash, emergency relief information
http://dailynews.yahoo.com/fc/US/Emergency_Information/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Mon Sep 17 10:28:02 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Mon, 17 Sep 2001 09:28:02 +0100 (BST)
Subject: [R] nonlinear fitting when both x and y having measurement error?
In-Reply-To: <Pine.GSO.4.31.0109151513040.3896-100000@toucan.stats>
Message-ID: <Pine.LNX.4.10.10109170905470.663-100000@localhost.localdomain>

If you post your question on sci.math.num-analysis you might get pointers
to free code (probably fortran). This might be what you want:
http://www.netlib.org/odrpack/

For the linear errors-in-variables problem, you might want to look at:
http://www.pma.caltech.edu/~glenn/glove/glove.html
I think the source code is available.

If you post your question on sci.math.num-analysis you might get pointers
to free code (probably fortran).

They say:
"[Glove gives  the] Only correct linear fitting analysis, that we could
find, for data with errors in both variables. "
They don't actually say what algorithm they implement.

I think someone already pointed to a book on nonlinear errors-in-variables
models.

Here are some refs on the linear case.

Press et al Numerical recipes in C. Cambridge Univ Press p.666-670. They
also give code and some refs.

R. Lupton (1993) Statistics in theory and practice. Princeton Univ Press
pp 92-97. He also gives some futher refs.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Sep 17 10:33:41 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 17 Sep 2001 09:33:41 +0100 (BST)
Subject: [R] tree model large dataset -error
In-Reply-To: <20010917081010.347.qmail@web20106.mail.yahoo.com>
Message-ID: <Pine.GSO.4.31.0109170924210.29712-100000@auk.stats>

On Mon, 17 Sep 2001, srinivasa raghavan wrote:

> Hi R-users,
>
>      I was trying to do CART using the tree package
> for a dataset with 6 groups and 1000 predictor
> variables, number of observations 5000. The following
> error message is generated

Please, CART is a trademark (so don't misuse it), and what tree does is not
CART anyway. I suggest you use rpart (a closer approximation to CART).

I don't think this is sensible statistically.  With 1000 predictors
to choose from and only 5000 observations, you will just suffer from
data-dredging.  You must know somethign about the 1000 predictors,
so used structured subgroups.

However, let's do some calculations.  R stores data in memory.  You have 5
million data items, and they will be stored in doubles, so your dataset is
ca 40Mb.  You will need at least a couple more copies.  So you need more
than 128Mb.

> Error:cannot allocate vector of size 3910 kb
> In addition: warning message:
> Reached total allocation of 125Mb:
>
> I am using R 1.3 for Windows 98 in a pII with 128
> MBRAM
>
>     If RAM should be increased what is the ideal
> system configuration for processing large datasets say
> more than 500 MB size to perform Multivariate and
> Exploratory data analysis( I maynot be able to switch
> to mainframe or supercomputers)

(There's a lot between Windows 98 and mainframes or supercomputers.
You can let R use virtual memory: see the rw-FAQ, but Windows 98
is not good at this.  Linux runs R well on machines with 1Gb RAM:
Windows 2000 also runs R well but may use memory less efficiently.)

> any suggestion will be highly appreciated


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at wsl.ch  Mon Sep 17 10:46:14 2001
From: christian.hoffmann at wsl.ch (Christian Hoffmann)
Date: Mon, 17 Sep 2001 10:46:14 +0200
Subject: [R] predictions under NA
Message-ID: <3.0.6.32.20010917104614.00986360@mail.wsl.ch>

Hi all,

Maybe I missed something in the help pages, but I am wondering if there is
a staight forward solution to the following problem:

Given several predictors x_i and a regressand y, containing NAs
(symbolically):

y_1 = (none of the x_1i contain NA) %*% beta + eps_1
y_2 = (some of the x_2i contain NA) %*% beta + eps_2
y_3 = (none of the x_3i contain NA) %*% beta + eps_3
....
y_n = (none of the x_ni contain NA) %*% beta + eps_n

Fitting a (linear) model lm to the data will use complete cases only (if
not failing), so that  "fitted.values" may contain only

lm$fitted.values[1]  corresponding to y_1
lm$fitted.values[2]  corresponding to y_3
....
lm$fitted.values[n-#(of-complete-cases)]  corresponding to y_n

This situation may be inconvenient. To get the full array of predictions I
would have  two possibilities (at least):

1. expected <- model.matrix(x) %*% lm$coefficients

2. judicious use of "complete.cases" and others do something like
  expexted[complete.cases] <- lm$fitted.values
  expexted[-complete.cases] <- NA

Comments:
1. Seems straight forward and fool proof, but may be computational overkill
in the case of very few NAs.
2. May not be fool proof because of (hidden, at first glance unrecognized)
internals in lm (like rearrangements ?)

Does anybody have any thoughts on this?

Thank you very much.

--christian
 




Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: christian.hoffmann_at_wsl.ch__prevent_spamming
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Mon Sep 17 10:49:32 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Mon, 17 Sep 2001 09:49:32 +0100 (BST)
Subject: [R] nonlinear fitting when both x and y having measurement error?
In-Reply-To: <Pine.GSO.4.31.0109151513040.3896-100000@toucan.stats>
Message-ID: <Pine.LNX.4.10.10109170944520.741-100000@localhost.localdomain>

Here are some programs:

http://astro.u-strasbg.fr/~fmurtagh//mda-sw/
Errors-in-variables regression, 2-dimensional (Fortran) 
      leiv1.f, York (Can. J. Phys. 44, 1079-1086, 1966) 
      leiv2.f, Fasano and Vio 
      leiv3.f, Ripley [R's own BD Ripley!]
All these programs are set up with sample driver routines and sample
data. They should perform exactly the same task. 

Least squares linear and nonlinear parameter estimation with errors in the
predictor variables and the dependent variable:
http://lib.stat.cmu.edu/apstat/286

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Sep 17 11:50:36 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 17 Sep 2001 10:50:36 +0100 (BST)
Subject: [R] predictions under NA
In-Reply-To: <3.0.6.32.20010917104614.00986360@mail.wsl.ch>
Message-ID: <Pine.LNX.4.31.0109171043190.2024-100000@gannet.stats>

If fitting by lm (and glm, at least), na.action=na.exclude will
do what you want.  It keeps enough track of modifications to make 2)
correct.  Some other fitting procedures (in MASS, for example) do use 1).

na.exclude is fairly new (1.3.0), but it is on the help page for na.omit.

You do need to use the proper extractor functions: you should not use
fit$fitted.values but fitted(fit) or predicted(fit), except perhaps when
writing R internals.


On Mon, 17 Sep 2001, Christian Hoffmann wrote:

> Hi all,
>
> Maybe I missed something in the help pages, but I am wondering if there is
> a staight forward solution to the following problem:
>
> Given several predictors x_i and a regressand y, containing NAs
> (symbolically):
>
> y_1 = (none of the x_1i contain NA) %*% beta + eps_1
> y_2 = (some of the x_2i contain NA) %*% beta + eps_2
> y_3 = (none of the x_3i contain NA) %*% beta + eps_3
> ....
> y_n = (none of the x_ni contain NA) %*% beta + eps_n
>
> Fitting a (linear) model lm to the data will use complete cases only (if
> not failing), so that  "fitted.values" may contain only
>
> lm$fitted.values[1]  corresponding to y_1
> lm$fitted.values[2]  corresponding to y_3
> ....
> lm$fitted.values[n-#(of-complete-cases)]  corresponding to y_n
>
> This situation may be inconvenient. To get the full array of predictions I
> would have  two possibilities (at least):
>
> 1. expected <- model.matrix(x) %*% lm$coefficients
>
> 2. judicious use of "complete.cases" and others do something like
>   expexted[complete.cases] <- lm$fitted.values
>   expexted[-complete.cases] <- NA
>
> Comments:
> 1. Seems straight forward and fool proof, but may be computational overkill
> in the case of very few NAs.
> 2. May not be fool proof because of (hidden, at first glance unrecognized)
> internals in lm (like rearrangements ?)
>
> Does anybody have any thoughts on this?
>
> Thank you very much.
>
> --christian
>
>
>
>
>
> Dr.sc.math.Christian W. Hoffmann
> Mathematics and Statistical Computing
> Landscape Modeling and Web Applications
> Swiss Federal Research Institute WSL
> Zuercherstrasse 111
> CH-8903 Birmensdorf, Switzerland
> phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
> e-mail: christian.hoffmann_at_wsl.ch__prevent_spamming
> www: http://www.wsl.ch/staff/christian.hoffmann/
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Mon Sep 17 14:55:43 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Mon, 17 Sep 2001 08:55:43 -0400 (EDT)
Subject: [R] archives of this list now searchable, I think
Message-ID: <200109171255.f8HCthG06763@cattell.psych.upenn.edu>

I have set up the archives of this list at
http://finzi.psych.upenn.edu
or, if you want to jump right to it,
http://finzi.psych.upenn.edu/search.html
for search using htdig.

The search includes all the archives PLUS All THE R DOCUMENTATION
in html format.

I will plan to continue this so long as the School of Arts and
Sciences at the University of Pennsylvania lets me use a computer
that can handle it.  (It is their computer.)

Please send me suggestions for improvements.  If you tell me how
to do them using htdig or hypermail, they are much more likely to
get done than if you just say what kind of behavior you want.
The manuals for htdig and hypermail are in the first page above.

Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tov at ece.cmu.edu  Mon Sep 17 15:08:20 2001
From: tov at ece.cmu.edu (Thomas Vogels)
Date: 17 Sep 2001 09:08:20 -0400
Subject: [R] Tk version of data.entry?
In-Reply-To: "Warnes, Gregory R"'s message of "Sat, 15 Sep 2001 14:02:56 -0400"
References: <5429125E11E4D411AF7300805FE603A8014CEE17@groexmbcr02.pfizer.com>
Message-ID: <px8zfevubf.fsf@infiniti.ece.cmu.edu>


"Warnes, Gregory R" <gregory_r_warnes at groton.pfizer.com> writes:

> Has anyone taken the time to put together a Tk version of the data.entry()
> function?

almost...  I have built an interface to the Tktable widget.  I will
try to upload a package to the devel section of CRAN later this week.
Two problems will for now remain (and have kept me from uploading it
earlier):

- Tktable is not linked against libtcl.a and thus will not load into R
  in some architectures (i.e. it doesn't work in Linux, but does work
  in AIX).  You can patch Tktable and rebuild it rather easily though.

- There is no interface from R's variables to Tcl's.  By this I mean
  that I do '.Tcl(paste ("set", tcl_varname, R_value))'.  What I
  should have are direct calls in C to copy R's vectors (matrices,
  whatever) into a Tcl array...

  -tom

-- 
mailto:tov at ece.cmu.edu (Tom Vogels)   Tel: (412) 268-6638   FAX: -3204
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From H.F.Xie at westminster.ac.uk  Mon Sep 17 22:14:36 2001
From: H.F.Xie at westminster.ac.uk (Haifeng (Kevin) Xie)
Date: Mon, 17 Sep 2001 16:14:36 -0400 (EDT)
Subject: [R] Many thanks. (Was: Supply linear constrain to optimizer)
Message-ID: <Pine.LNX.4.33L2.0109171605310.1762-100000@staff-pc80.cscs.wmin.ac.uk>


Many thanks to those took time replied to my question. They were very
helpful and I solved my problem by reparameterization. With the help of
optim() the fitting procedure is very robust and insensitive to initial
starting value.

Once again, many thanks.

Kevin


-------- Original post ---------
>Dear R and S users,
>
>I've been working on fitting finite mixture of negative exponential
>distributions using maximum likelihood based on the example given in
>MASS. So far I had much success in fitting two components. The problem
>started when I tried to extend the procedure to fit three components.
>More specifically,
>
>likelihood = sum( ln(c1*exp(-x/lambda1)/lambda1 +
>c2*exp(-x/lambda2)/lambda2 + (1-c1-c2)*exp(-x/lambda3)/lambda3) )
>
>I've used optimizers such as ms and nlminb (SPLUS 5.0 for UNIX), and
>provided parameters constrains (0 <= c1, c2 <= 1) to nlminb via lower and
>upper. But these constrains provide no protection for (1-c1-c2) being
>between interval [0,1], which resulted in generating NAs in the
>likelihood function during iteration.
>
>I've been looking at various documentations, but didn't see anywhere
>mentioning setting linear constrain, in this case, c1 + c2 <= 1.
>
>Any suggestion and pointers will be greatly apprepciated.
>
>Kevin Xie
>Research Student
>Cavendish School of Computer Science
>University of Westminster
>London, UK
>




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vograno at arbitrade.com  Mon Sep 17 21:40:43 2001
From: vograno at arbitrade.com (Vadim Ogranovich)
Date: Mon, 17 Sep 2001 14:40:43 -0500
Subject: [R] computational capacity of Linux network
Message-ID: <AFD78192EC49D311BFAE00902798AB8F23D50D@jupiter.sc.arbitrade.com>

Hi, This is not an R question per ce, but I feel like this is a right
community to ask it.

As a part of our work we run a lot of non-interactive computational jobs. To
increase the throughput we would like to distribute the load over the entire
network and we are looking at Linux network as a platform. Ideally we would
like to be able to submit a job to the network, rather than to a computer,
and let the "network" to figure out the resource to run the job on.

I'd like to hear from those people who have had an experience of working in
such an environment. Specifically
* what system (Red Hat, etc.) was used? What kind of software was used for
load balancing? 
* How big is the USER overhead to set such a job comparatively to running a
command from shell? How reliable and convenient error reporting is if the
job fails?
* how much of sysadmin time is required to maintain such a network?
* any other comment.

Please reply directly to me and I'll post the summary.

Thanks,
Vadim

-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE REGARDING PRIVACY AND CONFIDENTIALITY 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Mon Sep 17 23:20:29 2001
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Tue, 18 Sep 2001 09:20:29 +1200
Subject: [R] archives of this list now searchable, I think
References: <200109171255.f8HCthG06763@cattell.psych.upenn.edu>
Message-ID: <003c01c13fbe$935a9d90$175dd882@stat.auckland.ac.nz>

Hi


> I have set up the archives of this list at
> http://finzi.psych.upenn.edu
> or, if you want to jump right to it,
> http://finzi.psych.upenn.edu/search.html
> for search using htdig.
>
> The search includes all the archives PLUS All THE R DOCUMENTATION
> in html format.


I have spent a couple of (frustrating) hours recently (unsuccessfully)
trying to find an email in the archives.  The new search facility allowed me
to find it in a couple of seconds.
Brilliant!  Thanks very much Jonathon!

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kestickler at netscape.net  Tue Sep 18 00:47:36 2001
From: kestickler at netscape.net (kestickler@netscape.net)
Date: Mon, 17 Sep 2001 18:47:36 -0400
Subject: [R] R package & namespace questions
Message-ID: <67E382E2.35953024.0F79CEED@netscape.net>

Hi,

i'm unclear on ".Internal" functions in R.
Do ".Internal" functions mean:
1) functions (to be) used only inside a package (like private methods)
or
2) do they mean functions that call upon the R - C interface?


Related to this, how are namespaces handled in R?
It seems that i could write a function read.table(), place it in my own file, source the file and there would be *no warning* that it interferes with the base package's read.table() function? This seems quite unsafe to me coming from a Java background where namespaces are very controlled.

I guess my question boils down to asking if the object manager in R maintains function names as: functionname or as pkg::functionname

Finally, a function i wrote, placed in a file.R and sourc'ed:
misc.expand_table <- function(vec, n)
{
# something
}

seems to redefine the base function "table".


Thanks for any suggestions or comments.

ken



__________________________________________________________________




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Tue Sep 18 01:43:40 2001
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Mon, 17 Sep 2001 19:43:40 -0400
Subject: [R] computational capacity of Linux network
Message-ID: <5429125E11E4D411AF7300805FE603A8014CEE21@groexmbcr02.pfizer.com>


Hi Vadim,

I have set up just such a system using MOSIX (http://www.mosix.org) and
ClusterNFS (http://ClusterNFS.sourceforege.net). MOSIX automatically
shuffles processes around a network of Linux machines to maximize
performance & make use of memory.  I've successfully used R, C, and Java
programs in this environment and have been very happy. 

<blatant advertisement>
I developed ClusterNFS to simplify the setup and maintenance of a group of
Linux machines by allowing all of the machines to share a common root
filesystem.  This is accomplished by providing 'interpreted file names' so
that configuration files can differ as necessary, while maintaining the
common file system.
</blatant advertisement>

I used them both with Debian, but they can be used with any distribution.  

-Greg


-----Original Message-----
From: Vadim Ogranovich [mailto:vograno at arbitrade.com]
Sent: Monday, September 17, 2001 3:41 PM
Cc: R-help at stat.math.ethz.ch
Subject: [R] computational capacity of Linux network


Hi, This is not an R question per ce, but I feel like this is a right
community to ask it.

As a part of our work we run a lot of non-interactive computational jobs. To
increase the throughput we would like to distribute the load over the entire
network and we are looking at Linux network as a platform. Ideally we would
like to be able to submit a job to the network, rather than to a computer,
and let the "network" to figure out the resource to run the job on.

I'd like to hear from those people who have had an experience of working in
such an environment. Specifically
* what system (Red Hat, etc.) was used? What kind of software was used for
load balancing? 
* How big is the USER overhead to set such a job comparatively to running a
command from shell? How reliable and convenient error reporting is if the
job fails?
* how much of sysadmin time is required to maintain such a network?
* any other comment.

Please reply directly to me and I'll post the summary.

Thanks,
Vadim

-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE REGARDING PRIVACY AND CONFIDENTIALITY 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Tue Sep 18 02:47:38 2001
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Mon, 17 Sep 2001 20:47:38 -0400
Subject: [R] R package & namespace questions
In-Reply-To: <67E382E2.35953024.0F79CEED@netscape.net>
References: <67E382E2.35953024.0F79CEED@netscape.net>
Message-ID: <u45dqt8vkvd6darjsfs1qp12hk457snsf8@4ax.com>

On Mon, 17 Sep 2001 18:47:36 -0400, you wrote:

>Hi,
>
>i'm unclear on ".Internal" functions in R.
>Do ".Internal" functions mean:
>1) functions (to be) used only inside a package (like private methods)
>or
>2) do they mean functions that call upon the R - C interface?

They're functions that are written in C as part of the R source code.

>Related to this, how are namespaces handled in R?

They aren't, but I believe I heard they are being planned.  No idea
when they'll arrive.
 
>It seems that i could write a function read.table(), place it in my own file, source the file and there would be *no warning* that it interferes with the base package's read.table() function?  This seems quite unsafe to me coming from a Java background where namespaces are very controlled.

Yes, it is dangerous.  Note though that if you did the same thing in a
package, you would get a warning about it.  Packages are a good idea.

>Finally, a function i wrote, placed in a file.R and sourc'ed:
>misc.expand_table <- function(vec, n)
>{
># something
>}
>
>seems to redefine the base function "table".

That's because the underscore is a synonym for the assignment operator
<-.  Your first line is equivalent to 

 misc.expand <- table <- function(vec,n)

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Tue Sep 18 04:57:40 2001
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Tue, 18 Sep 2001 14:57:40 +1200
Subject: [R] Error mean square
Message-ID: <200109180258.OAA02019@gosset.stats.waikato.ac.nz>

If rb.lm is an lm-object, I can access the error mean square as

s2 <- sum(rb.lm$residuals^2)/rb.lm$df.residual


This seems a bit like hard work for such a commonly wanted quantity. Is
there a better way to do this?

Murray Jorgensen



Dr Murray Jorgensen      http://www.stats.waikato.ac.nz/Staff/maj.html 
Department of Statistics, University of Waikato, Hamilton, New Zealand 
Email: maj at waikato.ac.nz                            Fax +64-7 838 4155
Phone +64-7 838 4773 home phone +64-7 856 6705  Mobile +64-21 139 5862

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep 18 07:56:04 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 18 Sep 2001 06:56:04 +0100 (BST)
Subject: [R] Error mean square
In-Reply-To: <200109180258.OAA02019@gosset.stats.waikato.ac.nz>
Message-ID: <Pine.GSO.4.31.0109180647530.8286-100000@auk.stats>

On Tue, 18 Sep 2001, Murray Jorgensen wrote:

> If rb.lm is an lm-object, I can access the error mean square as
>
> s2 <- sum(rb.lm$residuals^2)/rb.lm$df.residual
>
>
> This seems a bit like hard work for such a commonly wanted quantity. Is
> there a better way to do this?

For a model without weights

summary(rb.lm)$sigma^2

or

deviance(rb.lm)/df.residual(rb.lm)


BTW, I don't really know what you mean by `error mean square' (I would say
`residual mean square'), but suspect that when weights are involved you
want the weighted form which each of these compute.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eac at ma.adfa.edu.au  Tue Sep 18 08:38:50 2001
From: eac at ma.adfa.edu.au (eac@ma.adfa.edu.au)
Date: Tue, 18 Sep 2001 16:38:50 +1000 (EST)
Subject: [R] textbook on experimental design?
Message-ID: <Pine.LNX.4.33.0109181448320.17222-100000@stat.ma.adfa.ed.au>

I'll be teaching a graduate course on (the analysis of) experimental
designs next year, using R. Does anyone know of a suitable textbook?

(Venables and Ripley MASS Ch6 on Linear Models covers roughly the right
material, but at a level that is way too difficult for my students.)

Sorry if this has been asked before. I've looked through the archives and
found Julian Faraway's book, but that's mainly regresion.

Thanks,
	Ted.

Dr E.A. Catchpole
School of Maths & Stats                Honorary Senior Research Fellow
University College, UNSW               Institute of Maths & Stats
Australian Defence Force Academy       University of Kent at Canterbury
Canberra, ACT 2600, Australia          Canterbury CT2 7NF, England
e-catchpole at adfa.edu.au                E.A.Catchpole at ukc.ac.uk
www.ma.adfa.edu.au/~eac
fax: +61 2 6268 8886

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stcha at zdnetonebox.com  Tue Sep 18 01:28:37 2001
From: stcha at zdnetonebox.com (steven cha)
Date: Mon, 17 Sep 2001 16:28:37 -0700
Subject: [R] R console history v/s unix history
Message-ID: <20010917232837.KSXP7831.mta04.onebox.com@onebox.com>

Hi

i'm new to R and find that the "history" functionality works a little
different than in unix. A very convenient feature of history in unix
is the ability to recall a comand by typing in !x where x is a letter
and the latest matching command in the history that starts with the letter
is (re)called. This is useful for instance, when calling a "source" command
by !s rather than having to scroll back using the arrow key. Does this
functionality exist in R and if not any suggestions on how to replicate
it?

Also:
- is there a way to open a second *console* window within RGui (running
within the microsoft windows MDI)?
- how do i check to see what the installed version of a package is?

Thanks in advance.

steve
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep 18 10:00:49 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 18 Sep 2001 09:00:49 +0100 (BST)
Subject: [R] R console history v/s unix history
In-Reply-To: <20010917232837.KSXP7831.mta04.onebox.com@onebox.com>
Message-ID: <Pine.GSO.4.31.0109180852260.8516-100000@auk.stats>

On Mon, 17 Sep 2001, steven cha wrote:

> Hi
>
> i'm new to R and find that the "history" functionality works a little
> different than in unix. A very convenient feature of history in unix
> is the ability to recall a comand by typing in !x where x is a letter
> and the latest matching command in the history that starts with the letter
> is (re)called. This is useful for instance, when calling a "source" command
> by !s rather than having to scroll back using the arrow key. Does this
> functionality exist in R and if not any suggestions on how to replicate
> it?

Which version of R are you talking about?  Unix versions of R have
bash-like behaviour, but I think you are describing a feature of the
C-shell (and with history turned on, which is not the default), not of all
Unix shells.

Since you mention RGui below, RGui and Rterm have yet other history
mechanisms.  (You are of course welcome to re-write any of these to add
this feature: R is Open Source.)

For example, in Unix R with readline and under Windows with Rterm ^R/^S
give a much more powerful search mechanism.  However, I do normally scroll,
both in R and when using tcsh (under Unix or Windows).

Yet another approach is to use the ESS front-end and Emacs' search
facilities.

> Also:
> - is there a way to open a second *console* window within RGui (running
> within the microsoft windows MDI)?

No.  One day, when R has user threads, perhaps, but until then there needs
to be an unambiguous R console to write messages to.

> - how do i check to see what the installed version of a package is?

> package.description("MASS")["Version"]
Version
"6.2-8"

> installed.packages()[, c("Package", "Version")]
      Package      Version
 [1,] "KernSmooth" "2.22-6"
 [2,] "MASS"       "6.2-8"
....

are amongst the easiest.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kohnicho at comp.nus.edu.sg  Tue Sep 18 10:20:22 2001
From: kohnicho at comp.nus.edu.sg (Nicholas Lewin-Koh)
Date: Tue, 18 Sep 2001 16:20:22 +0800 (GMT-8)
Subject: [R] case weights in coxph (survival)
Message-ID: <Pine.GSO.4.21.0109181606490.25885-100000@sun450.comp.nus.edu.sg>

Hi,
I am having trouble with the survival library, particualrily the coxph
function.

the following works
coxph(jtree9$cph.call,z,rep(1,dim(z)[1]))
Call:
coxph(formula = jtree9$cph.call, data = z, weights = rep(1, dim(z)[1]))


                   coef exp(coef) se(coef)      z       p
SM               0.2574     1.294   0.0786  3.274 1.1e-03
Sex             -0.1283     0.880   0.1809 -0.709 4.8e-01
RACE            -0.3226     0.724   0.0817 -3.950 7.8e-05
MHHT:MHDM        0.0524     1.054   0.0574  0.913 3.6e-01
FHHT:FHCAD:FHDM  0.0361     1.037   0.0412  0.877 3.8e-01

Likelihood ratio test=43.8  on 5 df, p=2.55e-08  n= 646 

but 
> coxph(jtree9$cph.call,z,rep(1,dim(z)[1]))$weights
NULL

while the documentation says that a coxph object should have a weights
element if supplied. Further (what I am really trying to do) if I put this
in a function

optimize.W<-function(W,G,Groups,cph.call,z){
  n<-length(Groups)
  grp.wt<-rep(0,n)
  for(i in 1:length(G)){
    ind<-Groups == G[i]
    grp.wt[ind]<-W[i]
  }
  mod<-coxph(cph.call,z,grp.wt,na.action=na.omit,singular.ok=T)
  sum(mod$residuals^2)
}

> optimize.W(rep(1,13),unique(jtree9$members[,jtree9$depth]),jtree9$members[,jtree9$depth],
jtree9$cph.call,z)

Error in eval(expr, envir, enclos) : Object "grp.wt" not found

I'm puzzled, is this some sort of environment problem?
 Here's my R particulars

> R.Version()
$platform
[1] "i686-pc-linux-gnu"
$arch
[1] "i686"
$os
[1] "linux-gnu"
$system
[1] "i686, linux-gnu"
$status
[1] ""
$major
[1] "1"
$minor
[1] "3.1"
$year
[1] "2001"
$month
[1] "08"
$day
[1] "31"
$language
[1] "R"

I am also using the most recent version of survival from cran.

Thanks
Nicholas



                 CH3
                  |
                  N             Nicholas Lewin-Koh
                 / \            Dept of Statistics
           N----C   C==O        Program in Ecology and Evolutionary Biology
          ||   ||   |           Iowa State University
          ||   ||   |           Ames, IA 50011
          CH    C   N--CH3      http://www.public.iastate.edu/~nlewin
            \  / \ /            nlewin at iastate.edu
             N    C
             |   ||             Currently
            CH3   O             Graphics Lab
                                School of Computing
                                National University of Singapore
     The Real Part of Coffee    kohnicho at comp.nus.edu.sg

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Sep 18 10:51:23 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 18 Sep 2001 10:51:23 +0200 (MET DST)
Subject: [R] archives of this list now searchable, I think
In-Reply-To: <200109171255.f8HCthG06763@cattell.psych.upenn.edu>
Message-ID: <Pine.OSF.3.96.1010918105100.27314D-100000@ija.csic.es>


This is just great, many thanks.

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Mon, 17 Sep 2001, Jonathan Baron wrote:

> I have set up the archives of this list at
> http://finzi.psych.upenn.edu
> or, if you want to jump right to it,
> http://finzi.psych.upenn.edu/search.html
> for search using htdig.
> 
> The search includes all the archives PLUS All THE R DOCUMENTATION
> in html format.
> 
> I will plan to continue this so long as the School of Arts and
> Sciences at the University of Pennsylvania lets me use a computer
> that can handle it.  (It is their computer.)
> 
> Please send me suggestions for improvements.  If you tell me how
> to do them using htdig or hypermail, they are much more likely to
> get done than if you just say what kind of behavior you want.
> The manuals for htdig and hypermail are in the first page above.
> 
> Jonathan Baron, Professor of Psychology, University of Pennsylvania
> Home page: http://www.sas.upenn.edu/~baron
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep 18 10:45:17 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Sep 2001 10:45:17 +0200
Subject: [R] R console history v/s unix history
In-Reply-To: <Pine.GSO.4.31.0109180852260.8516-100000@auk.stats>
References: <Pine.GSO.4.31.0109180852260.8516-100000@auk.stats>
Message-ID: <x2wv2wq44i.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> On Mon, 17 Sep 2001, steven cha wrote:
> 
> > Hi
> >
> > i'm new to R and find that the "history" functionality works a little
> > different than in unix. A very convenient feature of history in unix
> > is the ability to recall a comand by typing in !x where x is a letter
> > and the latest matching command in the history that starts with the letter
> > is (re)called. This is useful for instance, when calling a "source" command
> > by !s rather than having to scroll back using the arrow key. Does this
> > functionality exist in R and if not any suggestions on how to replicate
> > it?
> 
> Which version of R are you talking about?  Unix versions of R have
> bash-like behaviour, but I think you are describing a feature of the
> C-shell (and with history turned on, which is not the default), not of all
> Unix shells.

It's in bash too (but historically it comes from the C-shell). You
might add that S-PLUS (and several unix applications) use ! for the
shell escape. I.e. !ls shows the files in the current dir. R (for
UNIX/Linux) had that for a while (and I suspect you can still switch
it on somewhere in the sources), but we decided to do without it to
avoid confusion with the negation operator.

(You can imagine the befuddlement of a teacher explaining about
logical arithmetic in a hands-on session: "Here is a logical vector x,
and another one y. You can combine the vectors with AND like this: x &
y, or with OR like this: x | y. To negate a vector, use ! (NOT), !x
....)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kohnicho at comp.nus.edu.sg  Tue Sep 18 12:18:20 2001
From: kohnicho at comp.nus.edu.sg (Nicholas Lewin-Koh)
Date: Tue, 18 Sep 2001 18:18:20 +0800 (GMT-8)
Subject: [R] case weights-coxph (solved)
Message-ID: <Pine.GSO.4.21.0109181809190.17410-100000@sun450.comp.nus.edu.sg>

Hi,
The following function does work

optimize.W<-function(W,k,G,Groups,cph.call,z){
  n<-length(Groups)
  grp.wt<-rep(0,n)
  for(i in 1:(length(G))){
    ind<-Groups == G[i]
    if(G[i]!=k){
      grp.wt[ind]<-W[i]
    }
    elsegrp.wt[ind]<-1
  }
  z<-data.frame(cbind(z,grp.wt=grp.wt)) #needed to make the case weights
                                        #part of the data frame
  mod<-coxph(cph.call,z,grp.wt,na.action=na.omit,singular.ok=T)
  sum(mod$residuals^2)
}

I wouldn't call this a bug, but shouldn't the case weights be a separate
vector if the user so desires?

Nicholas
















                 CH3
                  |
                  N             Nicholas Lewin-Koh
                 / \            Dept of Statistics
           N----C   C==O        Program in Ecology and Evolutionary Biology
          ||   ||   |           Iowa State University
          ||   ||   |           Ames, IA 50011
          CH    C   N--CH3      http://www.public.iastate.edu/~nlewin
            \  / \ /            nlewin at iastate.edu
             N    C
             |   ||             Currently
            CH3   O             Graphics Lab
                                School of Computing
                                National University of Singapore
     The Real Part of Coffee    kohnicho at comp.nus.edu.sg

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stuart.leask at nottingham.ac.uk  Tue Sep 18 12:27:26 2001
From: stuart.leask at nottingham.ac.uk (Dr Stuart Leask)
Date: Tue, 18 Sep 2001 11:27:26 +0100
Subject: [R] help in a separate window under linux
Message-ID: <005501c1402c$8351cf40$51d6f380@PMCMG01.nottingham.ac.uk>

Hi there.

R v1.3.0, Slackware linux 7.1 or Windows 98SE, PII 266, 64Mb RAM.

I notice that under windows, R puts help info (ie. the response to
'?<function>') into a new window, whereas under linux, it puts it into the
main console window. I find the former much more helpful when checking a
function's syntax.

Is there a simple way of configuring R under linux to put its help messages
into a separate, new console?

Stuart

Dr Stuart Leask, Clinical lecturer, University of Nottingham Dept
Psychiatry,
Duncan Macmillan House, Porchester Road, Nottingham. NG3 6AA. UK
tel. 0115 969 1300 x 40784 fax 0115 952 5352

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Tue Sep 18 13:34:37 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Tue, 18 Sep 2001 07:34:37 -0400 (EDT)
Subject: [R] help in a separate window under linux
Message-ID: <200109181134.f8IBYbL08607@cattell.psych.upenn.edu>

>From owner-r-help at stat.math.ethz.ch Tue Sep 18 07:23:04 2001
>Is there a simple way of configuring R under linux to put its help messages
>into a separate, new console?

1. help.start() puts them in a browser.

2. You can make a bookmark or button on your browser for the R
documents in html on your disk, usually in /usr/lib/R/doc/html.

3. You can have R itself running twice in different windows, once
just for help.  This is probably the most straightforward answer.
(In Gnome, you can put it in a different virtual desktop, and
switch back and forth with alt-shift-arrow - which is exceedingly
easy on a Kinesis keyboard.  I do this because my monitor is only
17 inches, which is about right for one window.)

4. You can use ESS, which uses the bottom half of the screen for
help.  I usually find that I want the whole screen, though, so I
end up closing the help window.

Perhaps there are other answers.  Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep 18 13:51:58 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Sep 2001 13:51:58 +0200
Subject: [R] case weights-coxph (solved)
In-Reply-To: <Pine.GSO.4.21.0109181809190.17410-100000@sun450.comp.nus.edu.sg>
References: <Pine.GSO.4.21.0109181809190.17410-100000@sun450.comp.nus.edu.sg>
Message-ID: <x2adzsyaw1.fsf@blueberry.kubism.ku.dk>

Nicholas Lewin-Koh <kohnicho at comp.nus.edu.sg> writes:

> Hi,
> The following function does work
> 
> optimize.W<-function(W,k,G,Groups,cph.call,z){
>   n<-length(Groups)
>   grp.wt<-rep(0,n)
>   for(i in 1:(length(G))){
>     ind<-Groups == G[i]
>     if(G[i]!=k){
>       grp.wt[ind]<-W[i]
>     }
>     elsegrp.wt[ind]<-1
>   }
>   z<-data.frame(cbind(z,grp.wt=grp.wt)) #needed to make the case weights
>                                         #part of the data frame
>   mod<-coxph(cph.call,z,grp.wt,na.action=na.omit,singular.ok=T)
>   sum(mod$residuals^2)
> }
> 
> I wouldn't call this a bug, but shouldn't the case weights be a separate
> vector if the user so desires?

It's a side effect of the new model environment concept, combined with
the fact that certain arguments like weight have non-standard
evaluation rules. These arguments are evaluated in the data frame
enclosed by the model environment - which is generally the environment
where you defined the model formula. 

As things are implemented currently, your solution is probably the
best one (z$grp.wt <- grp.wt might be more efficient though). Another
one would be to defeat the nonstandard evaluation with stuff like

eval(substitute(
        coxph(cph.call,z,w,na.action=na.omit,singular.ok=T),
   list(w=grp.wt)))

which I'll be the first to admit is horrendously ugly but avoid's the
copying implied by adding variables to z.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From monnie at xena.hunter.cuny.edu  Tue Sep 18 14:30:44 2001
From: monnie at xena.hunter.cuny.edu (Monnie McGee)
Date: Tue, 18 Sep 2001 08:30:44 -0400 (EDT)
Subject: [R] R binaries for Solaris 2.7
Message-ID: <Pine.GSO.4.05.10109180827470.4508-100000@xena.hunter.cuny.edu>


Dear All,

I would like to install R on my Ultra Sparc running Solaris 2.7. 
 Are there any pre-compiled binaries existing for this operating system?  
Will some of the ones I see on the R web site work just as well?

Regards,
Monnie McGee

Monnie McGee, Ph.D.
Assistant Professor
Hunter College
Department of Mathematics and Statistics
695 Park Avenue
New York, NY 10021

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep 18 14:33:31 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Sep 2001 14:33:31 +0200
Subject: [R] help in a separate window under linux
In-Reply-To: <200109181134.f8IBYbL08607@cattell.psych.upenn.edu>
References: <200109181134.f8IBYbL08607@cattell.psych.upenn.edu>
Message-ID: <x266agy8ys.fsf@blueberry.kubism.ku.dk>

baron at cattell.psych.upenn.edu (Jonathan Baron) writes:

> >From owner-r-help at stat.math.ethz.ch Tue Sep 18 07:23:04 2001
> >Is there a simple way of configuring R under linux to put its help messages
> >into a separate, new console?
> 
> 1. help.start() puts them in a browser.
> 
> 2. You can make a bookmark or button on your browser for the R
> documents in html on your disk, usually in /usr/lib/R/doc/html.
> 
> 3. You can have R itself running twice in different windows, once
> just for help.  This is probably the most straightforward answer.
> (In Gnome, you can put it in a different virtual desktop, and
> switch back and forth with alt-shift-arrow - which is exceedingly
> easy on a Kinesis keyboard.  I do this because my monitor is only
> 17 inches, which is about right for one window.)
> 
> 4. You can use ESS, which uses the bottom half of the screen for
> help.  I usually find that I want the whole screen, though, so I
> end up closing the help window.
> 
> Perhaps there are other answers.  Jon Baron

5. library(tcltk); options(pager=tkpager)

6. options(pager="./mypager") with mypager
#!/bin/sh
cat > /tmp/foo
xterm -e less /tmp/foo &

(getting a unique tempfile name and removing it when you're through
reading is - um - an exercise for the reader)

7. options(pager=function(file, header, title, delete.file)
     system(paste("xterm", "-e less", file, "&")))

(getting the title right is going to be tricky:  it is generally
something like "R Help on `ls'" and the quotes will confuse the shell) 

The latter two obviously only work when less is installed...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Tue Sep 18 13:26:26 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Tue, 18 Sep 2001 12:26:26 +0100
Subject: [R] statistical mode function
In-Reply-To: <5429125E11E4D411AF7300805FE603A8014CED52@groexmbcr02.pfizer.com>
References: <5429125E11E4D411AF7300805FE603A8014CED52@groexmbcr02.pfizer.com>
Message-ID: <fOkPbjAi9yp7EweS@myatt.demon.co.uk>

Warnes, Gregory R <gregory_r_warnes at groton.pfizer.com> writes:

>> From: ben at zoo.ufl.edu [mailto:ben at zoo.ufl.edu]
>>
>[snip]
>>   How about
>> 
>> mode1 <- function(x) {
>>   t0 <- table(x)
>>   as.numeric(names(t0)[t0==max(t0)])
>> }
>> 
>> e.g.
>>  mode1(rbinom(100,10,0.4))
>> 
>[snip]
>>
>>   If someone else can come up with a one-liner I'd be mildly 
>> interested.
>>
>
>How about:
>
>as.numeric(names(rev(sort(table(x))))[1])

That's better than:

        as.numeric(names(table(x)[table(x) == max(table(x))])[1])

which I have been using.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stuart.leask at nottingham.ac.uk  Tue Sep 18 14:55:09 2001
From: stuart.leask at nottingham.ac.uk (root)
Date: Tue, 18 Sep 2001 13:55:09 +0100
Subject: [R] help in a separate window under linux
In-Reply-To: <x266agy8ys.fsf@blueberry.kubism.ku.dk>
References: <200109181134.f8IBYbL08607@cattell.psych.upenn.edu> <x266agy8ys.fsf@blueberry.kubism.ku.dk>
Message-ID: <01091813550900.01021@pmcmg01.nottingham.ac.uk>

Many thanks to Jonathan & Peter.

Suggestion 5 

> 5. library(tcltk); options(pager=tkpager)

is perfect for me.

Stuart
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgentlem at jimmy.harvard.edu  Tue Sep 18 15:19:48 2001
From: rgentlem at jimmy.harvard.edu (Robert Gentleman)
Date: Tue, 18 Sep 2001 09:19:48 -0400
Subject: [R] case weights in coxph (survival)
In-Reply-To: <Pine.GSO.4.21.0109181606490.25885-100000@sun450.comp.nus.edu.sg>; from Nicholas Lewin-Koh on Tue, Sep 18, 2001 at 04:20:22PM +0800
References: <Pine.GSO.4.21.0109181606490.25885-100000@sun450.comp.nus.edu.sg>
Message-ID: <20010918091948.A16017@jimmy.harvard.edu>

On Tue, Sep 18, 2001 at 04:20:22PM +0800, Nicholas Lewin-Koh wrote:
> Hi,
> I am having trouble with the survival library, particualrily the coxph
> function.
> 
> the following works
> coxph(jtree9$cph.call,z,rep(1,dim(z)[1]))
> Call:
> coxph(formula = jtree9$cph.call, data = z, weights = rep(1, dim(z)[1]))
> 
> 
>                    coef exp(coef) se(coef)      z       p
> SM               0.2574     1.294   0.0786  3.274 1.1e-03
> Sex             -0.1283     0.880   0.1809 -0.709 4.8e-01
> RACE            -0.3226     0.724   0.0817 -3.950 7.8e-05
> MHHT:MHDM        0.0524     1.054   0.0574  0.913 3.6e-01
> FHHT:FHCAD:FHDM  0.0361     1.037   0.0412  0.877 3.8e-01
> 
> Likelihood ratio test=43.8  on 5 df, p=2.55e-08  n= 646 
> 
> but 
> > coxph(jtree9$cph.call,z,rep(1,dim(z)[1]))$weights
> NULL
> 
> while the documentation says that a coxph object should have a weights
> element if supplied. Further (what I am really trying to do) if I put this
> in a function
> 
> optimize.W<-function(W,G,Groups,cph.call,z){
>   n<-length(Groups)
>   grp.wt<-rep(0,n)
>   for(i in 1:length(G)){
>     ind<-Groups == G[i]
>     grp.wt[ind]<-W[i]
>   }
>   mod<-coxph(cph.call,z,grp.wt,na.action=na.omit,singular.ok=T)
>   sum(mod$residuals^2)
> }
> 
> > optimize.W(rep(1,13),unique(jtree9$members[,jtree9$depth]),jtree9$members[,jtree9$depth],
> jtree9$cph.call,z)
> 
> Error in eval(expr, envir, enclos) : Object "grp.wt" not found
> 
> I'm puzzled, is this some sort of environment problem?
>  Here's my R particulars

  Nope, and if you search the R-help mail archive you will find a
  number of instances of this (and different solutions).

  The problem is that at some point in time it was decided that
  modelling functions would evaluate some of their arguments in
  special ways. Usually this is a good thing but sometimes it isn't.

  When you make a formula it captures the local environment and hence
  bindings for any variables specified (you make yours outside of the
  call to your optimize.W function so it captures something out
  there).
  When evaluating the arguments (the weights one as well as some
  others) the first place that is searched is the data argument (if
  it's a dataframe then its column names are used), so you can get
  what you want by adding a column to z with names grp.wt (I think).
  You could also get what you want by doing something like
  assign("grp.wt", grp.wt, env=environment(cph.call))
  to explicitly put this variable in a place that is searched for a
  binding.
  At this point there is no clean solution. We probably have to decide
  at some point that this rather peculiar evaluation model needs to
  disappear but that is hard because it is not fairly ingrained.
  There are alternate views and solutions...

A simple example:
 data(aml)
 cph1 <- Surv(time,status)~x
 foo <- function(cphf, z) {
 wts <- rexp(nrow(z))
 mod <-coxph(cphf,z, wts)
 }
 foo(cph1,aml)
#Error in eval(expr, envir, enclos) : Object "wts" not found
 foo2 <- function(cphf, z) {
 wts <- rexp(nrow(z))
 assign("wts",wts,env=environment(cphf))
 mod<-coxph(cphf,z,wts)
 }
 foo2(cph1, aml)
  


> 
> > R.Version()
> $platform
> [1] "i686-pc-linux-gnu"
> $arch
> [1] "i686"
> $os
> [1] "linux-gnu"
> $system
> [1] "i686, linux-gnu"
> $status
> [1] ""
> $major
> [1] "1"
> $minor
> [1] "3.1"
> $year
> [1] "2001"
> $month
> [1] "08"
> $day
> [1] "31"
> $language
> [1] "R"
> 
> I am also using the most recent version of survival from cran.
> 
> Thanks
> Nicholas
> 
> 
> 
>                  CH3
>                   |
>                   N             Nicholas Lewin-Koh
>                  / \            Dept of Statistics
>            N----C   C==O        Program in Ecology and Evolutionary Biology
>           ||   ||   |           Iowa State University
>           ||   ||   |           Ames, IA 50011
>           CH    C   N--CH3      http://www.public.iastate.edu/~nlewin
>             \  / \ /            nlewin at iastate.edu
>              N    C
>              |   ||             Currently
>             CH3   O             Graphics Lab
>                                 School of Computing
>                                 National University of Singapore
>      The Real Part of Coffee    kohnicho at comp.nus.edu.sg
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
+---------------------------------------------------------------------------+
| Robert Gentleman                 phone : (617) 632-5250                   |
| Associate Professor              fax:   (617)  632-2444                   |
| Department of Biostatistics      office: M1B28
| Harvard School of Public Health  email: rgentlem at jimmy.dfci.harvard.edu   |
+---------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Tue Sep 18 16:00:51 2001
From: s-luppescu at uchicago.edu (s-luppescu@uchicago.edu)
Date: Tue, 18 Sep 2001 09:00:51 -0500 (CDT)
Subject: [R] help in a separate window under linux
In-Reply-To: <005501c1402c$8351cf40$51d6f380@PMCMG01.nottingham.ac.uk>
Message-ID: <XFMail.20010918090051.s-luppescu@uchicago.edu>

On 18-Sep-2001 Dr Stuart Leask wrote:
> Hi there.
> 
> R v1.3.0, Slackware linux 7.1 or Windows 98SE, PII 266, 64Mb RAM.
> 
> I notice that under windows, R puts help info (ie. the response to
> '?<function>') into a new window, whereas under linux, it puts it into the
> main console window. I find the former much more helpful when checking a
> function's syntax.
> 
> Is there a simple way of configuring R under linux to put its help messages
> into a separate, new console?

1) Use ESS. Help then comes up in its own buffer.
2) Use HTML help. Put your browser in a separate virtual desktop if things get
too cluttered.
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl.html
http://musuko.uchicago.edu/pubkey.asc for PGP Public Key
ICQ #21172047  AIM: psycho7070
Uncertain fortune is thoroughly mastered by the equity of the calculation.
- Blaise Pascal
>> Sent on 18-Sep-2001 at 08:58:16 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Tue Sep 18 15:04:14 2001
From: andy_liaw at merck.com (Liaw, Andy)
Date: Tue, 18 Sep 2001 09:04:14 -0400
Subject: [R] help in a separate window under linux
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC8250@usrymx10.merck.com>

I suspect that installing xless and use that as the pager might be easier...

Andy

> -----Original Message-----
> From: Peter Dalgaard BSA [mailto:p.dalgaard at biostat.ku.dk]
> Sent: Tuesday, September 18, 2001 8:34 AM
> To: baron at cattell.psych.upenn.edu
> Cc: r-help at stat.math.ethz.ch; stuart.leask at nottingham.ac.uk
> Subject: Re: [R] help in a separate window under linux
> 
> 
> baron at cattell.psych.upenn.edu (Jonathan Baron) writes:
> 
> > >From owner-r-help at stat.math.ethz.ch Tue Sep 18 07:23:04 2001
> > >Is there a simple way of configuring R under linux to put 
> its help messages
> > >into a separate, new console?
> > 
> > 1. help.start() puts them in a browser.
> > 
> > 2. You can make a bookmark or button on your browser for the R
> > documents in html on your disk, usually in /usr/lib/R/doc/html.
> > 
> > 3. You can have R itself running twice in different windows, once
> > just for help.  This is probably the most straightforward answer.
> > (In Gnome, you can put it in a different virtual desktop, and
> > switch back and forth with alt-shift-arrow - which is exceedingly
> > easy on a Kinesis keyboard.  I do this because my monitor is only
> > 17 inches, which is about right for one window.)
> > 
> > 4. You can use ESS, which uses the bottom half of the screen for
> > help.  I usually find that I want the whole screen, though, so I
> > end up closing the help window.
> > 
> > Perhaps there are other answers.  Jon Baron
> 
> 5. library(tcltk); options(pager=tkpager)
> 
> 6. options(pager="./mypager") with mypager
> #!/bin/sh
> cat > /tmp/foo
> xterm -e less /tmp/foo &
> 
> (getting a unique tempfile name and removing it when you're through
> reading is - um - an exercise for the reader)
> 
> 7. options(pager=function(file, header, title, delete.file)
>      system(paste("xterm", "-e less", file, "&")))
> 
> (getting the title right is going to be tricky:  it is generally
> something like "R Help on `ls'" and the quotes will confuse 
> the shell) 
> 
> The latter two obviously only work when less is installed...
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: 
> (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: 
> (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vograno at arbitrade.com  Tue Sep 18 21:55:23 2001
From: vograno at arbitrade.com (Vadim Ogranovich)
Date: Tue, 18 Sep 2001 14:55:23 -0500
Subject: [R] computational capacity of Linux network
Message-ID: <AFD78192EC49D311BFAE00902798AB8F23D516@jupiter.sc.arbitrade.com>

SUMMARY.

Thank you to all who responded to my question. As usual this list has proven
to be an incredible source of information. For reference I include all
replies I've received.

In summary there are four "products" out there (the interpretations are mine
so please consult the original messages below as necessary):
* www.mosix.org a Linux kernel patch that "automatically
shuffles processes around a network of Linux machines to maximize
performance & make use of memory".

* Codine batch queuing system.  Codine is freely available from
www.sun.com and works reasonably well on Linux boxes. To submit a job one
just prepend it with 'q'. Poor documentation is cited as a major drawback

* GNU queues. Seem to be very similar to Codine

* Load Sharing Facility. There is no information where it can be found, but
is cited not once along with analysis of pros and cons

Again, those interested in more details should read the original messages
included below as they have a lot of valuable information.

Thanks,
Vadim



From:	Taylor, Z Todd [todd.taylor at pnl.gov]
Sent:	Tuesday, September 18, 2001 7:54 AM
To:	'Vadim Ogranovich'
Cc:	Taylor, Z Todd
Subject:	RE: [R] computational capacity of Linux network

Vadim Ogranovich [mailto:vograno at arbitrade.com] wrote:

> As a part of our work we run a lot of non-interactive 
> computational jobs. To
> increase the throughput we would like to distribute the load 
> over the entire
> network and we are looking at Linux network as a platform. 
> Ideally we would
> like to be able to submit a job to the network, rather than 
> to a computer,
> and let the "network" to figure out the resource to run the job on.
> 
> I'd like to hear from those people who have had an experience 
> of working in
> such an environment. Specifically
> * what system (Red Hat, etc.) was used? What kind of software 
> was used for
> load balancing? 

I've done a lot of heavy crunching using Linux and the Codine
batch queueing system.  Codine is freely available from
www.sun.com and works reasonably well on Linux boxes.

> * How big is the USER overhead to set such a job 
> comparatively to running a
> command from shell? How reliable and convenient error 
> reporting is if the
> job fails?

Codine uses an extension to the shell language(s) to allow users
to tailor their scripts.  For my purposes, I wrote a simple
wrapper script that lets any user submit any job without special
requirements by simply prepending a 'q' to it.  E.g.,

   q my_big_program -arg1 -arg2 -arg3

Very conventient.  Error reporting is okay.  You can direct stderr
to a file and/or send email to a particular user if something goes
wrong.  Codine has various settings for restarting queues if the
machine goes down in the middle of a job.  Errors that happen in
the queueing system (as opposed to your script) are a little harder
to figure out.

> * how much of sysadmin time is required to maintain such a network?
> * any other comment.

Once things are running, not much.  Codine's installation routines
make that part pretty easy as long as nothing goes wrong.  Mine
were all easy except the RedHat 7.1 boxes, for which I had to make
one minor change to an install script (documented in Sun's FAQ).
My system is a mixture of RH 6.* and 7.1.

Codine's documentation is weak at best.  In fact, I'd say it's quite
poor.  I had been using DQS (Florida State University) before Codine,
and since Codine is a derivative thereof, I've been able to figure
most things out.  But a newcomer might have a little trouble getting
bootstrapped.

All in all I'm reasonably pleased with Codine.

> Please reply directly to me and I'll post the summary.
> 
> Thanks,
> Vadim

--Todd
-- 
Z. Todd Taylor
Pacific Northwest National Laboratory
Todd.Taylor at pnl.gov
Why do you say the alarm went off, when really it came on?

From:	detlef.steuer at UniBw-Hamburg.DE
Sent:	Tuesday, September 18, 2001 1:11 AM
To:	Vadim Ogranovich
Subject:	RE: [R] computational capacity of Linux network

Hi!

We did the same last week.
Using mosix (www.mosix.org) gives a virtual supercomputer without any user
overhead. Perhaps a slow net is a problem.

Distribution doesn?t matter. We usr RedHat and SuSE in a mix.
Any distribution should do, because mosix is nothing but a kernel patch.

Sysadmin time can not be estimated from a week of experience. After setting
up
we had no problems.

Seems to be a really great tool.

detlef

 On 17-Sep-2001 Vadim Ogranovich wrote:
> Hi, This is not an R question per ce, but I feel like this is a right

[...]

Detlef Steuer ** Universit?t der Bw ** 22043 Hamburg
Tel: (0049) (0)40/6541-2819
steuer at unibw-hamburg.de

"Whenever there is a conflict between human rights and 
property rights, human rights must prevail." - Lincoln

From:	Michael Mader [m.mader at gsf.de]
Sent:	Monday, September 17, 2001 10:40 PM
To:	Vadim Ogranovich
Subject:	Re: [R] computational capacity of Linux network

Vadim Ogranovich wrote:

> load balancing?

We are successfully using lsf (Load Sharing Facility) on our Tru64
(workstation) clusters. IRIX is ok as well and Linux is at least
supported (haven't tested lsf on it).

> * How big is the USER overhead to set such a job comparatively to running
a
> command from shell? 

Depends on. Straitforward jobs are as simple as possible. Job
dependencies are quite easy as well.
There seems to be a X GUI around but I've never used it.

> How reliable and convenient error reporting is if the
> job fails?

Reports success, no answer <=> no success. An Obstacle are network
breakdowns (queue might not be used any more, in severe cases jobs can
be lost and have to be resubmitted).

> * how much of sysadmin time is required to maintain such a network?

Mainly installation/updating. Saves a lot of time compared to host
specific job submission systems.

> 

-- 
Michael T. Mader
Institute for Bioinformatics/MIPS, GSF
0049-89-3187-3576

From:	Warnes, Gregory R [gregory_r_warnes at groton.pfizer.com]
Sent:	Monday, September 17, 2001 4:44 PM
To:	'Vadim Ogranovich'
Cc:	'r-help at stat.math.ethz.ch'
Subject:	RE: [R] computational capacity of Linux network


Hi Vadim,

I have set up just such a system using MOSIX (http://www.mosix.org) and
ClusterNFS (http://ClusterNFS.sourceforege.net). MOSIX automatically
shuffles processes around a network of Linux machines to maximize
performance & make use of memory.  I've successfully used R, C, and Java
programs in this environment and have been very happy. 

<blatant advertisement>
I developed ClusterNFS to simplify the setup and maintenance of a group of
Linux machines by allowing all of the machines to share a common root
filesystem.  This is accomplished by providing 'interpreted file names' so
that configuration files can differ as necessary, while maintaining the
common file system.
</blatant advertisement>

I used them both with Debian, but they can be used with any distribution.  

-Greg

From:	Aravind Subramanian [aravind at genome.wi.mit.edu]
Sent:	Monday, September 17, 2001 3:58 PM
To:	Vadim Ogranovich
Subject:	Re: [R] computational capacity of Linux network

A commercial(?) software package that does this and which is used by the
systems
group here is load sharing facility (lsf). I havent used it myself but have
heard
that it works quite well.

aravind


From:	Harry Mangalam [mangalam at home.com]
Sent:	Monday, September 17, 2001 5:29 PM
To:	Vadim Ogranovich
Subject:	Re: [R] computational capacity of Linux network

If you use GNU queue, it's very cheap, easy to use, and once set up, trivial
to maintain.  It's not the easiest in the world to set up, about as
difficult as setting up samba or NFS correctly (NFS is
required to make use of it).

It's certianly not as full-featured as LSF or one of the other commercial
load-levelling utils, but it's great value for the $ (even considering the
amount of time it takes to set up).

In terms of submitting the job to the network, it does exactly this, and
queue takes care of figuring out which machine to run it on, etc.  From a
user's POV, all you do is prefix the job with 'q' and
queue takes care of the rest.

hjm

Cheers, Harry

Harry J Mangalam -- (949) 856 2847 (v&f) -- mangalam at home.com 
         [plain text appreciated, if possible]

From:	Dirk Eddelbuettel [edd at debian.org]
Sent:	Monday, September 17, 2001 2:38 PM
To:	Vadim Ogranovich
Subject:	Re: [R] computational capacity of Linux network

On Mon, Sep 17, 2001 at 02:40:43PM -0500, Vadim Ogranovich wrote:
> As a part of our work we run a lot of non-interactive computational jobs.
To
> increase the throughput we would like to distribute the load over the
entire
> network and we are looking at Linux network as a platform. Ideally we
would
> like to be able to submit a job to the network, rather than to a computer,
> and let the "network" to figure out the resource to run the job on.

Mosix does that.

> I'd like to hear from those people who have had an experience of working
in
> such an environment. Specifically
> * what system (Red Hat, etc.) was used? What kind of software was used for
> load balancing? 

You can use any. The original beowulf was built on RedHat, but many distros
can be used. See the debian-beowulf mailing list archives for Debian, and in
particular the set of already packages tools and libraries that are
available for Debian.

> * How big is the USER overhead to set such a job comparatively to running
a
> command from shell?

Not really any under eg Mosix.

> How reliable and convenient error reporting is if the job fails?

That is pretty much unchanged from when otherb atched jobs fail.

> * how much of sysadmin time is required to maintain such a network?

Depends on how many machines, how good an infrastructure (ie Debian is
still easy to maintain in large quantities).

> * any other comment.
> 
> Please reply directly to me and I'll post the summary.

Aren't you in Chicago?  I'd *love* to work on such a project.

Cheers, Dirk
(a quant finance PhD)

-- 
Three out of two people have difficulties with fractions.

From:	Huntsinger, Reid [reid_huntsinger at merck.com]
Sent:	Monday, September 17, 2001 1:50 PM
To:	'Vadim Ogranovich'
Subject:	RE: [R] computational capacity of Linux network

If you haven't already, you should look at the Mosix site www.mosix.org and
the mailing list. Mosix is a kernel module/patch for Linux on Intel-like
machines which might do more or less what you want. 

Reid Huntsinger


-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE REGARDING PRIVACY AND CONFIDENTIALITY 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Tue Sep 18 22:09:31 2001
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Tue, 18 Sep 2001 16:09:31 -0400
Subject: [R] computational capacity of Linux network
Message-ID: <5429125E11E4D411AF7300805FE603A8014CEE26@groexmbcr02.pfizer.com>


Steve Wisdom [swisdom at arbitrade.com] pointed out a typo:  The URL for
ClusterNFS should be http://clusternfs.sourceforge.net.

-Greg



-----Original Message-----
From: Warnes, Gregory R [mailto:gregory_r_warnes at groton.pfizer.com]
Sent: Monday, September 17, 2001 7:44 PM
To: 'Vadim Ogranovich'
Cc: 'r-help at stat.math.ethz.ch'
Subject: RE: [R] computational capacity of Linux network



Hi Vadim,

I have set up just such a system using MOSIX (http://www.mosix.org) and
ClusterNFS (http://ClusterNFS.sourceforege.net). MOSIX automatically
shuffles processes around a network of Linux machines to maximize
performance & make use of memory.  I've successfully used R, C, and Java
programs in this environment and have been very happy. 

<blatant advertisement>
I developed ClusterNFS to simplify the setup and maintenance of a group of
Linux machines by allowing all of the machines to share a common root
filesystem.  This is accomplished by providing 'interpreted file names' so
that configuration files can differ as necessary, while maintaining the
common file system.
</blatant advertisement>

I used them both with Debian, but they can be used with any distribution.  

-Greg


-----Original Message-----
From: Vadim Ogranovich [mailto:vograno at arbitrade.com]
Sent: Monday, September 17, 2001 3:41 PM
Cc: R-help at stat.math.ethz.ch
Subject: [R] computational capacity of Linux network


Hi, This is not an R question per ce, but I feel like this is a right
community to ask it.

As a part of our work we run a lot of non-interactive computational jobs. To
increase the throughput we would like to distribute the load over the entire
network and we are looking at Linux network as a platform. Ideally we would
like to be able to submit a job to the network, rather than to a computer,
and let the "network" to figure out the resource to run the job on.

I'd like to hear from those people who have had an experience of working in
such an environment. Specifically
* what system (Red Hat, etc.) was used? What kind of software was used for
load balancing? 
* How big is the USER overhead to set such a job comparatively to running a
command from shell? How reliable and convenient error reporting is if the
job fails?
* how much of sysadmin time is required to maintain such a network?
* any other comment.

Please reply directly to me and I'll post the summary.

Thanks,
Vadim

-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE REGARDING PRIVACY AND CONFIDENTIALITY 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be
privileged. It is intended for the addressee(s) only. Access to this E-mail
by anyone else is unauthorized. If you are not an addressee, any disclosure
or copying of the contents of this E-mail or any action taken (or not taken)
in reliance on it is unauthorized and may be unlawful. If you are not an
addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Wed Sep 19 05:28:38 2001
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Wed, 19 Sep 2001 15:28:38 +1200
Subject: [R] Error mean square
In-Reply-To: <Pine.GSO.4.31.0109180647530.8286-100000@auk.stats>
References: <200109180258.OAA02019@gosset.stats.waikato.ac.nz>
Message-ID: <200109190329.PAA05322@gosset.stats.waikato.ac.nz>

At 06:56 AM 18-09-01 +0100, Prof Brian D Ripley wrote:
>On Tue, 18 Sep 2001, Murray Jorgensen wrote:
>> If rb.lm is an lm-object, I can access the error mean square as
>> s2 <- sum(rb.lm$residuals^2)/rb.lm$df.residual
>> This seems a bit like hard work for such a commonly wanted quantity. Is
>> there a better way to do this?
>For a model without weights
>
>summary(rb.lm)$sigma^2
>
>or
>
>deviance(rb.lm)/df.residual(rb.lm)

I know that I didn't ask questions of efficiency, but these two are slower
than
my proposal, especially the one calling summary.

>BTW, I don't really know what you mean by `error mean square' (I would say
>`residual mean square'), but suspect that when weights are involved you
>want the weighted form which each of these compute.

I can't believe that you have never heard the term `error mean square'. Do you
mean that you find it ambiguous, or that it is to be deprecated for some
reason?


Dr Murray Jorgensen      http://www.stats.waikato.ac.nz/Staff/maj.html 
Department of Statistics, University of Waikato, Hamilton, New Zealand 
Email: maj at waikato.ac.nz                            Fax +64-7 838 4155
Phone +64-7 838 4773 home phone +64-7 856 6705  Mobile +64-21 139 5862

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Wed Sep 19 07:43:38 2001
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Wed, 19 Sep 2001 17:43:38 +1200 (NZST)
Subject: [R] Save/Display R Work
Message-ID: <Pine.SOL.4.21.0109191740180.5988-100000@stat1.stat.auckland.ac.nz>

Hi,

I was tutoring in the lab when a student asked me this question.

Is it possible to save the work done in R, then source it back in AND
display all the work within R later?  I know that one can save the history
(i.e. all the codes in a session) in *.R format, then source it back in at
a later stage.  However the historical codes will not be displayed within
R, only the line source(...) is displayed.

I suggested the student to use notepad (or equivalent) to do the
codes.  However I'm interested to know if there are ways to display the
history (method other than Display File under the File menu) in R (Windows
version).

Thanks,

Ko-Kang Wang

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub (SDK)
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep 19 08:18:43 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 19 Sep 2001 07:18:43 +0100 (BST)
Subject: [R] Save/Display R Work
In-Reply-To: <Pine.SOL.4.21.0109191740180.5988-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.GSO.4.31.0109190713110.9214-100000@auk.stats>

On Wed, 19 Sep 2001, Ko-Kang Kevin Wang wrote:

> Hi,
>
> I was tutoring in the lab when a student asked me this question.
>
> Is it possible to save the work done in R, then source it back in AND
> display all the work within R later?  I know that one can save the history
> (i.e. all the codes in a session) in *.R format, then source it back in at
> a later stage.  However the historical codes will not be displayed within
> R, only the line source(...) is displayed.
>
> I suggested the student to use notepad (or equivalent) to do the
> codes.  However I'm interested to know if there are ways to display the
> history (method other than Display File under the File menu) in R (Windows
> version).

Effectively the same thing is done by the history() command (all versions
which can save the history, which is all but Unix without readline, AFAIK).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cof at agere.com  Wed Sep 19 12:55:47 2001
From: cof at agere.com (Ortega Fernandez, Carlos (carlos))
Date: Wed, 19 Sep 2001 12:55:47 +0200
Subject: [R] textbook on experimental design?
Message-ID: <B010EF86FE79904186E666A83CA90B3CA62933@SP0005EXCUAG01.ags.agere.com>

Yes,

You can try one that is becoming a classic in this subject:

"Design and Analysis of Experiments. Douglas C. MontGomery. 5th Edition.
John Wiley and Sons". Although professor Douglas prefers Minitab and
Design-Expert to illustrate his examples.

And if you are interested in getting more examples based in S, you can
download the S-Plus statistics manuals (S-Plus Guide to Statistics - Part I.
It is a very large pdf file) which have one entire chapter dedicated to this
issue (Designed Experiments and Analysis of Variance - Chapter 15), at least
covers the most typical kind of experimental designs. Note that some of the
functions are not implemented in R yet. The URL where you can find these
manuals is as follows: http://www.insightful.com/resources/doc/unixdoc.html.

Hope that this helps.

Carlos Ortega.


-----Mensaje original-----
De: eac at ma.adfa.edu.au [mailto:eac at ma.adfa.edu.au]
Enviado el: martes 18 de septiembre de 2001 8:39
Para: R Help list
Asunto: [R] textbook on experimental design?


I'll be teaching a graduate course on (the analysis of) experimental
designs next year, using R. Does anyone know of a suitable textbook?

(Venables and Ripley MASS Ch6 on Linear Models covers roughly the right
material, but at a level that is way too difficult for my students.)

Sorry if this has been asked before. I've looked through the archives and
found Julian Faraway's book, but that's mainly regresion.

Thanks,
	Ted.

Dr E.A. Catchpole
School of Maths & Stats                Honorary Senior Research Fellow
University College, UNSW               Institute of Maths & Stats
Australian Defence Force Academy       University of Kent at Canterbury
Canberra, ACT 2600, Australia          Canterbury CT2 7NF, England
e-catchpole at adfa.edu.au                E.A.Catchpole at ukc.ac.uk
www.ma.adfa.edu.au/~eac
fax: +61 2 6268 8886

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From v.moreno at ico.scs.es  Wed Sep 19 18:53:31 2001
From: v.moreno at ico.scs.es (Victor Moreno)
Date: Wed, 19 Sep 2001 12:53:31 -0400
Subject: [R] Building a dll for windows
In-Reply-To: <200109190201.EAA07414@stat.math.ethz.ch>
References: <200109190201.EAA07414@stat.math.ethz.ch>
Message-ID: <01091912533100.03175@serc-vm.ico.scs.es>

This is a recurrent question but could not find the answer in the 
documentation.

I want to build a dll for windows from a fortran program to be loaded with 
dyn.load. I can do it easily for linux with: g77 -shared -o foo.dll foo.f

The g77 compiler (mingw-1.01) for windows does not recognise the -shared 
option.

In windows the Writing extensions manual tells to use Rcmd SHLIB but I can't 
find Rcmd

Any help would be appreciated.

Victor Moreno
Catalan Institute of Oncology
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep 19 13:57:50 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Sep 2001 13:57:50 +0200
Subject: [R] Building a dll for windows
In-Reply-To: <01091912533100.03175@serc-vm.ico.scs.es>
References: <200109190201.EAA07414@stat.math.ethz.ch>
	<01091912533100.03175@serc-vm.ico.scs.es>
Message-ID: <x2n13r9yv5.fsf@blueberry.kubism.ku.dk>

Victor Moreno <v.moreno at ico.scs.es> writes:

> This is a recurrent question but could not find the answer in the 
> documentation.
> 
> I want to build a dll for windows from a fortran program to be loaded with 
> dyn.load. I can do it easily for linux with: g77 -shared -o foo.dll foo.f
> 
> The g77 compiler (mingw-1.01) for windows does not recognise the -shared 
> option.
> 
> In windows the Writing extensions manual tells to use Rcmd SHLIB but I can't 
> find Rcmd
> 
> Any help would be appreciated.

Rcmd SHLIB is exactly for sorting out these OS differences.

Rcmd.exe should be sitting in the same directory as Rgui.exe. I'm not
quite sure whether it is selectable during installation.

Did you read

http://www.stats.ox.ac.uk/pub/Rtools/ ?

You might also want to have a look at the readme.packages file in the
top R directory.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Sep 19 14:34:41 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 19 Sep 2001 14:34:41 +0200
Subject: [R] Building a dll for windows
References: <200109190201.EAA07414@stat.math.ethz.ch>
		<01091912533100.03175@serc-vm.ico.scs.es> <x2n13r9yv5.fsf@blueberry.kubism.ku.dk>
Message-ID: <3BA890E1.FF2169C9@statistik.uni-dortmund.de>

Peter Dalgaard BSA wrote:
> 
> Victor Moreno <v.moreno at ico.scs.es> writes:
> 
> > This is a recurrent question but could not find the answer in the
> > documentation.
> >
> > I want to build a dll for windows from a fortran program to be loaded with
> > dyn.load. I can do it easily for linux with: g77 -shared -o foo.dll foo.f
> >
> > The g77 compiler (mingw-1.01) for windows does not recognise the -shared
> > option.
> >
> > In windows the Writing extensions manual tells to use Rcmd SHLIB but I can't
> > find Rcmd
> >
> > Any help would be appreciated.
> 
> Rcmd SHLIB is exactly for sorting out these OS differences.
> 
> Rcmd.exe should be sitting in the same directory as Rgui.exe. I'm not
> quite sure whether it is selectable during installation.

If installing from the SteupR.exe Wizard, you can choose "source package
installation files". 


> Did you read
> 
> http://www.stats.ox.ac.uk/pub/Rtools/ ?
> 
> You might also want to have a look at the readme.packages file in the
> top R directory.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Wed Sep 19 15:34:27 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 19 Sep 2001 09:34:27 -0400
Subject: [R] Building a dll for windows
In-Reply-To: <01091912533100.03175@serc-vm.ico.scs.es>
References: <200109190201.EAA07414@stat.math.ethz.ch> <01091912533100.03175@serc-vm.ico.scs.es>
Message-ID: <j47hqtoct96flslv1euf3dbss8f9qjaehg@4ax.com>

On Wed, 19 Sep 2001 12:53:31 -0400, you wrote in message
<01091912533100.03175 at serc-vm.ico.scs.es>:

>This is a recurrent question but could not find the answer in the 
>documentation.
>
>I want to build a dll for windows from a fortran program to be loaded with 
>dyn.load. I can do it easily for linux with: g77 -shared -o foo.dll foo.f
>
>The g77 compiler (mingw-1.01) for windows does not recognise the -shared 
>option.
>
>In windows the Writing extensions manual tells to use Rcmd SHLIB but I can't 
>find Rcmd

Rcmd.exe should be in the "bin" subdirectory of the R home directory.
If you're compiling things or putting together packages, it's a good
idea to put that directory on your path.

Other useful directories on your path if you're developing code:
 
 1. the directory where you've got the collection of GNU tools (sed,
make, etc.)
 2. the Perl bin directory
 3. directories where you keep any other useful tools and batch files
you'll want to use
 4. the Windows\command directory
 5. the TeX bin directory
 6. the HTML Help Workshop directory, if you're building Windows help
files.

My path has them in that order (with the R bin directory between 4 and
5); I'm not sure how crucial the order is, except that you definitely
want to find the GNU tools before you find similarly named tools from
other collections. 

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Wed Sep 19 15:35:17 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Wed, 19 Sep 2001 15:35:17 +0200
Subject: [R] Building a dll for windows
In-Reply-To: <01091912533100.03175@serc-vm.ico.scs.es>
Message-ID: <MABBLJDICACNFOLGIHJOOEMKCFAA.phgrosje@ulb.ac.be>

Victor Moreno wrote:
>This is a recurrent question but could not find the answer in the
>documentation.

>I want to build a dll for windows from a fortran program to be loaded with
>dyn.load. I can do it easily for linux with: g77 -shared -o foo.dll foo.f

>The g77 compiler (mingw-1.01) for windows does not recognise the -shared
>option.

>In windows the Writing extensions manual tells to use Rcmd SHLIB but I
can't
>find Rcmd

You don't tell which R version you have, but in v. 1.3.x, Rcmd.exe is in the
\bin subdirectory.
All the best,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep 19 16:50:49 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 19 Sep 2001 15:50:49 +0100 (BST)
Subject: [R] Building a dll for windows
In-Reply-To: <01091912533100.03175@serc-vm.ico.scs.es>
Message-ID: <Pine.LNX.4.31.0109191549350.1353-100000@gannet.stats>

On Wed, 19 Sep 2001, Victor Moreno wrote:

> This is a recurrent question but could not find the answer in the
> documentation.
>
> I want to build a dll for windows from a fortran program to be loaded with
> dyn.load. I can do it easily for linux with: g77 -shared -o foo.dll foo.f
>
> The g77 compiler (mingw-1.01) for windows does not recognise the -shared
> option.
>
> In windows the Writing extensions manual tells to use Rcmd SHLIB but I can't
> find Rcmd
>
> Any help would be appreciated.

Just to add a small piece: with that compiler g77 --shared -o foo.dll
foo.f works for me.  Note, --shared.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mmiller3 at iupui.edu  Wed Sep 19 17:51:00 2001
From: mmiller3 at iupui.edu (Michael A. Miller)
Date: 19 Sep 2001 10:51:00 -0500
Subject: [R] Save/Display R Work
In-Reply-To: Ko-Kang Kevin Wang's message of "Wed, 19 Sep 2001 17:43:38 +1200 (NZST)"
References: <Pine.SOL.4.21.0109191740180.5988-100000@stat1.stat.auckland.ac.nz>
Message-ID: <87u1xz5gd7.fsf@lumen.med.iupui.edu>

>>>>> "Ko-Kang" == Ko-Kang Kevin Wang <kwan022 at stat.auckland.ac.nz> writes:

    > Is it possible to save the work done in R, then source it
    > back in AND display all the work within R later?  I know
    > that one can save the history (i.e. all the codes in a
    > session) in *.R format, then source it back in at a later
    > stage.  However the historical codes will not be displayed
    > within R, only the line source(...) is displayed.

If you give source the argument echo=T, the source'd code will be
displayed.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgajer at math.jhu.edu  Wed Sep 19 18:25:13 2001
From: pgajer at math.jhu.edu (pawel)
Date: Wed, 19 Sep 2001 12:25:13 -0400
Subject: [R] 3d images
Message-ID: <3BA8C6E9.C1BEAF24@math.jhu.edu>

Hi,
The screenshots page of the R-project contains nice 3d images: "3d plot
of a surface" and "image and 3d plot of a volcano".
What packages were used to generate these images?
Or
What packages have 3d plotting capabilities?
thanks
pawel


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From elvis at xlsolutions-corp.com  Wed Sep 19 18:29:58 2001
From: elvis at xlsolutions-corp.com (Elvis Miller, PhD)
Date: Wed, 19 Sep 2001 12:29:58 -0400
Subject: [R] Course: R Fundamentals and Programming Techniques in New Jersey (October 24-26) 
Message-ID: <200109191629.f8JGTvD10625@badass.hosting-network.com>

XLSolutions Corporation (www.xlsolutions-corp.com) is pleased to
announce a three-day R course, "R Fundamentals and Programming
Techniques" in:

                     Edison, New Jersey - October 24-26, 2001.

Cost for 3-day course:

	Commercial   $985
	Academic       $875

Payment due 7 days AFTER the class and Includes course materials,
90 days Technical Support for R, snacks and continental breakfast!)

PARTICIPANTS TO OUR CLASSES ARE ALWAYS PROVIDED WITH A COMPUTER!

R is a freely available implementation of the S language and environment,
for statistical computing and graphics similar to the commercial S-PLUS.
You can download a copy of R software (Windows, Mac, Unix & Linux)
from http://cran.r-project.org.

Course Description:

This three-day R course focuses on a broad spectrum of topics, from
reading raw data to a comparison of R, S and SAS. We will learn the
essentials of data manipulation, graphical visualization and R
programming. We will explore statistical data analysis tools, including
graphics with data sets from areas such as Finance, Biopharm,
manufacturing and E-commerce. However, participants are encouraged to
bring their own data for an interactive session with the trainer.


Registration and more information on outline and trainer:

Visit us: www.xlsolutions-corp.com/training.htm

Email Sue Turner: sue at xlsolutions-corp.com
Phone: 206-686-1578 x221



Course Format:

This course consists of a series of short lectures with demonstrations and
interactive sessions for the participants. Each student is provided with
bound copies of the notes and a CD-ROM containing all examples,
exercises and software used on the course.


Share Your Thoughts:

Are there any additional topics you would like for this course to address?
Would you like for this course to be offered in another city?

Please let us know by contributing to our recommendation list:
training at xlsolutions-corp.com.


================================================


Three-day R Fundamentals and Programming Techniques (New Jersey)

Pre-registration Form (Please email or print and fax: 206-686-1578)
XLsolutions Corporation: For your Solutions needs, Consulting and
Training. www.xlsolutions-corp.com



Title...... First Name ................. Last Name....................

Organization..........................................................

Mailing Address.......................................................

..............................................................

..............................................................

Zip Code...................... Country.............................

Telephone........................... Fax ...............................

E-mail................................................................

Payment will be made by: (1) check (2) invoice (3) bank transfer

Sincerely

Elvis Miller, PhD
Manager Training and Technical Support
North American Division
XLSolutions Corporation
Email: elvis at xlsolutions-corp.com
Phone: 206-686-1578
Web: www.xlsolutions-corp.com


XLSolutions also offer customized private courses delivered by expert
trainers with a track teaching and training record in their fields.

XLSolutions Consulting Group meets your needs from design to development.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Wed Sep 19 19:05:37 2001
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Wed, 19 Sep 2001 13:05:37 -0400
Subject: [R] textbook on experimental design?
References: <B010EF86FE79904186E666A83CA90B3CA62933@SP0005EXCUAG01.ags.agere.com>
Message-ID: <3BA8D061.D9902EC1@umsanet.edu.bo>

Hola!

Might be thta Montgomery's is becoming a classic, but 
to actually learn design of experiments for the first time from that
book seems rather difficult to me. Better to go with an 
other classic, Bkox, Hunter & Hunter "Statistics for experimenters"
(which exist in a spanish translation, if anyone interested)

Kjetil Halvorsen.

"Ortega Fernandez, Carlos (carlos)" wrote:
> 
> Yes,
> 
> You can try one that is becoming a classic in this subject:
> 
> "Design and Analysis of Experiments. Douglas C. MontGomery. 5th Edition.
> John Wiley and Sons". Although professor Douglas prefers Minitab and
> Design-Expert to illustrate his examples.
> 
> And if you are interested in getting more examples based in S, you can
> download the S-Plus statistics manuals (S-Plus Guide to Statistics - Part I.
> It is a very large pdf file) which have one entire chapter dedicated to this
> issue (Designed Experiments and Analysis of Variance - Chapter 15), at least
> covers the most typical kind of experimental designs. Note that some of the
> functions are not implemented in R yet. The URL where you can find these
> manuals is as follows: http://www.insightful.com/resources/doc/unixdoc.html.
> 
> Hope that this helps.
> 
> Carlos Ortega.
> 
> -----Mensaje original-----
> De: eac at ma.adfa.edu.au [mailto:eac at ma.adfa.edu.au]
> Enviado el: martes 18 de septiembre de 2001 8:39
> Para: R Help list
> Asunto: [R] textbook on experimental design?
> 
> I'll be teaching a graduate course on (the analysis of) experimental
> designs next year, using R. Does anyone know of a suitable textbook?
> 
> (Venables and Ripley MASS Ch6 on Linear Models covers roughly the right
> material, but at a level that is way too difficult for my students.)
> 
> Sorry if this has been asked before. I've looked through the archives and
> found Julian Faraway's book, but that's mainly regresion.
> 
> Thanks,
>         Ted.
> 
> Dr E.A. Catchpole
> School of Maths & Stats                Honorary Senior Research Fellow
> University College, UNSW               Institute of Maths & Stats
> Australian Defence Force Academy       University of Kent at Canterbury
> Canberra, ACT 2600, Australia          Canterbury CT2 7NF, England
> e-catchpole at adfa.edu.au                E.A.Catchpole at ukc.ac.uk
> www.ma.adfa.edu.au/~eac
> fax: +61 2 6268 8886
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Wed Sep 19 19:19:47 2001
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Wed, 19 Sep 2001 13:19:47 -0400
Subject: [R] 3d images
References: <3BA8C6E9.C1BEAF24@math.jhu.edu>
Message-ID: <3BA8D3B3.400309EE@umsanet.edu.bo>

Hola!

One package doing 3d plots is scatterplot3d, but the ones you are
referrin to are in base R: try 
demo("graphics") at the R prompt, and try
?image
?contour

Kjetil Halvorsen



pawel wrote:
> 
> Hi,
> The screenshots page of the R-project contains nice 3d images: "3d plot
> of a surface" and "image and 3d plot of a volcano".
> What packages were used to generate these images?
> Or
> What packages have 3d plotting capabilities?
> thanks
> pawel
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Wed Sep 19 20:04:20 2001
From: andy_liaw at merck.com (Liaw, Andy)
Date: Wed, 19 Sep 2001 14:04:20 -0400
Subject: [R] 3d images
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC825A@usrymx10.merck.com>

I believe you're seeing the output of Duncan Murdoch's Rgl package, which
links OpenGL to R.  On screen, one can use the mouse to rotate the 3D
object.

AFAIK this is only available on Duncan's web site (do a google search on his
name and you'll see it).  Currently it only runs on Windoze.  There's a
paper in the DSC-2001 proceeding (link from the official R web site).

Andy

> -----Original Message-----
> From: pawel [mailto:pgajer at math.jhu.edu]
> Sent: Wednesday, September 19, 2001 12:25 PM
> To: R-help at stat.math.ethz.ch
> Subject: [R] 3d images
> 
> 
> Hi,
> The screenshots page of the R-project contains nice 3d 
> images: "3d plot
> of a surface" and "image and 3d plot of a volcano".
> What packages were used to generate these images?
> Or
> What packages have 3d plotting capabilities?
> thanks
> pawel
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Wed Sep 19 20:16:50 2001
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Wed, 19 Sep 2001 20:16:50 +0200
Subject: [R] 3d images
In-Reply-To: <3BA8D3B3.400309EE@umsanet.edu.bo>
References: <3BA8C6E9.C1BEAF24@math.jhu.edu>
	<3BA8D3B3.400309EE@umsanet.edu.bo>
Message-ID: <15272.57619.1853.323773@celeborn.leisch.at>

>>>>> On Wed, 19 Sep 2001 13:19:47 -0400,
>>>>> kjetil halvorsen (kh) wrote:

  > Hola!
  > One package doing 3d plots is scatterplot3d, but the ones you are
  > referrin to are in base R: try 
  > demo("graphics") at the R prompt, and try
  > ?image
  > ?contour

I think 

help(persp)
example(persp)

is closer to what Pawel wants if he refers to 3d plots (persp is also
contained in R base).

Best,
Fritz

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Sep 19 20:23:24 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Wed, 19 Sep 2001 14:23:24 -0400 (EDT)
Subject: [R] 3d images
In-Reply-To: <51F9C42DA15CD311BD220008C707D81903DC825A@usrymx10.merck.com>
Message-ID: <Pine.LNX.4.30.0109191418350.24815-100000@bolker.zoo.ufl.edu>



  Actually, I think you're wrong ... previous correspondent noted that
these are generated by persp() [and that the scatterplot3d library is also
useful for 3D graphics, particularly since it includes primitives for
plotting points and lines in an existing 3D perspective].

  As has probably also been pointed out, xgobi is another tool for
rotation of point clouds.

  If anyone is interested, I have a cobbled-together solution for
3D-rotatable graphics; it actually uses a Java applet that someone else
wrote -- my code is R code to translate a surface into Mathematica
graphics format (!), which is what the Java applet reads as its input file
(see http://www.zoo.ufl.edu/bolker/emd-2000/surf2.html for an example).

  Ben Bolker

On Wed, 19 Sep 2001, Liaw, Andy wrote:

> I believe you're seeing the output of Duncan Murdoch's Rgl package, which
> links OpenGL to R.  On screen, one can use the mouse to rotate the 3D
> object.
>
> AFAIK this is only available on Duncan's web site (do a google search on his
> name and you'll see it).  Currently it only runs on Windoze.  There's a
> paper in the DSC-2001 proceeding (link from the official R web site).
>
> Andy
>
> > -----Original Message-----
> > From: pawel [mailto:pgajer at math.jhu.edu]
> > Sent: Wednesday, September 19, 2001 12:25 PM
> > To: R-help at stat.math.ethz.ch
> > Subject: [R] 3d images
> >
> >
> > Hi,
> > The screenshots page of the R-project contains nice 3d
> > images: "3d plot
> > of a surface" and "image and 3d plot of a volcano".
> > What packages were used to generate these images?
> > Or
> > What packages have 3d plotting capabilities?
> > thanks
> > pawel
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
> > r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._._._
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Wed Sep 19 20:34:19 2001
From: andy_liaw at merck.com (Liaw, Andy)
Date: Wed, 19 Sep 2001 14:34:19 -0400
Subject: [R] 3d images
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC825C@usrymx10.merck.com>

You're so very right!  I did not realize persp in R does shading (and other
tricks) that its counterpart in Splus cannot.  example(persp) shows the
capabilities very nicely.

Cheers,
Andy

> -----Original Message-----
> From: Ben Bolker [mailto:ben at zoo.ufl.edu]
> Sent: Wednesday, September 19, 2001 2:23 PM
> To: Liaw, Andy
> Cc: 'pawel'; R-help at stat.math.ethz.ch
> Subject: RE: [R] 3d images
> 
> 
> 
> 
>   Actually, I think you're wrong ... previous correspondent noted that
> these are generated by persp() [and that the scatterplot3d 
> library is also
> useful for 3D graphics, particularly since it includes primitives for
> plotting points and lines in an existing 3D perspective].
> 
>   As has probably also been pointed out, xgobi is another tool for
> rotation of point clouds.
> 
>   If anyone is interested, I have a cobbled-together solution for
> 3D-rotatable graphics; it actually uses a Java applet that 
> someone else
> wrote -- my code is R code to translate a surface into Mathematica
> graphics format (!), which is what the Java applet reads as 
> its input file
> (see http://www.zoo.ufl.edu/bolker/emd-2000/surf2.html for an 
> example).
> 
>   Ben Bolker
> 
> On Wed, 19 Sep 2001, Liaw, Andy wrote:
> 
> > I believe you're seeing the output of Duncan Murdoch's Rgl 
> package, which
> > links OpenGL to R.  On screen, one can use the mouse to 
> rotate the 3D
> > object.
> >
> > AFAIK this is only available on Duncan's web site (do a 
> google search on his
> > name and you'll see it).  Currently it only runs on 
> Windoze.  There's a
> > paper in the DSC-2001 proceeding (link from the official R 
> web site).
> >
> > Andy
> >
> > > -----Original Message-----
> > > From: pawel [mailto:pgajer at math.jhu.edu]
> > > Sent: Wednesday, September 19, 2001 12:25 PM
> > > To: R-help at stat.math.ethz.ch
> > > Subject: [R] 3d images
> > >
> > >
> > > Hi,
> > > The screenshots page of the R-project contains nice 3d
> > > images: "3d plot
> > > of a surface" and "image and 3d plot of a volcano".
> > > What packages were used to generate these images?
> > > Or
> > > What packages have 3d plotting capabilities?
> > > thanks
> > > pawel
> > >
> > >
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > > -.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read
> > > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To:
> > > r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > > _._._._._._._._._
> > >
> >
> > 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> > 
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> >
> 
> -- 
> 318 Carr Hall                                bolker at zoo.ufl.edu
> Zoology Department, University of Florida    
> http://www.zoo.ufl.edu/bolker
> Box 118525                                   (ph)  352-392-5697
> Gainesville, FL 32611-8525                   (fax) 352-392-3704
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Wed Sep 19 19:16:25 2001
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Wed, 19 Sep 2001 10:16:25 -0700 (PDT)
Subject: [R] 3d images
In-Reply-To: <3BA8C6E9.C1BEAF24@math.jhu.edu>
Message-ID: <20010919171625.85976.qmail@web13908.mail.yahoo.com>



They were produced by persp() and image(), both are in
the R base. Try example(persp) and example(image). 


--- pawel <pgajer at math.jhu.edu> wrote:
> Hi,
> The screenshots page of the R-project contains nice
> 3d images: "3d plot
> of a surface" and "image and 3d plot of a volcano".
> What packages were used to generate these images?
> Or
> What packages have 3d plotting capabilities?
> thanks
> pawel
> 
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


__________________________________________________
Terrorist Attacks on U.S. - How can you help?
Donate cash, emergency relief information
http://dailynews.yahoo.com/fc/US/Emergency_Information/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep 19 21:18:12 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Sep 2001 21:18:12 +0200
Subject: [R] textbook on experimental design?
In-Reply-To: <3BA8D061.D9902EC1@umsanet.edu.bo>
References: <B010EF86FE79904186E666A83CA90B3CA62933@SP0005EXCUAG01.ags.agere.com>
	<3BA8D061.D9902EC1@umsanet.edu.bo>
Message-ID: <x2d74n9eh7.fsf@blueberry.kubism.ku.dk>

kjetil halvorsen <kjetilh at umsanet.edu.bo> writes:

> Hola!
> 
> Might be thta Montgomery's is becoming a classic, but 
> to actually learn design of experiments for the first time from that
> book seems rather difficult to me. Better to go with an 
> other classic, Bkox, Hunter & Hunter "Statistics for experimenters"
> (which exist in a spanish translation, if anyone interested)
> 
> Kjetil Halvorsen.

Also, in this context one should probably mention Cochran & Cox:
Experimental Designs. Probably mostly as supplemental reading, it is
not much of a textbook, and it has the weakness that it doesn't have
anything about random effects. However, it is a classic (and the
slightly old-fashioned style can be quite charming for students), and
some may remember that good ol' Genstat came with a full set of worked
examples from that book to show how the model formulas would work out.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Wed Sep 19 23:15:13 2001
From: edd at debian.org (Dirk Eddelbuettel)
Date: Wed, 19 Sep 2001 16:15:13 -0500
Subject: [R] tcltk: Difficulties creating menus
Message-ID: <20010919161513.A15181@sonny.eddelbuettel.com>


I am struggling with adding menus to a tcltk application. The following
example (from the O'Reilly book on Perl/Tk) works fine:

#!/usr/bin/perl -w
use Tk;
my $mw = MainWindow->new;
$menub = $mw->Menubutton(-text => "Color")->pack();
foreach (qw/red yellow green blue grey/) {
  $menub->radiobutton(-label => $_, -command => \&set_bg,
                      -variable => \$background_color, -value => $_);
}
MainLoop;
sub set_bg {
  print "Background value is now: $background_color\n";
  $mw->configure(-background => $background_color);
}

I cannot get anything similar to work under R. Adding a tkmenubutton is
easy, but I fail to get it to "connect" to an actual menu composed of 
check or radiobuttons:

library(tcltk)
color<-"blue"
tt <- tktoplevel()
tkpack(mb <- tkmenubutton(tt, text="Color"))
## does nothing
## tkradiobutton(mb, variable=color, text="blue", value="blue",
##              command=set.bg)
##
## Error: Error in .Tcl(.Tcl.args(...)) :
##  		[tcl] bad option "add": must be cget or configure.
## tkadd(mb, tkcheckbutton, label="blue", variable=color)
##
## Dito
## tkcmd("add", tkcheckbutton, label="blue", variable=color)
tkpack(tkbutton(tt, text="Quit", command=function()tkdestroy(tt)))

Any pointers or examples would be greatly appreciated.

Thanks,  Dirk

-- 
Better to have an approximate answer to the right question 
than a precise answer to the wrong question. -- John Tukey
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep 19 23:44:22 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Sep 2001 23:44:22 +0200
Subject: [R] tcltk: Difficulties creating menus
In-Reply-To: <20010919161513.A15181@sonny.eddelbuettel.com>
References: <20010919161513.A15181@sonny.eddelbuettel.com>
Message-ID: <x2elp2zwi1.fsf@blueberry.kubism.ku.dk>

Dirk Eddelbuettel <edd at debian.org> writes:

> I am struggling with adding menus to a tcltk application. The following
> example (from the O'Reilly book on Perl/Tk) works fine:
> 
> #!/usr/bin/perl -w
> use Tk;
> my $mw = MainWindow->new;
> $menub = $mw->Menubutton(-text => "Color")->pack();
> foreach (qw/red yellow green blue grey/) {
>   $menub->radiobutton(-label => $_, -command => \&set_bg,
>                       -variable => \$background_color, -value => $_);
> }
> MainLoop;
> sub set_bg {
>   print "Background value is now: $background_color\n";
>   $mw->configure(-background => $background_color);
> }
> 
> I cannot get anything similar to work under R. Adding a tkmenubutton is
> easy, but I fail to get it to "connect" to an actual menu composed of 
> check or radiobuttons:
> 
> library(tcltk)
> color<-"blue"
> tt <- tktoplevel()
> tkpack(mb <- tkmenubutton(tt, text="Color"))
> ## does nothing
> ## tkradiobutton(mb, variable=color, text="blue", value="blue",
> ##              command=set.bg)
> ##
> ## Error: Error in .Tcl(.Tcl.args(...)) :
> ##  		[tcl] bad option "add": must be cget or configure.
> ## tkadd(mb, tkcheckbutton, label="blue", variable=color)
> ##
> ## Dito
> ## tkcmd("add", tkcheckbutton, label="blue", variable=color)
> tkpack(tkbutton(tt, text="Quit", command=function()tkdestroy(tt)))
> 
> Any pointers or examples would be greatly appreciated.

Variables need special handling. You cannot just link to an R variable
(because they tend to move around in memory when you assign them) as
you can in Tcl or Perl/Tk. The convention is (for now anyway)

tkxxx(...., variable="color",....)
tclvar$color <- "blue"
-etc-

Also note that Perl/Tk does its own sneaky things with the control
language, in particular it bypasses the creation of a menu widget, to
make everything more object oriented.

The R interface would be closer to the Tcl:

library(tcltk)
tclvar$color<-"blue"
tt <- tktoplevel()
tkpack(mb <- tkmenubutton(tt, text="Color"))
m <- tkmenu(mb)
tkconfigure(mb,menu=m)
for ( i in c("red", "blue", "green"))
   tkadd(m, "radio", label=i, variable="color", value=i)

(And I was just getting to this bit for the Rnews paper that Kurt has
been nagging me for. Thanks...)
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Thu Sep 20 00:30:19 2001
From: edd at debian.org (Dirk Eddelbuettel)
Date: Wed, 19 Sep 2001 17:30:19 -0500
Subject: [R] tcltk: Difficulties creating menus
In-Reply-To: <x2elp2zwi1.fsf@blueberry.kubism.ku.dk>; from p.dalgaard@biostat.ku.dk on Wed, Sep 19, 2001 at 11:44:22PM +0200
References: <20010919161513.A15181@sonny.eddelbuettel.com> <x2elp2zwi1.fsf@blueberry.kubism.ku.dk>
Message-ID: <20010919173019.A8640@debian.org>

On Wed, Sep 19, 2001 at 11:44:22PM +0200, Peter Dalgaard BSA wrote:
> Dirk Eddelbuettel <edd at debian.org> writes:
[...] 
> Variables need special handling. You cannot just link to an R variable

Ah, yes, I modified / extended the tkttest example, but forgot that here.

> The R interface would be closer to the Tcl:
> 
> library(tcltk)
> tclvar$color<-"blue"
> tt <- tktoplevel()
> tkpack(mb <- tkmenubutton(tt, text="Color"))
> m <- tkmenu(mb)
> tkconfigure(mb,menu=m)
> for ( i in c("red", "blue", "green"))
>    tkadd(m, "radio", label=i, variable="color", value=i)
 
Excellent. I had looked at tkmenu and tkadd but not figured out the
tkconfigure piece in between. Many thanks. 

> (And I was just getting to this bit for the Rnews paper that Kurt has
> been nagging me for. Thanks...)

So there will be more documentation and examples? Even better :)

Thanks, Dirk

-- 
Three out of two people have difficulties with fractions.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eac at ma.adfa.edu.au  Thu Sep 20 01:41:32 2001
From: eac at ma.adfa.edu.au (eac@ma.adfa.edu.au)
Date: Thu, 20 Sep 2001 09:41:32 +1000 (EST)
Subject: [R] textbook on experimental design?
In-Reply-To: <x2d74n9eh7.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.33.0109200839530.17222-100000@stat.ma.adfa.ed.au>

Many thanks to all who have replied so far.

Yes, Cochran & Cox is an old favourite of mine. I've also got, on my top
shelf, an old Genstat manual . . . maybe it's time I dusted it off.

It's surprising how old most of the books are that people are referring
to. The availability of great software like R means that the whole
emphasis of an experimental design course needs to change, I feel.
An elementary version of Chapter 6 of VR, expanded from 70 pages to 300 or
so, would be just the trick. Maybe Bill Venables should put it on his
to-do list . . .

Cheers,
	Ted.

Dr E.A. Catchpole
School of Maths & Stats                Honorary Senior Research Fellow
University College, UNSW               Institute of Maths & Stats
Australian Defence Force Academy       University of Kent at Canterbury
Canberra, ACT 2600, Australia          Canterbury CT2 7NF, England
e-catchpole at adfa.edu.au                E.A.Catchpole at ukc.ac.uk
www.ma.adfa.edu.au/~eac
fax: +61 2 6268 8886

On 19 Sep 2001, Peter Dalgaard BSA wrote:

> kjetil halvorsen <kjetilh at umsanet.edu.bo> writes:
>
> > Hola!
> >
> > Might be thta Montgomery's is becoming a classic, but
> > to actually learn design of experiments for the first time from that
> > book seems rather difficult to me. Better to go with an
> > other classic, Bkox, Hunter & Hunter "Statistics for experimenters"
> > (which exist in a spanish translation, if anyone interested)
> >
> > Kjetil Halvorsen.
>
> Also, in this context one should probably mention Cochran & Cox:
> Experimental Designs. Probably mostly as supplemental reading, it is
> not much of a textbook, and it has the weakness that it doesn't have
> anything about random effects. However, it is a classic (and the
> slightly old-fashioned style can be quite charming for students), and
> some may remember that good ol' Genstat came with a full set of worked
> examples from that book to show how the model formulas would work out.
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eac at ma.adfa.edu.au  Thu Sep 20 02:03:13 2001
From: eac at ma.adfa.edu.au (eac@ma.adfa.edu.au)
Date: Thu, 20 Sep 2001 10:03:13 +1000 (EST)
Subject: [R] Re: text book on experimental design
In-Reply-To: <51F9C42DA15CD311BD220008C707D81903DC8259@usrymx10.merck.com>
Message-ID: <Pine.LNX.4.33.0109200957470.17222-100000@stat.ma.adfa.ed.au>

Andy,

Thanks. Note that DeVeaux's book, at
www.williams.edu/Mathematics/rdeveaux/book/book.html, is marked "For use
only by students of Math 244 Spring 2001, Williams College" and "DRAFT: do
not distribute or copy".

Ted.

Dr E.A. Catchpole
School of Maths & Stats
University College, UNSW               Institute of Maths & Stats
Australian Defence Force Academy       University of Kent at Canterbury
Canberra, ACT 2600, Australia          Canterbury CT2 7NF, England
e-catchpole at adfa.edu.au                E.A.Catchpole at ukc.ac.uk
www.ma.adfa.edu.au/~eac
fax: +61 2 6268 8886

On Wed, 19 Sep 2001, Liaw, Andy wrote:

> Ted,
>
> Not sure if you are teaching to majors or non-majors.  At a fairly
> elementary level, Dick DeVaux of Williams College has been working on a book
> titled something like "Experimental Designs in the Real World".  He had been
> making draft of some chapters available on his web site.
>
> I've also found Kuehl's "Statistical Principles of Research Design and
> Analysis" to be quite good.
>
> For S/R, the "white book" (Statistical Models in S) has one or two chapters
> that are relevant.
>
> Hope this helps.
>
> Andy
> Andy I. Liaw, PhD
> Biometrics Research          Phone: (732) 594-0820
> Merck & Co., Inc.              Fax: (732) 594-1565
> mailto:andy_liaw at merck.com
>
>
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jyw at u.washington.edu  Thu Sep 20 05:33:35 2001
From: jyw at u.washington.edu (J. Wan)
Date: Wed, 19 Sep 2001 20:33:35 -0700 (PDT)
Subject: [R] Two ?'s:Permuting a data matrix and projection operator
In-Reply-To: <Pine.LNX.4.33.0109200957470.17222-100000@stat.ma.adfa.ed.au>
Message-ID: <Pine.A41.4.33.0109192024190.30574-100000@dante58.u.washington.edu>

Hi!

I have two questions:

1.  Is there an easy way/algorithm to obtain a series of permutated data
matrices which are obtained by permuting all the elements within each row?

Or is there a function that can permute all the elements for each row
instead of the whole matrix?

2.  Is there a function which helps find a matrix... projection operator
from p dimensional to p-1 dimensional subspace orthogonal to x, a real
number?


Thanks for your help!


**********************************************************


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Thu Sep 20 05:52:25 2001
From: chong at stat.purdue.edu (Chong Gu)
Date: Wed, 19 Sep 2001 22:52:25 -0500
Subject: [R] textbook on experimental design?
In-Reply-To: <x2d74n9eh7.fsf@blueberry.kubism.ku.dk> (message from Peter
	Dalgaard BSA on 19 Sep 2001 21:18:12 +0200)
Message-ID: <200109200352.WAA145816@odds.stat.purdue.edu>


   X-Authentication-Warning: blueberry.kubism.ku.dk: pd set sender to p.dalgaard at biostat.ku.dk using -f
   Cc: "Ortega Fernandez, Carlos (carlos)" <cof at agere.com>, eac at ma.adfa.edu.au,
	   R Help list <r-help at stat.math.ethz.ch>
   References: <B010EF86FE79904186E666A83CA90B3CA62933 at SP0005EXCUAG01.ags.agere.com>
	   <3BA8D061.D9902EC1 at umsanet.edu.bo>
   From: Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>
   Date: 19 Sep 2001 21:18:12 +0200
   Lines: 25
   User-Agent: Gnus/5.0808 (Gnus v5.8.8) Emacs/20.7
   MIME-Version: 1.0
   Content-Type: text/plain; charset=us-ascii
   Sender: owner-r-help at stat.math.ethz.ch
   Precedence: SfS-bulk

   kjetil halvorsen <kjetilh at umsanet.edu.bo> writes:

   > Hola!
   > 
   > Might be thta Montgomery's is becoming a classic, but 
   > to actually learn design of experiments for the first time from that
   > book seems rather difficult to me. Better to go with an 
   > other classic, Bkox, Hunter & Hunter "Statistics for experimenters"
   > (which exist in a spanish translation, if anyone interested)
   > 
   > Kjetil Halvorsen.

   Also, in this context one should probably mention Cochran & Cox:
   Experimental Designs. Probably mostly as supplemental reading, it is
   not much of a textbook, and it has the weakness that it doesn't have
   anything about random effects. However, it is a classic (and the
   slightly old-fashioned style can be quite charming for students), and
   some may remember that good ol' Genstat came with a full set of worked
   examples from that book to show how the model formulas would work out.

   -- 
      O__  ---- Peter Dalgaard             Blegdamsvej 3  
     c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
    (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
   ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
   -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   Send "info", "help", or "[un]subscribe"
   (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


Just for your information.  There is a recent Wiley book by Wu &
Hamada (ISBN: 0471255114) on design which contains modern results as
well as classical ones.  There are two reader reviews of the book on
the amazon site.

Chong Gu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Thu Sep 20 09:57:15 2001
From: siim at obs.ee (siim@obs.ee)
Date: Thu, 20 Sep 2001 09:57:15 +0200 (CEST)
Subject: [R] indexing an array
Message-ID: <Pine.LNX.4.33.0109200950360.11621-100000@ecopc57.eco.au.dk>

Dear everybody,

I have a following problem.  I have a 3D array

lambda <- array( dim=c(N,M,M-1))

where I have to extract the elements as follows:

lambda[ 1, state[1], 1]
lambda[ 1, state[1], 2]
...
lambda[ 1, state[1], M-1]
lambda[ 2, state[2], 1]
...
lambda[ 2, state[2], M-1]
...
lambda[ N, state[N], M-1]

i.e. the result should be a 2D array, where the second index follows the
first one and the third is free (lambda[i,state[i],]).  The process is
to be repeated so I do not want to write a cycle.

Any suggestions?

Thanks in advance,

Ott Toomet



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Thu Sep 20 10:07:20 2001
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Thu, 20 Sep 2001 10:07:20 +0200
Subject: [R] Two ?'s:Permuting a data matrix and projection operator
References: <Pine.A41.4.33.0109192024190.30574-100000@dante58.u.washington.edu>
Message-ID: <3BA9A3B8.522437A@ci.tuwien.ac.at>

"J. Wan" wrote:
> 
> Hi!
> 
> I have two questions:
> 
> 1.  Is there an easy way/algorithm to obtain a series of permutated data
> matrices which are obtained by permuting all the elements within each row?
> 
> Or is there a function that can permute all the elements for each row
> instead of the whole matrix?

sample() can do random permutations, so if you want a permutation of the
elements within each row of a matrix X, this 

t(apply(X,1,sample))

could do the job
Z


> 2.  Is there a function which helps find a matrix... projection operator
> from p dimensional to p-1 dimensional subspace orthogonal to x, a real
> number?
> 
> Thanks for your help!
> 
> **********************************************************
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From GoodN at prose.dpi.qld.gov.au  Thu Sep 20 07:45:16 2001
From: GoodN at prose.dpi.qld.gov.au (Good, Norman)
Date: Thu, 20 Sep 2001 15:45:16 +1000
Subject: [R] Power to detect a change poisson glm
Message-ID: <A3D56E56D0CED311A23300A0C9FC21FA591C33@SFCCRMNT001>

> Hi All (first timer here again)
> 
	I've sent this message once before  but I'd like to add a bit more.

> I'm trying to conduct power and sample size to detect a change over years
> from poisson data
> 
Is there some simulation routine in R that I could use (or that someone has
used eslwhere) on a set of generated data that has a mean, say 10% less than
current estimates?


> glm.Male_glm(M~year*strata,family=poisson,offset=duration)
> 
>  levels(year)
> [1] "2000" "2001"
> > levels(strata)
> [1] "0-4"   "4.1-8"    "12.1-16" "8.1-12" 
> 
> 
> 
> 
> 
> Norm Good
> 
> Fisheries Biologist (Mathematician)
> Southern Fisheries Centre
> PO Box 76, Deception Bay Q 4508
> telephone 3817 9588, fascimile 3817 9555
> 
> 
> 
> 
> ********************************DISCLAIMER****************************
> The information contained in the above e-mail message or messages 
> (which includes any attachments) is confidential and may be legally 
> privileged.  It is intended only for the use of the person or entity 
> to which it is addressed.  If you are not the addressee any form of 
> disclosure, copying, modification, distribution or any action taken 
> or omitted in reliance on the information is unauthorised.  Opinions 
> contained in the message(s) do not necessarily reflect the opinions 
> of the Queensland Government and its authorities.  If you received 
> this communication in error, please notify the sender immediately and 
> delete it from your computer system network.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
> 
********************************DISCLAIMER****************************
The information contained in the above e-mail message or messages 
(which includes any attachments) is confidential and may be legally 
privileged.  It is intended only for the use of the person or entity 
to which it is addressed.  If you are not the addressee any form of 
disclosure, copying, modification, distribution or any action taken 
or omitted in reliance on the information is unauthorised.  Opinions 
contained in the message(s) do not necessarily reflect the opinions 
of the Queensland Government and its authorities.  If you received 
this communication in error, please notify the sender immediately and 
delete it from your computer system network.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Sep 20 09:23:56 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 20 Sep 2001 09:23:56 +0200
Subject: [R] How to get residuals with arima0? [fwd]
Message-ID: <15273.39308.744349.958493@gargle.gargle.HOWL>

       [accidentally sent to  owner-r-help -- please do NOT!
        it's "r-help" !]

------- start of forwarded message -------
From: Marcos_Sanches at gallup.com
To: owner-r-help at stat.math.ethz.ch
Subject: How to get residuasl with arima0?
Date: Wed, 19 Sep 2001 15:19:07 -0300


	I know this is a basic question, but I've never used the 'ts' package and
I'm having some problem with it. If I type, for example:

>fit1<-arima0(x , ...)
>resid(fit1)
the answer is 'NULL'. What is wrong? How to obtain residuals?

Thanks,

Marcos
------- end of forwarded message -------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Sep 20 11:15:16 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 20 Sep 2001 11:15:16 +0200
Subject: [R] How to get residuals with arima0? [fwd]
References: <15273.39308.744349.958493@gargle.gargle.HOWL>
Message-ID: <3BA9B3A4.37DB6FC6@statistik.uni-dortmund.de>

Martin Maechler wrote:

>         I know this is a basic question, but I've never used the 'ts' package and
> I'm having some problem with it. If I type, for example:
> 
> >fit1<-arima0(x , ...)
> >resid(fit1)
> the answer is 'NULL'. What is wrong? How to obtain residuals?

There is no method of residuals() for an object of class "arima0".

Just use instead:

  fit1$resid


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dray at biomserv.univ-lyon1.fr  Thu Sep 20 13:18:07 2001
From: dray at biomserv.univ-lyon1.fr (Stephane Dray)
Date: Thu, 20 Sep 2001 13:18:07 +0200
Subject: [R] Two ?'s:Permuting a data matrix and projection operator
In-Reply-To: 
 <Pine.A41.4.33.0109192024190.30574-100000@dante58.u.washington.edu>
References: 
 <Pine.A41.4.33.0109192024190.30574-100000@dante58.u.washington.edu>
Message-ID: <a05010404b7cf7dd7f230@[134.214.32.69]>

>
>2.  Is there a function which helps find a matrix... projection operator
>from p dimensional to p-1 dimensional subspace orthogonal to x, a real
>number?

I don't really understand what dou you want...
The expression of the projection operator on subspace engendered by a 
matrix X is:
PX=X%*%(t(X)%*%Dn%*%X)-%*%t(X)%*%Dn
where Dn is a diagonal matrix of row weight and (t(X)%*%Dn%*%X)- is 
generalized inverse of (t(X)%*%Dn%*%X).
In multivariate regression analysis you use:
y=PX%*%y+error=a+bX1+cX2+...+error
But if you want a regression without term a (i.e. orthogonal to 
vector (1,1,...1), you must centered matrix X.

Is it what you want ?
-- 
St?phane DRAY
---------------------------------------------------------------
Biom?trie et Biologie ?volutive - Equipe "?cologie Statistique"
Universite Lyon 1 - Bat 711 - 69622 Villeurbanne CEDEX - France

Tel : 04 72 43 27 56			   Fax : 04 78 89 27 19
       04 72 43 27 57 	   E-mail : dray at biomserv.univ-lyon1.fr 
---------------------------------------------------------------
ADE-4               http://pbil.univ-lyon1.fr/ADE-4/ADE-4F.html
---------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu Sep 20 14:05:37 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 20 Sep 2001 14:05:37 +0200 (MET DST)
Subject: [R] indexing an array
In-Reply-To: <Pine.LNX.4.33.0109200950360.11621-100000@ecopc57.eco.au.dk>
Message-ID: <Pine.OSF.3.96.1010920140158.29032A-100000@ija.csic.es>

Is not 

lambda[rep(1:N,rep(3,N),state[rep(1:N,rep(3,N)],] ?

(i.e., for N=5 , the first index is:
> rep(1:5,rep(3,5))
 [1] 1 1 1 2 2 2 3 3 3 4 4 4 5 5 5

but make sure that state[rep(1:N,rep(3,N)] is within 1:M.

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Thu, 20 Sep 2001 siim at obs.ee wrote:

> Dear everybody,
> 
> I have a following problem.  I have a 3D array
> 
> lambda <- array( dim=c(N,M,M-1))
> 
> where I have to extract the elements as follows:
> 
> lambda[ 1, state[1], 1]
> lambda[ 1, state[1], 2]
> ...
> lambda[ 1, state[1], M-1]
> lambda[ 2, state[2], 1]
> ...
> lambda[ 2, state[2], M-1]
> ...
> lambda[ N, state[N], M-1]
> 
> i.e. the result should be a 2D array, where the second index follows the
> first one and the third is free (lambda[i,state[i],]).  The process is
> to be repeated so I do not want to write a cycle.
> 
> Any suggestions?
> 
> Thanks in advance,
> 
> Ott Toomet
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cof at agere.com  Thu Sep 20 14:37:59 2001
From: cof at agere.com (Ortega Fernandez, Carlos (carlos))
Date: Thu, 20 Sep 2001 14:37:59 +0200
Subject: [R] indexing an array
Message-ID: <B010EF86FE79904186E666A83CA90B3CA6302A@SP0005EXCUAG01.ags.agere.com>

Although by looping, this small function works with the kind of array you
are interested in.

Carlos Ortega.

####### Function #######
f<-function(the.matrix) {
     n<-dim(the.matrix)[1]
     m<-dim(the.matrix)[2]
     
     matrix.result<-matrix(0,nrow=n,ncol=m-1)
     for(i in 1:n) {
         for(j in 1:(m-1)) {
              matrix.result[i,j]<-the.matrix[i,i,j]
         }
     }
     return(matrix.result)
}

#### Example
x<-60
y<-70
matrix.tmp<-array(round(rnorm(x*y*(y-1)),3), c(x,y,y-1))
f(matrix.tmp)
###############


-----Mensaje original-----
De: siim at obs.ee [mailto:siim at obs.ee]
Enviado el: jueves 20 de septiembre de 2001 9:57
Para: r-help at stat.math.ethz.ch
Asunto: [R] indexing an array


Dear everybody,

I have a following problem.  I have a 3D array

lambda <- array( dim=c(N,M,M-1))

where I have to extract the elements as follows:

lambda[ 1, state[1], 1]
lambda[ 1, state[1], 2]
...
lambda[ 1, state[1], M-1]
lambda[ 2, state[2], 1]
...
lambda[ 2, state[2], M-1]
...
lambda[ N, state[N], M-1]

i.e. the result should be a 2D array, where the second index follows the
first one and the third is free (lambda[i,state[i],]).  The process is
to be repeated so I do not want to write a cycle.

Any suggestions?

Thanks in advance,

Ott Toomet



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Sep 20 15:00:11 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Sep 2001 15:00:11 +0200
Subject: [R] indexing an array
In-Reply-To: <Pine.LNX.4.33.0109200950360.11621-100000@ecopc57.eco.au.dk>
References: <Pine.LNX.4.33.0109200950360.11621-100000@ecopc57.eco.au.dk>
Message-ID: <x2n13qt3tw.fsf@blueberry.kubism.ku.dk>

siim at obs.ee writes:

> Dear everybody,
> 
> I have a following problem.  I have a 3D array
> 
> lambda <- array( dim=c(N,M,M-1))
> 
> where I have to extract the elements as follows:
> 
> lambda[ 1, state[1], 1]
> lambda[ 1, state[1], 2]
> ...
> lambda[ 1, state[1], M-1]
> lambda[ 2, state[2], 1]
> ...
> lambda[ 2, state[2], M-1]
> ...
> lambda[ N, state[N], M-1]
> 
> i.e. the result should be a 2D array, where the second index follows the
> first one and the third is free (lambda[i,state[i],]).  The process is
> to be repeated so I do not want to write a cycle.
> 
> Any suggestions?

How about

X <- matrix(,N,M-1)
rr <- as.vector(row(M))
cc <- as.vector(col(M))
X[cbind(rr,cc)] <- lambda[cbind(rr, state[rr], cc)]

or (faster)

rr <- rep(1:N, M - 1)
cc <- rep(1:(M - 1), rep(N, M - 1))
X  <- matrix(lambda[cbind(rr, state[rr], cc)], N, M - 1)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hstevens at muohio.edu  Thu Sep 20 16:12:34 2001
From: hstevens at muohio.edu (Martin Henry H. Stevens)
Date: Thu, 20 Sep 2001 10:12:34 -0400
Subject: [R] textbook on experimental design?
References: <200109200352.WAA145816@odds.stat.purdue.edu>
Message-ID: <004b01c141de$4b94e980$e8093586@STEVENS>

In addition, _I_ am greatly anticipating a book by Michael Crawley that
focuses on S-PLUS. It is due out next spring.

Henry Stevens

> Just for your information.  There is a recent Wiley book by Wu &
> Hamada (ISBN: 0471255114) on design which contains modern results as
> well as classical ones.  There are two reader reviews of the book on
> the amazon site.
>
> Chong Gu
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Sep 20 16:37:44 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 20 Sep 2001 09:37:44 -0500
Subject: [R] Two ?'s:Permuting a data matrix and projection operator
In-Reply-To: <Pine.A41.4.33.0109192024190.30574-100000@dante58.u.washington.edu>
References: <Pine.A41.4.33.0109192024190.30574-100000@dante58.u.washington.edu>
Message-ID: <6rr8t2dj2f.fsf@franz.stat.wisc.edu>

"J. Wan" <jyw at u.washington.edu> writes:

> 2.  Is there a function which helps find a matrix... projection operator
> from p dimensional to p-1 dimensional subspace orthogonal to x, a real
> number?

A real number or a real vector?

Least squares calculations in R are done (for the most part) with QR
decompositions.  In these decompositions the matrix Q is an orthogonal
matrix that can be partitioned into an orthogonal basis for the column
span of X and an orthogonal basis for its complement.  In most
applications Q is not formed explicitly.  Instead operations such as
multiplication by Q or t(Q), projection onto the span of X, or
projection orthogonal to X are performed by special purpose functions
qr.qy, qr.qty, qr.fitted, and qr.resid.

If you want to project a vector v onto the subspace orthogonal to the
vector x use qr.resid(qr(x), v).  For example

 > vv <- rnorm(6)
 > x <- rep(1, 6)
 > vv
 [1]  0.001020799 -0.317638744  0.426937684  0.917568111 -1.350210885
 [6]  0.608166124
 > vproj <- qr.resid(qr(x), vv)
 > vproj
 [1] -0.04661972 -0.36527926  0.37929717  0.86992760 -1.39785140  0.56052561
 > vproj %*% x
               [,1]
 [1,] -1.804112e-16

If you want the projection matrix itself you would need to use qr.Q to
generate the matrix Q then manipulate that to form the projection
matrix.  For example

 > Q1 <- qr.Q(qr(x))
 > Q1
            [,1]
 [1,] -0.4082483
 [2,] -0.4082483
 [3,] -0.4082483
 [4,] -0.4082483
 [5,] -0.4082483
 [6,] -0.4082483
 > proj <- diag(6) - Q1 %*% t(Q1)
 > proj
            [,1]       [,2]       [,3]       [,4]       [,5]       [,6]
 [1,]  0.8333333 -0.1666667 -0.1666667 -0.1666667 -0.1666667 -0.1666667
 [2,] -0.1666667  0.8333333 -0.1666667 -0.1666667 -0.1666667 -0.1666667
 [3,] -0.1666667 -0.1666667  0.8333333 -0.1666667 -0.1666667 -0.1666667
 [4,] -0.1666667 -0.1666667 -0.1666667  0.8333333 -0.1666667 -0.1666667
 [5,] -0.1666667 -0.1666667 -0.1666667 -0.1666667  0.8333333 -0.1666667
 [6,] -0.1666667 -0.1666667 -0.1666667 -0.1666667 -0.1666667  0.8333333

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jim_Garrett at bd.com  Wed Sep 19 22:44:53 2001
From: Jim_Garrett at bd.com (Jim_Garrett@bd.com)
Date: Wed, 19 Sep 2001 16:44:53 -0400
Subject: [R] X-axis with POSIXct dates
Message-ID: <OF47A865CA.EDE94E8E-ON85256ACC.004BE588@bd.com>


I have a series of datasets, each containing pH measurements and
manufacturing dates, and each dataset pertains to a different manufactured
product.  I'm trying to create a series of plots of pH measurements by
date, but the default X-axis labeling behavior is not giving adequate
results in this particular case, and I can't figure out how to persuade R
to come up with something more meaningful.  Specifically, the datasets
generally span about 1.5 years, and only January 1 is given a tick mark and
label.  Some datasets contain both Jan. 1 2000 and Jan. 1 2001, and others
just Jan. 1 2001, so I'm getting one or two tick marks.  Generally every
month is represented in these datasets, and I would like to see a tick mark
every two or three months.  I can't seem to find a graceful way to do this.

System info:  Windows NT 4.0, 450 MHz Pentium II (I think), R version
1.3.0.

Here is a small subset of data which reproduces the undesired default
behavior on my system:

> test.dat
        man.date First.Bottle.pH
X14   2000-03-08            9.74
X4241 2000-08-04            9.42
X4542 2000-12-07            8.54
X350  2001-02-05            9.51
X4591 2001-02-05            8.47
X4716 2001-02-07            9.54
X4933 2001-03-19            9.63
X2831 2001-04-19            9.70
X1068 2001-04-23            9.65
X1914 2001-05-23            9.98

"man.date" is of class POSIXct.

Entering

> plot(test.dat$man.date, test.dat$First.Bottle.pH)

yields a plot with a single X-axis tick mark and label at Jan. 1, 2001, as I said.  I dabbled with the "axis.POSIXct" function,
especially with the format option, but couldn't coerce it to plot more tick marks.  For example,

> axis.POSIXct(1, test.dat$man.date, "%m %d, %Y")

creates a tick mark and date label in the desired format, but only at Jan. 1, 2001.  In other words, It controls what the label looks like,
but not the number and spacing of labeled tick marks.

Any ideas would be appreciated!

Jim Garrett
Becton Dickinson Diagnostic Systems
Baltimore, Maryland, USA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rab at nauticom.net  Thu Sep 20 17:17:00 2001
From: rab at nauticom.net (Richard A. Bilonick)
Date: Thu, 20 Sep 2001 11:17:00 -0400
Subject: [R] help in a separate window under linux
Message-ID: <3baa086c.b27.0@nauticom.net>

Hi,

None of these "pager" things work right. No matter what I set up, if I type


> page(data.frame.name)

a window opens and the object structure is shown. This can certainly be useful
when transferring data, but it's not usually what I want. I would like to see
the data in a table format, similar to what "print" does but in a separate,
scrollable window, more like what S does.

Rick Bilonick

>I suspect that installing xless and use that as the pager might be easier...

>
>Andy
>
>> -----Original Message-----
>> From: Peter Dalgaard BSA [mailto:p.dalgaard at biostat.ku.dk]
>> Sent: Tuesday, September 18, 2001 8:34 AM
>> To: baron at cattell.psych.upenn.edu
>> Cc: r-help at stat.math.ethz.ch; stuart.leask at nottingham.ac.uk
>> Subject: Re: [R] help in a separate window under linux
>> 
>> 
>> baron at cattell.psych.upenn.edu (Jonathan Baron) writes:
>> 
>> > >From owner-r-help at stat.math.ethz.ch Tue Sep 18 07:23:04 2001
>> > >Is there a simple way of configuring R under linux to put 
>> its help messages
>> > >into a separate, new console?
>> > 
>> > 1. help.start() puts them in a browser.
>> > 
>> > 2. You can make a bookmark or button on your browser for the R
>> > documents in html on your disk, usually in /usr/lib/R/doc/html.
>> > 
>> > 3. You can have R itself running twice in different windows, once
>> > just for help.  This is probably the most straightforward answer.
>> > (In Gnome, you can put it in a different virtual desktop, and
>> > switch back and forth with alt-shift-arrow - which is exceedingly
>> > easy on a Kinesis keyboard.  I do this because my monitor is only
>> > 17 inches, which is about right for one window.)
>> > 
>> > 4. You can use ESS, which uses the bottom half of the screen for
>> > help.  I usually find that I want the whole screen, though, so I
>> > end up closing the help window.
>> > 
>> > Perhaps there are other answers.  Jon Baron
>> 
>> 5. library(tcltk); options(pager=tkpager)
>> 
>> 6. options(pager="./mypager") with mypager
>> #!/bin/sh
>> cat > /tmp/foo
>> xterm -e less /tmp/foo &
>> 
>> (getting a unique tempfile name and removing it when you're through
>> reading is - um - an exercise for the reader)
>> 
>> 7. options(pager=function(file, header, title, delete.file)
>>      system(paste("xterm", "-e less", file, "&")))
>> 
>> (getting the title right is going to be tricky:  it is generally
>> something like "R Help on `ls'" and the quotes will confuse 
>> the shell) 
>> 
>> The latter two obviously only work when less is installed...
>> 
>> -- 
>>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>>  (*) \(*) -- University of Copenhagen   Denmark      Ph: 
>> (+45) 35327918
>> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: 
>> (+45) 35327907
>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
>> -.-.-.-.-.-.-.-.-
>> r-help mailing list -- Read 
>> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>> Send "info", "help", or "[un]subscribe"
>> (in the "body", not the subject !)  To: 
>> r-help-request at stat.math.ethz.ch
>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
>> _._._._._._._._._
>> 
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-

>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html

>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

>
>
Rick Bilonick
---
rab at nauticom.net
http://www.nauticom.net
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep 20 17:34:49 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 20 Sep 2001 16:34:49 +0100 (BST)
Subject: [R] help in a separate window under linux
In-Reply-To: <3baa086c.b27.0@nauticom.net>
Message-ID: <Pine.LNX.4.31.0109201625320.3073-100000@gannet.stats>

On Thu, 20 Sep 2001, Richard A. Bilonick wrote:

> Hi,
>
> None of these "pager" things work right. No matter what I set up, if I type
>
>
> > page(data.frame.name)
>
> a window opens and the object structure is shown. This can certainly be useful
> when transferring data, but it's not usually what I want. I would like to see
> the data in a table format, similar to what "print" does but in a separate,
> scrollable window, more like what S does.

Well, it works as documented and as its author intended, so in that sense
it `works right'.  I really do want to look at dumps of e.g. data frames
to check that the internal structure is as I intended.  If I wanted a
scrollable view I would use edit() in R and Edit.data() in S-PLUS on
Windows.  functions for tasks ....

The difference is that S uses print, R uses dput.   It would be easy to
add this as an option to page(), but I would want to preserve the current
behaviour.



>
> Rick Bilonick
>
> >I suspect that installing xless and use that as the pager might be easier...
>
> >
> >Andy
> >
> >> -----Original Message-----
> >> From: Peter Dalgaard BSA [mailto:p.dalgaard at biostat.ku.dk]
> >> Sent: Tuesday, September 18, 2001 8:34 AM
> >> To: baron at cattell.psych.upenn.edu
> >> Cc: r-help at stat.math.ethz.ch; stuart.leask at nottingham.ac.uk
> >> Subject: Re: [R] help in a separate window under linux
> >>
> >>
> >> baron at cattell.psych.upenn.edu (Jonathan Baron) writes:
> >>
> >> > >From owner-r-help at stat.math.ethz.ch Tue Sep 18 07:23:04 2001
> >> > >Is there a simple way of configuring R under linux to put
> >> its help messages
> >> > >into a separate, new console?
> >> >
> >> > 1. help.start() puts them in a browser.
> >> >
> >> > 2. You can make a bookmark or button on your browser for the R
> >> > documents in html on your disk, usually in /usr/lib/R/doc/html.
> >> >
> >> > 3. You can have R itself running twice in different windows, once
> >> > just for help.  This is probably the most straightforward answer.
> >> > (In Gnome, you can put it in a different virtual desktop, and
> >> > switch back and forth with alt-shift-arrow - which is exceedingly
> >> > easy on a Kinesis keyboard.  I do this because my monitor is only
> >> > 17 inches, which is about right for one window.)
> >> >
> >> > 4. You can use ESS, which uses the bottom half of the screen for
> >> > help.  I usually find that I want the whole screen, though, so I
> >> > end up closing the help window.
> >> >
> >> > Perhaps there are other answers.  Jon Baron
> >>
> >> 5. library(tcltk); options(pager=tkpager)
> >>
> >> 6. options(pager="./mypager") with mypager
> >> #!/bin/sh
> >> cat > /tmp/foo
> >> xterm -e less /tmp/foo &
> >>
> >> (getting a unique tempfile name and removing it when you're through
> >> reading is - um - an exercise for the reader)
> >>
> >> 7. options(pager=function(file, header, title, delete.file)
> >>      system(paste("xterm", "-e less", file, "&")))
> >>
> >> (getting the title right is going to be tricky:  it is generally
> >> something like "R Help on `ls'" and the quotes will confuse
> >> the shell)
> >>
> >> The latter two obviously only work when less is installed...
> >>
> >> --
> >>    O__  ---- Peter Dalgaard             Blegdamsvej 3
> >>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
> >>  (*) \(*) -- University of Copenhagen   Denmark      Ph:
> >> (+45) 35327918
> >> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX:
> >> (+45) 35327907
> >> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> >> -.-.-.-.-.-.-.-.-
> >> r-help mailing list -- Read
> >> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >> Send "info", "help", or "[un]subscribe"
> >> (in the "body", not the subject !)  To:
> >> r-help-request at stat.math.ethz.ch
> >> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> >> _._._._._._._._._
> >>
> >
> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>
> >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>
> >Send "info", "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
> >
> >
> Rick Bilonick
> ---
> rab at nauticom.net
> http://www.nauticom.net
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep 20 18:00:59 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 20 Sep 2001 17:00:59 +0100 (BST)
Subject: [R] X-axis with POSIXct dates
In-Reply-To: <OF47A865CA.EDE94E8E-ON85256ACC.004BE588@bd.com>
Message-ID: <Pine.LNX.4.31.0109201650190.3128-100000@gannet.stats>

On Wed, 19 Sep 2001 Jim_Garrett at bd.com wrote:

>
> I have a series of datasets, each containing pH measurements and
> manufacturing dates, and each dataset pertains to a different manufactured
> product.  I'm trying to create a series of plots of pH measurements by
> date, but the default X-axis labeling behavior is not giving adequate
> results in this particular case, and I can't figure out how to persuade R
> to come up with something more meaningful.  Specifically, the datasets
> generally span about 1.5 years, and only January 1 is given a tick mark and
> label.  Some datasets contain both Jan. 1 2000 and Jan. 1 2001, and others
> just Jan. 1 2001, so I'm getting one or two tick marks.  Generally every
> month is represented in these datasets, and I would like to see a tick mark
> every two or three months.  I can't seem to find a graceful way to do this.
>
> System info:  Windows NT 4.0, 450 MHz Pentium II (I think), R version
> 1.3.0.
>
> Here is a small subset of data which reproduces the undesired default
> behavior on my system:
>
> > test.dat
>         man.date First.Bottle.pH
> X14   2000-03-08            9.74
> X4241 2000-08-04            9.42
> X4542 2000-12-07            8.54
> X350  2001-02-05            9.51
> X4591 2001-02-05            8.47
> X4716 2001-02-07            9.54
> X4933 2001-03-19            9.63
> X2831 2001-04-19            9.70
> X1068 2001-04-23            9.65
> X1914 2001-05-23            9.98
>
> "man.date" is of class POSIXct.
>
> Entering
>
> > plot(test.dat$man.date, test.dat$First.Bottle.pH)
>
> yields a plot with a single X-axis tick mark and label at Jan. 1, 2001, as I said.  I dabbled with the "axis.POSIXct" function,
> especially with the format option, but couldn't coerce it to plot more tick marks.  For example,
>
> > axis.POSIXct(1, test.dat$man.date, "%m %d, %Y")
>
> creates a tick mark and date label in the desired format, but only at Jan. 1, 2001.  In other words, It controls what the label looks like,
> but not the number and spacing of labeled tick marks.
>
> Any ideas would be appreciated!

axis.POSIXct is just a convenient way to generate calls to axis.
For some dates z

axis(1, at=z, labels = format(z, format="%m %d, %Y"))

should label the x axis at those dates.

All rules will be rough-and-ready.  axis.POSIXct switches from months to
years at 1.1 years: perhaps that is too low, but once you have much more
than that you want the years as well.

z <- test.dat$man.date
axis(1, at=z, labels = format(z, format="%m %d, %Y"))

omits some labels, by overlap.

plot.default(test.dat$man.date, test.dat$First.Bottle.pH, xaxt="n")
axis(1, at=z, labels = format(z, format="%m %d\n%Y"), srt=45)

does a better job, but you will need to choose dates that make sense to
you.

>
> Jim Garrett
> Becton Dickinson Diagnostic Systems
> Baltimore, Maryland, USA
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phurd at ualberta.ca  Thu Sep 20 18:48:34 2001
From: phurd at ualberta.ca (Peter L. Hurd)
Date: 20 Sep 2001 10:48:34 -0600
Subject: [R] G-test : log-likelihood ratio test
Message-ID: <1001004522.10698.70.camel@madrone>

I've written a g.test() aka log-likelihood ratio test function for my
opwn use.  It's something I've seen requested (and looked to find
myself) on this list a few times.

It has the same basic syntax as chisq.test().
It does both goodness of fit tests and tests of independence.
Yates' and Williams' corrections are implemented.

I've put some examples from Sokal & Rohlf up at
http://www.psych.ualberta.ca/~phurd/cruft

Feedback welcomed,
-P.

# Kludgy log-likelihood test of independence & goodness of fit
# Does Williams' and Yates' correction
#
# G (TOI) calculation from Zar (2000) Biostatistical Analysis 4th ed.
# G (GOF) calculation from Sokal & Rohlf (1995) Biometry 3rd ed.
# q calculation from Sokal & Rohlf (1995) Biometry 3rd ed.
# TOI Yates' correction taken from Mike Camann's 2x2 G-test fn.
# GOF Yates' correction as described in Zar (2000)
# more stuff taken from ctest's chisq.test()
#
# ToDo:
# 1) Beautify
# 2) Add warnings for violations
# 3) Make appropriate corrections happen by default
#
# V2.1 Pete Hurd Sept 20 2001.

g.test <- function(x, y = NULL, correct="none", p = rep(1/length(x), length(x)))
{
  DNAME <- deparse(substitute(x))
  if (is.data.frame(x)) x <- as.matrix(x)
  if (is.matrix(x)) {
    if (min(dim(x)) == 1) 
      x <- as.vector(x)
  }
  if (!is.matrix(x) && !is.null(y)) {
    if (length(x) != length(y)) 
      stop("x and y must have the same length")
    DNAME <- paste(DNAME, "and", deparse(substitute(y)))
    OK <- complete.cases(x, y)
    x <- as.factor(x[OK])
    y <- as.factor(y[OK])
    if ((nlevels(x) < 2) || (nlevels(y) < 2)) 
      stop("x and y must have at least 2 levels")
    x <- table(x, y)
  }
  if (any(x < 0) || any(is.na(x))) 
    stop("all entries of x must be nonnegative and finite")
  if ((n <- sum(x)) == 0) 
    stop("at least one entry of x must be positive")
  #If x is matrix, do test of independence
  if (is.matrix(x)) {
    #this block was the separate g.stat function
    cell.tot <- row.tot <- col.tot <- grand.tot <- 0
    nrows<-nrow(x)
    ncols<-ncol(x)
    if (correct=="yates"){ # Do Yates' correction
      if(dim(x)[1]!=2 || dim(x)[2]!=2) # check for 2x2 matrix
        stop("Yates' correction requires a 2 x 2 matrix")
      if((x[1,1]*x[2,2])-(x[1,2]*x[2,1]) > 0)
        {
          x[1,1] <- x[1,1] - 0.5
          x[2,2] <- x[2,2] - 0.5
          x[1,2] <- x[1,2] + 0.5
          x[2,1] <- x[2,1] + 0.5
        }
      else
        {
          x[1,1] <- x[1,1] + 0.5
          x[2,2] <- x[2,2] + 0.5
          x[1,2] <- x[1,2] - 0.5
          x[2,1] <- x[2,1] - 0.5
        }
    }
    # calculate G (Zar, 2000)
    for (i in 1:nrows){
      for (j in 1:ncols){
        if (x[i,j] != 0) cell.tot <- cell.tot + x[i,j] * log10(x[i,j])
      }
    }
    for (i in 1:nrows){ row.tot <- row.tot + (sum(x[i,])) * log10(sum(x[i,])) }
    for (j in 1:ncols){ col.tot <- col.tot + (sum(x[,j])) * log10(sum(x[,j])) }
    grand.tot <- sum(x)*log10(sum(x))
    total <- cell.tot - row.tot - col.tot + grand.tot
    G <- 4.60517 * total
    q <- 1
    if (correct=="williams"){ # Do Williams' correction
      row.tot <- col.tot <- 0    
      for (i in 1:nrows){ row.tot <- row.tot + 1/(sum(x[i,])) }
      for (j in 1:ncols){ col.tot <- col.tot + 1/(sum(x[,j])) }
      q <- 1+ ((n*row.tot-1)*(n*col.tot-1))/(6*n*(ncols-1)*(nrows-1))
    }
    G <- (G/q)
    # end of old g.stat function
    
    STATISTIC <- G
    PARAMETER <- (nrow(x)-1)*(ncol(x)-1)
    PVAL <- 1-pchisq(STATISTIC,df=PARAMETER)
    if(correct=="none")
      METHOD <- "Log likelihood ratio (G-test) test of independence without correction"
    if(correct=="williams")
      METHOD <- "Log likelihood ratio (G-test) test of independence with Williams' correction"
    if(correct=="yates")
      METHOD <- "Log likelihood ratio (G-test) test of independence with Yates' correction"
  }
  else {
    # x is not a matrix, so we do Goodness of Fit
    METHOD <- "Log likelihood ratio (G-test) goodness of fit test"
    if (length(x) == 1) 
      stop("x must at least have 2 elements")
    if (length(x) != length(p)) 
      stop("x and p must have the same number of elements")
    E <- n * p
    
    if (correct=="yates"){ # Do Yates' correction
      if(length(x)!=2)
        stop("Yates' correction requires 2 data values")
      if ( (x[1]-E[1]) > 0.25) {
        x[1] <- x[1]-0.5
        x[2] <- x[2]+0.5
      }
      else if ( (E[1]-x[1]) > 0.25){
        x[1] <- x[1]+0.5
        x[2] <- x[2]-0.5
      }
    }
    names(E) <- names(x)
    tot <- 0
    for (i in 1:length(x)){
      if (x[i] != 0) tot <- tot + x[i] * log(x[i]/E[i])
    }
    G <- (2*tot)
    if (correct=="williams"){ # Do Williams' correction
      q <- 1+(length(x)+1)/(6*n)
      G <- (G/q)
    }
    STATISTIC <- (G)
    PARAMETER <- length(x) - 1
    PVAL <- pchisq(STATISTIC, PARAMETER, lower = FALSE)
  }
  names(STATISTIC) <- "Log likelihood ratio statistic (G)"
  names(PARAMETER) <- "X-squared df"
  names(PVAL) <- "p.vlaue"
  structure(list(statistic=STATISTIC,parameter=PARAMETER,p.value=PVAL,
                 method=METHOD,data.name=DNAME),class="htest")
}

-- 
Peter L. Hurd                                  Department of Psychology
Assistant Professor                               University of Alberta
phurd at ualberta.ca                                     Edmonton, Alberta
http://www.psych.ualberta.ca/~phurd                      T6G 2E9 Canada


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From calvinw at ces.clemson.edu  Thu Sep 20 19:03:15 2001
From: calvinw at ces.clemson.edu (Calvin L. Williams, Ph.D.)
Date: Thu, 20 Sep 2001 13:03:15 -0400
Subject: [R] Greek symbols in plot labels
Message-ID: <p05100300b7cfd1bea6b1@[130.127.112.242]>

R-Users,

I trying to get greek symbols in the labels of a plot. This is
successful in the title and in the x-label. But, not successful
in the y-label. Is this a bug or am I missing something?

For example,
plot(0,0,
xlab=substitute(paste(phi,"=",true,sigma),list(true=5)),
ylab=substitute(paste(phi,"=",true,sigma),list(true=5)),
main=substitute(paste(phi,"-Coordinates-",true,sigma),list(true=5)))

does the x-label and title correctly, but not y-label.
Cheers,

-- 
====================  Calvin L. Williams, Ph.D.  ====================
      Department of Mathematical Sciences, Clemson University
                             Box 340975 ,   0-323 Martin Hall
                       Clemson, South Carolina 29634-0975
       VOICE: (864) 656-5241  or leave message (864) 654-7187
                  EMAIL: calvinw at ces.clemson.edu
                                FAX: 1-(864) 656-5230
         WWW:   http://www.ces.clemson.edu/~calvinw/
============================================================
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010920/7c410d63/attachment.html

From ripley at stats.ox.ac.uk  Thu Sep 20 19:16:35 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 20 Sep 2001 18:16:35 +0100 (BST)
Subject: [R] Greek symbols in plot labels
In-Reply-To: <p05100300b7cfd1bea6b1@[130.127.112.242]>
Message-ID: <Pine.LNX.4.31.0109201813070.3202-100000@gannet.stats>

On Thu, 20 Sep 2001, Calvin L. Williams, Ph.D. wrote:

> R-Users,
>
> I trying to get greek symbols in the labels of a plot. This is
> successful in the title and in the x-label. But, not successful
> in the y-label. Is this a bug or am I missing something?
>
> For example,
> plot(0,0,
> xlab=substitute(paste(phi,"=",true,sigma),list(true=5)),
> ylab=substitute(paste(phi,"=",true,sigma),list(true=5)),
> main=substitute(paste(phi,"-Coordinates-",true,sigma),list(true=5)))
>
> does the x-label and title correctly, but not y-label.

On what graphics device and OS?  Works here, but as the y-axis label is
rotated it depends on having rotation support for the symbol font.
Try postscript(): I would be surprised if that failed.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Sep 20 19:34:53 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 20 Sep 2001 19:34:53 +0200
Subject: [R] Greek symbols in plot labels
References: <p05100300b7cfd1bea6b1@[130.127.112.242]>
Message-ID: <3BAA28BD.4CABAB76@statistik.uni-dortmund.de>

"Calvin L. Williams, Ph.D." wrote:
> 
> R-Users,
> 
> I trying to get greek symbols in the labels of a plot. This is
> successful in the title and in the x-label. But, not successful
> in the y-label. Is this a bug or am I missing something?
> 
> For example,
> plot(0,0,
> xlab=substitute(paste(phi,"=",true,sigma),list(true=5)),
> ylab=substitute(paste(phi,"=",true,sigma),list(true=5)),
> main=substitute(paste(phi,"-Coordinates-",true,sigma),list(true=5)))
> does the x-label and title correctly, but not y-label.

Works for me on NT4.
Please tell us: R Version (1.3.1 ???), OS.

Start R using the option vanilla and try again. 
Maybe there something wrong with your workspace.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Thu Sep 20 19:47:21 2001
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Thu, 20 Sep 2001 13:47:21 -0400
Subject: [R] Greek symbols in plot labels
References: <p05100300b7cfd1bea6b1@[130.127.112.242]>
Message-ID: <3BAA2BA9.395E0287@umsanet.edu.bo>

Hola!

I tried this example on my machine (R1.3.0, windows 98) and the
y labels como out correctly.

Kjetil Halvorsen


"Calvin L. Williams, Ph.D." wrote:
> 
> R-Users,
> 
> I trying to get greek symbols in the labels of a plot. This is
> successful in the title and in the x-label. But, not successful
> in the y-label. Is this a bug or am I missing something?
> 
> For example,
> plot(0,0,
> xlab=substitute(paste(phi,"=",true,sigma),list(true=5)),
> ylab=substitute(paste(phi,"=",true,sigma),list(true=5)),
> main=substitute(paste(phi,"-Coordinates-",true,sigma),list(true=5)))
> does the x-label and title correctly, but not y-label.
> Cheers,
> 
> --
> 
> ====================  Calvin L. Williams, Ph.D.  ====================
>      Department of Mathematical Sciences, Clemson University
>                             Box 340975 ,   0-323 Martin Hall
>                       Clemson, South Carolina 29634-0975
>       VOICE: (864) 656-5241  or leave message (864) 654-7187
>                  EMAIL: calvinw at ces.clemson.edu
>                                FAX: 1-(864) 656-5230
>         WWW:   http://www.ces.clemson.edu/~calvinw/
> ============================================================
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From carew at mr.radiology.wisc.edu  Thu Sep 20 20:50:21 2001
From: carew at mr.radiology.wisc.edu (John Carew)
Date: Thu, 20 Sep 2001 13:50:21 -0500 (CDT)
Subject: [R] tcltk installation 
Message-ID: <Pine.GSO.4.10.10109201349420.22758-100000@hippocampus.radiology.wisc.edu>

I have a sun machine (solaris 8) with R 1.3.0 installed.  I want to
install tcltk libraries to add gui support.  Could someone please point me
to the appropriate instructions?  Thank you for your help. 

--
John CAREW <carew at mr.radiology.wisc.edu>
Functional MRI Research Group
Radiology E3/311
600 Highland Ave.
Madison, WI 53792-3252
Phone: (608)265-5742
Fax:   (608)265-9840


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From verzani at math.csi.cuny.edu  Thu Sep 20 21:47:43 2001
From: verzani at math.csi.cuny.edu (John Verzani)
Date: Thu, 20 Sep 2001 14:47:43 -0500
Subject: [R] making packages for windows from UNIX
Message-ID: <15274.18399.759888.402751@wiener.math.csi.cuny.edu>

Hello,

I am trying to make a package for windows using my linux installation
of R. I tried to make the package by first using R CMD build (under
linux) to create a tar.gz package. Then I uncompressed and rearchived
as a zip package. After installing this under windows, the data files
work fine, but the R files aren't seen under windows. Is there some
easy way to create a working zip package from the tar.gz package or do
I need to do this from windows?

Thanks,

John
-- 
....................................................................
.  John Verzani                  mailto:verzani at math.csi.cuny.edu  .
.  Dept. of Mathematics      http://www.math.csi.cuny.edu/~verzani .
.  City University of New York                 tel: (718) 982-3623 .
.  College of Staten Island                    fax: (718) 982-3631 .
.  Staten Island, NY 10314                                         .
....................................................................
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From calvinw at ces.clemson.edu  Thu Sep 20 21:52:51 2001
From: calvinw at ces.clemson.edu (Calvin L. Williams, Ph.D.)
Date: Thu, 20 Sep 2001 15:52:51 -0400
Subject: [R] Greek symbols in plot labels
Message-ID: <p05100302b7cff862bafd@[130.127.112.242]>


Sorry....

This is occurring on the Mac OS version 1.3.1. Tried it in
R Windows version, it works.

I guess I can create it using postscript, and move it over.

Thanks to those that replied... Brian, Uwe, and Kjetil.

Cheers,

==============================================================================
R-Users,

I trying to get greek symbols in the labels of a plot. This is
successful in the title and in the x-label. But, not successful
in the y-label. Is this a bug or am I missing something?

For example,
plot(0,0,
xlab=substitute(paste(phi,"=",true,sigma),list(true=5)),
ylab=substitute(paste(phi,"=",true,sigma),list(true=5)),
main=substitute(paste(phi,"-Coordinates-",true,sigma),list(true=5)))

does the x-label and title correctly, but not y-label.
Cheers,

-- 
====================  Calvin L. Williams, Ph.D.  ====================
      Department of Mathematical Sciences, Clemson University
                             Box 340975 ,   0-323 Martin Hall
                       Clemson, South Carolina 29634-0975
       VOICE: (864) 656-5241  or leave message (864) 654-7187
                  EMAIL: calvinw at ces.clemson.edu
                                FAX: 1-(864) 656-5230
         WWW:   http://www.ces.clemson.edu/~calvinw/
============================================================
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010920/6b851dff/attachment.html

From ripley at stats.ox.ac.uk  Thu Sep 20 21:57:12 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 20 Sep 2001 20:57:12 +0100 (BST)
Subject: [R] making packages for windows from UNIX
In-Reply-To: <15274.18399.759888.402751@wiener.math.csi.cuny.edu>
Message-ID: <Pine.GSO.4.31.0109202056380.22479-100000@auk.stats>

On Thu, 20 Sep 2001, John Verzani wrote:

> Hello,
>
> I am trying to make a package for windows using my linux installation
> of R. I tried to make the package by first using R CMD build (under
> linux) to create a tar.gz package. Then I uncompressed and rearchived
> as a zip package. After installing this under windows, the data files
> work fine, but the R files aren't seen under windows. Is there some
> easy way to create a working zip package from the tar.gz package or do
> I need to do this from windows?

See readme.packages under Windows, or in the sources.

I suspect you did not actually `install' it.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep 20 22:01:03 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 20 Sep 2001 21:01:03 +0100 (BST)
Subject: [R] tcltk installation 
In-Reply-To: <Pine.GSO.4.10.10109201349420.22758-100000@hippocampus.radiology.wisc.edu>
Message-ID: <Pine.GSO.4.31.0109202057440.22479-100000@auk.stats>

On Thu, 20 Sep 2001, John Carew wrote:

> I have a sun machine (solaris 8) with R 1.3.0 installed.  I want to
> install tcltk libraries to add gui support.  Could someone please point me
> to the appropriate instructions?  Thank you for your help.

Install tcl and tk.

Get R-1.3.1.tgz and unpack.

Try ./configure.  If that fails to find tcl/tk (it reports at the end)
remove config.cache and use

  --with-tcltk            use Tcl/Tk, or specify its library dir [yes]
  --with-tcl-config=TCL_CONFIG
                          specify location of tclConfig.sh []
  --with-tk-config=TK_CONFIG
                          specify location of tkConfig.sh []

as appropriate to specify where you put it.  In the default installation
of Tcl/TK on Solaris, you don't need this.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Sep 20 23:29:33 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Thu, 20 Sep 2001 17:29:33 -0400 (EDT)
Subject: [R] 3d java etc.
Message-ID: <Pine.LNX.4.30.0109201717500.32305-100000@bolker.zoo.ufl.edu>


  There was some interest in the commands for creating an HTML file of
3D graphics that can be shown with a Java applet.
  Looking at things I discovered (of course) that I should really clean up
quite a few things before releasing it for real.  I hope to do some of
that this weekend.
  In the meanwhile, here are a couple of pointers to the Java applet &
documentation (apparently free for non-commercial use but not for
commerce):

http://www.mathsource.com/Content/Enhancements/Interfacing/Web/0209-281
http://wwwvis.informatik.uni-stuttgart.de/~kraus/LiveGraphics3D/download.html

  I will put my code up (completely undocumented and halfway through
cleanup) at http://www.zoo.ufl.edu/bolker/mmagrid.R for anyone who's
really eager.  Essentially all it does is to translate 3d objects into
Mathematica format: I have functions mma.text(), mma.line(), mma.point(),
etc., plus a variety of utility functions.
  To clarify, one need not have Mathematica installed; the applet is
simply using Mathematica format as a description language for 3D objects.





-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edward.lang at anu.edu.au  Fri Sep 21 07:34:41 2001
From: edward.lang at anu.edu.au (Edward C. Lang)
Date: 21 Sep 2001 15:34:41 +1000
Subject: [R] Quoting underscores in variable names
Message-ID: <87pu8l5cpa.fsf@protein.anu.edu.au>

(please Cc: me in replies, as I am not on the r-help list)

Hi,

I have discovered that underscores are not allowed in variable names,
although this is not by any means the first instance of such a
discovery. Short of going through all my other data, and removing
underscores, is it possible to quote underscores in R? I had something like:

> plot(g\_code ~ sp\_code, data=genes)
Error: syntax error

in mind, but obviously that does not work.

Any thoughts/ideas appreciated.

Regards,

Edward.

-- 
Edward C. Lang:              edward.lang at anu.edu.au |   ___ ___ _ ___  |
Programmer at the Centre for Bioinformation Science |  / __| _ |_) __| |
Telephone:                          +61 2 6125 4717 | | (__| _ \ \__ \ |
Postal:        JCSMR, GPO Box 334 Canberra ACT 2601 |  \___|___/_|___/ |
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep 21 08:06:37 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 21 Sep 2001 07:06:37 +0100 (BST)
Subject: [R] Quoting underscores in variable names
In-Reply-To: <87pu8l5cpa.fsf@protein.anu.edu.au>
Message-ID: <Pine.GSO.4.31.0109210656060.22781-100000@auk.stats>

On 21 Sep 2001, Edward C. Lang wrote:

> (please Cc: me in replies, as I am not on the r-help list)
>
> Hi,
>
> I have discovered that underscores are not allowed in variable names,
> although this is not by any means the first instance of such a
> discovery. Short of going through all my other data, and removing
> underscores, is it possible to quote underscores in R? I had something like:
>
> > plot(g\_code ~ sp\_code, data=genes)
> Error: syntax error

Quoting is by "" in S/R.  But how did you get the names there in the first
place?  data.frame and read.table (for example) check for valid names and
change them (by using a `.').

> genes <- data.frame("g_code"=1:10, "sp_code"=1:10, check.names=F)
> plot("g_code" ~ "sp_code", data=genes)

shows that quoting is not being supported in handling formulae.
(It failed in S as well, at a different point.)


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.malewski at gmx.de  Fri Sep 21 10:47:07 2001
From: peter.malewski at gmx.de (Peter Malewski)
Date: Fri, 21 Sep 2001 10:47:07 +0200
Subject: [R] cor.test(x,x) sometimes produce NaN
Message-ID: <20010921104706.A16875@rzsrv2.rz.tu-bs.de>

In the code
 
for(i in 1:100){zz <- rnorm(10);print(cor.test(zz,zz))}

sometimes a sqrt(0) occures:

24: NaNs produced in: sqrt(1 - r^2) 

in all the other cases a result like

t = Inf, df = 8, p-value = < 2.2e-16 

occures. Does cor.test need some more "inf" - handling?
I found that calculating a cor-matrix with additional 
p-values.
Peter

-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrysopa at terra.com.br  Fri Sep 21 13:27:51 2001
From: chrysopa at terra.com.br (Ronaldo Reis Jr.)
Date: Fri, 21 Sep 2001 08:27:51 -0300
Subject: [R] How to change the levels of a variable???
Message-ID: <200109211133.f8LBXBM05111@emergencia-sao.sao.terra.com.br>

Hi,

I have a simple question.

I have a variable with 3 levels.

Variable
A A A A A A
B B B B B B
C C C C C C

I need to make a new vector renaming de levels B and C for D.

NewVariable
A A A A A A
D D D D D D
D D D D D D

I dont find how to make it in manuals or in this list.
Can anyone help-me???
Thank you
Ronaldo
-- 
Agnes' Law:
	Almost everything in life is easier to get into than out of.
--
|   //|\\   [*****************************][*******************]
|| ( ? ? )  [Ronaldo Reis J?nior          ][PentiumIII-600     ]
|     V     [ESALQ/USP-Entomologia, CP-09 ][HD: 30 + 10 Gb     ]
||  / l \   [13418-900 Piracicaba - SP    ][RAM: 128 Mb        ]
|  /(lin)\  [Fone: 19-429-4199 r.229      ][Video: SiS620-8Mb  ]
||/(linux)\ [chrysopa at insecta.ufv.br      ][Modem: Pctel-onboar]
|/ (linux) \[ICQ#: 5692561                ][SO: CL 7.0 (2.2.19)]
||  ( x )   [*****************************][*******************]
||| _/ \_Powered by Conectiva Linux 7.0 D+:) | Lxuser#: 205366
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep 21 14:01:17 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 21 Sep 2001 13:01:17 +0100 (BST)
Subject: [R] How to change the levels of a variable???
In-Reply-To: <200109211133.f8LBXBM05111@emergencia-sao.sao.terra.com.br>
Message-ID: <Pine.LNX.4.31.0109211256030.4343-100000@gannet.stats>

On Fri, 21 Sep 2001, Ronaldo Reis Jr. wrote:

> Hi,
>
> I have a simple question.
>
> I have a variable with 3 levels.
>
> Variable
> A A A A A A
> B B B B B B
> C C C C C C
>
> I need to make a new vector renaming de levels B and C for D.
>
> NewVariable
> A A A A A A
> D D D D D D
> D D D D D D
>
> I dont find how to make it in manuals or in this list.

See ?levels and follow the link to ?"levels<-.factor"

> old <- factor(LETTERS[1:3])
> old
[1] A B C
Levels:  A B C
> levels(new) <- c("A", "D", "D")
> new
[1] A D D
Levels:  A D

You could use
> factor(old, labels=c("A", "D", "D"))
[1] A D D
Levels:  A D D

but as you see, that is not precisely the same thing.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Fri Sep 21 14:25:44 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Fri, 21 Sep 2001 13:25:44 +0100
Subject: [R] help plotting multiple ts
Message-ID: <tvNTDBAIHzq7EwTN@myatt.demon.co.uk>


All,

My first time with the ts objects and functions (and low-level plot
functions) and I need a little help. I have some food security data
(proportion of HHs with stocks until the end of a given month) and want
to plot that. Here is what I have:

        WheatI     <- c(0.00, 0.00, 0.97, 0.97, 0.87, 0.74, 0.64, 0.51,
        0.28, 0.26, 0.18, 0.00, 0.00, 0.00, 0.00, 0.00)
        WheatR     <- c(0.00, 0.00, 0.79, 0.51, 0.38, 0.13, 0.00, 0.00,
        0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00)
        BarleyI    <- c(0.00, 0.00, 0.41, 0.31, 0.31, 0.21, 0.05, 0.03,
        0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00)
        BarleyR    <- c(0.00, 0.00, 0.33, 0.18, 0.13, 0.10, 0.03, 0.03,
        0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00)
        Potatoes   <- c(0.00, 0.00, 0.00, 0.00, 0.00, 0.62, 0.59, 0.59,
        0.59, 0.51, 0.51, 0.15, 0.15, 0.13, 0.05, 0.03)
        Vegetables <- c(0.00, 0.00, 0.16, 0.16, 0.16, 0.21, 0.19, 0.19,
        0.19, 0.16, 0.14, 0.06, 0.05, 0.05, 0.04, 0.01)
        Fodder     <- c(0.00, 0.09, 0.16, 0.19, 0.17, 0.18, 0.15, 0.13,
        0.12, 0.09, 0.06, 0.01, 0.01, 0.01, 0.00, 0.00)

        df <- cbind(WheatI, WheatR, BarleyI, BarleyR, Potatoes,
        Vegetables, Fodder)
        
        x <- ts(df, start = c(2001, 4), frequency = 12)
        
        plot(x, ylim = c(0,1))

I have a few questions:

        1. How do I get year and month labels on the x-axis (more
        generally I am having trouble setting the number of ticks to the
        number of periods). At present I get base 10 rather than base 12
        labels.

        2. How do I get them to plot in seven horizontal panes one above
        the other (i.e. a single column of plot)?

        3. How can I change the number of ticks and take out the first
        and last y-axix tick labels.

        4. is there a simple way of changing the y-axis labels So that
        (e.g.) WheatI becomes (irrigated Wheat)?

I have tried RTFM-input but have confused myself.

Running:

        platform i386-pc-mingw32
        arch     x86            
        os       Win32          
        system   x86, Win32     
        status                  
        major    1              
        minor    3.0            
        year     2001           
        month    06             
        day      22             
        language R              

Thanks,

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Fri Sep 21 16:39:52 2001
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 21 Sep 2001 10:39:52 -0400
Subject: [R] How to change the levels of a variable???
In-Reply-To: <200109211133.f8LBXBM05111@emergencia-sao.sao.terra.com.br>
Message-ID: <5.1.0.14.2.20010921103555.01bf5230@mcmail.cis.mcmaster.ca>

At 08:27 AM 21/09/2001 -0300, Ronaldo Reis Jr. wrote:
>Hi,
>
>I have a simple question.
>
>I have a variable with 3 levels.
>
>Variable
>A A A A A A
>B B B B B B
>C C C C C C
>
>I need to make a new vector renaming de levels B and C for D.
>
>NewVariable
>A A A A A A
>D D D D D D
>D D D D D D
>
>I dont find how to make it in manuals or in this list.
>Can anyone help-me???
>Thank you
>Ronaldo
>--


Dear Ronaldo,

There are several ways to do this; one way is to use the recode function in 
the car package:

     new <- recode(var, " c('B', 'C') = 'D' ")

I hope that this helps,
  John




-----------------------------------------------------
John Fox
Department of Sociology
McMaster University
Hamilton, Ontario, Canada L8S 4M4
email: jfox at mcmaster.ca
phone: 905-525-9140x23604
web: www.socsci.mcmaster.ca/jfox
-----------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Fri Sep 21 17:28:49 2001
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Fri, 21 Sep 2001 11:28:49 -0400
Subject: [R] How to change the levels of a variable???
References: <5.1.0.14.2.20010921103555.01bf5230@mcmail.cis.mcmaster.ca>
Message-ID: <3BAB5CB1.5BD32FC7@virginia.edu>

Another way to do this is as follows:

> x <- factor(letters)
> levels(x) <- list(ab=c('a','b'),cd=c('c','d'))
> x
 [1] ab ab cd cd e  f  g  h  i  j  k  l  m  n  o  p  q  r  s  t  u  v 
w  x  y
[26] z
Levels:  ab cd e f g h i j k l m n o p q r s t u v w x y z

Frank Harrell


John Fox wrote:
> 
> At 08:27 AM 21/09/2001 -0300, Ronaldo Reis Jr. wrote:
> >Hi,
> >
> >I have a simple question.
> >
> >I have a variable with 3 levels.
> >
> >Variable
> >A A A A A A
> >B B B B B B
> >C C C C C C
> >
> >I need to make a new vector renaming de levels B and C for D.
> >
> >NewVariable
> >A A A A A A
> >D D D D D D
> >D D D D D D
> >
> >I dont find how to make it in manuals or in this list.
> >Can anyone help-me???
> >Thank you
> >Ronaldo
> >--
> 
> Dear Ronaldo,
> 
> There are several ways to do this; one way is to use the recode function in
> the car package:
> 
>      new <- recode(var, " c('B', 'C') = 'D' ")
> 
> I hope that this helps,
>   John
> 
> -----------------------------------------------------
> John Fox
> Department of Sociology
> McMaster University
> Hamilton, Ontario, Canada L8S 4M4
> email: jfox at mcmaster.ca
> phone: 905-525-9140x23604
> web: www.socsci.mcmaster.ca/jfox
> -----------------------------------------------------
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wtreynor at umich.edu  Fri Sep 21 22:10:08 2001
From: wtreynor at umich.edu (Wendy Fc Treynor)
Date: Fri, 21 Sep 2001 16:10:08 -0400 (EDT)
Subject: [R] Request for Help: Rotation of PCA Solution or Eigenvectors 
Message-ID: <Pine.SOL.4.33.0109211602440.24091-100000@galaga.gpcc.itd.umich.edu>

Dear R Helper,

I am writing because I seek to perform a varimax rotation
on my Principal Components Analysis (PCA)  solution. (I have been
performing PCA's using the eigen command in R.) If you can tell me
how to perform this rotation when I use the eigen command (or the
princomp command) I would be thrilled.

Thanks so much!

Wendy Treynor
Ann Arbor, MI
USA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Fri Sep 21 22:32:12 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Fri, 21 Sep 2001 16:32:12 -0400
Subject: [R] memory usage
Message-ID: <OF063788E6.C5F9517F-ON85256ACE.006F7F99@rtp.epa.gov>

Does the following indicate that I have a memory leak?

> gc(TRUE)
Garbage collection 22891 = 21012+1557+322 (level 2) ...
483257 cons cells free (59%)
11.0 Mbytes of heap free (82%)
         used (Mb) gc trigger (Mb)
Ncells 334906  9.0     818163 21.9
Vcells 309342  2.4    1746173 13.4
> memory.size()/1024/1024 ## in MB
[1] 643.8978
> sum(sapply(ls(all.names=TRUE),object.size))
[1] 1776
> memory.limit()/1024/1024
[1] 600

I was repeatedly using try(eval(substitute(nlme(..)))), with lots of error
aborts from nlme.

--please do not edit the information below--

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status =
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Windows 98 SE 4.10 (build 2222)  A

Search Path:
 .GlobalEnv, package:ctest, package:RBMDS, package:nls, package:nlme,
Autoloads, package:base

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Fri Sep 21 23:48:40 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Fri, 21 Sep 2001 17:48:40 -0400 (EDT)
Subject: [R] Request for Help: Rotation of PCA Solution or Eigenvectors
Message-ID: <200109212148.f8LLmeR19646@cattell.psych.upenn.edu>

>I am writing because I seek to perform a varimax rotation
>on my Principal Components Analysis (PCA)  solution. (I have been
>performing PCA's using the eigen command in R.) If you can tell me
>how to perform this rotation when I use the eigen command (or the
>princomp command) I would be thrilled.

You must have the mva package if you are doing principle
components.  Look at the help for it.  You will see "varimax" as
one of the topics, and "factanal" as another.  I think that is
what is available.  I don't think you can do varimax rotation on
principal components (unless you write it yourself, assuming that
it is meaningful).

Jon Baron

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From shenk at math.gatech.edu  Sat Sep 22 04:53:18 2001
From: shenk at math.gatech.edu (Ron Shonkwiler)
Date: Fri, 21 Sep 2001 22:53:18 -0400 (EDT)
Subject: [R] availability of a "solve" function in R?
Message-ID: <200109220253.f8M2rIO23163@math127.math.gatech.edu>

I would like to define a function of two variables f(x,y) and, for
a given value of x, solve f(x,y)=0 for y.

Is this available in R?

ron shenk
shenk at math.gatech.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jefferis at stanford.edu  Sat Sep 22 06:28:31 2001
From: jefferis at stanford.edu (Greg Jefferis)
Date: Fri, 21 Sep 2001 21:28:31 -0700
Subject: [R] Finding a 3D convex hull in R
Message-ID: <B7D1617E.267B%jefferis@stanford.edu>

Dear List Members,

I'm presently carrying out morphological analysis of a data set of neuronal
structures.  These are essentially 3D binary trees.  In due course I will be
trying to use discriminant analysis or other methods to classify these
neurons based on morphological variables such as total tree length, segment
number etc.

I would like to calculate a 3D convex hull for a set of X,Y,Z data points
which define the tips of my neurons.  I have found the R function chull
which finds a 2D convex hull, but not have found any 3D routines.  I
wondered if there were any packages / publicly available code I could use.
Having found the convex hull, it would be handy if there were also functions
to find the centroid, volume etc.  I've only been using R for 10 days and am
not much of a programmer, so I would rather not have to write code to
interface to external C routines etc if possible.

Very many thanks for any suggestions,

Greg.

P.S. I'm running R 1.3.1 on MacOS 9.1

__________________________________________________________________________
Greg Jefferis,                          Lab Address: Liqun Luo, Herrin 144
Neurosciences PhD Programme &                e-mail: jefferis at stanford.edu
Dept Biological Sciences,                       Lab: (650) 725 5809
Gilbert Biology Building,                       Fax: (650) 723 0589
371 Serra Mall,
Stanford, CA 94305-5020.                       Home: (650) 497 1135

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Sep 22 08:19:58 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 22 Sep 2001 07:19:58 +0100 (BST)
Subject: [R] memory usage
In-Reply-To: <OF063788E6.C5F9517F-ON85256ACE.006F7F99@rtp.epa.gov>
Message-ID: <Pine.GSO.4.31.0109220710260.7663-100000@auk.stats>

On Fri, 21 Sep 2001 Setzer.Woodrow at epamail.epa.gov wrote:

> Does the following indicate that I have a memory leak?
>
> > gc(TRUE)
> Garbage collection 22891 = 21012+1557+322 (level 2) ...
> 483257 cons cells free (59%)
> 11.0 Mbytes of heap free (82%)
>          used (Mb) gc trigger (Mb)
> Ncells 334906  9.0     818163 21.9
> Vcells 309342  2.4    1746173 13.4
> > memory.size()/1024/1024 ## in MB
> [1] 643.8978
> > sum(sapply(ls(all.names=TRUE),object.size))
> [1] 1776
> > memory.limit()/1024/1024
> [1] 600
>
> I was repeatedly using try(eval(substitute(nlme(..)))), with lots of error
> aborts from nlme.

I don't think so.  From CHANGES:

  The Windows memory manager proved to be (far) too slow to work with
  the new generational garbage collector, so it has been replaced.  The
  current memory manager rarely releases memory back to Windows (but
  reuses memory very efficiently) so total memory usage will often grow
  slowly over the course of a session.  Memory used for transient large
  objects will normally be returned at garbage collection.  (Once memory
  usage has gone over the 256Mb of address space that is initially
  reserved, it is unlikely to be reduced much, but the allocated memory
  will be reused.)  You can compile R to use the Windows memory manager
  if you need to.

This behaviour is not ideal, but given the way Windows manages memory is
not really compatible with the Unix model of a single large block that can
be grown or shrunk by calls to sbrk, it is the best we can do with the
human resources available.  Getting this far was hard enough.

(The speed hit with the Windows memory manager was often three or more.)

>
> --please do not edit the information below--
>
> Version:
>  platform = i386-pc-mingw32
>  arch = x86
>  os = Win32
>  system = x86, Win32
>  status =
>  major = 1
>  minor = 3.1
>  year = 2001
>  month = 08
>  day = 31
>  language = R
>
> Windows 98 SE 4.10 (build 2222)  A
>
> Search Path:
>  .GlobalEnv, package:ctest, package:RBMDS, package:nls, package:nlme,
> Autoloads, package:base
>
> R. Woodrow Setzer, Jr.                                            Phone:
> (919) 541-0128
> Experimental Toxicology Division                       Fax:  (919) 541-5394
> Pharmacokinetics Branch
> NHEERL MD-74; US EPA; RTP, NC 27711
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Sep 22 08:38:18 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 22 Sep 2001 07:38:18 +0100 (BST)
Subject: [R] Request for Help: Rotation of PCA Solution or Eigenvectors
In-Reply-To: <200109212148.f8LLmeR19646@cattell.psych.upenn.edu>
Message-ID: <Pine.GSO.4.31.0109220720290.7663-100000@auk.stats>

On Fri, 21 Sep 2001, Jonathan Baron wrote:

> >I am writing because I seek to perform a varimax rotation
> >on my Principal Components Analysis (PCA)  solution. (I have been
> >performing PCA's using the eigen command in R.) If you can tell me
> >how to perform this rotation when I use the eigen command (or the
> >princomp command) I would be thrilled.
>
> You must have the mva package if you are doing principle
> components.  Look at the help for it.  You will see "varimax" as
> one of the topics, and "factanal" as another.  I think that is
> what is available.  I don't think you can do varimax rotation on
> principal components (unless you write it yourself, assuming that
> it is meaningful).

You can do it, but whether it is meaningful is another question. Christian
Hoffmann has sent me examples.  He just calls princomp, and then calls
varimax on the loadings.  As an example (not his)

library(mva)
data(USArrests)
pc.cr <- princomp(USArrests, cor=TRUE)
loadings(pc.cr)
varimax(loadings(pc.cr)[, 1:2])  # rotate the first two components

I don't believe that is the best way to use rotation in PCA (although it is
commonly used).  There is a discussion in the on-line Statistical
Complements to MASS3 (via http://www.stats.ox.ac.uk/pub/MASS3)
with recommendations from various sources and S-PLUS examples (that
would work with small changes in R).  Caveat: I am not an expert and the
authorities disagree.   The issues seem much more contentious than
using rotation in factor analysis.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Sep 22 08:52:56 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 22 Sep 2001 07:52:56 +0100 (BST)
Subject: [R] Finding a 3D convex hull in R
In-Reply-To: <B7D1617E.267B%jefferis@stanford.edu>
Message-ID: <Pine.GSO.4.31.0109220739060.7663-100000@auk.stats>

On Fri, 21 Sep 2001, Greg Jefferis wrote:

> Dear List Members,
>
> I'm presently carrying out morphological analysis of a data set of neuronal
> structures.  These are essentially 3D binary trees.  In due course I will be
> trying to use discriminant analysis or other methods to classify these
> neurons based on morphological variables such as total tree length, segment
> number etc.
>
> I would like to calculate a 3D convex hull for a set of X,Y,Z data points
> which define the tips of my neurons.  I have found the R function chull
> which finds a 2D convex hull, but not have found any 3D routines.  I
> wondered if there were any packages / publicly available code I could use.
> Having found the convex hull, it would be handy if there were also functions
> to find the centroid, volume etc.  I've only been using R for 10 days and am
> not much of a programmer, so I would rather not have to write code to
> interface to external C routines etc if possible.

3D convex hull programs are very much more specialized than 2D ones.
When I added chull I looked at the possibility of allowing kD, k > 2,
but it was hard to find suitable code, let alone interface to it.
Known algorithms are far too complicated to implement tolerably at R level.

netlib.bell-labs.com/netlib/voronoi/hull.html

is one place I considered starting, but note the portability comments.


> Very many thanks for any suggestions,
>
> Greg.
>
> P.S. I'm running R 1.3.1 on MacOS 9.1
>
> __________________________________________________________________________
> Greg Jefferis,                          Lab Address: Liqun Luo, Herrin 144
> Neurosciences PhD Programme &                e-mail: jefferis at stanford.edu
> Dept Biological Sciences,                       Lab: (650) 725 5809
> Gilbert Biology Building,                       Fax: (650) 723 0589
> 371 Serra Mall,
> Stanford, CA 94305-5020.                       Home: (650) 497 1135
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jim_Garrett at bd.com  Fri Sep 21 16:29:54 2001
From: Jim_Garrett at bd.com (Jim_Garrett@bd.com)
Date: Fri, 21 Sep 2001 10:29:54 -0400
Subject: [R] behavior of xaxt = "n" with POSIXct dates
Message-ID: <OF4B28AD13.F979B8F3-ON85256ACE.004CFF86@bd.com>


Prof. Ripley has provided very helpful information regarding X-axis
labeling with POSIXct-class dates.  Now I've run into another bit of
problematic behavior.  I'm running R 1.3.0 on Windows NT 4.0.

When I create a plot with the optional argument xaxt = "n", and the X axis
is generated from dates of class POSIXct,  the X axis is plotted.
Obviously, I'd like to prevent the X axis from being plotted so that I can
create a tailored X axis for plotting.

I have a work-around for the moment:  plot without any axes, then add each
axis with a separate "axis" statement.  But perhaps there is a way to get
the desired behavior in the first place?

Incidentally, I can't check documentation for R 1.3.1 because, due to my
company's slow and extremely conservative response to the Nimda worm, I
can't access the web (I now realize how much I use it!).  Apologies in
advance if the latest R version has already handled this.

Jim Garrett
Becton Dickinson
Baltimore, Maryland, USA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Sep 22 13:50:14 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 22 Sep 2001 12:50:14 +0100 (BST)
Subject: [R] behavior of xaxt = "n" with POSIXct dates
In-Reply-To: <OF4B28AD13.F979B8F3-ON85256ACE.004CFF86@bd.com>
Message-ID: <Pine.GSO.4.31.0109221243010.13787-100000@auk.stats>

On Fri, 21 Sep 2001 Jim_Garrett at bd.com wrote:

>
> Prof. Ripley has provided very helpful information regarding X-axis
> labeling with POSIXct-class dates.  Now I've run into another bit of
> problematic behavior.  I'm running R 1.3.0 on Windows NT 4.0.
>
> When I create a plot with the optional argument xaxt = "n", and the X axis
> is generated from dates of class POSIXct,  the X axis is plotted.
> Obviously, I'd like to prevent the X axis from being plotted so that I can
> create a tailored X axis for plotting.
>
> I have a work-around for the moment:  plot without any axes, then add each
> axis with a separate "axis" statement.  But perhaps there is a way to get
> the desired behavior in the first place?

The author could have anticipated that you might want to do it, I guess!
I'll write a more sophisticated version of plot and axis for POSIXt classes
for 1.4.0: what is there was intended to be a quick hack to encourage
migration from chron classes.

> Incidentally, I can't check documentation for R 1.3.1 because, due to my
> company's slow and extremely conservative response to the Nimda worm, I
> can't access the web (I now realize how much I use it!).  Apologies in
> advance if the latest R version has already handled this.

I suppose you can't upgrade R either, then?  We would encourage people to
go to 1.3.1: it had a lot of bug fixes, and we do not anticipate any
further releases before 1.4.0 which `is not yet scheduled, but is likely to
be around the end of 2001.'


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Sat Sep 22 14:40:21 2001
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Sat, 22 Sep 2001 14:40:21 +0200
Subject: [R] availability of a "solve" function in R?
References: <200109220253.f8M2rIO23163@math127.math.gatech.edu>
Message-ID: <3BAC86B5.104FA6AE@ci.tuwien.ac.at>

Ron Shonkwiler wrote:
> 
> I would like to define a function of two variables f(x,y) and, for
> a given value of x, solve f(x,y)=0 for y.
> 
> Is this available in R?

Have a look at uniroot(), e.g. do something like

R> myfun <- function(x,y) x+y
R> uniroot(function(x) myfun(x,5), c(-10,10))

cheers
Z
 
> ron shenk
> shenk at math.gatech.edu
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Sun Sep 23 05:05:33 2001
From: faheem at email.unc.edu (Faheem Mitha)
Date: Sat, 22 Sep 2001 23:05:33 -0400 (EDT)
Subject: [R] plot with no tick marks
Message-ID: <Pine.LNX.4.21.0109222302050.419-100000@Chrestomanci>


Dear R people,

I have the following simple bit of code to make a plot. I want to suppress
tick marks on the axes of the plot. I've been trying everything I can
think of to do so, but have been unsuccessful. Can you help me? If you
reply, please cc me, I'm not currently subscribed to the list.

Thanks in advance.

                              Sincerely, Faheem Mitha.


num <- 1:i
inc <- num/i
x <- qnorm(inc)
y <- sort(rnorm(num))
postscript(file="nqplot.eps",width=6,height=4,bg="white",
  horizontal=FALSE,paper="special",onefile=FALSE,fg="black",
           family="Bookman")
plot.default(x,y)
dev.off()

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Sun Sep 23 05:08:52 2001
From: faheem at email.unc.edu (Faheem Mitha)
Date: Sat, 22 Sep 2001 23:08:52 -0400 (EDT)
Subject: [R] plot with no tick marks
Message-ID: <Pine.LNX.4.21.0109222308030.419-100000@Chrestomanci>


Sorry, it seems the address has changed since I last used it. Hope you
don't get duplicates.                               Faheem.

---------- Forwarded message ----------
Date: Sat, 22 Sep 2001 23:05:33 -0400 (EDT)
From: Faheem Mitha <faheem at email.unc.edu>
To: r-help at stat.math.ethz.ch
Subject: plot with no tick marks


Dear R people,

I have the following simple bit of code to make a plot. I want to suppress
tick marks on the axes of the plot. I've been trying everything I can
think of to do so, but have been unsuccessful. Can you help me? If you
reply, please cc me, I'm not currently subscribed to the list.

Thanks in advance.

                              Sincerely, Faheem Mitha.


num <- 1:i
inc <- num/i
x <- qnorm(inc)
y <- sort(rnorm(num))
postscript(file="nqplot.eps",width=6,height=4,bg="white",
  horizontal=FALSE,paper="special",onefile=FALSE,fg="black",
           family="Bookman")
plot.default(x,y)
dev.off()


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Sep 23 08:27:25 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 23 Sep 2001 07:27:25 +0100 (BST)
Subject: [R] plot with no tick marks
In-Reply-To: <Pine.LNX.4.21.0109222308030.419-100000@Chrestomanci>
Message-ID: <Pine.GSO.4.31.0109230726130.14276-100000@auk.stats>

On Sat, 22 Sep 2001, Faheem Mitha wrote:

>
> Sorry, it seems the address has changed since I last used it. Hope you
> don't get duplicates.                               Faheem.
>
> ---------- Forwarded message ----------
> Date: Sat, 22 Sep 2001 23:05:33 -0400 (EDT)
> From: Faheem Mitha <faheem at email.unc.edu>
> To: r-help at stat.math.ethz.ch
> Subject: plot with no tick marks
>
>
> Dear R people,
>
> I have the following simple bit of code to make a plot. I want to suppress
> tick marks on the axes of the plot. I've been trying everything I can
> think of to do so, but have been unsuccessful. Can you help me? If you
> reply, please cc me, I'm not currently subscribed to the list.
>
> Thanks in advance.
>
>                               Sincerely, Faheem Mitha.
>
>
> num <- 1:i
> inc <- num/i
> x <- qnorm(inc)
> y <- sort(rnorm(num))
> postscript(file="nqplot.eps",width=6,height=4,bg="white",
>   horizontal=FALSE,paper="special",onefile=FALSE,fg="black",
>            family="Bookman")
> plot.default(x,y)
> dev.off()

Try plot(x, y, tcl=0)

tck=0 will also work. See ?par.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Sun Sep 23 16:55:17 2001
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Sun, 23 Sep 2001 16:55:17 +0200
Subject: [R] outer
Message-ID: <3BADF7D5.D48FB100@univie.ac.at>

i cannot cajole outer in doing what i want it to do.

i hav a function only defined for scalars
fun(n,k)

and i want to do

outer(1:5,1:5,function(x,y) fun(x,y))
(i know this is written somewhat clumsy)

to get an array with the values of fun
to use it as an input for image

this does not work since
outer assumes then fun works on arrays elementwise.

what is the easiest way of getting what i want?

outer in some lisp like variants and in mathematica will work with the
function argument being a
scalar argument only function.
r is different here.




--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Sep 23 17:14:04 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 23 Sep 2001 16:14:04 +0100 (BST)
Subject: [R] outer
In-Reply-To: <3BADF7D5.D48FB100@univie.ac.at>
Message-ID: <Pine.GSO.4.31.0109231610570.20111-100000@toucan.stats>

On Sun, 23 Sep 2001, Erich Neuwirth wrote:

> i cannot cajole outer in doing what i want it to do.
>
> i hav a function only defined for scalars
> fun(n,k)
>
> and i want to do
>
> outer(1:5,1:5,function(x,y) fun(x,y))
> (i know this is written somewhat clumsy)
>
> to get an array with the values of fun
> to use it as an input for image
>
> this does not work since
> outer assumes then fun works on arrays elementwise.
>
> what is the easiest way of getting what i want?
>
> outer in some lisp like variants and in mathematica will work with the
> function argument being a
> scalar argument only function.
> r is different here.

Well, R is a vector language and expect functions to handle vector
arguments.  In fact it has no scalars, so I guess you mean that it will
only accept vectors of length one.  You'll need to use loops, implicitly
(via *apply) or explicitly.  Probably best to do this inside f, and make
it conform to the R model.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Sun Sep 23 17:16:46 2001
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Sun, 23 Sep 2001 17:16:46 +0200
Subject: [R] more about outer 
Message-ID: <3BADFCDE.E1EA3254@univie.ac.at>

this is my current answer to my own question.
should we have such a funcion in a more general version
(i.e. with an arbitraty number of argument lists, for n-ary
functions)
in the core language?

myouter<-function(x,y,fun){
t(sapply(x,function(arg1) sapply(y,function(arg2) fun(arg1,arg2))))
}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Sun Sep 23 18:16:46 2001
From: aolinto at bignet.com.br (Antonio Olinto)
Date: Sun, 23 Sep 2001 13:16:46 -0300
Subject: [R] plot and lm
Message-ID: <001e01c1444b$4faf2980$ae54fea9@nautilus>

Hello R-list,

 I?m trying to make a scatter plot with two dependent variables and a
regression line only for one ?y?, but I?m having some problems. Well, I will
explain better what I?m doing ? it?s a method used to estimate the total
mortality rate in fish stocks.

Suppose a I have the following data (dat):

> dat
      x     y
1    1   1.0
2    2   2.0
3    3   3.0
4    4   4.0
5    5   4.4
6    6   4.1
7    7   3.2
8    8   3.1
9    9   2.4
10 10  2.7

With plot(x,y col=?blue?, pch=19) and identify(x,y) I can identify the blue
points that follow a descendent trend (negative slope). They are points 5 to
9. Let?s call this plot 1.

With dat2 <- dat[c(5:9),] I can make another data.frame and and using
attach(dat2), plot(x,y, col=?red?, pch=19), reg <- lm(y~x) and abline(reg) I
have another plot (plot 2) with red points and the regression line.

I would like to have in one plot all the points (1 to 10) in blue, the
points 5 to 9 in red and a regression line from points 5 to 9. In other
words, plots 1 and 2 at the same screen. I?m sure that it?s possible to do
this plot but after several attempts I decide to ask for your help in this
Sunday morning.

Thanks for any suggestion,

Antonio Olinto
Fisheries Institute
Sao Paulo - BRAZL


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Sep 23 18:09:58 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Sep 2001 18:09:58 +0200
Subject: [R] more about outer
In-Reply-To: <3BADFCDE.E1EA3254@univie.ac.at>
References: <3BADFCDE.E1EA3254@univie.ac.at>
Message-ID: <x21ykxlwh5.fsf@blueberry.kubism.ku.dk>

Erich Neuwirth <erich.neuwirth at univie.ac.at> writes:

> this is my current answer to my own question.
> should we have such a funcion in a more general version
> (i.e. with an arbitraty number of argument lists, for n-ary
> functions)
> in the core language?
> 
> myouter<-function(x,y,fun){
> t(sapply(x,function(arg1) sapply(y,function(arg2) fun(arg1,arg2))))
> }

I'd be partial to this kind of constructions 

vectorize2 <- function(f) 
    function(x, y,...)
        sapply(seq, along=x, function(i)f(x[i],y[i],...))

so that you can simply do

outer(x, y, vectorize2(fun))

A similar technique for functions of one variable would be

vectorize <- function(f) 
    function(x, ...)
        sapply(x, f)


The case of N variables is -um- interesting...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Sun Sep 23 19:05:38 2001
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Sun, 23 Sep 2001 19:05:38 +0200
Subject: [R] more about outer
References: <3BADFCDE.E1EA3254@univie.ac.at> <x21ykxlwh5.fsf@blueberry.kubism.ku.dk>
Message-ID: <3BAE1662.3157C437@univie.ac.at>

thanks,

your original code did not wortk for me,
but the following version seems to work


vectorize2 <- function(f) 
    function(x, y,...)
        sapply(1:length(x), function(i)f(x[i],y[i],...))


Peter Dalgaard BSA wrote:
> 
> Erich Neuwirth <erich.neuwirth at univie.ac.at> writes:
> 
> > this is my current answer to my own question.
> > should we have such a funcion in a more general version
> > (i.e. with an arbitraty number of argument lists, for n-ary
> > functions)
> > in the core language?
> >
> > myouter<-function(x,y,fun){
> > t(sapply(x,function(arg1) sapply(y,function(arg2) fun(arg1,arg2))))
> > }
> 
> I'd be partial to this kind of constructions
> 
> vectorize2 <- function(f)
>     function(x, y,...)
>         sapply(seq, along=x, function(i)f(x[i],y[i],...))
> 
> so that you can simply do
> 
> outer(x, y, vectorize2(fun))
> 
> A similar technique for functions of one variable would be
> 
> vectorize <- function(f)
>     function(x, ...)
>         sapply(x, f)
> 
> The case of N variables is -um- interesting...
> 
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Sun Sep 23 20:03:53 2001
From: aolinto at bignet.com.br (Antonio Olinto)
Date: Sun, 23 Sep 2001 15:03:53 -0300
Subject: [R] plot and lm (2)
References: <Pine.SOL.3.91.1010923131519.21676B-100000@godzilla6.acpub.duke.edu>
Message-ID: <001601c1445a$41fc8c60$ae54fea9@nautilus>

Thanks for your reply Nassar.

What I really want is to overlay (like add=TRUE) the plots 1 and 2. With
plots "at the same screen" I meant overlaid and not one beside the other,
i.e., only one plot with all the points (1 to 10) in blue (or any other
color), the points 5 to 9 in red and a regression line from points 5 to 9.

Best regards,

Antonio Olinto

----- Original Message -----
From: "Rashid Nassar" <rnassar at duke.edu>
To: "Antonio Olinto" <aolinto at bignet.com.br>
Sent: Sunday, September 23, 2001 2:20 PM
Subject: Re: [R] plot and lm


> One way to do this (if I understand you correctly):
>
> > qu
>     x   y
> 1   1 1.0
> 2   2 2.0
> 3   3 3.0
> 4   4 4.0
> 5   5 4.4
> 6   6 4.1
> 7   7 3.2
> 8   8 3.1
> 9   9 2.4
> 10 10 2.7
>
> > qu$group <- c(rep(1,4),rep(2,5), 1)
> > attach(qu)
> > opar <- par(mfcol=c(1,2), pty="s")   # use pty="m" (default) if you
>                                        #don't want square plots.
> > plot(x,y, col="blue", pch=19)
> > title("Plot 1")
> > plot(x[group==2], y[group==2], col="red", pch=19, main="Plot 2")
> > abline(lm(y ~ x, data=qu, subset=group==2), col="red")
> > detach(qu)
> > par(opar)
>
>
> I hope this helps.
>
> Rashid Nassar
>
> On Sun, 23 Sep 2001, Antonio Olinto wrote:
>
> > Date: Sun, 23 Sep 2001 13:16:46 -0300
> > From: Antonio Olinto <aolinto at bignet.com.br>
> > To: R-help <r-help at stat.math.ethz.ch>
> > Subject: [R] plot and lm
> >
> > Hello R-list,
> >
> >  I'm trying to make a scatter plot with two dependent variables and a
> > regression line only for one "y", but I'm having some problems. Well, I
will
> > explain better what I'm doing - it's a method used to estimate the total
> > mortality rate in fish stocks.
> >
> > Suppose a I have the following data (dat):
> >
> > > dat
> >       x     y
> > 1    1   1.0
> > 2    2   2.0
> > 3    3   3.0
> > 4    4   4.0
> > 5    5   4.4
> > 6    6   4.1
> > 7    7   3.2
> > 8    8   3.1
> > 9    9   2.4
> > 10 10  2.7
> >
> > With plot(x,y col="blue", pch=19) and identify(x,y) I can identify the
blue
> > points that follow a descendent trend (negative slope). They are points
5 to
> > 9. Let's call this plot 1.
> >
> > With dat2 <- dat[c(5:9),] I can make another data.frame and and using
> > attach(dat2), plot(x,y, col="red", pch=19), reg <- lm(y~x) and
abline(reg) I
> > have another plot (plot 2) with red points and the regression line.
> >
> > I would like to have in one plot all the points (1 to 10) in blue, the
> > points 5 to 9 in red and a regression line from points 5 to 9. In other
> > words, plots 1 and 2 at the same screen. I'm sure that it's possible to
do
> > this plot but after several attempts I decide to ask for your help in
this
> > Sunday morning.
> >
> > Thanks for any suggestion,
> >
> > Antonio Olinto
> > Fisheries Institute
> > Sao Paulo - BRAZL
> >
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> > r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
> >

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Sep 23 20:33:45 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Sep 2001 20:33:45 +0200
Subject: [R] more about outer
In-Reply-To: <3BAE1662.3157C437@univie.ac.at>
References: <3BADFCDE.E1EA3254@univie.ac.at>
	<x21ykxlwh5.fsf@blueberry.kubism.ku.dk>
	<3BAE1662.3157C437@univie.ac.at>
Message-ID: <x23d5dycxi.fsf@blueberry.kubism.ku.dk>

Erich Neuwirth <erich.neuwirth at univie.ac.at> writes:

> thanks,
> 
> your original code did not wortk for me,
> but the following version seems to work
> 
> 
> vectorize2 <- function(f) 
>     function(x, y,...)
>         sapply(1:length(x), function(i)f(x[i],y[i],...))
> 
...
> > vectorize2 <- function(f)
> >     function(x, y,...)
> >         sapply(seq, along=x, function(i)f(x[i],y[i],...))

Oops, yes. What I meant was
 
  sapply(seq(along=x), function(i)f(x[i],y[i],...))

(There's a difference if length(x) == 0)
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rnassar at duke.edu  Sun Sep 23 20:51:45 2001
From: rnassar at duke.edu (Rashid Nassar)
Date: Sun, 23 Sep 2001 14:51:45 -0400 (EDT)
Subject: [R] Re: plot and lm (2)
In-Reply-To: <001601c1445a$41fc8c60$ae54fea9@nautilus>
Message-ID: <Pine.SOL.3.91.1010923144602.100A-100000@godzilla5.acpub.duke.edu>

I don't think I understand what you want to do: if you overlay them, then 
points 5:9 will show up as red, and 1:4 and 10 will show up as blue:

> group <- c(rep(1,4),rep(2,5), 1)
> plot(x,y, col="blue", pch=19)
> points(x[group==2], y[group==2], col="red", pch=19)
> abline(lm(y ~ x, data=qu, subset=group==2), col="red")

is that what you want to do?

best wishes,

Rashid Nassar


On Sun, 23 Sep 2001, Antonio Olinto wrote:

> Date: Sun, 23 Sep 2001 15:03:53 -0300
> From: Antonio Olinto <aolinto at bignet.com.br>
> To: R-help <r-help at stat.math.ethz.ch>, Rashid Nassar <rnassar at duke.edu>
> Subject: plot and lm (2)
> 
> Thanks for your reply Nassar.
> 
> What I really want is to overlay (like add=TRUE) the plots 1 and 2. With
> plots "at the same screen" I meant overlaid and not one beside the other,
> i.e., only one plot with all the points (1 to 10) in blue (or any other
> color), the points 5 to 9 in red and a regression line from points 5 to 9.
> 
> Best regards,
> 
> Antonio Olinto
> 
> ----- Original Message -----
> From: "Rashid Nassar" <rnassar at duke.edu>
> To: "Antonio Olinto" <aolinto at bignet.com.br>
> Sent: Sunday, September 23, 2001 2:20 PM
> Subject: Re: [R] plot and lm
> 
> 
> > One way to do this (if I understand you correctly):
> >
> > > qu
> >     x   y
> > 1   1 1.0
> > 2   2 2.0
> > 3   3 3.0
> > 4   4 4.0
> > 5   5 4.4
> > 6   6 4.1
> > 7   7 3.2
> > 8   8 3.1
> > 9   9 2.4
> > 10 10 2.7
> >
> > > qu$group <- c(rep(1,4),rep(2,5), 1)
> > > attach(qu)
> > > opar <- par(mfcol=c(1,2), pty="s")   # use pty="m" (default) if you
> >                                        #don't want square plots.
> > > plot(x,y, col="blue", pch=19)
> > > title("Plot 1")
> > > plot(x[group==2], y[group==2], col="red", pch=19, main="Plot 2")
> > > abline(lm(y ~ x, data=qu, subset=group==2), col="red")
> > > detach(qu)
> > > par(opar)
> >
> >
> > I hope this helps.
> >
> > Rashid Nassar
> >
> > On Sun, 23 Sep 2001, Antonio Olinto wrote:
> >
> > > Date: Sun, 23 Sep 2001 13:16:46 -0300
> > > From: Antonio Olinto <aolinto at bignet.com.br>
> > > To: R-help <r-help at stat.math.ethz.ch>
> > > Subject: [R] plot and lm
> > >
> > > Hello R-list,
> > >
> > >  I'm trying to make a scatter plot with two dependent variables and a
> > > regression line only for one "y", but I'm having some problems. Well, I
> will
> > > explain better what I'm doing - it's a method used to estimate the total
> > > mortality rate in fish stocks.
> > >
> > > Suppose a I have the following data (dat):
> > >
> > > > dat
> > >       x     y
> > > 1    1   1.0
> > > 2    2   2.0
> > > 3    3   3.0
> > > 4    4   4.0
> > > 5    5   4.4
> > > 6    6   4.1
> > > 7    7   3.2
> > > 8    8   3.1
> > > 9    9   2.4
> > > 10 10  2.7
> > >
> > > With plot(x,y col="blue", pch=19) and identify(x,y) I can identify the
> blue
> > > points that follow a descendent trend (negative slope). They are points
> 5 to
> > > 9. Let's call this plot 1.
> > >
> > > With dat2 <- dat[c(5:9),] I can make another data.frame and and using
> > > attach(dat2), plot(x,y, col="red", pch=19), reg <- lm(y~x) and
> abline(reg) I
> > > have another plot (plot 2) with red points and the regression line.
> > >
> > > I would like to have in one plot all the points (1 to 10) in blue, the
> > > points 5 to 9 in red and a regression line from points 5 to 9. In other
> > > words, plots 1 and 2 at the same screen. I'm sure that it's possible to
> do
> > > this plot but after several attempts I decide to ask for your help in
> this
> > > Sunday morning.
> > >
> > > Thanks for any suggestion,
> > >
> > > Antonio Olinto
> > > Fisheries Institute
> > > Sao Paulo - BRAZL
> > >
> > >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> > > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> > >
> 
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bradley_c_love at yahoo.com  Mon Sep 24 05:04:06 2001
From: bradley_c_love at yahoo.com (bradley love)
Date: Sun, 23 Sep 2001 20:04:06 -0700 (PDT)
Subject: [R] 2D fft DC shift
Message-ID: <20010924030406.28039.qmail@web14703.mail.yahoo.com>

Hi Everyone,

Does anyone know how to take the output of a 2D fft()
and shift the DC component to the center?  Is there a
function that does that?

if you know, please send me an email.

thanks for any help!

brad





__________________________________________________

. http://im.yahoo.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From BARTAZ at tigris.klte.hu  Mon Sep 24 13:03:38 2001
From: BARTAZ at tigris.klte.hu (Barta Zoltan)
Date: Mon, 24 Sep 2001 13:03:38 +0200
Subject: [R] Printing Central European characters
Message-ID: <Pine.VMS.3.91-A.1010924130220.7495C-100000@tigris.klte.hu>



Dear R-users,

I have problems with printing Central European (CE) characters
(e.g. {\H o} and {\H u}) in graphics made by R.

After executing the following code I can see the CE characters with gv
on my screen, but I cannot print them on a postscript printer. 

> postscript(file="proba.ps",enc="ISOLatin2.enc")
> plot(0:15,0:15,type="n")
> grid(15,15,lty=1)
> for(i in c(32:127, 160:255)){x <- i %%16;y <- i%/% 16;points(x,y,pch=i)}
There were 50 or more warnings (use warnings() to see the first 50)
> warnings()
Warning messages:
1: font width unknown for character 127
2: font metrics unknown for character 127
3: font width unknown for character 127
4: font width unknown for character 160
5: font metrics unknown for character 160
6: font width unknown for character 160
7: font width unknown for character 161
8: font metrics unknown for character 161
9: font width unknown for character 161
[...]
> dev.off()
X11 
  2 
> version
         _                
platform i386-pc-linux-gnu
arch     i386             
os       linux-gnu        
system   i386, linux-gnu  
status                    
major    1                
minor    3.1              
year     2001             
month    08               
day      31               
language R                

Note, I have problems with characters for which a warning of 'font
width unknown for...'  printed. These characters are also not centered
on the grid in gv display. From latex there is no problem to print CE
characters. \psfrag also works fine.

Many thanks for your help.

Zoltan Barta







********************
Z. Barta
Behavioural Ecology Research Group, Department of Evolutionary Zoology,
University of Debrecen, Debrecen, Hungary
Phone: 36 52 316 666 ext. 2334; Fax: 36 52 512 491
E-mail: bartaz at tigris.klte.hu; http://delfin.klte.hu/~zbarta
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stuart.leask at nottingham.ac.uk  Mon Sep 24 13:36:43 2001
From: stuart.leask at nottingham.ac.uk (Stuart Leask)
Date: Mon, 24 Sep 2001 12:36:43 +0100
Subject: [R] R for handheld linux device
References: <Pine.LNX.4.31.0109211256030.4343-100000@gannet.stats>
Message-ID: <00bb01c144ed$2faeb040$f2e1f380@nottingham.ac.uk>

Hi there. Is anyone compiling a version of R for a handheld linux device eg.
Agenda VR3? (See http://www.cs.umbc.edu/~acedil1/agenda/general.shtml... )

The idea of a pocketable device one could work up R syntax on (using subsets
of data... during train journeys or overlong meetings...) is most appealing.

Stuart

Dr Stuart Leask MA MRCPsych, Clinical Lecturer in Psychiatry
University of Nottingham Dept of Psychiatry, Duncan Macmillan House
Porchester Road, Nottingham. NG3 6AA. UK
http://www.nottingham.ac.uk/psychiatry/staff/sjl.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep 24 13:57:29 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Sep 2001 13:57:29 +0200
Subject: [R] R for handheld linux device
In-Reply-To: <00bb01c144ed$2faeb040$f2e1f380@nottingham.ac.uk>
References: <Pine.LNX.4.31.0109211256030.4343-100000@gannet.stats>
	<00bb01c144ed$2faeb040$f2e1f380@nottingham.ac.uk>
Message-ID: <x2d74gkdhy.fsf@blueberry.kubism.ku.dk>

"Stuart Leask" <stuart.leask at nottingham.ac.uk> writes:

> Hi there. Is anyone compiling a version of R for a handheld linux device eg.
> Agenda VR3? (See http://www.cs.umbc.edu/~acedil1/agenda/general.shtml... )
> 
> The idea of a pocketable device one could work up R syntax on (using subsets
> of data... during train journeys or overlong meetings...) is most appealing.

Cute idea. Technically, the problems would probably be whether the
device has enough memory and speed, and there seems to be some issues
with dynamic linking that would need to be sorted out. Apart from
that, R is a fairly standard *N*X program which uses only raw X11
calls so porting it could be fairly simple. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Sep 24 14:07:13 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 24 Sep 2001 13:07:13 +0100 (BST)
Subject: [R] Printing Central European characters
In-Reply-To: <Pine.VMS.3.91-A.1010924130220.7495C-100000@tigris.klte.hu>
Message-ID: <Pine.GSO.4.31.0109241251490.21820-100000@toucan.stats>

Does your printer have CE versions of the fonts you are using (here
Helevetica, I think)?  This will only work if it does, and that's
not an R issue.  Printers with Adobe engines sold in the UK do not.

You may well need to switch to, say, the URW clone of Helvetica
(as gv works, that probably does have the characters) *and* use the
appropriate afms.  You will need to arrange to download them too.

n019003l.afm seems to contain the chars.

On Mon, 24 Sep 2001, Barta Zoltan wrote:
>
>
> Dear R-users,
>
> I have problems with printing Central European (CE) characters
> (e.g. {\H o} and {\H u}) in graphics made by R.
>
> After executing the following code I can see the CE characters with gv
> on my screen, but I cannot print them on a postscript printer.
>
> > postscript(file="proba.ps",enc="ISOLatin2.enc")
> > plot(0:15,0:15,type="n")
> > grid(15,15,lty=1)
> > for(i in c(32:127, 160:255)){x <- i %%16;y <- i%/% 16;points(x,y,pch=i)}
> There were 50 or more warnings (use warnings() to see the first 50)
> > warnings()
> Warning messages:
> 1: font width unknown for character 127
> 2: font metrics unknown for character 127
> 3: font width unknown for character 127
> 4: font width unknown for character 160
> 5: font metrics unknown for character 160
> 6: font width unknown for character 160
> 7: font width unknown for character 161
> 8: font metrics unknown for character 161
> 9: font width unknown for character 161
> [...]
> > dev.off()
> X11
>   2
> > version
>          _
> platform i386-pc-linux-gnu
> arch     i386
> os       linux-gnu
> system   i386, linux-gnu
> status
> major    1
> minor    3.1
> year     2001
> month    08
> day      31
> language R
>
> Note, I have problems with characters for which a warning of 'font
> width unknown for...'  printed. These characters are also not centered
> on the grid in gv display.

Char 127 is not defined, 160 is a non-breaking space but I suspect you
mean some later ones.

They will not be centred if they are not in the afms: and then they
are probably not in the Adobe fonts.

> From latex there is no problem to print CE
> characters. \psfrag also works fine.

They may well be downloading fonts.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From johann at ai.univie.ac.at  Mon Sep 24 14:57:13 2001
From: johann at ai.univie.ac.at (Johann Petrak)
Date: Mon, 24 Sep 2001 14:57:13 +0200
Subject: [R] reading in ASCII files
Message-ID: <3BAF2DA9.6090108@ai.univie.ac.at>

I wonder if there is a way to read in CSV files so that
- certain fields within each record (line) are ignored, i.e.
   not converted to columns in the output data frame
- factors/levels are created automatically: often, the possible
   labels are known in advance and could immediately be
   converted. This would save a lot of memory and time for
   bigger files, I assume.

Johann

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Mon Sep 24 15:01:29 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Mon, 24 Sep 2001 09:01:29 -0400
Subject: [R] memory usage
Message-ID: <OF1EBB9E82.91160DFE-ON85256AD1.00476D07@rtp.epa.gov>


Thanks.  Now that you mention it, I remember reading that note in CHANGES.
It's getting harder to remember everything I need to!

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


                                                                                                                                        
                    Prof Brian D                                                                                                        
                    Ripley               To:     Woodrow Setzer/RTP/USEPA/US at EPA                                                        
                    <ripley at stats        cc:     r-help at hypatia.math.ethz.ch                                                            
                    .ox.ac.uk>           Subject:     Re: [R] memory usage                                                              
                    Sent by:                                                                                                            
                    ripley at auk.st                                                                                                       
                    ats                                                                                                                 
                                                                                                                                        
                                                                                                                                        
                    09/22/01                                                                                                            
                    02:19 AM                                                                                                            
                                                                                                                                        
                                                                                                                                        




On Fri, 21 Sep 2001 Setzer.Woodrow at epamail.epa.gov wrote:

> Does the following indicate that I have a memory leak?
>
> > gc(TRUE)
> Garbage collection 22891 = 21012+1557+322 (level 2) ...
> 483257 cons cells free (59%)
> 11.0 Mbytes of heap free (82%)
>          used (Mb) gc trigger (Mb)
> Ncells 334906  9.0     818163 21.9
> Vcells 309342  2.4    1746173 13.4
> > memory.size()/1024/1024 ## in MB
> [1] 643.8978
> > sum(sapply(ls(all.names=TRUE),object.size))
> [1] 1776
> > memory.limit()/1024/1024
> [1] 600
>
> I was repeatedly using try(eval(substitute(nlme(..)))), with lots of
error
> aborts from nlme.

I don't think so.  From CHANGES:

  The Windows memory manager proved to be (far) too slow to work with
  the new generational garbage collector, so it has been replaced.  The
  current memory manager rarely releases memory back to Windows (but
  reuses memory very efficiently) so total memory usage will often grow
  slowly over the course of a session.  Memory used for transient large
  objects will normally be returned at garbage collection.  (Once memory
  usage has gone over the 256Mb of address space that is initially
  reserved, it is unlikely to be reduced much, but the allocated memory
  will be reused.)  You can compile R to use the Windows memory manager
  if you need to.

This behaviour is not ideal, but given the way Windows manages memory is
not really compatible with the Unix model of a single large block that can
be grown or shrunk by calls to sbrk, it is the best we can do with the
human resources available.  Getting this far was hard enough.

(The speed hit with the Windows memory manager was often three or more.)

>
> --please do not edit the information below--
>
> Version:
>  platform = i386-pc-mingw32
>  arch = x86
>  os = Win32
>  system = x86, Win32
>  status =
>  major = 1
>  minor = 3.1
>  year = 2001
>  month = 08
>  day = 31
>  language = R
>
> Windows 98 SE 4.10 (build 2222)  A
>
> Search Path:
>  .GlobalEnv, package:ctest, package:RBMDS, package:nls, package:nlme,
> Autoloads, package:base
>
> R. Woodrow Setzer, Jr.                                            Phone:
> (919) 541-0128
> Experimental Toxicology Division                       Fax:  (919)
541-5394
> Pharmacokinetics Branch
> NHEERL MD-74; US EPA; RTP, NC 27711
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._
>

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Sep 24 15:03:57 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 24 Sep 2001 14:03:57 +0100 (BST)
Subject: [R] reading in ASCII files
In-Reply-To: <3BAF2DA9.6090108@ai.univie.ac.at>
Message-ID: <Pine.LNX.4.31.0109241401470.1803-100000@gannet.stats>

On Mon, 24 Sep 2001, Johann Petrak wrote:

> I wonder if there is a way to read in CSV files so that
> - certain fields within each record (line) are ignored, i.e.
>    not converted to columns in the output data frame

No.  We've thought about that, but it's better to use external tools
(e.g. cut in Unix).

> - factors/levels are created automatically: often, the possible
>    labels are known in advance and could immediately be
>    converted. This would save a lot of memory and time for
>    bigger files, I assume.

What are these on the file?  If characters then factors/levels *are*
created automatically.  If codes then they are stored economically as
integers (in R-devel) and just need a levels attribute and class added.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From korbinian.strimmer at zoology.oxford.ac.uk  Mon Sep 24 15:27:25 2001
From: korbinian.strimmer at zoology.oxford.ac.uk (Korbinian Strimmer)
Date: Mon, 24 Sep 2001 14:27:25 +0100 (BST)
Subject: [R] syntax highlighting pattern for NEdit
Message-ID: <Pine.OSF.4.21.0109241426530.15322-100000@ermine.ox.ac.uk>



Hi all,

I have just uploaded an R syntax highlighting pattern for NEdit -
for those that prefer Nedit over Emacs (like myself).

NEdit:     http://www.nedit.org
R pattern: ftp://ftp.nedit.org/pub/contrib/highlighting/r.pats

Comments welcome!

  Korbinian


--
Korbinian Strimmer                       http://users.ox.ac.uk/~strimmer
Dept. of Zoology, University of Oxford, South Parks Road, Oxford OX1 3PS
+44 1865 271272 (phone), -49 (fax), korbinian.strimmer at zoo.ox.ac.uk



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From albrecht.gebhardt at uni-klu.ac.at  Mon Sep 24 16:40:45 2001
From: albrecht.gebhardt at uni-klu.ac.at (Albrecht Gebhardt)
Date: Mon, 24 Sep 2001 16:40:45 +0200 (MET DST)
Subject: [R] R for handheld linux device
In-Reply-To: <00bb01c144ed$2faeb040$f2e1f380@nottingham.ac.uk>
Message-ID: <Pine.OSF.4.21.0109241536590.29626-100000@zidsrv.sci.uni-klu.ac.at>

On Mon, 24 Sep 2001, Stuart Leask wrote:

> Hi there. Is anyone compiling a version of R for a handheld linux device eg.
> Agenda VR3? (See http://www.cs.umbc.edu/~acedil1/agenda/general.shtml... )
> 
> The idea of a pocketable device one could work up R syntax on (using subsets
> of data... during train journeys or overlong meetings...) is most appealing.

it is, indeed. 

I am trying a port to linux on iPAQ (see http://www.handhelds.org).

I already can compile it and run it, but it has some strange bugs yet.
It is far from passing a "make check".

One of the problems is, most of these little devices have no floating
point processing unit, so we have to use fpu emualation (this holds
especially for ARM based devices like the iPAQ). I believe this triggers
most of the bugs (e.g. for instance I can not plot, x11() devices have
strange plotting range parameters (Inf...).

Unfortunataly the latest version of R triggered an internal ARM g77
compiler error in the eigen.f routine and I have no solution for it yet.

Currently I am waiting for the next release of the handhelds
(http://www.handhelds.org) linux distribution (debian based)
to start from scratch again. I think it is also possible that my
installation has a glibc version problem, because I took the basic
distribution from www.handhelds.org and added development stuff from
debian-arm to it.

If you want to look at some first screenshots:

http://www-stat.uni-klu.ac.at/~agebhard/software.phtml#r-ipaq



Albrecht

// Albrecht Gebhardt          Tel.: (++43 463) 2700/3118
// Institut fuer Mathematik   Fax : (++43 463) 2700/3198
// Universitaet Klagenfurt    mailto:albrecht.gebhardt at uni-klu.ac.at
// Universitaetsstr. 65       http://www-stat.uni-klu.ac.at/~agebhard
// A-9020 Klagenfurt, Austria 




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Mon Sep 24 16:45:25 2001
From: andy_liaw at merck.com (Liaw, Andy)
Date: Mon, 24 Sep 2001 10:45:25 -0400
Subject: [R] Finding a 3D convex hull in R
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC8271@usrymx10.merck.com>

Prof. Ripley,

Have you looked at the qhull software at www.geom.umn.edu/software/qhull (as
I write this note, that link is not working for me.  I could, however, get
to http://www.cs.sunysb.edu/~algorith/implement/qhull/distrib/)?  The paper
that described the algorithm is
http://www.acm.org/pubs/toc/Abstracts/toms/235821.html.

I've thought about interfacing R to it (but have not actually tried).  If
it's not worth trying, I won't.

Regards,
Andy

> -----Original Message-----
> From: Prof Brian D Ripley [mailto:ripley at stats.ox.ac.uk]
> Sent: Saturday, September 22, 2001 2:53 AM
> To: Greg Jefferis
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] Finding a 3D convex hull in R
> 
> 
> On Fri, 21 Sep 2001, Greg Jefferis wrote:
> 
> > Dear List Members,
> >
> > I'm presently carrying out morphological analysis of a data 
> set of neuronal
> > structures.  These are essentially 3D binary trees.  In due 
> course I will be
> > trying to use discriminant analysis or other methods to 
> classify these
> > neurons based on morphological variables such as total tree 
> length, segment
> > number etc.
> >
> > I would like to calculate a 3D convex hull for a set of 
> X,Y,Z data points
> > which define the tips of my neurons.  I have found the R 
> function chull
> > which finds a 2D convex hull, but not have found any 3D routines.  I
> > wondered if there were any packages / publicly available 
> code I could use.
> > Having found the convex hull, it would be handy if there 
> were also functions
> > to find the centroid, volume etc.  I've only been using R 
> for 10 days and am
> > not much of a programmer, so I would rather not have to 
> write code to
> > interface to external C routines etc if possible.
> 
> 3D convex hull programs are very much more specialized than 2D ones.
> When I added chull I looked at the possibility of allowing kD, k > 2,
> but it was hard to find suitable code, let alone interface to it.
> Known algorithms are far too complicated to implement 
> tolerably at R level.
> 
> netlib.bell-labs.com/netlib/voronoi/hull.html
> 
> is one place I considered starting, but note the portability comments.
> 
> 
> > Very many thanks for any suggestions,
> >
> > Greg.
> >
> > P.S. I'm running R 1.3.1 on MacOS 9.1
> >
> > 
> ______________________________________________________________
> ____________
> > Greg Jefferis,                          Lab Address: Liqun 
> Luo, Herrin 144
> > Neurosciences PhD Programme &                e-mail: 
> jefferis at stanford.edu
> > Dept Biological Sciences,                       Lab: (650) 725 5809
> > Gilbert Biology Building,                       Fax: (650) 723 0589
> > 371 Serra Mall,
> > Stanford, CA 94305-5020.                       Home: (650) 497 1135
> >
> > 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dwhite at ling.ohio-state.edu  Mon Sep 24 17:55:04 2001
From: dwhite at ling.ohio-state.edu (David White)
Date: Mon, 24 Sep 2001 11:55:04 -0400 (EDT)
Subject: [R] need help creating means table
Message-ID: <Pine.SOL.4.33.0109241107210.22118-100000@julius.ling.ohio-state.edu>


Hello,

I have been trying to use by to create a means table, but receive the
error " by(xx, list(subjs, cons, vowels), mean)
Error in Summary.data.frame(..., na.rm = na.rm) :
	only defined on a data frame with all numeric or complex
variables" when the data frame consists of three factor columns (subjs,
cons and vowels) and 5 numeric data columns.

The output I'm looking for is a simple mean for each of the numeric
columns by the independent variables subjs, vowel, consonant.

Thanks for you advice,

D

S. David White
sdavidwhite at bigfoot.com
Columbus, Ohio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Sep 24 16:43:50 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 24 Sep 2001 15:43:50 +0100
Subject: [R] Christmas tree graphs
In-Reply-To: <Pine.LNX.4.21.0108280924450.5672-100000@reclus.nhh.no>
References: <998979640.3b8b383881100@my.uq.edu.au>
 <Pine.LNX.4.21.0108280924450.5672-100000@reclus.nhh.no>
Message-ID: <xIHkqHAma0r7EwKM@myatt.demon.co.uk>

Andrew C. Ward wrote:

>> Hello R users,
>> 
>> I wish to draw a type of horizontal bar chart for two groups (males and 
>> females). The values for one group will start at the y-axis and point to the 
>> left, and the values for the other group will start at the y-axis and point 
>to 
>> the right. If you're (un)lucky, the resulting graph can assume the shape of a 
>> Christmas tree.
>> 
>> The data are
>>      left.side <- c(107092, 113053, 121163, 112209, 106543, 72895, 46920, 
>> 32606, 11106, 1134, 60, 5247)
>>      right.side <- c(102129, 109261, 123291, 117322, 110397, 71027, 50319, 
>> 43805, 21074, 3621, 204, 6608)
>> 
>> The R function barchart allows me to stack bars and to juxtapose them, but I 
>> can't see how to draw the bars outwards from a centreline. If anyone had some 
>> hints on how to do this, I would be very grateful. Thank you!

I have:

pyramid.plot <- function(x,

                         g,

                         main = paste("Pyramid plot of",  
                                      deparse(substitute(x)), "by",
                                      deparse(substitute(g))),

                         xlab = paste(deparse(substitute(g)), "(", 
                                      levels(g)[1], "/", 
                                      levels(g)[2],")"),

                         ylab = deparse(substitute(x))

                         )
  {
  tab <- table(x, g)
  tab[ ,1] <- -tab[ ,1]
  barplot(tab,
          horiz = TRUE,
          beside = TRUE,
          space = c(0, -nrow(tab)),
          names.arg = c(dimnames(tab)$x, dimnames(tab)$x),
          xlim = c(min(tab) * 1.1, max(tab) * 1.1),
          col = "white",
          main = main,
          xlab = xlab,
          ylab = ylab
          )
  }

Which does the trick for me for raw data rather than summary data. It
should be easy enough to adapt as the barplot()n function takes summary
data ... you need to construct a matrix from your summary data and give
it some dimnames for the agegroup variables.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From llaghi at foodsci.unibo.it  Mon Sep 24 18:36:36 2001
From: llaghi at foodsci.unibo.it (luca laghi)
Date: Mon, 24 Sep 2001 18:36:36 +0200
Subject: [R] extracting elements
References: <C374E6A0E25BD41197FB00508B014A1302874983@FW-ZEUS>
Message-ID: <000401c14517$1410e360$06d3cc89@foodsci.unibo.it>

Equation constraints: optim()Dear R-users,
is it possible to exract from a data frame the rows whose name contains a
certain letter?
Thank you, Luca



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Sep 24 18:42:31 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 24 Sep 2001 17:42:31 +0100 (BST)
Subject: [R] extracting elements
In-Reply-To: <000401c14517$1410e360$06d3cc89@foodsci.unibo.it>
Message-ID: <Pine.LNX.4.31.0109241739400.5697-100000@gannet.stats>

On Mon, 24 Sep 2001, luca laghi wrote:

> Equation constraints: optim()Dear R-users,
> is it possible to exract from a data frame the rows whose name contains a
> certain letter?
> Thank you, Luca

Is this what you want?

library(MASS)
data(hills)
hills[grep("r", row.names(hills)), ]

which gives the rows whose row names contain "r".

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep 24 19:06:10 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Sep 2001 19:06:10 +0200
Subject: [R] need help creating means table
In-Reply-To: <Pine.SOL.4.33.0109241107210.22118-100000@julius.ling.ohio-state.edu>
References: <Pine.SOL.4.33.0109241107210.22118-100000@julius.ling.ohio-state.edu>
Message-ID: <x21ykwv7r1.fsf@blueberry.kubism.ku.dk>

David White <dwhite at ling.ohio-state.edu> writes:

> Hello,
> 
> I have been trying to use by to create a means table, but receive the
> error " by(xx, list(subjs, cons, vowels), mean)
> Error in Summary.data.frame(..., na.rm = na.rm) :
> 	only defined on a data frame with all numeric or complex
> variables" when the data frame consists of three factor columns (subjs,
> cons and vowels) and 5 numeric data columns.
> 
> The output I'm looking for is a simple mean for each of the numeric
> columns by the independent variables subjs, vowel, consonant.
> 
> Thanks for you advice,

How about 

nums <- sapply(xx, is.numeric)
by(xx[nums], list(subjs, cons, vowels), mean)

?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dwhite at ling.ohio-state.edu  Mon Sep 24 19:24:08 2001
From: dwhite at ling.ohio-state.edu (David White)
Date: Mon, 24 Sep 2001 13:24:08 -0400 (EDT)
Subject: [R] need help creating means table
In-Reply-To: <x21ykwv7r1.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.SOL.4.33.0109241314550.24322-100000@julius.ling.ohio-state.edu>

Peter Delgaard wrote:
%
%How about
%
%nums <- sapply(xx, is.numeric)
%by(xx[nums], list(subjs, cons, vowels), mean)
%
%?
%

Thanks Peter, that gets me around the error message, but it return only
one value per subjs x vowels x cons combination, I need a separate mean
for each of the fix numeric columns.

Best,

D

S. David White
sdavidwhite at bigfoot.com
Columbus, Ohio

On 24 Sep 2001, Peter Dalgaard BSA wrote:

%David White <dwhite at ling.ohio-state.edu> writes:
%
%> Hello,
%>
%> I have been trying to use by to create a means table, but receive the
%> error " by(xx, list(subjs, cons, vowels), mean)
%> Error in Summary.data.frame(..., na.rm = na.rm) :
%> 	only defined on a data frame with all numeric or complex
%> variables" when the data frame consists of three factor columns (subjs,
%> cons and vowels) and 5 numeric data columns.
%>
%> The output I'm looking for is a simple mean for each of the numeric
%> columns by the independent variables subjs, vowel, consonant.
%>
%> Thanks for you advice,
%--
%   O__  ---- Peter Dalgaard             Blegdamsvej 3
%  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
% (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
%~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
%

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Sep 24 20:07:49 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 24 Sep 2001 19:07:49 +0100 (BST)
Subject: [R] need help creating means table
In-Reply-To: <Pine.SOL.4.33.0109241314550.24322-100000@julius.ling.ohio-state.edu>
Message-ID: <Pine.GSO.4.31.0109241901080.668-100000@auk.stats>

On Mon, 24 Sep 2001, David White wrote:

> Peter Delgaard wrote:
> %
> %How about
> %
> %nums <- sapply(xx, is.numeric)
> %by(xx[nums], list(subjs, cons, vowels), mean)
> %
> %?
> %
>
> Thanks Peter, that gets me around the error message, but it return only
> one value per subjs x vowels x cons combination, I need a separate mean
> for each of the fix numeric columns.

That's what mean does on a data frame. You want something like

by(xx[nums], list(subjs, cons, vowels), function(x) sapply(x, mean))


>
> Best,
>
> D
>
> S. David White
> sdavidwhite at bigfoot.com
> Columbus, Ohio
>
> On 24 Sep 2001, Peter Dalgaard BSA wrote:
>
> %David White <dwhite at ling.ohio-state.edu> writes:
> %
> %> Hello,
> %>
> %> I have been trying to use by to create a means table, but receive the
> %> error " by(xx, list(subjs, cons, vowels), mean)
> %> Error in Summary.data.frame(..., na.rm = na.rm) :
> %> 	only defined on a data frame with all numeric or complex
> %> variables" when the data frame consists of three factor columns (subjs,
> %> cons and vowels) and 5 numeric data columns.
> %>
> %> The output I'm looking for is a simple mean for each of the numeric
> %> columns by the independent variables subjs, vowel, consonant.
> %>
> %> Thanks for you advice,
> %--
> %   O__  ---- Peter Dalgaard             Blegdamsvej 3
> %  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
> % (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> %~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> %
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uriel.scott at mirant.com  Mon Sep 24 20:21:55 2001
From: uriel.scott at mirant.com (Scott, Uriel)
Date: Mon, 24 Sep 2001 14:21:55 -0400
Subject: [R] Problem with read.table and scan
Message-ID: <E3768080BE89D41192EF0000E897FA5E72849D@atlexs04.SouthernEnergy.Com>


I have just installed R on a Windows NT system.  Unfortunately I am unable
to open any of the data files I wish to work with.  I have tried using
read.table and scan and to the best of my knowledge am using the correct
syntax.  The error message I receive is

Error in file(file, "r") : cannot open file [file name]

I have the data in text files in white-space delimited form.  I put them in
the rw1031 directory.

Thanks,

Uriel Scott
Quantitative Analyst
Mirant Americas, Inc.
678-579-3226

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dwhite at ling.ohio-state.edu  Mon Sep 24 20:27:13 2001
From: dwhite at ling.ohio-state.edu (David White)
Date: Mon, 24 Sep 2001 14:27:13 -0400 (EDT)
Subject: [R] need help creating means table
In-Reply-To: <Pine.GSO.4.31.0109241901080.668-100000@auk.stats>
Message-ID: <Pine.SOL.4.33.0109241412060.26343-100000@julius.ling.ohio-state.edu>


Many thanks Dr. Ripley and Dr. Dalgaard,

Your soluttions worked out very well. I have had great difficulty
understanding the behavior of by and and the various *apply.

Now I would like to plot the new mean data. I see that xx.mean[[i]] will
give me access to a set of the mean numeric results, but I don't know how
to access the condition indices, that is if

> xx.mean[[2]]

         Peak      proppeak        Median      skewness         slope
 3.309961e+03  1.272084e-01  6.852911e+03 -3.228079e-01 -1.820004e-03

what are the levels of subjs, cons and vowels associated with those mean
values?

TIA,

D

S. David White
sdavidwhite at bigfoot.com
Columbus, Ohio

On Mon, 24 Sep 2001, Prof Brian D Ripley wrote:

%On Mon, 24 Sep 2001, David White wrote:
%
%> Peter Delgaard wrote:
%> %
%> %How about
%> %
%> %nums <- sapply(xx, is.numeric)
%> %by(xx[nums], list(subjs, cons, vowels), mean)
%> %
%> %?
%> %
%>
%> Thanks Peter, that gets me around the error message, but it return only
%> one value per subjs x vowels x cons combination, I need a separate mean
%> for each of the fix numeric columns.
%
%That's what mean does on a data frame. You want something like
%
%by(xx[nums], list(subjs, cons, vowels), function(x) sapply(x, mean))
%
%
%>
%> Best,
%>
%> D
%>
%> S. David White
%> sdavidwhite at bigfoot.com
%> Columbus, Ohio
%>
%> On 24 Sep 2001, Peter Dalgaard BSA wrote:
%>
%> %David White <dwhite at ling.ohio-state.edu> writes:
%> %
%> %> Hello,
%> %>
%> %> I have been trying to use by to create a means table, but receive the
%> %> error " by(xx, list(subjs, cons, vowels), mean)
%> %> Error in Summary.data.frame(..., na.rm = na.rm) :
%> %> 	only defined on a data frame with all numeric or complex
%> %> variables" when the data frame consists of three factor columns (subjs,
%> %> cons and vowels) and 5 numeric data columns.
%> %>
%> %> The output I'm looking for is a simple mean for each of the numeric
%> %> columns by the independent variables subjs, vowel, consonant.
%> %>
%> %> Thanks for you advice,
%> %--
%> %   O__  ---- Peter Dalgaard             Blegdamsvej 3
%> %  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
%> % (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
%> %~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
%> %
%>
%> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
%> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
%> Send "info", "help", or "[un]subscribe"
%> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
%> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
%>
%
%--
%Brian D. Ripley,                  ripley at stats.ox.ac.uk
%Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
%University of Oxford,             Tel:  +44 1865 272861 (self)
%1 South Parks Road,                     +44 1865 272860 (secr)
%Oxford OX1 3TG, UK                Fax:  +44 1865 272595
%
%

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From schultz at fig.cox.miami.edu  Mon Sep 24 21:09:49 2001
From: schultz at fig.cox.miami.edu (Stewart Schultz)
Date: Mon, 24 Sep 2001 15:09:49 -0400
Subject: [R] scalable fonts problem on Linux
Message-ID: <l0310281bb7d5324caf61@[129.171.42.223]>

Hello R users,

I can't do demo(graphics) on my Linux box because it aborts after giving me
this message on the third plot:

Error in title(main = "January Pie Sales", cex.main = 1.8, font.main = 1) :
        X11 font at size 22 could not be loaded

I assume from a previous message in this mailing list that this is a
Helvetica font that needs to be rescaled.  To address this problem I have
installed all fonts that seem to be necessary, including freefont,
gsfonts-X11, sharefont, xfonts-100dpi, xfonts-75dpi, xfonts-base,
xfonts-scalable, xfs, xfstt, and others that looked pertinent, yet this
still has not solved the problem.  Any ideas what I should do next (besides
turning it into a bitmap)?  Many plots besides the demos get aborted for
this reason.

Thanks,
Stewart



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uriel.scott at mirant.com  Mon Sep 24 21:01:42 2001
From: uriel.scott at mirant.com (Scott, Uriel)
Date: Mon, 24 Sep 2001 15:01:42 -0400
Subject: [R] Problem with read.table and scan
Message-ID: <E3768080BE89D41192EF0000E897FA5E7284A3@atlexs04.SouthernEnergy.Com>


The R version is 1.3.1 and the following is an example of the problem:

> air <- read.table("air.data",header=TRUE)
Error in file(file, "r") : cannot open file `air.data'

-----Original Message-----
From: Jens Nieschulze [mailto:jniesch at gwdg.de]
Sent: Monday, September 24, 2001 2:34 PM
To: Scott, Uriel
Subject: Re: [R] Problem with read.table and scan


On Mon, 24 Sep 2001, Scott, Uriel wrote:

> 
> I have just installed R on a Windows NT system.  Unfortunately I am unable
> to open any of the data files I wish to work with.  I have tried using
> read.table and scan and to the best of my knowledge am using the correct
> syntax.  The error message I receive is
> 
> Error in file(file, "r") : cannot open file [file name]
> 
> I have the data in text files in white-space delimited form.  I put them
in
> the rw1031 directory.
can you privede the R version and a complete code example?
otherwise it is just random guessing 
from others
	J
> 
> Thanks,
> 
> Uriel Scott
> Quantitative Analyst
> Mirant Americas, Inc.
> 678-579-3226
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
> 

***********************************************************************
Jens Nieschulze

Institute for Forest Biometrics &	Phone: ++49-551-39-12107
Applied Computer Science		Fax  : ++49-551-39-3465
Buesgenweg 4
37077 Goettingen		E-mail: jniesch at uni-forst.gwdg.de
GERMANY				http://www.uni-forst.gwdg.de/~jniesch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Sep 24 21:17:49 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 24 Sep 2001 21:17:49 +0200
Subject: [R] Problem with read.table and scan
References: <E3768080BE89D41192EF0000E897FA5E7284A3@atlexs04.SouthernEnergy.Com>
Message-ID: <3BAF86DD.52402AE3@statistik.uni-dortmund.de>



"Scott, Uriel" wrote:
> 
> The R version is 1.3.1 and the following is an example of the problem:
> 
> > air <- read.table("air.data",header=TRUE)
> Error in file(file, "r") : cannot open file `air.data'

Just specify the location completely, e.g.:
 read.table("c:/my_path_to_the_file/air.data", header=TRUE)

R looks in your current working directory for files without specified
path.
You get the current working directory by
  getwd()

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mai at ms.uky.edu  Mon Sep 24 21:17:56 2001
From: mai at ms.uky.edu (mai@ms.uky.edu)
Date: Mon, 24 Sep 2001 15:17:56 -0400 (EDT)
Subject: [R] confidence interval given by prop.test()
Message-ID: <200109241917.TAA14179@t5.mscf.uky.edu>

Dear R-help, 

> prop.test(9, 137, p=0.066)

> prop.test(9, 137, p=0.05)

give two different 95% confidence intervals.
I thought the confidence interval calculation
should be independent of testing calculations (and thus
the null hypothesis)?

Splus 2000 has similar problems but give slightly different
answer.

Using R1.3.0 on windows.

Mai Zhou
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Sep 24 21:49:23 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 24 Sep 2001 21:49:23 +0200
Subject: [R] confidence interval given by prop.test()
References: <200109241917.TAA14179@t5.mscf.uky.edu>
Message-ID: <3BAF8E43.69E923C8@statistik.uni-dortmund.de>



mai at ms.uky.edu wrote:
> 
> Dear R-help,
> 
> > prop.test(9, 137, p=0.066)
> 
> > prop.test(9, 137, p=0.05)
> 
> give two different 95% confidence intervals.
> I thought the confidence interval calculation
> should be independent of testing calculations (and thus
> the null hypothesis)?


You can transform a two sided test problem into a confidence interval
and vice versa.
Why should the confidence intervals be the same for different
probabilities of success in this case?
 
> Splus 2000 has similar problems but give slightly different
> answer.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uriel.scott at mirant.com  Mon Sep 24 22:21:19 2001
From: uriel.scott at mirant.com (Scott, Uriel)
Date: Mon, 24 Sep 2001 16:21:19 -0400
Subject: [R] Problem solved
Message-ID: <E3768080BE89D41192EF0000E897FA5E7284B4@atlexs04.SouthernEnergy.Com>


Thanks to everyone who replied to my message, it turns out that the problem
was really stupid.  Each data set had a hidden "txt" extension that did not
show up when browsing through the files.

Uriel Scott
Quantitative Analyst
Mirant Americas, Inc.
678-579-3226

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mmiller3 at iupui.edu  Mon Sep 24 22:28:09 2001
From: mmiller3 at iupui.edu (Michael A. Miller)
Date: 24 Sep 2001 15:28:09 -0500
Subject: [R] need help creating means table
In-Reply-To: David White's message of "Mon, 24 Sep 2001 13:24:08 -0400 (EDT)"
References: <Pine.SOL.4.33.0109241314550.24322-100000@julius.ling.ohio-state.edu>
Message-ID: <8766a85o6e.fsf@lumen.med.iupui.edu>

>>>>> "David" == David White <dwhite at ling.ohio-state.edu> writes:

    > I need a separate mean for each of the fix numeric columns.

Using tapply( xx$column, list(subjs, cons, vowels), mean ) for
each column might work for you.

Mike
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Sep 24 22:42:37 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 24 Sep 2001 22:42:37 +0200 (MET DST)
Subject: [R] confidence interval given by prop.test()
In-Reply-To: <200109241959.TAA14246@t5.mscf.uky.edu>
Message-ID: <Pine.GSO.4.21.0109242237510.4671-100000@amadeus.statistik.uni-dortmund.de>

On Mon, 24 Sep 2001 mai at ms.uky.edu wrote:

> I think the confidence
> interval are those values of the parameter that have a large
> P-value, so independent of the specific null hypothesis
> that we are testing.  i.e. we can construct a conf. int. from
> data without doing a test. The fact that we (later) also
> want a test should not change the calculation of the 
> confidence interval.
> 

OK. You are so right! It's too late to work!

It happens because Yates' continuity correction is used, which
can be turned off:
 prop.test(..., correct=FALSE)
 
[BTW: The same in S-Plus]

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep 24 22:46:22 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Sep 2001 22:46:22 +0200
Subject: [R] need help creating means table
In-Reply-To: <Pine.GSO.4.31.0109241901080.668-100000@auk.stats>
References: <Pine.GSO.4.31.0109241901080.668-100000@auk.stats>
Message-ID: <x2u1xsmi5d.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> On Mon, 24 Sep 2001, David White wrote:
> 
> > Peter Delgaard wrote:
> > %
> > %How about
> > %
> > %nums <- sapply(xx, is.numeric)
> > %by(xx[nums], list(subjs, cons, vowels), mean)
> > %
> > %?
> > %
> >
> > Thanks Peter, that gets me around the error message, but it return only
> > one value per subjs x vowels x cons combination, I need a separate mean
> > for each of the fix numeric columns.
> 
> That's what mean does on a data frame. You want something like
> 
> by(xx[nums], list(subjs, cons, vowels), function(x) sapply(x, mean))

Thanks Brian. I suspected that, but as there was no sample data to try
it on, I didn't...

Another possiblility:

lapply(xx[nums], function(x) tapply(x, list(subjs, cons, vowels),
                                    mean))

or - same thing, shorter but sneakier:

lapply(xx[nums], tapply, list(subjs, cons, vowels), mean)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From michaell.taylor at reis.com  Mon Sep 24 22:58:13 2001
From: michaell.taylor at reis.com (Michaell Taylor)
Date: Mon, 24 Sep 2001 16:58:13 -0400
Subject: [R] x axis point labels
Message-ID: <01092416581300.11666@beowulf5>


I am attempting to manually specify x axis value labels (NOT x axis label as 
in xlab) on a density plot.  Generally speaking, I would like to erase the 
default x axis point labels and replace them with arbitrary x axis point 
labels relating to specific CDF points.

I am sure this can be done, but it isn't obvious to me how.  Has anyone done 
this before?

My R code follows if it helps (new to R so please excuse any awkwardness that 
you notice.)

plot(density(gdp), main="Probability Distribution\n of 2002 US GDP 
Forecast",lwd=3, 
	xlim=c(-9,9), ylim=c(0,.3),xlab="Percent Real GDP Growth")
par(new=T)
newline _ cbind(c(gdp[5000/2],gdp[5000/2]),c(0,.25)) 
newline1 _ cbind(c(gdp[.05*5000],gdp[.05*5000]),c(0,.15)) 
newline2 _ cbind(c(gdp[.95*5000],gdp[.95*5000]),c(0,.15)) 
newline3 _ cbind(c(gdp[.99*5000],gdp[.99*5000]),c(0,.1)) 
newline4 _ cbind(c(gdp[.01*5000],gdp[.01*5000]),c(0,.1)) 
lines(newline, lwd=2)
lines(newline1)
lines(newline2)
lines(newline3)
lines(newline4)
text(gdp[5000/2],.29,"Median\nForecast")
text(gdp[5000*.05],.19,"0.05 Prob.\nForecast")
text(gdp[5000*.95],.24,"0.95 Prob.\nForecast")
text(gdp[5000*.99],.14,"0.99 Prob.\nForecast")
text(gdp[5000*.01],.14,"0.01 Prob.\nForecast")


===========================

Michaell Taylor, PhD

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From michaell.taylor at reis.com  Mon Sep 24 23:12:51 2001
From: michaell.taylor at reis.com (Michaell Taylor)
Date: Mon, 24 Sep 2001 17:12:51 -0400
Subject: [R] Re: x axis point labels
In-Reply-To: <01092416581300.11666@beowulf5>
References: <01092416581300.11666@beowulf5>
Message-ID: <01092417125102.11666@beowulf5>




Sorry,

I hit the send button and then immediately saw the axes=FALSE and manual axis 
commands.

Problem solved.

Michaell

On Monday 24 September 2001 16:58, Michaell Taylor wrote:
> I am attempting to manually specify x axis value labels (NOT x axis label
> as in xlab) on a density plot.  Generally speaking, I would like to erase
> the default x axis point labels and replace them with arbitrary x axis
> point labels relating to specific CDF points.
>
> I am sure this can be done, but it isn't obvious to me how.  Has anyone
> done this before?
>
> My R code follows if it helps (new to R so please excuse any awkwardness
> that you notice.)
>
> plot(density(gdp), main="Probability Distribution\n of 2002 US GDP
> Forecast",lwd=3,
> 	xlim=c(-9,9), ylim=c(0,.3),xlab="Percent Real GDP Growth")
> par(new=T)
> newline _ cbind(c(gdp[5000/2],gdp[5000/2]),c(0,.25))
> newline1 _ cbind(c(gdp[.05*5000],gdp[.05*5000]),c(0,.15))
> newline2 _ cbind(c(gdp[.95*5000],gdp[.95*5000]),c(0,.15))
> newline3 _ cbind(c(gdp[.99*5000],gdp[.99*5000]),c(0,.1))
> newline4 _ cbind(c(gdp[.01*5000],gdp[.01*5000]),c(0,.1))
> lines(newline, lwd=2)
> lines(newline1)
> lines(newline2)
> lines(newline3)
> lines(newline4)
> text(gdp[5000/2],.29,"Median\nForecast")
> text(gdp[5000*.05],.19,"0.05 Prob.\nForecast")
> text(gdp[5000*.95],.24,"0.95 Prob.\nForecast")
> text(gdp[5000*.99],.14,"0.99 Prob.\nForecast")
> text(gdp[5000*.01],.14,"0.01 Prob.\nForecast")
>
>
> ===========================
>
> Michaell Taylor, PhD
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep 24 23:11:25 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Sep 2001 23:11:25 +0200
Subject: [R] x axis point labels
In-Reply-To: <01092416581300.11666@beowulf5>
References: <01092416581300.11666@beowulf5>
Message-ID: <x2hetsmgzm.fsf@blueberry.kubism.ku.dk>

Michaell Taylor <michaell.taylor at reis.com> writes:

> I am attempting to manually specify x axis value labels (NOT x axis label as 
> in xlab) on a density plot.  Generally speaking, I would like to erase the 
> default x axis point labels and replace them with arbitrary x axis point 
> labels relating to specific CDF points.
> 
> I am sure this can be done, but it isn't obvious to me how.  Has anyone done 
> this before?

Yes. Try this, one line at the time:

plot(0, axes=FALSE)
axis(1)
axis(2)
box()

Then look at the documentation for axis()

> My R code follows if it helps (new to R so please excuse any awkwardness that 
> you notice.)

Doesn't really. You might want to lose the "_" for assignment, though.
It is a relic that several people want to see disappear in future
versions, so do youself a favour and use "<-".

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dwhite at ling.ohio-state.edu  Mon Sep 24 23:36:28 2001
From: dwhite at ling.ohio-state.edu (David White)
Date: Mon, 24 Sep 2001 17:36:28 -0400 (EDT)
Subject: [R] Problem with read.table and scan
In-Reply-To: <E3768080BE89D41192EF0000E897FA5E7284A3@atlexs04.SouthernEnergy.Com>
Message-ID: <Pine.SOL.4.33.0109241733200.26343-100000@julius.ling.ohio-state.edu>


Hi Scott,

You may have some missing data points or something. Try reading the file
in with this command:

air <- read.table("air.data",header=TRUE, fill=TRUE)

Fill will replace missing data with NA
Also, a previous response suggested using the complete address i.e.
"c\...\air.data". Notice that R uses Unix style slashes \ to avoid
confusion with the division symbol and to keep with Unix style.

S. David White
sdavidwhite at bigfoot.com
Columbus, Ohio

On Mon, 24 Sep 2001, Scott, Uriel wrote:

%
%The R version is 1.3.1 and the following is an example of the problem:
%
%> air <- read.table("air.data",header=TRUE)
%Error in file(file, "r") : cannot open file `air.data'
%
%-----Original Message-----
%From: Jens Nieschulze [mailto:jniesch at gwdg.de]
%Sent: Monday, September 24, 2001 2:34 PM
%To: Scott, Uriel
%Subject: Re: [R] Problem with read.table and scan
%
%
%On Mon, 24 Sep 2001, Scott, Uriel wrote:
%
%>
%> I have just installed R on a Windows NT system.  Unfortunately I am unable
%> to open any of the data files I wish to work with.  I have tried using
%> read.table and scan and to the best of my knowledge am using the correct
%> syntax.  The error message I receive is
%>
%> Error in file(file, "r") : cannot open file [file name]
%>
%> I have the data in text files in white-space delimited form.  I put them
%in
%> the rw1031 directory.
%can you privede the R version and a complete code example?
%otherwise it is just random guessing
%from others
%	J
%>
%> Thanks,
%>
%> Uriel Scott
%> Quantitative Analyst
%> Mirant Americas, Inc.
%> 678-579-3226
%>
%>
%-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
%-.-
%> r-help mailing list -- Read
%http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
%> Send "info", "help", or "[un]subscribe"
%> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
%>
%_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
%_._
%>
%
%***********************************************************************
%Jens Nieschulze
%
%Institute for Forest Biometrics &	Phone: ++49-551-39-12107
%Applied Computer Science		Fax  : ++49-551-39-3465
%Buesgenweg 4
%37077 Goettingen		E-mail: jniesch at uni-forst.gwdg.de
%GERMANY				http://www.uni-forst.gwdg.de/~jniesch
%-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
%r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
%Send "info", "help", or "[un]subscribe"
%(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
%_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
%

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gvinjamu at cceb.upenn.edu  Mon Sep 24 23:49:21 2001
From: gvinjamu at cceb.upenn.edu (Govind Vinjamuri)
Date: Mon, 24 Sep 2001 17:49:21 -0400
Subject: [R] configure problem
Message-ID: <3BAFAA60.606A3405@cceb.upenn.edu>

On solaris 8 with forte 6.1 for F77 and  CC. I try to configure I get
the following message.
checking whether f77 appends underscores... yes
checking whether f77 and cc agree on int and double... configure:
warning: f77 and cc disagree on int and double
configure: error: Maybe change CFLAGS or FFLAGS?


Thanks in advance

--
Govind

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deleeuw at stat.ucla.edu  Tue Sep 25 00:05:37 2001
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Mon, 24 Sep 2001 15:05:37 -0700
Subject: [R] configure problem
In-Reply-To: <3BAFAA60.606A3405@cceb.upenn.edu>
Message-ID: <48AA75E3-B138-11D5-A87E-00039319314A@stat.ucla.edu>

I get the same message on Darwin if I try to use g77 and gcc --
strangely enough.

On Monday, September 24, 2001, at 02:49 PM, Govind Vinjamuri wrote:

> On solaris 8 with forte 6.1 for F77 and  CC. I try to configure I get
> the following message.
> checking whether f77 appends underscores... yes
> checking whether f77 and cc agree on int and double... configure:
> warning: f77 and cc disagree on int and double
> configure: error: Maybe change CFLAGS or FFLAGS?
>
>
> Thanks in advance
>
> --
> Govind
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-
> FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> ._._._
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From znmeb at aracnet.com  Tue Sep 25 04:42:23 2001
From: znmeb at aracnet.com (M. Edward Borasky)
Date: Mon, 24 Sep 2001 19:42:23 -0700
Subject: [R] 2D fft DC shift
In-Reply-To: <200109250201.EAA01725@stat.math.ethz.ch>
Message-ID: <HBEHIIBBKKNOBLMPKCBBIEANDNAA.znmeb@aracnet.com>

The simplest way to get the "hot spot" in the middle is to pre-multiply the
2D FFT *input* pointwise by a checkerboard pattern of -1s and +1s. For
example, if your input is

a b c d
e f g h
i j k l
m n o p

you would submit

-a b -c d
e -f g -h
-i j -k l
m -n o -p

as input to your 2D FFT. This is from memory; someone with access to an
image processing textbook please correct me if I'm wrong!!!

--
M. Edward (Ed) Borasky, Chief Scientist, Borasky Research
http://www.borasky-research.net  http://www.aracnet.com/~znmeb
mailto:znmeb at borasky-research.net mailto:znmeb at aracnet.com

If there's nothing to astrology, how come so many famous men were born on
holidays?

> -----Original Message-----
> Date: Sun, 23 Sep 2001 20:04:06 -0700 (PDT)
> From: bradley love <bradley_c_love at yahoo.com>
> Subject: [R] 2D fft DC shift
>
> Hi Everyone,
>
> Does anyone know how to take the output of a 2D fft()
> and shift the DC component to the center?  Is there a
> function that does that?
>
> if you know, please send me an email.
>
> thanks for any help!
>
> brad

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep 25 08:34:21 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 25 Sep 2001 07:34:21 +0100 (BST)
Subject: [R] configure problem
In-Reply-To: <3BAFAA60.606A3405@cceb.upenn.edu>
Message-ID: <Pine.GSO.4.31.0109250719140.1129-100000@auk.stats>

On Mon, 24 Sep 2001, Govind Vinjamuri wrote:

> On solaris 8 with forte 6.1 for F77 and  CC. I try to configure I get

What exactly did you set?  You want to be using FC=f77 and CC=cc when
configuring R. You definitely do not want CC=CC.

> the following message.
> checking whether f77 appends underscores... yes
> checking whether f77 and cc agree on int and double... configure:
> warning: f77 and cc disagree on int and double
> configure: error: Maybe change CFLAGS or FFLAGS?

Look in the config.log to see more details.  This is also a test of calling
Fortran from a C main program.  So it will fail if Fortran cannot be mixed
with C (for example, if CC was set to a C++ compiler), or if
LD_LIBRARY_PATH needs to be set to find the Fortran libraries, ....

I am not entirely sure what `Forte 6.1' is, but think it is a marketing
name for what were SunPro WorkShop compilers.  If so f77 and cc on Solaris
7 are part of our regular tests.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Tue Sep 25 11:19:55 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Tue, 25 Sep 2001 10:19:55 +0100 (BST)
Subject: [R] 2D fft DC shift
In-Reply-To: <HBEHIIBBKKNOBLMPKCBBIEANDNAA.znmeb@aracnet.com>
Message-ID: <Pine.LNX.4.10.10109251018020.1174-100000@localhost.localdomain>



On Mon, 24 Sep 2001, M. Edward Borasky wrote:

> The simplest way to get the "hot spot" in the middle is to pre-multiply the
> 2D FFT *input* pointwise by a checkerboard pattern of -1s and +1s. For
> example, if your input is
> 
> a b c d
> e f g h
> i j k l
> m n o p
> 
> you would submit
> 
> -a b -c d
> e -f g -h
> -i j -k l
> m -n o -p
> 
> as input to your 2D FFT. This is from memory; someone with access to an
> image processing textbook please correct me if I'm wrong!!!

I looked in Gonzalez & Wintz (1977) Digital Image Processing and found:
p.53 "the origin of the Fourier transform of f(x,y) can be moved to the
centre of the corresponding N x N frequency square simply by multiplying
f(x,y) by -1^(x+y)"

So from the sound of it you do something like (in proper R syntax)
g(x,y)<- f(x,y)* -1^(x+y) 
fft(g(x,y))

If you get this to work I would appreciate some simple R code that 
- generates a 2D image (e.g. a square)
- creates 2D centred amplitude or power spectrum

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maslcgr at bath.ac.uk  Tue Sep 25 11:38:11 2001
From: maslcgr at bath.ac.uk (L C G Rogers)
Date: Tue, 25 Sep 2001 10:38:11 +0100 (BST)
Subject: [R] rbinding dataframes
Message-ID: <Pine.GSO.4.04.10109251034480.20060-100000@midge.bath.ac.uk>


I've got a data frame which I've split by a factor, 
creating a list of dataframes which I have then done
various operations on individually. I next want to 
recombine the resulting dataframes (still held in a list,
still with the same number of columns with the same names)
and there does not appear to be a `good' way to do this - 
at the moment, I'm using a for-loop with the rbind
command, but this is terribly slow ...  Anyone know a
better way to do it?

Thanks

Chris Rogers

-----------------------------------------------------------------------
L C G Rogers, Professor of Probability              tel:+44 1225 826224
Department of Mathematical Sciences                 fax:+44 1225 826492
University of Bath, Bath BA2 7AY, GB

Email: L.C.G.Rogers at bath.ac.uk  web: www.bath.ac.uk/~maslcgr/home.html
-----------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep 25 11:45:27 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 25 Sep 2001 10:45:27 +0100 (BST)
Subject: [R] rbinding dataframes
In-Reply-To: <Pine.GSO.4.04.10109251034480.20060-100000@midge.bath.ac.uk>
Message-ID: <Pine.LNX.4.31.0109251044220.7676-100000@gannet.stats>

On Tue, 25 Sep 2001, L C G Rogers wrote:

>
> I've got a data frame which I've split by a factor,
> creating a list of dataframes which I have then done
> various operations on individually. I next want to
> recombine the resulting dataframes (still held in a list,
> still with the same number of columns with the same names)
> and there does not appear to be a `good' way to do this -
> at the moment, I'm using a for-loop with the rbind
> command, but this is terribly slow ...  Anyone know a
> better way to do it?

do.call("rbind", list.of.data.frames)


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Tue Sep 25 12:07:15 2001
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Tue, 25 Sep 2001 22:07:15 +1200 (NZST)
Subject: [R] pairs() Legend
Message-ID: <Pine.SOL.4.21.0109252204270.17045-100000@stat1.stat.auckland.ac.nz>

Hi,

Is it possible to create a legend in a pairs() plot?

For example, suppose I have the following R codes:

 data(iris)
 pairs(iris[1:4], main = "Anderson's Iris Data -- 3 species", 
       pch = 21, bg = c("red", "green3", "blue")[codes(iris$Species)])

How can I created a legend that shows which colour represents to which
Iris species?

Thanks,

Kevin

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub (SDK)
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jojeda at posta.unizar.es  Tue Sep 25 14:27:27 2001
From: jojeda at posta.unizar.es (Jorge Luis Ojeda Cabrera)
Date: Tue, 25 Sep 2001 12:27:27 GMT
Subject: [R] predict incosistency ?
Message-ID: <20010925.12272700@macdesp8.unizar.es>

When fitting model 'y~1', the 'lm' response is ok, but it is not possible 
to get predictions using 'predict'. May be this is a bug, at least i 
think it is somehow
inconsistent.

> rm(list=ls())
> d <- data.frame(x=runif(50),y=rnorm(50))
> plot(d)
> d.lm <- lm(y~1,data=d)
> d.lm

Call:
lm(formula = y ~ 1, data = d)

Coefficients:
(Intercept)  
     0.1654  

> mean(d$y)
[1] 0.1654461
> predict(d.lm,data.frame(x=0.5))
Error in x[[j]] : subscript out of bounds
> predict(d.lm,data.frame(x=c(0.05,0.25,0.5)))
Error in x[[j]] : subscript out of bounds
> 

I am using a little bit older version

> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    2.3              
year     2001             
month    04               
day      26               
language R                
> 


Thanks in advance. Best, Jorge.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Sep 25 14:29:52 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 25 Sep 2001 14:29:52 +0200
Subject: [R] pairs() Legend
References: <Pine.SOL.4.21.0109252204270.17045-100000@stat1.stat.auckland.ac.nz>
Message-ID: <3BB078C0.68CD729A@statistik.uni-dortmund.de>



Ko-Kang Kevin Wang wrote:
> 
> Hi,
> 
> Is it possible to create a legend in a pairs() plot?
> 
> For example, suppose I have the following R codes:
> 
>  data(iris)
>  pairs(iris[1:4], main = "Anderson's Iris Data -- 3 species",
>        pch = 21, bg = c("red", "green3", "blue")[codes(iris$Species)])
> 
> How can I created a legend that shows which colour represents to which
> Iris species?


What about something like

  data(iris)
  pairs(iris[1:4], main = "Anderson's Iris Data -- 3 species",
    pch = 21, bg = c("red", "green3", "blue")[codes(iris$Species)])
  par(xpd=TRUE)
  legend(0, 1, as.vector(unique(iris$Species)),  
    fill=c("red", "green3", "blue"))

Uwe Logges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep 25 14:37:05 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Sep 2001 14:37:05 +0200
Subject: [R] predict incosistency ?
In-Reply-To: <20010925.12272700@macdesp8.unizar.es>
References: <20010925.12272700@macdesp8.unizar.es>
Message-ID: <x2k7ynqwem.fsf@blueberry.kubism.ku.dk>

Jorge Luis Ojeda Cabrera <jojeda at posta.unizar.es> writes:

> When fitting model 'y~1', the 'lm' response is ok, but it is not possible 
> to get predictions using 'predict'. May be this is a bug, at least i 
> think it is somehow
> inconsistent.
....
> I am using a little bit older version
...
> major    1                
> minor    2.3              

Well we can't fix bugs retroactively... The NEWS file for 1.3.1 has
this under "BUG FIXES":

   o   predict.lm() failed with single-column model matrix (PR#1018).





-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep 25 14:46:20 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 25 Sep 2001 13:46:20 +0100 (BST)
Subject: [R] predict incosistency ?
In-Reply-To: <20010925.12272700@macdesp8.unizar.es>
Message-ID: <Pine.LNX.4.31.0109251343530.7896-100000@gannet.stats>

On Tue, 25 Sep 2001, Jorge Luis Ojeda Cabrera wrote:

> When fitting model 'y~1', the 'lm' response is ok, but it is not possible
> to get predictions using 'predict'. May be this is a bug, at least i
> think it is somehow
> inconsistent.
>
> > rm(list=ls())
> > d <- data.frame(x=runif(50),y=rnorm(50))
> > plot(d)
> > d.lm <- lm(y~1,data=d)
> > d.lm
>
> Call:
> lm(formula = y ~ 1, data = d)
>
> Coefficients:
> (Intercept)
>      0.1654
>
> > mean(d$y)
> [1] 0.1654461
> > predict(d.lm,data.frame(x=0.5))
> Error in x[[j]] : subscript out of bounds

That's a bug that is already fixed in R-devel.  However, there is
another one that may be harder to fix: the model frame is
Browse[1]> data
NULL data frame with 1 rows

and cases was not anticipated.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Tue Sep 25 11:18:11 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Tue, 25 Sep 2001 10:18:11 +0100
Subject: [R] x axis point labels
In-Reply-To: <01092416581300.11666@beowulf5>
References: <01092416581300.11666@beowulf5>
Message-ID: <HotpCJATvEs7EwXH@myatt.demon.co.uk>

Michaell Taylor <michaell.taylor at reis.com> writes:
>
>I am attempting to manually specify x axis value labels (NOT x axis label as 
>in xlab) on a density plot.  Generally speaking, I would like to erase the 
>default x axis point labels and replace them with arbitrary x axis point 
>labels relating to specific CDF points.
>
>I am sure this can be done, but it isn't obvious to me how.  Has anyone done 
>this before?

Just wrestled with something like this myself and this is the way I did
it:

        1. Set the lab parameter to the number of tickmarks you want on
        the x and y axes. If you have a vector of labels called (e.g.)
        my.labels then use something like:

                par(lab = c(length(my.labels, 5, 7))

        2. Plot without axes (i.e. add the parmeater "axes = false" to
        the plotting function you use top create your chart).

        3. Add axes using the axis() function:

                axis(side = 1, labels = mylabels)
                axis(side = 2)

Here is an example using a time series ... you should get the idea:

        Months <- c("May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov",
                    "Dec", "Jan", "Feb", "Mar", "Apr", "May", "Jun",
                    "Jul")
        WheatI <- c(0.00, 0.97, 0.97, 0.87, 0.74, 0.64, 0.51, 0.28, 
                    0.26, 0.18, 0.00, 0.00, 0.00, 0.00, 0.00)

        par(lab = c(length(Months), 3, 7))     
        plot(WheatI * 100, type = "s", ylim = c(0, 100), xlab = "",
             ylab = "%", main = "Irrigated Wheat", bty = "n",
             axes = FALSE)
        axis(side = 1, labels = Months)
        axis(side = 2)

I hope that helps.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Tue Sep 25 11:05:49 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Tue, 25 Sep 2001 10:05:49 +0100
Subject: [R] reading in ASCII files
In-Reply-To: <3BAF2DA9.6090108@ai.univie.ac.at>
References: <3BAF2DA9.6090108@ai.univie.ac.at>
Message-ID: <IISq6GAtjEs7EwVT@myatt.demon.co.uk>

Johann Petrak <johann at ai.univie.ac.at> writes:
>I wonder if there is a way to read in CSV files so that
>- certain fields within each record (line) are ignored, i.e.
>   not converted to columns in the output data frame

You could write a bespoke function to do this using scan(). An internal
function or extension to read.table() might be useful but you can always
do that with whatever data-management tools you already use ... I use
EpiData (which allows you to drop variables when exporting to ASCII) and
DBMS/COPY which allows you to drop and recode during data transfer
operations.

>- factors/levels are created automatically: often, the possible
>   labels are known in advance and could immediately be
>   converted. This would save a lot of memory and time for
>   bigger files, I assume.

You can use levels() and factor() to do this.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Tue Sep 25 15:26:51 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 25 Sep 2001 09:26:51 -0400
Subject: [R] pairs() Legend
In-Reply-To: <Pine.SOL.4.21.0109252204270.17045-100000@stat1.stat.auckland.ac.nz>
References: <Pine.SOL.4.21.0109252204270.17045-100000@stat1.stat.auckland.ac.nz>
Message-ID: <hv01rtsa20p900gnqlj342dak16ngeoe3m@4ax.com>

On Tue, 25 Sep 2001 22:07:15 +1200 (NZST), you wrote in message
<Pine.SOL.4.21.0109252204270.17045-100000 at stat1.stat.auckland.ac.nz>:

>Hi,
>
>Is it possible to create a legend in a pairs() plot?
>
>For example, suppose I have the following R codes:
>
> data(iris)
> pairs(iris[1:4], main = "Anderson's Iris Data -- 3 species", 
>       pch = 21, bg = c("red", "green3", "blue")[codes(iris$Species)])
>
>How can I created a legend that shows which colour represents to which
>Iris species?

The legend function is the general purpose way to put a legend on a
plot.  For the legend you want, you'd use

 legend(locator(),legend=levels(iris$Species), pt.bg =  c("red",
"green3", "blue"), pch=21)

The locator() function lets you position it manually.  You might want
to put in fixed values, instead.

The default pairs() call gives no space for a legend, so you'll
probably want to use "oma=c(4,4,6,10)" or something to give yourself
some extra space for the legend.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bm8 at st-andrews.ac.uk  Tue Sep 25 15:24:57 2001
From: bm8 at st-andrews.ac.uk (Bernie McConnell)
Date: Tue, 25 Sep 2001 14:24:57 +0100
Subject: [R] blues in c
Message-ID: <3.0.5.32.20010925142457.00956100@bute.st-and.ac.uk>

G'Day,

I'm a little  confused why the c function has the followng effect on
classes - is this a feature ?  My workround [ class(cc) <- c("POSIXt",
"POSIXct") ] seems to do the job.

Many thanks

Bernie McConnell


"R version 1.3.1, 2001-08-31" on NT

> aa <- as.POSIXct("2001-09-23")
> bb <- as.POSIXct("2001-09-24")
> cc <- c(aa,bb)
> aa - bb
Time difference of -1 days
> aa - cc[2]
[1] "1969-12-31 GMT Standard Time"
Warning message: 
Incompatible methods ("-.POSIXt", "-.POSIXct") for "-" 
> 
> class(aa)
[1] "POSIXt"  "POSIXct"
> class(cc)
[1] "POSIXct"
> 
> class(cc) <- c("POSIXt", "POSIXct")
> aa - cc[2]
Time difference of -1 days

Bernie McConnell
NERC SEA MAMMAL RESEARCH UNIT
Gatty Marine Lab, St Andrews University
St Andrews, Fife,  KY16 8LB, Scotland.

b.mcconnell at smru.st-andrews.ac.uk
http://www.smru.st-and.ac.uk
tel:  	+44 (1334) 463280   
fax:  	+44 (1334) 462632   


                
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From absd00t at c1186.ae.ge.com  Tue Sep 25 15:29:46 2001
From: absd00t at c1186.ae.ge.com (U-E59264-Osman F Buyukisik)
Date: Tue, 25 Sep 2001 09:29:46 -0400 (EDT)
Subject: [R] hpux10.20 build for R-1.3.1 
Message-ID: <15280.33977.65826.202665@c1406.ae.ge.com>

Hello,
 I am trying to build R-1.3.1 on hpux10.20 with gcc and HP's
fort77. here is my configure:
./configure --prefix=/home/absd00t/local --with-readline
--with-gnome=no --with-f77=fort77

I also set CXXFLAGS= -I/usr/include/Motif1.2 -I/usr/include/X11R6
-I/home/absd00t/local/include
and LIBS= -L/home/absd00t/local/lib

so that readline.h and libs would be found. I have parts of gnome libs so I
need to set --with-gnome=no.
This is what make produces:
...
make[3]: Entering directory `/annex/.absd00t/absd00t/tools/R-1.3.1/src/main'
gcc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -I/usr/include/Motif1.1 -I/usr/include/X11R4 -c CConverters.c -o CConverters.o
gcc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -I/usr/include/Motif1.1 -I/usr/include/X11R4 -c Rdynload.c -o Rdynload.o
Rdynload.c: In function `R_FindSymbol':
Rdynload.c:781: `CFunTab' undeclared (first use in this function)
Rdynload.c:781: (Each undeclared identifier is reported only once
Rdynload.c:781: for each function it appears in.)
make[3]: *** [Rdynload.o] Error 1
make[3]: Leaving directory `/annex/.absd00t/absd00t/tools/R-1.3.1/src/main'
make[2]: *** [R] Error 2
make[2]: Leaving directory `/annex/.absd00t/absd00t/tools/R-1.3.1/src/main'
make[1]: *** [R] Error 1
make[1]: Leaving directory `/annex/.absd00t/absd00t/tools/R-1.3.1/src'
make: *** [R] Error 1


should CFunTab be declared extern in Rdynload.c? 

I did not have this problem with 1.2 builds.

TIA,
Osman
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ozric at web.de  Tue Sep 25 15:32:14 2001
From: ozric at web.de (C. Schulz)
Date: Tue, 25 Sep 2001 15:32:14 +0200
Subject: [R] frequencies
Message-ID: <200109251332.f8PDWEh22299@mailgate5.cinetic.de>

Hello,
i would like get different frequencies like
tapply(sex,agekat,mean) ! 
But instead of the mean value i wish the %frequencies !

Thanks for advance
regards,christian




_______________________________________________________________________




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dtrenkler at nts6.oec.uni-osnabrueck.de  Tue Sep 25 15:44:11 2001
From: dtrenkler at nts6.oec.uni-osnabrueck.de (Trenkler, Dietrich)
Date: Tue, 25 Sep 2001 15:44:11 +0200
Subject: [R] Bug in boxplot.stats?
Message-ID: <FB75CFC167F3D311B11D00A0CC20FB0E3734B3@nts7.oec.Uni-Osnabrueck.DE>

Is this a bug?


>"xx" <- c(50, 79, 120, 78, 90, 100, 78, 80,
+ 90, 80, 60, 39, 90, 85, 140, 100, 80, 80)
> boxplot.stats(xx)$stats
[1]  60  78  80  90 100
> boxplot.stats(0.1*xx)$stats
[1]  7.8  7.8  8.0  9.0 10.0

I suppose  the way the numbers in 0.1*xx are internally stored may
cause this problem:

> formatC(0.1*xx[2],format="f",digits=16)
[1] "7.9000000000000004"

Version:
 platform = i386-pc-mingw32
 arch = x86
 os = Win32
 system = x86, Win32
 status =
 major = 1
 minor = 3.1
 year = 2001
 month = 08
 day = 31
 language = R

Windows NT 4.0 (build 1381) Service Pack 6                         

   --- D.Trenkler ---

****************************************************************************
*****
   Dr. Dietrich Trenkler        (dtrenkler at nts6.oec.uni-osnabrueck.de)      
   Statistik / Empirische Wirtschaftsforschung
   Universitaet Osnabrueck
   Rolandstrasse 8                                Phone: +49(0) 541-969-2753
   D-49069 Osnabrueck                          Fax  : +49(0) 541-969-2744
   GERMANY
****************************************************************************
*****



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luke at nokomis.stat.umn.edu  Tue Sep 25 15:46:09 2001
From: luke at nokomis.stat.umn.edu (Luke Tierney)
Date: Tue, 25 Sep 2001 08:46:09 -0500
Subject: [R] hpux10.20 build for R-1.3.1
In-Reply-To: <15280.33977.65826.202665@c1406.ae.ge.com>; from absd00t@c1186.ae.ge.com on Tue, Sep 25, 2001 at 09:29:46AM -0400
References: <15280.33977.65826.202665@c1406.ae.ge.com>
Message-ID: <20010925084609.A17816@nokomis.stat.umn.edu>

It's a known problem that we hope to fix for 1.4 and in the patches
tree as soon as we can get access to an HP machine for testing.

luke

On Tue, Sep 25, 2001 at 09:29:46AM -0400, U-E59264-Osman F Buyukisik wrote:
> Hello,
>  I am trying to build R-1.3.1 on hpux10.20 with gcc and HP's
> fort77. here is my configure:
> ./configure --prefix=/home/absd00t/local --with-readline
> --with-gnome=no --with-f77=fort77
> 
> I also set CXXFLAGS= -I/usr/include/Motif1.2 -I/usr/include/X11R6
> -I/home/absd00t/local/include
> and LIBS= -L/home/absd00t/local/lib
> 
> so that readline.h and libs would be found. I have parts of gnome libs so I
> need to set --with-gnome=no.
> This is what make produces:
> ...
> make[3]: Entering directory `/annex/.absd00t/absd00t/tools/R-1.3.1/src/main'
> gcc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -I/usr/include/Motif1.1 -I/usr/include/X11R4 -c CConverters.c -o CConverters.o
> gcc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -I/usr/include/Motif1.1 -I/usr/include/X11R4 -c Rdynload.c -o Rdynload.o
> Rdynload.c: In function `R_FindSymbol':
> Rdynload.c:781: `CFunTab' undeclared (first use in this function)
> Rdynload.c:781: (Each undeclared identifier is reported only once
> Rdynload.c:781: for each function it appears in.)
> make[3]: *** [Rdynload.o] Error 1
> make[3]: Leaving directory `/annex/.absd00t/absd00t/tools/R-1.3.1/src/main'
> make[2]: *** [R] Error 2
> make[2]: Leaving directory `/annex/.absd00t/absd00t/tools/R-1.3.1/src/main'
> make[1]: *** [R] Error 1
> make[1]: Leaving directory `/annex/.absd00t/absd00t/tools/R-1.3.1/src'
> make: *** [R] Error 1
> 
> 
> should CFunTab be declared extern in Rdynload.c? 
> 
> I did not have this problem with 1.2 builds.
> 
> TIA,
> Osman
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gvinjamu at cceb.upenn.edu  Tue Sep 25 15:49:36 2001
From: gvinjamu at cceb.upenn.edu (Govind Vinjamuri)
Date: Tue, 25 Sep 2001 09:49:36 -0400
Subject: [R] configure problem
References: <Pine.GSO.4.31.0109250719140.1129-100000@auk.stats>
Message-ID: <3BB08B70.9D3E5043@cceb.upenn.edu>

Hello Sir, I get this following error when I try to build R.

make
gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
-DHAVE_CONFIG_H   -g -O2 -c bakslv.c -o bakslv.o
In file included from ../../src/include/R_ext/Arith.h:27,
                 from ../../src/include/Rinternals.h:24,
                 from bakslv.c:31:
/usr/local/lib/gcc-lib/sparc-sun-solaris2.8/2.95.1/include/math.h:5: math.h: No
such file or directory

*** Error code 1
make: Fatal error: Command failed for target `bakslv.o'
Current working directory /usr/local/R-1.3.1/src/appl
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /usr/local/R-1.3.1/src/appl
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /usr/local/R-1.3.1/src
*** Error code 1
make: Fatal error: Command failed for target `R'

But I can see the file:


ls -l /usr/local/lib/gcc-lib/sparc-sun-solaris2.8/2.95.1/include/math.h
-rwxr--r--   1 bin      bin          206 Sep 22  1999
/usr/local/lib/gcc-lib/sparc-sun-solaris2.8/2.95.1/include/math.h


I can not figure what is wrong.

Thank you very much for your time.

Prof Brian D Ripley wrote:

> On Mon, 24 Sep 2001, Govind Vinjamuri wrote:
>
> > On solaris 8 with forte 6.1 for F77 and  CC. I try to configure I get
>
> What exactly did you set?  You want to be using FC=f77 and CC=cc when
> configuring R. You definitely do not want CC=CC.
>
> > the following message.
> > checking whether f77 appends underscores... yes
> > checking whether f77 and cc agree on int and double... configure:
> > warning: f77 and cc disagree on int and double
> > configure: error: Maybe change CFLAGS or FFLAGS?
>
> Look in the config.log to see more details.  This is also a test of calling
> Fortran from a C main program.  So it will fail if Fortran cannot be mixed
> with C (for example, if CC was set to a C++ compiler), or if
> LD_LIBRARY_PATH needs to be set to find the Fortran libraries, ....
>
> I am not entirely sure what `Forte 6.1' is, but think it is a marketing
> name for what were SunPro WorkShop compilers.  If so f77 and cc on Solaris
> 7 are part of our regular tests.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

--
Govind

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep 25 15:50:16 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 25 Sep 2001 14:50:16 +0100 (BST)
Subject: [R] blues in c
In-Reply-To: <3.0.5.32.20010925142457.00956100@bute.st-and.ac.uk>
Message-ID: <Pine.LNX.4.31.0109251448560.8069-100000@gannet.stats>

On Tue, 25 Sep 2001, Bernie McConnell wrote:

> G'Day,
>
> I'm a little  confused why the c function has the followng effect on
> classes - is this a feature ?  My workround [ class(cc) <- c("POSIXt",
> "POSIXct") ] seems to do the job.

It's a legacy

c.POSIXct <- function(..., recursive=FALSE)
    structure(c(unlist(lapply(list(...), unclass))),
class=c("POSIXt","POSIXct"))

does the job.


>
> Many thanks
>
> Bernie McConnell
>
>
> "R version 1.3.1, 2001-08-31" on NT
>
> > aa <- as.POSIXct("2001-09-23")
> > bb <- as.POSIXct("2001-09-24")
> > cc <- c(aa,bb)
> > aa - bb
> Time difference of -1 days
> > aa - cc[2]
> [1] "1969-12-31 GMT Standard Time"
> Warning message:
> Incompatible methods ("-.POSIXt", "-.POSIXct") for "-"
> >
> > class(aa)
> [1] "POSIXt"  "POSIXct"
> > class(cc)
> [1] "POSIXct"
> >
> > class(cc) <- c("POSIXt", "POSIXct")
> > aa - cc[2]
> Time difference of -1 days
>
> Bernie McConnell
> NERC SEA MAMMAL RESEARCH UNIT
> Gatty Marine Lab, St Andrews University
> St Andrews, Fife,  KY16 8LB, Scotland.
>
> b.mcconnell at smru.st-andrews.ac.uk
> http://www.smru.st-and.ac.uk
> tel:  	+44 (1334) 463280
> fax:  	+44 (1334) 462632
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Harvey.Monder at pharma.com  Tue Sep 25 15:53:56 2001
From: Harvey.Monder at pharma.com (Monder, Harvey)
Date: Tue, 25 Sep 2001 09:53:56 -0400
Subject: [R] GAM functions
Message-ID: <E5EC0556E8B6D2118CB600A0C9B6BB6003BA576B@a2mbx01.pharma.com>

Is there  an equivalent to Splus's step.gam?  I haven't had a chance to try
the 'mgcv' library, but if anyone has, are the functions equivalent to those
in S?

	Thanks,
	Harvey
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep 25 15:55:37 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Sep 2001 15:55:37 +0200
Subject: [R] blues in c
In-Reply-To: <Pine.LNX.4.31.0109251448560.8069-100000@gannet.stats>
References: <Pine.LNX.4.31.0109251448560.8069-100000@gannet.stats>
Message-ID: <x266a7qsrq.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> On Tue, 25 Sep 2001, Bernie McConnell wrote:
> 
> > G'Day,
> >
> > I'm a little  confused why the c function has the followng effect on
> > classes - is this a feature ?  My workround [ class(cc) <- c("POSIXt",
> > "POSIXct") ] seems to do the job.
> 
> It's a legacy
> 
> c.POSIXct <- function(..., recursive=FALSE)
>     structure(c(unlist(lapply(list(...), unclass))),
> class=c("POSIXt","POSIXct"))
> 
> does the job.

Speaking of the devil... Is there any reason as.POSIXct shouldn't work
on numeric data?

> as.POSIXct(0)
Error in as.POSIXct.default(0) : Don't know how to convert `0' to class "POSIXct"
> structure(0,class=c("POSIXt","POSIXct"))
[1] "1970-01-01 01:00:00 CET"

(Discovered by trying

c.POSIXct <- function(..., recursive=FALSE)
    as.POSIXct(c(unlist(lapply(list(...), unclass))))

)
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep 25 16:02:44 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 25 Sep 2001 15:02:44 +0100 (BST)
Subject: [R] blues in c
In-Reply-To: <x266a7qsrq.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.31.0109251501200.8069-100000@gannet.stats>

On 25 Sep 2001, Peter Dalgaard BSA wrote:

> Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:
>
> > On Tue, 25 Sep 2001, Bernie McConnell wrote:
> >
> > > G'Day,
> > >
> > > I'm a little  confused why the c function has the followng effect on
> > > classes - is this a feature ?  My workround [ class(cc) <- c("POSIXt",
> > > "POSIXct") ] seems to do the job.
> >
> > It's a legacy
> >
> > c.POSIXct <- function(..., recursive=FALSE)
> >     structure(c(unlist(lapply(list(...), unclass))),
> > class=c("POSIXt","POSIXct"))
> >
> > does the job.
>
> Speaking of the devil... Is there any reason as.POSIXct shouldn't work
> on numeric data?

Yes, there is no way to know what it means.  Numeric data is not a date!

>
> > as.POSIXct(0)
> Error in as.POSIXct.default(0) : Don't know how to convert `0' to class "POSIXct"
> > structure(0,class=c("POSIXt","POSIXct"))
> [1] "1970-01-01 01:00:00 CET"

Yes, that works, but you need to know the meaning of the numeric vector.


> (Discovered by trying
>
> c.POSIXct <- function(..., recursive=FALSE)
>     as.POSIXct(c(unlist(lapply(list(...), unclass))))
>
> )
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep 25 16:25:49 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 25 Sep 2001 15:25:49 +0100 (BST)
Subject: [R] Bug in boxplot.stats?
In-Reply-To: <FB75CFC167F3D311B11D00A0CC20FB0E3734B3@nts7.oec.Uni-Osnabrueck.DE>
Message-ID: <Pine.LNX.4.31.0109251522240.8148-100000@gannet.stats>

It's just rounding errors.  60 is exactly 1.5x the IQR from 78.
Look at the whole output:

$stats
[1]  60  78  80  90 100

$n
[1] 18

$conf
[1] 75.53109 84.46891

$out
[1]  50 120  39 140

vs

$stats
[1]  7.8  7.8  8.0  9.0 10.0

$n
[1] 18

$conf
[1] 7.553109 8.446891

$out
[1]  5.0 12.0  6.0  3.9 14.0

Given that a point is sitting exactly on the boundary, it's arbitrary
whether it gets put inside or outside, and decided by rounding errors.



On Tue, 25 Sep 2001, Trenkler, Dietrich wrote:

> Is this a bug?

No.

>
> >"xx" <- c(50, 79, 120, 78, 90, 100, 78, 80,
> + 90, 80, 60, 39, 90, 85, 140, 100, 80, 80)
> > boxplot.stats(xx)$stats
> [1]  60  78  80  90 100
> > boxplot.stats(0.1*xx)$stats
> [1]  7.8  7.8  8.0  9.0 10.0
>
> I suppose  the way the numbers in 0.1*xx are internally stored may
> cause this problem:
>
> > formatC(0.1*xx[2],format="f",digits=16)
> [1] "7.9000000000000004"
>
> Version:
>  platform = i386-pc-mingw32
>  arch = x86
>  os = Win32
>  system = x86, Win32
>  status =
>  major = 1
>  minor = 3.1
>  year = 2001
>  month = 08
>  day = 31
>  language = R
>
> Windows NT 4.0 (build 1381) Service Pack 6
>
>    --- D.Trenkler ---
>
> ****************************************************************************
> *****
>    Dr. Dietrich Trenkler        (dtrenkler at nts6.oec.uni-osnabrueck.de)
>    Statistik / Empirische Wirtschaftsforschung
>    Universitaet Osnabrueck
>    Rolandstrasse 8                                Phone: +49(0) 541-969-2753
>    D-49069 Osnabrueck                          Fax  : +49(0) 541-969-2744
>    GERMANY
> ****************************************************************************
> *****
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alkauffm at rz.uni-potsdam.de  Tue Sep 25 17:27:46 2001
From: alkauffm at rz.uni-potsdam.de (Albrecht Kauffmann)
Date: Tue, 25 Sep 2001 16:27:46 +0100
Subject: [R] parzen-window, tukey window
Message-ID: <200109251427.f8PERla02722@persius.rz.uni-potsdam.de>

Dear R-user and -programmer,

has one R-package the ability to compute smoothed periodograms of time
series using the Tukey-window and/or the Parzen-window? In the ts- and
tseries-packages I have found only Daniell-smoothers.

With many thanks in advance for any hint

Albrecht Kauffmann
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Tue Sep 25 16:45:05 2001
From: aolinto at bignet.com.br (aolinto@bignet.com.br)
Date: Tue, 25 Sep 2001 14:45:05 GMT
Subject: [R] max-min plot
Message-ID: <200109251523.MAA31229@hp.bignet.com.br>

Hello R-list members,

Im trying to make a min-avg-max plot (like a boxplot, without 
box and outliers, i.e., for each class of "x" a vertical line 
indicating the range (max-min) and an horizontal line or point 
indicating the mean) with data like:

Year Avg Min Max
98   10   7  13
99   12  10  15
01   11   6  14

Which command should be used?

Many thanks,

Antonio Olinto


-----------------------------------------------------
E-Mail enviado por WebMail - http://www.bignet.com.br


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ozric at web.de  Tue Sep 25 16:47:14 2001
From: ozric at web.de (C. Schulz)
Date: Tue, 25 Sep 2001 16:47:14 +0200
Subject: [R] Clusteranalysis
Message-ID: <200109251447.f8PElEh09734@mailgate5.cinetic.de>

Hello,

in marketing-science field i do some 
clusteranalysis and get the experience that 
the scale cause the results dramatic!

What recommendation can somebody give me, when i use
nominal-variables(recode to 0/1 variables) with
6 point ordinal-variables.
Is it better toDo a z-transformation with the ordinal variables
, or should i recode this values in 0/1 binaries, too! 

P.S.
Which is a good cluster fkt.
in R ?


Thanks for Advance







_______________________________________________________________________




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep 25 17:08:59 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 25 Sep 2001 16:08:59 +0100 (BST)
Subject: [R] parzen-window, tukey window
In-Reply-To: <200109251427.f8PERla02722@persius.rz.uni-potsdam.de>
Message-ID: <Pine.LNX.4.31.0109251559370.8210-100000@gannet.stats>

On Tue, 25 Sep 2001, Albrecht Kauffmann wrote:

> Dear R-user and -programmer,
>
> has one R-package the ability to compute smoothed periodograms of time
> series using the Tukey-window and/or the Parzen-window? In the ts- and
> tseries-packages I have found only Daniell-smoothers.

What did you mean by `Tukey-window and/or the Parzen-window'?  The modern
(post 1967) methods are discrete-frequency smoothings, whereas those
usually mean the old-fashioned technique of tapering the ACF. The two
approaches are equivalent but the older one is much less efficient.

Look harder at spec.pgram: it is completely general, and not confined to
Daniell smoothing.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a215020 at agate.fmr.com  Tue Sep 25 17:22:04 2001
From: a215020 at agate.fmr.com (David Brahm)
Date: Tue, 25 Sep 2001 11:22:04 -0400 (EDT)
Subject: [R] read.table() suggestions
Message-ID: <200109251522.f8PFM4w02611@arbres1a.FMR.Com>

Hi,

   I understand work is being done to improve read.table(), especially by
Prof. Brian D. Ripley.  I offer below a version that I wrote, in the hope some
aspects of it may prove useful or at least inspire discussion.

   Be aware that my version differs in a couple fundamental ways that reflect
my aversion to dataframes and factors.  So it returns a list of vectors which
are all character, numeric, integer, or logical.  Also, I have no row.names
column, and so no issues about what to put in that column's header.

   A big advantage of my function is that the user can specify which columns
are wanted, and can force columns to be character, integer, or logical.
Unwanted trailing columns are not even read [they are "flushed" by scan()],
improving speed and memory usage.  Note, though, that in S+ one can also
eliminate intermediate columns in scan() with a "what" entry of NULL, and my
function was written to take advantage of that, but it doesn't work in R.

   The first thing it does is some optional external file manipulation
(gunzip'ing and removing quotes with "sed") that may only work on Unix.  Then
it parses a single header line (using scan() on a textConnection), and compares
the columns available with the columns wanted.  Everything is scanned as
character, then columns are tested with "type.convert" and converted as
appropriate.  Enjoy!
				   -- David Brahm (a215020 at agate.fmr.com)

############################# Begin code #####################################

new.read.table <-
# Reads a tab-delimited data file into a list.  Somewhat like:
#   as.list(read.table(file, header=T, sep="\t", as.is=T, row.names=NULL,
#                      na.strings=na.strings))
function(file, want=items, skip=0, skip2=0, sep="\t",
         strip.white=F, rm.quotes=F, integers=NULL, logicals=NULL,
         characters=c("cusip","Cusip","cusp","symb","ticker","sector"),
         na.strings=c("","-","na","NA","NC","ND","NaN","#N/A","#N/A N Ap",
                      "#N/A N.A.","@NA","NULL")) {
  rm.files <- NULL
  on.exit(if (length(rm.files)) unlink(rm.files))

  ## Gunzip, remove quotes, then make connection object:
  if (is.character(file) && !file.exists(file)) {
    if (!file.exists(file %&% ".gz")) stop("No file: " %&% file)
    rm.files <- c(rm.files, newfile<-tempfile())
    system("gunzip -c " %&% file %&% ".gz > " %&% newfile)
    file <- newfile
  }
  if (rm.quotes) {                                       # Won't work with pipe
    rm.files <- c(rm.files, newfile<-tempfile())
    system("tr -d \\\" < " %&% file %&% " > " %&% newfile)
    file <- newfile
  }
  if (is.character(file)) {file <- file(file,"r");  on.exit(close(file))}

  ## Get "items" from header row:
  tmp <- readLines(file, skip+1)[skip+1]
  tc <- textConnection(tmp)
  items <- scan(tc, "", sep=sep, strip.white=strip.white, quiet=T)
  items <- gsub("_",".",items)                             # Convert "_" to "."
  close(tc)

  ## Build a "what" list:
  wanted <- items %in% want
  last   <- max(which(wanted))	                               # Flush the rest
  what   <- structure(rep(list(""), last), names=items[1:last])
# what[!wanted] <- list(NULL) # Don't read unwanted columns (doesn't work in R)

  ## Scan the data connection:
  obj <- scan(file, what, sep=sep, flush=T, skip=skip2,
              strip.white=strip.white, quiet=T)
  if (!all(wanted)) obj <- obj[which(wanted)]

  ## Convert strings to numeric or logical:
  for (i in g.except(names(obj), characters)) {
    z <- .Internal(type.convert(obj[[i]], na.strings, T, "."))
    if (is.numeric(z)) obj[[i]] <- if (i %in% integers) as.integer(z) else z
  }
  for (i in logicals) obj[[i]] <- as.logical(obj[[i]])        # "F","T", or 0,1
  obj
}

# Supplementary (and very useful) functions:
"%&%"    <- function(a, b) paste(a, b, sep="")
g.except <- function(a, b) unique(a[!match(a, b, 0)])

############################## End code ######################################
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rod.chav at hsoft.es  Tue Sep 25 18:32:07 2001
From: rod.chav at hsoft.es (Antonio)
Date: Tue, 25 Sep 2001 18:32:07 +0200
Subject: [R] extracting columns from a ts series
Message-ID: <3.0.6.32.20010925183207.00804100@pop.hsoft.es>

Hi All,

I have a time series called 'upwelling',  like this:

>upwell

       	Jan   Feb   Mar   Apr   May   Jun   Jul   Aug   Sep   Oct   Nov
1984           	              494.7 303.7 220.8 288.4 188.1 125.5 215.7
1985  	56.0 127.4 165.8 189.4 261.6 223.7 186.3 150.2 107.8 120.3  91.1

from 1984 until 2000. How do I could extract, i.e, Jan or Dec columns from
the data? Or how do I could calculate, say, winter upwelling: Dec+Jan+Feb+Mar?

Thanks,

Antonio

PD: Does anybody knows if the EM algorithm (Shumway and Stoffer) for
missing data,  has been developped within R?
Antonio Rodr?guez Verdugo
C.I.C.E.M. "Agua del Pino"
Delegacion Provincial de Agricultura y Pesca
P.O. Box 104
21071 HUELVA (Spain)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From juli at ceam.es  Tue Sep 25 18:30:44 2001
From: juli at ceam.es (juli g. pausas)
Date: Tue, 25 Sep 2001 18:30:44 +0200
Subject: [R] glm.nb, anova.negbin
Message-ID: <3BB0B133.D3F38472@ceam.es>

Dear R-collegues,
I'm getting an error message (Error in round) when summarising a glm.nb
model, and when using anova.negbin (in R 1.3.1 for windows):

> m.nb <- glm.nb(tax ~ areal)
> m.bn
Call:  glm.nb(formula = tax ~ areal, init.theta = 5.08829537115498,
link = log)

Coefficients:
(Intercept)        areal
    3.03146      0.03182

Degrees of Freedom: 283 Total (i.e. Null);  282 Residual
Null Deviance:      353.3
Residual Deviance: 293.3        AIC: -2334000

> summary(m.nb)

Call:
glm.nb(formula = tax ~ areal, init.theta = 5.08829537115498,
    link = log)

Deviance Residuals:
    Min       1Q   Median       3Q      Max
-2.7107  -0.8313  -0.1159   0.5866   1.9634

Coefficients:
            Estimate Std. Error z value Pr(>|z|)
(Intercept) 3.031460   0.445165   6.810 9.78e-12 ***
areal       0.031819   0.004151   7.666 1.78e-14 ***
---
Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1

(Dispersion parameter for Negative Binomial(5.0883) family taken to be
1)

    Null deviance: 353.34  on 283  degrees of freedom
Residual deviance: 293.34  on 282  degrees of freedom
AIC: -2334394

Number of Fisher Scoring iterations: 1

Correlation of Coefficients:
      (Intercept)
areal     -0.9982

Error in round(x$theta, dp, nsmall = dp) :
        unused argument(s) (nsmall ...)

> anova.negbin(m.nb)
Error in get(x, envir, mode, inherits) : invalid first argument
In addition: Warning message:
tests made without re-estimating theta in: anova.negbin(m.nb)
>

Any suggestion of why I'm getting this error?
Many thanks

Juli


--
Juli G. Pausas
Centro de Estudios Ambientales del Mediterraneo (CEAM)
C/ C.R. Darwin 14, Parc Tecnologic,
46980 Paterna, Valencia, SPAIN
Tel: (+ 34) 96 131 8227; Fax: (+ 34) 96 131 8190
mailto:juli at ceam.es
http://www.gva.es/ceam

GCTE Fire Network - http://www.gva.es/ceam/FireNetwork

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010925/5dbae6ec/attachment.html

From ligges at statistik.uni-dortmund.de  Tue Sep 25 19:05:47 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 25 Sep 2001 19:05:47 +0200
Subject: [R] extracting columns from a ts series
References: <3.0.6.32.20010925183207.00804100@pop.hsoft.es>
Message-ID: <3BB0B96B.74F9A897@statistik.uni-dortmund.de>

Antonio wrote:
> 
> Hi All,
> 
> I have a time series called 'upwelling',  like this:
> 
> >upwell
> 
>         Jan   Feb   Mar   Apr   May   Jun   Jul   Aug   Sep   Oct   Nov
> 1984                          494.7 303.7 220.8 288.4 188.1 125.5 215.7
> 1985    56.0 127.4 165.8 189.4 261.6 223.7 186.3 150.2 107.8 120.3  91.1
> 
> from 1984 until 2000. How do I could extract, i.e, Jan or Dec columns from
> the data? Or how do I could calculate, say, winter upwelling: Dec+Jan+Feb+Mar?

See ?window

For Dec columns use 
 window(upwell, start=c(1984, 12), frequency=1)
 
Don't know an exact translation for "upwelling" in german, but to sum
over the specified 4 months, you can use:
 sum(window(upwell, start=c(1984, 12), end=c(1985,3)))

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tov at ece.cmu.edu  Tue Sep 25 19:08:22 2001
From: tov at ece.cmu.edu (Thomas Vogels)
Date: 25 Sep 2001 13:08:22 -0400
Subject: [R] hpux10.20 build for R-1.3.1
In-Reply-To: U-E59264-Osman F Buyukisik's message of "Tue, 25 Sep 2001 09:29:46 -0400 (EDT)"
References: <15280.33977.65826.202665@c1406.ae.ge.com>
Message-ID: <px8zf3tczd.fsf@infiniti.ece.cmu.edu>


U-E59264-Osman F Buyukisik <absd00t at c1186.ae.ge.com> writes:

> Hello,
>  I am trying to build R-1.3.1 on hpux10.20 with gcc and HP's
> fort77. here is my configure:
> ./configure --prefix=/home/absd00t/local --with-readline
> --with-gnome=no --with-f77=fort77
> 
> I also set CXXFLAGS= -I/usr/include/Motif1.2 -I/usr/include/X11R6
> -I/home/absd00t/local/include
> and LIBS= -L/home/absd00t/local/lib
> 
> so that readline.h and libs would be found. I have parts of gnome libs so I
> need to set --with-gnome=no.
> This is what make produces:
> ...
> make[3]: Entering directory `/annex/.absd00t/absd00t/tools/R-1.3.1/src/main'
> gcc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -I/usr/include/Motif1.1 -I/usr/include/X11R4 -c CConverters.c -o CConverters.o
> gcc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -I/usr/include/Motif1.1 -I/usr/include/X11R4 -c Rdynload.c -o Rdynload.o
> Rdynload.c: In function `R_FindSymbol':
> Rdynload.c:781: `CFunTab' undeclared (first use in this function)
> Rdynload.c:781: (Each undeclared identifier is reported only once
> Rdynload.c:781: for each function it appears in.)
> make[3]: *** [Rdynload.o] Error 1
> make[3]: Leaving directory `/annex/.absd00t/absd00t/tools/R-1.3.1/src/main'
> make[2]: *** [R] Error 2
> make[2]: Leaving directory `/annex/.absd00t/absd00t/tools/R-1.3.1/src/main'
> make[1]: *** [R] Error 1
> make[1]: Leaving directory `/annex/.absd00t/absd00t/tools/R-1.3.1/src'
> make: *** [R] Error 1


The same problem appears on an AIX machine, well sometimes at least...

(From an email exchange between Kurt and me:)
> -- (New) problem in Rdynload.c
> 
> I get an undefined symbol CFunTab when compiling src/main/Rdynload.c.
> This appears when I force the preprocessor to be 'cc -E' but not with
> CPP=/lib/cpp  Odd.  I'll ignore that for the moment.

So could you please dig through config.log and see if there are any
problems with detecting the C preprocessor?  

BTW, why are you setting CXXFLAGS?  Are you also setting CFLAGS?

  -tom

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep 25 19:10:11 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 25 Sep 2001 18:10:11 +0100 (BST)
Subject: [R] glm.nb, anova.negbin
In-Reply-To: <3BB0B133.D3F38472@ceam.es>
Message-ID: <Pine.GSO.4.31.0109251808550.19805-100000@auk.stats>

On Tue, 25 Sep 2001, juli g. pausas wrote:

> Dear R-collegues,
> I'm getting an error message (Error in round) when summarising a glm.nb
> model, and when using anova.negbin (in R 1.3.1 for windows):
>
> > m.nb <- glm.nb(tax ~ areal)
> > m.bn
> Call:  glm.nb(formula = tax ~ areal, init.theta = 5.08829537115498,
> link = log)
>
> Coefficients:
> (Intercept)        areal
>     3.03146      0.03182
>
> Degrees of Freedom: 283 Total (i.e. Null);  282 Residual
> Null Deviance:      353.3
> Residual Deviance: 293.3        AIC: -2334000
>
> > summary(m.nb)
>
> Call:
> glm.nb(formula = tax ~ areal, init.theta = 5.08829537115498,
>     link = log)
>
> Deviance Residuals:
>     Min       1Q   Median       3Q      Max
> -2.7107  -0.8313  -0.1159   0.5866   1.9634
>
> Coefficients:
>             Estimate Std. Error z value Pr(>|z|)
> (Intercept) 3.031460   0.445165   6.810 9.78e-12 ***
> areal       0.031819   0.004151   7.666 1.78e-14 ***
> ---
> Signif. codes:  0 `***' 0.001 `**' 0.01 `*' 0.05 `.' 0.1 ` ' 1
>
> (Dispersion parameter for Negative Binomial(5.0883) family taken to be
> 1)
>
>     Null deviance: 353.34  on 283  degrees of freedom
> Residual deviance: 293.34  on 282  degrees of freedom
> AIC: -2334394
>
> Number of Fisher Scoring iterations: 1
>
> Correlation of Coefficients:
>       (Intercept)
> areal     -0.9982
>
> Error in round(x$theta, dp, nsmall = dp) :
>         unused argument(s) (nsmall ...)
>
> > anova.negbin(m.nb)
> Error in get(x, envir, mode, inherits) : invalid first argument
> In addition: Warning message:
> tests made without re-estimating theta in: anova.negbin(m.nb)
> >
>
> Any suggestion of why I'm getting this error?

Because there is a copying error in lines

    cat("\n              Theta: ", format(round(x$theta, dp, nsmall=dp)),
        "\n          Std. Err.: ", format(round(x$SE.theta, dp,
nsmall=dp)),
        "\n")
    if(!is.null(x$th.warn))
        cat("Warning while fitting theta:", x$th.warn,"\n")
    cat("\n 2 x log-likelihood: ", format(round(x$twologlik, 3,
nsmall=dp)), "\n

Move the second ) before the nsmall.


Or just use the debugging tools to find it ....


> Many thanks
>
> Juli
>
>
> --
> Juli G. Pausas
> Centro de Estudios Ambientales del Mediterraneo (CEAM)
> C/ C.R. Darwin 14, Parc Tecnologic,
> 46980 Paterna, Valencia, SPAIN
> Tel: (+ 34) 96 131 8227; Fax: (+ 34) 96 131 8190
> mailto:juli at ceam.es
> http://www.gva.es/ceam
>
> GCTE Fire Network - http://www.gva.es/ceam/FireNetwork
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hstevens at muohio.edu  Tue Sep 25 19:19:42 2001
From: hstevens at muohio.edu (Martin Henry H. Stevens)
Date: Tue, 25 Sep 2001 13:19:42 -0400
Subject: [R] max-min plot
References: <200109251523.MAA31229@hp.bignet.com.br>
Message-ID: <006201c145e6$44b064d0$e8093586@STEVENS>

I don't know about boxes, per se, but how about plotting the average and
then error bars with termini at the min and max? See archives regarding how
to plot confidence intervals, or standard error plots.
Also, http://lark.cc.ukans.edu/~pauljohn/R/statsRus.html, has code for this.

Good luck,
*****************************
Martin Henry H. Stevens
HStevens at muohio.edu
tel: (513) 529 - 4206
FAX: (513) 529 - 4243

338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056
http://www.muohio.edu/~botcwis/bot/henry.html

----- Original Message -----
From: <aolinto at bignet.com.br>
To: <r-help at stat.math.ethz.ch>
Sent: Tuesday, September 25, 2001 10:45 AM
Subject: [R] max-min plot


> Hello R-list members,
>
> I'm trying to make a min-avg-max plot (like a boxplot, without
> box and outliers, i.e., for each class of "x" a vertical line
> indicating the range (max-min) and an horizontal line or point
> indicating the mean) with data like:
>
> Year Avg Min Max
> 98   10   7  13
> 99   12  10  15
> 01   11   6  14
>
> Which command should be used?
>
> Many thanks,
>
> Antonio Olinto
>
>
> -----------------------------------------------------
> E-Mail enviado por WebMail - http://www.bignet.com.br
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tdlong at uci.edu  Tue Sep 25 19:53:44 2001
From: tdlong at uci.edu (Tony Long)
Date: Tue, 25 Sep 2001 10:53:44 -0700
Subject: [R] Error in optim(p, fun,...)
Message-ID: <p05001903b7d67426bc56@[128.200.28.179]>

All:

	I am getting an error code from the optimization function.  The code is

Error in optim(p,fun.LLike, lower=low, upper = up, method = "L-BFGS-B", :
          non-finite finite-difference value [0]

If I add a trace=6 option to my control list the last message before 
this error is:
          At X0, 0 variables are exactly at the bounds

Any ideas on where I should start would be appreciated.  Tony
-- 

Tony Long

Ecology and Evolutionary Biology
Steinhaus Hall
University of California at Irvine
Irvine, CA
92697-2525

Tel:  (949) 824-2562   (office)
Tel:  (949) 824-5994   (lab)
Fax: (949) 824-2181

email:  tdlong at uci.edu
http://hjmuller.bio.uci.edu/~labhome/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rod.chav at hsoft.es  Tue Sep 25 20:02:38 2001
From: rod.chav at hsoft.es (Antonio)
Date: Tue, 25 Sep 2001 20:02:38 +0200
Subject: [R] extracting columns from a ts series
In-Reply-To: <3BB0B96B.74F9A897@statistik.uni-dortmund.de>
References: <3.0.6.32.20010925183207.00804100@pop.hsoft.es>
Message-ID: <3.0.6.32.20010925200238.007c0380@pop.hsoft.es>

Hi Uwe



>For Dec columns use 
> window(upwell, start=c(1984, 12), frequency=1)

This works OK

But the other formula not. Maybe is my fault, I was not clear. What I need is:

(Dec(t-1)+Jan(t)+Feb(t)+March(t))/4

With your help I did the following:

- I extracted each series as you mentioned above, then I convert them this
way:

dec<- window(upwell, start=c(1984, 12), frequency=1)
d<-dec[c(1:16)]

and so on with Jan, Feb, March

Then:

wintermean<-(d+j+f+m)/4

And.. Goal!

Maybe is long, long walk, but it works

Cheers,

Antonio
Antonio Rodr?guez Verdugo
C.I.C.E.M. "Agua del Pino"
Delegacion Provincial de Agricultura y Pesca
P.O. Box 104
21071 HUELVA (Spain)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Sep 25 20:07:24 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Tue, 25 Sep 2001 14:07:24 -0400 (EDT)
Subject: [R] Error in optim(p, fun,...)
In-Reply-To: <p05001903b7d67426bc56@[128.200.28.179]>
Message-ID: <Pine.LNX.4.30.0109251402380.18612-100000@bolker.zoo.ufl.edu>


  My guess is that you should start with the setting of ndeps (see
?optim).  If your function gives bad results for parameters outside of the
bounds you have set, you probably need to set the bounds a tiny bit
smaller and then set ndeps tinier still so that the finite-difference
approximation to the derivatives doesn't try to evaluate the function
outside the bounds ...

  (Q for Brian Ripley: does this seem reasonable?  Or does L-BFGS-B
actually check to make sure that finite differences are always evaluated
inside the boundaries?  Based on my experience with optim/L-BFGS-B I don't
think so, but I'm not sure)

  The other thing you can do for debugging this kind of problem is to turn
on some tracing in your function itself (with a cat() or print()
statement) that reports the parameters at which the function is evaluated.

  Ben Bolker

On Tue, 25 Sep 2001, Tony Long wrote:

> All:
>
> 	I am getting an error code from the optimization function.  The code is
>
> Error in optim(p,fun.LLike, lower=low, upper = up, method = "L-BFGS-B", :
>           non-finite finite-difference value [0]
>
> If I add a trace=6 option to my control list the last message before
> this error is:
>           At X0, 0 variables are exactly at the bounds
>
> Any ideas on where I should start would be appreciated.  Tony
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Tue Sep 25 20:05:06 2001
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Tue, 25 Sep 2001 14:05:06 -0400
Subject: [R] max-min plot
References: <200109251523.MAA31229@hp.bignet.com.br> <006201c145e6$44b064d0$e8093586@STEVENS>
Message-ID: <3BB0C752.61148C82@virginia.edu>

Soon the xYplot function in the Hmisc library
will be available for R for beta test.  This allows the user to
easily make Lattice xyplot-type plots with error bars
and bands.  I'll make an announcement when this is ready.
See documentation at
http://hesweb1.med.virginia.edu/biostat/s/help/xYplot.html

-Frank Harrell

"Martin Henry H. Stevens" wrote:
> 
> I don't know about boxes, per se, but how about plotting the average and
> then error bars with termini at the min and max? See archives regarding how
> to plot confidence intervals, or standard error plots.
> Also, http://lark.cc.ukans.edu/~pauljohn/R/statsRus.html, has code for this.
> 
> Good luck,
> *****************************
> Martin Henry H. Stevens
> HStevens at muohio.edu
> tel: (513) 529 - 4206
> FAX: (513) 529 - 4243
> 
> 338 Pearson Hall
> Botany Department
> Miami University
> Oxford, OH 45056
> http://www.muohio.edu/~botcwis/bot/henry.html
> 
> ----- Original Message -----
> From: <aolinto at bignet.com.br>
> To: <r-help at stat.math.ethz.ch>
> Sent: Tuesday, September 25, 2001 10:45 AM
> Subject: [R] max-min plot
> 
> > Hello R-list members,
> >
> > I'm trying to make a min-avg-max plot (like a boxplot, without
> > box and outliers, i.e., for each class of "x" a vertical line
> > indicating the range (max-min) and an horizontal line or point
> > indicating the mean) with data like:
> >
> > Year Avg Min Max
> > 98   10   7  13
> > 99   12  10  15
> > 01   11   6  14
> >
> > Which command should be used?
> >
> > Many thanks,
> >
> > Antonio Olinto
> >
> >
> > -----------------------------------------------------
> > E-Mail enviado por WebMail - http://www.bignet.com.br
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> >
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep 25 20:13:01 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 25 Sep 2001 19:13:01 +0100 (BST)
Subject: [R] Error in optim(p, fun,...)
In-Reply-To: <p05001903b7d67426bc56@[128.200.28.179]>
Message-ID: <Pine.GSO.4.31.0109251905450.21383-100000@auk.stats>

On Tue, 25 Sep 2001, Tony Long wrote:

> All:
>
> 	I am getting an error code from the optimization function.  The code is
>
> Error in optim(p,fun.LLike, lower=low, upper = up, method = "L-BFGS-B", :
>           non-finite finite-difference value [0]
>
> If I add a trace=6 option to my control list the last message before
> this error is:
>           At X0, 0 variables are exactly at the bounds
>
> Any ideas on where I should start would be appreciated.  Tony

It means that in computing derivatives by finite differencing, one
of the values is NA, +Inf or -Inf.  Put some print values in
your objective function and find out why it is giving a non-finite value.

It's not an error in optim: it is supposed to work that way.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep 25 20:16:06 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 25 Sep 2001 19:16:06 +0100 (BST)
Subject: [R] Error in optim(p, fun,...)
In-Reply-To: <Pine.LNX.4.30.0109251402380.18612-100000@bolker.zoo.ufl.edu>
Message-ID: <Pine.GSO.4.31.0109251913340.21383-100000@auk.stats>

On Tue, 25 Sep 2001, Ben Bolker wrote:

>
>   My guess is that you should start with the setting of ndeps (see
> ?optim).  If your function gives bad results for parameters outside of the
> bounds you have set, you probably need to set the bounds a tiny bit
> smaller and then set ndeps tinier still so that the finite-difference
> approximation to the derivatives doesn't try to evaluate the function
> outside the bounds ...
>
>   (Q for Brian Ripley: does this seem reasonable?  Or does L-BFGS-B
> actually check to make sure that finite differences are always evaluated
> inside the boundaries?  Based on my experience with optim/L-BFGS-B I don't
> think so, but I'm not sure)

Yes, it does now check.  It didn't long ago when you raised this.

As no bounds were active, it looks as if the function is blowing up inside
the region.

I would be thinking about the scaling rather than ndeps.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgentlem at jimmy.harvard.edu  Tue Sep 25 20:42:27 2001
From: rgentlem at jimmy.harvard.edu (Robert Gentleman)
Date: Tue, 25 Sep 2001 14:42:27 -0400
Subject: [R] Error in optim(p, fun,...)
In-Reply-To: <p05001903b7d67426bc56@[128.200.28.179]>; from Tony Long on Tue, Sep 25, 2001 at 10:53:44AM -0700
References: <p05001903b7d67426bc56@[128.200.28.179]>
Message-ID: <20010925144227.X26352@jimmy.harvard.edu>

On Tue, Sep 25, 2001 at 10:53:44AM -0700, Tony Long wrote:
> All:
> 
> 	I am getting an error code from the optimization function.  The code is
> 
> Error in optim(p,fun.LLike, lower=low, upper = up, method = "L-BFGS-B", :
>           non-finite finite-difference value [0]
> 
> If I add a trace=6 option to my control list the last message before 
> this error is:
>           At X0, 0 variables are exactly at the bounds
> 
> Any ideas on where I should start would be appreciated.  Tony
> -- 

 Generally, in this situation transforming the problem is not very
 useful. If the optimal point really is on the boundary you need to
 use a method suited to that. Most good optimization books (Fletcher,
 Gill Murray and Wright) discuss methods of this form.

 These issues often arise with mixture problems and the software for
 those problems can be used if you can frame your question in a
 mixture framework. This is often the case. For example, almost all
 univariate censored data CDF estimation problems can be dealt with this way.

  Robert

> 
> Tony Long
> 
> Ecology and Evolutionary Biology
> Steinhaus Hall
> University of California at Irvine
> Irvine, CA
> 92697-2525
> 
> Tel:  (949) 824-2562   (office)
> Tel:  (949) 824-5994   (lab)
> Fax: (949) 824-2181
> 
> email:  tdlong at uci.edu
> http://hjmuller.bio.uci.edu/~labhome/
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
+---------------------------------------------------------------------------+
| Robert Gentleman                 phone : (617) 632-5250                   |
| Associate Professor              fax:   (617)  632-2444                   |
| Department of Biostatistics      office: M1B28
| Harvard School of Public Health  email: rgentlem at jimmy.dfci.harvard.edu   |
+---------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Sep 25 21:14:54 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 25 Sep 2001 21:14:54 +0200 (MET DST)
Subject: [R] extracting columns from a ts series
In-Reply-To: <3.0.6.32.20010925200238.007c0380@pop.hsoft.es>
Message-ID: <Pine.GSO.4.21.0109252110460.17843-100000@amadeus.statistik.uni-dortmund.de>

On Tue, 25 Sep 2001, Antonio wrote:

> >For Dec columns use 
> > window(upwell, start=c(1984, 12), frequency=1)
> 
> This works OK
> 
> But the other formula not. Maybe is my fault, I was not clear. What I need is:
> 
> (Dec(t-1)+Jan(t)+Feb(t)+March(t))/4

Hmm. So the following line should do the trick. I replaced sum() by
mean() --- easy, isn't it?

 mean(window(upwell, start=c(1984, 12), end=c(1985,3)))

Uwe

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pkleiber at honlab.nmfs.hawaii.edu  Tue Sep 25 21:40:47 2001
From: pkleiber at honlab.nmfs.hawaii.edu (Pierre Kleiber)
Date: Tue, 25 Sep 2001 09:40:47 -1000
Subject: [R] read.table() suggestions
References: <200109251522.f8PFM4w02611@arbres1a.FMR.Com>
Message-ID: <3BB0DDBF.D71A5721@honlab.nmfs.hawaii.edu>

I also have an aversion to factors sneaking in where they're not wanted,
but read.table is OK because of its as.is argument.  What I would like to
see is that same argument made available in other functions that create 
data frames, such as as.data.frame() and aggregate().

   Pierre

David Brahm wrote:
> 
> Hi,
> 
>    I understand work is being done to improve read.table(), especially by
> Prof. Brian D. Ripley.  I offer below a version that I wrote, in the hope some
> aspects of it may prove useful or at least inspire discussion.
> 
>    Be aware that my version differs in a couple fundamental ways that reflect
> my aversion to dataframes and factors.  So it returns a list of vectors which
> are all character, numeric, integer, or logical.  Also, I have no row.names
> column, and so no issues about what to put in that column's header.
> 
[snip]


-- 
-----------------------------------------------------------------
Pierre Kleiber             Email: pkleiber at honlab.nmfs.hawaii.edu
Fishery Biologist                     Tel: 808 983-5399/737-7544
NOAA FISHERIES - Honolulu Laboratory         Fax: 808 983-2902
2570 Dole St., Honolulu, HI 96822-2396 
-----------------------------------------------------------------
 "God could have told Moses about galaxies and mitochondria and
  all.  But behold... It was good enough for government work."
-----------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From schultz at fig.cox.miami.edu  Tue Sep 25 23:24:25 2001
From: schultz at fig.cox.miami.edu (Stewart Schultz)
Date: Tue, 25 Sep 2001 17:24:25 -0400
Subject: [R] error with surf.ls in spatial
Message-ID: <l0310280cb7d6a3ccb314@[129.171.42.223]>

Hello R users,

Can someone point me to a solution to the problem below?  The surf.ls()
call works fine in other contexts, e.g. the example in help(surf.ls).  I'm
using R 1.3.1, and get the same error regardless of the platform (debian
Linux, MS Windows 98).

Many thanks,
Stewart

> library(spatial)
> topo.kr <- surf.ls(2,midxy)

Error in surf.ls(2, midxy) : NA/NaN/Inf in foreign function call (arg 1)

> midxy
         V1       V2 X3
1  6.750591 2.280515 18
2  6.750329 2.284956 11
3  6.745228 2.317022 16
4  6.751195 2.266464 13
5  6.747244 2.318409 16
6  6.739429 2.399192 15
7  6.741451 2.362213 16
8  6.736954 2.408037 13
9  6.741585 2.431263 16
10 6.740649 2.376740 17
11 6.740518 2.454580 11
12 6.744032 2.448964 13
13 6.746881 2.445910 16
14 6.746243 2.302528 16
15 6.748407 2.284497 13
16 6.750472 2.282744 15
17 6.750196 2.266825 13
18 6.745316 2.315824 18
19 6.748146 2.326014 14
20 6.748526 2.326538 14
21 6.744256 2.380159 13
22 6.739437 2.400273 18
23 6.741691 2.363688 15
24 6.736916 2.408164 12
25 6.741756 2.429711 16
26 6.742869 2.447432 13
27 6.740748 2.372467 17
28 6.741235 2.377312 13
29 6.739363 2.450219 16
30 6.737913 2.458284 15
31 6.744049 2.449192 22
32 6.746550 2.441882 14
33 6.746107 2.302486 11
34 6.747754 2.282935 13
35 6.748923 2.287488 16
36 6.749357 2.269009 13


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gpetris at definetti.uark.edu  Tue Sep 25 23:27:37 2001
From: gpetris at definetti.uark.edu (Giovanni Petris)
Date: Tue, 25 Sep 2001 16:27:37 -0500 (CDT)
Subject: [R] paste
Message-ID: <200109252127.QAA00142@definetti.uark.edu>


Just a quick question:

I tried

> paste(sort(x),collapse="\; ")
[1] "1; 1; 3; 4; 4; 7; 12; 19; 23"
> paste(sort(x),collapse="\\; ")
[1] "1\\; 1\\; 3\\; 4\\; 4\\; 7\\; 12\\; 19\\; 23"

How can I get the following?

[1] "1\; 1\; 3\; 4\; 4\; 7\; 12\; 19\; 23"

Thank you,
Giovanni

-- 

 __________________________________________________
[                                                  ]
[ Giovanni Petris                 GPetris at uark.edu ]
[ Department of Mathematical Sciences              ]
[ University of Arkansas - Fayetteville, AR 72701  ]
[ Ph: (501) 575-6324, 575-8630 (fax)               ]
[ http://definetti.uark.edu/~gpetris/              ]
[__________________________________________________]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep 25 23:57:45 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Sep 2001 23:57:45 +0200
Subject: [R] paste
In-Reply-To: <200109252127.QAA00142@definetti.uark.edu>
References: <200109252127.QAA00142@definetti.uark.edu>
Message-ID: <x2lmj3ndba.fsf@blueberry.kubism.ku.dk>

Giovanni Petris <gpetris at definetti.uark.edu> writes:

> Just a quick question:
> 
> I tried
> 
> > paste(sort(x),collapse="\; ")
> [1] "1; 1; 3; 4; 4; 7; 12; 19; 23"
> > paste(sort(x),collapse="\\; ")
> [1] "1\\; 1\\; 3\\; 4\\; 4\\; 7\\; 12\\; 19\\; 23"
> 
> How can I get the following?
> 
> [1] "1\; 1\; 3\; 4\; 4\; 7\; 12\; 19\; 23"

You can't. Notice that

> "1\; 1\; 3\; 4\; 4\; 7\; 12\; 19\; 23"
[1] "1; 1; 3; 4; 4; 7; 12; 19; 23"

The thing that gets printed is a representation of the character
string not the string itself. To be syntactically valid, backslashes
must be doubled in the representation, and the only other way you get
them is as prefix to characters that has to be escaped.

Of course, you could do 

cat("[1] \"") ; cat(sort(x),sep="\\; ") ; cat("\"\n")
or 
cat("[1] \"", paste(sort(x), collapse="\\; "), "\"\n")

;-)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jason.Turner at chh.co.nz  Wed Sep 26 02:43:02 2001
From: Jason.Turner at chh.co.nz (Turner, Jason)
Date: Wed, 26 Sep 2001 12:43:02 +1200
Subject: [R] setting search position
Message-ID: <F1BAF57B245ED21198CD0008C71E47A602750041@MPNPKIN1>

I'm building a library of spectral analysis routines, and have a question.  
A few functions I've written work just like existing ts library routines,
with
added functionality.  I thought a handy way to set this up would be to set
my library ("spectral") before ts on the search path.  Is there an elegant
way to guarantee this?  e.g. if require(ts) is in .First.lib, and ts is not
currently
loaded, ts will be put before spectral on the search path.

Is this a good idea (deliberate masking), or is it too underhanded?

Regards

Jason

DISCLAIMER:  This electronic message together with any attachments is 
confidential.  If you are not the intended recipient, do not copy, disclose or 
use the contents in any way.  Please also advise us by return e-mail that you 
have received the message and then please destroy.  Carter Holt Harvey is not 
responsible for any changes made to this message and / or any attachments after 
sending by Carter Holt Harvey.  We use virus scanning software but exclude all 
liability for viruses or anything similar in this email or any attachment.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep 26 08:42:04 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 26 Sep 2001 07:42:04 +0100 (BST)
Subject: [R] error with surf.ls in spatial
In-Reply-To: <l0310280cb7d6a3ccb314@[129.171.42.223]>
Message-ID: <Pine.GSO.4.31.0109260737180.21714-100000@auk.stats>

On Tue, 25 Sep 2001, Stewart Schultz wrote:

> Hello R users,
>
> Can someone point me to a solution to the problem below?  The surf.ls()

Read the help page!  Surely if a function does not work the first thing to
do is to chexk that you are calling it correctly.

Arguments:

      np: degree of polynomial surface

       x: x coordinates or a data frame with columns `x', `y', `z'

Your object midxy (presumably a data frame) is not of the specified form.
However,

surf.ls(2, midxy$V1, midxy$V2, midxy$X3)

works.  Calling it topo.kr (not on dataset topo) is bound to lead to
confusion.

> call works fine in other contexts, e.g. the example in help(surf.ls).  I'm
> using R 1.3.1, and get the same error regardless of the platform (debian
> Linux, MS Windows 98).

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From juli at ceam.es  Wed Sep 26 09:08:00 2001
From: juli at ceam.es (juli g. pausas)
Date: Wed, 26 Sep 2001 09:08:00 +0200
Subject: [R] glm.nb, anova.negbin
References: <Pine.GSO.4.31.0109251808550.19805-100000@auk.stats>
Message-ID: <3BB17ECE.CF102EFE@ceam.es>

> >
> > Any suggestion of why I'm getting this error?
>
> Because there is a copying error in lines
>
>     cat("\n              Theta: ", format(round(x$theta, dp, nsmall=dp)),
>         "\n          Std. Err.: ", format(round(x$SE.theta, dp,
> nsmall=dp)),
>         "\n")
>     if(!is.null(x$th.warn))
>         cat("Warning while fitting theta:", x$th.warn,"\n")
>     cat("\n 2 x log-likelihood: ", format(round(x$twologlik, 3,
> nsmall=dp)), "\n
>
> Move the second ) before the nsmall.
>
> Or just use the debugging tools to find it ....
>

Thank you very much.
Also, it seems to me that anova.negbin is not working properly  when testing a
single model (although the help suggest that it can be used for a single model
too). I have no problem when comparing different fitted models.

> t <- glm.nb(tax ~ areal)
> t2 <- update(t, .~. + tanual)
> anova(t, t2)  # OK
[...]
> anova(t2)
Error in get(x, envir, mode, inherits) : invalid first argument
In addition: Warning message:
tests made without re-estimating theta in: anova.negbin(t2)

Any other suggestion? Many thanks

Juli


> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
Juli G. Pausas   (Mr)
Centro de Estudios Ambientales del Mediterraneo (CEAM)
C/ C.R. Darwin 14, Parc Tecnologic,
46980 Paterna, Valencia, SPAIN
Tel: (+ 34) 96 131 8227; Fax: (+ 34) 96 131 8190
mailto:juli at ceam.es
http://www.gva.es/ceam

GCTE Fire Network - http://www.gva.es/ceam/FireNetwork


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Wed Sep 26 11:04:39 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Wed, 26 Sep 2001 10:04:39 +0100 (BST)
Subject: [R] vectorization help please
Message-ID: <Pine.LNX.4.10.10109261003360.2521-100000@localhost.localdomain>

What is a smarter way of doing:

for(i in 1:xn)
for(j in 1:yn)
{
im2[i,j]<- im[i,j]* (-1)^(i+j)
}

Thanks!

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Sep 26 11:20:48 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 26 Sep 2001 11:20:48 +0200
Subject: [R] vectorization help please
References: <Pine.LNX.4.10.10109261003360.2521-100000@localhost.localdomain>
Message-ID: <3BB19DF0.CD6328A0@statistik.uni-dortmund.de>



Bill Simpson wrote:
> 
> What is a smarter way of doing:
> 
> for(i in 1:xn)
> for(j in 1:yn)
> {
> im2[i,j]<- im[i,j]* (-1)^(i+j)
> }


 im * (-1)^(row(im) + col(im))

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Wed Sep 26 11:22:54 2001
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Wed, 26 Sep 2001 11:22:54 +0200
Subject: [R] vectorization help please
References: <Pine.LNX.4.10.10109261003360.2521-100000@localhost.localdomain>
Message-ID: <3BB19E6E.7F38CDF@ci.tuwien.ac.at>

Bill Simpson wrote:
> 
> What is a smarter way of doing:
> 
> for(i in 1:xn)
> for(j in 1:yn)
> {
> im2[i,j]<- im[i,j]* (-1)^(i+j)
> }

Maybe something like

im * (-1)^(row(im)+col(im))

Hope that helps
Z


 
> Thanks!
> 
> Bill
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From anielsen at math.ku.dk  Wed Sep 26 11:29:37 2001
From: anielsen at math.ku.dk (Anders Nielsen)
Date: Wed, 26 Sep 2001 11:29:37 +0200 (MET DST)
Subject: [R] vectorization help please
In-Reply-To: <Pine.LNX.4.10.10109261003360.2521-100000@localhost.localdomain>
Message-ID: <Pine.OSF.4.21.0109261128360.23270-100000@gram.math.ku.dk>

How about? 

 im2<-im*(2*(1:length(im)%%2)-1)

Anders 


On Wed, 26 Sep 2001, Bill Simpson wrote:

> What is a smarter way of doing:
> 
> for(i in 1:xn)
> for(j in 1:yn)
> {
> im2[i,j]<- im[i,j]* (-1)^(i+j)
> }
> 
> Thanks!
> 
> Bill
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Wed Sep 26 11:32:11 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Wed, 26 Sep 2001 10:32:11 +0100 (BST)
Subject: [R] vectorization help please
In-Reply-To: <3BB19DF0.CD6328A0@statistik.uni-dortmund.de>
Message-ID: <Pine.LNX.4.10.10109261031250.2586-100000@localhost.localdomain>

> > What is a smarter way of doing:
> > 
> > for(i in 1:xn)
> > for(j in 1:yn)
> > {
> > im2[i,j]<- im[i,j]* (-1)^(i+j)
> > }
> 
> 
>  im * (-1)^(row(im) + col(im))
> 
> Uwe
> 
Thanks very much Uwe.

Bill 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jniesch at gwdg.de  Wed Sep 26 11:45:18 2001
From: jniesch at gwdg.de (Jens Nieschulze)
Date: Wed, 26 Sep 2001 11:45:18 +0200 (MET DST)
Subject: [R] installing RMySQL
Message-ID: <Pine.SO4.4.10.10109261132320.19048-100000@ufobi7.uni-forst.gwdg.de>

Hi, I have struggled to re-implement the RMySQL package after upgrading
from SuSe 6.3 to 7.2 and from R 1.2.1 to R 1.3.1,
to no avail
It compiles happily but when loading the package I get the following 
error

> library(RMySQL)
Error in dyn.load(x, as.logical(local), as.logical(now)) : 
        unable to load shared library
"/home/jniesch/R_HOME/lib/R/library/RMySQL/libs/RMySQL.so":
  libmysqlclient.so.10: cannot load shared object file: No such file or
directory
Error in library(RMySQL) : .First.lib failed

//////////////////////////////////////////////////////////
I don't understand why, the shared library hasn't moved
and the path has been added to /etc/ld.so.conf
it even seems to me that the library is found  during
the installation procedure

I have tried for two days now and would be very delighted
if somebody could give me a hint.

thanks in advance
		Jens
//////////////////////////////////////////////////////////
root at ufobig:/home/downloads > find / -name *mysqlclient.so*
/usr/local/lib/mysql/libmysqlclient.so.10.0.0
/usr/local/lib/mysql/libmysqlclient.so.10
/usr/local/lib/mysql/libmysqlclient.so
/usr/local/MySQL/libmysql/.libs/libmysqlclient.so.10.0.0
/usr/local/MySQL/libmysql/.libs/libmysqlclient.so.10
/usr/local/MySQL/libmysql/.libs/libmysqlclient.so
/home/libmysqlclient.so
/home/libmysqlclient.so.10
/home/libmysqlclient.so.3.21.33b
/home/libmysqlclient.so.4


/////////////////////////////////////////////////////////////
jniesch at ufobig:~/R_HOME > R CMD INSTALL
/home/downloads/RMySQL_0.4-2.tar.gz 
Installing source package `RMySQL' ...
creating cache ./config.cache
checking how to run the C preprocessor... cc -E
checking for mysql_init in -lmysqlclient... no
checking for mysql_init in -lmysqlclient... yes
checking for /usr/include/mysql.h... no
checking for /usr/include/mysql/mysql.h... no
checking for /usr/local/include/mysql.h... no
checking for /usr/local/include/mysql/mysql.h... yes
updating cache ./config.cache
creating ./config.status
creating src/Makevars
 libs
gcc -I/home/jniesch/R_HOME/lib/R/include -I/usr/local/include/mysql
-I/usr/local/include -mieee-fp -D__NO_MATH_INLINES  -fPIC  -g -O2 -c
RS-DBI.c -o RS-DBI.o
gcc -I/home/jniesch/R_HOME/lib/R/include -I/usr/local/include/mysql
-I/usr/local/include -mieee-fp -D__NO_MATH_INLINES  -fPIC  -g -O2 -c
RS-MySQL.c -o RS-MySQL.o
gcc -shared  -o RMySQL.so RS-DBI.o RS-MySQL.o -L/usr/local/lib/mysql
-lmysqlclient -lz -L/usr/local/lib  
 R
 inst
 help
 >>> Building/Updating help pages for package `RMySQL'
     Formats: text html latex example 
  MySQL                             text    html    latex   example
[snip]
 DONE (RMySQL)

DONE (INSTALL)
/////////////////////////////////////////////////////////////
> version 
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    3.1              
year     2001             
month    08               
day      31               
language R                


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Wed Sep 26 11:48:18 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Wed, 26 Sep 2001 10:48:18 +0100 (BST)
Subject: [R] 2D fft DC shift
In-Reply-To: <Pine.LNX.4.10.10109251018020.1174-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.10.10109261045050.2608-100000@localhost.localdomain>

Here is an example that
--creates an image of a bright square on a dark background
--centres the spectrum using Gonzalez and Wintz method
--creates image plots of uncentred and centred amplitude spectra

#example of 2D amplitude spectrum

# sample image:
w<-5  #width of central square
xn<- 128;  yn<- 128
im<- matrix(0,nrow=yn,ncol=xn)  
xc<-floor(xn/2)+1;  yc<- floor(yn/2)+1  # centers of the image
im[(-m:m)+xc,(-m:m)+yc]<- 1
fftim<-fft(im)

im2<- matrix(0,nrow=yn,ncol=xn) 
#centres spectrum: Gonzalez & Wintz (1977) Digital Image Processing p.53
im2<-im * (-1)^(row(im) + col(im))
fftim2<-fft(im2)


par(mfrow=c(2,2),pty='s')
image(im); title('im=Original image')
image(Mod(fftim)); title('Mod(fft(im))')
image(Mod(fftim2)) ; title('Centred Mod(fft(im))')


Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Wed Sep 26 12:28:07 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 26 Sep 2001 12:28:07 +0200 (MET DST)
Subject: [R] save(a,b,c,d,file="x"): listing the contents of x?
Message-ID: <Pine.OSF.3.96.1010926121942.30622A-100000@ija.csic.es>

Hello,

Is there any way of listing the contents of an R binary
file created with save() ? i.e.:

assuming a,b,c,d are large objects, I save them to "x":

save(a,b,c,d,file="x")
rm(a,b,c,d)

Is there any way of listing the objects within x
(without actually attach("x") or load("x")) ?

Also, assuming we can either list x or remember
its contents, can we load or attach selected
objects, like autoload() can do with packages?
i.e.: in the example above, load or attach
only object b.

Thanks

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From juli at ceam.es  Wed Sep 26 12:15:09 2001
From: juli at ceam.es (juli g. pausas)
Date: Wed, 26 Sep 2001 12:15:09 +0200
Subject: [R] glm.nb, anova.negbin
References: <Pine.LNX.4.31.0109260903540.8726-100000@gannet.stats>
Message-ID: <3BB1AAAD.4B08F002@ceam.es>

Prof Brian Ripley escribi?:

> On Wed, 26 Sep 2001, juli g. pausas wrote:
>
> > > >
> > > > Any suggestion of why I'm getting this error?
> > >
> > > Because there is a copying error in lines
> > >
> > >     cat("\n              Theta: ", format(round(x$theta, dp, nsmall=dp)),
> > >         "\n          Std. Err.: ", format(round(x$SE.theta, dp,
> > > nsmall=dp)),
> > >         "\n")
> > >     if(!is.null(x$th.warn))
> > >         cat("Warning while fitting theta:", x$th.warn,"\n")
> > >     cat("\n 2 x log-likelihood: ", format(round(x$twologlik, 3,
> > > nsmall=dp)), "\n
> > >
> > > Move the second ) before the nsmall.
> > >
> > > Or just use the debugging tools to find it ....
> > >
> >
> > Thank you very much.
> > Also, it seems to me that anova.negbin is not working properly  when testing a
> > single model (although the help suggest that it can be used for a single model
> > too). I have no problem when comparing different fitted models.
> >
> > > t <- glm.nb(tax ~ areal)
> > > t2 <- update(t, .~. + tanual)
> > > anova(t, t2)  # OK
> > [...]
> > > anova(t2)
> > Error in get(x, envir, mode, inherits) : invalid first argument
> > In addition: Warning message:
> > tests made without re-estimating theta in: anova.negbin(t2)
> >
> > Any other suggestion? Many thanks
>
> Let me repeat:
>
>    Or just use the debugging tools to find it ....
>
> and then report the patch to me.  I can't debug your examples, nor is
> it reasonable to expect me to.
>

OK, sorry for asking too much. I just thought maybe I was also helping the developers
in locating a bug.

I'm a basic user of R, and I don't really know what's a patch and how to generate a
patch. So please apologise if I don't report  the patch to you.
I've been able to skip the first bug by masking the function "print.summary.negbin" of
MASS with the same fuction (and the same name) but with the modifications you suggested
me (moving brakets). Sure it's not the best way but it works. Don't know yet how to
solve the second one.
Thanks

juli



> The other bug has been there for at least 6 months, so it looks as if
> noone else is using this.
>
> >
> > Juli
> >
> >
> > > --
> > > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > > University of Oxford,             Tel:  +44 1865 272861 (self)
> > > 1 South Parks Road,                     +44 1865 272860 (secr)
> > > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> > >
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> > --
> > Juli G. Pausas   (Mr)
> > Centro de Estudios Ambientales del Mediterraneo (CEAM)
> > C/ C.R. Darwin 14, Parc Tecnologic,
> > 46980 Paterna, Valencia, SPAIN
> > Tel: (+ 34) 96 131 8227; Fax: (+ 34) 96 131 8190
> > mailto:juli at ceam.es
> > http://www.gva.es/ceam
> >
> > GCTE Fire Network - http://www.gva.es/ceam/FireNetwork
> >
> >
> >
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

--
Juli G. Pausas   (Mr)
Centro de Estudios Ambientales del Mediterraneo (CEAM)
C/ C.R. Darwin 14, Parc Tecnologic,
46980 Paterna, Valencia, SPAIN
Tel: (+ 34) 96 131 8227; Fax: (+ 34) 96 131 8190
mailto:juli at ceam.es
http://www.gva.es/ceam

GCTE Fire Network - http://www.gva.es/ceam/FireNetwork


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep 26 12:22:24 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 26 Sep 2001 11:22:24 +0100 (BST)
Subject: [R] installing RMySQL
In-Reply-To: <Pine.SO4.4.10.10109261132320.19048-100000@ufobi7.uni-forst.gwdg.de>
Message-ID: <Pine.LNX.4.31.0109261119390.8901-100000@gannet.stats>

On Wed, 26 Sep 2001, Jens Nieschulze wrote:

> Hi, I have struggled to re-implement the RMySQL package after upgrading
> from SuSe 6.3 to 7.2 and from R 1.2.1 to R 1.3.1,
> to no avail
> It compiles happily but when loading the package I get the following
> error
>
> > library(RMySQL)
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>         unable to load shared library
> "/home/jniesch/R_HOME/lib/R/library/RMySQL/libs/RMySQL.so":
>   libmysqlclient.so.10: cannot load shared object file: No such file or
> directory
> Error in library(RMySQL) : .First.lib failed
>
> //////////////////////////////////////////////////////////
> I don't understand why, the shared library hasn't moved
> and the path has been added to /etc/ld.so.conf
> it even seems to me that the library is found  during
> the installation procedure

Yes, but is it available to dlopen?  That does not use ld.so.conf
AFAIK.  Have you tried putting the location of libmysqlclient.so
in LD_LIBRARY_PATH at R start time?   I need to (but then I did with
1.2.1).

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Wed Sep 26 12:48:43 2001
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Wed, 26 Sep 2001 12:48:43 +0200 (MEST)
Subject: [R] installing RMySQL
In-Reply-To: <Pine.SO4.4.10.10109261132320.19048-100000@ufobi7.uni-forst.gwdg.de>
Message-ID: <Pine.LNX.4.21.0109261247340.21262-100000@artemis.imbe.med.uni-erlangen.de>


> Hi, I have struggled to re-implement the RMySQL package after upgrading
> from SuSe 6.3 to 7.2 and from R 1.2.1 to R 1.3.1,
> to no avail
> It compiles happily but when loading the package I get the following 
> error
> 
> > library(RMySQL)
> Error in dyn.load(x, as.logical(local), as.logical(now)) : 
>         unable to load shared library
> "/home/jniesch/R_HOME/lib/R/library/RMySQL/libs/RMySQL.so":
>   libmysqlclient.so.10: cannot load shared object file: No such file or
> directory
> Error in library(RMySQL) : .First.lib failed

configure seems to find it in the correct place and the linker does as
well. Try

ldconfig -v | grep mysql

maybe this helps,

Torsten

> 
> //////////////////////////////////////////////////////////
> I don't understand why, the shared library hasn't moved
> and the path has been added to /etc/ld.so.conf
> it even seems to me that the library is found  during
> the installation procedure
> 
> I have tried for two days now and would be very delighted
> if somebody could give me a hint.
> 
> thanks in advance
> 		Jens
> //////////////////////////////////////////////////////////
> root at ufobig:/home/downloads > find / -name *mysqlclient.so*
> /usr/local/lib/mysql/libmysqlclient.so.10.0.0
> /usr/local/lib/mysql/libmysqlclient.so.10
> /usr/local/lib/mysql/libmysqlclient.so
> /usr/local/MySQL/libmysql/.libs/libmysqlclient.so.10.0.0
> /usr/local/MySQL/libmysql/.libs/libmysqlclient.so.10
> /usr/local/MySQL/libmysql/.libs/libmysqlclient.so
> /home/libmysqlclient.so
> /home/libmysqlclient.so.10
> /home/libmysqlclient.so.3.21.33b
> /home/libmysqlclient.so.4
> 
> 
> /////////////////////////////////////////////////////////////
> jniesch at ufobig:~/R_HOME > R CMD INSTALL
> /home/downloads/RMySQL_0.4-2.tar.gz 
> Installing source package `RMySQL' ...
> creating cache ./config.cache
> checking how to run the C preprocessor... cc -E
> checking for mysql_init in -lmysqlclient... no
> checking for mysql_init in -lmysqlclient... yes
> checking for /usr/include/mysql.h... no
> checking for /usr/include/mysql/mysql.h... no
> checking for /usr/local/include/mysql.h... no
> checking for /usr/local/include/mysql/mysql.h... yes
> updating cache ./config.cache
> creating ./config.status
> creating src/Makevars
>  libs
> gcc -I/home/jniesch/R_HOME/lib/R/include -I/usr/local/include/mysql
> -I/usr/local/include -mieee-fp -D__NO_MATH_INLINES  -fPIC  -g -O2 -c
> RS-DBI.c -o RS-DBI.o
> gcc -I/home/jniesch/R_HOME/lib/R/include -I/usr/local/include/mysql
> -I/usr/local/include -mieee-fp -D__NO_MATH_INLINES  -fPIC  -g -O2 -c
> RS-MySQL.c -o RS-MySQL.o
> gcc -shared  -o RMySQL.so RS-DBI.o RS-MySQL.o -L/usr/local/lib/mysql
> -lmysqlclient -lz -L/usr/local/lib  
>  R
>  inst
>  help
>  >>> Building/Updating help pages for package `RMySQL'
>      Formats: text html latex example 
>   MySQL                             text    html    latex   example
> [snip]
>  DONE (RMySQL)
> 
> DONE (INSTALL)
> /////////////////////////////////////////////////////////////
> > version 
>          _                
> platform i686-pc-linux-gnu
> arch     i686             
> os       linux-gnu        
> system   i686, linux-gnu  
> status                    
> major    1                
> minor    3.1              
> year     2001             
> month    08               
> day      31               
> language R                
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amurta at ipimar.pt  Wed Sep 26 12:58:02 2001
From: amurta at ipimar.pt (Alberto Murta)
Date: Wed, 26 Sep 2001 10:58:02 +0000
Subject: [R] vectorization help please
References: <Pine.LNX.4.10.10109261003360.2521-100000@localhost.localdomain>
Message-ID: <3BB1B4BA.80244ADD@ipimar.pt>

im2[i,j] <- im[i,j] * (-1)^(row(im)+col(im))


Bill Simpson wrote:
> 
> What is a smarter way of doing:
> 
> for(i in 1:xn)
> for(j in 1:yn)
> {
> im2[i,j]<- im[i,j]* (-1)^(i+j)
> }
> 
> Thanks!
> 
> Bill
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
                       Alberto G. Murta                      
       IPIMAR - Institute of Fisheries and Sea Research
        Avenida de Brasilia, 1449-006 Lisboa, Portugal       
Tel: +351 213027062; Fax: +351 213015849; http://www.ipimar.pt
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a296180 at mica.fmr.com  Wed Sep 26 14:10:32 2001
From: a296180 at mica.fmr.com (David Kane  <David Kane)
Date: Wed, 26 Sep 2001 08:10:32 -0400
Subject: [R] Characters vectors, NA's and "" in merges
Message-ID: <15281.50616.797526.719890@gargle.gargle.HOWL>

I often use merge with dataframes that contain character vectors which have
elements that are sometimes "NA" (meaning the string NA, not the same thing,
obviously, as NA in a numeric or factor vector). For example, the stock ticker
for Nabisco was "NA". Unfortunately (for me), it seems like merge insists on
inserting "NA" for missing values. My question: Is there some way around this?
Here is a simple example:

> version
         _                   
platform sparc-sun-solaris2.6
arch     sparc               
os       solaris2.6          
system   sparc, solaris2.6   
status                       
major    1                   
minor    3.0                 
year     2001                
month    06                  
day      22                  
language R                   

> a <- data.frame(x = 1:4)
> b <- data.frame(x = 1:3, y = c("NA", "a", "b"))
> merge(a, b, all.x = TRUE)
  x  y
1 1 NA
2 2  a
3 3  b
4 4 NA

Rows 1:3 are what I expect them to be. Row 4 is "wrong" in the sense that
dataframe b did not contain a row for x = 4. Of course, there is a sense that
*any* value, including "", that is placed in row 4 is potentially
misleading. Perhaps I am misunderstanding the meaning of "NA" in a character
vector (i.e., I am not allowed to have "real" values that are that string). 

If there were some way (an "nomatch" argument?) that the user could specify
what missing values are used for character strings, then I would be
fine. Again, I suspect that my real problem is not understanding how to specify
"NA" -- meaning Nabisco's ticker symbol -- in a character vector.

Any suggestions would be much appreciated.

Dave Kane
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jniesch at gwdg.de  Wed Sep 26 14:35:32 2001
From: jniesch at gwdg.de (Jens Nieschulze)
Date: Wed, 26 Sep 2001 14:35:32 +0200 (MET DST)
Subject: [R] installing RMySQL:summary
In-Reply-To: <20010926080446.D26352@jimmy.harvard.edu>
Message-ID: <Pine.SO4.4.10.10109261423050.21886-100000@ufobi7.uni-forst.gwdg.de>

On Wed, 26 Sep 2001, Robert Gentleman wrote:

A big THANK YOU to Prof Gentleman, Prof Ripley and T. Hothorn.
I can't imagine a better "software support" then the one I experienced
with R.

Setting LD_LIBRARY_PATH did the magic. It would have never occurred to me
since this wasn't necessary for the 1.2.1 version.


>  go to this directory and type:
>   ldd RMySQL.so
>  probably it won't be able to resolve libmysqlclient.so.10,

to my understanding it did :

root at ufobig:/home/jniesch/R_HOME/lib/R/library/RMySQL/libs > ldd RMySQL.so 
        libmysqlclient.so.10 => /usr/local/lib/mysql/libmysqlclient.so.10
(0x40018000)
        libz.so.1 => /lib/libz.so.1 (0x40035000)

...whatever, I set LD_LIBRARY_PATH in my .profile and everything works
out. 
Thanks again, 

	Jens Nieschulze

>  that means it ain't in your LD_LIBRARY_PATH so it won't get found
>  at load time.
>  You need to find it, and then change your LD_LIBRARY_PATH to include
>   the directory it was put in.
> 
>   There are, of course, many other solutions


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep 26 14:41:11 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 26 Sep 2001 13:41:11 +0100 (BST)
Subject: [R] Characters vectors, NA's and "" in merges
In-Reply-To: <15281.50616.797526.719890@gargle.gargle.HOWL>
Message-ID: <Pine.LNX.4.31.0109261324220.16080-100000@gannet.stats>

On Wed, 26 Sep 2001, David Kane  <David Kane wrote:

> I often use merge with dataframes that contain character vectors which have
> elements that are sometimes "NA" (meaning the string NA, not the same thing,
> obviously, as NA in a numeric or factor vector). For example, the stock ticker
> for Nabisco was "NA". Unfortunately (for me), it seems like merge insists on
> inserting "NA" for missing values. My question: Is there some way around this?

> Here is a simple example:
>
> > version
>          _
> platform sparc-sun-solaris2.6
> arch     sparc
> os       solaris2.6
> system   sparc, solaris2.6
> status
> major    1
> minor    3.0
> year     2001
> month    06
> day      22
> language R
>
> > a <- data.frame(x = 1:4)
> > b <- data.frame(x = 1:3, y = c("NA", "a", "b"))

Take a look.  b$y is a factor with levels "a" and "b", and a missing first
value.

> > merge(a, b, all.x = TRUE)
>   x  y
> 1 1 NA
> 2 2  a
> 3 3  b
> 4 4 NA
>
> Rows 1:3 are what I expect them to be. Row 4 is "wrong" in the sense that
> dataframe b did not contain a row for x = 4. Of course, there is a sense that
> *any* value, including "", that is placed in row 4 is potentially
> misleading. Perhaps I am misunderstanding the meaning of "NA" in a character
> vector (i.e., I am not allowed to have "real" values that are that string).

That is the correct answer. Because you asked for all.x=TRUE, you
got a missing value there in row 4 col 2.

> If there were some way (an "nomatch" argument?) that the user could specify
> what missing values are used for character strings, then I would be
> fine. Again, I suspect that my real problem is not understanding how to specify
> "NA" -- meaning Nabisco's ticker symbol -- in a character vector.

You cannot avoid it being taken as the missing value, AFAIK.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jarioksa at cc.oulu.fi  Wed Sep 26 15:14:26 2001
From: jarioksa at cc.oulu.fi (Jari Oksanen)
Date: Wed, 26 Sep 2001 16:14:26 +0300
Subject: [R] glm.nb, anova.negbin 
In-Reply-To: Message from "juli g. pausas" <juli@ceam.es> 
   of "Wed, 26 Sep 2001 12:15:09 +0200." <3BB1AAAD.4B08F002@ceam.es> 
Message-ID: <200109261314.f8QDETk19443@pc112145.oulu.fi>


juli at ceam.es said:
> > Error in get(x, envir, mode, inherits) : invalid first argument
> > In addition: Warning message:
> > tests made without re-estimating theta in: anova.negbin(t2) >

I looked quickly, and it seems that this error comes actually from 
`anova.glm'  and from the following `get':

        if (!is.function(method))
            method <- get(method, mode = "function")

`anova.negbin' sends the  `negbin' `object' to `anova.glm', but the 
negbin object does not have a method (`glm' objects have method 
"glm.fit"). There seem to be some other differences in `negbin' and 
`glm' objects, so that `anova.glm' can't handle them (e.g., glm.control 
object is missing in `negbin' object).

I would like to help, but I don't have time now (got to mark exams).

cheers, jari oksanen
-- 
Jari Oksanen -- Dept Biology, Univ Oulu, 90014 Oulu, Finland
Ph. +358 8 5531526, cell +358 40 5136529, fax +358 8 5531061
email jari.oksanen at oulu.fi, homepage http://cc.oulu.fi/~jarioksa/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep 26 15:30:51 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 26 Sep 2001 14:30:51 +0100 (BST)
Subject: [R] glm.nb, anova.negbin 
In-Reply-To: <200109261314.f8QDETk19443@pc112145.oulu.fi>
Message-ID: <Pine.LNX.4.31.0109261427110.16823-100000@gannet.stats>

On Wed, 26 Sep 2001, Jari Oksanen wrote:

>
> juli at ceam.es said:
> > > Error in get(x, envir, mode, inherits) : invalid first argument
> > > In addition: Warning message:
> > > tests made without re-estimating theta in: anova.negbin(t2) >
>
> I looked quickly, and it seems that this error comes actually from
> `anova.glm'  and from the following `get':
>
>         if (!is.function(method))
>             method <- get(method, mode = "function")
>
> `anova.negbin' sends the  `negbin' `object' to `anova.glm', but the
> negbin object does not have a method (`glm' objects have method
> "glm.fit"). There seem to be some other differences in `negbin' and
> `glm' objects, so that `anova.glm' can't handle them (e.g., glm.control
> object is missing in `negbin' object).
>
> I would like to help, but I don't have time now (got to mark exams).

Yes, that's it: R is incompatible with S.  Although the information
is in the saved call, R uses a duplicate copy.  In glm.nb() adding
    fit$method <- method
    fit$control <- control
at the end seems to fix it, but without an example I can reproduce,
I cannot of course be sure.

And that was my main point: if reporting problems *please* report the
results of traceback(), and if possible a small reproducible example.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kari.ruohonen at saunalahti.fi  Wed Sep 26 15:37:06 2001
From: kari.ruohonen at saunalahti.fi (Kari Ruohonen)
Date: Wed, 26 Sep 2001 16:37:06 +0300 (EEST)
Subject: [R] Seeking optimal mixture
Message-ID: <Pine.LNX.4.33.0109261631120.1156-100000@www.trane.oma>

This is maybe not directly an R problem but I have used R to try to solve
it so I think somebody may be able to help.

I have a mixture model with three components and a quadratic Scheffe
polynomial p1x1+p2x2+p3x3+p12x1x2+p13x1x3+p23x2x3 fitted to the response.
Now I'd like to compute the mixture corresponding the maximum response.
Model for Y1 has the parameters

p1=124.02
p2=60.973
p3=41.479
p12=106.824
p13=140.422
p23=81.012

Solving a system of linear equations (solve(A,b)) of the partial derivates
and putting a constraint of x1+x2+x3=1 with Lagrange's multiplier finds
the mixture

x1=0.760208
x2=0.08256986
x3=0.15722207

that produces the maximum response 130.378 within the experimental region.

Now, my model for another response Y2 has the parameters

p1=35.8147
p2=42.1012
p3=51.7479
p12=19.9611
p13=0.2531
p23=-6.6498

Solving as above with the partial derivatives gives

x1=0.3150576
x2=0.60094504
x3=0.08399731

that produces Y2(max)=44.381. But this is not the maximum since e.g.

x1=0
x2=0.25
x3=0.75

produces 48.089 (but is not necessarily the maximum response).

I have looked at optim() and wondered if I could use it somehow to solve
my problem. However, I have not found a way to tell optim() about my sum
constraint x1+x2+x3=1. All help is appreciated.

Regards,

Kari Ruohonen


----------------------------------------------
Kari Ruohonen
Finnish Game and Fisheries Research Institute
Socioeconomic and Aquaculture Research

Turku Game and Fisheries Research
It?inen Pitk?katu 3, 20520 Turku, Finland
tel. +358-20-5751681, +358-40-5238321 (mobile)
fax  +358-20-5751689

http://www.rktl.fi

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Sep 26 15:42:30 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Wed, 26 Sep 2001 09:42:30 -0400 (EDT)
Subject: [R] glm.nb, anova.negbin
In-Reply-To: <3BB1AAAD.4B08F002@ceam.es>
Message-ID: <Pine.LNX.4.30.0109260925080.19910-100000@bolker.zoo.ufl.edu>

On Wed, 26 Sep 2001, juli g. pausas wrote:

> OK, sorry for asking too much. I just thought maybe I was also helping the developers
> in locating a bug.
>
> I'm a basic user of R, and I don't really know what's a patch and how to generate a
> patch. So please apologise if I don't report  the patch to you.
> I've been able to skip the first bug by masking the function "print.summary.negbin" of
> MASS with the same fuction (and the same name) but with the modifications you suggested
> me (moving brakets). Sure it's not the best way but it works. Don't know yet how to
> solve the second one.
> Thanks
>
> juli
>

  A "patch" would be a change in the underlying R code that fixed the
problem.
  The best thing for helping to solve the second problem (if you're not up
to digging in and debugging it yourself) would be to provide a simple
example that replicates the bug, that people can run themselves.  This can
be hard if the error only occurs with particular (large) datasets, or in
the middle of a complicated analysis, but in this case I think it's not
too bad:

library(MASS)
tax <- rnbinom(10,mu=1,size=1)
areal <- runif(10)
tanual <- runif(10)
t <- glm.nb(tax ~ areal)  ## ignore warning messages about convergence
t2 <- update(t, .~ .+tanual) ## ditto
anova(t,t2)  ## OK
anova(t)  ## OK
anova(t2)

This replicates the error on my system (1.3.1, i686-pc-linux-gnu).

After getting the error, run

traceback()

to see where the error is coming from -- then

debug(anova.glm)

to step through the code one line at a time

The procedure crashes because method is NULL and nvars==1 when we hit the
following code in anova.glm():

    if (nvars > 1) {
       method <- object$method
       if (!is.function(method))
           method <- get(method, mode = "function")
   ...

 I don't have time to trace the problem further right now -- I don't blame
you for not being able to debug this, though, it does get into the middle
of some pretty hairy R code ...

  Ben Bolker





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Sep 26 15:45:53 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Wed, 26 Sep 2001 09:45:53 -0400 (EDT)
Subject: [R] glm.nb, anova.negbin 
In-Reply-To: <Pine.LNX.4.31.0109261427110.16823-100000@gannet.stats>
Message-ID: <Pine.LNX.4.30.0109260945070.19961-100000@bolker.zoo.ufl.edu>


  Yes, that appears to fix the problem, at least in the snippet of code I
sent.  Thanks Brian ...

  Ben Bolker

On Wed, 26 Sep 2001, Prof Brian Ripley wrote:

> On Wed, 26 Sep 2001, Jari Oksanen wrote:
>
> >
> > juli at ceam.es said:
> > > > Error in get(x, envir, mode, inherits) : invalid first argument
> > > > In addition: Warning message:
> > > > tests made without re-estimating theta in: anova.negbin(t2) >
> >
> > I looked quickly, and it seems that this error comes actually from
> > `anova.glm'  and from the following `get':
> >
> >         if (!is.function(method))
> >             method <- get(method, mode = "function")
> >
> > `anova.negbin' sends the  `negbin' `object' to `anova.glm', but the
> > negbin object does not have a method (`glm' objects have method
> > "glm.fit"). There seem to be some other differences in `negbin' and
> > `glm' objects, so that `anova.glm' can't handle them (e.g., glm.control
> > object is missing in `negbin' object).
> >
> > I would like to help, but I don't have time now (got to mark exams).
>
> Yes, that's it: R is incompatible with S.  Although the information
> is in the saved call, R uses a duplicate copy.  In glm.nb() adding
>     fit$method <- method
>     fit$control <- control
> at the end seems to fix it, but without an example I can reproduce,
> I cannot of course be sure.
>
> And that was my main point: if reporting problems *please* report the
> results of traceback(), and if possible a small reproducible example.
>
>
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep 26 15:46:05 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 26 Sep 2001 14:46:05 +0100 (BST)
Subject: [R] Seeking optimal mixture
In-Reply-To: <Pine.LNX.4.33.0109261631120.1156-100000@www.trane.oma>
Message-ID: <Pine.LNX.4.31.0109261441470.16823-100000@gannet.stats>

On Wed, 26 Sep 2001, Kari Ruohonen wrote:

> This is maybe not directly an R problem but I have used R to try to solve
> it so I think somebody may be able to help.
>
> I have a mixture model with three components and a quadratic Scheffe
> polynomial p1x1+p2x2+p3x3+p12x1x2+p13x1x3+p23x2x3 fitted to the response.
> Now I'd like to compute the mixture corresponding the maximum response.
> Model for Y1 has the parameters
>
> p1=124.02
> p2=60.973
> p3=41.479
> p12=106.824
> p13=140.422
> p23=81.012
>
> Solving a system of linear equations (solve(A,b)) of the partial derivates
> and putting a constraint of x1+x2+x3=1 with Lagrange's multiplier finds
> the mixture
>
> x1=0.760208
> x2=0.08256986
> x3=0.15722207
>
> that produces the maximum response 130.378 within the experimental region.
>
> Now, my model for another response Y2 has the parameters
>
> p1=35.8147
> p2=42.1012
> p3=51.7479
> p12=19.9611
> p13=0.2531
> p23=-6.6498
>
> Solving as above with the partial derivatives gives
>
> x1=0.3150576
> x2=0.60094504
> x3=0.08399731
>
> that produces Y2(max)=44.381. But this is not the maximum since e.g.
>
> x1=0
> x2=0.25
> x3=0.75
>
> produces 48.089 (but is not necessarily the maximum response).
>
> I have looked at optim() and wondered if I could use it somehow to solve
> my problem. However, I have not found a way to tell optim() about my sum
> constraint x1+x2+x3=1. All help is appreciated.

You can't.  Optimizing over a simplex is a harder problem.  *However* if I
understand you aright your objective is a quadratic function and so you
can use package quadprog on CRAN, which does handle general enough
regions.

BTW to Peter Dalgaard: it really is harder to handle general linear
inequality constraints than box constraints.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From daodao99 at student.umu.se  Wed Sep 26 16:40:17 2001
From: daodao99 at student.umu.se (Danardono)
Date: Wed, 26 Sep 2001 16:40:17 +0200
Subject: [R] stacking data.frame in a list
In-Reply-To: <3BB17ECE.CF102EFE@ceam.es>
Message-ID: <NFBBJJNBLKGIMBHDBAHJAEKACAAA.daodao99@student.umu.se>

Hello,

Given this list object x,
x <-
structure(list("772307" = structure(list(age.day = c(81, 141,
234, 321, 437, 499, 601, 689, 801, 884, 961), state = c(0, 0,
0, 0, 0, 0, 1, 1, 0, 99, 1)), .Names = c("age.day", "state"), class =
"data.frame", row.names = c("1",
"2", "3", "4", "5", "6", "7", "8", "9", "10", "11")), "1084506" =
structure(list(
    age.day = c(80, 148, 249, 344), state = c(0, 0, 99, 99)), .Names =
c("age.day",
"state"), class = "data.frame", row.names = c("1", "2", "3",
"4"))), .Names = c("772307", "1084506"))

that looks like this:
> x
$"772307"
   age.day state
1       81     0
2      141     0
3      234     0
4      321     0
5      437     0
6      499     0
7      601     1
8      689     1
9      801     0
10     884    99
11     961     1

$"1084506"
  age.day state
1      80     0
2     148     0
3     249    99
4     344    99

How to stack "772307" and "1084506", preferrably with "772307" and
$"1084506" as indicator (the original data consists of thousands "ID" such
"772307" and "1084506")?
The expected result will be like,
ID       age.day state
772307       81     0
772307      141     0
772307      234     0
772307      321     0
772307      437     0
772307      499     0
772307      601     1
772307      689     1
772307      801     0
772307      884    99
772307      961     1
1084506      80     0
1084506     148     0
1084506     249    99
1084506     344    99

Thank you.
Danar.




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep 26 16:56:46 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Sep 2001 16:56:46 +0200
Subject: [R] stacking data.frame in a list
In-Reply-To: <NFBBJJNBLKGIMBHDBAHJAEKACAAA.daodao99@student.umu.se>
References: <NFBBJJNBLKGIMBHDBAHJAEKACAAA.daodao99@student.umu.se>
Message-ID: <x23d5auhjl.fsf@blueberry.kubism.ku.dk>

"Danardono" <daodao99 at student.umu.se> writes:

> The expected result will be like,
> ID       age.day state
> 772307       81     0
> 772307      141     0
> 772307      234     0
> 772307      321     0
> 772307      437     0
> 772307      499     0
> 772307      601     1
> 772307      689     1
> 772307      801     0
> 772307      884    99
> 772307      961     1
> 1084506      80     0
> 1084506     148     0
> 1084506     249    99
> 1084506     344    99

This seems to do it:

do.call("rbind",lapply(names(x),function(i)
                                  cbind(ID=rep(i,nrow(x[[i]])),x[[i]])))

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From juli at ceam.es  Wed Sep 26 17:56:20 2001
From: juli at ceam.es (juli g. pausas)
Date: Wed, 26 Sep 2001 17:56:20 +0200
Subject: [R] glm.nb, anova.negbin
References: <Pine.LNX.4.31.0109261427110.16823-100000@gannet.stats>
Message-ID: <3BB1FAA3.F679C07A@ceam.es>

> > I looked quickly, and it seems that this error comes actually from
> > `anova.glm'  and from the following `get':
> >
> >         if (!is.function(method))
> >             method <- get(method, mode = "function")
> >
> > `anova.negbin' sends the  `negbin' `object' to `anova.glm', but the
> > negbin object does not have a method (`glm' objects have method
> > "glm.fit"). There seem to be some other differences in `negbin' and
> > `glm' objects, so that `anova.glm' can't handle them (e.g., glm.control
> > object is missing in `negbin' object).
> >
> > I would like to help, but I don't have time now (got to mark exams).
>
> Yes, that's it: R is incompatible with S.  Although the information
> is in the saved call, R uses a duplicate copy.  In glm.nb() adding
>     fit$method <- method
>     fit$control <- control
> at the end seems to fix it, but without an example I can reproduce,
> I cannot of course be sure.
>

Thank you very much. This fix the problem on my own dataset.
I have tried to test in other reproducible exemples, following the example by
Ben Bolker (many thanks!), and it works well. I've only got problems when
trying to fit -1. I'm not sure if this is because it doen't make sense with
this dataset or because there is still a bug there (see below). Anyway, my
main problem is solved now. Many thanks.

t.tax <- rnbinom(200,mu=1,size=1)
t.var1 <- runif(200)
t.var2 <- runif(200)
t.var3 <- runif(200)
t.var4 <- runif(200)
t.var5 <- runif(200)

## ignore warning messages about convergence
t <- glm.nb(t.tax ~ t.var1)
t2 <- update(t, .~ .+t.var2)
t3 <- update(t2, .~ .+t.var3)
t4 <- update(t3, .~ .+t.var4)
t5 <- update(t4, .~ .+t.var5)
t6 <- update(t5, .~ . -1 )


anova(t, t2, t3, t4, t5, t6) ## OK
anova(t5)   ## OK
summary(t6) ## OK
anova(t6)   ## error

Error in "names<-.default"(*tmp*, value = c("", "", "", "", "", "", "",  :
        names attribute must be the same length as the vector
In addition: Warning message:
tests made without re-estimating theta in: anova.negbin(t6)




> And that was my main point: if reporting problems *please* report the
> results of traceback(), and if possible a small reproducible example.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

--
Juli G. Pausas   (Mr)
Centro de Estudios Ambientales del Mediterraneo (CEAM)
C/ C.R. Darwin 14, Parc Tecnologic,
46980 Paterna, Valencia, SPAIN
Tel: (+ 34) 96 131 8227; Fax: (+ 34) 96 131 8190
mailto:juli at ceam.es
http://www.gva.es/ceam

GCTE Fire Network - http://www.gva.es/ceam/FireNetwork


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jgama at liacc.up.pt  Wed Sep 26 19:56:09 2001
From: jgama at liacc.up.pt (=?iso-8859-1?Q?Jo=E3o?= Gama)
Date: Wed, 26 Sep 2001 17:56:09 +0000
Subject: [R] Table help
Message-ID: <3BB216B9.24257101@liacc.up.pt>

Hi,
A quick question:
I have to vectors, say ar1 and ar2

> ar1
    [1] "a" "c" "c" "a"
    attr(,"levels")
    [1] "a" "b" "c"

> ar2
    [1]  TRUE  TRUE FALSE  TRUE

> table(ar1, ar2)
       ar2
ar1 FALSE TRUE
  a     0    2
  c     1    1


I would like to obtain:

    T    F
a  2    0
b  0    0
c  1    1

The problem seems to be that level "b" in ar1 doesn't appear in ar1.
and Function "table" doesn't have any drop.unused.levels parameter.

Thanks
Joao Gama


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep 26 19:30:19 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Sep 2001 19:30:19 +0200
Subject: [R] Table help
In-Reply-To: <3BB216B9.24257101@liacc.up.pt>
References: <3BB216B9.24257101@liacc.up.pt>
Message-ID: <x2k7yllv10.fsf@blueberry.kubism.ku.dk>

Jo?o Gama <jgama at liacc.up.pt> writes:

> Hi,
> A quick question:
> I have to vectors, say ar1 and ar2
> 
> > ar1
>     [1] "a" "c" "c" "a"
>     attr(,"levels")
>     [1] "a" "b" "c"
> 
> > ar2
>     [1]  TRUE  TRUE FALSE  TRUE
> 
> > table(ar1, ar2)
>        ar2
> ar1 FALSE TRUE
>   a     0    2
>   c     1    1
> 
> 
> I would like to obtain:
> 
>     T    F
> a  2    0
> b  0    0
> c  1    1
> 
> The problem seems to be that level "b" in ar1 doesn't appear in ar1.
> and Function "table" doesn't have any drop.unused.levels parameter.

ar1 is not a factor there (giving it a levels attribute won't make it
a factor). Try

> ar1<-factor(c("a","c","c","a"),levels=c("a","b","c"))
> ar2<-c(T,T,F,T)
> table(ar1, ar2)
   ar2
ar1 FALSE TRUE
  a     0    2
  b     0    0
  c     1    1


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Harvey.Monder at pharma.com  Wed Sep 26 19:27:50 2001
From: Harvey.Monder at pharma.com (Monder, Harvey)
Date: Wed, 26 Sep 2001 13:27:50 -0400
Subject: [R] Multithread processing
Message-ID: <E5EC0556E8B6D2118CB600A0C9B6BB6003BA5778@a2mbx01.pharma.com>

Dose anyone know if R can handle multithread processing?

	Regards,
	Harvey
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dlarsen at sylvan.snr.missouri.edu  Wed Sep 26 19:30:52 2001
From: dlarsen at sylvan.snr.missouri.edu (David Larsen)
Date: Wed, 26 Sep 2001 12:30:52 -0500
Subject: [R] read.table() suggestions
Message-ID: <3BB210CC.1010306@sylvan.snr.missouri.edu>

David Brahm wrote:
 > Hi,
 >
 >   I understand work is being done to improve read.table(), especially by
 > Prof. Brian D. Ripley.  I offer below a version that I wrote, in the 
hope some
 > aspects of it may prove useful or at least inspire discussion.



I have a read.table suggestion:

I find over the years, I forget many of the details about a data set so
I like to add comment statements to the file.  I know that if the comments
are in the start of the file I can use skip but it is nice to be able to add
comments and have R ignore them.

I implemented this in the following crude way:


###############################################
read.table( ... , comment="#" )

# after the opening of file

system( paste( "sed '/^[\\", comment, "]/D' ", file, ">", tempname, sep 
= ""))
file <- tempname
# continue processing file

###############################################
I would like see something like this added to the offiicial read.table

     Dave Larsen


-- 
David Larsen                        E-mail: LarsenDR at missouri.edu
University of Missouri-Columbia     Telephone:   573 882-4775
The School of Natural Resource      FAX:         573 882-1977
203 Anheuser-Busch Natural Resources Building
Columbia, Missouri 65211   USA

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Sep 26 21:31:21 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Wed, 26 Sep 2001 15:31:21 -0400 (EDT)
Subject: [R] read.table() suggestions
In-Reply-To: <3BB210CC.1010306@sylvan.snr.missouri.edu>
Message-ID: <Pine.LNX.4.30.0109261529080.20400-100000@bolker.zoo.ufl.edu>


  Actually, Brian Ripley just implemented this -- it should be in R-devel
already.  I had previously written the following, which doesn't rely on
outside programs (so can e.g. be used on Windows machines without sed).

read.table.c <- function(file,comment="#",debug=FALSE,...) {
  infile <- file(file,"r")
  tmpfile <- file()
  cchar <- "#"
  while (length(cline <- readLines(infile,1))>0) {
    s <- strsplit(cline,cchar)[[1]][1]
    if (nchar(s)>0)  { ## skip blank lines to not screw up header
      if (debug) cat(s,"\n")
      writeLines(s,tmpfile)
    }
  }
  r <- read.table(tmpfile,...)
  close(infile)
  close(tmpfile)
  r
}


On Wed, 26 Sep 2001, David Larsen wrote:

> David Brahm wrote:
>  > Hi,
>  >
>  >   I understand work is being done to improve read.table(), especially by
>  > Prof. Brian D. Ripley.  I offer below a version that I wrote, in the
> hope some
>  > aspects of it may prove useful or at least inspire discussion.
>
>
>
> I have a read.table suggestion:
>
> I find over the years, I forget many of the details about a data set so
> I like to add comment statements to the file.  I know that if the comments
> are in the start of the file I can use skip but it is nice to be able to add
> comments and have R ignore them.
>
> I implemented this in the following crude way:
>
>
> ###############################################
> read.table( ... , comment="#" )
>
> # after the opening of file
>
> system( paste( "sed '/^[\\", comment, "]/D' ", file, ">", tempname, sep
> = ""))
> file <- tempname
> # continue processing file
>
> ###############################################
> I would like see something like this added to the offiicial read.table
>
>      Dave Larsen
>
>
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep 26 21:47:24 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 26 Sep 2001 20:47:24 +0100 (BST)
Subject: [R] Multithread processing
In-Reply-To: <E5EC0556E8B6D2118CB600A0C9B6BB6003BA5778@a2mbx01.pharma.com>
Message-ID: <Pine.GSO.4.31.0109262045400.18878-100000@auk.stats>

On Wed, 26 Sep 2001, Monder, Harvey wrote:

> Dose anyone know if R can handle multithread processing?

On what platform?

I guess the answer is not yet, but on Windows it does make use of multiple
threads, not at user level.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jim_Garrett at bd.com  Wed Sep 26 20:44:32 2001
From: Jim_Garrett at bd.com (Jim_Garrett@bd.com)
Date: Wed, 26 Sep 2001 14:44:32 -0400
Subject: [R] Forcing a refresh in R for Windows
Message-ID: <OFDA8F6ADA.3AD701A8-ON85256AD3.0063E22F@bd.com>


System:  Windows NT 4.0 450 MHz Pentium II, R version 1.3.0 (will upgrade
soon).

Is there some way to force the command-line interface to print information
to the screen before evaluating the next expression?  For example, if I put
the following in a file:

cat("Select a file\n")
filename <- file.choose()

and source the file, I don't see the instruction "Select a file" until
after I'm done with the dialog box that pops up.

Another example involves getting updates from an iterative procedure before
the procedure is done:

for(i in 1:500)
{
#  if(i %% 10 == 0)
    cat("iteration ", i, "\n")
  # <something time-consuming here>
}

I don't get any update printed to the screen until after the loop is
completed, which is when I no longer need it.  If something causes the
screen to refresh, such as swapping to another application and back, the
information is printed.  However, is there any kind of programming command
I can use that will force a printout when I want it?

Thanks,

Jim Garrett
Becton Dickinson Diagnostic Systems
Baltimore, Maryland, USA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep 26 22:36:42 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Sep 2001 22:36:42 +0200
Subject: [R] Forcing a refresh in R for Windows
In-Reply-To: <OFDA8F6ADA.3AD701A8-ON85256AD3.0063E22F@bd.com>
References: <OFDA8F6ADA.3AD701A8-ON85256AD3.0063E22F@bd.com>
Message-ID: <x23d597kpx.fsf@blueberry.kubism.ku.dk>

Jim_Garrett at bd.com writes:

> I don't get any update printed to the screen until after the loop is
> completed, which is when I no longer need it.  If something causes the
> screen to refresh, such as swapping to another application and back, the
> information is printed.  However, is there any kind of programming command
> I can use that will force a printout when I want it?

flush.console(), I believe. (Not sitting at a Windows box, though)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Sep 26 22:49:20 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 26 Sep 2001 22:49:20 +0200 (MET DST)
Subject: [R] Forcing a refresh in R for Windows
In-Reply-To: <OFDA8F6ADA.3AD701A8-ON85256AD3.0063E22F@bd.com>
Message-ID: <Pine.GSO.4.21.0109262243300.1420-100000@amadeus.statistik.uni-dortmund.de>

On Wed, 26 Sep 2001 Jim_Garrett at bd.com wrote:

> 
> System:  Windows NT 4.0 450 MHz Pentium II, R version 1.3.0 (will upgrade
> soon).
> 
> Is there some way to force the command-line interface to print information
> to the screen before evaluating the next expression?  For example, if I put
> the following in a file:
> 
> cat("Select a file\n")
> filename <- file.choose()
> 
> and source the file, I don't see the instruction "Select a file" until
> after I'm done with the dialog box that pops up.
> 
> Another example involves getting updates from an iterative procedure before
> the procedure is done:
> 
> for(i in 1:500)
> {
> #  if(i %% 10 == 0)
>     cat("iteration ", i, "\n")
>   # <something time-consuming here>
> }
> 
> I don't get any update printed to the screen until after the loop is
> completed, which is when I no longer need it.  If something causes the
> screen to refresh, such as swapping to another application and back, the
> information is printed.  However, is there any kind of programming command
> I can use that will force a printout when I want it?

See section 6.3 in the R-win FAQs.

 flush.console()

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bindra at as.itb.ac.id  Thu Sep 27 04:58:18 2001
From: bindra at as.itb.ac.id (Baju Indradjaja)
Date: Thu, 27 Sep 2001 02:58:18 GMT
Subject: [R] Filled contour
Message-ID: <20010927025818.71334.qmail@as.itb.ac.id>


Hello,
I am a new member since a few months ago.  I have a simple question:
How I make a filled contour ?  I am sorry if this question already
asked before.  Perhaps I missed it.

Thank you.

Baju Indradjaja
Dept. of Astronomy, ITB
-----------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Wed Sep 26 17:56:12 2001
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Wed, 26 Sep 2001 11:56:12 -0400
Subject: [R] Re: new versions of grid and lattice
References: <011701c1424a$3c3c1c30$175dd882@stat.auckland.ac.nz>
Message-ID: <3BB1FA9C.EEFD96D9@umsanet.edu.bo>

			   [this needed manual approvement by list maintainer
			    it had a "CC: R-announce" which always bounces
			    -- MM ]

Hola!

I have tried to compile the new grid and lattice on windows (R1.3.0,
windows 98). Both give warnings, Grid will not load.

I cannot give now the warnings output, I used to capture tghe
warnings running make from a shell within PFE (programmers file editor),
but that doesnt seem to work in the latests version of
PFE. I tried this morning to find out how to capture the warnings from
within emacs, without luck.

Best,

Kjetil Halvorsen.

Paul Murrell wrote:
>
> Hi
>
> There are new versions of the grid and lattice packages on CRAN:
>     grid 0.2 and lattice 0.3-0
>
> These packages are still _under development_ (they are in
> CRAN/src/contrib/Devel)
>
> There have been some bug fixes and, especially in lattice, there are lots of
> new features.
> Descriptions of the changes are included below.
>
> If you have any grid code, it may break under the new version because of a
> change to the interface of the pop.viewport() function -- see the changes
> below.
>
> Many thanks to those who have provided feedback and suggestions for
> corrections/improvements.
> Don't worry if you can't see your suggestion in the new version;  it just
> means we haven't found time to try to implement it yet :)
>
> Paul Murrell
> Deepayan Sarkar
>
> ---snip---
>
> Changes from grid_0.1 to grid_0.2:
>
> 1. Fixed bug in rotating viewports;  this should be more reliable now (the
> rotation of
>     viewports, not the bug!).
>
> 2. Added grid.line.to() and grid.move.to().  These allow drawing BETWEEN
>    different coordinate systems.  See example in inst/doc/demo3.ps.
>
> 3. Added some more demonstrations to the doc directory.
>
> 4. Added more test code to the tests directory.
>
> 5. Added "grobwidth" and "grobheight" units.  See the document
>    grid/inst/doc/advanced/parentchild.ps
>
> 6. Added more detailed documentation to grid/inst/doc/advanced.  This
>    stuff is not necessarily very friendly for the reader, but may be useful
> if you're
>    tearing your hair out wondering why some strange effect is occurring.
>
> 7. Changed frames and packing to use the new "grobwidth" and "grobheight"
>    units.  This fixes some problems with frames and packing.
>
> 8. Fixed a bug where the gpar settings for "fontsize" and "lineheight"
>    _within a grob_ would not affect the location or size of the grob
>    if they were specified in "lines" or "char" units.
>
>    This required adding new "mylines" and "mychar" units (alternative
>    suggestions for names welcome !) so that you can specify whether
>    a grob's a location/size is in terms of the current viewport's
>    fontsize and lineheight ("lines" and "char") or in terms of its own
>    fontsize and lineheight ("mylines" and "mychar").
>
> 9. Added grid.polygon() and grid.circle() primitives
>
> 10. Added newpage=TRUE argument to grid.start() so that you can restart
>     grid graphics mode without having to move to a new page.
>
>     For example, try ...
>
>      postscript()
>      grid.start()
>      grid.polygon()
>      grid.stop()
>      grid.start() # moves to new page
>      grid.circle()
>      grid.stop()
>      grid.start(newpage=FALSE) # does NOT move to new page
>      grid.rect()
>      grid.stop()
>      dev.off()
>
> 11. Changed interface for pop.viewport().  This now just takes a
>     number of viewports to pop, which defaults to 1.
>     For example ...
>
>         push.viewport(viewport())
>         pop.viewport(current.viewport())
>
>     ... becomes ...
>
>         push.viewport(viewport())
>         pop.viewport()
>
>     ... and ...
>
>         vp1 <- viewport()
>         vp2 <- viewport()
>         push.viewport(vp1, vp2)
>         pop.viewport(vp2, vp1)
>
>     ... becomes ...
>
>         vp1 <- viewport()
>         vp2 <- viewport()
>         push.viewport(vp1, vp2)
>         pop.viewport(2)
>
> 12. Speed-up of pushing and popping viewports.  This will probably not
>     be noticeable in normal usage, but makes a big difference for
>     frames and packing.
>
> 13. Added a convertNative() function for converting a unit object
>     to "user" or "data" coordinates.  This is useful for performing
>     calculations (e.g., smoothing) on a location or dimension which
>     is easiest to specify in units.
>
>     You must specify whether you wish to convert relative to the
>     current x- or y-scale AND whether you are converting a location
>     or a dimension.  The following example shows the difference:
>
>        > push.viewport(viewport(w=unit(4,"inches"), xscale=c(-10,10)))
>        > convertNative(unit(1:4, "inches"))
>        [1] -5  0  5 10
>        > convertNative(unit(1:4, "inches"), "y")
>        [1] 0.1430986 0.2861972 0.4292958 0.5723944  # on my default window
> size
>        > convertNative(unit(1:4, "inches"), "y", "dimension")
>        [1] 0.1430986 0.2861972 0.4292958 0.5723944
>        > convertNative(unit(1:4, "inches"), "x", "dimension")
>        [1]  5 10 15 20
>
>     WARNING:  if you draw objects based on output from these conversion
>     functions, then resize your device, the objects will be drawn
>     incorrectly -- the base R display list will not recalculate these
>     conversions.  This means that you can only rely on the results of
>     these calculations if the size of your device is fixed.
>
>     This change motivated by discussions with Frank Harrell.
>
> ---snip---
>
> Changes in lattice 0.3
> ======================
>
> The overall internal structure of the lattice library has changed
> considerably in verion 0.3, in particular making it far more readable
> and debuggable. However, this also means that some code which had
> worked with the earlier version might now fail. (This is just a
> discalimer, there are no known instances.)
>
> New Features:
> ============
>
>  o (Almost) full support for the `key' argument for drawing legends
>
>  o Support for log scales
>
>  o levelplot (but no contourplot. In particular, the contour = T option
>    in levelplot does not work)
>
>  o tmd now works on the output from qq
>
>  o panel function names can now be quoted strings
>
>  o scales and its x and y components can now be just a character
>    string like "free" or "sliced", i.e., the relation tag can be
>    omitted.
>
>  o extension to the `type' argument in panel.xyplot and
>    panel.superpose to allow stair-like and histogram-like plots
>    (type="s" and "h" in plot), as well as loess smooths (using
>    the loess.smooth function in the modreg library). Also, more
>    than one of these options can now be used concurrently. This
>    allows, for example, a grouped plot where a grouping variable
>    can be used to fit separate loess curves along with the scatter
>    for each group. See example(xyplot)
>
>  o wrappers around grid functions with API-s of traditional graphics
>    functions to help port existing S-Plus Trellis code. See below for
>    details.
>
>  o changes in print.trellis to allow mixing of Lattice and usual R
>    graphics. See below for details.
>
>  o `data' can now be second unnamed argument in
>    high level functions
>
>  o `pscales' implemented for splom
>
> Porting S-Plus Trellis code to Lattice
> ======================================
>
> One of the basic problems in porting existing Trellis code to R is the
> unusability of the base R functions like lines and points inside panel
> functions. To help make the changes more transparently, lattice now
> includes several wrappers around grid functions that provide an API
> similar to the corresponding base R functions. The list currently
> includes lpoints, llines, ltext and lsegments.
>
> Using Lattice and base R graphics concurrently
> ==============================================
>
> Grid graphics normally do not mix with usual R graphics. However,
> end-users typically might want to use lattice functions concurrently
> with traditional R graphics. To allow this without intermittent calls
> to grid.stop() and grid.start(), print.trellis (which ultimately does
> all the plotting in lattice) now tries to preserve the state of the
> device on which it plots. By default, library(lattice) opens a device
> in grid enabled mode. It can be reverted to non grid mode by
> grid.stop(). Subsequently, both Lattice functions and traditional
> graphics functions can be used. Devices opened by trellis.device()
> start in non-grid mode, unless grid.start() is called.
>
> Still Missing
> =============
>
>  o contourplot, wireframe, cloud (partially implemented) and of course,
>    piechart
>
>  o Some components of scale (I haven't found a full list, so
>    can't say exactly which are missing)
>
>  o Fonts
>
>  o axis labels badly implemented, no checking for overlaps.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-announce mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep 27 09:23:11 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 27 Sep 2001 08:23:11 +0100 (BST)
Subject: [R] glm.nb, anova.negbin
In-Reply-To: <3BB1FAA3.F679C07A@ceam.es>
Message-ID: <Pine.LNX.4.31.0109270819400.4682-100000@gannet.stats>

That's an error in anova.glm: try it with glm rather than glm.nb.

The line in anova.glm like

            fit <- method(x = x[, varseq <= i], y = object$y,

should be

            fit <- method(x = x[, varseq <= i, drop = FALSE], y = object$y,

You are really good at finding long-standing bugs!


On Wed, 26 Sep 2001, juli g. pausas wrote:

> > > I looked quickly, and it seems that this error comes actually from
> > > `anova.glm'  and from the following `get':
> > >
> > >         if (!is.function(method))
> > >             method <- get(method, mode = "function")
> > >
> > > `anova.negbin' sends the  `negbin' `object' to `anova.glm', but the
> > > negbin object does not have a method (`glm' objects have method
> > > "glm.fit"). There seem to be some other differences in `negbin' and
> > > `glm' objects, so that `anova.glm' can't handle them (e.g., glm.control
> > > object is missing in `negbin' object).
> > >
> > > I would like to help, but I don't have time now (got to mark exams).
> >
> > Yes, that's it: R is incompatible with S.  Although the information
> > is in the saved call, R uses a duplicate copy.  In glm.nb() adding
> >     fit$method <- method
> >     fit$control <- control
> > at the end seems to fix it, but without an example I can reproduce,
> > I cannot of course be sure.
> >
>
> Thank you very much. This fix the problem on my own dataset.
> I have tried to test in other reproducible exemples, following the example by
> Ben Bolker (many thanks!), and it works well. I've only got problems when
> trying to fit -1. I'm not sure if this is because it doen't make sense with
> this dataset or because there is still a bug there (see below). Anyway, my
> main problem is solved now. Many thanks.
>
> t.tax <- rnbinom(200,mu=1,size=1)
> t.var1 <- runif(200)
> t.var2 <- runif(200)
> t.var3 <- runif(200)
> t.var4 <- runif(200)
> t.var5 <- runif(200)
>
> ## ignore warning messages about convergence
> t <- glm.nb(t.tax ~ t.var1)
> t2 <- update(t, .~ .+t.var2)
> t3 <- update(t2, .~ .+t.var3)
> t4 <- update(t3, .~ .+t.var4)
> t5 <- update(t4, .~ .+t.var5)
> t6 <- update(t5, .~ . -1 )
>
>
> anova(t, t2, t3, t4, t5, t6) ## OK
> anova(t5)   ## OK
> summary(t6) ## OK
> anova(t6)   ## error
>
> Error in "names<-.default"(*tmp*, value = c("", "", "", "", "", "", "",  :
>         names attribute must be the same length as the vector
> In addition: Warning message:
> tests made without re-estimating theta in: anova.negbin(t6)
>
>
>
>
> > And that was my main point: if reporting problems *please* report the
> > results of traceback(), and if possible a small reproducible example.
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> --
> Juli G. Pausas   (Mr)
> Centro de Estudios Ambientales del Mediterraneo (CEAM)
> C/ C.R. Darwin 14, Parc Tecnologic,
> 46980 Paterna, Valencia, SPAIN
> Tel: (+ 34) 96 131 8227; Fax: (+ 34) 96 131 8190
> mailto:juli at ceam.es
> http://www.gva.es/ceam
>
> GCTE Fire Network - http://www.gva.es/ceam/FireNetwork
>
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep 27 09:36:16 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 27 Sep 2001 08:36:16 +0100 (BST)
Subject: [R] Re: new versions of grid and lattice
In-Reply-To: <3BB1FA9C.EEFD96D9@umsanet.edu.bo>
Message-ID: <Pine.LNX.4.31.0109270834080.4711-100000@gannet.stats>

On Wed, 26 Sep 2001, kjetil halvorsen wrote:

> I have tried to compile the new grid and lattice on windows (R1.3.0,
> windows 98). Both give warnings, Grid will not load.

There were pre-compiled versions on CRAN already.  I had no problems
compiling them under the recommended setup.


> I cannot give now the warnings output, I used to capture tghe
> warnings running make from a shell within PFE (programmers file editor),
> but that doesnt seem to work in the latests version of
> PFE. I tried this morning to find out how to capture the warnings from
> within emacs, without luck.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jniesch at gwdg.de  Thu Sep 27 10:06:00 2001
From: jniesch at gwdg.de (Jens Nieschulze)
Date: Thu, 27 Sep 2001 10:06:00 +0200 (MET DST)
Subject: [R] Filled contour
In-Reply-To: <20010927025818.71334.qmail@as.itb.ac.id>
Message-ID: <Pine.SO4.4.10.10109271005150.29919-100000@ufobi7.uni-forst.gwdg.de>

On Thu, 27 Sep 2001, Baju Indradjaja wrote:

> 
> Hello,
> I am a new member since a few months ago.  I have a simple question:
> How I make a filled contour ?  I am sorry if this question already
> asked before.  Perhaps I missed it.
have you had a look at filled.contour?


> 
> Thank you.
> 
> Baju Indradjaja
> Dept. of Astronomy, ITB
> -----------------------
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

***********************************************************************
Jens Nieschulze

Institute for Forest Biometrics &	Phone: ++49-551-39-12107
Applied Computer Science		Fax  : ++49-551-39-3465
Buesgenweg 4
37077 Goettingen		E-mail: jniesch at uni-forst.gwdg.de
GERMANY				http://www.uni-forst.gwdg.de/~jniesch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu Sep 27 11:21:52 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 27 Sep 2001 11:21:52 +0200 (MET DST)
Subject: [R] Getting your stuff organized in R
Message-ID: <Pine.OSF.3.96.1010927105909.20647A-200000@ija.csic.es>


I'm attaching an small text file
on "Getting your stuff organized in R".
(Sorry if sending an attachment is not considered
a correct etiquette in r-help, but this is
only 7911 bytes, plain ascii text and I cannot
post it in a web page at the moment).

Probably all the information in this document is scattered
in one or more
R introduction guides, but I think that it is useful to have
it concentrated under this title. The number of
R objects that are created by the user grows fast
and the way R stores them is kind
of particular (most other packages create a unique disk file
for each object). Therefore, it is important for anyone starting
with R to learn how to organize his/her R objects and avoid
messing up everything into one single, often large .RData file.

I send this document to the list with the hope that people
will correct errors and suggest alternative, better methods.
Please do so directely to alobo at ija.csic.es, not the list.
After your feedback, I'll format it as pdf
or html and send it to the  Contributed
Documentation section of the R-CRAN pages.

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-------------- next part --------------
Getting your stuff organized in R

Probably all this information is scattered in one or more
R introduction guides, but I think that it is useful to have
it concentrated under this title. If after a first contact
with R you have decided to use it, you will want to start working with
your own data as soon as possible. R does not
create a unique disk file for each object, which is the most
comon situation for other packages and probably you are a bit
confused with this. Also, the number of data and function objects
can grow really fast in your R sessions. Therefore, as the number of your
R objects grows and the way R stores them is kind
of idiosyncratic, it is important for you to learn how
to organize your R objects just prior to start working with
your own data.



1. As you know from the R-start.pdf, R keeps everything
in memory. Therefore, it is sage to often type
> save.image()

which will save to disk everything that is listed after
> ls()

into a file named .RData, which is located in the same directory
from whence you started R. Remember that you must use ls -a in order to list
this file along with any other file starting by "." in unix systems.

Therefore, the first "organizing" rule is simply keep your projects into
separate directories and launch R from the appropriate directory.


2. You can save to a different file and/or another directory with:
> save(object1,object2,file="myobjects1&2")

3. It is useful to take advantage of the capabilities of ls() to select
what you want, i.e.:

>ls(pat="liss")
[1] "lissNPC100"      "lissNPC100.ady"  "lissNPC100.stat" "lissNPC1100.ref"

>save(list=ls(pat="liss"),file="lissobjects")

4. You normaly will need functions that are not
in the base package and that are not made available to you after
a default R start. You normally don't want these functions
in your workspace, as they would get saved with save.image()
into .RData and mixed with your objects (which probably also
include "inmature" functions). If you require functions
from a CRAN package, you just use:

>library(Rstreams)

If you type ls() afterwards, you wont see the Rstreams functions. For the shake
of organization, R does not load the package into your workspace, although
the functions are available for you to be used. If you type

>search()

you will get something like:
> search()
[1] ".GlobalEnv"       "package:Rstreams" "package:ctest"    "Autoloads"
[5] "package:base"

which lists your workspace (named ".GlobalEnv"), the package you just attached
(which goes, by default, to position 2), and   "package:ctest", "Autoloads"  and
"package:base", which were automatically attached at starting R.

Now, if you type

>ls(2)

you will get the listing of the Rstreams package.

5. As you develop your project, you transform your original data and often
create new data frames and data matrices. In order to keep the original data
safe, it's a good idea to keep them in a separate file. Another reason
to separate the original data is that they might be large data files, while you
most often work with data that have been selected or sampled from the original
file. As R automatically will load your .RData in memory, it's more efficient
 not to load any large object unless you really need it.
You can save the original file to a different file with:

>save(data1.ori,"data1ori.rda")

and then you can delete the object from your workspace: the next .Rdata file
that you'll make by using
save.image() or by quiting R and saving the workspace, will not include data1.ori.

6. If it happens that you need data1.ori afterwards, you should use

>attach("data1ori.rda")

rather than

>load("data1ori.rda")

Using attach("data1ori.rda"), your object data1.ori will be loaded into
a different environment (pos=2 by default), which implies that you'll be able
to use it but will not be mixed up with your "every day work" when you use
save.image and/or quit R.

You can type

>search()

before and after attach("data1ori.rda") to see the result.

7. As R integrates a large number of statistical methods and graphics
with a high-level language,
your work will imply creating a number of functions of your own. As soon as
your functions attain a certain "maturity" and you consider them of general use
for your own work, you should organize them as packages (see "Creating R packages" in
R-exts.pdf).

8. Meanwhile, it's also a good idea to save your functions into a different file,
or use that file as an intermediate step between the workspace and the library.
A good reason
to separate functions from other objects is that you might want to use a function
that you developped for another project.
Keeping functions and data objects in a different files will let you attach the
functions while avoiding the  data objects. Remember that you do not want to attach anything
that you do not need because it costs you memory.

The following function will let you list only the functions present in a given environment
(your workspace by default):

> lsf
function (pos=1)
{
        a <- b <- ls(pos=pos)
        for (i in 1:length(a)) {
                b[i] <- mode(get(a[i]))
        }
        a[grep("function",b)]
}

> lsf()
 [1] "disc.qda"           "edges"              "ima.explore2"
 [4] "imagen"             "imagenrgb"          "lsf"
 [7] "mat.select"         "no.na.mat"          "no.rep.mat"
[10] "parcelas.lda"       "parcelas.liss.func" "reclas"
[13] "rescale"            "utm2lincol"


You can use lsf() to save your functions to a file:

> save(list=lsf(), file="Rfunctions.rda")


9. Actually, it's more usual to save functions in text format, which you can do with:

> dump(list=lsf(),file="testdump.R")

But you cannot use either load()  or attach() with files created by dump(). Instead,
you must use source()

> source("testdump.R")

but beware that source() will create the functions in your workspace. I've not found
any way to direct source() to another position.


10.Sometime wou will want to add an object from your workspace to an existing R disk file.
For example, you'll want to add a new function developped in your workspace to
the functions file of your project.  You just need the option append in dump() for this
purpose:

> dump("mynewfunc",file="proj1funcs.R",append=T)

It's a bit more complicated to add  a data object to an R binary file, because
there is not an "append" option in save(). But you can use ls() in the following way:


> search()
[1] ".GlobalEnv"    "package:ctest" "Autoloads"     "package:base"
> attach("lissN543cod.R")
> search()
[1] ".GlobalEnv"         "file:lissN543cod.R" "package:ctest"
[4] "Autoloads"          "package:base"
> ls(2)
[1] "lissN543.cod"  "lissN543E.cod" "lissN543W.cod"

Now, assuming we want to add an object "a" to  lissN543cod, we would type:

>save(list=c("a",ls(2)),file="lissN543cod_v2.rda")

Note the "" in the list argument.

Once  lissN543cod_v2 is checked, we can delete lissN543cod.


11. In order to copy an object from the workspace to another environment,
you can use assign():

> search()
[1] ".GlobalEnv"         "file:lissN543cod.R" "package:ctest"
[4] "Autoloads"          "package:base"
> ls(2)
[1] "lissN543.cod"  "lissN543E.cod" "lissN543W.cod"
> assign(get(a),a,pos=2)
> ls(2)
[1] "a"             "lissN543.cod"  "lissN543E.cod" "lissN543W.cod"

You can delete a from the workspace, but beware that in such a case a will not be saved by save.image() or at
quiting R. You would need to use:

> save(list=ls(2),file="newfile.rda")

12. If you have several projects, you might forget what objects were in a given R binary file
created with save(). Unfortunately, I've not found any way to list the contents of such a file
unless it is attached or loaded. Also, selecting objects for loading from a R binary file seems
not possible.


Hope this notes are useful. Please send your comments, corrections etc. to alobo at ija.cisc.es
Note that R is a collaborative project, which also applies for documentation and guides!

From juli at ceam.es  Thu Sep 27 12:15:35 2001
From: juli at ceam.es (juli g. pausas)
Date: Thu, 27 Sep 2001 12:15:35 +0200
Subject: [R] glm.nb, anova.negbin
References: <Pine.LNX.4.31.0109270819400.4682-100000@gannet.stats>
Message-ID: <3BB2FC43.A2E48DBE@ceam.es>

That's solve the problem. Thank you very much.
I think that there is still a minor problem, in the display of the results only.
When ommiting the intercept, the dispaly in the anova do not show the P(>|Chi|) of
the first var. This is very minor problem but you may like to know it.

t.tax <- rnbinom(200,mu=1,size=1)
t.var1 <- rnorm(200, t.tax, 5)
t.var2 <- runif(200)
t <- glm.nb(t.tax ~ t.var1)
t2 <- update(t, .~ .+t.var2)
t3 <- update(t3, .~ . -1 )
anova(t3)

Analysis of Deviance Table

Model: Negative Binomial(1.3652), link: log

Response: t.tax

Terms added sequentially (first to last)


        Df Deviance Resid. Df Resid. Dev P(>|Chi|)
NULL                      199    205.098
t.var1   0    4.597       199    200.501
t.var2   1    1.534       198    198.967     0.215
t.var3   1    0.055       197    198.912     0.815
Warning messages:
1: tests made without re-estimating theta in: anova.negbin(t3)
2: NaNs produced in: pchisq(q, df, lower.tail, log.p)



Prof Brian Ripley escribi?:

> That's an error in anova.glm: try it with glm rather than glm.nb.
>
> The line in anova.glm like
>
>             fit <- method(x = x[, varseq <= i], y = object$y,
>
> should be
>
>             fit <- method(x = x[, varseq <= i, drop = FALSE], y = object$y,
>
> You are really good at finding long-standing bugs!
>
> On Wed, 26 Sep 2001, juli g. pausas wrote:
>
> > > > I looked quickly, and it seems that this error comes actually from
> > > > `anova.glm'  and from the following `get':
> > > >
> > > >         if (!is.function(method))
> > > >             method <- get(method, mode = "function")
> > > >
> > > > `anova.negbin' sends the  `negbin' `object' to `anova.glm', but the
> > > > negbin object does not have a method (`glm' objects have method
> > > > "glm.fit"). There seem to be some other differences in `negbin' and
> > > > `glm' objects, so that `anova.glm' can't handle them (e.g., glm.control
> > > > object is missing in `negbin' object).
> > > >
> > > > I would like to help, but I don't have time now (got to mark exams).
> > >
> > > Yes, that's it: R is incompatible with S.  Although the information
> > > is in the saved call, R uses a duplicate copy.  In glm.nb() adding
> > >     fit$method <- method
> > >     fit$control <- control
> > > at the end seems to fix it, but without an example I can reproduce,
> > > I cannot of course be sure.
> > >
> >
> > Thank you very much. This fix the problem on my own dataset.
> > I have tried to test in other reproducible exemples, following the example by
> > Ben Bolker (many thanks!), and it works well. I've only got problems when
> > trying to fit -1. I'm not sure if this is because it doen't make sense with
> > this dataset or because there is still a bug there (see below). Anyway, my
> > main problem is solved now. Many thanks.
> >
> > t.tax <- rnbinom(200,mu=1,size=1)
> > t.var1 <- runif(200)
> > t.var2 <- runif(200)
> > t.var3 <- runif(200)
> > t.var4 <- runif(200)
> > t.var5 <- runif(200)
> >
> > ## ignore warning messages about convergence
> > t <- glm.nb(t.tax ~ t.var1)
> > t2 <- update(t, .~ .+t.var2)
> > t3 <- update(t2, .~ .+t.var3)
> > t4 <- update(t3, .~ .+t.var4)
> > t5 <- update(t4, .~ .+t.var5)
> > t6 <- update(t5, .~ . -1 )
> >
> >
> > anova(t, t2, t3, t4, t5, t6) ## OK
> > anova(t5)   ## OK
> > summary(t6) ## OK
> > anova(t6)   ## error
> >
> > Error in "names<-.default"(*tmp*, value = c("", "", "", "", "", "", "",  :
> >         names attribute must be the same length as the vector
> > In addition: Warning message:
> > tests made without re-estimating theta in: anova.negbin(t6)
> >
> >
> >
> >
> > > And that was my main point: if reporting problems *please* report the
> > > results of traceback(), and if possible a small reproducible example.
> > >
> > > --
> > > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > > University of Oxford,             Tel:  +44 1865 272861 (self)
> > > 1 South Parks Road,                     +44 1865 272860 (secr)
> > > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
> > --
> > Juli G. Pausas   (Mr)
> > Centro de Estudios Ambientales del Mediterraneo (CEAM)
> > C/ C.R. Darwin 14, Parc Tecnologic,
> > 46980 Paterna, Valencia, SPAIN
> > Tel: (+ 34) 96 131 8227; Fax: (+ 34) 96 131 8190
> > mailto:juli at ceam.es
> > http://www.gva.es/ceam
> >
> > GCTE Fire Network - http://www.gva.es/ceam/FireNetwork
> >
> >
> >
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

--
Juli G. Pausas   (Mr)
Centro de Estudios Ambientales del Mediterraneo (CEAM)
C/ C.R. Darwin 14, Parc Tecnologic,
46980 Paterna, Valencia, SPAIN
Tel: (+ 34) 96 131 8227; Fax: (+ 34) 96 131 8190
mailto:juli at ceam.es
http://www.gva.es/ceam

GCTE Fire Network - http://www.gva.es/ceam/FireNetwork


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Thu Sep 27 12:47:43 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Thu, 27 Sep 2001 11:47:43 +0100
Subject: [R] frequencies
In-Reply-To: <200109251332.f8PDWEh22299@mailgate5.cinetic.de>
References: <200109251332.f8PDWEh22299@mailgate5.cinetic.de>
Message-ID: <hcKg$QAPPws7EwR6@myatt.demon.co.uk>

C. Schulz <ozric at web.de> writes:
>Hello,
>i would like get different frequencies like
>tapply(sex,agekat,mean) ! 
>But instead of the mean value i wish the %frequencies !

Looks like a job for tables().


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fm3a004 at math.uni-hamburg.de  Thu Sep 27 13:31:57 2001
From: fm3a004 at math.uni-hamburg.de (Christian Hennig)
Date: Thu, 27 Sep 2001 13:31:57 +0200 (MET DST)
Subject: [R] Getting your stuff organized in R
In-Reply-To: <Pine.OSF.3.96.1010927105909.20647A-200000@ija.csic.es>
Message-ID: <Pine.GSO.3.95q.1010927132510.21341C-100000@sun21.math.uni-hamburg.de>

Dear list,

Here is a feedback on "Getting your stuff organized in R".
I find the paper generally useful.
However, I would not encourage anybody to use .RData for the storage
of data, objects and results, because .RData is overwritten so often that a
little carelessness may easily cause loss of important data (R started from
wrong directory etc.). It is better to choose clear project-related
filenames for save.image, if there is important stuff (if not, why 
save.image?).

Best,
Christian

***********************************************************************
Christian Hennig
University of Hamburg, Faculty of Mathematics - SPST/ZMS
 (Schwerpunkt Mathematische Statistik und Stochastische Prozesse,
 Zentrum fuer Modellierung und Simulation)
Bundesstrasse 55, D-20146 Hamburg, Germany
Tel: x40/42838 4907, privat x40/631 62 79
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep 27 13:39:56 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 27 Sep 2001 12:39:56 +0100 (BST)
Subject: [R] glm.nb, anova.negbin
In-Reply-To: <3BB2FC43.A2E48DBE@ceam.es>
Message-ID: <Pine.LNX.4.31.0109271230570.4989-100000@gannet.stats>

On Thu, 27 Sep 2001, juli g. pausas wrote:

> That's solve the problem. Thank you very much.
> I think that there is still a minor problem, in the display of the results only.
> When ommiting the intercept, the dispaly in the anova do not show the P(>|Chi|) of
> the first var. This is very minor problem but you may like to know it.

It is not a problem at all.  Look at the df. Those two models are not
comparable: one has an intercept, the other does not. Ideally this would
fit a null model, but again that's an R/S difference as to how glm
internals work.

> t.tax <- rnbinom(200,mu=1,size=1)
> t.var1 <- rnorm(200, t.tax, 5)
> t.var2 <- runif(200)
> t <- glm.nb(t.tax ~ t.var1)
> t2 <- update(t, .~ .+t.var2)
> t3 <- update(t3, .~ . -1 )
> anova(t3)
>
> Analysis of Deviance Table
>
> Model: Negative Binomial(1.3652), link: log
>
> Response: t.tax
>
> Terms added sequentially (first to last)
>
>
>         Df Deviance Resid. Df Resid. Dev P(>|Chi|)
> NULL                      199    205.098
> t.var1   0    4.597       199    200.501
> t.var2   1    1.534       198    198.967     0.215
> t.var3   1    0.055       197    198.912     0.815
> Warning messages:
> 1: tests made without re-estimating theta in: anova.negbin(t3)
> 2: NaNs produced in: pchisq(q, df, lower.tail, log.p)
>
>
>
> Prof Brian Ripley escribi:
>
> > That's an error in anova.glm: try it with glm rather than glm.nb.
> >
> > The line in anova.glm like
> >
> >             fit <- method(x = x[, varseq <= i], y = object$y,
> >
> > should be
> >
> >             fit <- method(x = x[, varseq <= i, drop = FALSE], y = object$y,
> >
> > You are really good at finding long-standing bugs!
> >
> > On Wed, 26 Sep 2001, juli g. pausas wrote:
> >
> > > > > I looked quickly, and it seems that this error comes actually from
> > > > > `anova.glm'  and from the following `get':
> > > > >
> > > > >         if (!is.function(method))
> > > > >             method <- get(method, mode = "function")
> > > > >
> > > > > `anova.negbin' sends the  `negbin' `object' to `anova.glm', but the
> > > > > negbin object does not have a method (`glm' objects have method
> > > > > "glm.fit"). There seem to be some other differences in `negbin' and
> > > > > `glm' objects, so that `anova.glm' can't handle them (e.g., glm.control
> > > > > object is missing in `negbin' object).
> > > > >
> > > > > I would like to help, but I don't have time now (got to mark exams).
> > > >
> > > > Yes, that's it: R is incompatible with S.  Although the information
> > > > is in the saved call, R uses a duplicate copy.  In glm.nb() adding
> > > >     fit$method <- method
> > > >     fit$control <- control
> > > > at the end seems to fix it, but without an example I can reproduce,
> > > > I cannot of course be sure.
> > > >
> > >
> > > Thank you very much. This fix the problem on my own dataset.
> > > I have tried to test in other reproducible exemples, following the example by
> > > Ben Bolker (many thanks!), and it works well. I've only got problems when
> > > trying to fit -1. I'm not sure if this is because it doen't make sense with
> > > this dataset or because there is still a bug there (see below). Anyway, my
> > > main problem is solved now. Many thanks.
> > >
> > > t.tax <- rnbinom(200,mu=1,size=1)
> > > t.var1 <- runif(200)
> > > t.var2 <- runif(200)
> > > t.var3 <- runif(200)
> > > t.var4 <- runif(200)
> > > t.var5 <- runif(200)
> > >
> > > ## ignore warning messages about convergence
> > > t <- glm.nb(t.tax ~ t.var1)
> > > t2 <- update(t, .~ .+t.var2)
> > > t3 <- update(t2, .~ .+t.var3)
> > > t4 <- update(t3, .~ .+t.var4)
> > > t5 <- update(t4, .~ .+t.var5)
> > > t6 <- update(t5, .~ . -1 )
> > >
> > >
> > > anova(t, t2, t3, t4, t5, t6) ## OK
> > > anova(t5)   ## OK
> > > summary(t6) ## OK
> > > anova(t6)   ## error
> > >
> > > Error in "names<-.default"(*tmp*, value = c("", "", "", "", "", "", "",  :
> > >         names attribute must be the same length as the vector
> > > In addition: Warning message:
> > > tests made without re-estimating theta in: anova.negbin(t6)
> > >
> > >
> > >
> > >
> > > > And that was my main point: if reporting problems *please* report the
> > > > results of traceback(), and if possible a small reproducible example.
> > > >
> > > > --
> > > > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > > > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > > > University of Oxford,             Tel:  +44 1865 272861 (self)
> > > > 1 South Parks Road,                     +44 1865 272860 (secr)
> > > > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> > >
> > > --
> > > Juli G. Pausas   (Mr)
> > > Centro de Estudios Ambientales del Mediterraneo (CEAM)
> > > C/ C.R. Darwin 14, Parc Tecnologic,
> > > 46980 Paterna, Valencia, SPAIN
> > > Tel: (+ 34) 96 131 8227; Fax: (+ 34) 96 131 8190
> > > mailto:juli at ceam.es
> > > http://www.gva.es/ceam
> > >
> > > GCTE Fire Network - http://www.gva.es/ceam/FireNetwork
> > >
> > >
> > >
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> --
> Juli G. Pausas   (Mr)
> Centro de Estudios Ambientales del Mediterraneo (CEAM)
> C/ C.R. Darwin 14, Parc Tecnologic,
> 46980 Paterna, Valencia, SPAIN
> Tel: (+ 34) 96 131 8227; Fax: (+ 34) 96 131 8190
> mailto:juli at ceam.es
> http://www.gva.es/ceam
>
> GCTE Fire Network - http://www.gva.es/ceam/FireNetwork
>
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu Sep 27 13:55:19 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 27 Sep 2001 13:55:19 +0200 (MET DST)
Subject: [R] Passing an R matrix to a C program 
Message-ID: <Pine.OSF.3.96.1010927134814.20647H-100000@ija.csic.es>


Hello,

I'm starting to write a C function that gets
a list and a matrix from R. I'm using .Call
because I've undertood that this is recommended
to handle lists (am I wrong?).  My problem is that I
can pass the matrix as a vector, but not as a 2D array.

For example, in the following simple C program:

#include <R.h>
#include <Rdefines.h>

SEXP printListElement(SEXP list, SEXP stat)
{
SEXP elmt = R_NilValue, names = getAttrib(list, R_NamesSymbol);
int i; double g1, g2, g3, s1, s2, s3;
for (i = 0; i < length(list); i++) {	
	elmt = VECTOR_ELT(list, i);
	g1 = REAL(VECTOR_ELT(list, i))[0];
	s1 = REAL(stat)[12];
	printf("%ld %f %f \n", i, g1, s1);	
}
return elmt;
}

I can get the 13th element of stat, but what should
I do to write something like:
s1 = REAL(stat)[1][5]

?

I've tried SEXP *stat, SEXP stat[] etc.
I can always calculate the one-dimensional index
from the line and column indices, but referencing
with 2 indices would be more simple.

(The C program is called from the R function:
> testR
function (lista,stat)
{
        a <- .Call("printListElement",lista,stat)
}

Thanks



Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Sep 27 15:26:37 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 27 Sep 2001 15:26:37 +0200
Subject: [R] Passing an R matrix to a C program 
In-Reply-To: <Pine.OSF.3.96.1010927134814.20647H-100000@ija.csic.es>
References: <Pine.OSF.3.96.1010927134814.20647H-100000@ija.csic.es>
Message-ID: <15283.10509.327841.186727@gargle.gargle.HOWL>

>>>>> "AgusL" == Agustin Lobo <alobo at ija.csic.es> writes:

    AgusL> Hello,

    AgusL> I'm starting to write a C function that gets
    AgusL> a list and a matrix from R. I'm using .Call
    AgusL> because I've undertood that this is recommended
    AgusL> to handle lists (am I wrong?).  My problem is that I
    AgusL> can pass the matrix as a vector, but not as a 2D array.

Yes, they are vectors in one sense, the main reason being that C does not
have really have 2D arrays [another reason being that Fortran has this
equivalence by definition].
The example you give is just a typical implementation of matrices in C,
but AFAIK not at all the most common one for numerical computation.

The R functions row() and col()  call the following C function 
(from src/main/array.c) which should you how to deal with arrays:

---------------------------------------------------------------
  SEXP do_rowscols(SEXP call, SEXP op, SEXP args, SEXP rho)
  {
      SEXP ans;
      int i, j, nr, nc;

      if (length(args) != 1)
	  error("incorrect number of args to row/col");
      if (!isMatrix(CAR(args)))
	  error("a matrix is required as arg to row/col");

      nr = nrows(CAR(args));
      nc = ncols(CAR(args));

      ans = allocMatrix(INTSXP, nr, nc);

      switch (PRIMVAL(op)) {
      case 1:
	  for (i = 0; i < nr; i++)
	      for (j = 0; j < nc; j++)
		  INTEGER(ans)[i + j * nr] = i + 1;
	  break;
      case 2:
	  for (i = 0; i < nr; i++)
	      for (j = 0; j < nc; j++)
		  INTEGER(ans)[i + j * nr] = j + 1;
	  break;
      }
      return ans;
  }
---------------------------------------------------------------

For that case (and in others), people may like to use C macros, e.g.,

#define ANS(I_,J_)  INTEGER(ans)[I_ + J_ * nr] 

would allow you to have

       ANS(i,j) = i + 1;
...
       ANS(i,j) = j + 1;

in the above function.
But note that this macros relies on `nr' being defined and having the
correct value.  One reason we tend not to use them.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Thu Sep 27 15:33:51 2001
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 27 Sep 2001 09:33:51 -0400
Subject: [R] multiple versions
Message-ID: <3BB32ABF.FE3BC326@bank-banque-canada.ca>

Can anyone suggest a good way to handle multiple versions of R
and also other tools like gcc and perl (in Unix). I have been
using soft links from my personal bin to the version I want to
use, but this has some drawbacks. With this scheme it is
difficult to run different versions of R in different windows,
and use of gcc appears to be complicated in several respects when
I try to change among versions.

Thanks,
Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dtmd at power.ufscar.br  Thu Sep 27 16:51:06 2001
From: dtmd at power.ufscar.br (Teresa Cristina Martins Dias)
Date: Thu, 27 Sep 2001 11:51:06 -0300
Subject: [R] kidney survival data
Message-ID: <003101c14763$d6628600$53db88c8@TeresaCristina.des.ufscar.br>

Dear all, in survival5, kidney data set, appears in help page:
 
"survival5 does not reproduce the original analysis."

What   does it means?
 
thanks in advance
 
TCM
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010927/e006b08d/attachment.html

From ernesto at ipimar.pt  Thu Sep 27 18:24:54 2001
From: ernesto at ipimar.pt (=?ISO-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Thu, 27 Sep 2001 17:24:54 +0100
Subject: [R] cuts and breaks
Message-ID: <3BB352D6.2040508@ipimar.pt>

Hi

I'm using the "image" function to produce a plot and I want to define 
the breaks using "cut" and the colors using "heat.colors".

 > 
image(interp(mat2[,2],mat2[,1],mat2[,3]),breaks=cut(mat2[,3],30),col=heat.colors(29))
Error in image.default(interp(mat2[, 2], mat2[, 1], mat2[, 3]), breaks = 
cut(mat2[,  :
        must have one more break than colour


The error message is not clear to me because I'm using 30 to cut and 29 
to heat.colors.

What am I doing wrong ?

Thanks

EJ

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Thu Sep 27 17:37:53 2001
From: j.logsdon at lancaster.ac.uk (j.logsdon@lancaster.ac.uk)
Date: Thu, 27 Sep 2001 16:37:53 +0100 (GMT)
Subject: [R] Making a factor with common levels ...
Message-ID: <Pine.LNX.4.10.10109271627120.1666-100000@mercury.quantex>

This is doing my head in.  Staying away from R for too long is bad for the
health!

I have two vectors of character names where there may be repetition and
from which I want to form two factors with the same levels but only if
there are more than N instances of each name in each vector.

I can get the list of common names quite easily, using:

nn<-sort(unique(c(levels(n1)[table(n1)>N],levels(n0)[table(n0)>N])))

Some of the factor levels may be empty for one of the factors but the same
level must be present in the other.

Is there a simple way to extract nn0 and nn1 so that the pairs remain
correctly aligned and each list has at least N cases of each name?  Or do
I have to jump into my steamroller and do a couple of loops?

TIA

John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Thu Sep 27 18:07:40 2001
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Thu, 27 Sep 2001 17:07:40 +0100 (BST)
Subject: [R] cuts and breaks
In-Reply-To: <3BB352D6.2040508@ipimar.pt>
Message-ID: <XFMail.010927170740.theis@statistik.uni-dortmund.de>

Hi!
On 27-Sep-01 Jos Ernesto Jardim wrote:
> Hi
> 
> I'm using the "image" function to produce a plot and I want to define 
> the breaks using "cut" and the colors using "heat.colors".
> 
>  > 
>
image(interp(mat2[,2],mat2[,1],mat2[,3]),breaks=cut(mat2[,3],30),col=
heat.colo
> rs(29))

> Error in image.default(interp(mat2[, 2], mat2[, 1], mat2[, 3]), breaks = 
> cut(mat2[,  :
>         must have one more break than colour
> 
> 
> The error message is not clear to me because I'm using 30 to cut and 29 
> to heat.colors.
> 
> What am I doing wrong ?
I think you use the wrong function for your purpose: "cut" converts a numeric
vector into a factor with levels correponding to intervalls -- but here you
need to define the breakpoints for the intervalls for which each colour is
used. Something along the lines:

brks<-seq(from=range(mat2[,3],finite=TRUE)[1],to=range(mat2[,3],finite=TRUE)[2],
30)
image(interp(mat2[,2],mat2[,1],mat2[,3]),breaks=brks,col=heat.colors(29))

should do the trick.

Maybe you should check the functions you want to use first on their real
behaviour...

Cheers, Winfried


----------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 27-Sep-01
Time: 16:51:55
Dipl.-Math. Winfried Theis, Fachbereich Statistik, Graduiertenkolleg
"Angewandte Statistik"
Universitt Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903  FAX: +49-231-755-4387
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Thu Sep 27 18:32:30 2001
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Thu, 27 Sep 2001 12:32:30 -0400
Subject: [R] Making a factor with common levels ...
References: <Pine.LNX.4.10.10109271627120.1666-100000@mercury.quantex>
Message-ID: <3BB3549E.AC487EB@virginia.edu>

The combine.levels function in the Hmisc library is
related to this:

combine.levels <- function(x, minlev=.05) {
  x <- as.factor(x)
  lev <- levels(x)
  f <- table(x)/sum(!is.na(x))
  i <- f < minlev
  si <- sum(i)
  if(si==0) return(x)
  levels(x) <- if(si==1) list(names(sort(f))[1:2]) else
    list(OTHER=names(f)[i])
  x
}

This combines levels that have a relative frequency
below 'minlev' into new categories.  -Frank Harrell


j.logsdon at lancaster.ac.uk wrote:
> 
> This is doing my head in.  Staying away from R for too long is bad for the
> health!
> 
> I have two vectors of character names where there may be repetition and
> from which I want to form two factors with the same levels but only if
> there are more than N instances of each name in each vector.
> 
> I can get the list of common names quite easily, using:
> 
> nn<-sort(unique(c(levels(n1)[table(n1)>N],levels(n0)[table(n0)>N])))
> 
> Some of the factor levels may be empty for one of the factors but the same
> level must be present in the other.
> 
> Is there a simple way to extract nn0 and nn1 so that the pairs remain
> correctly aligned and each list has at least N cases of each name?  Or do
> I have to jump into my steamroller and do a couple of loops?
> 
> TIA
> 
> John
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Thu Sep 27 18:50:35 2001
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Thu, 27 Sep 2001 12:50:35 -0400
Subject: [R] choose
Message-ID: <3BB358DB.55343321@umsanet.edu.bo>

Hola!

> choose(8,9)
[1] NaN
Warning message: 
NaNs produced in: choose(n, k) 

It would be more usefull if it returned the usual definitions in this
cases, which is 0.

Kjetil Halvorsen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Thu Sep 27 19:05:01 2001
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Thu, 27 Sep 2001 13:05:01 -0400
Subject: [R] on.exit
Message-ID: <3BB35C3C.C4FE9451@umsanet.edu.bo>

Hola!

look at the following:

> test <- function() {
+    options(warn=-1)
+    on.exit( options(warn=0))
+    log(-1)
+ }
> test()
[1] NaN


but what should be better, doesnt work:

> test1 <- function() {
+    oldwarn <- options("warn")
+    options(warn=-1)
+    on.exit( options(warn=oldwarn))
+    log(-1)
+ }
> test1()
Error in options(...) : warn parameter invalid
> 


What is wrong? (I have tried other versions, without success)

Kjetil Halvorsen.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Thu Sep 27 19:18:42 2001
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Thu, 27 Sep 2001 19:18:42 +0200
Subject: [R] list of all objects - just being curious
Message-ID: <B7D92C12.B4D5%pflugshaupt@geobot.umnw.ethz.ch>

Hello all,

to obtain a list of all objects in all search paths, I've found the
following to work:

> biglist <- sapply(1:length(search()), objects)

This more obvious one, however, does not work:

> biglist <- sapply(search(), objects)
Error in pos.to.env(pos) : invalid argument

Still, search() gives

[1] ".GlobalEnv"    "package:ctest" "Autoloads"     "package:base"

and objects(".GlobalEnv"), objects("package:ctest") etc. all give their
respective vectors. So why does the sapply() construction not work here?

I've also tried a for() loop ("for (I in search()) print(objects(I))") with
the same error message. Again, "for (I in 1:length(search()))
print(objects(I))" works all right.

What am I misunderstanding?


Kaspar Pflugshaupt

(R 1.3.1 on MacOS 9.2)

-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Thu Sep 27 20:10:10 2001
From: andy_liaw at merck.com (Liaw, Andy)
Date: Thu, 27 Sep 2001 14:10:10 -0400
Subject: [R] list of all objects - just being curious
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC828A@usrymx10.merck.com>

The culprit (?) seems to be the line

   name <- substitute(name)

in ls().  I tried ls(search()[1]).  Inside ls(), name has the correct value
of ".GlobalEnv" before this line, but after the substitution it becomes
search()[1], which confuses the pos.to.env() call.

I'm not sure what would break w/o that line.  Any one know how to solve
this?

Andy

> -----Original Message-----
> From: Kaspar Pflugshaupt [mailto:pflugshaupt at geobot.umnw.ethz.ch]
> Sent: Thursday, September 27, 2001 1:19 PM
> To: r-help
> Subject: [R] list of all objects - just being curious
> 
> 
> Hello all,
> 
> to obtain a list of all objects in all search paths, I've found the
> following to work:
> 
> > biglist <- sapply(1:length(search()), objects)
> 
> This more obvious one, however, does not work:
> 
> > biglist <- sapply(search(), objects)
> Error in pos.to.env(pos) : invalid argument
> 
> Still, search() gives
> 
> [1] ".GlobalEnv"    "package:ctest" "Autoloads"     "package:base"
> 
> and objects(".GlobalEnv"), objects("package:ctest") etc. all 
> give their
> respective vectors. So why does the sapply() construction not 
> work here?
> 
> I've also tried a for() loop ("for (I in search()) 
> print(objects(I))") with
> the same error message. Again, "for (I in 1:length(search()))
> print(objects(I))" works all right.
> 
> What am I misunderstanding?
> 
> 
> Kaspar Pflugshaupt
> 
> (R 1.3.1 on MacOS 9.2)
> 
> -- 
> 
> Kaspar Pflugshaupt
> Geobotanisches Institut
> Zuerichbergstr. 38
> CH-8044 Zuerich
> 
> Tel. ++41 1 632 43 19
> Fax  ++41 1 632 12 15
> 
> mailto:pflugshaupt at geobot.umnw.ethz.ch
> privat:pflugshaupt at mails.ch
> http://www.geobot.umnw.ethz.ch
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Thu Sep 27 20:30:24 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Thu, 27 Sep 2001 14:30:24 -0400
Subject: [R] on.exit
In-Reply-To: <3BB35C3C.C4FE9451@umsanet.edu.bo>
References: <3BB35C3C.C4FE9451@umsanet.edu.bo>
Message-ID: <knr6rt4aunv3k7ndcv9i3qd61o5ufgl2pu@4ax.com>

On Thu, 27 Sep 2001 13:05:01 -0400, you wrote in message
<3BB35C3C.C4FE9451 at umsanet.edu.bo>:


>but what should be better, doesnt work:
>
>> test1 <- function() {
>+    oldwarn <- options("warn")
>+    options(warn=-1)
>+    on.exit( options(warn=oldwarn))
>+    log(-1)
>+ }
>> test1()
>Error in options(...) : warn parameter invalid
>> 
>
>
>What is wrong? (I have tried other versions, without success)

The problem is that you're assuming options() behaves the way par()
does, i.e. that options("warn") returns a number.  It doesn't, it
returns a list.  

The simplest way to get what you want is probably

test1 <- function() {
    oldwarn <- options(warn=-1)   # first call
    on.exit( options(oldwarn))       # second call
    log(-1)
}

Notice that the first call that changes the option returns the old
value, so you don't need two calls at the start; the second call that
restores it just uses the list (which has the name of the option
embedded in it).

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gvinjamu at cceb.upenn.edu  Thu Sep 27 19:43:16 2001
From: gvinjamu at cceb.upenn.edu (Govind Vinjamuri)
Date: Thu, 27 Sep 2001 13:43:16 -0400
Subject: [R] error
Message-ID: <3BB36533.4EA43DD3@cceb.upenn.edu>

Solaris 8 using forte, I have this error, If anyone has a suggestion, I
would apprecaite it.

In file included from /usr/include/fcntl.h:23,
                 from ../../src/include/Rinternals.h:34,
                 from ../../src/include/Defn.h:41,
                 from platform.c:25:
/usr/include/sys/types.h:149: warning: empty declaration
platform.c: In function `do_listfiles':
platform.c:328: `DIR' undeclared (first use in this function)
platform.c:328: (Each undeclared identifier is reported only once
platform.c:328: for each function it appears in.)
platform.c:328: `dir' undeclared (first use in this function)
platform.c:329: parse error before `struct'
platform.c:340: `pattern' undeclared (first use in this function)
platform.c:345: `allfiles' undeclared (first use in this function)
platform.c:346: `fullnames' undeclared (first use in this function)
platform.c:347: `ndir' undeclared (first use in this function)
platform.c:348: `reg' undeclared (first use in this function)
platform.c:350: `count' undeclared (first use in this function)
platform.c:351: `i' undeclared (first use in this function)
platform.c:352: `dnp' undeclared (first use in this function)
platform.c:356: `dirname' undeclared (first use in this function)
platform.c:361: `de' undeclared (first use in this function)
make[3]: *** [platform.o] Error 1
make[3]: Leaving directory `/usr/local/R-1.3.1/src/main'
make[2]: *** [R] Error 2
make[2]: Leaving directory `/usr/local/R-1.3.1/src/main'
make[1]: *** [R] Error 1
make[1]: Leaving directory `/usr/local/R-1.3.1/src'
make: *** [R] Error 1

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Sep 27 20:47:56 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Sep 2001 20:47:56 +0200
Subject: [R] on.exit
In-Reply-To: <3BB35C3C.C4FE9451@umsanet.edu.bo>
References: <3BB35C3C.C4FE9451@umsanet.edu.bo>
Message-ID: <x2wv2kzd0j.fsf@blueberry.kubism.ku.dk>

kjetil halvorsen <kjetilh at umsanet.edu.bo> writes:

> but what should be better, doesnt work:
> 
> > test1 <- function() {
> +    oldwarn <- options("warn")
> +    options(warn=-1)
> +    on.exit( options(warn=oldwarn))
> +    log(-1)
> + }
> > test1()
> Error in options(...) : warn parameter invalid
> > 
> 
> 
> What is wrong? (I have tried other versions, without success)

oldwarn is a list. Try

> fix(test1)
>  test1()
[1] NaN
> test1
function() {
  oldwarn <- options("warn")
  options(warn=-1)
  on.exit( options(warn=oldwarn$warn))
  log(-1)
}

or maybe 

oldwarn <- unlist(options("warn")) 
... 
on.exit(options(warn=oldwarn))

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Thu Sep 27 21:21:06 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Fri, 28 Sep 2001 07:21:06 +1200
Subject: R Introductory Slides (was: Re: [R] Getting your stuff organized in R)
References: <Pine.OSF.3.96.1010927105909.20647A-200000@ija.csic.es>
Message-ID: <003d01c14789$8f075a80$272337d2@kwan022>

The Getting your stuff organised in R is very useful.

I wrote two sets of powerpoint slides (And more are being written) on
introduction to R.  They were used to teach my fellow Software Developers'
Klub (SDK) members R - who have lots of experience in programming but not
statistics; as well as some year one statistics students.

The slides can be obtained from
http://www.stat.auckland.ac.nz/~kwan022/pub/R/ , under the name:
   R_Tut_00.ppt
   R_Tut_01.ppt

In R_Tut_01.ppt I mentioned a Word document which has information on how one
can use R (Windows version) more efficiently - in my opinion.  This word
file has been zipped and named RTricks.zip in the same page.

Cheers,

Ko-Kang Wang

----------------------------------------------------------------------------
--
Ko-Kang Kevin Wang
Statistical Analysis Division Leader
Software Developers' Klub (SDK)
University of Auckland
New Zealand


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Thu Sep 27 21:42:54 2001
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Thu, 27 Sep 2001 15:42:54 -0400
Subject: [R] stacking data.frame in a list
Message-ID: <5429125E11E4D411AF7300805FE603A8014CEE76@groexmbcr02.pfizer.com>

Alternatively, use the concat() function from the gregmisc library:

> library(gregmisc)
Attaching package `gregmisc':

[warnings omitted]]

> concat(x[[1]],x[[2]],names=names(x))
   age.day state  source
1       81     0  772307
2      141     0  772307
3      234     0  772307
4      321     0  772307
5      437     0  772307
6      499     0  772307
7      601     1  772307
8      689     1  772307
9      801     0  772307
10     884    99  772307
11     961     1  772307
12      80     0 1084506
13     148     0 1084506
14     249    99 1084506
15     344    99 1084506

-Greg



 >  -----Original Message-----
 >  From: Danardono [mailto:daodao99 at student.umu.se]
 >  Sent: Wednesday, September 26, 2001 10:40 AM
 >  To: r-help at stat.math.ethz.ch
 >  Subject: [R] stacking data.frame in a list
 >  
 >  
 >  Hello,
 >  
 >  Given this list object x,
 >  x <-
 >  structure(list("772307" = structure(list(age.day = c(81, 141,
 >  234, 321, 437, 499, 601, 689, 801, 884, 961), state = c(0, 0,
 >  0, 0, 0, 0, 1, 1, 0, 99, 1)), .Names = c("age.day", 
 >  "state"), class =
 >  "data.frame", row.names = c("1",
 >  "2", "3", "4", "5", "6", "7", "8", "9", "10", "11")), "1084506" =
 >  structure(list(
 >      age.day = c(80, 148, 249, 344), state = c(0, 0, 99, 
 >  99)), .Names =
 >  c("age.day",
 >  "state"), class = "data.frame", row.names = c("1", "2", "3",
 >  "4"))), .Names = c("772307", "1084506"))
 >  
 >  that looks like this:
 >  > x
 >  $"772307"
 >     age.day state
 >  1       81     0
 >  2      141     0
 >  3      234     0
 >  4      321     0
 >  5      437     0
 >  6      499     0
 >  7      601     1
 >  8      689     1
 >  9      801     0
 >  10     884    99
 >  11     961     1
 >  
 >  $"1084506"
 >    age.day state
 >  1      80     0
 >  2     148     0
 >  3     249    99
 >  4     344    99
 >  
 >  How to stack "772307" and "1084506", preferrably with "772307" and
 >  $"1084506" as indicator (the original data consists of 
 >  thousands "ID" such
 >  "772307" and "1084506")?
 >  The expected result will be like,
 >  ID       age.day state
 >  772307       81     0
 >  772307      141     0
 >  772307      234     0
 >  772307      321     0
 >  772307      437     0
 >  772307      499     0
 >  772307      601     1
 >  772307      689     1
 >  772307      801     0
 >  772307      884    99
 >  772307      961     1
 >  1084506      80     0
 >  1084506     148     0
 >  1084506     249    99
 >  1084506     344    99
 >  
 >  Thank you.
 >  Danar.
 >  
 >  
 >  
 >  
 >  -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
 >  -.-.-.-.-.-.-.-.-.-
 >  r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Thu Sep 27 22:40:49 2001
From: rolf at math.unb.ca (Rolf Turner)
Date: Thu, 27 Sep 2001 17:40:49 -0300 (ADT)
Subject: [R] Tildes in R docmentation.
Message-ID: <200109272040.RAA15178@gelfand.math.unb.ca>


I'm getting flummoxed when trying to putting a tilde (``~'') --- as
in a formula --- into an R documentation file, or rather in getting
one to appear in the *.dvi output that results from converting a *.Rd
file.

In my *.Rd file I wrote an expression of the form

	\code{cbind(x,y) ~ z}

This shows up in the appropriate way in the plain text help,
and in the html help.  But if I do

	R CMD Rd2dvi foo.Rd

I get hang-ups at the latex processing stage.  I get told

===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===
! Undefined control sequence.
<argument> cbind(x,y) \textasciitilde 
                                          {} z
l.93 \code{cbind(x,y) \textasciitilde{} z}
===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===

The documentation on writing documentation tells me that I
should, in ``regular text'' enter ~ as 

	\eqn{\mbox{\textasciitilde}}{~} or \eqn{\sim}{~}

but that no characters other than ``%'' and ``\'' are ``special''
inside verbatim environments such as \code{}.

However the Rd to latex processor seems to be converting the ~
into ``\textasciitilde{}'' --- with a pair of braces on the end
as if there should be an argument to the control sequence.  And
then latex is unable to find that control sequence.

Can anyone explain to me what's going on, and how to go about
solving the problem?

Is this a bug, or am I doing something wrong?  Presumably
``\textasciitilde'' ought to be lurking about somewhere, but
it ain't lurking about on our system.  Where could I get it?
I.e. what latex package or *.sty file would it be found in,
and where would that package/*.sty file be located?

Thanks.

					cheers,

						Rolf Turner
						rolf at math.unb.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r-help at lists.thewrittenword.com  Thu Sep 27 22:53:39 2001
From: r-help at lists.thewrittenword.com (r-help@lists.thewrittenword.com)
Date: Thu, 27 Sep 2001 15:53:39 -0500
Subject: [R] library() and lib.loc
Message-ID: <20010927155339.A94979@oolong.il.thewrittenword.com>

library() takes lib.loc as the third argument. Where is this set? I am
modifying the default library search path and everything seems to be
ok except for this (I want R_HOME/lib/library rather than
R_HOME/library).

-- 
albert chin (china at thewrittenword.com)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From york at noaa.gov  Thu Sep 27 23:12:18 2001
From: york at noaa.gov (Anne York)
Date: Thu, 27 Sep 2001 14:12:18 -0700 (PDT)
Subject: [R] using the pfe editor with R 1.1.3  under windows 2000
Message-ID: <Pine.GSO.4.05.10109271325030.12126-100000@ofis450a.akctr.noaa.gov>

I am in the process of setting up R1.3.1 on  a new computer running windows
2000. I am having problems running the PFE text editor  simultaneously
within R for editing  functions and outside R for editing
ordinary text files.  The PFE editor behaves as I expected, if it is opened
in R AND but no other PFE window  is open outside R. Similarly, it also
works fine  if I am editing a text file outside R and no edit window is
open within R. If I try to edit an R function when a PFE window is open
outside R, R hangs and I have to kill it.

On my previous computer, I used R 1.3.0 under windows NT4 and I was able 
use PFE inside and outside R at the same time. I have checked that all the
settings are the same. I don't know if this problem occurs because of
changes in R, changes between NT and 2000, or both. 

Do any of you have a solution to this problem? IS PFE is "too old" and not
worth keeping? It does have a lot of nice features and I would like to keep
using it--  at least for a while.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Anne E. York
National Marine Mammal Laboratory
Seattle WA 98115-0070  USA
e-mail: anne.york at noaa.gov
Voice: +1 206-526-4039
Fax: +1 206-526-6615
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From carew at mr.radiology.wisc.edu  Thu Sep 27 23:07:38 2001
From: carew at mr.radiology.wisc.edu (John Carew)
Date: Thu, 27 Sep 2001 16:07:38 -0500 (CDT)
Subject: [R] concatenate multidimensional arrays
Message-ID: <Pine.GSO.4.10.10109271604030.1620-100000@hippocampus.radiology.wisc.edu>

How does one concatenate two multidimensional arrays along a particular
dimension?  For example, I have two 4 dim arrays that I want to
concatenate along the fourth dimension.  Thank you for your help.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chanial at discovery.saclay.cea.fr  Thu Sep 27 23:12:42 2001
From: chanial at discovery.saclay.cea.fr (Pierre Chanial)
Date: Thu, 27 Sep 2001 23:12:42 +0200
Subject: [R] Correlations in multivariate censored data
Message-ID: <3BB3964A.102@discovery.saclay.cea.fr>

Hello,

I would like to know if the following problem can be solved using the survival 
package in R.

I would like to perform a linear regression:
Z=aX + bY + c
a,b,c being constants to determine (with errors)
X,Y,Z being measurement vectors.
X     being eventually censored.

This problem has not been consistently addressed in my field (astronomy), that's 
why I need interdisciplinarity help!
(references to published and referred articles are highly welcomed)

Thank you very much for your help and attention.
Pierre Chanial

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a215020 at agate.fmr.com  Fri Sep 28 01:03:09 2001
From: a215020 at agate.fmr.com (David Brahm)
Date: Thu, 27 Sep 2001 19:03:09 -0400 (EDT)
Subject: [R] Reading and writing to S-like databases
Message-ID: <200109272303.f8RN39223967@arbres1a.FMR.Com>

Hi,

   I asked this question 2 years ago, and would like to know if the answer has
changed.

   In S-Plus, I build databases of many large objects.  In any given analysis,
I only need a few of those objects, but attach'ing the whole database is fine
since objects are only read as needed.  How can I do the same thing in R,
without reading the entire database?

   One possibility is to treat the database as a package, devoid of code but
containing many .RData files under /data, then load() each object I'll need.
Perhaps autoload() can be used to avoid having to anticipate which objects I'll
need?

   Another is to use dput and dget.  Again I need to know ahead of time which
objects I'll want.

   On July 20, 1999, Ross Ihaka [mailto:ihaka at stat.auckland.ac.nz] wrote:
> We are building the infrastructure for adding external databases which can be
> attached in the S fashion. One of the class of external data base will be
> that of S .Data directories.

I'm not sure where that ended up -- could you clarify, Ross?  Thanks!

			-- David Brahm (a215020 at agate.fmr.com)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmartinez at uia.net  Fri Sep 28 06:22:58 2001
From: jmartinez at uia.net (Jason Martinez)
Date: Thu, 27 Sep 2001 21:22:58 -0700
Subject: [R] Reading and writing to S-like databases
References: <200109272303.f8RN39223967@arbres1a.FMR.Com>
Message-ID: <3BB3FB22.91C636C9@uia.net>

Hi,

Probably not what you wanted to hear, but.... It sounds like you need to
use a relational database management system--assuming that these
'objects' are data frames. If that is the case, then I would migrate to
a RDBMS and establish ODBC (or RpgSQL, RmySQL, etc....) connections with
splus or R.

You can then select particular variables with SQL statements, thereby
avoiding the problem of reading in the entire database.

The downside to this approach is that 'someone' must be capable of
managing the DBMS and to be there to help others. If the DB's are large
and being used by many people, then it might be worth the time and
effort.

Jason





--
Jason Martinez
Sociology Graduate Student
University of California, Riverside



David Brahm wrote:
> 
> Hi,
> 
>    I asked this question 2 years ago, and would like to know if the answer has
> changed.
> 
>    In S-Plus, I build databases of many large objects.  In any given analysis,
> I only need a few of those objects, but attach'ing the whole database is fine
> since objects are only read as needed.  How can I do the same thing in R,
> without reading the entire database?
> 
>    One possibility is to treat the database as a package, devoid of code but
> containing many .RData files under /data, then load() each object I'll need.
> Perhaps autoload() can be used to avoid having to anticipate which objects I'll
> need?
> 
>    Another is to use dput and dget.  Again I need to know ahead of time which
> objects I'll want.
> 
>    On July 20, 1999, Ross Ihaka [mailto:ihaka at stat.auckland.ac.nz] wrote:
> > We are building the infrastructure for adding external databases which can be
> > attached in the S fashion. One of the class of external data base will be
> > that of S .Data directories.
> 
> I'm not sure where that ended up -- could you clarify, Ross?  Thanks!
> 
>                         -- David Brahm (a215020 at agate.fmr.com)
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From akudus at stat.unisba.ac.id  Fri Sep 28 06:15:47 2001
From: akudus at stat.unisba.ac.id (Abdul Kudus)
Date: Fri, 28 Sep 2001 11:15:47 +0700
Subject: [R] Generate rand. data with zero skewness and some kurtosis
Message-ID: <200109280608.IAA17415@stat.math.ethz.ch>

Dear all,

Right now, I'm doing research about outlier in statistical data 
(univariate and multivariate) and I want to simulate its behavior.  My 
problem is :  
How to generate random data from distribution with zero skewness and 
some kurtosis values in R ?

A. Kudus
=====================
Dept. of Statistics
Bandung Islamic University
I n d o n e s i a
==========================


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep 28 08:49:27 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 28 Sep 2001 07:49:27 +0100 (BST)
Subject: [R] Tildes in R docmentation.
In-Reply-To: <200109272040.RAA15178@gelfand.math.unb.ca>
Message-ID: <Pine.GSO.4.31.0109280733120.21696-100000@auk.stats>

This is widely used in the system help files. See e.g lm.Rd which has
\code{response ~ terms}.

That works in text, html and latex (how do you think we get a reference
manual made?).

\textasciitilde is a standard part of latex (in file latex.ltx).  The
feature was introduced in the 1995/12/01 release (see the usrguide.tex) so
it looks as if your latex is more than 5 years' old, or broken.

[...]

> However the Rd to latex processor seems to be converting the ~
> into ``\textasciitilde{}'' --- with a pair of braces on the end
> as if there should be an argument to the control sequence.  And
> then latex is unable to find that control sequence.

That's not what {} means.  It's an empty token to escape the following
space.  (la)tex does not use {} to introduce arguments.

> Can anyone explain to me what's going on, and how to go about
> solving the problem?

You do need a reasonably recent fully functional latex system.  Probably no
more than a couple of years' old (we don't have ancient installations
around to test).

[...]


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep 28 09:03:29 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 28 Sep 2001 08:03:29 +0100 (BST)
Subject: [R] library() and lib.loc
In-Reply-To: <20010927155339.A94979@oolong.il.thewrittenword.com>
Message-ID: <Pine.GSO.4.31.0109280755330.21696-100000@auk.stats>

On Thu, 27 Sep 2001 r-help at lists.thewrittenword.com wrote:

(Really albert chin (china at thewrittenword.com): please sort out your
mailer so that mail gets sent back to you not redirected to the list!)

> library() takes lib.loc as the third argument. Where is this set? I am
> modifying the default library search path and everything seems to be
> ok except for this (I want R_HOME/lib/library rather than
> R_HOME/library).

Well, it isn't set, it is supplied by the user of library(), so just use

library(foo, lib.loc=file.path(Rhome(), "lib", "library"))

However, it defaults to .lib.loc, and that is set in the system Rprofile,
R_HOME/library/base/R/Rprofile.  The recommended way to change that is to
set R_LIBS before calling R, e.g. in your .Renviron.

You can't get away with changing the main library from R_HOME/library,
as that is hardcoded in several places.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Fri Sep 28 10:16:45 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Fri, 28 Sep 2001 10:16:45 +0200 (MET DST)
Subject: [R] Reading and writing to S-like databases
In-Reply-To: <200109272303.f8RN39223967@arbres1a.FMR.Com>
Message-ID: <Pine.OSF.3.96.1010928095851.9164B-100000@ija.csic.es>

Probably the suggestion by Jason ("using a relational database management
system") would be the best although complicated. As alternatives:

1. Save each object as a separate binary file. Create
another object (i.e. a 2 col matrix) that indexes each object
to its file. Attach the index object and, in your function,
attach only the required object. Unfortunately, this implies
that you must know what part (file) of the whole database you
need for a given operation (i.e., that if you need 
individual 3456 you know in which file you have the data for it).

2. You can use delay(). I'm almost done with a short document
on "Using R with large objects", for which I've got interesting
input from the list. In particular, I got the following message
by  Ray Brownrigg (Ray.Brownrigg at mcs.vuw.ac.nz):

""
A.  To set up an object so that it is available at all times, but only
loaded into memory when first referenced, consider the following:

test.x <- delay({attach(system.file("data", "test.rda", pkg="test"));
test.x})

The object test.x has been created and saved as a .rda file using
save(test.x, file="test.rda"), and the resulting file test.rda has been
stored in the data directory of the (installed) package test.  Normally
the command above will be executed as part of loading the package test,
i.e. when library(test) is entered by the user at the R prompt.  Further,
because the object test.x is part of package test, it is not saved as
part of a new .RData when an R session is terminated, (as long as
nothing new is assigned to test.x during the session).
""

You could trick R with this delayed attachment of all the
objects of your database, but you would actually only attach
a given one if your processing really use it.

3. As I point in the document "Getting your styff organized in R",
I've not found any way to list the objects within a binary R file, 
nor to select particular objects from the binary file and attach
only the selected ones (which would be the best solution
in so many cases). I wonder if future R versions could consider
this feature.


Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Thu, 27 Sep 2001, David Brahm wrote:

> Hi,
> 
>    I asked this question 2 years ago, and would like to know if the answer has
> changed.
> 
>    In S-Plus, I build databases of many large objects.  In any given analysis,
> I only need a few of those objects, but attach'ing the whole database is fine
> since objects are only read as needed.  How can I do the same thing in R,
> without reading the entire database?
> 
>    One possibility is to treat the database as a package, devoid of code but
> containing many .RData files under /data, then load() each object I'll need.
> Perhaps autoload() can be used to avoid having to anticipate which objects I'll
> need?
> 
>    Another is to use dput and dget.  Again I need to know ahead of time which
> objects I'll want.
> 
>    On July 20, 1999, Ross Ihaka [mailto:ihaka at stat.auckland.ac.nz] wrote:
> > We are building the infrastructure for adding external databases which can be
> > attached in the S fashion. One of the class of external data base will be
> > that of S .Data directories.
> 
> I'm not sure where that ended up -- could you clarify, Ross?  Thanks!
> 
> 			-- David Brahm (a215020 at agate.fmr.com)
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From johann at mail4.ai.univie.ac.at  Fri Sep 28 11:17:32 2001
From: johann at mail4.ai.univie.ac.at (Johann Petrak)
Date: Fri, 28 Sep 2001 11:17:32 +0200 (CEST)
Subject: [R] binary coding of NA, Nan etc.
Message-ID: <200109280917.LAA03565@fichte.ai.univie.ac.at>


I wonder which binary codings to use for the different
"special" values used in R.
I want to create binary coded files of double, int, and
string values that should get read into R using readBin.

Now, what is the correct way to code NA, NaN, Inf, and -Inf
for these types? The documentation for read/writeBin
doesnt contain any info on that ...
(for int and string, there probably is only NA).
How to do this portably?

The program should be compiled seperately from R, so
I cannot use R macros/configure for that.

Johann

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep 28 11:36:55 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 28 Sep 2001 10:36:55 +0100 (GMT Daylight Time)
Subject: [R] binary coding of NA, Nan etc.
In-Reply-To: <200109280917.LAA03565@fichte.ai.univie.ac.at>
Message-ID: <Pine.WNT.4.31.0109281026140.536-100000@tern.stats>

On Fri, 28 Sep 2001, Johann Petrak wrote:

> I wonder which binary codings to use for the different
> "special" values used in R.
> I want to create binary coded files of double, int, and
> string values that should get read into R using readBin.

It depends on the system.  R uses different values for IEC 60559
(aka IEEE 754) systems and others.

> Now, what is the correct way to code NA, NaN, Inf, and -Inf
> for these types? The documentation for read/writeBin
> doesnt contain any info on that ...

(Well, it is not really a read/writeBin issue: we don't explain any of the
machine-specific details there.)

> (for int and string, there probably is only NA).
> How to do this portably?
>
> The program should be compiled seperately from R, so
> I cannot use R macros/configure for that.

That's partly what Rmathlib and Rmath.h are for.

On a IEEE-754 system use the IEEE-754 values for doubles.

For integers and logicals, the NA value is INT_MIN, 0xff000000 usually.

There is no special NA value for char * strings.  But generally the value
"NA" is interpreted as special.

Reading the R source is the best way to answer such Qs.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Fri Sep 28 12:06:58 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Fri, 28 Sep 2001 12:06:58 +0200
Subject: [R] multiple versions
References: <3BB32ABF.FE3BC326@bank-banque-canada.ca>
Message-ID: <3BB44BC2.835011EA@cbs.dtu.dk>

Paul Gilbert wrote:
> 
> Can anyone suggest a good way to handle multiple versions of R
> and also other tools like gcc and perl (in Unix). I have been
> using soft links from my personal bin to the version I want to
> use, but this has some drawbacks. With this scheme it is
> difficult to run different versions of R in different windows,
> and use of gcc appears to be complicated in several respects when
> I try to change among versions.
> 
> Thanks,
> Paul Gilbert
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._



In my previous working place, I used the to have a directory containing
several distributions of R (say '~/share/packages/allR/').

For each fo them, I set were it should be at configure time (setting the
--prefix switch for configure. Example: './configure --prefix
~/share/packages/allR/R-1.2.3.4' (note: I have a vague recollection of
trouble with the expansion of the '~' so you may want to write the
complete path.).

Once that was done I (soft) linked the respective 'R' in the respective
'lib/R/bin/' to a relevant name in a place in my PATH (in my case it was
'~/share/bin/').

To specify wich c compiler you want to use, you can edit the file
'config.site'. (for perl I do not know but it must be somewhere.. or at
worse you can look into configure.in).


I do not remember of trouble while opening different R sessions at the
same time (except that the .R* files can be version incompatible and
shared by different R sessions ? It's probably a good idea to start each
seesion from a different directory).



Hopin' it helps,




Laurent




-- 
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Fri Sep 28 14:04:32 2001
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Fri, 28 Sep 2001 08:04:32 -0400
Subject: [R] using the pfe editor with R 1.1.3  under windows 2000
Message-ID: <OFA3356EFA.E5254274-ON85256AD5.00422877@hgsi.com>


In the PFE editor menu, go to preference -> Startup and uncheck "Only run
one instance at a time"

This works for me under Win2000 and R 1.3.0

HTH

Partha.



                                                                                                           
                    Anne York                                                                              
                    <york at noaa.gov>             To:     Help R <r-help at stat.math.ethz.ch>                  
                    Sent by:                    cc:                                                        
                    owner-r-help at stat.ma        Subject:     [R] using the pfe editor with R 1.1.3  under  
                    th.ethz.ch                  windows 2000                                               
                                                                                                           
                                                                                                           
                    09/27/2001 05:12 PM                                                                    
                    Please respond to                                                                      
                    Anne York                                                                              
                                                                                                           
                                                                                                           




I am in the process of setting up R1.3.1 on  a new computer running windows
2000. I am having problems running the PFE text editor  simultaneously
within R for editing  functions and outside R for editing
ordinary text files.  The PFE editor behaves as I expected, if it is opened
in R AND but no other PFE window  is open outside R. Similarly, it also
works fine  if I am editing a text file outside R and no edit window is
open within R. If I try to edit an R function when a PFE window is open
outside R, R hangs and I have to kill it.

On my previous computer, I used R 1.3.0 under windows NT4 and I was able
use PFE inside and outside R at the same time. I have checked that all the
settings are the same. I don't know if this problem occurs because of
changes in R, changes between NT and 2000, or both.

Do any of you have a solution to this problem? IS PFE is "too old" and not
worth keeping? It does have a lot of nice features and I would like to keep
using it--  at least for a while.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Anne E. York
National Marine Mammal Laboratory
Seattle WA 98115-0070  USA
e-mail: anne.york at noaa.gov
Voice: +1 206-526-4039
Fax: +1 206-526-6615
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r-help at lists.thewrittenword.com  Fri Sep 28 14:08:37 2001
From: r-help at lists.thewrittenword.com (r-help@lists.thewrittenword.com)
Date: Fri, 28 Sep 2001 07:08:37 -0500
Subject: [R] library() and lib.loc
In-Reply-To: <Pine.GSO.4.31.0109280755330.21696-100000@auk.stats>; from ripley@stats.ox.ac.uk on Fri, Sep 28, 2001 at 08:03:29AM +0100
References: <20010927155339.A94979@oolong.il.thewrittenword.com> <Pine.GSO.4.31.0109280755330.21696-100000@auk.stats>
Message-ID: <20010928070837.A10915@oolong.il.thewrittenword.com>

On Fri, Sep 28, 2001 at 08:03:29AM +0100, Prof Brian D Ripley wrote:
> On Thu, 27 Sep 2001 r-help at lists.thewrittenword.com wrote:
> 
> (Really albert chin (china at thewrittenword.com): please sort out your
> mailer so that mail gets sent back to you not redirected to the list!)

I set Reply-To: so the list would get the reply.

> > library() takes lib.loc as the third argument. Where is this set? I am
> > modifying the default library search path and everything seems to be
> > ok except for this (I want R_HOME/lib/library rather than
> > R_HOME/library).
> 
> Well, it isn't set, it is supplied by the user of library(), so just use
> 
> library(foo, lib.loc=file.path(Rhome(), "lib", "library"))
> 
> However, it defaults to .lib.loc, and that is set in the system Rprofile,
> R_HOME/library/base/R/Rprofile.  The recommended way to change that is to
> set R_LIBS before calling R, e.g. in your .Renviron.

We modified src/library/profile/Rprofile.unix and changed the default
location to:
  .Library <- file.path(R.home(), "lib", "library")

> You can't get away with changing the main library from R_HOME/library,
> as that is hardcoded in several places.

Actually, we've changed the default. Tthe default directory hierarchy
install used by R does not agree with how we build our other packages.
Everything appears to be working OK.

Thanks for the help.

-- 
albert chin (china at thewrittenword.com)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cak at cin.ufpe.br  Fri Sep 28 14:20:53 2001
From: cak at cin.ufpe.br (Carlos Alberto Kamienski)
Date: Fri, 28 Sep 2001 09:20:53 -0300 (BRT)
Subject: [R] Using a zero-finding routine in R
Message-ID: <Pine.LNX.4.21.0109280906350.29001-100000@jurema.cin.ufpe.br>

Hello all!

I'd like to use a routine in R to find the zero of a function (like
Newton-Raphson, Broyden, etc.)
In the  manual, I found a reference to Newton-Raphson method in the
"qr" function, but I simply wonder how I could use it to implement such a
method.

Carlos

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Fri Sep 28 14:23:04 2001
From: andy_liaw at merck.com (Liaw, Andy)
Date: Fri, 28 Sep 2001 08:23:04 -0400
Subject: [R] How to ask smart questions (was RE: [S] A plea (was RE: [S]
 Diffe rences between UNIX and PC)
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC8297@usrymx10.merck.com>

For those of you who are interested, here's is the link:
http://www.tuxedo.org/~esr/faqs/smart-questions.html

(Sorry for x-posting...  I thought it is relevant to both lists.)

Andy

> -----Original Message-----
> From: Liaw, Andy [mailto:andy_liaw at merck.com]
> Sent: Thursday, September 27, 2001 4:28 PM
> To: 'Sinclair, Andrew (MIP London)'; 's-news'
> Subject: Re: [S] A plea (was RE: [S] Differences between UNIX and PC
> 
> 
> Couldn't agree more.  I recently heard that Eric Raymond (an 
> Open Source
> advocate) is putting together a web site (?) that tells 
> people how to ask
> questions on the 'Net so as to maximize their chance of getting useful
> answers.  Seems like it would be a good place for some to 
> visit... unless
> they are *not* interested in getting answers, but just wanted 
> to get it off
> their chest...
> 
> Just my $0.02.
> 
> Andy
> 
> > -----Original Message-----
> > From: Sinclair, Andrew (MIP London)
> > [mailto:ASinclair at maninvestmentproducts.com]
> > Sent: Thursday, September 27, 2001 11:18 AM
> > To: 's-news'
> > Subject: [S] A plea (was RE: [S] Differences between UNIX and 
> > PC version
> > of Splus)
> > 
> > 
> > I just want to make a brief plea for people posting queries 
> > to s-news to 
> > include code fragments that can actually be run and demonstrate the 
> > problem or error that they are referring to.  This makes it 
> > much easier
> > for respondents to give useful answers and saves a lot of 
> time for all
> > concerned.
> > 
> > For example it seems to me that most of the disagreements 
> > in the diatribe below could more easily have been cleared up if   
> > there were specific code fragments to discuss.  I am sure 
> > neither David Smith nor Sicco Schets is a liar.  Either Sicco
> > has a bug in his code or he has uncovered a bug/inconsistency in 
> > some version of Splus or he has misunderstood the results he is 
> > getting.  My point is that noone can tell because we can only
> > speculate about the exact situation in which he observed the
> > behaviour he mentions.  
> > 
> > I do not intend to imply any criticism to either party in 
> > this discussion.
> > Just a (hopefully) constructive comment about the usage of s-news.
> > 
> > Kind regards,
> > 
> > Andrew
> > 
> > 
> > 
> > >-----Original Message-----
> > >From: Sicco Schets [mailto:Sicco.Schets at asml.com]
> > >Sent: Thursday, September 27, 2001 10:32 AM
> > >To: David Smith
> > >Cc: s-news at wubios.wustl.edu
> > >Subject: Re: [S] Differences between UNIX and PC version of Splus
> > >
> > >
> > >Hi,
> > >
> > >Firstly, I want to mention that my first mail was not so much 
> > >intended for
> > >people to solve the problem examples that I have. It was more 
> > >just to get
> > >things of my chest about Splus. Of couse, I also hoped that 
> > >someone could point
> > >me in the direction where I can learn more about modes, 
> > >coercion and the like,
> > >because I still like to believe that the 
> > >errors/bugs/issues/features that I
> > >observe are due to my own lack of this undersanding.
> > >
> > >Furthermore, see my comments between the lines below.
> > >
> > >David Smith wrote:
> > >
> > >> Sicco Schets reports problems transferring functions between 
> > >two versions of
> > >> S-PLUS, which turn out to be from S-PLUS 6 to S-PLUS 2000.  
> > >Although this is
> > >> somewhat to be expected due to the very different versions, 
> > >the problems he
> > >> reports are really just "features" of the language.  
> Details below.
> > >>
> > >> > The PC trial version I was testing on is Splus-2000 
> Release 3 for
> > >> > Windows.
> > >>
> > >> In that case, you were tranferring code unaltered from 
> > >S-PLUS 6 for Unix to
> > >> S-PLUS 2000 Windows, a version of S-PLUS more than 18 months 
> > >older and based
> > >> on an entirely different language engine.
> > >
> > >Actually I was porint code that worked on the PC version to 
> > >the UNIX version 6.
> > >
> > >But I feel that the 'older' Windows version deals better with 
> > >these problems.
> > >
> > >> S-PLUS is largely
> > >> backwards-compatibility, but (lacking the gift of 
> > >prescience) we do not
> > >> claim such levels of forwards-compatibility.  Had you moved 
> > >code between
> > >> S-PLUS 6 for Unix and S-PLUS 6 for Windows I'd have 
> > expected no such
> > >> problems.  We provide tools for moving code between S-PLUS 
> > >2000 for Windows
> > >> and S-PLUS 6 for Windows, and also between S-PLUS 3.4 for 
> > >Unix and S-PLUS
> > >> 5/6 for Unix, but not in the reverse direction.
> > >>
> > >> > if (reg expr)
> > >> > {
> > >> >  code
> > >> > }
> > >> > else
> > >> > {
> > >> >     code
> > >> > }
> > >> >
> > >> > doesn't work
> > >>
> > >> I agree this could be considered a bug, but this kind of 
> > >thing happens with
> > >> all interpreted languages.
> > >
> > >I agree, but why is this behavior not consistent? It is not 
> > >always that the
> > >above code doesn't work!! PC version has no problems with it.
> > >
> > >> Scripts are processed line-by-line, and if a
> > >> line forms the end of a complete expression, the expression 
> > >is evaluated.
> > >> else clauses aren't the only instance of this:
> > >>
> > >>         x <- 10
> > >>         -y
> > >>
> > >> Should this be interpreted as "x <- 10-y", or as two 
> > >separate expressions?
> > >> The rule of stopping at complete expressions is sometimes 
> > >inconvenient, but
> > >> not having it can introduce much worse ambiguities.  (You 
> > >might think that
> > >> when reading from script files, looking ahead to the next 
> > >line could resolve
> > >> ambiguities, as in the if/else case.  But then, pasting text 
> > >to the command
> > >> line as opposed to using source() could have different 
> > >results. That's bad
> > >> too.)
> > >>
> > >> In any case, this issue exists in both S-PLUS 2000 and 
> > >S-PLUS 6, so at least
> > >> it's backwards (and forwards!) compatible.
> > >
> > >Not true!
> > >
> > >>
> > >>
> > >> > Or the mode of e.g a data.frame is returned by a function
> > >> > differently on the 2 platforms.
> > >>
> > >> I don't believe this is true.  There are several classes 
> > >where the *class*
> > >> of an object will be different in S-PLUS 6 than S-PLUS 2000 
> > >(basic objects
> > >> like vectors and matrices come to mind), but the behaviour 
> > >of mode() hasn't
> > >> changed.
> > >
> > >Well, I'm not sucking this out of my thumb. I see this 
> > >phenomenon. I know the
> > >reason for it may be something else than the behavior of 
> > mode() between
> > >platforms. I am trying to understand what causes this. I don't 
> > >need anyone
> > >telling me that it is not true.
> > >
> > >
> > >>
> > >>
> > >> > And if I have a statement like 'return(list(a=bla, b=blabla)'
> > >> > inside a 'tapply' then on the PC version I can 
> reference the vars
> > >> > with $a and $b. However, on the UNIX version I can't.
> > >>
> > >> I don't believe this to be true either (although it's hard 
> > >to tell exactly
> > >> what you mean).
> > >
> > >OK I'm just stirring some BS. Nevertheless I have observed 
> > >this and solved it
> > >by using the [[ ]] notation.
> > >
> > >>
> > >>
> > >> > Another issue is that you can have a data.frame (made with
> > >> > read.table()) with
> > >> > a column of doubles. If you ask for the mode of this column it
> > >> > will tell you
> > >> > it's numeric, but if you then multiply this column with any
> > >> > number you get an
> > >> > error stating that multiplication cannot be done on factors.
> > >>
> > >> This behaviour exists in all versions of S-PLUS (since 
> > >version 3, at least).
> > >> Like many aspects of the S language, the behaviour of 
> > >factors is undoubtedly
> > >> quirky, but it is consistent. In S-PLUS 6 you can turn off 
> > >automatic factor
> > >> coercieon with the options(stringsAsFactors=F).  If your 
> > >column really was
> > >> doubles, there must have been a text character there 
> > >sometime for it to have
> > >> been converted to a factor.
> > >
> > >Well no, the whole column is in the scientific notation, with 
> > >a possible NA
> > >somewhere. So, it could be that an NA is read by read.table() 
> > >as a character,
> > >explaining this, but that is, in my opinion, not the desired 
> > >behavior. If Splus
> > >supports NA, which is great,  it should support it everywhere.
> > >
> > >thanks
> > >Sicco
> > 
> > 
> > 
> > 
> **********************************************************************
> > Any information in this communication which is confidential must not
> > be disclosed to others without our consent. Such consent is 
> > not required
> > where the information is publicly available and intended for onward
> > distribution. If the information is confidential and if you 
> > are not the
> > intended recipient, you are not authorised to and must not disclose,
> > copy, distribute, or retain this message or any part of it. You are
> > requested to return this message to the sender immediately.
> > 
> > Due to the electronic nature of e-mail, there is a risk that the
> > information contained in this message has been modified. 
> > Consequently Man Investment Products can accept no responsibility or
> > liability as to the completeness or accuracy of the information.
> > 
> > Visit us at: www.maninvestmentproducts.com
> > 
> > 
> **********************************************************************
> > 
> > 
> ---------------------------------------------------------------------
> > This message was distributed by s-news at lists.biostat.wustl.edu.  To
> > unsubscribe send e-mail to 
> s-news-request at lists.biostat.wustl.edu with
> > the BODY of the message:  unsubscribe s-news
> > 
> 
> ---------------------------------------------------------------------
> This message was distributed by s-news at lists.biostat.wustl.edu.  To
> unsubscribe send e-mail to s-news-request at lists.biostat.wustl.edu with
> the BODY of the message:  unsubscribe s-news
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Fri Sep 28 14:42:00 2001
From: andy_liaw at merck.com (Liaw, Andy)
Date: Fri, 28 Sep 2001 08:42:00 -0400
Subject: [R] Reading and writing to S-like databases
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC829A@usrymx10.merck.com>

[snipped...]
 
> 3. As I point in the document "Getting your styff organized in R",
> I've not found any way to list the objects within a binary R file, 
> nor to select particular objects from the binary file and attach
> only the selected ones (which would be the best solution
> in so many cases). I wonder if future R versions could consider
> this feature.

I'd like to express my strong second for similar feature.  I think it would
be very helpful for project management.  Also would be nice is something
similar to the Unix "ls -l": giving modes, length (or dim), etc. of the
objects in some file or the workspace.
 
> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es

Regards,
Andy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Fri Sep 28 14:46:41 2001
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Fri, 28 Sep 2001 14:46:41 +0200
Subject: [R] Using a zero-finding routine in R
In-Reply-To: <Pine.LNX.4.21.0109280906350.29001-100000@jurema.cin.ufpe.br>
Message-ID: <B7DA3DD1.B575%pflugshaupt@geobot.umnw.ethz.ch>

On 28.9.2001 14:20 Uhr, Carlos Alberto Kamienski wrote:

> Hello all!
> 
> I'd like to use a routine in R to find the zero of a function (like
> Newton-Raphson, Broyden, etc.)
> In the  manual, I found a reference to Newton-Raphson method in the
> "qr" function, but I simply wonder how I could use it to implement such a
> method.

Have a look at uniroot(), or optim() for more complex tasks.

Cheers

Kaspar

-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.firth at nuffield.oxford.ac.uk  Fri Sep 28 15:08:34 2001
From: david.firth at nuffield.oxford.ac.uk (David Firth)
Date: Fri, 28 Sep 2001 14:08:34 +0100
Subject: [R] names of model coefficients etc
Message-ID: <a0501040bb7da2378d939@[163.1.41.88]>

I am curious about the reason for the following:

>  xzw<-lm(y ~ x+cbind(z,w))
>  names1<-names(xzw$coefficients)
>  names1
[1] "(Intercept)"  "x"            "cbind(z, w)z" "cbind(z, w)w"
>  names2<-colnames(as.matrix(xzw$model))
>  names2
[1] "y"             "x"             "cbind(z, w).z" "cbind(z, w).w"
>  names1==names2
[1] FALSE  TRUE FALSE FALSE

It would be helpful for some purposes if all components except the 
first here could be TRUE.  Presumably there is some good reason for 
the difference?  Can someone please enlighten me?
-- 


David Firth                        Phone +44 1865 278544
Nuffield College                   Fax   +44 1865 278621
Oxford OX1 1NF                     Secretary +44 1865 278553
United Kingdom                     Email david.firth at nuffield.ox.ac.uk

http://www.stats.ox.ac.uk/~firth/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Harvey.Monder at pharma.com  Fri Sep 28 15:25:36 2001
From: Harvey.Monder at pharma.com (Monder, Harvey)
Date: Fri, 28 Sep 2001 09:25:36 -0400
Subject: [R] Multithread processing
Message-ID: <E5EC0556E8B6D2118CB600A0C9B6BB6003BA577E@a2mbx01.pharma.com>

Sorry, I should have been more specific.  We are experimenting with Linux
clusters and I wondered if R can take advantage of the multiprocessor
environment.

	Thanks,
	Harvey

	-----Original Message-----
	From:	Prof Brian D Ripley [SMTP:ripley at stats.ox.ac.uk]
	Sent:	Wednesday, September 26, 2001 3:47 PM
	To:	Monder, Harvey
	Cc:	'r-help at lists.r-project.org'
	Subject:	Re: [R] Multithread processing

	On Wed, 26 Sep 2001, Monder, Harvey wrote:

	> Dose anyone know if R can handle multithread processing?

	On what platform?

	I guess the answer is not yet, but on Windows it does make use of
multiple
	threads, not at user level.


	-- 
	Brian D. Ripley,                  ripley at stats.ox.ac.uk
	Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
	University of Oxford,             Tel:  +44 1865 272861 (self)
	1 South Parks Road,                     +44 1865 272860 (secr)
	Oxford OX1 3TG, UK                Fax:  +44 1865 272595

	
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
	r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
	Send "info", "help", or "[un]subscribe"
	(in the "body", not the subject !)  To:
r-help-request at stat.math.ethz.ch
	
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep 28 15:44:43 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 28 Sep 2001 14:44:43 +0100 (BST)
Subject: [R] names of model coefficients etc
In-Reply-To: <a0501040bb7da2378d939@[163.1.41.88]>
Message-ID: <Pine.LNX.4.31.0109281438190.6141-100000@gannet.stats>

On Fri, 28 Sep 2001, David Firth wrote:

> I am curious about the reason for the following:
>
> >  xzw<-lm(y ~ x+cbind(z,w))
> >  names1<-names(xzw$coefficients)
> >  names1
> [1] "(Intercept)"  "x"            "cbind(z, w)z" "cbind(z, w)w"
> >  names2<-colnames(as.matrix(xzw$model))
> >  names2
> [1] "y"             "x"             "cbind(z, w).z" "cbind(z, w).w"
> >  names1==names2
> [1] FALSE  TRUE FALSE FALSE
>
> It would be helpful for some purposes if all components except the
> first here could be TRUE.  Presumably there is some good reason for
> the difference?  Can someone please enlighten me?

xzw$model is the model frame: xzw$coefficients refers to the model
matrix.  With factors in the model they are very different.

I guess you wanted a linear model fit with x=TRUE and xzw$x, as it

y <- rnorm(100)
x <- rnorm(100)
z <- rnorm(100)
w <- rnorm(100)
xzw<-lm(y ~ x+cbind(z,w), x = TRUE)
colnames(xzw$x)
[1] "(Intercept)"  "x"            "cbind(z, w)z" "cbind(z, w)w"

Further, be careful of calling xzw$coefficients rather than coef(xzw).
You will not always get the same thing with other fitting functions.


Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Fri Sep 28 17:13:17 2001
From: ernesto at ipimar.pt (=?ISO-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Fri, 28 Sep 2001 16:13:17 +0100
Subject: [R] Classes implemented in R and packages
Message-ID: <3BB4938D.5050907@ipimar.pt>

Hi

I'm writing some functions and I want to use some classes and related 
ploting methods.

I want to know if there is a list of classes implemented in R and R 
packages. I want to be shure that I'm not going to implement a class 
with the same name as in other package.

Thanks

EJ



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep 28 16:11:31 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 28 Sep 2001 15:11:31 +0100 (BST)
Subject: [R] Reading and writing to S-like databases
In-Reply-To: <51F9C42DA15CD311BD220008C707D81903DC829A@usrymx10.merck.com>
Message-ID: <Pine.LNX.4.31.0109281454170.6141-100000@gannet.stats>

On Fri, 28 Sep 2001, Liaw, Andy wrote:

> [snipped...]
>
> > 3. As I point in the document "Getting your styff organized in R",
> > I've not found any way to list the objects within a binary R file,
> > nor to select particular objects from the binary file and attach
> > only the selected ones (which would be the best solution
> > in so many cases). I wonder if future R versions could consider
> > this feature.
>
> I'd like to express my strong second for similar feature.  I think it would
> be very helpful for project management.  Also would be nice is something
> similar to the Unix "ls -l": giving modes, length (or dim), etc. of the
> objects in some file or the workspace.

It's not as simple as that in R.  Objects are not self-contained: they
have an environment.  And objects can share parts.  The model you both
seem to have in mind isn't appropriate for R workspaces.

It's very easy to write a function giving modes, length (or dim), etc for
a workspace, which I'll leave as an exercise for the reader.  But it will
not be like ls -l: the size of an R object is not well-defined (see
?object.size) and neither is the data (because of sharing).

Take a look at the saveload.c source code, and when you follow what it
does you will be able to work out what is feasible.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep 28 16:17:50 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 28 Sep 2001 15:17:50 +0100 (BST)
Subject: [R] Classes implemented in R and packages
In-Reply-To: <3BB4938D.5050907@ipimar.pt>
Message-ID: <Pine.LNX.4.31.0109281512300.6141-100000@gannet.stats>

On Fri, 28 Sep 2001, [ISO-8859-1] Jos Ernesto Jardim wrote:

> Hi
>
> I'm writing some functions and I want to use some classes and related
> ploting methods.
>
> I want to know if there is a list of classes implemented in R and R
> packages. I want to be shure that I'm not going to implement a class
> with the same name as in other package.

That's impossible to know: there is not even a list of all R packages, and
the contents of those on CRAN changes a few hundred times a year.

It is not even possible to find the list of classes used by a single
package, as the class names can be generated dynamically by R code.

I suggest that if you call your class JoseErnestoJardim.foo you are
likely to be safe.  Well, that's overkill, but use a long descriptive
name to minimize the risk.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Fri Sep 28 16:31:36 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 28 Sep 2001 07:31:36 -0700
Subject: [R] Multithread processing
In-Reply-To: <E5EC0556E8B6D2118CB600A0C9B6BB6003BA577E@a2mbx01.pharma.com>
References: <E5EC0556E8B6D2118CB600A0C9B6BB6003BA577E@a2mbx01.pharma.com>
Message-ID: <873d574caf.fsf@jeeves.blindglobe.net>

>>>>> "HM" == Harvey Monder <Monder> writes:

    HM> Sorry, I should have been more specific.  We are experimenting
    HM> with Linux clusters and I wondered if R can take advantage of
    HM> the multiprocessor environment.

With explicit programming, you can do something similar (highly
depending on what you explicitly mean by "take advantage of") to
multiple threads using the RPVM library.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------- (wednesday/friday is unknown) --------
FHCRC: M-Tu : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Fri Sep 28 16:34:27 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Fri, 28 Sep 2001 16:34:27 +0200
Subject: [R] binary coding of NA, Nan etc.
References: <Pine.WNT.4.31.0109281026140.536-100000@tern.stats>
Message-ID: <3BB48A73.63598E68@cbs.dtu.dk>

Hello,


Thanks to the Pr. Ripley for the precise explanations.
Not so long long ago, I have been generating numerical binary data file
using java, and noticed that Double.NaN in java was just something very
big (1.797693e+308) when read in R through readBin. Being too lazy/in a
hurry to look for the reason I just turned the values greater than or
equal to that into NA when read in R.
As that is a rather dirty way of doing things, and as I am ignorant in
numbers binary representation, I was thinking a paramater to readBin or
writeBin specifying the convention wanted for the could be nifty.

Does it makes (any) sense ?



Laurent





Prof Brian D Ripley wrote:
> 
> On Fri, 28 Sep 2001, Johann Petrak wrote:
> 
> > I wonder which binary codings to use for the different
> > "special" values used in R.
> > I want to create binary coded files of double, int, and
> > string values that should get read into R using readBin.
> 
> It depends on the system.  R uses different values for IEC 60559
> (aka IEEE 754) systems and others.
> 
> > Now, what is the correct way to code NA, NaN, Inf, and -Inf
> > for these types? The documentation for read/writeBin
> > doesnt contain any info on that ...
> 
> (Well, it is not really a read/writeBin issue: we don't explain any of the
> machine-specific details there.)
> 
> > (for int and string, there probably is only NA).
> > How to do this portably?
> >
> > The program should be compiled seperately from R, so
> > I cannot use R macros/configure for that.
> 
> That's partly what Rmathlib and Rmath.h are for.
> 
> On a IEEE-754 system use the IEEE-754 values for doubles.
> 
> For integers and logicals, the NA value is INT_MIN, 0xff000000 usually.
> 
> There is no special NA value for char * strings.  But generally the value
> "NA" is interpreted as special.
> 
> Reading the R source is the best way to answer such Qs.
> 
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Fri Sep 28 17:46:21 2001
From: ernesto at ipimar.pt (=?ISO-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Fri, 28 Sep 2001 16:46:21 +0100
Subject: [R] Classes implemented in R and packages
References: <Pine.LNX.4.31.0109281512300.6141-100000@gannet.stats>
Message-ID: <3BB49B4D.1060009@ipimar.pt>

Ok, thanks.

EJ

Prof Brian Ripley wrote:

>On Fri, 28 Sep 2001, [ISO-8859-1] Jos? Ernesto Jardim wrote:
>
>>Hi
>>
>>I'm writing some functions and I want to use some classes and related
>>ploting methods.
>>
>>I want to know if there is a list of classes implemented in R and R
>>packages. I want to be shure that I'm not going to implement a class
>>with the same name as in other package.
>>
>
>That's impossible to know: there is not even a list of all R packages, and
>the contents of those on CRAN changes a few hundred times a year.
>
>It is not even possible to find the list of classes used by a single
>package, as the class names can be generated dynamically by R code.
>
>I suggest that if you call your class JoseErnestoJardim.foo you are
>likely to be safe.  Well, that's overkill, but use a long descriptive
>name to minimize the risk.
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010928/ff957701/attachment.html

From john_heumann at agilent.com  Fri Sep 28 17:03:17 2001
From: john_heumann at agilent.com (HEUMANN,JOHN (A-Loveland,ex1))
Date: Fri, 28 Sep 2001 09:03:17 -0600
Subject: [R] change directory?
Message-ID: <9153F74610B7D311B83900902771C8710A4CE3E5@axcs07.cos.agilent.com>

Please pardon a novice use question.

Is there any way under the Win32 version of R (1.3.0)
to change the working directory from the GUI command
line? I see the "Change dir" entry under the File 
menu, but haven't found a corresponding command.

Thanks in advance,
-jh-

=========================================
John M. Heumann, Agilent Technologies
815 14th St. S.W., Loveland, CO 80537 USA
Email: john_heumann at agilent.com
Phone: 970 679-3761 FAX: 970 679-5399
=========================================
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Sep 28 17:11:31 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Fri, 28 Sep 2001 11:11:31 -0400 (EDT)
Subject: [R] change directory?
In-Reply-To: <9153F74610B7D311B83900902771C8710A4CE3E5@axcs07.cos.agilent.com>
Message-ID: <Pine.LNX.4.30.0109281110440.22686-100000@bolker.zoo.ufl.edu>


  help.search("directory")

leads to

?getwd

leads to

  setwd()

On Fri, 28 Sep 2001, HEUMANN,JOHN (A-Loveland,ex1) wrote:

> Please pardon a novice use question.
>
> Is there any way under the Win32 version of R (1.3.0)
> to change the working directory from the GUI command
> line? I see the "Change dir" entry under the File
> menu, but haven't found a corresponding command.
>
> Thanks in advance,
> -jh-
>
> =========================================
> John M. Heumann, Agilent Technologies
> 815 14th St. S.W., Loveland, CO 80537 USA
> Email: john_heumann at agilent.com
> Phone: 970 679-3761 FAX: 970 679-5399
> =========================================
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep 28 17:33:09 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 28 Sep 2001 16:33:09 +0100 (BST)
Subject: [R] binary coding of NA, Nan etc.
In-Reply-To: <3BB48A73.63598E68@cbs.dtu.dk>
Message-ID: <Pine.LNX.4.31.0109281621560.6278-100000@gannet.stats>

On Fri, 28 Sep 2001, Laurent Gautier wrote:

> Hello,
>
>
> Thanks to the Pr. Ripley for the precise explanations.
> Not so long long ago, I have been generating numerical binary data file
> using java, and noticed that Double.NaN in java was just something very
> big (1.797693e+308) when read in R through readBin. Being too lazy/in a
> hurry to look for the reason I just turned the values greater than or
> equal to that into NA when read in R.
> As that is a rather dirty way of doing things, and as I am ignorant in
> numbers binary representation, I was thinking a paramater to readBin or
> writeBin specifying the convention wanted for the could be nifty.
>
> Does it makes (any) sense ?

How would you specify it?  You would need a way to specify the bit pattern
(of the source or target endianness?) of Inf, -Inf, NA, the class of NaNs
(there are many of them) for doubles and perhaps floats too.  And R
has no type to represent such bit patterns.

I would expect all compiled languages to be using the same representations
on modern hardware.  However, Java is not in that sense compiled and may
well be different: I have no idea.

One thing I did not say before: R's standard NA is the NaN with low word
of 1954.  I have no idea how to generate that on another system except
via the sort of sneaky tricks arithmetic.c plays.  The multiplicity
of NaNs complicates this enormously.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a296180 at mica.fmr.com  Fri Sep 28 18:04:17 2001
From: a296180 at mica.fmr.com (David Kane  <David Kane)
Date: Fri, 28 Sep 2001 12:04:17 -0400
Subject: [R] Summary of Characters vectors, NA's and "" in merges
Message-ID: <15284.40833.288546.322693@gargle.gargle.HOWL>

Thanks to Brian Ripley, Gregory Warnes, and Dennis Murphy for considering my
problem about "NA" in character strings. The nub of the issue seems to be that
you can not have a string with "NA" in it in a character vector in R without it
being intrepreted as meaning NA (i.e., not available). The only work-arounds
involve renames of various sorts.

Perhaps this is more appropriate for r-devel, but I was wondering what the
future holds for character vectors in R, i.e., will this always be a
problem? Although I am not smart enough to understand the Green Book, there is
a discussion following page 200 that *seems* to suggest that the usage of a
string class may make it easier to deal with this issue.

Is there anything coming down the pike on this point?


Greg suggested:

Perhaps the simplest thing would be to change occurences of "NA" (meaning
Nabisco) to something similar like "NA." before placing the variable in a
dataframe....

> a <- data.frame(x = 1:4)
> y <- c("NA","a","b")
> y[y=="NA"] <- "NA."
> b <- data.frame(x = 1:3, y = y)
> merge(a, b, all.x = TRUE)
  x   y
1 1 NA.
2 2   a
3 3   b
4 4  NA

This isn't very clean, but its simple...

Dennis suggested:

This might be a little naive, but...since R *is* case sensitive, would
"Na" for Nabisco be a workable substitute?

> str <- c("A","B","NA","Na","NA")
> which(is.na(str))
[1] 3 5


Thanks again to all,

Dave
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep 28 18:51:31 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 28 Sep 2001 17:51:31 +0100 (BST)
Subject: [R] Summary of Characters vectors, NA's and "" in merges
In-Reply-To: <15284.40833.288546.322693@gargle.gargle.HOWL>
Message-ID: <Pine.LNX.4.31.0109281719170.6351-100000@gannet.stats>

On Fri, 28 Sep 2001, David Kane  <David Kane wrote:

> Thanks to Brian Ripley, Gregory Warnes, and Dennis Murphy for considering my
> problem about "NA" in character strings. The nub of the issue seems to be that
> you can not have a string with "NA" in it in a character vector in R without it
> being intrepreted as meaning NA (i.e., not available). The only work-arounds
> involve renames of various sorts.
>
> Perhaps this is more appropriate for r-devel, but I was wondering what the
> future holds for character vectors in R, i.e., will this always be a
> problem? Although I am not smart enough to understand the Green Book, there is
> a discussion following page 200 that *seems* to suggest that the usage of a
> string class may make it easier to deal with this issue.
>
> Is there anything coming down the pike on this point?

Well, we can't change character vectors without invalidating the integrity
of lots of saved objects.  One could use another class, but then you would
need functions to handle that class.  In the case in point that won't
help much as merge.data.frame does an as.character when doing the
matching, and a few other things (see below).

The class string exists in S-PLUS 6 but is almost unused. You can do

> foo <- as(c("NA", "OK"), "string")
> foo
[1] "NA" "OK"
> is.na(foo)
[1] F F
> is.na(foo[2]) <- T
> foo
[1] "NA" <NA>
> is.na(foo)
[1] F T
# but be careful:
> foo[2] <- NA
> foo
[1] "NA" "NA"


Note that you can do this with factors, and I tested it previously on your
example. Start with

x <- structure(c(1, 2, NA), levels = c("NA", "OK"), class="factor")
> x
[1] NA OK NA
Levels:  NA OK

Here the first is "NA" and the third really is missing.
So in your original example

> a <- data.frame(x = 1:4)
> b <- data.frame(x = 1:3, y = factor(c("NA", "a", "b"), exclude=""))
> m <- merge(a, b, all.x = TRUE)
> m
  x  y
1 1 NA
2 2  a
3 3  b
4 4 NA

you have lost the distinction (look and see) because of
y[(lxy + 1):(lxy + nxx), ] <- NA

and that suggests that [<-.factor is not quite right.  That shows the
subtleties involved: it does not work in S with string classes either.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Fri Sep 28 19:12:51 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Fri, 28 Sep 2001 19:12:51 +0200
Subject: [R] binary coding of NA, Nan etc.
References: <Pine.LNX.4.31.0109281621560.6278-100000@gannet.stats>
Message-ID: <3BB4AF93.BAB20EA3@cbs.dtu.dk>

Prof Brian Ripley wrote:

> How would you specify it?  You would need a way to specify the bit pattern
> (of the source or target endianness?) of Inf, -Inf, NA, the class of NaNs
> (there are many of them) for doubles and perhaps floats too.  And R
> has no type to represent such bit patterns.



I have no real knowledge of binary representation of these 'special'
numbers.
I was naively thinking a limited set of conventions were used by the
majority of the software/libraries. In this context having parameters
about endianess and type (as it is already the case for the actual
readBin and writeBin) plus the 'convention' (like IEEE-754 may be is).
For R things would remain the same, this would just be a choice in
encoding NA and friends on output (or input).

In my example I saw it as:


double:
	Java_representation (this is always 'big' endianess... a good thing
with java binary representation):
	0xef7f ffff ffff ffff

	IEEE-754
	0xffwhatever_it_is

and so on...

float:
	...and on...


But as you suggested things are (unfortunately) not that simple... I
guess for some type, NA and friends might be undefined...




I guess what I only have left to do is to wish everybody a good week-end
and run home....



Regards,




Laurent






 
> I would expect all compiled languages to be using the same representations
> on modern hardware.  However, Java is not in that sense compiled and may
> well be different: I have no idea.
> 
> One thing I did not say before: R's standard NA is the NaN with low word
> of 1954.  I have no idea how to generate that on another system except
> via the sort of sneaky tricks arithmetic.c plays.  The multiplicity
> of NaNs complicates this enormously.
> 
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-- 
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From york at noaa.gov  Fri Sep 28 19:44:56 2001
From: york at noaa.gov (Anne York)
Date: Fri, 28 Sep 2001 10:44:56 -0700 (PDT)
Subject: [R] using the pfe editor with R 1.1.3  under windows 2000
In-Reply-To: <3BB4B2BB.65A7BE82@umsanet.edu.bo>
Message-ID: <Pine.GSO.4.05.10109281043000.10130-100000@ofis450a.akctr.noaa.gov>

Here's what I did-- for the momemt.


As Partha's suggested, I specifiyed PFE to run as a "single
instance". This appears to run PFE as a single instance only within R.
However, outside R, if pfe is run, it runs as a second process and all text
files edited outside R are run within that second process.

I also had trouble running both the pager and the function editor together
and for the momemnt, I set the pager as "internal" in my rprofile file.
I did use pfe for the pager and function editor under NT in Splus, but
I'm not positive that I had that working in R.



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Anne E. York
National Marine Mammal Laboratory
Seattle WA 98115-0070  USA
e-mail: anne.york at noaa.gov
Voice: +1 206-526-4039
Fax: +1 206-526-6615
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

On Fri, 28 Sep 2001, kjetil halvorsen wrote:

>
>
>partha_bagchi at hgsi.com wrote:
>> 
>> In the PFE editor menu, go to preference -> Startup and uncheck "Only run
>> one instance at a time" 
>
>This works for me to (windows 98), with one exception. I have set PFE as
>the default pager, and that works if PFE is already running. But PFE as
>default editor
>have problems. If I use fix() when PFE is already running, I have to
>kill
>the R process.
>
>Why the difference?
>
>Kjetil Halvorsen
>> 
>> This works for me under Win2000 and R 1.3.0
>> 
>> HTH
>> 
>> Partha.
>> 
>> 
>>                     Anne York
>>                     <york at noaa.gov>             To:     Help R <r-help at stat.math.ethz.ch>
>>                     Sent by:                    cc:
>>                     owner-r-help at stat.ma        Subject:     [R] using the pfe editor with R 1.1.3  under
>>                     th.ethz.ch                  windows 2000
>> 
>> 
>>                     09/27/2001 05:12 PM
>>                     Please respond to
>>                     Anne York
>> 
>> 
>> 
>> I am in the process of setting up R1.3.1 on  a new computer running windows
>> 2000. I am having problems running the PFE text editor  simultaneously
>> within R for editing  functions and outside R for editing
>> ordinary text files.  The PFE editor behaves as I expected, if it is opened
>> in R AND but no other PFE window  is open outside R. Similarly, it also
>> works fine  if I am editing a text file outside R and no edit window is
>> open within R. If I try to edit an R function when a PFE window is open
>> outside R, R hangs and I have to kill it.
>> 
>> On my previous computer, I used R 1.3.0 under windows NT4 and I was able
>> use PFE inside and outside R at the same time. I have checked that all the
>> settings are the same. I don't know if this problem occurs because of
>> changes in R, changes between NT and 2000, or both.
>> 
>> Do any of you have a solution to this problem? IS PFE is "too old" and not
>> worth keeping? It does have a lot of nice features and I would like to keep
>> using it--  at least for a while.
>> 
>> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>> Anne E. York
>> National Marine Mammal Laboratory
>> Seattle WA 98115-0070  USA
>> e-mail: anne.york at noaa.gov
>> Voice: +1 206-526-4039
>> Fax: +1 206-526-6615
>> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>> 
>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
>> -.-.-
>> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>> Send "info", "help", or "[un]subscribe"
>> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
>> _._._
>> 
>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>> Send "info", "help", or "[un]subscribe"
>> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a215020 at agate.fmr.com  Fri Sep 28 20:12:52 2001
From: a215020 at agate.fmr.com (David Brahm)
Date: Fri, 28 Sep 2001 14:12:52 -0400 (EDT)
Subject: [R] Reading and writing to S-like databases
Message-ID: <200109281812.f8SICqI01180@arbres1a.FMR.Com>

I asked:
> In S-Plus, I build databases of many large objects.  In any given analysis,
> I only need a few of those objects, but attach'ing the whole database is fine
> since objects are only read as needed.  How can I do the same thing in R,
> without reading the entire database?

Responses were generally in 2 categories:
1) Use an external SQL database (fine for dataframes, but not flexible enough),
2) Use autoload() or delay()  (thanks to Agustin Lobo & Ray Brownrigg!).
Here's what I came up with from the second approach.

##### Code: #####
"%&%" <- function(a, b) paste(a, b, sep="")
g.save.data <- function(dir, pos=2) {
  for (i in dir %&% c("", "/data", "/R")) if (!file.exists(i)) dir.create(i)
  obj <- objects(pos, all.names=T)
  for (i in obj) save(list=i, file=dir %&% "/data/" %&% i %&% ".RData")
  code <- obj %&% " <- delay({data(\"" %&% obj %&% "\"); " %&% obj %&% "})"
  cat(code, file=dir %&% "/R/" %&% basename(dir), sep="\n")
}
g.attach <- function(dir) library(basename(dir), lib.loc=dirname(dir), char=T)

##### Example: #####
attach(NULL, name="newdata")    # Create some data in a new environment
assign("x1",  1:10, 2)
assign("x2", 11:20, 2)
g.save.data("/tmp/newdata")     # Save that environment's contents to a pkg
detach(2)
g.attach("/tmp/newdata")        # Open the pkg and see the data!

				-- David Brahm (a215020 at agate.fmr.com)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a215020 at agate.fmr.com  Fri Sep 28 23:09:46 2001
From: a215020 at agate.fmr.com (David Brahm)
Date: Fri, 28 Sep 2001 17:09:46 -0400 (EDT)
Subject: [R] save() in the presence of conflicts
Message-ID: <200109282109.f8SL9kw02308@arbres1a.FMR.Com>

In the function g.save.data() I posted a few hours ago, I save() objects that
live in position 2.  However, if there are objects of the same name in
position 1, save() sees them instead.  How can I tell save() that I want the
objects in position 2, i.e. something like:
  save(get("x",2), myfile)
or
  save(list="x", myfile, pos=2)

Right now my crude solution is:
  for (i in obj) if (exists(i,1,inherits=F)) rm(list=i, pos=1)

	    -- Thanks,  David Brahm (a215020 at agate.fmr.com)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Fri Sep 28 23:11:37 2001
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Fri, 28 Sep 2001 17:11:37 -0400
Subject: [R] using the pfe editor with R 1.1.3  under windows 2000
Message-ID: <OF1580B718.25DD676B-ON85256AD5.007462D5@hgsi.com>


I don't know. I do not have access to Win98.



                                                                                                     
                    kjetil                                                                           
                    halvorsen             To:     partha_bagchi at hgsi.com                             
                    <kjetilh at umsan        cc:     Anne York <anne.york at noaa.gov>, Help R             
                    et.edu.bo>            <r-help at stat.math.ethz.ch>                                 
                                          Subject:     Re: [R] using the pfe editor with R 1.1.3     
                    09/28/2001            under windows 2000                                         
                    01:26 PM                                                                         
                    Please respond                                                                   
                    to kjetilh                                                                       
                                                                                                     
                                                                                                     






partha_bagchi at hgsi.com wrote:
>
> In the PFE editor menu, go to preference -> Startup and uncheck "Only run
> one instance at a time"

This works for me to (windows 98), with one exception. I have set PFE as
the default pager, and that works if PFE is already running. But PFE as
default editor
have problems. If I use fix() when PFE is already running, I have to
kill
the R process.

Why the difference?

Kjetil Halvorsen
>
> This works for me under Win2000 and R 1.3.0
>
> HTH
>
> Partha.
>
>
>                     Anne York
>                     <york at noaa.gov>             To:     Help R
<r-help at stat.math.ethz.ch>
>                     Sent by:                    cc:
>                     owner-r-help at stat.ma        Subject:     [R] using
the pfe editor with R 1.1.3  under
>                     th.ethz.ch                  windows 2000
>
>
>                     09/27/2001 05:12 PM
>                     Please respond to
>                     Anne York
>
>
>
> I am in the process of setting up R1.3.1 on  a new computer running
windows
> 2000. I am having problems running the PFE text editor  simultaneously
> within R for editing  functions and outside R for editing
> ordinary text files.  The PFE editor behaves as I expected, if it is
opened
> in R AND but no other PFE window  is open outside R. Similarly, it also
> works fine  if I am editing a text file outside R and no edit window is
> open within R. If I try to edit an R function when a PFE window is open
> outside R, R hangs and I have to kill it.
>
> On my previous computer, I used R 1.3.0 under windows NT4 and I was able
> use PFE inside and outside R at the same time. I have checked that all
the
> settings are the same. I don't know if this problem occurs because of
> changes in R, changes between NT and 2000, or both.
>
> Do any of you have a solution to this problem? IS PFE is "too old" and
not
> worth keeping? It does have a lot of nice features and I would like to
keep
> using it--  at least for a while.
>
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> Anne E. York
> National Marine Mammal Laboratory
> Seattle WA 98115-0070  USA
> e-mail: anne.york at noaa.gov
> Voice: +1 206-526-4039
> Fax: +1 206-526-6615
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.
> -.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_.
> _._._
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richmond at saintmarys.edu  Fri Sep 28 23:23:31 2001
From: richmond at saintmarys.edu (David A Richmond)
Date: Fri, 28 Sep 2001 16:23:31 -0500 (EST)
Subject: [R] evaluating the contents of a string
Message-ID: <Pine.GSO.4.20.0109281618530.26143-100000@jade.saintmarys.edu>

Hi,
suppose I do: 
	b <- matrix(1:9,3,3)
	bname <- "b"

now
	dim(b) 
returns
	[1] 3 3

and    
	dim(bname)
returns
	NULL

is there a function to pass bname to such that dim returns the dimensions
of b?

like 
	dim(somefunc(bname))
returns
	[1] 3 3 

does 'somefunc' exist?


daver

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|David Richmond                It works on a          |      
+ Dept. of Sociology          complex scientific      + 
|Saint Mary's College          principle, known as    |  
+ Notre Dame, IN 46556               "pot luck."      +
|219-284-4517                    - The Doctor         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Sep 28 23:47:03 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Sep 2001 23:47:03 +0200
Subject: [R] evaluating the contents of a string
In-Reply-To: <Pine.GSO.4.20.0109281618530.26143-100000@jade.saintmarys.edu>
References: <Pine.GSO.4.20.0109281618530.26143-100000@jade.saintmarys.edu>
Message-ID: <x2ofnvf0o8.fsf@blueberry.kubism.ku.dk>

David A Richmond <richmond at saintmarys.edu> writes:

> Hi,
> suppose I do: 
> 	b <- matrix(1:9,3,3)
> 	bname <- "b"
> 
> now
> 	dim(b) 
> returns
> 	[1] 3 3
> 
> and    
> 	dim(bname)
> returns
> 	NULL
> 
> is there a function to pass bname to such that dim returns the dimensions
> of b?
> 
> like 
> 	dim(somefunc(bname))
> returns
> 	[1] 3 3 
> 
> does 'somefunc' exist?

get()

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dinger at mchinji.wr.usgs.gov  Sat Sep 29 00:50:34 2001
From: dinger at mchinji.wr.usgs.gov (Keith Richards-Dinger)
Date: Fri, 28 Sep 2001 18:50:34 -0400 (EDT)
Subject: [R] evaluating the contents of a string
In-Reply-To: <Pine.GSO.4.20.0109281618530.26143-100000@jade.saintmarys.edu>
Message-ID: <Pine.LNX.4.21.0109281848150.25770-100000@mchinji.wr.usgs.gov>


On Fri, 28 Sep 2001, David A Richmond wrote:

> suppose I do: 
> 	b <- matrix(1:9,3,3)
> 	bname <- "b"
>
> 	dim(bname)
> returns
> 	NULL
> 
> is there a function to pass bname to such that dim returns the dimensions
> of b?
> 
> like 
> 	dim(somefunc(bname))
> returns
> 	[1] 3 3 

> 
> does 'somefunc' exist?

R> dim(eval(parse(text=bname)))
[1] 3 3


---------------------------------------------------------------------------
Keith Richards-Dinger
U.S. Geological Survey, MS-977          Office 1-650-329-5519
345 Middlefield Road                    Fax    1-650-329-5163
Menlo Park, CA  USA  94025              e-mail dinger at usgs.gov
---------------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sat Sep 29 11:17:56 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 29 Sep 2001 11:17:56 +0200
Subject: [R] using the pfe editor with R 1.1.3  under windows 2000
References: <OF1580B718.25DD676B-ON85256AD5.007462D5@hgsi.com>
Message-ID: <3BB591C4.12B1FBE4@statistik.uni-dortmund.de>

partha_bagchi at hgsi.com wrote:
> 
> I don't know. I do not have access to Win98.

Kjetil Halvorsen wrote:
>> This works for me to (windows 98), with one exception. I have set PFE as
>> the default pager, and that works if PFE is already running. But PFE as
>> default editor
>> have problems. If I use fix() when PFE is already running, I have to
>> kill the R process.
>> 
>> Why the difference?

If running as 'pager', only a file is shown in the editor.
If running as 'editor', R waits until the editor has finished, because R
cannot know, when you have finished the 'fix'ing of an object.

I don't know PFE, but with e.g. WinEdt it is possible to start a new
instance of the editor with another caption-name using some command line
arguments, so the instances of the editor can be distinguished by
Windows (and R).
Maybe this is also possible for PFE (?).

BTW: Often it is nice to edit an ASCII file, say foo.R, and source() it
into R instead of using fix(), since the R process is not "interrupted"
and you have saved the function in a file you can make use of much
easier.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aolinto at bignet.com.br  Sat Sep 29 15:10:50 2001
From: aolinto at bignet.com.br (Antonio Olinto)
Date: Sat, 29 Sep 2001 10:10:50 -0300
Subject: [R] max-min plot
Message-ID: <00fa01c148e8$61529860$ae54fea9@nautilus>

Dear R-list members,

Thanks for those who replied my e-mail (Frank, Martin and Uwe) on "max-min
plot".

Following Uwe's suggestion I did my job as showed bellow. This example
should be useful for begginers (like myself).

Thanks,

Antonio

------------------------------

    Year  Value     Z
1  1994 0.15062 Zm
2  1995 0.20622 Zm
3  1996 0.20373 Zm
4  1997 0.22153 Zm
5  1998 0.23426 Zm
6  1999 0.23533 Zm
7  1994 0.14075 Z-
8  1995 0.17051 Z-
9  1996 0.16989 Z-
10 1997 0.18350 Z-
11 1998 0.21494 Z-
12 1999 0.19841 Z-
13 1994 0.16048 Z+
14 1995 0.24193 Z+
15 1996 0.23757 Z+
16 1997 0.25956 Z+
17 1998 0.25357 Z+
18 1999 0.27225 Z+

> plot(Year,Value,type="n",xlab="year",ylab="Z")
> points(Year[c(1:6)],Value[c(1:6)],pch=3)
> segments(Year[c(7)],Value[c(7)],Year[c(13)],Value[c(13)])
> segments(Year[c(8)],Value[c(8)],Year[c(14)],Value[c(14)])
...

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From calvinw at ces.clemson.edu  Sat Sep 29 16:18:24 2001
From: calvinw at ces.clemson.edu (Calvin L. Williams, Ph.D.)
Date: Sat, 29 Sep 2001 10:18:24 -0400
Subject: [R] Optimized Likelihoods
Message-ID: <p05100301b7db873ff4e1@[130.127.112.242]>

R-Users,

I'm in the process of developing some notes on optimizing likelihoods
for a class I'm teaching next term. Can anyone offer examples showing
the optimization of a complex likelihood function that they wouldn't
mind sharing using optim(). I've adapted some of the S-plus likelihood
examplesfrom the ``Guide to Statistics" and  the Zip example from ``Statistical
Models in S". Any additional examples that people wouldn't mind sharing
would be greatly appreciated.

Cheers,
Calvin

-- 
====================  Calvin L. Williams, Ph.D.  ====================
      Department of Mathematical Sciences, Clemson University
                             Box 340975 ,   0-323 Martin Hall
                       Clemson, South Carolina 29634-0975
       VOICE: (864) 656-5241  or leave message (864) 654-7187
                  EMAIL: calvinw at ces.clemson.edu
                                FAX: 1-(864) 656-5230
         WWW:   http://www.ces.clemson.edu/~calvinw/
============================================================
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sat Sep 29 17:42:26 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 29 Sep 2001 17:42:26 +0200
Subject: [R] max-min plot
References: <00fa01c148e8$61529860$ae54fea9@nautilus>
Message-ID: <3BB5EBE2.565D43E7@statistik.uni-dortmund.de>

Antonio Olinto wrote:
> 
> Dear R-list members,
> 
> Thanks for those who replied my e-mail (Frank, Martin and Uwe) on "max-min
> plot".
> 
> Following Uwe's suggestion I did my job as showed bellow. This example
> should be useful for begginers (like myself).
> 
> Thanks,
> 
> Antonio
> 
> ------------------------------
> 
>     Year  Value     Z
> 1  1994 0.15062 Zm
> 2  1995 0.20622 Zm
> 3  1996 0.20373 Zm
> 4  1997 0.22153 Zm
> 5  1998 0.23426 Zm
> 6  1999 0.23533 Zm
> 7  1994 0.14075 Z-
> 8  1995 0.17051 Z-
> 9  1996 0.16989 Z-
> 10 1997 0.18350 Z-
> 11 1998 0.21494 Z-
> 12 1999 0.19841 Z-
> 13 1994 0.16048 Z+
> 14 1995 0.24193 Z+
> 15 1996 0.23757 Z+
> 16 1997 0.25956 Z+
> 17 1998 0.25357 Z+
> 18 1999 0.27225 Z+
> 
> > plot(Year,Value,type="n",xlab="year",ylab="Z")
> > points(Year[c(1:6)],Value[c(1:6)],pch=3)
> > segments(Year[c(7)],Value[c(7)],Year[c(13)],Value[c(13)])
> > segments(Year[c(8)],Value[c(8)],Year[c(14)],Value[c(14)])

In principle, the plot(), points(), segments() was indeed my suggestion.
Now let me suggest a simplification.
It is really not necessary to call segments for each line to plot, see
?segments.

 # Check what line is mean, max, min
 Zm <- which(Z == "Zm")
 Zp <- which(Z == "Z+")
 Zq <- which(Z == "Z-")
 # ... assuming the year is sorted ...
 plot(Year, Value, type="n", xlab="year", ylab="Z")
 points(Year[Zm], Value[Zm], pch=3)
 segments(Year[Zq], Value[Zq], Year[Zp], Value[Zp])

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Sat Sep 29 18:09:58 2001
From: pauljohn at ukans.edu (pauljohn@ukans.edu)
Date: Sat, 29 Sep 2001 11:09:58 -0500
Subject: What is pager (was Re: [R] using the pfe editor with R 1.1.3  under 
 windows 2000
References: <OF1580B718.25DD676B-ON85256AD5.007462D5@hgsi.com> <3BB591C4.12B1FBE4@statistik.uni-dortmund.de>
Message-ID: <3BB5F256.A699D107@ukans.edu>

I've been watching this thread, trying to figure out what it is
talking about.  

I feel like I'm missing out, so please throw me a clue.
What are you using this for and how does it help in the usage of
R?  In R I do find "edit" for editing objects. I find the
command page() which ?page says invokes a "pager" but I don't
see how a pager configured. pager() doesn't exist.  I don't find
pager in the R-FAQ.  

I see from practicing that page() is like piping an object to
more (or less :)).  

When I use R, I often run Emacs in ESS mode, and edit commands
in one file and paste them into the R session inside Emacs.  Is
pager related to the same kind of thing?

Is this something I would understand if I had used S+ ?

pj

Uwe Ligges wrote:
>
> If running as 'pager', only a file is shown in the editor.
> If running as 'editor', R waits until the editor has finished, because R
> cannot know, when you have finished the 'fix'ing of an object.

-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science           
http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Sep 29 18:42:25 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 29 Sep 2001 17:42:25 +0100 (BST)
Subject: What is pager (was Re: [R] using the pfe editor with R 1.1.3 
 under  windows 2000
In-Reply-To: <3BB5F256.A699D107@ukans.edu>
Message-ID: <Pine.LNX.4.31.0109291729580.14767-100000@gannet.stats>

On Sat, 29 Sep 2001 pauljohn at ukans.edu wrote:

> I've been watching this thread, trying to figure out what it is
> talking about.
>
> I feel like I'm missing out, so please throw me a clue.
> What are you using this for and how does it help in the usage of
> R?  In R I do find "edit" for editing objects. I find the
> command page() which ?page says invokes a "pager" but I don't
> see how a pager configured. pager() doesn't exist.  I don't find
> pager in the R-FAQ.

I think it would be in R-rarely-AQ.

Try ?options. On Unix (but that thread was Windows) it says

  editor: sets the default text editor, e.g., for `edit'.  Set from the
          environment variable `VISUAL' on UNIX.

   pager: the (stand-alone) program used for displaying ASCII files on
          R's console. Defaults to `$R_HOME/bin/pager'.

> I see from practicing that page() is like piping an object to
> more (or less :)).

If more or less is your pager (and on Unix it is now less if that is
found). There was another thread about using less basic pagers, for
example xless or the tcltk one.

> When I use R, I often run Emacs in ESS mode, and edit commands
> in one file and paste them into the R session inside Emacs.  Is
> pager related to the same kind of thing?

No.  No editing in a pager.

The pager is the program used to display read-only files, like text help,
the output of page(), the output of file.show() ....   On
less-terminal-oriented versions of R it uses a separate window.

> Is this something I would understand if I had used S+ ?

> pj
>
> Uwe Ligges wrote:
> >
> > If running as 'pager', only a file is shown in the editor.
> > If running as 'editor', R waits until the editor has finished, because R
> > cannot know, when you have finished the 'fix'ing of an object.

and so a multi-file editor needs to signal it has released a file. I know
how to do that with gnuclient + emacs, but not with PFE (which I have not
used for a couple of years). On Linux/Unix I use CDE's dtpad which
launches a separate window for each file, and quitting the window closes
the client instance of dtpad that R launched.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Sep 29 18:42:54 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 29 Sep 2001 17:42:54 +0100 (BST)
Subject: [R] Optimized Likelihoods
In-Reply-To: <p05100301b7db873ff4e1@[130.127.112.242]>
Message-ID: <Pine.LNX.4.31.0109291742350.14767-100000@gannet.stats>

On Sat, 29 Sep 2001, Calvin L. Williams, Ph.D. wrote:

> R-Users,
>
> I'm in the process of developing some notes on optimizing likelihoods
> for a class I'm teaching next term. Can anyone offer examples showing
> the optimization of a complex likelihood function that they wouldn't
> mind sharing using optim(). I've adapted some of the S-plus likelihood
> examplesfrom the ``Guide to Statistics" and  the Zip example from ``Statistical
> Models in S". Any additional examples that people wouldn't mind sharing
> would be greatly appreciated.

Here are several public ones:

fitdistr in the latest version of MASS.
polr in MASS
The examples in MASS/scripts/ch08.R (quite a few).




>
> Cheers,
> Calvin
>
> --
> ====================  Calvin L. Williams, Ph.D.  ====================
>       Department of Mathematical Sciences, Clemson University
>                              Box 340975 ,   0-323 Martin Hall
>                        Clemson, South Carolina 29634-0975
>        VOICE: (864) 656-5241  or leave message (864) 654-7187
>                   EMAIL: calvinw at ces.clemson.edu
>                                 FAX: 1-(864) 656-5230
>          WWW:   http://www.ces.clemson.edu/~calvinw/
> ============================================================
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Sat Sep 29 19:40:17 2001
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Sat, 29 Sep 2001 13:40:17 -0400 (EDT)
Subject: [R] Optimized Likelihoods
In-Reply-To: <p05100301b7db873ff4e1@[130.127.112.242]>
Message-ID: <Pine.LNX.4.30.0109291339150.24103-100000@bolker.zoo.ufl.edu>


   You can take a look at the notes for my course in ecological models and
data (we do a lot of likelihood fitting) at
http://www.zoo.ufl.edu/bolker/emd; you're welcome to use any of the
material, with attribution.

  Ben Bolker



On Sat, 29 Sep 2001, Calvin L. Williams, Ph.D. wrote:

> R-Users,
>
> I'm in the process of developing some notes on optimizing likelihoods
> for a class I'm teaching next term. Can anyone offer examples showing
> the optimization of a complex likelihood function that they wouldn't
> mind sharing using optim(). I've adapted some of the S-plus likelihood
> examplesfrom the ``Guide to Statistics" and  the Zip example from ``Statistical
> Models in S". Any additional examples that people wouldn't mind sharing
> would be greatly appreciated.
>
> Cheers,
> Calvin
>
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richmond at saintmarys.edu  Sun Sep 30 01:54:46 2001
From: richmond at saintmarys.edu (David A Richmond)
Date: Sat, 29 Sep 2001 18:54:46 -0500 (EST)
Subject: [R] how much memory does one need...
Message-ID: <Pine.GSO.4.20.0109291844090.9879-100000@jade.saintmarys.edu>

to allocate 7.8 MB to a vector? (on R running on MacOS 8.6 with a 100MB
partition)

I get this error from a function which is trying to create a 1000x1000
matrix:

Error: cannot allocate vector of size 7812 Kb

the error occurs here:
dist <- as.single((t(pos)-pos)/n)

where pos is a matrix of integers, and n is the size of the first
dimension. It appears to first create a double with (t(pos)-pos)/n,
running out of memory before making it a single.

Several questions arise from this problem: 1) how do I determine how much
memory is free within the program?, 2) how do I determine how much memory
is being consumed by a given object?, 3) how do I force R to create a
matrix as a single rather than a double?

daver

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|David Richmond                It works on a          |      
+ Dept. of Sociology          complex scientific      + 
|Saint Mary's College          principle, known as    |  
+ Notre Dame, IN 46556               "pot luck."      +
|219-284-4517                    - The Doctor         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xiejun at powertong.com.cn  Sun Sep 30 03:25:13 2001
From: xiejun at powertong.com.cn (Xie Jun)
Date: Sun, 30 Sep 2001 09:25:13 +0800
Subject: [R] Binary Version on IBM ,HP and SUN
Message-ID: <NBEKKJFLKKBIOPJIADKFOENMCDAA.xiejun@powertong.com.cn>

Could somebody tell me where to obtain R binary version on RS/6000AIX and HPUX

thanks

Julian
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010930/53eb871f/attachment.html

From maj at waikato.ac.nz  Sun Sep 30 12:46:13 2001
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Sun, 30 Sep 2001 22:46:13 +1200
Subject: [R] MASS data sets
Message-ID: <200109301039.WAA07919@gosset.stats.waikato.ac.nz>

All the usual MASS data sets are nicely sitting in 
D:\Program Files\rw1022\library\MASS\data
on my laptop
and yet:
> library(MASS)
> data(wtloss)
Warning message: 
Data set `wtloss' not found in: data(wtloss) 

what could be wrong? I'm running 1.2.2 on Win98.

Murray Jorgensen




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Sep 30 13:08:38 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 30 Sep 2001 12:08:38 +0100 (BST)
Subject: [R] MASS data sets
In-Reply-To: <200109301039.WAA07919@gosset.stats.waikato.ac.nz>
Message-ID: <Pine.GSO.4.31.0109301204460.29625-100000@auk.stats>

On Sun, 30 Sep 2001, Murray Jorgensen wrote:

> All the usual MASS data sets are nicely sitting in
> D:\Program Files\rw1022\library\MASS\data
> on my laptop

(Windows, I presume.)

> and yet:
> > library(MASS)
> > data(wtloss)
> Warning message:
> Data set `wtloss' not found in: data(wtloss)
>
> what could be wrong? I'm running 1.2.2 on Win98.

Someone has been tampering!  They should not be there but in Rdata.zip.
The short answer is to delete `filelist' from that directory.
The better answer is to upgrade to rw1031 and then run update.packages()
to get a fully up-to-date version.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Sun Sep 30 16:41:05 2001
From: j.logsdon at lancaster.ac.uk (j.logsdon@lancaster.ac.uk)
Date: Sun, 30 Sep 2001 15:41:05 +0100 (GMT)
Subject: [R] GNU GOOSe apparently needs help (fwd)
Message-ID: <Pine.LNX.4.10.10109301537130.1666-100000@mercury.quantex>

Apologies for cross-posting ...

This project is looking for a maintainer.  To quote from the Goose web
site:

"Goose is a LGPLed C++ library dedicated to statistical computation.  The
two design goals of this project are:

To create a useful and complete system that takes advantage of C++'s
features to improve the clarity of statistical code and that is easier to
use for programmers.

To produce a complete set of Guile bindings, exporting all of the C++
library's functionality to that environment.

A third, ancillary goal is to provide statistical functionality for Guppi,
the Gnome plotting and data-visualization program.  The desire for
non-trivial statistics in Guppi was actually the motivation for creating
Goose."

I think there may be some synergy here with R or Octave and people on the
Allstat list might also be interested.

John


---------- Forwarded message ----------
Date: 28 Sep 2001 22:36:31 +0100
From: James Youngman <jay at gnu.org>
To: John Logsdon <j.logsdon at lancaster.ac.uk>
Subject: GNU GOOSe apparently needs help


I see from http://www.gnu.org/prep/tasks_2.html#SEC2
(http://www.gnu.org/software/goose/goose.html) needs a new
maintainer.  I just wondered if you knew of anybody who might be
interested. 

-- 
James Youngman
Manchester, UK.  +44 161 226 7339
PGP (GPG) key ID for <jay at gnu.org> is 64A95EE5 (F1B83152).

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alqamy at lycos.com  Sun Sep 30 19:17:25 2001
From: alqamy at lycos.com (Husam  Alqamy)
Date: Sun, 30 Sep 2001 19:17:25 +0200
Subject: [R] (No Subject)
Message-ID: <DCBNAOFBPLMPCBAA@mailcity.com>

Dear all
I am very beginner user of R I want to calculate the power of t-test using power.t.test function. It is stated in the manual that the argument (n) is the number of observations per group. Infact I have a differens number of observations in each group(ie n1<>n2) and another thing is SD the pooled standard deviation of the observations in the two data sets under investigation.
Hope find an answer soon
Thanks 
Husam El Alqamy
----------------------------------------
Biologist Ranger
St. Katherine Protectorate
South Sinai,
EGYPT
----------------------------------------
tel 002-069-470032 
Fax 002-069-470033
----------------------------------------


Make a difference, help support the relief efforts in the U.S.
http://clubs.lycos.com/live/events/september11.asp
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Sep 30 20:26:19 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Sep 2001 20:26:19 +0200
Subject: [R] (No Subject)
In-Reply-To: <DCBNAOFBPLMPCBAA@mailcity.com>
References: <DCBNAOFBPLMPCBAA@mailcity.com>
Message-ID: <x2lmiw5yd0.fsf@blueberry.kubism.ku.dk>

"Husam  Alqamy" <alqamy at lycos.com> writes:

> Dear all I am very beginner user of R I want to calculate the power
> of t-test using power.t.test function. It is stated in the manual
> that the argument (n) is the number of observations per group.
> Infact I have a differens number of observations in each group(ie
> n1<>n2) and another thing is SD the pooled standard deviation of the
> observations in the two data sets under investigation.

Power.t.test assumes equal group sizes so you have to look inside of
it to figure out what to change. The actual power calculation is 

        nu <- (n - 1) * tsample
        pt(qt(sig.level/tside, nu, lower = FALSE), nu, ncp =
            sqrt(n/tsample) * 
            delta/sd, lower = FALSE)

where tsample is 2 for a two-sample test. To generalize this to two
unequal samples, nu should be n1+n2-2 and ncp should be
sqrt(1/(1/n1+1/n2)) * delta/sd

Power calculations do not refer to actual sample values, the sd that
enters is in principle known in advance. There's no "right" way to
plug in an estimate. However, it is a basic assumption that the two
groups have the same theoretical standard deviation.
 
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cendter at misag-usa.com  Sun Sep 30 17:59:11 2001
From: cendter at misag-usa.com (Christian Endter)
Date: Sun, 30 Sep 2001 11:59:11 -0400
Subject: [R] non linear models
Message-ID: <CPEKKGJLCKLNFGNPBBMMEEBLCAAA.cendter@misag-usa.com>

Dear Members of the Help List,

Honestly, I feel a little bit stupid - I would like to do something rather
simple: fit a non linear model to existing data, to be more precise I wanted
to start with simple higher order polynomials.

Unfortunately, I do not quite understand the examples in the helpfiles for
the nlm, nls and nlsModel commands.

Could anyone please provide a simple example to get me started (i.e. y = p +
x^2 fitted to x= -1 0 1 y = 2 1 2; a simple parabola p should turn out to be
1). How do I do this and how do I do the same for something like y = a + bx
+ cx^2 + dx^3 ??


Thank you very much,

Christian Endter

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Sep 30 22:26:12 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 30 Sep 2001 21:26:12 +0100 (BST)
Subject: [R] non linear models
In-Reply-To: <CPEKKGJLCKLNFGNPBBMMEEBLCAAA.cendter@misag-usa.com>
Message-ID: <Pine.LNX.4.31.0109302110320.21843-100000@gannet.stats>

On Sun, 30 Sep 2001, Christian Endter wrote:

> Dear Members of the Help List,
>
> Honestly, I feel a little bit stupid - I would like to do something rather
> simple: fit a non linear model to existing data, to be more precise I wanted
> to start with simple higher order polynomials.

Which in that sense are not non-linear models...

> Unfortunately, I do not quite understand the examples in the helpfiles for
> the nlm, nls and nlsModel commands.
>
> Could anyone please provide a simple example to get me started (i.e. y = p +
> x^2 fitted to x= -1 0 1 y = 2 1 2; a simple parabola p should turn out to be
> 1). How do I do this and how do I do the same for something like y = a + bx
> + cx^2 + dx^3 ??

Fitting to noise-free data is not a good test, so I've added some more
observations (or the cubic is not determined) and some noise.

set.seed(1)
x <- c(-1:1, runif(10, -1, 1))
y <- 1+ x^2+ rnorm(13, 0, 0.1)

quadratic:

lm(y ~ offset(x^2))
Coefficients:
(Intercept)
      0.977

via nls:

nls(y ~ p + I(x^2), start=list(p=0))
Nonlinear regression model
  model:  y ~ p + I(x^2)
   data:  parent.frame
        p
0.9769938
 residual sum-of-squares:  0.1429682

General cubic:

lm(y ~ x + I(x^2) + I(x^3))
Coefficients:
(Intercept)            x       I(x^2)       I(x^3)
     1.0224      -0.1833       0.9425       0.2188

or (better) use orthogonal polynomials

lm(y ~ poly(x, 3))
Coefficients:
(Intercept)  poly(x, 3)1  poly(x, 3)2  poly(x, 3)3
     1.4543      -0.8127       1.2372       0.1289

or via nls

nls(y ~ a + b*x +  c*x^2 + d*x^3, start=list(a=0, b=0, c=0, d=0))
Nonlinear regression model
  model:  y ~ a + b * x + c * x^2 + d * x^3
   data:  parent.frame
         a          b          c          d
 1.0224028 -0.1833263  0.9425109  0.2187559
 residual sum-of-squares:  0.1213026


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


