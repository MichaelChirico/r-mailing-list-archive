From tim.carlson at pnl.gov  Sun Jul  1 00:00:24 2001
From: tim.carlson at pnl.gov (Tim Carlson)
Date: Sat, 30 Jun 2001 15:00:24 -0700 (PDT)
Subject: [R] IRIX build error of R-1.3.0 (and fix)
In-Reply-To: <Pine.GSO.4.31.0106300654550.21434-100000@auk.stats>
Message-ID: <Pine.SUN.4.30.0106301435240.14451-100000@corsair.emsl.pnl.gov>

On Sat, 30 Jun 2001, Prof Brian D Ripley wrote:

> We've hade a lot of discussion about this on R-devel and elsewhere.
> Basically the configure process is getting inconsistent answers.  Please do
> not change those files, but change src/include/config.h to read

ok.. sorry.. quick fix on a Friday afternoon :)

-snip-.. now to libz

> So if you are having problems, you must have an inconsistent header and
> library and perhaps you should correct that?  Or is the test not working
> and you do have an earlier version?

After further investigation, it turns out that I needed to pass an
LDFLAGS parameter to the configure line. My other architectures
(Solaris 2.6/8, AIX 4.3.1, Redhat 6.2/7.1) had been
happy with:

env R_PAPERSIZE=letter CPPFLAGS="-I/msrc/apps/include"
	LIBS="-L/msrc/apps/lib"
	./configure --prefix=/afs/msrc.pnl.gov/files/apps/R-1.3

But in the linking phase I then get the -L/msrc/apps/lib as the last of
the -L flags, so I end up getting the /usr/lib/libz.a instead of the one I
have stashed in /msrc/apps/lib/libz.a

adding a LDFLAGS="-L/msrc/apps/lib" to the above configure fixes the
problem I was having.

Thanks

Tim Carlson
Voice: (509) 375-5978
Email: Tim.Carlson at pnl.gov
EMSL UNIX System Support

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jul  1 09:43:49 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 1 Jul 2001 08:43:49 +0100 (BST)
Subject: [R] fitting distributions
In-Reply-To: <003301c100e4$b04770e0$fbc5723e@y4a8p6>
Message-ID: <Pine.GSO.4.31.0107010837210.12491-100000@toucan.stats>

On Sat, 30 Jun 2001, osama wrote:

> Hi;
>     I would like to fit a contiuous right skewed dist. to a set of data.
So, I want to use MLE or Robust estimation of the parameters, then use
A-D or K-S test or Robust alternative for the goodness-of -fit. Also I
would rank the fitted distributions according to the p-value of the test.
Does anyone know how I do this in R. any backages of Robust estimation
and for goodness-of-fit?

Is this data analysis or a homework problem?

What robust estimation even means for a right skewed distribution is
problematical.  The standard methods for the mean assume symmetry.
As robustness menas considering distributions outside the specified
family, you can only robustly estimate parameters with a physical meaning.

An in general the p-values of A-D or K-S tests assume known parameters.
(Yes, I know Stephens and others have worked on approximations in other
cases.)

R provides methods for real data analysis, and I don't see why one would
need to fit lots of (presumably) univariate distributions.  Find a good
density estimate instead.  But theoretical statistics do set this sort of
thing as problems ....


> Thank you for your help.
> Ahmed hassan
> alexandria univeristy
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tomsv193 at student.liu.se  Mon Jul  2 11:13:43 2001
From: tomsv193 at student.liu.se (tomsv193@student.liu.se)
Date: Mon, 02 Jul 2001 11:13:43 +0200
Subject: [R] problem with levels in dataframes
Message-ID: <361b63be59.3be59361b6@student.liu.se>

Hi!

I am reading from one data.frame and writing to antoher (that is: data-
transfer...). Sometimes the value transferred is NA. I use the 
following line (i and j are well defined!):

protocol$n.adjustments[i]<-protocol.adjustment$n.adjustments[j]

I recieve this warning:
invalid factor level, NAs generated in: [<-.factor(*tmp*, i, value = 0)

What does this mean? The data.frames are read from files (and these 
files are saved with write.table(...,quote=FALSE). 

/Tomas Svensson
WinNT, R 1.2.3



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul  2 11:39:29 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 2 Jul 2001 10:39:29 +0100 (BST)
Subject: [R] problem with levels in dataframes
In-Reply-To: <361b63be59.3be59361b6@student.liu.se>
Message-ID: <Pine.LNX.4.31.0107021037330.15063-100000@gannet.stats>

On Mon, 2 Jul 2001 tomsv193 at student.liu.se wrote:

> Hi!
>
> I am reading from one data.frame and writing to antoher (that is: data-
> transfer...). Sometimes the value transferred is NA. I use the
> following line (i and j are well defined!):
>
> protocol$n.adjustments[i]<-protocol.adjustment$n.adjustments[j]
>
> I recieve this warning:
> invalid factor level, NAs generated in: [<-.factor(*tmp*, i, value = 0)
>
> What does this mean? The data.frames are read from files (and these

It means protocol.adjustment$n.adjustments[j] is not a level existing in
the factor protocol$n.adjustments, hence `invalid factor level'.

You'll need to look at the details for yourself.

Factors are designed to a fixed set of levels: you can't add to the levels
by assignment like this.

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Mirko.Luedde at computer.org  Mon Jul  2 14:10:51 2001
From: Mirko.Luedde at computer.org (Dr. Mirko Luedde)
Date: Mon,  2 Jul 2001 14:10:51 +0200 (CEST)
Subject: [R] nls newbie: help approximating Weibull distribution
Message-ID: <20010702121051.2DCC196D86@sender.ngi.de>

Hi folks, 

I tried to retain the Weibull distribution using the `nls' function
and proceeding along the lines of the example provided in the
`SSweibull' help (at least I thought so):

	t <- (1:200)/100
	v <- pweibull(t, shape=3, scale=1)
	df <- data.frame(Time=t, Value=v)
	Asym <- 1.0; Drop <- 1.0; lrc <- 0; pwr <- 1
	df.estimate <- nls(Value ~ SSweibull(Time, Asym, Drop, lrc, pwr), data=df)

But this yields the error message "Error in qr.solve(QR.B, cc) :
singular matrix `a' in solve".

Any hints? 

Thanks, Mirko. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From shethj at epi.wustl.edu  Mon Jul  2 14:55:39 2001
From: shethj at epi.wustl.edu (Jagat Sheth)
Date: Mon, 02 Jul 2001 07:55:39 -0500
Subject: [R] margin.table
Message-ID: <sb40292f.094@EPI.WUSTL.EDU>

Hello all, 

I was wondering if the following behaviour of margin.table in R 1.3.0 is normal.

> mm <- data.frame(x=c(0,0,1), y=c(1,1,0), z=c(0,1,0))
> margin.table(mm,1)
[1] 1 2 3
<0 rows> (or 0-length row.names)

while using 'apply(x,margin,sum)' I get

> apply(mm,1,sum)
1 2 3 
1 2 1 

which appears to be normal. Similar behaviour when margin=2.

On the other hand, the following seems to be fine.

> mmm <- as.matrix(mm)
> margin.table(mmm,1)
1 2 3 
1 2 1 
> margin.table(mmm,2)
x y z 
1 2 1 

I am using 

> version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    3.0            
year     2001           
month    06             
day      22             
language R    
 
I did not notice the above behaviour with R 1.2.3 and have not found anything in the windows-specific changes to R documentation for R 1.3.0 regarding this. Please let me know if I am overlooking something obvious. Any advice would be appreciated. Thanks. 

Jagat 



Department of Psychiatry
Washington University in St. Louis
St. Louis, MO 63108
USA
Tel: 314-286-2253
Fax: 314-286-2265
email: shethj at epi.wustl.edu


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From R.Goertz at psych.uni-frankfurt.de  Mon Jul  2 14:48:27 2001
From: R.Goertz at psych.uni-frankfurt.de (Ralf Goertz)
Date: Mon, 2 Jul 2001 14:48:27 +0200
Subject: [R] Shapiro-Wilk test
Message-ID: <01070214482701.01161@localhost>

Hi,

does the shapiro wilk test in R-1.3.0 work correctly? Maybe it does, but can 
anybody tell me why the following sample doesn't give "W = 1" and 
"p-value = 1":

R> x<-1:9/10;x
[1] 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9
R> shapiro.test(qnorm(x))

        Shapiro-Wilk normality test

data:  qnorm(x) 
W = 0.9925, p-value = 0.9986 

I can't imagine a sample being more "normal" than this. Furthermore, the 
Kolmogorov-Smirnov test gives a p-value of 1.

R> ks.test(qnorm(x),"pnorm",mean=0,sd=1)

        One-sample Kolmogorov-Smirnov test

data:  qnorm(x) 
D = 0.1, p-value = 1 
alternative hypothesis: two.sided 

Can someone explain this please,

Ralf
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul  2 14:53:38 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 2 Jul 2001 13:53:38 +0100 (BST)
Subject: [R] margin.table
In-Reply-To: <sb40292f.094@EPI.WUSTL.EDU>
Message-ID: <Pine.LNX.4.31.0107021345560.1601-100000@gannet.stats>

On Mon, 2 Jul 2001, Jagat Sheth wrote:

> I was wondering if the following behaviour of margin.table in R 1.3.0 is normal.

Yes.

> > mm <- data.frame(x=c(0,0,1), y=c(1,1,0), z=c(0,1,0))
> > margin.table(mm,1)
> [1] 1 2 3
> <0 rows> (or 0-length row.names)
>
> while using 'apply(x,margin,sum)' I get
>
> > apply(mm,1,sum)
> 1 2 3
> 1 2 1
>
> which appears to be normal. Similar behaviour when margin=2.
>
> On the other hand, the following seems to be fine.
>
> > mmm <- as.matrix(mm)
> > margin.table(mmm,1)
> 1 2 3
> 1 2 1
> > margin.table(mmm,2)
> x y z
> 1 2 1

Try looking up the help page:

Arguments:

       x: an array


A data frame is *not* an array:

> is.array(mm)
[1] FALSE

and final line of margin.table tries to make the result make into a
data frame.

One could argue that as it accepted a non-array it should do a better job
with it, but we need the author (who is away this week) to explain why
he copied the class of the first argument to the result.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul  2 15:08:05 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 2 Jul 2001 14:08:05 +0100 (BST)
Subject: [R] Shapiro-Wilk test
In-Reply-To: <01070214482701.01161@localhost>
Message-ID: <Pine.LNX.4.31.0107021357520.1601-100000@gannet.stats>

On Mon, 2 Jul 2001, Ralf Goertz wrote:

> does the shapiro wilk test in R-1.3.0 work correctly? Maybe it does, but can
> anybody tell me why the following sample doesn't give "W = 1" and
> "p-value = 1":
>
> R> x<-1:9/10;x
> [1] 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9
> R> shapiro.test(qnorm(x))
>
>         Shapiro-Wilk normality test
>
> data:  qnorm(x)
> W = 0.9925, p-value = 0.9986
>
> I can't imagine a sample being more "normal" than this. Furthermore, the
> Kolmogorov-Smirnov test gives a p-value of 1.

Well, both I and the Shapiro-Wilk test can.  That sample has too short
tails:

> f <- function(a) shapiro.test(qnorm((a+0:8)/(8+2*a)))
> f(1)

        Shapiro-Wilk normality test

data:  qnorm((a + 0:8)/(8 + 2 * a))
W = 0.9925, p-value = 0.9986

> f(0.2)

        Shapiro-Wilk normality test

data:  qnorm((a + 0:8)/(8 + 2 * a))
W = 0.9998, p-value = 1

(Values less than 1 are normally used in Q-Q plots. For example

> ppoints(9)
[1] 0.06756757 0.17567568 0.28378378 0.39189189 0.50000000 0.60810811 0.71621622
[8] 0.82432432 0.93243243

corresponds to a = 5/8.)


>
> R> ks.test(qnorm(x),"pnorm",mean=0,sd=1)
>
>         One-sample Kolmogorov-Smirnov test
>
> data:  qnorm(x)
> D = 0.1, p-value = 1
> alternative hypothesis: two.sided

Actually

> ks.test(qnorm(x),"pnorm",mean=0,sd=1)$p
[1] 0.9999907

> a <- 0.2
> ks.test(qnorm((a + 0:8)/(8 + 2 * a)),"pnorm",mean=0,sd=1)$p
[1] 0.9999999


> Can someone explain this please,

Tail sensitivity varies between tests, and  K-S is notoriously
insensitive.

>From the FAQ:

If a command does the wrong thing, that is a bug.  But be sure you know
for certain what it ought to have done.  If you aren't familiar with the
command, or don't know for certain how the command is supposed to work,
then it might actually be working right.  Rather than jumping to
conclusions, show the problem to someone who knows for certain.



-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at CMIS.CSIRO.AU  Mon Jul  2 15:06:41 2001
From: Bill.Venables at CMIS.CSIRO.AU (Bill.Venables@CMIS.CSIRO.AU)
Date: Mon, 2 Jul 2001 23:06:41 +1000 
Subject: [R] Shapiro-Wilk test
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A99D02@Roper-CV.qld.cmis.csiro.au>



>  -----Original Message-----
> From: 	Ralf Goertz [mailto:R.Goertz at psych.uni-frankfurt.de] 
> Sent:	Monday, 2 July 2001 10:48 PM
> To:	r-help at stat.math.ethz.ch
> Subject:	[R] Shapiro-Wilk test
> 
> Hi,
> 
> does the shapiro wilk test in R-1.3.0 work correctly? Maybe it does, but
can 
> anybody tell me why the following sample doesn't give "W = 1" and 
> "p-value = 1":
> 
> R> x<-1:9/10;x
> [1] 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9
> R> shapiro.test(qnorm(x))
> 
>         Shapiro-Wilk normality test
> 
> data:  qnorm(x) 
> W = 0.9925, p-value = 0.9986 
> 
> I can't imagine a sample being more "normal" than this. Furthermore, the 
> Kolmogorov-Smirnov test gives a p-value of 1.

Even though the expected probability content between any two consecutive
order statistics is 1/(n+1), the *expected* values of the order statistics
themselves are not the percentiles.  You can get a more "normal" looking
sample by choosing one where the values are the normal scores.
qnorm(ppoints(n)) gives a pretty good approximation to these:

> shapiro.test(qnorm(1:9/10))

        Shapiro-Wilk normality test

data:  qnorm(1:9/10) 
W = 0.9925, p-value = 0.9986 

> shapiro.test(qnorm(ppoints(9)))

        Shapiro-Wilk normality test

data:  qnorm(ppoints(9)) 
W = 0.9965, p-value = 1 

> 

So the Shapiro-Wilk test is really a check to see if the order statistics
depart significantly from *their* expectation under the normality
hypothesis.


> R> ks.test(qnorm(x),"pnorm",mean=0,sd=1)
> 
>         One-sample Kolmogorov-Smirnov test
> 
> data:  qnorm(x) 
> D = 0.1, p-value = 1 
> alternative hypothesis: two.sided 
> 
> Can someone explain this please,

The two tests are testing slightly different aspects of normality.  (At
least that's my guess...)



> Ralf
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Mon Jul  2 16:39:27 2001
From: ernesto at ipimar.pt (=?iso-8859-1?Q?Jos=E9?= Ernesto Jardim)
Date: Mon, 02 Jul 2001 15:39:27 +0100
Subject: [R] How to reference an R package ?
Message-ID: <3B40879F.D21BA833@ipimar.pt>

Hi

Once more I have doubts about references.

I want to give a reference of the packages I've used (gss, MASS, geoR).
For the gss package I'm using

@TechReport{gss00,
  Author         = {Chong Gu},
  Title          = {The gss package},
  Institution    = {CRAN},
  year           = 2000,
  month          = {22 } # dec,
}


and something similar for the others, but this doesn't look very good to
me.

Are there any ideas ?

I've looked in the FAQ and there's no reference to this problem :-)

Thanks

EJ



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Mon Jul  2 16:53:06 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 02 Jul 2001 09:53:06 -0500
Subject: [R] nls newbie: help approximating Weibull distribution
In-Reply-To: <20010702121051.2DCC196D86@sender.ngi.de>
References: <20010702121051.2DCC196D86@sender.ngi.de>
Message-ID: <6rlmm75qnh.fsf@franz.stat.wisc.edu>

"Dr. Mirko Luedde" <Mirko.Luedde at computer.org> writes:

> Hi folks, 
> 
> I tried to retain the Weibull distribution using the `nls' function
> and proceeding along the lines of the example provided in the
> `SSweibull' help (at least I thought so):
> 
> 	t <- (1:200)/100
> 	v <- pweibull(t, shape=3, scale=1)
> 	df <- data.frame(Time=t, Value=v)
> 	Asym <- 1.0; Drop <- 1.0; lrc <- 0; pwr <- 1
> 	df.estimate <- nls(Value ~ SSweibull(Time, Asym, Drop, lrc, pwr), data=df)
> 
> But this yields the error message "Error in qr.solve(QR.B, cc) :
> singular matrix `a' in solve".
> 
> Any hints? 

This error is occuring during the calculation of the initial
estimates for the nonlinear least squares fit.  You have an exact
fit.  The convergence criterion used by nls is not appropriate for
such artificial data.  Use traceback() to find where the error occurs.

The larger question is why are you doing this in the first place?  You
have asked on this list about using SSweibull to fit the parameters in
a Weibull probability distribution.  I have responded to you privately
on at least three occasions.  Others have responded to you with copies
to the list.  All of these responses have informed you that SSweibull
is used with nls to fit the Weibull growth curve model.  This is
related to the Weibull probability distribution but it is not the
same.  Using SSweibull and nls is not an appropriate way of fitting
the parameters in the Weibull probability distribution.

For some reason you choose to ignore these responses and continue to
ask on this list about methods of using SSweibull and nls to fit the
parameters in the Weibull probability distribution.  I don't see that
there is much point in me or anyone else responding to you when you
ignore everything we say but I will try one more time.

It is not a good idea use nls to estimate parameters in a probability
distribution.  The nonlinear least squares criterion is appropriate
for observations in which the noise or error term is independent with
constant variance.  Apparently you are planning to fit a curve to
something like an empirical cumulative distribution function, although
in your example you are using an exact cumulative distribution
function.  The assumptions of constant variance and independence are
not even close to being satisfied.  Furthermore, it is hideously
inefficient to fit a four parameter curve to an empirical cumulative
distribution function when you know the values of two of those
parameters.

So, for at least the fourth time, I will tell you that you should not
use nls and SSweibull to fit the parameters in a Weibull probability
distribution.

A much more reasonable approach would be to use maximum likelihood.
Let me illustrate this.  The data from example 4.30 in Jay Devore's
book "Probability and Statistics for Engineering and the Sciences" is
the "lifetimes (hr) of power apparatus insulation under thermal and
electrical stress."

> data(xmp04.30, package = Devore5)
> xmp04.30$lifetime
 [1]  282  501  741  851 1072 1122 1202 1585 1905 2138
> stem(xmp04.30$lifetime)   # a stem-and-leaf plot

  The decimal point is 3 digit(s) to the right of the |

  0 | 3
  0 | 579
  1 | 112
  1 | 69
  2 | 1

The likelihood for the parameters "shape" and "scale" in the Weibull
distribution is the product of the probability densities evaluated at
the observed data and those parameters.  Generally we optimize the
log-likelihood as it tends to be closer to being a quadratic function
of the parameters.  The log-likelihood is the sum of the
log-densities.  To optimize this we use optim, which requires starting
estimates for the parameters.  For starting values we could use shape
= 1 and scale = 1000 for these data.

By default, optim will minimize a function so we define our function
to be the negative of the log-likelihood.

> optim(c(shape = 1, scale = 1000),
        function(x) -sum(dweibull(xmp04.30$lifetime, shape = x[1],
                                  scale = x[2], log = TRUE)))
$par
      shape       scale 
   2.151617 1289.216504 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Jul  2 17:04:43 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 2 Jul 2001 08:04:43 -0700 (PDT)
Subject: [R] How to reference an R package ?
In-Reply-To: <3B40879F.D21BA833@ipimar.pt>
Message-ID: <Pine.A41.4.33.0107020756280.130388-100000@homer10.u.washington.edu>

On Mon, 2 Jul 2001, [iso-8859-1] José Ernesto Jardim wrote:

> Hi
>
> Once more I have doubts about references.
>
> I want to give a reference of the packages I've used (gss, MASS, geoR).
> For the gss package I'm using
>
> @TechReport{gss00,
>   Author         = {Chong Gu},
>   Title          = {The gss package},
>   Institution    = {CRAN},
>   year           = 2000,
>   month          = {22 } # dec,
> }
>
>
> and something similar for the others, but this doesn't look very good to
> me.

No.  It's not a technical report and it's not really published by CRAN.
This is properly a question for your publisher, but you may find the
American Psychological Assocation style helpful (they think a lot about
references). The Modern Language Association has similar recommendations.


The APA give an example

    Arend, Dominic N. (1993). Choices [Computer program]. Champaign, IL: U.S.
Army Corps or Engineers Research Laboratory. (CERL Report No. CH7-22510)

and explanation

The name(s) of the programmers are listed at the head of the entry, last
names first, followed by a period. After listing the date in parentheses
followed by a period, underline the title, and specify in brackets that
the source is a computer program. List the location and the organization's
name that produced the program. Add any other necessary information for
identifying the program (in this example, the report number) in
parentheses at the entry's conclusion.


For referencing material downloaded from the web they recommend
listing the URL and date downloaded.  One could argue that on CRAN things
always get a new version number when they change, so that this is
unnecessary.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From malcolm at kemi.dtu.dk  Mon Jul  2 17:39:05 2001
From: malcolm at kemi.dtu.dk (Malcolm Gillies)
Date: Mon, 02 Jul 2001 17:39:05 +0200
Subject: [R] Re: Debian packages for R-1.3.0 
In-Reply-To: Your message of "29 Jun 2001 14:14:32 CDT."
             <6r8zibqesn.fsf@franz.stat.wisc.edu> 
Message-ID: <E15H5mz-0007Q0-00@ouabain.ok.dtu.dk>

Douglas,

> I need a volunteer to compile the packages on a Debian 2.2 (potato)
> system.  Thomas Lumley has done that but I know he is very busy now
> and I don't want to impose on him.  If you have a machine running the
> stable Debian distribution and could create the package, please
> contact me.

Assuming it's a fairly straightforward build, I'd be happy to do this
for i386.

cheers,

Malcolm
--
Malcolm Gillies <malcolm.gillies at kemi.dtu.dk>
Post-doctoral researcher
Organic Chemistry, Dept Chemistry,
Technical University of Denmark
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macosko at fas.harvard.edu  Mon Jul  2 19:51:27 2001
From: macosko at fas.harvard.edu (Evan Zane Macosko)
Date: Mon, 2 Jul 2001 13:51:27 -0400 (EDT)
Subject: [R] RPgSQL db.execute() command
Message-ID: <Pine.OSF.4.33.0107021345590.2479-100000@is07.fas.harvard.edu>

Hello everyone.


I am using the RPgSQL package, and am having some trouble using the
db.execute command.  I successfully connect to my database, and issue a
simple SQL query, like db.execute("Select * from c0000075"), where
c0000075 is a table in my database.  But when I try to fetch from the
buffer, R tells me that the table consists of just a null value!  Any
suggestions?

thanks!
Evan Macosko




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tord.snall at ebc.uu.se  Mon Jul  2 18:51:40 2001
From: tord.snall at ebc.uu.se (Tord Snall)
Date: Mon, 02 Jul 2001 18:51:40 +0200
Subject: [R] replace() in matrix
Message-ID: <3.0.6.32.20010702185140.00af8740@mail.anst.uu.se>

Dear all,
How do I replace values of a matrix, for exemple I want the matrix

1	24	1	1	1
24	1	1	1	1
1	1	1	45	104
1	1	45	1	92
1	1	104	92	1

to be replaced by 

0	24	0	0	0
24	0	0	0	0
0	0	0	45	104
0	0	45	0	92
0	0	104	92	0

Could someone please help me with that?

Thanks in advance!

Sincerely,
Tord Sn?ll

-----------------------------------------------------------------------
Tord Sn?ll
Avd. f v?xtekologi, Evolutionsbiologiskt centrum, Uppsala universitet
Dept. of Plant Ecology, Evolutionary Biology Centre, Uppsala University
Villav?gen 14			
SE-752 36 Uppsala, Sweden
Tel: 018-471 28 82 (int +46 18 471 28 82) (work)
Tel: 018-25 71 33 (int +46 18 25 71 33) (home)
Fax: 018-55 34 19 (int +46 18 55 34 19) (work)
E-mail: Tord.Snall at ebc.uu.se
http://www.vaxtbio.uu.se/resfold/snall.htm
------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Mon Jul  2 20:15:31 2001
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Mon, 2 Jul 2001 20:15:31 +0200
Subject: [R] replace() in matrix
In-Reply-To: <3.0.6.32.20010702185140.00af8740@mail.anst.uu.se>; from tord.snall@ebc.uu.se on Mon, Jul 02, 2001 at 06:51:40PM +0200
References: <3.0.6.32.20010702185140.00af8740@mail.anst.uu.se>
Message-ID: <20010702201531.A26879@sirio.stat.unipd.it>

On Mon, Jul 02, 2001 at 06:51:40PM +0200, Tord Snall wrote:
> How do I replace values of a matrix, for exemple I want the matrix
> 
> 1	24	1	1	1
> 24	1	1	1	1
> 1	1	1	45	104
> 1	1	45	1	92
> 1	1	104	92	1
> 
> to be replaced by 
> 
> 0	24	0	0	0
> 24	0	0	0	0
> 0	0	0	45	104
> 0	0	45	0	92
> 0	0	104	92	0
> 
> Could someone please help me with that?


It is explained in the "An introduction to R" manual (which is included
in the main R distribution) under
"Index vectors: selecting and modifying subsets of a data set"

An example is
> a <- matrix(c(1,24,1,103,56,1,1,1,27),3,3)
> a
     [,1] [,2] [,3]
[1,]    1  103    1
[2,]   24   56    1
[3,]    1    1   27
> a[a<=1] <- 0 
> a
     [,1] [,2] [,3]
[1,]    0  103    0
[2,]   24   56    0
[3,]    0    0   27
> 

guido




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Jul  2 20:19:28 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 02 Jul 2001 20:19:28 +0200
Subject: [R] replace() in matrix
References: <3.0.6.32.20010702185140.00af8740@mail.anst.uu.se>
Message-ID: <3B40BB30.93507720@statistik.uni-dortmund.de>



Tord Snall wrote:
> 
> Dear all,
> How do I replace values of a matrix, for exemple I want the matrix
> 
> 1       24      1       1       1
> 24      1       1       1       1
> 1       1       1       45      104
> 1       1       45      1       92
> 1       1       104     92      1
> 
> to be replaced by
> 
> 0       24      0       0       0
> 24      0       0       0       0
> 0       0       0       45      104
> 0       0       45      0       92
> 0       0       104     92      0
> 

A[A == 1] <- 0

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From elmore at stat.psu.edu  Mon Jul  2 21:21:14 2001
From: elmore at stat.psu.edu (Ryan Elmore)
Date: Mon, 2 Jul 2001 15:21:14 -0400 (EDT)
Subject: [R] replace() in matrix
In-Reply-To: <3.0.6.32.20010702185140.00af8740@mail.anst.uu.se>
Message-ID: <Pine.GSO.4.10.10107021518580.1289-100000@definetti.stat.psu.edu>

Probably not the most elegant, but if you have
tmp <- matrix(like below)
(1-(tmp==1))*tmp 
should give you the desired result.

-Ryan Elmore
PSU - Dept of Statistics

On Mon, 2 Jul 2001, Tord Snall wrote:

> Dear all,
> How do I replace values of a matrix, for exemple I want the matrix
> 
> 1	24	1	1	1
> 24	1	1	1	1
> 1	1	1	45	104
> 1	1	45	1	92
> 1	1	104	92	1
> 
> to be replaced by 
> 
> 0	24	0	0	0
> 24	0	0	0	0
> 0	0	0	45	104
> 0	0	45	0	92
> 0	0	104	92	0
> 
> Could someone please help me with that?
> 
> Thanks in advance!
> 
> Sincerely,
> Tord Snäll
> 
> -----------------------------------------------------------------------
> Tord Snäll
> Avd. f växtekologi, Evolutionsbiologiskt centrum, Uppsala universitet
> Dept. of Plant Ecology, Evolutionary Biology Centre, Uppsala University
> Villavägen 14			
> SE-752 36 Uppsala, Sweden
> Tel: 018-471 28 82 (int +46 18 471 28 82) (work)
> Tel: 018-25 71 33 (int +46 18 25 71 33) (home)
> Fax: 018-55 34 19 (int +46 18 55 34 19) (work)
> E-mail: Tord.Snall at ebc.uu.se
> http://www.vaxtbio.uu.se/resfold/snall.htm
> ------------------------------------------------------------------------
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hawkins at scharp.org  Tue Jul  3 03:49:24 2001
From: hawkins at scharp.org (Natalie Hawkins)
Date: Mon, 02 Jul 2001 18:49:24 -0700
Subject: [R] extracting pkg fcn info
Message-ID: <3B4124A4.825A701A@scharp.org>



I would like to learn what functions are available in a given R package
(say, the pkg sma) and
what the arguments and return value is for each of those functions.

Is there an R CMD available for that or a suggested method for easily
extracting
that information?

thanks,
Natalie.




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jul  3 04:12:24 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 2 Jul 2001 19:12:24 -0700 (PDT)
Subject: [R] extracting pkg fcn info
In-Reply-To: <3B4124A4.825A701A@scharp.org>
Message-ID: <Pine.A41.4.33.0107021904160.126404-100000@homer28.u.washington.edu>

On Mon, 2 Jul 2001, Natalie Hawkins wrote:

>
>
> I would like to learn what functions are available in a given R package
> (say, the pkg sma) and
> what the arguments and return value is for each of those functions.
>
> Is there an R CMD available for that or a suggested method for easily
> extracting
> that information?

help(library="package")

will give a listing of the functions (and perhaps other information).

For a list of all the arguments and return values I would suggest the PDF
manual pages for that package. These are all on CRAN or can be built from
the latex help.

You could get the arguments from
 library("somepackage")
 sapply(ls(pos=2),function(nm) args(get(nm)))
but that wouldn't tell you want it meant.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Tue Jul  3 04:21:48 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 02 Jul 2001 19:21:48 -0700
Subject: [R] extracting pkg fcn info
In-Reply-To: <Pine.A41.4.33.0107021904160.126404-100000@homer28.u.washington.edu>
References: <Pine.A41.4.33.0107021904160.126404-100000@homer28.u.washington.edu>
Message-ID: <87hewuzr9f.fsf@jeeves.blindglobe.net>


An extension to what Natalie asked -- has anyone written an R function
to do something like:

        list.api(function)

which returns arguments, classes, and return statements?

best,
-tony

>>>>> "TL" == Thomas Lumley <tlumley at u.washington.edu> writes:

    TL> On Mon, 2 Jul 2001, Natalie Hawkins wrote:
    >> 
    >> 
    >> I would like to learn what functions are available in a given R
    >> package (say, the pkg sma) and what the arguments and return
    >> value is for each of those functions.
    >> 
    >> Is there an R CMD available for that or a suggested method for
    >> easily extracting that information?

    TL> help(library="package")

    TL> will give a listing of the functions (and perhaps other
    TL> information).

    TL> For a list of all the arguments and return values I would
    TL> suggest the PDF manual pages for that package. These are all
    TL> on CRAN or can be built from the latex help.

    TL> You could get the arguments from library("somepackage")
    TL> sapply(ls(pos=2),function(nm) args(get(nm))) but that wouldn't
    TL> tell you want it meant.

    TL> 	-thomas

    TL> Thomas Lumley Asst. Professor, Biostatistics
    TL> tlumley at u.washington.edu University of Washington, Seattle

    TL> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    TL> r-help mailing list -- Read
    TL> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info",
    TL> "help", or "[un]subscribe" (in the "body", not the subject !)
    TL> To: r-help-request at stat.math.ethz.ch
    TL> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._




-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------- (wednesday/friday is unknown) --------
FHCRC: M-Tu : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul  3 06:59:52 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 3 Jul 2001 05:59:52 +0100 (BST)
Subject: [R] extracting pkg fcn info
In-Reply-To: <87hewuzr9f.fsf@jeeves.blindglobe.net>
Message-ID: <Pine.GSO.4.31.0107030555490.20805-100000@auk.stats>

On 2 Jul 2001, A.J. Rossini wrote:

>
> An extension to what Natalie asked -- has anyone written an R function
> to do something like:
>
>         list.api(function)
>
> which returns arguments, classes, and return statements?

The last may well depend on the inputs, and for generic functions just
about anything will depend on the inputs.

I don't see this as of much use apart from chacking documentation, and
codoc does have code to extract the arguments from the help and the
function.

With a richer help system (being dreamt about) you would be able to get
this from the documentation.

>
> best,
> -tony
>
> >>>>> "TL" == Thomas Lumley <tlumley at u.washington.edu> writes:
>
>     TL> On Mon, 2 Jul 2001, Natalie Hawkins wrote:
>     >>
>     >>
>     >> I would like to learn what functions are available in a given R
>     >> package (say, the pkg sma) and what the arguments and return
>     >> value is for each of those functions.
>     >>
>     >> Is there an R CMD available for that or a suggested method for
>     >> easily extracting that information?
>
>     TL> help(library="package")
>
>     TL> will give a listing of the functions (and perhaps other
>     TL> information).
>
>     TL> For a list of all the arguments and return values I would
>     TL> suggest the PDF manual pages for that package. These are all
>     TL> on CRAN or can be built from the latex help.
>
>     TL> You could get the arguments from library("somepackage")
>     TL> sapply(ls(pos=2),function(nm) args(get(nm))) but that wouldn't
>     TL> tell you want it meant.
>
>     TL> 	-thomas
>
>     TL> Thomas Lumley Asst. Professor, Biostatistics
>     TL> tlumley at u.washington.edu University of Washington, Seattle
>
>     TL> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>     TL> r-help mailing list -- Read
>     TL> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info",
>     TL> "help", or "[un]subscribe" (in the "body", not the subject !)
>     TL> To: r-help-request at stat.math.ethz.ch
>     TL> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
>
>
>
> --
> A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
> U. of Washington Biostatistics		rossini at u.washington.edu
> FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
> -------- (wednesday/friday is unknown) --------
> FHCRC: M-Tu : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
> UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From henrikb at braju.com  Tue Jul  3 08:01:42 2001
From: henrikb at braju.com (Henrik Bengtsson)
Date: Mon, 2 Jul 2001 23:01:42 -0700
Subject: [R] How do one modify an expression?
Message-ID: <KKEGJOGBELBHDIKPINBMMEDPCFAA.henrikb@braju.com>

I am using expressions to annotate x and y labels in plots. I start of with
a label as

  xlab <- expression(X)

Note that it is the user that sets this. It could also be something more
complicated as expression(sqrt(R*G)). Can I easily add a log[2] "around"
this expression? I would like to get

  xlab <- expression(log[2](X))

I basically know nothing about expressions.

Thanks

Henrik Bengtsson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Jul  3 08:25:22 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 03 Jul 2001 08:25:22 +0200
Subject: [R] How do one modify an expression?
References: <KKEGJOGBELBHDIKPINBMMEDPCFAA.henrikb@braju.com>
Message-ID: <3B416552.117D4EFC@statistik.uni-dortmund.de>



Henrik Bengtsson wrote:
> 
> I am using expressions to annotate x and y labels in plots. I start of with
> a label as
> 
>   xlab <- expression(X)
> 
> Note that it is the user that sets this. It could also be something more
> complicated as expression(sqrt(R*G)). Can I easily add a log[2] "around"
> this expression? I would like to get
> 
>   xlab <- expression(log[2](X))
> 
> I basically know nothing about expressions.

The following seems to work:

  plot(1:10, xlab= expression(log[2](X))) 

So I don't understand your question. For help on plot annotation have a
look at:

  ?plotmath


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul  3 08:36:42 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 3 Jul 2001 07:36:42 +0100 (BST)
Subject: [R] How do one modify an expression?
In-Reply-To: <3B416552.117D4EFC@statistik.uni-dortmund.de>
Message-ID: <Pine.GSO.4.31.0107030728120.21847-100000@auk.stats>

On Tue, 3 Jul 2001, Uwe Ligges wrote:

>
>
> Henrik Bengtsson wrote:
> >
> > I am using expressions to annotate x and y labels in plots. I start of with
> > a label as
> >
> >   xlab <- expression(X)
> >
> > Note that it is the user that sets this. It could also be something more
> > complicated as expression(sqrt(R*G)). Can I easily add a log[2] "around"
> > this expression? I would like to get
> >
> >   xlab <- expression(log[2](X))
> >
> > I basically know nothing about expressions.
>
> The following seems to work:
>
>   plot(1:10, xlab= expression(log[2](X)))

He wants

X <- expression(sqrt(R*G))
xlab <- ???
plot(1:10, xlab=xlab)

to give the same result as

plot(1:10, xlab=expression(log[2](sqrt(R*G))))

I believe.  Try

xlab <- substitute(log[2](foo), list(foo=X[[1]]))
plot(1:10, xlab= xlab)

If this is not exactly what is required, I am sure substitute is the right
tool.

Note: I would have used

X <- quote(sqrt(R*G))
xlab <- substitute(log[2](foo), list(foo=X))
plot(1:10, xlab= xlab)

and avoided the expression().

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Tue Jul  3 11:07:12 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Tue, 3 Jul 2001 10:07:12 +0100
Subject: [R] replace() in matrix
In-Reply-To: <3.0.6.32.20010702185140.00af8740@mail.anst.uu.se>
References: <3.0.6.32.20010702185140.00af8740@mail.anst.uu.se>
Message-ID: <BEFoJbAAtYQ7Ew0V@myatt.demon.co.uk>

Tord,

Writes:

>How do I replace values of a matrix, for exemple I want the matrix
>
>1      24      1       1       1
>24     1       1       1       1
>1      1       1       45      104
>1      1       45      1       92
>1      1       104     92      1
>
>to be replaced by 
>
>0      24      0       0       0
>24     0       0       0       0
>0      0       0       45      104
>0      0       45      0       92
>0      0       104     92      0
>
>Could someone please help me with that?

Use an index:

        your.mat.data <- c(1, 24, 1, 1, 1, 24, 1, 1, 1, 1, 1, 1, 1, 45,
                           104, 1, 1, 45, 1, 92, 1, 1, 104, 92, 1)

        your.mat <- matrix(data = your.mat.data, 
                           nrow = 5,
                           ncol = 5,
                           byrow = TRUE)

        your.mat

        your.mat[your.mat == 1] <- 0

        your.mat

The index is [your.mat == 1].

An alternative is to use the replace() function:

        your.mat.data <- c(1, 24, 1, 1, 1, 24, 1, 1, 1, 1, 1, 1, 1, 45,
                           104, 1, 1, 45, 1, 92, 1, 1, 104, 92, 1)

        your.mat <- matrix(data = your.mat.data, 
                           nrow = 5,
                           ncol = 5,
                           byrow = TRUE)

        your.mat

        your.mat <- replace(your.mat, your.mat == 1, 0)

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From virgil at matheron.estadi.uv.es  Tue Jul  3 11:46:25 2001
From: virgil at matheron.estadi.uv.es (virgil@matheron.estadi.uv.es)
Date: Tue, 3 Jul 2001 11:46:25 +0200 (CEST)
Subject: [R] Some questions about R-(D)COM
Message-ID: <Pine.LNX.4.31.0107031139360.16282-100000@matheron.estadi.uv.es>

Hello Thomas,

 I am writting to you because I have some questions about R-(D)COM. The
first one is whether it can compiled using the MINGW C compiler, that
is recomended by B. Ripley to compile R under Windows.

The other questions are:

- How can I open/close connections directly from C/C++?
- Do you know about a free Visual Basic compiler?


The final purpose of using R-(D)COM is to create a link between ArcInfo
and R, in the same way 'S-Plus for ArcView' does.

 Thank you in advice.

  Regards,

  Virgilio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tord.snall at ebc.uu.se  Tue Jul  3 10:54:17 2001
From: tord.snall at ebc.uu.se (Tord Snall)
Date: Tue, 03 Jul 2001 10:54:17 +0200
Subject: Thanks for help with: [R] replace() in matrix
In-Reply-To: <3.0.6.32.20010702185140.00af8740@mail.anst.uu.se>
Message-ID: <3.0.6.32.20010703105417.00b77c10@mail.anst.uu.se>

Dear all,

Thanks to Douglas Bates, Uwe Ligges, Andy Liaw, Giovanni Petris, Ryan
Elmore, Mark Myatt and Guido Masarotto for answering my question on
replacing cells in a matrix!

Guido Masarotto even pointed me to the solution in An introduction to R. I
had searched only in R for beginners.

As a beginner, non-statisticians and only R user at my dept., I really
appreciate the help from you all.

Sincerely,
Tord Sn?ll


At 18:51 2001-07-02 +0200, you wrote:
>Dear all,
>How do I replace values of a matrix, for exemple I want the matrix
>
>1	24	1	1	1
>24	1	1	1	1
>1	1	1	45	104
>1	1	45	1	92
>1	1	104	92	1
>
>to be replaced by 
>
>0	24	0	0	0
>24	0	0	0	0
>0	0	0	45	104
>0	0	45	0	92
>0	0	104	92	0
>
>Could someone please help me with that?
>
>Thanks in advance!
>
>Sincerely,
>Tord Sn?ll
>
>-----------------------------------------------------------------------
>Tord Sn?ll
>Avd. f v?xtekologi, Evolutionsbiologiskt centrum, Uppsala universitet
>Dept. of Plant Ecology, Evolutionary Biology Centre, Uppsala University
>Villav?gen 14			
>SE-752 36 Uppsala, Sweden
>Tel: 018-471 28 82 (int +46 18 471 28 82) (work)
>Tel: 018-25 71 33 (int +46 18 25 71 33) (home)
>Fax: 018-55 34 19 (int +46 18 55 34 19) (work)
>E-mail: Tord.Snall at ebc.uu.se
>http://www.vaxtbio.uu.se/resfold/snall.htm
>------------------------------------------------------------------------
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>

-----------------------------------------------------------------------
Tord Sn?ll
Avd. f v?xtekologi, Evolutionsbiologiskt centrum, Uppsala universitet
Dept. of Plant Ecology, Evolutionary Biology Centre, Uppsala University
Villav?gen 14			
SE-752 36 Uppsala, Sweden
Tel: 018-471 28 82 (int +46 18 471 28 82) (work)
Tel: 018-25 71 33 (int +46 18 25 71 33) (home)
Fax: 018-55 34 19 (int +46 18 55 34 19) (work)
E-mail: Tord.Snall at ebc.uu.se
http://www.vaxtbio.uu.se/resfold/snall.htm
------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul  3 13:32:55 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 3 Jul 2001 12:32:55 +0100 (BST)
Subject: [R] Some questions about R-(D)COM
In-Reply-To: <Pine.LNX.4.31.0107031139360.16282-100000@matheron.estadi.uv.es>
Message-ID: <Pine.LNX.4.31.0107031225070.1163-100000@gannet.stats>

On Tue, 3 Jul 2001 virgil at matheron.estadi.uv.es wrote:

> Hello Thomas,
>
>  I am writting to you because I have some questions about R-(D)COM. The
> first one is whether it can compiled using the MINGW C compiler, that
> is recomended by B. Ripley to compile R under Windows.

Um. rproxy.dll, the R side, *is* compiled under mingw.  It's not clear to
me why one would want to compile the StatConnector under mingw, but Thomas
said he thought it may be possible.  One issue is the quality of
mingw headers.  As Thomas (and I) have VC++6.0, it has not been an issue.

> The other questions are:
>
> - How can I open/close connections directly from C/C++?

Yes, because R itself does from C code.  It's not set up to be easy,
though, and the low-level interface in connections.c is mainly not exposed
(static routines).  But you can call do_url, do_open, do_close and so on
from your own C code.

> - Do you know about a free Visual Basic compiler?

No. There are learning editions free with various books, but they
have limited compilation facilities.  The Learning Edition sold here
is definitely able to work with R-(D)COM, as my wife uses that one.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jul  3 14:11:00 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Jul 2001 14:11:00 +0200
Subject: [R] margin.table
In-Reply-To: Prof Brian Ripley's message of "Mon, 2 Jul 2001 13:53:38 +0100 (BST)"
References: <Pine.LNX.4.31.0107021345560.1601-100000@gannet.stats>
Message-ID: <x2d77iusa3.fsf@blueberry.kubism.ku.dk>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> > is.array(mm)
> [1] FALSE
> 
> and final line of margin.table tries to make the result make into a
> data frame.
> 
> One could argue that as it accepted a non-array it should do a better job
> with it, but we need the author (who is away this week) to explain why
> he copied the class of the first argument to the result.

Because Kurt (who's also away this week) asked him to... It's to
preserve "xtabs" and "table" classes on the result. Data frames never
entered my mind and I don't think you should reasonably expect them to
work.   

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Tue Jul  3 14:21:49 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 03 Jul 2001 05:21:49 -0700
Subject: [R] extracting pkg fcn info
In-Reply-To: <Pine.GSO.4.31.0107030555490.20805-100000@auk.stats>
References: <Pine.GSO.4.31.0107030555490.20805-100000@auk.stats>
Message-ID: <87lmm6jj8i.fsf@jeeves.blindglobe.net>

>>>>> "BDR" == Brian D Ripley <Prof> writes:

    BDR> On 2 Jul 2001, A.J. Rossini wrote:
    >> An extension to what Natalie asked -- has anyone written an R
    >> function to do something like:
    >> 
    >> list.api(function)
    >> 
    >> which returns arguments, classes, and return statements?

    BDR> The last may well depend on the inputs, and for generic
    BDR> functions just about anything will depend on the inputs.

That's true, and in some contexts, it would be nice to see it all.
(I.e. a list of potentially returned objects).

    BDR> I don't see this as of much use apart from chacking
    BDR> documentation, and codoc does have code to extract the
    BDR> arguments from the help and the function.

Actually, it is of incredible use in OOP.  Just not the form that R
(or XLispStat) uses.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------- (wednesday/friday is unknown) --------
FHCRC: M-Tu : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baier at ci.tuwien.ac.at  Tue Jul  3 14:37:23 2001
From: baier at ci.tuwien.ac.at (Thomas Baier)
Date: Tue, 3 Jul 2001 14:37:23 +0200 (CEST)
Subject: [R] Some questions about R-(D)COM
In-Reply-To: <Pine.LNX.4.31.0107031225070.1163-100000@gannet.stats> from Prof
 Brian Ripley at "Jul 3, 2001 12:32:55 pm"
Message-ID: <200107031237.OAA14888@luthien.ci.tuwien.ac.at>

> >  I am writting to you because I have some questions about R-(D)COM. The
> > first one is whether it can compiled using the MINGW C compiler, that
> > is recomended by B. Ripley to compile R under Windows.
> Um. rproxy.dll, the R side, *is* compiled under mingw.  It's not clear to
> me why one would want to compile the StatConnector under mingw, but Thomas
> said he thought it may be possible.  One issue is the quality of
> mingw headers.  As Thomas (and I) have VC++6.0, it has not been an issue.
Brian is right. It is possible to compile the rproxy.dll (you even must do so)
using the same compiler as R itself. The COM server requires VC++ 6.0

> > - Do you know about a free Visual Basic compiler?
> No. There are learning editions free with various books, but they
> have limited compilation facilities.  The Learning Edition sold here
> is definitely able to work with R-(D)COM, as my wife uses that one.
The learning editions should do fine. Another alternative would be to use
VBScript instead, which ships (I think so) with IE4.0 and newer Windows versions.

Thomas
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Tue Jul  3 14:42:05 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Tue, 3 Jul 2001 14:42:05 +0200
Subject: [R] Some questions about R-(D)COM
In-Reply-To: <Pine.LNX.4.31.0107031139360.16282-100000@matheron.estadi.uv.es>
Message-ID: <MABBLJDICACNFOLGIHJOIEEHCEAA.phgrosje@ulb.ac.be>

> Do you know about a free Visual Basic compiler?

No. But VBScript is available for free (if you have MS Internet Explorer 4
or above, it is already installed on your system), it allow to "script" DCom
objects from the console, or from a web page. If you have MS Office, you can
also use VBA (Visual Basic for Application) that allow to interact with
R-DCom (see R-Excel in the CRAN site for an example).
Best regards,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
......................................................................

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Tue Jul  3 15:48:02 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Tue, 3 Jul 2001 14:48:02 +0100
Subject: [R] Some questions about R-(D)COM
In-Reply-To: <Pine.LNX.4.31.0107031225070.1163-100000@gannet.stats>
References: <Pine.LNX.4.31.0107031139360.16282-100000@matheron.estadi.uv.es>
 <Pine.LNX.4.31.0107031225070.1163-100000@gannet.stats>
Message-ID: <fghvAGAS0cQ7EwUG@myatt.demon.co.uk>

Someone wrote:
>
>> - Do you know about a free Visual Basic compiler?
>
>No. There are learning editions free with various books, but they
>have limited compilation facilities.  The Learning Edition sold here
>is definitely able to work with R-(D)COM, as my wife uses that one.

There was a version called Visual Basic 5 Control Creation Edition which
was free. You might be able to get it from the M$ website. I remember
that is was on a lot of cover CDs from the glossy PC mags. You might be
able to find a copy about or go through back issue departments. I do not
have a copy here but I think it could create an .EXE but it needed the
software to be installed to run the .EXE not just the runtime library. I
might be wrong.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From projetsensnet.balp152 at rd.francetelecom.fr  Tue Jul  3 16:05:52 2001
From: projetsensnet.balp152 at rd.francetelecom.fr (Francois Deshaies)
Date: Tue, 3 Jul 2001 16:05:52 +0200
Subject: [R] dissimilarity structure 
Message-ID: <000f01c103c9$44fdd440$1d6a648b@rd.francetelecom.fr>

How can I easily convert this format
 
INT CAB 1.0000000
LIG CAB 0.3333333
TEN CAB 1.0000000
INT LIG 1.0000000
TEN LIG 1.0000000
INT TEN 0.0000000
 
to this dissimilarity structure  format(compatible with hclust) ?
 
          CAB INT LIG
INT 1.0000000        
LIG 0.3333333   1    
TEN 1.0000000   0   1
 
(and vice versa)
 
Thanks
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010703/2726ef3a/attachment.html

From virgil at matheron.estadi.uv.es  Tue Jul  3 16:27:17 2001
From: virgil at matheron.estadi.uv.es (virgil@matheron.estadi.uv.es)
Date: Tue, 3 Jul 2001 16:27:17 +0200 (CEST)
Subject: [R] Some questions about R-(D)COM
In-Reply-To: <Pine.LNX.4.31.0107031225070.1163-100000@gannet.stats>
Message-ID: <Pine.LNX.4.31.0107031611400.17523-100000@matheron.estadi.uv.es>

> Um. rproxy.dll, the R side, *is* compiled under mingw.  It's not clear to
> me why one would want to compile the StatConnector under mingw, but Thomas
> said he thought it may be possible.  One issue is the quality of
> mingw headers.  As Thomas (and I) have VC++6.0, it has not been an issue.


The idea is to develop free software using free tools, and I think VC++6.0
isn't. And when I say free I mean software licensed under the GPL or
another license like that...

Besides, I have read (in Colin Peter's web page) that the mingw can't use
VC++ DLLs, but I have not tested this myself. IS it true?

Virgilio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul  3 16:36:56 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 3 Jul 2001 15:36:56 +0100 (BST)
Subject: [R] Some questions about R-(D)COM
In-Reply-To: <Pine.LNX.4.31.0107031611400.17523-100000@matheron.estadi.uv.es>
Message-ID: <Pine.LNX.4.31.0107031532060.18534-100000@gannet.stats>

On Tue, 3 Jul 2001 virgil at matheron.estadi.uv.es wrote:

> > Um. rproxy.dll, the R side, *is* compiled under mingw.  It's not clear to
> > me why one would want to compile the StatConnector under mingw, but Thomas
> > said he thought it may be possible.  One issue is the quality of
> > mingw headers.  As Thomas (and I) have VC++6.0, it has not been an issue.
>
>
> The idea is to develop free software using free tools, and I think VC++6.0
> isn't. And when I say free I mean software licensed under the GPL or
> another license like that...

Then please use `Open Source' or `Free Software' so it is clear that
you don't mean zero-cost.

The tools are the StatConnector server .exe and .dll, and those are GPL.
On the other hand, Windows is not free, so I think you need to use a
different operating system.

There are no Open Source versions of Visual Basic, either.

> Besides, I have read (in Colin Peter's web page) that the mingw can't use
> VC++ DLLs, but I have not tested this myself. IS it true?

Not true.  It uses msvcrt.dll, for example.  DLLs are DLLs, no
language-specific.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy at arcriswell.com  Tue Jul  3 16:49:04 2001
From: andy at arcriswell.com (Andrew Criswell)
Date: Tue, 3 Jul 2001 21:49:04 +0700
Subject: [R] Re: R-1.3.0 RPM for Mandrake 8.0 (correct version) 
References: <Pine.LNX.4.33L2.0107031252470.2993-100000@localhost.localdomain>
Message-ID: <006001c103cf$56b2da40$a9d994cb@andrew8gpipq9q>

Bangkok: Tuesday, 21:48

Hello All:

After reading Michele Alzetta's announcement, I went to
http://www.r-project.org and found
R-base-1.3.0-1.1mdk.i586 lated modified on Jun25, 2001.

This does not appear to be an update.

Best wishes,
ANDREW

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tomsv193 at student.liu.se  Tue Jul  3 16:55:39 2001
From: tomsv193 at student.liu.se (tomsv193@student.liu.se)
Date: Tue, 03 Jul 2001 16:55:39 +0200
Subject: [R] order
Message-ID: <5a5e95ad09.5ad095a5e9@student.liu.se>

Hi!

Why is the rows-indicies effected by ordering? 
Example:

(data=)
  name   age
1 peter  13
2 eric   15
3 daniel 14 

#ordering by name...

  name   age
3 daniel 14
2 eric   15
1 peter  13

why not:

  name   age
1 daniel 14
2 eric   15
3 peter  13

Does it effect other operations? data[,1] really gives the 1:st row, 
but when data is printed it says that the first row have index 3...


/Tomas




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul  3 17:05:08 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 3 Jul 2001 16:05:08 +0100 (BST)
Subject: [R] order
In-Reply-To: <5a5e95ad09.5ad095a5e9@student.liu.se>
Message-ID: <Pine.LNX.4.31.0107031601340.25251-100000@gannet.stats>

On Tue, 3 Jul 2001 tomsv193 at student.liu.se wrote:

> Why is the rows-indicies effected by ordering?

Those are row names, not row indices.

> Example:
>
> (data=)
>   name   age
> 1 peter  13
> 2 eric   15
> 3 daniel 14
>
> #ordering by name...
>
>   name   age
> 3 daniel 14
> 2 eric   15
> 1 peter  13
>
> why not:
>
>   name   age
> 1 daniel 14
> 2 eric   15
> 3 peter  13
>
> Does it effect other operations? data[,1] really gives the 1:st row,
> but when data is printed it says that the first row have index 3...

*row name* 3.  Indices are printed like [3,] as in

> matrix(1:9, 3)
     [,1] [,2] [,3]
[1,]    1    4    7
[2,]    2    5    8
[3,]    3    6    9


Try a data frame like swiss with real names (in 1.3.0) rather than names
which happen to be 1:nrow(df).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Tue Jul  3 17:11:29 2001
From: plummer at iarc.fr (Martyn Plummer)
Date: Tue, 03 Jul 2001 17:11:29 +0200 (CEST)
Subject: [R] Re: R-1.3.0 RPM for Mandrake 8.0 (correct version)
In-Reply-To: <006001c103cf$56b2da40$a9d994cb@andrew8gpipq9q>
Message-ID: <XFMail.20010703171129.plummer@iarc.fr>

On 03-Jul-2001 Andrew Criswell wrote:
> Bangkok: Tuesday, 21:48
> 
> Hello All:
> 
> After reading Michele Alzetta's announcement, I went to
> http://www.r-project.org and found
> R-base-1.3.0-1.1mdk.i586 lated modified on Jun25, 2001.
> 
> This does not appear to be an update.

It hasn't appeared on CRAN yet, but it will.  Pick it up
from here if you are in a hurry.

ftp://ftp-fis.iarc.fr/pub/R/Mandrake/8.0/

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jul  3 17:28:03 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 3 Jul 2001 08:28:03 -0700 (PDT)
Subject: [R] dissimilarity structure 
In-Reply-To: <000f01c103c9$44fdd440$1d6a648b@rd.francetelecom.fr>
Message-ID: <Pine.A41.4.33.0107030822560.44558-100000@homer34.u.washington.edu>

On Tue, 3 Jul 2001, Francois Deshaies wrote:

> How can I easily convert this format
>
> INT CAB 1.0000000
> LIG CAB 0.3333333
> TEN CAB 1.0000000
> INT LIG 1.0000000
> TEN LIG 1.0000000
> INT TEN 0.0000000
>
> to this dissimilarity structure  format(compatible with hclust) ?
>
>           CAB INT LIG
> INT 1.0000000
> LIG 0.3333333   1
> TEN 1.0000000   0   1
>
> (and vice versa)

One way is

  m<-matrix(ncol=4,nrow=4)
  m[lower.tri(m)]<-your.dissimilarity.vector
  as.dist(m)

In fact, dissimilarity objects are just vectors with some attributes,
[unclass() a dist object to see], so you could just put these attributes
on your vector.  This is stylistically a bad idea, since in theory the
internal structure of "dist" objects could change at any time, but it
would probably work.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjb at di.fct.unl.pt  Tue Jul  3 18:50:34 2001
From: cjb at di.fct.unl.pt (cjb)
Date: Tue, 03 Jul 2001 17:50:34 +0100
Subject: [R] Printer
Message-ID: <3B41F7DA.33A91130@di.fct.unl.pt>

Please,

I am an econometrics student using R. How do I print directly from R to
a printer (not to the screen) :

1) an object saved previously in the workspace
2) a graphic plot on the screen

Thank You
CJBento
UniNovaLisboa
Portugal


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dwhite at ling.ohio-state.edu  Tue Jul  3 19:04:19 2001
From: dwhite at ling.ohio-state.edu (David White)
Date: Tue, 3 Jul 2001 13:04:19 -0400 (EDT)
Subject: [R] extracting subset from a data frame
Message-ID: <Pine.SOL.4.33.0107031258540.14791-100000@julius.ling.ohio-state.edu>


Dear list,

How can I subset a factor level out of a dataframe and into another?

Ex.
    token	       max1     max2     condition    prop1     prop2
879 n224ti10.10msmeanc 2928.516 6201.562 out of range 0.5273416 0.5454564
880 n224ti11.10msmeanc 3100.781 6718.359 out of range 0.7369985 0.4668726
881 n224tu01.10msmeanc 2928.516 6373.828 out of range 0.5116092 0.5293684
18  n002tu06.10msmeanc 2756.250 7579.688 within range 0.5245017 0.4614441
39  n011ku02.10msmeanc 1722.656 5340.234 within range 0.5297173 0.5002062
40  n011ku03.10msmeanc 1894.922 5167.969 within range 0.6348299 0.6518556
43  n011ku06.10msmeanc 1894.922 5512.500 within range 0.6487249 0.5513902

Suppose I need to subset all of the within range observations into another
dataframe.

Many thanks,

S. David White
sdavidwhite at bigfoot.com
Columbus, Ohio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jul  3 19:13:11 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 3 Jul 2001 10:13:11 -0700 (PDT)
Subject: [R] extracting subset from a data frame
In-Reply-To: <Pine.SOL.4.33.0107031258540.14791-100000@julius.ling.ohio-state.edu>
Message-ID: <Pine.A41.4.33.0107031010540.44558-100000@homer34.u.washington.edu>

On Tue, 3 Jul 2001, David White wrote:

>
> Dear list,
>
> How can I subset a factor level out of a dataframe and into another?
>
> Ex.
>     token	       max1     max2     condition    prop1     prop2
> 879 n224ti10.10msmeanc 2928.516 6201.562 out of range 0.5273416 0.5454564
> 880 n224ti11.10msmeanc 3100.781 6718.359 out of range 0.7369985 0.4668726
> 881 n224tu01.10msmeanc 2928.516 6373.828 out of range 0.5116092 0.5293684
> 18  n002tu06.10msmeanc 2756.250 7579.688 within range 0.5245017 0.4614441
> 39  n011ku02.10msmeanc 1722.656 5340.234 within range 0.5297173 0.5002062
> 40  n011ku03.10msmeanc 1894.922 5167.969 within range 0.6348299 0.6518556
> 43  n011ku06.10msmeanc 1894.922 5512.500 within range 0.6487249 0.5513902
>
> Suppose I need to subset all of the within range observations into another
> dataframe.
>

another.dframe<-dframe[dframe$condition=="within range",]


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From denis at mail.cor.epa.gov  Tue Jul  3 19:16:28 2001
From: denis at mail.cor.epa.gov (Denis White)
Date: Tue, 3 Jul 2001 10:16:28 -0700 (PDT)
Subject: [R] dissimilarity structure
Message-ID: <Pine.SUN.3.91.1010703101327.29732A-100000@quagga.cor.epa.gov>


> From: Francois Deshaies 
>
> How can I easily convert this format
> 
> INT CAB 1.0000000
> LIG CAB 0.3333333
> TEN CAB 1.0000000
> INT LIG 1.0000000
> TEN LIG 1.0000000
> INT TEN 0.0000000
>  
> to this dissimilarity structure  format(compatible with hclust) ?
>  
>           CAB INT LIG
> INT 1.0000000        
> LIG 0.3333333   1    
> TEN 1.0000000   0   1
>  
> (and vice versa)
>  
> Thanks

---------------------------

To convert from the vector to an interaction matrix
(which may not be the best form for the dissimilarity matrix...)

> x
   V1  V2        V3
1 INT CAB 1.0000000
2 LIG CAB 0.3333333
3 TEN CAB 1.0000000
4 INT LIG 1.0000000
5 TEN LIG 1.0000000
6 INT TEN 0.0000000
> a <- unique (x$V1)
> b <- unique (x$V2)
> ij <- cbind (match (x$V1, a), match (x$V2, b))
> d <- matrix (0, nrow=length(a), ncol=length(b))
> dimnames(d) <- list (a, b)
> d[ij] <- x$V3
> d
          CAB LIG TEN
INT 1.0000000   1   0
LIG 0.3333333   0   0
TEN 1.0000000   1   0


Denis White
   US EPA, 200 SW 35th St, Corvallis, Oregon, 97333 USA
   voice: 541.754.4476, email: white.denis at epa.gov
   web: www.epa.gov/wed/pages/staff/white/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ray.Brownrigg at mcs.vuw.ac.nz  Tue Jul  3 23:08:53 2001
From: Ray.Brownrigg at mcs.vuw.ac.nz (Ray Brownrigg)
Date: Wed, 4 Jul 2001 09:08:53 +1200 (NZST)
Subject: [R] Printer
Message-ID: <200107032108.JAA03496@aqua.mcs.vuw.ac.nz>

> I am an econometrics student using R. How do I print directly from R to
> a printer (not to the screen) :
> 
> 1) an object saved previously in the workspace
> 2) a graphic plot on the screen
> 
Try this.  If you give it an object name, it will print that object,
otherwise it will print the current plot (assuming a Postscript
printer):

lpr <-
function (object, file = "Rplotlpr.ps", ...) 
{
    if (missing(object)) {
        current.device <- dev.cur()
        dev.off(dev.copy(device = postscript, file = file, ...))
        dev.set(current.device)
        system(paste("lpr", file))
        print(paste(file, "printed."))
    }
    else {
        if (missing(file)) 
            file <- "Robjlpr.txt"
        sink(file)
        object <- as.character(substitute(object))
        print(get(object))
        sink()
        system(paste("lpr", file))
        print(paste(object, "printed."))
    }
}

Hope this helps,
Ray Brownrigg <ray at mcs.vuw.ac.nz>	http://www.mcs.vuw.ac.nz/~ray
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.mcclatchie at niwa.cri.nz  Wed Jul  4 07:15:14 2001
From: s.mcclatchie at niwa.cri.nz (S.McClatchie)
Date: Wed, 4 Jul 2001 17:15:14 +1200
Subject: [R] by/ NA/ barplot
Message-ID: <200107040515.f645FgQ76804@storm.niwa.cri.nz>

Colleagues

----------------------------------
System info:
Version 1.3.0  (2001-06-22) on NT
ESS v. 5.1.18 using emacs ver. 20.4

----------------------------------
I have generated an object (class = by) with NA values and want to plot 
the output as a bargraph:

  x2 <- by(scl.nos, species, sum) 

These data are summed counts of fish by species

> x2
INDICES: AGI
[1] 0.729927
------------------------------------------------------------ 
INDICES: BAR
[1] NA
------------------------------------------------------------ 
INDICES: BYS
[1] 85.71429
------------------------------------------------------------ 
INDICES: CHA
[1] 2.919708
------------------------------------------------------------ 
INDICES: CIN
[1] 36.31983
------------------------------------------------------------ 
INDICES: CSU
[1] 2381.685
------------------------------------------------------------ 
INDICES: CYP
[1] 1.260504
------------------------------------------------------------ 
INDICES: ETB
[1] 11.62791
------------------------------------------------------------ 
INDICES: FRO
[1] 0.7142857
------------------------------------------------------------ 
INDICES: GSH
[1] NA
------------------------------------------------------------ 
INDICES: HAK
[1] 2.976854
------------------------------------------------------------ 
INDICES: HJO
[1] 85.78232
------------------------------------------------------------ 
INDICES: HOK
[1] 16.59766
------------------------------------------------------------ 
INDICES: IDI
[1] 4.379562
------------------------------------------------------------ 
INDICES: JMM
[1] 3.928571
------------------------------------------------------------ 
INDICES: LAN
[1] NA
------------------------------------------------------------ 
INDICES: LPA
[1] 0.729927
------------------------------------------------------------ 
INDICES: MAL
[1] 0.729927
------------------------------------------------------------ 
INDICES: MMU
[1] NA
------------------------------------------------------------ 
INDICES: NOS
[1] NA
------------------------------------------------------------ 
INDICES: ORH
[1] 2.980198
------------------------------------------------------------ 
INDICES: RBM
[1] 17.08163
------------------------------------------------------------ 
INDICES: RBT
[1] 17.14286
------------------------------------------------------------ 
INDICES: RBY
[1] 0.7142857
------------------------------------------------------------ 
INDICES: RCO
[1] NA
------------------------------------------------------------ 
INDICES: RHY
[1] 12.85714
------------------------------------------------------------ 
INDICES: RIB
[1] 0.729927
------------------------------------------------------------ 
INDICES: SAW
[1] 0.729927
------------------------------------------------------------ 
INDICES: SCH
[1] 0.3571429
------------------------------------------------------------ 
INDICES: SDO
[1] 399.7593
------------------------------------------------------------ 
INDICES: SSI
[1] 0.3571429
------------------------------------------------------------ 
INDICES: SWA
[1] 0.7142857
------------------------------------------------------------ 
INDICES: TUB
[1] 12.49747

When I try to plot them I get an error due to the NA values, I think:

>  barplot(x2,
+             xlab='fish length (SL or TL)  cm',
+             ylab='individuals per nm towed', col='black')
Error in plot.window(xlim, ylim, log, asp, ...) : 
	need finite ylim values

Plot.table gives me the same error and I tried na.rm=TRUE to no effect. 
Is this simple to solve? I guess I need to replace the NAs with zeros in 
one of the by attributes?

Help will be appreciated.
Thanks

Sam

Sam McClatchie, Research scientist (fisheries acoustics))))))))))
NIWA (National Institute of Water & Atmospheric Research Ltd)
PO Box 14 901, Kilbirnie, Wellington, New Zealand
s.mcclatchie at niwa.cri.nz 

                    /\
...>><xX(?> // \\
                 /// \\\   
                //// \\\\
               ///  <?)Xx><<
              /////  \\\\\\
        ><(((?>   
  >><(((?>   ...>><xX(?>O<?)Xx><<

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul  4 08:40:22 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 4 Jul 2001 07:40:22 +0100 (BST)
Subject: [R] by/ NA/ barplot
In-Reply-To: <200107040515.f645FgQ76804@storm.niwa.cri.nz>
Message-ID: <Pine.GSO.4.31.0107040732250.56-100000@auk.stats>

On Wed, 4 Jul 2001, S.McClatchie wrote:

> I have generated an object (class = by) with NA values and want to plot
> the output as a bargraph:
>
>   x2 <- by(scl.nos, species, sum)
>
> These data are summed counts of fish by species

[...]

> When I try to plot them I get an error due to the NA values, I think:
>
> >  barplot(x2,
> +             xlab='fish length (SL or TL)  cm',
> +             ylab='individuals per nm towed', col='black')
> Error in plot.window(xlim, ylim, log, asp, ...) :
> 	need finite ylim values
>
> Plot.table gives me the same error and I tried na.rm=TRUE to no effect.
> Is this simple to solve? I guess I need to replace the NAs with zeros in
> one of the by attributes?

barplot does not accept NAs.  That's a bug, I believe.  It will work if you
specify ylim, as in (modifying the first exammple)

tN <- table(Ni <- rpois(100, lambda=5))
tN[3] <- NA
r <- barplot(tN, col='gray')
Error in plot.window(xlim, ylim, log, asp, ...) :
        need finite ylim values

r <- barplot(tN, col='gray', ylim=c(0,25)) # works.

I assume you want the bar omitted in the NA cases.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From msadam at soest.hawaii.edu  Wed Jul  4 09:33:19 2001
From: msadam at soest.hawaii.edu (M. Shiham Adam)
Date: Wed, 4 Jul 2001 09:33:19 +0200
Subject: [R] .R Directory in Win ver 1.3.0 [forwarded]
Message-ID: <15170.50879.65468.606642@gargle.gargle.HOWL>

	    [ Unfortunately, 
	      yet another person (or rather Micro$oft Outlook configuration?),
	      sending mail to me, the list maintainer (owner-...), 
	      rather than the mailing list...		MM ]

 From: "M. Shiham Adam" <msadam at soest.hawaii.edu>
 To: <owner-r-help at stat.math.ethz.ch>
 Subject: .R Directory in Win ver 1.3.0
 Date: Tue, 3 Jul 2001 12:42:42 -1000

Dear R user,

I am a neophyte user of R

when I installed Windows  version. R 1.3.0 an additional directory <.R> was
created which has only <help.db> file. I do not recall having this directory
in the previous version. What is the significance of this directory? Are
these the help files? Can someone please explain this to me.

Shiham Adam


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul  4 09:47:21 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 4 Jul 2001 08:47:21 +0100 (BST)
Subject: [R] .R Directory in Win ver 1.3.0 [forwarded]
In-Reply-To: <15170.50879.65468.606642@gargle.gargle.HOWL>
Message-ID: <Pine.GSO.4.31.0107040843050.10730-100000@auk.stats>

On Wed, 4 Jul 2001, M. Shiham Adam wrote:

> 	    [ Unfortunately,
> 	      yet another person (or rather Micro$oft Outlook configuration?),
> 	      sending mail to me, the list maintainer (owner-...),
> 	      rather than the mailing list...		MM ]
>
>  From: "M. Shiham Adam" <msadam at soest.hawaii.edu>
>  To: <owner-r-help at stat.math.ethz.ch>
>  Subject: .R Directory in Win ver 1.3.0
>  Date: Tue, 3 Jul 2001 12:42:42 -1000
>
> Dear R user,
>
> I am a neophyte user of R
>
> when I installed Windows  version. R 1.3.0 an additional directory <.R> was
> created which has only <help.db> file. I do not recall having this directory
> in the previous version. What is the significance of this directory? Are

It *was* used in earlier versions.

> these the help files? Can someone please explain this to me.

It is for internal use by help.search().  (Try ?help.search for an fuller
explnation.) You can delete it: it will be re-created in every R session in
which it is needed.

Using names beginning with `.' is a Unix convention for files/directories
which are not for use by the end users.  Just ignore them.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Wed Jul  4 10:06:14 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Wed, 04 Jul 2001 10:06:14 +0200
Subject: [R] by/ NA/ barplot
References: <200107040515.f645FgQ76804@storm.niwa.cri.nz>
Message-ID: <3B42CE76.B8CE84D@cbs.dtu.dk>

"S.McClatchie" wrote:

> Colleagues
>
> (...)
>
> When I try to plot them I get an error due to the NA values, I think:
>
> >  barplot(x2,
> +             xlab='fish length (SL or TL)  cm',
> +             ylab='individuals per nm towed', col='black')
> Error in plot.window(xlim, ylim, log, asp, ...) :
>         need finite ylim values
>
> Plot.table gives me the same error and I tried na.rm=TRUE to no effect.
> Is this simple to solve? I guess I need to replace the NAs with zeros in
> one of the by attributes?
>
> Help will be appreciated.





I guess it depends on what how you want to consider the NAs.


One way is just to ignore these unspecified values in the plot.


>data(warpbreaks)
>attach(warpbreaks)
>warpbreaks$breaks[which(warpbreaks$tension == "L")]  <-  NA
> myby <- by(warpbreaks$breaks,tension,sum)
> myby
INDICES: L
[1] NA
------------------------------------------------------------
INDICES: M
[1] 475
------------------------------------------------------------
INDICES: H
[1] 390
> #there must be a more elegant way, so I am looking forward to seeing the
wizardry suggested by a
> #member of the R core development team
>barplot(myby[- which(is.na(myby))])


Cheers,




Laurent



>

--
Laurent Gautier                 CBS, Building 208, DTU
PhD. Student                    D-2800 Lyngby,Denmark
tel: +45 45 25 24 85            http://www.cbs.dtu.dk/laurent


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010704/f52d77a1/attachment.html

From anna at textology.com  Wed Jul  4 11:47:50 2001
From: anna at textology.com (Ann Chen)
Date: Wed, 4 Jul 2001 11:47:50 +0200
Subject: [R] windows binaries of previous versions
Message-ID: <6DA831F74D7913438408369CB59421A9032173@Textology1.textology1.com>

Hello
Where can I find Windows binaries of previous versions of R?
Some packages (namely, the SJava package) are not compatible with certain
versions of R (the current one, for instance), is there some way around
this?

Thank you
Anna Chen
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010704/1e83f7f9/attachment.html

From ripley at stats.ox.ac.uk  Wed Jul  4 11:21:57 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 4 Jul 2001 10:21:57 +0100 (BST)
Subject: [R] windows binaries of previous versions
In-Reply-To: <6DA831F74D7913438408369CB59421A9032173@Textology1.textology1.com>
Message-ID: <Pine.LNX.4.31.0107041002220.26376-100000@gannet.stats>

On Wed, 4 Jul 2001, Ann Chen wrote:

> Where can I find Windows binaries of previous versions of R?
> Some packages (namely, the SJava package) are not compatible with certain
> versions of R (the current one, for instance), is there some way around
> this?

I know of only one package that does not work under R-1.3.0 but does work
under older ones (package hdf5 which was not updated for 1.2.0).  That
includes SJava: the information on

http://www.omegahat.org/RSJava/index.html

does not give a version requirement on R.  The *binary* there is old, but
there are instructions to build from the sources.  If (as I must assume)
you tried and it failed, you need to send a bug report to the Omegahat
project.

Failing that, you can build any earlier version of R from the R sources,
which are on CRAN back to version 0.65 or so.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Wed Jul  4 11:38:48 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Wed, 4 Jul 2001 05:38:48 -0400 (EDT)
Subject: [R] by/ NA/ barplot
Message-ID: <200107040938.FAA24919@cattell.psych.upenn.edu>

It's nice to hear that this problem might be a bug, and
that it can be fixed with ylim.  I've been using the
following function to get around it for barplots of
matrices.  So, for example, if m1 is a matrix, I say
barplot(fill(m1))

fill <- function(x) {x[x=="NA"]<-0 ; return(x)}

Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul  4 11:49:51 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 4 Jul 2001 10:49:51 +0100 (BST)
Subject: [R] by/ NA/ barplot
In-Reply-To: <200107040938.FAA24919@cattell.psych.upenn.edu>
Message-ID: <Pine.LNX.4.31.0107041045210.28538-100000@gannet.stats>

On Wed, 4 Jul 2001, Jonathan Baron wrote:

> It's nice to hear that this problem might be a bug, and
> that it can be fixed with ylim.  I've been using the

I've put in a fix for 1.3.1.  Not sure what the intentions were, but if it
worked when ylim was set (for vertical barplots) it should work if it is
unset.

> following function to get around it for barplots of
> matrices.  So, for example, if m1 is a matrix, I say
> barplot(fill(m1))
>
> fill <- function(x) {x[x=="NA"]<-0 ; return(x)}

Ouch!  Use is.na(x) not x=="NA".  The first is a proper test for NA or
NaN.  The second coerces to character and tests equality of strings.  This
is slower and not quite the same:

> x <- c(0, 1, NA, 0/0)
> x
[1]   0   1  NA NaN
> is.na(x)
[1] FALSE FALSE  TRUE  TRUE
> x == "NA"
[1] FALSE FALSE  TRUE FALSE


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From delcroix at cyceron.fr  Wed Jul  4 11:56:21 2001
From: delcroix at cyceron.fr (nicolas delcroix)
Date: Wed, 04 Jul 2001 10:56:21 +0100
Subject: [R] Question about anova/ancova
Message-ID: <3B42E844.428F8DF9@cyceron.fr>


hi,

I'm puzzled cause when i did anova with the help of R and StatView, i
didn't get same results !

Indeed, the model is
    aov(Vol~apoe*hta*Age)
where ope and hta are  2 levels factor, and Age is quantitativ data.

We observed same results concerning :
    Residual
    interaction apoe:hta:Age

and other outputs are different.

Does anyone have an idea ?


--
Delcroix Nicolas - GIN - CNRS UMR 6095 - CEA LRC 13V
GIP CYCERON BP.5229 14074 CAEN Cedex
tel: 02 31 47 02 79 fax: 02 31 47 02 22
Email:  delcroix at cyceron.fr

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010704/f90d325d/attachment.html

From david.meyer at ci.tuwien.ac.at  Wed Jul  4 12:01:01 2001
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Wed, 04 Jul 2001 12:01:01 +0200
Subject: [Fwd: [R] RPgSQL db.execute() command]
Message-ID: <3B42E95D.483B3A59@ci.tuwien.ac.at>

David Meyer wrote:
> 
> Evan Zane Macosko wrote:
> >
> > Hello everyone.
> >
> > I am using the RPgSQL package, and am having some trouble using the
> > db.execute command.  I successfully connect to my database, and issue a
> > simple SQL query, like db.execute("Select * from c0000075"), where
> > c0000075 is a table in my database.  But when I try to fetch from the
> > buffer, R tells me that the table consists of just a null value!  Any
> > suggestions?
> 
> The db.execute()-function has a parameter "clear" with default "T"rue,
> which causes the buffer to be cleared after command execution. Simply
> set it to "F"alse.
> 
> (Yes, it's not very intuitive; I ignore the reasons which might have
> induced the package writer to do this)
> 
> -d
> 
> >
> > thanks!
> > Evan Macosko
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> --
> Mag. David Meyer                        Wiedner Hauptstrasse 8-10
> Vienna University of Technology         A-1040 Vienna/AUSTRIA
> Department for Statistics, Probability  Tel.: (+431) 58801/10772
> Theory and Actuarial Mathematics        mail: david.meyer at ci.tuwien.ac.at

-- 
Mag. David Meyer			Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
Department for Statistics, Probability	Tel.: (+431) 58801/10772
Theory and Actuarial Mathematics	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Wed Jul  4 10:23:13 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Wed, 4 Jul 2001 09:23:13 +0100
Subject: [R] extracting subset from a data frame
In-Reply-To: <Pine.SOL.4.33.0107031258540.14791-100000@julius.ling.ohio-state.edu>
References: <Pine.SOL.4.33.0107031258540.14791-100000@julius.ling.ohio-state.edu>
Message-ID: <ih5wAEAxJtQ7EwjP@myatt.demon.co.uk>

David White <dwhite at ling.ohio-state.edu> writes:

>How can I subset a factor level out of a dataframe and into another?
>
>Ex.
>    token             max1     max2     condition    prop1     prop2
>879 n224ti10.10msmeanc 2928.516 6201.562 out of range 0.5273416 0.5454564
>880 n224ti11.10msmeanc 3100.781 6718.359 out of range 0.7369985 0.4668726
>881 n224tu01.10msmeanc 2928.516 6373.828 out of range 0.5116092 0.5293684
>18  n002tu06.10msmeanc 2756.250 7579.688 within range 0.5245017 0.4614441
>39  n011ku02.10msmeanc 1722.656 5340.234 within range 0.5297173 0.5002062
>40  n011ku03.10msmeanc 1894.922 5167.969 within range 0.6348299 0.6518556
>43  n011ku06.10msmeanc 1894.922 5512.500 within range 0.6487249 0.5513902
>
>Suppose I need to subset all of the within range observations into another
>dataframe.

Use subset(). Something like:

        new.df <- subset(old.df, old.df$condition == "within range")

should so it. You may also use indexes:

        new.df <- old.df[old.df$condition == "within range",]

The last comma is important.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From olivier.martin at inrialpes.fr  Wed Jul  4 13:49:50 2001
From: olivier.martin at inrialpes.fr (Olivier Martin)
Date: Wed, 04 Jul 2001 13:49:50 +0200
Subject: [R] a little probleme
Message-ID: <3B4302DD.1C8DED50@inrialpes.fr>

Hi all,

i would like to find the best way to resolve the following problem.
Suppoose i have a vector x of length N with k different elements.
length(x)=N
u<-unique(x)
length(u)=k

I would like to get a matrix M with k rows and N columns such that:
in each line i (i=1,...,k), which(x%in%u[i]) is equal to 1 and 0 else.

Thanks for your help.
Olivier


--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
Olivier MARTIN               phone: (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42
INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                  e-mail:olivier.martin at inrialpes.fr
38334 Saint Ismier cedex
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010704/e33482d5/attachment.html

From c.fullwood at lancaster.ac.uk  Wed Jul  4 14:14:51 2001
From: c.fullwood at lancaster.ac.uk (Catherine Fullwood)
Date: Wed, 4 Jul 2001 13:14:51 +0100 (BST)
Subject: [R] Regression trees with longitudinal data
Message-ID: <Pine.LNX.4.30.0107041312400.30205-100000@gentoo.cluster.maths.local>

Hi,
	Can anyone tell me if they know of any functions written for
regression trees with a longitudinal dataset.  I've got tree, rpart and
maptree, but these all seem to be for univariate responses.

Thanks for your time,

Cath

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Wed Jul  4 14:30:49 2001
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Wed, 4 Jul 2001 14:30:49 +0200
Subject: [R] a little probleme
In-Reply-To: <3B4302DD.1C8DED50@inrialpes.fr>; from olivier.martin@inrialpes.fr on Wed, Jul 04, 2001 at 01:49:50PM +0200
References: <3B4302DD.1C8DED50@inrialpes.fr>
Message-ID: <20010704143049.A2809@sirio.stat.unipd.it>

On Wed, Jul 04, 2001 at 01:49:50PM +0200, Olivier Martin wrote:
> i would like to find the best way to resolve the following problem.
> Suppoose i have a vector x of length N with k different elements.
> length(x)=N
> u<-unique(x)
> length(u)=k
> 
> I would like to get a matrix M with k rows and N columns such that:
> in each line i (i=1,...,k), which(x%in%u[i]) is equal to 1 and 0 else.
> 

  You can try something along the lines of the following 
  small function (sort, colnames and rownames stuff are optional)

  try.me <- function(a)
  {
    n <- length(a)
    u <- sort(unique(a))
    m <- length(u)
    ans <- matrix(0,n,m)
    ans[rep(u,rep(n,m))==a] <- 1
    colnames(ans) <- u
    rownames(ans) <- a
    ans
  }

Example:
> a <- rbinom(10,3,0.5)
> a
 [1] 1 3 2 2 1 2 0 3 1 3
> try.me(a)
  0 1 2 3
1 0 1 0 0
3 0 0 0 1
2 0 0 1 0
2 0 0 1 0
1 0 1 0 0
2 0 0 1 0
0 1 0 0 0
3 0 0 0 1
1 0 1 0 0
3 0 0 0 1
> a<-c("Chopin","Mozart","Mozart","Debussy")
> try.me(a)
        Chopin Debussy Mozart
Chopin       1       0      0
Mozart       0       0      1
Mozart       0       0      1
Debussy      0       1      0

or make use of the built-in model.matrix function which is essentially
equivalent to what you ask:

> model.matrix(~as.factor(a)-1)
  as.factor(a)Chopin as.factor(a)Debussy as.factor(a)Mozart
1                  1                   0                  0
2                  0                   0                  1
3                  0                   0                  1
4                  0                   1                  0
attr(,"assign")
[1] 1 1 1

guido



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Wed Jul  4 14:39:10 2001
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Wed, 4 Jul 2001 14:39:10 +0200 (MEST)
Subject: [R] a little probleme
In-Reply-To: <3B4302DD.1C8DED50@inrialpes.fr>
Message-ID: <Pine.LNX.4.21.0107041438130.27088-100000@artemis.imbe.med.uni-erlangen.de>

> 
> I would like to get a matrix M with k rows and N columns such that:
> in each line i (i=1,...,k), which(x%in%u[i]) is equal to 1 and 0 else.

R> x <- c(1,2,3,3,4,4,5,6)
R> sapply(unique(x), fun <- function(a) x ==  a)
      [,1]  [,2]  [,3]  [,4]  [,5]  [,6]
[1,]  TRUE FALSE FALSE FALSE FALSE FALSE
[2,] FALSE  TRUE FALSE FALSE FALSE FALSE
[3,] FALSE FALSE  TRUE FALSE FALSE FALSE
[4,] FALSE FALSE  TRUE FALSE FALSE FALSE
[5,] FALSE FALSE FALSE  TRUE FALSE FALSE
[6,] FALSE FALSE FALSE  TRUE FALSE FALSE
[7,] FALSE FALSE FALSE FALSE  TRUE FALSE
[8,] FALSE FALSE FALSE FALSE FALSE  TRUE

which is as good as 0, 1 ;-)

Torsten

> Thanks for your help.
> Olivier
> 
> 
> --
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> Olivier MARTIN               phone: (33) 04 76 61 53 55
> Projet IS2                               06 08 67 93 42
> INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
> 655, Av. de l'Europe
> Montbonnot                  e-mail:olivier.martin at inrialpes.fr
> 38334 Saint Ismier cedex
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> 
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rdybowski at btinternet.com  Wed Jul  4 17:05:24 2001
From: rdybowski at btinternet.com (Richard Dybowski)
Date: Wed, 04 Jul 2001 16:05:24 +0100
Subject: [R] boxplot(list(m[,1],...,m[,c]))
Message-ID: <4.3.2.7.2.20010704155334.00b5ff00@mail.btinternet.com>

Given a matrix m, I would like to obtain a boxplot of the columns of m; in 
other words, boxplot(list(m[,1],...,m[,ncol(m)])). At the moment, I am using

colpart <- function(m){
         L <- list(rep(0,ncol(m)))
         for(i in 1:ncol(m)){
                 L[[i]] <- m[,i] }
         return(L)}
boxplot(colpart(m))

for this purpose. Surely there must be a more eloquent way!

Richard

-------------------------------
Richard Dybowski, 143 Village Way, Pinner, Middlesex  HA5 5AA, UK
Tel (mobile): 079 76 25 00 92

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From anna at textology.com  Wed Jul  4 18:12:05 2001
From: anna at textology.com (Ann Chen)
Date: Wed, 4 Jul 2001 18:12:05 +0200
Subject: [R] Help with Java package
Message-ID: <6DA831F74D7913438408369CB59421A9032178@Textology1.textology1.com>

Hi,

I'm running a Windows 2000 system with R 1.3.0.
I'm trying to interface R with a Java program of my own using the SJava
package, but each time I try calling the  ROmegahatInterpreter constructor,
I get the following messages:
"In Rf_initEmbeddedR
Error: R.DLL version does not match"

please help...

Anna Chen

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010704/2899063d/attachment.html

From maechler at stat.math.ethz.ch  Wed Jul  4 18:14:26 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 4 Jul 2001 18:14:26 +0200
Subject: [R] boxplot(list(m[,1],...,m[,c]))
In-Reply-To: <4.3.2.7.2.20010704155334.00b5ff00@mail.btinternet.com>
References: <4.3.2.7.2.20010704155334.00b5ff00@mail.btinternet.com>
Message-ID: <15171.16610.31649.70770@gargle.gargle.HOWL>

>>>>> "Richard" == Richard Dybowski <rdybowski at btinternet.com> writes:

    Richard> Given a matrix m, I would like to obtain a boxplot of the
    Richard> columns of m; in other words,
    Richard> boxplot(list(m[,1],...,m[,ncol(m)])). At the moment, I am
    Richard> using

	     <...>

    Richard> for this purpose. Surely there must be a more eloquent way!

Indeed!
It's even in the `Examples' section of  help(boxplot) :

Use
	boxplot(data.frame(m))

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Jul  4 18:20:14 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 4 Jul 2001 09:20:14 -0700 (PDT)
Subject: [R] a little probleme
In-Reply-To: <3B4302DD.1C8DED50@inrialpes.fr>
Message-ID: <Pine.A41.4.33.0107040919040.59150-100000@homer22.u.washington.edu>

On Wed, 4 Jul 2001, Olivier Martin wrote:

> Hi all,
>
> i would like to find the best way to resolve the following problem.
> Suppoose i have a vector x of length N with k different elements.
> length(x)=N
> u<-unique(x)
> length(u)=k
>
> I would like to get a matrix M with k rows and N columns such that:
> in each line i (i=1,...,k), which(x%in%u[i]) is equal to 1 and 0 else.

Another solution

outer(unique(x),x,"==")+0

(the +0 just converts it to numeric rather than TRUE/FALSE)

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From raph at alvie-mail.lanl.gov  Wed Jul  4 20:04:45 2001
From: raph at alvie-mail.lanl.gov (Raphael Gottardo)
Date: Wed, 04 Jul 2001 12:04:45 -0600
Subject: [R] New graph window
Message-ID: <3B435ABD.59CC18F6@alvie-mail.lanl.gov>

Hello R users,

I would like to know how to open a new graph window. That is I want to
produce two graphs on two different windows.

Any suggestions will be greatlly appreciated.

Thanks,
Raphael



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul  4 23:15:25 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 4 Jul 2001 22:15:25 +0100 (BST)
Subject: [R] New graph window
In-Reply-To: <3B435ABD.59CC18F6@alvie-mail.lanl.gov>
Message-ID: <Pine.GSO.4.31.0107042210580.12540-100000@auk.stats>

On Wed, 4 Jul 2001, Raphael Gottardo wrote:

> Hello R users,
>
> I would like to know how to open a new graph window. That is I want to
> produce two graphs on two different windows.
>
> Any suggestions will be greatlly appreciated.

You need to tell us your platform!

On Windows;  windows()
On Unix:     X11()
On Mac:      macintosh()

Actually, the following will always work, but it is ugly and only for
programmers:

get(getOption("device"))()

To switch between two or more devices, see ?dev.cur

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Thu Jul  5 06:43:06 2001
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Thu, 05 Jul 2001 06:43:06 +0200
Subject: [R] bug in error message?
Message-ID: <3B43F05A.1792B2E5@univie.ac.at>

mm<-c(1,1,1,1)
dim(mm)<-c(2,2)
solve(mm)

produces

Error in solve.default(mm) : singular matrix `a' in solve

shouldn't this refer to
`mm'
instead of
`a'

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jul  5 08:04:38 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 5 Jul 2001 07:04:38 +0100 (BST)
Subject: [R] bug in error message?
In-Reply-To: <3B43F05A.1792B2E5@univie.ac.at>
Message-ID: <Pine.GSO.4.31.0107050700400.12780-100000@auk.stats>

On Thu, 5 Jul 2001, Erich Neuwirth wrote:

> mm<-c(1,1,1,1)
> dim(mm)<-c(2,2)
> solve(mm)
>
> produces
>
> Error in solve.default(mm) : singular matrix `a' in solve
>
> shouldn't this refer to
> `mm'
> instead of
> `a'

There are two matrix arguments in solve.default, called `a' and `b'.
It is telling you that `a' is singular.  There is no matrix `mm' in
solve().


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ucfagls at ucl.ac.uk  Thu Jul  5 11:32:26 2001
From: ucfagls at ucl.ac.uk (Gavin Simpson)
Date: Thu, 05 Jul 2001 10:32:26 +0100
Subject: [R] boxplot(list(m[,1],...,m[,c]))
References: <4.3.2.7.2.20010704155334.00b5ff00@mail.btinternet.com> <15171.16610.31649.70770@gargle.gargle.HOWL>
Message-ID: <3B44342A.C0BC4574@ucl.ac.uk>

> >>>>> "Richard" == Richard Dybowski <rdybowski at btinternet.com> writes:
> 
>     Richard> Given a matrix m, I would like to obtain a boxplot of the
>     Richard> columns of m; in other words,
>     Richard> boxplot(list(m[,1],...,m[,ncol(m)])). At the moment, I am
>     Richard> using
> 
>              <...>
> 
>     Richard> for this purpose. Surely there must be a more eloquent way!
> 
> Indeed!
> It's even in the `Examples' section of  help(boxplot) :
> 
> Use
>         boxplot(data.frame(m))

Hi,

Is it possible to do something similar to

	boxplot(data.frame(m))

but have different scales for each of the boxplots?

The reason I ask is that I have a series of lake chemistry measurements
and I want to plot a diagram with boxplots for a number of variables. 
The variables are measured in different units and some variables are
orders of magnitude bigger than others.  Any help with this would be
appreciated.

Using R 1.3.0 on NT4

Cheers

Gav
-- 
************************************
Gavin Simpson
Postgraduate
Environmental Change Research Centre
University College London			
26 Bedford Way
London
WC1H 0AP

T: 020 7679 5527 (Graduate Room) 020 7679 5536 (Microscope Room)
E: gavin.simpson at ucl.ac.uk
W: http://www.geog.ucl.ac.uk/ecrc
****************************************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Jul  5 12:11:36 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 05 Jul 2001 12:11:36 +0200
Subject: [R] boxplot(list(m[,1],...,m[,c]))
References: <4.3.2.7.2.20010704155334.00b5ff00@mail.btinternet.com> <15171.16610.31649.70770@gargle.gargle.HOWL> <3B44342A.C0BC4574@ucl.ac.uk>
Message-ID: <3B443D58.DD27E3DD@statistik.uni-dortmund.de>

Gavin Simpson wrote:


> Is it possible to do something similar to
> 
>         boxplot(data.frame(m))
> 
> but have different scales for each of the boxplots?
> 
> The reason I ask is that I have a series of lake chemistry measurements
> and I want to plot a diagram with boxplots for a number of variables.
> The variables are measured in different units and some variables are
> orders of magnitude bigger than others.  Any help with this would be
> appreciated.

Then you should better create a new plot for each of your variables with
different units, e.g.:

  x <- rnorm(10)
  y <- rnorm(10, 100, 10)
  z <- rnorm(10, 1000, 3)
  BL <- list(x, y, z) 	# or data.frame
  par(mfrow = c(1, 3))  # 1 row and 3 columns of plots
  lapply(BL, boxplot)

Uwe
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Thu Jul  5 12:57:27 2001
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Thu, 5 Jul 2001 12:57:27 +0200 (CEST)
Subject: [R] boxplot(list(m[,1],...,m[,c]))
In-Reply-To: <3B44342A.C0BC4574@ucl.ac.uk>
Message-ID: <Pine.LNX.4.21.0107051228500.24696-100000@reclus.nhh.no>

On Thu, 5 Jul 2001, Gavin Simpson wrote:

> > >>>>> "Richard" == Richard Dybowski <rdybowski at btinternet.com> writes:
> > 
> >     Richard> Given a matrix m, I would like to obtain a boxplot of the
> >     Richard> columns of m; in other words,
> > 
> > Use
> >         boxplot(data.frame(m))
> 
> but have different scales for each of the boxplots?
> 
> The reason I ask is that I have a series of lake chemistry measurements
> and I want to plot a diagram with boxplots for a number of variables. 
> The variables are measured in different units and some variables are
> orders of magnitude bigger than others.  Any help with this would be
> appreciated.
> 

I think for this that you are back to:

> oldpar <- par(mfrow=c(1,ncol(mat)))
> invisible(apply(mat,2,boxplot))
> for (i in 1:ncol(mat)) boxplot(mat[,i], main=colnames(mat)[i])
> par(oldpar)

(with a version of the same thing to give labels). If the y scales
are different for the matrix columns, they will need the y-axis, though it
would "save ink" to just have the left y axes plotted, something like:

> for (i in 1:ncol(mat)) {boxplot(mat[,i], main=colnames(mat)[i], axes=F)
+ axis(2)}

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From span at psy.uva.nl  Thu Jul  5 14:22:36 2001
From: span at psy.uva.nl (Mark M. Span)
Date: Thu, 5 Jul 2001 14:22:36 +0200
Subject: [R] ERP software
Message-ID: <001801c1054d$2d2e8a50$cd981291@psy.uva.nl>

I was just playing around with the R-streams package, reading in some data
from an old experiment we did here, and was again amazed by the flexibility
of the R environment. The eaze with wich I was able to generate simple plots
of my EEG data made me wonder if someone tried to implement an ERP package.

For the non-cognitive scientists ou there: EEG is electrical activity
measured from the scalp (usually multi-lead) that is used in
psychophysiological experiments to infer cortical activation. In a typical
experiment this data can be linked to events: usually stimulus
presentations, to calculate 'trial means' in distict trial subcategories.

Did someone out there made an effort to put together some sort of package
for the analysis of this type of data?


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From span at psy.uva.nl  Thu Jul  5 16:26:23 2001
From: span at psy.uva.nl (Mark M. Span)
Date: Thu, 5 Jul 2001 16:26:23 +0200
Subject: [R] ERP software
References: <Pine.LNX.4.10.10107051454140.5132-100000@localhost.localdomain>
Message-ID: <000901c1055e$77fd05a0$cd981291@psy.uva.nl>


----- Original Message -----
From: "Bill Simpson" <wsi at gcal.ac.uk>
To: "Mark M. Span" <span at psy.uva.nl>
Sent: Thursday, July 05, 2001 4:02 PM
Subject: Re: [R] ERP software


> No I haven't written any package to do EEG analysis. However I just
> started some expts with a colleague who uses Matlab for analysis. I will
> probably convert some of these into R so I can fool around with the data.
>
> I know that you can use Matlab to read the incoming data (from
> the A/D board) directly in realtime. Is that what R-streams is for??
> It would be handy to be able to use R both for the data collection phase
> and for the data analysis phase.
>
Rstreams reads in binary data (in the non-text meaning of binary). I guess
most of us (???) have dedicated software for data collection though..
We use a dataformat that is simple: all the data are written as two-byte
integers, channelwise.

reading in the data for analysis is a simple

 s <- openstream("U:/d1x001.eeg", "read")
 dat<-matrix(readint(s, n=33*3000000, size = 2, signed = F, swapbytes =
FALSE), ncol=33, byrow=T)   # for 33 channel eeg, 3000000 datapoints (R
complaints about memory here)
 closestream(s)
 plot(dat[1:1000,31])  # plot the 31'th channel

The additional software would then cut up the matrix into (a list) of
trials...

almost looks too easy doesn't it...
> Cheers,
> Bill



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From olivier.martin at inrialpes.fr  Thu Jul  5 19:41:54 2001
From: olivier.martin at inrialpes.fr (Olivier Martin)
Date: Thu, 05 Jul 2001 19:41:54 +0200
Subject: [R] tcltk AND R
Message-ID: <3B44A6E2.40977009@inrialpes.fr>

Hi all,

could somebody indicate me a tcltk tutorial for beginners   with some
examples
for R.
Thanks,
Olivier

--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
Olivier MARTIN               phone: (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42
INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                  e-mail:olivier.martin at inrialpes.fr
38334 Saint Ismier cedex
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010705/59d6e099/attachment.html

From thoar at cgd.ucar.edu  Thu Jul  5 19:50:07 2001
From: thoar at cgd.ucar.edu (Tim Hoar)
Date: Thu, 5 Jul 2001 11:50:07 -0600 (MDT)
Subject: [R] ERP software
In-Reply-To: <000901c1055e$77fd05a0$cd981291@psy.uva.nl>
Message-ID: <Pine.GSO.4.30.0107051146130.3217-100000@goldhill.cgd.ucar.edu>

I think you're missing the point about *realtime* ...

opening and reading a static file is one thing -- having event-driven
reads (i.e. potentially asynchronous reads) directly from the instrument
is another.

I have not tried anything of this sort in R ... sorry.


> Date: Thu, 5 Jul 2001 16:26:23 +0200
> From: Mark M. Span <span at psy.uva.nl>
> To: Bill Simpson <wsi at gcal.ac.uk>
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] ERP software
>
>
> ----- Original Message -----
> From: "Bill Simpson" <wsi at gcal.ac.uk>
> To: "Mark M. Span" <span at psy.uva.nl>
> Sent: Thursday, July 05, 2001 4:02 PM
> Subject: Re: [R] ERP software
>
>
> > No I haven't written any package to do EEG analysis. However I just
> > started some expts with a colleague who uses Matlab for analysis. I will
> > probably convert some of these into R so I can fool around with the data.
> >
> > I know that you can use Matlab to read the incoming data (from
> > the A/D board) directly in realtime. Is that what R-streams is for??
> > It would be handy to be able to use R both for the data collection phase
> > and for the data analysis phase.
> >
> Rstreams reads in binary data (in the non-text meaning of binary). I guess
> most of us (???) have dedicated software for data collection though..
> We use a dataformat that is simple: all the data are written as two-byte
> integers, channelwise.
>
> reading in the data for analysis is a simple
>
>  s <- openstream("U:/d1x001.eeg", "read")
>  dat<-matrix(readint(s, n=33*3000000, size = 2, signed = F, swapbytes =
> FALSE), ncol=33, byrow=T)   # for 33 channel eeg, 3000000 datapoints (R
> complaints about memory here)
>  closestream(s)
>  plot(dat[1:1000,31])  # plot the 31'th channel
>
> The additional software would then cut up the matrix into (a list) of
> trials...
>
> almost looks too easy doesn't it...
> > Cheers,
> > Bill
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

## Tim Hoar, Associate Scientist              email: thoar at ucar.edu     ##
## Geophysical Statistics Project             phone: 303-497-1708       ##
## National Center for Atmospheric Research   FAX  : 303-497-1333       ##
## Boulder, CO  80307                    http://www.cgd.ucar.edu/~thoar ##

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From trafton at itd.nrl.navy.mil  Thu Jul  5 20:00:57 2001
From: trafton at itd.nrl.navy.mil (Greg Trafton)
Date: Thu, 5 Jul 2001 14:00:57 -0400
Subject: [R] plotting time
Message-ID: <15172.43865.109030.903994@viz.itd.nrl.navy.mil>

Hi, all.  I'm trying to create a plot that has a range of about an
hour on the x axis, starting at about 10:15.

I have a way I'm currently doing it but it's not working.  this is
what I want on the x axis:


|
|
|
|
|
|
|
|
|
|
----------------------------------------------
10:15  10:25  10:35  10:45  10:55  11:05 11:15

what's the best way to plot this out like this?

currently, I'm using seq() to start at 10:15, incrementing by a
second, but in that case I get

20:00  30:00  40:00  50:00  00:00 on my x axis, which is not what I
want...

any suggestions?

thanks!
greg
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Jul  5 20:09:15 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 5 Jul 2001 11:09:15 -0700 (PDT)
Subject: [R] plotting time
In-Reply-To: <15172.43865.109030.903994@viz.itd.nrl.navy.mil>
Message-ID: <Pine.A41.4.33.0107051107540.31422-100000@homer16.u.washington.edu>

On Thu, 5 Jul 2001, Greg Trafton wrote:

> Hi, all.  I'm trying to create a plot that has a range of about an
> hour on the x axis, starting at about 10:15.
>
> I have a way I'm currently doing it but it's not working.  this is
> what I want on the x axis:

You can get whatever you want on the axis with the axis() command. Draw
the plot with the xaxt="n" option and then draw the axis with axis().

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolski at molgen.mpg.de  Thu Jul  5 20:59:12 2001
From: wolski at molgen.mpg.de (Eryk Wolski)
Date: Thu, 5 Jul 2001 20:59:12 +0200 (MET DST)
Subject: [R] Where is the html page that lists all functions?
In-Reply-To: <3B44342A.C0BC4574@ucl.ac.uk>
Message-ID: <Pine.OSF.4.31.0107052055560.26826-100000@molgix.molgen.mpg.de>

In the previous release of r, theire  was a index of all functions in R.
It was was i understand as reference. It was simple to search in this html
page by function name or by keywords.
Why, by god, this page is removed in the Veriosn 1.3 of R???



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Heberto at meakins.lan.mcgill.ca  Thu Jul  5 21:03:48 2001
From: Heberto at meakins.lan.mcgill.ca (Heberto Ghezzo)
Date: Thu, 5 Jul 2001 15:03:48 -0400
Subject: [R] Re: error in help
In-Reply-To: <Pine.A41.4.33.0107051107540.31422-100000@homer16.u.washington.edu>
References: <15172.43865.109030.903994@viz.itd.nrl.navy.mil>
Message-ID: <200107051903.f65J3mT21104@water.cc.mcgill.ca>

Hello. I just downloaded 1.3.0 for windows from CRAN. I used the 
big file with everything included. Then I run Update.packages() to 
set all the packages from CRAN to the latest version.
After downloading and installing several packages and when 
updating the compiled HTML help files i got:
Error in file(f.tg, open="w") cannot open file 
"C:\R\RW1030|doc/html/search/index.txt"
Any idea of what is wrong?
Thanks.

R. Heberto Ghezzo  Ph.D.
Meakins-Christie Labs
McGill University
Montreal - Canada
heberto at meakins.lan.mcgill.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jul  5 21:26:11 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 5 Jul 2001 20:26:11 +0100 (BST)
Subject: [R] Re: error in help
In-Reply-To: <200107051903.f65J3mT21104@water.cc.mcgill.ca>
Message-ID: <Pine.GSO.4.31.0107052018170.16630-100000@auk.stats>

On Thu, 5 Jul 2001, Heberto Ghezzo wrote:

> Hello. I just downloaded 1.3.0 for windows from CRAN. I used the
> big file with everything included. Then I run Update.packages() to
> set all the packages from CRAN to the latest version.
> After downloading and installing several packages and when
> updating the compiled HTML help files i got:
> Error in file(f.tg, open="w") cannot open file
> "C:\R\RW1030|doc/html/search/index.txt"
> Any idea of what is wrong?

Did you install HTML help?  (Not compiled HTML help.)  If not,
you need to create C:\R\RW1030/doc/html/search.  If so, the isntalltion
failed ....

Unfortunately the test used now always passes, as all installations
get the FAQs in HTML.  It's been like that for a couple of releases,
though.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jul  5 21:36:27 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 5 Jul 2001 20:36:27 +0100 (BST)
Subject: [R] Where is the html page that lists all functions?
In-Reply-To: <Pine.OSF.4.31.0107052055560.26826-100000@molgix.molgen.mpg.de>
Message-ID: <Pine.GSO.4.31.0107052026370.16630-100000@auk.stats>

On Thu, 5 Jul 2001, Eryk Wolski wrote:

> In the previous release of r, theire  was a index of all functions in R.
> It was was i understand as reference. It was simple to search in this html
> page by function name or by keywords.
> Why, by god, this page is removed in the Veriosn 1.3 of R???

Take a look at R_HOME/doc/html/function.html ....  The browser-based search
engine was not on that page, but help.start() will lead you to where it has
always been.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Thu Jul  5 22:38:10 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Thu, 05 Jul 2001 16:38:10 -0400
Subject: [R] ERP software
In-Reply-To: <Pine.GSO.4.30.0107051146130.3217-100000@goldhill.cgd.ucar.edu>
References: <000901c1055e$77fd05a0$cd981291@psy.uva.nl> <Pine.GSO.4.30.0107051146130.3217-100000@goldhill.cgd.ucar.edu>
Message-ID: <ilj9ktklcha0eab25721ghfffsnb9o9kf3@4ax.com>

On Thu, 5 Jul 2001 11:50:07 -0600 (MDT), you wrote in message
<Pine.GSO.4.30.0107051146130.3217-100000 at goldhill.cgd.ucar.edu>:

>I think you're missing the point about *realtime* ...
>
>opening and reading a static file is one thing -- having event-driven
>reads (i.e. potentially asynchronous reads) directly from the instrument
>is another.

If the instrument can be opened as a Unix file, then connections
should work, as should the older Rstreams.  You don't have event
driven programming in R, but you can tell your R code to run a loop
where it tries to read the next input from the instrument.  If there's
nothing available, it will block until the data arrives, just like
"cat" or any other Unix utility would.

See ?connections for help.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jul  5 22:50:17 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 5 Jul 2001 21:50:17 +0100 (BST)
Subject: [R] ERP software
In-Reply-To: <ilj9ktklcha0eab25721ghfffsnb9o9kf3@4ax.com>
Message-ID: <Pine.GSO.4.31.0107052148391.16719-100000@auk.stats>

On Thu, 5 Jul 2001, Duncan Murdoch wrote:

> On Thu, 5 Jul 2001 11:50:07 -0600 (MDT), you wrote in message
> <Pine.GSO.4.30.0107051146130.3217-100000 at goldhill.cgd.ucar.edu>:
>
> >I think you're missing the point about *realtime* ...
> >
> >opening and reading a static file is one thing -- having event-driven
> >reads (i.e. potentially asynchronous reads) directly from the instrument
> >is another.
>
> If the instrument can be opened as a Unix file, then connections
> should work, as should the older Rstreams.  You don't have event
> driven programming in R, but you can tell your R code to run a loop
> where it tries to read the next input from the instrument.  If there's
> nothing available, it will block until the data arrives, just like
> "cat" or any other Unix utility would.

You can also have non-blocking connections in 1.3.0, especially on fifos
(but only on Unix).  I am not sure we have the optimal semantics, so
feedback on this would be welcome (on R-devel, I think as it can be very
technical).

> See ?connections for help.
>
> Duncan Murdoch

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From denis at mail.cor.epa.gov  Fri Jul  6 01:33:44 2001
From: denis at mail.cor.epa.gov (Denis White)
Date: Thu, 5 Jul 2001 16:33:44 -0700 (PDT)
Subject: [R] Where is the html page that lists all functions?
Message-ID: <Pine.SUN.3.91.1010705163228.24502A-100000@quagga.cor.epa.gov>

>> In the previous release of r, theire was a index of all functions in R.
>> It was was i understand as reference. It was simple to search in this html
>> page by function name or by keywords.
>> Why, by god, this page is removed in the Veriosn 1.3 of R???

> Take a look at R_HOME/doc/html/function.html .... The browser-based search
> engine was not on that page, but help.start() will lead you to where it has
> always been.

In the download I received, function.html now has only this:

<body>
This page is obsolete. <p>

See the <a href="../manual/refman.pdf">Reference Manual</a> for
comprehensive information on the functions and datasets that come with
the R distribution, or use the <a href="search/SearchEngine.html">Search
Engine</a>.

(and the refman.pdf is not in the ../manual directory)

Denis White
   US EPA, 200 SW 35th St, Corvallis, Oregon, 97333 USA
   voice: 541.754.4476, email: white.denis at epa.gov
   web: www.epa.gov/wed/pages/staff/white/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jul  6 08:05:58 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 6 Jul 2001 07:05:58 +0100 (BST)
Subject: [R] Where is the html page that lists all functions?
In-Reply-To: <Pine.SUN.3.91.1010705163228.24502A-100000@quagga.cor.epa.gov>
Message-ID: <Pine.GSO.4.31.0107060702230.16875-100000@auk.stats>

On Thu, 5 Jul 2001, Denis White wrote:

> >> In the previous release of r, theire was a index of all functions in R.
> >> It was was i understand as reference. It was simple to search in this html
> >> page by function name or by keywords.
> >> Why, by god, this page is removed in the Veriosn 1.3 of R???
>
> > Take a look at R_HOME/doc/html/function.html .... The browser-based search
> > engine was not on that page, but help.start() will lead you to where it has
> > always been.
>
> In the download I received, function.html now has only this:

Right!

> <body>
> This page is obsolete. <p>
>
> See the <a href="../manual/refman.pdf">Reference Manual</a> for
> comprehensive information on the functions and datasets that come with
> the R distribution, or use the <a href="search/SearchEngine.html">Search
> Engine</a>.
>
> (and the refman.pdf is not in the ../manual directory)

No, but it is made in the INSTALL process: see the R-admin manual.

As that page says:

1) The reference manual is now only in PDF.
2) The search facilities are where that page says they are (and have
always been).  They were *not* on the page which listed all functions.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Laura.Haapala at ktl.fi  Fri Jul  6 08:46:17 2001
From: Laura.Haapala at ktl.fi (Laura Haapala)
Date: Fri, 06 Jul 2001 09:46:17 +0300
Subject: [R] f.ex. port in wget
Message-ID: <3B455EB9.70C2492D@ktl.fi>

I've just installed wget so that I could get new packages, but when I
try to use it, it just tries to get the connection
cran.r-project.org:80...

My computer uses Windows NT system and internet connections go through
port 8080 so I think there's the problem, but how to change it?

I've tried to set packages through MS DOS, but that doesn't work either,
because make libR.a says that: no rule for target 'libR.a' Stop. I've
tried to modify mkrules, but no luck yet.

I don't know this system yet, but I've read quite a lot about this and
now I'm out of ideas whatto try next.

Laura

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From span at psy.uva.nl  Fri Jul  6 10:01:15 2001
From: span at psy.uva.nl (Mark M. Span)
Date: Fri, 6 Jul 2001 10:01:15 +0200
Subject: [R] ERP software
References: <Pine.GSO.4.31.0107052148391.16719-100000@auk.stats>
Message-ID: <002701c105f1$d4dbb3f0$cd981291@psy.uva.nl>

I'm not sure that R is the ideal environment to do this sort of thing in.
Most labs **have** dedicated software to gather the data from the card. My
intention was to use R for the analysis of the data. That's what R was
developed for, wasn't it?
I'm not even sure how much 'specialized' software for this analysis is
needed. Matrix subsetting could be enough for the trial-making,
badpass filters, hanning filters, EOG regression and artefact detection
don't seem to be a *major* problem.
These things could be 'tailored' for ERP study and packaged, and I was
wondering if anyone looked into this before.

----- Original Message -----
From: "Prof Brian D Ripley" <ripley at stats.ox.ac.uk>
To: "Duncan Murdoch" <murdoch at stats.uwo.ca>
Cc: "Tim Hoar" <thoar at ucar.edu>; <r-help at stat.math.ethz.ch>
Sent: Thursday, July 05, 2001 10:50 PM
Subject: Re: [R] ERP software


> On Thu, 5 Jul 2001, Duncan Murdoch wrote:
>
> > On Thu, 5 Jul 2001 11:50:07 -0600 (MDT), you wrote in message
> > <Pine.GSO.4.30.0107051146130.3217-100000 at goldhill.cgd.ucar.edu>:
> >
> > >I think you're missing the point about *realtime* ...
> > >
> > >opening and reading a static file is one thing -- having event-driven
> > >reads (i.e. potentially asynchronous reads) directly from the
instrument
> > >is another.
> >
> > If the instrument can be opened as a Unix file, then connections
> > should work, as should the older Rstreams.  You don't have event
> > driven programming in R, but you can tell your R code to run a loop
> > where it tries to read the next input from the instrument.  If there's
> > nothing available, it will block until the data arrives, just like
> > "cat" or any other Unix utility would.
>
> You can also have non-blocking connections in 1.3.0, especially on fifos
> (but only on Unix).  I am not sure we have the optimal semantics, so
> feedback on this would be welcome (on R-devel, I think as it can be very
> technical).
>
> > See ?connections for help.
> >
> > Duncan Murdoch
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jul  6 10:13:43 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 6 Jul 2001 09:13:43 +0100 (BST)
Subject: [R] ERP software
In-Reply-To: <002701c105f1$d4dbb3f0$cd981291@psy.uva.nl>
Message-ID: <Pine.LNX.4.31.0107060908070.1741-100000@gannet.stats>

On Fri, 6 Jul 2001, Mark M. Span wrote:

> I'm not sure that R is the ideal environment to do this sort of thing in.
> Most labs **have** dedicated software to gather the data from the card. My
> intention was to use R for the analysis of the data. That's what R was
> developed for, wasn't it?

Right, and data being collected in real time may need continuous/continual
(re-)analysis.  That's the aim of non-blocking connections and the
upcoming readers and event handlers: you can always do the analysis on the
current data.  People had in mind financial and sales feeds, but there are
lots of potential sciencitfic applications too.  I don't think people are
envisaging R reading from the card, but they are envisaging the capture
software writing to a fifo and R reading from that fifo.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jul  6 10:21:08 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 6 Jul 2001 09:21:08 +0100 (BST)
Subject: [R] f.ex. port in wget
In-Reply-To: <3B455EB9.70C2492D@ktl.fi>
Message-ID: <Pine.LNX.4.31.0107060914200.1741-100000@gannet.stats>

On Fri, 6 Jul 2001, Laura Haapala wrote:

> I've just installed wget so that I could get new packages, but when I
> try to use it, it just tries to get the connection
> cran.r-project.org:80...
>
> My computer uses Windows NT system and internet connections go through
> port 8080 so I think there's the problem, but how to change it?

Not so. Works for me.  It's the port on the remote system not the local
machine that is specified here.  On CRAN Austria that port is 80.
Maybe you need to set a proxy?

In any case, the current version of R has its own internet connection, and
does not rely on wget.

> I've tried to set packages through MS DOS, but that doesn't work either,
> because make libR.a says that: no rule for target 'libR.a' Stop. I've
> tried to modify mkrules, but no luck yet.

Well, you can only make Windows packages on Windows not MS-DOS (but maybe
you meant a commands window, which on NT is not running MS-DOS), and if
you are in the right directory (src/gnuwin32) with the supplied Makefile
you can.

> I don't know this system yet, but I've read quite a lot about this and
> now I'm out of ideas whatto try next.

When out of ideas, try the FAQ?  Specifically Q3.1. You can download the
file in your favourite browser and then install the zip file locally.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Jul  6 11:35:33 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 06 Jul 2001 11:35:33 +0200
Subject: [R] a < b < c is alway TRUE
Message-ID: <3B458665.8AC006B1@statistik.uni-dortmund.de>

One of our students did something like:

  x[a < b < c]

instead of 

  x[a < b & b < c]


But why is

  3 < 2 < 1	# [1] TRUE ???


Is there any reason? 
Or wouldn't it be better to get a warning / error?

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ferster at stat.math.ethz.ch  Fri Jul  6 12:08:51 2001
From: ferster at stat.math.ethz.ch (Monika Ferster)
Date: Fri, 6 Jul 2001 12:08:51 +0200
Subject: [R] a < b < c is alway TRUE
In-Reply-To: <3B458665.8AC006B1@statistik.uni-dortmund.de>
References: <3B458665.8AC006B1@statistik.uni-dortmund.de>
Message-ID: <15173.36403.929651.590614@gargle.gargle.HOWL>

Uwe Ligges writes:
 > One of our students did something like:
 > 
 >   x[a < b < c]
 > 
 > instead of 
 > 
 >   x[a < b & b < c]
 > 
 > 
 > But why is
 > 
 >   3 < 2 < 1	# [1] TRUE ???
 > 

3 < 2 < 1 seems to be seen like a double no because 3 < 2 < 1 < 0 returns
F. It looks like the multiplication of -1 what is strange, because F
corresponds to the value 0. So if you do (3<2)*(2<1) you get 0 and not the
value of T (=1).
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.meyer at ci.tuwien.ac.at  Fri Jul  6 12:27:54 2001
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Fri, 06 Jul 2001 12:27:54 +0200
Subject: [R] a < b < c is alway TRUE
References: <3B458665.8AC006B1@statistik.uni-dortmund.de> <15173.36403.929651.590614@gargle.gargle.HOWL>
Message-ID: <3B4592AA.9E81F29F@ci.tuwien.ac.at>

Monika Ferster wrote:
> 
> Uwe Ligges writes:
>  > One of our students did something like:
>  >
>  >   x[a < b < c]
>  >
>  > instead of
>  >
>  >   x[a < b & b < c]
>  >
>  >
>  > But why is
>  >
>  >   3 < 2 < 1  # [1] TRUE ???
>  >

3 < 2 is FALSE=0, and 0<1 is always TRUE.


> 
> 3 < 2 < 1 seems to be seen like a double no because 3 < 2 < 1 < 0 returns
> F. It looks like the multiplication of -1 what is strange, because F
> corresponds to the value 0. So if you do (3<2)*(2<1) you get 0 and not the
> value of T (=1).
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Mag. David Meyer			Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
Department for Statistics, Probability	Tel.: (+431) 58801/10772
Theory and Actuarial Mathematics	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.malewski at gmx.de  Fri Jul  6 12:48:01 2001
From: peter.malewski at gmx.de (Peter Malewski)
Date: Fri, 6 Jul 2001 12:48:01 +0200
Subject: [R] a < b < c is alway TRUE
In-Reply-To: <15173.36403.929651.590614@gargle.gargle.HOWL>; from ferster@stat.math.ethz.ch on Fri, Jul 06, 2001 at 12:08:51PM +0200
References: <3B458665.8AC006B1@statistik.uni-dortmund.de> <15173.36403.929651.590614@gargle.gargle.HOWL>
Message-ID: <20010706124800.A18231@rzpool01.pool.rz.tu-bs.de>


> 3 < 2
[1] FALSE
> F < 1
[1] TRUE
> as.numeric(F)
[1] 0


p.


On Fri, Jul 06, 2001 at 12:08:51PM +0200, Monika Ferster wrote:
> Uwe Ligges writes:
>  > One of our students did something like:
>  > 
>  >   x[a < b < c]
>  > 
>  > instead of 
>  > 
>  >   x[a < b & b < c]
>  > 
>  > 
>  > But why is
>  > 
>  >   3 < 2 < 1	# [1] TRUE ???
>  > 
> 
> 3 < 2 < 1 seems to be seen like a double no because 3 < 2 < 1 < 0 returns
> F. It looks like the multiplication of -1 what is strange, because F
> corresponds to the value 0. So if you do (3<2)*(2<1) you get 0 and not the
> value of T (=1).
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.malewski at gmx.de  Fri Jul  6 12:50:44 2001
From: peter.malewski at gmx.de (Peter Malewski)
Date: Fri, 6 Jul 2001 12:50:44 +0200
Subject: [R] a < b < c is alway TRUE
In-Reply-To: <20010706124800.A18231@rzpool01.pool.rz.tu-bs.de>; from peter.malewski@gmx.de on Fri, Jul 06, 2001 at 12:48:01PM +0200
References: <3B458665.8AC006B1@statistik.uni-dortmund.de> <15173.36403.929651.590614@gargle.gargle.HOWL> <20010706124800.A18231@rzpool01.pool.rz.tu-bs.de>
Message-ID: <20010706125043.A18473@rzpool01.pool.rz.tu-bs.de>




I forgot the explanation: R (and s+3) evalutes from left to right and 
converts logical to numeric. see below.


On Fri, Jul 06, 2001 at 12:48:01PM +0200, Peter Malewski wrote:
> 
> > 3 < 2
> [1] FALSE
> > F < 1
> [1] TRUE
> > as.numeric(F)
> [1] 0
> 
> 
> p.
> 
> 
> On Fri, Jul 06, 2001 at 12:08:51PM +0200, Monika Ferster wrote:
> > Uwe Ligges writes:
> >  > One of our students did something like:
> >  > 
> >  >   x[a < b < c]
> >  > 
> >  > instead of 
> >  > 
> >  >   x[a < b & b < c]
> >  > 
> >  > 
> >  > But why is
> >  > 
> >  >   3 < 2 < 1	# [1] TRUE ???
> >  > 
> > 
> > 3 < 2 < 1 seems to be seen like a double no because 3 < 2 < 1 < 0 returns
> > F. It looks like the multiplication of -1 what is strange, because F
> > corresponds to the value 0. So if you do (3<2)*(2<1) you get 0 and not the
> > value of T (=1).
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> -- 
> P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
> At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
> P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.

-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From till.baumgaertel at epost.de  Fri Jul  6 13:21:51 2001
From: till.baumgaertel at epost.de (Till Baumgaertel)
Date: Fri, 6 Jul 2001 13:21:51 +0200
Subject: [R] a < b < c is alway TRUE
In-Reply-To: <3B458665.8AC006B1@statistik.uni-dortmund.de>
Message-ID: <3B45BB6F.6582.E1B7B@localhost>

>   3 < 2 < 1	# [1] TRUE ???
this is evaluated from left to right:
(3<2)<1

3<2 = FALSE
FALSE<1 = TRUE

what's surprising is the following:
> FALSE<1
[1] TRUE
> FALSE>1
[1] FALSE
> TRUE<1
[1] FALSE
> TRUE>1
[1] FALSE

because of symmetry i'd expect TRUE>1 to be TRUE.

cu
till

--
"I have seen things you people wouldn't believe.
Attack-ships  on fire off the shoulder of Orion.
I watched seabeams glitter in the dark near the 
Tannhauser gate.
All  those  moments  will  be lost in time like
tears in rain. Time to die."              (Roy)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Fri Jul  6 13:24:38 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Fri, 6 Jul 2001 13:24:38 +0200
Subject: [R] a < b < c is alway TRUE
In-Reply-To: <3B458665.8AC006B1@statistik.uni-dortmund.de>
Message-ID: <MABBLJDICACNFOLGIHJOCEFICEAA.phgrosje@ulb.ac.be>

>One of our students did something like:

>  x[a < b < c]

>instead of

>  x[a < b & b < c]


>But why is

>  3 < 2 < 1	# [1] TRUE ???


>Is there any reason?
>Or wouldn't it be better to get a warning / error?

>Uwe Ligges

The answer is simple: the first inequation 3 < 2 is solved, which gives
FALSE. Then the second inequation to be solved is: FALSE < 1. Since
as.numeric(FALSE) is 0, you have to solve 0 < 1, which is... TRUE. Hence,
this is not a bug, but an incorrect use of the R language.
Best regards,

Philippe Grosjean


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.malewski at gmx.de  Fri Jul  6 13:25:48 2001
From: peter.malewski at gmx.de (Peter Malewski)
Date: Fri, 6 Jul 2001 13:25:48 +0200
Subject: [R] summary.lm with manova?
Message-ID: <20010706132547.A20171@rzpool01.pool.rz.tu-bs.de>


please forgive me if this is is a stupid quesion:

is in 

summary.lm(manova(cbind(y1,y2,...) ~ x1+x2+x3))

the adjusted R? adequate?

thanks
p.

-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From till.baumgaertel at epost.de  Fri Jul  6 13:55:04 2001
From: till.baumgaertel at epost.de (Till Baumgaertel)
Date: Fri, 6 Jul 2001 13:55:04 +0200
Subject: [R] a < b < c is alway TRUE
In-Reply-To: <15173.36403.929651.590614@gargle.gargle.HOWL>
References: <3B458665.8AC006B1@statistik.uni-dortmund.de>
Message-ID: <3B45C338.3491.2C846D@localhost>

> 3 < 2 < 1 seems to be seen like a double no because 3 < 2 < 1 < 0 returns
> F. 

evaluation from left to right:

3 < 2 < 1 < 0 
reads like
((3<2)<1)<0 
evaluates to
( FALSE < 1) < 0
evaluates to
TRUE < 0 
evaluates to
FALSE

cu
till

--
"I have seen things you people wouldn't believe.
Attack-ships  on fire off the shoulder of Orion.
I watched seabeams glitter in the dark near the 
Tannhauser gate.
All  those  moments  will  be lost in time like
tears in rain. Time to die."              (Roy)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From m.mader at gsf.de  Fri Jul  6 14:02:02 2001
From: m.mader at gsf.de (Michael Mader)
Date: Fri, 06 Jul 2001 14:02:02 +0200
Subject: [R] a < b < c is alway TRUE
References: <3B458665.8AC006B1@statistik.uni-dortmund.de> <15173.36403.929651.590614@gargle.gargle.HOWL>
Message-ID: <3B45A8BA.7837035F@gsf.de>

Monika Ferster wrote: 
> 
> 3 < 2 < 1 seems to be seen like a double no because 3 < 2 < 1 < 0 returns
> F. It looks like the multiplication of -1 what is strange, because F
> corresponds to the value 0. 
Not really because:

> 5<4<3<2<1  
[1] FALSE
> 4<3<2<1
[1] FALSE
> 3<2<1
[1] TRUE

Somehow 3<2<1 remains special.

-- 
Michael T. Mader
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Jul  6 14:37:39 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 06 Jul 2001 14:37:39 +0200
Subject: [R] a < b < c is alway TRUE
References: <3B45BB6F.6582.E1B7B@localhost>
Message-ID: <3B45B113.2449813B@statistik.uni-dortmund.de>

Till Baumgaertel wrote:
> 
> >   3 < 2 < 1   # [1] TRUE ???
> this is evaluated from left to right.

ARRRGGH! It's very hot in germany today and my brain seems to have taken
its holidays. ;-)
Thanks to all who responded!

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.meyer at ci.tuwien.ac.at  Fri Jul  6 15:09:04 2001
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Fri, 06 Jul 2001 15:09:04 +0200
Subject: [R] a < b < c is alway TRUE
References: <3B45BB6F.6582.E1B7B@localhost>
Message-ID: <3B45B870.3F496F49@ci.tuwien.ac.at>

Till Baumgaertel wrote:
> 
> >   3 < 2 < 1   # [1] TRUE ???
> this is evaluated from left to right:
> (3<2)<1
> 
> 3<2 = FALSE
> FALSE<1 = TRUE
> 
> what's surprising is the following:
> > FALSE<1
> [1] TRUE
> > FALSE>1
> [1] FALSE
> > TRUE<1
> [1] FALSE
> > TRUE>1
> [1] FALSE
> 
> because of symmetry i'd expect TRUE>1 to be TRUE.

Not surprising at all; the symmetric case is 

> T>0
[1] TRUE
> T<0 
[1] FALSE

TRUE is neither greater nor less than 1; it's exactly 1.
And also note that not(<) is >=, and not >.

-d

> 
> cu
> till
> 
> --
> "I have seen things you people wouldn't believe.
> Attack-ships  on fire off the shoulder of Orion.
> I watched seabeams glitter in the dark near the
> Tannhauser gate.
> All  those  moments  will  be lost in time like
> tears in rain. Time to die."              (Roy)
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Mag. David Meyer			Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
Department for Statistics, Probability	Tel.: (+431) 58801/10772
Theory and Actuarial Mathematics	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wloliver at qwest.net  Fri Jul  6 15:29:38 2001
From: wloliver at qwest.net (Bill Oliver)
Date: Fri, 6 Jul 2001 07:29:38 -0600
Subject: [R] a < b < c is alway TRUE
References: <3B45BB6F.6582.E1B7B@localhost>
Message-ID: <002d01c1061f$b4c3acc0$9256e43f@91qez>

----- Original Message -----
From: "Till Baumgaertel" <till.baumgaertel at epost.de>
To: <r-help at stat.math.ethz.ch>
Cc: "Uwe Ligges" <ligges at statistik.uni-dortmund.de>
Sent: Friday, July 06, 2001 5:21 AM
Subject: Re: [R] a < b < c is alway TRUE


> >   3 < 2 < 1 # [1] TRUE ???
> this is evaluated from left to right:
> (3<2)<1
>
> 3<2 = FALSE
> FALSE<1 = TRUE
>
> what's surprising is the following:
> > FALSE<1
> [1] TRUE
> > FALSE>1
> [1] FALSE
> > TRUE<1
> [1] FALSE
> > TRUE>1
> [1] FALSE
>
> because of symmetry i'd expect TRUE>1 to be TRUE.

TRUE is being treated as equal to 1, so TRUE >= 1, returns TRUE. However,
non-zero values are treated as TRUE when coercing numerical values.

> as.logical(c(-2,-1,-.5,0,.5,1,2))
[1]  TRUE  TRUE  TRUE FALSE  TRUE  TRUE  TRUE

-Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Fri Jul  6 15:35:14 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Fri, 06 Jul 2001 09:35:14 -0400
Subject: [R] a < b < c is alway TRUE
In-Reply-To: <3B45BB6F.6582.E1B7B@localhost>
References: <3B458665.8AC006B1@statistik.uni-dortmund.de> <3B45BB6F.6582.E1B7B@localhost>
Message-ID: <u0fbktkqfltsqqtpmfmge4o7ivtb0svq18@4ax.com>

On Fri, 6 Jul 2001 13:21:51 +0200, you wrote in message
<3B45BB6F.6582.E1B7B at localhost>:

>what's surprising is the following:
>> FALSE<1
>[1] TRUE
>> FALSE>1
>[1] FALSE
>> TRUE<1
>[1] FALSE
>> TRUE>1
>[1] FALSE
>
>because of symmetry i'd expect TRUE>1 to be TRUE.

In R like C, FALSE is 0 and TRUE is 1.  This is a bad thing, but it's
too late to change it now.  With that substitution, all the results
look reasonable:  0>1, 1<1 and 1>1 are all false, but 0<1 is true.

Why a bad thing?  Because it leads to absurdities like this whole
thread has been discussing!

What should they have done?  They should have done what Fortran,
Pascal, etc. do, and have a separate logical or boolean type that
isn't automatically converted to a numerical type.  In Pascal for
instance, "3 < 2 < 1" is flagged as a syntax error, because you can't
compare a boolean to an integer.  If you really want to do the weird
comparison that R is doing, you need to enter it as "ord(3 < 2) < 1",
and any reader will see that you're doing something weird.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nbarrowman at cheo.on.ca  Fri Jul  6 16:15:14 2001
From: nbarrowman at cheo.on.ca (Barrowman, Nick)
Date: Fri, 6 Jul 2001 10:15:14 -0400 
Subject: [R] output of system() call not returned in Win98
Message-ID: <01Jul6.101235edt.115211@gateway.cheo.on.ca>

On one machine running Win98 and R 1.2.2 this command works:

	system("command.com /c dir",show=T,invisible=T)

On another machine also running Win98 and R 1.2.2 it does not.
Nothing appears.

On another machine running Win98 and R 1.3.0 it also does not work.

Is this a known problem?  Many thanks for any help.

Nick Barrowman, Ph.D.
Thomas C. Chalmers Centre for Systematic Reviews
Children's Hospital of Eastern Ontario Research Institute
401 Smyth Road, Ottawa, Ontario, K1H 8L1, Canada
Phone:(613) 738-3971 // Fax:(613) 738-4869
E-mail: nbarrowman at cheo.on.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apeek at cytoclonal.com  Fri Jul  6 16:28:05 2001
From: apeek at cytoclonal.com (Andy Peek)
Date: Fri, 06 Jul 2001 09:28:05 -0500
Subject: [R] a<b<c
Message-ID: <3B45CAF5.B745D0C9@cytoclonal.com>

> 3<2<1
[1] TRUE
> 4<3<2
[1] TRUE
> 12<4<1
[1] TRUE
> 7<6<5<4
[1] TRUE
> 8<7<6<5<4
[1] TRUE
> 27<26<25
[1] TRUE
> 9<8<7<6<5<4<3<2
[1] TRUE
> 9<8<7<6<5<4<3
[1] TRUE
> 9<8<7<6<5<4
[1] TRUE
> 9<8<7<6<5
[1] TRUE
> 9<8<7<6
[1] TRUE
> 9<8<7
[1] TRUE
> 4<3<2<1
[1] FALSE
> 5<4<3<2<1
[1] FALSE
10<9<8<7<6<5<4<3<2<1
[1] FALSE
> 9<8<7<6<5<4<3<2<1
[1] FALSE
> 9<8
[1] FALSE
> 8<7<6<5<4<3<2<1
[1] FALSE
> 7<6<5<4<3<2<1
[1] FALSE
> 6<5<4<3<2<1
[1] FALSE
> 5<4<3<2<1
[1] FALSE
> 4<3<2<1
[1] FALSE
> 3<2<1
[1] TRUE


3<2<1  appears not to be a special case for TRUE

cheers,
-Andy




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Fri Jul  6 16:39:13 2001
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Fri, 6 Jul 2001 16:39:13 +0200 (CEST)
Subject: [R] output of system() call not returned in Win98
In-Reply-To: <01Jul6.101235edt.115211@gateway.cheo.on.ca>
Message-ID: <Pine.LNX.4.21.0107061636270.27424-100000@reclus.nhh.no>

On Fri, 6 Jul 2001, Barrowman, Nick wrote:

> On one machine running Win98 and R 1.2.2 this command works:
> 
> 	system("command.com /c dir",show=T,invisible=T)
> 
> On another machine also running Win98 and R 1.2.2 it does not.
> Nothing appears.
> 
Maybe try:

> list.files()

which should be less platform-dependent than system() for listing the
current directory?

Does this also affect the output of programs that are not command shells?

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nbarrowman at cheo.on.ca  Fri Jul  6 17:10:38 2001
From: nbarrowman at cheo.on.ca (Barrowman, Nick)
Date: Fri, 6 Jul 2001 11:10:38 -0400 
Subject: [R] Summary: output of system() call not returned in Win98
Message-ID: <01Jul6.110808edt.115205@gateway.cheo.on.ca>

A solution to my problem was kindly suggested by Roger Bivand,
namely the list.files() function.  Thanks also to Prof. Ripley.

My original message:

> On one machine running Win98 and R 1.2.2 this command works:
> 
> 	system("command.com /c dir",show=T,invisible=T)
> 
> On another machine also running Win98 and R 1.2.2 it does not.
> Nothing appears.
> 
> On another machine running Win98 and R 1.3.0 it also does not work.
> 
> Is this a known problem?  Many thanks for any help.
 

Reply from Roger Bivand:

> Maybe try:
> list.files()
> which should be less platform-dependent than system() for listing the
> current directory?

That works; thank you!

> Does this also affect the output of programs that are not command shells?

I've had confusing results ... see below.
 

Reply from Prof. Brian D. Ripley:

> I think your tests prove that the problem is not with R.  For what it is
> worth, it works on my Windows 98 machine under 1.3.0.

Based on the confusing results I alluded to above, I think Prof. Ripley
may be correct.  I'll summarize to the list once I learn more.

Thanks again to both respondents for their generous help.

Nick Barrowman, Ph.D.
Thomas C. Chalmers Centre for Systematic Reviews  
Children's Hospital of Eastern Ontario Research Institute
401 Smyth Road, Ottawa, Ontario, K1H 8L1, Canada
Phone:(613) 738-3971 // Fax:(613) 738-4869
E-mail: nbarrowman at cheo.on.ca


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From till.baumgaertel at epost.de  Fri Jul  6 16:57:03 2001
From: till.baumgaertel at epost.de (Till Baumgaertel)
Date: Fri, 6 Jul 2001 16:57:03 +0200
Subject: [R] a < b < c is alway TRUE
In-Reply-To: <3B45B364.F98A2C97@umdnj.edu>
Message-ID: <3B45EDDF.10565.D31FD5@localhost>

> Why would you expect 1 > 1 to be True?
i didnt't realize TRUE<-1

i thought TRUE was something like INF or so, because normally the following is 
false (like Duncan wrote):
> In R like C, FALSE is 0 and TRUE is 1

normally in C you define somewhat like
#define FALSE ((unsigned long) 0)
#define TRUE (~((unsigned long) 0))
(ok, there are more aesthetic ways, you can use "signed",...)

but using binary negation makes much sense in many ways. so in C TRUE evaluates 
to max( long) (if you use the unsigned variant), and in fact i thought this 
would be the implementation in R as well...

cu
till

--
"I have seen things you people wouldn't believe.
Attack-ships  on fire off the shoulder of Orion.
I watched seabeams glitter in the dark near the 
Tannhauser gate.
All  those  moments  will  be lost in time like
tears in rain. Time to die."              (Roy)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From till.baumgaertel at epost.de  Fri Jul  6 17:16:50 2001
From: till.baumgaertel at epost.de (Till Baumgaertel)
Date: Fri, 6 Jul 2001 17:16:50 +0200
Subject: [R] a < b < c is alway TRUE
In-Reply-To: <u0fbktkqfltsqqtpmfmge4o7ivtb0svq18@4ax.com>
References: <3B45BB6F.6582.E1B7B@localhost>
Message-ID: <3B45F282.14605.E53C8A@localhost>

> Because it leads to absurdities like this whole thread has been discussing!
i think this is a misunderstanding: this thread is not from absurdistan but 
from userland.

> What should they have done?  They should have done what Fortran,
> Pascal, etc. do, and have a separate logical or boolean type that
> isn't automatically converted to a numerical type.  
in my understanding R compares better to an comuter algebra system like 
mathematica than to a programming language like pascal or so. 

i don't know the mathematica-syntax for the natural "3 < 2 < 1", but i think 
it's a BAD idea to force *users* to write something weired like "ord(3 < 2) < 
1". 

in an *application-oriented* statistical software-system natural syntax should 
be preferred to a "programmological"-syntax. thus it would be more user-
friendly to re-write the parser/scanner parts of R in a way that "3 < 2 < 1" is 
naturally-correct evaluated to FALSE. 

on the other hand, r is open-source and i could do it myself...

cu
till

--
"I have seen things you people wouldn't believe.
Attack-ships  on fire off the shoulder of Orion.
I watched seabeams glitter in the dark near the 
Tannhauser gate.
All  those  moments  will  be lost in time like
tears in rain. Time to die."              (Roy)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jul  6 17:29:33 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 6 Jul 2001 08:29:33 -0700 (PDT)
Subject: [R] a < b < c is alway TRUE
In-Reply-To: <u0fbktkqfltsqqtpmfmge4o7ivtb0svq18@4ax.com>
Message-ID: <Pine.A41.4.33.0107060816410.90366-100000@homer38.u.washington.edu>

On Fri, 6 Jul 2001, Duncan Murdoch wrote:
> In R like C, FALSE is 0 and TRUE is 1.  This is a bad thing, but it's
> too late to change it now.  With that substitution, all the results
> look reasonable:  0>1, 1<1 and 1>1 are all false, but 0<1 is true.
>
> Why a bad thing?  Because it leads to absurdities like this whole
> thread has been discussing!
>
> What should they have done?  They should have done what Fortran,
> Pascal, etc. do, and have a separate logical or boolean type that
> isn't automatically converted to a numerical type.  In Pascal for
> instance, "3 < 2 < 1" is flagged as a syntax error, because you can't
> compare a boolean to an integer.  If you really want to do the weird
> comparison that R is doing, you need to enter it as "ord(3 < 2) < 1",
> and any reader will see that you're doing something weird.


Well, actually R does have a separate logical type for precisely this
reason. That's why, say
  2+2==4
evaluates to TRUE in R, not to 1, and why logical subscripts are different
from integer subscripts
For example
  x[is.na(x)]
returns the non-missing elements of x, but x[as.numeric(is.na(x))] returns
as many copies of the first elements as there are missing elements.

The feature/bug/wart in R that causes this whole discussion is that
numerical operators in R try to coerce their arguments to numbers, so that
if a or b is logical in
  a<b
we actually evaluate
  as.numeric(a)<as.numeric(b)

Also, we coerce going the other way in if() statements, to make
	if(length(x))
work. This latter coercion is relatively recent and was done for
compatibility with C programmers writing in S.

Certainly a<b<c has no sensible use: if c is numeric it is nonense and if
c is logical it is c & !(a<b).  I would even contend that it is a bad sign
if you know what
	3<2<1
will evaluate to without careful thought or testing on a copy of R.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From b.angela at lycos.com  Thu Jul  5 12:48:40 2001
From: b.angela at lycos.com (Angela Benette)
Date: Thu, 05 Jul 2001 03:48:40 -0700
Subject: [R] component chart
Message-ID: <IMBBIIMDNMLGAAAA@mailcity.com>

		   [this mail needed manual approval by the list maintainer
		    because lycos.com seems to append two lines of Spam. 
		    Please consider NOT using lycos anymore...
                    Martin Maechler, R lists maintainer ]
			   
newbie-question

How do I create a component chart using R? For example, given the following data:
 
              1994        
sales         80,000      
maintenace    20,000

I want to create a horizontal bar graph where sales starts from 0 to 80,000 and maintenance starts from 80,000 to 100,000. I also want to display the total as another bar starting from 0 to 100,000.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Krzysztof_Kopera/HeadQ at netia.pl  Fri Jul  6 18:32:02 2001
From: Krzysztof_Kopera/HeadQ at netia.pl (Krzysztof Kopera)
Date: Fri, 6 Jul 2001 18:32:02 +0200
Subject: [R] How to build R-1.3.0 under HP-UX  11.00
Message-ID: <OFE06B18BD.552E3547-ONC1256A81.0059F5D8@netia.pl>

Hello,

I am new in R and I am delighted with it, so I am trying to bulid R-1.3.0
from sources under HP-UX 11.00 using f2c and X11 support. Configuration
phase is OK but using make I have errors:

        gcc -Wl,-E  -o R.bin  CConverters.o  Rdynload.o RNG.o  apply.o
arithmetic.o array.o attrib.o  bind.o builtin.o  charac
ter.o coerce.o colors.o complex.o connections.o context.o  cov.o cum.o
dcf.o datetime.o debug.o devPS.o devPicTeX.o deparse.o
 deriv.o  devices.o dotcode.o dstruct.o duplicate.o  envir.o errors.o
eval.o  format.o fourier.o  gram.o gram-ex.o graphics.o
 internet.o iosupport.o  lapack.o list.o logic.o  main.o match.o memory.o
model.o  names.o  objects.o optim.o optimize.o optio
ns.o  par.o paste.o platform.o  plot.o plot3d.o plotmath.o  print.o
printarray.o printvector.o printutils.o  random.o regex.o
relop.o  saveload.o scan.o seq.o size.o sort.o source.o split.o
subassign.o subscript.o subset.o summary.o  unique.o util.o
version.o vfonts.o xxxpr.o ../unix/libunix.a ../appl/libappl.a
../nmath/libnmath.a   -L/opt/f2c/lib/ -lm -ldld -L/usr/local/li
b  -ltermcap -lm
/usr/bin/ld: Unsatisfied symbols:
   xdr_double (code)
   xdr_string (code)
   xdrstdio_create (code)
   xdr_bytes (code)
   xdr_int (code)
   i_len (code)
   d_sign (code)
collect2: ld returned 1 exit status
*** Error exit code 1

Do you know what to do? I have set FLIBS = -L/opt/f2c/lib -ln; previously
FLIBS = /opt/f2c/lib -ln and it is not good.

Best regards
  Kris

PS. Sorry my english.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jul  6 18:57:13 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Jul 2001 18:57:13 +0200
Subject: [R] tcltk AND R
In-Reply-To: Olivier Martin's message of "Thu, 05 Jul 2001 19:41:54 +0200"
References: <3B44A6E2.40977009@inrialpes.fr>
Message-ID: <x2n16iknbq.fsf@blueberry.kubism.ku.dk>

Olivier Martin <olivier.martin at inrialpes.fr> writes:

> Hi all,
> 
> could somebody indicate me a tcltk tutorial for beginners   with some
> examples
> for R.
> Thanks,
> Olivier

R Newsletter #3, I hope.... (hint: #2 is due out shortly) Till then,
notice that tcltk comes with a rather nice "widget demo" which can
show you how to achieve various results, and the Linux versions also
have the tclhelp command. This is useful to learn about doing it in
Tcl, to do similar things from the R interface, you might start off
with looking at the demos included with it.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jul  6 18:52:07 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 6 Jul 2001 17:52:07 +0100 (BST)
Subject: [R] How to build R-1.3.0 under HP-UX  11.00
In-Reply-To: <OFE06B18BD.552E3547-ONC1256A81.0059F5D8@netia.pl>
Message-ID: <Pine.LNX.4.31.0107061741270.1498-100000@gannet.stats>

The first few errors mean that you don't have xdr support in the libraries
you included. R checks for the headers rpc/rpc.h and rpc/xdr.h so you have
those.

Try man xdr and see if it requires an additional library.


The last two are problems with missing -lf2c.  Configuring with --with-f2c
should include that for you.

I think we need to know exactly what you did.  Perhaps you needed
FLIBS="-L/opt/f2c/lib -lf2c -lm"?


On Fri, 6 Jul 2001, Krzysztof Kopera wrote:

> Hello,
>
> I am new in R and I am delighted with it, so I am trying to bulid R-1.3.0
> from sources under HP-UX 11.00 using f2c and X11 support. Configuration
> phase is OK but using make I have errors:
>
>         gcc -Wl,-E  -o R.bin  CConverters.o  Rdynload.o RNG.o  apply.o
> arithmetic.o array.o attrib.o  bind.o builtin.o  charac
> ter.o coerce.o colors.o complex.o connections.o context.o  cov.o cum.o
> dcf.o datetime.o debug.o devPS.o devPicTeX.o deparse.o
>  deriv.o  devices.o dotcode.o dstruct.o duplicate.o  envir.o errors.o
> eval.o  format.o fourier.o  gram.o gram-ex.o graphics.o
>  internet.o iosupport.o  lapack.o list.o logic.o  main.o match.o memory.o
> model.o  names.o  objects.o optim.o optimize.o optio
> ns.o  par.o paste.o platform.o  plot.o plot3d.o plotmath.o  print.o
> printarray.o printvector.o printutils.o  random.o regex.o
> relop.o  saveload.o scan.o seq.o size.o sort.o source.o split.o
> subassign.o subscript.o subset.o summary.o  unique.o util.o
> version.o vfonts.o xxxpr.o ../unix/libunix.a ../appl/libappl.a
> ../nmath/libnmath.a   -L/opt/f2c/lib/ -lm -ldld -L/usr/local/li
> b  -ltermcap -lm
> /usr/bin/ld: Unsatisfied symbols:
>    xdr_double (code)
>    xdr_string (code)
>    xdrstdio_create (code)
>    xdr_bytes (code)
>    xdr_int (code)
>    i_len (code)
>    d_sign (code)
> collect2: ld returned 1 exit status
> *** Error exit code 1
>
> Do you know what to do? I have set FLIBS = -L/opt/f2c/lib -ln; previously
> FLIBS = /opt/f2c/lib -ln and it is not good.
>
> Best regards
>   Kris
>
> PS. Sorry my english.
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Fri Jul  6 19:30:44 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Fri, 06 Jul 2001 13:30:44 -0400
Subject: [R] a < b < c is alway TRUE
In-Reply-To: <3B45EDDF.10565.D31FD5@localhost>
References: <3B45B364.F98A2C97@umdnj.edu> <3B45EDDF.10565.D31FD5@localhost>
Message-ID: <rvsbkt4v4b3550qsvsactvgiddq8lue256@4ax.com>

On Fri, 6 Jul 2001 16:57:03 +0200, you wrote in message
<3B45EDDF.10565.D31FD5 at localhost>:

>> Why would you expect 1 > 1 to be True?
>i didnt't realize TRUE<-1
>
>i thought TRUE was something like INF or so, because normally the following is 
>false (like Duncan wrote):
>> In R like C, FALSE is 0 and TRUE is 1
>
>normally in C you define somewhat like
>#define FALSE ((unsigned long) 0)
>#define TRUE (~((unsigned long) 0))
>(ok, there are more aesthetic ways, you can use "signed",...)

Shows how much I know about C, I guess!  But I thought "0 < 1"
evaluates to 1 and "1 < 0" evaluates to 0 in C, so maybe I should have
said "false is 0 and true is 1".

Thomas makes good points:  R *does* have a logical type.  The problem
is that R tries really hard to make sense of statements by coercing
types to be compatible, to the extent that it ends up with nonsensical
results.  

I suppose it's a good thing that I'm allowed to write

 "4" < 5

(which you can't do in Pascal, Fortran, etc.).  Maybe we should extend
it so that I could also write this as 

 "vier" < "cinq"

and have it realize that this should evaluate to true in Switzerland,
to false in North America.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From denis at mail.cor.epa.gov  Fri Jul  6 19:52:23 2001
From: denis at mail.cor.epa.gov (Denis White)
Date: Fri, 6 Jul 2001 10:52:23 -0700 (PDT)
Subject: [R] Where is the html page that lists all functions?
Message-ID: <Pine.SUN.3.91.1010706103127.9A-100000@quagga.cor.epa.gov>

> > (and the refman.pdf is not in the ../manual directory)
> 
> No, but it is made in the INSTALL process: see the R-admin manual.
> 
> As that page says:
> 
> 1) The reference manual is now only in PDF.
> 2) The search facilities are where that page says they are (and have
> always been).  They were *not* on the page which listed all functions.

Ok, we're figuring it out (hadn't needed stuff like pdftex before); 
thanks again for belaboring what we should have noticed.

Two other points: SetupR.exe for win did not appear to contain 
refman.pdf.  Finally, the functional structure of help through the
keywords is just right much of the time, but, now and then, an 
alphabetical index would be very useful.

Denis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jul  6 20:28:24 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 6 Jul 2001 19:28:24 +0100 (BST)
Subject: [R] Where is the html page that lists all functions?
In-Reply-To: <Pine.SUN.3.91.1010706103127.9A-100000@quagga.cor.epa.gov>
Message-ID: <Pine.GSO.4.31.0107061926450.17096-100000@auk.stats>

On Fri, 6 Jul 2001, Denis White wrote:

> > > (and the refman.pdf is not in the ../manual directory)
> >
> > No, but it is made in the INSTALL process: see the R-admin manual.
> >
> > As that page says:
> >
> > 1) The reference manual is now only in PDF.
> > 2) The search facilities are where that page says they are (and have
> > always been).  They were *not* on the page which listed all functions.
>
> Ok, we're figuring it out (hadn't needed stuff like pdftex before);
> thanks again for belaboring what we should have noticed.
>
> Two other points: SetupR.exe for win did not appear to contain
> refman.pdf.  Finally, the functional structure of help through the

It does in my copy. It is not installed by default, though as it is large.

> keywords is just right much of the time, but, now and then, an
> alphabetical index would be very useful.

The refman had one ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From henrikb at braju.com  Fri Jul  6 20:44:18 2001
From: henrikb at braju.com (Henrik Bengtsson)
Date: Fri, 6 Jul 2001 11:44:18 -0700
Subject: [R] Inverse function to 'which'?
Message-ID: <KKEGJOGBELBHDIKPINBMGEEJCFAA.henrikb@braju.com>

Is there an inverse function to 'which' available, which creates a logical
vector/matrix from indices? I wrote my own, but if there is a standard
function I would like to use that instead. Example:

x <- c(TRUE, TRUE, FALSE, TRUE, FALSE, FALSE)
unwhich(which(x))            # [1] TRUE TRUE FALSE TRUE
unwhich(which(x), length(x)) # [1] TRUE TRUE FALSE TRUE FALSE FALSE

y <- matrix(x, nrow=3, ncol=2)
unwhich(which(y, arr.ind=TRUE))          # "Minimum" size
unwhich(which(y, arr.ind=TRUE), dim(y))  # Same dimensions as y

Thanks

Henrik Bengtsson
h e n r i k b @ b r a j u . c o m

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Fri Jul  6 20:45:49 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Fri, 6 Jul 2001 14:45:49 -0400 (EDT)
Subject: [R] Where is the html page that lists all functions?
Message-ID: <200107061845.OAA17497@cattell.psych.upenn.edu>

As an alternative to help.start(), I set up a web page on my
office computer and I plan to leave it on most of the time.  I
also installed (per the suggestion of someone on this list)
htdig, and it is set up to search the R documentation for
keywords.  Interestingly, I have not yet re-run htdig since
upgrading to R 1.3.0, and so far everything seems to work.  (But
I will do it soon.)  The page is http://finzi.psych.upenn.edu/
and it has other documentation.  This is more of an example to
imitate than something you should rely on forever.  

If you do imitate it, the trick (on Red Hat Linux 7.1) is to link
from /var/www/http/R to /usr/lib/R and then refer to the pages as
R/doc/html and R/doc/html/function.html, respectively.  This
makes sure that the base directory is set properly.

Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macq at llnl.gov  Fri Jul  6 22:50:49 2001
From: macq at llnl.gov (Don MacQueen)
Date: Fri, 6 Jul 2001 13:50:49 -0700
Subject: [R] a < b < c is alway TRUE
In-Reply-To: 
 <Pine.A41.4.33.0107060816410.90366-100000@homer38.u.washington.edu>
References: 
 <Pine.A41.4.33.0107060816410.90366-100000@homer38.u.washington.edu>
Message-ID: <p05101006b76bcd268981@[128.115.153.6]>

Well now, look.

If I write down
   3 + 2 * 7
we HAVE to have some agreement on how to do evaluate that, because 
different ways give different results. Same thing with
   3 < 2 < 1
We have to have rules that govern how it is interpreted.

We have rules. They are simple and easily understood. Others have 
already reminded us what they are.

With the small, simple, addition of rules for converting between 
numeric and logical types, the rules that govern 3 < 2 < 1 are the 
same as those that govern an expression like
   10/2*5
which is also ambiguous without an agreement on what the rules are. 
The type conversion rule is nothing new--many other programming 
languages also interpret 0 as false and 1 as true in various 
contexts. For example, try this fortran program:

       program foo
       if (1) write(*,*) 'true'
       if (0) write(*,*) 'false'
       end

This type conversion rule is not a bad thing. It's just a rule. All 
rules have pros and cons. Different languages make different choices. 
So what?

We might think that 3 < 2 < 1 is an expression that makes sense, in 
human terms, (perhaps because it kind of connects with the concept of 
transitivity), and therefore R ought to interpret it that way. But 
what about
   3 < 2 > 5
Huh? It's kind of nonsense. Unless you have well defined rules of syntax.

If you write expressions in language A but think they're going to get 
interpreted according to the rules of language B, you're going to get 
in trouble. The individual who posted the original question, when he 
realized his mistake, said, in effect -- Oh, of course, I just had a 
momentary lapse. (I think that's a fair characterization, apologies 
if it's not.) He didn't start complaining about what he thought the 
rules ought to be. In the present case the rules just aren't that 
weird. In my opinion they are simple and reasonable.

soapbox off

-Don

-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From raph at alvie-mail.lanl.gov  Fri Jul  6 21:14:17 2001
From: raph at alvie-mail.lanl.gov (Raphael Gottardo)
Date: Fri, 06 Jul 2001 13:14:17 -0600
Subject: [R] smooth.spline vs loess
Message-ID: <3B460E09.E975E688@alvie-mail.lanl.gov>

Hello R-users,

I would like to know of anybody have some references for documentation
about smooth.spline() and loess() functions of R. As far as I know the
loess() function is more robust, so I would like to know if there is any
robust version of smooth.spline.

Thank you,

Raphael

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gry at ll.mit.edu  Fri Jul  6 23:27:05 2001
From: gry at ll.mit.edu (george young)
Date: Fri, 6 Jul 2001 17:27:05 -0400
Subject: [R] fit simple surface to 2d data?
Message-ID: <20010706172705.0b988ebe.gry@ll.mit.edu>

I have an array of floating-point measurements on a square (5 by 5) 2d grid.
The data are nominally constant, and somewhat noisy.
I need to find any significant spatial trend, e.g. bigger on the
left, bigger in the middle, etc.  I have many thousands of these data sets
that need to be scanned for 'interesting' spatial variations, selecting the
datasets that are beyond some criterion of flatness.
 
My thought was to fit a 2'nd order polynomial with least-squares or some
such metric, and scan for coefficients bigger than some cutoff.  I think
a parabolic surface is probably as complex a surface as the small amount of data merits.
 
Is there functionality in R that would be appropriate?
 
Is there some other approach anyone would suggest for the general task?
I'm not very experienced in data crunching, so any suggestion would
be appreciated.
 
I don't mind committing a lot of cpu to the task, if that helps.    

Thanks,
	George Young
	MIT Lincoln Laboratory
	Lexington, Mass, USA

-- 
 I cannot think why the whole bed of the ocean is
 not one solid mass of oysters, so prolific they seem. Ah,
 I am wandering!  Strange how the brain controls the brain!
	-- Sherlock Holmes in "The Dying Detective"
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Fri Jul  6 23:36:52 2001
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Sat, 07 Jul 2001 09:36:52 +1200
Subject: [R] a<b<c
References: <3B45CAF5.B745D0C9@cytoclonal.com>
Message-ID: <3B462F74.15B82846@stat.auckland.ac.nz>

Andy Peek wrote:
> 
> > 3<2<1
> [1] TRUE
> > 4<3<2
> [1] TRUE
> > 12<4<1
> [1] TRUE
> > 7<6<5<4
> [1] TRUE
> > 8<7<6<5<4
> [1] TRUE
> > 27<26<25
> [1] TRUE
> > 9<8<7<6<5<4<3<2
> [1] TRUE
> > 9<8<7<6<5<4<3
> [1] TRUE
> > 9<8<7<6<5<4
> [1] TRUE
> > 9<8<7<6<5
> [1] TRUE
> > 9<8<7<6
> [1] TRUE
> > 9<8<7
> [1] TRUE
> > 4<3<2<1
> [1] FALSE
> > 5<4<3<2<1
> [1] FALSE
> 10<9<8<7<6<5<4<3<2<1
> [1] FALSE
> > 9<8<7<6<5<4<3<2<1
> [1] FALSE
> > 9<8
> [1] FALSE
> > 8<7<6<5<4<3<2<1
> [1] FALSE
> > 7<6<5<4<3<2<1
> [1] FALSE
> > 6<5<4<3<2<1
> [1] FALSE
> > 5<4<3<2<1
> [1] FALSE
> > 4<3<2<1
> [1] FALSE
> > 3<2<1
> [1] TRUE
> 
> 3<2<1  appears not to be a special case for TRUE

Think about :

> (3<2)<1
[1] TRUE
> 3<(2<1)
[1] FALSE


-- 
Ross Ihaka                         Email:  ihaka at stat.auckland.ac.nz
Department of Statistics           Phone:  (64-9) 373-7599 x 5054
University of Auckland             Fax:    (64-9) 373-7018
Private Bag 92019, Auckland
New Zealand
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jul  6 23:49:00 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 6 Jul 2001 22:49:00 +0100 (BST)
Subject: [R] fit simple surface to 2d data?
In-Reply-To: <20010706172705.0b988ebe.gry@ll.mit.edu>
Message-ID: <Pine.LNX.4.31.0107062246110.12907-100000@gannet.stats>

On Fri, 6 Jul 2001, george young wrote:

> I have an array of floating-point measurements on a square (5 by 5) 2d grid.
> The data are nominally constant, and somewhat noisy.
> I need to find any significant spatial trend, e.g. bigger on the
> left, bigger in the middle, etc.  I have many thousands of these data sets
> that need to be scanned for 'interesting' spatial variations, selecting the
> datasets that are beyond some criterion of flatness.
>
> My thought was to fit a 2'nd order polynomial with least-squares or some
> such metric, and scan for coefficients bigger than some cutoff.  I think
> a parabolic surface is probably as complex a surface as the small amount of data merits.
>
> Is there functionality in R that would be appropriate?

Trend surfaces in package spatial do that, and I would rather do an anova,
which Roger Bivand has kindly contributed.

> Is there some other approach anyone would suggest for the general task?
> I'm not very experienced in data crunching, so any suggestion would
> be appreciated.

That's more or less what I would do, the anova bit being the difference.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murphyk at cs.berkeley.edu  Sat Jul  7 00:19:58 2001
From: murphyk at cs.berkeley.edu (Kevin Murphy)
Date: Fri, 06 Jul 2001 15:19:58 -0700
Subject: [R] installing tree pkg on linux
Message-ID: <3B46398E.4F26AFB6@cs.berkeley.edu>

I am having trouble installing the tree package on linux.
I followed all the steps in section 5.2 of the FAQ

http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html#How%20can%20add-on%20packages%20be%20installed%3f

In particular, I typed 'R CMD INSTALL -l /home/cs/murphyk/R 
tree_1.0-2.tar.gz'. This created the files 'LibIndex', 'R.css' and a
subdirectory called 'tree'.

I then created a ~/.Renviron file with the line
'R_LIBS="/home/cs/murphyk/R"'.
Inside R, I typed 'library()' and got back


Packages in library `/home/cs/murphyk/R/tree"':

<blank>

Packages in library `/usr/lib/R/library':

base            The R base package
ctest           Classical Tests         
...

So although it find the murphyk/R/tree directory, it doesn't see the
package.


I considered using the windows version instead, but Ripley's comment in
section 3.1 of the windows FAQ (about it being a lot of work) put me
off.

http://www.stats.ox.ac.uk/pub/R/rw-FAQ.html#Can%20I%20install%20packages%20(libraries)%20in%20this%20version%3f

(Besides, I don't have a C compiler on my windows machine.)


Kevin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lhomer at teleport.com  Sat Jul  7 01:16:38 2001
From: lhomer at teleport.com (lhomer)
Date: Fri, 6 Jul 2001 16:16:38 -0700
Subject: [R] a < b < c is alway TRUE
References: <Pine.A41.4.33.0107060816410.90366-100000@homer38.u.washington.edu>
Message-ID: <002701c10671$b8a9ee60$723d1ad8@oemcomputer>


----- Original Message -----
From: Thomas Lumley <tlumley at u.washington.edu>
To: Duncan Murdoch <murdoch at stats.uwo.ca>
Cc: <r-help at stat.math.ethz.ch>
Sent: Friday, July 06, 2001 8:29 AM
Subject: Re: [R] a < b < c is alway TRUE


> On Fri, 6 Jul 2001, Duncan Murdoch wrote:
> > In R like C, FALSE is 0 and TRUE is 1.  This is a bad thing, but it's
> > too late to change it now.  With that substitution, all the results
> > look reasonable:  0>1, 1<1 and 1>1 are all false, but 0<1 is true.
> >
> > Why a bad thing?  Because it leads to absurdities like this whole
> > thread has been discussing!
> >
> > What should they have done?  They should have done what Fortran,
> > Pascal, etc. do, and have a separate logical or boolean type that
> > isn't automatically converted to a numerical type.  In Pascal for
> > instance, "3 < 2 < 1" is flagged as a syntax error, because you can't
> > compare a boolean to an integer.  If you really want to do the weird
> > comparison that R is doing, you need to enter it as "ord(3 < 2) < 1",
> > and any reader will see that you're doing something weird.
>
>
> Well, actually R does have a separate logical type for precisely this
> reason. That's why, say
>   2+2==4
> evaluates to TRUE in R, not to 1,


> (2+2)==4
[1] TRUE
> ((2+2)==4)==1
[1] TRUE
>
....But you knew that....



 and why logical subscripts are different
> from integer subscripts
> For example
>   x[is.na(x)]
> returns the non-missing elements of x, but x[as.numeric(is.na(x))] returns
> as many copies of the first elements as there are missing elements.
>
> The feature/bug/wart in R that causes this whole discussion is that
> numerical operators in R try to coerce their arguments to numbers, so that
> if a or b is logical in
>   a<b
> we actually evaluate
>   as.numeric(a)<as.numeric(b)
>
> Also, we coerce going the other way in if() statements, to make
> if(length(x))
> work. This latter coercion is relatively recent and was done for
> compatibility with C programmers writing in S.
>
> Certainly a<b<c has no sensible use: if c is numeric it is nonense and if
> c is logical it is c & !(a<b).  I would even contend that it is a bad sign
> if you know what
> 3<2<1
> will evaluate to without careful thought or testing on a copy of R.
>
>
> -thomas
>
> Thomas Lumley Asst. Professor, Biostatistics
> tlumley at u.washington.edu University of Washington, Seattle
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Sat Jul  7 01:27:43 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 6 Jul 2001 16:27:43 -0700 (PDT)
Subject: [R] installing tree pkg on linux
In-Reply-To: <3B46398E.4F26AFB6@cs.berkeley.edu>
Message-ID: <Pine.A41.4.33.0107061617080.90366-100000@homer38.u.washington.edu>

On Fri, 6 Jul 2001, Kevin Murphy wrote:

> I am having trouble installing the tree package on linux.
> I followed all the steps in section 5.2 of the FAQ
>
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html#How%20can%20add-on%20packages%20be%20installed%3f
>
> In particular, I typed 'R CMD INSTALL -l /home/cs/murphyk/R
> tree_1.0-2.tar.gz'. This created the files 'LibIndex', 'R.css' and a
> subdirectory called 'tree'.
>
> I then created a ~/.Renviron file with the line
> 'R_LIBS="/home/cs/murphyk/R"'.

The double quotes are the problem. R was looking in the directory
"/home/cs/murphyk/R"
not in
/home/cs/murphyk/R

This seems to be a bug in the FAQ.

Incidentally, Linux is, of course, infinitely superior in every way to any
other operating system :^), but installing precompiled binaries
under Windows is completely painless.  Both tree and rpart (which is now
a `recommended' part of the R distribution) are available as binaries.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Sat Jul  7 03:11:56 2001
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Fri, 06 Jul 2001 21:11:56 -0400
Subject: [R] a < b < c is alway TRUE
In-Reply-To: <p05101006b76bcd268981@[128.115.153.6]>
References: <Pine.A41.4.33.0107060816410.90366-100000@homer38.u.washington.edu> <p05101006b76bcd268981@[128.115.153.6]>
Message-ID: <c1ocktkcvqk8pdb9b0k73655f283l9vu4p@4ax.com>

On Fri, 6 Jul 2001 13:50:49 -0700, you wrote:

>The type conversion rule is nothing new--many other programming 
>languages also interpret 0 as false and 1 as true in various 
>contexts. For example, try this fortran program:
>
>       program foo
>       if (1) write(*,*) 'true'
>       if (0) write(*,*) 'false'
>       end

When I try that in g77, I get syntax errors:

>test.f: In program `foo':
>test.f:2:
>          if (1) write(*,*) 'true'
>              ^
>Type disagreement between expressions at (^) and (^)
>test.f:3:
>          if (0) write(*,*) 'false'
>              ^

I don't doubt there is some dialect of Fortran that accepts such
constructions, but it's not a dialect that I'd want to use.

As a general principle, code should be easy to read and understand by
the target audience.  If your audience is C programmers, then it's
fine to write junk like "if (1) ...", but if your audience is
statisticians, it's better if what you write is closer to standard
mathematical syntax.  Since 0 and 1 are numbers, not logical values,
it would be better if they were treated as such in R.  Since "3 < 2 <
1" has the interpretation "false" in standard mathematical notation,
if R is to accept it, it would be better if it had the same value in
R.

HOWEVER, R is already old, and is essentially S, which is very old.  
"3 < 2 < 1" has a well-defined meaning in R.  Changing it now would be
a bad thing.  Adding warnings (or even a lint-like utility to check
through R source code) for constructions like this which are likely
sources of bugs would be a good thing, but there are a lot of good
things to do, and only a finite amount of time for people to do them.
Adding this wouldn't  be at the top of my priority list.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Jul  7 12:35:14 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Jul 2001 12:35:14 +0200
Subject: [R] a < b < c is alway TRUE
In-Reply-To: Duncan Murdoch's message of "Fri, 06 Jul 2001 21:11:56 -0400"
References: <Pine.A41.4.33.0107060816410.90366-100000@homer38.u.washington.edu> <p05101006b76bcd268981@[128.115.153.6]> <c1ocktkcvqk8pdb9b0k73655f283l9vu4p@4ax.com>
Message-ID: <x2d77dhvrx.fsf@blueberry.kubism.ku.dk>

Duncan Murdoch <dmurdoch at pair.com> writes:

> As a general principle, code should be easy to read and understand by
> the target audience.  If your audience is C programmers, then it's
> fine to write junk like "if (1) ...", but if your audience is
> statisticians, it's better if what you write is closer to standard
> mathematical syntax.  Since 0 and 1 are numbers, not logical values,
> it would be better if they were treated as such in R.  Since "3 < 2 <
> 1" has the interpretation "false" in standard mathematical notation,
> if R is to accept it, it would be better if it had the same value in
> R.
> 
> HOWEVER, R is already old, and is essentially S, which is very old.  
> "3 < 2 < 1" has a well-defined meaning in R.  Changing it now would be
> a bad thing.  Adding warnings (or even a lint-like utility to check
> through R source code) for constructions like this which are likely
> sources of bugs would be a good thing, but there are a lot of good
> things to do, and only a finite amount of time for people to do them.
> Adding this wouldn't  be at the top of my priority list.

(S is not *that* old (New S, 1988), but it does build on principles of
parser construction that are a decade or more older.)

The general principle is that rules should be clear and consistent!
You don't get anywhere by assuming that computer scientists don't know
what they are doing and trying to change rules to suite a naive
audience. Hardly any programming language allows the 1 < x < 2
construct. Either they throw an error or they do something unexpected
(but logical) due to type coercion. (Also, I don't think any versions
of *formal* mathematical logic would allow that notation, relational
operators are binary.) 

Whenever you try to make a language do something "intuitive" you also
find gotchas lurking inside, and of a different sort than what you
could figure out by considering the rules as they are, instead of what
you expect them to be.

Consider the following:

x <- rep(NA,10)
x < 0

This will work fine and the result of the comparison is a vector of
NA's. However, NA is a logical constant, so if you tried to prevent
comparisons of logicals to numericals, it would bomb. These all-NA
vectors can creep in all over the place, so you'd get to pepper large
portions of your code with checks like

if (is.logical(x) && all(is.na(x))) rep(NA,length(x)) else x < 0

(There have been countless of these isues coming up over the years,
and most often, once the full implications of a change of semantics
has been realized, they have ended with a "perhaps Uncle John was
right after all"...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Sat Jul  7 13:47:48 2001
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Sat, 7 Jul 2001 13:47:48 +0200 (CEST)
Subject: [R] fit simple surface to 2d data?
In-Reply-To: <Pine.LNX.4.31.0107062246110.12907-100000@gannet.stats>
Message-ID: <Pine.LNX.4.21.0107071301500.28120-100000@reclus.nhh.no>

On Fri, 6 Jul 2001, Prof Brian Ripley wrote:

> On Fri, 6 Jul 2001, george young wrote:
> 
> > I have an array of floating-point measurements on a square (5 by 5) 2d grid.
> > The data are nominally constant, and somewhat noisy.
> > I need to find any significant spatial trend, e.g. bigger on the
> > left, bigger in the middle, etc.  I have many thousands of these data sets
> > that need to be scanned for 'interesting' spatial variations, selecting the
> > datasets that are beyond some criterion of flatness.
> >
> > My thought was to fit a 2'nd order polynomial with least-squares or some
> > such metric, and scan for coefficients bigger than some cutoff.  I think
> > a parabolic surface is probably as complex a surface as the small amount of data merits.
> >
> > Is there functionality in R that would be appropriate?
> 
> Trend surfaces in package spatial do that, and I would rather do an anova,
> which Roger Bivand has kindly contributed.
> 
> > Is there some other approach anyone would suggest for the general task?
> > I'm not very experienced in data crunching, so any suggestion would
> > be appreciated.
> 
> That's more or less what I would do, the anova bit being the difference.
> 
Yes, this feels like trend surface, but I'm not sure that it isn't a
classification problem? Given that there are thousands of replications of
the 25 grid values, maybe clara() in the cluster package or one of the
many other classifiers could pull out a much smaller number of classes for
which the surfaces could be calculated?

Clara wouldn't be using the distance information at all, unfortunately.
Another cut might be to compute a localised Moran's I_i or the Getis-Ord
G_i, yielding local measures of spatial autocorrelation for each of the
grid points and cluster those? This would be especially relevant if the
process generating the z values at the grid locations is known to exhibit
positive spatial dependence (values close to each other on the grid
are more alike than spatially distant values). If there is no spatial
dependence, trend surface won't help much either!

anova() on the trend surfaces could do this testing against "some
criterion of flatness", like the 0 order surface,

> x <- 1:5
> y <- 1:5
> z <- runif(25)
> x.g <- expand.grid(x,y)[,1]
> y.g <- expand.grid(x,y)[,2]
> anova(surf.ls(0, x.g, y.g, z), surf.ls(2, x.g, y.g, z))
Analysis of Variance Table

Model 1: surf.ls(np = 0, x = x.g, y = y.g, z = z)
Model 2: surf.ls(np = 2, x = x.g, y = y.g, z = z)
  Res.Df Res.Sum Sq Df  Sum Sq F value  Pr(>F)
1     24    2.07349                           
2     19    1.28882  5 0.78467  2.3136 0.08421

but maybe if a classifier was trained to distinguish grids using "some
criterion of flatness", incoming data could be sorted into flat/not flat
for further exploration. One of the issues I would watch with trend
surface is the influence of outlying z values, something a classification
approach might not be affected by to the same extent.

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmc at research.bell-labs.com  Sat Jul  7 15:50:05 2001
From: jmc at research.bell-labs.com (John Chambers)
Date: Sat, 07 Jul 2001 09:50:05 -0400
Subject: [R] a < b < c is alway TRUE
References: <Pine.A41.4.33.0107060816410.90366-100000@homer38.u.washington.edu> <p05101006b76bcd268981@[128.115.153.6]> <c1ocktkcvqk8pdb9b0k73655f283l9vu4p@4ax.com> <x2d77dhvrx.fsf@blueberry.kubism.ku.dk>
Message-ID: <3B47138D.451FC180@research.bell-labs.com>

If memory serves, one main reason we allowed (silent) conversion from
logical (FALSE, TRUE) to numeric (0, 1) was for indexing.  Programming
tricks of the form of:

   c("negative", "positive")[ (x >= 0) + 1]

Not that I'm advocating this as good practice, but it provided a compact
way to generate information.  (and, yes, we picked up Fortran (and APL)
style indexing from 1 rather than C style indexing from 0, so we did
need to add the 1)

Converting logical to numeric and then using the result in a comparison
operation, as opposed to an arithmetic operation, seems unlikely to be
what the user intended, on the other hand.  As Duncan Murdoch commented,
putting out a warning for the expression
  a < b < c
would seem a good thing, if not exactly high priority.

Most people with any substantial computing experience would probably
realize that what they meant to say was
  a < b & b < c
If it wasn't and they wanted the warning message to shut up, they would
need to write
 as.numeric( a< b) < c

Yes, we probably should have been less fond of "cute" programming tricks
like the example.  In our defense, though, sometimes they helped people
to program in "whole object" terms, particularly in the days when
interfacing to C and other languages was less flexible.

John
-- 
John M. Chambers                  jmc at bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-2681
700 Mountain Avenue, Room 2C-282  fax:    (908)582-3340
Murray Hill, NJ  07974            web: http://www.cs.bell-labs.com/~jmc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jul  7 15:50:35 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 7 Jul 2001 14:50:35 +0100 (BST)
Subject: [R] fit simple surface to 2d data?
In-Reply-To: <Pine.LNX.4.21.0107071301500.28120-100000@reclus.nhh.no>
Message-ID: <Pine.LNX.4.31.0107071443470.13480-100000@gannet.stats>

Well, I would say that the definition of 'interesting' makes this into
a supervised pattern recognition problem, and that using clustering
techniques for such problems is a classic error.  What one needs is some
way to put in the prior information, and that needs model-based clustering
techniques, at least.

A close analogy: people studying automated screening of mammograms are
trying to pink up signs of (pre)-cancer, not the many benign variations in
breast tissue.  Yet clustering techniques have been proposed frequently
(and those I have studied are not at all successful).


On Sat, 7 Jul 2001, Roger Bivand wrote:

> On Fri, 6 Jul 2001, Prof Brian Ripley wrote:
>
> > On Fri, 6 Jul 2001, george young wrote:
> >
> > > I have an array of floating-point measurements on a square (5 by 5) 2d grid.
> > > The data are nominally constant, and somewhat noisy.
> > > I need to find any significant spatial trend, e.g. bigger on the
> > > left, bigger in the middle, etc.  I have many thousands of these data sets
> > > that need to be scanned for 'interesting' spatial variations, selecting the
> > > datasets that are beyond some criterion of flatness.
> > >
> > > My thought was to fit a 2'nd order polynomial with least-squares or some
> > > such metric, and scan for coefficients bigger than some cutoff.  I think
> > > a parabolic surface is probably as complex a surface as the small amount of data merits.
> > >
> > > Is there functionality in R that would be appropriate?
> >
> > Trend surfaces in package spatial do that, and I would rather do an anova,
> > which Roger Bivand has kindly contributed.
> >
> > > Is there some other approach anyone would suggest for the general task?
> > > I'm not very experienced in data crunching, so any suggestion would
> > > be appreciated.
> >
> > That's more or less what I would do, the anova bit being the difference.
> >
> Yes, this feels like trend surface, but I'm not sure that it isn't a
> classification problem? Given that there are thousands of replications of
> the 25 grid values, maybe clara() in the cluster package or one of the
> many other classifiers could pull out a much smaller number of classes for
> which the surfaces could be calculated?
>
> Clara wouldn't be using the distance information at all, unfortunately.
> Another cut might be to compute a localised Moran's I_i or the Getis-Ord
> G_i, yielding local measures of spatial autocorrelation for each of the
> grid points and cluster those? This would be especially relevant if the
> process generating the z values at the grid locations is known to exhibit
> positive spatial dependence (values close to each other on the grid
> are more alike than spatially distant values). If there is no spatial
> dependence, trend surface won't help much either!
>
> anova() on the trend surfaces could do this testing against "some
> criterion of flatness", like the 0 order surface,
>
> > x <- 1:5
> > y <- 1:5
> > z <- runif(25)
> > x.g <- expand.grid(x,y)[,1]
> > y.g <- expand.grid(x,y)[,2]
> > anova(surf.ls(0, x.g, y.g, z), surf.ls(2, x.g, y.g, z))
> Analysis of Variance Table
>
> Model 1: surf.ls(np = 0, x = x.g, y = y.g, z = z)
> Model 2: surf.ls(np = 2, x = x.g, y = y.g, z = z)
>   Res.Df Res.Sum Sq Df  Sum Sq F value  Pr(>F)
> 1     24    2.07349
> 2     19    1.28882  5 0.78467  2.3136 0.08421
>
> but maybe if a classifier was trained to distinguish grids using "some
> criterion of flatness", incoming data could be sorted into flat/not flat
> for further exploration. One of the issues I would watch with trend
> surface is the influence of outlying z values, something a classification
> approach might not be affected by to the same extent.

One could do robust fitting (and we do on brain images).  *But* outliers
will correspond to non-flatness here.

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brunels at free.fr  Sun Jul  8 20:07:13 2001
From: brunels at free.fr (brunels@free.fr)
Date: Sun, 08 Jul 2001 20:07:13 +0200 (MEST)
Subject: [R] Interaction with R
Message-ID: <994615633.3b48a1513f16d@imp.free.fr>

Hello eve-R-ybody,

i'd like to know where i can find some documentation about how calling 
foreign programs from a R function and use the results obtained.
I mean, make an other program compute the value of a complex formula and use 
the result as an object in the R function.
I'll be very glad if any of you give me a response.

(Excuse me if you don't understand clearly what i'm saying : english is not my 
mother tongue)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Sun Jul  8 20:35:53 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sun, 8 Jul 2001 11:35:53 -0700 (PDT)
Subject: [R] Interaction with R
In-Reply-To: <994615633.3b48a1513f16d@imp.free.fr>
Message-ID: <Pine.A41.4.33.0107081126290.102450-100000@homer19.u.washington.edu>

On Sun, 8 Jul 2001 brunels at free.fr wrote:

> Hello eve-R-ybody,
>
> i'd like to know where i can find some documentation about how calling
> foreign programs from a R function and use the results obtained.
> I mean, make an other program compute the value of a complex formula and use
> the result as an object in the R function.

It depends on what the other program is and exactly what you want to do.

* Under Windows it may be possible to use the DCOM server (on CRAN in the
Software|"Other" section)

* If the program can read from standard input and write to standard output
you can probably use connections (help(Connections), or see the "Data
Import/Export Manual"

* You can dynamically load compiled C, C++ or Fortran code into R and call
these routines directly.

* If you can get the program to write output to a file you can then read
the file.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From till.baumgaertel at epost.de  Sun Jul  8 22:18:16 2001
From: till.baumgaertel at epost.de (Till Baumgaertel)
Date: Sun, 8 Jul 2001 22:18:16 +0200
Subject: [R] Interaction with R
In-Reply-To: <994615633.3b48a1513f16d@imp.free.fr>
Message-ID: <3B48DC28.27265.B80BD@localhost>

> i'd like to know where i can find some documentation about how calling
> foreign programs from a R function and use the results obtained.
http://cran.r-project.org/doc/manuals/R-exts.pdf

if you want to use java look at
http://www.omegahat.org

cu
till

--
"I have seen things you people wouldn't believe.
Attack-ships  on fire off the shoulder of Orion.
I watched seabeams glitter in the dark near the 
Tannhauser gate.
All  those  moments  will  be lost in time like
tears in rain. Time to die."              (Roy)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lookout_20005 at yahoo.com  Sun Jul  8 22:26:36 2001
From: lookout_20005 at yahoo.com (Patrick Ball)
Date: Sun, 8 Jul 2001 13:26:36 -0700 (PDT)
Subject: [R] Scatter plotting
Message-ID: <20010708202636.26286.qmail@web9305.mail.yahoo.com>

R List:

I have a bunch of very small eps files that I want to
use as plotting symbols. That is, I want to position
them as a scatter plot in an x,y space.  Is it
possible to identify a plotting symbol for each point
in R?

Thanks in advance.




__________________________________________________
Do You Yahoo!?
Get personalized email addresses from Yahoo! Mail
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Sun Jul  8 22:55:47 2001
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Sun, 08 Jul 2001 16:55:47 -0400
Subject: [R] Interaction with R
In-Reply-To: <Pine.A41.4.33.0107081126290.102450-100000@homer19.u.washington.edu>
References: <994615633.3b48a1513f16d@imp.free.fr> <Pine.A41.4.33.0107081126290.102450-100000@homer19.u.washington.edu>
Message-ID: <lvhhktc3ds515hicq3ln7d6vp2j31fq1nf@4ax.com>

On Sun, 8 Jul 2001 11:35:53 -0700 (PDT), Thomas Lumley
<tlumley at u.washington.edu> wrote:

>* You can dynamically load compiled C, C++ or Fortran code into R and call
>these routines directly.

Not just those languages, any language that can be used to produce
shared libraries on the system in question.  In Windows, those are
DLLs, in Linux .so files, etc.  For example, it's very easy to use
Delphi or Kylix to write external code.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Robert.Denham at dnr.qld.gov.au  Mon Jul  9 09:19:35 2001
From: Robert.Denham at dnr.qld.gov.au (Robert.Denham@dnr.qld.gov.au)
Date: Mon, 9 Jul 2001 17:19:35 +1000 
Subject: [R] polynomial regression and poly
Message-ID: <CB3BE9CAB8C8D411AAF800805F65125AA91397@indpllymail.dnr.qld.gov.au>

When doing polynomial regression I believe it is a good idea to use the poly
function to generate orthogonal polynomials.  When doing this in Splus there
is a handy function (transform.poly I think) to convert the coefficients
produced by regression with the poly function back to the original scale.
Has somebody written something similar for R ?  

Robert 


************************************************************************
The information in this e-mail together with any attachments is
intended only for the person or entity to which it is addressed
and may contain confidential and/or privileged material.

Any form of review, disclosure, modification, distribution
and/or publication of this e-mail message is prohibited.  

If you have received this message in error, you are asked to
inform the sender as quickly as possible and delete this message
and any copies of this message from your computer and/or your
computer system network.  
************************************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From holzer at stat.math.ethz.ch  Mon Jul  9 10:12:21 2001
From: holzer at stat.math.ethz.ch (Peter Holzer)
Date: Mon, 9 Jul 2001 10:12:21 +0200
Subject: [R] Inverse function to 'which'?
In-Reply-To: <KKEGJOGBELBHDIKPINBMGEEJCFAA.henrikb@braju.com>
References: <KKEGJOGBELBHDIKPINBMGEEJCFAA.henrikb@braju.com>
Message-ID: <15177.26469.36844.645096@gargle.gargle.HOWL>

Henrik Bengtsson writes:
 > Is there an inverse function to 'which' available, which creates a logical
 > vector/matrix from indices? I wrote my own, but if there is a standard
 > function I would like to use that instead. Example:
 > 
 > x <- c(TRUE, TRUE, FALSE, TRUE, FALSE, FALSE)
 > unwhich(which(x))            # [1] TRUE TRUE FALSE TRUE
 > unwhich(which(x), length(x)) # [1] TRUE TRUE FALSE TRUE FALSE FALSE
 > 
 > y <- matrix(x, nrow=3, ncol=2)
 > unwhich(which(y, arr.ind=TRUE))          # "Minimum" size
 > unwhich(which(y, arr.ind=TRUE), dim(y))  # Same dimensions as y

The following function does what you want:

unwhich <- function (which, dim = max(which)) {
  y <- array(logical(length(which)), dim = dim)
  y[which] <- TRUE
  y
}

Cheers, Peter
 
 > Thanks
 > 
 > Henrik Bengtsson
 > h e n r i k b @ b r a j u . c o m
 > 
 > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
 > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 > Send "info", "help", or "[un]subscribe"
 > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
 > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Mon Jul  9 11:18:58 2001
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Mon, 09 Jul 2001 11:18:58 +0200
Subject: [R] Error plotting time series
Message-ID: <3B497702.339EC758@psy.uni-muenchen.de>

Hi there,

when plotting a time series I got this error message:

Error in xy.coords(x, y, xlabel, ylabel, log) : 
	x and y lengths differ

In addition: Warning messages: 
1: longer object length
	is not a multiple of shorter object length in: vx.1[int.lr] + (-1) *
vx.2[int.rl] 

vx.1[int.rl] and vx.2[int.rl] have the same length. Does anybody know
what the warning message means?

Thanks, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Krzysztof_Kopera/HeadQ at netia.pl  Mon Jul  9 13:21:25 2001
From: Krzysztof_Kopera/HeadQ at netia.pl (Krzysztof Kopera)
Date: Mon, 9 Jul 2001 13:21:25 +0200
Subject: ODP: Re: [R] How to build R-1.3.0 under HP-UX  11.00
Message-ID: <OF5B2236FF.CA1B0C20-ONC1256A84.003D07BB@netia.pl>


Thank you for advice. I my case RPC nedd to be linked with libnsl, so I
used "-lnsl" option to link it, but i have still problem:
/usr/bin/ld: Unsatisfied symbols:
   i_len (code)
   d_sign (code)
collect2: ld returned 1 exit status
Can you suggest something?

Kris



                                                                                                                    
                    Prof Brian                                                                                      
                    Ripley               Do:     Krzysztof Kopera <Krzysztof_Kopera/HeadQ at netia.pl>                 
                    <ripley at stats        DW:     <r-help at hypatia.math.ethz.ch>                                      
                    .ox.ac.uk>           Temat:  Re: [R] How to build R-1.3.0 under HP-UX  11.00                    
                                                                                                                    
                    2001-07-06                                                                                      
                    18:52                                                                                           
                                                                                                                    
                                                                                                                    




The first few errors mean that you don't have xdr support in the libraries
you included. R checks for the headers rpc/rpc.h and rpc/xdr.h so you have
those.

Try man xdr and see if it requires an additional library.


The last two are problems with missing -lf2c.  Configuring with --with-f2c
should include that for you.

I think we need to know exactly what you did.  Perhaps you needed
FLIBS="-L/opt/f2c/lib -lf2c -lm"?


On Fri, 6 Jul 2001, Krzysztof Kopera wrote:

> Hello,
>
> I am new in R and I am delighted with it, so I am trying to bulid R-1.3.0
> from sources under HP-UX 11.00 using f2c and X11 support. Configuration
> phase is OK but using make I have errors:
>
>         gcc -Wl,-E  -o R.bin  CConverters.o  Rdynload.o RNG.o  apply.o
> arithmetic.o array.o attrib.o  bind.o builtin.o  charac
> ter.o coerce.o colors.o complex.o connections.o context.o  cov.o cum.o
> dcf.o datetime.o debug.o devPS.o devPicTeX.o deparse.o
>  deriv.o  devices.o dotcode.o dstruct.o duplicate.o  envir.o errors.o
> eval.o  format.o fourier.o  gram.o gram-ex.o graphics.o
>  internet.o iosupport.o  lapack.o list.o logic.o  main.o match.o memory.o
> model.o  names.o  objects.o optim.o optimize.o optio
> ns.o  par.o paste.o platform.o  plot.o plot3d.o plotmath.o  print.o
> printarray.o printvector.o printutils.o  random.o regex.o
> relop.o  saveload.o scan.o seq.o size.o sort.o source.o split.o
> subassign.o subscript.o subset.o summary.o  unique.o util.o
> version.o vfonts.o xxxpr.o ../unix/libunix.a ../appl/libappl.a
> ../nmath/libnmath.a   -L/opt/f2c/lib/ -lm -ldld -L/usr/local/li
> b  -ltermcap -lm
> /usr/bin/ld: Unsatisfied symbols:
>    xdr_double (code)
>    xdr_string (code)
>    xdrstdio_create (code)
>    xdr_bytes (code)
>    xdr_int (code)
>    i_len (code)
>    d_sign (code)
> collect2: ld returned 1 exit status
> *** Error exit code 1
>
> Do you know what to do? I have set FLIBS = -L/opt/f2c/lib -ln; previously
> FLIBS = /opt/f2c/lib -ln and it is not good.
>
> Best regards
>   Kris
>
> PS. Sorry my english.
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._
>

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Mon Jul  9 14:24:00 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Mon, 9 Jul 2001 14:24:00 +0200 (MET DST)
Subject: [R] For in R ?
In-Reply-To: <15160.32112.432184.126769@galadriel.ci.tuwien.ac.at>
Message-ID: <Pine.OSF.3.96.1010709142145.2609D-100000@ija.csic.es>


Hi!

Is there a function like the Splus For (not for)
in R or is it just that such a function is not
needed in R because of its enhanced loop
performance?

Thanks

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Mon Jul  9 10:14:04 2001
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 09 Jul 2001 09:14:04 +0100
Subject: [R] For in R ?
References: <Pine.OSF.3.96.1010709142145.2609D-100000@ija.csic.es>
Message-ID: <3B4967CC.974635C4@bank-banque-canada.ca>

>Is there a function like the Splus For (not for)
>in R or is it just that such a function is not
>needed in R because of its enhanced loop
>performance?

It's not needed.

Paul Gilbert


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Mon Jul  9 15:26:10 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Mon, 9 Jul 2001 15:26:10 +0200 (MET DST)
Subject: [R] For in R ?
In-Reply-To: <3B4967CC.974635C4@bank-banque-canada.ca>
Message-ID: <Pine.OSF.3.96.1010709152106.2609G-100000@ija.csic.es>

On Mon, 9 Jul 2001, Paul Gilbert wrote:

> >Is there a function like the Splus For (not for)
> >in R or is it just that such a function is not
> >needed in R because of its enhanced loop
> >performance?
> 
> It's not needed.

Great, it was often a source
of messy problems.
Thanks

Agus



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Mon Jul  9 15:50:16 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Mon, 9 Jul 2001 15:50:16 +0200 (MET DST)
Subject: [R] C code and R
In-Reply-To: <3B4967CC.974635C4@bank-banque-canada.ca>
Message-ID: <Pine.OSF.3.96.1010709154519.2609J-100000@ija.csic.es>


A couple of questions on calling C programs
from R functions:

1. Is there any other guide on this matter in addition to
Writing R Extensions ?

2. Writing R Extensions starts dealing with C programs
assuming that those have already been compiled:
"Interface functions .C and .Fortran

These two functions provide a standard interface to compiled code that has
been linked into R,... "

Are there any constraints that should be considered 
at compiling a function that is intended to be called by R?

Splus (unix v 3.x) used to have an script 
(Splus COMPILE) to make sure that the compilation was done
with the proper flags. Is there an equivalent R COMPILE 
script?

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jul  9 16:02:50 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Jul 2001 16:02:50 +0200
Subject: [R] Error plotting time series
In-Reply-To: Sven Garbade's message of "Mon, 09 Jul 2001 11:18:58 +0200"
References: <3B497702.339EC758@psy.uni-muenchen.de>
Message-ID: <x2elrqci9h.fsf@blueberry.kubism.ku.dk>

Sven Garbade <garbade at psy.uni-muenchen.de> writes:

> Hi there,
> 
> when plotting a time series I got this error message:
> 
> Error in xy.coords(x, y, xlabel, ylabel, log) : 
> 	x and y lengths differ
> 
> In addition: Warning messages: 
> 1: longer object length
> 	is not a multiple of shorter object length in: vx.1[int.lr] + (-1) *
> vx.2[int.rl] 
> 
> vx.1[int.rl] and vx.2[int.rl] have the same length. Does anybody know
> what the warning message means?
> 
> Thanks, Sven

That you typed vx.1[int.lr] instead of vx.1[int.rl], perhaps?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Mon Jul  9 16:14:41 2001
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Mon, 09 Jul 2001 16:14:41 +0200
Subject: [R] Error plotting time series
References: <3B497702.339EC758@psy.uni-muenchen.de> <x2elrqci9h.fsf@blueberry.kubism.ku.dk>
Message-ID: <3B49BC51.D0224924@psy.uni-muenchen.de>

Peter Dalgaard BSA wrote:
> 
> Sven Garbade <garbade at psy.uni-muenchen.de> writes:
> 
> > Hi there,
> >
> > when plotting a time series I got this error message:
> >
> > Error in xy.coords(x, y, xlabel, ylabel, log) :
> >       x and y lengths differ
> >
> > In addition: Warning messages:
> > 1: longer object length
> >       is not a multiple of shorter object length in: vx.1[int.lr] + (-1) *
> > vx.2[int.rl]
> >
> > vx.1[int.rl] and vx.2[int.rl] have the same length. Does anybody know
> > what the warning message means?
> >
> > Thanks, Sven
> 
> That you typed vx.1[int.lr] instead of vx.1[int.rl], perhaps?

Oh sorry, the mail is wrong, it must be vx.1[int.rl] and vx.2[int.lr].
Both vectors have the same length. I've evaluated this by 

 return(length(vx.1[int.lr]), length(vx.2[int.rl]))

(all vectors have the same length) before the plotting command.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at lagonda.wsl.ch  Mon Jul  9 16:34:09 2001
From: christian.hoffmann at lagonda.wsl.ch (Christian Hoffmann)
Date: Mon, 09 Jul 2001 16:34:09 +0200
Subject: [R] stepAIC
Message-ID: <3.0.6.32.20010709163409.00982700@mail.wsl.ch>

I am running R-1.2.3 on Unix:

 >uname -a
SunOS fluke 5.7 Generic_106541-12 sun4d sparc SUNW,SPARCserver-1000

Inside a function I want to call stepAIC:

regrbest <- function(x,y,ind,wt=NULL,warni=FALSE,plo=VIEW)
{  ## Determine the best regression with one variable ( -> reg1),
   ##  and the best regression according to AIC ( -> regopt) using stepwise
regression
   ##  on  y ~ x[,ind] with weights wt
  form <- as.formula(paste(y,paste(ind, collapse = "+"), sep =
"~"),env=parent.frame())
  if (!missing(wt)) {
    lm1 <-
lm(form,data=eval.parent(x,2),weights=eval.parent(wt,2),na.action=na.omit) 
    stw <- stepAIC(lm1,direction="forward",trace=3, k=2)
......

Problem:
Although  the linear model is built with data (evaluated at the top level
?!?), stepAIC gets stuck:

Error in terms.formula(formula, data = data) : 
	Object "x" not found
> traceback()
9: terms.formula(formula, data = data)
8: terms(formula, data = data)
7: lm(formula = vr3c1 ~ vr91 + vr92 + vr18c1 + vr18c2 + vr191 + 
       vr192 + vr193 + vr211 + vr212 + vr221 + vr222 + vr223 + vr231 + 
       vr232 + F26REG.J + F27SEX + F28ALTER + F31PERS + vr361 + 
       vr362 + F37A + Urban + F6WISSEN + F7B1 + F7B2 + F7B3 + F7B4 + 
       F7B5 + F29CH + F30SCHUL + F33HUND + F35GART, data = x, na.action =
na.omit)
6: eval(expr, envir, enclos)
5: eval(call, parent.frame())
4: update.default(fit, paste("~ .", change))
3: update(fit, paste("~ .", change))
2: stepAIC(lm1, direction = "forward", trace = 2, k = 2)
1: regrbest(Una, "vr3c1", ind.9P6)

The stumbling block is in 5:
update.default does not eval(call..) in the correct top level frame.

Question:
Models within functions seem to be very delicate. What can be done to
remedy the situation?
Define update.default locally with the correct eval.parent(call,2) ???

Thanks for help.

-christian
Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: christian.hoffmann_at_wsl.ch__prevent_spamming
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vele.samak at ssmb.com  Mon Jul  9 16:51:04 2001
From: vele.samak at ssmb.com (Samak, Vele [EQRE])
Date: Mon, 9 Jul 2001 10:51:04 -0400 
Subject: [R] problem loading saved image
Message-ID: <DF8D233E4341D411A7AD0008C7E6348205899017@exchny07.ny.ssmb.com>

I had an open session working in R and I regularly save the image with
save.image(). However, after a period of inactivity of a few days. I quit
the session. Now, when I try to restart R and load the same image I get the
following result:

> load("y:/grm/sdata/.rdata1")
Error in load("y:/grm/sdata/.rdata1") : an xdr real data read error occured

Can someone explain the cause of this? I hope this is not the end of it
because it would set me back quite a while in recreating the objects. The
image file is about 25MB. I'm using R 1.2.2. Help is appreciated. Thanks,

-- 
Vele Samak, Vice President
Global Quantitative Research
Salomon Smith Barney 
7 WTC, New York, NY 10048, 212-783-7007
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Krzysztof_Kopera/HeadQ at netia.pl  Mon Jul  9 16:08:17 2001
From: Krzysztof_Kopera/HeadQ at netia.pl (Krzysztof Kopera)
Date: Mon, 9 Jul 2001 16:08:17 +0200
Subject: [R] How to build R-1.3.0 under HP-UX  11.00
Message-ID: <OF8EAB7863.D7FAD9F7-ONC1256A84.004CD7EE@netia.pl>


Sorry, but my mail program add "ODP" instead "Re" to subject of my previous
letter.
My last problem is solved but I have new, serious problem with making
internet module (under src/modules/internet), below is output after "make":

        gcc -shared -fPIC  -o internet.sl  Rsock.o internet.o nanoftp.o
nanohttp.o sock.o sockconn.o
/usr/bin/ld: DP relative code in file Rsock.o - shared library must be
position
    independent.  Use +z or +Z to recompile.
collect2: ld returned 1 exit status

Can you help me? Maybe anyone have experience in building R under HP-UX
11.00 or other HP-UX.

Kris



                                                                                                                    
                    Prof Brian                                                                                      
                    Ripley               Do:     Krzysztof Kopera <Krzysztof_Kopera/HeadQ at netia.pl>                 
                    <ripley at stats        DW:     <r-help at hypatia.math.ethz.ch>                                      
                    .ox.ac.uk>           Temat:  Re: [R] How to build R-1.3.0 under HP-UX  11.00                    
                                                                                                                    
                    2001-07-06                                                                                      
                    18:52                                                                                           
                                                                                                                    
                                                                                                                    




The first few errors mean that you don't have xdr support in the libraries
you included. R checks for the headers rpc/rpc.h and rpc/xdr.h so you have
those.

Try man xdr and see if it requires an additional library.


The last two are problems with missing -lf2c.  Configuring with --with-f2c
should include that for you.

I think we need to know exactly what you did.  Perhaps you needed
FLIBS="-L/opt/f2c/lib -lf2c -lm"?


On Fri, 6 Jul 2001, Krzysztof Kopera wrote:

> Hello,
>
> I am new in R and I am delighted with it, so I am trying to bulid R-1.3.0
> from sources under HP-UX 11.00 using f2c and X11 support. Configuration
> phase is OK but using make I have errors:
>
>         gcc -Wl,-E  -o R.bin  CConverters.o  Rdynload.o RNG.o  apply.o
> arithmetic.o array.o attrib.o  bind.o builtin.o  charac
> ter.o coerce.o colors.o complex.o connections.o context.o  cov.o cum.o
> dcf.o datetime.o debug.o devPS.o devPicTeX.o deparse.o
>  deriv.o  devices.o dotcode.o dstruct.o duplicate.o  envir.o errors.o
> eval.o  format.o fourier.o  gram.o gram-ex.o graphics.o
>  internet.o iosupport.o  lapack.o list.o logic.o  main.o match.o memory.o
> model.o  names.o  objects.o optim.o optimize.o optio
> ns.o  par.o paste.o platform.o  plot.o plot3d.o plotmath.o  print.o
> printarray.o printvector.o printutils.o  random.o regex.o
> relop.o  saveload.o scan.o seq.o size.o sort.o source.o split.o
> subassign.o subscript.o subset.o summary.o  unique.o util.o
> version.o vfonts.o xxxpr.o ../unix/libunix.a ../appl/libappl.a
> ../nmath/libnmath.a   -L/opt/f2c/lib/ -lm -ldld -L/usr/local/li
> b  -ltermcap -lm
> /usr/bin/ld: Unsatisfied symbols:
>    xdr_double (code)
>    xdr_string (code)
>    xdrstdio_create (code)
>    xdr_bytes (code)
>    xdr_int (code)
>    i_len (code)
>    d_sign (code)
> collect2: ld returned 1 exit status
> *** Error exit code 1
>
> Do you know what to do? I have set FLIBS = -L/opt/f2c/lib -ln; previously
> FLIBS = /opt/f2c/lib -ln and it is not good.
>
> Best regards
>   Kris
>
> PS. Sorry my english.
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._
>

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Mon Jul  9 17:17:50 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 09 Jul 2001 11:17:50 -0400
Subject: [R] C code and R
In-Reply-To: <Pine.OSF.3.96.1010709154519.2609J-100000@ija.csic.es>
References: <3B4967CC.974635C4@bank-banque-canada.ca> <Pine.OSF.3.96.1010709154519.2609J-100000@ija.csic.es>
Message-ID: <p0ijkt4pbtp440hbd6h5u830b0enqsp06u@4ax.com>

On Mon, 9 Jul 2001 15:50:16 +0200 (MET DST), you wrote in message
<Pine.OSF.3.96.1010709154519.2609J-100000 at ija.csic.es>:

>
>A couple of questions on calling C programs
>from R functions:
>
>1. Is there any other guide on this matter in addition to
>Writing R Extensions ?

I don't think there is anything written as a guide, but the source to
lots of packages is available on http://cran.r-project.org.  I'd
suggest getting a copy of a small one of those (e.g. Rstreams has C
source, you'll have to look yourself for a small one with Fortran
source), and just modify all the files to suit your needs.  If you put
the files in 

  ${RHOME}/src/library/yourpackage

and have all the recommended tools and paths set up properly, then

  make pkg-yourpackage

will compile and install the package, so that

  library(yourpackage)

will work in R.

You don't need to put it in a package (you can just compile and link
and use dyn.load() instead of library), but packages are very
convenient because of all the support in the makefiles.  I imagine the
makefiles have targets defined for doing this, but I don't think they
are documented anywhere other than in the makefiles themselves, and
those are pretty complicated.


Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Jul  9 17:21:42 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 9 Jul 2001 08:21:42 -0700 (PDT)
Subject: [R] C code and R
In-Reply-To: <Pine.OSF.3.96.1010709154519.2609J-100000@ija.csic.es>
Message-ID: <Pine.A41.4.33.0107090813220.38150-100000@homer28.u.washington.edu>

On Mon, 9 Jul 2001, Agustin Lobo wrote:

>
> A couple of questions on calling C programs
> from R functions:
>
> 1. Is there any other guide on this matter in addition to
> Writing R Extensions ?

Not specifically on R. You may find the book "S Programming" by Venables &
Ripley useful.

> 2. Writing R Extensions starts dealing with C programs
> assuming that those have already been compiled:
> "Interface functions .C and .Fortran
>
> These two functions provide a standard interface to compiled code that has
> been linked into R,... "
>
> Are there any constraints that should be considered
> at compiling a function that is intended to be called by R?

Not really, if .C is being used to call it. It is a good idea to use R's
facilities if you want to print to the screen from C code, and it may well
help to use R's memory management (eg Calloc or R_alloc) rather than
managing memory yourself, but these are optional.

While you need to learn more initially it is often more effective to use
the .Call() interface unless you need portability between S and R (and
sometimes even then).

> Splus (unix v 3.x) used to have an script
> (Splus COMPILE) to make sure that the compilation was done
> with the proper flags. Is there an equivalent R COMPILE
> script?

Section 4.4 of "Writing R Extensions" describes how you do this.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Socspace at aol.com  Mon Jul  9 17:29:44 2001
From: Socspace at aol.com (Socspace@aol.com)
Date: Mon, 9 Jul 2001 11:29:44 EDT
Subject: [R] EGNSU [Egregiously Non Savvy Users]
Message-ID: <6.191fa376.287b27e8@aol.com>

Esteemed help person:

Posted to edstat asking about freeware for manipulaling matrices.
Basically transposing rows and columns) Was referred to your site 
which is truely magnificent (and I *mean* that) for persons more computer
savvy than me, myself and I..

Would be eternally grateful if you would be gracious enough to inform us
of a relevant --- and relatively easy to use -- program, as well as how to
download it.

Hate to be  nuisances, but we are truely frustrated

Harley Upchurch
Socspace at aol.com


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010709/b02ac2da/attachment.html

From laurent at cbs.dtu.dk  Mon Jul  9 17:46:41 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Mon, 09 Jul 2001 17:46:41 +0200
Subject: [R] memory blues
References: <3.0.5.32.20010510122218.00944c40@bute.st-and.ac.uk>
Message-ID: <3B49D1E1.73DC8F3D@cbs.dtu.dk>

Dear all,



I would like to know if the following behaviour is what one would expect ?
(I am running R-1.2.3 (I know I'd better upgrade) under Linux).

It seems a data.frame with only one column becomes a special case.... and
I cannot figure out why (I'd see no problem in being told to rtfm, I could not
find
anything about that in the help pages)


> a  <- data.frame(c(1:3),row.names=c("c","a","b"))
> a
  c.1.3.
c      1
a      2
b      3
> a[order(row.names(a)),]
[1] 2 3 1


...kinda odd, especially since the following give what I'd expect....


> a  <- data.frame(cbind(c(1:3),c(3:5)),row.names=c("c","a","b"))
> a
  X1 X2
c  1  3
a  2  4
b  3  5
> a[order(row.names(a)),]
  X1 X2
a  2  4
b  3  5
c  1  3



Cheers,


Laurent


--
Laurent Gautier                 CBS, Building 208, DTU
PhD. Student                    D-2800 Lyngby,Denmark
tel: +45 45 25 24 85            http://www.cbs.dtu.dk/laurent


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010709/8e9f5616/attachment.html

From tlumley at u.washington.edu  Mon Jul  9 18:08:28 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 9 Jul 2001 09:08:28 -0700 (PDT)
Subject: [R] memory blues
In-Reply-To: <3B49D1E1.73DC8F3D@cbs.dtu.dk>
Message-ID: <Pine.A41.4.33.0107090854520.38150-100000@homer28.u.washington.edu>

On Mon, 9 Jul 2001, Laurent Gautier wrote:

> It seems a data.frame with only one column becomes a special case.... and
> I cannot figure out why (I'd see no problem in being told to rtfm, I could not
> find
> anything about that in the help pages)


data.frame() ideally makes up names from the tags of the arguments, eg
> data.frame(a=1:5,b=rnorm(5))
  a          b
1 1 -2.0499827
2 2 -0.4364342
3 3  0.5880059
4 4 -0.7636817
5 5 -1.3021187

If the arguments don't have tags it converts the expressions into names,
so in this example data.frame tried to convert 1:5, rnorm(5) and
rep(1,5) into valid names.

>  data.frame(1:5,rnorm(5),rep(1,5))
  X1.5   rnorm.5. rep.1..5.
1    1 -0.5282023         1
2    2  0.6964649         1
3    3  1.1548943         1
4    4  1.3833800         1
5    5 -0.1553645         1


This approach isn't sufficient when one of the arguments to data.frame has
multiple columns. Ideally the column names of the matrix are used but if
one of the arguments is a matrix that itself has no column names then
data.frame falls back on the unimaginative "X1","X2"..

The moral of the story is that you can make up better names than
data.frame can.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Atkinson at cdsc.nthames.nhs.uk  Mon Jul  9 18:24:23 2001
From: P.Atkinson at cdsc.nthames.nhs.uk (Phil)
Date: Mon, 9 Jul 2001 17:24:23 +0100 
Subject: [R] Log likelihood from glm
Message-ID: <24A8B549739BD311AAF2009027D6373D198B49@SERVER>


Is there any way of getting log likelihood values for each iteration from
poisson glm model?

Many thanks..

Phil.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Jul  9 18:34:53 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 9 Jul 2001 09:34:53 -0700 (PDT)
Subject: [R] Log likelihood from glm
In-Reply-To: <24A8B549739BD311AAF2009027D6373D198B49@SERVER>
Message-ID: <Pine.A41.4.33.0107090932410.38150-100000@homer28.u.washington.edu>

On Mon, 9 Jul 2001, Phil wrote:

>
> Is there any way of getting log likelihood values for each iteration from
> poisson glm model?
>

 Yes, the trace=TRUE option.

This doesn't seem to be documented properly, though it is in the "Usage"
section of help(glm)

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tebaldi at rap.ucar.edu  Mon Jul  9 20:45:04 2001
From: tebaldi at rap.ucar.edu (Claudia Tebaldi)
Date: Mon, 9 Jul 2001 12:45:04 -0600 (MDT)
Subject: [R] memory blues
In-Reply-To: <3B49D1E1.73DC8F3D@cbs.dtu.dk>
Message-ID: <Pine.GSO.4.05.10107091237130.24307-100000@virga.rap.ucar.edu>

On Mon, 9 Jul 2001, Laurent Gautier wrote:

> Dear all,
> 
> 
> 
> I would like to know if the following behaviour is what one would expect ?
> (I am running R-1.2.3 (I know I'd better upgrade) under Linux).
> 
> It seems a data.frame with only one column becomes a special case.... and
> I cannot figure out why (I'd see no problem in being told to rtfm, I could not
> find
> anything about that in the help pages)
> 
> 
> > a  <- data.frame(c(1:3),row.names=c("c","a","b"))
> > a
>   c.1.3.
> c      1
> a      2
> b      3
> > a[order(row.names(a)),]
> [1] 2 3 1
> 
> 
> ...kinda odd, especially since the following give what I'd expect....
> 
> 
> > a  <- data.frame(cbind(c(1:3),c(3:5)),row.names=c("c","a","b"))
> > a
>   X1 X2
> c  1  3
> a  2  4
> b  3  5
> > a[order(row.names(a)),]
>   X1 X2
> a  2  4
> b  3  5
> c  1  3
> 
> 
> 
> Cheers,
> 
> 
> Laurent
> 
> 
> --
> Laurent Gautier                 CBS, Building 208, DTU
> PhD. Student                    D-2800 Lyngby,Denmark
> tel: +45 45 25 24 85            http://www.cbs.dtu.dk/laurent
> 
> 
> 

Are you puzzled by the naming of the columns or by the loss of dimensions?
For the first you already got an explanation, but in case you are
wondering how to keep a single column of a data.frame  in the same
"ontological" category:



a[order(row.names(a)),,drop=F]  


maintains the subscripted a (assuming it is your first object, the data
frame with one column) in the data.frame class.

If you knew all this I apologize for the unwanted/unneeded lesson. 




 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From trafton at itd.nrl.navy.mil  Mon Jul  9 21:57:41 2001
From: trafton at itd.nrl.navy.mil (Greg Trafton)
Date: Mon, 9 Jul 2001 15:57:41 -0400
Subject: [R] transitions in R
Message-ID: <15178.3253.53696.310509@viz.itd.nrl.navy.mil>

Hi, All.  I'd have a set of data in an array:

process <- c( 5 , 7 , 4 , 1 , 4 , 1 , 4 , 1 , 4 , 4 , 1 , 5 , 4 , ...)

and I'd like to know the number of transitions in this data.  I
calculate transitions as the number of times a number follows another
number.  thus, something like this would be a 1 deep transition:

1 --> 1 : 10% (and actual number of 1 --> 1 occurrences)
1 --> 2 : 2%
1 --> 3 : 23%
...
2 --> 1 : 2%
2 --> 2 : 8%
(etc.)

of course, you can have 2 or 3 or n deep transitions, but I'm really
only interested in 1 and 2 (and maybe 3) deep transitions.

what is the best way of calculating this info in R?

thanks!
greg
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Jul  9 22:07:44 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 9 Jul 2001 13:07:44 -0700 (PDT)
Subject: [R] transitions in R
In-Reply-To: <15178.3253.53696.310509@viz.itd.nrl.navy.mil>
Message-ID: <Pine.A41.4.33.0107091304570.38150-100000@homer28.u.washington.edu>

On Mon, 9 Jul 2001, Greg Trafton wrote:

> Hi, All.  I'd have a set of data in an array:
>
> process <- c( 5 , 7 , 4 , 1 , 4 , 1 , 4 , 1 , 4 , 4 , 1 , 5 , 4 , ...)
>
> and I'd like to know the number of transitions in this data.  I
> calculate transitions as the number of times a number follows another
> number.  thus, something like this would be a 1 deep transition:
>
> 1 --> 1 : 10% (and actual number of 1 --> 1 occurrences)
> 1 --> 2 : 2%
> 1 --> 3 : 23%
> ...
> 2 --> 1 : 2%
> 2 --> 2 : 8%
> (etc.)
>
> of course, you can have 2 or 3 or n deep transitions, but I'm really
> only interested in 1 and 2 (and maybe 3) deep transitions.
>
> what is the best way of calculating this info in R?
>

One way is to just tabulate the process against an offset of itself

> process <- c( 5 , 7 , 4 , 1 , 4 , 1 , 4 , 1 , 4 , 4 , 1 , 5 , 4 )
> n<-length(process)
> table(process[-1],process[-n])

    1 4 5 7
  1 0 4 0 0
  4 3 1 1 1
  5 1 0 0 0
  7 0 0 1 0

Or if you now want to divide each column by its sum and get %ages

> tt<-table(process[-1],process[-n])
> sweep(tt,2,apply(tt,2,sum),"/")*100

     1  4  5   7
  1  0 80  0   0
  4 75 20 50 100
  5 25  0  0   0
  7  0  0 50   0


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Mon Jul  9 23:01:39 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Mon, 9 Jul 2001 17:01:39 -0400 (EDT)
Subject: [R] transitions in R
Message-ID: <200107092101.RAA11382@cattell.psych.upenn.edu>

>From owner-r-help at stat.math.ethz.ch  Mon Jul  9 16:43:54 2001
>Received: from stat.math.ethz.ch (majordom at hypatia.ethz.ch [129.132.58.23])
>	by cattell.psych.upenn.edu (8.9.1/8.9.1/SAS.05) with ESMTP id QAA10528
>	for <baron at cattell.psych.upenn.edu>; Mon, 9 Jul 2001 16:43:54 -0400 (EDT)
>Received: by stat.math.ethz.ch (8.9.1/8.9.1) id VAA22595
>	for r-help-gang-use; Mon, 9 Jul 2001 21:58:06 +0200 (MET DST)
>Received: (from daemon at localhost)
>	by stat.math.ethz.ch (8.9.1/8.9.1) id VAA22574
>	for <r-help at hypatia.math.ethz.ch>; Mon, 9 Jul 2001 21:57:58 +0200 (MET DST)
>Received: from viz.itd.nrl.navy.mil(132.250.80.179)
> via SMTP by hypatia, id smtpdAAAa005WR; Mon Jul  9 21:57:48 2001
>Received: (from trafton at localhost)
>	by viz.itd.nrl.navy.mil (8.11.2/8.11.2) id f69Jvfq17493;
>	Mon, 9 Jul 2001 15:57:41 -0400
>From: Greg Trafton <trafton at itd.nrl.navy.mil>
>MIME-Version: 1.0
>Content-Type: text/plain; charset=us-ascii
>Content-Transfer-Encoding: 7bit
>Message-ID: <15178.3253.53696.310509 at viz.itd.nrl.navy.mil>
>Date: Mon, 9 Jul 2001 15:57:41 -0400
>To: r-help at stat.math.ethz.ch
>Subject: [R] transitions in R
>X-Mailer: VM 6.89 under 21.1 (patch 14) "Cuyahoga Valley" XEmacs Lucid
>Sender: owner-r-help at stat.math.ethz.ch
>Precedence: SfS-bulk
>Status: R
>Content-Length: 985
>
>Hi, All.  I'd have a set of data in an array:
>
>process <- c( 5 , 7 , 4 , 1 , 4 , 1 , 4 , 1 , 4 , 4 , 1 , 5 , 4 , ...)
>
>and I'd like to know the number of transitions in this data.  I
>calculate transitions as the number of times a number follows another
>number.  thus, something like this would be a 1 deep transition:
>
>1 --> 1 : 10% (and actual number of 1 --> 1 occurrences)
>1 --> 2 : 2%
>1 --> 3 : 23%
>...
>2 --> 1 : 2%
>2 --> 2 : 8%
>(etc.)
>
>of course, you can have 2 or 3 or n deep transitions, but I'm really
>only interested in 1 and 2 (and maybe 3) deep transitions.
>
>what is the best way of calculating this info in R?

For the one-deep try
plength <- length(process)
table(process[1:(plength-1)],process[2:plength])

To get proportions,
table(process[1:(plength-1)],process[2:plength])/(plength-1)

Multiply by 100 to get percent, and use round() if needed.

I think you can extend this to more depth and get bigger tables.

Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Tue Jul 10 00:48:08 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Tue, 10 Jul 2001 00:48:08 +0200
Subject: [R] transitions in R
In-Reply-To: <15178.3253.53696.310509@viz.itd.nrl.navy.mil>
Message-ID: <MABBLJDICACNFOLGIHJOIEGGCEAA.phgrosje@ulb.ac.be>

>Hi, All.  I'd have a set of data in an array:

>process <- c( 5 , 7 , 4 , 1 , 4 , 1 , 4 , 1 , 4 , 4 , 1 , 5 , 4 , ...)

>and I'd like to know the number of transitions in this data.  I
>calculate transitions as the number of times a number follows another
>number.  thus, something like this would be a 1 deep transition:

>1 --> 1 : 10% (and actual number of 1 --> 1 occurrences)
>1 --> 2 : 2%
>1 --> 3 : 23%
>...
>2 --> 1 : 2%
>2 --> 2 : 8%
>(etc.)

>of course, you can have 2 or 3 or n deep transitions, but I'm really
>only interested in 1 and 2 (and maybe 3) deep transitions.

>what is the best way of calculating this info in R?

>thanks!
>greg

transitions <- function(vect, t1, t2) {
  # vect is the vector to test
  # t1 is the vector of all initial states of the transitions
  # t2 is the vector of all final states of the transitions
  n <- length(vect)
  nt <- length(t1)   # rem: t2 must be same length, not tested here
  v <- rep(vect, nt)
  dim(v) <- c(n, nt)
  v <- t(v)
  tests <- (v[, 1:(n-1)]==t1 & v[, 2:n]==t2)
  res <- apply(tests, 1, "sum", na.rm=T)
  res
}

> p <- c(1,2,3,2,1,1,2,1,3)
> transitions(p, c(1,1,1,2,2,2), c(1,2,3,1,2,3))
[1] 1 2 1 2 0 1


...........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( ( 
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1" 
( ( ( ( (                                  L. Gonick & W. Smith (1993) 
 ) ) ) ) )
.......................................................................
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at CMIS.CSIRO.AU  Tue Jul 10 01:43:09 2001
From: Bill.Venables at CMIS.CSIRO.AU (Venables, Bill (CMIS, Cleveland))
Date: Tue, 10 Jul 2001 09:43:09 +1000
Subject: [R] polynomial regression and poly
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A99D3F@Roper-CV.qld.cmis.csiro.au>



>  -----Original Message-----
> From: 	Robert.Denham at dnr.qld.gov.au
[mailto:Robert.Denham at dnr.qld.gov.au] 
> Sent:	Monday, 9 July 2001 5:20 PM
> To:	r-help at hypatia.math.ethz.ch
> Subject:	[R] polynomial regression and poly
> 
> When doing polynomial regression I believe it is a good idea to use the
poly
> function to generate orthogonal polynomials.  When doing this in Splus
there
> is a handy function (transform.poly I think) to convert the coefficients
> produced by regression with the poly function back to the original scale.
> Has somebody written something similar for R ?  
> 
> Robert 

Couple of fastidious little points.

If there is such a thing in S-PLUS, I am not aware of it.  What is available
is the ability to evaluate the same polynomials at different x-values.
(See, for examle, poly.raw .)

Also it is not completely clear what you mean by "back to the original
scale".  I presume this means "back to the standard power basis".  The only
facility I am aware of that will do this is the polynom library, but can be
a considerable investment in time to learn how to use it.  There is a fairly
good payoff, though, if you are going to be fiddling with univariate
polynomials like this at all often.

Bill Venables
--
Bill Venables, CMIS
CSIRO Marine Laboratories, PO Box 120, Cleveland, Qld. 4163
Phone: +61 7 3826 7251  Fax: +61 7 3826 7304
Email: Bill.Venables at cmis.csiro.au  http://www.cmis.csiro.au/bill.venables/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MaiSanChan at fairisaac.com  Tue Jul 10 01:53:24 2001
From: MaiSanChan at fairisaac.com (MaiSan Chan)
Date: Mon, 9 Jul 2001 16:53:24 -0700 
Subject: [R] Please help..build from source: sh.exe command not found
Message-ID: <01D621AD0F25D4119B57009027DE70C60458E30A@srfmsg02>

Hi all,

Can any of you veteran R and Windows users help me fix the make error that
says /bin/sh: command not found?  I have sh.exe and the other tools in
C:/bin, and have C:/bin in my path.

Thanks!
Mai-San
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Tue Jul 10 04:38:26 2001
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Tue, 10 Jul 2001 12:38:26 +1000 (EST)
Subject: [R] Using R for Data Analysis & Graphics: update
Message-ID: <200107100238.MAA01480@leonard.anu.edu.au>

There is now an updated version of
"Using R for Data Analysis & Graphics" on CRAN,
under Documentation | Contributed.

Data sets and scripts are available from my web page,
to which there is a link on the relevant CRAN page.
John Maindonald            email: john.maindonald at anu.edu.au        
phone : (6125)3473         fax   : (6125)5549 
Statistical Consulting Unit, Room 1194,
John Dedman Mathematical Sciences Building
(Centre for Mathematics & Its Applications.)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Jul 10 05:53:07 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 09 Jul 2001 22:53:07 -0500
Subject: [R] watch out for quotes in data files
Message-ID: <6r66d1jv8c.fsf@franz.stat.wisc.edu>

I have just spent a day trying to determine why I seemed to be unable
to read a file of microarray expression results into R properly.  The
file was produced by the Dchip software developed by Li and Wong at
Harvard's Department of Biostatistics.  It contains rows of
tab-delimited fields in the order

Probe set identifier
Probe set description
Array 1 expression
Array 1 call
Array 2 expression
Array 2 call
...

plus an extra tab (which I think is due to a programming glich).

There are 7130 rows, including the column headers, for results from
Affymetrix Hu6800 chips. 

When I read this file using read.table(filename, sep = "\t", head = TRUE)
I got only 3720 rows.  Furthermore count.fields(filename, sep = "\t")
gave a result of length 7130 but several of the rows were reported as
having only two fields instead of 15 like the other rows.

It seemed to me that the important characteristic of these rows was
their having a very long "Probe set description" and I wasted quite a
bit of time looking for possible buffer overflows that might be
triggered by this.

When I finally came to my senses and created a much smaller input file
that only contained a few rows, including one that was giving an
aberrant field count, I could directly examine the results of scan()
applied to it.  I noticed that the second field for the aberrant line
contained all the subsequent lines and then I saw that its description
included "5'" (as in the 5' end of the sequence versus the 3' end).
Other descriptions had this written as "5 prime" but this one used
"5'".  What was happening was that everything from there to the next
"'" character in the file was being included as part of that
description.

I could read the file properly by adding the optional argument quote =
"" to the call to read.table.

The moral of the story is to watch out for molecular biologists who
use unpaired quote characters in their descriptions.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Tue Jul 10 08:44:02 2001
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Tue, 10 Jul 2001 08:44:02 +0200
Subject: [R] Please help..build from source: sh.exe command not found
Message-ID: <OF87B36B2D.7854958D-ONC1256A85.00244CDE@eurotel.cz>



Hi,

You probably call /bin/sh from script or have at the very first line
something like
#! /bin/sh (a Unix convention)

Try to change  "/bin/sh" to "sh" .
For example, on my WinNT with bash being located in cygwin/bin:

C:> bin/bash
gives
..Not recognized as an ... command, (as expected)

while
C:>bash
launches the bash (as expected).
designed for _monospaced_ font

Jan
-------------------------------------------------
-------------------------------------------------
/- Jan Svatos,              Sokolovska 855/225 -/
/- Data Analyst,            Prague 9           -/
/- Eurotel Praha            190 00             -/
/- jan_svatos at eurotel.cz    Czechia            -/
-------------------------------------------------










Hi all,

Can any of you veteran R and Windows users help me fix the make error that
says /bin/sh: command not found?  I have sh.exe and the other tools in
C:/bin, and have C:/bin in my path.

Thanks!
Mai-San
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From v.moreno at ico.scs.es  Tue Jul 10 15:24:07 2001
From: v.moreno at ico.scs.es (Victor Moreno)
Date: Tue, 10 Jul 2001 09:24:07 -0400
Subject: [R] anova.coxph
Message-ID: <01071009240703.18768@serc-vm.ico.scs.es>

Whem something is missing in an excellent package as survival, it must have a 
good reason. Could someone explain why there is no anova.coxph to compare 
nested models.

Thank you
-- 
Victor Moreno                                       V.Moreno at ico.scs.es
Servei d'Epidemiologia i Registre del Cancer        http://lbe.uab.es
Institut Catala d'Oncologia                         
Gran Via km 2.7, 08907 Hospitalet, Barcelona, Spain
Tel: + 34 93260 7434 / 7401 / 7812                  fax +34 93260 7787
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From v.moreno at ico.scs.es  Tue Jul 10 15:24:07 2001
From: v.moreno at ico.scs.es (Victor Moreno)
Date: Tue, 10 Jul 2001 09:24:07 -0400
Subject: [R] anova.coxph
Message-ID: <01071009240703.18768@serc-vm.ico.scs.es>

Whem something is missing in an excellent package as survival, it must have a 
good reason. Could someone explain why there is no anova.coxph to compare 
nested models.

Thank you
-- 
Victor Moreno                                       V.Moreno at ico.scs.es
Servei d'Epidemiologia i Registre del Cancer        http://lbe.uab.es
Institut Catala d'Oncologia                         
Gran Via km 2.7, 08907 Hospitalet, Barcelona, Spain
Tel: + 34 93260 7434 / 7401 / 7812                  fax +34 93260 7787
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Tue Jul 10 09:54:05 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Tue, 10 Jul 2001 08:54:05 +0100 (BST)
Subject: [R] EGNSU [Egregiously Non Savvy Users]
In-Reply-To: <6.191fa376.287b27e8@aol.com>
Message-ID: <Pine.LNX.4.10.10107100851040.1745-100000@localhost.localdomain>

- R is intended for people who are willing to learn a non-GUI way of
working. If you want something simple, better keep looking.

- download R from CRAN and install
- start R
- type: help.start()
- your web browser will appear. Click on: search engine & keywords
- click on: array (this shows lots of matrix manipulation stuff)
- click on: t
the example illustrates how to do matrix transpose

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Jul 10 11:14:41 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 10 Jul 2001 11:14:41 +0200 (MET DST)
Subject: [R] Customizing the R environment
In-Reply-To: <Pine.OSF.3.96.1010709142145.2609D-100000@ija.csic.es>
Message-ID: <Pine.OSF.3.96.1010710110251.29669B-100000@paleo.ija.csic.es>


Hi!

As a beginner, I've found hard to find
the information on customizing the R
environment. Finally, I've
found the info in section 10.8
of the R-intro guide. I suggest moving
this info as an individual
section before or after section 
"Invoking R" in the same guide. Also,
the information seems a bit outdated, as it
states that the basic Rprofile file 
would be:
"If that variable (R_PROFILE) is unset, file `Rprofile' in the R home
subdirectory `etc' is used.

At least in my installation (from rpm) R_PROFILE
is unset (even if inquirying from within R) and
the file Rprofile is in the directory /usr/local/lib/R/library/base/R/

There is another file, Renviron
in /usr/local/lib/R/etc, for which there is no
documentation.

Finally, I suggest including the advice of typing
?Rprofile from within R to get some more
information on customizing the R environment.

Regards,

Agus


Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Jul 10 11:20:08 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 10 Jul 2001 11:20:08 +0200 (MET DST)
Subject: [R] Ignore message "Customizing the R environment"
In-Reply-To: <Pine.OSF.3.96.1010710110251.29669B-100000@paleo.ija.csic.es>
Message-ID: <Pine.OSF.3.96.1010710111820.29669C-100000@paleo.ija.csic.es>


Sorry, I just realized that all the
info regarding the R environment is also
in section Invoking R. Please ignore
my previous message

Agus

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dray at biomserv.univ-lyon1.fr  Tue Jul 10 12:28:14 2001
From: dray at biomserv.univ-lyon1.fr (Stephane Dray)
Date: Tue, 10 Jul 2001 12:28:14 +0200
Subject: [R] R.lib and compiling C for Windows
Message-ID: <a05010402b77084f7be52@[134.214.32.69]>

Hello list,
(PC Windows 2000, R 1.2.3)

i want to compile C source file for R on windows 2000. I'm working 
with Metrowerks CodeWarrior for creating and compiling C files. I've 
see that R.lib file must be obtain with R.ddl by Visual C++. I don't 
have Visual C++ (and i don't want to buy it !!) but i want to obtain 
R.lib file. Is there a solution to my problem ???

Any help would be greatly appreciated.
-- 
St?phane DRAY
---------------------------------------------------------------
Biom?trie et Biologie ?volutive - Equipe "?cologie Statistique"
Universite Lyon 1 - Bat 711 - 69622 Villeurbanne CEDEX - France

Tel : 04 72 43 27 56			   Fax : 04 78 89 27 19
       04 72 43 27 57 	   E-mail : dray at biomserv.univ-lyon1.fr 
---------------------------------------------------------------
ADE-4               http://pbil.univ-lyon1.fr/ADE-4/ADE-4F.html
---------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Jul 10 12:57:00 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 10 Jul 2001 12:57:00 +0200 (MET DST)
Subject: [R] R crash:segmentation fault,core dump: all lost?
In-Reply-To: <Pine.A41.4.33.0107090813220.38150-100000@homer28.u.washington.edu>
Message-ID: <Pine.OSF.3.96.1010710125346.29669D-100000@paleo.ija.csic.es>


Hi!

A segmentation fault occurred while R was doing the
following:

> stream <- openstream("/home/alobo/imorm/chim.ref.new2")
> a <- readint(stream, n=434616/2,size = 2, signed = F)
a <- readint(stream, n=434616/2,size = 2, signed = F)
Segmentation fault

Have I lost all objects made and not saved yet to .RData?

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mylesj at icrf.icnet.uk  Tue Jul 10 15:35:55 2001
From: mylesj at icrf.icnet.uk (Jonathan Myles)
Date: Tue, 10 Jul 2001 14:35:55 +0100 (BST)
Subject: [R] linking *.so libraries into C
Message-ID: <Pine.GSO.3.96.1010710143359.7547B-100000@cordite>



   I'd like to test the C part of an R library by calling it from C 
   programs. Is there any way of linking the .so made by the R INSTALL
   command into a C program?

   Jonathan Myles


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vele.samak at ssmb.com  Tue Jul 10 15:50:42 2001
From: vele.samak at ssmb.com (Samak, Vele [EQRE])
Date: Tue, 10 Jul 2001 09:50:42 -0400
Subject: [R] watch out for quotes in data files
Message-ID: <DF8D233E4341D411A7AD0008C7E634820589901D@exchny07.ny.ssmb.com>

I have had similar problems with R 1.2.2. Everytime a string has the '
single quote, it reads up to a maximum of 8192 characters into the item,
creating memory and parsing problems. I make it a habit now to remove all '
(single quotes) from the text or replace them with double quotes.
-- 
Vele Samak, Vice President
Global Quantitative Research
Salomon Smith Barney 
7 WTC, New York, NY 10048, 212-783-7007


-----Original Message-----
From: Douglas Bates [mailto:bates at stat.wisc.edu]
Sent: Monday, July 09, 2001 11:53 PM
To: R-help at stat.math.ethz.ch
Subject: [R] watch out for quotes in data files


I have just spent a day trying to determine why I seemed to be unable
to read a file of microarray expression results into R properly.  The
file was produced by the Dchip software developed by Li and Wong at
Harvard's Department of Biostatistics.  It contains rows of
tab-delimited fields in the order

Probe set identifier
Probe set description
Array 1 expression
Array 1 call
Array 2 expression
Array 2 call
...

plus an extra tab (which I think is due to a programming glich).

There are 7130 rows, including the column headers, for results from
Affymetrix Hu6800 chips. 

When I read this file using read.table(filename, sep = "\t", head = TRUE)
I got only 3720 rows.  Furthermore count.fields(filename, sep = "\t")
gave a result of length 7130 but several of the rows were reported as
having only two fields instead of 15 like the other rows.

It seemed to me that the important characteristic of these rows was
their having a very long "Probe set description" and I wasted quite a
bit of time looking for possible buffer overflows that might be
triggered by this.

When I finally came to my senses and created a much smaller input file
that only contained a few rows, including one that was giving an
aberrant field count, I could directly examine the results of scan()
applied to it.  I noticed that the second field for the aberrant line
contained all the subsequent lines and then I saw that its description
included "5'" (as in the 5' end of the sequence versus the 3' end).
Other descriptions had this written as "5 prime" but this one used
"5'".  What was happening was that everything from there to the next
"'" character in the file was being included as part of that
description.

I could read the file properly by adding the optional argument quote =
"" to the call to read.table.

The moral of the story is to watch out for molecular biologists who
use unpaired quote characters in their descriptions.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From trafton at itd.nrl.navy.mil  Tue Jul 10 16:44:44 2001
From: trafton at itd.nrl.navy.mil (Greg Trafton)
Date: Tue, 10 Jul 2001 10:44:44 -0400
Subject: [R] returning quartiles of a list?
Message-ID: <15179.5340.312018.398067@viz.itd.nrl.navy.mil>

Hi, all.  I have a list:

process <- c( 5 , 7 , 4 , 1 , 4 , 1)

and I'd like to get each half (or each third or each quartile) of the list:

process.firsthalf would be (5, 7, 4) and 
process.secondhalf would be (1, 4, 1).

note that I'm not interested in the numeric quartiles (then I could
use quantile or several other functions).

what is the best way to get this kind of thing?  for odd legnth lists,
I don't particularly care if the first or the second half gets the
extra.

 can write a function that does this for halfs, but I'm looking for a
slightly more general way that does it for 1/2, 1/3, 1/4, 1/5, etc.

thanks!
greg
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jul 10 17:02:05 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 10 Jul 2001 08:02:05 -0700 (PDT)
Subject: [R] returning quartiles of a list?
In-Reply-To: <15179.5340.312018.398067@viz.itd.nrl.navy.mil>
Message-ID: <Pine.A41.4.33.0107100801160.15808-100000@homer18.u.washington.edu>

On Tue, 10 Jul 2001, Greg Trafton wrote:

> Hi, all.  I have a list:
>
> process <- c( 5 , 7 , 4 , 1 , 4 , 1)
>
> and I'd like to get each half (or each third or each quartile) of the list:
>

n<-length(process)
process[1:(n/2)]
process[(n/2):1]
process[(n/4):(n/2)]
etc, etc,


	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From trafton at itd.nrl.navy.mil  Tue Jul 10 17:10:28 2001
From: trafton at itd.nrl.navy.mil (Greg Trafton)
Date: Tue, 10 Jul 2001 11:10:28 -0400
Subject: [R] returning quartiles of a list?
In-Reply-To: <Pine.A41.4.33.0107100801160.15808-100000@homer18.u.washington.edu>
References: <15179.5340.312018.398067@viz.itd.nrl.navy.mil>
	<Pine.A41.4.33.0107100801160.15808-100000@homer18.u.washington.edu>
Message-ID: <15179.6884.19155.654014@viz.itd.nrl.navy.mil>

>>>>> Thomas Lumley writes:

>> Hi, all.  I have a list:
>> 
>> process <- c( 5 , 7 , 4 , 1 , 4 , 1)
>> 
>> and I'd like to get each half (or each third or each quartile) of
>> the list:
>> 

> n<-length(process)
> process[1:(n/2)]
> process[(n/2):1]
> process[(n/4):(n/2)]
> etc, etc,

Hmmm...  I tried this first and it only works for even lists

> process <- c( 5 , 7 , 4 , 1 , 4 , 1)
> n<-length(process)
> n
[1] 6
> process[1:(n/2)]
[1] 5 7 4

(works fine)

> process[(n/2):1]
[1] 4 7 5

(this is just a reverse of the previous)

> process[(n/2):n]
[1] 4 1 4 1

(this double counts the first 4, of course)

> process[((n/2)+1):n]
[1] 1 4 1

(but this works for even lists)

> process[(n/4):(n/2)]
[1] 5 7

(works)

> process <- c( 5 , 7 , 4 , 1 , 4 , 1, 8)

(and this is now an odd list)

> process[1:(n/2)]
[1] 5 7 4

(works fine)

> process[((n/2)+1):n]
[1] 1 4 1

(but the bit that worked for the even lists above doesn't work here
(and I don't quite understand why not...)

thanks!
greg
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jul 10 17:15:48 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 10 Jul 2001 08:15:48 -0700 (PDT)
Subject: [R] returning quartiles of a list?
In-Reply-To: <15179.6884.19155.654014@viz.itd.nrl.navy.mil>
Message-ID: <Pine.A41.4.33.0107100814020.15808-100000@homer18.u.washington.edu>

On Tue, 10 Jul 2001, Greg Trafton wrote:
>
> > process[(n/2):n]
> [1] 4 1 4 1
>
> (this double counts the first 4, of course)
>
> > process[((n/2)+1):n]
> [1] 1 4 1
>
> (but this works for even lists)
>
> > process[(n/4):(n/2)]
> [1] 5 7
>
> (works)
>
> > process <- c( 5 , 7 , 4 , 1 , 4 , 1, 8)
>
> (and this is now an odd list)
>
> > process[1:(n/2)]
> [1] 5 7 4
>
> (works fine)
>
> > process[((n/2)+1):n]
> [1] 1 4 1
>
> (but the bit that worked for the even lists above doesn't work here
> (and I don't quite understand why not...)

Ah. Look at the indexing vector
> ((n/2)+1):n
[1] 4.5 5.5 6.5

You actually want n%/%2 or round(n/2) rather than n/2 to ensure that it is
an integer

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From trafton at itd.nrl.navy.mil  Tue Jul 10 17:48:49 2001
From: trafton at itd.nrl.navy.mil (Greg Trafton)
Date: Tue, 10 Jul 2001 11:48:49 -0400
Subject: [R] returning quartiles of a list?
In-Reply-To: <Pine.A41.4.33.0107100814020.15808-100000@homer18.u.washington.edu>
References: <15179.6884.19155.654014@viz.itd.nrl.navy.mil>
	<Pine.A41.4.33.0107100814020.15808-100000@homer18.u.washington.edu>
Message-ID: <15179.9185.501642.874012@viz.itd.nrl.navy.mil>

>>>>> Thomas Lumley writes:

> Ah. Look at the indexing vector
>> ((n/2)+1):n
> [1] 4.5 5.5 6.5

> You actually want n%/%2 or round(n/2) rather than n/2 to ensure that
> it is an integer

Yep, that did it.  I can now do this kind of thing:

firsthalf <- function(v) {
  n <- length(v)
  return (v[1:(n/2)])
}

secondhalf <- function(v) {
  n <- length(v)
  return (v[((n%/%2)+1):n])
}

I'll need to write other functions for 1/3, etc., but that's fine.

thanks again!
greg
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From raph at alvie-mail.lanl.gov  Tue Jul 10 19:50:11 2001
From: raph at alvie-mail.lanl.gov (Raphael Gottardo)
Date: Tue, 10 Jul 2001 11:50:11 -0600
Subject: [R] gls function, very old results
Message-ID: <3B4B4053.29FF5760@alvie-mail.lanl.gov>

Hello R-users,

I am currently trying to learn how to use the function gls of the nlme
library. I fitted the following model:
Generalized least squares fit by REML
Model: response ~ array + dye + genes + variety + variety * genes +
array * genes + dye * genes
Data: data

I have 11 arrays, 2 dyes, 2 varieties, 3200 genes, and 2 replications
for each.
Therefore I should have the corresponding degrees of freedom and number
of coefficients, but instead I have the following:
Coefficients:
  (Intercept)         array           dye         genes       variety
 5.955503e+00  2.695750e-02  4.120987e-01 -2.499571e-04  2.686421e-01
  array:genes     dye:genes genes:variety
 1.319176e-06 -7.112527e-05  2.660801e-05

Degrees of freedom: 110386 total; 110378 residual
Residual standard error: 1.030704
> anova(fit)
Denom. DF: 110378
              numDF F-value p-value
(Intercept)       1 7590769  <.0001
array             1   21263  <.0001
dye               1    3069  <.0001
genes             1    4277  <.0001
variety           1    2493  <.0001
array:genes       1      38  <.0001
dye:genes         1      99  <.0001
genes:variety     1      15   1e-04

So I would like to know what I am doing wrong?
I use the following command:
 fit_gls(response~array+dye+genes+variety+variety*genes+array*genes+dye*genes,data=data)

and my dataset looks like this:
   array variety dye genes response flag
1     79       1   1     1 8.395252    0
2     79       1   1     1 8.583917    0
3     79       1   1     2 8.544225    0
4     79       1   1     2 8.423542    0
5     79       1   1     3 7.502186    0
6     79       1   1     3 7.524021    0
7     79       1   1     4 8.188411    0
8     79       1   1     4 8.072779    0
9     79       1   1     5 7.629976    0
10    79       1   1     5 7.524021    0
11    79       1   1     6 7.684784    0
12    79       1   1     6 7.610358    0
13    79       1   1     7 8.366138    0
14    79       1   1     7 8.369621    0
15    79       1   1     8 7.166266    0
16    79       1   1     8 7.038784    0
17    79       1   1     9 7.474205    0
18    79       1   1     9 7.805067    0
19    79       1   1    10 8.339501    0
20    79       1   1    10 8.407155    0

Any suggestion would be greatly appreciated.
Thank you,
raphael

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Tue Jul 10 20:11:32 2001
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Tue, 10 Jul 2001 14:11:32 -0400
Subject: [R] R News Volume 1/2
Message-ID: <3B4B4554.7E9BA563@virginia.edu>

I am halfway through reading Volume 1/2.  I want to sincerely
thank Kurt Hornik and Friedrich Leisch and the contributing
authors for a truly outstanding newletter.  I was extremely
impressed with the first issue and remain so with the second.
Thank you everyone for taking the time to write such a
useful and informative newsletter!!  Frank Harrell
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From trafton at itd.nrl.navy.mil  Tue Jul 10 20:36:00 2001
From: trafton at itd.nrl.navy.mil (Greg Trafton)
Date: Tue, 10 Jul 2001 14:36:00 -0400
Subject: [R] accessing a table
Message-ID: <15179.19216.297701.228590@viz.itd.nrl.navy.mil>

Hi, all.  I'm sure this is a simple question, but I'm having problems
figuring it out myself...  I have a table:

> currenttable <- table(junk[-1],junk[-n])
> currenttable
      
       bar foo junk
  bar    2   2    0
  foo    1   0    0
  junk   0   0    1

and I'd like to know the result of the cell currenttable(bar,foo).

what is the best way to get that result?

thanks!
greg
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Tue Jul 10 21:38:18 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Tue, 10 Jul 2001 15:38:18 -0400 (EDT)
Subject: [R] accessing a table
Message-ID: <200107101938.PAA23433@cattell.psych.upenn.edu>

>From: Greg Trafton <trafton at itd.nrl.navy.mil>
>Hi, all.  I'm sure this is a simple question, but I'm having problems
>figuring it out myself...  I have a table:
>
>> currenttable <- table(junk[-1],junk[-n])
>> currenttable
>      
>       bar foo junk
>  bar    2   2    0
>  foo    1   0    0
>  junk   0   0    1
>
>and I'd like to know the result of the cell currenttable(bar,foo).

currenttable[1,2]

or even

table(junk[-1],junk[-n])[1,2]

Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From trafton at itd.nrl.navy.mil  Tue Jul 10 21:43:16 2001
From: trafton at itd.nrl.navy.mil (Greg Trafton)
Date: Tue, 10 Jul 2001 15:43:16 -0400
Subject: [R] accessing a table
In-Reply-To: <200107101938.PAA23433@cattell.psych.upenn.edu>
References: <200107101938.PAA23433@cattell.psych.upenn.edu>
Message-ID: <15179.23252.812899.488855@viz.itd.nrl.navy.mil>

>>>>> Jonathan Baron writes:

>> From: Greg Trafton <trafton at itd.nrl.navy.mil> Hi, all.  I'm sure
>> this is a simple question, but I'm having problems figuring it out
>> myself...  I have a table:
>> 
>> currenttable <- table(junk[-1],junk[-n])
>> currenttable
>>      
>>       bar foo junk
>>  bar    2   2    0
>>  foo    1   0    0
>>  junk   0   0    1

>> and I'd like to know the result of the cell currenttable(bar,foo).

> currenttable[1,2]

> or even

> table(junk[-1],junk[-n])[1,2]

Whoops!  I should have been a bit more specific!  sometimes foo is not
in the table, so I do not know exactly what row or column it is in; I
need to access it via the "headings" (rows and column names).  

thanks!
greg
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jul 10 21:46:41 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 10 Jul 2001 12:46:41 -0700 (PDT)
Subject: [R] accessing a table
In-Reply-To: <15179.19216.297701.228590@viz.itd.nrl.navy.mil>
Message-ID: <Pine.A41.4.33.0107101244460.15808-100000@homer18.u.washington.edu>

On Tue, 10 Jul 2001, Greg Trafton wrote:

> Hi, all.  I'm sure this is a simple question, but I'm having problems
> figuring it out myself...  I have a table:
>
> > currenttable <- table(junk[-1],junk[-n])
> > currenttable
>
>        bar foo junk
>   bar    2   2    0
>   foo    1   0    0
>   junk   0   0    1
>
> and I'd like to know the result of the cell currenttable(bar,foo).
>
> what is the best way to get that result?

currenttable["bar","foo"]


I think you would be well advised to work through the "Introduction to R"
manual, which will answer a lot of basic questions about programming.

	-thomas


Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Tue Jul 10 21:54:06 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Tue, 10 Jul 2001 15:54:06 -0400 (EDT)
Subject: [R] accessing a table
Message-ID: <200107101954.PAA24619@cattell.psych.upenn.edu>

>From trafton at viz.itd.nrl.navy.mil  Tue Jul 10 15:43:07 2001
>>>>>> Jonathan Baron writes:
>
>>> From: Greg Trafton <trafton at itd.nrl.navy.mil> Hi, all.  I'm sure
>>> this is a simple question, but I'm having problems figuring it out
>>> myself...  I have a table:
>>> 
>>> currenttable <- table(junk[-1],junk[-n])
>>> currenttable
>>>      
>>>       bar foo junk
>>>  bar    2   2    0
>>>  foo    1   0    0
>>>  junk   0   0    1
>
>>> and I'd like to know the result of the cell currenttable(bar,foo).
>
>> currenttable[1,2]
>
>> or even
>
>> table(junk[-1],junk[-n])[1,2]
>
>Whoops!  I should have been a bit more specific!  sometimes foo is not
>in the table, so I do not know exactly what row or column it is in; I
>need to access it via the "headings" (rows and column names).  

The following works, although it may not work in every imaginable case:

currenttable["foo","bar"]

Jon
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wloliver at qwest.net  Tue Jul 10 22:38:02 2001
From: wloliver at qwest.net (Bill Oliver)
Date: Tue, 10 Jul 2001 14:38:02 -0600
Subject: [R] gls function, very old results
References: <3B4B4053.29FF5760@alvie-mail.lanl.gov>
Message-ID: <001d01c10980$4004e110$a555e43f@91qez>

----- Original Message -----
From: "Raphael Gottardo" <raph at alvie-mail.lanl.gov>
To: <r-help at stat.math.ethz.ch>
Sent: Tuesday, July 10, 2001 11:50 AM
Subject: [R] gls function, very old results


> Hello R-users,
>
> I am currently trying to learn how to use the function gls of the nlme
> library. I fitted the following model:
> Generalized least squares fit by REML
> Model: response ~ array + dye + genes + variety + variety * genes +
> array * genes + dye * genes
> Data: data
>
> I have 11 arrays, 2 dyes, 2 varieties, 3200 genes, and 2 replications
> for each.
> Therefore I should have the corresponding degrees of freedom and number
> of coefficients, but instead I have the following:
> Coefficients:
>   (Intercept)         array           dye         genes       variety
>  5.955503e+00  2.695750e-02  4.120987e-01 -2.499571e-04  2.686421e-01
>   array:genes     dye:genes genes:variety
>  1.319176e-06 -7.112527e-05  2.660801e-05
>
> Degrees of freedom: 110386 total; 110378 residual
> Residual standard error: 1.030704
> > anova(fit)
> Denom. DF: 110378
>               numDF F-value p-value
> (Intercept)       1 7590769  <.0001
> array             1   21263  <.0001
> dye               1    3069  <.0001
> genes             1    4277  <.0001
> variety           1    2493  <.0001
> array:genes       1      38  <.0001
> dye:genes         1      99  <.0001
> genes:variety     1      15   1e-04
>
> So I would like to know what I am doing wrong?
> I use the following command:
>
fit_gls(response~array+dye+genes+variety+variety*genes+array*genes+dye*genes
,data=data)
>
> and my dataset looks like this:
>    array variety dye genes response flag
> 1     79       1   1     1 8.395252    0
> 2     79       1   1     1 8.583917    0
> 3     79       1   1     2 8.544225    0
> 4     79       1   1     2 8.423542    0
> 5     79       1   1     3 7.502186    0
> 6     79       1   1     3 7.524021    0
> 7     79       1   1     4 8.188411    0
> 8     79       1   1     4 8.072779    0
> 9     79       1   1     5 7.629976    0
> 10    79       1   1     5 7.524021    0
> 11    79       1   1     6 7.684784    0
> 12    79       1   1     6 7.610358    0
> 13    79       1   1     7 8.366138    0
> 14    79       1   1     7 8.369621    0
> 15    79       1   1     8 7.166266    0
> 16    79       1   1     8 7.038784    0
> 17    79       1   1     9 7.474205    0
> 18    79       1   1     9 7.805067    0
> 19    79       1   1    10 8.339501    0
> 20    79       1   1    10 8.407155    0
>
> Any suggestion would be greatly appreciated.
> Thank you,
> raphael
>

It appears that the variables "array", "dye", etc., need to be treated as
"factors". Probably the most convenient approach would be to convert them in
your data frame before carrying out the analysis. For example, the values of
dye could be converted with the following code (mutatis mutandis).

> data$dye<- factor(data$dye,labels=c("red","blue"))

Finding an appropriate model for these data is likely to be a challenging
exercise. I highly recommend the book by Pinheiro and Bates entitled "Mixed
Effects Models in S and S-Splus". These authors explain very clearly how to
carry out mixed-effects modeling.

-Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dwhite at ling.ohio-state.edu  Tue Jul 10 22:40:25 2001
From: dwhite at ling.ohio-state.edu (David White)
Date: Tue, 10 Jul 2001 16:40:25 -0400 (EDT)
Subject: [R] Interpreting message: Error in names<-.default(*tmp*, value = cols)
 : 
Message-ID: <Pine.SOL.4.33.0107101634540.10609-100000@julius.ling.ohio-state.edu>


I have an error message that I don't know how to interpret.

The message is:
Error in names<-.default(*tmp*, value = cols) :
        names attribute must be the same length as the vector

I have written a complicated analysis algorithm to examine a large
dataset. The analysis appears to run on small numbers of tokens, say 10.

I suppose my question is: which function(s) might kick out such an error?

Many thanks.

David
S. David White
sdavidwhite at bigfoot.com
Columbus, Ohio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Jul 10 23:04:28 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 10 Jul 2001 23:04:28 +0200
Subject: [R] Interpreting message: Error in names<-.default(*tmp*, value = 
 cols):
References: <Pine.SOL.4.33.0107101634540.10609-100000@julius.ling.ohio-state.edu>
Message-ID: <3B4B6DDC.D037CB1D@statistik.uni-dortmund.de>

David White wrote:
> 
> I have an error message that I don't know how to interpret.
> 
> The message is:
> Error in names<-.default(*tmp*, value = cols) :
>         names attribute must be the same length as the vector
> 
> I have written a complicated analysis algorithm to examine a large
> dataset. The analysis appears to run on small numbers of tokens, say 10.
> 
> I suppose my question is: which function(s) might kick out such an error?


For example, when names are assigned to vectors:

 temp <- 1:10
 names(temp) <- "Hello"

Error in "names<-.default"(*tmp*, value = "Hello!") : 
        names attribute must be the same length as the vector


This might happen in very different cases, so you might want to make use
of debug() or traceback().

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tebaldi at rap.ucar.edu  Tue Jul 10 23:29:01 2001
From: tebaldi at rap.ucar.edu (Claudia Tebaldi)
Date: Tue, 10 Jul 2001 15:29:01 -0600 (MDT)
Subject: [R] accessing a table
In-Reply-To: <15179.19216.297701.228590@viz.itd.nrl.navy.mil>
Message-ID: <Pine.GSO.4.05.10107101527530.24537-100000@virga.rap.ucar.edu>

On Tue, 10 Jul 2001, Greg Trafton wrote:

> Hi, all.  I'm sure this is a simple question, but I'm having problems
> figuring it out myself...  I have a table:
> 
> > currenttable <- table(junk[-1],junk[-n])
> > currenttable
>       
>        bar foo junk
>   bar    2   2    0
>   foo    1   0    0
>   junk   0   0    1
> 
> and I'd like to know the result of the cell currenttable(bar,foo).
> 
> what is the best way to get that result?
> 
> thanks!
> greg
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

currenttable[match("bar",dimnames(currenttable)[[1]]),
             match("foo",dimnames(currenttable)[[2]])]


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Jul 10 23:30:31 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 10 Jul 2001 16:30:31 -0500
Subject: [R] Citing an article from R News
Message-ID: <6rn16czd3c.fsf@franz.stat.wisc.edu>

The editorial in Volume 1/2 of R News requests that we cite articles
in R News by using the ISSN 1609-3631 and the URL
http://cran.R-project.org/doc/Rnews/.  Could someone provide a sample
BibTeX entry, say for Brian Ripley's article on "Installing R under
Windows" from that issue?  I am using the natbib package, if that
matters.

I would start with

@Article{R:Ripley:2001,
  author = 	 {Brian D. Ripley},
  title = 	 {Installing {R} under {W}indows},
  journal = 	 {R News},
  year = 	 2001,
  volume =	 1,
  number =	 2,
  issn =         {1609-3631},
  url =          {http://cran.R-project.org/doc/Rnews/}
}

but I am happy to accept corrections or changes.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Wed Jul 11 02:33:29 2001
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Wed, 11 Jul 2001 12:33:29 +1200
Subject: [R] component chart
References: <IMBBIIMDNMLGAAAA@mailcity.com>
Message-ID: <01c601c109a1$1b7c4c40$175dd882@stat.auckland.ac.nz>

Hi


> How do I create a component chart using R? For example, given the
following data:
>
>               1994
> sales         80,000
> maintenace    20,000
>
> I want to create a horizontal bar graph where sales starts from 0 to
80,000 and maintenance starts from 80,000 to 100,000. I also want to display
the total as another bar starting from 0 to 100,000.
>


Sounds like you need the barplot() function.. For example (not very polished
:) ...

    barplot(matrix(c(8,2,0,10),ncol=2), horiz=T)

... or (_slightly_ more polished) ...

    barplot(matrix(c(8,2,0,0,0,10),ncol=2), col=c("red","green","blue"),
                horiz=T, names=c("Components", "Total"),
                legend.text=c("Sales", "Maintenance", "Total"),
                space=0.5, xlim=c(0, 15))

Hope that helps

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murphyk at cs.berkeley.edu  Wed Jul 11 01:26:59 2001
From: murphyk at cs.berkeley.edu (Kevin Murphy)
Date: Tue, 10 Jul 2001 16:26:59 -0700
Subject: [R] speeding up aperm/ adding repmat
Message-ID: <3B4B8F43.F0B34D6A@cs.berkeley.edu>

Hi,

I have noticed that aperm is very slow, and I wondered if there was a
way of speeding it up.

Let me tell you a bit about the context of my problem, because perhaps
I shouldn't be using aperm at all.
The context is probabilistic inference in
graphical models. One of the most fundamental operations is two
compute an element-wise multiplication of two arrays of different
sizes, say A and B. This is illustrated below.


for (i in 1:Asz[1]) {
  for (j in 1:Asz[2]) {
    for (k in 1:Asz[3]) {
        C[i,j,k] <- A[i,j,k] * B[i,k]
    }
  }
}

Here, the "domain" of A is [X1 X2 X3] and the domain of B is [X1 X3],
which is why we write A[i,j,k,l] * B[i,k]. (Asz = dim(A).)

In general, we can implement this by making B the same size as A by
replicating its entries, then permuting the dimensions so they match
A's, and then doing element-wise multiplication.
Here is the R code:

B2 <- array(B, Asz) # duplicate elements of B to make it same size as A
diffdom <- Adom[-Bdom] # Adom \ Bdom
B2dom <- c(Bdom, diffdom)
perm <- match(Adom, B2dom)
B3 <- aperm(B2, perm) # make B2 have the same order as A (VERY SLOW)
C <- A * B3

In Matlab, there is a quicker way, using 'reshape' and 'repmat': one
can reshape B to have the same number of dimensions as A, where the new
dimensions have size 1; then one does a repmat to replicate B along
the new dimensions; finally one does the multiplication. This avoids the
cost of a permutation. This is much quicker than the R method,
especially when
the table gets large. Here is the Matlab code:


map = match(Bdom, Adom)
sz = ones(1, length(Adom));
sz(map) = Bsz;
B2 = reshape(B, sz); % add dimensions for the stuff not in A
sz = Asz;
sz(map) = 1; % don't replicate along A's dimensions
B3 = repmat(B2, sz(:)');
                           


So, ANOTHER QUESTION IS: is there something equivalent to Matlab's
multi-dimensional repmat? The recycling rule in R only replicates
along the final dimensions. Here is an example of the difference.
In Matlab, we have

>> B = reshape(1:4, [2 2]) % X1 X3
B =
     1     3
     2     4           

>> B2 = reshape(B, [2 1 2])  % X1 Y2 X3, where Y2 is a dummy dimension
B2(:,:,1) =
     1
     2
B2(:,:,2) =
     3
     4        

>> B3 = repmat(B2, [1 2 1]) % X1 X2 X2
B3(:,:,1) =
     1     1
     2     2
B3(:,:,2) =
     3     3
     4     4           



In R, we have


> B <- array(1:4, c(2,2))
> B
     [,1] [,2]
[1,]    1    3
[2,]    2    4



> B2 <- B; dim(B2) <- c(2,1,2)
> B2
, , 1

     [,1]
[1,]    1
[2,]    2

, , 2

     [,1]
[1,]    3
[2,]    4


> B3 <- array(B2, c(2,2,2))
> B3
, , 1

     [,1] [,2]
[1,]    1    3
[2,]    2    4

, , 2

     [,1] [,2]
[1,]    1    3
[2,]    2    4


So matlab "pumps up" the middle, whereas R just appends to the end.


Thanks!
Kevin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hzs at ademrc.kjist.ac.kr  Wed Jul 11 08:59:27 2001
From: hzs at ademrc.kjist.ac.kr (Zhuanshi He)
Date: Wed, 11 Jul 2001 15:59:27 +0900
Subject: [R] Question.
Message-ID: <3B4BF94E.F547C284@ademrc.kjist.ac.kr>

Hello  all R users,

I tried to compile R1.3.0 on Solari Ultra60,   R configured as
follows(command ./configure)

then  I used "make"  to make  x  files. I got the information  which
looks that the X11 s unsupported.
Does anyone can help me to find the reason why I couldn't make the
successful compile.
If anyone has the precompiled R under sparc workstation,  may I get a
copy?


Thank you very much in advance for ur help.

Zhuanshi He
Advanced Environmental Monitoring and Research Center
Kwangju Institute of Science and Technology
Republic of Korea
http://www.geocities.com/hzs.geo


----------------------------------
R is now configured for sparc-sun-solaris2.7

  Source directory:          .
  Installation directory:    /usr/local
  C compiler:                gcc  -g -O2
  C++ compiler:              c++  -g -O2
  FORTRAN compiler:          g77  -g -O2

  X11 support:               yes
  Gnome support:             no
  Tcl/Tk support:            no

  R profiling support:       yes
  R as a shared library:     no
-----------------------------------


"make "  output some information like

make[3]: `R.bin' is up to date.
make[3]: Leaving directory
`/export/home/hzs/Softwarz/R/All.platforms/R-1.3.0/src/main'
make[2]: Leaving directory
`/export/home/hzs/Softwarz/R/All.platforms/R-1.3.0/src/main'
make[2]: Entering directory
`/export/home/hzs/Softwarz/R/All.platforms/R-1.3.0/src/modules'
make[3]: Entering directory
`/export/home/hzs/Softwarz/R/All.platforms/R-1.3.0/src/modules/X11'
make[4]: Entering directory
`/export/home/hzs/Softwarz/R/All.platforms/R-1.3.0/src/modules/X11'
make[4]: Leaving directory
`/export/home/hzs/Softwarz/R/All.platforms/R-1.3.0/src/modules/X11'
make[4]: Entering directory
`/export/home/hzs/Softwarz/R/All.platforms/R-1.3.0/src/modules/X11'
gcc -I. -I../../../src/include -I../../../src/include
-I/usr/local/include -DHAVE_CONFIG_H  -fPIC  -g -O2 -c dataentry.c -o
dataentry.o
dataentry.c: In function `doSpreadKey':
dataentry.c:1195: `XK_Page_Up' undeclared (first use in this function)
dataentry.c:1195: (Each undeclared identifier is reported only once
dataentry.c:1195: for each function it appears in.)
dataentry.c:1199: `XK_Page_Down' undeclared (first use in this function)

make[4]: *** [dataentry.o] Error 1
make[4]: Leaving directory
`/export/home/hzs/Softwarz/R/All.platforms/R-1.3.0/src/modules/X11'
make[3]: *** [R] Error 2
make[3]: Leaving directory
`/export/home/hzs/Softwarz/R/All.platforms/R-1.3.0/src/modules/X11'
make[2]: *** [R] Error 1
make[2]: Leaving directory
`/export/home/hzs/Softwarz/R/All.platforms/R-1.3.0/src/modules'
make[1]: *** [R] Error 1
make[1]: Leaving directory
`/export/home/hzs/Softwarz/R/All.platforms/R-1.3.0/src'
make: *** [R] Error 1



-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010711/1bbd0f51/attachment.html

From gonin at genethon.fr  Wed Jul 11 09:15:35 2001
From: gonin at genethon.fr (Patrick Gonin)
Date: Wed, 11 Jul 2001 09:15:35 +0200
Subject: [R] Mac Pckg
Message-ID: <v04210100b771acfc4f54@[192.168.100.148]>

Hi, do someone knows how to install contributed packages under Mac OS 
classic. When I download one, expand, and copy the folder under 
"library", R says: 'Package X contains no R code in'library(X)'.
 thanks
---------------------
Patrick Gonin
Responsable D?partement Evaluation in vivo
GENETHON III- CNRS URA 1923
1 bis, rue de l'Internationale
BP 60
91002 EVRY CEDEX
FRANCE
Tel: 33-1-69-47-10-21
Fax: 33-1-60-77-86-98
gonin at genethon.fr
---------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sint at oeaw.ac.at  Wed Jul 11 12:07:08 2001
From: sint at oeaw.ac.at (Peter Paul Sint)
Date: Wed, 11 Jul 2001 12:07:08 +0200
Subject: [R] Rounding correction
Message-ID: <p05010400b771d389be67@[193.170.84.51]>

Does anybody have R code for rounding correction for data series/arrays. 
Round and adjust such that sum remains correct.
I wrote a simple quick and dirty version which does this for one dimension (percentages). I am not yet convinced that it works o.k and the concept is right, but it solved my immediate need.

The problem is more general: ROUNDING for an array such that the margins remain correct (at least one dim margins).

Any code (also in other languages and for 1 dimension) is welcome. Otherwise a reference to the certainly known problem solutions (depending on what to optimize) would be nice.

Peter Sint
-- 
Peter Paul Sint    (sint at oeaw.ac.at, http://www.iwe.oeaw.ac.at/sint )
Institutional Change and European Integration, Austrian Academy of Sciences 
ICE,Baeckerstr.13 ,A-1010 Wien/Vienna, Austria, EU +431-51581-445(fax-566)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jwilliams at business.otago.ac.nz  Thu Jul 12 06:24:54 2001
From: jwilliams at business.otago.ac.nz (John Williams)
Date: 12 Jul 2001 00:24:54 -0400
Subject: [R] Should gv be able to read bitmap(... type= "pdfwrite") ?
Message-ID: <994911894.10191.0.camel@ou092065.otago.ac.nz>

Hi there folks

I have R 1.3.0 running on Red Hat Linux 7.1 with GhostView 3.5.8.  When
I produce a file like:

> bitmap("foo.pdf", type="pdfwrite")
> plot(foo)
> dev.off()

and then try to read it with gv, I get an unrecoverable error and
nothing displayed.

Any help as to whether this ***should*** work would be appreciated.

cheers,

John

-- 
John Williams
Department of Marketing
Otago University
Dunedin, New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a296180 at mica.fmr.com  Wed Jul 11 14:35:44 2001
From: a296180 at mica.fmr.com (David Kane  <David Kane)
Date: Wed, 11 Jul 2001 08:35:44 -0400
Subject: [R] Forcing variables types when using read.table
Message-ID: <15180.18464.584605.914004@gargle.gargle.HOWL>

Perhaps I am being thick, but I can not figure out how to force read.table to
treat as character something that "looks" numeric to it. Here is a simple example:

> version
         _                   
platform sparc-sun-solaris2.6
arch     sparc               
os       solaris2.6          
system   sparc, solaris2.6   
status                       
major    1                   
minor    3.0                 
year     2001                
month    06                  
day      22                  
language R                   
> file.show("temp.txt")
sedol,price
000312,47
071290,112

> read.table("temp.txt", header = TRUE, sep = ",")
  sedol price
1   312    47
2 71290   112
> read.table("temp.txt", header = TRUE, sep = ",", as.is = TRUE)
  sedol price
1   312    47
2 71290   112
> 

Note that "sedol" is really a character string (it is an international
identifier for stocks) while price is numeric. How can I get read.table to
create sedol as character (and therefore keep around the leading zeroes)? I
guess that I am looking for an option like "what" from scan . . .

Thanks,

Dave Kane 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stephan at fs2.ma.man.ac.uk  Wed Jul 11 15:19:51 2001
From: stephan at fs2.ma.man.ac.uk (Dr. Stephan Martin Rudolfer)
Date: Wed, 11 Jul 2001 15:19:51 BST
Subject: [R] Problem with installed package "foreign"
Message-ID: <313D1DC45D0@fs2.ma.man.ac.uk>

Applying advice received from this helpline, I got the 
following warning message

> library(foreign)
Warning message: 
Package  `foreign' contains no R code in: library(foreign) 
> search()
[1] ".GlobalEnv"      "package:foreign" "package:ctest"   "Autoloads"      
[5] "package:base"   

Is this a usual warning message?  Please explain what needs to be 
done to get foreign to work properly.

Thank you.


******************************************************************************************
* Dr. Stephan M. Rudolfer  Office tel: +44 161 275 5912                                  *
*     Chairman, Manchester Group, Royal Statistical Society                              *
* Mathematics Department   Dept. tel: +44 161 275 5800                                   * 
* The University           Fax      : +44 161 275 5819                                   * 
* MANCHESTER M13 9PL       Email    : s.m.rudolfer at man.ac.uk                             *
* UK                       WWW      : http://www.maths.man.ac.uk/DeptWeb/Homepages/smr/  * 
******************************************************************************************


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bojanr at wp.pl  Wed Jul 11 16:27:09 2001
From: bojanr at wp.pl (Micha? Bojanowski)
Date: Wed, 11 Jul 2001 16:27:09 +0200
Subject: No subject
Message-ID: <200107111427.QAA22255@stat.math.ethz.ch>

Hello to all

Recently I came across a problem. I have to analyze a large survey 
data - something about 600 columns and 10000 rows (tab-delimited file 
with names in the header). I was able do import the data into an 
object, but there is no more memory left.

Is there a way to import the data column by column? I have to analyze 
the whole data, but only two variables at a time.

thank in advance

Michal Bojanowski

-----------------------------------------------------------------------
P.S. Wejd? w Kontakt! Wygraj Nokie 9110i i rejs do Szwecji! < http://kontakt.wp.pl/konkurs >

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed Jul 11 17:19:47 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 11 Jul 2001 10:19:47 -0500
Subject: [R] Re: large survey data
In-Reply-To: <200107111427.QAA22255@stat.math.ethz.ch>
References: <200107111427.QAA22255@stat.math.ethz.ch>
Message-ID: <6rhewj1oj0.fsf@franz.stat.wisc.edu>

Micha? Bojanowski <bojanr at wp.pl> writes:

> Recently I came across a problem. I have to analyze a large survey 
> data - something about 600 columns and 10000 rows (tab-delimited file 
> with names in the header). I was able do import the data into an 
> object, but there is no more memory left.
> 
> Is there a way to import the data column by column? I have to analyze 
> the whole data, but only two variables at a time.

You will probably need to do the data manipulation externally.
Two possible solutions are to use a scripting language like python or
perl or to store the data in a relational database like PostgreSQL or
MySQL.  For data of this size I would recommend the relational
database approach.

R has packages to connect to PostgreSQL or to MySQL.

If you want to use python instead the code is fairly easy to write.
Extracting the first two fields (for which the index expression really
is written 0:2, not 0:1 or 1:2 as one might expect), you could use

#!/usr/bin/env python

import string
import fileinput

for line in fileinput.input():
    flds = string.split(line, "\t")
    print string.join(flds[0:2], "\t")



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Wed Jul 11 17:27:36 2001
From: plummer at iarc.fr (Martyn Plummer)
Date: Wed, 11 Jul 2001 17:27:36 +0200 (CEST)
Subject: [R] Forcing variables types when using read.table
In-Reply-To: <15180.18464.584605.914004@gargle.gargle.HOWL>
Message-ID: <XFMail.20010711172736.plummer@iarc.fr>

On 11-Jul-2001 David Kane  <David Kane wrote:
> Perhaps I am being thick, but I can not figure out how to force read.table to
> treat as character something that "looks" numeric to it. Here is a simple
> example:
> 
>> version
>          _                   
> platform sparc-sun-solaris2.6
> arch     sparc               
> os       solaris2.6          
> system   sparc, solaris2.6   
> status                       
> major    1                   
> minor    3.0                 
> year     2001                
> month    06                  
> day      22                  
> language R                   
>> file.show("temp.txt")
> sedol,price
> 000312,47
> 071290,112
> 
>> read.table("temp.txt", header = TRUE, sep = ",")
>   sedol price
> 1   312    47
> 2 71290   112
>> read.table("temp.txt", header = TRUE, sep = ",", as.is = TRUE)
>   sedol price
> 1   312    47
> 2 71290   112
>> 
> 
> Note that "sedol" is really a character string (it is an international
> identifier for stocks) while price is numeric. How can I get read.table to
> create sedol as character (and therefore keep around the leading zeroes)? I
> guess that I am looking for an option like "what" from scan . . .

You can just use scan instead of read.table:

x <- scan("temp.txt", what=list("",0), skip=1,  sep=",")
names(x) <- scan("temp.txt", what="", nlines=1, sep=",")
as.data.frame(x)

This will convert sedol to a factor variable, which seems appropriate.

Martyn

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Jul 11 18:07:26 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 11 Jul 2001 18:07:26 +0200
Subject: [R] Problem with installed package "foreign"
In-Reply-To: <313D1DC45D0@fs2.ma.man.ac.uk>
References: <313D1DC45D0@fs2.ma.man.ac.uk>
Message-ID: <15180.31166.56510.709789@gargle.gargle.HOWL>

>>>>> "Stephan" == Stephan Martin Rudolfer <stephan at fs2.ma.man.ac.uk> writes:

    Stephan> Applying advice received from this helpline, I got the 
    Stephan> following warning message

    >> library(foreign)
    Stephan> Warning message: 
    Stephan> Package  `foreign' contains no R code in: library(foreign) 

a typical sign of a wrongly installed package

    Stephan>  <...>

    Stephan> Is this a usual warning message?  Please explain what needs to
    Stephan> be done to get foreign to work properly.

Install it properly.  I'm quite sure you didn't.  
You seem to work on a M$Win machine.  Have you really read the 
__windows specific__ instructions on how to install a contributed package ?

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a296180 at mica.fmr.com  Wed Jul 11 18:20:42 2001
From: a296180 at mica.fmr.com (David Kane  <David Kane)
Date: Wed, 11 Jul 2001 12:20:42 -0400
Subject: [R] Summary of Forcing variables types when using read.table
Message-ID: <15180.31962.555682.772842@gargle.gargle.HOWL>

Thanks to Martyn Plummer and Vele Samak for taking the time to answer my
problem. scan certainly will do the trick. However, having taken a look at the
code for read.table, it seems to me that I might be able to add in a "what"
argument and then just pass it down to the call to scan. But that won't be
today's project . . .

Dave Kane
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Maciej.Hoffman-Wecker at evotecoai.com  Wed Jul 11 19:22:54 2001
From: Maciej.Hoffman-Wecker at evotecoai.com (Maciej.Hoffman-Wecker@evotecoai.com)
Date: Wed, 11 Jul 2001 19:22:54 +0200
Subject: [R] Re:
Message-ID: <OF0221FAD2.46BC23A2-ONC1256A86.005E1F7F@evotec.de>



I think the easist way is to use awk. you can even do it from within R by
"system" (I think).
With

      awk "BEGIN{FS=\"\t\";OFS=\"\t\"} {print \$3, \$8}" datafile >
tmp_datafile

you extract columns 3 and 84 from a tab-separated file "datafile" and write
to "tmp_datafile".
If you are on windows you can use awk95 (from somewhere in web-space).

Czes'c'
Maciej


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Wed Jul 11 19:29:48 2001
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Wed, 11 Jul 2001 19:29:48 +0200 (CEST)
Subject: [R] Re: large survey data
In-Reply-To: <6rhewj1oj0.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.LNX.4.21.0107111844530.2767-100000@reclus.nhh.no>

On 11 Jul 2001, Douglas Bates wrote:

> Micha? Bojanowski <bojanr at wp.pl> writes:
> 
> > Recently I came across a problem. I have to analyze a large survey 
> > data - something about 600 columns and 10000 rows (tab-delimited file 
> > with names in the header). I was able do import the data into an 
> > object, but there is no more memory left.
> > 
> > Is there a way to import the data column by column? I have to analyze 
> > the whole data, but only two variables at a time.
> 
> You will probably need to do the data manipulation externally.
> Two possible solutions are to use a scripting language like python or
> perl or to store the data in a relational database like PostgreSQL or
> MySQL.  For data of this size I would recommend the relational
> database approach.
> 
> R has packages to connect to PostgreSQL or to MySQL.
> 
> If you want to use python instead the code is fairly easy to write.
> Extracting the first two fields (for which the index expression really
> is written 0:2, not 0:1 or 1:2 as one might expect), you could use
> 
> #!/usr/bin/env python
> 
> import string
> import fileinput
> 
> for line in fileinput.input():
>     flds = string.split(line, "\t")
>     print string.join(flds[0:2], "\t")

Or using awk/gawk, if you prefer, to choose the fields:

> xx <- matrix(runif(5000), 100, 50)
> col <- character(ncol(xx))
> for (i in 1:ncol(xx)) col[i] <- paste("Var", i, sep="")
> colnames(xx) <- col
> write.table(as.data.frame(xx), "tryout.txt", row.names=F, sep="\t")
> cols.I.want <- c(5, 47)
> xx.I.want <- read.table(pipe(paste("awk -F\"\t\" 'BEGIN{OFS=\"\t\"}{print $",
+ cols.I.want[1], ", $", cols.I.want[2], "}' tryout.txt", sep="")),
+ header=T)
> summary(xx.I.want[,1] - xx[,cols.I.want[1]])

and pipe() to read on the fly, maybe? Generalising to an arbitrary number
of chosen columns would also be possible.

Roger

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mmiller3 at iupui.edu  Wed Jul 11 20:19:09 2001
From: mmiller3 at iupui.edu (Michael A. Miller)
Date: 11 Jul 2001 13:19:09 -0500
Subject: [R] Should gv be able to read bitmap(... type= "pdfwrite") ?
In-Reply-To: John Williams's message of "12 Jul 2001 00:24:54 -0400"
References: <994911894.10191.0.camel@ou092065.otago.ac.nz>
Message-ID: <8766czib1e.fsf@lumen.med.iupui.edu>

>>>>> "John" == John Williams <jwilliams at business.otago.ac.nz> writes:

    > Hi there folks I have R 1.3.0 running on Red Hat Linux 7.1
    > with GhostView 3.5.8.  When I produce a file like:

    >> bitmap("foo.pdf", type="pdfwrite") 
    >> plot(foo) 
    >> dev.off()

    > and then try to read it with gv, I get an unrecoverable
    > error and nothing displayed.

That works for me (R 1.3.0-1, Debian testing, gs 5.10-10.1, gv
3.5.8). 

On a related note, when using type="pdfwrite", bitmap doesn't
actually produce bit mapped graphics.  For vector graphics I
normally use the postscript device, and more recently, the pdf
device, as in

    > postscript("foo.ps"); plot(foo); dev.off()

and 

    > pdf("foo2.pdf"); plot(foo); dev.off()

I have noticed that bitmap("foo.pdf", type="pdfwrite") produces
different results than pdf("foo2.pdf") does: bitmap(...) uses
ghostscript and makes version 1.2 pdf which pdf(...) doesn't use
ghostscript and makes version 1.1 pdf.  The practical consequence
of this seems to be that the v1.2 pdf file is smaller and that
the v1.2 pdf file has text labels that are more similar to what I
see on my screen (but still somewhat larger than on screen, the
v1.1 text is much larger).  The postscript device produces files
that have text that looks very close to what I see on screen.

Mike

-- 
Michael A. Miller                      mmiller3 at iupui.edu
  Krannert Institute of Cardiology, IU School of Medicine
  Indiana Center for Vascular Biology and Medicine
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pols1oh at bestweb.net  Wed Jul 11 20:20:54 2001
From: pols1oh at bestweb.net (Micheall Taylor)
Date: Wed, 11 Jul 2001 14:20:54 -0400 (EDT)
Subject: [R] R for large data
Message-ID: <200107111820.f6BIKsE05696@localhost.localdomain>



I am trying to gain an understanding of R's capabilities in larger data set
analysis.  I really like R, but the datasets that I normally work with are
in the 15m-50m range, sometimes much larger.  The size owes to observations, not extraneous
variables, so little can be done to "clean" the data of unnecessary
elements. (i.e. database storage or external data manipulation doesn't get
me very far)

Over the past couple of years I've used Stata (prior to that SAS, etc). I
have 2 gigs of memory, but R seems pretty slow to load relatively modest
datasets of say 10-30 megs. Much slower to load than say Stata. For
comparison, stats on loading a 32 meg datafile:

R - 5.3 minutes
Stata - 31 secs
SPSS - 42 secs
SAS - 21 secs

I normally start R with the command line switch allowing it to use 600megs
or so - stata is allocated 200 megs.  I've allocated 1.5 gigs to stata
before so I assume my memory management isn't an issue.

Does anyone have any pointers to documents which discuss R limitations?

Could there be something wrong with my particular R installation (RH 7.1 and
most recent stable R release., 2 gigs memory, enterprise kernel, dual
processor 800 mghrtz, high performance scsi drives)

Thanks in advance.

Michaell

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jul 11 21:57:44 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Jul 2001 21:57:44 +0200
Subject: [R] Re: large survey data
In-Reply-To: Douglas Bates's message of "11 Jul 2001 10:19:47 -0500"
References: <200107111427.QAA22255@stat.math.ethz.ch> <6rhewj1oj0.fsf@franz.stat.wisc.edu>
Message-ID: <x2k81fkzlz.fsf@blueberry.kubism.ku.dk>

Douglas Bates <bates at stat.wisc.edu> writes:

> Micha? Bojanowski <bojanr at wp.pl> writes:
> 
> > Recently I came across a problem. I have to analyze a large survey 
> > data - something about 600 columns and 10000 rows (tab-delimited file 
> > with names in the header). I was able do import the data into an 
> > object, but there is no more memory left.
> > 
> > Is there a way to import the data column by column? I have to analyze 
> > the whole data, but only two variables at a time.
> 
> You will probably need to do the data manipulation externally.
> Two possible solutions are to use a scripting language like python or
> perl or to store the data in a relational database like PostgreSQL or
> MySQL.  For data of this size I would recommend the relational
> database approach.
> 
> R has packages to connect to PostgreSQL or to MySQL.

We didn't see what OS this came from so it might well be Windows....

There, you have some possibilities of setting up an ODBC connection to
a text file (via Control Panel - slightly cryptic, but I managed to
get it to play at some point). You should be able to access the
table as a database using the RODBC package and that will allow you to
do the selection of cases/variables.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jul 11 22:02:23 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Jul 2001 22:02:23 +0200
Subject: [R] Summary of Forcing variables types when using read.table
In-Reply-To: "David Kane's message of "Wed, 11 Jul 2001 12:20:42 -0400"
References: <15180.31962.555682.772842@gargle.gargle.HOWL>
Message-ID: <x2hewjkze8.fsf@blueberry.kubism.ku.dk>

"David Kane  <David Kane" <a296180 at mica.fmr.com> writes:

> Thanks to Martyn Plummer and Vele Samak for taking the time to answer my
> problem. scan certainly will do the trick. However, having taken a look at the
> code for read.table, it seems to me that I might be able to add in a "what"
> argument and then just pass it down to the call to scan. But that won't be
> today's project . . .

Wouldn't work. The scan inside read.table reads *everything* as
character and type.convert converts the type afterwards. However, you
could bypass the type.convert call...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jul 11 22:28:10 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Jul 2001 22:28:10 +0200
Subject: [R] Should gv be able to read bitmap(... type= "pdfwrite") ?
In-Reply-To: mmiller3@iupui.edu's message of "11 Jul 2001 13:19:09 -0500"
References: <994911894.10191.0.camel@ou092065.otago.ac.nz> <8766czib1e.fsf@lumen.med.iupui.edu>
Message-ID: <x2elrnky79.fsf@blueberry.kubism.ku.dk>

mmiller3 at iupui.edu (Michael A. Miller) writes:

> On a related note, when using type="pdfwrite", bitmap doesn't
> actually produce bit mapped graphics.  For vector graphics I
> normally use the postscript device, and more recently, the pdf
> device, as in
> 
>     > postscript("foo.ps"); plot(foo); dev.off()
> 
> and 
> 
>     > pdf("foo2.pdf"); plot(foo); dev.off()
> 
> I have noticed that bitmap("foo.pdf", type="pdfwrite") produces
> different results than pdf("foo2.pdf") does: bitmap(...) uses
> ghostscript and makes version 1.2 pdf which pdf(...) doesn't use
> ghostscript and makes version 1.1 pdf.  The practical consequence
> of this seems to be that the v1.2 pdf file is smaller and that
> the v1.2 pdf file has text labels that are more similar to what I
> see on my screen (but still somewhat larger than on screen, the
> v1.1 text is much larger).  The postscript device produces files
> that have text that looks very close to what I see on screen.

The latter bit doesn't look like a PDF version issue to me. Rather an
issue of pointsizes relative to display area.

bitmap() defaults "pointsize=" to 1.5 * min(width, height) which at
6in x 6in comes out as 9pt, whereas pdf() uses that from
.PostScript.Options which is generally 12pt, also on 6x6. postscript()
also uses 12pt, but on a bigger page (papersize minus 0.5in for the
margins). x11() also uses 12pt, size 7x7.

Hmm. This might need some sanitizing at some point... 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From d.scott at auckland.ac.nz  Wed Jul 11 23:59:42 2001
From: d.scott at auckland.ac.nz (David Scott)
Date: Thu, 12 Jul 2001 09:59:42 +1200 (NZST)
Subject: [R] Re: large survey data
In-Reply-To: <6rhewj1oj0.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.GSO.4.33.0107120954040.822-100000@aitken.scitec.auckland.ac.nz>

On 11 Jul 2001, Douglas Bates wrote:

> Micha? Bojanowski <bojanr at wp.pl> writes:
>
> > Recently I came across a problem. I have to analyze a large survey
> > data - something about 600 columns and 10000 rows (tab-delimited file
> > with names in the header). I was able do import the data into an
> > object, but there is no more memory left.
> >
> > Is there a way to import the data column by column? I have to analyze
> > the whole data, but only two variables at a time.
>
> You will probably need to do the data manipulation externally.
> Two possible solutions are to use a scripting language like python or
> perl or to store the data in a relational database like PostgreSQL or
> MySQL.  For data of this size I would recommend the relational
> database approach.
>
> R has packages to connect to PostgreSQL or to MySQL.
>
> If you want to use python instead the code is fairly easy to write.
> Extracting the first two fields (for which the index expression really
> is written 0:2, not 0:1 or 1:2 as one might expect), you could use
>
> #!/usr/bin/env python
>
> import string
> import fileinput
>
> for line in fileinput.input():
>     flds = string.split(line, "\t")
>     print string.join(flds[0:2], "\t")
>

If you are on a unix box, and you have a tab delimited file, 'cut' will
easily cut out fields from the file. To automate it, use a shell program
to produce all the pairs you want. That is a 1980's solution but it should
work just fine.

David Scott

_________________________________________________________________
David Scott     Department of Statistics
                Tamaki Campus
                The University of Auckland, PB 92019
                Auckland        NEW ZEALAND
Phone: +64 9 373 7599 ext 6830     Fax: +64 9 373 7000
Email:  d.scott at Auckland.ac.nz

President, New Zealand Statistical Association

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Thu Jul 12 10:02:19 2001
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Thu, 12 Jul 2001 10:02:19 +0200
Subject: [R] Re: large survey data
Message-ID: <OFE4115432.64C781B0-ONC1256A87.002A954C@eurotel.cz>



> > Is there a way to import the data column by column? I have to analyze
> > the whole data, but only two variables at a time.
>
.....

>If you are on a unix box, and you have a tab delimited file, 'cut' will
>easily cut out fields from the file. To automate it, use a shell program
>to produce all the pairs you want. That is a 1980's solution but it should
>work just fine.

>David Scott

Yes, and this solution should work on a Windows workstation equipped with
Unix utilities, too.
I use stuff from www.cygwin.com (lots of Unix programs and tools -cat, sed,
make, gzip, perl, ...).
The only limitation is, that, when run in NT cmdshell instead of bash, it
does not handle (Unix) links.

Jan

-------------------------------------------------
designed for _monospaced_ font
-------------------------------------------------
/- Jan Svatos,              Sokolovska 855/225 -/
/- Data Analyst,            Prague 9           -/
/- Eurotel Praha            190 00             -/
/- jan_svatos at eurotel.cz    Czechia            -/
-------------------------------------------------




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at lagonda.wsl.ch  Thu Jul 12 10:49:55 2001
From: christian.hoffmann at lagonda.wsl.ch (Christian Hoffmann)
Date: Thu, 12 Jul 2001 10:49:55 +0200
Subject: [R] Sys.getenv
Message-ID: <3.0.6.32.20010712104955.0097bec0@mail.wsl.ch>

I am running R-1.3.0 on Solaris 8:

Under Solaris I do
setenv dendro_us hoffmann

echo $dendro_us gives back:
hoffmann

which is correct.

When in R I do:

Sys.getenv("dendro_us")  I get
dendro_us 
       "" 

which is NOT correct:

Inverse effect (taken from help of Sys.getenv)
Under R:
print(Sys.putenv("R_TEST"="testit", ABC=123))
[1] TRUE TRUE
Sys.getenv("R_TEST")   gives back:
  R_TEST 
"testit" 
which seems correct.

When in Solaris I do:
echo $R_TEST
R_TEST: Undefined variable.

which is NOT correct:

Third type of behaviour:
echo $HOME
/home/woodstock/hoffmann
and
Sys.getenv("HOME")
                      HOME 
"/home/woodstock/hoffmann" 

which are both correct.

QUESTION:
Are there two versions of the environment around? Or what am I missing?

>uname -a
SunOS fluke 5.7 Generic_106541-12 sun4d sparc SUNW,SPARCserver-1000

Thanks for help.

-christian
Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: christian.hoffmann_at_wsl.ch__prevent_spamming
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jul 12 11:49:37 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Jul 2001 11:49:37 +0200
Subject: [R] Sys.getenv
In-Reply-To: Christian Hoffmann's message of "Thu, 12 Jul 2001 10:49:55 +0200"
References: <3.0.6.32.20010712104955.0097bec0@mail.wsl.ch>
Message-ID: <x2hewi32a6.fsf@blueberry.kubism.ku.dk>

Christian Hoffmann <christian.hoffmann at lagonda.wsl.ch> writes:

> I am running R-1.3.0 on Solaris 8:
                                 ?? (see below)
> 
> Under Solaris I do
> setenv dendro_us hoffmann
> 
> echo $dendro_us gives back:
> hoffmann
> 
> which is correct.
> 
> When in R I do:
> 
> Sys.getenv("dendro_us")  I get
> dendro_us 
>        "" 
> 
> which is NOT correct:
> 
> Inverse effect (taken from help of Sys.getenv)
> Under R:
> print(Sys.putenv("R_TEST"="testit", ABC=123))
> [1] TRUE TRUE
> Sys.getenv("R_TEST")   gives back:
>   R_TEST 
> "testit" 
> which seems correct.
> 
> When in Solaris I do:
> echo $R_TEST
> R_TEST: Undefined variable.
> 
> which is NOT correct:
> 
> Third type of behaviour:
> echo $HOME
> /home/woodstock/hoffmann
> and
> Sys.getenv("HOME")
>                       HOME 
> "/home/woodstock/hoffmann" 
> 
> which are both correct.
> 
> QUESTION:
> Are there two versions of the environment around? Or what am I missing?

It's not quite clear to me exactly what you're doing, but the thing
that usually confuses people about environments is the following:

Environments exist on a per-process basis. A child process inherits a
*copy* of the parent environment. Making changes to an environment
does not affect the environment of any other running process.

E.g. the following is expected:

> Sys.putenv("FOO"="bar")
> system("echo $FOO")
bar
> q("no")
$ echo $FOO

$ 
but this should work (parallel to setenv but Bourne shell syntax):


$ BAR=foo ; export BAR
$ R --quiet
> Sys.getenv("BAR")
  BAR 
"foo" 


> >uname -a
> SunOS fluke 5.7 Generic_106541-12 sun4d sparc SUNW,SPARCserver-1000
              ??? (that'd make it Solaris 7, no?)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From archaux at yahoo.com  Thu Jul 12 13:05:29 2001
From: archaux at yahoo.com (archaux frederic)
Date: Thu, 12 Jul 2001 04:05:29 -0700 (PDT)
Subject: [R] G-test
Message-ID: <20010712110529.55492.qmail@web14504.mail.yahoo.com>

Hello,

I am looking for a R-package performing G-tests, I
looked at the website but did not find any. Does such
package exist for R?

Thank You in advance.

Frederic Archaux

Ph-student in Ecology (Montpellier, France)

__________________________________________________
Do You Yahoo!?
Get personalized email addresses from Yahoo! Mail
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maximino.ameneiro at metropoli2000.com  Thu Jul 12 13:49:26 2001
From: maximino.ameneiro at metropoli2000.com (Maximino Ameneiro Gomez)
Date: Thu, 12 Jul 2001 13:49:26 +0200
Subject: [R] Package DSE
Message-ID: <01071213492600.11940@linux>

Hi,

If I try to do this:

if(is.R()) data("eg1.DSE.data.diff", package="dse1") 
model <- est.VARX.ls(eg1.DSE.data.diff)

(Page 14 - DSE Package Manual)

I obtain a Segment Violation.

I use R-1.3.0 and the last dse package version

Maximino Ameneiro Gomez
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jul 12 15:22:52 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Jul 2001 15:22:52 +0200
Subject: [R] Package DSE
In-Reply-To: Maximino Ameneiro Gomez's message of "Thu, 12 Jul 2001 13:49:26 +0200"
References: <01071213492600.11940@linux>
Message-ID: <x28zhu2ser.fsf@blueberry.kubism.ku.dk>

Maximino Ameneiro Gomez <maximino.ameneiro at metropoli2000.com> writes:

> Hi,
> 
> If I try to do this:
> 
> if(is.R()) data("eg1.DSE.data.diff", package="dse1") 
> model <- est.VARX.ls(eg1.DSE.data.diff)
> 
> (Page 14 - DSE Package Manual)
> 
> I obtain a Segment Violation.
> 
> I use R-1.3.0 and the last dse package version

Works for me on RedHat 6.2. What's your platform?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From olivier.martin at inrialpes.fr  Thu Jul 12 16:20:22 2001
From: olivier.martin at inrialpes.fr (Olivier Martin)
Date: Thu, 12 Jul 2001 16:20:22 +0200
Subject: [R] non linear regression
Message-ID: <3B4DB226.28AA858B@inrialpes.fr>

Hi all,

Let x and y be two real predictor variables and z the real variable
reponse such that
z=f(x,y)+e.  Could you give some methods to estimate f and the R
packages if there are available.
f is unknown and i would be interested by kernel regression methods  or
methods based on projection to estimate it.
In the one dimension case, my problem can be solved with the function
lowess.
So, what should be the solution(s) in two dimensions ?

Thanks,
Olivier

--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
Olivier MARTIN               phone: (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42
INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                  e-mail:olivier.martin at inrialpes.fr
38334 Saint Ismier cedex
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010712/65c913b9/attachment.html

From laurent at cbs.dtu.dk  Thu Jul 12 16:58:39 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Thu, 12 Jul 2001 16:58:39 +0200
Subject: [R] G-test
References: <20010712110529.55492.qmail@web14504.mail.yahoo.com>
Message-ID: <3B4DBB1F.C359C976@cbs.dtu.dk>

Hi Frederic,


Do you refer to something related to the Getis statistics ? If so, you may find
helpfull things in the geoR package (which is btw described in the exxxxcellent
latest R-newsletter).


Hope it helps,




Laurent



archaux frederic wrote:

> Hello,
>
> I am looking for a R-package performing G-tests, I
> looked at the website but did not find any. Does such
> package exist for R?
>
> Thank You in advance.
>
> Frederic Archaux
>
> Ph-student in Ecology (Montpellier, France)
>
> __________________________________________________
> Do You Yahoo!?
> Get personalized email addresses from Yahoo! Mail
> http://personal.mail.yahoo.com/
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
Laurent Gautier                 CBS, Building 208, DTU
PhD. Student                    D-2800 Lyngby,Denmark
tel: +45 45 25 24 85            http://www.cbs.dtu.dk/laurent


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010712/bb8b4b17/attachment.html

From BMcElroy at economics.ucc.ie  Thu Jul 12 17:09:09 2001
From: BMcElroy at economics.ucc.ie (McElroy, Brendan)
Date: Thu, 12 Jul 2001 16:09:09 +0100
Subject: [R] Importing STATA files
Message-ID: <49AB9D0C6521D84ABD017BF83CDF44C440101C@xch1.ucc.ie>

I'm an R novice who is struggling with the importation STATA files into R.

I've loaded "foreign" and tried the example based on the Swiss file, which
works fine.  I then placed a STATA file, auto6.dta, in my working directory,
which is "C:\Program Files\R\rw1030\library\base\data".

The following is what happened:

> library(foreign)
> read.dta(auto6)
Error in read.dta(auto6) : Object "auto6" not found

So I tried:
> read.dta("C:\Program Files\R\rw1030\library\base\data\auto6")
Error in read.dta("C:Program FilesR\rw1030library\basedata") : 
        unable to open file

The same thing happens if I put the STATA file in various other directories
that I suspect "foreign" might treat as the working directory, all to no
avail.

Any help would be gratefully received.

Brendan McElroy
HRB Health Services Research Fellow
Departments of Economics and General Practice
University College Cork

Tel: + 353 21 490 3522
Fax: + 353 21 427 3920

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jul 12 17:27:05 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Jul 2001 17:27:05 +0200
Subject: [R] Importing STATA files
In-Reply-To: "McElroy, Brendan"'s message of "Thu, 12 Jul 2001 16:09:09 +0100"
References: <49AB9D0C6521D84ABD017BF83CDF44C440101C@xch1.ucc.ie>
Message-ID: <x2g0c2b22e.fsf@blueberry.kubism.ku.dk>

"McElroy, Brendan" <BMcElroy at economics.ucc.ie> writes:

> I'm an R novice who is struggling with the importation STATA files into R.
> 
> I've loaded "foreign" and tried the example based on the Swiss file, which
> works fine.  I then placed a STATA file, auto6.dta, in my working directory,
> which is "C:\Program Files\R\rw1030\library\base\data".
> 
> The following is what happened:
> 
> > library(foreign)
> > read.dta(auto6)
> Error in read.dta(auto6) : Object "auto6" not found

Needed quotes.

> So I tried:
> > read.dta("C:\Program Files\R\rw1030\library\base\data\auto6")
> Error in read.dta("C:Program FilesR\rw1030library\basedata") : 
>         unable to open file
> 
> The same thing happens if I put the STATA file in various other directories
> that I suspect "foreign" might treat as the working directory, all to no
> avail.

Needed forward slashes or doubled backslashes.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From whitcher at cgd.ucar.edu  Thu Jul 12 18:00:32 2001
From: whitcher at cgd.ucar.edu (Brandon Whitcher)
Date: Thu, 12 Jul 2001 10:00:32 -0600 (MDT)
Subject: [R] more subroutines for integrate()
Message-ID: <Pine.GSO.4.30.0107120954270.3234-100000@box.cgd.ucar.edu>


I was pleased to find integrate() using the quadpack routines "dqags" and
"dqagi".  However, I would also like to have the routine "dqawoe"
included.  This routine is summarized as follows...

c***keywords  automatic integrator, special-purpose,
c             integrand with oscillatory cos or sin factor,
c             clenshaw-curtis method, (end point) singularities,
c             extrapolation, globally adaptive
c***author  piessens,robert,appl. math. & progr. div. - k.u.leuven
c           de doncker,elise,appl. math. & progr. div. - k.u.leuven
c***purpose  the routine calculates an approximation result to a given
c            definite integral
c            i = integral of f(x)*w(x) over (a,b)
c            where w(x) = cos(omega*x) or w(x) = sin(omega*x),
c            hopefully satisfying following claim for accuracy
c            abs(i-result).le.max(epsabs,epsrel*abs(i)).

This is useful for numeric (inverse) Fourier transforms.  Is there any
hope?

cheers...

Brandon

----------------------------------------------------------------------------
  Geophysical Statistics Project
  National Center for Atmospheric Research          +1 303 497 1709  voice
  P.O. Box 3000, Boulder, CO  80307-3000            +1 303 497 1333  fax

  whitcher at ucar.edu                            www.cgd.ucar.edu/~whitcher/
----------------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Thu Jul 12 18:02:09 2001
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Thu, 12 Jul 2001 09:02:09 -0700
Subject: [R] rpart puzzle
Message-ID: <5.1.0.14.2.20010712084718.00a96568@127.0.0.1>

I've been using the package rpart with R 1.3.0 for Windows to produce 
simple classification trees for some measurement data from paleontological 
specimens.  Both the rpart documentation and the output confirm that the 
program produces splits on continuous data that leave "holes" in the 
data.  It is probably of little practical importance, but is there a reason 
why the binary splits are constructed in the form (e.g):

x7 < 37
x7 > 37

as opposed to the actual CART (tm) methodology of:

x7 <= 37
x7 > 37

It seems to me that if one were to use rpart to classify an unknown case 
where x7 = 37, the program wouldn't actually know which way to move the case.

I've read through the rpart technical report, the rpart user's manual, the 
rpart help file and see this practice illustrated, but don't find any 
explanation for this minor (and probably trivial) departure from the 
methodology illustrated in the CART program and in the Breiman et al book.






=====================
Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department
Portland State University
1721 SW Broadway
Portland, Oregon 97201
email:  feldesmanm at pdx.edu
phone:  503-725-3081
fax:    503-725-3905
http://web.pdx.edu/~h1mf
PGP Key Available On Request
======================

"Anyway, no drug, not even alcohol, causes the fundamental ills of society.
If we're looking for the source of our troubles, we shouldn't test people
for drugs, we should test them for stupidity, ignorance, greed and love of
power."   P.J. O'Rourke

Powered by Optiplochoerus and Windows 2000 (scary isn't it?)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Jul 12 18:23:43 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 12 Jul 2001 09:23:43 -0700 (PDT)
Subject: [R] more subroutines for integrate()
In-Reply-To: <Pine.GSO.4.30.0107120954270.3234-100000@box.cgd.ucar.edu>
Message-ID: <Pine.A41.4.33.0107120919200.38974-100000@homer08.u.washington.edu>

On Thu, 12 Jul 2001, Brandon Whitcher wrote:

>
> I was pleased to find integrate() using the quadpack routines "dqags" and
> "dqagi".  However, I would also like to have the routine "dqawoe"
> included.  This routine is summarized as follows...
>

If you are working under Unix it shouldn't be too hard to add this
yourself following the code in src/appl/integrate.c (and then submit
patches).  It looks like an addition that would be useful but it may not
be a high enough priority to actually get done.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.firth at nuffield.oxford.ac.uk  Thu Jul 12 18:33:11 2001
From: david.firth at nuffield.oxford.ac.uk (David Firth)
Date: Thu, 12 Jul 2001 17:33:11 +0100
Subject: [R] density estimation from interval-censored data
Message-ID: <a0501040eb7737d4ba894@[163.1.41.88]>

I am aware of the nice R package "logspline", which does smooth 
density estimation from interval-censored data (that is, values that 
are known to lie in a specified interval rather than known exactly). 
Function logspline.fit uses a maximum penalized likelihood method, 
with the penalty related to the number of knots used in a cubic 
regression-spline fit.

I need to be able to do some things that don't seem straightforward 
with the logspline package:
   (a) penalize the likelihood also for roughness, e.g. using the 
integrated squared second derivative
   (b) obtain approximate confidence limits for the density at specified points

My question: is there another R package that can help me with these 
things?  If so it would be good to know before I embark on 
programming them myself.

Thanks -- David
-- 


David Firth                        Phone +44 1865 278544
Nuffield College                   Fax   +44 1865 278621
Oxford OX1 1NF                     Secretary +44 1865 278553
United Kingdom                     Email david.firth at nuffield.ox.ac.uk

http://www.stats.ox.ac.uk/~firth/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MagillB at usa.redcross.org  Thu Jul 12 18:13:14 2001
From: MagillB at usa.redcross.org (Magill, Brett)
Date: Thu, 12 Jul 2001 12:13:14 -0400
Subject: [R] R Applied Regression Text
Message-ID: <AC09DC4F4DFCD211A83C00805FE6138D051E068D@nhqjpk1ex2.bionet.org>

Is this text publicized?  I ran across it doing an internet search.  I have
never seen any reference to it and it is not on CRAN under documentation. 

http://www.stat.lsa.umich.edu/~faraway/book/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Thu Jul 12 19:21:28 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 12 Jul 2001 19:21:28 +0200
Subject: [R] Citing an article from R News
In-Reply-To: <6rn16czd3c.fsf@franz.stat.wisc.edu>
References: <6rn16czd3c.fsf@franz.stat.wisc.edu>
Message-ID: <15181.56472.414200.571947@mithrandir.hornik.net>

>>>>> Douglas Bates writes:

> The editorial in Volume 1/2 of R News requests that we cite articles
> in R News by using the ISSN 1609-3631 and the URL
> http://cran.R-project.org/doc/Rnews/.  Could someone provide a sample
> BibTeX entry, say for Brian Ripley's article on "Installing R under
> Windows" from that issue?  I am using the natbib package, if that
> matters.

> I would start with

> @Article{R:Ripley:2001,
>   author = 	 {Brian D. Ripley},
>   title = 	 {Installing {R} under {W}indows},
>   journal = 	 {R News},
>   year = 	 2001,
>   volume =	 1,
>   number =	 2,
>   issn =         {1609-3631},
>   url =          {http://cran.R-project.org/doc/Rnews/}
> }

> but I am happy to accept corrections or changes.

I think this is ok.  You could also add page numbers, but maybe this is
not a good idea, as this is an on-line document ...

-k

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Thu Jul 12 19:43:07 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Thu, 12 Jul 2001 19:43:07 +0200
Subject: [R] G-test
References: <MABBLJDICACNFOLGIHJOAEHKCEAA.phgrosje@ulb.ac.be>
Message-ID: <3B4DE1AB.8E6D1194@cbs.dtu.dk>

Philippe Grosjean wrote:

> > Do you refer to something related to the Getis statistics ? If so,
> you may find helpfull things in the geoR package (which is btw
> described in the exxxxcellent latest R-newsletter).
> I suspect it is rather the G-test, alias "log likelihood ratio test",
> a test similar to Chi-2 but more robust (see: Sokal & Rholf, Biometry,
> 2nd Ed, p. 696)... I am interested too. So, if someone has a
> suggestion? Best regards,Philippe Grosjean
>

....hmmmm....


If I recollect correctly, the VR package offers something called loglm
that could do what you are looking for....




Regards,





Laurent




--
Laurent Gautier                 CBS, Building 208, DTU
PhD. Student                    D-2800 Lyngby,Denmark
tel: +45 45 25 24 85            http://www.cbs.dtu.dk/laurent


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010712/e37d2b21/attachment.html

From White.Denis at epamail.epa.gov  Thu Jul 12 20:22:50 2001
From: White.Denis at epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Thu, 12 Jul 2001 11:22:50 -0700
Subject: [R] rpart puzzle
Message-ID: <OF275AF2D9.8B3B06A2-ON88256A87.0064B346@rtp.epa.gov>


I haven't looked that carefully at rpart, but in tree the potential splits
are midpoints between actual data values.  So if x7 had values of 36 and
38, but not 37, a valid split would be < 37 and > 37.




                                                                                        
                    Marc Feldesman                                                      
                    <feldesmanm at pdx.edu>        To:     r-help at stat.math.ethz.ch        
                    Sent by:                    cc:     therneau at mayo.edu               
                    owner-r-help at stat.ma        Subject:     [R] rpart puzzle           
                    th.ethz.ch                                                          
                                                                                        
                                                                                        
                    07/12/2001 09:02                                                    
                                                                                        
                                                                                        




I've been using the package rpart with R 1.3.0 for Windows to produce
simple classification trees for some measurement data from paleontological
specimens.  Both the rpart documentation and the output confirm that the
program produces splits on continuous data that leave "holes" in the
data.  It is probably of little practical importance, but is there a reason

why the binary splits are constructed in the form (e.g):

x7 < 37
x7 > 37

as opposed to the actual CART (tm) methodology of:

x7 <= 37
x7 > 37

It seems to me that if one were to use rpart to classify an unknown case
where x7 = 37, the program wouldn't actually know which way to move the
case.

I've read through the rpart technical report, the rpart user's manual, the
rpart help file and see this practice illustrated, but don't find any
explanation for this minor (and probably trivial) departure from the
methodology illustrated in the CART program and in the Breiman et al book.






=====================
Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department
Portland State University
1721 SW Broadway
Portland, Oregon 97201
email:  feldesmanm at pdx.edu
phone:  503-725-3081
fax:    503-725-3905
http://web.pdx.edu/~h1mf
PGP Key Available On Request
======================

"Anyway, no drug, not even alcohol, causes the fundamental ills of society.
If we're looking for the source of our troubles, we shouldn't test people
for drugs, we should test them for stupidity, ignorance, greed and love of
power."   P.J. O'Rourke

Powered by Optiplochoerus and Windows 2000 (scary isn't it?)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Thu Jul 12 22:03:23 2001
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Thu, 12 Jul 2001 13:03:23 -0700
Subject: [R] rpart puzzle
In-Reply-To: <OF275AF2D9.8B3B06A2-ON88256A87.0064B346@rtp.epa.gov>
Message-ID: <5.1.0.14.2.20010712125546.025e1998@127.0.0.1>

Two problems here:

1)  rpart is supposed to follow the Breiman et al (1984) monograph, which 
looks at all n*v values of potential splitters (n = cases; v= variables) 
and then splits on the midpoint using the rule:

x7<= 37
x7 > 37

2)  It makes the tree useless for dealing with unknown observations where 
x7 may happen to equal 37.

The reason this even came to my notice is because of this precise 
circumstance.  I found that rpart moved to a surrogate variable when 
x7=37.  There was no need to use a surrogate since x7 wasn't missing and 
assumed a value well within x7's range.



At 11:22 AM 7/12/2001 -0700, White.Denis at epamail.epa.gov wrote:

>I haven't looked that carefully at rpart, but in tree the potential splits
>are midpoints between actual data values.  So if x7 had values of 36 and
>38, but not 37, a valid split would be < 37 and > 37.
>
>
>
>
> 
>
>                     Marc 
> Feldesman
>                     <feldesmanm at pdx.edu>        To: 
> r-help at stat.math.ethz.ch
>                     Sent 
> by:                    cc:     therneau at mayo.edu
>                     owner-r-help at stat.ma        Subject:     [R] rpart 
> puzzle
>                     th.ethz.ch 
>
> 
>
> 
>
>                     07/12/2001 
> 09:02
> 
>
> 
>
>
>
>
>
>I've been using the package rpart with R 1.3.0 for Windows to produce
>simple classification trees for some measurement data from paleontological
>specimens.  Both the rpart documentation and the output confirm that the
>program produces splits on continuous data that leave "holes" in the
>data.  It is probably of little practical importance, but is there a reason
>
>why the binary splits are constructed in the form (e.g):
>
>x7 < 37
>x7 > 37
>
>as opposed to the actual CART (tm) methodology of:
>
>x7 <= 37
>x7 > 37
>
>It seems to me that if one were to use rpart to classify an unknown case
>where x7 = 37, the program wouldn't actually know which way to move the
>case.
>
>I've read through the rpart technical report, the rpart user's manual, the
>rpart help file and see this practice illustrated, but don't find any
>explanation for this minor (and probably trivial) departure from the
>methodology illustrated in the CART program and in the Breiman et al book.
>
>
>
>
>
>
>=====================
>Dr. Marc R. Feldesman
>Professor and Chairman
>Anthropology Department
>Portland State University
>1721 SW Broadway
>Portland, Oregon 97201
>email:  feldesmanm at pdx.edu
>phone:  503-725-3081
>fax:    503-725-3905
>http://web.pdx.edu/~h1mf
>PGP Key Available On Request
>======================
>
>"Anyway, no drug, not even alcohol, causes the fundamental ills of society.
>If we're looking for the source of our troubles, we shouldn't test people
>for drugs, we should test them for stupidity, ignorance, greed and love of
>power."   P.J. O'Rourke
>
>Powered by Optiplochoerus and Windows 2000 (scary isn't it?)
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
>-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
>_._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From quale at stat.berkeley.edu  Thu Jul 12 22:10:15 2001
From: quale at stat.berkeley.edu (Christopher Quale)
Date: Thu, 12 Jul 2001 13:10:15 -0700
Subject: [R] question about licensing
Message-ID: <3B4E0427.4000905@stat.berkeley.edu>


Sorry if this an inappropriate place to post this question - I have read 
the FAQ's and looked through the mailing list archives but couldn't find 
an answer to my problem. I am working my way through the GPL to try and 
answer this myself, but I was wondering if someone could offer some 
guidance.

I am working on a commercial software development project for which data 
analysis is to be integrated into the program. If we were to distribute 
copies of our software, what would be the effect if the R interpreter 
(necessary to run scripts that are written by me to do data analysis) 
were also part of the software? In particular how would that effect the 
open/closed nature of the source code for the rest of the project? Since 
the results of the data analysis (the "output" of the program) is what 
is of interest, does this mean that the rest of the software for the 
project must be distributed according to the GPL? Does the use of 
scripts to be run by the R interpreter constitute altering the program 
(I am guessing not)? What if I made calls to R from a C program? (Note 
that I don't plan to redistribute altered versions of the R interpreter).

I will be judicious in the modules I use so as not to use those that are 
expressly for non-commercial use, but for those covered under the GPL 
(and R itself) I am a bit unclear as to the consequences of distributing 
our software with the R interpreter (should we decide to do so).

Thanks,
Chris

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Thu Jul 12 23:04:42 2001
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Thu, 12 Jul 2001 14:04:42 -0700
Subject: [R] rpart puzzle
Message-ID: <5.1.0.14.2.20010712134846.00a969f8@127.0.0.1>

I amend my previous observation.  After constructing a very careful 
example, rpart works exactly the opposite of CART.  In the following split:

x7 < 37  go left
x7 > 37  go right

if x7=37 the case appears to go right.  In other words, the split appears 
to be of the form:

x7 < 37
x7 >= 37,

which is precisely the opposite form that CART(tm) uses.

Again, I'm not sure what practical difference this makes except that when a 
case has a primary splitter that is in an (apparently) excluded part of the 
domain, the case goes with the "no" answer to the question.  (This is, of 
course, obvious if typical 'short-circuit' evaluation is used - because the 
value fails the first test (x7 <37) it must obviously go with the 
alternative.  In CART, the case goes with the "yes" answer.  Don't know 
what tree does since I don't use it.

In my test example, rpart's behavior results in a misclassification.  Had 
the test result gone the other way the case gets classified 
correctly.  Walking the tree demonstrates this quite easily.  Also, 
changing the value of 37 to 36.9999 produces the correct 
classification.  (Now I *do* realize that I'm working with floating point 
numbers and so "real" 37 may not truly equal "integer" 37, which may 
account for *this* anomaly).

Did I have the misfortune to pull an "unknown" with a major primary 
splitter occupying an ambiguous part of the domain, or is this a more 
significant problem?




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Fri Jul 13 04:37:17 2001
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Thu, 12 Jul 2001 22:37:17 -0400
Subject: [R] Package DSE
References: <01071213492600.11940@linux>
Message-ID: <3B4E5EDD.9CBFB1FF@bank-banque-canada.ca>

Maximino Ameneiro Gomez <maximino.ameneiro at metropoli2000.com> writes:

>If I try to do this:

>if(is.R()) data("eg1.DSE.data.diff", package="dse1")
>model <- est.VARX.ls(eg1.DSE.data.diff)

>(Page 14 - DSE Package Manual)
>I obtain a Segment Violation.
>I use R-1.3.0 and the last dse package version

That example is also in the help, so it has run on many platforms
(automatically whenever the package is tested). I run it regularly in
Solaris and in Linux. Could you please provide a few more details about
your platform, other packages you are using at the same time, and
anything else that may be unusual.

Paul Gilbert


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Jul 13 09:11:45 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 13 Jul 2001 09:11:45 +0200
Subject: [R] R Applied Regression Text
In-Reply-To: <AC09DC4F4DFCD211A83C00805FE6138D051E068D@nhqjpk1ex2.bionet.org>
References: <AC09DC4F4DFCD211A83C00805FE6138D051E068D@nhqjpk1ex2.bionet.org>
Message-ID: <15182.40753.367245.539079@gargle.gargle.HOWL>

>>>>> "BMagill" == Magill, Brett <MagillB at usa.redcross.org> writes:
(to R-help)

    BMagill> Is this text publicized?  I ran across it doing an internet
    BMagill> search.  I have never seen any reference to it and it is not
    BMagill> on CRAN under documentation.

    BMagill> http://www.stat.lsa.umich.edu/~faraway/book/

why don't you first ask the book author, Julian Faraway,
whose e-mail address, faraway at umich.edu, is clearly there?

People in our group here also had seen that manuscript a while ago,
and I seem to remember the author didn't want to publicize it widely for
some specific reasons?

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From denis.choquet at rd.francetelecom.com  Fri Jul 13 10:04:07 2001
From: denis.choquet at rd.francetelecom.com (zze-CHOQUET Denis stagiaire FTRD/DMI/SOP)
Date: Fri, 13 Jul 2001 10:04:07 +0200
Subject: [R] Histogram with logarithmic scale
Message-ID: <D5FD8AC43CFED3119A8E00508B6FECFEC7FF92@p-merle.rd.francetelecom.fr>


> My question is not about statistics but more obviously about an R command.
> I would like to plot an histogram with a logarithmic scale. I have
> searched through R documentation and have read about the "log" option.
> What matters is that it does not work with the hist() function. I'm
> working with R version 1.2.3 . Maybe the problem has been solved in R 1.3
> .
> Thanks for your help,
> Regards,
> Denis Choquet
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From henrikb at braju.com  Fri Jul 13 11:07:18 2001
From: henrikb at braju.com (Henrik Bengtsson)
Date: Fri, 13 Jul 2001 02:07:18 -0700
Subject: [R] watch out for quotes in data files
Message-ID: <KKEGJOGBELBHDIKPINBMGEGHCFAA.henrikb@braju.com>

I had exactly the same problem with some GenePix Results Data files. The
solution is to add an argument quote="" to read.table() and/or scan(). In
your case I believe you should use

  read.table(filename, sep = "\t", quote = "", header = TRUE)

instead. You don't have to modify the source files.

Henrik Bengtsson

>I have had similar problems with R 1.2.2. Everytime a string has the '
>single quote, it reads up to a maximum of 8192 characters into the item,
>creating memory and parsing problems. I make it a habit now to remove all '
>(single quotes) from the text or replace them with double quotes.
>
>
>--
>Vele Samak, Vice President
>Global Quantitative Research
>Salomon Smith Barney
>7 WTC, New York, NY 10048, 212-783-7007
>>-----Original Message-----
>>From: Douglas Bates [mailto:bates at stat.wisc.edu]
>>Sent: Monday, July 09, 2001 11:53 PM
>>To: R-help at stat.math.ethz.ch
>>Subject: [R] watch out for quotes in data files
>>I have just spent a day trying to determine why I seemed to be unable
>>to read a file of microarray expression results into R properly.  The
>>file was produced by the Dchip software developed by Li and Wong at
>>Harvard's Department of Biostatistics.  It contains rows of
>>tab-delimited fields in the order
>>Probe set identifier
>>Probe set description
>>Array 1 expression
>>Array 1 call
>>Array 2 expression
>>Array 2 call
>>...
>>plus an extra tab (which I think is due to a programming glich).
>>There are 7130 rows, including the column headers, for results from
>>Affymetrix Hu6800 chips.
>>When I read this file using read.table(filename, sep = "\t", head = TRUE)
>>I got only 3720 rows.  Furthermore count.fields(filename, sep = "\t")
>>gave a result of length 7130 but several of the rows were reported as
>>having only two fields instead of 15 like the other rows.
>>It seemed to me that the important characteristic of these rows was
>>their having a very long "Probe set description" and I wasted quite a
>>bit of time looking for possible buffer overflows that might be
>>triggered by this.
>>When I finally came to my senses and created a much smaller input file
>>that only contained a few rows, including one that was giving an
>>aberrant field count, I could directly examine the results of scan()
>>applied to it.  I noticed that the second field for the aberrant line
>>contained all the subsequent lines and then I saw that its description
>>included "5'" (as in the 5' end of the sequence versus the 3' end).
>>Other descriptions had this written as "5 prime" but this one used
>>"5'".  What was happening was that everything from there to the next
>>"'" character in the file was being included as part of that
>>description.
>>I could read the file properly by adding the optional argument quote =
>>"" to the call to read.table.
>>The moral of the story is to watch out for molecular biologists who
>>use unpaired quote characters in their descriptions.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From denis.choquet at rd.francetelecom.com  Fri Jul 13 11:45:01 2001
From: denis.choquet at rd.francetelecom.com (zze-CHOQUET Denis stagiaire FTRD/DMI/SOP)
Date: Fri, 13 Jul 2001 11:45:01 +0200
Subject: [R] Histogram with logarithmic scale
Message-ID: <D5FD8AC43CFED3119A8E00508B6FECFEC7FF95@p-merle.rd.francetelecom.fr>

As I thought, my question was not very interesting. I have now found a
solution. The problem, which I think I had not explained clearly, was that I
had values >=0 and I wanted to plot an histogram of log(values+1) but with
the initial axis, (not the logarithmic). These are the commands I used:

ff_function(x)
{
 log(x+1)
}
data2_sapply(data,FUN="ff")
histo_hist(data2)
bornes_histo$mids+(histo$mids[2]-histo$mids[1])/2
ax_round(exp(bornes)-1,2)
axis(3,bornes,labels=ax)

This is OK for me.

       
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faraway at umich.edu  Fri Jul 13 12:55:07 2001
From: faraway at umich.edu (Julian Faraway)
Date: Fri, 13 Jul 2001 06:55:07 -0400 (EDT)
Subject: [R] R Applied Regression Text
In-Reply-To: <15182.40753.367245.539079@gargle.gargle.HOWL>
Message-ID: <Pine.GSO.4.31.0107130643020.7833-100000@bayes.stat.lsa.umich.edu>


Feel free to put it on CRAN. It's a book about Regression and ANOVA that
uses R rather than how to use R for Regression and ANOVA so it's not
really "R Documentation" as such. Even so people who already know the
statistics may find the worked R examples useful.

Julian Faraway <faraway at umich.edu>
http://www.stat.lsa.umich.edu/~faraway/


On Fri, 13 Jul 2001, Martin Maechler wrote:

> >>>>> "BMagill" == Magill, Brett <MagillB at usa.redcross.org> writes:
> (to R-help)
>
>     BMagill> Is this text publicized?  I ran across it doing an internet
>     BMagill> search.  I have never seen any reference to it and it is not
>     BMagill> on CRAN under documentation.
>
>     BMagill> http://www.stat.lsa.umich.edu/~faraway/book/
>
> why don't you first ask the book author, Julian Faraway,
> whose e-mail address, faraway at umich.edu, is clearly there?
>
> People in our group here also had seen that manuscript a while ago,
> and I seem to remember the author didn't want to publicize it widely for
> some specific reasons?
>
> Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
> Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
> ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
> phone: x-41-1-632-3408		fax: ...-1228			<><
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Fri Jul 13 14:01:52 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Fri, 13 Jul 2001 08:01:52 -0400 (EDT)
Subject: [R] R Applied Regression Text
Message-ID: <200107131201.IAA21653@cattell.psych.upenn.edu>

The actual url for the book is
http://www.stat.lsa.umich.edu/~faraway/book/pra.pdf for pdf (or
ps for postscript).  The links as written in Faraway's web pages
do not work.

This looks like a _very_ useful book.  A quick scan of it, by me,
failed to find the one topic on which I really need some more
introductory instruction, though, the use of Error(), as in error
strata.

Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Fri Jul 13 15:12:09 2001
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Fri, 13 Jul 2001 15:12:09 +0200
Subject: [R] Text in plots
Message-ID: <3B4EF3A9.2289B7CD@psy.uni-muenchen.de>

Hi there,

I've added some test to my plots with:

> diff <- ma - m
> mtext(substitute(Delta == that, list(that=diff)), side=3, adj=0, line=0, cex=0.8)

Now I want to add a "V" and tried this:

>mtext(substitute(list(Delta, italic(V)) == that, list(that=diff)), ...)

but this plots a comma between Delta and V. How can I add Delta V
without the comma?

Thanks, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jul 13 17:43:53 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 13 Jul 2001 08:43:53 -0700 (PDT)
Subject: [R] Text in plots
In-Reply-To: <3B4EF3A9.2289B7CD@psy.uni-muenchen.de>
Message-ID: <Pine.A41.4.33.0107130842240.52396-100000@homer12.u.washington.edu>

On Fri, 13 Jul 2001, Sven Garbade wrote:

> Hi there,
>
> I've added some test to my plots with:
>
> > diff <- ma - m
> > mtext(substitute(Delta == that, list(that=diff)), side=3, adj=0, line=0, cex=0.8)
>
> Now I want to add a "V" and tried this:
>
> >mtext(substitute(list(Delta, italic(V)) == that, list(that=diff)), ...)
>
> but this plots a comma between Delta and V. How can I add Delta V
> without the comma?

Delta*italic(V) rather than list(Delta,italic(V))


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jim_Garrett at bd.com  Fri Jul 13 17:44:08 2001
From: Jim_Garrett at bd.com (Jim_Garrett@bd.com)
Date: Fri, 13 Jul 2001 11:44:08 -0400
Subject: [R] R.dll
Message-ID: <OFA1EE29BF.657546C8-ON85256A86.006F6252@bd.com>


I'm looking into making R functions available from a Visual Basic
application.  Venables and Ripley point out in _S Programming_ that this is
possible with automation via DCOM and by linking to R DLL(s) at compile
time.  I'm intrigued by the latter possibility, and would appreciate
information anyone might be able to provide, especially:

1.  Do I need to link to R.dll only or would I need other DLL's as well?
2.  Where does the parser fit into this?  What is involved in having an
application interact with the parser?
3.  At the moment I'm only thinking about the feasibility and the potential
benefits of this route, but if I pursue it, I'll certainly need more
specific information.  I gather that currently there is no documentation
about interacting with the DLL's directly, aside from whatever is in the
source code.  Are there any other written materials that I might find
helpful?  And would specific questions about this topic be more
appropriately addressed to the development list rather than this list?

By the way, I've used S-Plus for years and I just downloaded R a few days
ago.  Already I've made use of some features R enjoys over S-Plus.  For
example, optimizing data-dependent functions (in my case a penalized
likelihood function) is more straightforward in R than in S.  I'm very
excited and enthusiastic about this.  Many thanks to all those who have
made this possible!

Thanks very much for any information,

Jim Garrett
jim_garrett at bd.com
Becton Dickinson
Baltimore, Maryland, USA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Fri Jul 13 17:56:04 2001
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Fri, 13 Jul 2001 17:56:04 +0200
Subject: [R] Text in plots
References: <Pine.A41.4.33.0107130842240.52396-100000@homer12.u.washington.edu>
Message-ID: <3B4F1A14.935ABDF1@psy.uni-muenchen.de>

Thomas Lumley wrote:
> 
> On Fri, 13 Jul 2001, Sven Garbade wrote:
> 
> > Hi there,
> >
> > I've added some test to my plots with:
> >
> > > diff <- ma - m
> > > mtext(substitute(Delta == that, list(that=diff)), side=3, adj=0, line=0, cex=0.8)
> >
> > Now I want to add a "V" and tried this:
> >
> > >mtext(substitute(list(Delta, italic(V)) == that, list(that=diff)), ...)
> >
> > but this plots a comma between Delta and V. How can I add Delta V
> > without the comma?
> 
> Delta*italic(V) rather than list(Delta,italic(V))

Thanks, this works.

By, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetilh at umsanet.edu.bo  Fri Jul 13 23:49:01 2001
From: kjetilh at umsanet.edu.bo (kjetil halvorsen)
Date: Fri, 13 Jul 2001 17:49:01 -0400
Subject: [R] G-test
References: <MABBLJDICACNFOLGIHJOAEHKCEAA.phgrosje@ulb.ac.be>
Message-ID: <3B4F6CCD.BFE3E4AC@umsanet.edu.bo>



> Philippe Grosjean wrote:
> 
>  > Do you refer to something related to the Getis statistics ? If so,
> you may find helpfull things in the geoR package (which is btw
> described in the exxxxcellent latest R-newsletter).
> 
>  I suspect it is rather the G-test, alias "log likelihood ratio test",

If that its, it can be get with log-linear models.

Kjetil Halvorsen

> a test similar to Chi-2 but more robust (see: Sokal & Rholf, Biometry,
> 2nd Ed, p. 696)... I am interested too. So, if someone has a
> suggestion?
> 
> Best regards,
> 
> Philippe Grosjean
> 
> 
> ...........]<(({?<...............<?}))><...............................
>  ) ) ) ) )       __                      __
> ( ( ( ( (       |__)                    |  _
>  ) ) ) ) )      |   hilippe             |__)rosjean
> ( ( ( ( (       Marine Biol. Lab., ULB, Belgium
>  ) ) ) ) )                               __
> ( ( ( ( (       |\  /|                  |__)
>  ) ) ) ) )      | \/ |ariculture &      |__)iostatistic s
> ( ( ( ( (
>  ) ) ) ) )      e-mail: phgrosje at ulb.ac.be
> ( ( ( ( (       SciViews project coordinator (http://www.sciviews.org)
>  ) ) ) ) )
> .......................................................................
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From greg at warnes.net  Sat Jul 14 00:07:59 2001
From: greg at warnes.net (Gregory R. Warnes)
Date: Fri, 13 Jul 2001 18:07:59 -0400
Subject: [R] calling rand_unif() from fortran?
Message-ID: <01071318075900.14429@haplo>


What is the necesary incatation to call rand_unif() from a fortran routine?

-Greg
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murphyk at cs.berkeley.edu  Fri Jul 13 23:17:01 2001
From: murphyk at cs.berkeley.edu (Kevin Murphy)
Date: Fri, 13 Jul 2001 14:17:01 -0700
Subject: [R] ordered factors in tree package - bug?
Message-ID: <3B4F654D.BEB72B79@cs.berkeley.edu>

I am new to R, and didn't know which list to send this to, since it is a
bug report about a package, not about core R...

I have created a regression tree using 4 predictors: 3 are unordered
(binary) predictors, and the last is a date (integer), which I declare
to be an ordered factor. However, the tree treats the date as if it were
un-ordered, splitting into non-consecutive subsets.

My code

dat <- read.table("/home/cs/murphyk/R/Eugene/102.dat", header=TRUE)
dat$machine <- factor(dat$machine)
dat$TIM <- factor(dat$TIM)
dat$lid <- factor(dat$lid)
#dat$date <- factor(dat$date, ordered=TRUE)
dat$date <- ordered(dat$date)
tr <- tree(TRES ~ ., dat)

produces

 1) root 100 0.149300 0.2345  
   2) TIM: 111 47 0.020650 0.2011  
     4) date: 9,11 11 0.002673 0.1845 *
     5) date: 6,7,8,10,13,14,15,16,17,18,19 36 0.014060 0.2061 *
   3) TIM: 222 53 0.029490 0.2642  
     6) date: 6,7,11,12,14,15,18,19 28 0.010670 0.2539  
      12) lid: A 6 0.001350 0.2350 *
      13) lid: B 22 0.006582 0.2591 *
     7) date: 8,9,10,13,16,17 25 0.012620 0.2756  
      14) machine: 101 14 0.005750 0.2850 *
      15) machine: 102 11 0.004055 0.2636 *

and yet

> dat$date
  [1] 6  6  6  6  6  7  7  7  7  7  7  7  8  8  8  9  9  9  9  9  9  9 
9  9  10
 [26] 10 10 10 10 10 11 11 11 11 11 11 11 11 12 12 12 13 13 13 13 13 13
13 13 13
 [51] 13 13 14 14 14 14 14 14 14 15 15 15 15 15 15 15 15 15 15 16 16 16
16 16 16
 [76] 16 16 17 17 17 17 17 17 17 17 17 17 17 17 17 18 18 18 18 18 19 19
19 19 19
Levels:  6 < 7 < 8 < 9 < 10 < 11 < 12 < 13 < 14 < 15 < 16 < 17 < 18 < 19 
> is.ordered(dat$date)
[1] TRUE



Also, how do I deal with dates of the form dd/mm/yy, instead of just
integers? (In the above file, I used perl to extract the day, since I
new month and year were constant.)

I have attached the text file 102.dat, so you can easily reproduce the
above bug. I am using R 1.2.3 on linux. For future reference, is it
considered bad form to send attachments?


Kevin
-------------- next part --------------
date machine TIM lid TRES
6 101 222 B 0.24
6 102 222 B 0.26
6 102 111 B 0.20
6 102 222 B 0.24
6 101 111 A 0.20
7 102 111 A 0.20
7 101 111 B 0.25
7 102 222 B 0.27
7 101 111 A 0.18
7 102 111 A 0.18
7 101 222 B 0.28
7 102 222 B 0.24
8 102 111 B 0.21
8 101 222 B 0.25
8 101 222 B 0.29
9 101 222 B 0.28
9 101 111 A 0.17
9 102 222 A 0.27
9 101 111 A 0.21
9 102 111 A 0.16
9 101 111 A 0.21
9 102 111 A 0.18
9 101 111 A 0.18
9 102 111 A 0.18
10 102 222 B 0.30
10 101 222 B 0.29
10 102 222 A 0.25
10 101 222 B 0.29
10 102 222 B 0.23
10 102 111 A 0.20
11 102 222 B 0.24
11 101 111 A 0.17
11 102 111 A 0.18
11 102 222 A 0.26
11 102 111 A 0.20
11 102 222 B 0.28
11 101 111 A 0.19
11 102 222 A 0.23
12 101 222 B 0.26
12 101 222 B 0.24
12 102 222 B 0.26
13 101 222 B 0.27
13 102 222 B 0.28
13 102 222 B 0.26
13 101 111 A 0.20
13 101 111 A 0.20
13 102 222 B 0.27
13 102 111 A 0.19
13 102 222 A 0.24
13 101 111 A 0.24
13 101 222 B 0.30
13 102 222 B 0.25
14 101 111 B 0.21
14 102 222 B 0.25
14 102 222 B 0.28
14 101 222 B 0.23
14 102 111 A 0.21
14 101 111 A 0.19
14 101 222 B 0.26
15 102 222 A 0.25
15 102 111 A 0.21
15 101 222 B 0.28
15 102 222 A 0.22
15 101 111 A 0.23
15 102 222 A 0.23
15 101 222 B 0.27
15 102 222 B 0.23
15 101 222 B 0.27
15 102 222 B 0.28
16 101 222 A 0.28
16 101 222 B 0.27
16 101 111 A 0.20
16 101 222 B 0.34
16 101 222 B 0.27
16 102 111 A 0.24
16 102 111 A 0.21
16 102 111 B 0.17
17 102 111 A 0.20
17 101 111 A 0.20
17 102 111 A 0.17
17 101 222 A 0.29
17 102 222 B 0.27
17 101 222 B 0.27
17 102 111 B 0.22
17 102 222 B 0.28
17 101 111 A 0.20
17 101 111 A 0.20
17 101 111 B 0.20
17 101 222 B 0.30
17 101 111 A 0.22
18 101 222 B 0.28
18 101 111 B 0.26
18 101 111 A 0.18
18 102 111 B 0.21
18 101 222 A 0.22
19 101 111 B 0.21
19 102 111 A 0.21
19 101 222 B 0.26
19 101 111 A 0.22
19 102 111 A 0.20

From msadam at soest.hawaii.edu  Sat Jul 14 03:03:14 2001
From: msadam at soest.hawaii.edu (M. Shiham Adam)
Date: Fri, 13 Jul 2001 15:03:14 -1000
Subject: [R] Secondary y-axis
Message-ID: <LCENIBLABFNICAKKCGOAIEHBCCAA.msadam@soest.hawaii.edu>

Dear R Users,

I have been trying to add a  secondary y-axis to an existing plot. I thought
this could be a trivial matter and have checked the Manual and Mailing List
Archive to see If I can find a solution.

It appears the suggested method by Uwe Ligges (fot from the Archive) did not
work. I am getting an error message saying the  "Error in plot.new() : axis
style "d" unimplemented". Does any one has simple a fix to this problem.

Shiham



> I want to combine two plots. On the one hand i've got a histogram and on
the other hand a line plot. The y axis of the plot are different and i want
both axis (one on the right side the >other on the left side) in the plot.
How can I do this in R ?


I would try something like:


hist(....., xlim=c(.....))
par(new=TRUE)
plot(....., xaxt="n", yaxt="n", xlim=c(.....))
axis(4)

Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Han-Lin.Lai at noaa.gov  Sat Jul 14 03:42:02 2001
From: Han-Lin.Lai at noaa.gov (Han-Lin Lai)
Date: Fri, 13 Jul 2001 21:42:02 -0400
Subject: [R] F or Chi^2 test in GAM and other nonparametric model
Message-ID: <001901c10c06$2ebc1620$b5c192ac@whoi.edu>

Hi,

I believe that this is not a right place to post this question.  However, I
am using R and found that I am able to got many valuable hints.  Therefore,
I would ask:

Does any one have the references of selecting significant level (alpha) for
F or Chi^2-test in GAM and other nonparametric model.  Some have suggested
to use alpha=0.10 rather than conventional 0.05.  I'd like to see what are
the rationals and theories of this suggestion.

Thanks in advance.

Cheers!
Han

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sat Jul 14 16:24:39 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 14 Jul 2001 16:24:39 +0200
Subject: [R] Secondary y-axis
References: <LCENIBLABFNICAKKCGOAIEHBCCAA.msadam@soest.hawaii.edu>
Message-ID: <3B505627.4BA507D9@statistik.uni-dortmund.de>

"M. Shiham Adam" wrote:
> 
> Dear R Users,
> 
> I have been trying to add a  secondary y-axis to an existing plot. I thought
> this could be a trivial matter and have checked the Manual and Mailing List
> Archive to see If I can find a solution.
> 
> It appears the suggested method by Uwe Ligges (fot from the Archive) did not
> work. I am getting an error message saying the  "Error in plot.new() : axis
> style "d" unimplemented". Does any one has simple a fix to this problem.


The following example (and also the one of my old mail) works for me:

 x <- rnorm(100)
 hist(x)
 par(new = TRUE)
 plot(-2:2, 1:5, xaxt = "n", yaxt = "n", xlab="", ylab="")
 axis(4)

If you want two times the identically scaled y-axis to an existing plot,
just use

 plot(...)
 axis(4)


If this doesn't help, please tell us:

 - the code you used exactly
 - version of R
 - OS


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From greg at warnes.net  Sat Jul 14 17:37:49 2001
From: greg at warnes.net (Gregory R. Warnes)
Date: Sat, 14 Jul 2001 11:37:49 -0400
Subject: [R] Calling rand_unif() from fortran
Message-ID: <3B50674D.C35C0904@warnes.net>


What is the necesary incantation to call rand_unif() from a fortran
routine?

Just inserting rand_unif() into the fortran code compiles OK, but won't
dyn.load():


> dyn.load("forest.so")
Error in dyn.load(x, as.logical(local), as.logical(now)) : 
	unable to load shared library "/home/warnes/R/forest/forest.so":
  /home/warnes/R/forest/forest.so: undefined symbol: unif_rand__


Do I have to write a bit of C code to "wrap" the call using F77_SUB?

-Greg
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guo52717 at yahoo.com  Sat Jul 14 20:08:48 2001
From: guo52717 at yahoo.com (Guoqiang Wang)
Date: Sat, 14 Jul 2001 11:08:48 -0700 (PDT)
Subject: [R] how to type long string
Message-ID: <20010714180848.80038.qmail@web10104.mail.yahoo.com>

Hi, All:

I try to type some long string in R console, whenever
I like to change to a new line, I get error message.

The following is my simple code
--------------------------------------
h3 <- sqlQuery(myConnect, "select * from console where

Error: syntax error
byday = 'dd1'group by by hour") 
Error: syntax error

---------------------------------------

Any Hints?

Thanks.

Grant, UWO

__________________________________________________
Do You Yahoo!?
Get personalized email addresses from Yahoo! Mail
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Jul 14 21:42:42 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Jul 2001 21:42:42 +0200
Subject: [R] how to type long string
In-Reply-To: Guoqiang Wang's message of "Sat, 14 Jul 2001 11:08:48 -0700 (PDT)"
References: <20010714180848.80038.qmail@web10104.mail.yahoo.com>
Message-ID: <x2ofqnqoul.fsf@blueberry.kubism.ku.dk>

Guoqiang Wang <guo52717 at yahoo.com> writes:

> Hi, All:
> 
> I try to type some long string in R console, whenever
> I like to change to a new line, I get error message.
> 
> The following is my simple code
> --------------------------------------
> h3 <- sqlQuery(myConnect, "select * from console where
> 
> Error: syntax error
> byday = 'dd1'group by by hour") 
> Error: syntax error
> 
> ---------------------------------------
> 
> Any Hints?

You just can't do that... If SQL allows newlines in expressions, you
could do

h3 <- sqlQuery(myConnect, "select * from console where \
 byday = 'dd1' group by hour")

(Since 
> x <- "a\    
+ n"
> x
[1] "a\nn"
)

Otherwise you need an explicit paste(), as in

querystr <- paste("select * from console where",
                  "byday = 'dd1' group by hour")
h3 <- sqlQuery(myConnect, querystr)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Sat Jul 14 21:48:06 2001
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Sat, 14 Jul 2001 15:48:06 -0400
Subject: [R] how to type long string
In-Reply-To: <20010714180848.80038.qmail@web10104.mail.yahoo.com>
References: <20010714180848.80038.qmail@web10104.mail.yahoo.com>
Message-ID: <ta81lt0esgi6m9iboo0unu477jvbrlieep@4ax.com>

On Sat, 14 Jul 2001 11:08:48 -0700 (PDT), you wrote:

>Hi, All:
>
>I try to type some long string in R console, whenever
>I like to change to a new line, I get error message.

There are two ways.  End each line with a backslash, i.e.

  s <- 'Start of long string\
second line of long string'

This puts a \n in the string.  I don't know if there's a way to avoid
that on input, but you case use paste:

 s <- paste('Start of long string',
'second part of long string')

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sat Jul 14 21:49:36 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 14 Jul 2001 21:49:36 +0200
Subject: [R] how to type long string
References: <20010714180848.80038.qmail@web10104.mail.yahoo.com>
Message-ID: <3B50A250.3FB3AF0E@statistik.uni-dortmund.de>



Guoqiang Wang wrote:
> 
> Hi, All:
> 
> I try to type some long string in R console, whenever
> I like to change to a new line, I get error message.
> 
> The following is my simple code
> --------------------------------------
> h3 <- sqlQuery(myConnect, "select * from console where
> 
> Error: syntax error
> byday = 'dd1'group by by hour")
> Error: syntax error
> 
> ---------------------------------------
> 
> Any Hints?


Don't use more than one line for each (quoted) string.
The following lines should work:

  h3 <- sqlQuery(myConnect, 
    "select * from console where yday = 'dd1' group by by hour")


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wloliver at qwest.net  Sat Jul 14 22:41:36 2001
From: wloliver at qwest.net (Bill Oliver)
Date: Sat, 14 Jul 2001 14:41:36 -0600
Subject: [R] how to type long string
References: <20010714180848.80038.qmail@web10104.mail.yahoo.com>
Message-ID: <004d01c10ca5$60551390$be57e43f@91qez>

----- Original Message -----
From: "Guoqiang Wang" <guo52717 at yahoo.com>
To: <r-help at lists.R-project.org>
Sent: Saturday, July 14, 2001 12:08 PM
Subject: [R] how to type long string


> Hi, All:
>
> I try to type some long string in R console, whenever
> I like to change to a new line, I get error message.
>
> The following is my simple code
> --------------------------------------
> h3 <- sqlQuery(myConnect, "select * from console where
>
> Error: syntax error
> byday = 'dd1'group by by hour")
> Error: syntax error
>
> ---------------------------------------
>
> Any Hints?
>
> Thanks.
>
> Grant, UWO
>

Normally, one can use "+" as a continuation character. Because you are in
the midst of typing a string the continuation character won't work in this
instance. You could perhaps use "paste" to join together the pieces of the
query. For example-

> h3 <- sqlQuery(myConnect, paste("select * from console where", +
+ "foo > 20 order by foobar"))

-Bill



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wloliver at qwest.net  Sat Jul 14 23:02:37 2001
From: wloliver at qwest.net (Bill Oliver)
Date: Sat, 14 Jul 2001 15:02:37 -0600
Subject: [R] how to type long string
References: <20010714180848.80038.qmail@web10104.mail.yahoo.com>
Message-ID: <007201c10ca8$4fb29ff0$be57e43f@91qez>

----- Original Message -----
From: "Guoqiang Wang" <guo52717 at yahoo.com>
To: <r-help at lists.R-project.org>
Sent: Saturday, July 14, 2001 12:08 PM
Subject: [R] how to type long string


> Hi, All:
>
> I try to type some long string in R console, whenever
> I like to change to a new line, I get error message.
>
> The following is my simple code
> --------------------------------------
> h3 <- sqlQuery(myConnect, "select * from console where
>
> Error: syntax error
> byday = 'dd1'group by by hour")
> Error: syntax error
>
> ---------------------------------------
>
> Any Hints?
>
> Thanks.
>
> Grant, UWO
>

Sorry. I was mistaken about the continuation character in the last message.
The "+" merely shows up to indicate the continuation of the line. You could
paste to together the pieces of the query this way (no "+" at the end of the
line).

> h3 <- sqlQuery(myConnect, paste("select * from console where",
+ "foo > 20 order by foobar"))

Perhaps someone will have a better suggestion.

-Bill


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jwilliams at business.otago.ac.nz  Mon Jul 16 01:58:25 2001
From: jwilliams at business.otago.ac.nz (John Williams)
Date: 15 Jul 2001 19:58:25 -0400
Subject: [R] Help on plotting a regression plane?
In-Reply-To: <20010714180848.80038.qmail@web10104.mail.yahoo.com>
References: <20010714180848.80038.qmail@web10104.mail.yahoo.com>
Message-ID: <995241505.21988.0.camel@ou092065.otago.ac.nz>

I'm a bit embarrassed to ask this, but can anyone tell me (or point me
to a reference) on how to plot a regression plane in R?

I have a regression model with two independent variables and have
created a nice 3d scatterplot with scatterplot3d (thanks Uwe!) and now
would like to overlay the regression plane (gridded, preferably.)  Ay
pointers would be appreciated.

cheers,

John


-- 
John Williams
Department of Marketing
Otago University
Dunedin, New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Jul 15 12:13:52 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Jul 2001 12:13:52 +0200
Subject: [R] Help on plotting a regression plane?
In-Reply-To: John Williams's message of "15 Jul 2001 19:58:25 -0400"
References: <20010714180848.80038.qmail@web10104.mail.yahoo.com> <995241505.21988.0.camel@ou092065.otago.ac.nz>
Message-ID: <x21ynibiu7.fsf@blueberry.kubism.ku.dk>

John Williams <jwilliams at business.otago.ac.nz> writes:

> I'm a bit embarrassed to ask this, but can anyone tell me (or point me
> to a reference) on how to plot a regression plane in R?
> 
> I have a regression model with two independent variables and have
> created a nice 3d scatterplot with scatterplot3d (thanks Uwe!) and now
> would like to overlay the regression plane (gridded, preferably.)  Ay
> pointers would be appreciated.

Doesn't look like something to be embarrassed about... (Uwe, you might
want to add this to one of the examples).

As far as I can see the key would be to use the points3d() function
returned by scatterplot3d(). Something like:

model <- lm(....)
s <- scatterplot3d(....)

for (x in seq(...)) {
    line.x <- rep(x,2)
    line.y <- c(ymin, ymax)
    line.z <- predict(model, new = data.frame(x=line.x, y=line.y)
    s$points3d(line.x, line.y, line.z, type="l", lty="dotted")
}
for (y in seq(....)) {
    ...
}

Alternatively, you might generate the endpoints for a segments() call 
by first producing the coordinates in 3d using predict and then
convert them with s$xyz.convert(). That'd be

d1<-rbind(data.frame(x=xmin,y=seq(...)), data.frame(x=seq(...),y=ymin)
d2<-rbind(data.frame(x=xmax,y=seq(...)), data.frame(x=seq(...),y=ymax)
p1 <- predict(model, new=d1)
p2 <- predict(model, new=d2)

line.begin <- s$xyz.convert(d1$x,d1$y,p1)
line.end <- s$xyz.convert(d2$x,d2$y,p2)

segments(line.begin$x,line.begin$y,line.end$x,line.end$y, lty="dotted")


[As you may have gathered, none of this is actually tested...]
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Sun Jul 15 11:36:10 2001
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Sun, 15 Jul 2001 19:36:10 +1000
Subject: [R] plotting time
Message-ID: <3B51640A.4960EA38@ozemail.com.au>

Greg Trafton wrote:

> Hi, all.  I'm trying to create a plot that has a range of about an
> hour on the x axis, starting at about 10:15...

This may be way too late, but here's a way to do what you want 
(I think).
First, to get the special X axis, use:

plot(...,axes=F,...)

then add the Y axis,

axis(2)

now, you will have to get a list of times in character format for your
X axis.  Here's a function that will give you equally spaced time
intervals 
in the usual format.

time.strings<-function(start,end,increment=1,split=":") {
 if(nargs() >= 3) {
  startlist<-unlist(strsplit(start,split))
  if(length(startlist) == 2) {
   endlist<-unlist(strsplit(end,split))
   if(length(endlist) == 2) {
    starthour<-as.numeric(startlist[1])
    endhour<-as.numeric(endlist[1])
    if(starthour <= endhour) hourlist<-as.character(starthour:endhour)
    else hourlist<-as.character(c(starthour:12,1:endhour))
    startminute<-as.numeric(startlist[2])
    endminute<-as.numeric(endlist[2])
    nhours<-length(hourlist)
    timelist<-vector("character",nhours * 60/increment)
    timeindex<-1
    for(hourindex in 1:nhours) {
     if(hourindex == nhours) maxminute<-endminute
     else maxminute<-59
     while(startminute <= maxminute) {
      timelist[timeindex]<-paste(hourlist[hourindex],
       formatC(startminute,width=2,flag="0"),sep=":")
      startminute<-startminute+increment
      timeindex<-timeindex+1
     }
     startminute<-startminute-60
    }
    timeindex<-timeindex-1
    return(timelist[1:timeindex])
   }
   else cat("end does not seem to be a valid time string\n")
  }
  else cat("start does not seem to be a valid time string\n")
 }
 else cat("Usage: time.strings(start,end,increment)\n")
}

Note that this function will only work for at most 1 day!
(I suppose you could call it once for each day and concatenate.)
You could call this as:

timestrings<-time.strings("10:15","11:15",10)

and finally you can add the X axis

axis(1,at=1:length(timestrings),labels=timestrings)

Hope this helps,

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sun Jul 15 16:18:26 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 15 Jul 2001 16:18:26 +0200
Subject: [R] Help on plotting a regression plane?
References: <20010714180848.80038.qmail@web10104.mail.yahoo.com> <995241505.21988.0.camel@ou092065.otago.ac.nz> <x21ynibiu7.fsf@blueberry.kubism.ku.dk>
Message-ID: <3B51A632.52C3CEBC@statistik.uni-dortmund.de>

Peter Dalgaard BSA wrote:
> 
> John Williams <jwilliams at business.otago.ac.nz> writes:
> 
> > I'm a bit embarrassed to ask this, but can anyone tell me (or point me
> > to a reference) on how to plot a regression plane in R?
> >
> > I have a regression model with two independent variables and have
> > created a nice 3d scatterplot with scatterplot3d (thanks Uwe!) and now
> > would like to overlay the regression plane (gridded, preferably.)  Ay
> > pointers would be appreciated.
> 
> Doesn't look like something to be embarrassed about... (Uwe, you might
> want to add this to one of the examples).

Thank you, Peter. If I have got some more time, I will do (see below).


> As far as I can see the key would be to use the points3d() function
> returned by scatterplot3d(). Something like:
> 
> model <- lm(....)
> s <- scatterplot3d(....)
> 
> for (x in seq(...)) {
>     line.x <- rep(x,2)
>     line.y <- c(ymin, ymax)
>     line.z <- predict(model, new = data.frame(x=line.x, y=line.y)
>     s$points3d(line.x, line.y, line.z, type="l", lty="dotted")
> }
> for (y in seq(....)) {
>     ...
> }
> 
> Alternatively, you might generate the endpoints for a segments() call
> by first producing the coordinates in 3d using predict and then
> convert them with s$xyz.convert(). That'd be
> 
> d1<-rbind(data.frame(x=xmin,y=seq(...)), data.frame(x=seq(...),y=ymin)
> d2<-rbind(data.frame(x=xmax,y=seq(...)), data.frame(x=seq(...),y=ymax)
> p1 <- predict(model, new=d1)
> p2 <- predict(model, new=d2)
> 
> line.begin <- s$xyz.convert(d1$x,d1$y,p1)
> line.end <- s$xyz.convert(d2$x,d2$y,p2)
> 
> segments(line.begin$x,line.begin$y,line.end$x,line.end$y, lty="dotted")
> 
> [As you may have gathered, none of this is actually tested...]

Both ideas are very nice. I think predict() has to be used slightly
different.

Nevertheless, in the morning I begun writing a (now tested) example,
also using xyz.convert(). Here is the modified example 5 from the help:

 library(scatterplot3d)
 data(trees)
 attach(trees)
 s3d <- scatterplot3d(trees, type = "h", highlight.3d = TRUE,
     pch=16, main="scatterplot3d -- example 5", angle=60, scale.y=0.7)
 # I want to draw this regression plane as a grid:
 my.lm <- lm(Volume ~ Girth + Height)   
 my.pred <- function(x, y, model){
    my.coef <- coef(model)
    return(my.coef[1] + x * my.coef[2] + y * my.coef[3])
 }
 
 # Now drawing segments from (x1, y1, z1) to (x2, y2, z2). 
 # Looking at the existing plot helps to find the points at first:
 
 x1 <- seq(8, 22, 2)  # Girth
 y1 <- rep(60, 8)     # Height
 z1 <- my.pred(x1, y1, my.lm)
 x2 <- seq(8, 22, 2)
 y2 <- rep(90, 8)
 z2 <- my.pred(x2, y2, my.lm)

 # Now calculating the 3d -> 2d projection for the existing plot
 seg1 <- s3d$xyz.convert(x1, y1, z1)
 seg2 <- s3d$xyz.convert(x2, y2, z2)
 segments(seg1$x, seg1$y, seg2$x, seg2$y, lty="dashed")

 # As above, but the orthogonal lines of the grid:
 x1 <- rep(8, 7)        # Girth
 y1 <- seq(60, 90, 5)   # Height
 z1 <- my.pred(x1, y1, my.lm)
 x2 <- rep(22, 7)
 y2 <- seq(60, 90, 5)
 z2 <- my.pred(x2, y2, my.lm)
 seg1 <- s3d$xyz.convert(x1, y1, z1)
 seg2 <- s3d$xyz.convert(x2, y2, z2)
 segments(seg1$x, seg1$y, seg2$x, seg2$y, lty="dashed")



That's a workaround if you only want to plot it once, but surely
automating it would be nicer. One can also think about drawing
non-linear planes. Maybe this will become a additional function for the
package.

If there a any questions remaining, feel free to send a private mail.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From whitcher at cgd.ucar.edu  Sun Jul 15 20:22:39 2001
From: whitcher at cgd.ucar.edu (Brandon Whitcher)
Date: Sun, 15 Jul 2001 12:22:39 -0600 (MDT)
Subject: [R] more subroutines for integrate()
In-Reply-To: <Pine.A41.4.33.0107120919200.38974-100000@homer08.u.washington.edu>
Message-ID: <Pine.GSO.4.30.0107151220300.3699-100000@box.cgd.ucar.edu>

On Thu, 12 Jul 2001, Thomas Lumley wrote:

> If you are working under Unix it shouldn't be too hard to add this
> yourself following the code in src/appl/integrate.c (and then submit
> patches).  It looks like an addition that would be useful but it may not
> be a high enough priority to actually get done.

Thanks for your response.

I've looked at the src/appl/integrate.c code.  I'm sure it would be more
efficient if the author of this code augmented it, but time and priority
are always factors.  I'll give it a try when I get a chance.

Brandon

----------------------------------------------------------------------------
  Geophysical Statistics Project
  National Center for Atmospheric Research          +1 303 497 1709  voice
  P.O. Box 3000, Boulder, CO  80307-3000            +1 303 497 1333  fax

  whitcher at ucar.edu                            www.cgd.ucar.edu/~whitcher/
----------------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul 16 08:39:37 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 16 Jul 2001 07:39:37 +0100 (BST)
Subject: [R] Calling rand_unif() from fortran
In-Reply-To: <3B50674D.C35C0904@warnes.net>
Message-ID: <Pine.GSO.4.31.0107160737490.1160-100000@auk.stats>

On Sat, 14 Jul 2001, Gregory R. Warnes wrote:

>
> What is the necesary incantation to call rand_unif() from a fortran
> routine?
>
> Just inserting rand_unif() into the fortran code compiles OK, but won't
> dyn.load():
>
>
> > dyn.load("forest.so")
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
> 	unable to load shared library "/home/warnes/R/forest/forest.so":
>   /home/warnes/R/forest/forest.so: undefined symbol: unif_rand__
>
>
> Do I have to write a bit of C code to "wrap" the call using F77_SUB?

Yes.   In general you cannot call C entry points from Fortran.  That
includes GetRNGstate and PutRNGstate which you *must* use too.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hstevens at muohio.edu  Mon Jul 16 12:18:12 2001
From: hstevens at muohio.edu (Martin Henry H. Stevens)
Date: Mon, 16 Jul 2001 06:18:12 -0400
Subject: [R] data sets
Message-ID: <002b01c10de0$a1556c50$56223586@STEVENS>

Windows 2000, R 1.3.0  via ESS.

It was my impression that example data sets could be accessed by simply typing in the name of the data set associated with any loaded library (e.g. 'cars', or if MASS is loaded, 'hills'). Why might this data not show up?

Thanks for ideas in advance.

*****************************
Martin Henry H. Stevens
HStevens at muohio.edu
tel: (513) 529 - 4206
FAX: (513) 529 - 4243

338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010716/a06b1cc0/attachment.html

From ripley at stats.ox.ac.uk  Mon Jul 16 12:30:01 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 16 Jul 2001 11:30:01 +0100 (GMT Daylight Time)
Subject: [R] data sets
In-Reply-To: <002b01c10de0$a1556c50$56223586@STEVENS>
Message-ID: <Pine.WNT.4.31.0107161128340.1300-100000@gannet>

On Mon, 16 Jul 2001, Martin Henry H. Stevens wrote:

> Windows 2000, R 1.3.0  via ESS.
>
> It was my impression that example data sets could be accessed by simply
typing in the name of the data set associated with any loaded library
(e.g. 'cars', or if MASS is loaded, 'hills'). Why might this data not show up?

Your impression is incorrect.  You need

library(MASS)
data(hills)

This is an R/S difference, which may one day disappear.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From totavi at utu.fi  Mon Jul 16 12:48:12 2001
From: totavi at utu.fi (Tommi Viitanen)
Date: Mon, 16 Jul 2001 13:48:12 +0300 (EET DST)
Subject: [R] mva package for windows
Message-ID: <Pine.SOL.4.30.0107161347040.3973-100000@alya.utu.fi>


I have not managed to install the mva-package for windows.  Is it
possible in R 123 -version ?

Tommi Viitanen

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Jul 16 12:07:56 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 16 Jul 2001 11:07:56 +0100
Subject: [R] Re: large survey data
In-Reply-To: <6rhewj1oj0.fsf@franz.stat.wisc.edu>
References: <200107111427.QAA22255@stat.math.ethz.ch>
 <6rhewj1oj0.fsf@franz.stat.wisc.edu>
Message-ID: <Q3ec1lA8zrU7EwlS@myatt.demon.co.uk>

>Micha? Bojanowski <bojanr at wp.pl> writes:
>
> Recently I came across a problem. I have to analyze a large survey 
> data - something about 600 columns and 10000 rows (tab-delimited file 
> with names in the header). I was able do import the data into an 
> object, but there is no more memory left.
> 
> Is there a way to import the data column by column? I have to analyze 
> the whole data, but only two variables at a time.

Something like this:

         a <- scan("file.dat",
                   skip = 1,
                   what = list(0,0,0,0,0),
                   flush = T)[c(2,5)]

         a <- cbind(unlist(a[1]), unlist(a[2]))

might do the trick (this does columns 2 and 5 ... change the index
'[c(2,5)]' to get other columns). The option to scan() are 'skip = 1'
drops the first line of the file, 'what' is a list specifying variable
types (I specify 5 numeric columns ... you need to specify up until your
last variable), 'flush' speeds the whole thing up and saves memory by
not reading more of the line than specified in 'what'.

The cbind() just converts the list returned by scan() to a matrix. You
could make a data.frame using:

         a <- as.data.frame(cbind(unlist(a[1]), unlist(a[2])))

I hope that helps.


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul 16 13:05:11 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 16 Jul 2001 12:05:11 +0100 (GMT Daylight Time)
Subject: [R] problem loading saved image
In-Reply-To: <DF8D233E4341D411A7AD0008C7E6348205899017@exchny07.ny.ssmb.com>
Message-ID: <Pine.WNT.4.31.0107161202380.1252-100000@gannet>

On Mon, 9 Jul 2001, Samak, Vele [EQRE] wrote:

> I had an open session working in R and I regularly save the image with
> save.image(). However, after a period of inactivity of a few days. I quit
> the session. Now, when I try to restart R and load the same image I get the
> following result:
>
> > load("y:/grm/sdata/.rdata1")
> Error in load("y:/grm/sdata/.rdata1") : an xdr real data read error occured
>
> Can someone explain the cause of this? I hope this is not the end of it

A corruption during reading or writing.

> because it would set me back quite a while in recreating the objects. The
> image file is about 25MB. I'm using R 1.2.2. Help is appreciated. Thanks,

All the instances we have seen of this are due to network errors.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul 16 13:13:17 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 16 Jul 2001 12:13:17 +0100 (GMT Daylight Time)
Subject: [R] mva package for windows
In-Reply-To: <Pine.SOL.4.30.0107161347040.3973-100000@alya.utu.fi>
Message-ID: <Pine.WNT.4.31.0107161212360.1252-100000@gannet>

On Mon, 16 Jul 2001, Tommi Viitanen wrote:

> I have not managed to install the mva-package for windows.  Is it
> possible in R 123 -version ?

It comes as part of the binary distribution and so does not need
installation.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul 16 13:22:56 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 16 Jul 2001 12:22:56 +0100 (GMT Daylight Time)
Subject: [R] R.lib and compiling C for Windows
In-Reply-To: <a05010402b77084f7be52@[134.214.32.69]>
Message-ID: <Pine.WNT.4.31.0107161221160.1252-100000@gannet>

On Tue, 10 Jul 2001, Stephane Dray wrote:

> Hello list,
> (PC Windows 2000, R 1.2.3)
>
> i want to compile C source file for R on windows 2000. I'm working
> with Metrowerks CodeWarrior for creating and compiling C files. I've
> see that R.lib file must be obtain with R.ddl by Visual C++. I don't
> have Visual C++ (and i don't want to buy it !!) but i want to obtain
> R.lib file. Is there a solution to my problem ???

You only need R.lib if you are using Visual C++.  You need to read your
compiler's manual on how to make an import library for R.dll from the data
in R.exp.

I think all the information needed is in the file readme.packages.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul 16 14:04:15 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 16 Jul 2001 13:04:15 +0100 (GMT Daylight Time)
Subject: [R] Should gv be able to read bitmap(... type= "pdfwrite") ?
In-Reply-To: <8766czib1e.fsf@lumen.med.iupui.edu>
Message-ID: <Pine.WNT.4.31.0107161301450.1252-100000@gannet>

On 11 Jul 2001, Michael A. Miller wrote:

> >>>>> "John" == John Williams <jwilliams at business.otago.ac.nz> writes:
>
>     > Hi there folks I have R 1.3.0 running on Red Hat Linux 7.1
>     > with GhostView 3.5.8.  When I produce a file like:
>
>     >> bitmap("foo.pdf", type="pdfwrite")
>     >> plot(foo)
>     >> dev.off()
>
>     > and then try to read it with gv, I get an unrecoverable
>     > error and nothing displayed.
>
> That works for me (R 1.3.0-1, Debian testing, gs 5.10-10.1, gv
> 3.5.8).
>
> On a related note, when using type="pdfwrite", bitmap doesn't
> actually produce bit mapped graphics.  For vector graphics I
> normally use the postscript device, and more recently, the pdf
> device, as in
>
>     > postscript("foo.ps"); plot(foo); dev.off()
>
> and
>
>     > pdf("foo2.pdf"); plot(foo); dev.off()
>
> I have noticed that bitmap("foo.pdf", type="pdfwrite") produces
> different results than pdf("foo2.pdf") does: bitmap(...) uses
> ghostscript and makes version 1.2 pdf which pdf(...) doesn't use
> ghostscript and makes version 1.1 pdf.  The practical consequence
> of this seems to be that the v1.2 pdf file is smaller and that

(It uses flate compression: pdf uses none.  There is a good reason for
that: all including applications can compress the final file, and
compressing the intermediates is only a minor space saving.)

> the v1.2 pdf file has text labels that are more similar to what I
> see on my screen (but still somewhat larger than on screen, the
> v1.1 text is much larger).  The postscript device produces files
> that have text that looks very close to what I see on screen.

(That's related to the defaults for width, height and pointsize.  You
can alter any of them to get what you want ....)

> Mike
>
> --
> Michael A. Miller                      mmiller3 at iupui.edu
>   Krannert Institute of Cardiology, IU School of Medicine
>   Indiana Center for Vascular Biology and Medicine
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul 16 14:11:20 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 16 Jul 2001 13:11:20 +0100 (GMT Daylight Time)
Subject: [R] Summary of Forcing variables types when using read.table
In-Reply-To: <x2hewjkze8.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.WNT.4.31.0107161307130.1252-100000@gannet>

On 11 Jul 2001, Peter Dalgaard BSA wrote:

> "David Kane  <David Kane" <a296180 at mica.fmr.com> writes:
>
> > Thanks to Martyn Plummer and Vele Samak for taking the time to answer my
> > problem. scan certainly will do the trick. However, having taken a look at the
> > code for read.table, it seems to me that I might be able to add in a "what"
> > argument and then just pass it down to the call to scan. But that won't be
> > today's project . . .
>
> Wouldn't work. The scan inside read.table reads *everything* as
> character and type.convert converts the type afterwards. However, you
> could bypass the type.convert call...

Or use the as.is argument to do so?  It does nothing useful for numeric
columns, so why not extend its meaning to leave the column alone, whatever
it started as?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From moltchan at iiasa.ac.at  Mon Jul 16 15:38:14 2001
From: moltchan at iiasa.ac.at (Elena MOLTCHANOVA)
Date: Mon, 16 Jul 2001 15:38:14 +0200
Subject: [R] partitioning a space
Message-ID: <4.2.0.58.20010716153026.00a68860@mail>

Hello, everybody!

I have subscribed to the list only recently, although I've been actively 
using R since February. I found it very useful and very flexible and I hope 
to learn to use it better. My current problem concerns spatial statistics. 
I need to partition a regular rectangular grid into given number of 
subsets. For example for a 5*5 grid with 3 subsets I could have:

1 1 1 2 2
1 1 2 2 2
1 1 1 2 3
1 1 1 1 3
1 1 3 3 3

One of the things I have to take into account here is the neighborhood 
matrix. I consider two cells neighbors if they have a common size (not 
corner). Thus each cell in the middle of the grid has four neighbors.

Is there by any chance a ready package or function which does it in R? The 
packages I found so far are for point processes. Also can anybody propose a 
good algorithm for doing this?

Thanks a lot


Elena MOLTCHANOVA
IIASA
International Institute for Applied Systems Analysis
A-2361 Laxenburg, Austria
E-Mail: moltchan at iiasa.ac.at
Phone : +43 2236 807-0
Fax   : +43 2236 71313

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Mon Jul 16 15:55:39 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Mon, 16 Jul 2001 15:55:39 +0200
Subject: [R] Trouble with the memory allocation
Message-ID: <3B52F25B.98E51B35@cbs.dtu.dk>

Dear R-users,


I am currently facing what appears to be a strange thing (at least to my
humble understanding).

If  I understood correctly, starting with the version 1.2.3, R memory
allocation can be done dynamically,
and there is no need to fiddle with the --nsize and --vsize parameter
any longer...

So far this everything seemed to go this way (I saw the size of my
processes growing when I was using big objects and
so on). Howver recently I had trouble with the memory. It seems there is
a limit of about 1,2 Go, beyond which R starts
to send memory allocation error messages...  not consistent with the
memory still available
(like 'Error: cannot allocate vector of size 125382 Kb', while there
still about 17Go free).

I thought default limitation were set, but it does not seem to be the
case

> mem.limits()
nsize vsize
   NA    NA


Any idea ?

Where am I wrong ?



Laurent


PS: I am currently using R-1.3.0-patched, compiled on SGI IRIX 6.5 (I
was using 1.2.3 and had the same kind of problems, that's why
I upgraded)



--
Laurent Gautier                 CBS, Building 208, DTU
PhD. Student                    D-2800 Lyngby,Denmark
tel: +45 45 25 24 85            http://www.cbs.dtu.dk/laurent


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010716/3516f1da/attachment.html

From ripley at stats.ox.ac.uk  Mon Jul 16 16:16:16 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 16 Jul 2001 15:16:16 +0100 (GMT Daylight Time)
Subject: [R] Trouble with the memory allocation
In-Reply-To: <3B52F25B.98E51B35@cbs.dtu.dk>
Message-ID: <Pine.WNT.4.31.0107161510340.1252-100000@gannet>

On Mon, 16 Jul 2001, Laurent Gautier wrote:

> Dear R-users,
>
>
> I am currently facing what appears to be a strange thing (at least to my
> humble understanding).
>
> If  I understood correctly, starting with the version 1.2.3, R memory
> allocation can be done dynamically,
> and there is no need to fiddle with the --nsize and --vsize parameter
> any longer...

starting with 1.2.0, yes.

>
> So far this everything seemed to go this way (I saw the size of my
> processes growing when I was using big objects and
> so on). Howver recently I had trouble with the memory. It seems there is
> a limit of about 1,2 Go, beyond which R starts
> to send memory allocation error messages...  not consistent with the
> memory still available
> (like 'Error: cannot allocate vector of size 125382 Kb', while there
> still about 17Go free).

Is this compiled as 32-bit or 64-bit process?  And are there any
per-process limits set?  A 32-bit process will (by definition) have a
4Gb limit, and may well have 2Gb or less depending how the malloc is
organised.

> I thought default limitation were set, but it does not seem to be the
> case
>
> > mem.limits()
> nsize vsize
>    NA    NA

That's correct.  See ?mem.limits.

>
> Any idea ?
>
> Where am I wrong ?
>
>
>
> Laurent
>
>
> PS: I am currently using R-1.3.0-patched, compiled on SGI IRIX 6.5 (I
> was using 1.2.3 and had the same kind of problems, that's why
> I upgraded)

No change in that area since 1.2.3.

>
>
>
> --
> Laurent Gautier                 CBS, Building 208, DTU
> PhD. Student                    D-2800 Lyngby,Denmark
> tel: +45 45 25 24 85            http://www.cbs.dtu.dk/laurent
>
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hammour at msn.com  Sun Jul 15 21:16:33 2001
From: hammour at msn.com (hammour@msn.com)
Date: Sun, 15 Jul 2001 15:16:33 -0400
Subject: No subject
Message-ID: <OE27Vn20lbhsKd6QR7j0001b0c3@hotmail.com>

Hi,
I am trying to change the number of the ticks on each axis, but every time I can not succeed and receive the error message shown below even I use the default values:

>plot.mts(infldata1[,3:4],lty=c(1:2),plot.type="single",lab=c(5,5,7))
   Error in axis(side, at, labels, tick, line, pos, outer, font, vfont, ...) :  
        location and label lengths differ, 6 != 3

Thank you for your help,
Ahmad Abu Hammour
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010715/04d20308/attachment.html

From guo52717 at yahoo.com  Mon Jul 16 17:09:45 2001
From: guo52717 at yahoo.com (Guoqiang Wang)
Date: Mon, 16 Jul 2001 08:09:45 -0700 (PDT)
Subject: [R] How to include "NA" level in table funcion.
In-Reply-To: <x2ofqnqoul.fsf@blueberry.kubism.ku.dk>
Message-ID: <20010716150945.74767.qmail@web10107.mail.yahoo.com>

Thanks for all your help from R network.

I really feel at home here.

The problem of long string has been solved, by
following the 'paste' suggestion.

Now I have another problem. I try to make a cross
table of the following dataset.
---------------------------------------------
> summary(bor.fac)
 cell     response    resp.mth         income       
age          province   
 1:4352   0:3122   Min.   :0.000   0-31k  :1475   0-21
:   2   ON     :4064  
 2:1916   1:3146   1st Qu.:0.000   31k-43k:1562  
21-34:1659   BC     : 700  
                   Median :1.000   43k-59k:1567  
34-41:1568   AB     : 459  
                   Mean   :1.316   59k-75k: 905  
41-49:1438   NS     : 303  
                   3rd Qu.:3.000   75k+   : 662   49+ 
:1601   MB     : 297  
                   Max.   :6.000   NA's   :  97       
        NB     : 180  
                                                      
        (Other): 265  
       tenure        acctcnt             fundsp    
ont     
 0-0.67   :  16   Min.   : 0.000   0-1.5k   :1404  
0:2204  
 0.67-1.5 :1645   1st Qu.: 3.000   1.5k-4.4k:1568  
1:4064  
 1.5-1.92 :1775   Median : 3.000   4.4k-10k :1566     
     
 1.92-2.33:1218   Mean   : 3.169   10k+     :1567     
     
 2.33+    :1614   3rd Qu.: 4.000   NA's     : 163     
     
                  Max.   :13.000                     

----------------------------------------
If I use table functions, the level "NA's" in income
and "other" in acctcnt won't appear in the table
regardless of my efforts.

> table(income, response,cell, exclude=(""))
, , cell = 1

         response
income      0   1
  0-31k   459 585
  31k-43k 524 544
  43k-59k 553 527
  59k-75k 350 290
  75k+    239 201

, , cell = 2

         response
income      0   1
  0-31k   214 217
  31k-43k 242 252
  43k-59k 239 248
  59k-75k 135 130
  75k+    108 114

> table(income, response,cell, exclude=F)
, , cell = 1

         response
income      0   1
  0-31k   459 585
  31k-43k 524 544
  43k-59k 553 527
  59k-75k 350 290
  75k+    239 201

, , cell = 2

         response
income      0   1
  0-31k   214 217
  31k-43k 242 252
  43k-59k 239 248
  59k-75k 135 130
  75k+    108 114
-------------------------------------------------
How can I include "NA" and "other" in the table?

Thanks you so much.

G. Wang, UWO




__________________________________________________
Do You Yahoo!?
Get personalized email addresses from Yahoo! Mail
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at lagonda.wsl.ch  Mon Jul 16 17:20:46 2001
From: christian.hoffmann at lagonda.wsl.ch (Christian Hoffmann)
Date: Mon, 16 Jul 2001 17:20:46 +0200
Subject: [R] lm weights
Message-ID: <3.0.6.32.20010716172046.00941ae0@mail.wsl.ch>

Hi all,

I have difficulties in specifying a weight vector inside lm which is called
inside a function.

I have had the hope that this problem would go away by switching to R from
S+, as a variable generated inside a function should be visible to lm
inside it, but the evaluation of formulae seems to get in the way.

regrbest(Una,"vr3c1",ind,"W")
with names(Una) containing the elements of ind:
....    "vr91"  "vr92" ..  and additionally.... "W"

regrbest <- function(x,y,ind,wt=NULL)
  form <- as.formula(paste(y,paste(ind, collapse = "+"), sep = "~"),
env=parent.frame())   #  is env WRONG here???
# form = vr3c1 ~ vr91 + vr92   with the actual call
  wtt  <- !is.null(wt) && any(wt!=1)
  if (wtt) {  #  is TRUE here
    nna <- apply(x[,c(ind,wt)],1,function(x) all(!is.na(x)))
    xx  <- x[nna,]
    w <- xx[,wt]
    lm1 <- lm(form,data=xx,weights=w)

Error in eval(expr, envir, enclos) : Object "w" not found
The weights w are not found ????

Is there a general rule on how to treat this kind of problems?
I very often build linear models inside functions and temporary variables
seem to be a problem for models.

Thanks for your consideration.
-christian
Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: christian.hoffmann_at_wsl.ch__prevent_spamming
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian.hoffmann at lagonda.wsl.ch  Mon Jul 16 17:32:32 2001
From: christian.hoffmann at lagonda.wsl.ch (Christian Hoffmann)
Date: Mon, 16 Jul 2001 17:32:32 +0200
Subject: [R] Addition to: lm weights
Message-ID: <3.0.6.32.20010716173232.009437f0@mail.wsl.ch>

Hi all,

Sorry for the omission in the first post.

I have difficulties in specifying a weight vector inside lm which is called
inside a function.

++++Also stepAIC will not behave as expected.

I have had the hope that this problem would go away by switching to R from
S+, as a variable generated inside a function should be visible to lm
inside it, but the evaluation of formulae seems to get in the way.

regrbest(Una,"vr3c1",ind,"W")
with names(Una) containing the elements of ind:
....    "vr91"  "vr92" ..  and additionally.... "W"

regrbest <- function(x,y,ind,wt=NULL)
  form <- as.formula(paste(y,paste(ind, collapse = "+"), sep = "~"),
env=parent.frame())   #  is env WRONG here???
# form = vr3c1 ~ vr91 + vr92   with the actual call
  nna <- apply(x[,c(ind,wt)],1,function(x) all(!is.na(x)))
  xx  <- x[nna,]
  wtt  <- !is.null(wt) && any(wt!=1)
  if (wtt) {  #  is TRUE here
    w <- xx[,wt]
    lm1 <- lm(form,data=xx,weights=w)
  else {
    lm1 <- lm(form,data=xx,na.action=na.omit) 
    stw <- stepAIC(lm1,direction="forward",trace=2, k=2)

Error in eval(expr, envir, enclos) : Object "w" not found
The weights w are not found ????

Calling with
regrbest(Una,"vr3c1",ind)

will generate lm1 but will stall at stepAIC:
Error in terms.formula(formula, data = data) : 
	Object "xx" not found
> traceback()
9: terms.formula(formula, data = data)
8: terms(formula, data = data)
7: lm(formula = vr3c1 ~ vr91 + vr92 + vr18c1 + vr18c2 + vr191 + 
       vr192 + vr193 + vr211 + vr212 + vr221 + vr222 + vr223 + vr231 + 
       vr232 + F26REG.J + F27SEX + F28ALTER + F31PERS + vr361 + 
       vr362 + F37A + Urban + F6WISSEN + F7B1 + F7B2 + F7B3 + F7B4 + 
       F7B5 + F29CH + F30SCHUL + F33HUND + F35GART, data = xx, na.action =
na.omit)
6: eval(expr, envir, enclos)
5: eval(call, parent.frame())
4: update.default(fit, paste("~ .", change))
3: update(fit, paste("~ .", change))
2: stepAIC(lm1, direction = "forward", trace = 2, k = 2)
1: regrbest(Una, "vr3c1", ind.9P6)

Is there a general rule on how to treat this kind of problems?
I very often build linear models inside functions and temporary variables
seem to be a problem for models.

Thanks for your consideration.
-christian
Dr.sc.math.Christian W. Hoffmann
Mathematics and Statistical Computing
Landscape Modeling and Web Applications
Swiss Federal Research Institute WSL 
Zuercherstrasse 111
CH-8903 Birmensdorf, Switzerland
phone: ++41-1-739 22 77    fax: ++41-1-739 22 15
e-mail: christian.hoffmann_at_wsl.ch__prevent_spamming
www: http://www.wsl.ch/staff/christian.hoffmann/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Mon Jul 16 17:37:44 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Mon, 16 Jul 2001 17:37:44 +0200
Subject: [R] Trouble with the memory allocation
References: <Pine.WNT.4.31.0107161510340.1252-100000@gannet>
Message-ID: <3B530A48.9826501F@cbs.dtu.dk>

Prof Brian D Ripley wrote:

> On Mon, 16 Jul 2001, Laurent Gautier wrote:
>
> >
> > So far this everything seemed to go this way (I saw the size of my
> > processes growing when I was using big objects and
> > so on). Howver recently I had trouble with the memory. It seems there is
> > a limit of about 1,2 Go, beyond which R starts
> > to send memory allocation error messages...  not consistent with the
> > memory still available
> > (like 'Error: cannot allocate vector of size 125382 Kb', while there
> > still about 17Go free).
>
> Is this compiled as 32-bit or 64-bit process?

This was compiled with the gnu compilers suite (gcc, g77, f77 and gmake). If
I remember well,
gcc only compile 32 bits stuff (but I may be completely wrong)



>  And are there any
> per-process limits set?  A 32-bit process will (by definition) have a
> 4Gb limit, and may well have 2Gb or less depending how the malloc is
> organised.

Mmmmh....
I just tried a quick recursive perl hack and it seems the memory limit for a
process is around 1.7Go...

I also talked to one of system administrators here, and he is not aware of
malloc specifc organisation, neither of a per-process limit (and the man page
for malloc does not tell me more)...





Laurent





--
Laurent Gautier                 CBS, Building 208, DTU
PhD. Student                    D-2800 Lyngby,Denmark
tel: +45 45 25 24 85            http://www.cbs.dtu.dk/laurent


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010716/010ab14e/attachment.html

From tlumley at u.washington.edu  Mon Jul 16 17:42:34 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 16 Jul 2001 08:42:34 -0700 (PDT)
Subject: [R] Trouble with the memory allocation
In-Reply-To: <3b52f25b.98e51b35@cbs.dtu.dk>
Message-ID: <Pine.LNX.4.33.0107160842340.5416@hymn02.u.washington.edu>

On Mon, 16 Jul 2001, Laurent Gautier wrote:

> Dear R-users,
> 
> 
> I am currently facing what appears to be a strange thing (at least to my
> humble understanding).
> 
> If  I understood correctly, starting with the version 1.2.3, R memory
> allocation can be done dynamically,
> and there is no need to fiddle with the --nsize and --vsize parameter
> any longer...
> 
> So far this everything seemed to go this way (I saw the size of my
> processes growing when I was using big objects and
> so on). Howver recently I had trouble with the memory. It seems there is
> a limit of about 1,2 Go, beyond which R starts
> to send memory allocation error messages...  not consistent with the
> memory still available
> (like 'Error: cannot allocate vector of size 125382 Kb', while there
> still about 17Go free).
> 

There is an upper limit on the memory size because some internal objects in the memory manager are stored as ints (even on a 64-bit system this  limits you, I think, to 4Gb, but it may be 2Gb).  

It shouldn't be too hard to expand these limits for 64-bit systems. There is a much firmer limit in the design of R to no more than 2^31 objects, and to objects of maximum length 2^31, but this would still allow multigigabyte workspaces.


    -thomas



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul 16 17:54:21 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 16 Jul 2001 16:54:21 +0100 (BST)
Subject: [R] Addition to: lm weights
In-Reply-To: <3.0.6.32.20010716173232.009437f0@mail.wsl.ch>
Message-ID: <Pine.LNX.4.31.0107161650300.1161-100000@gannet.stats>

On Mon, 16 Jul 2001, Christian Hoffmann wrote:

> Hi all,
>
> Sorry for the omission in the first post.
>
> I have difficulties in specifying a weight vector inside lm which is called
> inside a function.
>
> ++++Also stepAIC will not behave as expected.
>
> I have had the hope that this problem would go away by switching to R from
> S+, as a variable generated inside a function should be visible to lm
> inside it, but the evaluation of formulae seems to get in the way.
>
> regrbest(Una,"vr3c1",ind,"W")
> with names(Una) containing the elements of ind:
> ....    "vr91"  "vr92" ..  and additionally.... "W"
>
> regrbest <- function(x,y,ind,wt=NULL)
>   form <- as.formula(paste(y,paste(ind, collapse = "+"), sep = "~"),
> env=parent.frame())   #  is env WRONG here???
> # form = vr3c1 ~ vr91 + vr92   with the actual call
>   nna <- apply(x[,c(ind,wt)],1,function(x) all(!is.na(x)))
>   xx  <- x[nna,]
>   wtt  <- !is.null(wt) && any(wt!=1)
>   if (wtt) {  #  is TRUE here
>     w <- xx[,wt]
>     lm1 <- lm(form,data=xx,weights=w)
>   else {
>     lm1 <- lm(form,data=xx,na.action=na.omit)
>     stw <- stepAIC(lm1,direction="forward",trace=2, k=2)
>
> Error in eval(expr, envir, enclos) : Object "w" not found
> The weights w are not found ????

Right, as they are not in the scope of re-fitting the model.
Why are you not using

lm1 <- lm(form,data=xx,weights=wt)

anyway?

> Calling with
> regrbest(Una,"vr3c1",ind)
>
> will generate lm1 but will stall at stepAIC:
> Error in terms.formula(formula, data = data) :
> 	Object "xx" not found
> > traceback()
> 9: terms.formula(formula, data = data)
> 8: terms(formula, data = data)
> 7: lm(formula = vr3c1 ~ vr91 + vr92 + vr18c1 + vr18c2 + vr191 +
>        vr192 + vr193 + vr211 + vr212 + vr221 + vr222 + vr223 + vr231 +
>        vr232 + F26REG.J + F27SEX + F28ALTER + F31PERS + vr361 +
>        vr362 + F37A + Urban + F6WISSEN + F7B1 + F7B2 + F7B3 + F7B4 +
>        F7B5 + F29CH + F30SCHUL + F33HUND + F35GART, data = xx, na.action =
> na.omit)
> 6: eval(expr, envir, enclos)
> 5: eval(call, parent.frame())
> 4: update.default(fit, paste("~ .", change))
> 3: update(fit, paste("~ .", change))
> 2: stepAIC(lm1, direction = "forward", trace = 2, k = 2)
> 1: regrbest(Una, "vr3c1", ind.9P6)
>
> Is there a general rule on how to treat this kind of problems?
> I very often build linear models inside functions and temporary variables
> seem to be a problem for models.

Put them in the data frame (but they are already there if accessed
sensibly), and in S-PLUS, put the data frame in frame 1.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul 16 18:09:32 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 16 Jul 2001 17:09:32 +0100 (BST)
Subject: [R] Addition to: lm weights
In-Reply-To: <Pine.LNX.4.31.0107161650300.1161-100000@gannet.stats>
Message-ID: <Pine.LNX.4.31.0107161706190.1161-100000@gannet.stats>

On Mon, 16 Jul 2001, Prof Brian Ripley wrote:

> On Mon, 16 Jul 2001, Christian Hoffmann wrote:
>
> > Hi all,
> >
> > Sorry for the omission in the first post.
> >
> > I have difficulties in specifying a weight vector inside lm which is called
> > inside a function.
> >
> > ++++Also stepAIC will not behave as expected.
> >
> > I have had the hope that this problem would go away by switching to R from
> > S+, as a variable generated inside a function should be visible to lm
> > inside it, but the evaluation of formulae seems to get in the way.
> >
> > regrbest(Una,"vr3c1",ind,"W")
> > with names(Una) containing the elements of ind:
> > ....    "vr91"  "vr92" ..  and additionally.... "W"
> >
> > regrbest <- function(x,y,ind,wt=NULL)
> >   form <- as.formula(paste(y,paste(ind, collapse = "+"), sep = "~"),
> > env=parent.frame())   #  is env WRONG here???
> > # form = vr3c1 ~ vr91 + vr92   with the actual call
> >   nna <- apply(x[,c(ind,wt)],1,function(x) all(!is.na(x)))
> >   xx  <- x[nna,]
> >   wtt  <- !is.null(wt) && any(wt!=1)
> >   if (wtt) {  #  is TRUE here
> >     w <- xx[,wt]
> >     lm1 <- lm(form,data=xx,weights=w)
> >   else {
> >     lm1 <- lm(form,data=xx,na.action=na.omit)
> >     stw <- stepAIC(lm1,direction="forward",trace=2, k=2)
> >
> > Error in eval(expr, envir, enclos) : Object "w" not found
> > The weights w are not found ????
>
> Right, as they are not in the scope of re-fitting the model.
> Why are you not using
>
> lm1 <- lm(form,data=xx,weights=wt)
>
> anyway?

Sorry, I see now. This was meant to be a function definition, but there
are no braces, so I read what was actually in the message ....

Use

xx$wt <- xx[,wt]
lm1 <- lm(form,data=xx,weights=wt)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul 16 18:16:29 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 16 Jul 2001 17:16:29 +0100 (BST)
Subject: [R] more subroutines for integrate()
In-Reply-To: <Pine.GSO.4.30.0107151220300.3699-100000@box.cgd.ucar.edu>
Message-ID: <Pine.LNX.4.31.0107161713470.1161-100000@gannet.stats>

On Sun, 15 Jul 2001, Brandon Whitcher wrote:

> On Thu, 12 Jul 2001, Thomas Lumley wrote:
>
> > If you are working under Unix it shouldn't be too hard to add this
> > yourself following the code in src/appl/integrate.c (and then submit
> > patches).  It looks like an addition that would be useful but it may not
> > be a high enough priority to actually get done.
>
> Thanks for your response.
>
> I've looked at the src/appl/integrate.c code.  I'm sure it would be more
> efficient if the author of this code augmented it, but time and priority
> are always factors.  I'll give it a try when I get a chance.

The author of the code has no interest in extending this, and he suggests
you write an R package rather than overload the built-in facilities (which
are intended only to be tolerably efficient for two common cases, not a
complete interface to quadpack).  But as Thomas says, we would consider
patches.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul 16 18:31:13 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 16 Jul 2001 17:31:13 +0100 (BST)
Subject: [R] R for large data
In-Reply-To: <200107111820.f6BIKsE05696@localhost.localdomain>
Message-ID: <Pine.LNX.4.31.0107161727200.4396-100000@gannet.stats>

On Wed, 11 Jul 2001, Micheall Taylor wrote:

>
>
> I am trying to gain an understanding of R's capabilities in larger data set
> analysis.  I really like R, but the datasets that I normally work with are
> in the 15m-50m range, sometimes much larger.  The size owes to observations, not extraneous
> variables, so little can be done to "clean" the data of unnecessary
> elements. (i.e. database storage or external data manipulation doesn't get
> me very far)
>
> Over the past couple of years I've used Stata (prior to that SAS, etc). I
> have 2 gigs of memory, but R seems pretty slow to load relatively modest
> datasets of say 10-30 megs. Much slower to load than say Stata. For
> comparison, stats on loading a 32 meg datafile:
>
> R - 5.3 minutes
> Stata - 31 secs
> SPSS - 42 secs
> SAS - 21 secs

Loading from what?  I find R images of that size load in a few seconds,
hardly noticeable compared to starting R (or doing anything with them).
Or do you mean reading in from a text file (by read.table, say)?

> I normally start R with the command line switch allowing it to use 600megs
> or so - stata is allocated 200 megs.  I've allocated 1.5 gigs to stata

Um.  Current versions need no switches for modest data sets like 10-30Mb.

> before so I assume my memory management isn't an issue.
>
> Does anyone have any pointers to documents which discuss R limitations?
>
> Could there be something wrong with my particular R installation (RH 7.1 and
> most recent stable R release., 2 gigs memory, enterprise kernel, dual
> processor 800 mghrtz, high performance scsi drives)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Mon Jul 16 19:01:11 2001
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Mon, 16 Jul 2001 13:01:11 -0400
Subject: [R] RE: [Rd] too many arguments in foreign function call
Message-ID: <5429125E11E4D411AF7300805FE603A8014CEC77@groexmbcr02.pfizer.com>


  Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
  > Gregory R. Warnes <gregory_r_warnes at groton.pfizer.com> wrote 
  > >
  > >I would like to create an R package that will depend on 
  > the ability to use
  > >more than 65 parameters.  Would it be reasonable to expect 
  > this patch (or
  > >something equivalent) to be part of , say R > 1.3.1 ?
  > 
  > People are slow to upgrade, so you might be better off in the short
  > run to somehow reduce the number of parameters below 65.  
  > For example,
  > write a wrapper function that groups a number of scalar parameters
  > into one vector.

Actually, the whole point of the patch was to get out of this.  I want to
keep the code as close to what was written by the original author and as
simple as possible...

-Greg


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul 16 20:23:52 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 16 Jul 2001 19:23:52 +0100 (GMT Daylight Time)
Subject: [R] RE: [Rd] too many arguments in foreign function call
In-Reply-To: <5429125E11E4D411AF7300805FE603A8014CEC77@groexmbcr02.pfizer.com>
Message-ID: <Pine.WNT.4.31.0107161916001.1056-100000@tern.stats>

On Mon, 16 Jul 2001, Warnes, Gregory R wrote:

>
>   Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
>   > Gregory R. Warnes <gregory_r_warnes at groton.pfizer.com> wrote
>   > >
>   > >I would like to create an R package that will depend on
>   > the ability to use
>   > >more than 65 parameters.  Would it be reasonable to expect
>   > this patch (or
>   > >something equivalent) to be part of , say R > 1.3.1 ?
>   >
>   > People are slow to upgrade, so you might be better off in the short
>   > run to somehow reduce the number of parameters below 65.
>   > For example,
>   > write a wrapper function that groups a number of scalar parameters
>   > into one vector.
>
> Actually, the whole point of the patch was to get out of this.  I want to
> keep the code as close to what was written by the original author and as
> simple as possible...


Sorry, but I don't see that.  You want to write the wrapper in R?  Why is
it not as simple to write it in C?  I really don't see the need to remove
the limitation in R (or even to have it as high as 65) since R now has
.External() which allows an unlimited list of arguments to be passed to C
code.  I can't believe that the natural R representation is 85 separate
objects, so the natural way looks like a C wrapper translating between R
objects and Fortran pointers.  You can even copy selectively.

The argument is that new code should probably be using .Call (if S
compatibility is relevant) or .External rather than .C, at least provided
that a C wrapper is feasible.  Those interfaces seem very much under-used.
(Including by me, for S3-compatibility reasons.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Mon Jul 16 20:35:42 2001
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 16 Jul 2001 14:35:42 -0400
Subject: [R] RE: [Rd] too many arguments in foreign function call
In-Reply-To: <Pine.WNT.4.31.0107161916001.1056-100000@tern.stats>
References: <5429125E11E4D411AF7300805FE603A8014CEC77@groexmbcr02.pfizer.com> <Pine.WNT.4.31.0107161916001.1056-100000@tern.stats>
Message-ID: <lfc6ltge5nkjn2lors5qd1plsv3feu6l47@4ax.com>

On Mon, 16 Jul 2001 19:23:52 +0100 (GMT Daylight Time), you wrote in
message <Pine.WNT.4.31.0107161916001.1056-100000 at tern.stats>:

>The argument is that new code should probably be using .Call (if S
>compatibility is relevant) or .External rather than .C, at least provided
>that a C wrapper is feasible.  Those interfaces seem very much under-used.
>(Including by me, for S3-compatibility reasons.)

The difficulty with using .External is that it only works with C, not
with other languages, because you need the R header definitions.  I
think there is a fairly large group of programmers like myself who
aren't very comfortable programming in C.  The .C interface isn't tied
to the R header files the way .External is, so it's not too hard to
call other languages with it.  I use it with Delphi and Kylix, for
instance.

It's a nice quirk that ".C" is the interface to use for general
external code, and ".External" for C code.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From barg at cs.tu-berlin.de  Mon Jul 16 21:34:42 2001
From: barg at cs.tu-berlin.de (Martin Barghoorn)
Date: Mon, 16 Jul 2001 21:34:42 +0200 (MET DST)
Subject: No subject
Message-ID: <200107161934.VAA01248@bernoulli.cs.tu-berlin.de>


"[un]subscribe"
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jul 16 23:14:01 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Jul 2001 23:14:01 +0200
Subject: [R] RE: [Rd] too many arguments in foreign function call
In-Reply-To: Duncan Murdoch's message of "Mon, 16 Jul 2001 14:35:42 -0400"
References: <5429125E11E4D411AF7300805FE603A8014CEC77@groexmbcr02.pfizer.com> <Pine.WNT.4.31.0107161916001.1056-100000@tern.stats> <lfc6ltge5nkjn2lors5qd1plsv3feu6l47@4ax.com>
Message-ID: <x27kx8mvae.fsf@blueberry.kubism.ku.dk>

Duncan Murdoch <murdoch at stats.uwo.ca> writes:

> On Mon, 16 Jul 2001 19:23:52 +0100 (GMT Daylight Time), you wrote in
> message <Pine.WNT.4.31.0107161916001.1056-100000 at tern.stats>:
> 
> >The argument is that new code should probably be using .Call (if S
> >compatibility is relevant) or .External rather than .C, at least provided
> >that a C wrapper is feasible.  Those interfaces seem very much under-used.
> >(Including by me, for S3-compatibility reasons.)
> 
> The difficulty with using .External is that it only works with C, not
> with other languages, because you need the R header definitions.  I
> think there is a fairly large group of programmers like myself who
> aren't very comfortable programming in C.  The .C interface isn't tied
> to the R header files the way .External is, so it's not too hard to
> call other languages with it.  I use it with Delphi and Kylix, for
> instance.
> 
> It's a nice quirk that ".C" is the interface to use for general
> external code, and ".External" for C code.

That's a coincidence, highly dependent on other languages abiding the
C calling conventions (and arguably, .External is really interfacing
to a Scheme-like runtime system rather than general C code...)

It's like Brian says: If you can figure out how to call the other
language from C, then it really shouldn't be any trouble to setup a
wrapper using either of the interfaces .C, .Call, and .External. And
given that you usually need "onionskin" routines to convert pointer
arguments for call-by-value usage, the extra work of zipping a bunch
of scalar arguments out of a vector does seem rather minute.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Tue Jul 17 00:59:49 2001
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Tue, 17 Jul 2001 10:59:49 +1200
Subject: [R] Re: argument ordering (was <blank>)
References: <OE27Vn20lbhsKd6QR7j0001b0c3@hotmail.com>
Message-ID: <008601c10e4b$04448520$175dd882@stat.auckland.ac.nz>

Hi


---snip---
I am trying to change the number of the ticks on each axis, but every time I
can not succeed and receive the error message shown below even I use the
default values:

>plot.mts(infldata1[,3:4],lty=c(1:2),plot.type="single",lab=c(5,5,7))
   Error in axis(side, at, labels, tick, line, pos, outer, font, vfont, ...)
:
        location and label lengths differ, 6 != 3
---snip---


The problem is that the "lab" parameter is being passed down (via plot.ts)
to axis in a "..." argument, but it is being matched to the "labels"
argument in axis().

In other words, axis() thinks you are saying "labels=c(5, 5, 7)".   This is
not your fault;  it is an unfortunate interaction between partial matching
of argument names and the "..." argument.

A simple workaround would be ...

    op <- par(lab=c(5, 5, 7)
    plot.mts(infldata1[,3:4],lty=c(1:2),plot.type="single")
    par(op)

... a more long-term solution will require some more thought ...

[to R-devel:

    (i) could put the labels argument at the end of the list -- i.e.,
axis(side, at, tick, line, pos, outer, font, vfont, ..., labels) but then
using "lab" as an abbreviation for "labels" would then get consumed as a
par() setting (?)

    (ii) could put explicit "lab" argument in the list too -- i.e.,
axis(side, at, labels, tick, line, pos, outer, font, vfont, lab, ...) (?)

    (iii) ... ?]

Paul



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Tue Jul 17 01:30:26 2001
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Mon, 16 Jul 2001 19:30:26 -0400
Subject: [R] RE: [Rd] too many arguments in foreign function call
Message-ID: <5429125E11E4D411AF7300805FE603A8014CEC78@groexmbcr02.pfizer.com>


  From: Prof Brian D Ripley [mailto:ripley at stats.ox.ac.uk]
  > 
  > On Mon, 16 Jul 2001, Warnes, Gregory R wrote:
  > 
  > >   Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
  > >   > Gregory R. Warnes <gregory_r_warnes at groton.pfizer.com> wrote
  > >   > >
  > >   > > I would like to create an R package that will depend on
  > >   > > the ability to use
  > >   > > more than 65 parameters.  Would it be reasonable to expect
  > >   > > this patch (or
  > >   > > something equivalent) to be part of , say R > 1.3.1 ?
  > >   >
  > >   > People are slow to upgrade, so you might be better 
  > >   > off in the short
  > >   > run to somehow reduce the number of parameters below 65.
  > >   > For example,
  > >   > write a wrapper function that groups a number of 
  > >   > scalar parameters
  > >   > into one vector.
  > >
  > > Actually, the whole point of the patch was to get out of 
  > > this.  I want to keep the code as close to what was written 
  > > by the original author and as
  > > simple as possible...
  > 
  > 
  > Sorry, but I don't see that.  You want to write the wrapper 
  > in R?  Why is
  > it not as simple to write it in C?  

It is, in fact *not* as simple to write it in C.  Now the user must go from
2 languages (R and FORTRAN) to 3.  

  > I really don't see the need to remove
  > the limitation in R (or even to have it as high as 65) 
  > since R now has
  > .External() which allows an unlimited list of arguments to 
  > be passed to C
  > code.  I can't believe that the natural R representation is 
  > 85 separate
  > objects, 

No the actual R representation isn't anywhere near 85 separate objects.  The
actual R representation is more like 10 objects.  The point is that existing
FORTRAN code---which is used for R, S-Plus, and for a stand alone
program---makes use of some 60 objects which need to be dynamically sized,
hence the other 25 parameters specifying object sizes.  Indeed many of these
objects are merely 'scratch space' for the code to work in.  Still, its
easier for the user to allocate these in R (and have R manage the memory)
than to write the equivalent code in C. 

  > so the natural way looks like a C wrapper 
  > translating between R
  > objects and Fortran pointers.  You can even copy selectively.
  > 
  > The argument is that new code should probably be using .Call (if S
  > compatibility is relevant) or .External rather than .C, at 
  > least provided
  > that a C wrapper is feasible.  Those interfaces seem very 
  > much under-used.
  > (Including by me, for S3-compatibility reasons.)

Brian, do you really expect everyone to get in the habit of writing C code
to translate R SEXP into appropriate C or Fortran objects?   For the large
number of cases where the objects to be passed to and from C/Fortran are
simple scalars and vectors it really makes sense to keep the code to do the
translation in a standard library routine like do_dotcode().  This keeps the
bugs down to a minimum and makes it as easy as possible for people to
interface code.

All I suggested doing was removing the arbitrary restriction to <= 65
parameters.  I even provided the code.  What's the problem?

  > 
  > -- 
  > Brian D. Ripley,                  ripley at stats.ox.ac.uk
  > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
  > University of Oxford,             Tel:  +44 1865 272861 (self)
  > 1 South Parks Road,                     +44 1865 272860 (secr)
  > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
  > 
  > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
  > -.-.-.-.-.-.-.-.-.-
  > r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jul 17 02:09:52 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Jul 2001 02:09:52 +0200
Subject: [R] RE: [Rd] too many arguments in foreign function call
In-Reply-To: "Warnes, Gregory R"'s message of "Mon, 16 Jul 2001 19:30:26 -0400"
References: <5429125E11E4D411AF7300805FE603A8014CEC78@groexmbcr02.pfizer.com>
Message-ID: <x2pub0pga7.fsf@blueberry.kubism.ku.dk>

"Warnes, Gregory R" <gregory_r_warnes at groton.pfizer.com> writes:

> Brian, do you really expect everyone to get in the habit of writing C code
> to translate R SEXP into appropriate C or Fortran objects?   For the large
> number of cases where the objects to be passed to and from C/Fortran are
> simple scalars and vectors it really makes sense to keep the code to do the
> translation in a standard library routine like do_dotcode().  This keeps the
> bugs down to a minimum and makes it as easy as possible for people to
> interface code.
> 
> All I suggested doing was removing the arbitrary restriction to <= 65
> parameters.  I even provided the code.  What's the problem?

Some anxiety that there might be platforms that really don't allow
many parameters, I suppose. (As opposed to the arbitrary limit imposed
by R, essentially caused by the programmer giving up after

    case 65:
        retval = (SEXP)fun(
            cargs[0],  cargs[1],  cargs[2],  cargs[3],  cargs[4],
            cargs[5],  cargs[6],  cargs[7],  cargs[8],  cargs[9],
            cargs[10], cargs[11], cargs[12], cargs[13], cargs[14],
            cargs[15], cargs[16], cargs[17], cargs[18], cargs[19],
            cargs[20], cargs[21], cargs[22], cargs[23], cargs[24],
            cargs[25], cargs[26], cargs[27], cargs[28], cargs[29],
            cargs[30], cargs[31], cargs[32], cargs[33], cargs[34],
            cargs[35], cargs[36], cargs[37], cargs[38], cargs[39],
            cargs[40], cargs[41], cargs[42], cargs[43], cargs[44],
            cargs[45], cargs[46], cargs[47], cargs[48], cargs[49],
            cargs[50], cargs[51], cargs[52], cargs[53], cargs[54],
            cargs[55], cargs[56], cargs[57], cargs[58], cargs[59],
            cargs[60], cargs[61], cargs[62], cargs[63], cargs[64]);
        break;

There's obviously no portable and neat way of doing variable length
argument lists.)

You don't need to go via SEXPs to solve your problem, and in fact not
even to C. You could for instance use (pardon, my Fortran is getting
rusty): 

      subroutine doit(work, p, i)
      double precision work(1)
      integer p(59), i(25)
      call myfun(work(1),work(p(1)),work(p(2)),....,work(p(59)),
     +           i(1),...,i(25))
      return
      end
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From camann at babylon.cnrs.humboldt.edu  Tue Jul 17 02:16:01 2001
From: camann at babylon.cnrs.humboldt.edu (Michael Camann)
Date: Mon, 16 Jul 2001 17:16:01 -0700 (PDT)
Subject: [R] G-test
In-Reply-To: <3B4DE1AB.8E6D1194@cbs.dtu.dk>
Message-ID: <Pine.LNX.4.10.10107161654260.1112-100000@babylon.cnrs.humboldt.edu>

Don't know whether anyone ever answered the question regarding G-tests,
but here's a version I cobbled together for another project in case
there's still any interest in this.  This is the G-test ala Sokal and
Rohlf pp 737-738 in my old edition (not in hand, so I don't know the ed.
number).  The first function actually calculates the G statistic and the
second one performs a G-test on a 2x2 table, taking advantage of
print.htest to format the output. They're a bit kludgy, but they seem to
work.  Hope this is of some use....

--Mike C.


# Calculate a G statistic for a 2 x 2 table.
# Continuity corrections are "none", "yates", and "williams", with "none"
# as the default.
#
g.statistic <- function(x, correct="none")	# x is a 2 x 2 matrix
{	
	dname <- deparse(substitute(x))		# the input data
	if (is.data.frame(x)) x <- as.matrix(x)	# coerce data type?

	calc <- function(y) return(y*log(y))	# calculates x ln x

	# reference Sokal and Rohlf pp. 737-738
	# calculate margin sums
	m1 <- apply(x,2,sum)			# column margin sums
	m2 <- apply(x,1,sum)			# row margin sums
	n <- sum(x)				# combined margin sum

	if(correct=="yates")			# Yate's correction?
	{
		if((x[1,1]*x[2,2])-(x[1,2]*x[2,1]) > 0)
		{
			x[1,1] <- x[1,1] - 0.5
			x[2,2] <- x[2,2] - 0.5
			x[1,2] <- x[1,2] + 0.5
			x[2,1] <- x[2,1] + 0.5
		}
		else
		{
			x[1,1] <- x[1,1] + 0.5
			x[2,2] <- x[2,2] + 0.5
			x[1,2] <- x[1,2] - 0.5
			x[2,1] <- x[2,1] - 0.5
		}
	}

	# quantity 1
	q1 <- calc(x[1,1]) + calc(x[1,2]) + calc(x[2,1]) + calc(x[2,2])

	# quantity 2
	q2 <- calc(m2[1]) + calc(m2[2]) + calc(m1[1]) + calc(m1[2])
	
	# quantity 3
	q3 <- calc(n)

	# compute G
	G <- 2*(q1 - q2 + q3)

	if (correct=="williams")		# Williams's correction?
	{
		q <- 1+((((n/(m2[1]))+(n/(m2[2]))-1)*((n/(m1[1]))+(n/(m1[2]))-1))/(6*n))
		G <- G/q
	}

	return(G)
}


# this function performs a G test for independence on a 2 x 2 contingency
# table
#
g.test <- function(x, correct="none")		# x is a 2 x 2 matrix
{
	DNAME <- deparse(substitute(x))		# the input data name
	if (is.data.frame(x)) x <- as.matrix(x)	# coerce data type?

	if(dim(x)[1]!=2 || dim(x)[2]!=2)	# insure a 2 x 2 matrix
		stop("x must be a 2 x 2 matrix")

	STATISTIC <- g.statistic(x,correct)	# calc G statistic
	names(STATISTIC) <- "G-statistic"
	PARAMETER <- 1				# X-squared df = 1
	names(PARAMETER) <- "X-squared df"
	PVAL <- 1-pchisq(STATISTIC,df=PARAMETER)# calculate pvalue
	names(PVAL) <- "p.value"

	if(correct=="none") 
		METHOD <- "G-test for independence without continuity 
correction"
	else if(correct=="yates") 
		METHOD <- "G-test for independence with Yate's continuity
correction"
	else if(correct=="williams") 
		METHOD <- "G-test for independence with Williams'
continuity correction"


	structure(list(statistic=STATISTIC,parameter=PARAMETER,p.value=PVAL,
		method=METHOD,data.name=DNAME),class="htest")
}


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Michael A. Camann                                  Voice: 707-826-3676
Associate Professor of Zoology                       Fax: 707-826-3201
Institute for Forest Canopy Research     Email: mac24 at axe.humboldt.edu
Department of Biology                            ifcr at axe.humboldt.edu
Humboldt State University           
Arcata, CA 95521

                 URL:http://www.humboldt.edu/~mac24/
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murphyk at cs.berkeley.edu  Tue Jul 17 03:18:32 2001
From: murphyk at cs.berkeley.edu (Kevin Murphy)
Date: Mon, 16 Jul 2001 18:18:32 -0700
Subject: [R] variable number of variables in data frames
Message-ID: <3B539268.90A4261F@cs.berkeley.edu>

I would like to specify that certain columns in a data frame should be
treated as ordered factors. I know what numbers these columns are, but
not their names.
How do I do this?

For example, if I know columns 1:4 are to be treated as factors, I can
write

dat <- matrix(c(2,1,1,1, 1,1,1,1), 2, 4)
D <- as.data.frame(dat)
# force all variables to be treated as binary
# regardless of the small data set
D$V1 <- factor(D$V1, 1:2)
D$V2 <- factor(D$V2, 1:2)
D$V3 <- factor(D$V3, 1:2)
D$V4 <- factor(D$V4, 1:2)

But how do I do this in general? What I would like to say is something
like

for (i in my.factor.columns) {
  D$Vi <- factor(D$Vi, 1:my.nlevels[i])
}

Presumably I could do something tricky using eval, but I don't know how.
Besides, I'd prefer to avoid eval, since it is slow.
(Also, I don't want to rely on the fact that the columns are named "Vnn"
by default.)


Kevin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From macosko at fas.harvard.edu  Tue Jul 17 06:40:30 2001
From: macosko at fas.harvard.edu (Evan Zane Macosko)
Date: Tue, 17 Jul 2001 00:40:30 -0400 (EDT)
Subject: [R] vector angle
Message-ID: <Pine.OSF.4.33.0107170035270.4883-100000@is07.fas.harvard.edu>

Hi everyone,


I'm translating into R some programs I worked through in Matlab to
calculate the angle between two vectors (very large--like 6200 rows in
each vector).  In Matlab, I used a series of nested for loops, because I
was calculating the angles between many pairs of vectors.  I know for
loops are not desirable in R code, so I was wondering if anyone could
recommend a faster way to complete this task.  Also, I have NAs in my
vectors--I've had trouble performing various operations on my vectors in R
because of these NAs.

Any advice on this would be greatly appreciated.

Thanks!
Evan Macosko


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Robert.Denham at dnr.qld.gov.au  Tue Jul 17 07:36:20 2001
From: Robert.Denham at dnr.qld.gov.au (Robert.Denham@dnr.qld.gov.au)
Date: Tue, 17 Jul 2001 15:36:20 +1000
Subject: [R] variable number of variables in data frames
Message-ID: <CB3BE9CAB8C8D411AAF800805F65125AA913A1@indpllymail.dnr.qld.gov.au>

> For example, if I know columns 1:4 are to be treated as factors, I can
> write

> dat <- matrix(c(2,1,1,1, 1,1,1,1), 2, 4)
> D <- as.data.frame(dat)


> # force all variables to be treated as binary
>.# regardless of the small data set
> D$V1 <- factor(D$V1, 1:2)
> D$V2 <- factor(D$V2, 1:2)
> D$V3 <- factor(D$V3, 1:2)
> D$V4 <- factor(D$V4, 1:2)

> But how do I do this in general? What I would like to say is something
> like

Why not just 
for (i in my.factor.columns) {
#  D$Vi <- factor(D$Vi, 1:my.nlevels[i])
   D[,i]<- factor(D[,i], 1:my.nlevels[i])
}

Robert


************************************************************************
The information in this e-mail together with any attachments is
intended only for the person or entity to which it is addressed
and may contain confidential and/or privileged material.

Any form of review, disclosure, modification, distribution
and/or publication of this e-mail message is prohibited.  

If you have received this message in error, you are asked to
inform the sender as quickly as possible and delete this message
and any copies of this message from your computer and/or your
computer system network.  
************************************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From henrikb at braju.com  Tue Jul 17 08:16:39 2001
From: henrikb at braju.com (Henrik Bengtsson)
Date: Mon, 16 Jul 2001 23:16:39 -0700
Subject: [R] RE: variable number of variables in data frames
In-Reply-To: <3B539268.90A4261F@cs.berkeley.edu>
Message-ID: <KKEGJOGBELBHDIKPINBMEEHPCFAA.henrikb@braju.com>

Kevin, you can treat data frames as matrices, i.e. you can do

  dat <- matrix(c(2,1,1,1, 1,1,1,1), 2, 4)
  D <- as.data.frame(dat)
  for (i in 1:ncol(D)) 
    D[,i] <- factor(D[,i], 1:2)


Henrik

> -----Original Message-----
> From: murphyk at relay.eecs.berkeley.edu
> [mailto:murphyk at relay.eecs.berkeley.edu]On Behalf Of Kevin Murphy
> Sent: Monday, July 16, 2001 6:19 PM
> To: r-help at hypatia.math.ethz.ch; Henrik Bengtsson
> Cc: murphyk at cs.berkeley.edu
> Subject: variable number of variables in data frames
> 
> 
> I would like to specify that certain columns in a data frame should be
> treated as ordered factors. I know what numbers these columns are, but
> not their names.
> How do I do this?
> 
> For example, if I know columns 1:4 are to be treated as factors, I can
> write
> 
> dat <- matrix(c(2,1,1,1, 1,1,1,1), 2, 4)
> D <- as.data.frame(dat)
> # force all variables to be treated as binary
> # regardless of the small data set
> D$V1 <- factor(D$V1, 1:2)
> D$V2 <- factor(D$V2, 1:2)
> D$V3 <- factor(D$V3, 1:2)
> D$V4 <- factor(D$V4, 1:2)
> 
> But how do I do this in general? What I would like to say is something
> like
> 
> for (i in my.factor.columns) {
>   D$Vi <- factor(D$Vi, 1:my.nlevels[i])
> }
> 
> Presumably I could do something tricky using eval, but I don't know how.
> Besides, I'd prefer to avoid eval, since it is slow.
> (Also, I don't want to rely on the fact that the columns are named "Vnn"
> by default.)
> 
> 
> Kevin
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Tue Jul 17 08:46:23 2001
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Mon, 16 Jul 2001 23:46:23 -0700
Subject: [R] How to write the bytes 00 01 00 to a file/connection?
Message-ID: <KKEGJOGBELBHDIKPINBMMEIACFAA.hb@maths.lth.se>

Is there any way to write (8-bit) bytes to a file which works on all [R]
platforms? I have been looking at

  1) writeBin
  2) writeChar
  3) cat

and neither of them manage to write arbitrary sequences of bytes (0-255).

For instance, I would like to create a binary file of length three
containing the bytes 0, 1 and 0. I [R] I have the following vector of bytes:

  bfr <- c(0,1,0)

1) For having 'writeBin' to write bytes to a file the argument 'size' should
be one. However, this is not supported by my Windows Me system. I haven't
been able to try this on other platforms. Using 'writeBin(bfr, con)' with
default 'size' argument will generate a file containing 00 00 00 01 00 00,
i.e. two bytes for every integer. One approach would be to convert 8-bit
bytes into 16-bit integers and then write the integers. However, this would
only work for file sizes of even length!

Another approach is to convert the bytes to a vector of characters
"\000"-"\377", which in this case would be c("\000", "\001", "\000"). This
is possible and not too hard.

2) Using 'cat' to write strings will NOT work since it won't write "\000"'s.
Somewhere down the stream, the "\000"'s are cut of since they are interpret
as End of String. All other ASCII characters seems to work (I haven't tried
this fully on all systems though).

3) The third approach I tried was to use 'writeChar', which also can't write
"\000", except by using the 'eos' argument as eos="\000". This approach is
very awkward and requires a lot of ad-hoc coding and I am not sure it is
working the same on all platforms. Here is how you can write 00 01 00 to a
file:

  fh <- file("writeChar.bin", "w")
  writeChar("", con=fh, nchars=0, eos="\000")
  writeChar("\001", con=fh, nchars=1, eos=NULL)
  writeChar("", con=fh, nchars=0, eos="\000")
  close(fh)

If someone knows a better way of writing arbitrary byte sequences to a file,
please help me out.

Thanks

Henrik Bengtsson
h b @ m a t h s . l t h . s e

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul 17 09:06:28 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 17 Jul 2001 08:06:28 +0100 (BST)
Subject: [R] How to write the bytes 00 01 00 to a file/connection?
In-Reply-To: <KKEGJOGBELBHDIKPINBMMEIACFAA.hb@maths.lth.se>
Message-ID: <Pine.GSO.4.31.0107170753570.21400-100000@auk.stats>

On Mon, 16 Jul 2001, Henrik Bengtsson wrote:

> Is there any way to write (8-bit) bytes to a file which works on all [R]
> platforms? I have been looking at
>
>   1) writeBin
>   2) writeChar
>   3) cat
>
> and neither of them manage to write arbitrary sequences of bytes (0-255).
>

You could also use

library(Rstreams)
s <- openstream("foo", "write")
writeint(s, bfr, 1)
closestream(s)


> For instance, I would like to create a binary file of length three
> containing the bytes 0, 1 and 0. I [R] I have the following vector of bytes:
>
>   bfr <- c(0,1,0)

Nope, that's a sequence of doubles and that seems to be the problem.

> 1) For having 'writeBin' to write bytes to a file the argument 'size' should
> be one. However, this is not supported by my Windows Me system. I haven't
> been able to try this on other platforms. Using 'writeBin(bfr, con)' with
> default 'size' argument will generate a file containing 00 00 00 01 00 00,
> i.e. two bytes for every integer. One approach would be to convert 8-bit
> bytes into 16-bit integers and then write the integers. However, this would
> only work for file sizes of even length!

You need them to be *integers*

bfr <- as.integer(c(0,1,0))
out <- file("foo", "wb")
writeBin(bfr, out, size=1)
close(out)

works for me (including on Win2K: I have never had to use Windows Me).
That's the intended approach.

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Tue Jul 17 09:49:07 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Tue, 17 Jul 2001 09:49:07 +0200
Subject: [R] vector angle
References: <Pine.OSF.4.33.0107170035270.4883-100000@is07.fas.harvard.edu>
Message-ID: <3B53EDF3.807212F2@cbs.dtu.dk>

Evan Zane Macosko wrote:

> Hi everyone,
>
> I'm translating into R some programs I worked through in Matlab to
> calculate the angle between two vectors (very large--like 6200 rows in
> each vector).  In Matlab, I used a series of nested for loops, because I
> was calculating the angles between many pairs of vectors.  I know for
> loops are not desirable in R code, so I was wondering if anyone could
> recommend a faster way to complete this task.  Also, I have NAs in my
> vectors--I've had trouble performing various operations on my vectors in R
> because of these NAs.
>
> Any advice on this would be greatly appreciated.

As far as I know, the use of apply (sapply and lapply) would make things run
faster than 'for' loops.


About the NAs, you may want to ignore the vectors which have a NA coordinate, or
may be do something else...
to have a foot in this, you may try the help for the functions 'is.na' and
'na.action'.



I hope it helps,




Laurent



--
Laurent Gautier                 CBS, Building 208, DTU
PhD. Student                    D-2800 Lyngby,Denmark
tel: +45 45 25 24 85            http://www.cbs.dtu.dk/laurent


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010717/a5a3487b/attachment.html

From laurent at cbs.dtu.dk  Tue Jul 17 10:14:46 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Tue, 17 Jul 2001 10:14:46 +0200
Subject: [R] variable number of variables in data frames
References: <3B539268.90A4261F@cs.berkeley.edu>
Message-ID: <3B53F3F5.1BC46085@cbs.dtu.dk>

Kevin Murphy wrote:

> I would like to specify that certain columns in a data frame should be
> treated as ordered factors. I know what numbers these columns are, but
> not their names.
> How do I do this?
>
> For example, if I know columns 1:4 are to be treated as factors, I can
> write
>
> dat <- matrix(c(2,1,1,1, 1,1,1,1), 2, 4)
> D <- as.data.frame(dat)
> # force all variables to be treated as binary
> # regardless of the small data set
> D$V1 <- factor(D$V1, 1:2)
> D$V2 <- factor(D$V2, 1:2)
> D$V3 <- factor(D$V3, 1:2)
> D$V4 <- factor(D$V4, 1:2)
>
> But how do I do this in general? What I would like to say is something
> like
>
> for (i in my.factor.columns) {
>   D$Vi <- factor(D$Vi, 1:my.nlevels[i])
> }
>
> Presumably I could do something tricky using eval, but I don't know how.
> Besides, I'd prefer to avoid eval, since it is slow.
> (Also, I don't want to rely on the fact that the columns are named "Vnn"
> by default.)
>
> Kevin






What about:

> dat <- matrix(c(2,1,1,1, 1,1,1,1), 2, 4)
> D <- as.data.frame(dat)
> makefactor <- function(d,index) { d[index] <- sapply(d[index],factor); return(d)
}
> # say one wants the two first columns to be factors
> index <- c(1,2)
> str(makefactor(D,index))



Regards,



Laurent










>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
Laurent Gautier                 CBS, Building 208, DTU
PhD. Student                    D-2800 Lyngby,Denmark
tel: +45 45 25 24 85            http://www.cbs.dtu.dk/laurent


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010717/e8254a3d/attachment.html

From ripley at stats.ox.ac.uk  Tue Jul 17 10:17:52 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 17 Jul 2001 09:17:52 +0100 (BST)
Subject: [R] vector angle
In-Reply-To: <3B53EDF3.807212F2@cbs.dtu.dk>
Message-ID: <Pine.GSO.4.31.0107170905210.2015-100000@toucan.stats>

On Tue, 17 Jul 2001, Laurent Gautier wrote:

> Evan Zane Macosko wrote:
>
> > Hi everyone,
> >
> > I'm translating into R some programs I worked through in Matlab to
> > calculate the angle between two vectors (very large--like 6200 rows in
> > each vector).  In Matlab, I used a series of nested for loops, because I
> > was calculating the angles between many pairs of vectors.  I know for
> > loops are not desirable in R code, so I was wondering if anyone could
> > recommend a faster way to complete this task.  Also, I have NAs in my
> > vectors--I've had trouble performing various operations on my vectors in R
> > because of these NAs.
> >
> > Any advice on this would be greatly appreciated.
>
> As far as I know, the use of apply (sapply and lapply) would make things run
> faster than 'for' loops.

Not very much faster in R (and apply itself is basically a for loop).
Because for loops were slow in S3, the message seems to have got
transferred to S4 and R.  Often the best approach is to see if a loop is
fast enough, first.  (In S-PLUS 5.0 lapply was actually slower than a for
loop.)

The key to speed is usually vectorization (often at the expense of
memory, but these are not very large vectors).  Here it looks as if
outer() might be the key.

I am not clear what is really required here, but if you want the
angles between all pairs of p vectors of length m, say, I would
try

- normalizing them to unit length
- using dist() to compute the Euclidean distances between the pairs,
  since for unit-length vectors x and y ||x - y||^2 = 2 - 2x.y
  = 2(1 - cos th) where th is the angle between them.

That just makes use of for loops written in the C internals of dist,
and doing the computations oneself in C is often a fairly simple option.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From benjamin.warr at insead.fr  Tue Jul 17 10:56:39 2001
From: benjamin.warr at insead.fr (WARR Benjamin)
Date: Tue, 17 Jul 2001 10:56:39 +0200
Subject: [R] Equation constraints: optim()
Message-ID: <C374E6A0E25BD41197FB00508B014A1302874983@FW-ZEUS>

Dear All,

I am using optim() to minimise a function,

(y-E exp{a*(2-(L+E/K))+ a * c (L/E -1))^2

I would like the result to respect the following constraints. The problem I
am having problems understanding is how to impose them, when they relate not
to the parameters a and c directly, but to equations containing a and c, 

alpha = a * (L+E/K)
beta = a * (c * L/E + L/K)
gamma = 1 - alpha - beta

where

alpha, beta and gamma are all non-negative and sum to 1. Gamma itself does
not appear in the function to be fitted.

I note that within Mathematic it is possible to solve under constraints on
the parameters and equations containing the parameters ? Is this possible in
R ?

Does anyone have any ideas ? Am I missing an obvious mathematical solution
and thereby asking too much of r ?

many thanks

Ben Warr
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010717/39f8a427/attachment.html

From laurent at cbs.dtu.dk  Tue Jul 17 11:29:30 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Tue, 17 Jul 2001 11:29:30 +0200
Subject: [R] vector angle
References: <Pine.GSO.4.31.0107170905210.2015-100000@toucan.stats>
Message-ID: <3B540579.75BE5C@cbs.dtu.dk>

Prof Brian Ripley wrote:

> On Tue, 17 Jul 2001, Laurent Gautier wrote:
>
> > Evan Zane Macosko wrote:
> >
> > > Hi everyone,
> > >
> > > I'm translating into R some programs I worked through in Matlab to
> > > calculate the angle between two vectors (very large--like 6200 rows in
> > > each vector).  In Matlab, I used a series of nested for loops, because I
> > > was calculating the angles between many pairs of vectors.  I know for
> > > loops are not desirable in R code, so I was wondering if anyone could
> > > recommend a faster way to complete this task.  Also, I have NAs in my
> > > vectors--I've had trouble performing various operations on my vectors in R
> > > because of these NAs.
> > >
> > > Any advice on this would be greatly appreciated.
> >
> > As far as I know, the use of apply (sapply and lapply) would make things run
> > faster than 'for' loops.
>
> Not very much faster in R (and apply itself is basically a for loop).
> Because for loops were slow in S3, the message seems to have got
> transferred to S4 and R.  Often the best approach is to see if a loop is
> fast enough, first.  (In S-PLUS 5.0 lapply was actually slower than a for
> loop.)
>

And I lived all these years in ignorance, thinking I was doing good while I was
making things worse.....


I haven't look at R introduction manuals for a while now, so may be the following
remark is already stated in them. but by the time I started with R, the modern
statistics with S-plus was the main reference and being a poooor student at that
time, I learned things through the internet. It prooves to be a bad thing, since
at that time there was a rumour about these functions being faster than the loops
(like the 'map' function is told to be faster than the for loop in Python for
example).
I just looked at what would get as an answer using a webcrawler, and the rumour
seems to be still alive
(see http://www.math.yorku.ca/Who/Faculty/Monette/S-news/2531.html , at the
bottom of the page, or
http://www.usc.edu/isd/doc/statistics/splus/faq/v5/newinv5.shtml ), but I would
have followed better was has been told on this list I would have known it was not
the case
(see http://www.ens.gu.edu.au/robertk/R/help/00a/1999.html).


Thanks for pointing out the mistake I made,




Laurent



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul 17 11:44:28 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 17 Jul 2001 10:44:28 +0100 (BST)
Subject: [R] vector angle
In-Reply-To: <3B540579.75BE5C@cbs.dtu.dk>
Message-ID: <Pine.LNX.4.31.0107171038220.5357-100000@gannet.stats>

On Tue, 17 Jul 2001, Laurent Gautier wrote:

> Prof Brian Ripley wrote:
>
> > On Tue, 17 Jul 2001, Laurent Gautier wrote:
> >
> > > Evan Zane Macosko wrote:
> > >
> > > > Hi everyone,
> > > >
> > > > I'm translating into R some programs I worked through in Matlab to
> > > > calculate the angle between two vectors (very large--like 6200 rows in
> > > > each vector).  In Matlab, I used a series of nested for loops, because I
> > > > was calculating the angles between many pairs of vectors.  I know for
> > > > loops are not desirable in R code, so I was wondering if anyone could
> > > > recommend a faster way to complete this task.  Also, I have NAs in my
> > > > vectors--I've had trouble performing various operations on my vectors in R
> > > > because of these NAs.
> > > >
> > > > Any advice on this would be greatly appreciated.
> > >
> > > As far as I know, the use of apply (sapply and lapply) would make things run
> > > faster than 'for' loops.
> >
> > Not very much faster in R (and apply itself is basically a for loop).
> > Because for loops were slow in S3, the message seems to have got
> > transferred to S4 and R.  Often the best approach is to see if a loop is
> > fast enough, first.  (In S-PLUS 5.0 lapply was actually slower than a for
> > loop.)
> >
>
> And I lived all these years in ignorance, thinking I was doing good while I was
> making things worse.....
>
>
> I haven't look at R introduction manuals for a while now, so may be the following
> remark is already stated in them. but by the time I started with R, the modern
> statistics with S-plus was the main reference and being a poooor student at that
> time, I learned things through the internet. It prooves to be a bad thing, since
> at that time there was a rumour about these functions being faster than the loops
> (like the 'map' function is told to be faster than the for loop in Python for
> example).
> I just looked at what would get as an answer using a webcrawler, and the rumour
> seems to be still alive
> (see http://www.math.yorku.ca/Who/Faculty/Monette/S-news/2531.html , at the
> bottom of the page, or
> http://www.usc.edu/isd/doc/statistics/splus/faq/v5/newinv5.shtml ), but I would
> have followed better was has been told on this list I would have known it was not
> the case
> (see http://www.ens.gu.edu.au/robertk/R/help/00a/1999.html).
>
>
> Thanks for pointing out the mistake I made,

Not a mistake, but a misconception perhaps.

Bill Venables and I deliberately illustrated a number of approaches in
Chapter 7 of S Programming using S+3.4, S+2000, S+5.1 and R 0.90.1 to show
that (p. 152)

  Since our aim is not to compare systems, the timings here using
  different engines were done on different systems, all of which had
  ample RAM.  It is worth noting that the different S implementations
  used here do differ, sometimes radically, in their ordering of
  approaches, and the ordering might be different again on machines with
  less RAM available.

One example (using a for loop) shows a 17x speed up in S+5.1, and a 50%
speed-up in R.

Also, later versions of R show some differences, especially due to the
new memory management system (and lapply has been altered since those
timings too).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jul 17 12:23:04 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Jul 2001 12:23:04 +0200
Subject: [R] RE: variable number of variables in data frames
In-Reply-To: "Henrik Bengtsson"'s message of "Mon, 16 Jul 2001 23:16:39 -0700"
References: <KKEGJOGBELBHDIKPINBMEEHPCFAA.henrikb@braju.com>
Message-ID: <x27kx74zxz.fsf@blueberry.kubism.ku.dk>

"Henrik Bengtsson" <henrikb at braju.com> writes:

> Kevin, you can treat data frames as matrices, i.e. you can do
> 
>   dat <- matrix(c(2,1,1,1, 1,1,1,1), 2, 4)
>   D <- as.data.frame(dat)
>   for (i in 1:ncol(D)) 
>     D[,i] <- factor(D[,i], 1:2)
..
> > for (i in my.factor.columns) {
> >   D$Vi <- factor(D$Vi, 1:my.nlevels[i])
> > }

Also,

> D[1:2]<-lapply(D[1:2],factor,levels=1:2)
> summary(D)
 V1    V2          V3          V4   
 1:1   1:2   Min.   :1   Min.   :1  
 2:1   2:0   1st Qu.:1   1st Qu.:1  
             Median :1   Median :1  
             Mean   :1   Mean   :1  
             3rd Qu.:1   3rd Qu.:1  
             Max.   :1   Max.   :1  


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From elvis at xlsolutions-corp.com  Tue Jul 17 19:03:20 2001
From: elvis at xlsolutions-corp.com (Elvis Miller)
Date: Tue, 17 Jul 2001 10:03:20 -0700
Subject: [R] COURSE: R (gnu S) Fundamentals and programming in Houston, TX - August 8-10, 2001
Message-ID: <200107171703.f6HH3J524421@badass.hosting-network.com>

 XLSolutions Corporation (www.xlsolutions-corp.com) is pleased to 
announce a three-day R course, "R Fundamentals and Programming
Techniques,"  in:

                     Houston, TX- August 8-10, 2001.

R is a freely available implementation of the S language and environment, 
for statistical computing and graphics similar to the commercial S-PLUS. 
You can download a copy of R software (Windows, Mac, Unix & Linux) 
from http://cran.r-project.org.

This special three-day R course developped is designed for those who want to learn to write R programs to accomplish typical data-processing tasks, including creating graphics. The course will give beginners a strong foundation for becoming a versatile R programmer, and will expose experienced users to skills that make a better R programmer.

Course Description:

This three-day R course focuses on a broad spectrum of topics, from
reading raw data to a comparison of R, S and SAS. We will learn the 
essentials of data manipulation, graphical visualization and R 
programming. We will explore statistical data analysis tools, including 
graphics with data sets from areas such as Finance, Biopharm, 
manufacturing and E-commerce. However, participants are encouraged to
bring their own data for an interactive session with the trainer.


Cost for 3-day course

Commercial $985
Academic $875

(Includes course materials, 90 days Technical Support for R,
snacks and continental breakfast!)

You organization saves even more money when two or more 
people attend the class. Email us for more details. We also offer
private affordable 1-day or 2-day courses customized to your needs.

Registration: 

Email Sue Turner: sue at xlsolutions-corp.com
Phone: 206-686-1578 x221
Visit us: www.xlsolutions-corp.com/training.htm


Course Format:

This course consists of a series of short lectures with demonstrations and 
interactive sessions for the participants. Each student is provided with 
bound copies of the notes and a CD-ROM containing all examples, 
exercises and software used on the course.


Share Your Thoughts:

Are there any additional topics you would like for this course to address?
Would you like for this course to be offered in another city? 

Please let us know by contributing to our recommendation list: 
training at xlsolutions-corp.com.


================================================================================
==

Three-day R Fundamentals and Programming Techniques (Houston)

Pre-registration Form (Please email or print and fax: 206-686-1578)
XLsolutions Corporation: For your Solutions needs, Consulting and 
Training. www.xlsolutions-corp.com



Title...... First Name ................. Last Name....................

Organization..........................................................

Mailing Address....................................................... 

.................................................................

.................................................................

Zip Code...................... Country.............................

Telephone........................... Fax ...............................

E-mail................................................................

Payment will be made by: (1) check (2) invoice (3) bank transfer



Elvis Miller, PhD
Manager Training and Technical Support
North American Division
XLSolutions Corporation
Email: elvis at xlsolutions-corp.com
Phone: 206-686-1578
Web: www.xlsolutions-corp.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a296180 at mica.fmr.com  Tue Jul 17 19:58:12 2001
From: a296180 at mica.fmr.com (David Kane  <David Kane)
Date: Tue, 17 Jul 2001 13:58:12 -0400
Subject: [R] variations in how long commands take
Message-ID: <15188.31924.840268.91001@gargle.gargle.HOWL>

We are performming a series of S+ 6.0 versus R 1.3 comparisons. (If anyone has
already written scripts for this purpose, we would be eager for a copy.) The
purpose is to see if there are any "gotchas" -- places were S+ works and R
doesn't -- that would prevent us from going all the way over to R. (We have
lots of legacy code, so the conversion costs are non-trivial.) As part of this
project, we have some simple matrix code that takes a similar amount of time in
S+ and in R (with R a little faster) the *first* time that we run it. However,
repeated invocations of this code in R produce slower and slower times (often
dramatically so). Here is a simple example (with a new R session):

> version
         _                   
platform sparc-sun-solaris2.6
arch     sparc               
os       solaris2.6          
system   sparc, solaris2.6   
status                       
major    1                   
minor    3.0                 
year     2001                
month    06                  
day      22                  
language R                   

> m <- matrix(1, 400, 40000)
> proc.time(x0 <- apply(m, 2, sum))
[1] 21.88  3.16 40.13  0.00  0.00

So far, so good. This is more than twice as fast as the same thing in S+
6.0. But when I re-issue this command, I get:

> proc.time(x0 <- apply(m, 2, sum))
[1] 37.09  4.65 63.13  0.00  0.00
> proc.time(x0 <- apply(m, 2, sum))
[1] 52.34  5.44 85.29  0.00  0.00

So, my first question is: Why do the times keep going up? I first assumed that
there were some problems with overwriting x0 again and again, but I then remove
everything from the workspace and start "fresh":

> remove(list = ls())
> ls()
character(0)
> m <- matrix(1, 400, 40000)
> proc.time(x0 <- apply(m, 2, sum))
[1]  72.50   6.13 137.08   0.00   0.00

Second question is: Why does this continue even with an empty workspace? I do
not see this behavior in S+.

I have read ?Memory and played around with things like gc() and mem.limits(). I
am aware that R and S+ are very different in their memory usage. But I suspect
that there is something fundamental about R that I am missing . . .

Any suggestions or pointers would be much appreciated.

Thanks,

Dave Kane
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Tue Jul 17 20:20:06 2001
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Tue, 17 Jul 2001 20:20:06 +0200
Subject: [R] variations in how long commands take
In-Reply-To: <15188.31924.840268.91001@gargle.gargle.HOWL>; from a296180@mica.fmr.com on Tue, Jul 17, 2001 at 01:58:12PM -0400
References: <15188.31924.840268.91001@gargle.gargle.HOWL>
Message-ID: <20010717202006.A1541@sirio.stat.unipd.it>

On Tue, Jul 17, 2001 at 01:58:12PM -0400, David Kane  <David Kane wrote:
> > m <- matrix(1, 400, 40000)
> > proc.time(x0 <- apply(m, 2, sum))
> [1] 21.88  3.16 40.13  0.00  0.00
> 
> So far, so good. This is more than twice as fast as the same thing in S+
> 6.0. But when I re-issue this command, I get:
> 
> > proc.time(x0 <- apply(m, 2, sum))
> [1] 37.09  4.65 63.13  0.00  0.00
> > proc.time(x0 <- apply(m, 2, sum))
> [1] 52.34  5.44 85.29  0.00  0.00
> 
> So, my first question is: Why do the times keep going up? I first assumed that

>From help(proc.time)

 `proc.time' determines how much time (in seconds) the currently
  running R process already consumed.

Perhaps, you want to look to the help page of 'system.time'.


guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul 17 20:25:08 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 17 Jul 2001 19:25:08 +0100 (BST)
Subject: [R] variations in how long commands take
In-Reply-To: <15188.31924.840268.91001@gargle.gargle.HOWL>
Message-ID: <Pine.LNX.4.31.0107171922240.4733-100000@gannet.stats>

On Tue, 17 Jul 2001, David Kane  <David Kane wrote:

> We are performming a series of S+ 6.0 versus R 1.3 comparisons. (If anyone has
> already written scripts for this purpose, we would be eager for a copy.) The
> purpose is to see if there are any "gotchas" -- places were S+ works and R
> doesn't -- that would prevent us from going all the way over to R. (We have
> lots of legacy code, so the conversion costs are non-trivial.) As part of this
> project, we have some simple matrix code that takes a similar amount of time in
> S+ and in R (with R a little faster) the *first* time that we run it. However,
> repeated invocations of this code in R produce slower and slower times (often
> dramatically so). Here is a simple example (with a new R session):


You mean system.time, nor proc.time!  proc.time is the cumulative usage
of the session and can only increase.  Here's my results:

> m <- matrix(1, 400, 40000)
> system.time(x0 <- apply(m, 2, sum))
[1]  6.98  1.03 17.40  0.00  0.00
> system.time(x0 <- apply(m, 2, sum))
[1] 7.02 0.44 7.55 0.00 0.00
> system.time(x0 <- apply(m, 2, sum))
[1] 6.88 0.48 7.36 0.00 0.00


>
> > version
>          _
> platform sparc-sun-solaris2.6
> arch     sparc
> os       solaris2.6
> system   sparc, solaris2.6
> status
> major    1
> minor    3.0
> year     2001
> month    06
> day      22
> language R
>
> > m <- matrix(1, 400, 40000)
> > proc.time(x0 <- apply(m, 2, sum))
> [1] 21.88  3.16 40.13  0.00  0.00
>
> So far, so good. This is more than twice as fast as the same thing in S+
> 6.0. But when I re-issue this command, I get:
>
> > proc.time(x0 <- apply(m, 2, sum))
> [1] 37.09  4.65 63.13  0.00  0.00
> > proc.time(x0 <- apply(m, 2, sum))
> [1] 52.34  5.44 85.29  0.00  0.00
>
> So, my first question is: Why do the times keep going up? I first assumed that
> there were some problems with overwriting x0 again and again, but I then remove
> everything from the workspace and start "fresh":
>
> > remove(list = ls())
> > ls()
> character(0)
> > m <- matrix(1, 400, 40000)
> > proc.time(x0 <- apply(m, 2, sum))
> [1]  72.50   6.13 137.08   0.00   0.00
>
> Second question is: Why does this continue even with an empty workspace? I do
> not see this behavior in S+.
>
> I have read ?Memory and played around with things like gc() and mem.limits(). I
> am aware that R and S+ are very different in their memory usage. But I suspect
> that there is something fundamental about R that I am missing . . .
>
> Any suggestions or pointers would be much appreciated.
>
> Thanks,
>
> Dave Kane
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a296180 at mica.fmr.com  Tue Jul 17 21:30:58 2001
From: a296180 at mica.fmr.com (David Kane  <David Kane)
Date: Tue, 17 Jul 2001 15:30:58 -0400
Subject: [R] Summary of variations in how long commands take
Message-ID: <15188.37490.166487.72961@gargle.gargle.HOWL>

Thanks to Guido Masarotto, Brain Ripley and Andy Liaw for (remarkably) quick
answers to my (stupid!) question. As all three noted, I should be using
system.time() instead of proc.time().

Andy also noted that he used constructions like:

my.f <- function(x) {
start <- proc.time()
[some steps]
now <- proc.time()
cat("first step took ",now-start," seconds.\n")
etc.
}

to examine timing within a given function. 

Thanks again for a marvelous program. 

Regards,

Dave Kane
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jonqli at labs.agilent.com  Tue Jul 17 16:01:59 2001
From: jonqli at labs.agilent.com (Jonathan Qiang Li)
Date: Tue, 17 Jul 2001 07:01:59 -0700
Subject: [R] scoping problem?
Message-ID: <3B544557.38ED6699@labs.agilent.com>

Hi, 

I wrote a dummy function that passes a dataset to tree() as the
following:

test.func <- function(training.data){
	tr <- tree(type~., data = training.data)
	tr
}

Then I run the function under R

> test.func(MyData)

Error in model.frame.default(formula = type ~ ., data = training.data) : 
	Object "training.data" not found

MyData resides in the working environment, while training.data does not.
R manual
claims that scoping of free variables are "lexical" (Introduction to R,
chapter 10.7).
 I take that it means that in evaluating the expression 
tree(type~., data=training.data) ,
R will look in the scope of the function test.func, therefore
discovering "training.data" 
as a "formal parameter". But it seemed that I misunderstood something
here. 

I also made a global variable 

> training.data <- MyData

and run 

> test.func(MyData) 

The function works fine without complaints.

Can someone please help with this matter?

Jonathan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From york at noaa.gov  Tue Jul 17 23:35:08 2001
From: york at noaa.gov (Anne York)
Date: Tue, 17 Jul 2001 14:35:08 -0700 (PDT)
Subject: [R] R-help archives after June 21 2001
Message-ID: <Pine.GSO.4.05.10107171432030.18361-100000@ofis450a.akctr.noaa.gov>

Could someone please point me to a source for the archives of this news
group after June 21. 

I was subscribed to a digest version, but it stopped arriving after that
date. 

Anne


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Anne E. York
National Marine Mammal Laboratory
Seattle WA 98115-0070  USA
e-mail: anne.york at noaa.gov
Voice: +1 206-526-4039
Fax: +1 206-526-6615
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maneesh at www.chip.org  Wed Jul 18 00:19:40 2001
From: maneesh at www.chip.org (maneesh@www.chip.org)
Date: Tue, 17 Jul 2001 18:19:40 -0400 (EDT)
Subject: [R] some newbie problems with plotting and RPgSQL
Message-ID: <Pine.LNX.4.33.0107171649490.1212-100000@www.chip.org>

Dear R-enthusiasts,

What a wonderful package R is, many thanks to all you have contributed
(I've just started using it)...I have  a few questions that I am having
some trouble finding the answer to:

I am using RPgSQL to grab some data from a postgresql database (about 179
columns and a few thousand rows), and I want to do a lot of pairwise
comparison of the rows...(this is yeast genomic microarray data for those
who care)

I get to the database:

> db.connect(dbname="yeast")

and grab the first two rows like this:

> t<-sql.select(columns="*", from="gasch", limit=2)

then create two lists a la:

> a<-t[1,][4:length(t[1,])]
> b<-t[2,][4:length(t[2,])]

(the first 3 entries are text)

and now I just want to see a plot(a,b) but I always get the following
error:

Error in plot.new() : Figure margins too large

(I even tried par(mar=c(0,0,0,0)))

Oddly I get the following behaviour:

> plot(seq(1,174),a)

works (the graph looks like it should)

but the reverse

> plot(a,seq(1,174))

gives me:

Error in plot.new() : Figure margins too large

similarly for b...so I am guessing the problem is passing my lists as the
first argument...

Manually getting the rows and making a text file that explictly states the
vectors and then sourcing the file  from R does plot(a,b) just fine....

If I understand the R classes correctly t is a dataframe and a and b are
lists (named by the column headings of the database)....

I'm sure there is something stupid I am doing....

Also I am little confused as to the meaning of t[0,] when I get the
data.frame back from my SQL query, if anyone happens to have any insight.


Many thanks,
Maneesh (please email to this address as I am not subscribed to the list)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jul 18 01:01:52 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Jul 2001 01:01:52 +0200
Subject: [R] scoping problem?
In-Reply-To: Jonathan Qiang Li's message of "Tue, 17 Jul 2001 07:01:59 -0700"
References: <3B544557.38ED6699@labs.agilent.com>
Message-ID: <x2k817i2hr.fsf@blueberry.kubism.ku.dk>

Jonathan Qiang Li <jonqli at labs.agilent.com> writes:

> Hi, 
> 
> I wrote a dummy function that passes a dataset to tree() as the
> following:
> 
> test.func <- function(training.data){
> 	tr <- tree(type~., data = training.data)
> 	tr
> }
> 
> Then I run the function under R
> 
> > test.func(MyData)
> 
> Error in model.frame.default(formula = type ~ ., data = training.data) : 
> 	Object "training.data" not found
> 
> MyData resides in the working environment, while training.data does not.
> R manual
> claims that scoping of free variables are "lexical" (Introduction to R,
> chapter 10.7).
>  I take that it means that in evaluating the expression 
> tree(type~., data=training.data) ,
> R will look in the scope of the function test.func, therefore
> discovering "training.data" 
> as a "formal parameter". But it seemed that I misunderstood something
> here. 
> 
> I also made a global variable 
> 
> > training.data <- MyData
> 
> and run 
> 
> > test.func(MyData) 
> 
> The function works fine without complaints.
> 
> Can someone please help with this matter?

In general, you need to know that scoping and evaluation rules can be
broken in the R system. It is possible for a function to get a hold of
the expression that is passed for an argument and evaluate it in an
environment of its own choice, or even use the symbolic expression as
such (that is how you get away with saying "library(tree)" without
getting a "there is no object called `tree'" type error.)

tree() is doing some such trickery at the start of the function.
Basically, it gets hold of the entire call, and then replaces the
function being called with model.frame.default and reevaluates in the
parent frame. Or rather, it tries to do that. The code is using
eval(model, sys.parent()) and somehow that fails. 

Replacing sys.parent() with parent.frame() inside tree does make it
work, which points to a possible bug in eval() when used with an
integer envir= argument. Will have a look.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Wed Jul 18 01:23:26 2001
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Wed, 18 Jul 2001 11:23:26 +1200
Subject: [R] some newbie problems with plotting and RPgSQL
References: <Pine.LNX.4.33.0107171649490.1212-100000@www.chip.org>
Message-ID: <006f01c10f17$7b5a3b60$175dd882@stat.auckland.ac.nz>

Hi


> I am using RPgSQL to grab some data from a postgresql database (about 179
> columns and a few thousand rows), and I want to do a lot of pairwise
> comparison of the rows...(this is yeast genomic microarray data for those
> who care)
>
> I get to the database:
>
> > db.connect(dbname="yeast")
>
> and grab the first two rows like this:
>
> > t<-sql.select(columns="*", from="gasch", limit=2)
>
> then create two lists a la:
>
> > a<-t[1,][4:length(t[1,])]
> > b<-t[2,][4:length(t[2,])]
>
> (the first 3 entries are text)
>
> and now I just want to see a plot(a,b) but I always get the following
> error:
>
> Error in plot.new() : Figure margins too large
>
> (I even tried par(mar=c(0,0,0,0)))
>
> Oddly I get the following behaviour:
>
> > plot(seq(1,174),a)
>
> works (the graph looks like it should)
>
> but the reverse
>
> > plot(a,seq(1,174))
>
> gives me:
>
> Error in plot.new() : Figure margins too large
>
> similarly for b...so I am guessing the problem is passing my lists as the
> first argument...
>
> Manually getting the rows and making a text file that explictly states the
> vectors and then sourcing the file  from R does plot(a,b) just fine....
>
> If I understand the R classes correctly t is a dataframe and a and b are
> lists (named by the column headings of the database)....


I don't think so.  A subset of the rows of a data.frame is still a
data.frame ...

    > temp <- data.frame(x=1:10, y=10:1)
    > class(temp[1,])
    [1] "data.frame"

This means that plot(a, <whatever>) or plot(b, <whatever>) is going to call
the plot.data.frame() method.  This is going to try to do a pairs() plot
with 174*174 plots :)
Hence the error message that there is not enough room to draw the plots.

Note that plot(1:174, a) will work because method dispatching (mostly) works
on the first argument to the function.  That is, plot(1:174, <whatever>)
does a default plot because 1:174 has no class, but plot(<something of class
"data.frame">, <whatever>) does a special plot designed for data frames.
Here's a simple toy example, ...

    > x <- 1:10
    > class(x) <- "test"
    > plot.test <- function(x, y) { cat("A custom plot") }
    > plot(1:10, x)  # produces a default scatterplot
    > plot(x, 1:10)
    A custom plot
    >

Hope that helps.

Paul



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jul 18 02:06:16 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Jul 2001 02:06:16 +0200
Subject: [R] scoping problem?
In-Reply-To: Peter Dalgaard BSA's message of "18 Jul 2001 01:01:52 +0200"
References: <3B544557.38ED6699@labs.agilent.com> <x2k817i2hr.fsf@blueberry.kubism.ku.dk>
Message-ID: <x23d7vw16v.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> In general, you need to know that scoping and evaluation rules can be
> broken in the R system. It is possible for a function to get a hold of
> the expression that is passed for an argument and evaluate it in an
> environment of its own choice, or even use the symbolic expression as
> such (that is how you get away with saying "library(tree)" without
> getting a "there is no object called `tree'" type error.)
> 
> tree() is doing some such trickery at the start of the function.
> Basically, it gets hold of the entire call, and then replaces the
> function being called with model.frame.default and reevaluates in the
> parent frame. Or rather, it tries to do that. The code is using
> eval(model, sys.parent()) and somehow that fails. 
> 
> Replacing sys.parent() with parent.frame() inside tree does make it
> work, which points to a possible bug in eval() when used with an
> integer envir= argument. Will have a look.

Hmm. Digging a little deeper got me to the following code in do_eval
(eval.c) 

    case INTSXP:
    case REALSXP:
        nback = asInteger(env);
        if (nback==NA_INTEGER)
            errorcall(call,"invalid environment");
        if (nback > 0 )
            nback -= framedepth(R_GlobalContext);
        nback = -nback;
        PROTECT(env = R_sysframe(nback,R_GlobalContext));
        break;

This indicates that the interpretation of an integer argument to eval
is the number of frames to go back if it is *positive*. This is the
opposite of what sys.call/sys.frame does, and besides, R_sysframe does
the positive/negative conversion itself. Apparently, this code has
been sitting there "forever"... 

I think it ought to be just

    case INTSXP:
    case REALSXP:
        nback = asInteger(env);
        if (nback==NA_INTEGER)
            errorcall(call,"invalid environment");
        PROTECT(env = R_sysframe(nback,R_GlobalContext));
        break;

(possibly with a change of variable name for "nback").

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rscott at rochester.rr.com  Wed Jul 18 04:39:29 2001
From: rscott at rochester.rr.com (Richard Scott)
Date: Tue, 17 Jul 2001 22:39:29 -0400
Subject: [R] VarComp in R
Message-ID: <3B54F6E0.7B0EC760@rochester.rr.com>

How do I do a Variance Components Analysis?


Example Problem
   Given: A gage study is run with three randomly selected OPERATORS,
two randomly selected FIXTURES and five randomly selected PARTS. All
possible combinations are studied (full factorial or fully crossed
experiment). The response is some measurement take for each of the 30
combinations.

   How do I use R to find an estimate for the contribution each factor
makes to the overall measurement variation? In other words how do I do a
Variance Components analysis in R?

The model is
Expected(Var(Measurements)) = Var(due to OPERATORS) + Var(due to
FIXTURES) + Var(due to PARTS)+Var(due to NOISE)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From robhoy at physics.ucsb.edu  Wed Jul 18 05:25:27 2001
From: robhoy at physics.ucsb.edu (Robert Scott Hoy)
Date: Tue, 17 Jul 2001 20:25:27 -0700 (PDT)
Subject: [R] configure file?
Message-ID: <Pine.LNX.4.30.0107172019050.32315-100000@sal.physics.ucsb.edu>

   Hi.  I am trying to install R on Mac OS X (BSD Unix).  In the manual
that came with the R package, it says the first step in compiling it is to
enter  "./configure".  When I do this (in the R/lib/R/bin directory), I
get the message "./configure: Command not found".  I have looked for a
"configure" file and also for "configure.in", but I have not found them.
Could someone please point me in the right direction?  Thanks,
Rob Hoy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Wed Jul 18 08:31:05 2001
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Wed, 18 Jul 2001 08:31:05 +0200
Subject: [R] R-help archives after June 21 2001
In-Reply-To: <Pine.GSO.4.05.10107171432030.18361-100000@ofis450a.akctr.noaa.gov>
References: <Pine.GSO.4.05.10107171432030.18361-100000@ofis450a.akctr.noaa.gov>
Message-ID: <15189.11561.649002.895328@galadriel.ci.tuwien.ac.at>

>>>>> On Tue, 17 Jul 2001 14:35:08 -0700 (PDT),
>>>>> Anne York (AY) wrote:

  > Could someone please point me to a source for the archives of this news
  > group after June 21. 

  > I was subscribed to a digest version, but it stopped arriving after that
  > date. 

Mail archives for all R lists can be found on

	http://www.R-project.org/mail.html

Best,

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Wed Jul 18 09:06:42 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 18 Jul 2001 09:06:42 +0200
Subject: [R] configure file?
In-Reply-To: <Pine.LNX.4.30.0107172019050.32315-100000@sal.physics.ucsb.edu>
References: <Pine.LNX.4.30.0107172019050.32315-100000@sal.physics.ucsb.edu>
Message-ID: <15189.13698.903533.697232@mithrandir.hornik.net>

>>>>> Robert Scott Hoy writes:

>    Hi.  I am trying to install R on Mac OS X (BSD Unix).  In the manual
> that came with the R package, it says the first step in compiling it is to
> enter  "./configure".  When I do this (in the R/lib/R/bin directory), I
> get the message "./configure: Command not found".  I have looked for a
> "configure" file and also for "configure.in", but I have not found them.
> Could someone please point me in the right direction?  Thanks,

You need to get the *sources* and unpack them.  Cd to the directory thus
created.  This contains configure and friends.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Wed Jul 18 09:59:33 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Wed, 18 Jul 2001 09:59:33 +0200
Subject: [R] configure file?
References: <Pine.LNX.4.30.0107172019050.32315-100000@sal.physics.ucsb.edu>
Message-ID: <3B5541E5.18DB1941@cbs.dtu.dk>

Robert Scott Hoy wrote:

>    Hi.  I am trying to install R on Mac OS X (BSD Unix).  In the manual
> that came with the R package, it says the first step in compiling it is to
> enter  "./configure".  When I do this (in the R/lib/R/bin directory), I
> get the message "./configure: Command not found".  I have looked for a
> "configure" file and also for "configure.in", but I have not found them.
> Could someone please point me in the right direction?  Thanks,
> Rob Hoy
>

I am not particularly aware of the specificity of the Mac OS X port of R, but I've
been compiling it on linux, IRIX and OSF... and for none of these system I had to
be in the directory R/lib/R/bin. You certainly have to be at the root of the
freshly uncompressed and untared R.

Are you really willing to compile R, or rather only install it ? In the later
case, you may want to install an already compiled version (available for your
OS)... check at http://cran.r-project.org/


Regards,




Laurent







>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
Laurent Gautier                 CBS, Building 208, DTU
PhD. Student                    D-2800 Lyngby,Denmark
tel: +45 45 25 24 85            http://www.cbs.dtu.dk/laurent


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010718/3933f43a/attachment.html

From laurent at cbs.dtu.dk  Wed Jul 18 10:02:30 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Wed, 18 Jul 2001 10:02:30 +0200
Subject: [R] R-help archives after June 21 2001
References: <Pine.GSO.4.05.10107171432030.18361-100000@ofis450a.akctr.noaa.gov>
Message-ID: <3B554295.59AC988B@cbs.dtu.dk>

Dear Anne,


You can access directly the archive via:

http://www.R-project.org/nocvs/mail/r-help/2001/index.html

or go through the R homepage (menu 'mailinglist')




Regards,



Laurent






Anne York wrote:

> Could someone please point me to a source for the archives of this news
> group after June 21.
>
> I was subscribed to a digest version, but it stopped arriving after that
> date.
>
> Anne
>
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> Anne E. York
> National Marine Mammal Laboratory
> Seattle WA 98115-0070  USA
> e-mail: anne.york at noaa.gov
> Voice: +1 206-526-4039
> Fax: +1 206-526-6615
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
Laurent Gautier                 CBS, Building 208, DTU
PhD. Student                    D-2800 Lyngby,Denmark
tel: +45 45 25 24 85            http://www.cbs.dtu.dk/laurent


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010718/3684941a/attachment.html

From wsi at gcal.ac.uk  Wed Jul 18 10:44:44 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Wed, 18 Jul 2001 09:44:44 +0100 (BST)
Subject: [R] axis range problem
Message-ID: <Pine.LNX.4.10.10107180922190.2439-100000@localhost.localdomain>

plot() is producing plots whose y-axis range is much larger than the range
of the data. This happens when I plot a subset of the data.

The dataset I am using is pretty big: length(x) is 107008. When I do
xrange<-c(10,20)
plot(x,y,xlim=xrange)
the plot uses a y-axis whose range is range(y) instead of the range of y
values plotted (corresponding to xlim).
I fix this by adding the argument
ylim=range(y[x>=min(xrange) & x<=max(xrange)])

It seems to me that this would be a more sensible default behaviour.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brunels at free.fr  Wed Jul 18 11:50:14 2001
From: brunels at free.fr (brunels@free.fr)
Date: Wed, 18 Jul 2001 11:50:14 +0200 (MEST)
Subject: [R] Sensibility analysis
Message-ID: <995449814.3b555bd6ee3f3@imp.free.fr>

Hi everyone,
 
i'm actually working on a nonlinear mixed-effects model, and beginning the 
study of its sensibility.
It takes 35 input and gives a n*35 matrix of output as it's a growth model (n 
is the number of days of the growth period).
Well, I have to analyse the variation of the output in relation to the 
variation of the parameters of this models (first univariate then multivariate 
variation)  :  it's a sensibility analysis ( a french word-by-word 
translation ). 
So, I choose one parameter, increase its value, do it one more time and again, 
and for each of the 10 responses I have a curve of sensibility which i have to 
calculate numerically the derivative.
 I have read some books but none of them treated this scope in detail, so i 
wonder : 
    - what are the numeric differentation methods available in this case. Are 
they available on R?
    - which criteria to choose for the variation step of the parameters ?
    - do you have any reference of books i may consult ?
 
I'd be glad to receive any help from you all. Thanks.
 
the student i am bless your mailing-list
 
 

 
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed Jul 18 13:58:57 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 18 Jul 2001 06:58:57 -0500
Subject: [R] VarComp in R
In-Reply-To: <3B54F6E0.7B0EC760@rochester.rr.com>
References: <3B54F6E0.7B0EC760@rochester.rr.com>
Message-ID: <6r1ynewiri.fsf@franz.stat.wisc.edu>

Richard Scott <rscott at rochester.rr.com> writes:

> How do I do a Variance Components Analysis?
> 
> Example Problem
>    Given: A gage study is run with three randomly selected OPERATORS,
> two randomly selected FIXTURES and five randomly selected PARTS. All
> possible combinations are studied (full factorial or fully crossed
> experiment). The response is some measurement take for each of the 30
> combinations.
> 
>    How do I use R to find an estimate for the contribution each factor
> makes to the overall measurement variation? In other words how do I do a
> Variance Components analysis in R?
> 
> The model is
> Expected(Var(Measurements)) = Var(due to OPERATORS) + Var(due to
> FIXTURES) + Var(due to PARTS)+Var(due to NOISE)

You can do this with lme but, as I mentioned in our private
correspondence, lme is better designed for nested random effects than
for crossed random effects like this.  You need to use the pdIdent
form of the variance-covariance matrix on the matrix of indicator
columns, created with formulas like ~ PARTS - 1, and combine those
with pdBlocked.

Do you really have a fully crossed design with random effects?  It
seems strange to pick the PART at random then reuse that particular
part 6 times.

Anyway, here is how you would do it.

> gage <- data.frame(OPERATORS = gl(3, 1, 30), FIXTURES = gl(2, 3, 30),
+    PARTS = gl(5, 6, 30))
> summary(gage)
 OPERATORS FIXTURES PARTS
 1:10      1:15     1:6  
 2:10      2:15     2:6  
 3:10               3:6  
                    4:6  
                    5:6  
> gage[1:10,]
   OPERATORS FIXTURES PARTS
1          1        1     1
2          2        1     1
3          3        1     1
4          1        2     1
5          2        2     1
6          3        2     1
7          1        1     2
8          2        1     2
9          3        1     2
10         1        2     2
> gage$Grp <- gl(1,1,30)     # trivial factor representing a single group
> # create the simulated random effects
> Op <- rnorm(3, 0, 1); Fix <- rnorm(2, 0, 2); Par <- rnorm(5, 0, 0.5)
> attach(gage)
> gage$Meas <- Op[OPERATORS] + Fix[FIXTURES] + Par[PARTS] + rnorm(30, 12, 0.3)
> detach()
> gr <- groupedData(Meas ~ 1 | Grp, gage)
> fm <- lme(Meas ~ 1, data = gr,
+           random = pdBlocked(list(pdIdent(~ OPERATORS - 1),
+                                   pdIdent(~ FIXTURES - 1),
+                                   pdIdent(~ PARTS - 1))))
> fm
Linear mixed-effects model fit by REML
  Data: gr 
  Log-restricted-likelihood: -13.95199
  Fixed: Meas ~ 1 
(Intercept) 
   12.73601 

Random effects:
 Composite Structure: Blocked

 Block 1: OPERATORS1, OPERATORS2, OPERATORS3
 Formula: ~OPERATORS - 1 | Grp
 Structure: Multiple of an Identity
        OPERATORS1 OPERATORS2 OPERATORS3
StdDev:  0.5424059  0.5424059  0.5424059

 Block 2: FIXTURES1, FIXTURES2
 Formula: ~FIXTURES - 1 | Grp
 Structure: Multiple of an Identity
        FIXTURES1 FIXTURES2
StdDev:  1.723611  1.723611

 Block 3: PARTS1, PARTS2, PARTS3, PARTS4, PARTS5
 Formula: ~PARTS - 1 | Grp
 Structure: Multiple of an Identity
           PARTS1    PARTS2    PARTS3    PARTS4    PARTS5 Residual
StdDev: 0.3006655 0.3006655 0.3006655 0.3006655 0.3006655 0.245659

Number of Observations: 30
Number of Groups: 1 
> VarCorr(fm)
Grp = pdIdent(OPERATORS - 1), pdIdent(FIXTURES - 1), pdIdent(PARTS - 1) 
           Variance   StdDev   
OPERATORS1 0.29420413 0.5424059
OPERATORS2 0.29420413 0.5424059
OPERATORS3 0.29420413 0.5424059
FIXTURES1  2.97083530 1.7236111
FIXTURES2  2.97083530 1.7236111
PARTS1     0.09039977 0.3006655
PARTS2     0.09039977 0.3006655
PARTS3     0.09039977 0.3006655
PARTS4     0.09039977 0.3006655
PARTS5     0.09039977 0.3006655
Residual   0.06034835 0.2456590

-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pols1oh at bestweb.net  Wed Jul 18 15:32:10 2001
From: pols1oh at bestweb.net (Micheall Taylor)
Date: Wed, 18 Jul 2001 09:32:10 -0400 (EDT)
Subject: [R] Sensibility analysis
In-Reply-To: <995449814.3b555bd6ee3f3@imp.free.fr>
References: <995449814.3b555bd6ee3f3@imp.free.fr>
Message-ID: <200107181332.f6IDWAg14778@localhost.localdomain>



I believe the english term you are looking for is sensitivity analysis -
sometimes also called a stress analysis. 

I'll have to leave it to others to discuss the R portion as I am pretty new
to that, but may help some in the other areas.

There are no rules concerning the parameters and and step variances that
should be used in this form of analysis. 

The parameters that you chose to vary are those that you are concerned may
1) vary in the "real-world" 2) affect outcomes.  For example, modeling
elections in the U.S. one may "stress" the model with a variances in
weather as bad weather will cause Americans to stay home and vote in fewer
numbers.  One would be less tempted to do so in France as the french voter
tends to vote in elections (compared to Americans) and weather isn't quite 
as varied as in the U.S. (I would imagine - milder climate - smaller 
geography, etc)

What step to use?  What level of precision to you want?  There is no right
and wrong. Being sort of a data guy, I tend to you smaller steps to create
more granular precision - the resulting graphs look better :)

Your vary-one-parameter-hold-others-constant is a fine strategy most of the
time. One word of caution.  If you are doing a nonlinear mixed-effects
model, following such a technique may not show you the real sensitivity of
the model.  You might want to consider a model in which all parameters are
allowed to vary randomly within a known and fixed distribution. This sort
of model is much harder to intrepret in the end, but can produce facinating
spikes in model outcomes that can be very informative.

I've built such a model for "stressing" investment models. The non-linear
and joint "stresses" produce radically different outcome contours than
single variable variances.  These outcome contours better match reality. 

==================================
Michaell Taylor, PhD
Chief Economist, Reis, Inc., New York
Professor of Political Science, NTNU, Trondheim, Norway
Adjunct Professor, UofD, South Africa



On Wed, 18 Jul 2001 11:50:14 +0200 (MEST) brunels at free.fr wrote:

> Hi everyone,
>  
> i'm actually working on a nonlinear mixed-effects model, and beginning the 
> study of its sensibility.
> It takes 35 input and gives a n*35 matrix of output as it's a growth model (n 
> is the number of days of the growth period).
> Well, I have to analyse the variation of the output in relation to the 
> variation of the parameters of this models (first univariate then multivariate 
> variation)  :  it's a sensibility analysis ( a french word-by-word 
> translation ). 
> So, I choose one parameter, increase its value, do it one more time and again, 
> and for each of the 10 responses I have a curve of sensibility which i have to 
> calculate numerically the derivative.
>  I have read some books but none of them treated this scope in detail, so i 
> wonder : 
>     - what are the numeric differentation methods available in this case. Are 
> they available on R?
>     - which criteria to choose for the variation step of the parameters ?
>     - do you have any reference of books i may consult ?
>  
> I'd be glad to receive any help from you all. Thanks.
>  
> the student i am bless your mailing-list
>  
>  
> 
>  
>  
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.rabinovitch at alcatel.com  Wed Jul 18 17:58:16 2001
From: peter.rabinovitch at alcatel.com (Peter Rabinovitch)
Date: Wed, 18 Jul 2001 11:58:16 -0400
Subject: [R] Sensibility analysis
References: <995449814.3b555bd6ee3f3@imp.free.fr> <200107181332.f6IDWAg14778@localhost.localdomain>
Message-ID: <3B55B218.2D2227B4@Alcatel.com>

Before you embark on a "vary-one-parameter-hold-others-constant", have a
look at "One-Factor-at-a-Time Versus Designed Experiments" from the
American Statistican, available at
http://www.amstat.org/publications/tas/czitrom.pdf

Micheall Taylor wrote:
> 
> I believe the english term you are looking for is sensitivity analysis -
> sometimes also called a stress analysis.
> 
> I'll have to leave it to others to discuss the R portion as I am pretty new
> to that, but may help some in the other areas.
> 
> There are no rules concerning the parameters and and step variances that
> should be used in this form of analysis.
> 
> The parameters that you chose to vary are those that you are concerned may
> 1) vary in the "real-world" 2) affect outcomes.  For example, modeling
> elections in the U.S. one may "stress" the model with a variances in
> weather as bad weather will cause Americans to stay home and vote in fewer
> numbers.  One would be less tempted to do so in France as the french voter
> tends to vote in elections (compared to Americans) and weather isn't quite
> as varied as in the U.S. (I would imagine - milder climate - smaller
> geography, etc)
> 
> What step to use?  What level of precision to you want?  There is no right
> and wrong. Being sort of a data guy, I tend to you smaller steps to create
> more granular precision - the resulting graphs look better :)
> 
> Your vary-one-parameter-hold-others-constant is a fine strategy most of the
> time. One word of caution.  If you are doing a nonlinear mixed-effects
> model, following such a technique may not show you the real sensitivity of
> the model.  You might want to consider a model in which all parameters are
> allowed to vary randomly within a known and fixed distribution. This sort
> of model is much harder to intrepret in the end, but can produce facinating
> spikes in model outcomes that can be very informative.
> 
> I've built such a model for "stressing" investment models. The non-linear
> and joint "stresses" produce radically different outcome contours than
> single variable variances.  These outcome contours better match reality.
> 
> ==================================
> Michaell Taylor, PhD
> Chief Economist, Reis, Inc., New York
> Professor of Political Science, NTNU, Trondheim, Norway
> Adjunct Professor, UofD, South Africa
> 
> On Wed, 18 Jul 2001 11:50:14 +0200 (MEST) brunels at free.fr wrote:
> 
> > Hi everyone,
> >
> > i'm actually working on a nonlinear mixed-effects model, and beginning the
> > study of its sensibility.
> > It takes 35 input and gives a n*35 matrix of output as it's a growth model (n
> > is the number of days of the growth period).
> > Well, I have to analyse the variation of the output in relation to the
> > variation of the parameters of this models (first univariate then multivariate
> > variation)  :  it's a sensibility analysis ( a french word-by-word
> > translation ).
> > So, I choose one parameter, increase its value, do it one more time and again,
> > and for each of the 10 responses I have a curve of sensibility which i have to
> > calculate numerically the derivative.
> >  I have read some books but none of them treated this scope in detail, so i
> > wonder :
> >     - what are the numeric differentation methods available in this case. Are
> > they available on R?
> >     - which criteria to choose for the variation step of the parameters ?
> >     - do you have any reference of books i may consult ?
> >
> > I'd be glad to receive any help from you all. Thanks.
> >
> > the student i am bless your mailing-list
> >
> >
> >
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a296180 at mica.fmr.com  Wed Jul 18 18:11:27 2001
From: a296180 at mica.fmr.com (David Kane  <David Kane)
Date: Wed, 18 Jul 2001 12:11:27 -0400
Subject: [R] colSums
Message-ID: <15189.46383.196784.610354@gargle.gargle.HOWL>

As best I understand it, colSums (and associated functions) in S+ 6 are
optimized functions (calling special C routines) for doing simple matrix
math. For example, it seems like (in S+):

all.equal(colSums(m), apply(m, 2, sum))

should be TRUE for any matrix m. It also seems like colSums (and its brethren)
are very fast.

My question: Are there equivalents to colSums in R?

Thanks,

Dave Kane
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From z.cseres-gergely at ucl.ac.uk  Wed Jul 18 20:24:02 2001
From: z.cseres-gergely at ucl.ac.uk (Zsombor Cseres-Gergely)
Date: Wed, 18 Jul 2001 19:24:02 +0100
Subject: [R] hypothesis testing in models
Message-ID: <20010718192402.A2225@caligola.econ.ucl.ac.uk>

Dear all,

Being an economics student, I am trying to put together a little
tutorial/FAQ/... for those who have (more) background in econometrics rather
than in statistics -- just as I have. I'v been looking for a hypothesis
testing tool in R (just linear or also nonlinear) for model parameters, but
could not find anything so far. I did find a similar but unanswered question
in the archives, but nothing apart from that. Is it there or am I missing
something? If it is not there, is there a specific reason for that?
I am aware that the required code is not special or long, but the one I could
come up with is rather ugly and a pain to use:

htest  <- function(object, resmat, target = 0, level = 0.95, n = 0) UseMethod("htest")
  # Testing liner restrictions of the form: resmat %*% cfs = target
  # resmat: matrix/vector of restriction multipliers (i x k) ARRAY!!
  # target: restriction value vector/scalar (k)

htest.lm <- function(object, resmat, target = 0, level = 0.95)
{
  tsu <- summary(object, corr=FALSE)
  cfs <- as.array(object$coefficients)
  dfr1 <- nrow(resmat)
  dfr2 <- object$df.residual
  S <- aperm(resmat %*% aperm(cfs) - target) %*% solve(resmat %*% tsu$cov.unscaled %*% aperm(resmat)) %*% (resmat %*% aperm(cfs) - target) / (nrow(resmat) * tsu$sigma^2)
  cat("  F(",dfr1,",",dfr2,") =",qf(level,dfr1,dfr2), "  vs.  S =",S,"  [ p = ",df(S,dfr1,dfr2),"]\n")
}

Thanks for any comments,
Zsombor
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Wed Jul 18 23:25:36 2001
From: pauljohn at ukans.edu (Paul E Johnson)
Date: Wed, 18 Jul 2001 16:25:36 -0500
Subject: [R] does this sound like any kind of R procedure to you?
Message-ID: <3B55FED0.128DC40A@ukans.edu>

I apologize that this is not precisely about R, but it does fall into
the "what would an R user do?" category of questions.

My colleague came to me and said "I have data on 20 countries, 4
elections in each one. I have measures for each election on a number of
things, and I want to know if the change from one election to the next
follows a pattern.  For example, is the measure always rising, or
falling, or rising and then falling, or what?"

If we had a specific hypothesis about which countries should "go
together", I think I could push this into a cross-sectional timeseries
framework and design a test. But, there is no apriori hypothesis of that
sort, we don't know ahead of time whether there will be 20 different
patterns or 1 pattern in common across all countries.

I think the best start is to get plots of these to see if there is
anything obvious, but after that, what would you suggest?  I was
thinking that we could take the data from the 4 elections, and then
calculate the differences, so for each country we have a vector
(x1,x2,x3).  We could then plot these in a 3d scatter, and maybe
something would jump out at us.  Also we can calculate the differences
between these vectors, and use them as inputs into one of the clustering
programs available in the R community.  
  
I hoped that somebody here had seen something like this and could give
me a pointer.
-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maneesh at www.chip.org  Thu Jul 19 00:06:39 2001
From: maneesh at www.chip.org (maneesh@www.chip.org)
Date: Wed, 18 Jul 2001 18:06:39 -0400 (EDT)
Subject: [R] string manipulation in R?
Message-ID: <Pine.LNX.4.33.0107181753310.6260-100000@www.chip.org>

Hi all, back again,

[Quick version]
How do I concatenate two string to produce a third?
Does the underlying representation of "character" allow this?


[Long version]
One thing I want to do with my database is to compare each record
pairwise, without loading the whole database in memory....so I what I
would like to do first query to get a list of strings which are the of the
database primary key column, and then generate the cross product of that
list with itself (which I can use "outer" for right?) then I need to
generate queries based on those pairs of strings.  Only problem is that I
have the strings but how can I generate the query string I need?

That is:

nameX<-"YWL04A"
nameY<-"YWL321"

in python or perl I'd write something like:

sql.select(column="*", from="gasch", where="NAME IS LIKE " + nameX " OR
NAME IS LIKE " + nameY)

(P.S. I am not sure but I don't think that the search option is working on
the mailing list archives, just in case no one has reported it)

Again I am sure there is a simple answer for this (I would've guessed
they'd be functions like "character.cat" or something..then again I hope I
am not assuming too much of the author's of R by asking them for all sorts
of nifty string stuff)

Thanks again,
(I am subscribed now so there is no need to email)
Maneesh


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Thu Jul 19 00:50:31 2001
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Thu, 19 Jul 2001 10:50:31 +1200
Subject: [R] string manipulation in R?
References: <Pine.LNX.4.33.0107181753310.6260-100000@www.chip.org>
Message-ID: <00e101c10fdc$0c015440$175dd882@stat.auckland.ac.nz>

Hi


> [Quick version]
> How do I concatenate two string to produce a third?
> Does the underlying representation of "character" allow this?


[Quick answer]
For concatenating strings, use paste().  For example ...

    > paste("any", "number", "of", "strings")
    [1] "any number of strings"
    > paste("any", "number", "of", "strings", sep="")
    [1] "anynumberofstrings"

... and there are other "nifty" string manipulators such as substr(),
nchar(), and strsplit(), and even grep(), regexpr(), sub(), and gsub()

Paul




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Thu Jul 19 00:49:05 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Wed, 18 Jul 2001 18:49:05 -0400 (EDT)
Subject: [R] string manipulation in R?
Message-ID: <200107182249.SAA00054@cattell.psych.upenn.edu>

>From owner-r-help at stat.math.ethz.ch  Wed Jul 18 18:42:20 2001
>[Quick version]
>How do I concatenate two string to produce a third?
>Does the underlying representation of "character" allow this?

[Quick answer]

paste()
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From robhoy at physics.ucsb.edu  Thu Jul 19 01:04:38 2001
From: robhoy at physics.ucsb.edu (Robert Scott Hoy)
Date: Wed, 18 Jul 2001 16:04:38 -0700 (PDT)
Subject: [R] getting closer
In-Reply-To: <6r1ynewiri.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.LNX.4.30.0107181558330.11460-100000@sal.physics.ucsb.edu>

   Hi.  I've just installed R on Mac OS X, and when I try to run the shell
script I get the message

dyld: /Sci_Math_Apps/R/locl/bin/R/bin/R.bin can't open
library:libz.A.dylib.1.1.3 (No such file or directory, errno = 2)

   I searched for the file "libz.A.dylib.1.1.3" but couldn't find it.  I
found a lot of dylib files in various places but couldn't find it.  Any
ideas?  Thanks,
Rob

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MichaelNielsen at synergy.com.au  Thu Jul 19 03:13:29 2001
From: MichaelNielsen at synergy.com.au (MichaelNielsen@synergy.com.au)
Date: Thu, 19 Jul 2001 11:13:29 +1000
Subject: [R] Strange behaviour of spectrum()?
Message-ID: <OFAB3D2E8E.88823BBC-ONCA256A8E.0004D60C@syd.syn.com.au>

Dear r-help list:

In the following R session, I seem to be somehow breaking the spectrum() 
function, but I'm not sure how.  Could somebody please point out my 
mistake?  My apologies if it's something that should be obvious.

The mysterious bit is how spectrum(my.ts) at first works, but then later 
fails with an error message that I find difficult to interpret.

I'm running R 1.3.0 that I compiled myself on what was once Caldera Linux 
(2.2.14), but I dare say I've deviated somewhat from the original Caldera 
distribution (added GNOME and generally updated software).

Thanks in advance.

Regards,

Mike

---- session transcript follows ----

R : Copyright 2001, The R Development Core Team
Version 1.3.0  (2001-06-22)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

> ls()
character(0)
> library(tseries)

        `tseries' version: 0.7-4 
 
        `tseries' is a package for time series analysis with emphasis
        on non-linear modelling.
        See `library (help=tseries)' for details.

> my.ts<-ts(rnorm(200))
> spectrum(my.ts)       # nice graphic display appears
> plot(my.ts)           # another nice graphic display appears
> spectrum(my.ts)       # As expected, yet another nice graphic display 
appears
> perf<-read.delim('vmout3.txt')
> attach(perf)
> ls(perf)
 [1] "X"   "avm" "b"   "cs"  "cy"  "fr"  "fre" "idl" "in"  "pi"  "po"  "r" 
 
[13] "re"  "sr"  "sy"  "sys" "t"   "usr" "wai"
> idl.ts<-ts(idl)

> spectrum(idl.ts)      # No graphic appears
Error in "[<-"(*tmp*, , i, value = c(w, rep(1, nr - 2 * m), rev(w)) *  : 
        number of items to replace is not a multiple of replacement length
In addition: Warning messages: 
1: longer object length
        is not a multiple of shorter object length in: pi * seq(1, 2 * m - 
1, by = 2) 
2: longer object length
        is not a multiple of shorter object length in: c(w, rep(1, nr - 2 
* m), rev(w)) * x[, i] 


> spectrum(my.ts)       # I would have thought this would have worked
Error in "[<-"(*tmp*, , i, value = c(w, rep(1, nr - 2 * m), rev(w)) *  : 
        number of items to replace is not a multiple of replacement length
In addition: Warning messages: 
1: longer object length
        is not a multiple of shorter object length in: pi * seq(1, 2 * m - 
1, by = 2) 
2: longer object length
        is not a multiple of shorter object length in: c(w, rep(1, nr - 2 
* m), rev(w)) * x[, i] 
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010719/4bf2b5bc/attachment.html

From MichaelNielsen at synergy.com.au  Thu Jul 19 03:28:35 2001
From: MichaelNielsen at synergy.com.au (MichaelNielsen@synergy.com.au)
Date: Thu, 19 Jul 2001 11:28:35 +1000
Subject: [R] Re: Strange behaviour of spectrum()?
Message-ID: <OF5C537D1C.273C75D6-ONCA256A8E.00078688@syd.syn.com.au>

Speaking of spectrum, my face has now been red-shifted.

I guess it's pretty dumb having a variable named 'pi' in a data frame that 
I've attached.  This is obviously newbie sloppiness, but it raises the 
question about how R-guru's manage inadvertent clobbering of magic names. 
Constructive suggestions would be warmly received.

Thanks.

Regards,

Mike
----- Forwarded by Michael Nielsen/Syd/Synergy on 19/07/2001 11:22 AM 
-----


Michael Nielsen
19/07/2001 11:13 AM

 
        To:     r-help at stat.math.ethz.ch
        cc: 
        Subject:        Strange behaviour of spectrum()?

Dear r-help list:

In the following R session, I seem to be somehow breaking the spectrum() 
function, but I'm not sure how.  Could somebody please point out my 
mistake?  My apologies if it's something that should be obvious.

The mysterious bit is how spectrum(my.ts) at first works, but then later 
fails with an error message that I find difficult to interpret.

I'm running R 1.3.0 that I compiled myself on what was once Caldera Linux 
(2.2.14), but I dare say I've deviated somewhat from the original Caldera 
distribution (added GNOME and generally updated software).

Thanks in advance.

Regards,

Mike

---- session transcript follows ----

R : Copyright 2001, The R Development Core Team
Version 1.3.0  (2001-06-22)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

> ls()
character(0)
> library(tseries)

        `tseries' version: 0.7-4 
 
        `tseries' is a package for time series analysis with emphasis
        on non-linear modelling.
        See `library (help=tseries)' for details.

> my.ts<-ts(rnorm(200))
> spectrum(my.ts)       # nice graphic display appears
> plot(my.ts)           # another nice graphic display appears
> spectrum(my.ts)       # As expected, yet another nice graphic display 
appears
> perf<-read.delim('vmout3.txt')
> attach(perf)
> ls(perf)
 [1] "X"   "avm" "b"   "cs"  "cy"  "fr"  "fre" "idl" "in"  "pi"  "po"  "r" 
 
[13] "re"  "sr"  "sy"  "sys" "t"   "usr" "wai"
> idl.ts<-ts(idl)

> spectrum(idl.ts)      # No graphic appears
Error in "[<-"(*tmp*, , i, value = c(w, rep(1, nr - 2 * m), rev(w)) *  : 
        number of items to replace is not a multiple of replacement length
In addition: Warning messages: 
1: longer object length
        is not a multiple of shorter object length in: pi * seq(1, 2 * m - 
1, by = 2) 
2: longer object length
        is not a multiple of shorter object length in: c(w, rep(1, nr - 2 
* m), rev(w)) * x[, i] 


> spectrum(my.ts)       # I would have thought this would have worked
Error in "[<-"(*tmp*, , i, value = c(w, rep(1, nr - 2 * m), rev(w)) *  : 
        number of items to replace is not a multiple of replacement length
In addition: Warning messages: 
1: longer object length
        is not a multiple of shorter object length in: pi * seq(1, 2 * m - 
1, by = 2) 
2: longer object length
        is not a multiple of shorter object length in: c(w, rep(1, nr - 2 
* m), rev(w)) * x[, i] 
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010719/a6ede6d0/attachment.html

From bitwrit at ozemail.com.au  Thu Jul 19 04:25:16 2001
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Thu, 19 Jul 2001 12:25:16 +1000
Subject: [R] Re: Strange behaviour of spectrum()?
References: <OF5C537D1C.273C75D6-ONCA256A8E.00078688@syd.syn.com.au>
Message-ID: <3B56450C.E24570E0@ozemail.com.au>

MichaelNielsen at synergy.com.au wrote:
> 
> ... it raises the question about how R-guru's manage inadvertent clobbering
> of magic names.  Constructive suggestions would be warmly received.

Caveat:  I am no guru
Suggestion: There is a little function I included in "Kickstarting R"
that might help you.

dup.name<-function(name) {
 if(is.character(name))
  return(length(grep(name,objects(1:length(search())))) > 0)
 cat("Usage: dup.name(name)\n\twhere name is a character string\n")
}

Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wolbers at stat.math.ethz.ch  Thu Jul 19 08:35:41 2001
From: wolbers at stat.math.ethz.ch (Marcel Wolbers)
Date: Thu, 19 Jul 2001 08:35:41 +0200
Subject: [R] colSums
Message-ID: <15190.32701.295873.994634@gargle.gargle.HOWL>

>> My question: Are there equivalents to colSums in R?
I don't think there are functions for doing this, but you can speed 
up things a lot by using matrix operations instead of apply if
this is possible:

> x <- matrix(rnorm(1E5),ncol=100)
> system.time(tmp1 <- apply(x,2,sum))
[1] 0.04 0.01 0.05 0.00 0.00
> system.time(tmp2 <- c(rep(1,nrow(x))%*%x))
[1] 0.01 0.00 0.01 0.00 0.00
> all.equal(tmp1,tmp2)
[1] TRUE

Yours,
Marcel Wolbers

-- 
Marcel Wolbers, LEO C14, Seminar for Statistics, ETH Zurich
CH-8092 Zurich, Switzerland; phone: (01) 632 2252	
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dray at biomserv.univ-lyon1.fr  Thu Jul 19 10:23:39 2001
From: dray at biomserv.univ-lyon1.fr (Stephane Dray)
Date: Thu, 19 Jul 2001 10:23:39 +0200
Subject: [R] does this sound like any kind of R procedure to you?
In-Reply-To: <3B55FED0.128DC40A@ukans.edu>
References: <3B55FED0.128DC40A@ukans.edu>
Message-ID: <a05010401b77c451f9ade@[134.214.32.69]>

Hello Paul,
I think that K-Tables ordination methods can help you to solve your 
problem. Theses methods consists in the ordination of several tables. 
The method finds a common structure of all tables and then ordinate 
the variations of the different tables in comparison with the common 
structure. This family of methods have been developped in ecology 
when you measure abundances of species in different sites (one table) 
at different dates (k tables). In ecology, we want to know if the 
distibution of species across sites changes (or not) along the 
different dates.
If you are interested, K-Tables methods are available in ade-4 
software (for mac and windows) which can be freely downloadable at:
http://pbil.univ-lyon1.fr/ADE-4/ADE-4.html. Most of the documentation 
is in french but some chapters have been translate in english and 
there is a mailing list where you can find help.

Sincerely.

>I apologize that this is not precisely about R, but it does fall into
>the "what would an R user do?" category of questions.
>
>My colleague came to me and said "I have data on 20 countries, 4
>elections in each one. I have measures for each election on a number of
>things, and I want to know if the change from one election to the next
>follows a pattern.  For example, is the measure always rising, or
>falling, or rising and then falling, or what?"
>
>If we had a specific hypothesis about which countries should "go
>together", I think I could push this into a cross-sectional timeseries
>framework and design a test. But, there is no apriori hypothesis of that
>sort, we don't know ahead of time whether there will be 20 different
>patterns or 1 pattern in common across all countries.
>
>I think the best start is to get plots of these to see if there is
>anything obvious, but after that, what would you suggest?  I was
>thinking that we could take the data from the 4 elections, and then
>calculate the differences, so for each country we have a vector
>(x1,x2,x3).  We could then plot these in a 3d scatter, and maybe
>something would jump out at us.  Also we can calculate the differences
>between these vectors, and use them as inputs into one of the clustering
>programs available in the R community. 
>
>I hoped that somebody here had seen something like this and could give
>me a pointer.
-- 
St?phane DRAY
---------------------------------------------------------------
Biom?trie et Biologie ?volutive - Equipe "?cologie Statistique"
Universite Lyon 1 - Bat 711 - 69622 Villeurbanne CEDEX - France

Tel : 04 72 43 27 56			   Fax : 04 78 89 27 19
       04 72 43 27 57 	   E-mail : dray at biomserv.univ-lyon1.fr 
---------------------------------------------------------------
ADE-4               http://pbil.univ-lyon1.fr/ADE-4/ADE-4F.html
---------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From benjamin.warr at insead.fr  Thu Jul 19 10:38:44 2001
From: benjamin.warr at insead.fr (WARR Benjamin)
Date: Thu, 19 Jul 2001 10:38:44 +0200
Subject: [R] partial least squares
Message-ID: <C374E6A0E25BD41197FB00508B014A13044D3E92@FW-ZEUS>

Hi

does anyone have any experience of partial least squares in R (preferably
PLS-2). I do not think there is a package, at least not one pre-complied for
Windows. If anyone has noticed code anywhere, a template for the algorithm
that I could then develop in R or have any experience they want to share
could they please let me know.

Benjamin Warr
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010719/53e2a730/attachment.html

From sondhaus at statistik.uni-dortmund.de  Thu Jul 19 11:16:56 2001
From: sondhaus at statistik.uni-dortmund.de (Ursula Sondhauss)
Date: Thu, 19 Jul 2001 11:16:56 +0200
Subject: [R] Problem with predict.rpart
Message-ID: <3B56A588.68E087CE@statistik.uni-dortmund.de>

I am using rpart only once in a while. It has been changed and now I
can't get my programs to work again...

predict.rpart used to return posterior probabilities. Now the help
function says it returns:

"if type="vector": vector of predicted responses or, if the response is
a factor, matrix of predicted class probabilities"

Now I hoped

"z <- rpart(as.factor(V1) ~
.,train,method="class",parms=list(prior=apriori,split='information'))
new <- predict.rpart(z,test,type="vector")"

would do the job, but it doesn't. I get predicted responses only.

Trying

"new <- predict.rpart(z,test,type="tree")"

just to see whether I can use tells me

"Error in predict.rpart(z, test, type = "tree") :
        Invalid prediction for rpart objects"

What can I do?

Ursula Sondhauss



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From etptupaf at bs.ehu.es  Thu Jul 19 12:05:09 2001
From: etptupaf at bs.ehu.es (F. Tusell)
Date: Thu, 19 Jul 2001 12:05:09 +0200
Subject: [R] partial least squares
Message-ID: <200107191005.MAA02128@agesi.bs.ehu.es>

In Appendix E of Brown, P.J. (1993) "Measurement, Regression and Calibration",
Clarendon Press/Oxford, there is a short function in S that can readily be
converted to R (in fact, it doesn't seem that it will need any change).

Fernando TUSELL
etptupaf at bs.ehu.es
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Thu Jul 19 12:14:09 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Thu, 19 Jul 2001 12:14:09 +0200
Subject: [R] Compiling R-1.3.0-patched on OSF1
Message-ID: <3B56B2F1.D5C5A028@cbs.dtu.dk>

Dear R-users,


I currently have trouble in trying to compile R-1.3.0-patched on Compaq
OSF1.

--------
>uname -a
OSF1 adenine.fysik.dtu.dk V4.0 1229 alpha
--------

The 'configure' step ended seemingly corretly:

-----------------------
R is now configured for alphaev6-dec-osf4.0f

  Source directory:          .
  Installation directory:    /home/adenine/sysman/laurent/share/
  C compiler:                gcc  -mieee -g -O2
  C++ compiler:              g++  -g -O2
  FORTRAN compiler:          f77  -fpe3 -g

  X11 support:               yes
  Gnome support:             no
  Tcl/Tk support:            no

  R profiling support:       yes
  R as a shared library:     yes
------------------------


...but the 'make' step ends with the following lines:


----------------------
building package `base'
mkdir ../../../library/base
mkdir ../../../library/base/R
mkdir ../../../library/base/data
mkdir ../../../library/base/demo
building package `ctest'
mkdir ../../../library/ctest
mkdir ../../../library/ctest/R
Make: Cannot open ../../../../share/make/../../../../etc/Makeconf.
Stop.

Stop.

Stop.

Stop.

Stop.
*** Exit 1*** Exit 1*** Exit 1*** Exit 1
----------------------------

Did anybody encountered this (and would know how to overcome it) ?
(I am certainly doing silly somewhere.... but WHERE ?)




Thanking you in advance,





--
Laurent Gautier                 CBS, Building 208, DTU
PhD. Student                    D-2800 Lyngby,Denmark
tel: +45 45 25 24 85            http://www.cbs.dtu.dk/laurent


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010719/14c18352/attachment.html

From p.dalgaard at biostat.ku.dk  Thu Jul 19 12:57:25 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Jul 2001 12:57:25 +0200
Subject: [R] Compiling R-1.3.0-patched on OSF1
In-Reply-To: Laurent Gautier's message of "Thu, 19 Jul 2001 12:14:09 +0200"
References: <3B56B2F1.D5C5A028@cbs.dtu.dk>
Message-ID: <x24rs9jiei.fsf@blueberry.kubism.ku.dk>

Laurent Gautier <laurent at cbs.dtu.dk> writes:

> ...but the 'make' step ends with the following lines:
> 
> 
> ----------------------
> building package `base'
> mkdir ../../../library/base
> mkdir ../../../library/base/R
> mkdir ../../../library/base/data
> mkdir ../../../library/base/demo
> building package `ctest'
> mkdir ../../../library/ctest
> mkdir ../../../library/ctest/R
> Make: Cannot open ../../../../share/make/../../../../etc/Makeconf.
....
> Did anybody encountered this (and would know how to overcome it) ?
> (I am certainly doing silly somewhere.... but WHERE ?)

The symptoms look familiar. I think we've seen this before and a fix
was to use GNU make instead of the system-supplied one. (The recursive
Makefiles may make it necessary to set $MAKE i.e.

MAKE=gmake gmake

on Bourne shell systems and whatever it takes to get the same effect
in csh). 

My memory feels a little rusty on this, you may want to look back into
the mailing list archives.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Thu Jul 19 13:49:45 2001
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Thu, 19 Jul 2001 21:49:45 +1000
Subject: [R] dup.name()
Message-ID: <3B56C959.24658F2F@ozemail.com.au>

Thanks to David Scott for noticing a glitch in dup.name().
It should be:

dup.name<-function(name) {
 if(is.character(name))
  return(sum(match(objects(1:length(search())),name,nomatch=0)) > 0)
 cat("Usage: dup.name(name)\n\twhere name is a character string\n")
}

this avoids matching part of the name... 
Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a296180 at mica.fmr.com  Thu Jul 19 14:45:05 2001
From: a296180 at mica.fmr.com (David Kane  <David Kane)
Date: Thu, 19 Jul 2001 08:45:05 -0400
Subject: [R] Summary of colSums
Message-ID: <15190.54865.919806.670532@gargle.gargle.HOWL>

Thanks to Andy Liaw, Douglas Bates and Marcel Wolters for spending time on my
problem. In summary, there does not seem to be a built in colSums in R as there
is in S+ 6.0. However, Doug Bates was kind enough to send me a simple math
utilities package that has a version of colSums in C. The package installed
without a hitch and produced similar performance to the S+ colSums function (in
my simple tests). Both Andy Liaw and Marcel Wolters pointed out that the built
in matrix operators (like %*%) are likely to be faster than apply, especially
if one has compiled R with the Atlas library (which I have not yet done).

Thanks again to all,

Dave Kane
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Thu Jul 19 15:10:36 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Thu, 19 Jul 2001 09:10:36 -0400
Subject: [R] registration of C routines
Message-ID: <OFD6B106A5.2FA3D76F-ON85256A8E.0047E670@rtp.epa.gov>

Almost at the end of the News for R-1.3.0 is the following section:

o   New mechanism for explicitly registering native routines in a
     DLL/shared library accessible via .C(), .Call(), .Fortran() and
     .External().  This is potentially more robust than the existing
     dynamic lookup, since it checks the number of arguments, type of
     the routine.

How do I learn how to use this mechanism?  Also, is there a sanctioned way
to find and use, in C-code loaded via dyn.load and executed using one of
the calls .C(), etc., functions defined in a separate DLL/shared library
and also loaded with dyn.load?

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Thu Jul 19 16:07:28 2001
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Thu, 19 Jul 2001 10:07:28 -0400
Subject: [R] registration of C routines
In-Reply-To: <OFD6B106A5.2FA3D76F-ON85256A8E.0047E670@rtp.epa.gov>; from Setzer.Woodrow@epamail.epa.gov on Thu, Jul 19, 2001 at 09:10:36AM -0400
References: <OFD6B106A5.2FA3D76F-ON85256A8E.0047E670@rtp.epa.gov>
Message-ID: <20010719100727.G17865@jessie.research.bell-labs.com>


Hi,,

  There are 3 different places you can find out more about the
registration mechanism. The place to find code examples
is in the libraries in the R distribution. For example, take a
look at
  src/library/ctest/src/init.c

Also, I have collected the descriptions (drafts) I have written
about this. They are available from
  http://cm.bell-labs.com/stat/duncan/R


The C routine R_FindSymbol() is the internal mechanism that finds a
native symbol by name in a package. It is not in the official API, so
is subject to change. Hence it is not a good idea to write your code
to depend on it, but your mileage may vary depending on the context,
etc.

Personally, I would think that it might be better to avoid this
low-level dependency. You might be better off linking the DLL/.so from
the secondary package with that in the first package.  Alternatively,
on some platforms, you can specify the value of the local argument as
FALSE for dyn.load() and library.dynam() and that makes the symbols in
that library visible to all the others. Then your C code can call the
routine directly. This has potential danger based on how dlopen()
works on each system and the order in which the libraries have been
loaded.


  D.


Setzer.Woodrow at epamail.epa.gov wrote:
> Almost at the end of the News for R-1.3.0 is the following section:
> 
> o   New mechanism for explicitly registering native routines in a
>      DLL/shared library accessible via .C(), .Call(), .Fortran() and
>      .External().  This is potentially more robust than the existing
>      dynamic lookup, since it checks the number of arguments, type of
>      the routine.
> 
> How do I learn how to use this mechanism?  Also, is there a sanctioned way
> to find and use, in C-code loaded via dyn.load and executed using one of
> the calls .C(), etc., functions defined in a separate DLL/shared library
> and also loaded with dyn.load?
> 
> R. Woodrow Setzer, Jr.                                            Phone:
> (919) 541-0128
> Experimental Toxicology Division                       Fax:  (919) 541-5394
> Pharmacokinetics Branch
> NHEERL MD-74; US EPA; RTP, NC 27711
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Thu Jul 19 16:16:59 2001
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Thu, 19 Jul 2001 10:16:59 -0400
Subject: [R] Conference Announcement: Statistics of Optimal Dosing
Message-ID: <3B56EBDB.C67D3C2@virginia.edu>

Statistics of Optimal Dosing Conference
Thursday 26th July 2001; Georgetown University Conference Center,
Washington
DC

The first US conference from Henry Stewart Conference Studies on
"Statistics
of Optimal Dosing" will take place on July 26th 2001 at the Georgetown
University Conference Center, Washington DC. 

 Many statisticians feel that dose selection is very poorly done. This
briefing will cover methods appropriate for establishing the "optimal
dose".
It will examine the problems of dosing and suggest practical solutions.
Dose
assessment must be done correctly: if assessed incorrectly the project
can
be delayed and the resulting costs can be very high.

Speakers at this event include:

Professor Andrew Grieve, Pfizer, UK (Chairman)
Professor William Rosenberger, University of Maryland
Professor Quentin Stout, University of Michigan
Dr Janis Hardwick, University of Michigan
Dr Margaret Shih and Dr Hans Carter Jr, Virginia Commonwealth University
Professor Jason Hsu, The Ohio State University
Professor Peter Thall, MD Anderson Cancer Center, Houston
Dr David Giltinan, Genentech, Inc
Raymond Miller, Pfizer, Inc

Further information is available on our website at www.henrystewart.com
or
by contacting Susan Robinson on +44 207 404 3040 or emailing
susanr at henrystewart.co.uk



-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lenn at bullsandbears.com  Thu Jul 19 16:47:29 2001
From: lenn at bullsandbears.com (lenn@bullsandbears.com)
Date: Thu, 19 Jul 2001 07:47:29 -0700
Subject: [R] Knowledge is Power cm
Message-ID: <20010719074793.SM00860@stat.math.ethz.ch>

               DON'T BE LEFT IN THE DARK AGES

Info and Data Center is an information-centric company that 
delivers remarkable information pertaining to specific, essential 
subjects as: marketing, education, philosophy, entertainment,
success, stocks and bonds, finances and psychology, as well as 
other subjects that can support your life and well being. This 
email is merely requesting to make such information available to 
you from time to time.

We know two things are truer NOW  more than ever before....

      Information is leverage and knowledge is Power!

Info and data center is committed to putting you in front of the
information curve and keeping you there!

If you would like to be deleted from this free opportunity simply
hit reply and then send, you will immediately be removed from 
our list.

Thank you in Advance
Lennis Fike,
V.P. Technologies
Info and Data Center, Inc.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From z.cseres-gergely at ucl.ac.uk  Thu Jul 19 16:49:06 2001
From: z.cseres-gergely at ucl.ac.uk (Zsombor Cseres-Gergely)
Date: Thu, 19 Jul 2001 15:49:06 +0100
Subject: [R] after R 1.3: can not write to or create directory `~/lib/R'
Message-ID: <20010719154906.B1883@caligola.econ.ucl.ac.uk>

Dear all,

I am running 

platform i386-pc-linux-gnu
arch     i386             
os       linux-gnu        
system   i386, linux-gnu  
status                    
major    1                
minor    3.0              
year     2001             
month    06               
day      22               
language R                

and have my own library path set up having

R_LIBS='~/lib/R'; export R_LIBS

in my bash_profile and

R_LIBS=/home/zs/lib/R/

in my .Renviron.

Before 1.3, there was no problem. Now if I download a package and try to
R CMD INSTALL it, I get the message

ERROR: cannot write to or create directory `~/lib/R'

Permissions are OK, and it worked just fine before! Anybody has the same?

Thanks,
Zsombor
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From denis.choquet at rd.francetelecom.com  Thu Jul 19 17:05:43 2001
From: denis.choquet at rd.francetelecom.com (zze-CHOQUET Denis stagiaire FTRD/DMI/SOP)
Date: Thu, 19 Jul 2001 17:05:43 +0200
Subject: [R] Write a script
Message-ID: <D5FD8AC43CFED3119A8E00508B6FECFEC7FFC6@p-merle.rd.francetelecom.fr>

Dear R users,
I would like to write a script to launch R commands from a Unix prompt but I
do not have any idea how to do it. Can someone bring me help please?
Thanks in advance
Denis Choquet
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From debrat at bestweb.net  Thu Jul 19 17:07:29 2001
From: debrat at bestweb.net (Debra Taylor)
Date: Thu, 19 Jul 2001 11:07:29 -0400
Subject: [R] Append/merge
Message-ID: <000001c11064$8777bd70$5b2cb3d8@dell>



I have a question about stacking datasets.

I have 40 stata datasets that have exactly the same number of variables,
with the same names (~420k rows, 8 columns).

The datasets are relatively large ~ 15 megs.

If they were text files a linux "cat file1 file2 >> combo" sort of
strategy would work.

I've considered using a merge command, but I don't want any records
merged, only appended. Also, I don't want any variables to be renamed.
Given there unique nature, using a simple
merge(read.dta('file1'),read.dta('file2')) would give me (I think) what
I am looking for but seems incredibly inefficient.

There are a number of ways I could approach this all of which involve a
non-R solution.  

Does somebody have an R solution in mind?

Thanks in advance,

Debra Taylor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010719/621a5a9d/attachment.html

From dwhite at ling.ohio-state.edu  Thu Jul 19 17:28:41 2001
From: dwhite at ling.ohio-state.edu (David White)
Date: Thu, 19 Jul 2001 11:28:41 -0400 (EDT)
Subject: [R] classification tree out put
Message-ID: <Pine.SOL.4.33.0107191119100.12963-100000@julius.ling.ohio-state.edu>


Hello,

I'm attempting to classify data using tree(). summary(tree()) indicates
that I have a very good classification rate. What I'd like to know is
which tokens in the data set are correctly classified and which are not.

Is there a method for associating the classification with the token?
I've been reading Chambers and Hastie (1992) chapter 9 on tree-based
models, but find no indication of this. Any suggestion as to sources I
should consult would also be appreciated.

Thank in advance.

S. David White
sdavidwhite at bigfoot.com
Columbus, Ohio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jul 19 17:37:01 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Jul 2001 17:37:01 +0200
Subject: [R] Append/merge
In-Reply-To: "Debra Taylor"'s message of "Thu, 19 Jul 2001 11:07:29 -0400"
References: <000001c11064$8777bd70$5b2cb3d8@dell>
Message-ID: <x2y9pl6ici.fsf@blueberry.kubism.ku.dk>

"Debra Taylor" <debrat at bestweb.net> writes:

> I have a question about stacking datasets.
> 
> I have 40 stata datasets that have exactly the same number of variables,
> with the same names (~420k rows, 8 columns).
> 
> The datasets are relatively large ~ 15 megs.
> 
> If they were text files a linux "cat file1 file2 >> combo" sort of
> strategy would work.
> 
> I've considered using a merge command, but I don't want any records
> merged, only appended. Also, I don't want any variables to be renamed.
> Given there unique nature, using a simple
> merge(read.dta('file1'),read.dta('file2')) would give me (I think) what
> I am looking for but seems incredibly inefficient.
> 
> There are a number of ways I could approach this all of which involve a
> non-R solution.  
> 
> Does somebody have an R solution in mind?

rbind?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Jul 19 17:28:59 2001
From: bates at stat.wisc.edu (Douglas Bates)
Date: 19 Jul 2001 10:28:59 -0500
Subject: [R] Summary of colSums
In-Reply-To: <15190.54865.919806.670532@gargle.gargle.HOWL>
References: <15190.54865.919806.670532@gargle.gargle.HOWL>
Message-ID: <6ru2099bus.fsf@franz.stat.wisc.edu>

"David Kane  <David Kane" <a296180 at mica.fmr.com> writes:

> However, Doug Bates was kind enough to send me a simple math
> utilities package that has a version of colSums in C. The package
> installed without a hitch and produced similar performance to the S+
> colSums function (in my simple tests).

Actually I called the package MatUtils for "Matrix Utilities".

Some on the list may be interested in how the package was created.
Although the information on how to do this in the "Writing R
Extensions" Manual, available as a PDF file in the doc section on
CRAN, it is good to see a short example.

Because the calculation is simple and we want it to run fast, I used C
code and the .Call interface.  

The first step is to write the R function colSums.

> colSums <- function(m) .Call("colSums", as.matrix(m))

In R-1.3.0 you can use the package.skeleton function to create the
skeleton of a package directory.

> package.skeleton(name = "MatUtils", list(colSums))

This creates a directory called MatUtils along with the R, man, data,
and src subdirectories and the DESCRIPTION, README R/colSums.R and
man/colSums.Rd files.

I then added src/colSums.c
--- begin colSums.c ---
#include <R.h>
#include <Rdefines.h>

SEXP colSums(SEXP m)
{
    int i, j, *mdims, n, p;
    double *mm, sum;
    SEXP val;

    if (!isMatrix(m)) error("m must be a matrix");
    mdims = INTEGER(coerceVector(getAttrib(m, R_DimSymbol), INTSXP));
    n = mdims[0]; p = mdims[1];
    PROTECT(val = allocVector(REALSXP, p));
    PROTECT(m = AS_NUMERIC(m));
    mm = REAL(m);
    for (j = 0; j < p; j++) {
        sum = 0.;
        for (i = 0; i < n; i++) sum += mm[i];
        REAL(val)[j] = sum;
        mm += n;
    }
    UNPROTECT(2);
    return val;
}
--- end colSums.c ---
edited the DESCRIPTION file so it reads
--- begin DESCRIPTION ---
Package: MatUtils
Title: Some utility functions for Matrices
Version: 1.0
Author: Douglas Bates <bates at stat.wisc.edu>
Description: Matrix Utility functions such as colSums
Maintainer: Douglas Bates <bates at stat.wisc.edu>
License: GPL version 2 or later
--- end DESCRIPTION ---
edited man/colSums.Rd to read
--- begin man/colSums.Rd ---
\name{colSums}
\alias{colSums}
\title{Compute the column sums of a matrix}
\description{
  \code{colSums} computes the column sums of a matrix
}
\usage{
colSums(m)
}
\arguments{
  \item{m}{a numeric matrix.}
}
\value{
  a numeric vector of the column sums of the matrix \code{m}
}
\author{Douglas Bates \email{bates at stat.wisc.edu}}
\examples{
colSums(matrix(1:20, ncol = 4))
}
\keyword{array}
\keyword{algebra}
\keyword{math}
--- end colSums.Rd ---
and - this is important - added a file R/zzz.R with contents
--- begin R/zzz.R ---
.First.lib <- function(lib, pkg) {
    library.dynam("MatUtils", pkg, lib)
}
--- end R/zzz.R ---

I think I would have forgotten to write the .First.lib function but
Thomas has thoughtfully provided a README file in the src directory
that reminds you to do this.

On Linux/Unix one can then cd to the parent directory of MatUtils and
run

R CMD build --force MatUtils   # this creates the INDEX file
R CMD check MatUtils

If the check fails (and, in fact, I did have mistakes in the C code in
the first version I tried to compile) then go through the usual
edit/debug cycle.

As for timings, you wrote (and I hope it is ok to send this to the list)

 Thanks for the answer and the package. It installed without a hitch on Solaris
 2.6. Here is a summary of the *very* brief comparison that I did.

 > library(MatUtils)
 > m <- matrix(rnorm(10000000), 100000, 100)
 > system.time(a1 <- apply(m, 2, sum))
 [1] 6.77 0.00 6.87 0.00 0.00
 > system.time(a2 <- colSums(m))
 [1] 0.43 0.00 0.43 0.00 0.00
 > all.equal(a1, a2)
 [1] TRUE

 Compare these to the results in S+ 6.0.

 > m <- matrix(rnorm(10000000), 100000, 100)
 > sys.time(a1 <- apply(m, 2, sum))
 [1] 18.74 26.09
 > sys.time(a2 <- colSums(m))
 [1] 0.49 0.55
 > all.equal(a1, a2)
 [1] T
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From z.cseres-gergely at ucl.ac.uk  Thu Jul 19 17:56:40 2001
From: z.cseres-gergely at ucl.ac.uk (Zsombor Cseres-Gergely)
Date: Thu, 19 Jul 2001 16:56:40 +0100
Subject: [R] after R 1.3: can not write to or create directory `~/lib/	R'
In-Reply-To: <51F9C42DA15CD311BD220008C707D81903DC80DB@usrymx10.merck.com>
Message-ID: <20010719165640.A4161@caligola.econ.ucl.ac.uk>

On Thu, Jul 19, 2001 at 11:49:09AM -0400, Liaw, Andy wrote:
> My guess is that the '~' is not being expanded properly.  The quick fix

OK, I was foolish, this is it. But it _did_ work before, anyway...

Thanks,
Zsombor
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Thu Jul 19 18:11:59 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Thu, 19 Jul 2001 12:11:59 -0400 (EDT)
Subject: [R] Write a script
Message-ID: <200107191611.MAA00219@cattell.psych.upenn.edu>

>Dear R users,
>I would like to write a script to launch R commands from a Unix prompt but I
>do not have any idea how to do it. Can someone bring me help please?
>Thanks in advance
>Denis Choquet

I'm sure there are many ways to do this, but one is to write the
script, say myscript.R, just as a list of R commands, and then
write, on the command line:

R --vanilla < myscript.R

See the bottom of http://finzi.psych.upenn.edu/~baron/
for a couple of examples.  The "vanilla" prevents R from reading
various files, which, if they run, will lead it to present
various prompts, etc.  (See R --help for details.)

Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.Atkinson at cdsc.nthames.nhs.uk  Thu Jul 19 18:11:44 2001
From: P.Atkinson at cdsc.nthames.nhs.uk (Phil)
Date: Thu, 19 Jul 2001 17:11:44 +0100
Subject: [R] Log likelihood question
Message-ID: <24A8B549739BD311AAF2009027D6373D198B84@SERVER>


I'm comparing a possion regression model (using glm) under R with same model
(using poisson) and same data in Stata.

Poisson GLM iteration using R has what it calls "deviance" values
Deviance = 1711.706 Iterations - 1 
Deviance = 1451.352 Iterations - 2 
Deviance = 1442.306 Iterations - 3 
Deviance = 1442.283 Iterations - 4 

Poisson GLM iteration using Stata gives log likelihood values
(0) -1567
(1) -1566
(2) -1566

As you can see, the R deviance values arent -2 * log likelihood values in
Stata. Any idea how R calculates its deviance values? 

Many thanks..

Phil



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Thu Jul 19 18:26:38 2001
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Thu, 19 Jul 2001 18:26:38 +0200
Subject: [R] Correction of degrees of freedom in repeated measure aov
Message-ID: <3B570A3E.84D7ED11@psy.uni-muenchen.de>

Hi there,

some statistical programs (e.g. SPSS) calculate a correction of the
degrees of freedom in a repeated measure analysis of variance (see
Greenhouse-Geisser (1958) or Huynh-Feld (1976)) by a factor epsilon.
This factor is used to correct the deg. of freedom to get a corrected
f-test. Is this also possible with R?

Thanks, Sven

P.S.: I read in the lm help page:

	singular.ok    logical, defaulting to TRUE. FALSE is not yet
implemented.

but couldn't figure out if this is related to my question.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Thu Jul 19 18:51:14 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Thu, 19 Jul 2001 18:51:14 +0200
Subject: [R] Compiling R-1.3.0-patched on OSF1
In-Reply-To: <x24rs9jiei.fsf@blueberry.kubism.ku.dk>
References: <3B56B2F1.D5C5A028@cbs.dtu.dk>
	<x24rs9jiei.fsf@blueberry.kubism.ku.dk>
Message-ID: <15191.4098.719997.599403@mithrandir.hornik.net>

>>>>> Peter Dalgaard BSA writes:

> Laurent Gautier <laurent at cbs.dtu.dk> writes:
>> ...but the 'make' step ends with the following lines:
>> 
>> 
>> ----------------------
>> building package `base'
>> mkdir ../../../library/base
>> mkdir ../../../library/base/R
>> mkdir ../../../library/base/data
>> mkdir ../../../library/base/demo
>> building package `ctest'
>> mkdir ../../../library/ctest
>> mkdir ../../../library/ctest/R
>> Make: Cannot open ../../../../share/make/../../../../etc/Makeconf.
> ....
>> Did anybody encountered this (and would know how to overcome it) ?
>> (I am certainly doing silly somewhere.... but WHERE ?)

Nothing silly on your side at all.

> The symptoms look familiar. I think we've seen this before and a fix
> was to use GNU make instead of the system-supplied one. (The recursive
> Makefiles may make it necessary to set $MAKE i.e.

> MAKE=gmake gmake

> on Bourne shell systems and whatever it takes to get the same effect
> in csh).

> My memory feels a little rusty on this, you may want to look back into
> the mailing list archives.

I think this is because the system make thinks it needs to set the
working directory.  This only seems to occur with that specific version
of make, as far as I know ...

[There is really no recursion ...]

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Thu Jul 19 19:04:07 2001
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Thu, 19 Jul 2001 13:04:07 -0400
Subject: [R] registration of C routines
Message-ID: <OF1AA75EB7.DA61FB67-ON85256A8E.005CABB6@rtp.epa.gov>


Thanks; I now have the documents you mentioned.

I knew about R_FindSymbol, but I guess I was hoping to find it was really
stable enough to be part of the API, even though it is not listed there.  I
was hoping to use it to extend my ODE package odesolve (on CRAN), to be
able to directly handle systems of odes written directly in C or Fortran,
and bypassing the R call-back mechanism.  Odesolve uses callbacks into R,
so that I use compiled Fortran code to solve a system of odes written in R.
The idea was that, in R, I would dyn.load a shared library that contained
the ode function, then call "lsoda()" (from odesolve), passing a string
that gives the name of the function to be integrated.  The string would be
passed to the C wrapper I have around the actual ode solver, where
R_FindSymbol would return a function pointer.

R. Woodrow Setzer, Jr.                                            Phone:
(919) 541-0128
Experimental Toxicology Division                       Fax:  (919) 541-5394
Pharmacokinetics Branch
NHEERL MD-74; US EPA; RTP, NC 27711


                                                                                                                      
                    Duncan Temple Lang                                                                                
                    <duncan at research.bell        To:     Woodrow Setzer/RTP/USEPA/US at EPA                              
                    -labs.com>                   cc:     r-help at hypatia.math.ethz.ch                                  
                                                 Subject:     Re: [R] registration of C routines                      
                    07/19/01 10:07 AM                                                                                 
                                                                                                                      
                                                                                                                      





Hi,,

  There are 3 different places you can find out more about the
registration mechanism. The place to find code examples
is in the libraries in the R distribution. For example, take a
look at
  src/library/ctest/src/init.c

Also, I have collected the descriptions (drafts) I have written
about this. They are available from
  http://cm.bell-labs.com/stat/duncan/R


The C routine R_FindSymbol() is the internal mechanism that finds a
native symbol by name in a package. It is not in the official API, so
is subject to change. Hence it is not a good idea to write your code
to depend on it, but your mileage may vary depending on the context,
etc.

Personally, I would think that it might be better to avoid this
low-level dependency. You might be better off linking the DLL/.so from
the secondary package with that in the first package.  Alternatively,
on some platforms, you can specify the value of the local argument as
FALSE for dyn.load() and library.dynam() and that makes the symbols in
that library visible to all the others. Then your C code can call the
routine directly. This has potential danger based on how dlopen()
works on each system and the order in which the libraries have been
loaded.


  D.


Setzer.Woodrow at epamail.epa.gov wrote:
> Almost at the end of the News for R-1.3.0 is the following section:
>
> o   New mechanism for explicitly registering native routines in a
>      DLL/shared library accessible via .C(), .Call(), .Fortran() and
>      .External().  This is potentially more robust than the existing
>      dynamic lookup, since it checks the number of arguments, type of
>      the routine.
>
> How do I learn how to use this mechanism?  Also, is there a sanctioned
way
> to find and use, in C-code loaded via dyn.load and executed using one of
> the calls .C(), etc., functions defined in a separate DLL/shared library
> and also loaded with dyn.load?
>
> R. Woodrow Setzer, Jr.                                            Phone:
> (919) 541-0128
> Experimental Toxicology Division                       Fax:  (919)
541-5394
> Pharmacokinetics Branch
> NHEERL MD-74; US EPA; RTP, NC 27711
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._

--
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070
         http://cm.bell-labs.com/stat/duncan




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Anne_Yeh at hc-sc.gc.ca  Thu Jul 19 19:16:52 2001
From: Anne_Yeh at hc-sc.gc.ca (Anne_Yeh@hc-sc.gc.ca)
Date: Thu, 19 Jul 2001 13:16:52 -0400
Subject: [R] probit plots
Message-ID: <85256A8E.005EF24F.00@smta00.hc-sc.gc.ca>



Hello,

I'm trying to do a probit plot but am a little confused about how to do this.

Sample data:

 >  dat <-
data.frame(dose=c(0.18,0.48,0.78,0.18,0.48,0.78),n=c(103,120,123,60,110,100),r=c(19,53,83,14,54,81),

+  sample=c("s","s","s","t","t","t"))

> temp <- glm(cbind(r,n-r)~sample+log(dose),binomial(link='probit'),data=dat)

Does anyone know how to plot the probit of the response vs. log(dose) with the 2
 regression lines for the two treatment groups
superimposed onto one graph?

Any comments will be much appreciated,

Anne


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From White.Denis at epamail.epa.gov  Thu Jul 19 19:38:06 2001
From: White.Denis at epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Thu, 19 Jul 2001 10:38:06 -0700
Subject: [R] classification tree out put
Message-ID: <OFFFD97954.10E2174B-ON88256A8E.0060DF01@rtp.epa.gov>

An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010719/bff31db5/attachment.html

From hb at maths.lth.se  Thu Jul 19 21:38:15 2001
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Thu, 19 Jul 2001 12:38:15 -0700
Subject: [R] after R 1.3: can not write to or create directory `~/lib/R'
In-Reply-To: <20010719154906.B1883@caligola.econ.ucl.ac.uk>
Message-ID: <KKEGJOGBELBHDIKPINBMEEJDCFAA.hb@maths.lth.se>

This sound like the problem Kevin Murphy also had a couple of days ago,
which Thomas Lumley kindly solved. The problem was the use of quotation
marks in R_LIBS. For more info see the thread "[R] installing tree pkg on
linux" at
http://www.r-project.org/nocvs/mail/r-help/2001/3516.html.

Hope this will help you too.

Henrik Bengtsson
h b @ m a t h s . l t h . s e

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Zsombor
> Cseres-Gergely
> Sent: Thursday, July 19, 2001 7:49 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] after R 1.3: can not write to or create directory `~/lib/R'
>
>
> Dear all,
>
> I am running
>
> platform i386-pc-linux-gnu
> arch     i386
> os       linux-gnu
> system   i386, linux-gnu
> status
> major    1
> minor    3.0
> year     2001
> month    06
> day      22
> language R
>
> and have my own library path set up having
>
> R_LIBS='~/lib/R'; export R_LIBS
>
> in my bash_profile and
>
> R_LIBS=/home/zs/lib/R/
>
> in my .Renviron.
>
> Before 1.3, there was no problem. Now if I download a package and try to
> R CMD INSTALL it, I get the message
>
> ERROR: cannot write to or create directory `~/lib/R'
>
> Permissions are OK, and it worked just fine before! Anybody has the same?
>
> Thanks,
> Zsombor
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From white.denis at epa.gov  Thu Jul 19 22:47:23 2001
From: white.denis at epa.gov (Denis White)
Date: Thu, 19 Jul 2001 13:47:23 -0700
Subject: [R] classification tree out put
Message-ID: <3B57475A.9C89FAA0@epa.gov>

This message was sent in html first time.  Sorry to non-html mail
readers.

...
> I'm attempting to classify data using tree(). summary(tree())
indicates
> that I have a very good classification rate. What I'd like to know is
> which tokens in the data set are correctly classified and which are
not.
...

atree <- tree (some.dat)
misclass <- atree$y != atree$frame$yval[atree$where]

--
Denis White
   US EPA, 200 SW 35th St, Corvallis, Oregon, 97333 USA
   voice: 541.754.4476, email: white.denis at epa.gov
   web: www.epa.gov/wed/pages/staff/white/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From joseph.conway at home.com  Thu Jul 19 23:01:07 2001
From: joseph.conway at home.com (Joe Conway)
Date: Thu, 19 Jul 2001 14:01:07 -0700
Subject: [R] R extension in C
References: <OF1AA75EB7.DA61FB67-ON85256A8E.005CABB6@rtp.epa.gov>
Message-ID: <02d501c11095$ee6d0c20$48d210ac@jecw2k1>

Hello,

I'm trying to modify the RPgSQL R extension, in part as a learning
experience on how R is extended. Specifically I'm writing a new function
which attempts to create a data.frame in C, and pass it back to R. The key
word is "attempts" in this last sentence. I haven't been able to get it
right, and I've not found many good examples or a comprehensive description
of the requirements. The closest I've found is do_modelframe in model.c and
the "Writing R Extensions" document. They were a good start, but didn't
quite get me there. Can anyone point me toward some other
examples/documents?

Thanks in advance,

-- Joe


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vograno at arbitrade.com  Fri Jul 20 02:56:34 2001
From: vograno at arbitrade.com (Vadim Ogranovich)
Date: Thu, 19 Jul 2001 19:56:34 -0500
Subject: [R] estimation of drift of continuous random walk
Message-ID: <AFD78192EC49D311BFAE00902798AB8F0BE04D@jupiter.sc.arbitrade.com>

Dear R-Users,

I have the following problem to solve and I wonder if there are means in R
that can help me.

At irregular time intervals I observe a random walk process, Y, with
time-varying drift. I assume that the drift, D, is a (linear) function of
some parameter X. The goal is to estimate D(X).

I could regress Y_{t+dt} - Y_{t} ~ X, but it's probably not appropriate
since Var(Y_{t+dt} - Y_{t}) is not constant (actually in theory it is
proportional to dt).

Any suggestions?

Thank you,
Vadim

-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE REGARDING PRIVACY AND CONFIDENTIALITY 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murphyk at cs.berkeley.edu  Fri Jul 20 03:01:19 2001
From: murphyk at cs.berkeley.edu (Kevin Murphy)
Date: Thu, 19 Jul 2001 18:01:19 -0700
Subject: [R] frames and formulas
Message-ID: <3B5782DF.BFFD8595@cs.berkeley.edu>

I can build a tree at the command line using
  tr <- tree(V4 ~ ., dat)
but I don't know how to build one inside a function - the following does
not work

  foo <- function(dummy) {
    tr <- tree(V4 ~ ., dummy)
  }
  tr2 <- foo(dat)

and produces the error

  Error in model.frame.default(formula = V4 ~ ., data = dummy) : 
	Object "dummy" not found

I know the solution has something to do with terms, formulas, frames,
environments, etc., but I can't figure it out (despite having read sec
3.4-3.5 of 'S progamming').

The reason I want to call 'tree' inside a function is that I am defining
a tree-based Conditional Probability Distribution (CPD) class that
should be able to be fit given an arbitrary number of parents. Currently
I implement this as shown below. This of course fails for the reason
above, but I also wondered if there was a way to avoid enumerating every
possible number of parents (I'm not sure how to make the formula "last
column ~ all other columns" in a general way).

fit.CPD.tree <- function(CPD, dat) {
  print(paste("fitting tree CPD", CPD$id))
  fam.vals <- dat[, c(CPD$parents, CPD$id), drop=FALSE]
  print(fam.vals)
  np <- length(CPD$parents)
  if (np == 1)
    CPD$tr <- tree(V2 ~ ., data = fam.vals)
  else if (np == 2)
    CPD$tr <- tree(V3 ~ ., fam.vals)
  else if (np == 3)
    CPD$tr <- tree(V4 ~ ., fam.vals)
  else
    stop(paste("too many parents for tree CPD", CPD$id))
  end
  list(CPD = CPD, dev = deviance(CPD$tr), score = dev)
}


Thanks for your help!

Kevin

  
P.S. You can reproduce the above problem using the following script

Nvars <- 4;
Nsamples <- 10;
N <- Nvars*Nsamples;
dat <- matrix(sample(1:2, N, c(0.5,0.5), replace=TRUE), Nsamples, Nvars)
#dat <- sample.bnet(bnet, 10)
dat <- as.data.frame(dat)
for (i in 1:Nvars) {
   dat[,i]<- factor(dat[,i], 1:2)
}
tr <- tree(V4 ~ ., dat)
#deviance(tr)

foo <- function(dummy) {
  tr <- tree(V4 ~ ., dummy)
}
tr2 <- foo(dat)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From patfoley at csus.edu  Fri Jul 20 05:39:42 2001
From: patfoley at csus.edu (Patrick Foley)
Date: Thu, 19 Jul 2001 20:39:42 -0700
Subject: [R] estimation of drift of continuous random walk
References: <AFD78192EC49D311BFAE00902798AB8F0BE04D@jupiter.sc.arbitrade.com>
Message-ID: <3B57A7FE.2C4C1434@csus.edu>

Vadim,

If I understand you correctly, the maximum likelihood estimator for the drift term
is

D =  (Y(T) -Y(0))/T

where you have data Y(t) t = 0 ... T and constant drift D and diffusion
coefficients.
Therefore if there is variable drift (but constant diffusion), one crude estimate
of D(X) would be to use this in chunks  in your regression and then smooth it at
the end. If you believe that D is a linear function of X then why not a regression
of (Y(t +dt)-Y(t))/dt on X(t)?

Patrick Foley
patfoley at csus.edu

Vadim Ogranovich wrote:

> Dear R-Users,
>
> I have the following problem to solve and I wonder if there are means in R
> that can help me.
>
> At irregular time intervals I observe a random walk process, Y, with
> time-varying drift. I assume that the drift, D, is a (linear) function of
> some parameter X. The goal is to estimate D(X).
>
> I could regress Y_{t+dt} - Y_{t} ~ X, but it's probably not appropriate
> since Var(Y_{t+dt} - Y_{t}) is not constant (actually in theory it is
> proportional to dt).
>
> Any suggestions?
>
> Thank you,
> Vadim
>
> --------------------------------------------------
> DISCLAIMER
> This e-mail, and any attachments thereto, is intended only for use by the
> addressee(s) named herein and may contain legally privileged and/or
> confidential information.  If you are not the intended recipient of this
> e-mail, you are hereby notified that any dissemination, distribution or
> copying of this e-mail, and any attachments thereto, is strictly prohibited.
> If you have received this e-mail in error, please immediately notify me and
> permanently delete the original and any copy of any e-mail and any printout
> thereof.
>
> E-mail transmission cannot be guaranteed to be secure or error-free.  The
> sender therefore does not accept liability for any errors or omissions in
> the contents of this message which arise as a result of e-mail transmission.
>
> NOTICE REGARDING PRIVACY AND CONFIDENTIALITY
>
> Knight Trading Group may, at its discretion, monitor and review the content
> of all e-mail communications.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sristatistician at yahoo.com  Fri Jul 20 09:24:30 2001
From: sristatistician at yahoo.com (srinivasa raghavan)
Date: Fri, 20 Jul 2001 00:24:30 -0700 (PDT)
Subject: [R] commercial purpose
Message-ID: <20010720072430.26117.qmail@web20105.mail.yahoo.com>

Hi,

I want to know can R language and the system be used
for commercial purposes.

with regards

srinivas

__________________________________________________
Do You Yahoo!?
Get personalized email addresses from Yahoo! Mail
http://personal.mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.pesl at arcs.ac.at  Fri Jul 20 09:51:56 2001
From: thomas.pesl at arcs.ac.at (Pesl Thomas)
Date: Fri, 20 Jul 2001 09:51:56 +0200
Subject: [R] problem with printing lines with lty
Message-ID: <D16B18FFF743D311A9CA0090275F3CB003D85182@arcss07.arcs.ac.at>

I'm running R 1.3 on WinNT.

When I plot lines with different linetypes e.g.:
x<-matrix(rnorm(50),,5)
plot(c(1,10),c(min(x),max(x)),type="n")
for(i in 1:5) lines(x[,i],lty=i+1)
legend( locator(1),legend=as.character(1:5),lty=2:6,ncol=2)

I see the lines clearly on my screen. When printing them through R, I can
see nearly no difference between them. When using another program
(Graphicapplication, Word,...) the lines show up like on my screen.
Am I doing something wrong or is this just a Windows problem?

Thank you for your help in advance,

	Thomas Pesl
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From houix at ircam.fr  Fri Jul 20 12:02:59 2001
From: houix at ircam.fr (houix@ircam.fr)
Date: Fri, 20 Jul 2001 12:02:59 +0200
Subject: [R] Write a script
In-Reply-To: <D5FD8AC43CFED3119A8E00508B6FECFEC7FFC6@p-merle.rd.francetelecom.fr>
Message-ID: <20010720120258.A1127@libido.ircam.fr>

I use these basic scripts:
script.sh
---------
#!/bin/sh
R --no-save < script.R
---------

script.R
---------
exp1 <- read.table("exp1tot")
exp1 <- (30 - exp1)/30
tab <- read.table("numero_son")
exp <- cbind(tab,exp1)
write.table(exp,"try",sep=" ",eol="\n",row.names = FALSE,col.names=FALSE)
---------

and now:
[machine] ./script.sh

R : Copyright 2001, The R Development Core Team
Version 1.3.0  (2001-06-22)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

> exp1 <- read.table("exp1tot")
> exp1 <- (30 - exp1)/30
> tab <- read.table("numero_son")
> exp <- cbind(tab,exp1)
> write.table(exp,"try",sep=" ",eol="\n",row.names = FALSE,col.names=FALSE)
> 
[machine] 

It works
Olivier Houix 

On Thu, Jul 19, 2001 at 05:05:43PM +0200, zze-CHOQUET Denis stagiaire FTRD/DMI/SOP wrote:
> From: zze-CHOQUET Denis stagiaire FTRD/DMI/SOP <denis.choquet at rd.francetelecom.com>
> To: "'r-help at lists.R-project.org'" <r-help at lists.R-project.org>
> Subject: [R] Write a script
> Date: Thu, 19 Jul 2001 17:05:43 +0200
> 
> Dear R users,
> I would like to write a script to launch R commands from a Unix prompt but I
> do not have any idea how to do it. Can someone bring me help please?
> Thanks in advance
> Denis Choquet
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Olivier Houix  <houix at ircam.fr>             tel: 01 44 78 15 51
Equipe Perception et Cognition Musicales    http://www.ircam.fr/pcm/houix/  
IRCAM   1 place Igor Stravinsky             75004         Paris           
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jul 20 12:25:59 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Jul 2001 12:25:59 +0200
Subject: [R] frames and formulas
In-Reply-To: Kevin Murphy's message of "Thu, 19 Jul 2001 18:01:19 -0700"
References: <3B5782DF.BFFD8595@cs.berkeley.edu>
Message-ID: <x2wv53zyko.fsf@blueberry.kubism.ku.dk>

Kevin Murphy <murphyk at cs.berkeley.edu> writes:

> I can build a tree at the command line using
>   tr <- tree(V4 ~ ., dat)
> but I don't know how to build one inside a function - the following does
> not work
> 
>   foo <- function(dummy) {
>     tr <- tree(V4 ~ ., dummy)
>   }
>   tr2 <- foo(dat)
> 
> and produces the error
> 
>   Error in model.frame.default(formula = V4 ~ ., data = dummy) : 
> 	Object "dummy" not found
> 
> I know the solution has something to do with terms, formulas, frames,
> environments, etc., but I can't figure it out (despite having read sec
> 3.4-3.5 of 'S progamming').

Jonathan Li reported the same thing just three days ago on R-help. It
happens because tree uses the S-PLUS form of passing the frame number
of the parent (i.e. eval(model, sys.parent())) rather than the parent
environment, which conspires with an age-old bug in R that makes this
work only on the command line. The quick fix is to modify the tree
function to use eval(model, parent.frame()) instead. This is better R
style anyway, but we'll get around to fixing eval() eventually.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From csprin at ca.sandia.gov  Fri Jul 20 13:25:19 2001
From: csprin at ca.sandia.gov (Clayton Springer)
Date: Fri, 20 Jul 2001 04:25:19 -0700
Subject: [R] exporting to xmgrace 
Message-ID: <20010720042519.B13040@brandybuck.ca.sandia.gov>

Hello all,

First, does anyone out there export data to xmgrace from R?

If not, can anyone give me advice on where to look for a simple example
of spawning a process and feeding it a stream and/or file.

I believe it will be similar to help.start which spawns netscape.

help.start uses .Internal().  As I am at pre- R Wizard status the help
advises against this route.

Clayton

p.s. xmgrace is a very good WYSIWYG graphing program.

-- 
Clayton Springer, Ph. D.
Sandia National Laboratories                      csprin at ca.sandia.gov
Biosystems Research Department                    (925) 294-2143
P.O. Box 969, MS 9951                fax:         (925) 294-3020
Livermore, CA, 94551-0969

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Fri Jul 20 12:38:26 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Fri, 20 Jul 2001 11:38:26 +0100 (BST)
Subject: [R] plot() axis problem
Message-ID: <Pine.LNX.4.10.10107201132260.6011-100000@localhost.localdomain>

This posting just illustrates the problem with plot()

x<-1:20
y<-c(1:10,301:310)
plot(x,y)
xrange<-c(1,10)
plot(x,y,xlim=xrange) #uses ylim=range(y)
This is the default behaviour of plot() and I think it is not sensible.
By default the range of the y axis should span the y values corresponding
to the points plotted. In this example the yaxis should span 1-10 rather
than 1-310. This does the sensible thing:

plot(x,y,xlim=xrange,ylim=range(y[x<=max(xrange) & x>=min(xrange)]))

I suggest that plot() changes to this default behaviour.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Fri Jul 20 13:36:08 2001
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Fri, 20 Jul 2001 07:36:08 -0400
Subject: [R] registration of C routines
In-Reply-To: <OF1AA75EB7.DA61FB67-ON85256A8E.005CABB6@rtp.epa.gov>; from Setzer.Woodrow@epamail.epa.gov on Thu, Jul 19, 2001 at 01:04:07PM -0400
References: <OF1AA75EB7.DA61FB67-ON85256A8E.005CABB6@rtp.epa.gov>
Message-ID: <20010720073607.D12804@jessie.research.bell-labs.com>


Interesting. I also run into this idea of specifying the name of a
routine rather than an R function. I haven't done much about
implementing anything yet, but here is my plan.  When the user
specifies a "callback", if it is a function object, then we treat it
as a regular R function. If it is a string, then we lookup the
corresponding native symbol and return its address (and type) as an R
object. For example, suppose the user calls
  lsoda(y, times, func = "foo")
then the lsoda() code would call
  NativeSymbol(func)
and get back an object such as
  x <- list(address= numeric(1), pid="R session identifier", numArgs = ?, argTypes = c(argName=type, argName=type))
  class(x) <- c("CRoutine", "NativeSymbolRef")

(The numArgs and argTypes would be available if the routine were registered.)

Now, this object (returned from NativeSymbol()) would get passed to
the C code that implements the lsoda() internals and contains the
address which can be cast to a C routine pointer and the routine
invoked that way.


If we have a collection of constructor functions such as 

  CRoutine(name, PACKAGE="")
  FortranRoutine(name, PACKAGE="")
  CallRoutine(name, PACKAGE="")
  ExternalRoutine(name, PACKAGE="")
and the generic one
  NativeSymbol(name, PACKAGE="")
the user can specify which package to use, etc.
and be precise about which symbol they want.
This avoids any loading order issues, etc.


This approach would require a little bit of code in the base R that
would "reflect" information about the native symbols in one or more
DLLs/Shared libraries. This is very convenient for exactly your
purposes and doing general meta-computing on the system.  But it keeps
users above the C-level internals of R which are potentially subject
to change.

One has to be very careful not to save one of these symbol reference
objects and restore it in a different session. But this is also
another recurring issue that we have to deal with.


Will this approach work for your problem? Is it too complex?

  D.


Setzer.Woodrow at epamail.epa.gov wrote:
> 
> Thanks; I now have the documents you mentioned.
> 
> I knew about R_FindSymbol, but I guess I was hoping to find it was really
> stable enough to be part of the API, even though it is not listed there.  I
> was hoping to use it to extend my ODE package odesolve (on CRAN), to be
> able to directly handle systems of odes written directly in C or Fortran,
> and bypassing the R call-back mechanism.  Odesolve uses callbacks into R,
> so that I use compiled Fortran code to solve a system of odes written in R.
> The idea was that, in R, I would dyn.load a shared library that contained
> the ode function, then call "lsoda()" (from odesolve), passing a string
> that gives the name of the function to be integrated.  The string would be
> passed to the C wrapper I have around the actual ode solver, where
> R_FindSymbol would return a function pointer.
> 
> R. Woodrow Setzer, Jr.                                            Phone:
> (919) 541-0128
> Experimental Toxicology Division                       Fax:  (919) 541-5394
> Pharmacokinetics Branch
> NHEERL MD-74; US EPA; RTP, NC 27711
> 
> 
>                                                                                                                       
>                     Duncan Temple Lang                                                                                
>                     <duncan at research.bell        To:     Woodrow Setzer/RTP/USEPA/US at EPA                              
>                     -labs.com>                   cc:     r-help at hypatia.math.ethz.ch                                  
>                                                  Subject:     Re: [R] registration of C routines                      
>                     07/19/01 10:07 AM                                                                                 
>                                                                                                                       
>                                                                                                                       
> 
> 
> 
> 
> 
> Hi,,
> 
>   There are 3 different places you can find out more about the
> registration mechanism. The place to find code examples
> is in the libraries in the R distribution. For example, take a
> look at
>   src/library/ctest/src/init.c
> 
> Also, I have collected the descriptions (drafts) I have written
> about this. They are available from
>   http://cm.bell-labs.com/stat/duncan/R
> 
> 
> The C routine R_FindSymbol() is the internal mechanism that finds a
> native symbol by name in a package. It is not in the official API, so
> is subject to change. Hence it is not a good idea to write your code
> to depend on it, but your mileage may vary depending on the context,
> etc.
> 
> Personally, I would think that it might be better to avoid this
> low-level dependency. You might be better off linking the DLL/.so from
> the secondary package with that in the first package.  Alternatively,
> on some platforms, you can specify the value of the local argument as
> FALSE for dyn.load() and library.dynam() and that makes the symbols in
> that library visible to all the others. Then your C code can call the
> routine directly. This has potential danger based on how dlopen()
> works on each system and the order in which the libraries have been
> loaded.
> 
> 
>   D.
> 
> 
> Setzer.Woodrow at epamail.epa.gov wrote:
> > Almost at the end of the News for R-1.3.0 is the following section:
> >
> > o   New mechanism for explicitly registering native routines in a
> >      DLL/shared library accessible via .C(), .Call(), .Fortran() and
> >      .External().  This is potentially more robust than the existing
> >      dynamic lookup, since it checks the number of arguments, type of
> >      the routine.
> >
> > How do I learn how to use this mechanism?  Also, is there a sanctioned
> way
> > to find and use, in C-code loaded via dyn.load and executed using one of
> > the calls .C(), etc., functions defined in a separate DLL/shared library
> > and also loaded with dyn.load?
> >
> > R. Woodrow Setzer, Jr.                                            Phone:
> > (919) 541-0128
> > Experimental Toxicology Division                       Fax:  (919)
> 541-5394
> > Pharmacokinetics Branch
> > NHEERL MD-74; US EPA; RTP, NC 27711
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._
> 
> --
> _______________________________________________________________
> 
> Duncan Temple Lang                duncan at research.bell-labs.com
> Bell Labs, Lucent Technologies    office: (908)582-3217
> 700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
> Murray Hill, NJ  07974-2070
>          http://cm.bell-labs.com/stat/duncan
> 
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From olivier.martin at inrialpes.fr  Fri Jul 20 13:43:02 2001
From: olivier.martin at inrialpes.fr (Olivier Martin)
Date: Fri, 20 Jul 2001 13:43:02 +0200
Subject: [R] loglinear model
Message-ID: <3B581946.46D867FB@inrialpes.fr>

Hi all,
i want to know if there exist a package to compute
probabilities in loglinear model ?
Thank you in advance
Best wishes
Olivier

--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
Olivier MARTIN               phone: (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42
INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                  e-mail:olivier.martin at inrialpes.fr
38334 Saint Ismier cedex
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010720/e86e08da/attachment.html

From mark at myatt.demon.co.uk  Fri Jul 20 13:47:10 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Fri, 20 Jul 2001 12:47:10 +0100
Subject: [R] Append/merge
In-Reply-To: <000001c11064$8777bd70$5b2cb3d8@dell>
References: <000001c11064$8777bd70$5b2cb3d8@dell>
Message-ID: <C984XBA+oBW7Ew2X@myatt.demon.co.uk>

Debra Taylor <debrat at bestweb.net> writes:
>    I have a question about stacking datasets. 
>
>    I have 40 stata datasets that have exactly the same number of 
>    variables, with the same names (~420k rows, 8 columns). 
>
>    The datasets are relatively large ~ 15 megs. 
>
>    If they were text files a linux "cat file1 file2 >> combo" sort of 
>    strategy would work. 

[Snip]

>    Does somebody have an R solution in mind? 

Read each data file in as a data frame then use the rbind() function.
Something like:

        a <- read.table("file1", header = T)
        b <- read.table("file2", header = T)
        my.data <- rbind(a, b)
        #
        # remove the excess 15MB ...
        #
        rm(b)
        a <- read.table("file3", header = T)
        my.data <- rbind(ab, a)
        #
        # and so on ... finally removing the excess 15MB ...
        #
        rm(a)

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.trapletti at bluewin.ch  Fri Jul 20 14:19:54 2001
From: a.trapletti at bluewin.ch (Adrian Trapletti)
Date: Fri, 20 Jul 2001 14:19:54 +0200
Subject: [R] estimation of drift of continuous random walk
Message-ID: <3B5821EA.B213B64@bluewin.ch>

  1. Date: Thu, 19 Jul 2001 19:56:34 -0500
  2. From: Vadim Ogranovich <vograno at arbitrade.com>
  3. Subject: [R] estimation of drift of continuous random walk
  4.
  5. Dear R-Users,
  6.
  7. I have the following problem to solve and I wonder if there are
     means in R
  8. that can help me.
  9.
 10. At irregular time intervals I observe a random walk process, Y,
     with
 11. time-varying drift. I assume that the drift, D, is a (linear)
     function of
 12. some parameter X. The goal is to estimate D(X).
 13.
 14. I could regress Y_{t+dt} - Y_{t} ~ X, but it's probably not
     appropriate
 15. since Var(Y_{t+dt} - Y_{t}) is not constant (actually in theory it
     is
 16. proportional to dt).

(If the model is correctly specified) the above OLS regression should
give a consistent estimator for the drift. Using a WLS regression (in R
use lm(...,weights=...)) with weights proportional to 1/Var(Y_{t+dt} -
Y_{t}) = 1/dt (in this example) should produce a "better" estimator.

  1.
  2. Any suggestions?
  3.
  4. Thank you,
  5. Vadim
  6.
  7.

best

Adrian

--
Dr. Adrian Trapletti        Phone :     +41 (0)1 994 56 30
Wildsbergstrasse 31         Fax   :     +41 (0)1 994 56 33
CH-8610 Uster, Switzerland  Email : a.trapletti at bluewin.ch



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Fri Jul 20 15:11:28 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Fri, 20 Jul 2001 14:11:28 +0100
Subject: [R] Revised notes for using R with epidemiological data
In-Reply-To: <15190.54865.919806.670532@gargle.gargle.HOWL>
References: <15190.54865.919806.670532@gargle.gargle.HOWL>
Message-ID: <UeTNvaAA4CW7EwH9@myatt.demon.co.uk>

Dear All,

Just a note to say that I have just posted a new version of my R notes
to my web-site:

        http://www.myatt.demon.co.uk

As a Zip archive including RTF and PDF versions of the document as well
as example datasets.

This is just a minor revision. Changes are:

        1. References to "survival5" now reference "survival" - the
        package name changed with v1.3.0.

        2. Information on install.packages() is supplemented with a note
        of the use of the "Packages" menu on GUI versions.

        3. The document is now released under the GPL/FDL license ...
        share and enjoy!

        4. One reference (Selvin, S, "Modern Applied Biostatistical
        Methods Using S-Plus", Oxford University Press, New York, 1998)
        has been added.

        5. Document naming now follows R versions (i.e. Rex1030.pdf).

I will have some time later in the year to revise this document. I am
thinking of including:

        1. Introduction to writing your own (simple) graphics functions
        using a "Bland & Altman" plot as an example.

        2. Examples of using sample() &c. to do bootstraps and jack-
        knives.

Does anyone think that this is worth it or have any other suggestions as
to what could be usefully added? I would like to hear from anyone who
has used this material in the classroom ... did it work?

Best wishes,

Mark


--
Mark Myatt
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From denis.choquet at rd.francetelecom.com  Fri Jul 20 15:45:15 2001
From: denis.choquet at rd.francetelecom.com (zze-CHOQUET Denis stagiaire FTRD/DMI/SOP)
Date: Fri, 20 Jul 2001 15:45:15 +0200
Subject: [R] Write a script
Message-ID: <D5FD8AC43CFED3119A8E00508B6FECFEC7FFD2@p-merle.rd.francetelecom.fr>


Thanks to everybody for your help.
I have tried to use
R < myscript.R 
and it works.
I have also tried
R CMD BATCH myscript.R
but I get an error:
Error in png(filename = fichier) : the x11 device has not been loaded
that correspond with the command lines:
  file1_paste(Classification,"dendo.png",sep="")
  png(filename=file1)
  plot(tri1)
  dev.off()

I can't find where it comes from.
I would like to use BATCH because I have some parameters to give to my
script. Can someone also tell me how it has to be done?
Thanks for your help
Denis Choquet
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vograno at arbitrade.com  Fri Jul 20 18:31:00 2001
From: vograno at arbitrade.com (Vadim Ogranovich)
Date: Fri, 20 Jul 2001 11:31:00 -0500
Subject: [R] estimation of drift of continuous random walk
Message-ID: <AFD78192EC49D311BFAE00902798AB8F0BE050@jupiter.sc.arbitrade.com>

Thank you to Patrick Foley and Adrian Trapletti. Their compiled answer is:

a) fix model specification and regress
(Y(t+dt) - Y(t))/dt ~ X(t) // originally I forgot to devide by dt

b) use weighted regression with weights = 1/Var((Y(t+dt) - Y(t))/dt) = dt.

Thanks,
Vadim

-----Original Message-----
From: Patrick Foley [mailto:patfoley at csus.edu]
Sent: Thursday, July 19, 2001 8:40 PM
To: Vadim Ogranovich
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] estimation of drift of continuous random walk


Vadim,

If I understand you correctly, the maximum likelihood estimator for the
drift term
is

D =  (Y(T) -Y(0))/T

where you have data Y(t) t = 0 ... T and constant drift D and diffusion
coefficients.
Therefore if there is variable drift (but constant diffusion), one crude
estimate
of D(X) would be to use this in chunks  in your regression and then smooth
it at
the end. If you believe that D is a linear function of X then why not a
regression
of (Y(t +dt)-Y(t))/dt on X(t)?

Patrick Foley
patfoley at csus.edu

Vadim Ogranovich wrote:

> Dear R-Users,
>
> I have the following problem to solve and I wonder if there are means in R
> that can help me.
>
> At irregular time intervals I observe a random walk process, Y, with
> time-varying drift. I assume that the drift, D, is a (linear) function of
> some parameter X. The goal is to estimate D(X).
>
> I could regress Y_{t+dt} - Y_{t} ~ X, but it's probably not appropriate
> since Var(Y_{t+dt} - Y_{t}) is not constant (actually in theory it is
> proportional to dt).
>
> Any suggestions?
>
> Thank you,
> Vadim
>
> --------------------------------------------------
> DISCLAIMER
> This e-mail, and any attachments thereto, is intended only for use by the
> addressee(s) named herein and may contain legally privileged and/or
> confidential information.  If you are not the intended recipient of this
> e-mail, you are hereby notified that any dissemination, distribution or
> copying of this e-mail, and any attachments thereto, is strictly
prohibited.
> If you have received this e-mail in error, please immediately notify me
and
> permanently delete the original and any copy of any e-mail and any
printout
> thereof.
>
> E-mail transmission cannot be guaranteed to be secure or error-free.  The
> sender therefore does not accept liability for any errors or omissions in
> the contents of this message which arise as a result of e-mail
transmission.
>
> NOTICE REGARDING PRIVACY AND CONFIDENTIALITY
>
> Knight Trading Group may, at its discretion, monitor and review the
content
> of all e-mail communications.
>
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-------------------------------------------------- 
DISCLAIMER 
This e-mail, and any attachments thereto, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  If you are not the intended recipient of this
e-mail, you are hereby notified that any dissemination, distribution or
copying of this e-mail, and any attachments thereto, is strictly prohibited.
If you have received this e-mail in error, please immediately notify me and
permanently delete the original and any copy of any e-mail and any printout
thereof. 

E-mail transmission cannot be guaranteed to be secure or error-free.  The
sender therefore does not accept liability for any errors or omissions in
the contents of this message which arise as a result of e-mail transmission.

NOTICE REGARDING PRIVACY AND CONFIDENTIALITY 

Knight Trading Group may, at its discretion, monitor and review the content
of all e-mail communications. 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tebaldi at rap.ucar.edu  Fri Jul 20 18:36:19 2001
From: tebaldi at rap.ucar.edu (Claudia Tebaldi)
Date: Fri, 20 Jul 2001 10:36:19 -0600 (MDT)
Subject: [R] bug in predict.nnet?
Message-ID: <Pine.GSO.4.05.10107201023050.2522-100000@virga.rap.ucar.edu>

Hi all

I may have found a little problem in the code of predict.nnet, that comes
up only if you have NA's in your dataset:

the present code:
        z <- matrix(NA, length(keep), nout, dimnames = list(rn, 
                        ^^^^^^^^^^^^
            dimnames(object$fitted)[[2]]))

should be (at least if I understand things correctly)        
       z <- matrix(NA, length(rn), nout, dimnames = list(rn,
                       ^^^^^^^^^^
                   dimnames(object$fitted)[[2]]))

length(rn) maintains the first dimension of the arrray given as
newdata. The present version crashes if length(keep) < length(rn)
i.e. if there are NA's in the dataset.

The subsequent line fills up only the rows corresponding to "keep" with
the predicted values, leaving the rest as NA's. 



Also, there is an old bug in the function fda:

     m <- dd[2] 
assigns the number of columns of dd to m, but in the following line m is
still treated as the "model":

     weights <- model.extract(m, weights)

this is of no consequences if you haven't assigned weights to the
observations, but results in erasing them in case you have. Besides, the 

    m<-dd[2]

line is totally redundant, since that value of "m" is never used
afterward.



claudia

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jul 20 18:43:48 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 20 Jul 2001 09:43:48 -0700 (PDT)
Subject: [R] R extension in C
In-Reply-To: <02d501c11095$ee6d0c20$48d210ac@jecw2k1>
Message-ID: <Pine.LNX.4.33.0107200943480.23713@hymn01.u.washington.edu>

On Thu, 19 Jul 2001, Joe Conway wrote:

> Hello,
> 
> I'm trying to modify the RPgSQL R extension, in part as a learning
> experience on how R is extended. Specifically I'm writing a new function
> which attempts to create a data.frame in C, and pass it back to R. The key
> word is "attempts" in this last sentence. I haven't been able to get it
> right, and I've not found many good examples or a comprehensive description
> of the requirements. The closest I've found is do_modelframe in model.c and
> the "Writing R Extensions" document. They were a good start, but didn't
> quite get me there. Can anyone point me toward some other
> examples/documents?

Some of the functions in the 'foreign' package create data frames entirely in C, eg read.dta()
  
      -thomas



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From z.cseres-gergely at ucl.ac.uk  Fri Jul 20 19:03:37 2001
From: z.cseres-gergely at ucl.ac.uk (Zsombor Cseres-Gergely)
Date: Fri, 20 Jul 2001 18:03:37 +0100
Subject: [R] Re: hypothesis testing in models
In-Reply-To: <20010718192402.A2225@caligola.econ.ucl.ac.uk>
Message-ID: <20010720180337.A3780@caligola.econ.ucl.ac.uk>

Dear all,

A couple of days ago I had a question,

On Wed, Jul 18, 2001 at 07:24:02PM +0100, Zsombor Cseres-Gergely wrote:

> than in statistics -- just as I have. I'v been looking for a hypothesis
> testing tool in R (just linear or also nonlinear) for model parameters, but

but no answer arrived. The answer is (just for the sake of hystorical record):
yes, there is such a procedure in John Fox's "car" package at
http://socserv.socsci.mcmaster.ca/jfox/Misc/car/index.htm that implements the
F test in a similar fashion that I proposed (but in professional packaging).
Unfortunately it deals only with linear restrictions. It is a tool along with
some others in that package that could well belong to "base" IMHO.

Best regards,
Zsombor
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From z.cseres-gergely at ucl.ac.uk  Fri Jul 20 19:15:57 2001
From: z.cseres-gergely at ucl.ac.uk (Zsombor Cseres-Gergely)
Date: Fri, 20 Jul 2001 18:15:57 +0100
Subject: [R] A very good R Tips page -- why no link to it?
Message-ID: <20010720181557.B3780@caligola.econ.ucl.ac.uk>

Dear all,

Once in the past I found somehow a very good R Tips page and I was directed to
it again recently. It is compiled by Paul Johnson and can be found at
http://lark.cc.ukans.edu/~pauljohn/R/statsRus.html It helped me a lot, since
it is thematically structured (as opposed to the mailing list itself) and
answers many questions that occurs to an R beginner who had already done many
operations in other environments in a rather straighforward and natural way
(as opposed to many other docs).

Unfortunately, if you stick 'R tips' into Google, you do not get it and the
same happens after trying other keywords. Why can't it be listed in the Docs
section? Is there some serious objection to it or just nobody discovered it so
far?

Hoping the best, thanks,
Zsombor
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Fri Jul 20 18:56:18 2001
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Fri, 20 Jul 2001 12:56:18 -0400 (EDT)
Subject: [R] loading .RData on distributed system
Message-ID: <Pine.LNX.4.21.0107201250360.31729-100000@ln.nimh.nih.gov>

Hi, all.

I'm running R on a beowulf system, with software that can take a list of
single-processor jobs and parcel them out over the system.  (In case it's
of interest, they're dual pentium 866 machines connected by fast
ethernet.)  The administrators of the system found that I was causing a
huge load on the file server, and when they investigated it turned out
that each process was reading in .RData 4 bytes at a time.  Not kilobytes,
bytes.  The .RData in question is several megabytes, and more than one
process is starting up at a time, so apparently it really adds up.

I looked through the documentation, and a little bit in some of the
source, and haven't been able to find how exactly .RData is read.  Is this
part of the program?  Is it something I can set?  Is it something strange
happening with the file system on the beowulf cluster?

Any help appreciated.

Matt Wiener


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luke at nokomis.stat.umn.edu  Fri Jul 20 20:01:47 2001
From: luke at nokomis.stat.umn.edu (Luke Tierney)
Date: Fri, 20 Jul 2001 13:01:47 -0500
Subject: [R] loading .RData on distributed system
In-Reply-To: <Pine.LNX.4.21.0107201250360.31729-100000@ln.nimh.nih.gov>; from mcw@ln.nimh.nih.gov on Fri, Jul 20, 2001 at 12:56:18PM -0400
References: <Pine.LNX.4.21.0107201250360.31729-100000@ln.nimh.nih.gov>
Message-ID: <20010720130147.A12352@nokomis.stat.umn.edu>

As far as I can tell from a quick look the file is opened with fopen
and read with xdr.  So unless the xdr implementation R is linked
against is doing something very weird, the input should be buffered.
On my RedHat 7.1 system strace output seems to suggest that the read
is buffered with a buffer size of 4096.

luke

On Fri, Jul 20, 2001 at 12:56:18PM -0400, Matthew Wiener wrote:
> Hi, all.
> 
> I'm running R on a beowulf system, with software that can take a list of
> single-processor jobs and parcel them out over the system.  (In case it's
> of interest, they're dual pentium 866 machines connected by fast
> ethernet.)  The administrators of the system found that I was causing a
> huge load on the file server, and when they investigated it turned out
> that each process was reading in .RData 4 bytes at a time.  Not kilobytes,
> bytes.  The .RData in question is several megabytes, and more than one
> process is starting up at a time, so apparently it really adds up.
> 
> I looked through the documentation, and a little bit in some of the
> source, and haven't been able to find how exactly .RData is read.  Is this
> part of the program?  Is it something I can set?  Is it something strange
> happening with the file system on the beowulf cluster?
> 
> Any help appreciated.
> 
> Matt Wiener
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dwhite at ling.ohio-state.edu  Fri Jul 20 20:38:49 2001
From: dwhite at ling.ohio-state.edu (David White)
Date: Fri, 20 Jul 2001 14:38:49 -0400 (EDT)
Subject: [R] plotting dendrograms
Message-ID: <Pine.SOL.4.33.0107201435371.11771-100000@julius.ling.ohio-state.edu>


Hello,

Can anyone offer any insight on graphing classification dendrograms with
the nodes marked?

plot(tree()) produces a nice tree structure but there's no acccompanying
text.

Thanks,

D

S. David White
sdavidwhite at bigfoot.com
Columbus, Ohio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Fri Jul 20 22:59:24 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Sat, 21 Jul 2001 08:59:24 +1200
Subject: [R] plotting dendrograms
In-Reply-To: <Pine.SOL.4.33.0107201435371.11771-100000@julius.ling.ohio-state.edu>
Message-ID: <GAELKJBFMIGCMOMAFDBHMEBLCAAA.Ko-Kang@xtra.co.nz>

Hi David,

I found the mva library to be very useful in this case.  Functions like hclust() is pretty useful and you can specify the method you want to use (like kmeans...etc).

Even use tree(), I think it is possible to add text into it.  I had a look at the tree() documentation by typing:
    ?tree
and found an example:
     library(MASS)
     data(cpus)
     cpus.ltr <- tree(log10(perf) ~ syct+mmin+mmax+cach+chmin+chmax, cpus)
     cpus.ltr
     summary(cpus.ltr)
     plot(cpus.ltr);  text(cpus.ltr)

The last command text(cpus.ltr) adds in the text.

Hope this helps,

Kevin

-------------------------------------------------------------------------------------------- 
Ko-Kang Kevin Wang
Head of Statistical Analysis Division
Software Developers' Klub (SDK)
University of Auckland
New Zealand



-----Original Message-----
From: owner-r-help at stat.math.ethz.ch [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of David White
Sent: Saturday, July 21, 2001 6:39 AM
To: r-help at stat.math.ethz.ch
Subject: [R] plotting dendrograms



Hello,

Can anyone offer any insight on graphing classification dendrograms with
the nodes marked?

plot(tree()) produces a nice tree structure but there's no acccompanying
text.

Thanks,

D

S. David White
sdavidwhite at bigfoot.com
Columbus, Ohio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From petrsm at jcu.cz  Fri Jul 20 23:05:05 2001
From: petrsm at jcu.cz (Petr Smilauer)
Date: Fri, 20 Jul 2001 22:05:05 +0100 (CET)
Subject: [R] plotting dendrograms
In-Reply-To: <Pine.SOL.4.33.0107201435371.11771-100000@julius.ling.ohio-state.edu>
Message-ID: <Pine.WNT.3.96.1010720220401.354A-100000@guiness.bf.jcu.cz>

tree.1<-tree(...)
plot(tree.1)
text(tree.1) 
 eventually as 
text(tree.1,cex=0.5) 
 if you got a large tree

Petr S.

On Fri, 20 Jul 2001, David White wrote:

> 
> Hello,
> 
> Can anyone offer any insight on graphing classification dendrograms with
> the nodes marked?
> 
> plot(tree()) produces a nice tree structure but there's no acccompanying
> text.
> 
> Thanks,
> 
> D
> 
> S. David White
> sdavidwhite at bigfoot.com
> Columbus, Ohio
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From white.denis at epa.gov  Sat Jul 21 00:03:56 2001
From: white.denis at epa.gov (Denis White)
Date: Fri, 20 Jul 2001 15:03:56 -0700
Subject: [R] plotting dendrograms
Message-ID: <3B58AACC.D01B63FF@epa.gov>

> Can anyone offer any insight on graphing classification dendrograms with
> the nodes marked?

Try draw.tree in contributed package 'maptree'.

--
Denis White
   US EPA, 200 SW 35th St, Corvallis, Oregon, 97333 USA
   voice: 541.754.4476, email: white.denis at epa.gov
   web: www.epa.gov/wed/pages/staff/white/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thoar at cgd.ucar.edu  Sat Jul 21 00:39:47 2001
From: thoar at cgd.ucar.edu (Tim Hoar)
Date: Fri, 20 Jul 2001 16:39:47 -0600 (MDT)
Subject: [R] pdfcolor (and more)
In-Reply-To: <UeTNvaAA4CW7EwH9@myatt.demon.co.uk>
Message-ID: <Pine.GSO.4.30.0107201317070.9663-100000@laplace.cgd.ucar.edu>

I am building R-1.3.0 on a Sun running Solaris 2.6 and have sorted
out all the "hard" stuff ... save this ...

When trying to make install-pdf, I run into an unknown file:



This is pdfTeX, Version 3.14159-14f-released-20000525 (Web2C 7.3.2x)
(/tmp/tmp.1742.16125/t2d13975/xtr/R-admin.texi{/opt/local/teTeX/share/texmf/pdf
tex/config/pdftex.cfg}
Babel <v3.6x> and hyphenation patterns for american, french, german, ngerman,
n
ohyphenation, loaded.
(texinfo.tex Loading texinfo [version 2001-05-24.08]: Basics, pdf,
! I can't find file `pdfcolor'.
l.926   \input pdfcolor

Please type another input file name:


I searched through the CTAN site to no avail, downloaded and inflated
pdftex ... in short ... made quite an effort to locate pdfcolor to no avail.

Any hints?

This is preventing me from building the .pdf versions of the manuals.
I am still tracking down why I have lots of zero-length files in my
doc/manual directory.

-rw-r--r--   1 thoar    cgdcas         0 Jul 19 10:51 R-FAQ.html
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 10:51 R-lang.html
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 10:51 R-intro.html
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 10:51 R-exts.html
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 10:51 R-data.html
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 10:51 R-admin.html
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:03 stamp-refman-dvi
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:03 R-admin.tp
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:03 R-admin.pg
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:03 R-admin.ky
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:03 R-admin.fn
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:03 R-data.tp
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:03 R-data.pg
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:03 R-data.ky
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:03 R-data.fn
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:04 R-exts.tp
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:04 R-exts.pg
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:04 R-exts.ky
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:04 R-exts.fn
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:04 stamp-images-eps
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:05 R-intro.tp
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:05 R-intro.pg
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:05 R-intro.ky
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:05 R-intro.fn
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:06 R-lang.tp
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:06 R-lang.pg
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:06 R-lang.ky
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:06 R-lang.fn
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:18 stamp-refman-pdf
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:29 R-FAQ.vr
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:29 R-FAQ.tp
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:29 R-FAQ.pg
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:29 R-FAQ.ky
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:29 R-FAQ.fn
-rw-r--r--   1 thoar    cgdcas         0 Jul 19 11:29 R-FAQ.cp


## Tim Hoar, Associate Scientist              email: thoar at ucar.edu     ##
## Geophysical Statistics Project             phone: 303-497-1708       ##
## National Center for Atmospheric Research   FAX  : 303-497-1333       ##
## Boulder, CO  80307                    http://www.cgd.ucar.edu/~thoar ##

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From raph at alvie-mail.lanl.gov  Sat Jul 21 02:11:37 2001
From: raph at alvie-mail.lanl.gov (Raphael Gottardo)
Date: Fri, 20 Jul 2001 18:11:37 -0600
Subject: [R] How to use the .C() function? How to load the code?
Message-ID: <3B58C8B9.22F69D1A@alvie-mail.lanl.gov>

Hello R-users,

I have a question about the .C() function in R to call a C function. I
would like to know how to load the compiled code into R (if this is what
I need to do) . Iam not an expert in R neither in C. So the online help
was pretty much chinese for me.
I use R under linux, I use gcc to compile my code:

Let's take a very simple example:
double  addition(double a,double b)
{

  double c;
  c=a+b;

  return(c);

}

then under R I use
addition_function(a,b)
{
.C("addition",as.double(a),as.double(b))
}

But obviously it does not work since I haven't loaded or compiled
anything under R
.> addition(2,3)
Error in .C("addition", as.double(a), as.double(b)) :
        C/Fortran function name not in load table


I would really appreciate some help or some easy reading references.


Thank you very much,

Raphael
-------------- next part --------------
A non-text attachment was scrubbed...
Name: raph.vcf
Type: text/x-vcard
Size: 312 bytes
Desc: Card for Raphael Gottardo
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20010720/f3489392/raph.vcf

From Kurt.Hornik at ci.tuwien.ac.at  Sat Jul 21 08:42:20 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Sat, 21 Jul 2001 08:42:20 +0200
Subject: [R] pdfcolor (and more)
In-Reply-To: <Pine.GSO.4.30.0107201317070.9663-100000@laplace.cgd.ucar.edu>
References: <UeTNvaAA4CW7EwH9@myatt.demon.co.uk>
	<Pine.GSO.4.30.0107201317070.9663-100000@laplace.cgd.ucar.edu>
Message-ID: <15193.9292.946358.941285@mithrandir.hornik.net>

>>>>> Tim Hoar writes:

> I am building R-1.3.0 on a Sun running Solaris 2.6 and have sorted
> out all the "hard" stuff ... save this ...

> When trying to make install-pdf, I run into an unknown file:



> This is pdfTeX, Version 3.14159-14f-released-20000525 (Web2C 7.3.2x)
> (/tmp/tmp.1742.16125/t2d13975/xtr/R-admin.texi{/opt/local/teTeX/share/texmf/pdf
> tex/config/pdftex.cfg}
> Babel <v3.6x> and hyphenation patterns for american, french, german, ngerman,
> n
> ohyphenation, loaded.
> (texinfo.tex Loading texinfo [version 2001-05-24.08]: Basics, pdf,
> ! I can't find file `pdfcolor'.
> l.926   \input pdfcolor

> Please type another input file name:


> I searched through the CTAN site to no avail, downloaded and inflated
> pdftex ... in short ... made quite an effort to locate pdfcolor to no avail.

> Any hints?

This is part of pdftex.

See e.g.
	http://www.tug.org/applications/pdftex/

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From agusalon at eucmos.sim.ucm.es  Sat Jul 21 13:32:03 2001
From: agusalon at eucmos.sim.ucm.es (Agustin Alonso)
Date: Sat, 21 Jul 2001 13:32:03 +0200
Subject: [R] AVISO URGENTE DE VIRUS
Message-ID: <002301c111d8$d47fd4c0$32466093@agusalon>

Si recibis un correo m?o o de cualquier otra persona que os diga m?s o menos lo siguiente:
En la primera l?nea podemos ver la siguiente frase: Hola como estas? 
El texto intermedio es el siguiente: 
 
"Te mando este archivo para que me des tu punto de vista
Espero me puedas ayudar con el archivo que te mando
Espero te guste este archivo que te mando
Este es el archivo con la informaci?n que me pediste"
Por ?ltimo la ?ltima l?nea del texto es la siguiente: Nos vemos pronto, gracias.
 
y que lleva un archivo adjunto con doble extensi?n NO ABRAIS EL ARCHIVO ADJUNTO y eliminar el mensaje porque se trata del VIRUS W32 SIRCAM que se transmite a trav?s de la libreta de direcciones de vuestro correo.

A mi me ha llegado en un correo enviado por una persona que no conozco
Saludos,
Agust?n
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010721/8fba1027/attachment.html

From fharrell at virginia.edu  Sat Jul 21 18:08:38 2001
From: fharrell at virginia.edu (fharrell@virginia.edu)
Date: Sat, 21 Jul 2001 12:08:38 -0400
Subject: [R] Regression Modeling Strategies
Message-ID: <3B59A906.79DCB31E@virginia.edu>

I am pleased (and relieved) to announce the publication of
Regression Modeling Strategies, With Applications to Linear
Models, Logistic Regression, and Survival Analysis
(Springer, June 2001).

This book covers a wide variety of modeling tools including
regression splines, multiple imputation, data reduction,
shrinkage, overfitting, bootstrap model validation, and 
graphical presentation of models.  It emphasizes problems
caused by stepwise variable selection and model uncertainty,
and focuses on flexible strategies that preserve 
statistical properties to do what could be called 
"safe data mining."  Comprehensive case studies based on
S-Plus are presented and software for S-Plus is freely
available on many platforms.  Very soon the software
will be available for the open source R system.

More information may be obtained from
http://hesweb1.med.virginia.edu/biostat/rms
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yollin at speakeasy.net  Sat Jul 21 23:23:16 2001
From: yollin at speakeasy.net (Guy Yollin)
Date: Sat, 21 Jul 2001 14:23:16 -0700
Subject: [R] quantitative trading package for R
Message-ID: <001501c1122b$5b3d1cf0$210110ac@YOLLINWSTATION>

All,

Some of my colleagues and I are interested in developing a quantitative trading package for R.

Perceived limitations with available quantitative trading software are:
- lack sophisticated statistical capabilities
- generate single security buy/sell signals as opposed to ranking trading alternatives
- fixed feature set with limited ability to be extended
- high price
- typically require fee-based subscription service for historical quotes

The quantitative trading toolkit for R that we are proposing would have the following capabilities:
- take advantage of the statistical computing and graphics capabilities of R
- operate (and optimize) on a portfolio basis and produce a ranked list of trading decisions
- be flexible and extendable
- open source
- exploit readily available real-time and historic quotes through the internet

We would greatly appreciate any comments or suggestions regarding this project.

And, of course, we would very much like to hear from anyone interested in collaborating in this effort.

Regards,

Guy Yollin
yollin at speakeasy.net
yolling at esi.com

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010721/d891bd7a/attachment.html

From alobo at ija.csic.es  Sun Jul 22 23:45:04 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Sun, 22 Jul 2001 23:45:04 +0200 (MET DST)
Subject: [R] lapply and for
In-Reply-To: <3B4967CC.974635C4@bank-banque-canada.ca>
Message-ID: <Pine.OSF.3.96.1010722234411.13791A-100000@ija.csic.es>


Given a list as such:

> milista
$"1":
[1] 23 25 11

$"2":
[1] 34  2

$"3":
[1]   12    1    0 1050    2

What's faster:

> a <- NULL
> for (i in names(milista)){
+ a <- c(a,(mean(milista[[i]])))
+ }

or

a <- lapply(milista,mean)


?

(I understand that the second option
is nicer and more compact, but is it
faster?).

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at CMIS.CSIRO.AU  Mon Jul 23 01:12:14 2001
From: Bill.Venables at CMIS.CSIRO.AU (Venables, Bill (CMIS, Cleveland))
Date: Mon, 23 Jul 2001 09:12:14 +1000
Subject: [R] lapply and for
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A99DA1@Roper-CV.qld.cmis.csiro.au>

Agustin Lobo asks (and I interpolate in his question)

>  -----Original Message-----
> From: 	Agustin Lobo [mailto:alobo at ija.csic.es] 
> Sent:	Monday, 23 July 2001 7:45 AM
> To:	r-help
> Subject:	[R] lapply and for
> 
> 
> Given a list as such:
> 
> > milista
> $"1":
> [1] 23 25 11
> 
> $"2":
> [1] 34  2
> 
> $"3":
> [1]   12    1    0 1050    2
> 
> What's faster:
> 
> > a <- NULL
> > for (i in names(milista)){
> + a <- c(a,(mean(milista[[i]])))
> + }

If you want to make the for() option as slick as possible you should avoid
growing an object inside the loop.  In this case a better way of doing it
would be:

a <- structure(numeric(length(milista)), names = names(milista))
for(i in 1:length(milista)) a[i] <- mean(milista[[i]])

>From a programming point of view this is also preferable as it does not
assume that milista has unique names.  It also labels the elements of a with
the names of milista, if such exist.

> or
> 
> a <- lapply(milista,mean)
> 
> 
> ?

As always in these matters, it depends, but you will need to have a very
long list indeed before you notice the difference, I'd say.  To get an
exactly equivalent, though you need to do

a <- unlist(lapply(milista, mean))

but even then the gain in simplicity for the same outcome is heavily on the
side of the lapply option, I reckon.

Bill Venables.

> 
> (I understand that the second option
> is nicer and more compact, but is it
> faster?).
> 
> Thanks
> 
> Agus
> 
> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es
> 
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jul 23 01:28:13 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Jul 2001 01:28:13 +0200
Subject: [R] lapply and for
In-Reply-To: Agustin Lobo's message of "Sun, 22 Jul 2001 23:45:04 +0200 (MET DST)"
References: <Pine.OSF.3.96.1010722234411.13791A-100000@ija.csic.es>
Message-ID: <x2itgka6ia.fsf@blueberry.kubism.ku.dk>

Agustin Lobo <alobo at ija.csic.es> writes:

> Given a list as such:
> 
> > milista
> $"1":
> [1] 23 25 11
> 
> $"2":
> [1] 34  2
> 
> $"3":
> [1]   12    1    0 1050    2
> 
> What's faster:
> 
> > a <- NULL
> > for (i in names(milista)){
> + a <- c(a,(mean(milista[[i]])))
> + }
> 
> or
> 
> a <- lapply(milista,mean)
> 
> 
> ?
> 
> (I understand that the second option
> is nicer and more compact, but is it
> faster?).

Probably, since the first option is far from optimal itself:

a <- numeric(length(milista))
n <- 0
for (i in milista) 
   a[n <- n + 1] <- mean(i)

or 

n <- length(milista)
a <- numeric(n)
for (i in 1:n)
    a[i] <- mean(milista[[i]])

should both be faster. lapply essentially *is* the latter, but has the
for loop coded in C, so should be faster, but not by a huge amount.
For very short lists, the "red tape" at the beginning and end of
lapply() might pull in the opposite direction.

Why not just try it and see?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Mon Jul 23 03:29:34 2001
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Mon, 23 Jul 2001 13:29:34 +1200
Subject: [R] plot() axis problem
References: <Pine.LNX.4.10.10107201132260.6011-100000@localhost.localdomain>
Message-ID: <013c01c11316$ee3e19a0$175dd882@stat.auckland.ac.nz>

Hi


> This posting just illustrates the problem with plot()
>
> x<-1:20
> y<-c(1:10,301:310)
> plot(x,y)
> xrange<-c(1,10)
> plot(x,y,xlim=xrange) #uses ylim=range(y)
> This is the default behaviour of plot() and I think it is not sensible.
> By default the range of the y axis should span the y values corresponding
> to the points plotted. In this example the yaxis should span 1-10 rather
> than 1-310. This does the sensible thing:
>
> plot(x,y,xlim=xrange,ylim=range(y[x<=max(xrange) & x>=min(xrange)]))
>
> I suggest that plot() changes to this default behaviour.


The only objections I can think of so far concern (backward) compatibility:
(i) R currently does what S-Plus does -- that helps portability of S code
(ii) If we made this change then users' existing R code might start behaving
differently

The second problem is a fairly significant one I think -- it is impossible
to check for all instances and the change would be potentially quite
dramatic.  Perhaps you could argue that it would be sufficiently rare ...?

Any other arguments for or against?

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Mon Jul 23 09:20:23 2001
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Mon, 23 Jul 2001 17:20:23 +1000
Subject: [R] plot() axis problem
References: <Pine.LNX.4.10.10107201132260.6011-100000@localhost.localdomain> <013c01c11316$ee3e19a0$175dd882@stat.auckland.ac.nz>
Message-ID: <3B5BD037.E88FB989@ozemail.com.au>

Paul Murrell wrote:
> 
> ...Any other arguments for or against?

It depends upon how you interpret the request to plot().  

1) Plot the first 10 values of each of two 20 element numeric vectors
against each other (i.e. plot(x[1:10],y[1:10])) and the result is
probably what is wanted.

2) Plot two 20 element numeric vectors against each other, but limit the
range of the plot on one set of values (i.e. plot(x,y,xlim=c(1,10))) -
which plot() does, but without calculating the revised range for the
values that will be _visible_.

The example uses a rather artificial dataset, neatly divided into
monotonically increasing low and high values.  Any permutation of those
values that did not fall into that pattern would render the question
meaningless.  For example, try

y<-c(1,301,2,3,4,5,6,7,8,9,10,302:310)
plot(x,y,xlim=c(1,10))

If the range condition is to be applied, perhaps it should be as:

plot(x[x>=1 & x<=10],y[x>=1 & x<=10])

I think the present behavior of plot() is pretty sensible.

Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Mon Jul 23 10:07:25 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Mon, 23 Jul 2001 09:07:25 +0100 (BST)
Subject: [R] plot() axis problem
In-Reply-To: <013c01c11316$ee3e19a0$175dd882@stat.auckland.ac.nz>
Message-ID: <Pine.LNX.4.10.10107230902100.678-100000@localhost.localdomain>

Thanks for your reply Paul.

> >
> > plot(x,y,xlim=xrange,ylim=range(y[x<=max(xrange) & x>=min(xrange)]))
> >
> > I suggest that plot() changes to this default behaviour.
> 
> 
> The only objections I can think of so far concern (backward) compatibility:
> (i) R currently does what S-Plus does -- that helps portability of S code
> (ii) If we made this change then users' existing R code might start behaving
> differently
> 
> The second problem is a fairly significant one I think -- it is impossible
> to check for all instances and the change would be potentially quite
> dramatic.  Perhaps you could argue that it would be sufficiently rare ...?
> 
> Any other arguments for or against?
It seems like I'm the only one who cares about this...
Maybe it is only an issue when you want to look at small stretches of a
long dataset. I personally ran into it when I wanted to look at small
stretches of a power spectrum of a very long time series.

I will only argue again that it seems logical to use a y-axis that spans
the range of values plotted, and that this therefore depends on xlim.

I guess I can use myplot() that behaves the way that seems sensible to
me.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Mon Jul 23 11:54:12 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Mon, 23 Jul 2001 11:54:12 +0200 (MET DST)
Subject: [R] system.time
In-Reply-To: <x2itgka6ia.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.OSF.3.96.1010723114619.17646A-100000@ija.csic.es>


The manual entry for system.time refers to
 "user, system, and total elapsed times for the currently running R
process". 

Is user time the time spent by the process itself and system time the
time spent on other system activities? 

Thanks

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Mon Jul 23 12:18:40 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Mon, 23 Jul 2001 11:18:40 +0100 (BST)
Subject: [R] plot() axis problem
In-Reply-To: <3B5BD037.E88FB989@ozemail.com.au>
Message-ID: <Pine.LNX.4.10.10107231025520.865-100000@localhost.localdomain>

> 
> The example uses a rather artificial dataset, neatly divided into
> monotonically increasing low and high values.  Any permutation of those
> values that did not fall into that pattern would render the question
> meaningless.  For example, try
The example I posted was artificial because my real example had 10,000
pts and I didn't want to post that. Basically I wanted to look at the
region surrounding one frequency of the spectrum where I expected a peak.
I couldn't see the peak because plot() had used the whole set of data to
pick the range for the y-axis.

There was of course a nice peak but it was invisible because this peak was
maybe 1/1000 as high as the maximum peak in the whole spectrum.

> 
> I think the present behavior of plot() is pretty sensible.
If you look around at other plotting programs out there I think you'll see
some doing what I propose. I think if you use small datasets the current
plot() behaviour will not cause problems. It's only a pain once you start
zooming in on small stretches.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jul 23 12:31:23 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Jul 2001 12:31:23 +0200
Subject: [R] plot() axis problem
In-Reply-To: "Paul Murrell"'s message of "Mon, 23 Jul 2001 13:29:34 +1200"
References: <Pine.LNX.4.10.10107201132260.6011-100000@localhost.localdomain> <013c01c11316$ee3e19a0$175dd882@stat.auckland.ac.nz>
Message-ID: <x2ae1w543o.fsf@blueberry.kubism.ku.dk>

"Paul Murrell" <p.murrell at auckland.ac.nz> writes:

> Hi
> 
> 
> > This posting just illustrates the problem with plot()
> >
> > x<-1:20
> > y<-c(1:10,301:310)
> > plot(x,y)
> > xrange<-c(1,10)
> > plot(x,y,xlim=xrange) #uses ylim=range(y)
> > This is the default behaviour of plot() and I think it is not sensible.
> > By default the range of the y axis should span the y values corresponding
> > to the points plotted. In this example the yaxis should span 1-10 rather
> > than 1-310. This does the sensible thing:
> >
> > plot(x,y,xlim=xrange,ylim=range(y[x<=max(xrange) & x>=min(xrange)]))
> >
> > I suggest that plot() changes to this default behaviour.
> 
> 
> The only objections I can think of so far concern (backward) compatibility:
> (i) R currently does what S-Plus does -- that helps portability of S code
> (ii) If we made this change then users' existing R code might start behaving
> differently
> 
> The second problem is a fairly significant one I think -- it is impossible
> to check for all instances and the change would be potentially quite
> dramatic.  Perhaps you could argue that it would be sufficiently rare ...?
> 
> Any other arguments for or against?

- in S-PLUS you generally get a bunch of warnings for points that run
  off-scale - which presumably would teach you to do it with
  subsetting rather than clipping. (e.g. plot(y~x, subset=x>=a&x<=b))

- the default expressions for xlim/ylim would have to get rather
  complicated: ylim=if(!missing(xlim))range(y[x<=max(xrange) &
  x>=min(xrange)]) (and symmetrically for xlim). I'm not sure we want
  that for something as basic as plot().

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul 23 14:42:03 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 23 Jul 2001 13:42:03 +0100 (BST)
Subject: [R] plot() axis problem
In-Reply-To: <Pine.LNX.4.10.10107231025520.865-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.31.0107231339410.13314-100000@gannet.stats>

On Mon, 23 Jul 2001, Bill Simpson wrote:

> >
> > The example uses a rather artificial dataset, neatly divided into
> > monotonically increasing low and high values.  Any permutation of those
> > values that did not fall into that pattern would render the question
> > meaningless.  For example, try
> The example I posted was artificial because my real example had 10,000
> pts and I didn't want to post that. Basically I wanted to look at the
> region surrounding one frequency of the spectrum where I expected a peak.
> I couldn't see the peak because plot() had used the whole set of data to
> pick the range for the y-axis.
>
> There was of course a nice peak but it was invisible because this peak was
> maybe 1/1000 as high as the maximum peak in the whole spectrum.
>
> >
> > I think the present behavior of plot() is pretty sensible.
> If you look around at other plotting programs out there I think you'll see
> some doing what I propose. I think if you use small datasets the current
> plot() behaviour will not cause problems. It's only a pain once you start
> zooming in on small stretches.

Oh, come on, many of us use *much* larger datasets.  Your problem is that
you are using xlim to zoom in, rather that subsetting the spectrum
object as the S language design intends (but the writer of plot.spec did
not anticpate).

You can of course set ylim as well as xlim ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Mon Jul 23 14:54:48 2001
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Mon, 23 Jul 2001 13:54:48 +0100 (BST)
Subject: [R] plot() axis problem
In-Reply-To: <Pine.LNX.4.31.0107231339410.13314-100000@gannet.stats>
Message-ID: <Pine.LNX.4.10.10107231346120.1206-100000@localhost.localdomain>

> 
> Oh, come on, many of us use *much* larger datasets.  Your problem is that
> you are using xlim to zoom in, rather that subsetting the spectrum
> object as the S language design intends (but the writer of plot.spec did
> not anticpate).

OK Brian and Peter point taken that S/R prefers that I do
plot(x[x>=1 & x<=10],y[x>=1 & x<=10])
rather than
plot(x,y,xlim=xrange)
Thanks for the replies.

(I am using my own spectrum routines)
 
> You can of course set ylim as well as xlim ....

Yes that's what I said in my original posting.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul 23 14:59:31 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 23 Jul 2001 13:59:31 +0100 (BST)
Subject: [R] system.time
In-Reply-To: <Pine.OSF.3.96.1010723114619.17646A-100000@ija.csic.es>
Message-ID: <Pine.LNX.4.31.0107231353360.13314-100000@gannet.stats>

On Mon, 23 Jul 2001, Agustin Lobo wrote:

>
> The manual entry for system.time refers to
>  "user, system, and total elapsed times for the currently running R
> process".
>
> Is user time the time spent by the process itself and system time the
> time spent on other system activities?

These are reported by your (presumably Unix?) system.  Most likely both
times are spent by the R process, the `user' time in the user code space,
and the `system' time in kernel calls.

Look up the times system call on your system for the exact details.
For example, Solaris says

     The tms_utime member is the CPU time  used  while  executing
     instructions in the user space of the calling process.

     The tms_stime member is the CPU time used by the  system  on
     behalf of the calling process.

On Unix-alikes, system.time calls proc.time whose C code calls times.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul 23 15:02:08 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 23 Jul 2001 14:02:08 +0100 (BST)
Subject: [R] plot() axis problem
In-Reply-To: <Pine.LNX.4.10.10107231346120.1206-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.31.0107231400490.13314-100000@gannet.stats>

On Mon, 23 Jul 2001, Bill Simpson wrote:

> >
> > Oh, come on, many of us use *much* larger datasets.  Your problem is that
> > you are using xlim to zoom in, rather that subsetting the spectrum
> > object as the S language design intends (but the writer of plot.spec did
> > not anticpate).
>
> OK Brian and Peter point taken that S/R prefers that I do
> plot(x[x>=1 & x<=10],y[x>=1 & x<=10])
> rather than
> plot(x,y,xlim=xrange)
> Thanks for the replies.
>
> (I am using my own spectrum routines)
>
> > You can of course set ylim as well as xlim ....
>
> Yes that's what I said in my original posting.

(Too many days ago for me to have at hand.)   My point was that if you
want to `zoom in' then it seems logical to have to specify the zoom in
both x and y directions, not expect the x zoom to choose a y zoom.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Jul 23 15:52:54 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 23 Jul 2001 15:52:54 +0200
Subject: [R] Inadvertent clobbering [was `Strange behaviour of spectrum()?']
In-Reply-To: <3B56450C.E24570E0@ozemail.com.au>
References: <OF5C537D1C.273C75D6-ONCA256A8E.00078688@syd.syn.com.au>
	<3B56450C.E24570E0@ozemail.com.au>
Message-ID: <15196.11318.168303.433830@gargle.gargle.HOWL>

>>>>> "Jim" == Jim Lemon <bitwrit at ozemail.com.au> writes:

    Jim> MichaelNielsen at synergy.com.au wrote:
    >> 
    >> ... it raises the question about how R-guru's manage inadvertent
    >> clobbering of magic names.  Constructive suggestions would be warmly
    >> received.

you just know the dangerous names and don't reassign them ....  :-) ;-)

As a matter of fact, there are only very few global "non-functions"
The following one-liner (:-) shows them :

> for(ip in 2:length(search())) {cat("pos = ",ip,": ",search()[ip],"\n========\n");if(length(nms <- ls(pos=ip)))print(nms[sapply(nms,function(n)!is.function(get(n,pos=ip)))])}

pos =  2 :  package:ctest 
========
character(0)
pos =  3 :  Autoloads 
========
pos =  4 :  package:base 
========
 [1] ".AutoloadEnv"        ".Device"             ".Devices"           
 [4] "F"                   ".GlobalEnv"          "Hershey"            
 [7] "ISOLatin1"           ".Last.value"         ".leap.seconds"      
[10] "LETTERS"             "letters"             ".lib.loc"           
[13] ".Library"            ".Machine"            "MacRoman"           
[16] "month.abb"           "month.name"          "native.enc"         
[19] ".Options"            "p.adjust.methods"    ".Pars"              
[22] ".Pars.readonly"      "pi"                  ".Platform"          
[25] ".PostScript.Options" ".ps.prolog"          "R.version"          
[28] "R.version.string"    "T"                   "version"            
[31] "WinAnsi"            

Hence it's 
      T , F , pi
      letters, LETTERS, version, month.name, month.abb, Hershey
(and a few more at most)
that you would care about.


    Jim> Caveat:  I am no guru
    Jim> Suggestion: There is a little function I included in "Kickstarting R"
    Jim> that might help you.

    Jim> dup.name <- function(name) {
    Jim>   if(is.character(name))
    Jim>   return(length(grep(name,objects(1:length(search())))) > 0)
    Jim>   cat("Usage: dup.name(name)\n\twhere name is a character string\n")
    Jim> }

I think you should use the standard function  
  conflicts()

Martin

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Jul 23 16:07:30 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 23 Jul 2001 16:07:30 +0200
Subject: [R] commercial purpose
In-Reply-To: <20010720072430.26117.qmail@web20105.mail.yahoo.com>
References: <20010720072430.26117.qmail@web20105.mail.yahoo.com>
Message-ID: <15196.12194.953331.357438@gargle.gargle.HOWL>

>>>>> "srinivasa" == srinivasa raghavan <sristatistician at yahoo.com> writes:

    srinivasa> Hi,
    srinivasa> I want to know can R language and the system be used
    srinivasa> for commercial purposes.

Yes, of course, the idea of free software is that anyone is free to *use*
it.

The GPL (GNU Public Licence) will come into play when you think about
distributing software that builds on top of R.
Note that I'm not at all the expert here.
Start reading  at  http://www.fsf.org/copyleft/gpl.html

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Mon Jul 23 17:27:34 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Mon, 23 Jul 2001 17:27:34 +0200 (MET DST)
Subject: [R] multivariate distance and apply
In-Reply-To: <x2itgka6ia.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.OSF.3.96.1010723172556.24289A-100000@ija.csic.es>


Hi!

I'm computing a mutivariate distance that is
not among the different options of dist. Hence
I've written
midistancia(v1,v2)
where v1 and v2 are vectors.

Now, I have to calculate the distances between
one given vector (V1) and a number of vectors
arranged as the rows of a matrix (stat). I'm
using

apply(stat, 1, midistancia, V1)

to apply midstancia to each row of stat.

The question is: is this the most efficient method
in R or is there a faster way to calculate midistancia
between V1 and the rows of stat?
(stat can become ~80000 rows x 7 cols)

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul 23 18:17:29 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 23 Jul 2001 17:17:29 +0100 (BST)
Subject: [R] multivariate distance and apply
In-Reply-To: <Pine.OSF.3.96.1010723172556.24289A-100000@ija.csic.es>
Message-ID: <Pine.LNX.4.31.0107231713130.13466-100000@gannet.stats>

On Mon, 23 Jul 2001, Agustin Lobo wrote:

>
> Hi!
>
> I'm computing a mutivariate distance that is
> not among the different options of dist. Hence
> I've written
> midistancia(v1,v2)
> where v1 and v2 are vectors.
>
> Now, I have to calculate the distances between
> one given vector (V1) and a number of vectors
> arranged as the rows of a matrix (stat). I'm
> using
>
> apply(stat, 1, midistancia, V1)
>
> to apply midstancia to each row of stat.
>
> The question is: is this the most efficient method
> in R or is there a faster way to calculate midistancia
> between V1 and the rows of stat?
> (stat can become ~80000 rows x 7 cols)

It entirely depends on what the distance actually is and if midistancia()
could be vectorized.  apply() in R just runs a for loop, and using for()
directly is probably slightly more efficient when the result (as here) is
a simple vector.

You need to supply more details!

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thoar at cgd.ucar.edu  Mon Jul 23 18:39:14 2001
From: thoar at cgd.ucar.edu (Tim Hoar)
Date: Mon, 23 Jul 2001 10:39:14 -0600 (MDT)
Subject: [R] pdfcolor (and more)
In-Reply-To: <15193.9292.946358.941285@mithrandir.hornik.net>
Message-ID: <Pine.GSO.4.30.0107231023010.10847-100000@laplace.cgd.ucar.edu>


Perhaps at one time it was included in pdftex ...

I downloaded     /pub/tex/local/cstug/thanh/pdftex/0.14h/pdftex-20010417.tgz
(The source of the distribution mentioned at the TUG site Kurt references.)

installed it ... and lo ... there is    NO   pdfcolor.tex   file in the
distribution. I downloaded it from the DUKE mirror with essentially the
same result.

As you can see from my original post ... I am using pdfTeX circa May, 2000
and the newest one (without pdfcolor.tex) is circa April 2001.

I also used the CTAN search for pdfcolor.tex to no avial, so I am guessing it
is not currently in the distribution.

What now?

In a message from Han The Thanh
http://www.tug.org/pipermail/pdftex/1999-December/006060.html

   "pdfcolor.tex redefines \makeheadline and \makefootline. Please notice
    that this file is for demonstration purpose only: LaTeX users should
    use graphicx/color package, and plain users are supposed to know what
    they are doing :). The first line of pdfcolor.tex says:

    % Very simple macros to show how to use colors with pdftex

    Perhaps I should remove the re-definition of \makeheadline and
    \makefootline from pdfcolor.tex, as it might be dangerous.

    Thanh"

So I wonder about building in a dependency.

The URL was pretty much "the only" hit for a google on pdfcolor.tex

Tim

> Date: Sat, 21 Jul 2001 08:42:20 +0200
> From: Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at>
> To: Tim Hoar <thoar at ucar.edu>
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] pdfcolor (and more)
>
> >>>>> Tim Hoar writes:
>
> > I am building R-1.3.0 on a Sun running Solaris 2.6 and have sorted
> > out all the "hard" stuff ... save this ...
>
> > When trying to make install-pdf, I run into an unknown file:
>
>
>
> > This is pdfTeX, Version 3.14159-14f-released-20000525 (Web2C 7.3.2x)
> > (/tmp/tmp.1742.16125/t2d13975/xtr/R-admin.texi{/opt/local/teTeX/share/texmf/pdf
> > tex/config/pdftex.cfg}
> > Babel <v3.6x> and hyphenation patterns for american, french, german, ngerman,
> > n
> > ohyphenation, loaded.
> > (texinfo.tex Loading texinfo [version 2001-05-24.08]: Basics, pdf,
> > ! I can't find file `pdfcolor'.
> > l.926   \input pdfcolor
>
> > Please type another input file name:
>
>
> > I searched through the CTAN site to no avail, downloaded and inflated
> > pdftex ... in short ... made quite an effort to locate pdfcolor to no avail.
>
> > Any hints?
>
> This is part of pdftex.
>
> See e.g.
> 	http://www.tug.org/applications/pdftex/
>
> -k
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

## Tim Hoar, Associate Scientist              email: thoar at ucar.edu     ##
## Geophysical Statistics Project             phone: 303-497-1708       ##
## National Center for Atmospheric Research   FAX  : 303-497-1333       ##
## Boulder, CO  80307                    http://www.cgd.ucar.edu/~thoar ##


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Mon Jul 23 19:43:44 2001
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Mon, 23 Jul 2001 13:43:44 -0400
Subject: [R] A useful GUI?
Message-ID: <3B5C6250.BC8DEE20@virginia.edu>

I saw an ad in the July 2001 Amstat News for a complex sample
survey analysis package called Wesvar.  The package has
what appears to be a useful feature called a "Workbook"
by which the user navigates analysis output.  This is a
hierarchical tree in which the user may click on a part
of the analysis (table, regression fit, descriptive stats,
etc.) so as to go directly to that output.  Recent versions
of SAS have something similar.  In SAS the title of a
graphic may be what appears in the navigation tree, and
clicking on that entry will replay the appropriate graph.

Has anyone had experience with such GUIs and would comment
on productivity or documentation benefits?  I wonder
what would be the most platform-independent way to
implement such a feature, e.g., dynamic html, if it is
useful to statisticians.

On a related note, I routinely use postscript files and
Ghostview for generating and debugging graphics.  Has
anyone seen an application like Ghostview that is more
dynamic?  I would like to have a multi-tabbed graphics
window that automatically refreshes a graph when the
postscript file changes and that graph is visable.  Tabs
could be identified by file names or by text used
in a title( ) call.  If postscript were an intrinsic
image type supported by html browers this could probably
be done elegantly with an html generator.
-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sxc11 at health.state.ny.us  Mon Jul 23 20:23:06 2001
From: sxc11 at health.state.ny.us (Shuguang Chen)
Date: Mon, 23 Jul 2001 14:23:06 -0400
Subject: [R] Importance measure in Rpart or Tree
Message-ID: <200107231823.OAA05005@gate1.health.state.ny.us>

Hi, all
I wonder whether anyone can tell me whether there is an importance measure
of variables for classification and regression trees in Rpart or Tree. I
know Tree in the SAS Enterprise Miner has importance table where list all
the varialbes in the tree model and correspoding importance for the whole
tree.

Thank you.
Shuguang Chen

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Mon Jul 23 21:43:11 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Tue, 24 Jul 2001 07:43:11 +1200
Subject: [R] plotting dendrograms
In-Reply-To: <3B5C789F.78463ADE@ukans.edu>
Message-ID: <GAELKJBFMIGCMOMAFDBHIEIJCAAA.Ko-Kang@xtra.co.nz>

Hi,

mva should come from the base -at least for Windows, but I think it does come with the base in any platforms.

MASS library is the VR package, which has "Various functions from the libraries of Venables and Ripley, `Modern Applied Statistics with S-PLUS' (3rd edition). "  You can get it from CRAN (http://cran.r-project.org/) and compile from source.

Hope this helps,

Kevin

-------------------------------------------------------------------------------------------- 
Ko-Kang Kevin Wang
Head of Statistical Analysis Division
Software Developers' Klub (SDK)
University of Auckland
New Zealand

-----Original Message-----
From: pauljohn at lark.cc.ku.edu [mailto:pauljohn at lark.cc.ku.edu]On Behalf Of Paul E Johnson
Sent: Tuesday, July 24, 2001 7:19 AM
To: Ko-Kang Wang
Subject: Re: [R] plotting dendrograms


In R 1.3 on linux, I don't have a function tree in MASS or mva. Where do
you get it?
 
I see this:

> ?tree
Error in help(tree) : No documentation for `tree' in specified packages
and libraries:
  you could try `help.search("tree")'
> library(MASS)
> ?tree
Error in help(tree) : No documentation for `tree' in specified packages
and libraries:
  you could try `help.search("tree")'
> library(mva)
> ?tree
Error in help(tree) : No documentation for `tree' in specified packages
and libraries:
  you could try `help.search("tree")'
> 

pj

Ko-Kang Wang wrote:
> 
> Hi David,
> 
> I found the mva library to be very useful in this case.  Functions like hclust() is pretty useful and you can specify the method you want to use (like kmeans...etc).
> 
> Even use tree(), I think it is possible to add text into it.  I had a look at the tree() documentation by typing:
>     ?tree
> and found an example:
>      library(MASS)
>      data(cpus)
>      cpus.ltr <- tree(log10(perf) ~ syct+mmin+mmax+cach+chmin+chmax, cpus)
>      cpus.ltr
>      summary(cpus.ltr)
>      plot(cpus.ltr);  text(cpus.ltr)
> 
> The last command text(cpus.ltr) adds in the text.
> 
> Hope this helps,
> 
> Kevin
> 
> ------------------------------------------------------------------------------------------
-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul 23 22:11:58 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 23 Jul 2001 21:11:58 +0100 (BST)
Subject: [R] plotting dendrograms
In-Reply-To: <GAELKJBFMIGCMOMAFDBHIEIJCAAA.Ko-Kang@xtra.co.nz>
Message-ID: <Pine.GSO.4.31.0107232109140.22425-100000@auk.stats>

On Tue, 24 Jul 2001, Ko-Kang Wang wrote:

> mva should come from the base -at least for Windows, but I think it does come with the base in any platforms.

mva is in all (funtional) R installations.

> MASS library is the VR package, which has "Various functions from the libraries of Venables and Ripley, `Modern Applied Statistics with S-PLUS' (3rd edition). "  You can get it from CRAN (http://cran.r-project.org/) and compile from source.

MASS should be in all R installations as of 1.3.0: it is a `recommended'
package.

tree() in in package tree, though (get it from CRAN).  The examples in
Venables & Ripley should suffice to make use of it, although rpart is
preferred (by me, the maintainer of both).

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Mon Jul 23 22:53:15 2001
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Mon, 23 Jul 2001 15:53:15 -0500 (CDT)
Subject: [R] Non R probability question
Message-ID: <200107232053.PAA10021@uhddx01.dt.uh.edu>

Dear R People:

Here is a non-R probability question, please:

There is a problem, originally posed from an American game show,
called "Let's Make a Deal."

A contestant makes a selection of one door, from Doors 1 through 3.
He or she knows that there are 2 goats and 1 car behind those doors.
Once the contestant makes the selection, say Door 2, then the host,
Monty Hall, tells him that there is a goat behind Door 1, and would
he like to stay with the original Door 2 or switch to Door 3.

There is a nice journal article dealing with this, but I can't find
the reference.  I do remember that there were pictures of goats in
the margins of the article.  (Scary).

Anyhow, does anyone have the reference, please?

Thanks in advance for any help.

Sincerely,
Erin M. Hodgess, Ph.D.
Associate Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
One Main Street 
Houston, TX 77002
e-mail: hodgess at uhddx01.dt.uh.edu


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jul 23 23:53:55 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Jul 2001 23:53:55 +0200
Subject: [R] pdfcolor (and more)
In-Reply-To: Tim Hoar's message of "Mon, 23 Jul 2001 10:39:14 -0600 (MDT)"
References: <Pine.GSO.4.30.0107231023010.10847-100000@laplace.cgd.ucar.edu>
Message-ID: <x21yn771n0.fsf@blueberry.kubism.ku.dk>

Tim Hoar <thoar at cgd.ucar.edu> writes:

> Perhaps at one time it was included in pdftex ...
> 
> I downloaded     /pub/tex/local/cstug/thanh/pdftex/0.14h/pdftex-20010417.tgz
> (The source of the distribution mentioned at the TUG site Kurt references.)
> 
> installed it ... and lo ... there is    NO   pdfcolor.tex   file in the
> distribution. I downloaded it from the DUKE mirror with essentially the
> same result.
> 
> As you can see from my original post ... I am using pdfTeX circa May, 2000
> and the newest one (without pdfcolor.tex) is circa April 2001.
> 
> I also used the CTAN search for pdfcolor.tex to no avial, so I am guessing it
> is not currently in the distribution.
> 
> What now?

Hmmm. Sounds like we need to investigate a little. The file *is*
present in tetex 1.0.7:

[pd at butterfly R]$ rpm -qf /usr/share/texmf/pdftex/plain/misc/pdfcolor.tex
tetex-1.0.7-15

The file itself has a bunch of color definition, as in

\def\cmykGreenYellow{0.15 0 0.69 0}
\def\cmykYellow{0 0 1 0}
...
\def\GreenYellow{\pdfsetcolor{\cmykGreenYellow}}
\def\Yellow{\pdfsetcolor{\cmykYellow}}
...

and the following stuff at the end:

\def\pdfsetcolor#1{\pdfliteral{#1 k}}
\def\setcolor#1{\mark{#1}\pdfsetcolor{#1}}

\pdfoutput=1
\def\maincolor{\cmykBlack}
\pdfsetcolor{\maincolor}

\def\makefootline{
    \baselineskip24pt
    \line{\pdfsetcolor{\maincolor}\the\footline}}

\def\makeheadline{%
    \edef\M{\topmark}
    \ifx\M\empty\let\M=\maincolor\fi
    \vbox to 0pt{\vskip-22.5pt
        \line{\vbox to8.5pt{}%
        \pdfsetcolor{\maincolor}\the\headline\pdfsetcolor{\M}}\vss}%
    \nointerlineskip}


You might want to investigate whether that code got migrated to other
parts of pdftex...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jul 24 00:15:39 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Jul 2001 00:15:39 +0200
Subject: [R] A useful GUI?
In-Reply-To: Frank E Harrell Jr's message of "Mon, 23 Jul 2001 13:43:44 -0400"
References: <3B5C6250.BC8DEE20@virginia.edu>
Message-ID: <x2y9pf5m2c.fsf@blueberry.kubism.ku.dk>

Frank E Harrell Jr <fharrell at virginia.edu> writes:

> I saw an ad in the July 2001 Amstat News for a complex sample
> survey analysis package called Wesvar.  The package has
> what appears to be a useful feature called a "Workbook"
> by which the user navigates analysis output.  This is a
> hierarchical tree in which the user may click on a part
> of the analysis (table, regression fit, descriptive stats,
> etc.) so as to go directly to that output.  Recent versions
> of SAS have something similar.  In SAS the title of a
> graphic may be what appears in the navigation tree, and
> clicking on that entry will replay the appropriate graph.
> 
> Has anyone had experience with such GUIs and would comment
> on productivity or documentation benefits?  I wonder
> what would be the most platform-independent way to
> implement such a feature, e.g., dynamic html, if it is
> useful to statisticians.

I've tried the SAS stuff (the Analyst application). It's a fairly neat
idea, but you do need to put in a substantial effort to relabel the
stuff and delete any "junk" output, or find yourself with a bunch of
litle icons all having similar generic names like "Probability plot" or
"ANOVA output" (I forget the exact names, but you get the picture).
There was a strange division between SAS programming and Analyst in
that *only* code executed from Analyst would go into the project tree,
nicely incorporating the SAS code that Analyst had written for you,
but excuting SAS code directly would go to a *different* tree, which
did *not* include the code that was executed.

The version I tried (SAS 8.0) was also bug-ridden beyond belief.
Suddenly, the system would get itself into a state where the tree
could no longer be saved, detracting rather badly from the usefulness.
They might have fixed that in the meantime though.

The newer Enterprise Guide stuff is reportedly neater, but we never
succeeded in getting it to run on any of our PC SAS installations
(seemingly, it was not prepared for our particular network
configuration).

It's the sort of thing that it might be easy to code in Tcl/Tk, and
which I do have some plans of returning to .. in the fullness of time
. when other obligations allow .. etc.... 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Tue Jul 24 00:09:38 2001
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Mon, 23 Jul 2001 17:09:38 -0500 (CDT)
Subject: [R] non-R probability question
Message-ID: <200107232209.RAA10783@uhddx01.dt.uh.edu>

Regarding the Probability Problem:

I just found many websites on the Internet referring to the 
"Monty Hall Problem."  I forgot that it also goes by that name!

Thanks anyway!

Sincerely,
Erin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jul 24 00:24:40 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Jul 2001 00:24:40 +0200
Subject: [R] Non R probability question
In-Reply-To: Erin Hodgess's message of "Mon, 23 Jul 2001 15:53:15 -0500 (CDT)"
References: <200107232053.PAA10021@uhddx01.dt.uh.edu>
Message-ID: <x2vgkj5lnb.fsf@blueberry.kubism.ku.dk>

Erin Hodgess <hodgess at uhddx01.dt.uh.edu> writes:

> Dear R People:
> 
> Here is a non-R probability question, please:
> 
> There is a problem, originally posed from an American game show,
> called "Let's Make a Deal."
> 
> A contestant makes a selection of one door, from Doors 1 through 3.
> He or she knows that there are 2 goats and 1 car behind those doors.
> Once the contestant makes the selection, say Door 2, then the host,
> Monty Hall, tells him that there is a goat behind Door 1, and would
> he like to stay with the original Door 2 or switch to Door 3.
> 
> There is a nice journal article dealing with this, but I can't find
> the reference.  I do remember that there were pictures of goats in
> the margins of the article.  (Scary).
> 
> Anyhow, does anyone have the reference, please?
> 
> Thanks in advance for any help.
> 
> Sincerely,
> Erin M. Hodgess, Ph.D.

Whew! For a minute, I thought you were asking for a discussion of the
solution. This has been wasting bandwidth on numerous mailing lists
over time....

Try a Google search for 

"Marilyn vos Savant Monte Hall"

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murphyk at cs.berkeley.edu  Tue Jul 24 03:00:31 2001
From: murphyk at cs.berkeley.edu (Kevin Murphy)
Date: Mon, 23 Jul 2001 18:00:31 -0700
Subject: [R] bug in residuals.rpart?
Message-ID: <3B5CC8AF.390B4DFA@cs.berkeley.edu>

The following code

  tr <- rpart(Y ~ ., dat, method="class")
  dev <- residuals(tr, "deviance")

produces the following error

Error in log(x) : Non-numeric argument to mathematical function

> .Traceback
[[1]]
[1] "log(yhat)" # line 588 of rpart

[[2]]
[1] "switch(type, usual = as.integer(y != yhat), pearson = (1 -
yhat)/yhat, "
[2] "    deviance = -2 *
log(yhat))"                                         

[[3]]
[1] "residuals.rpart(tr, \"deviance\")"

[[4]]
[1] "residuals(tr, \"deviance\")"


The problem is that tr$frame does not contain a field called 'yprob'.

I created the dat matrix above as follows

set.seed(123)
Nvars <- 4;
Nsamples <- 1000;
N <- Nvars*Nsamples;
dat <- matrix(sample(1:2, N, c(0.5,0.5), replace=TRUE), Nsamples, Nvars)
#dat <- sample.bnet(bnet, 30)
dat <- as.data.frame(dat)
for (i in 1:Nvars) {
   dat[,i]<- factor(dat[,i], 1:2)
}
names(dat) <- c(paste("X", 1:3, sep=""), "Y")


This is the tree it learned

1) root 1000 493 1 (0.5070000 0.4930000)  
  2) X2=1 485 221 1 (0.5443299 0.4556701) *
  3) X2=2 515 243 2 (0.4718447 0.5281553) *


This also happens if the distribution  generating 'dat' is not uniform
(e.g., sampled from a Bayes net, so the tree is "more interesting"),
although mysteriously rpart seems to work on MASS/cpus.


Kevin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Tue Jul 24 03:36:21 2001
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Tue, 24 Jul 2001 13:36:21 +1200
Subject: [R] A useful GUI?
References: <3B5C6250.BC8DEE20@virginia.edu> <x2y9pf5m2c.fsf@blueberry.kubism.ku.dk>
Message-ID: <00dd01c113e1$0b6285a0$175dd882@stat.auckland.ac.nz>

Hi


> > I saw an ad in the July 2001 Amstat News for a complex sample
> > survey analysis package called Wesvar.  The package has
> > what appears to be a useful feature called a "Workbook"
> > by which the user navigates analysis output.  This is a
> > hierarchical tree in which the user may click on a part
> > of the analysis (table, regression fit, descriptive stats,
> > etc.) so as to go directly to that output.  Recent versions
> > of SAS have something similar.  In SAS the title of a
> > graphic may be what appears in the navigation tree, and
> > clicking on that entry will replay the appropriate graph.
> >
> > Has anyone had experience with such GUIs and would comment
> > on productivity or documentation benefits?  I wonder
> > what would be the most platform-independent way to
> > implement such a feature, e.g., dynamic html, if it is
> > useful to statisticians.
>
> I've tried the SAS stuff (the Analyst application). It's a fairly neat
> idea, but you do need to put in a substantial effort to relabel the
> stuff and delete any "junk" output, or find yourself with a bunch of
> litle icons all having similar generic names like "Probability plot" or
> "ANOVA output" (I forget the exact names, but you get the picture).
> There was a strange division between SAS programming and Analyst in
> that *only* code executed from Analyst would go into the project tree,
> nicely incorporating the SAS code that Analyst had written for you,
> but excuting SAS code directly would go to a *different* tree, which
> did *not* include the code that was executed.
>
> The version I tried (SAS 8.0) was also bug-ridden beyond belief.
> Suddenly, the system would get itself into a state where the tree
> could no longer be saved, detracting rather badly from the usefulness.
> They might have fixed that in the meantime though.
>
> The newer Enterprise Guide stuff is reportedly neater, but we never
> succeeded in getting it to run on any of our PC SAS installations
> (seemingly, it was not prepared for our particular network
> configuration).


SPSS has a similar thing for navigating its output.  I found it extremely
useful for navigation
 -- I think its a great way to present the hierarchical nature of the output
as a complement to the very "flat" view that you get from the output
itself -- but it was also useful for *selecting* bits of the output for
copying or deletion.

I think this would also be a nice way to navigate the hierarchical structure
of graphical output (for selecting/editing elements of a graph).

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Tue Jul 24 03:22:39 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Mon, 23 Jul 2001 21:22:39 -0400 (EDT)
Subject: [R] non-R probability question
Message-ID: <200107240122.VAA26502@cattell.psych.upenn.edu>

The best article, by far, on this off-topic topic is:

Nickerson, Raymond S. Ambiguities and unstated assumptions in
probabilistic reasoning. Psychological Bulletin. Vol 120(3), Nov
1996, 410-433.

Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~baron

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul 24 09:21:30 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 24 Jul 2001 08:21:30 +0100 (BST)
Subject: [R] pdfcolor (and more)
In-Reply-To: <x21yn771n0.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.31.0107240804130.22663-100000@auk.stats>

On 23 Jul 2001, Peter Dalgaard BSA wrote:

> Tim Hoar <thoar at cgd.ucar.edu> writes:
>
> > Perhaps at one time it was included in pdftex ...
> >
> > I downloaded     /pub/tex/local/cstug/thanh/pdftex/0.14h/pdftex-20010417.tgz
> > (The source of the distribution mentioned at the TUG site Kurt references.)
> >
> > installed it ... and lo ... there is    NO   pdfcolor.tex   file in the
> > distribution. I downloaded it from the DUKE mirror with essentially the
> > same result.

> > As you can see from my original post ... I am using pdfTeX circa May, 2000
> > and the newest one (without pdfcolor.tex) is circa April 2001.
> >
> > I also used the CTAN search for pdfcolor.tex to no avial, so I am guessing it
> > is not currently in the distribution.
> >
> > What now?

Install a current teTeX, fptex or MikTeX, all of which AFAIK have the file?

AFAIK pdfcolor.tex is only used by R in texi2dvi, and so one probably needs
to look to the texinfo maintainers for what *they* are expecting.
Given the low level of support for texi2dvi --pdf, perhaps we need to ship
pdfcolor.tex (as we already ship texinfo.tex).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Jul 24 10:10:22 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 24 Jul 2001 10:10:22 +0200 (MET DST)
Subject: [R] segmentation fault
Message-ID: <Pine.OSF.3.96.1010724100815.2381A-100000@ija.csic.es>


I'm experiencing segmentation faults from time to time
that abruptely end my R sesion. In such cases, is there
any way to recover the work done? (i.e., is there 
any temporal file that I could use?)

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Jul 24 11:32:08 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 24 Jul 2001 11:32:08 +0200
Subject: [R] non-R probability question
In-Reply-To: <200107240122.VAA26502@cattell.psych.upenn.edu>
References: <200107240122.VAA26502@cattell.psych.upenn.edu>
Message-ID: <15197.16536.737512.920246@gargle.gargle.HOWL>


>>>>> "Jonathan" == Jonathan Baron <baron at cattell.psych.upenn.edu> writes:
    Jonathan> The best article, by far, on this off-topic topic is:

    Jonathan> Nickerson, Raymond S. Ambiguities and unstated assumptions in
    Jonathan> probabilistic reasoning. Psychological Bulletin. Vol 120(3),
    Jonathan> Nov 1996, 410-433.
(don't know yet the above)

The topic also runs under "The Goat Problem",
and in German, there's even a nice little book

 @Book{vRaG92,
   author = 	 {Gero von Randow},
   title = 	 {Das Ziegenproblem; Denken in Wahrscheinlichkeiten},
   language = {g},
   publisher = 	 {Rowolt Taschenbuch Verlag},
   year = 	 1992
 }


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Tue Jul 24 11:57:41 2001
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Tue, 24 Jul 2001 11:57:41 +0200
Subject: [R] segmentation fault
Message-ID: <OF055775D1.E5CB1F25-ONC1256A93.0035E480@eurotel.cz>


Hi,

I had experienced some segmentation faults ("SIGSEGV" on Linux) on my Linux
RH 7.0
box at home, I know and use one, not very clever way:

>save.image(file="foo")
or just
>save.image() # to .RData

often enough to prevent loss of large part of work.
Probably the R veterans will give you better advice, but this method was OK
for me.

Jan
-------------------------------------------------
designed for _monospaced_ font
-------------------------------------------------
/- Jan Svatos,              Sokolovska 855/225 -/
/- Data Analyst,            Prague 9           -/
/- Eurotel Praha            190 00             -/
/- jan_svatos at eurotel.cz    Czechia            -/
-------------------------------------------------





                                                                                                                          
                    Agustin Lobo                                                                                          
                    <alobo at ija.csic.es>         Komu:   r-help <r-help at stat.math.ethz.ch>                                 
                    Odeslal:                    Kopie:                                                                    
                    owner-r-help at stat.ma        P?edm?t:     [R] segmentation fault                                       
                    th.ethz.ch                                                                                            
                                                                                                                          
                                                                                                                          
                    07/24/01 10:10 AM                                                                                     
                                                                                                                          
                                                                                                                          




I'm experiencing segmentation faults from time to time
that abruptely end my R sesion. In such cases, is there
any way to recover the work done? (i.e., is there
any temporal file that I could use?)

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul 24 12:13:11 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 24 Jul 2001 11:13:11 +0100 (BST)
Subject: [R] segmentation fault
In-Reply-To: <OF055775D1.E5CB1F25-ONC1256A93.0035E480@eurotel.cz>
Message-ID: <Pine.LNX.4.31.0107241107420.17510-100000@gannet.stats>

On Tue, 24 Jul 2001 Jan_Svatos at eurotel.cz wrote:

>
> Hi,
>
> I had experienced some segmentation faults ("SIGSEGV" on Linux) on my Linux
> RH 7.0
> box at home, I know and use one, not very clever way:
>
> >save.image(file="foo")
> or just
> >save.image() # to .RData
>
> often enough to prevent loss of large part of work.
> Probably the R veterans will give you better advice, but this method was OK
> for me.

It is more or less the only way.  When there is a segfault, nothing is
saved automatically.

1) Do not rely on saving your workspace in R, but keep enough information
to reproduce objects as needed.  Old-timers expected segfaults frequently
(but see below).

2) Segfaults are bugs.  If you are not linking in compiled code, they are
bugs in one of R, any contributed packages or your OS, so please report
them as described in the FAQ.  However, given your OS is RH7.0, the third
of those possibilities is not unlikely.  On a reliable OS, segfaults in R
should be rather rare: apart from using package foreign (where a couplke
of errors have been corrected recently) I have not seen one for a couple
of months at least.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Jul 24 13:23:09 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 24 Jul 2001 13:23:09 +0200 (MET DST)
Subject: [R] Memory
In-Reply-To: <Pine.LNX.4.31.0107241107420.17510-100000@gannet.stats>
Message-ID: <Pine.OSF.3.96.1010724132016.7025A-100000@ija.csic.es>


The R-Intro guide states:

"In addition, there are options for controlling the memory available to
the R process (see
the on-line help for topic `Memory' for more information)."

But cannot find any entry for Memory or memory in
the R help system. Are there any advices for starting
R with particular options for working with large objects and/or
long for (or lapply) loops?

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Jul 24 13:43:10 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 24 Jul 2001 13:43:10 +0200 (MET DST)
Subject: [R] restoring data
In-Reply-To: <Pine.LNX.4.31.0107241107420.17510-100000@gannet.stats>
Message-ID: <Pine.OSF.3.96.1010724133943.7025B-100000@ija.csic.es>


Hi!

How can I start R restoring data from a file
different than .RData ?

I've tried 

R --restore file

and does not work.

Also, if I start R as

R --no-restore

is it possible to restore an R file
from within R? 

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul 24 13:50:24 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 24 Jul 2001 12:50:24 +0100 (GMT Daylight Time)
Subject: [R] restoring data
In-Reply-To: <Pine.OSF.3.96.1010724133943.7025B-100000@ija.csic.es>
Message-ID: <Pine.WNT.4.31.0107241248270.1008-100000@gannet>

On Tue, 24 Jul 2001, Agustin Lobo wrote:

> How can I start R restoring data from a file
> different than .RData ?
>
> I've tried
>
> R --restore file
>
> and does not work.

(Well, it does not work under Linux: it does under Windows, to allow
drag-and-drop, and may one day elsewhere.)

> Also, if I start R as
>
> R --no-restore
>
> is it possible to restore an R file
> from within R?

See ?load for an example.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul 24 13:52:27 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 24 Jul 2001 12:52:27 +0100 (GMT Daylight Time)
Subject: [R] Memory
In-Reply-To: <Pine.OSF.3.96.1010724132016.7025A-100000@ija.csic.es>
Message-ID: <Pine.WNT.4.31.0107241250360.1008-100000@gannet>

On Tue, 24 Jul 2001, Agustin Lobo wrote:

> The R-Intro guide states:
>
> "In addition, there are options for controlling the memory available to
> the R process (see
> the on-line help for topic `Memory' for more information)."
>
> But cannot find any entry for Memory or memory in
> the R help system. Are there any advices for starting
> R with particular options for working with large objects and/or
> long for (or lapply) loops?

If ?Memory fails, your version of R is broken.  That is where the advice is
(and generally it is to leave well alone unless you need to limit the
memory usage or you are on Windows).  So you need to correct your
installation of R, it seems.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pols1oh at bestweb.net  Tue Jul 24 14:00:38 2001
From: pols1oh at bestweb.net (Micheall Taylor)
Date: Tue, 24 Jul 2001 08:00:38 -0400 (EDT)
Subject: [R] Memory/data -last time I promise
Message-ID: <200107241200.f6OC0cp01958@localhost.localdomain>



I've seen several posts over the past 2-3 weeks about memory issues.  I've
tried to carefully follow the suggestions, but remain baffled as to why I
can't load data into R.  I hope that in revisiting this issue that I don't
exasperate the list.

The setting: 
1 gig RAM , Linux machine
10 Stata files of approximately 14megs each
File contents appear at the end of this boorishly long email.

Purpose: 
load and combine in R for further analysis

Question:

1) I've placed memory queries in the command file to see what is going on. 
It appears that loading a 14meg file consumes approx 5 times this amount of
memory - i.e. available memory declines by 70megs when a 14 meg dataset is
loaded. (Seen in Method 2 below)
2) Ultimately I would like to replace Stata with R, but the Stata datasets
I frequently use are in the 100s of megs, which work fine on this machine.
Is R capable of this?


The command files:

I've attempted the process in to ways (each time as regular user
(ulimit=unlimited; and as root on the system to avoid OS restrictions). 
The first method is as follows:

METHOD ONE

R --no-save --max-vsize=800M < QuickLook.R > QuickLook.log
========   QuickLook.log follows ================
> library(foreign)
> a <- Sys.time()
> full <- read.dta('../off/off10yr1.dta')
> gc()
          used (Mb) gc trigger (Mb) limit (Mb)
Ncells 1018821 27.3    1166886 31.2         NA
Vcells 4456284 34.0    5070089 38.7        800
> system('cat /proc/meminfo')
        total:    used:    free:  shared: buffers:  cached:
Mem:  1073303552 696303616 376999936        0 21487616 36982784
Swap: 271392768 263294976  8097792
MemTotal:   1048148 kB
MemFree:     368164 kB
MemShared:        0 kB
Buffers:      20984 kB
Cached:       36116 kB
BigTotal:    131064 kB
BigFree:          0 kB
SwapTotal:   265032 kB
SwapFree:      7908 kB
> n <- 2
> while (n<=3) {
+       fname1 <- paste('../off/off10yr',n,'.dta', sep="")
+       full <- rbind(read.dta(fname1),  full)
+       gc()
+       system('cat /proc/meminfo')
+       n
+       n <- n+1}
        total:    used:    free:  shared: buffers:  cached:
Mem:  1073303552 780275712 293027840        0 21487616 51609600
Swap: 271392768 263294976  8097792
MemTotal:   1048148 kB
MemFree:     286160 kB
MemShared:        0 kB
Buffers:      20984 kB
Cached:       50400 kB
BigTotal:    131064 kB
BigFree:          0 kB
SwapTotal:   265032 kB
SwapFree:      7908 kB
Error: cannot allocate vector of size 3291 Kb
Execution halted



SECOND METHOD


> library(foreign)
> system('cat /proc/meminfo')
        total:    used:    free:  shared: buffers:  cached:
Mem:  1073303552 637681664 435621888        0 21753856 31592448
Swap: 271392768 261148672 10244096
MemTotal:   1048148 kB
MemFree:     425412 kB
MemShared:        0 kB
Buffers:      21244 kB
Cached:       30852 kB
BigTotal:    131064 kB
BigFree:          0 kB
SwapTotal:   265032 kB
SwapFree:     10004 kB
> a <- Sys.time()
> full1 <- read.dta('../off/off10yr1.dta')
> gc()
          used (Mb) gc trigger (Mb) limit (Mb)
Ncells 1018825 27.3    1166886 31.2         NA
Vcells 4456285 34.0    5070086 38.7        800
> system('cat /proc/meminfo')
        total:    used:    free:  shared: buffers:  cached:
Mem:  1073303552 707162112 366141440        0 21757952 45498368
Swap: 271392768 261148672 10244096
MemTotal:   1048148 kB
MemFree:     357560 kB
MemShared:        0 kB
Buffers:      21248 kB
Cached:       44432 kB
BigTotal:    131064 kB
BigFree:          0 kB
SwapTotal:   265032 kB
SwapFree:     10004 kB
> full2 <- read.dta('../off/off10yr2.dta')
> gc()
          used (Mb) gc trigger (Mb) limit (Mb)
Ncells 1861390 49.8    2105982 56.3         NA
Vcells 8879476 67.8    9315972 71.1        800
> system('cat /proc/meminfo')
        total:    used:    free:  shared: buffers:  cached:
Mem:  1073303552 777375744 295927808        0 21757952 59826176
Swap: 271392768 261148672 10244096
MemTotal:   1048148 kB
MemFree:     288992 kB
MemShared:        0 kB
Buffers:      21248 kB
Cached:       58424 kB
BigTotal:    131064 kB
BigFree:          0 kB
SwapTotal:   265032 kB
SwapFree:     10004 kB
> full3 <- read.dta('../off/off10yr3.dta')
> gc()
           used  (Mb) gc trigger  (Mb) limit (Mb)
Ncells  2703952  72.3    3708127  99.1         NA
Vcells 13302667 101.5   14190661 108.3        800
> system('cat /proc/meminfo')
        total:    used:    free:  shared: buffers:  cached:
Mem:  1073303552 847650816 225652736        0 21757952 74153984
Swap: 271392768 261148672 10244096
MemTotal:   1048148 kB
MemFree:     220364 kB
MemShared:        0 kB
Buffers:      21248 kB
Cached:       72416 kB
BigTotal:    131064 kB
BigFree:          0 kB
SwapTotal:   265032 kB
SwapFree:     10004 kB
> full4 <- read.dta('../off/off10yr4.dta')
> gc()
           used  (Mb) gc trigger  (Mb) limit (Mb)
Ncells  3546514  94.8    4953636 132.3         NA
Vcells 17725858 135.3   18735437 143.0        800
> system('cat /proc/meminfo')
        total:    used:    free:  shared: buffers:  cached:
Mem:  1073303552 917798912 155504640        0 21762048 88481792
Swap: 271392768 261148672 10244096
MemTotal:   1048148 kB
MemFree:     151860 kB
MemShared:        0 kB
Buffers:      21252 kB
Cached:       86408 kB
BigTotal:    131064 kB
BigFree:          0 kB
SwapTotal:   265032 kB
SwapFree:     10004 kB
> full5 <- read.dta('../off/off10yr5.dta')
> gc()
           used  (Mb) gc trigger  (Mb) limit (Mb)
Ncells  4389076 117.3    6193578 165.4         NA
Vcells 22149049 169.0   23279670 177.7        800
> system('cat /proc/meminfo')
        total:    used:    free:  shared: buffers:  cached:
Mem:  1073303552 988033024 85270528        0 21770240 102809600
Swap: 271392768 261148672 10244096
MemTotal:   1048148 kB
MemFree:      83272 kB
MemShared:        0 kB
Buffers:      21260 kB
Cached:      100400 kB
BigTotal:    131064 kB
BigFree:          0 kB
SwapTotal:   265032 kB
SwapFree:     10004 kB
> full6 <- read.dta('../off/off10yr6.dta')
> gc()
           used  (Mb) gc trigger  (Mb) limit (Mb)
Ncells  5231638 139.7    7700734 205.7         NA
Vcells 26572240 202.8   27312192 208.4        800
> system('cat /proc/meminfo')
        total:    used:    free:  shared: buffers:  cached:
Mem:  1073303552 1058263040 15040512        0 21774336 117137408
Swap: 271392768 261148672 10244096
MemTotal:   1048148 kB
MemFree:      14688 kB
MemShared:        0 kB
Buffers:      21264 kB
Cached:      114392 kB
BigTotal:    131064 kB
BigFree:          0 kB
SwapTotal:   265032 kB
SwapFree:     10004 kB
> full7 <- read.dta('../off/off10yr7.dta')
> gc()
           used  (Mb) gc trigger  (Mb) limit (Mb)
Ncells  6074200 162.2    8572058 228.9         NA
Vcells 30995431 236.5   31726362 242.1        800
> system('cat /proc/meminfo')
        total:    used:    free:  shared: buffers:  cached:
Mem:  1073303552 1069006848  4296704        0 21471232 72318976
Swap: 271392768 261148672 10244096
MemTotal:   1048148 kB
MemFree:       4196 kB
MemShared:        0 kB
Buffers:      20968 kB
Cached:       70624 kB
BigTotal:    131064 kB
BigFree:          0 kB
SwapTotal:   265032 kB
SwapFree:     10004 kB
> full8 <- read.dta('../off/off10yr8.dta')
Error: cannot allocate vector of size 1645 Kb
Execution halted


THIRD METHOD

I combined the the stata files in stata (same machine) and saved them as a
single file thinking there could be an inefficiency with  rbind(). Same
error code.


TO ASSURE YOU THAT I AM NOT CRAZY, THE FOLLOWING IS A SAMPLE DIRECTORY
LISTING OF THE FILES OF INTEREST

-rw-r--r--    1 ctaylor  econ          14M Jun 27 16:15 off10yr5.dta
-rw-r--r--    1 ctaylor  econ          14M Jun 27 17:53 off10yr6.dta
-rw-r--r--    1 ctaylor  econ          14M Jun 27 19:30 off10yr7.dta
-rw-r--r--    1 ctaylor  econ          14M Jun 27 21:08 off10yr8.dta
-rw-r--r--    1 ctaylor  econ          14M Jun 27 23:02 off10yr9.dt


DATA CONTENTS (IN TEXT FORM OF COURSE)

head off10yr1.out
scenario        metcode yr      ginv    cons    gocc    abs     dvac    gmre    gmer
1       "AA"    2001    .04     3384000 .047    3641000 -.006   .025    .028
1       "AA"    2002    .042    3657000 .046    3716000 -.004   .034    .035
1       "AA"    2003    .031    2816000 .047    3972000 -.015   .051    .056
1       "AA"    2004    .035    3271000 .046    4064000 -.01    .075    .078
1       "AA"    2005    .037    3636000 .037    3444000 0       .084    .084
1       "AA"    2006    .041    4183000 .035    3315000 .006    .118    .116
1       "AA"    2007    .043    4513000 .019    1915000 .021    .094    .086
1       "AA"    2008    .039    4320000 .034    3431000 .005    .068    .066
1       "AA"    2009    .034    3848000 .05     5262000 -.015   .057    .063




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Jul 24 14:11:31 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 24 Jul 2001 14:11:31 +0200 (MET DST)
Subject: [R] Memory and segmentation faults
In-Reply-To: <Pine.WNT.4.31.0107241250360.1008-100000@gannet>
Message-ID: <Pine.OSF.3.96.1010724140541.7025D-100000@ija.csic.es>


On Tue, 24 Jul 2001, Prof Brian D Ripley wrote:

> If ?Memory fails, your version of R is broken.  That is where the advice is
> (and generally it is to leave well alone unless you need to limit the
> memory usage or you are on Windows).  So you need to correct your
> installation of R, it seems.
> 

After the segfault, I restarted R and had some strange behaviour
(i.e., could not find anything for ?Memory). I've restarted the
machine and it seems to work. 

I'm pretty sure the segfaults are due to my machine. I'm
geting another one sometime (hopefully) soon. If the same behaviour
goes on with the new machine, I'll fill the bug report.

Agus

 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Tue Jul 24 15:57:08 2001
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Tue, 24 Jul 2001 15:57:08 +0200
Subject: [R] evaluating keystroke
Message-ID: <3B5D7EB4.2403FA52@psy.uni-muenchen.de>

Hi all,

is it possible that a R function wait for a keystroke (as the demo()
function do) and evaluate the pressed key?

Thanks, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul 24 17:36:00 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 24 Jul 2001 16:36:00 +0100 (BST)
Subject: [R] evaluating keystroke
In-Reply-To: <3B5D7EB4.2403FA52@psy.uni-muenchen.de>
Message-ID: <Pine.LNX.4.31.0107241631330.16494-100000@gannet.stats>

On Tue, 24 Jul 2001, Sven Garbade wrote:

> Hi all,
>
> is it possible that a R function wait for a keystroke (as the demo()
> function do) and evaluate the pressed key?

Not really.  In general you need to hit Return to get any input
into R, and the readline() function is one way to do this.  The
platform-specific input routines wait for a complete line (indicated by
hitting Return) before passing the line onto R.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Tue Jul 24 17:57:04 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Tue, 24 Jul 2001 16:57:04 +0100
Subject: [R] evaluating keystroke
In-Reply-To: <3B5D7EB4.2403FA52@psy.uni-muenchen.de>
References: <3B5D7EB4.2403FA52@psy.uni-muenchen.de>
Message-ID: <JFG65jAQrZX7Ewdm@myatt.demon.co.uk>

Sven Garbade <garbade at psy.uni-muenchen.de> writes:
>Hi all,
>
>is it possible that a R function wait for a keystroke (as the demo()
>function do) and evaluate the pressed key?

The only function I know is readline() which will allow up to 32
characters to be read from the console. Use subst() to query the
returned string. See help(readline) for details.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul 24 17:58:28 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 24 Jul 2001 16:58:28 +0100 (BST)
Subject: [R] Memory/data -last time I promise
In-Reply-To: <200107241200.f6OC0cp01958@localhost.localdomain>
Message-ID: <Pine.LNX.4.31.0107241641060.16494-100000@gannet.stats>

On Tue, 24 Jul 2001, Micheall Taylor wrote:

> I've seen several posts over the past 2-3 weeks about memory issues.  I've
> tried to carefully follow the suggestions, but remain baffled as to why I
> can't load data into R.  I hope that in revisiting this issue that I don't
> exasperate the list.
>
> The setting:
> 1 gig RAM , Linux machine
> 10 Stata files of approximately 14megs each
> File contents appear at the end of this boorishly long email.
>
> Purpose:
> load and combine in R for further analysis
>
> Question:
>
> 1) I've placed memory queries in the command file to see what is going on.
> It appears that loading a 14meg file consumes approx 5 times this amount of
> memory - i.e. available memory declines by 70megs when a 14 meg dataset is
> loaded. (Seen in Method 2 below)

That's quite possible.  A `14Mb dataset' is not too helpful to us.  You
seem to have one char (ca 2 chars) and 9 numeric variables per record.
That's ca 75 bytes per record.  An actual experiment and using object.size
gives 88 (there are row names too).  So at 70Mb, that is about 0.8M rows.
If that's not right, the data are not being read in correctly.

The main problem I see is that your machine seems unable to allocate more
than about 450Mb to R, and it has surprisingly little swap space.  (This
512Mb Linux machine has 1Gb of swap allocated, and happily allocates 800Mb
to R when needed.)

> 2) Ultimately I would like to replace Stata with R, but the Stata datasets
> I frequently use are in the 100s of megs, which work fine on this machine.
> Is R capable of this?

Probably not.  R does require objects to be stored in memory.

As a serious statistical question: what can you usefully do with 8M rows
on 9 continuous variables?  Why would a 1% sample not be already far more
than enough?  My group regularly works with datasets in the 100s of Mb,
but normally we either sample or we summarize in groups for further
analysis.  Our latest dataset is a 1.2Gb Oracle table, but it has
structure (it's 60 experiments for a start).

[...]

BTW, rbind is inefficient, but adding a piece at time is the least
efficient way to use it.  rbind(full1, full2, ..., full10) would be
better.  Allocating full and assigning to sub-sections would be better
still.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Tue Jul 24 21:37:48 2001
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Tue, 24 Jul 2001 14:37:48 -0500
Subject: [R] strange slowness of plot
Message-ID: <OFA7B76EC0.15A3320C-ON86256A93.006A4D3B@mmm.com>

I just ran into this strange behavior.

     y <- rnorm(1000)
     x <- seq(0, length=length(y))

     plot(x, y, type='l', lty=1)   - instantaneous
     plot(x, y, type='l', lty=2)   - 18s plotting lines + 15s plotting axes
= 33s
     plot(x, y, type='l', lty=3)   - 76s          ,,               + 75s
,,            = 151s
     plot(x, y, type='l', lty=4)   - 40s          ,,               + 38s
,,            = 78s

A couple of observations:
(1) The plots for lty>1 seem to be rendered in "one chunk", that is a blank
graphics window appears and stays blank until all the lines appear at once.
Then another long wait for axes.
(2) While waiting for the plot, the computer becomes totally unresponsive.
Typical ctr-alt-del does nothing.  Even pushing the power button does
nothing.  I originally attempted the lty=2 plot with several hundred
thousand observations.  The only way I could get my machine back was to
disconnect the power cord!

My system is as follows:
(1) IBM Intellistation with PIII 1GHz, 512Mb of RDRAM, 20Gb SCSI160 drive,
64Mb FireGL graphics card
(2) Windows 2000 Pro
(3) R-1.3.0 (original version)

Andy

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a296180 at mica.fmr.com  Tue Jul 24 22:36:46 2001
From: a296180 at mica.fmr.com (David Kane  <David Kane)
Date: Tue, 24 Jul 2001 16:36:46 -0400
Subject: [R] strptime and "impossible" dates
Message-ID: <15197.56414.625729.368669@gargle.gargle.HOWL>

Typically, when I use strptime with "impossible" dates I get an NA, which is
what I expect.

> version
         _                   
platform sparc-sun-solaris2.6
arch     sparc               
os       solaris2.6          
system   sparc, solaris2.6   
status                       
major    1                   
minor    3.0                 
year     2001                
month    06                  
day      22                  
language R                   
> strptime("20001132", format = "%Y%m%d")
[1] "NA"

But this is not always the case, consider the impossible case of November 31, 2000

> strptime("20001131", format = "%Y%m%d")
[1] "2000-12-01"

Shouldn't the answer here be NA? I would submit this as a bug except that I
suspect that the problem is my misunderstanding of the role of seconds and time
zones is this function . . .

Thanks for any pointers. I have read the help pages and the excellent
discussion in the recent R Newsletter.

Dave Kane
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dwhite at ling.ohio-state.edu  Tue Jul 24 23:12:11 2001
From: dwhite at ling.ohio-state.edu (David White)
Date: Tue, 24 Jul 2001 17:12:11 -0400 (EDT)
Subject: [R] evaluating keystroke
In-Reply-To: <JFG65jAQrZX7Ewdm@myatt.demon.co.uk>
Message-ID: <Pine.SOL.4.33.0107241704001.7951-100000@julius.ling.ohio-state.edu>


On the question of evaluating keystrokes:

I often plot subsets of data to get a sense of what I'm looking for. I
generally run a for loop with the specification par(ask=TRUE) after each
plot command, so that I can take time to look over the data before going
on to the next plot by pressing RETURN.B

Would it be possible to use readline() in such a command sequence to write
a comment about each plot before going on to the next? This would
certainly help me take quicker and better notes when examining data, and
might even allow me to use R in a perception/classification experiment.

Thanks,

David

S. David White
sdavidwhite at bigfoot.com
Columbus, Ohio

On Tue, 24 Jul 2001, Mark Myatt wrote:

%Sven Garbade <garbade at psy.uni-muenchen.de> writes:
%>Hi all,
%>
%>is it possible that a R function wait for a keystroke (as the demo()
%>function do) and evaluate the pressed key?
%
%The only function I know is readline() which will allow up to 32
%characters to be read from the console. Use subst() to query the
%returned string. See help(readline) for details.
%
%Mark
%
%
%--
%Mark Myatt
%
%
%-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
%r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
%Send "info", "help", or "[un]subscribe"
%(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
%_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
%

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul 24 23:26:33 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 24 Jul 2001 22:26:33 +0100 (BST)
Subject: [R] strptime and "impossible" dates
In-Reply-To: <15197.56414.625729.368669@gargle.gargle.HOWL>
Message-ID: <Pine.LNX.4.31.0107242222530.1248-100000@gannet.stats>

On Tue, 24 Jul 2001, David Kane  <David Kane wrote:

> Typically, when I use strptime with "impossible" dates I get an NA, which is
> what I expect.
>
> > version
>          _
> platform sparc-sun-solaris2.6
> arch     sparc
> os       solaris2.6
> system   sparc, solaris2.6
> status
> major    1
> minor    3.0
> year     2001
> month    06
> day      22
> language R
> > strptime("20001132", format = "%Y%m%d")
> [1] "NA"
>
> But this is not always the case, consider the impossible case of November 31, 2000
>
> > strptime("20001131", format = "%Y%m%d")
> [1] "2000-12-01"
>
> Shouldn't the answer here be NA? I would submit this as a bug except that I
> suspect that the problem is my misunderstanding of the role of seconds and time
> zones is this function . . .

> Thanks for any pointers. I have read the help pages and the excellent
> discussion in the recent R Newsletter.

It depends on the system's strptime.  But it would be usual for
out-of-range dates to get normalized as you saw.  In general `invalid'
local times (POSIXlt structures) are fixed if they are not seriously
adrift.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Wed Jul 25 00:00:42 2001
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Tue, 24 Jul 2001 18:00:42 -0400
Subject: [R] strange slowness of plot
In-Reply-To: <OFA7B76EC0.15A3320C-ON86256A93.006A4D3B@mmm.com>
References: <OFA7B76EC0.15A3320C-ON86256A93.006A4D3B@mmm.com>
Message-ID: <8rrrltkj0c1dnq2aqflugf5lpgk039lmu9@4ax.com>

On Tue, 24 Jul 2001 14:37:48 -0500, you wrote:

>I just ran into this strange behavior.
>
>     y <- rnorm(1000)
>     x <- seq(0, length=length(y))
>
>     plot(x, y, type='l', lty=1)   - instantaneous
>     plot(x, y, type='l', lty=2)   - 18s plotting lines + 15s plotting axes
>= 33s

... and even longer times for other line types.

I tried this code on my tiny little Libretto (Pentium 120Mhz, 32Mb
ram, 20gb drive) running Win95, and it was noticeably slower doing the
line types other than type 1, but not nearly as slow as described.
I'd suggest you're short of some sort of graphics resource, or there's
a Win2K bug here.

>My system is as follows:
>(1) IBM Intellistation with PIII 1GHz, 512Mb of RDRAM, 20Gb SCSI160 drive,
>64Mb FireGL graphics card
>(2) Windows 2000 Pro
>(3) R-1.3.0 (original version)

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murphyk at cs.berkeley.edu  Wed Jul 25 00:11:31 2001
From: murphyk at cs.berkeley.edu (Kevin Murphy)
Date: Tue, 24 Jul 2001 15:11:31 -0700
Subject: [R] mapping functions down trees/ AIC for trees
References: <Pine.GSO.4.31.0107240828310.22663-100000@auk.stats>
Message-ID: <3B5DF293.B81098EA@cs.berkeley.edu>

Has anyone implemented AIC for trees? I realise that the tree growing
procedure does variable selection automatically - my goal is to learn
belief net structure where the local conditional probability
distributions (CPDs) are represented by trees (as in  e.g., Nir
Friedman, 1996 - ref below). For this, I need to properly penalize each
CPD. This is my current implementation for the tree class (I have
similar code for the rpart class - I am assuming this is a
classification tree for now.)


logLik.tree <- function(tr) {
  k <- length(attr(tr, "ylevels"))
  nparams.leaves  <- (k-1)*num.leaves(tr)
      # specify the params of the multinomials at the leaves
  nparams.struct <- 0   # ignore params needed to specify splits
  df <- nparams.leaves + nparams.struct # degrees of freedom
  structure(-2*deviance(tr), df=df, class="logLik")
}

num.leaves.tree <- function(tr) sum(as.numeric(tr$frame$var ==
"<leaf>"))
num.leaves <- function(tr) UseMethod("num.leaves")



To compute the num. parameters used to specify the tree structure, one
can use the recursive encoding proposed by Quinlan and Rivest. To do
this, I need a way to map a function down a tree and to return a list of
the values.
I could then write something like

n <- num.inputs(tr)
f <- function(x) {
  if (is.leaf(x)) 1
  else 1 + log2(n-depth(x)) + sum(tree.apply(f, children(x)))
}
nparams.struct <- tree.apply(f, tr)

How can I implement tree.apply, children, is.leaf and depth?


Kevin  



@inproceedings{Friedman96,
  author = "N. Friedman and M. Goldszmidt",
  title = "Learning {B}ayesian Networks with Local Structure",
  booktitle = uai,
  year = 1996
}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Wed Jul 25 00:37:09 2001
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Tue, 24 Jul 2001 18:37:09 -0400
Subject: [R] A useful GUI?
Message-ID: <5429125E11E4D411AF7300805FE603A8014CECAC@groexmbcr02.pfizer.com>

 

> From: Paul Murrell
> > From: Frank E Harrell Jr
> > I saw an ad in the July 2001 Amstat News for a complex sample
> > survey analysis package called Wesvar.  The package has
> > what appears to be a useful feature called a "Workbook"
> > by which the user navigates analysis output.  This is a
> > hierarchical tree in which the user may click on a part
> > of the analysis (table, regression fit, descriptive stats,
> > etc.) so as to go directly to that output.  Recent versions
> > of SAS have something similar.  In SAS the title of a
> > graphic may be what appears in the navigation tree, and
> > clicking on that entry will replay the appropriate graph.
> >
> > Has anyone had experience with such GUIs and would comment
> > on productivity or documentation benefits?  I wonder
> > what would be the most platform-independent way to
> > implement such a feature, e.g., dynamic html, if it is
> > useful to statisticians.
>

Actually, I'm in the process of looking at building something of this
nature.  Comments and suggestions about design principles, as well as tools
would be appreciated.

-Greg


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hawkins at scharp.org  Wed Jul 25 02:30:02 2001
From: hawkins at scharp.org (Natalie Hawkins)
Date: Tue, 24 Jul 2001 17:30:02 -0700
Subject: [R] using compiled fortran in R
Message-ID: <3B5E130A.8FA25C77@scharp.org>


Hi,

I would like to use a Fortran subroutine in R.  I have checked the R
docs and Newsletter,
but..., I am unable to load an object file into R.

The steps I have taken are (on Debian Linux/recent Intel-type chip ):

1. g77 -c hello.f
    to create hello.o

2. mymachine> R
    to start R

3. > dyn.load("hello.o")
    at which point I am getting the error msg:

   Error in dyn.load(x, as.logical(local), as.logical(now)) :
   unable to load shared library "/home/hawkins/Rfortran/hello.o":
   /home/hawkins/Rfortran/hello.o: ELF file's phentsize not the expected
size

Can anyone (please) correct my procedure, offer a suggestion?

thanks,
Natalie Hawkins




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul 25 08:32:33 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 25 Jul 2001 07:32:33 +0100 (BST)
Subject: [R] using compiled fortran in R
In-Reply-To: <3B5E130A.8FA25C77@scharp.org>
Message-ID: <Pine.GSO.4.31.0107250727530.27616-100000@auk.stats>

See `Writing R Extensions' for the information.

R CMD SHLIB hello.f

> dyn.load("hello.so")

might be what you need.  dyn.load in R loads shared libraries (on Linux),
not .o objects.  The error message does say your hello.o is not a valid
shared library.

Looks like the help page for dyn.load needs a cross-reference to SHLIB.


On Tue, 24 Jul 2001, Natalie Hawkins wrote:

>
> Hi,
>
> I would like to use a Fortran subroutine in R.  I have checked the R
> docs and Newsletter,
> but..., I am unable to load an object file into R.
>
> The steps I have taken are (on Debian Linux/recent Intel-type chip ):
>
> 1. g77 -c hello.f
>     to create hello.o
>
> 2. mymachine> R
>     to start R
>
> 3. > dyn.load("hello.o")
>     at which point I am getting the error msg:
>
>    Error in dyn.load(x, as.logical(local), as.logical(now)) :
>    unable to load shared library "/home/hawkins/Rfortran/hello.o":
>    /home/hawkins/Rfortran/hello.o: ELF file's phentsize not the expected
> size
>
> Can anyone (please) correct my procedure, offer a suggestion?
>
> thanks,
> Natalie Hawkins

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Jul 25 08:55:05 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 25 Jul 2001 08:55:05 +0200
Subject: [R] using compiled fortran in R
In-Reply-To: <3B5E130A.8FA25C77@scharp.org>
References: <3B5E130A.8FA25C77@scharp.org>
Message-ID: <15198.27977.910356.941432@gargle.gargle.HOWL>

>>>>> "Natalie" == Natalie Hawkins <hawkins at scharp.org> writes:

    Natalie> I would like to use a Fortran subroutine in R.  I have checked
    Natalie> the R docs and Newsletter, but..., I am unable to load an
    Natalie> object file into R.

    Natalie> The steps I have taken are (on Debian Linux/recent Intel-type
    Natalie> chip ):

    Natalie> 1. g77 -c hello.f
    Natalie> to create hello.o

You should say
	   R CMD SHLIB hello.f
which will create
      hello.so 
in one step.
Alternatively
	R CMD COMPILE hello.f
	R CMD SHLIB   hello.o
should do the same in two steps (useful if there are several source files)

    Natalie> 2. mymachine> R
    Natalie> to start R

    Natalie> 3. > dyn.load("hello.o")
which would then be
      dyn.load("hello.so")
and I actually always use an explicit path

    Natalie> at which point I am getting the error msg:

    Natalie> Error in dyn.load(x, as.logical(local), as.logical(now)) :
    Natalie> unable to load shared library "/home/hawkins/Rfortran/hello.o":
    Natalie> /home/hawkins/Rfortran/hello.o: ELF file's phentsize not the
    Natalie>  expected size

    Natalie> Can anyone (please) correct my procedure, offer a suggestion?

In R, try

   ?dyn.load
and
   ?SHLIB

(and yes, the next version of R will have a SEEALSO link from dyn.load to
SHLIB).




Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul 25 08:52:58 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 25 Jul 2001 07:52:58 +0100 (BST)
Subject: [R] strange slowness of plot
In-Reply-To: <8rrrltkj0c1dnq2aqflugf5lpgk039lmu9@4ax.com>
Message-ID: <Pine.GSO.4.31.0107250735400.27616-100000@auk.stats>

On Tue, 24 Jul 2001, Duncan Murdoch wrote:

> On Tue, 24 Jul 2001 14:37:48 -0500, you wrote:
>
> >I just ran into this strange behavior.
> >
> >     y <- rnorm(1000)
> >     x <- seq(0, length=length(y))
> >
> >     plot(x, y, type='l', lty=1)   - instantaneous
> >     plot(x, y, type='l', lty=2)   - 18s plotting lines + 15s plotting axes
> >= 33s
>
> ... and even longer times for other line types.
>
> I tried this code on my tiny little Libretto (Pentium 120Mhz, 32Mb
> ram, 20gb drive) running Win95, and it was noticeably slower doing the
> line types other than type 1, but not nearly as slow as described.
> I'd suggest you're short of some sort of graphics resource, or there's
> a Win2K bug here.

I tried Windows 2000 and it is slo....ow.  If you time the function with
system.time (on NT/2000) you will see that 99+% of the time is system time.
And some checking shows that it is all being spent in the call to
StrokePath.  In other words, the slowness is in the Windows 2000 GDI and
not in R.  As Duncan points out, Windows 9x/ME has a different (mainly
16-bit) GDI and behaves differently (I tried Windows 98: 0.54 vs 0.09
secs as reported by system.time).

The issue is too the number of dashes needed.  Drawing a sensible dashed
curve on 1000 points (say around a circle) is not slow.  It looks like the
Windows 2000 GDI is very slow when asked to stroke many dashes: doubling
the number seems to take ca 7x longer.  This might be dependent on the
graphics card driver, as well as on the Windows version.

Also, it does not take 15secs to plot the axes.  What actually happens is
that the plot is done twice, first on screen then on a bitmap (for later
copying to a bitmap device?).  That suggests that the GDI per se is to
blame.

I need to talk to Guido, but it looks as if breaking the draw up into
smaller pieces will solve this.  On the other hand, it must have been there
for a couple of years, and no one has reported problems on a real plot yet.


> >My system is as follows:
> >(1) IBM Intellistation with PIII 1GHz, 512Mb of RDRAM, 20Gb SCSI160 drive,
> >64Mb FireGL graphics card
> >(2) Windows 2000 Pro
> >(3) R-1.3.0 (original version)
>
> Duncan Murdoch
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Jul 25 09:16:27 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 25 Jul 2001 09:16:27 +0200
Subject: [R] strange slowness of plot (on Windoze)
In-Reply-To: <OFA7B76EC0.15A3320C-ON86256A93.006A4D3B@mmm.com>
References: <OFA7B76EC0.15A3320C-ON86256A93.006A4D3B@mmm.com>
Message-ID: <15198.29259.555890.931190@gargle.gargle.HOWL>

Well, on Unix (and probably most other platforms), it's several orders of
magnitudes faster, *but* qualitatively similar :

Here are my findings (for a fast Linux on a not really fast graphics card):


## MM: User, System and Total
Ti <- function(expr) system.time(expr)[1:3]

## I just ran into this strange behavior.

N <- 1000 ## originally
N <- 100000# to see some slowness on Unix
y <- rnorm(N)
x <- 0:(N-1)
	                       ## Times : For N=1000, Andy Jaworski, see below
Ti(plot(x, y, type='l', lty=1))## instantaneous
Ti(plot(x, y, type='l', lty=2))## 18s plotting lines + 15s plotting axes =  33s
Ti(plot(x, y, type='l', lty=3))## 76s          ,,    + 75s       ,,      = 151s
Ti(plot(x, y, type='l', lty=4))## 40s          ,,    + 38s       ,,      =  78s

## MM : For N <- 100000, I get (on "lynne", a pretty new PIII)
##  User Sys  Total
##  ---- ---- ----
##  0.32 0.01 0.73
##  0.34 0.01 3.15
##  0.22 0.00 4.97
##  0.32 0.01 4.07

>>>>> "AndyJ" == apjaworski  <apjaworski at mmm.com> writes:

    AndyJ> I just ran into this strange behavior.

    AndyJ> y <- rnorm(1000)
    AndyJ> x <- seq(0, length=length(y))

    AndyJ> plot(x, y, type='l', lty=1)   - instantaneous
    AndyJ> plot(x, y, type='l', lty=2)   - 18s plotting lines + 15s plotting axes
    AndyJ> = 33s
    AndyJ> plot(x, y, type='l', lty=3)   - 76s          ,,               + 75s
    AndyJ> ,,            = 151s
    AndyJ> plot(x, y, type='l', lty=4)   - 40s          ,,               + 38s
    AndyJ> ,,            = 78s

    AndyJ> A couple of observations:
    AndyJ> (1) The plots for lty>1 seem to be rendered in "one chunk", that is a blank
    AndyJ> graphics window appears and stays blank until all the lines appear at once.
    AndyJ> Then another long wait for axes.
    AndyJ> (2) While waiting for the plot, the computer becomes totally unresponsive.
    AndyJ> Typical ctr-alt-del does nothing.  Even pushing the power button does
    AndyJ> nothing.  I originally attempted the lty=2 plot with several hundred
    AndyJ> thousand observations.  The only way I could get my machine back was to
    AndyJ> disconnect the power cord!

    AndyJ> My system is as follows:
    AndyJ> (1) IBM Intellistation with PIII 1GHz, 512Mb of RDRAM, 20Gb SCSI160 drive,
    AndyJ> 64Mb FireGL graphics card
    AndyJ> (2) Windows 2000 Pro
    AndyJ> (3) R-1.3.0 (original version)

    AndyJ> Andy

    AndyJ> __________________________________
    AndyJ> Andy Jaworski
    AndyJ> Engineering Systems Technology Center
    AndyJ> 3M Center, 518-1-01
    AndyJ> St. Paul, MN 55144-1000
    AndyJ> -----
    AndyJ> E-mail: apjaworski at mmm.com
    AndyJ> Tel:  (651) 733-6092
    AndyJ> Fax:  (651) 736-3122

    AndyJ> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    AndyJ> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
    AndyJ> Send "info", "help", or "[un]subscribe"
    AndyJ> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
    AndyJ> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>>>>> "apjaworski" == apjaworski  <apjaworski at mmm.com> writes:

    apjaworski> I just ran into this strange behavior.
    apjaworski> y <- rnorm(1000)
    apjaworski> x <- seq(0, length=length(y))

    apjaworski> plot(x, y, type='l', lty=1)   - instantaneous
    apjaworski> plot(x, y, type='l', lty=2)   - 18s plotting lines + 15s plotting axes
    apjaworski> = 33s
    apjaworski> plot(x, y, type='l', lty=3)   - 76s          ,,               + 75s
    apjaworski> ,,            = 151s
    apjaworski> plot(x, y, type='l', lty=4)   - 40s          ,,               + 38s
    apjaworski> ,,            = 78s

    apjaworski> A couple of observations:
    apjaworski> (1) The plots for lty>1 seem to be rendered in "one chunk", that is a blank
    apjaworski> graphics window appears and stays blank until all the lines appear at once.
    apjaworski> Then another long wait for axes.
    apjaworski> (2) While waiting for the plot, the computer becomes totally unresponsive.
    apjaworski> Typical ctr-alt-del does nothing.  Even pushing the power button does
    apjaworski> nothing.  I originally attempted the lty=2 plot with several hundred
    apjaworski> thousand observations.  The only way I could get my machine back was to
    apjaworski> disconnect the power cord!

    apjaworski> My system is as follows:
    apjaworski> (1) IBM Intellistation with PIII 1GHz, 512Mb of RDRAM, 20Gb SCSI160 drive,
    apjaworski> 64Mb FireGL graphics card
    apjaworski> (2) Windows 2000 Pro
    apjaworski> (3) R-1.3.0 (original version)

    apjaworski> Andy

    apjaworski> __________________________________
    apjaworski> Andy Jaworski
    apjaworski> Engineering Systems Technology Center
    apjaworski> 3M Center, 518-1-01
    apjaworski> St. Paul, MN 55144-1000
    apjaworski> -----
    apjaworski> E-mail: apjaworski at mmm.com
    apjaworski> Tel:  (651) 733-6092
    apjaworski> Fax:  (651) 736-3122

    apjaworski> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    apjaworski> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
    apjaworski> Send "info", "help", or "[un]subscribe"
    apjaworski> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
    apjaworski> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.pesl at arcs.ac.at  Wed Jul 25 09:27:45 2001
From: thomas.pesl at arcs.ac.at (Pesl Thomas)
Date: Wed, 25 Jul 2001 09:27:45 +0200
Subject: [R] type missmatch in ?par
Message-ID: <D16B18FFF743D311A9CA0090275F3CB003D851B4@arcss07.arcs.ac.at>

under 'mfg' the second paragraph says:
[.]the form `c(i, j, nr, nc)' is also accepted, when `nc' and `nc' should be
the current number of rows and number of columns. [.]

it should be 'nr' and 'nc' instead of 'nc and 'nc'


Thomas Pesl


> version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    3.0            
year     2001           
month    06             
day      22             
language R
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Wed Jul 25 10:42:35 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 25 Jul 2001 10:42:35 +0200 (MET DST)
Subject: [R] Memory/data -last time I promise
In-Reply-To: <Pine.LNX.4.31.0107241641060.16494-100000@gannet.stats>
Message-ID: <Pine.OSF.3.96.1010725103556.19828C-100000@ija.csic.es>

On Tue, 24 Jul 2001, Prof Brian Ripley wrote:

> 
> The main problem I see is that your machine seems unable to allocate more
> than about 450Mb to R, and it has surprisingly little swap space.  (This
> 512Mb Linux machine has 1Gb of swap allocated, and happily allocates 800Mb
> to R when needed.)


Well, this rises an interesting point for me: are there advices on
how to configure a particular system for best R performance with
large datasets? I've looked into the R system guide and could not find
anything (that document is a bit obscure for me, must recognize).
Do you get the 800 Mb by starting R with a particular option?

(BTW, I do not remember how much swap I defined for my linux
system, how could I check that?. Excuses for the not-R question)
 
Agus

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul 25 11:22:20 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 25 Jul 2001 10:22:20 +0100 (BST)
Subject: [R] type missmatch in ?par
In-Reply-To: <D16B18FFF743D311A9CA0090275F3CB003D851B4@arcss07.arcs.ac.at>
Message-ID: <Pine.LNX.4.31.0107251020490.1721-100000@gannet.stats>

Fixed, thanks, but please send such reports to R-bugs so they get
recorded. R-help is too busy a list for reports not to get overlooked.

On Wed, 25 Jul 2001, Pesl Thomas wrote:

> under 'mfg' the second paragraph says:
> [.]the form `c(i, j, nr, nc)' is also accepted, when `nc' and `nc' should be
> the current number of rows and number of columns. [.]
>
> it should be 'nr' and 'nc' instead of 'nc and 'nc'
>
>
> Thomas Pesl
>
>
> > version
>          _
> platform i386-pc-mingw32
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    3.0
> year     2001
> month    06
> day      22
> language R
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Jul 25 12:26:02 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 25 Jul 2001 12:26:02 +0200
Subject: [R] Memory/data -last time I promise
In-Reply-To: <Pine.OSF.3.96.1010725103556.19828C-100000@ija.csic.es>
References: <Pine.LNX.4.31.0107241641060.16494-100000@gannet.stats>
	<Pine.OSF.3.96.1010725103556.19828C-100000@ija.csic.es>
Message-ID: <15198.40634.95166.274940@gargle.gargle.HOWL>

>>>>> "Agustin" == Agustin Lobo <alobo at ija.csic.es> writes:

    Agustin> On Tue, 24 Jul 2001, Prof Brian Ripley wrote:

    BDR> The main problem I see is that your machine seems unable to
    BDR> allocate more than about 450Mb to R, and it has surprisingly
    BDR> little swap space.  (This 512Mb Linux machine has 1Gb of swap
    BDR> allocated, and happily allocates 800Mb to R when needed.)


    Agustin> Well, this rises an interesting point for me: are there
    Agustin> advices on how to configure a particular system for best R
    Agustin> performance with large datasets? I've looked into the R system
    Agustin> guide and could not find anything (that document is a bit
    Agustin> obscure for me, must recognize).

which document?  There's no  ``R system guide''

    Agustin> Do you get the 800 Mb by starting R with a particular option?

no; Brian said ``when needed'' which means that R allocates memory (almost
always) when it needs it.


    Agustin> (BTW, I do not remember how much swap I defined for my linux
    Agustin> system, how could I check that?. Excuses for the not-R question)
 
cat /proc/meminfo

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Wed Jul 25 12:20:40 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Wed, 25 Jul 2001 11:20:40 +0100
Subject: [R] evaluating keystroke
In-Reply-To: <Pine.SOL.4.33.0107241704001.7951-100000@julius.ling.ohio-state.edu>
References: <JFG65jAQrZX7Ewdm@myatt.demon.co.uk>
 <Pine.SOL.4.33.0107241704001.7951-100000@julius.ling.ohio-state.edu>
Message-ID: <c1c$VNA41pX7EwcF@myatt.demon.co.uk>

David White <dwhite at ling.ohio-state.edu> writes:
>
>On the question of evaluating keystrokes:
>
>I often plot subsets of data to get a sense of what I'm looking for. I
>generally run a for loop with the specification par(ask=TRUE) after each
>plot command, so that I can take time to look over the data before going
>on to the next plot by pressing RETURN.B
>
>Would it be possible to use readline() in such a command sequence to write
>a comment about each plot before going on to the next? This would
>certainly help me take quicker and better notes when examining data, and
>might even allow me to use R in a perception/classification experiment.

Something like:

        comments <- vector(mode = "character")
        data(volcano)
        for(i in 1:(dim(volcano)[2] - 1))
          {
          plot(volcano[ ,i], volcano[ ,i+1], main = paste("Plot ", i))
          comments[i] <- readline("Comments : ")
          }

Should do the trick.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Wed Jul 25 12:37:39 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Wed, 25 Jul 2001 11:37:39 +0100
Subject: [R] Memory/data -last time I promise
In-Reply-To: <Pine.LNX.4.31.0107241641060.16494-100000@gannet.stats>
References: <200107241200.f6OC0cp01958@localhost.localdomain>
 <Pine.LNX.4.31.0107241641060.16494-100000@gannet.stats>
Message-ID: <rGuC5RAzFqX7EwoW@myatt.demon.co.uk>

Michael Taylor wrote:

> 2) Ultimately I would like to replace Stata with R, but the Stata
>datasets I frequently use are in the 100s of megs, which work fine on
>this machine. Is R capable of this?

Brian Ripley replied:

>Probably not.  R does require objects to be stored in memory.

I think Stata also required that objects reside in memory. It is quite a
time since I have used Stata (I have v4 on my shelves) but I remember
that it was no good for cancer registry work (big datasets) as it needed
everything to be in memory and we only have 16MB Win 3.11 machines at
the time.

There is a storage difference between R and Stata. Stata has several
number types (byte, short integer, long integer, single precision float,
double precision float) whereas R has only the integer (equivalent to
long integers, I think) and real/numeric/double which are all double
precision floats. This means that R will often require more memory to
store objects than Stata. Your "14 MB" file could easily swell to many
times that size if Stata 'byte' types are being stored as double
precision numbers.

I am not aware if there are plans to add different storage modes to R
but doing so might be useful particularly with large datasets.

Just my tuppence.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Wed Jul 25 13:34:04 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 25 Jul 2001 13:34:04 +0200 (MET DST)
Subject: [R] Memory/data -last time I promise
In-Reply-To: <15198.40634.95166.274940@gargle.gargle.HOWL>
Message-ID: <Pine.OSF.3.96.1010725131034.19828E-100000@ija.csic.es>


On Wed, 25 Jul 2001, Martin Maechler wrote:

>     Agustin> Well, this rises an interesting point for me: are there
>     Agustin> advices on how to configure a particular system for best R
>     Agustin> performance with large datasets? I've looked into the R system
>     Agustin> guide and could not find anything (that document is a bit
>     Agustin> obscure for me, must recognize).
> 
> which document?  There's no  ``R system guide''
 I mean R-admin.pdf

> 
>     Agustin> Do you get the 800 Mb by starting R with a particular option?
> 
> no; Brian said ``when needed'' which means that R allocates memory (almost
> always) when it needs it.

ok, so I understand that R allocates large amounts of memory with no need
of
starting option, with the only limit of the free swap space.

Thanks

Agus



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jul 25 13:53:23 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Jul 2001 13:53:23 +0200
Subject: [R] Memory/data -last time I promise
In-Reply-To: Martin Maechler's message of "Wed, 25 Jul 2001 12:26:02 +0200"
References: <Pine.LNX.4.31.0107241641060.16494-100000@gannet.stats> <Pine.OSF.3.96.1010725103556.19828C-100000@ija.csic.es> <15198.40634.95166.274940@gargle.gargle.HOWL>
Message-ID: <x2vgkh443w.fsf@blueberry.kubism.ku.dk>

Martin Maechler <maechler at stat.math.ethz.ch> writes:

>     Agustin> (BTW, I do not remember how much swap I defined for my linux
>     Agustin> system, how could I check that?. Excuses for the not-R question)
>  
> cat /proc/meminfo

free

is somewhat less verbose and some more specific details on swap are in

cat /proc/swaps

or (apparently a n alias of the above)

/sbin/swapon -s 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul 25 13:57:06 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 25 Jul 2001 12:57:06 +0100 (BST)
Subject: [R] Memory/data -last time I promise
In-Reply-To: <Pine.OSF.3.96.1010725103556.19828C-100000@ija.csic.es>
Message-ID: <Pine.GSO.4.31.0107251249501.10289-100000@auk.stats>

On Wed, 25 Jul 2001, Agustin Lobo wrote:

> On Tue, 24 Jul 2001, Prof Brian Ripley wrote:
>
> >
> > The main problem I see is that your machine seems unable to allocate more
> > than about 450Mb to R, and it has surprisingly little swap space.  (This
> > 512Mb Linux machine has 1Gb of swap allocated, and happily allocates 800Mb
> > to R when needed.)
>
>
> Well, this rises an interesting point for me: are there advices on
> how to configure a particular system for best R performance with
> large datasets? I've looked into the R system guide and could not find
> anything (that document is a bit obscure for me, must recognize).
> Do you get the 800 Mb by starting R with a particular option?

No, just the standard options.  Basically, under Unix/Linux

1) Make sure the ulimit/limit settings are suitable (look up your shell
documentation).

2) Make sure you do have ample swap space configured: disc space is
really cheap, and with the current non-moving-objects garbage collector,
currently unused large objects can be successfully swapped out.  (That was
not true before 1.2.0.)

3) Start R without any options.

So there is no advice, as nothing special is needed.

On *Windows*  there is an equivalent of ulimit/limit set and you are likely
to be less successful in running large R workspaces.  In some far as I
understand it, this applies to the classic Mac port too.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Wed Jul 25 15:15:23 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 25 Jul 2001 15:15:23 +0200 (MET DST)
Subject: [R] drop=F in [
In-Reply-To: <Pine.GSO.4.31.0107251249501.10289-100000@auk.stats>
Message-ID: <Pine.OSF.3.96.1010725150958.19828G-100000@ija.csic.es>


Within a program, I subset a data matrix. Sometimes
it comes to remain one single row (indivual) out of the
subseting. The fact that the single row becomes
a vector with dim(x)=NULL instead of a matrix
with dim(x)=c(1,n), is inconvenient for further operations
in the program.

I thought that drop=F would solve this problem but...

lets a be:

> a
          [,1]     [,2]      [,3]
[1,] 0.3249816 1.184596 1.0408749
[2,] 1.4722996 1.408512 0.3768964
[3,] 1.2737683 1.811588 1.9108336
[4,] 1.8235127 1.260909 1.5995097

Then

> a[a[,1]<1,]
[1] 0.3249816 1.1845962 1.0408749

> dim(a[a[,1]<1,])
NUL

But,

> a[a[,1]<1,drop=F]
[1] 0.3249816 1.1845962 1.0408749
> dim(a[a[,1]<1,drop=F])
NULL

No way to get dim(a[a[,1]<1,]) equal to c(1,3) ?

Thanks

Agus


Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jul 25 16:19:45 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 25 Jul 2001 15:19:45 +0100 (BST)
Subject: [R] drop=F in [
In-Reply-To: <Pine.OSF.3.96.1010725150958.19828G-100000@ija.csic.es>
Message-ID: <Pine.LNX.4.31.0107251511340.2069-100000@gannet.stats>

On Wed, 25 Jul 2001, Agustin Lobo wrote:

>
> Within a program, I subset a data matrix. Sometimes
> it comes to remain one single row (indivual) out of the
> subseting. The fact that the single row becomes
> a vector with dim(x)=NULL instead of a matrix
> with dim(x)=c(1,n), is inconvenient for further operations
> in the program.
>
> I thought that drop=F would solve this problem but...

Be careful.  It's FALSE not F.  Indeed it solves the problem, but only if
used as specified on the help page....

> lets a be:
>
> > a
>           [,1]     [,2]      [,3]
> [1,] 0.3249816 1.184596 1.0408749
> [2,] 1.4722996 1.408512 0.3768964
> [3,] 1.2737683 1.811588 1.9108336
> [4,] 1.8235127 1.260909 1.5995097
>
> Then
>
> > a[a[,1]<1,]
> [1] 0.3249816 1.1845962 1.0408749
>
> > dim(a[a[,1]<1,])
> NUL
>
> But,
>
> > a[a[,1]<1,drop=F]
> [1] 0.3249816 1.1845962 1.0408749

> > dim(a[a[,1]<1,drop=F])
> NULL
>
> No way to get dim(a[a[,1]<1,]) equal to c(1,3) ?

No way, *but* if you use this correctly you will get what you want.

Read ?Extract carefully.  You have assumed that

     x[i, j, ... , drop=TRUE]

can be contracted, but it does not say so (nor can it in S).

Try

> a[a[,1]<1,, drop=FALSE]
          [,1]     [,2]     [,3]
[1,] 0.3249816 1.184596 1.040875


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.meyer at ci.tuwien.ac.at  Wed Jul 25 16:40:55 2001
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Wed, 25 Jul 2001 16:40:55 +0200
Subject: [Fwd: [R] drop=F in []
Message-ID: <3B5EDA77.ABB7C55E@ci.tuwien.ac.at>

David Meyer wrote:
> 
> Agustin Lobo wrote:
> >
> > Within a program, I subset a data matrix. Sometimes
> > it comes to remain one single row (indivual) out of the
> > subseting. The fact that the single row becomes
> > a vector with dim(x)=NULL instead of a matrix
> > with dim(x)=c(1,n), is inconvenient for further operations
> > in the program.
> >
> > I thought that drop=F would solve this problem but...
> >
> > lets a be:
> >
> > > a
> >           [,1]     [,2]      [,3]
> > [1,] 0.3249816 1.184596 1.0408749
> > [2,] 1.4722996 1.408512 0.3768964
> > [3,] 1.2737683 1.811588 1.9108336
> > [4,] 1.8235127 1.260909 1.5995097
> >
> > Then
> >
> > > a[a[,1]<1,]
> > [1] 0.3249816 1.1845962 1.0408749
> >
> > > dim(a[a[,1]<1,])
> > NUL
> >
> > But,
> >
> > > a[a[,1]<1,drop=F]
> > [1] 0.3249816 1.1845962 1.0408749
> > > dim(a[a[,1]<1,drop=F])
> > NULL
> >
> > No way to get dim(a[a[,1]<1,]) equal to c(1,3) ?
> >
> 
> certainly:
> 
>  a[a[,1]<1,,drop=F]
> 
> (drop is the THIRD parameter...)
> 
> -d
> 
> > Thanks
> >
> > Agus
> >
> > Dr. Agustin Lobo
> > Instituto de Ciencias de la Tierra (CSIC)
> > Lluis Sole Sabaris s/n
> > 08028 Barcelona SPAIN
> > tel 34 93409 5410
> > fax 34 93411 0012
> > alobo at ija.csic.es
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> --
> Mag. David Meyer                        Wiedner Hauptstrasse 8-10
> Vienna University of Technology         A-1040 Vienna/AUSTRIA
> Department for Statistics, Probability  Tel.: (+431) 58801/10772
> Theory and Actuarial Mathematics        mail: david.meyer at ci.tuwien.ac.at

-- 
Mag. David Meyer			Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
Department for Statistics, Probability	Tel.: (+431) 58801/10772
Theory and Actuarial Mathematics	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Wed Jul 25 17:00:29 2001
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 25 Jul 2001 11:00:29 -0400
Subject: [R] drop=F in [
References: <Pine.OSF.3.96.1010725150958.19828G-100000@ija.csic.es>
Message-ID: <3B5EDF0D.D0C61F56@bank-banque-canada.ca>

>> dim(a[a[,1]<1,drop=F])
>NULL

You forgot a comma:

> dim(a[a[,1]<1,, drop=F])
[1] 1 3

Paul Gilbert

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From verzani at math.csi.cuny.edu  Wed Jul 25 18:45:27 2001
From: verzani at math.csi.cuny.edu (John Verzani)
Date: Wed, 25 Jul 2001 11:45:27 -0500
Subject: [R] pch with plot and legend
Message-ID: <15198.63399.995707.279452@wiener.math.csi.cuny.edu>

I'm trying to plot a scatterplot of two variables using pch to plot
different characters based on a third factor. Here is my example

> data("ToothGrowth")
> attach(ToothGrowth)
> levels(supp)
[1] "OJ" "VC"
> plot(len ~ dose,pch=as.numeric(supp))
> legend(locator(1),pch=as.numeric(supp),legend=levels(supp))

The command as.numeric(supp) returns 2 2 2 2 ...  1 1 1 ... for the
factor supp which the plot command uses nicely, but the pch command
for the legend uses the first two values 2 2 for the command. This
isn't correct of course. How can I get the correct numbers for the pch 
command for the levels? I tried pch=as.numeric(levels(supp)) in legend 
but that didn't work. 

Thanks for any help.

John

-- 
....................................................................
.  John Verzani                  mailto:verzani at math.csi.cuny.edu  .
.  Dept. of Mathematics      http://www.math.csi.cuny.edu/~verzani .
.  City University of New York                 tel: (718) 982-3623 .
.  College of Staten Island                    fax: (718) 982-3631 .
.  Staten Island, NY 10314                                         .
....................................................................
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a296180 at mica.fmr.com  Wed Jul 25 18:44:30 2001
From: a296180 at mica.fmr.com (David Kane  <David Kane)
Date: Wed, 25 Jul 2001 12:44:30 -0400
Subject: [R] Usage of R CMD INSTALL
Message-ID: <15198.63342.901375.142679@gargle.gargle.HOWL>

The help page for INSTALL says, in part,

     Some package sources contain a `configure' script that can be
     passed arguments or variables via the option `--configure-args'
     and `--configure-vars', respectively, if necessary.  The latter is
     useful in particular if libraries or header files needed for the
     package are in non-system directories.  In this case, one can use
     the configure variables `LIBS' and `CPPFLAGS' to specify these
     locations (and set these via `--configure-vars').  One can also
     bypass the configure mechanism using the option `--no-configure'.

No doubt because of my inexperience, I can't quite figure out how this
works. For example, if I want to set the variable LIBS to '/mylibs', how would
I do this? I have tried various versions of

R CMD INSTALL --configure-vars='LIBS=/mylibs' mypackage
R CMD INSTALL --configure-vars 'LIBS=/mylibs' mypackage
R CMD INSTALL --configure-vars LIBS=/mylibs mypackage

all to no effect. (Although it is quite possible that I am having an effect,
but misunderstanding the package (RODBC) that I am using.)

Any help is much appreciated,

Dave Kane
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Wed Jul 25 22:16:04 2001
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Wed, 25 Jul 2001 13:16:04 -0700
Subject: [R] Turning of locator() beep?
Message-ID: <KKEGJOGBELBHDIKPINBMKELFCFAA.hb@maths.lth.se>

Is there a way to turn of the (annoying) beep that occurs when one calls the
locator() command and clicks the mouse. Try

  plot(0)
  locator(n=10)

I am running Rterm on WindowsMe/Cygwin bash and I don't know if this is the
case on other platforms.

Thanks to everyone!

Henrik Bengtsson
h b @ m a t h s . l t h . s e

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Wed Jul 25 23:56:48 2001
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Thu, 26 Jul 2001 09:56:48 +1200
Subject: [R] pch with plot and legend
References: <15198.63399.995707.279452@wiener.math.csi.cuny.edu>
Message-ID: <006801c11554$b44288e0$175dd882@stat.auckland.ac.nz>

Hi


> I'm trying to plot a scatterplot of two variables using pch to plot
> different characters based on a third factor. Here is my example
>
> > data("ToothGrowth")
> > attach(ToothGrowth)
> > levels(supp)
> [1] "OJ" "VC"
> > plot(len ~ dose,pch=as.numeric(supp))
> > legend(locator(1),pch=as.numeric(supp),legend=levels(supp))
>
> The command as.numeric(supp) returns 2 2 2 2 ...  1 1 1 ... for the
> factor supp which the plot command uses nicely, but the pch command
> for the legend uses the first two values 2 2 for the command. This
> isn't correct of course. How can I get the correct numbers for the pch
> command for the levels? I tried pch=as.numeric(levels(supp)) in legend
> but that didn't work.


The simple answer is ...

    legend(locator(1),pch=1:2,legend=levels(supp))

... because the numeric equivalent of the levels of a factor are the
integers 1:nlevels(<factor>)

This might be viewed as a not very nice programming style because
it makes use of knowledge of the underlying implementation of factors.
A more complicated and harder to understand, but possibly more pure
solution might be ...

    legend(locator(1),pch=as.numeric(supp[match(levels(supp),
supp)]),legend=levels(supp))

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jul 26 00:48:46 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Jul 2001 00:48:46 +0200
Subject: [R] pch with plot and legend
In-Reply-To: John Verzani's message of "Wed, 25 Jul 2001 11:45:27 -0500"
References: <15198.63399.995707.279452@wiener.math.csi.cuny.edu>
Message-ID: <x28zhctyk1.fsf@blueberry.kubism.ku.dk>

John Verzani <verzani at math.csi.cuny.edu> writes:

> I'm trying to plot a scatterplot of two variables using pch to plot
> different characters based on a third factor. Here is my example
> 
> > data("ToothGrowth")
> > attach(ToothGrowth)
> > levels(supp)
> [1] "OJ" "VC"
> > plot(len ~ dose,pch=as.numeric(supp))
> > legend(locator(1),pch=as.numeric(supp),legend=levels(supp))
> 
> The command as.numeric(supp) returns 2 2 2 2 ...  1 1 1 ... for the
> factor supp which the plot command uses nicely, but the pch command
> for the legend uses the first two values 2 2 for the command. This
> isn't correct of course. How can I get the correct numbers for the pch 
> command for the levels? I tried pch=as.numeric(levels(supp)) in legend 
> but that didn't work. 

The legend() function doesn't care or know about the points you
plotted, so it expects pch to be a vector as long as the list of
legends. 

pch=seq(along=levels(supp)) looks about right. Or just pch=1:2

Alternately, think ahead:

sym <- c(1,2) # this could be changed to get a different set of symbols
plot(len ~ dose, pch=sym[supp])
legend(locator(1), pch=sym, legend=levels(supp))

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Wed Jul 25 21:54:52 2001
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Wed, 25 Jul 2001 12:54:52 -0700
Subject: [R] Floating point "fuzz" and rpart?
Message-ID: <5.1.0.14.2.20010725125442.00af5830@127.0.0.1>

I've been using rpart with R (1.3.0 Windows) for some time.  I recently ran 
one of my research data sets through the rpart routine and produced a 
classification tree.  I tried to replicate the results of the rpart 
analysis on another machine of mine and discovered some startling 
differences in the results.  Puzzled, I went back to the raw data residing 
on both machines.  I printed out both versions of the data, ran summary 
statistics, plotted histograms, boxplots, and anything else I could think 
of.  On the surface, the datasets are identical.  Since the file attributes 
were completely different, I know that the two versions may have originated 
from the same source but had been moved to R via different 
mechanisms.  Ultimately, I read both files in as .csv tables using read.csv().

Perplexed I gave the files different names and read both into a single 
version of R 1.3.0.  I ran rpart on each file and got the same results as 
when I ran the two files on separate machines.  So, I decided to do 
variable-by-variable comparisons using the all.equal.numeric() function.

On one machine, all.equal.numeric() returns TRUE for the same set of 
variables in both files, while on the second machine 9 of 10 variables 
return answers like the following (all are approximately 2.6......e-07):

"Mean relative  difference: 2.628787e-07"

So, clearly the two "identical files" are different somewhere in the outer 
reaches of floating point representation.  (The two machines are identical 
Dell PIII, XPS T700's - one has 256MB RAM, the other 512MB RAM).

Questions:

1.  Both machines have the same versions of R (with default options) and 
rpart, and I used one machine to propagate duplicate copies of each file to 
the other machine.  Why would one machine report all.equal.numeric() to be 
TRUE for all variables, while the other machine report 9 of 10 different in 
the outer floating point regions?  (Interestingly enough, the one variable 
reported to be "exactly" equal is the only variable of 10 recorded to the 
nearest "integer" - although stored as a floating point number; the other 9 
were measured in mm and recorded to the nearest tenth of a mm.)

2.  Even with differences only beyond the 7th decimal place, why would 
rpart report such demonstrably different results with the "same" data 
set?  Does floating point "fuzz" really make that much 
difference?  (rhetorical question!   The answer is obvious here.)

Thoughts, insights, suggestions for further explorations welcome.

Thanks.








=====================
Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department
Portland State University
1721 SW Broadway
Portland, Oregon 97201
email:  feldesmanm at pdx.edu
phone:  503-725-3081
fax:    503-725-3905
http://web.pdx.edu/~h1mf
PGP Key Available On Request
======================

"Anyway, no drug, not even alcohol, causes the fundamental ills of society.
If we're looking for the source of our troubles, we shouldn't test people
for drugs, we should test them for stupidity, ignorance, greed and love of
power."   P.J. O'Rourke

Powered by Optiplochoerus and Windows 2000 (scary isn't it?)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Jul 25 17:29:41 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 25 Jul 2001 08:29:41 -0700 (PDT)
Subject: [R] strange slowness of plot
In-Reply-To: <8rrrltkj0c1dnq2aqflugf5lpgk039lmu9@4ax.com>
Message-ID: <Pine.A41.4.33.0107250828480.168318-100000@homer40.u.washington.edu>


I've confirmed the same problem on another Win2k machine.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From york at noaa.gov  Wed Jul 25 16:46:07 2001
From: york at noaa.gov (Anne York)
Date: Wed, 25 Jul 2001 07:46:07 -0700 (PDT)
Subject: [R] strange slowness of plot
In-Reply-To: <OFA7B76EC0.15A3320C-ON86256A93.006A4D3B@mmm.com>
Message-ID: <Pine.GSO.4.05.10107250736300.9957-100000@ofis450a.akctr.noaa.gov>

I observed similar behavior with a Pentium III running NT4 SP6. 

For giggles, I tried the script in Splus; with lty = 2, the plotting was as
fast as with lty = 1. But for lty = 3 and lty =4,  the results were
similar.  Also, when the plot is being rendered, the system is completely
tied up. 

Anne

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Anne E. York
National Marine Mammal Laboratory
Seattle WA 98115-0070  USA
e-mail: anne.york at noaa.gov
Voice: +1 206-526-4039
Fax: +1 206-526-6615
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

On Tue, 24 Jul 2001 apjaworski at mmm.com wrote:

>I just ran into this strange behavior.
>
>     y <- rnorm(1000)
>     x <- seq(0, length=length(y))
>
>     plot(x, y, type='l', lty=1)   - instantaneous
>     plot(x, y, type='l', lty=2)   - 18s plotting lines + 15s plotting axes
>= 33s
>     plot(x, y, type='l', lty=3)   - 76s          ,,               + 75s
>,,            = 151s
>     plot(x, y, type='l', lty=4)   - 40s          ,,               + 38s
>,,            = 78s
>
>A couple of observations:
>(1) The plots for lty>1 seem to be rendered in "one chunk", that is a blank
>graphics window appears and stays blank until all the lines appear at once.
>Then another long wait for axes.
>(2) While waiting for the plot, the computer becomes totally unresponsive.
>Typical ctr-alt-del does nothing.  Even pushing the power button does
>nothing.  I originally attempted the lty=2 plot with several hundred
>thousand observations.  The only way I could get my machine back was to
>disconnect the power cord!
>
>My system is as follows:
>(1) IBM Intellistation with PIII 1GHz, 512Mb of RDRAM, 20Gb SCSI160 drive,
>64Mb FireGL graphics card
>(2) Windows 2000 Pro
>(3) R-1.3.0 (original version)
>
>Andy
>
>__________________________________
>Andy Jaworski
>Engineering Systems Technology Center
>3M Center, 518-1-01
>St. Paul, MN 55144-1000
>-----
>E-mail: apjaworski at mmm.com
>Tel:  (651) 733-6092
>Fax:  (651) 736-3122
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wtreynor at umich.edu  Thu Jul 26 04:45:18 2001
From: wtreynor at umich.edu (Wendy Fellows Clark Treynor)
Date: Wed, 25 Jul 2001 22:45:18 -0400
Subject: [R] HELP: FATAL ERROR: UNABLE TO RESTORE SAVED DATA
Message-ID: <3B5F843E.47EC60FB@umich.edu>

Hi There,

Can you help me?  I tried opening R and it crashes. The message is "an
xdr real data read error occured" followed by "Fatal error: unable to
restore saved data (remove
.RData or increase memory).  I'm inclined to remove .RData since I have
hundreds of variables and matrices saved onto R (probably the reason why
R crashed!).

If you don't know how to remove .RData without opening R, could you tell
me how to increase memory? Once I do that, then I will remove .RData.
Please email me at
wtreynor at umich.edu.

Thanks so much!

Sincerely,

Wendy Treynor
Ann Arbor, Michigan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jul 26 09:00:26 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 26 Jul 2001 08:00:26 +0100 (BST)
Subject: [R] Turning of locator() beep?
In-Reply-To: <KKEGJOGBELBHDIKPINBMKELFCFAA.hb@maths.lth.se>
Message-ID: <Pine.GSO.4.31.0107260758260.16218-100000@auk.stats>

On Wed, 25 Jul 2001, Henrik Bengtsson wrote:

> Is there a way to turn of the (annoying) beep that occurs when one calls the
> locator() command and clicks the mouse. Try
>
>   plot(0)
>   locator(n=10)
>
> I am running Rterm on WindowsMe/Cygwin bash and I don't know if this is the
> case on other platforms.

It's a feature of the windows() device.  Windows is fond of beeping, and I
just mute the sound.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ljlehou at sandia.gov  Wed Jul 25 20:36:02 2001
From: ljlehou at sandia.gov (Leslea J. Lehoucq)
Date: Wed, 25 Jul 2001 12:36:02 -0600
Subject: [R] Installation help
Message-ID: <3B5F1192.89B0C537@sandia.gov>

Hello,

I am trying to compile R using the Sun WorkShop 6.0 (Forte) compilers.
I don't think I am having a problem with the compilers, but instead with

figuring out how to modify the R configuration to use non-Gnu compilers.

I found in your documentation that one should modify the config.site
file
to change compilers, compiler flags, library paths, etc.  I made
modifications
in this file, but the configure script still seems to be relying on the
Gnu
compilers rather than the compilers I've specified.  It picks up my
changes
to the fortran compiler (using f77 instead of g77), but ignores my
specification
of the cc compiler rather than gcc.  Since I couldn't use config.site to
fix
my problem, I configured with whatever the configure script was giving
me,
and then went into the Makeconf file to change compiler, library paths,
and
other flags.  I have made some progress in compiling (i.e. when I run
gmake I am getting the right compilers, paths, and flags), but my build
is
failing at a certain point.

Do you know of anyone who has compiled R with the Solaris WorkShop 6.0
(Forte) compilers?  Pointers would be greatly appreciated.

I am attaching my config.site file, and the output from running
configure
(config.out). Additionally, I am attaching the output from running gmake

(make.out).

Thanks,

    Leslea J. Lehoucq
    Sandia National Labs
    Organization 8950
    Computational Sciences and Mathematics Research
    Phone: (505) 844-1972
    Fax:     (505) 845-7442


-------------- next part --------------
#! /bin/sh

### This file is part of R.
###
### R is free software; you can redistribute it and/or modify it under
### the terms of the GNU General Public License as published by the Free
### Software Foundation; either version 2 of the License, or (at your
### option) any later version.
###
### R is distributed in the hope that it will be useful, but WITHOUT ANY
### WARRANTY; without even the implied warranty of MERCHANTABILITY or
### FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public
### License for more details.
###
### You should have received a copy of the GNU General Public License
### along with R; if not, you can obtain it via the World Wide Web at
### `http://www.gnu.org/copyleft/gpl.html', or by writing to the Free
### Software Foundation, 59 Temple Place -- Suite 330, Boston, MA
### 02111-3307, USE.

# By means of this file you can (also) provide default values for the
# configuration process.  To set variables, uncomment the VAR=DEFAULT
# lines and set DEFAULT according to your needs.

# The command used to spool PostScript files to the printer.
# If unspecified, the system will look for either "lpr" or "lp"
# R_PRINTCMD=lpr

# The paper size for the local (PostScript) printer.
# It must either be left blank or set to one of "a4" or "letter".
# If left blank the system will use "a4".
# R_PAPERSIZE=a4

# The default behavior of R if it encounters EOF in batch mode.
# Set this to one of "--save" or "--no-save" depending whether you
# want automatic saving of `.RData' or not.
# R_BATCHSAVE=

# The command which runs the C compiler.
# If unspecified, a search is made for gcc and cc (in that order).
# To override this choice, specify the name of the command which runs
# the compiler here, for example `c89'.
CC=/Net/local/bin/cc

# Debugging and optimization options for the C compiler.
# Use this to specify CFLAGS for the version of the C compiler specified
# above.  If unspecified, defaults to "-g -O2" for gcc, and "-g" in all
# other cases.
CFLAGS=-g 

# The following additional CFLAGS to be used only in the main compilation
# and only in building shared libraries respectively. For example,
# on some systems one needs MAIN_CFLAGS=-pg when profiling.
# MAIN_CFLAGS=
# SHLIB_CFLAGS=

# Header file search directory (`-IDIR') and any other miscellaneous
# options for the C preprocessor and compiler.
# If unset defaults to `-I/usr/local/include'.
# CPPFLAGS=

# The command which runs the the FORTRAN compiler.
# If unspecified, a search is made for g77, f77, xlf, cf77, cft77,
# pgf77, fl32, af77, fort77, f90, xlf90, pgf90, epcf90, f95, xlf95,
# lf95, g95, and fc (in that order).  If none of these is found, f2c is
# used if found; otherwise, R cannot be compiled.  The search mechanism
# can be changed using the `--with-g77', `--with-f77', and `--with-f2c'
# command line options to configure.
FC=f77

# Options for the FORTRAN compiler.
# Use this to specify FFLAGS for the version of the compiler specified
# above.  If unspecified, defaults to "-O2" for g77, and "" otherwise.
#FFLAGS=

# The following additional FFLAGS to be used only in the main compilation
# and only in building shared libraries respectively. For example,
# on some systems one needs MAIN_FFLAGS=-pg when profiling.
# MAIN_FFLAGS=
SHLIB_FFLAGS=-G

# The command to be used to load the main R binary.
# This is usually the FORTRAN or C compiler, but the automatic choice
# can be overriden by means of this variable.
MAIN_LD=/Net/local/bin/cc

# The flags which are necessary for loading main program which will load
# DLLs at runtime.  HP-UX and Linux-elf are examples of platforms which
# use this.  These platforms are already taken care of by configure,
# and anything set here will be in addition unless MAIN_LD is given.
# For example, one can set flags for profiling here.
# MAIN_LDFLAGS=

# Any special flags which must be used when compiling C code to be
# turned into a shared library.  This is typically something like -fpic
# or -fPIC.  If this variable is left unspecified an attempt is made to
# automatically detect the correct value by configure.
CPICFLAGS=-Kpic

# The following variable can be used to provide any PIC flags for the
# FORTRAN compiler (if you are using one).  If not specified, the value
# of CPICFLAGS above is used.
FPICFLAGS=

# The command to be used to load shared libraries which contain object
# files from a C or Fortran compiler only.  This is usually the C
# compiler or `ld', but the automatic choice can be overridden by means
# of this variable.
#SHLIB_LD=ld

# Any special flags which are required by the linker when creating
# shared libraries containing object files from a C or Fortran
# compiler only.  This is usually automatically detected by configure,
# and anything set here will be in addition unless SHLIB_LD is given.
# SHLIB_LDFLAGS=

# For `-l' and `-L' options to pass to the linker.
# `-L' options set here will be prepended to LD_LIBRARY_PATH at run time
# If unset defaults to `-L/usr/local/lib'.
# LIBS=

# The command which runs the C++ compiler.  It not specified, configure
# uses the values of the environment variables `CXX' or `CCC' if set,
# and then looks under the names `c++', `g++', `gcc', `CC', `cxx', and
# `cc++' (in that order).
CXX=CC

# Options for the C++ compiler.
# CXXFLAGS=

# Any special flags which must be used when compiling C++ code to be
# turned into a shared library.  If this variable is left unspecified
# an attempt is made to automatically detect the correct value by
# configure.
CXXPICFLAGS=-Kpic


# The command to be used to load shared libraries which contain object
# files from a C++ compiler.  This is usually the C++ compiler/linker,
# but the automatic choice can be overridden by means of this variable.
# SHLIB_CXXLD=

# Any special flags which are required when creating shared libraries
# containing object files from a C++ compiler.  This is usually
# automatically detected by configure, and anything set here will be in
# addition unless SHLIB_CXXLD is given.
# SHLIB_CXXLDFLAGS=

# Tcl/Tk settings.
# Use TCLTK_LIBS for all ALL `-L' and `-l' options needed for linking
# against the Tcl and Tk library.
# TCLTK_LIBS=
# Use TCLTK_CPPFLAGS for all `-I' options needed for finding the tcl.h
# and tk.h headers.
# TCLTK_CPPFLAGS=

# make name.
# Set this if you want to use a make by another name, for example 
# if your GNU make is called `gmake', use MAKE=gmake.
# MAKE=









-------------- next part --------------
loading cache ./config.cache
checking for a BSD compatible install... tools/install-sh -c
checking whether build environment is sane... yes
checking whether make sets ${MAKE}... (cached) yes
checking for working aclocal... found
checking for working autoconf... found
checking for working automake... found
checking for working autoheader... found
checking for working makeinfo... found
checking host system type... sparc-sun-solaris2.7
loading site script ./config.site
loading build specific script ./config.site
checking for pwd... (cached) /bin/pwd
checking whether builddir is srcdir... yes
checking for gcc... (cached) gcc
checking whether the C compiler (gcc -g ) works... yes
checking whether the C compiler (gcc -g ) is a cross-compiler... no
checking whether we are using GNU C... (cached) yes
checking whether gcc accepts -g... (cached) yes
checking how to run the C preprocessor... (cached) gcc -E
checking whether gcc needs -traditional... (cached) no
checking whether gcc accepts -M for generating dependencies... (cached) yes
checking whether gcc supports -c -o FILE.lo... (cached) yes
checking for mawk... (cached) nawk
checking whether ln -s works... (cached) yes
checking for ranlib... (cached) ranlib
checking for bison... (cached) bison -y
checking for ar... (cached) ar
checking whether echo can suppress newlines... yes
configure: warning: redefining INSTALL to be /home/netlj/Software/R-1.3.0/tools/install-sh -c
checking for javac... (cached) /usr/java/bin/javac
checking for Cygwin environment... (cached) no
checking for mingw32 environment... (cached) no
checking build system type... sparc-sun-solaris2.7
checking for ld used by GCC... (cached) /usr/ccs/bin/ld
checking if the linker (/usr/ccs/bin/ld) is GNU ld... (cached) no
checking for /usr/ccs/bin/ld option to reload object files... (cached) -r
checking for BSD-compatible nm... (cached) /Net/local/gnu/bin/nm -B
checking how to recognise dependant libraries... (cached) pass_all
checking for object suffix... (cached) o
checking for executable suffix... (cached) no
checking command to parse /Net/local/gnu/bin/nm -B output... (cached) ok
checking for dlfcn.h... (cached) yes
checking for ranlib... (cached) ranlib
checking for strip... (cached) strip
checking for objdir... .libs
checking for gcc option to produce PIC... (cached)      -fPIC
checking if gcc PIC flag      -fPIC works... (cached) yes
checking if gcc static flag -static works... (cached) yes
checking if gcc supports -c -o file.o... (cached) yes
checking if gcc supports -c -o file.lo... (cached) 
checking if gcc supports -fno-rtti -fno-exceptions... yes
checking whether the linker (/usr/ccs/bin/ld) supports shared libraries... yes
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... yes
checking dynamic linker characteristics... solaris2.7 ld.so
checking if libtool supports shared libraries... yes
creating libtool
checking for perl... (cached) /Net/local/bin/perl
checking whether perl version is at least 5... (cached) yes
checking for dvips... (cached) /Net/local/bin/dvips
checking for tex... (cached) /Net/local/bin/tex
checking for latex... (cached) /Net/local/bin/latex
checking for makeindex... (cached) /Net/local/bin/makeindex
checking for pdftex... (cached) /Net/local/bin/pdftex
checking for pdflatex... (cached) /Net/local/bin/pdflatex
checking for makeinfo... (cached) /Net/local/bin/makeinfo
checking whether makeinfo version is at least 4... (cached) no
configure: warning: you cannot build info versions of the R manuals
checking for unzip... (cached) /bin/unzip
checking for zip... no
checking for main in -lm... (cached) yes
defining F77 to be f77
checking whether the Fortran 77 compiler (f77  ) works... yes
checking whether the Fortran 77 compiler (f77  ) is a cross-compiler... no
checking whether we are using GNU Fortran 77... (cached) yes
checking whether f77 accepts -g... (cached) yes
checking for Fortran 77 libraries... (cached)  -lg2c -lm  -L/usr/ccs/lib -L/usr/lib -L/Net/local/gnu/bin/../lib/gcc-lib/sparc-sun-solaris2.6/3.0 -L/Net/local/gnu/bin/../lib/gcc-lib -L/Net/local/gnu/pkg/gcc/gcc-3.0/lib/gcc-lib/sparc-sun-solaris2.6/3.0 -L/usr/ccs/bin -L/usr/ccs/lib -L/Net/local/gnu/bin/../lib/gcc-lib/sparc-sun-solaris2.6/3.0/../../.. -L/Net/local/gnu/pkg/gcc/gcc-3.0/lib/gcc-lib/sparc-sun-solaris2.6/3.0/../../.. -lm
checking whether f77 appends underscores... (cached) yes
checking whether f77 and gcc agree on int and double... (cached) yes
checking whether f77 and gcc agree on double complex... (cached) yes
checking whether f77 supports -c -o FILE.lo... (cached) yes
checking for c++... (cached) c++
checking whether the C++ compiler (c++  ) works... yes
checking whether the C++ compiler (c++  ) is a cross-compiler... yes
checking whether we are using GNU C++... (cached) yes
checking whether c++ accepts -g... (cached) yes
checking how to run the C++ preprocessor... (cached) c++ -E
checking for sin in -lm... (cached) yes
checking for sin in -lmoto... (cached) no
checking for main in -lncurses... (cached) no
checking for main in -ltermcap... (cached) yes
checking for dlopen in -ldl... (cached) yes
checking for main in -lz... (cached) yes
checking for gethostbyname... (cached) no
checking for gethostbyname in -lnsl... (cached) yes
checking for connect... (cached) no
checking for connect in -lsocket... (cached) yes
checking for ATL_xerbla in -latlas... (cached) no
checking for dgemm_ in -lscs... (cached) no
checking for dgemm_ in -lcomplib.sgimath... (cached) no
checking for zherk in -lblas... (cached) no
checking for dgemm_ in -lblas... (cached) no
checking for rl_callback_read_char in -lreadline... (cached) no
checking for working alloca.h... (cached) yes
checking for alloca... (cached) yes
checking for ANSI C header files... (cached) yes
checking for pid_t... (cached) yes
checking for vfork.h... (cached) no
checking for working vfork... (cached) no
checking for vprintf... (cached) yes
checking for access... (cached) yes
checking for acosh... (cached) yes
checking for asinh... (cached) yes
checking for atanh... (cached) yes
checking for bcopy... (cached) yes
checking for finite... (cached) yes
checking for ftruncate... (cached) yes
checking for getcwd... (cached) yes
checking for getgrgid... (cached) yes
checking for getpwuid... (cached) yes
checking for getuid... (cached) yes
checking for hypot... (cached) yes
checking for isnan... (cached) yes
checking for matherr... (cached) yes
checking for memcpy... (cached) yes
checking for memmove... (cached) yes
checking for mkfifo... (cached) yes
checking for popen... (cached) yes
checking for putenv... (cached) yes
checking for rint... (cached) yes
checking for setenv... (cached) no
checking for snprintf... (cached) yes
checking for strcoll... (cached) yes
checking for stat... (cached) yes
checking for strptime... (cached) yes
checking for system... (cached) yes
checking for times... (cached) yes
checking for unsetenv... (cached) no
checking for vsnprintf... (cached) yes
checking for strdup... (cached) yes
checking for __setfpucw... (cached) no
checking whether calloc is broken... (cached) no
checking whether finite is broken... (cached) no
checking whether log is broken... (cached) yes
checking for ANSI C header files... (cached) yes
checking whether time.h and sys/time.h may both be included... (cached) yes
checking for dirent.h that defines DIR... (cached) yes
checking for opendir in -ldir... (cached) no
checking for sys/wait.h that is POSIX.1 compatible... (cached) yes
checking for dl.h... (cached) no
checking for dlfcn.h... (cached) yes
checking for elf.h... (cached) yes
checking for errno.h... (cached) yes
checking for fcntl.h... (cached) yes
checking for floatingpoint.h... (cached) yes
checking for fpu_control.h... (cached) no
checking for grp.h... (cached) yes
checking for ieee754.h... (cached) no
checking for ieeefp.h... (cached) yes
checking for locale.h... (cached) yes
checking for netdb.h... (cached) yes
checking for netinet/in.h... (cached) yes
checking for netinet/tcp.h... (cached) yes
checking for pwd.h... (cached) yes
checking for readline/history.h... (cached) no
checking for readline/readline.h... (cached) no
checking for rpc/rpc.h... (cached) yes
checking for rpc/xdr.h... (cached) yes
checking for string.h... (cached) yes
checking for sys/param.h... (cached) yes
checking for sys/select.h... (cached) yes
checking for sys/socket.h... (cached) yes
checking for sys/stat.h... (cached) yes
checking for sys/time.h... (cached) yes
checking for sys/times.h... (cached) yes
checking for sys/utsname.h... (cached) yes
checking for unistd.h... (cached) yes
checking whether setjmp.h is POSIX.1 compatible... (cached) yes
checking for GNU C library with version >= 2... (cached) no
checking return type of signal handlers... (cached) void
checking for pid_t... (cached) yes
checking for size_t... (cached) yes
checking for blkcnt_t... (cached) yes
checking for sys/socket.h... (cached) yes
checking for type of socket length... (cached) socklen_t *
checking whether byte ordering is bigendian... (cached) yes
checking for working const... (cached) yes
configure: warning: assuming C longs are 4 byte on sparc-sun-solaris2.7
checking size of long... (cached) 4
checking size of long long... (cached) 8
checking size of long double... (cached) 16
checking for finite... (cached) yes
checking for isnan... (cached) yes
checking whether you have IEEE 754 floating-point arithmetic... (cached) yes
checking for xmkmf... (cached) /usr/openwin/bin/xmkmf
checking for X... (cached) libraries /usr/openwin/lib, headers /usr/openwin/include
checking whether -R must be followed by a space... no
checking for dnet_ntoa in -ldnet... (cached) no
checking for dnet_ntoa in -ldnet_stub... (cached) no
checking for gethostbyname... (cached) no
checking for gethostbyname in -lnsl... (cached) yes
checking for connect... (cached) no
checking for connect in -lsocket... (cached) yes
checking for remove... (cached) yes
checking for shmat... (cached) yes
checking for IceConnectionNumber in -lICE... (cached) yes
checking for tclConfig.sh... no
checking for tkConfig.sh... no
checking for tcl.h... no
checking for BSD networking... (cached) yes
checking for jpeglib.h... (cached) no
checking for main in -lz... (cached) yes
checking for png.h... (cached) no
checking for main in -lz... (cached) yes
checking for zlib.h... (cached) no
checking whether leap seconds are counted... no
checking for setitimer... (cached) yes
checking for lpr... (cached) lpr
checking for paperconf... (cached) false
updating cache ./config.cache
creating ./config.status
creating Makeconf
creating Makefile
creating afm/Makefile
creating doc/Makefile
creating doc/html/Makefile
creating doc/html/search/Makefile
creating doc/manual/Makefile
creating etc/Makefile
creating etc/Makeconf
creating etc/Renviron
creating m4/Makefile
creating share/Makefile
creating src/Makefile
creating src/appl/Makefile
creating src/include/Makefile
creating src/library/Makefile
creating src/library/base/DESCRIPTION
creating src/library/base/Makefile
creating src/library/profile/Makefile
creating src/library/ctest/DESCRIPTION
creating src/library/ctest/Makefile
creating src/library/ctest/src/Makefile
creating src/library/eda/DESCRIPTION
creating src/library/eda/Makefile
creating src/library/eda/src/Makefile
creating src/library/lqs/DESCRIPTION
creating src/library/lqs/Makefile
creating src/library/lqs/src/Makefile
creating src/library/modreg/DESCRIPTION
creating src/library/modreg/Makefile
creating src/library/modreg/src/Makefile
creating src/library/mva/DESCRIPTION
creating src/library/mva/Makefile
creating src/library/mva/src/Makefile
creating src/library/nls/DESCRIPTION
creating src/library/nls/Makefile
creating src/library/nls/src/Makefile
creating src/library/stepfun/DESCRIPTION
creating src/library/stepfun/Makefile
creating src/library/splines/DESCRIPTION
creating src/library/splines/Makefile
creating src/library/splines/src/Makefile
creating src/library/tcltk/DESCRIPTION
creating src/library/tcltk/Makefile
creating src/library/tcltk/src/Makefile
creating src/library/ts/DESCRIPTION
creating src/library/ts/Makefile
creating src/library/ts/src/Makefile
creating src/main/Makefile
creating src/modules/Makefile
creating src/modules/X11/Makefile
creating src/modules/gnome/Makefile
creating src/modules/internet/Makefile
creating src/modules/lapack/Makefile
creating src/modules/vfonts/Makefile
creating src/nmath/Makefile
creating src/nmath/standalone/Makefile
creating src/scripts/Makefile
creating src/scripts/COMPILE
creating src/scripts/INSTALL
creating src/scripts/REMOVE
creating src/scripts/R.sh
creating src/scripts/Rdconv
creating src/scripts/Rdindex
creating src/scripts/Rprof
creating src/scripts/SHLIB
creating src/scripts/Sd2Rd
creating src/scripts/build
creating src/scripts/check
creating src/unix/Makefile
creating tests/Makefile
creating tests/Examples/Makefile
creating tools/Makefile
creating src/include/config.h
src/include/config.h is unchanged


R is now configured for sparc-sun-solaris2.7

  Source directory:          .
  Installation directory:    /usr/local
  C compiler:                gcc  -g
  C++ compiler:              c++  -g -O2
  FORTRAN compiler:          f77  -g -O2

  X11 support:               yes
  Gnome support:             no
  Tcl/Tk support:            no

  R profiling support:       yes
  R as a shared library:     no

configure: warning: you cannot build info versions of the R manuals
-------------- next part --------------
gmake[1]: Entering directory `/home/netlj/Software/R-1.3.0/m4'
gmake[1]: Nothing to be done for `R'.
gmake[1]: Leaving directory `/home/netlj/Software/R-1.3.0/m4'
gmake[1]: Entering directory `/home/netlj/Software/R-1.3.0/tools'
gmake[1]: Nothing to be done for `R'.
gmake[1]: Leaving directory `/home/netlj/Software/R-1.3.0/tools'
gmake[1]: Entering directory `/home/netlj/Software/R-1.3.0/afm'
gmake[1]: Leaving directory `/home/netlj/Software/R-1.3.0/afm'
gmake[1]: Entering directory `/home/netlj/Software/R-1.3.0/doc'
gmake[2]: Entering directory `/home/netlj/Software/R-1.3.0/doc/html'
gmake[3]: Entering directory `/home/netlj/Software/R-1.3.0/doc/html/search'
gmake[3]: Leaving directory `/home/netlj/Software/R-1.3.0/doc/html/search'
gmake[2]: Leaving directory `/home/netlj/Software/R-1.3.0/doc/html'
gmake[2]: Entering directory `/home/netlj/Software/R-1.3.0/doc/manual'
gmake[2]: Nothing to be done for `R'.
gmake[2]: Leaving directory `/home/netlj/Software/R-1.3.0/doc/manual'
gmake[1]: Leaving directory `/home/netlj/Software/R-1.3.0/doc'
gmake[1]: Entering directory `/home/netlj/Software/R-1.3.0/etc'
gmake[1]: Nothing to be done for `R'.
gmake[1]: Leaving directory `/home/netlj/Software/R-1.3.0/etc'
gmake[1]: Entering directory `/home/netlj/Software/R-1.3.0/share'
gmake[1]: Leaving directory `/home/netlj/Software/R-1.3.0/share'
gmake[1]: Entering directory `/home/netlj/Software/R-1.3.0/src'
gmake[2]: Entering directory `/home/netlj/Software/R-1.3.0/src/scripts'
gmake[3]: Entering directory `/home/netlj/Software/R-1.3.0/src/scripts'
gmake[3]: Leaving directory `/home/netlj/Software/R-1.3.0/src/scripts'
gmake[2]: Leaving directory `/home/netlj/Software/R-1.3.0/src/scripts'
gmake[2]: Entering directory `/home/netlj/Software/R-1.3.0/src/include'
gmake[3]: Entering directory `/home/netlj/Software/R-1.3.0/src/include'
gmake[3]: Leaving directory `/home/netlj/Software/R-1.3.0/src/include'
gmake[2]: Leaving directory `/home/netlj/Software/R-1.3.0/src/include'
gmake[2]: Entering directory `/home/netlj/Software/R-1.3.0/src/appl'
gmake[3]: Entering directory `/home/netlj/Software/R-1.3.0/src/appl'
making approx.d from approx.c
making bakslv.d from bakslv.c
making binning.d from binning.c
making chull.d from chull.c
making cpoly.d from cpoly.c
making cumsum.d from cumsum.c
making fft.d from fft.c
making fmin.d from fmin.c
making integrate.d from integrate.c
making lbfgsb.d from lbfgsb.c
making loglin.d from loglin.c
making lowess.d from lowess.c
making machar.d from machar.c
making maxcol.d from maxcol.c
making massdist.d from massdist.c
making pretty.d from pretty.c
making rowsum.d from rowsum.c
making splines.d from splines.c
making stem.d from stem.c
making strsignif.d from strsignif.c
making tabulate.d from tabulate.c
making uncmin.d from uncmin.c
making zeroin.d from zeroin.c
gmake[3]: Leaving directory `/home/netlj/Software/R-1.3.0/src/appl'
gmake[3]: Entering directory `/home/netlj/Software/R-1.3.0/src/appl'
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c approx.c -o approx.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c bakslv.c -o bakslv.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c binning.c -o binning.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c chull.c -o chull.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c cpoly.c -o cpoly.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c cumsum.c -o cumsum.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c fft.c -o fft.o
"fft.c", line 664: warning: loop not entered at top
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c fmin.c -o fmin.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c integrate.c -o integrate.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c lbfgsb.c -o lbfgsb.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c loglin.c -o loglin.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c lowess.c -o lowess.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c machar.c -o machar.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c maxcol.c -o maxcol.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c massdist.c -o massdist.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c pretty.c -o pretty.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c rowsum.c -o rowsum.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c splines.c -o splines.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c stem.c -o stem.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c strsignif.c -o strsignif.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c tabulate.c -o tabulate.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c uncmin.c -o uncmin.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c zeroin.c -o zeroin.o
f77   -g -O2 -c ch2inv.f -o ch2inv.o
ch2inv.f:
	ch2inv:
f77   -g -O2 -c chol.f -o chol.o
chol.f:
	chol:
f77   -g -O2 -c dpbfa.f -o dpbfa.o
dpbfa.f:
	dpbfa:
f77   -g -O2 -c dpbsl.f -o dpbsl.o
dpbsl.f:
	dpbsl:
f77   -g -O2 -c dpoco.f -o dpoco.o
dpoco.f:
	dpoco:
f77   -g -O2 -c dpodi.f -o dpodi.o
dpodi.f:
	dpodi:
f77   -g -O2 -c dpofa.f -o dpofa.o
dpofa.f:
	dpofa:
f77   -g -O2 -c dposl.f -o dposl.o
dposl.f:
	dposl:
f77   -g -O2 -c dqrdc.f -o dqrdc.o
dqrdc.f:
	dqrdc:
f77   -g -O2 -c dqrdc2.f -o dqrdc2.o
dqrdc2.f:
	dqrdc2:
f77   -g -O2 -c dqrls.f -o dqrls.o
dqrls.f:
	dqrls:
f77   -g -O2 -c dqrsl.f -o dqrsl.o
dqrsl.f:
	dqrsl:
f77   -g -O2 -c dqrutl.f -o dqrutl.o
dqrutl.f:
	dqrqty:
	dqrqy:
	dqrcf:
	dqrrsd:
	dqrxb:
f77   -g -O2 -c dsvdc.f -o dsvdc.o
dsvdc.f:
	dsvdc:
f77   -g -O2 -c dtrco.f -o dtrco.o
dtrco.f:
	dtrco:
f77   -g -O2 -c dtrsl.f -o dtrsl.o
dtrsl.f:
	dtrsl:
f77   -g -O2 -c eigen.f -o eigen.o
eigen.f:
	balanc:
	balbak:
	cbabk2:
	cbal:
	cdiv:
	comqr:
	comqr2:
	corth:
	csroot:
	elmhes:
	eltran:
	epslon:
	hqr:
	hqr2:
	htribk:
	htridi:
	pythag:
	tql1:
	tql2:
	tqlrat:
	tred1:
	tred2:
	rg:
	rs:
	cg:
	ch:
f77   -g -O2 -c lminfl.f -o lminfl.o
lminfl.f:
	lminfl:
f77   -g -O2 -c blas.f -o blas.o
blas.f:
	dasum:
	daxpy:
	dcopy:
	ddot:
	dmach:
	dnrm2:
	drot:
	drotg:
	dscal:
	dswap:
	idamax:
	dgemm:
	dtrsm:
	lsame:
ar cr libappl.a approx.o bakslv.o binning.o chull.o cpoly.o cumsum.o fft.o fmin.o integrate.o lbfgsb.o loglin.o lowess.o machar.o maxcol.o massdist.o pretty.o rowsum.o splines.o stem.o strsignif.o tabulate.o uncmin.o zeroin.o ch2inv.o chol.o dpbfa.o dpbsl.o dpoco.o dpodi.o dpofa.o dposl.o dqrdc.o dqrdc2.o dqrls.o dqrsl.o dqrutl.o dsvdc.o dtrco.o dtrsl.o eigen.o lminfl.o blas.o
ranlib libappl.a
gmake[3]: Leaving directory `/home/netlj/Software/R-1.3.0/src/appl'
gmake[2]: Leaving directory `/home/netlj/Software/R-1.3.0/src/appl'
gmake[2]: Entering directory `/home/netlj/Software/R-1.3.0/src/nmath'
gmake[3]: Entering directory `/home/netlj/Software/R-1.3.0/src/nmath'
making mlutils.d from mlutils.c
making d1mach.d from d1mach.c
making i1mach.d from i1mach.c
making fmax2.d from fmax2.c
making fmin2.d from fmin2.c
making fprec.d from fprec.c
making fround.d from fround.c
making ftrunc.d from ftrunc.c
making sign.d from sign.c
making fsign.d from fsign.c
making imax2.d from imax2.c
making imin2.d from imin2.c
making chebyshev.d from chebyshev.c
making log1p.d from log1p.c
making lgammacor.d from lgammacor.c
making gammalims.d from gammalims.c
making stirlerr.d from stirlerr.c
making bd0.d from bd0.c
making gamma.d from gamma.c
making lgamma.d from lgamma.c
making gamma_cody.d from gamma_cody.c
making beta.d from beta.c
making lbeta.d from lbeta.c
making polygamma.d from polygamma.c
making bessel_i.d from bessel_i.c
making bessel_j.d from bessel_j.c
making bessel_k.d from bessel_k.c
making bessel_y.d from bessel_y.c
making choose.d from choose.c
making snorm.d from snorm.c
making sexp.d from sexp.c
making dgamma.d from dgamma.c
making pgamma.d from pgamma.c
making qgamma.d from qgamma.c
making rgamma.d from rgamma.c
making dbeta.d from dbeta.c
making pbeta.d from pbeta.c
making qbeta.d from qbeta.c
making rbeta.d from rbeta.c
making dunif.d from dunif.c
making punif.d from punif.c
making qunif.d from qunif.c
making runif.d from runif.c
making dnorm.d from dnorm.c
making pnorm.d from pnorm.c
making qnorm.d from qnorm.c
making rnorm.d from rnorm.c
making dlnorm.d from dlnorm.c
making plnorm.d from plnorm.c
making qlnorm.d from qlnorm.c
making rlnorm.d from rlnorm.c
making df.d from df.c
making pf.d from pf.c
making qf.d from qf.c
making rf.d from rf.c
making dt.d from dt.c
making pt.d from pt.c
making qt.d from qt.c
making rt.d from rt.c
making dchisq.d from dchisq.c
making pchisq.d from pchisq.c
making qchisq.d from qchisq.c
making rchisq.d from rchisq.c
making dbinom.d from dbinom.c
making pbinom.d from pbinom.c
making qbinom.d from qbinom.c
making rbinom.d from rbinom.c
making dcauchy.d from dcauchy.c
making pcauchy.d from pcauchy.c
making qcauchy.d from qcauchy.c
making rcauchy.d from rcauchy.c
making dexp.d from dexp.c
making pexp.d from pexp.c
making qexp.d from qexp.c
making rexp.d from rexp.c
making dgeom.d from dgeom.c
making pgeom.d from pgeom.c
making qgeom.d from qgeom.c
making rgeom.d from rgeom.c
making dhyper.d from dhyper.c
making phyper.d from phyper.c
making qhyper.d from qhyper.c
making rhyper.d from rhyper.c
making dnbinom.d from dnbinom.c
making pnbinom.d from pnbinom.c
making qnbinom.d from qnbinom.c
making rnbinom.d from rnbinom.c
making dpois.d from dpois.c
making ppois.d from ppois.c
making qpois.d from qpois.c
making rpois.d from rpois.c
making dweibull.d from dweibull.c
making pweibull.d from pweibull.c
making qweibull.d from qweibull.c
making rweibull.d from rweibull.c
making dlogis.d from dlogis.c
making plogis.d from plogis.c
making qlogis.d from qlogis.c
making rlogis.d from rlogis.c
making dnchisq.d from dnchisq.c
making pnchisq.d from pnchisq.c
making qnchisq.d from qnchisq.c
making dnbeta.d from dnbeta.c
making pnbeta.d from pnbeta.c
making pnf.d from pnf.c
making pnt.d from pnt.c
making ptukey.d from ptukey.c
making qtukey.d from qtukey.c
making wilcox.d from wilcox.c
making signrank.d from signrank.c
gmake[3]: Leaving directory `/home/netlj/Software/R-1.3.0/src/nmath'
gmake[3]: Entering directory `/home/netlj/Software/R-1.3.0/src/nmath'
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c mlutils.c -o mlutils.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c d1mach.c -o d1mach.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c i1mach.c -o i1mach.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c fmax2.c -o fmax2.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c fmin2.c -o fmin2.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c fprec.c -o fprec.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c fround.c -o fround.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c ftrunc.c -o ftrunc.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c sign.c -o sign.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c fsign.c -o fsign.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c imax2.c -o imax2.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c imin2.c -o imin2.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c chebyshev.c -o chebyshev.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c log1p.c -o log1p.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c lgammacor.c -o lgammacor.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c gammalims.c -o gammalims.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c stirlerr.c -o stirlerr.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c bd0.c -o bd0.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c gamma.c -o gamma.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c lgamma.c -o lgamma.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c gamma_cody.c -o gamma_cody.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c beta.c -o beta.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c lbeta.c -o lbeta.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c polygamma.c -o polygamma.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c bessel_i.c -o bessel_i.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c bessel_j.c -o bessel_j.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c bessel_k.c -o bessel_k.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c bessel_y.c -o bessel_y.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c choose.c -o choose.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c snorm.c -o snorm.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c sexp.c -o sexp.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c dgamma.c -o dgamma.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c pgamma.c -o pgamma.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c qgamma.c -o qgamma.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c rgamma.c -o rgamma.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c dbeta.c -o dbeta.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c pbeta.c -o pbeta.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c qbeta.c -o qbeta.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c rbeta.c -o rbeta.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c dunif.c -o dunif.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c punif.c -o punif.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c qunif.c -o qunif.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c runif.c -o runif.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c dnorm.c -o dnorm.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c pnorm.c -o pnorm.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c qnorm.c -o qnorm.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c rnorm.c -o rnorm.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c dlnorm.c -o dlnorm.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c plnorm.c -o plnorm.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c qlnorm.c -o qlnorm.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c rlnorm.c -o rlnorm.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c df.c -o df.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c pf.c -o pf.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c qf.c -o qf.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c rf.c -o rf.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c dt.c -o dt.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c pt.c -o pt.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c qt.c -o qt.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c rt.c -o rt.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c dchisq.c -o dchisq.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c pchisq.c -o pchisq.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c qchisq.c -o qchisq.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c rchisq.c -o rchisq.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c dbinom.c -o dbinom.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c pbinom.c -o pbinom.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c qbinom.c -o qbinom.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c rbinom.c -o rbinom.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c dcauchy.c -o dcauchy.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c pcauchy.c -o pcauchy.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c qcauchy.c -o qcauchy.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c rcauchy.c -o rcauchy.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c dexp.c -o dexp.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c pexp.c -o pexp.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c qexp.c -o qexp.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c rexp.c -o rexp.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c dgeom.c -o dgeom.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c pgeom.c -o pgeom.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c qgeom.c -o qgeom.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c rgeom.c -o rgeom.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c dhyper.c -o dhyper.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c phyper.c -o phyper.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c qhyper.c -o qhyper.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c rhyper.c -o rhyper.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c dnbinom.c -o dnbinom.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c pnbinom.c -o pnbinom.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c qnbinom.c -o qnbinom.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c rnbinom.c -o rnbinom.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c dpois.c -o dpois.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c ppois.c -o ppois.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c qpois.c -o qpois.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c rpois.c -o rpois.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c dweibull.c -o dweibull.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c pweibull.c -o pweibull.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c qweibull.c -o qweibull.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c rweibull.c -o rweibull.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c dlogis.c -o dlogis.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c plogis.c -o plogis.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c qlogis.c -o qlogis.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c rlogis.c -o rlogis.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c dnchisq.c -o dnchisq.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c pnchisq.c -o pnchisq.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c qnchisq.c -o qnchisq.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c dnbeta.c -o dnbeta.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c pnbeta.c -o pnbeta.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c pnf.c -o pnf.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c pnt.c -o pnt.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c ptukey.c -o ptukey.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c qtukey.c -o qtukey.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c wilcox.c -o wilcox.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c signrank.c -o signrank.o
ar cr libnmath.a mlutils.o d1mach.o i1mach.o fmax2.o fmin2.o fprec.o fround.o ftrunc.o sign.o fsign.o imax2.o imin2.o chebyshev.o log1p.o lgammacor.o gammalims.o stirlerr.o bd0.o gamma.o lgamma.o gamma_cody.o beta.o lbeta.o polygamma.o bessel_i.o bessel_j.o bessel_k.o bessel_y.o choose.o snorm.o sexp.o dgamma.o pgamma.o qgamma.o rgamma.o dbeta.o pbeta.o qbeta.o rbeta.o dunif.o punif.o qunif.o runif.o dnorm.o pnorm.o qnorm.o rnorm.o dlnorm.o plnorm.o qlnorm.o rlnorm.o df.o pf.o qf.o rf.o dt.o pt.o qt.o rt.o dchisq.o pchisq.o qchisq.o rchisq.o dbinom.o pbinom.o qbinom.o rbinom.o dcauchy.o pcauchy.o qcauchy.o rcauchy.o dexp.o pexp.o qexp.o rexp.o dgeom.o pgeom.o qgeom.o rgeom.o dhyper.o phyper.o qhyper.o rhyper.o dnbinom.o pnbinom.o qnbinom.o rnbinom.o dpois.o ppois.o qpois.o rpois.o dweibull.o pweibull.o qweibull.o rweibull.o dlogis.o plogis.o qlogis.o rlogis.o dnchisq.o pnchisq.o qnchisq.o dnbeta.o pnbeta.o pnf.o pnt.o ptukey.o qtukey.o wilcox.o signrank.o
ranlib libnmath.a
gmake[3]: Leaving directory `/home/netlj/Software/R-1.3.0/src/nmath'
gmake[2]: Leaving directory `/home/netlj/Software/R-1.3.0/src/nmath'
gmake[2]: Entering directory `/home/netlj/Software/R-1.3.0/src/unix'
creating src/unix/Makefile
gmake[2]: Leaving directory `/home/netlj/Software/R-1.3.0/src/unix'
gmake[2]: Entering directory `/home/netlj/Software/R-1.3.0/src/unix'
gmake[3]: Entering directory `/home/netlj/Software/R-1.3.0/src/unix'
making devices.d from devices.c
making dynload.d from dynload.c
making edit.d from edit.c
making gnome.d from gnome.c
making stubs.d from stubs.c
making system.d from system.c
making sys-unix.d from sys-unix.c
making sys-common.d from sys-common.c
making sys-std.d from sys-std.c
making X11.d from X11.c
gmake[3]: Leaving directory `/home/netlj/Software/R-1.3.0/src/unix'
gmake[3]: Entering directory `/home/netlj/Software/R-1.3.0/src/unix'
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c devices.c -o devices.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c dynload.c -o dynload.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c edit.c -o edit.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c gnome.c -o gnome.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c stubs.c -o stubs.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c system.c -o system.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c sys-unix.c -o sys-unix.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c sys-common.c -o sys-common.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c sys-std.c -o sys-std.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c X11.c -o X11.o
ar cr libunix.a devices.o dynload.o edit.o gnome.o stubs.o system.o sys-unix.o sys-common.o sys-std.o X11.o
ranlib libunix.a
gmake[3]: Leaving directory `/home/netlj/Software/R-1.3.0/src/unix'
gmake[2]: Leaving directory `/home/netlj/Software/R-1.3.0/src/unix'
gmake[2]: Entering directory `/home/netlj/Software/R-1.3.0/src/main'
creating src/main/Makefile
gmake[2]: Leaving directory `/home/netlj/Software/R-1.3.0/src/main'
gmake[2]: Entering directory `/home/netlj/Software/R-1.3.0/src/main'
gmake[3]: Entering directory `/home/netlj/Software/R-1.3.0/src/main'
making CConverters.d from CConverters.c
making Rdynload.d from Rdynload.c
making RNG.d from RNG.c
making apply.d from apply.c
making arithmetic.d from arithmetic.c
making array.d from array.c
making attrib.d from attrib.c
making bind.d from bind.c
making builtin.d from builtin.c
making character.d from character.c
making coerce.d from coerce.c
making colors.d from colors.c
making complex.d from complex.c
making connections.d from connections.c
making context.d from context.c
making cov.d from cov.c
making cum.d from cum.c
making dcf.d from dcf.c
making datetime.d from datetime.c
making debug.d from debug.c
making devPS.d from devPS.c
making devPicTeX.d from devPicTeX.c
making deparse.d from deparse.c
making deriv.d from deriv.c
making devices.d from devices.c
making dotcode.d from dotcode.c
making dstruct.d from dstruct.c
making duplicate.d from duplicate.c
making envir.d from envir.c
making errors.d from errors.c
making eval.d from eval.c
making format.d from format.c
making fourier.d from fourier.c
making gram.d from gram.c
making gram-ex.d from gram-ex.c
making graphics.d from graphics.c
making internet.d from internet.c
making iosupport.d from iosupport.c
making lapack.d from lapack.c
making list.d from list.c
making logic.d from logic.c
making main.d from main.c
making match.d from match.c
making memory.d from memory.c
making model.d from model.c
making names.d from names.c
making objects.d from objects.c
making optim.d from optim.c
making optimize.d from optimize.c
making options.d from options.c
making par.d from par.c
making paste.d from paste.c
making platform.d from platform.c
making plot.d from plot.c
making plot3d.d from plot3d.c
making plotmath.d from plotmath.c
making print.d from print.c
making printarray.d from printarray.c
making printvector.d from printvector.c
making printutils.d from printutils.c
making random.d from random.c
making regex.d from regex.c
making relop.d from relop.c
making saveload.d from saveload.c
making scan.d from scan.c
making seq.d from seq.c
making size.d from size.c
making sort.d from sort.c
making source.d from source.c
making split.d from split.c
making subassign.d from subassign.c
making subscript.d from subscript.c
making subset.d from subset.c
making summary.d from summary.c
making unique.d from unique.c
making util.d from util.c
making version.d from version.c
making vfonts.d from vfonts.c
making alloca.d from alloca.c
making strdup.d from strdup.c
gmake[3]: Leaving directory `/home/netlj/Software/R-1.3.0/src/main'
gmake[3]: Entering directory `/home/netlj/Software/R-1.3.0/src/main'
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c CConverters.c -o CConverters.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c Rdynload.c -o Rdynload.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c RNG.c -o RNG.o
"RNG.c", line 624: warning: initializer does not fit or is out of range: -1
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c apply.c -o apply.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c arithmetic.c -o arithmetic.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c array.c -o array.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c attrib.c -o attrib.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c bind.c -o bind.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c builtin.c -o builtin.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c character.c -o character.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c coerce.c -o coerce.o
"coerce.c", line 528: warning: statement not reached
"coerce.c", line 535: warning: statement not reached
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c colors.c -o colors.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c complex.c -o complex.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c connections.c -o connections.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c context.c -o context.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c cov.c -o cov.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c cum.c -o cum.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c dcf.c -o dcf.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c datetime.c -o datetime.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c debug.c -o debug.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c devPS.c -o devPS.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c devPicTeX.c -o devPicTeX.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c deparse.c -o deparse.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c deriv.c -o deriv.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c devices.c -o devices.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c dotcode.c -o dotcode.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c dstruct.c -o dstruct.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c duplicate.c -o duplicate.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c envir.c -o envir.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c errors.c -o errors.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c eval.c -o eval.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c format.c -o format.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c fourier.c -o fourier.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c gram.c -o gram.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c gram-ex.c -o gram-ex.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c graphics.c -o graphics.o
"graphics.c", line 5080: warning: initializer does not fit or is out of range: -1
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c internet.c -o internet.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c iosupport.c -o iosupport.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c lapack.c -o lapack.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c list.c -o list.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c logic.c -o logic.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c main.c -o main.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c match.c -o match.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c memory.c -o memory.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c model.c -o model.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c names.c -o names.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c objects.c -o objects.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c optim.c -o optim.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c optimize.c -o optimize.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c options.c -o options.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c par.c -o par.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c paste.c -o paste.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c platform.c -o platform.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c plot.c -o plot.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c plot3d.c -o plot3d.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c plotmath.c -o plotmath.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c print.c -o print.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c printarray.c -o printarray.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c printvector.c -o printvector.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c printutils.c -o printutils.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c random.c -o random.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c regex.c -o regex.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c relop.c -o relop.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c saveload.c -o saveload.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c scan.c -o scan.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c seq.c -o seq.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c size.c -o size.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c sort.c -o sort.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c source.c -o source.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c split.c -o split.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c subassign.c -o subassign.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c subscript.c -o subscript.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c subset.c -o subset.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c summary.c -o summary.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c unique.c -o unique.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c util.c -o util.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c version.c -o version.o
cc -I. -I../../src/include -I../../src/include -I/usr/local/include -DHAVE_CONFIG_H   -g -c vfonts.c -o vfonts.o
f77   -g -O2 -c xxxpr.f -o xxxpr.o
xxxpr.f:
	intpr:
	realpr:
	dblepr:
/Net/local/bin/cc   -o R.bin  CConverters.o Rdynload.o RNG.o apply.o arithmetic.o array.o attrib.o bind.o builtin.o character.o coerce.o colors.o complex.o connections.o context.o cov.o cum.o dcf.o datetime.o debug.o devPS.o devPicTeX.o deparse.o deriv.o devices.o dotcode.o dstruct.o duplicate.o envir.o errors.o eval.o format.o fourier.o gram.o gram-ex.o graphics.o internet.o iosupport.o lapack.o list.o logic.o main.o match.o memory.o model.o names.o objects.o optim.o optimize.o options.o par.o paste.o platform.o plot.o plot3d.o plotmath.o print.o printarray.o printvector.o printutils.o random.o regex.o relop.o saveload.o scan.o seq.o size.o sort.o source.o split.o subassign.o subscript.o subset.o summary.o unique.o util.o version.o vfonts.o xxxpr.o ../unix/libunix.a ../appl/libappl.a ../nmath/libnmath.a   -L/home/netlj/Software/lib -lf2c -lm  -L/usr/ccs/lib -L/usr/lib -L/Net/local/pkg/forte/current/lib -L/usr/ccs/bin -L/usr/ccs/lib -lsunmath  -L/usr/local/lib  -lsocket -lnsl -lz -ldl -ltermcap -lm
Undefined			first referenced
 symbol  			    in file
__d_sign                            ../appl/libappl.a(dpoco.o)
__c_conv_i                          ../appl/libappl.a(blas.o)
ld: fatal: Symbol referencing errors. No output written to R.bin
gmake[3]: *** [R.bin] Error 1
gmake[3]: Leaving directory `/home/netlj/Software/R-1.3.0/src/main'
gmake[2]: *** [R] Error 2
gmake[2]: Leaving directory `/home/netlj/Software/R-1.3.0/src/main'
gmake[1]: *** [R] Error 1
gmake[1]: Leaving directory `/home/netlj/Software/R-1.3.0/src'
gmake: *** [R] Error 1

From ripley at stats.ox.ac.uk  Thu Jul 26 09:12:12 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 26 Jul 2001 08:12:12 +0100 (BST)
Subject: [R] Floating point "fuzz" and rpart?
In-Reply-To: <5.1.0.14.2.20010725125442.00af5830@127.0.0.1>
Message-ID: <Pine.GSO.4.31.0107260802250.16218-100000@auk.stats>

On Wed, 25 Jul 2001, Marc Feldesman wrote:

> I've been using rpart with R (1.3.0 Windows) for some time.  I recently ran
> one of my research data sets through the rpart routine and produced a
> classification tree.  I tried to replicate the results of the rpart
> analysis on another machine of mine and discovered some startling
> differences in the results.  Puzzled, I went back to the raw data residing
> on both machines.  I printed out both versions of the data, ran summary
> statistics, plotted histograms, boxplots, and anything else I could think
> of.  On the surface, the datasets are identical.  Since the file attributes
> were completely different, I know that the two versions may have originated
> from the same source but had been moved to R via different
> mechanisms.  Ultimately, I read both files in as .csv tables using read.csv().
>
> Perplexed I gave the files different names and read both into a single
> version of R 1.3.0.  I ran rpart on each file and got the same results as
> when I ran the two files on separate machines.  So, I decided to do
> variable-by-variable comparisons using the all.equal.numeric() function.
>
> On one machine, all.equal.numeric() returns TRUE for the same set of
> variables in both files, while on the second machine 9 of 10 variables
> return answers like the following (all are approximately 2.6......e-07):
>
> "Mean relative  difference: 2.628787e-07"
>
> So, clearly the two "identical files" are different somewhere in the outer
> reaches of floating point representation.  (The two machines are identical
> Dell PIII, XPS T700's - one has 256MB RAM, the other 512MB RAM).
>
> Questions:
>
> 1.  Both machines have the same versions of R (with default options) and
> rpart, and I used one machine to propagate duplicate copies of each file to
> the other machine.  Why would one machine report all.equal.numeric() to be
> TRUE for all variables, while the other machine report 9 of 10 different in
> the outer floating point regions?  (Interestingly enough, the one variable
> reported to be "exactly" equal is the only variable of 10 recorded to the
> nearest "integer" - although stored as a floating point number; the other 9
> were measured in mm and recorded to the nearest tenth of a mm.)

Windows has a load of DLLs providing the run-time system, notably
msvcrt.dll.  I suspect different versions of msvcrt.dll.

> 2.  Even with differences only beyond the 7th decimal place, why would
> rpart report such demonstrably different results with the "same" data
> set?  Does floating point "fuzz" really make that much
> difference?  (rhetorical question!   The answer is obvious here.)

That is a little surprising (because most of rpart is in double precision
in R, single precision in S).  But it does make differences to `unstable'
methods (in Breiman's terminology) and CART is one of the most unstable
(hence bagging).

I should say that rpart_3.0-0 (the version in R 1.3.0) has a few problems
(as the first of a new major revision), although I am not aware of anything
giving incorrect results outside the survival area (where the author
convinced himself the new results were right, and has now changed his
mind).  He is getting all the new features in now, in anticipation of rpart
shipping with S-PLUS.

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jul 26 09:22:20 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 26 Jul 2001 08:22:20 +0100 (BST)
Subject: [R] Installation help
In-Reply-To: <3B5F1192.89B0C537@sandia.gov>
Message-ID: <Pine.GSO.4.31.0107260818350.16241-100000@auk.stats>

On Wed, 25 Jul 2001, Leslea J. Lehoucq wrote:

> Hello,
>
> I am trying to compile R using the Sun WorkShop 6.0 (Forte) compilers.
> I don't think I am having a problem with the compilers, but instead with
>
> figuring out how to modify the R configuration to use non-Gnu compilers.
>
> I found in your documentation that one should modify the config.site
> file
> to change compilers, compiler flags, library paths, etc.  I made
> modifications
> in this file, but the configure script still seems to be relying on the
> Gnu
> compilers rather than the compilers I've specified.  It picks up my
> changes
> to the fortran compiler (using f77 instead of g77), but ignores my
> specification
> of the cc compiler rather than gcc.  Since I couldn't use config.site to
> fix
> my problem, I configured with whatever the configure script was giving
> me,
> and then went into the Makeconf file to change compiler, library paths,
> and
> other flags.  I have made some progress in compiling (i.e. when I run
> gmake I am getting the right compilers, paths, and flags), but my build
> is
> failing at a certain point.
>
> Do you know of anyone who has compiled R with the Solaris WorkShop 6.0
> (Forte) compilers?  Pointers would be greatly appreciated.

Yes, I do it as part of the regular testing.

You need to remove config.cache and then re-run configure, as the CC value
is cached to be gcc.  I would have CC=cc and make sure the compiler is in
your path.

Also, you need to set FPICFLAGS to -PIC, and -Kpic should be -KPIC.
(I think configure would have figured these out if you had left them
unset.)

Start again from a clean sheet, edit config.site before you do anything and
it should work. It has for me many times.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nittner at stat.uni-muenchen.de  Thu Jul 26 10:02:56 2001
From: nittner at stat.uni-muenchen.de (Thomas Nittner)
Date: Thu, 26 Jul 2001 10:02:56 +0200
Subject: [R] mgcv
Message-ID: <3B5FCEB0.58B3816D@stat.uni-muenchen.de>

Hi helpteam,

may you send me the exact syntax for getting the estimated degrees
of freedom for a gam?

I tried to do it by

 name <- edf(gam_name)

but this didn't work.

Thanks a lot,
greetings from Munich,

Thomas Nittner


-- 
Thomas Nittner              Tel:    ++49 89 2180 3197
Akademiestra?e 1          Fax:  ++49 89 2180 5042
D - 80799 M?nchen       http://www.stat.uni-muenchen.de
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snw at mcs.st-and.ac.uk  Thu Jul 26 11:32:35 2001
From: snw at mcs.st-and.ac.uk (Simon Wood)
Date: Thu, 26 Jul 2001 10:32:35 +0100 (BST)
Subject: [R] mgcv
In-Reply-To: <3B5FCEB0.58B3816D@stat.uni-muenchen.de>
Message-ID: <Pine.GSO.4.21.0107261027080.8887-100000@dolphin>

> may you send me the exact syntax for getting the estimated degrees
> of freedom for a gam?
> 
> I tried to do it by
> 
>  name <- edf(gam_name)
> 
> but this didn't work.
- sorry I've not (yet) written a function to extract this so you'll have
to use:

> gam_name$edf 

which will yield an array of estimated degrees of freedom for each smooth
term in the model. To get the total edf you'll need to sum this array and
add on the d.f.s for any parameteric model terms (e.g. the 
constant). Total edf is also printed by print.gam(). e.g.

> gam_name

Family: gaussian 
Link function: identity 

Formula:
y ~ s(x0) + s(x1) + s(x2) + s(x3)

Estimated degrees of freedom:
 2.745596 3.172674 6.976935 1.537905   total =  15.43311 

GCV score:  4.252583 

Simon

  ______________________________________________________________________
> Simon Wood  snw at st-and.ac.uk  http://www.ruwpa.st-and.ac.uk/simon.html
> The Mathematical Institute, North Haugh, St. Andrews, Fife KY16 9SS UK
> Direct telephone: (0)1334 463799          Indirect fax: (0)1334 463748 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu Jul 26 13:50:57 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 26 Jul 2001 13:50:57 +0200 (MET DST)
Subject: [R] R in alfa: cannot start
In-Reply-To: <3B5FCEB0.58B3816D@stat.uni-muenchen.de>
Message-ID: <Pine.OSF.3.96.1010726134311.6277A-100000@ija.csic.es>

Hi!

I've installed the R version of Digital Unix 
from the tar file (/R-CRAN/bin/osf/osf4.0/tar/R-base-1.2.3.tar.gz)
as I do not have root permissions.

I've changed (in the file ..usr/local/bin/R) 
the variable R_HOME_DIR to
/usr/rn/alobo/R/usr/local/lib/R
as I have untared in /usr/rn/alobo/R

When I type R, I get:
Fatal error: The X11 shared library could not be loaded.
  The error was dlopen: cannot load
/usr/rn/alobo/R/usr/local/lib/R/bin/R_X11.so

The machine is running Digital UNIX V4.0F  (Rev. 1229)

What can I do?

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Thu Jul 26 13:42:44 2001
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Thu, 26 Jul 2001 13:42:44 +0200
Subject: [R] replacing values in  a vector
Message-ID: <3B600234.5A4225A@psy.uni-muenchen.de>

Hi all,

there is a vector v with several NAs. I want to create a new vector n of
the same length as v and the same NAs as in v and tried this:

n <- vector(length=length(v), mode="numeric")
replace(n, which(is.na(v)), NA)

but this does't work, all values in n are 0. What went wrong?

Thanks, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.pesl at arcs.ac.at  Thu Jul 26 14:12:41 2001
From: thomas.pesl at arcs.ac.at (Pesl Thomas)
Date: Thu, 26 Jul 2001 14:12:41 +0200
Subject: [R] dist - memory
Message-ID: <D16B18FFF743D311A9CA0090275F3CB003D851F5@arcss07.arcs.ac.at>

Dear R friends,

Is there a formula for the amount of memory, that is needed by dist(), when
you know the number of columns and rows? Or is there at least an
approximation?

Thomas Pesl
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jniesch at gwdg.de  Thu Jul 26 14:13:18 2001
From: jniesch at gwdg.de (Jens Nieschulze)
Date: Thu, 26 Jul 2001 14:13:18 +0200 (MET DST)
Subject: [R] replacing values in  a vector
In-Reply-To: <3B600234.5A4225A@psy.uni-muenchen.de>
Message-ID: <Pine.SO4.4.10.10107261410180.7529-100000@ufobi7.uni-forst.gwdg.de>

On Thu, 26 Jul 2001, Sven Garbade wrote:

> Hi all,
> 
> there is a vector v with several NAs. I want to create a new vector n of
> the same length as v and the same NAs as in v and tried this:
> 
> n <- vector(length=length(v), mode="numeric")
> replace(n, which(is.na(v)), NA)
> 
> but this does't work, all values in n are 0. What went wrong?

> replace
function (x, list, values) 
{
    x[list] <- values
    x
}
from the function body I gues you should use

> replace(n, which(is.na(v)), NA)->n

instead because I assume that x is a local variable
so the global n wouldn't be changed by replace()

	J


> 
> Thanks, Sven
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

***********************************************************************
Jens Nieschulze

Institute for Forest Biometrics &	Phone: ++49-551-39-12107
Applied Computer Science		Fax  : ++49-551-39-3465
Buesgenweg 4
37077 Goettingen		E-mail: jniesch at uni-forst.gwdg.de
GERMANY				http://www.uni-forst.gwdg.de/~jniesch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Thu Jul 26 14:23:12 2001
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Thu, 26 Jul 2001 14:23:12 +0200
Subject: [R] replacing values in a vector
In-Reply-To: <3B600234.5A4225A@psy.uni-muenchen.de>
References: <3B600234.5A4225A@psy.uni-muenchen.de>
Message-ID: <01072614231200.00786@aconitum>

On Thursday 26 July 2001 13:42, Sven Garbade wrote:                           
                                                                 
> Hi all,
>
> there is a vector v with several NAs. I want to create a new vector n of
> the same length as v and the same NAs as in v and tried this:
>
> n <- vector(length=length(v), mode="numeric")
> replace(n, which(is.na(v)), NA)
>
> but this does't work, all values in n are 0. What went wrong?

You have to assign the result of the replacement, like in

n <- replace(n, which(is.na(v)), NA)

Or, somewhat simpler:

n[is.na(v)] <- NA


Cheers

Kaspar Pflugshaupt

-- 

Kaspar Pflugshaupt
Geobotanical Institute
ETH Zurich, Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Thu Jul 26 14:27:44 2001
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Thu, 26 Jul 2001 14:27:44 +0200
Subject: [R] replacing values in  a vector
References: <Pine.SO4.4.10.10107261410180.7529-100000@ufobi7.uni-forst.gwdg.de>
Message-ID: <3B600CC0.7496C4B7@psy.uni-muenchen.de>

Jens Nieschulze wrote:
> 
> On Thu, 26 Jul 2001, Sven Garbade wrote:
> 
> > Hi all,
> >
> > there is a vector v with several NAs. I want to create a new vector n of
> > the same length as v and the same NAs as in v and tried this:
> >
> > n <- vector(length=length(v), mode="numeric")
> > replace(n, which(is.na(v)), NA)
> >
> > but this does't work, all values in n are 0. What went wrong?
> 
> > replace
> function (x, list, values)
> {
>     x[list] <- values
>     x
> }
> from the function body I gues you should use
> 
> > replace(n, which(is.na(v)), NA)->n
> 
> instead because I assume that x is a local variable
> so the global n wouldn't be changed by replace()

oh, of course... Thanks!

Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jul 26 15:27:31 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 26 Jul 2001 14:27:31 +0100 (BST)
Subject: [R] tree and rpart
Message-ID: <Pine.LNX.4.31.0107261425440.1691-100000@gannet.stats>

There have been various messages about packages tree and rpart whilst
I have been travelling, and I have now prepared updates.

tree
====

Tree is one of the oldest packages on CRAN (Feb 2000 apart from adding
the maintainer field), and I had been hoping that it would fade away
in favour of rpart.

1) sys.parent needed to be replaced by parent.frame in all but the
   most recent R (post 1.3.0).

2) There have been various reports about singlenode trees.  Almost all
   of these are the same in the S original.  I've altered the code so
   that class "singlenode" inherits from class "tree" and added a few
   checks, so singlenode trees should be better supported.

tree_1.0-3.tar.gz is at http://www.stats.ox.ac.uk/pub/R and
en route to CRAN.  The Windows version is on
http://toucan.stats.ox.ac.uk/R/RWin and will propagate to CRAN.


rpart
=====

Since rpart 2.x, rpart could do all that tree could do, faster.  We
are now on rpart 3.x, which added user-specified splits and
NA-handling.  At some point fairly soon rpart is expected to ship as
part of S-PLUS and the interface will be frozen, but that means that
Terry Therneau has made lots of undocumented changes that some of you
have been finding.

The main one is the output from predict.rpart on a classification
tree.  I've tried to make this easier (and to document it) in version
3.0-2.  You should use type = "class" (the predicted class) or "probs"
(the class probabilities) with a classification tree.  I've changed
the default for classification trees back to "probs", so code should
work again.

Also, residuals.rpart had not been updated for the new structures.

rpart_3.0-2.tar.gz is at http://www.stats.ox.ac.uk/pub/R and
en route to CRAN.  The Windows version is on
http://toucan.stats.ox.ac.uk/R/RWin and will propagate to CRAN.


The changes are ongoing, and rpart_3.1-0.tar.gz will be available shortly.
This adds mis-classification costs, revises (again) how survival trees
work, ....  Unless you need to use rpart now, I suggest not updating until
rpart_3.1-0.tar.gz is released.  [It's running, but I want to look harder
for undocumented changes.]


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phgrosje at ulb.ac.be  Thu Jul 26 16:09:48 2001
From: phgrosje at ulb.ac.be (Philippe Grosjean)
Date: Thu, 26 Jul 2001 16:09:48 +0200
Subject: [R] replacing values in  a vector
In-Reply-To: <3B600234.5A4225A@psy.uni-muenchen.de>
Message-ID: <MABBLJDICACNFOLGIHJOMELKCEAA.phgrosje@ulb.ac.be>

n <- rep(0, length(v)) #Or replace 0 by the initial value you want in the
vector n
n[is.na(v)] <- NA

Best Regards,

Philippe


..........]<(({?<...............<?}))><...............................
 ) ) ) ) )	 __               	 __
( ( ( ( ( 	|__)              	|  _
 ) ) ) ) )	|   hilippe       	|__)rosjean
( ( ( ( ( 	Marine Biol. Lab., ULB, Belgium
 ) ) ) ) )	                  	 __
( ( ( ( ( 	|\  /|            	|__)
 ) ) ) ) )	| \/ |ariculture &	|__)iostatistics
( ( ( ( (
 ) ) ) ) )	e-mail: phgrosje at ulb.ac.be or phgrosjean at sciviews.org
( ( ( ( ( 	SciViews project coordinator (http://www.sciviews.org)
 ) ) ) ) )      tel: 00-32-2-650.29.70 (lab), 00-32-2-673.31.33 (home)
( ( ( ( (
 ) ) ) ) )      "I'm 100% confident that p is between 0 and 1"
( ( ( ( (                                  L. Gonick & W. Smith (1993)
 ) ) ) ) )
.......................................................................


-----Message d'origine-----
De : owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]De la part de Sven Garbade
Envoye : jeudi 26 juillet 2001 13:43
A : R-Help
Objet : [R] replacing values in a vector


Hi all,

there is a vector v with several NAs. I want to create a new vector n of
the same length as v and the same NAs as in v and tried this:

n <- vector(length=length(v), mode="numeric")
replace(n, which(is.na(v)), NA)

but this does't work, all values in n are 0. What went wrong?

Thanks, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gpetris at definetti.uark.edu  Thu Jul 26 16:40:21 2001
From: gpetris at definetti.uark.edu (Giovanni Petris)
Date: Thu, 26 Jul 2001 09:40:21 -0500 (CDT)
Subject: [R] replacing values in  a vector
In-Reply-To: <3B600234.5A4225A@psy.uni-muenchen.de> (message from Sven Garbade
	on Thu, 26 Jul 2001 13:42:44 +0200)
References: <3B600234.5A4225A@psy.uni-muenchen.de>
Message-ID: <200107261440.JAA17566@definetti.uark.edu>


You should assign the result of replace back to n:

n <- replace(n, which(is.na(v)), NA)

Giovanni

-- 

 __________________________________________________
[                                                  ]
[ Giovanni Petris                 GPetris at uark.edu ]
[ Department of Mathematical Sciences              ]
[ University of Arkansas - Fayetteville, AR 72701  ]
[ Ph: (501) 575-6324, 575-8630 (fax)               ]
[ http://definetti.uark.edu/~gpetris/              ]
[__________________________________________________]

> Date: Thu, 26 Jul 2001 13:42:44 +0200
> From: Sven Garbade <garbade at psy.uni-muenchen.de>
> X-Accept-Language: en
> Sender: owner-r-help at stat.math.ethz.ch
> Precedence: SfS-bulk
> Content-Type: text/plain; charset=us-ascii
> Content-Length: 649
> 
> Hi all,
> 
> there is a vector v with several NAs. I want to create a new vector n of
> the same length as v and the same NAs as in v and tried this:
> 
> n <- vector(length=length(v), mode="numeric")
> replace(n, which(is.na(v)), NA)
> 
> but this does't work, all values in n are 0. What went wrong?
> 
> Thanks, Sven
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thoar at cgd.ucar.edu  Thu Jul 26 16:55:21 2001
From: thoar at cgd.ucar.edu (Tim Hoar)
Date: Thu, 26 Jul 2001 08:55:21 -0600 (MDT)
Subject: [R] Installation help
In-Reply-To: <3B5F1192.89B0C537@sandia.gov>
Message-ID: <Pine.GSO.4.30.0107260840040.12376-200000@laplace.cgd.ucar.edu>

Leslea,

Turns out I did this just last week ...

It is imperative that your LD_LIBRARY_PATH environment variable have
the Sun compilers. I have attached my config.site file -- which has
the optimization levels turned up pretty high (4 out of 5) for both
the cc and f90 compilers. For whatever reason, I left the c++ optimization
at 2 ...

We have a lot of the GNU libraries (readline -- which is necessary for
the command-line editing/history to be operational, and makeinfo -- which
is necessary to create the manuals in both "info" and .html ... ) as well
as some of the other necessary libraries (netCDF)  in a separate area
called    /contrib/[lib,include]   , so the config.site file reflects this.
For us, this is also where I installed R ... /contrib/R-1.3.0/bin/R    is
slinked to /contrib/bin/R   and /contrib/bin is in everyones PATH.

The exact sequence I used was:

./configure --prefix=/contrib/R-1.3.0 --enable-R-profiling --with-readline --with-x --cache-file=/dev/null
make
make install
make install-dvi
make install-pdf

because our version of makeinfo is out-of-date, I did not make the info versions
of the manuals, nor the html version. The problem is, the html versions are featured
prominently in the help.start() widget.

By specifying cache-file=/dev/null  you are guaranteed to actually use the current
config.site, not the config.cache version ...

Good luck,

Tim

> Date: Wed, 25 Jul 2001 12:36:02 -0600
> From: Leslea J. Lehoucq <ljlehou at sandia.gov>
> To: R-help at hypatia.math.ethz.ch
> Cc: ljlehou at sandia.gov
> Subject: [R] Installation help
>
> Hello,
>
> I am trying to compile R using the Sun WorkShop 6.0 (Forte) compilers.
> I don't think I am having a problem with the compilers, but instead with
>
> figuring out how to modify the R configuration to use non-Gnu compilers.
>
> I found in your documentation that one should modify the config.site
> file
> to change compilers, compiler flags, library paths, etc.  I made
> modifications
> in this file, but the configure script still seems to be relying on the
> Gnu
> compilers rather than the compilers I've specified.  It picks up my
> changes
> to the fortran compiler (using f77 instead of g77), but ignores my
> specification
> of the cc compiler rather than gcc.  Since I couldn't use config.site to
> fix
> my problem, I configured with whatever the configure script was giving
> me,
> and then went into the Makeconf file to change compiler, library paths,
> and
> other flags.  I have made some progress in compiling (i.e. when I run
> gmake I am getting the right compilers, paths, and flags), but my build
> is
> failing at a certain point.
>
> Do you know of anyone who has compiled R with the Solaris WorkShop 6.0
> (Forte) compilers?  Pointers would be greatly appreciated.
>
> I am attaching my config.site file, and the output from running
> configure
> (config.out). Additionally, I am attaching the output from running gmake
>
> (make.out).
>
> Thanks,
>
>     Leslea J. Lehoucq
>     Sandia National Labs
>     Organization 8950
>     Computational Sciences and Mathematics Research
>     Phone: (505) 844-1972
>     Fax:     (505) 845-7442
>
>
>

## Tim Hoar, Associate Scientist              email: thoar at ucar.edu     ##
## Geophysical Statistics Project             phone: 303-497-1708       ##
## National Center for Atmospheric Research   FAX  : 303-497-1333       ##
## Boulder, CO  80307                    http://www.cgd.ucar.edu/~thoar ##

-------------- next part --------------
#! /bin/sh

### This file is part of R.
###
### R is free software; you can redistribute it and/or modify it under
### the terms of the GNU General Public License as published by the Free
### Software Foundation; either version 2 of the License, or (at your
### option) any later version.
###
### R is distributed in the hope that it will be useful, but WITHOUT ANY
### WARRANTY; without even the implied warranty of MERCHANTABILITY or
### FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public
### License for more details.
###
### You should have received a copy of the GNU General Public License
### along with R; if not, you can obtain it via the World Wide Web at
### `http://www.gnu.org/copyleft/gpl.html', or by writing to the Free
### Software Foundation, 59 Temple Place -- Suite 330, Boston, MA
### 02111-3307, USE.

# By means of this file you can (also) provide default values for the
# configuration process.  To set variables, uncomment the VAR=DEFAULT
# lines and set DEFAULT according to your needs.

# The command used to spool PostScript files to the printer.
# If unspecified, the system will look for either "lpr" or "lp"
# R_PRINTCMD=lpr

# The paper size for the local (PostScript) printer.
# It must either be left blank or set to one of "a4" or "letter".
# If left blank the system will use "a4".
  R_PAPERSIZE=letter

# The default behavior of R if it encounters EOF in batch mode.
# Set this to one of "--save" or "--no-save" depending whether you
# want automatic saving of `.RData' or not.
# R_BATCHSAVE=

# The command which runs the C compiler.
# If unspecified, a search is made for gcc and cc (in that order).
# To override this choice, specify the name of the command which runs
# the compiler here, for example `c89'.
  CC=/opt/SUNWspro/bin/cc

# Debugging and optimization options for the C compiler.
# Use this to specify CFLAGS for the version of the C compiler specified
# above.  If unspecified, defaults to "-g -O2" for gcc, and "-g" in all
# other cases.
  CFLAGS="-g -xO4"

# The following additional CFLAGS to be used only in the main compilation
# and only in building shared libraries respectively. For example,
# on some systems one needs MAIN_CFLAGS=-pg when profiling.
# MAIN_CFLAGS=
# SHLIB_CFLAGS=

# Header file search directory (`-IDIR') and any other miscellaneous
# options for the C preprocessor and compiler.
# If unset defaults to `-I/usr/local/include'.
  CPPFLAGS=-I/contrib/include

# The command which runs the the FORTRAN compiler.
# If unspecified, a search is made for g77, f77, xlf, cf77, cft77,
# pgf77, fl32, af77, fort77, f90, xlf90, pgf90, epcf90, f95, xlf95,
# lf95, g95, and fc (in that order).  If none of these is found, f2c is
# used if found; otherwise, R cannot be compiled.  The search mechanism
# can be changed using the `--with-g77', `--with-f77', and `--with-f2c'
# command line options to configure.
  FC=/opt/SUNWspro/bin/f90

# Options for the FORTRAN compiler.
# Use this to specify FFLAGS for the version of the compiler specified
# above.  If unspecified, defaults to "-O2" for g77, and "" otherwise.
  FFLAGS="-g -O4"

# The following additional FFLAGS to be used only in the main compilation
# and only in building shared libraries respectively. For example,
# on some systems one needs MAIN_FFLAGS=-pg when profiling.
# MAIN_FFLAGS=
# SHLIB_FFLAGS=

# The command to be used to load the main R binary.
# This is usually the FORTRAN or C compiler, but the automatic choice
# can be overriden by means of this variable.
# MAIN_LD=

# The flags which are necessary for loading main program which will load
# DLLs at runtime.  HP-UX and Linux-elf are examples of platforms which
# use this.  These platforms are already taken care of by configure,
# and anything set here will be in addition unless MAIN_LD is given.
# For example, one can set flags for profiling here.
# MAIN_LDFLAGS=-L/home/thoar/lib/readline

# Any special flags which must be used when compiling C code to be
# turned into a shared library.  This is typically something like -fpic
# or -fPIC.  If this variable is left unspecified an attempt is made to
# automatically detect the correct value by configure.
# CPICFLAGS=

# The following variable can be used to provide any PIC flags for the
# FORTRAN compiler (if you are using one).  If not specified, the value
# of CPICFLAGS above is used.
# FPICFLAGS=

# The command to be used to load shared libraries which contain object
# files from a C or Fortran compiler only.  This is usually the C
# compiler or `ld', but the automatic choice can be overridden by means
# of this variable.
# SHLIB_LD=

# Any special flags which are required by the linker when creating
# shared libraries containing object files from a C or Fortran
# compiler only.  This is usually automatically detected by configure,
# and anything set here will be in addition unless SHLIB_LD is given.
# SHLIB_LDFLAGS=

# For `-l' and `-L' options to pass to the linker.
# `-L' options set here will be prepended to LD_LIBRARY_PATH at run time
# If unset defaults to `-L/usr/local/lib'.
# LIBS=-L/home/thoar/lib/readline -lreadline

# The command which runs the C++ compiler.  It not specified, configure
# uses the values of the environment variables `CXX' or `CCC' if set,
# and then looks under the names `c++', `g++', `gcc', `CC', `cxx', and
# `cc++' (in that order).
# CXX=/opt/SUNWspro/bin/cc did not work -- TJH

# Options for the C++ compiler.
# CXXFLAGS=

# Any special flags which must be used when compiling C++ code to be
# turned into a shared library.  If this variable is left unspecified
# an attempt is made to automatically detect the correct value by
# configure.
# CXXPICFLAGS=


# The command to be used to load shared libraries which contain object
# files from a C++ compiler.  This is usually the C++ compiler/linker,
# but the automatic choice can be overridden by means of this variable.
# SHLIB_CXXLD=

# Any special flags which are required when creating shared libraries
# containing object files from a C++ compiler.  This is usually
# automatically detected by configure, and anything set here will be in
# addition unless SHLIB_CXXLD is given.
# SHLIB_CXXLDFLAGS=

# Tcl/Tk settings.
# Use TCLTK_LIBS for all ALL `-L' and `-l' options needed for linking
# against the Tcl and Tk library.
# TCLTK_LIBS=
# Use TCLTK_CPPFLAGS for all `-I' options needed for finding the tcl.h
# and tk.h headers.
# TCLTK_CPPFLAGS=

# make name.
# Set this if you want to use a make by another name, for example 
# if your GNU make is called `gmake', use MAKE=gmake.
# MAKE=

From White.Denis at epamail.epa.gov  Thu Jul 26 17:22:29 2001
From: White.Denis at epamail.epa.gov (White.Denis@epamail.epa.gov)
Date: Thu, 26 Jul 2001 08:22:29 -0700
Subject: [R] tree and rpart (=> prune.rpart)
Message-ID: <OFC5AAFE30.9E0CEC7E-ON88256A95.0053AEB9@rtp.epa.gov>


> rpart
> =====
>
> Since rpart 2.x, rpart could do all that tree could do, faster.  We
> are now on rpart 3.x, which added user-specified splits and
> NA-handling.  At some point fairly soon rpart is expected to ship as
> part of S-PLUS and the interface will be frozen, but that means that
> Terry Therneau has made lots of undocumented changes that some of you
> have been finding.
[...]

In case prune.rpart did not get modified to add the "best=" parameter for
pruning to a fixed size, there is a prune.Rpart in contributed package
maptree with that feature.

Denis White
   US EPA, 200 SW 35th St, Corvallis, Oregon, 97333 USA
   voice: 541.754.4476, email: white.denis at epa.gov
   web: www.epa.gov/wed/pages/staff/white/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Stephane.Dupas at pge.cnrs-gif.fr  Thu Jul 26 18:14:14 2001
From: Stephane.Dupas at pge.cnrs-gif.fr (Stephane Dupas)
Date: Thu, 26 Jul 2001 18:14:14 +0200
Subject: [R] anova on binomial responses data
Message-ID: <3B6041D6.903@pge.cnrs-gif.fr>

Hi ! how to perform anova on binomial response data using glm procedure, 
could anyone help us with this problem ? we are trying to test the a 
model of binomial response with non-ordered categorical factors. I am 
not getting the significance of each factors but, the departure from the 
binomial model within each category.

For example : Two factors, A and B, one binomial matrix response Ymat
I want to get the effect of F1, F2, F1*F2
If I test the model Ymat ~ F1*F2, with glm :

fml <- glm(Ymat ~ F1*F2, family = binomial(link=probit), data = data.df)
summary(fml)

I get levels of significance within each level of the different factors 
and all their interactions, I cannot figure out how to get the effect of 
the factors themselves and their interaction on the binomial response.

something like that:

Coefficients:
            Estimate Std. Error z value Pr(>|z|)  
(Intercept)  0.21972    0.18642   1.179  0.23854  
F1b          0.16444    0.22118   0.743  0.45719  
F1c         -0.06241    0.24396  -0.256  0.79809  
F1d          0.16560    0.23554   0.703  0.48203  
F1e          0.11228    0.21025   0.534  0.59331  
F2b         -0.02052    0.34442  -0.060  0.95249  
F2c          0.27298    0.27000   1.011  0.31200  
F2d          0.21100    0.32371   0.652  0.51451  
F2e          0.97407    0.31176   3.124  0.00178 **
F2f          0.25457    0.23411   1.087  0.27687  
F1b:F2b      0.15497    0.38003   0.408  0.68343  
F1c:F2b      0.22932    0.42740   0.537  0.59158  
F1d:F2b      0.43980    0.40695   1.081  0.27982  
F1e:F2b      0.46955    0.39571   1.187  0.23539  
F1b:F2c     -0.17764    0.36336  -0.489  0.62492  
F1c:F2c      0.43913    0.42142   1.042  0.29740  
F1d:F2c     -0.09235    0.58819  -0.157  0.87524  

etc...

do you how can I get the effect of the factors themselves, not the 
departure from binomial model within each catagory ?

Thanks for your help,

St?phane

-- 

St?phane DUPAS

IRD c/o CNRS
Lab P.G.E., Bat 13,
1 av terrasse
91198 Gif sur Yvette
tel 33 1 69 82 37 04


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jul 26 18:31:18 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 26 Jul 2001 17:31:18 +0100 (GMT Daylight Time)
Subject: [R] tree and rpart (=> prune.rpart)
In-Reply-To: <OFC5AAFE30.9E0CEC7E-ON88256A95.0053AEB9@rtp.epa.gov>
Message-ID: <Pine.WNT.4.31.0107261727280.1236-100000@tern.stats>

On Thu, 26 Jul 2001 White.Denis at epamail.epa.gov wrote:

>
> > rpart
> > =====
> >
> > Since rpart 2.x, rpart could do all that tree could do, faster.  We
> > are now on rpart 3.x, which added user-specified splits and
> > NA-handling.  At some point fairly soon rpart is expected to ship as
> > part of S-PLUS and the interface will be frozen, but that means that
> > Terry Therneau has made lots of undocumented changes that some of you
> > have been finding.
> [...]
>
> In case prune.rpart did not get modified to add the "best=" parameter for
> pruning to a fixed size, there is a prune.Rpart in contributed package
> maptree with that feature.

Did you submit that suggestion to the authors (Therneau and Atkinson)?
rpart is a port of an S package, and is only useful to me (the porter) if
it remains almost exactly the same on the both systems.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MagillB at usa.redcross.org  Thu Jul 26 19:54:47 2001
From: MagillB at usa.redcross.org (Magill, Brett)
Date: Thu, 26 Jul 2001 13:54:47 -0400
Subject: [R] Multi-level Models with NLME
Message-ID: <AC09DC4F4DFCD211A83C00805FE6138D051E06A5@nhqjpk1ex2.bionet.org>

Hello,

I have a question about setting up a multi-level model in NLME.  I have the
P&B book, but I am still having trouble specifying the model.  I am using
the most recent version of NLME on R 1.3.0.  I was referred to NLME after a
previous query on multi-level models.  Yet, I think part of my confusion is
that I do not have a mixed model as far as I can see.  I have random effects
nested within levels of a random effect?

The problem is this:  I have a sample of classes (class being the nesting
factor).  Within each class I have a sample of students.  I have separate
random effects models at each level.  That is, at the class level, I have:

	random=~class_size+number_teachers+class_length

and at the student level I have:

	test_score~treatment+experience+age.

What I want o assess is the contribution of class level variables
simultaneously with individual level variables on test scores.
 

Now, my problem is specifying them both as a random effect.  I tried to use:

	random=list(class=~class_size+number_teachers+class_length,
=~treatment+experience+age)

But NLME did not like the second argument, no surprise, I really didn't
expect it too as random=list is used for multiple grouping factors.  Yet, I
can't figure out how to specify this.  Can someone offer me some advice on
how to fit this model.

Thank You.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu Jul 26 20:25:21 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 26 Jul 2001 20:25:21 +0200 (MET DST)
Subject: [R] replacing values in  a vector
In-Reply-To: <200107261440.JAA17566@definetti.uark.edu>
Message-ID: <Pine.OSF.3.96.1010726202259.26096A-100000@ija.csic.es>


Actually, if you just want a vector as v
with 0 except for the NA, the easiest is just:

v*0

which will let be the NA if present.

Agus


Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hstevens at muohio.edu  Thu Jul 26 20:23:07 2001
From: hstevens at muohio.edu (Martin Henry H. Stevens)
Date: Thu, 26 Jul 2001 14:23:07 -0400
Subject: [R] Fancy pairs(), scatterplot matrix?
Message-ID: <018401c11600$04ca1c50$c5093586@STEVENS>

(I have checked the 2000 &2001 archives)
Awhile ago, someone posted a function to plot a scatterplot matrix with the
upper triangle containing plots (and maybe fitted curves?) and the lower
triangle containing the correlation coefs. I have lost that code and would
love it again if anyone has it. Thanks,
Henry
*****************************
Martin Henry H. Stevens
HStevens at muohio.edu
tel: (513) 529 - 4206
FAX: (513) 529 - 4243

338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Thu Jul 26 20:42:23 2001
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Thu, 26 Jul 2001 13:42:23 -0500
Subject: [R] data for Rwave package
Message-ID: <OF25CC9781.BF553D0A-ON86256A95.00654D5A@mmm.com>

Hi,

I just installed the new Rwave package.  On the Win2000 platform it will
not find its data files (it does fine under Linux).

Here is what I do:
(1)  library(Rwave)
(2)  data()               -  this correctly reports all the data sets
available
(3)  data(HOWAREYOU)      -  this fails on Win2000 machine with the
following message
          Error in file(file, "r") : cannot open file `HOWAREYOU'

What seems to be happening is that there exists a HOWAREYOU.R file in
Rdata.zip.  The data function finds this file fine, but it just contains
          HOWAREYOU <- scan("HOWAREYOU")
and the actual data file cannot be found as it sits in the
$R_HOME/library/Rwave/data directory.

Is there an easy way to fix it? (I know I can edit every *.R file putting
absolute paths into the scan statements or incorporate the data files into
the *.R files).
Is this a bug in the Windows version?

Thanks in advance,

Andy

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jul 26 20:48:47 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 26 Jul 2001 19:48:47 +0100 (BST)
Subject: [R] Fancy pairs(), scatterplot matrix?
In-Reply-To: <018401c11600$04ca1c50$c5093586@STEVENS>
Message-ID: <Pine.GSO.4.31.0107261947030.17952-100000@auk.stats>

On Thu, 26 Jul 2001, Martin Henry H. Stevens wrote:

> (I have checked the 2000 &2001 archives)
> Awhile ago, someone posted a function to plot a scatterplot matrix with the
> upper triangle containing plots (and maybe fitted curves?) and the lower
> triangle containing the correlation coefs. I have lost that code and would
> love it again if anyone has it. Thanks,

Look at ?pairs for the example (which in fact had upper and lower
interchanged).  It was by Dr. Jens Oehlschlaegel-Akiyoshi.  That is,
provided I have the right example in mind.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hstevens at muohio.edu  Thu Jul 26 21:35:27 2001
From: hstevens at muohio.edu (Martin Henry H. Stevens)
Date: Thu, 26 Jul 2001 15:35:27 -0400
Subject: [R] Fancy pairs(), scatterplot matrix? Summary
Message-ID: <01b801c1160a$1f691930$c5093586@STEVENS>

 Thanks to Brian Ripley for pointing out the OBVIOUS to me ("oops!"), and
 thanks to Dr. Jens Oehlschlaegel-Akiyoshi for writing the code. The example
 in ?pairs was exactly what I had been thinking of. It is all there
 somewhere....
 Henry
> ----- Original Message -----
> From: "Prof Brian D Ripley" <ripley at stats.ox.ac.uk>
> To: "Martin Henry H. Stevens" <hstevens at muohio.edu>
> Cc: <r-help at stat.math.ethz.ch>
> Sent: Thursday, July 26, 2001 2:48 PM
> Subject: Re: [R] Fancy pairs(), scatterplot matrix?
>
>
> > On Thu, 26 Jul 2001, Martin Henry H. Stevens wrote:
> >
> > > (I have checked the 2000 &2001 archives)
> > > Awhile ago, someone posted a function to plot a scatterplot matrix
with
> the
> > > upper triangle containing plots (and maybe fitted curves?) and the
lower
> > > triangle containing the correlation coefs. I have lost that code and
> would
> > > love it again if anyone has it. Thanks,
> >
> > Look at ?pairs for the example (which in fact had upper and lower
> > interchanged).  It was by Dr. Jens Oehlschlaegel-Akiyoshi.  That is,
> > provided I have the right example in mind.
> >
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
> >
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Thu Jul 26 21:41:48 2001
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Fri, 27 Jul 2001 07:41:48 +1200
Subject: [R] Fancy pairs(), scatterplot matrix?
In-Reply-To: <018401c11600$04ca1c50$c5093586@STEVENS>
Message-ID: <GAELKJBFMIGCMOMAFDBHAEJFCAAA.Ko-Kang@xtra.co.nz>

I believe that you can find it by typing ?pairs in R, this is how I found it.  But anyway, here it is:

panel.cor <- function(x, y, digits=2, prefix="", cex.cor) {
    usr <- par("usr"); on.exit(par(usr))
    par(usr = c(0, 1, 0, 1))
    r <- abs(cor(x, y))
    txt <- format(c(r, 0.123456789), digits=digits)[1]
    txt <- paste(prefix, txt, sep="")
    if(missing(cex.cor)) cex <- 0.8/strwidth(txt)
    text(0.5, 0.5, txt, cex = cex * r)
}
pairs( sport[c(1, 3:8 )], main = "Australian Institute of Sport Data - with Correlations",
       upper.panel=panel.smooth, lower.panel=panel.cor )

The panel.cor basically is the correlation function, which will be place in the "lower.panel" - a parameter in the pairs() function.  The upper.panel can be set to panel.smooth, which will have a smoothly fitted line in your plots.    You will need to put your dataset names in the place of sport though, as this is a case I just did which I copied the lines and pasted here.

Cheers,

Kevin


-------------------------------------------------------------------------------------------- 
Ko-Kang Kevin Wang
Head of Statistical Analysis Division
Software Developers' Klub (SDK)
University of Auckland
New Zealand

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Martin Henry H. Stevens
Sent: Friday, July 27, 2001 6:23 AM
To: r-help at stat.math.ethz.ch
Subject: [R] Fancy pairs(), scatterplot matrix?


(I have checked the 2000 &2001 archives)
Awhile ago, someone posted a function to plot a scatterplot matrix with the
upper triangle containing plots (and maybe fitted curves?) and the lower
triangle containing the correlation coefs. I have lost that code and would
love it again if anyone has it. Thanks,
Henry
*****************************
Martin Henry H. Stevens
HStevens at muohio.edu
tel: (513) 529 - 4206
FAX: (513) 529 - 4243

338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snoweye at nhri.org.tw  Fri Jul 27 05:04:23 2001
From: snoweye at nhri.org.tw (snoweye@nhri.org.tw)
Date: Fri, 27 Jul 2001 11:04:23 +0800
Subject: No subject
Message-ID: <000a01c11648$d6f01840$454c3ed2@812snoweye>

Hi, all

I have a question about permutation, as follow:

Take 4 elements from 1 to 8 and list all possible cases.
(total is 70)

Does any function or example for this problem?
Thanks your respone.

-snoweye
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20010727/14f0c34b/attachment.html

From petr.pikal at precheza.cz  Fri Jul 27 11:22:48 2001
From: petr.pikal at precheza.cz (Petr Pikal)
Date: Fri, 27 Jul 2001 11:22:48 +0200
Subject: [R] plot() axis problem
In-Reply-To: <Pine.LNX.4.10.10107231025520.865-100000@localhost.localdomain>
References: <3B5BD037.E88FB989@ozemail.com.au>
Message-ID: <3B614F08.29068.611BA7@localhost>



On 23 Jul 2001, at 11:18, Bill Simpson wrote:

> > 
> > The example uses a rather artificial dataset, neatly divided into
> > monotonically increasing low and high values.  Any permutation of
> > those values that did not fall into that pattern would render the
> > question meaningless.  For example, try
> The example I posted was artificial because my real example had 10,000
> pts and I didn't want to post that. Basically I wanted to look at the
> region surrounding one frequency of the spectrum where I expected a
> peak. I couldn't see the peak because plot() had used the whole set of
> data to pick the range for the y-axis.
> 
> There was of course a nice peak but it was invisible because this peak
> was maybe 1/1000 as high as the maximum peak in the whole spectrum.
> 
Sorry to to join this thread so late but I was occupied and did not 
read my post a while.

I deal with similar sets of data with peaks and I use quite short 
function for interactive zooming.

Here it is:

replot_function(x,y)
{
body_locator(2)
dmx_min(body$x)
hmx_max(body$x)
dmy_min(body$y)
hmy_max(body$y)
plot(x,y,xlim=c(dmx,hmx),ylim=c(dmy,hmy),type="l")
}

It has to be called after plotting x,y and you shall pinpoint to opposit 
corners. I call it repetitively without any problems. Maybe it can help 
you.

> > 
> > I think the present behavior of plot() is pretty sensible.
> If you look around at other plotting programs out there I think you'll
> see some doing what I propose. I think if you use small datasets the
> current plot() behaviour will not cause problems. It's only a pain
> once you start zooming in on small stretches.
> 
> Bill
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.- r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help",
> or "[un]subscribe" (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._


Petr

petr.pikal at precheza.cz
p.pik at volny.cz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From G.Innocent at vet.gla.ac.uk  Fri Jul 27 12:15:20 2001
From: G.Innocent at vet.gla.ac.uk (Giles Innocent)
Date: Fri, 27 Jul 2001 11:15:20 +0100
Subject: [R] replacing values in  a vector
In-Reply-To: <Pine.OSF.3.96.1010726202259.26096A-100000@ija.csic.es>
Message-ID: <000301c11685$0a65f500$65ead182@garscube.gla.ac.uk>

Note that the below does not work for Inf/-Inf (gives NaN)

Giles

Dr. G.T. Innocent
Comparative Epidemiology and Informatics Group,
Dept. of Veterinary Clinical Studies,
Glasgow University Vet. School.
Bearsden Road, Glasgow G61 1QH
Tel. 0141 339 8855 Ext. 0531.
Fax. 0141 330 5729
e-mail G.Innocent at vet.gla.ac.uk 

> Actually, if you just want a vector as v
> with 0 except for the NA, the easiest is just:
> 
> v*0
> 
> which will let be the NA if present.
> 
> Agus
> 
> 
> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es
> 
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jul 27 12:22:34 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 27 Jul 2001 11:22:34 +0100 (BST)
Subject: [R] plot() axis problem
In-Reply-To: <3B614F08.29068.611BA7@localhost>
Message-ID: <Pine.LNX.4.31.0107271116450.3026-100000@gannet.stats>

On Fri, 27 Jul 2001, Petr Pikal wrote:

>
>
> On 23 Jul 2001, at 11:18, Bill Simpson wrote:
>
> > >
> > > The example uses a rather artificial dataset, neatly divided into
> > > monotonically increasing low and high values.  Any permutation of
> > > those values that did not fall into that pattern would render the
> > > question meaningless.  For example, try
> > The example I posted was artificial because my real example had 10,000
> > pts and I didn't want to post that. Basically I wanted to look at the
> > region surrounding one frequency of the spectrum where I expected a
> > peak. I couldn't see the peak because plot() had used the whole set of
> > data to pick the range for the y-axis.
> >
> > There was of course a nice peak but it was invisible because this peak
> > was maybe 1/1000 as high as the maximum peak in the whole spectrum.
> >
> Sorry to to join this thread so late but I was occupied and did not
> read my post a while.
>
> I deal with similar sets of data with peaks and I use quite short
> function for interactive zooming.
>
> Here it is:
>
> replot_function(x,y)
> {
> body_locator(2)
> dmx_min(body$x)
> hmx_max(body$x)
> dmy_min(body$y)
> hmy_max(body$y)
> plot(x,y,xlim=c(dmx,hmx),ylim=c(dmy,hmy),type="l")
> }

range() will enable you to simplify this considerably.  Using the space
bar might make it readable.  (The recommended assignment operator is <- :
if you must use _ at least have spaces around it.  See Writing R
Extensions chapter 3 for how to tidy up your R source code.)

replot <- function(x, y, type="l")
{
   body <- locator(2)
   plot(x, y, xlim=range(body$x), ylim=range(body$y), type=type)
}



>
> It has to be called after plotting x,y and you shall pinpoint to opposit
> corners. I call it repetitively without any problems. Maybe it can help
> you.
>
> > >
> > > I think the present behavior of plot() is pretty sensible.
> > If you look around at other plotting programs out there I think you'll
> > see some doing what I propose. I think if you use small datasets the
> > current plot() behaviour will not cause problems. It's only a pain
> > once you start zooming in on small stretches.
> >
> > Bill
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.- r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help",
> > or "[un]subscribe" (in the "body", not the subject !)  To:
> > r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._
>
>
> Petr
>
> petr.pikal at precheza.cz
> p.pik at volny.cz
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laurent at cbs.dtu.dk  Fri Jul 27 14:22:46 2001
From: laurent at cbs.dtu.dk (Laurent Gautier)
Date: Fri, 27 Jul 2001 14:22:46 +0200
Subject: [R] dist - memory
References: <D16B18FFF743D311A9CA0090275F3CB003D851F5@arcss07.arcs.ac.at>
Message-ID: <3B615D16.818484B8@cbs.dtu.dk>

Pesl Thomas wrote:
> 
> Dear R friends,
> 
> Is there a formula for the amount of memory, that is needed by dist(), when
> you know the number of columns and rows? Or is there at least an
> approximation?

As stated in the help for 'dist', the distance per row is computed, and
only the lower triangle is stored in a single vector.

Counting 8 bytes per numerical value, the memory used should be close to
8*nrows*nrows/2, upon which one should add the attributes of a dist
object should added (you may want to neglect as the number of rows gets
bigger).



Laurent


-- 
Laurent Gautier			CBS, Building 208, DTU
PhD. Student			D-2800 Lyngby,Denmark	
tel: +45 45 25 24 85		http://www.cbs.dtu.dk/laurent
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amurta at ipimar.pt  Fri Jul 27 16:00:48 2001
From: amurta at ipimar.pt (Alberto Murta)
Date: Fri, 27 Jul 2001 14:00:48 +0000
Subject: [R] problem with "history"
Message-ID: <3B617410.CBCB941E@ipimar.pt>

Dear all

After upgrading my OS to SuSE Linux 7.1 (intel) and re-compiling R
1.3.0, I noticed that the arrow keys are not working anymore. Not even
emacs-type commands (such as Ctrl-a or Ctrl-e) work anymore. However
"readline" and the arrow keys seem to be working well outside R. Can
anyone tell me what may be wrong?

Alberto

-- 
                       Alberto G. Murta                      
       IPIMAR - Institute of Fisheries and Sea Research
        Avenida de Brasilia, 1449-006 Lisboa, Portugal       
Tel: +351 213027062; Fax: +351 213015849; http://www.ipimar.pt
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kevin.Bartz at FMR.COM  Fri Jul 27 16:14:14 2001
From: Kevin.Bartz at FMR.COM (Bartz, Kevin)
Date: Fri, 27 Jul 2001 10:14:14 -0400
Subject: [R] Seemingly bizarre behavior in R CMD check
Message-ID: <7975A3F85F08D5119C610002A5134856AA4A78@Msgbos686nts.fmr.com>

Maybe someone can help shed some light on an odd and repeatedly irritating
error I noticed when running the check Perl script on my R 1.3 project. In
following it line by line, I traced my problem down to the
code/documentation matching within check, the most recent version of which
seems to verify proper .Rd formatting by means of R's codoc and undoc
functions. Under R --vanilla, those two then unpack and repack my project,
with each assembling a kind of test tempfile to ensure various structural
requirements within my project. At first, I got bogged down in a mysterious
"parse" problem, R's not-too-revealing result of a simple eval, but after
discovering the keep.tempfiles flag I was able to trace the obvious errors
without running codoc line by line interactively. Apparently, R keeps very
stringent requirements on its documentation's usage field. If it's anything
other than myFunc(arg1, arg2...), codoc won't parse it correctly in its
tempfiles. And the particular S code I was translating used chiefly example
calls in its documentation's usage fields. Is this formatting an intended
necessity? I know it ensures consistency but it's too often the source of
cryptic errors. 

Anyway, fixing these usage fields worked for the time being but without fail
another similar problem soon emerged, this time with the check for
undocumented objects. This leg of the script uses undoc, and after
examination I found that undoc's concatenation of the R code in the
project/R directory fails to insert a newline at the end of each .R file's
contribution to the appended tempfile. Now I'm a clean kind of guy and I
like to keep my code immaculate, so it was more than disturbing when my R
functions, each stored in a single .R file, bombed out because each did not
have a newline proceeding its closing bracket. Without that, undoc's file
appending sticks the next function right up against the last's final
bracket, triggering an obvious syntax error, albeit one hidden underneath
tempfiles and a parse/eval combo. Now I can understand somewhat the benefits
of establishing consistency in the usage fields, but for the life of me I
can't figure out the reasoning behind this seemingly superfluous stringency.
Is this R's intended behavior, and if so, forgive me for asking, but why?

Thanks in advance for any light you can cast on the issue.

Kevin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gvinjamu at cceb.upenn.edu  Fri Jul 27 16:31:35 2001
From: gvinjamu at cceb.upenn.edu (Govind Vinjamuri)
Date: Fri, 27 Jul 2001 10:31:35 -0400
Subject: [R] installation error
Message-ID: <3B617B46.213469A3@cceb.upenn.edu>

Hello everybody, I am trying to install R on Solaris 2.6. I get the
following error

Thanks in advance

"In file included from /usr/include/sys/turnstile.h:12,
                 from /usr/include/sys/t_lock.h:20,
                 from /usr/include/sys/vnode.h:37,
                 from /usr/include/sys/stream.h:21,
                 from /usr/include/netinet/in.h:38,
                 from /usr/include/rpc/auth_kerb.h:14,
                 from /usr/include/rpc/rpc.h:39,
                 from saveload.c:229:
/appl/gnu/lib/gcc-lib/sparc-sun-solaris2.5.1/2.7.2.3/include/sys/param.h:187:
warning: `NBBY' redefined
/usr/include/sys/select.h:45: warning: this is the location of the
previous definition
In file included from /usr/include/sys/stream.h:26,
                 from /usr/include/netinet/in.h:38,
                 from /usr/include/rpc/auth_kerb.h:14,
                 from /usr/include/rpc/rpc.h:39,
                 from saveload.c:229:
/usr/include/sys/model.h:32: #error "No DATAMODEL_NATIVE specified"
*** Error code 1
make: Fatal error: Command failed for target `saveload.o'
Current working directory /tmp/R-1.3.0/src/main
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /tmp/R-1.3.0/src/main
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /tmp/R-1.3.0/src
*** Error code 1
make: Fatal error: Command failed for target `R'

--
Govind Vinjamuri
NSA Unix Administrator
Clinical Research Computing Unit (CRCU)
215-573-5977


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Jul 27 16:59:16 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 27 Jul 2001 16:59:16 +0200
Subject: [R] installation error
In-Reply-To: <3B617B46.213469A3@cceb.upenn.edu>
References: <3B617B46.213469A3@cceb.upenn.edu>
Message-ID: <15201.33220.470202.765893@gargle.gargle.HOWL>


    Govind> Hello everybody, I am trying to install R on Solaris 2.6. I get the
    Govind> following error

    Govind> Thanks in advance

    Govind> "In file included from /usr/include/sys/turnstile.h:12,
    Govind> from /usr/include/sys/t_lock.h:20,
    Govind> from /usr/include/sys/vnode.h:37,
    Govind> from /usr/include/sys/stream.h:21,
    Govind> from /usr/include/netinet/in.h:38,
    Govind> from /usr/include/rpc/auth_kerb.h:14,
    Govind> from /usr/include/rpc/rpc.h:39,
    Govind> from saveload.c:229:
    Govind> /appl/gnu/lib/gcc-lib/sparc-sun-solaris2.5.1/2.7.2.3/include/sys/param.h:187:
    Govind> warning: `NBBY' redefined
    Govind> /usr/include/sys/select.h:45: warning: this is the location of the
    Govind> previous definition
    Govind> In file included from /usr/include/sys/stream.h:26,
    Govind> from /usr/include/netinet/in.h:38,
    Govind> from /usr/include/rpc/auth_kerb.h:14,
    Govind> from /usr/include/rpc/rpc.h:39,
    Govind> from saveload.c:229:
    Govind> /usr/include/sys/model.h:32: #error "No DATAMODEL_NATIVE specified"
    Govind> *** Error code 1
    ............


Most probably A mismatch of gcc installation and OS header files.
You have /appl/gnu/lib/gcc-lib/sparc-sun-solaris2.5.1/2.7.2.3/include/.....
                                         ^^^^^^^^^^^^
and tell us that you have Solaris 2.6.

You might need to re-install gcc;
actually I think (from reports of Brian Ripley and others) that it would be
worth to get gcc 3.0  and install that.

    Govind> Govind Vinjamuri
    Govind> NSA Unix Administrator
    Govind> Clinical Research Computing Unit (CRCU)
    Govind> 215-573-5977

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jul 27 17:01:36 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 27 Jul 2001 16:01:36 +0100 (GMT Daylight Time)
Subject: [R] installation error
In-Reply-To: <3B617B46.213469A3@cceb.upenn.edu>
Message-ID: <Pine.WNT.4.31.0107271558150.572-100000@gannet>

Don't use gcc compiled for Solaris 2.5.1 on Solaris 2.6.  We've seen this
before a couple of times, and that was the error.

Also, gcc-2.7.2.3 is ancient.  I suggest getting 2.95.3 (or 3.0 if you use
.0 releases: it works for me) for 2,6, or compiling it from source.

On Fri, 27 Jul 2001, Govind Vinjamuri wrote:

> Hello everybody, I am trying to install R on Solaris 2.6. I get the
> following error
>
> Thanks in advance
>
> "In file included from /usr/include/sys/turnstile.h:12,
>                  from /usr/include/sys/t_lock.h:20,
>                  from /usr/include/sys/vnode.h:37,
>                  from /usr/include/sys/stream.h:21,
>                  from /usr/include/netinet/in.h:38,
>                  from /usr/include/rpc/auth_kerb.h:14,
>                  from /usr/include/rpc/rpc.h:39,
>                  from saveload.c:229:
> /appl/gnu/lib/gcc-lib/sparc-sun-solaris2.5.1/2.7.2.3/include/sys/param.h:187:
> warning: `NBBY' redefined
> /usr/include/sys/select.h:45: warning: this is the location of the
> previous definition
> In file included from /usr/include/sys/stream.h:26,
>                  from /usr/include/netinet/in.h:38,
>                  from /usr/include/rpc/auth_kerb.h:14,
>                  from /usr/include/rpc/rpc.h:39,
>                  from saveload.c:229:
> /usr/include/sys/model.h:32: #error "No DATAMODEL_NATIVE specified"
> *** Error code 1
> make: Fatal error: Command failed for target `saveload.o'
> Current working directory /tmp/R-1.3.0/src/main
> *** Error code 1
> make: Fatal error: Command failed for target `R'
> Current working directory /tmp/R-1.3.0/src/main
> *** Error code 1
> make: Fatal error: Command failed for target `R'
> Current working directory /tmp/R-1.3.0/src
> *** Error code 1
> make: Fatal error: Command failed for target `R'
>
> --
> Govind Vinjamuri
> NSA Unix Administrator

Um.

> Clinical Research Computing Unit (CRCU)
> 215-573-5977

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Jul 27 17:02:42 2001
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 27 Jul 2001 17:02:42 +0200
Subject: [R] problem with "history"
In-Reply-To: <3B617410.CBCB941E@ipimar.pt>
References: <3B617410.CBCB941E@ipimar.pt>
Message-ID: <15201.33426.568154.78833@gargle.gargle.HOWL>

>>>>> "Alberto" == Alberto Murta <amurta at ipimar.pt> writes:

    Alberto> After upgrading my OS to SuSE Linux 7.1 (intel) and
    Alberto> re-compiling R 1.3.0, I noticed that the arrow keys are not
    Alberto> working anymore. Not even emacs-type commands (such as Ctrl-a
    Alberto> or Ctrl-e) work anymore. However "readline" and the arrow keys
    Alberto> seem to be working well outside R. Can anyone tell me what may
    Alberto> be wrong?

Instead of "re-compiling" you must "re-configure from scratch" after an OS
upgrade.
I.e.,
	rm config.cache
	{path/}configure
	make
etc

An even more foolproof (but considerably slower) version of the above would
be to throw away your 1.3.0 installation, and re configure from scratch.
This means that if your build directory is = source, you trash everything,
unpack the tar file again, etc.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amurta at ipimar.pt  Fri Jul 27 18:36:02 2001
From: amurta at ipimar.pt (Alberto Murta)
Date: Fri, 27 Jul 2001 16:36:02 +0000
Subject: [R] problem with "history"
References: <3B617410.CBCB941E@ipimar.pt> <15201.33426.568154.78833@gargle.gargle.HOWL>
Message-ID: <3B619872.59F9CD8@ipimar.pt>

Martin Maechler wrote:
> 
> Instead of "re-compiling" you must "re-configure from scratch" after an OS
> upgrade.
> I.e.,
>         rm config.cache
>         {path/}configure
>         make
> etc
> 
> An even more foolproof (but considerably slower) version of the above would
> be to throw away your 1.3.0 installation, and re configure from scratch.
> This means that if your build directory is = source, you trash everything,
> unpack the tar file again, etc.

I tried the latter option and it didn't solve the problem. I really
can't understand what can be the problem. Anyway, I finally managed to
put R to work with the arrow keys by installing the rpm package made for
SuSE Linux 7.2 (from CRAN) instead of building from source.

Thank you very much for your support

Alberto



-- 
                       Alberto G. Murta                      
       IPIMAR - Institute of Fisheries and Sea Research
        Avenida de Brasilia, 1449-006 Lisboa, Portugal       
Tel: +351 213027062; Fax: +351 213015849; http://www.ipimar.pt
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thoar at cgd.ucar.edu  Fri Jul 27 19:01:33 2001
From: thoar at cgd.ucar.edu (Tim Hoar)
Date: Fri, 27 Jul 2001 11:01:33 -0600 (MDT)
Subject: [R] installation error
In-Reply-To: <3B617B46.213469A3@cceb.upenn.edu>
Message-ID: <Pine.GSO.4.30.0107271059290.12787-100000@laplace.cgd.ucar.edu>

Something doesn't match. You say you are installing R on Solaris 2.6,
but then have  gnu/gcc-lib/sparc-sun-solaris.2.5.1

My guess is that you are picking up a stale version of the gcc libraries.

My $0.02 ... Tim

> Date: Fri, 27 Jul 2001 10:31:35 -0400
> From: Govind Vinjamuri <gvinjamu at cceb.upenn.edu>
> To: R-help at hypatia.math.ethz.ch
> Subject: [R] installation error
>
> Hello everybody, I am trying to install R on Solaris 2.6. I get the
> following error
>
> Thanks in advance
>
> "In file included from /usr/include/sys/turnstile.h:12,
>                  from /usr/include/sys/t_lock.h:20,
>                  from /usr/include/sys/vnode.h:37,
>                  from /usr/include/sys/stream.h:21,
>                  from /usr/include/netinet/in.h:38,
>                  from /usr/include/rpc/auth_kerb.h:14,
>                  from /usr/include/rpc/rpc.h:39,
>                  from saveload.c:229:
> /appl/gnu/lib/gcc-lib/sparc-sun-solaris2.5.1/2.7.2.3/include/sys/param.h:187:
> warning: `NBBY' redefined
> /usr/include/sys/select.h:45: warning: this is the location of the
> previous definition
> In file included from /usr/include/sys/stream.h:26,
>                  from /usr/include/netinet/in.h:38,
>                  from /usr/include/rpc/auth_kerb.h:14,
>                  from /usr/include/rpc/rpc.h:39,
>                  from saveload.c:229:
> /usr/include/sys/model.h:32: #error "No DATAMODEL_NATIVE specified"
> *** Error code 1
> make: Fatal error: Command failed for target `saveload.o'
> Current working directory /tmp/R-1.3.0/src/main
> *** Error code 1
> make: Fatal error: Command failed for target `R'
> Current working directory /tmp/R-1.3.0/src/main
> *** Error code 1
> make: Fatal error: Command failed for target `R'
> Current working directory /tmp/R-1.3.0/src
> *** Error code 1
> make: Fatal error: Command failed for target `R'
>
> --
> Govind Vinjamuri
> NSA Unix Administrator
> Clinical Research Computing Unit (CRCU)
> 215-573-5977
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

## Tim Hoar, Associate Scientist              email: thoar at ucar.edu     ##
## Geophysical Statistics Project             phone: 303-497-1708       ##
## National Center for Atmospheric Research   FAX  : 303-497-1333       ##
## Boulder, CO  80307                    http://www.cgd.ucar.edu/~thoar ##

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jul 27 19:19:59 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 27 Jul 2001 10:19:59 -0700 (PDT)
Subject: [R] Seemingly bizarre behavior in R CMD check
In-Reply-To: <7975A3F85F08D5119C610002A5134856AA4A78@Msgbos686nts.fmr.com>
Message-ID: <Pine.A41.4.33.0107271012110.125280-100000@homer38.u.washington.edu>

On Fri, 27 Jul 2001, Bartz, Kevin wrote in part:
>                                               Apparently, R keeps very
> stringent requirements on its documentation's usage field. If it's anything
> other than myFunc(arg1, arg2...), codoc won't parse it correctly in its
> tempfiles. And the particular S code I was translating used chiefly example
> calls in its documentation's usage fields. Is this formatting an intended
> necessity? I know it ensures consistency but it's too often the source of
> cryptic errors.

This is intended. It makes sure that the help page contains all the
arguments in the correct order (for positional matching), which is usually
a good idea.

You can override the check in cases where it is not useful to have this
sort of usage example, by providing the function prototype in a \synopsis
section instead. help(abline) does this because the actual prototype would
be more confusing than what is given.

However, quite a lot of user-written S code comes with help pages that
don't document all the arguments or have the order of arguments wrong.
codoc at least checks this.

In most cases it really is better to put examples in the \examples section
and usage in the \usage section.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jul 27 19:33:56 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 27 Jul 2001 18:33:56 +0100 (GMT Daylight Time)
Subject: [R] Seemingly bizarre behavior in R CMD check
In-Reply-To: <7975A3F85F08D5119C610002A5134856AA4A78@Msgbos686nts.fmr.com>
Message-ID: <Pine.WNT.4.31.0107271826410.972-100000@gannet>

On Fri, 27 Jul 2001, Bartz, Kevin wrote:

> Maybe someone can help shed some light on an odd and repeatedly irritating
> error I noticed when running the check Perl script on my R 1.3 project. In
> following it line by line, I traced my problem down to the
> code/documentation matching within check, the most recent version of which
> seems to verify proper .Rd formatting by means of R's codoc and undoc
> functions. Under R --vanilla, those two then unpack and repack my project,
> with each assembling a kind of test tempfile to ensure various structural
> requirements within my project. At first, I got bogged down in a mysterious
> "parse" problem, R's not-too-revealing result of a simple eval, but after
> discovering the keep.tempfiles flag I was able to trace the obvious errors
> without running codoc line by line interactively. Apparently, R keeps very
> stringent requirements on its documentation's usage field. If it's anything
> other than myFunc(arg1, arg2...), codoc won't parse it correctly in its
> tempfiles. And the particular S code I was translating used chiefly example
> calls in its documentation's usage fields. Is this formatting an intended
> necessity? I know it ensures consistency but it's too often the source of
> cryptic errors.
>
> Anyway, fixing these usage fields worked for the time being but without fail
> another similar problem soon emerged, this time with the check for
> undocumented objects. This leg of the script uses undoc, and after
> examination I found that undoc's concatenation of the R code in the
> project/R directory fails to insert a newline at the end of each .R file's
> contribution to the appended tempfile. Now I'm a clean kind of guy and I
> like to keep my code immaculate, so it was more than disturbing when my R
> functions, each stored in a single .R file, bombed out because each did not
> have a newline proceeding its closing bracket. Without that, undoc's file

Do you mean a newline *after* the closing brace (to be precise)?  That
would explain the rest of the sentence.  A well-formed .R file *does* have
a final newline, so `immaculate' code should have one.  (BTW, the
tidying-up procedure mentioned in `Writing R Extensions' does ensure a
final newline.)

> appending sticks the next function right up against the last's final
> bracket, triggering an obvious syntax error, albeit one hidden underneath
> tempfiles and a parse/eval combo. Now I can understand somewhat the benefits
> of establishing consistency in the usage fields, but for the life of me I
> can't figure out the reasoning behind this seemingly superfluous stringency.
> Is this R's intended behavior, and if so, forgive me for asking, but why?

(Assuming I have decoded your explanation correctly.)  Because Unix text
files do have a final newline.  It's a very widespread convention, and the
most widespread editor, vi, enforces it.  Now undoc could be asked to
insert a newline (and given your experience it is probably a good idea) for
files which lack one, but this has not arisen in the hundreds of packages
which have been tested to date.

> Thanks in advance for any light you can cast on the issue.
>
> Kevin
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hstevens at muohio.edu  Fri Jul 27 19:38:35 2001
From: hstevens at muohio.edu (Martin Henry H. Stevens)
Date: Fri, 27 Jul 2001 13:38:35 -0400
Subject: [R] converting among modes
Message-ID: <01ff01c116c2$f6952300$c5093586@STEVENS>

Windows 2000, R 1.3.0

I have been given a data set (ASCII tab delimited) in which many variables
that are supposed to be numeric actually contain characters. I would be
happy to have those character entries disappear and become NA.

When I use read.table and then attempt to convert these using as.numeric(),
of course it doesn't work, and I get the ASCII? representation? maybe? When
I use scan() and specify the data type (what=...), I get an error message
saying that I have character data in the numeric variable.

Any ideas are appreciated.

Thank you,
Henry

*****************************
Martin Henry H. Stevens
HStevens at muohio.edu
tel: (513) 529 - 4206
FAX: (513) 529 - 4243

338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jul 27 19:44:43 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 27 Jul 2001 18:44:43 +0100 (BST)
Subject: [R] converting among modes
In-Reply-To: <01ff01c116c2$f6952300$c5093586@STEVENS>
Message-ID: <Pine.LNX.4.31.0107271843360.1643-100000@gannet.stats>

On Fri, 27 Jul 2001, Martin Henry H. Stevens wrote:

> Windows 2000, R 1.3.0
>
> I have been given a data set (ASCII tab delimited) in which many variables
> that are supposed to be numeric actually contain characters. I would be
> happy to have those character entries disappear and become NA.
>
> When I use read.table and then attempt to convert these using as.numeric(),
> of course it doesn't work, and I get the ASCII? representation? maybe? When

Yes, `of course'.  You need as.numeric(as.character()) since those columns
are factors. (See the FAQ item 7.13.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jul 27 19:47:07 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 27 Jul 2001 10:47:07 -0700 (PDT)
Subject: [R] converting among modes
In-Reply-To: <01ff01c116c2$f6952300$c5093586@STEVENS>
Message-ID: <Pine.A41.4.33.0107271043370.125280-100000@homer38.u.washington.edu>

On Fri, 27 Jul 2001, Martin Henry H. Stevens wrote:

> Windows 2000, R 1.3.0
>
> I have been given a data set (ASCII tab delimited) in which many variables
> that are supposed to be numeric actually contain characters. I would be
> happy to have those character entries disappear and become NA.
>
> When I use read.table and then attempt to convert these using as.numeric(),
> of course it doesn't work, and I get the ASCII? representation? maybe? When
> I use scan() and specify the data type (what=...), I get an error message
> saying that I have character data in the numeric variable.

If there are only a few different character strings causing problems you
can use the na.strings option of read.table().

Your data are actually read as *factors*, not as characters, and
as.numeric() gives the factor codes.  Converting factors to numeric is a
FAQ (7.13); use as.numeric(as.character(the.factor))


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hstevens at muohio.edu  Fri Jul 27 19:58:30 2001
From: hstevens at muohio.edu (Martin Henry H. Stevens)
Date: Fri, 27 Jul 2001 13:58:30 -0400
Subject: [R] Re: [ -R] Summary converting among modes
References: <Pine.A41.4.33.0107271043370.125280-100000@homer38.u.washington.edu>
Message-ID: <021b01c116c5$bedb5c60$c5093586@STEVENS>

Thank you very much for the response.
The way to get rid of those pesky characters is to first convert to
character (from the default factor), THEN convert to numeric. I had tried
using as.is= in read.table, but I used it incorrectly (as.is=TRUE instead of
as.is= <vector of col indices>).

as.numeric( as.character( vect.dat ) )
NOT simply    as.numeric(vect.dat)

I used as.is= incorrectly. I simply used as.is=TRUE, and did not specify
----- Original Message -----
From: "Thomas Lumley" <tlumley at u.washington.edu>
To: "Martin Henry H. Stevens" <hstevens at muohio.edu>
Cc: <r-help at stat.math.ethz.ch>
Sent: Friday, July 27, 2001 1:47 PM
Subject: Re: [R] converting among modes


> On Fri, 27 Jul 2001, Martin Henry H. Stevens wrote:
>
> > Windows 2000, R 1.3.0
> >
> > I have been given a data set (ASCII tab delimited) in which many
variables
> > that are supposed to be numeric actually contain characters. I would be
> > happy to have those character entries disappear and become NA.
> >
> > When I use read.table and then attempt to convert these using
as.numeric(),
> > of course it doesn't work, and I get the ASCII? representation? maybe?
When
> > I use scan() and specify the data type (what=...), I get an error
message
> > saying that I have character data in the numeric variable.
>
> If there are only a few different character strings causing problems you
> can use the na.strings option of read.table().
>
> Your data are actually read as *factors*, not as characters, and
> as.numeric() gives the factor codes.  Converting factors to numeric is a
> FAQ (7.13); use as.numeric(as.character(the.factor))
>
>
> -thomas
>
> Thomas Lumley Asst. Professor, Biostatistics
> tlumley at u.washington.edu University of Washington, Seattle
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jul 27 20:16:20 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Jul 2001 20:16:20 +0200
Subject: [R] problem with "history"
In-Reply-To: Alberto Murta's message of "Fri, 27 Jul 2001 16:36:02 +0000"
References: <3B617410.CBCB941E@ipimar.pt> <15201.33426.568154.78833@gargle.gargle.HOWL> <3B619872.59F9CD8@ipimar.pt>
Message-ID: <x2itgep79n.fsf@blueberry.kubism.ku.dk>

Alberto Murta <amurta at ipimar.pt> writes:

> Martin Maechler wrote:
> > 
> > Instead of "re-compiling" you must "re-configure from scratch" after an OS
> > upgrade.
> > I.e.,
> >         rm config.cache
> >         {path/}configure
> >         make
> > etc
> > 
> > An even more foolproof (but considerably slower) version of the above would
> > be to throw away your 1.3.0 installation, and re configure from scratch.
> > This means that if your build directory is = source, you trash everything,
> > unpack the tar file again, etc.
> 
> I tried the latter option and it didn't solve the problem. I really
> can't understand what can be the problem. Anyway, I finally managed to
> put R to work with the arrow keys by installing the rpm package made for
> SuSE Linux 7.2 (from CRAN) instead of building from source.
> 
> Thank you very much for your support

Sounds like you may have lost the header files for readline in the
upgrade. Look for an RPM named readline-devel or so.

Otherwise, check the output from configure to see what it has to say
about readline. (Remove config.cache first).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ted.Harding at nessie.mcc.ac.uk  Fri Jul 27 21:47:11 2001
From: Ted.Harding at nessie.mcc.ac.uk ( (Ted Harding))
Date: Fri, 27 Jul 2001 20:47:11 +0100 (BST)
Subject: [R] Plotting an array of histograms
In-Reply-To: <200107261440.JAA17566@definetti.uark.edu>
Message-ID: <XFMail.010727204711.Ted.Harding@nessie.mcc.ac.uk>

I have a dataset (of say values of X), each value associated
with a level of a factor F (25 levels in all), in a dataframe.

I want to make a single plot which contains 25 histograms of X,
one for each level of F and each one appropriately labelled.

(And, since there are 25 levels, a 5x5 array would be nice).

What's the trick in R, please?

With thanks,
Ted.

--------------------------------------------------------------------
E-Mail: (Ted Harding) <Ted.Harding at nessie.mcc.ac.uk>
Fax-to-email: +44 (0)870 167 1972
Date: 27-Jul-01                                       Time: 20:47:11
------------------------------ XFMail ------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Fri Jul 27 22:00:17 2001
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Fri, 27 Jul 2001 13:00:17 -0700
Subject: [R] boxplot question
Message-ID: <5.1.0.14.2.20010727122617.00ab8150@127.0.0.1>

I'm graphing a series of boxplots of grouped data inside a function that 
passes the data.frame, the names vector, and a title vector.

Because both the data subset changes with each successive pass through the 
function, occasionally the names vector turns up with only one group to 
plot.  This is an expected result.  However, when the names argument in 
boxplot has only a single name, it doesn't put in on the 
boxplot.  (Actually, this is true whether the names argument is present or 
not.  If the call to boxplot is in formula form (e.g. variable ~ group), 
the plot doesn't name the group if there is only one group.)

Here is a small example that produces the desired boxplots and labels them 
horizontally with "GO", "HO", "PA", "PO" as I want:

attach(hominoid) #contains raw data
groups<-c("GO", "HO", "PA", "PO")
boxplot(latsupri~genus, main = "latsupri", horizontal=T, 
las=1,            names=groups)

This example produces the needed boxplot, but fails to put the "GO" 
anywhere on the plot

attach(hominoid)
groups<-"GO"  # groups<-c("GO")  doesn't do any better
boxplot(latsupri~genus, main = "latsupri", horizontal=T, las=1, names=groups)

So, since I've got lots of these to do and some of these happen to end up 
with single groups (and hence no name on the boxplot), how do I get boxplot 
to put the name of the single group in the same place it would be if there 
were more than one group?

Thanks.




=====================
Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department
Portland State University
1721 SW Broadway
Portland, Oregon 97201
email:  feldesmanm at pdx.edu
phone:  503-725-3081
fax:    503-725-3905
http://web.pdx.edu/~h1mf
PGP Key Available On Request
======================

"Anyway, no drug, not even alcohol, causes the fundamental ills of society.
If we're looking for the source of our troubles, we shouldn't test people
for drugs, we should test them for stupidity, ignorance, greed and love of
power."   P.J. O'Rourke

Powered by Optiplochoerus and Windows 2000 (scary isn't it?)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jul 27 22:34:35 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 27 Jul 2001 13:34:35 -0700 (PDT)
Subject: [R] Plotting an array of histograms
In-Reply-To: <XFMail.010727204711.Ted.Harding@nessie.mcc.ac.uk>
Message-ID: <Pine.A41.4.33.0107271333400.125280-100000@homer38.u.washington.edu>

On Fri, 27 Jul 2001 Ted.Harding at nessie.mcc.ac.uk wrote:

> I have a dataset (of say values of X), each value associated
> with a level of a factor F (25 levels in all), in a dataframe.
>
> I want to make a single plot which contains 25 histograms of X,
> one for each level of F and each one appropriately labelled.
>
> (And, since there are 25 levels, a 5x5 array would be nice).
>
> What's the trick in R, please?

Use the histogram function in the new 'lattice' package

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Jul 27 22:39:36 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 27 Jul 2001 13:39:36 -0700 (PDT)
Subject: [R] boxplot question
In-Reply-To: <5.1.0.14.2.20010727122617.00ab8150@127.0.0.1>
Message-ID: <Pine.A41.4.33.0107271334380.125280-100000@homer38.u.washington.edu>

On Fri, 27 Jul 2001, Marc Feldesman wrote:

> I'm graphing a series of boxplots of grouped data inside a function that
> passes the data.frame, the names vector, and a title vector.
>
> Because both the data subset changes with each successive pass through the
> function, occasionally the names vector turns up with only one group to
> plot.  This is an expected result.  However, when the names argument in
> boxplot has only a single name, it doesn't put in on the
> boxplot.  (Actually, this is true whether the names argument is present or
> not.  If the call to boxplot is in formula form (e.g. variable ~ group),
> the plot doesn't name the group if there is only one group.)

Yes. In order to get around this you need to modify the bxp() function
that does the actual plotting.


My recommended change is to add a show.names argument:

  function (z, notch = FALSE, width = NULL, varwidth = FALSE, notch.frac =
  0.5,  boxwex = 0.8, border = par("fg"), col = NULL, log = "", pars =
  NULL, frame.plot = axes, horizontal = FALSE, add = FALSE, at = NULL,
  show.names=NULL, ...)

and then near the end of the function replace the if(axes) conditional
with

    if (axes) {
        ax.pars <- pars[names(pars) %in% c("xaxt", "yaxt", "las")]
	if(is.null(show.names)) show.names<-(n>1)
        if (show.names)
            do.call("axis", c(list(side = 1 + horizontal, at = at,
                labels = z$names), ax.pars))
        do.call("axis", c(list(side = 2 - horizontal), ax.pars))
    }


Now the standard behaviour is the same but you can override it with

  temp<-boxplot(y~g,plot=FALSE)
  bxp(temp,show.names=TRUE)

or if you have multiple groups but don't want names for some strange
reason
  bxp(temp,show.names=FALSE)


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murphyk at cs.berkeley.edu  Fri Jul 27 23:18:42 2001
From: murphyk at cs.berkeley.edu (Kevin Murphy)
Date: Fri, 27 Jul 2001 14:18:42 -0700
Subject: [R] style question: returning multiple arguments - structure or list
Message-ID: <3B61DAB2.6B3C0ECD@cs.berkeley.edu>

I have a question about what is considered good style in R.

I have a function  which returns several arguments, say [x,y,z]=f(),
where sometimes I only care about the first few
(so in Matlab, I can write e.g., [x,y] = f()).

In R, there seem to be 2 ways to write this, both unsatisfying (to me):

LIST
f <- function() {
  ...
  list(x=x,y=y,z=z)
}
res <- f()
x <- res$x; y <- res$y; z <- res$z


STRUCTURE
f <- function() {
  ...
  structure(x,y=y,z=z)
}
x <- f()
y <- attr(x,"y"); z <- attr(x, "z")

Which  is considered better style, or does it just depend on the
problem?


Kevin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Sat Jul 28 00:01:20 2001
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Sat, 28 Jul 2001 10:01:20 +1200
Subject: [R] style question: returning multiple arguments - structure or list
References: <3B61DAB2.6B3C0ECD@cs.berkeley.edu>
Message-ID: <3B61E4B0.ADE9BE95@stat.auckland.ac.nz>

Kevin Murphy wrote:
> 
> I have a question about what is considered good style in R.
> 
> I have a function  which returns several arguments, say [x,y,z]=f(),
> where sometimes I only care about the first few
> (so in Matlab, I can write e.g., [x,y] = f()).
> 
> In R, there seem to be 2 ways to write this, both unsatisfying (to me):
> 
> LIST
> f <- function() {
>   ...
>   list(x=x,y=y,z=z)
> }
> res <- f()
> x <- res$x; y <- res$y; z <- res$z
> 
> STRUCTURE
> f <- function() {
>   ...
>   structure(x,y=y,z=z)
> }
> x <- f()
> y <- attr(x,"y"); z <- attr(x, "z")
> 
> Which  is considered better style, or does it just depend on the
> problem?

The second of these looks a little odd to me.  In the first x, y, and z
are treated symmetrically while the second is asymmetric.

You might also consider whether you want to unpackage the x, y and z
values from the list at all.  If you are just using the returned values
you may as well refer to them as res$x, res$y and res$z.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jul 28 08:59:16 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 28 Jul 2001 07:59:16 +0100 (BST)
Subject: [R] style question: returning multiple arguments - structure or
 list
In-Reply-To: <3B61DAB2.6B3C0ECD@cs.berkeley.edu>
Message-ID: <Pine.GSO.4.31.0107280756210.23772-100000@auk.stats>

On Fri, 27 Jul 2001, Kevin Murphy wrote:

> I have a question about what is considered good style in R.
>
> I have a function  which returns several arguments, say [x,y,z]=f(),
> where sometimes I only care about the first few
> (so in Matlab, I can write e.g., [x,y] = f()).
>
> In R, there seem to be 2 ways to write this, both unsatisfying (to me):
>
> LIST
> f <- function() {
>   ...
>   list(x=x,y=y,z=z)
> }
> res <- f()
> x <- res$x; y <- res$y; z <- res$z
>
>
> STRUCTURE
> f <- function() {
>   ...
>   structure(x,y=y,z=z)
> }
> x <- f()
> y <- attr(x,"y"); z <- attr(x, "z")
>
> Which  is considered better style, or does it just depend on the
> problem?

The latter.  There's a third option, to create a new class and return an
object of that class, and write appropriate extractor functions.

If you look in the code base you will see many more uses of lists than
attributes, and heavy use of classes for returned lists.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nc_osborne at hotmail.com  Sat Jul 28 11:42:49 2001
From: nc_osborne at hotmail.com (Neil Osborne)
Date: Sat, 28 Jul 2001 10:42:49 +0100
Subject: [R] Building R with Microsoft Visual C++
References: <Pine.GSO.4.31.0107280756210.23772-100000@auk.stats>
Message-ID: <LAW2-OE295YI9IJsaJb00002635@hotmail.com>

Dear All,

I have been trying to build R using Microsoft Visual C++ (Ver 6) for the
last three and a half months. This has proved to be UNBELIEVABLY
frustrating. Unfortunately, I wasn't helped much by comments along the lines
of "RTFM" when I first asked for help from this group.

I decided to do it by myself, as the impression I got was that everybody was
to busy to help. However, after having wasted the last three and a half
months, I'm forced to come back, cup in hand. I would be very grateful to
hear from anyone who has managed to build R under VC++ 6.0, and even more
grateful, if they could e-mail me a VC project tthat builds R. It would not
be neccessary to include R the source files, since I can download these
myself. What would be useful though, would be the CORRECT tools (I spent
almost a month following links in the very useful Readme files) etc.

I  happened to stumble on R shortly after my Masters degree in Applied
Statistics. I think it's an AMAZING product, and the fact that it is open
source is even more amazing. I take off my hat to all those that helped to
make it a reality. My only gripe is that of "user-friendliness" when it
comes to building R. The impression I get is that this is a closely guarded
secret by old grey haired be-spectapled men in white coats with 50 or more
years of hacking UNIX, who don't have time to explain anything to any one,
and our stuck up in their own little world  of academia - Sorry ;-).

This is just the impression I get, and many students I've spoken to have the
same impression and so don't post to this group if they have any queries. I
expect anytime, to have some Professor e-mailing to "tell me off" for being
a naughty boy ! (and to kindly inform me that it's all in the FM!).

Anyway, I've had my rant (it's been threee and a half month's coming). If
you're too busy to bother about helping this "little boy" then DO NOT feel
obliged to REPLY to this mail. However, if there are any kind souls out
there who would like to give a helping hand to a young student who is
willing to learn, I will be most grateful to hear from you. As I mentioned
earlier, if you could e-mail a MSVC project that can just get me up and
running with building R, I will be forever grateful for your time, patience
andd kindness.

Sincerely,


N. Osborne

nc_osborne at hotmail.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ted.Harding at nessie.mcc.ac.uk  Sat Jul 28 13:03:54 2001
From: Ted.Harding at nessie.mcc.ac.uk ( (Ted Harding))
Date: Sat, 28 Jul 2001 12:03:54 +0100 (BST)
Subject: [R] Plotting an array of histograms
In-Reply-To: <51F9C42DA15CD311BD220008C707D81903DC8117@usrymx10.merck.com>
Message-ID: <XFMail.010728120354.Ted.Harding@nessie.mcc.ac.uk>


On 27-Jul-01 Liaw, Andy wrote:
> Assuming x.df is the data frame with two columns, x (the value) and
> group (indicator for groups).  Try something like
> 
> par(mfrow=c(5,5))  # ask for 5x5 array of plots, by row
> tapply(x.df$x, x.df$group, hist)
> 
> Andy

Thanks to Andy for this suggestion, which basically works
in that it generates the requisite array of histograms.

And I'm also grateful for being thereby forced to look more
closely into this aspect of R programming, which was useful
and instructive!

However, using Andy's method I'm still having trouble getting
the histograms labelled etc as I would like, which is why I'm
also interested in Thomas Lumley's suggestion:

> Use the histogram function in the new 'lattice' package
> 
>        -thomas

for which also thanks. However, where is it? It doesn't seem
to be part of R-1.3 which I have just downloaded, and I can't
seem to find any mention of "lattice" on CRAN.

Thanks,
Ted.

--------------------------------------------------------------------
E-Mail: (Ted Harding) <Ted.Harding at nessie.mcc.ac.uk>
Fax-to-email: +44 (0)870 167 1972
Date: 28-Jul-01                                       Time: 12:03:54
------------------------------ XFMail ------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Jul 28 13:16:56 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Jul 2001 13:16:56 +0200
Subject: [R] Building R with Microsoft Visual C++
In-Reply-To: "Neil Osborne"'s message of "Sat, 28 Jul 2001 10:42:49 +0100"
References: <Pine.GSO.4.31.0107280756210.23772-100000@auk.stats> <LAW2-OE295YI9IJsaJb00002635@hotmail.com>
Message-ID: <x2k80tgv6f.fsf@blueberry.kubism.ku.dk>

"Neil Osborne" <nc_osborne at hotmail.com> writes:

> I decided to do it by myself, as the impression I got was that everybody was
> to busy to help. However, after having wasted the last three and a half
> months, I'm forced to come back, cup in hand. I would be very grateful to
> hear from anyone who has managed to build R under VC++ 6.0, and even more
> grateful, if they could e-mail me a VC project tthat builds R. It would not
> be neccessary to include R the source files, since I can download these
> myself. What would be useful though, would be the CORRECT tools (I spent
> almost a month following links in the very useful Readme files) etc.
> 
> I  happened to stumble on R shortly after my Masters degree in Applied
> Statistics. I think it's an AMAZING product, and the fact that it is open
> source is even more amazing. I take off my hat to all those that helped to
> make it a reality. My only gripe is that of "user-friendliness" when it
> comes to building R. The impression I get is that this is a closely guarded
> secret by old grey haired be-spectapled men in white coats with 50 or more
> years of hacking UNIX, who don't have time to explain anything to any one,
> and our stuck up in their own little world  of academia - Sorry ;-).

Well, sixteen years to be precise in my case. However, you need to
know that the grey-haired men (some more than others, none of us wear
white coats though, and some of us can still manage without reading
glasses) *also* gave up on Visual C++ many moons ago. The project file
structure of VC++ is simply not strong enough to build the auxiliary
files needed for R, and we only achieved the cross-platform
portability by using the gnuwin tools. This is simply the traditional
clash between two kinds of user-friendliness: making simple things
easy vs. making difficult things possible (and automatable). (You can
read the book or wait for the movie, but in academia the latter option
may require a very long wait!)

> This is just the impression I get, and many students I've spoken to have the
> same impression and so don't post to this group if they have any queries. I
> expect anytime, to have some Professor e-mailing to "tell me off" for being
> a naughty boy ! (and to kindly inform me that it's all in the FM!).

Well, it is... *provided* you use the suggested tools. Once the tools
are installed, you start a shell, go to the relevant directory, type
"make" and sit down and watch the magic. This might have taken you
three and a half days to get to work and three and a half weeks to
begin to understand how it works... 

If you want to use a different set of tools, in particular a
proprietary one, you really can't expect anyone else to jump up and
help you out. It might be doable - versions of R for Windows around
the 0.50 revision (c.1997) were actually made with VC++ (by Robert),
but it usually took him over a month from the Unix releases were made.
However, the functionality of R has been expanded considerably since
then and I have no clue as to where VC++ stands when it comes to
dynamic linking and suchlike. I also think some non-binary items were
actually built on Unix and copied across (but my memory is fading).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jul 28 14:15:14 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 28 Jul 2001 13:15:14 +0100 (BST)
Subject: [R] Plotting an array of histograms
In-Reply-To: <XFMail.010728120354.Ted.Harding@nessie.mcc.ac.uk>
Message-ID: <Pine.GSO.4.31.0107281309090.27607-100000@auk.stats>

On Sat, 28 Jul 2001 Ted.Harding at nessie.mcc.ac.uk wrote:

>
> On 27-Jul-01 Liaw, Andy wrote:
> > Assuming x.df is the data frame with two columns, x (the value) and
> > group (indicator for groups).  Try something like
> >
> > par(mfrow=c(5,5))  # ask for 5x5 array of plots, by row
> > tapply(x.df$x, x.df$group, hist)
> >
> > Andy
>
> Thanks to Andy for this suggestion, which basically works
> in that it generates the requisite array of histograms.
>
> And I'm also grateful for being thereby forced to look more
> closely into this aspect of R programming, which was useful
> and instructive!
>
> However, using Andy's method I'm still having trouble getting
> the histograms labelled etc as I would like, which is why I'm
> also interested in Thomas Lumley's suggestion:
>
> > Use the histogram function in the new 'lattice' package
> >
> >        -thomas
>
> for which also thanks. However, where is it? It doesn't seem
> to be part of R-1.3 which I have just downloaded, and I can't
> seem to find any mention of "lattice" on CRAN.

Yes, I thought maybe Thomas needed to say where.  You need the packages
grid and lattice from the Devel section on CRAN, and you had better be
using 1.3.0 (which is what I assume you mean by R-1-3).

Both grid and lattice are under development, which is why they are in
Devel.  You may need a description of S's Trellis to get an overview of
what lattice is intended to do, but don't expect perfect equivalence
(especially not yet).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ted.Harding at nessie.mcc.ac.uk  Sat Jul 28 14:23:59 2001
From: Ted.Harding at nessie.mcc.ac.uk ( (Ted Harding))
Date: Sat, 28 Jul 2001 13:23:59 +0100 (BST)
Subject: [R] Plotting an array of histograms
In-Reply-To: <XFMail.010728120354.Ted.Harding@nessie.mcc.ac.uk>
Message-ID: <XFMail.010728132359.Ted.Harding@nessie.mcc.ac.uk>

On 28-Jul-01 Ted Harding wrote:
> 
> I'm also interested in Thomas Lumley's suggestion:
> 
>> Use the histogram function in the new 'lattice' package
>> 
>>        -thomas
> 
> for which also thanks. However, where is it? It doesn't seem
> to be part of R-1.3 which I have just downloaded, and I can't
> seem to find any mention of "lattice" on CRAN.

Excuse me! I've now located this in CRAN under

  Packages / Related Directories / Devel

(pity the "Search" is inactive ... ).

Best wishes to all,
Ted.

--------------------------------------------------------------------
E-Mail: (Ted Harding) <Ted.Harding at nessie.mcc.ac.uk>
Fax-to-email: +44 (0)870 167 1972
Date: 28-Jul-01                                       Time: 13:23:59
------------------------------ XFMail ------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Sat Jul 28 14:27:00 2001
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Sat, 28 Jul 2001 14:27:00 +0200
Subject: [R] Plotting an array of histograms
References: <XFMail.010728120354.Ted.Harding@nessie.mcc.ac.uk>
Message-ID: <3B62AF94.84D96F57@ci.tuwien.ac.at>

"(Ted Harding)" wrote:
> 
> > Use the histogram function in the new 'lattice' package
> >
> >        -thomas
> 
> for which also thanks. However, where is it? It doesn't seem
> to be part of R-1.3 which I have just downloaded, and I can't
> seem to find any mention of "lattice" on CRAN.

It's in the devel-section of CRAN. You will need the 'lattice' and
'grid' packages, because 'lattice' depends on the latter.
Best
Achim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ted.Harding at nessie.mcc.ac.uk  Sat Jul 28 14:32:06 2001
From: Ted.Harding at nessie.mcc.ac.uk ( (Ted Harding))
Date: Sat, 28 Jul 2001 13:32:06 +0100 (BST)
Subject: [R] Plotting an array of histograms
In-Reply-To: <Pine.GSO.4.31.0107281309090.27607-100000@auk.stats>
Message-ID: <XFMail.010728133206.Ted.Harding@nessie.mcc.ac.uk>

On 28-Jul-01 Prof Brian D Ripley wrote:
> 
> Yes, I thought maybe Thomas needed to say where.  You need the packages
> grid and lattice from the Devel section on CRAN, and you had better be
> using 1.3.0 (which is what I assume you mean by R-1-3).
> 
> Both grid and lattice are under development, which is why they are in
> Devel.  You may need a description of S's Trellis to get an overview of
> what lattice is intended to do, but don't expect perfect equivalence
> (especially not yet).

Thanks Brian! I've now pulled grid as well. And I dare say that what
is in Section 3.5 ("Trellis Graphics" of V&R MASS 3rd edn (which I'm
now looking at) will do as an introduction?

Best wishes,
Ted.

--------------------------------------------------------------------
E-Mail: (Ted Harding) <Ted.Harding at nessie.mcc.ac.uk>
Fax-to-email: +44 (0)870 167 1972
Date: 28-Jul-01                                       Time: 13:32:06
------------------------------ XFMail ------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Sat Jul 28 14:56:11 2001
From: fharrell at virginia.edu (fharrell@virginia.edu)
Date: Sat, 28 Jul 2001 08:56:11 -0400
Subject: [R] Re: [S] Labels wrong with lrm
References: <01C116AD.C0ED1240.jan.brogger@med.uib.no>
Message-ID: <3B62B66B.433C9C95@virginia.edu>

Dear Jan,

Thank you very much for your excellent description of the
problem and the self-contained test code.  This is a
problem that I've been meaning to either document better
or solve for some time.  The root of the problem is with
the builtin S-Plus terms.inner function:

> attr(terms.inner(asthma ~ pol(age,kx) + smok),'variables')
expression(age, kx, smok)

You can see that terms.inner inappropriately includes kx
as an independent variable as it does not know that
the first argument to pol is the special variable.
When a constant replaces kx, all is well.

As I am relying on the C code called by terms.inner to 
do the job, I don't have a ready solution.  I would
be happy if someone comes up with a solution.  The
all.vars function in the R language has the same
limitation:

all.vars(asthma ~ pol(age,kx) + smok)
[1] "asthma" "age"   "kx"   "smok"

Frank Harrell




Jan Brogger wrote:
> 
> I get funny behaviour from lrm when using transformations that require a
> parameter, and the parameter is a variable. It only happens when there are
> other variables in the model. The transformation must be the last term in
> the formula, or some labels will be wrong. For example, if the correct
> labels are "age" "age^2" and "smok", the labels will be "age", "age^2" and
> "kx" where "kx" is actually the parameter for the transformation, and it
> should be "smok".
> 
> I have tried including the variable that contains the parameter for the
> transformation with datadist, but it doesn't help. Also tried reinstalling
> newest Hmisc, Design and starting new project directory. Platform: S+2000
> Win98. It happens to both rcs and pol. With glm, everything is OK. The
> value of coefficients are the same.
> 
> It isn't a major issue, but it might puzzle some and I thought I'd let you
> know. Solutions are: specify the parameters transformations directly, not
> in variables, or keep your transformations last in the formula. Any better
> solutions ? It'd be nice to be able to keep knot locations in a variable,
> so you can change it only one place in your code.
> 
> This code reproduces the problem:
> library(Hmisc,T)
> library(Design,T)
> age <- rnorm(500,41.5,12) #age
> smok <- sample(0:2,500,rep=T) #smoking habit
> asthma <- sample(0:1,500,rep=T)  #asthma
> mydat <- data.frame(age,smok,asthma)
> dd <- datadist(mydat)
> options(datadist="dd")
> kx <- 2
> 
> #this model gives the wrong labels
> lrm(asthma~pol(age,kx)+smok,data=mydat)
> #this model gives the right label
> lrm(asthma~smok+pol(age,kx),data=mydat)
> 
> #If you don't use a variable, but a value, then everything is ok
> lrm(asthma~smok+pol(age,2),data=mydat)
> lrm(asthma~pol(age,2)+smok,data=mydat)
> #If you only have one term, then everything is OK
> lrm(asthma~pol(age,2),data=mydat)
> #It doesn't happen with GLM:
> glm(asthma~pol(age,2)+smok,data=mydat,family=binomial)
> #but it does with rcs:
> kx <- c(15,40,70)
> lrm(asthma~rcs(age,kx)+smok,data=mydat)
> lrm(asthma~smok+rcs(age,kx),data=mydat)
> 
> Jan Brogger,
> University of Bergen, Norway
> ---------------------------------------------------------------------
> This message was distributed by s-news at lists.biostat.wustl.edu.  To
> unsubscribe send e-mail to s-news-request at lists.biostat.wustl.edu with
> the BODY of the message:  unsubscribe s-news

-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tov at ece.cmu.edu  Sat Jul 28 16:36:52 2001
From: tov at ece.cmu.edu (Thomas J Vogels)
Date: Sat, 28 Jul 2001 10:36:52 -0400
Subject: [R] problem with "history"
In-Reply-To: <3B619872.59F9CD8@ipimar.pt>
Message-ID: <NFBBKIAHMMCHOBIBLMMPCEBKCAAA.tov@ece.cmu.edu>

Hi, having run into this problem (R's configure not picking up my readline
lib) myself a couple times, I'm wondering whether the 'readline feature'
could be added to the capabilities so that I could do:

> capabilities()['readline']

just like I can do today:

> capabilities()['tcltk']
tcltk
 TRUE

?
Regards,
  -tom

--
Email: vogels at cmu.edu


-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Alberto Murta
Sent: Friday, July 27, 2001 11:36 AM
To: Martin Maechler
Cc: R-help
Subject: Re: [R] problem with "history"


Martin Maechler wrote:
>
> Instead of "re-compiling" you must "re-configure from scratch" after an OS
> upgrade.
> I.e.,
>         rm config.cache
>         {path/}configure
>         make
> etc
>
> An even more foolproof (but considerably slower) version of the above
would
> be to throw away your 1.3.0 installation, and re configure from scratch.
> This means that if your build directory is = source, you trash everything,
> unpack the tar file again, etc.

I tried the latter option and it didn't solve the problem. I really
can't understand what can be the problem. Anyway, I finally managed to
put R to work with the arrow keys by installing the rpm package made for
SuSE Linux 7.2 (from CRAN) instead of building from source.

Thank you very much for your support

Alberto



--
                       Alberto G. Murta
       IPIMAR - Institute of Fisheries and Sea Research
        Avenida de Brasilia, 1449-006 Lisboa, Portugal
Tel: +351 213027062; Fax: +351 213015849; http://www.ipimar.pt
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tov at ece.cmu.edu  Sat Jul 28 16:36:54 2001
From: tov at ece.cmu.edu (Thomas J Vogels)
Date: Sat, 28 Jul 2001 10:36:54 -0400
Subject: [R] style question: returning multiple arguments - structure orlist
In-Reply-To: <Pine.GSO.4.31.0107280756210.23772-100000@auk.stats>
Message-ID: <NFBBKIAHMMCHOBIBLMMPEEBKCAAA.tov@ece.cmu.edu>

Hi,

you also have the option of "throwing out" the third result by setting it to
NULL (taking your LIST option)?

> f <- function() {
>   ...
>   list(x=x,y=y,z=z)
> }
> res <- f()
> names(jj)
[1] "x" "y" "z"
> res$z <- NULL
> names(res)
[1] "x" "y"

and then work with res (res$x and res$y)?

Regards,
  -tom

--
Email: vogels at cmu.edu
Phone: 412.855.2096


On Fri, 27 Jul 2001, Kevin Murphy wrote:

> I have a question about what is considered good style in R.
>
> I have a function  which returns several arguments, say [x,y,z]=f(),
> where sometimes I only care about the first few
> (so in Matlab, I can write e.g., [x,y] = f()).
>
> In R, there seem to be 2 ways to write this, both unsatisfying (to me):
>
> LIST
> f <- function() {
>   ...
>   list(x=x,y=y,z=z)
> }
> res <- f()
> x <- res$x; y <- res$y; z <- res$z
>
>
> STRUCTURE
> f <- function() {
>   ...
>   structure(x,y=y,z=z)
> }
> x <- f()
> y <- attr(x,"y"); z <- attr(x, "z")
>
> Which  is considered better style, or does it just depend on the
> problem?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ted.Harding at nessie.mcc.ac.uk  Sat Jul 28 17:56:16 2001
From: Ted.Harding at nessie.mcc.ac.uk ( (Ted Harding))
Date: Sat, 28 Jul 2001 16:56:16 +0100 (BST)
Subject: [R] lattice and histogram
Message-ID: <XFMail.010728165616.Ted.Harding@nessie.mcc.ac.uk>

Hello again folks,

Thanks to all for the advice on getting hold of "grid"
and "lattice". I think I'm getting the hang of it.

This produces very satisfying arrays of histograms.
The typical command I am using is

  histogram( ~ DATA.df$X | DATA.df$F, \
             type=c("count"), layout=c(5,5) )

Now I'd like to ask a question slightly more subtle
than "Where is it?"

Reminder: I have data with 25 levels of a factor "F".
There are in fact several variables.

For some variables, say again typically "X", for one
(or sometimes more) level of "F" all values of "X" are
missing (coded as "NA" in the data file).

If I run the above command with such a variable "X",
I get

Error in if (lim[1] > lim[2]) stop("Improper value of limit") ;
        missing value where logical needed

There is no problem if, at given level of "F", "X" is a mixture
of good values and "NA"s; it seems to do the right thing by
simply ignoring the latter. It's the case of "data = empty set"
that seems to cause the trouble.

I can work round this by modifying the original data file,
for each such variable "X", so that the lines with "F" equal
to the offending value[s] are deleted. Using this file, I then
get an array of histograms of "X" for all levels of "F" with
valid data for "X", but of course for no others (so that the
layout in fact changes from plot to plot).

What I would REALLY like to do is, for such values of "F",
to get a "null histogram", i.e. an empty box, where I would have
got a real histogram if I had valid data, but labelled above
(as for the real histograms) with the value of the factor.

Any suggestions or advice?

With thanks yet again,
Ted.

--------------------------------------------------------------------
E-Mail: (Ted Harding) <Ted.Harding at nessie.mcc.ac.uk>
Fax-to-email: +44 (0)870 167 1972
Date: 28-Jul-01                                       Time: 16:56:16
------------------------------ XFMail ------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jul 28 18:41:31 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 28 Jul 2001 17:41:31 +0100 (BST)
Subject: [R] problem with "history"
In-Reply-To: <NFBBKIAHMMCHOBIBLMMPCEBKCAAA.tov@ece.cmu.edu>
Message-ID: <Pine.GSO.4.31.0107281738390.23951-100000@toucan.stats>

On Sat, 28 Jul 2001, Thomas J Vogels wrote:

> Hi, having run into this problem (R's configure not picking up my readline
> lib) myself a couple times, I'm wondering whether the 'readline feature'
> could be added to the capabilities so that I could do:
>
> > capabilities()['readline']
>
> just like I can do today:
>
> > capabilities()['tcltk']
> tcltk
>  TRUE
>
> ?

It could, but it's a Unix-specific feature, and the idea of
capabilities() was to have a programatic way to use certain features
if they existed (or not if they did not), so this was not an obvious one.

Perhaps a neutral name like "command-line editing"?  Any ideas for a
shorter name?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jul 28 18:47:40 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 28 Jul 2001 17:47:40 +0100 (BST)
Subject: [R] Re: [S] Labels wrong with lrm
In-Reply-To: <3B62B66B.433C9C95@virginia.edu>
Message-ID: <Pine.GSO.4.31.0107281741540.23951-100000@toucan.stats>

On Sat, 28 Jul 2001 fharrell at virginia.edu wrote:

> Dear Jan,
>
> Thank you very much for your excellent description of the
> problem and the self-contained test code.  This is a
> problem that I've been meaning to either document better
> or solve for some time.  The root of the problem is with
> the builtin S-Plus terms.inner function:
>
> > attr(terms.inner(asthma ~ pol(age,kx) + smok),'variables')
> expression(age, kx, smok)
>
> You can see that terms.inner inappropriately includes kx
> as an independent variable as it does not know that
> the first argument to pol is the special variable.
> When a constant replaces kx, all is well.
>
> As I am relying on the C code called by terms.inner to
> do the job, I don't have a ready solution.  I would
> be happy if someone comes up with a solution.  The
> all.vars function in the R language has the same
> limitation:
>
> all.vars(asthma ~ pol(age,kx) + smok)
> [1] "asthma" "age"   "kx"   "smok"

Well,

1) all.vars comes from S, and works the same under R.

2) I don't think it is a limitation.  all.vars is described as

Description:

     Return a character vector containing all the names which occur in
     an expression or call.

and kx is such a name.  Indeed, there is no way to know from just the
formula if it is length n-vector or a scalar.   I don't know what pol()
is, but guess it is from your library, in which case the interpretation
may well depend on where (if anywhere) that library is in the search path.

If you want special-purpose names in formulae (like strata) you need to
extend the formula-handling code.  Neither S4 nor R make that easy.

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tov at ece.cmu.edu  Sat Jul 28 19:58:22 2001
From: tov at ece.cmu.edu (Thomas J Vogels)
Date: Sat, 28 Jul 2001 13:58:22 -0400
Subject: [R] problem with "history"
In-Reply-To: <Pine.GSO.4.31.0107281738390.23951-100000@toucan.stats>
Message-ID: <NFBBKIAHMMCHOBIBLMMPOEBKCAAA.tov@ece.cmu.edu>

(from below:)
> Perhaps a neutral name like "command-line editing"?  Any ideas for a
> shorter name?

You could make it really short, like "cli":

     cli: is the command line interactive (with editing and
          history mechanisms)?

or

     cli: is the command line interactive with (emacs- or vi-
          style) editing and command history?

Regards,
  -tom

--
Email: vogels at cmu.edu
Phone: 412.855.2096


-----Original Message-----
From: Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk]
Sent: Saturday, July 28, 2001 11:42 AM
To: vogels at cmu.edu
Cc: Alberto Murta; Martin Maechler; R-help
Subject: RE: [R] problem with "history"


On Sat, 28 Jul 2001, Thomas J Vogels wrote:

> Hi, having run into this problem (R's configure not picking up my readline
> lib) myself a couple times, I'm wondering whether the 'readline feature'
> could be added to the capabilities so that I could do:
>
> > capabilities()['readline']
>
> just like I can do today:
>
> > capabilities()['tcltk']
> tcltk
>  TRUE
>
> ?

It could, but it's a Unix-specific feature, and the idea of
capabilities() was to have a programatic way to use certain features
if they existed (or not if they did not), so this was not an obvious one.

Perhaps a neutral name like "command-line editing"?  Any ideas for a
shorter name?

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Sat Jul 28 20:03:40 2001
From: fharrell at virginia.edu (fharrell@virginia.edu)
Date: Sat, 28 Jul 2001 14:03:40 -0400
Subject: [R] Re: [S] Labels wrong with lrm
References: <Pine.GSO.4.31.0107281741540.23951-100000@toucan.stats>
Message-ID: <3B62FE7C.808063D1@virginia.edu>

Right Brian, I don't see it as a limitation, 
but an extension would be helpful.  An option to
all.vars to produce a list of vectors containing
names for variables in each "term" would be
especially helpful.  -Frank

P.S.  Thanks for pointing out also that all.vars
is in S - I had missed that.


Prof Brian Ripley wrote:
> 
> On Sat, 28 Jul 2001 fharrell at virginia.edu wrote:
> 
> > Dear Jan,
> >
> > Thank you very much for your excellent description of the
> > problem and the self-contained test code.  This is a
> > problem that I've been meaning to either document better
> > or solve for some time.  The root of the problem is with
> > the builtin S-Plus terms.inner function:
> >
> > > attr(terms.inner(asthma ~ pol(age,kx) + smok),'variables')
> > expression(age, kx, smok)
> >
> > You can see that terms.inner inappropriately includes kx
> > as an independent variable as it does not know that
> > the first argument to pol is the special variable.
> > When a constant replaces kx, all is well.
> >
> > As I am relying on the C code called by terms.inner to
> > do the job, I don't have a ready solution.  I would
> > be happy if someone comes up with a solution.  The
> > all.vars function in the R language has the same
> > limitation:
> >
> > all.vars(asthma ~ pol(age,kx) + smok)
> > [1] "asthma" "age"   "kx"   "smok"
> 
> Well,
> 
> 1) all.vars comes from S, and works the same under R.
> 
> 2) I don't think it is a limitation.  all.vars is described as
> 
> Description:
> 
>      Return a character vector containing all the names which occur in
>      an expression or call.
> 
> and kx is such a name.  Indeed, there is no way to know from just the
> formula if it is length n-vector or a scalar.   I don't know what pol()
> is, but guess it is from your library, in which case the interpretation
> may well depend on where (if anywhere) that library is in the search path.
> 
> If you want special-purpose names in formulae (like strata) you need to
> extend the formula-handling code.  Neither S4 nor R make that easy.
> 
> Brian
> 
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> ---------------------------------------------------------------------
> This message was distributed by s-news at lists.biostat.wustl.edu.  To
> unsubscribe send e-mail to s-news-request at lists.biostat.wustl.edu with
> the BODY of the message:  unsubscribe s-news
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Sat Jul 28 20:29:36 2001
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Sat, 28 Jul 2001 11:29:36 -0700 (PDT)
Subject: [R] lattice and histogram
In-Reply-To: <XFMail.010728165616.Ted.Harding@nessie.mcc.ac.uk>
Message-ID: <20010728182936.72752.qmail@web13904.mail.yahoo.com>


--- Ted.Harding at nessie.mcc.ac.uk wrote:
> Hello again folks,
> 
> Thanks to all for the advice on getting hold of
> "grid"
> and "lattice". I think I'm getting the hang of it.
> 
> This produces very satisfying arrays of histograms.
> The typical command I am using is
> 
>   histogram( ~ DATA.df$X | DATA.df$F, \
>              type=c("count"), layout=c(5,5) )


A more typical and elegant usage would be

histogram(~X|F, data = DATA, [...])



> For some variables, say again typically "X", for one
> (or sometimes more) level of "F" all values of "X"
> are
> missing (coded as "NA" in the data file).
> 
> If I run the above command with such a variable "X",
> I get
> 
> Error in if (lim[1] > lim[2]) stop("Improper value
> of limit") ;
>         missing value where logical needed
> 
> There is no problem if, at given level of "F", "X"
> is a mixture
> of good values and "NA"s; it seems to do the right
> thing by
> simply ignoring the latter. It's the case of "data =
> empty set"
> that seems to cause the trouble.


This is definitely a bug, which should be fixed in the
next release of lattice. For now, what I can suggest
is to change a couple of lines in the histogram()
function. Replace


xlim.l <- min(xlim.l, tem$xlim[1])
xlim.u <- max(xlim.u, tem$xlim[2])

by


xlim.l <- min(xlim.l, tem$xlim[1], na.rm = TRUE)
xlim.u <- max(xlim.u, tem$xlim[2], na.rm = TRUE)

This should take care of your problem, though there
still might be some other similar loopholes.

PS: variable names like F might cause problems, since
a lot of the lattice code use F/T instead of
FALSE/TRUE. Again, this should not be so, and will be
fixed in the next release.


__________________________________________________
Do You Yahoo!?
Make international calls for as low as $.04/minute with Yahoo! Messenger
http://phonecard.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Sat Jul 28 20:54:39 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sat, 28 Jul 2001 11:54:39 -0700 (PDT)
Subject: [R] Plotting an array of histograms
In-Reply-To: <Pine.GSO.4.31.0107281309090.27607-100000@auk.stats>
Message-ID: <Pine.A41.4.33.0107281152260.98316-100000@homer10.u.washington.edu>

On Sat, 28 Jul 2001, Prof Brian D Ripley wrote:

> On Sat, 28 Jul 2001 Ted.Harding at nessie.mcc.ac.uk wrote:
>
> > the histograms labelled etc as I would like, which is why I'm
> > also interested in Thomas Lumley's suggestion:
> >
> > > Use the histogram function in the new 'lattice' package
> > >
> > >        -thomas
> >
> > for which also thanks. However, where is it? It doesn't seem
> > to be part of R-1.3 which I have just downloaded, and I can't
> > seem to find any mention of "lattice" on CRAN.
>
> Yes, I thought maybe Thomas needed to say where.  You need the packages
> grid and lattice from the Devel section on CRAN, and you had better be
> using 1.3.0 (which is what I assume you mean by R-1-3).

Apologies -- I have used lattice only under Windows, where it is available
simply by install.packages(). I should have checked the status of the
source package.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Sat Jul 28 21:12:04 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sat, 28 Jul 2001 12:12:04 -0700 (PDT)
Subject: [R] Re: [S] Labels wrong with lrm
In-Reply-To: <3B62B66B.433C9C95@virginia.edu>
Message-ID: <Pine.A41.4.33.0107281157230.98316-100000@homer10.u.washington.edu>

On Sat, 28 Jul 2001 fharrell at virginia.edu wrote:

> Dear Jan,
>
> Thank you very much for your excellent description of the
> problem and the self-contained test code.  This is a
> problem that I've been meaning to either document better
> or solve for some time.  The root of the problem is with
> the builtin S-Plus terms.inner function:
>
> > attr(terms.inner(asthma ~ pol(age,kx) + smok),'variables')
> expression(age, kx, smok)
>
> You can see that terms.inner inappropriately includes kx
> as an independent variable as it does not know that
> the first argument to pol is the special variable.
> When a constant replaces kx, all is well.
>

I think this can't be fixed in general.  There is simply no way to know
whether pol(age,kx) contains two variables (like interaction(age,kx)) or
one variable, and if so, which is the variable and which the parameter.

The termplot() function has a function carrier.names() that guesses that
the first argument is the only variable, which is a useful heuristic until
you have log(0.5+x) as a term.

You can get the results of all.vars broken down by term like

> f
I(log(0.5 + x)) ~ pol(age, kx) + ns(sbp, df) + factor(race, labels =
races) +
    sex
> av<-all.vars(f)
> sapply(attr(terms(f),"term.labels"),function(term)
av[match(all.vars(parse(text=term)),av)])
$"pol(age, kx)"
[1] "age" "kx"

$"ns(sbp, df)"
[1] "sbp" "df"

$"factor(race, labels = races)"
[1] "race"  "races"

$sex
[1] "sex"

(actually you only get the RHS of the formula, but that shouldn't be hard
to fix)

You might also look at how nlme and Jim Lindsey's nonlinear models
functions solve the question of whether a name refers to a a variable or a
parameter.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Sat Jul 28 22:01:32 2001
From: fharrell at virginia.edu (fharrell@virginia.edu)
Date: Sat, 28 Jul 2001 16:01:32 -0400
Subject: [R] Re: [S] Labels wrong with lrm
References: <Pine.A41.4.33.0107281157230.98316-100000@homer10.u.washington.edu>
Message-ID: <3B631A1C.6A11F9AC@virginia.edu>

Dear Thomas,

Your code solves the problem.  Thank you!

To users of the Design library such as Jan Brogger
who want to be able to
use variables as the second argument to one of the
library's transformation functions (pol, rcs, lsp),
you can redefine the var.inner function in the Hmisc
library as the following until the fix is made on the
source code posted on our web page.

var.inner <- function(formula) {
  if(!inherits(formula,"formula")) formula <- attr(formula,"formula")
  if(!length(formula)) stop('no formula object found')
	if(length(formula) > 2)
		formula[[2]] <- NULL  # remove response variable
  av <- all.vars(formula)
  ## Thanks to Thomas Lumley <tlumley at u.washington.edu> 28Jul01 :
  unique(sapply(attr(terms(formula),"term.labels"),
         function(term,av)
	av[match(all.vars(parse(text=term)),av)][1],
                av=av) )
}
 
-Frank Harrell


Thomas Lumley wrote:
> 
> On Sat, 28 Jul 2001 fharrell at virginia.edu wrote:
> 
> > Dear Jan,
> >
> > Thank you very much for your excellent description of the
> > problem and the self-contained test code.  This is a
> > problem that I've been meaning to either document better
> > or solve for some time.  The root of the problem is with
> > the builtin S-Plus terms.inner function:
> >
> > > attr(terms.inner(asthma ~ pol(age,kx) + smok),'variables')
> > expression(age, kx, smok)
> >
> > You can see that terms.inner inappropriately includes kx
> > as an independent variable as it does not know that
> > the first argument to pol is the special variable.
> > When a constant replaces kx, all is well.
> >
> 
> I think this can't be fixed in general.  There is simply no way to know
> whether pol(age,kx) contains two variables (like interaction(age,kx)) or
> one variable, and if so, which is the variable and which the parameter.
> 
> The termplot() function has a function carrier.names() that guesses that
> the first argument is the only variable, which is a useful heuristic until
> you have log(0.5+x) as a term.
> 
> You can get the results of all.vars broken down by term like
> 
> > f
> I(log(0.5 + x)) ~ pol(age, kx) + ns(sbp, df) + factor(race, labels =
> races) +
>     sex
> > av<-all.vars(f)
> > sapply(attr(terms(f),"term.labels"),function(term)
> av[match(all.vars(parse(text=term)),av)])
> $"pol(age, kx)"
> [1] "age" "kx"
> 
> $"ns(sbp, df)"
> [1] "sbp" "df"
> 
> $"factor(race, labels = races)"
> [1] "race"  "races"
> 
> $sex
> [1] "sex"
> 
> (actually you only get the RHS of the formula, but that shouldn't be hard
> to fix)
> 
> You might also look at how nlme and Jim Lindsey's nonlinear models
> functions solve the question of whether a name refers to a a variable or a
> parameter.
> 
>         -thomas
> 
> Thomas Lumley                   Asst. Professor, Biostatistics
> tlumley at u.washington.edu        University of Washington, Seattle
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Jul 28 23:11:52 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Jul 2001 23:11:52 +0200
Subject: [R] problem with "history"
In-Reply-To: "Thomas J Vogels"'s message of "Sat, 28 Jul 2001 13:58:22 -0400"
References: <NFBBKIAHMMCHOBIBLMMPOEBKCAAA.tov@ece.cmu.edu>
Message-ID: <x2lml8oj1j.fsf@blueberry.kubism.ku.dk>

"Thomas J Vogels" <tov at ece.cmu.edu> writes:

> (from below:)
> > Perhaps a neutral name like "command-line editing"?  Any ideas for a
> > shorter name?
> 
> You could make it really short, like "cli":
> 
>      cli: is the command line interactive (with editing and
>           history mechanisms)?
> 
> or
> 
>      cli: is the command line interactive with (emacs- or vi-
>           style) editing and command history?

Um, cli is "command line interface" (opposite of GUI). "cledit"?
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Jul 28 23:23:48 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Jul 2001 23:23:48 +0200
Subject: [R] style question: returning multiple arguments - structure orlist
In-Reply-To: "Thomas J Vogels"'s message of "Sat, 28 Jul 2001 10:36:54 -0400"
References: <NFBBKIAHMMCHOBIBLMMPEEBKCAAA.tov@ece.cmu.edu>
Message-ID: <x2itgcoihn.fsf@blueberry.kubism.ku.dk>

"Thomas J Vogels" <tov at ece.cmu.edu> writes:

> Hi,
> 
> you also have the option of "throwing out" the third result by setting it to
> NULL (taking your LIST option)?
> 
> > f <- function() {
> >   ...
> >   list(x=x,y=y,z=z)
> > }
> > res <- f()
> > names(jj)
> [1] "x" "y" "z"
> > res$z <- NULL
> > names(res)
> [1] "x" "y"
> 
> and then work with res (res$x and res$y)?

A little summer exercise: Can one write a list assignment function,
i.e. "list<-" so that

list(a,b,c) <- f()

would be equivalent to

r <- f()
a <- r[[1]]
b <- r[[2]]
c <- r[[3]]

Even better, do something useful with named list elements. (And what
are the odds of finding that this is really an exercise hidden
somewhere in a book by Venables and Ripley?)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ted.Harding at nessie.mcc.ac.uk  Sat Jul 28 21:20:02 2001
From: Ted.Harding at nessie.mcc.ac.uk ( (Ted Harding))
Date: Sat, 28 Jul 2001 20:20:02 +0100 (BST)
Subject: [R] lattice and histogram
In-Reply-To: <20010728182936.72752.qmail@web13904.mail.yahoo.com>
Message-ID: <XFMail.010728202002.Ted.Harding@nessie.mcc.ac.uk>

On 28-Jul-01 Deepayan Sarkar wrote:
>> 
>> There is no problem if, at given level of "F", "X"
>> is a mixture of good values and "NA"s; it seems to
>> do the right thing by simply ignoring the latter.
>> It's the case of "data = empty set" that seems to
>> cause the trouble.
> 
> 
> This is definitely a bug, which should be fixed in the
> next release of lattice. For now, what I can suggest
> is to change a couple of lines in the histogram()
> function. Replace
> 
> xlim.l <- min(xlim.l, tem$xlim[1])
> xlim.u <- max(xlim.u, tem$xlim[2])
> 
> by
> 
> xlim.l <- min(xlim.l, tem$xlim[1], na.rm = TRUE)
> xlim.u <- max(xlim.u, tem$xlim[2], na.rm = TRUE)

Thanks, I'll give it a try.

> PS: variable names like F might cause problems, since
> a lot of the lattice code use F/T instead of
> FALSE/TRUE. Again, this should not be so, and will be
> fixed in the next release.

That hadn't occurred to me! (I was using A, B, C, ... as
variable names because those are the letters identifying
columns in the spreadsheet I imported the data from).
But you're surely right: the user should not need to
bear in mind a lot of reserved symbols which he should
not use as variable names. Looking forward to the next
release!

Ted.1

--------------------------------------------------------------------
E-Mail: (Ted Harding) <Ted.Harding at nessie.mcc.ac.uk>
Fax-to-email: +44 (0)870 167 1972
Date: 28-Jul-01                                       Time: 20:20:02
------------------------------ XFMail ------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Sat Jul 28 23:43:25 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sat, 28 Jul 2001 14:43:25 -0700 (PDT)
Subject: [R] style question: returning multiple arguments - structure
 orlist
In-Reply-To: <x2itgcoihn.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.A41.4.33.0107281433530.98316-100000@homer10.u.washington.edu>

On 28 Jul 2001, Peter Dalgaard BSA wrote:

> A little summer exercise: Can one write a list assignment function,
> i.e. "list<-" so that
>
> list(a,b,c) <- f()
>
> would be equivalent to
>
> r <- f()
> a <- r[[1]]
> b <- r[[2]]
> c <- r[[3]]
>
> Even better, do something useful with named list elements. (And what
> are the odds of finding that this is really an exercise hidden
> somewhere in a book by Venables and Ripley?)

I think you'll find that the first argument of an assignment function has
to exist already -- the function is passed the evaluated first argument.

This means it isn't quite true that
  a<-"foo<-"(a,value)
is the same as
  foo(a)<-value

eg
> "foo<-"<-function(x,value){list(substitute(x),value)}
> foo(a)<-4
Error: Object "a" not found
> "foo<-"(a,1)
[[1]]
a

[[2]]
[1] 1
> a<-1
> foo(a)<-4
> a
[[1]]
*tmp*

[[2]]
[1] 4


If this is correct, then you can't really write "list<-"

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Jul 29 00:07:54 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 Jul 2001 00:07:54 +0200
Subject: [R] style question: returning multiple arguments - structure  orlist
In-Reply-To: Thomas Lumley's message of "Sat, 28 Jul 2001 14:43:25 -0700 (PDT)"
References: <Pine.A41.4.33.0107281433530.98316-100000@homer10.u.washington.edu>
Message-ID: <x2d76kogg5.fsf@blueberry.kubism.ku.dk>

Thomas Lumley <tlumley at u.washington.edu> writes:

> I think you'll find that the first argument of an assignment function has
> to exist already -- the function is passed the evaluated first argument.
> 
> This means it isn't quite true that
>   a<-"foo<-"(a,value)
> is the same as
>   foo(a)<-value
> 
> eg
> > "foo<-"<-function(x,value){list(substitute(x),value)}
> > foo(a)<-4
> Error: Object "a" not found
> > "foo<-"(a,1)
> [[1]]
> a
> 
> [[2]]
> [1] 1
> > a<-1
> > foo(a)<-4
> > a
> [[1]]
> *tmp*
> 
> [[2]]
> [1] 4
> 
> 
> If this is correct, then you can't really write "list<-"

Dang! You're right...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at CMIS.CSIRO.AU  Sun Jul 29 03:25:58 2001
From: Bill.Venables at CMIS.CSIRO.AU (Venables, Bill (CMIS, Cleveland))
Date: Sun, 29 Jul 2001 11:25:58 +1000
Subject: [R] style question: returning multiple arguments - structure 
	orlist
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A99DF0@Roper-CV.qld.cmis.csiro.au>

I see Thomas has already nailed this one, so it becomes a non-issue.
Nevertheless I feel moved to say I think the idea would have been a step in
the wrong direction in the first place.  It comes from a desire to make R
behave "a bit more like matlab" and that is ultimately unhelpful.

Having tried to teach generations of students how to use the system (S-PLUS,
but it could equally well have been R) I can say the most difficult people
to teach it to are those you have to "convert" from a long history of
expertise in another system.  Trying to make R behave like the previous
system (SAS, Stata, SPSS, Matlab, APL, ....), as they are invariably
determined to do, is ultimately futile, but you, the teacher, find yourself
doing all sorts of hand-stands and cartwheels to meet these people half-way.

It doesn't work.  Trust me.  In the end it *really* *doesn't* *work*.
Seriously.

I'm not sure how we can best help these people, either, but I'm working on
it.  It comes as a dreadful shock for them to find that R is not just SAS,
or Matlab, or APL, or... in some foreign notation but a genuinely different
system.  They have real trouble expanding their mental outlook just enough
to handle the fact that such a thing is even possible.

In Adelaide where I taught with S-PLUS for about a decade I had no real
problems in getting the students on board.  (Some, like David Smith, even
went on to have distinguished careers in the game.)  But I got nowhere with
my fellow staff members, some of whom just never got over Matlab, or SAS, or
... 

Sigh.

Bill Venables.





-----Original Message-----
From: Peter Dalgaard BSA [mailto:p.dalgaard at biostat.ku.dk]
Sent: Sunday, 29 July 2001 7:24 AM
To: vogels at cmu.edu
Cc: rhelp
Subject: Re: [R] style question: returning multiple arguments -
structure orlist


"Thomas J Vogels" <tov at ece.cmu.edu> writes:

> Hi,
> 
> you also have the option of "throwing out" the third result by setting it
to
> NULL (taking your LIST option)?
> 
> > f <- function() {
> >   ...
> >   list(x=x,y=y,z=z)
> > }
> > res <- f()
> > names(jj)
> [1] "x" "y" "z"
> > res$z <- NULL
> > names(res)
> [1] "x" "y"
> 
> and then work with res (res$x and res$y)?

A little summer exercise: Can one write a list assignment function,
i.e. "list<-" so that

list(a,b,c) <- f()

would be equivalent to

r <- f()
a <- r[[1]]
b <- r[[2]]
c <- r[[3]]

Even better, do something useful with named list elements. (And what
are the odds of finding that this is really an exercise hidden
somewhere in a book by Venables and Ripley?)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Jul 29 13:45:23 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 Jul 2001 13:45:23 +0200
Subject: [R] style question: returning multiple arguments - structure  	orlist
In-Reply-To: "Venables, Bill's message of "Sun, 29 Jul 2001 11:25:58 +1000"
References: <E09E527B56BE2D438A3D6A246DDD27A99DF0@Roper-CV.qld.cmis.csiro.au>
Message-ID: <x266ccvu0c.fsf@blueberry.kubism.ku.dk>

"Venables, Bill (CMIS, Cleveland)" <Bill.Venables at CMIS.CSIRO.AU> writes:

> I see Thomas has already nailed this one, so it becomes a non-issue.
> Nevertheless I feel moved to say I think the idea would have been a step in
> the wrong direction in the first place.  It comes from a desire to make R
> behave "a bit more like matlab" and that is ultimately unhelpful.
> 
> Having tried to teach generations of students how to use the system (S-PLUS,
> but it could equally well have been R) I can say the most difficult people
> to teach it to are those you have to "convert" from a long history of
> expertise in another system.  Trying to make R behave like the previous
> system (SAS, Stata, SPSS, Matlab, APL, ....), as they are invariably
> determined to do, is ultimately futile, but you, the teacher, find yourself
> doing all sorts of hand-stands and cartwheels to meet these people half-way.
> 
> It doesn't work.  Trust me.  In the end it *really* *doesn't* *work*.
> Seriously.
> 
> I'm not sure how we can best help these people, either, but I'm working on
> it.  It comes as a dreadful shock for them to find that R is not just SAS,
> or Matlab, or APL, or... in some foreign notation but a genuinely different
> system.  They have real trouble expanding their mental outlook just enough
> to handle the fact that such a thing is even possible.
> 
> In Adelaide where I taught with S-PLUS for about a decade I had no real
> problems in getting the students on board.  (Some, like David Smith, even
> went on to have distinguished careers in the game.)  But I got nowhere with
> my fellow staff members, some of whom just never got over Matlab, or SAS, or
> ... 

The counterpoint is that I often find it extremely instructive to try
and *make* R/S do some of the things it "can not do". This makes you
investigate some of the esoteric corners of the semantics, and
hopefully understand the whole thing a little bit better. It's not
invariably the case that you actually want to use the result of the
exercise, much less impose it on others.

I see the pedagogical problems we're facing largely as rooted in
"computational illiteracy". Basically, people have undeveloped
concepts of what computer languages are and what rules govern their
construction. 

I had the good fortune of starting at a point in time where the first
year of statistics coincided with the first year of Maths and Computer
Science. Later, this got changed to include a much less ambitious CS
course (for some good reasons, including the fact that it is useful to
teach statistics to first-year statistics students....) 

I only recently realized that this has become a straight
Pascal programming class, which the brighter students manage with
their left hand, but they learn nothing about general algorithmic
topics, parser theory, and formal program verification techniques
(actually, we didn't learn much about parsers and compilers either,
but at least we knew that they were there).

At the lower levels, people nowadays don't even realize that computer
languages exist, and expect everything to work like the Windows
desktop and characterize everything else as "DOS-like". 

As for the original challenge, I think you can actually get by with
overloading "[<-", leading to syntax of the form

LIST[a,b,c] <- f()

(which you most certainly would not want to inflict on standard R!)

LIST would want to be an object of class "foo" and "[<-.foo" a
function that returns its first argument unchanged, and has its way
with the other arguments.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dieter.menne at menne-biomed.de  Sun Jul 29 13:47:55 2001
From: dieter.menne at menne-biomed.de (Dieter Menne)
Date: Sun, 29 Jul 2001 13:47:55 +0200
Subject: [R] Applying "by" results
Message-ID: <NBBBIJMBGLHMKHGCPFJKKEENCHAA.dieter.menne@menne-biomed.de>

I want to subtract the group minumum of the value in each group
from the indidvidual values, replacing the original values of Press
(something like a groupwise sweep).

This almost works:

#-----------------------------------
PPress<-data.frame(Marker=as.factor(c(rep(1,12),rep(2,12))),
                   Chan=as.factor(rep(1:4,6)), Press=rnorm(24) )
attach(PPress)
by (Press,list(Marker,Chan), function(x) x-min(x))
#-------------------------------------

The data printed out those I need, but how do I
get these back into to PPress?


---------------------------------------
Dr. Dieter Menne
Biomed Software
72074 T?bingen
Tel (49) (7071) 52176
FAX (49) (7071) 55 10 46
dieter.menne at menne-biomed.de
www.menne-biomed.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ted.Harding at nessie.mcc.ac.uk  Sun Jul 29 14:40:47 2001
From: Ted.Harding at nessie.mcc.ac.uk ( (Ted Harding))
Date: Sun, 29 Jul 2001 13:40:47 +0100 (BST)
Subject: [R] Trellis graphics and clipping
Message-ID: <XFMail.010729134047.Ted.Harding@nessie.mcc.ac.uk>

Hi again folks,

I seem to have got the trellis (lattice + grid) business
working basically OK, in that I can get my 5x5 array of
histograms laid out as they should be.

However, there is a behaviour I can't see my way round.

Even when displayed in the R Graphics Window, there is
some clipping (the extreme top, bottom, left and right
edges are not there, so that labels, and parts of numerical
scale markers all round, have been clipped off).

When I switch to the "postscript" device, with the comamnd
'postscript(filename,...)', the result is even more clipped,
in that parts of the histogram plots themselves get cut off,
including their titles as seen in the X11 display. On the
other hand (using gv's "position meter"), it seems that the
internal %%BoundingBox matches the dimensions and coordinates
of what SHOULD get displayed/printed, allowing plenty of
"white space" round the bit of the graphic that _does_ get
displayed, so that the whole thing could have been fitted in
anyway.

And if I go at it crudely, simply using 'dev.print()' to
bang out a har-copy, it is even more clipped again ...

I've tried playing with all the obvious (to me) parameters
which I can find, but it has not effect on this.

I've checked the PostScript file itself, and the parts that
are missing are not mentioned therein, so it's not a PostScript
"clippath" phenomenon: it's definitely R which is deciding not
to output them.

What's needed is some way of coordinating the dimensions of
the various levels of this process, so that the output to X11
is scaled so that the whole graphic can fit in, and the output
to postscript is also scaled so that it fits into whatever
size of graphic is nominated (not that this should be an
issue for EPS output anyway -- it would be quite sufficient
to output everything and then put a BoundingBox round the
lot, and never mind things like papersize and so forth).

So I'm bewildered. And, if anyone knows a way round it,
I'd be most obliged to hear!

With thanks,
Ted.

--------------------------------------------------------------------
E-Mail: (Ted Harding) <Ted.Harding at nessie.mcc.ac.uk>
Fax-to-email: +44 (0)870 167 1972
Date: 29-Jul-01                                       Time: 13:40:47
------------------------------ XFMail ------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Sun Jul 29 14:50:42 2001
From: fharrell at virginia.edu (fharrell@virginia.edu)
Date: Sun, 29 Jul 2001 08:50:42 -0400
Subject: [R] style question: returning multiple arguments - structure orlist
References: <E09E527B56BE2D438A3D6A246DDD27A99DF0@Roper-CV.qld.cmis.csiro.au>
Message-ID: <3B6406A2.8509F6EA@virginia.edu>

I too am troubled by the computer illiteracy of students
these days.  As an experiment this summer I am having
incoming students who don't know at least one computer
language work through the book "Beginning Programming
for Dummies" by Wallace Wang.  The book teaches programming
through the use of Qbasic (supplied on the CD-rom that
comes with the book) but introduces several other 
languages such as Java.  It appears to be a very good
book and has received good reviews.  My feeling is that
students who know any language such as basic, C, Python,
Perl, Fortran, Java will find it easier to learn S.
Many of my M.S. students have never even seen a DOS
prompt nor have they thought about a "variable".

There is a very good free interactive tutorial for learning
Tk/Tcl where students see explanations, example code,
and a window showing the results of running their own
code (http://www.msen.com/~clif/Tutor2b4.exe). I wish there 
were something like this for other languages, especially S.

-Frank


"Venables, Bill (CMIS, Cleveland)" wrote:
> 
> I see Thomas has already nailed this one, so it becomes a non-issue.
> Nevertheless I feel moved to say I think the idea would have been a step in
> the wrong direction in the first place.  It comes from a desire to make R
> behave "a bit more like matlab" and that is ultimately unhelpful.
> 
> Having tried to teach generations of students how to use the system (S-PLUS,
> but it could equally well have been R) I can say the most difficult people
> to teach it to are those you have to "convert" from a long history of
> expertise in another system.  Trying to make R behave like the previous
> system (SAS, Stata, SPSS, Matlab, APL, ....), as they are invariably
> determined to do, is ultimately futile, but you, the teacher, find yourself
> doing all sorts of hand-stands and cartwheels to meet these people half-way.
> 
> It doesn't work.  Trust me.  In the end it *really* *doesn't* *work*.
> Seriously.
> 
> I'm not sure how we can best help these people, either, but I'm working on
> it.  It comes as a dreadful shock for them to find that R is not just SAS,
> or Matlab, or APL, or... in some foreign notation but a genuinely different
> system.  They have real trouble expanding their mental outlook just enough
> to handle the fact that such a thing is even possible.
> 
> In Adelaide where I taught with S-PLUS for about a decade I had no real
> problems in getting the students on board.  (Some, like David Smith, even
> went on to have distinguished careers in the game.)  But I got nowhere with
> my fellow staff members, some of whom just never got over Matlab, or SAS, or
> ...
> 
> Sigh.
> 
> Bill Venables.
> 
> -----Original Message-----
> From: Peter Dalgaard BSA [mailto:p.dalgaard at biostat.ku.dk]
> Sent: Sunday, 29 July 2001 7:24 AM
> To: vogels at cmu.edu
> Cc: rhelp
> Subject: Re: [R] style question: returning multiple arguments -
> structure orlist
> 
> "Thomas J Vogels" <tov at ece.cmu.edu> writes:
> 
> > Hi,
> >
> > you also have the option of "throwing out" the third result by setting it
> to
> > NULL (taking your LIST option)?
> >
> > > f <- function() {
> > >   ...
> > >   list(x=x,y=y,z=z)
> > > }
> > > res <- f()
> > > names(jj)
> > [1] "x" "y" "z"
> > > res$z <- NULL
> > > names(res)
> > [1] "x" "y"
> >
> > and then work with res (res$x and res$y)?
> 
> A little summer exercise: Can one write a list assignment function,
> i.e. "list<-" so that
> 
> list(a,b,c) <- f()
> 
> would be equivalent to
> 
> r <- f()
> a <- r[[1]]
> b <- r[[2]]
> c <- r[[3]]
> 
> Even better, do something useful with named list elements. (And what
> are the odds of finding that this is really an exercise hidden
> somewhere in a book by Venables and Ripley?)
> 
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Sun Jul 29 15:55:23 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Sun, 29 Jul 2001 09:55:23 -0400 (EDT)
Subject: [R] style question: returning multiple arguments - structure orlist
Message-ID: <200107291355.JAA26885@cattell.psych.upenn.edu>

>From owner-r-help at stat.math.ethz.ch  Sun Jul 29 09:36:10 2001
>I too am troubled by the computer illiteracy of students
>these days.  As an experiment this summer I am having
>incoming students who don't know at least one computer
>language work through the book "Beginning Programming
>for Dummies" by Wallace Wang.

This sounds like a good book, but I want to make a pedagogical
point.  Although transfer of learning does occur, the last 100
years of research have tended to support the view that it is
incomplete and that it also works in both directions.  In my
youth, they tried to get me to learn Latin because it would "make
French easier."  (I refused, and learned German.)  The fact is
that learning French would make Latin easier, just as much as the
reverse.  Thus, if the target is S/R, teach S/R first.  It will
help students learn other languages just as much as the reverse.

Of course, the availability of good teaching materials is an
issue.  I plan to work on this in the fall, when I force the
students in our introductory graduate methods class to learn R,
both as a beginning cure for computer illiteracy and as a useful
tool in its own right - more useful for the average psychology
researcher, I think, than C or anything else.


Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ted.Harding at nessie.mcc.ac.uk  Sun Jul 29 17:12:11 2001
From: Ted.Harding at nessie.mcc.ac.uk ( (Ted Harding))
Date: Sun, 29 Jul 2001 16:12:11 +0100 (BST)
Subject: [R] RE: Trellis graphics and clipping
In-Reply-To: <XFMail.010729134047.Ted.Harding@nessie.mcc.ac.uk>
Message-ID: <XFMail.010729161211.Ted.Harding@nessie.mcc.ac.uk>

On 29-Jul-01 Ted Harding wrote:
> Even when displayed in the R Graphics Window, there is
> some clipping (the extreme top, bottom, left and right
> edges are not there, so that labels, and parts of numerical
> scale markers all round, have been clipped off).
> [snip]
> When I switch to the "postscript" device, with the comamnd
> 'postscript(filename,...)', the result is even more clipped,
> [snip]
> I've tried playing with all the obvious (to me) parameters
> which I can find, but it has not effect on this.

Follow-up.

I've tried the following:

  hgm<-histogram( ~N | B , xlim=x(0,5), layout=c(5,5) , ... )

  print.trellis( hgm , position=c(0.075,0.075,0.925,0.925) )

so as to force down-scaling of the graphic, and now everything
is fully displayed in X11: top and bottom scale annotations,
bottom label and side label, and all the histograms. No clipping
whatever. No problems.

Except that there's an error message:

  Error in unset.gpar(vps[[1]]$gp) : trying to reset with 10

Next, I've done

  postscript(horizontal=FALSE,onefile=FALSE)

and again

  print.trellis( hgm , position=c(0.075,0.075,0.925,0.925) )

(getting the same error message)

and then looked at the resulting PS file. This is again slightly
clipped (on the left, as it happens, so that the left label lacks
the tops of its letters), but everything else is absolutely fine.
OK,

  print.trellis( hgm , position=c(0.1,0.1,0.925,0.925) )

(same error message).

Now, Lo and Behold, when I view the PS file there is no clipping
at all. Good!

So, apart from this error message (which must mean something, but
nevertheless goes with perfect output) all now seems fine.

But it still puzzles me that one has to grope for the correct
"position" parameter settings for each device.

Is there a way to pull all this together?

Ted.

--------------------------------------------------------------------
E-Mail: (Ted Harding) <Ted.Harding at nessie.mcc.ac.uk>
Fax-to-email: +44 (0)870 167 1972
Date: 29-Jul-01                                       Time: 16:12:11
------------------------------ XFMail ------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sun Jul 29 18:18:49 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 29 Jul 2001 18:18:49 +0200 (MET DST)
Subject: [R] RE: Trellis graphics and clipping
In-Reply-To: <XFMail.010729161211.Ted.Harding@nessie.mcc.ac.uk>
Message-ID: <Pine.GSO.4.21.0107291816330.24700-100000@amadeus.statistik.uni-dortmund.de>

On Sun, 29 Jul 2001 Ted.Harding at nessie.mcc.ac.uk wrote:

> On 29-Jul-01 Ted Harding wrote:
> > Even when displayed in the R Graphics Window, there is
> > some clipping (the extreme top, bottom, left and right
> > edges are not there, so that labels, and parts of numerical
> > scale markers all round, have been clipped off).
> > [snip]
> > When I switch to the "postscript" device, with the comamnd
> > 'postscript(filename,...)', the result is even more clipped,
> > [snip]
> > I've tried playing with all the obvious (to me) parameters
> > which I can find, but it has not effect on this.
> 
> Follow-up.
> 
> I've tried the following:
> 
>   hgm<-histogram( ~N | B , xlim=x(0,5), layout=c(5,5) , ... )
> 
>   print.trellis( hgm , position=c(0.075,0.075,0.925,0.925) )
> 
> so as to force down-scaling of the graphic, and now everything
> is fully displayed in X11: top and bottom scale annotations,
> bottom label and side label, and all the histograms. No clipping
> whatever. No problems.
> 
> Except that there's an error message:
> 
>   Error in unset.gpar(vps[[1]]$gp) : trying to reset with 10
> 
> Next, I've done
> 
>   postscript(horizontal=FALSE,onefile=FALSE)
> 
> and again
> 
>   print.trellis( hgm , position=c(0.075,0.075,0.925,0.925) )
> 
> (getting the same error message)
> 
> and then looked at the resulting PS file. This is again slightly
> clipped (on the left, as it happens, so that the left label lacks
> the tops of its letters), but everything else is absolutely fine.
> OK,
> 
>   print.trellis( hgm , position=c(0.1,0.1,0.925,0.925) )
> 
> (same error message).
> 
> Now, Lo and Behold, when I view the PS file there is no clipping
> at all. Good!
> 
> So, apart from this error message (which must mean something, but
> nevertheless goes with perfect output) all now seems fine.
> 
> But it still puzzles me that one has to grope for the correct
> "position" parameter settings for each device.
> 
> Is there a way to pull all this together?
> 


Instead of postscript(...) you might want to use

  trellis.device("postscript", ...)


Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Sun Jul 29 18:34:53 2001
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Sun, 29 Jul 2001 09:34:53 -0700 (PDT)
Subject: [R] Trellis graphics and clipping
In-Reply-To: <XFMail.010729134047.Ted.Harding@nessie.mcc.ac.uk>
Message-ID: <20010729163453.31830.qmail@web13903.mail.yahoo.com>


The problem lies (if I get you correctly) in the fact
that Lattice graphics devices need to be initialized
differently from usual R graphics devices. This has to
do with special requirements of the underlying grid
package, and also some standard parameter settings
associated with each device.

Upshot: you need to use

trellis.device(postscript, file = "filename.ps")

instead of 

postscript("filename.ps")

What this does (with regard to clipping) is that it
calls a grid function grid.start(). You can get almost

the same effect if you do

postscript(filename)
grid.start()

but trellis.device is the preferred way. The same goes
for the x11() device.

I would encourage you to read the ?Lattice help page
to familiarise yourself with this sort of
peculiarities.

Note: Currently, usual R graphics and lattice/grid
graphics don't mix, that is, you have to enclose any
calls to grid graphics functions (which includes all
lattice graphics functions) within calls to
grid.start() and grid.stop(). Hopefully, this will
change somewhat in the next release of lattice.



--- Ted.Harding at nessie.mcc.ac.uk wrote:
> Hi again folks,
> 
> I seem to have got the trellis (lattice + grid)
> business
> working basically OK, in that I can get my 5x5 array
> of
> histograms laid out as they should be.
> 
> However, there is a behaviour I can't see my way
> round.
> 
> Even when displayed in the R Graphics Window, there
> is
> some clipping (the extreme top, bottom, left and
> right
> edges are not there, so that labels, and parts of
> numerical
> scale markers all round, have been clipped off).
> 
> When I switch to the "postscript" device, with the
> comamnd
> 'postscript(filename,...)', the result is even more
> clipped,
> in that parts of the histogram plots themselves get
> cut off,
> including their titles as seen in the X11 display.
> On the
> other hand (using gv's "position meter"), it seems
> that the
> internal %%BoundingBox matches the dimensions and
> coordinates
> of what SHOULD get displayed/printed, allowing
> plenty of
> "white space" round the bit of the graphic that
> _does_ get
> displayed, so that the whole thing could have been
> fitted in
> anyway.
> 
> And if I go at it crudely, simply using
> 'dev.print()' to
> bang out a har-copy, it is even more clipped again
> ...
> 
> I've tried playing with all the obvious (to me)
> parameters
> which I can find, but it has not effect on this.
> 
> I've checked the PostScript file itself, and the
> parts that
> are missing are not mentioned therein, so it's not a
> PostScript
> "clippath" phenomenon: it's definitely R which is
> deciding not
> to output them.
> 
> What's needed is some way of coordinating the
> dimensions of
> the various levels of this process, so that the
> output to X11
> is scaled so that the whole graphic can fit in, and
> the output
> to postscript is also scaled so that it fits into
> whatever
> size of graphic is nominated (not that this should
> be an
> issue for EPS output anyway -- it would be quite
> sufficient
> to output everything and then put a BoundingBox
> round the
> lot, and never mind things like papersize and so
> forth).
> 
> So I'm bewildered. And, if anyone knows a way round
> it,
> I'd be most obliged to hear!
> 
> With thanks,
> Ted.
> 
>
--------------------------------------------------------------------
> E-Mail: (Ted Harding) <Ted.Harding at nessie.mcc.ac.uk>
> Fax-to-email: +44 (0)870 167 1972
> Date: 29-Jul-01                                     
>  Time: 13:40:47
> ------------------------------ XFMail
> ------------------------------
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


__________________________________________________
Do You Yahoo!?
Make international calls for as low as $.04/minute with Yahoo! Messenger
http://phonecard.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Sun Jul 29 19:58:14 2001
From: fharrell at virginia.edu (fharrell@virginia.edu)
Date: Sun, 29 Jul 2001 13:58:14 -0400
Subject: [R] style question: returning multiple arguments - structure orlist
References: <200107291355.JAA26885@cattell.psych.upenn.edu>
Message-ID: <3B644EB6.A0EC5D09@virginia.edu>

Jonathan,

That makes a good deal of sense.  I look forward to 
future postings of your experiences this fall.

One thing that I have learned is a mistake is to try
to "ease" the students into S by having them
spend the first 2-3 weeks of the course using only
the S-Plus graphical user interface.  From now on I'm going
directly to the command line.

Frank


Jonathan Baron wrote:
> 
> >From owner-r-help at stat.math.ethz.ch  Sun Jul 29 09:36:10 2001
> >I too am troubled by the computer illiteracy of students
> >these days.  As an experiment this summer I am having
> >incoming students who don't know at least one computer
> >language work through the book "Beginning Programming
> >for Dummies" by Wallace Wang.
> 
> This sounds like a good book, but I want to make a pedagogical
> point.  Although transfer of learning does occur, the last 100
> years of research have tended to support the view that it is
> incomplete and that it also works in both directions.  In my
> youth, they tried to get me to learn Latin because it would "make
> French easier."  (I refused, and learned German.)  The fact is
> that learning French would make Latin easier, just as much as the
> reverse.  Thus, if the target is S/R, teach S/R first.  It will
> help students learn other languages just as much as the reverse.
> 
> Of course, the availability of good teaching materials is an
> issue.  I plan to work on this in the fall, when I force the
> students in our introductory graduate methods class to learn R,
> both as a beginning cure for computer illiteracy and as a useful
> tool in its own right - more useful for the average psychology
> researcher, I think, than C or anything else.
> 
> Jonathan Baron, Professor of Psychology, University of Pennsylvania
> Home page: http://www.sas.upenn.edu/~baron
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Sun Jul 29 20:44:37 2001
From: rossini at blindglobe.net (A.J. Rossini)
Date: 29 Jul 2001 11:44:37 -0700
Subject: [R] style question: returning multiple arguments - structure orlist
In-Reply-To: <3B644EB6.A0EC5D09@virginia.edu>
References: <200107291355.JAA26885@cattell.psych.upenn.edu>
	<3B644EB6.A0EC5D09@virginia.edu>
Message-ID: <87d76j4lt6.fsf@jeeves.blindglobe.net>

>>>>> "f" == fharrell  <fharrell at virginia.edu> writes:

    f> One thing that I have learned is a mistake is to try to "ease"
    f> the students into S by having them spend the first 2-3 weeks of
    f> the course using only the S-Plus graphical user interface.
    f> From now on I'm going directly to the command line.

On a similar but completely different note -- our computer orientation
for new grad students gives it to them "hard"; it's a 2-3 hour session
(negotiating time for this coming year), which for the last few, has
discussed using S-PLUS and LaTeX via XEmacs.  This is the first time
that some of them have used a command line interface, nearly solidly,
for 3 hours

Sure, there are much simpler methods, but if they learn the harder
(and more powerful) approach, there will be no need to fall back.  And
those who just can't get it (there are always a few), can back down to
pico for editing, LyX/TeXmacs for WP'ing, or even revert to Windows or
similar click-and-destruct interfaces; there is no need to "train" for
those, esp given the prolific business for tools under Microsoft, of
"how-to" books.

They won't learn everything in a quick session, but we have ended up
with a fair number of students who go into their first fall quarter
thinking that the right way to run S is "xemacs -f S", and never look
back.  Also, using AUC-TeX to write/generate/print LaTeX documents is
fairly natural, with a few hints (esp with x-symbol's MS-eqn editor
style point-and-click "table of symbols", for equation writing).

Student backgrounds have changed (i.e. more computer usage, less
command line familiarity), even during the very few years that I've
run this session...

The session isn't a complete success, but we do get a good number of
people thinking about the value of power vs. ease of use for tools.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------- (wednesday/friday is unknown) --------
FHCRC: M-Tu : 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:    Th   : 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murphyk at cs.berkeley.edu  Sun Jul 29 21:37:46 2001
From: murphyk at cs.berkeley.edu (Kevin Murphy)
Date: Sun, 29 Jul 2001 12:37:46 -0700
Subject: [R] style question: returning multiple arguments - structure orlist
References: <Pine.GSO.4.31.0107280756210.23772-100000@auk.stats>
Message-ID: <3B64660A.3B3C85B@cs.berkeley.edu>

Re: teaching computer science - I'm surprised nobody has recommended
using the classic "Structure and Interpretation of Computer Programs",
by Abelson, Sussman, and Sussman (1984/1996)
(http://mitpress.mit.edu/sicp/sicp.html), especially since R is so
closely modelled on Scheme, the language used in this book. (SICP/Scheme
is used in the introductory CS class in Berkeley and many other
institutions.)


Re: list/structures -  I discovered a new reason why using lists is
better than structures. Suppose you create res=structure(x,y=y,z=z).
How do you just print out x, without the corresponding attributes (which
might 
be large)? If res=list(x=x,y=y,z=z), it's easy. 

There is a more subtle advantage of the Matlab-style [x,y,z]=f() syntax
- by checking how many return arguments are on the LHS, you can decide
whether to even bother computing (yet alone returning) the "optional"
results y,z.
Obviously there are other ways of doing this, but I think this is quite
slick (and I have used not infrequently).


Re: coming to R from Matlab -  I am not trying to write Matlab-like R
code (although sometimes I can't help it :), but rather to learn the
stylistic conventions of the R community (which, I am pleased to see,
seems very concerned with writing elegant code).

Kevin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Sun Jul 29 22:50:37 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Sun, 29 Jul 2001 22:50:37 +0200
Subject: [R] Usage of R CMD INSTALL
In-Reply-To: <15198.63342.901375.142679@gargle.gargle.HOWL>
References: <15198.63342.901375.142679@gargle.gargle.HOWL>
Message-ID: <15204.30493.333680.203030@mithrandir.hornik.net>

>>>>> "David Kane writes:

> The help page for INSTALL says, in part,
>      Some package sources contain a `configure' script that can be
>      passed arguments or variables via the option `--configure-args'
>      and `--configure-vars', respectively, if necessary.  The latter is
>      useful in particular if libraries or header files needed for the
>      package are in non-system directories.  In this case, one can use
>      the configure variables `LIBS' and `CPPFLAGS' to specify these
>      locations (and set these via `--configure-vars').  One can also
>      bypass the configure mechanism using the option `--no-configure'.

> No doubt because of my inexperience, I can't quite figure out how this
> works. For example, if I want to set the variable LIBS to '/mylibs',
> how would I do this? I have tried various versions of

> R CMD INSTALL --configure-vars='LIBS=/mylibs' mypackage
> R CMD INSTALL --configure-vars 'LIBS=/mylibs' mypackage
> R CMD INSTALL --configure-vars LIBS=/mylibs mypackage

> all to no effect. (Although it is quite possible that I am having an
> effect, but misunderstanding the package (RODBC) that I am using.)

I assume you want to specify a non-standard library location?  Then what
you want is

  R CMD INSTALL --configure-vars='LIBS=-L/mylibs' mypackage

This is really a configure (i.e., autoconf) issue, but maybe we should
say more about this or at least add a pointer ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.wild at auckland.ac.nz  Mon Jul 30 00:09:23 2001
From: c.wild at auckland.ac.nz (Chris Wild)
Date: Mon, 30 Jul 2001 10:09:23 +1200
Subject: [R] \code{x[ind,,]} -- Rd2dvi translates double commas to black
 square. Work around?
Message-ID: <a05010402b78a3908bf81@[130.216.93.25]>

Any ideas for a work around?  Escaping the commas (\,) doesn't work 
as it drops the comma to the next line.

Thanks,  Chris Wild
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at CMIS.CSIRO.AU  Mon Jul 30 01:24:06 2001
From: Bill.Venables at CMIS.CSIRO.AU (Venables, Bill (CMIS, Cleveland))
Date: Mon, 30 Jul 2001 09:24:06 +1000
Subject: [R] style question: returning multiple arguments - structure 
	 	orlist
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A99DF6@Roper-CV.qld.cmis.csiro.au>

I quite agree with everything Peter says, of course and I don't think it
conflicts with anything I said at all - but it is one thing to explore he
possibilities of R/S by this kind of torture test and quite another to lead
people to think of them as a normal and reasonable uses of the language.

In similar vein I wish <<- had never been invented, as it makes an esoteric
and dangerous feature of the language *seem* normal and reasonable.  If you
want to dumb down R/S into a macro language, this is the operator for you.

Bill.

-----Original Message-----
From: Peter Dalgaard BSA [mailto:p.dalgaard at biostat.ku.dk]
Sent: Sunday, 29 July 2001 9:45 PM
To: Venables, Bill (CMIS, Cleveland)
Cc: 'Peter Dalgaard BSA'; vogels at cmu.edu; rhelp; Thomas Lumley (E-mail)
Subject: Re: [R] style question: returning multiple arguments -
structure orlist


"Venables, Bill (CMIS, Cleveland)" <Bill.Venables at CMIS.CSIRO.AU> writes:

> I see Thomas has already nailed this one, so it becomes a non-issue.
> Nevertheless I feel moved to say I think the idea would have been a step
in
> the wrong direction in the first place.  It comes from a desire to make R
> behave "a bit more like matlab" and that is ultimately unhelpful.
> 
> Having tried to teach generations of students how to use the system
(S-PLUS,
> but it could equally well have been R) I can say the most difficult people
> to teach it to are those you have to "convert" from a long history of
> expertise in another system.  Trying to make R behave like the previous
> system (SAS, Stata, SPSS, Matlab, APL, ....), as they are invariably
> determined to do, is ultimately futile, but you, the teacher, find
yourself
> doing all sorts of hand-stands and cartwheels to meet these people
half-way.
> 
> It doesn't work.  Trust me.  In the end it *really* *doesn't* *work*.
> Seriously.
> 
> I'm not sure how we can best help these people, either, but I'm working on
> it.  It comes as a dreadful shock for them to find that R is not just SAS,
> or Matlab, or APL, or... in some foreign notation but a genuinely
different
> system.  They have real trouble expanding their mental outlook just enough
> to handle the fact that such a thing is even possible.
> 
> In Adelaide where I taught with S-PLUS for about a decade I had no real
> problems in getting the students on board.  (Some, like David Smith, even
> went on to have distinguished careers in the game.)  But I got nowhere
with
> my fellow staff members, some of whom just never got over Matlab, or SAS,
or
> ... 

The counterpoint is that I often find it extremely instructive to try
and *make* R/S do some of the things it "can not do". This makes you
investigate some of the esoteric corners of the semantics, and
hopefully understand the whole thing a little bit better. It's not
invariably the case that you actually want to use the result of the
exercise, much less impose it on others.

I see the pedagogical problems we're facing largely as rooted in
"computational illiteracy". Basically, people have undeveloped
concepts of what computer languages are and what rules govern their
construction. 

I had the good fortune of starting at a point in time where the first
year of statistics coincided with the first year of Maths and Computer
Science. Later, this got changed to include a much less ambitious CS
course (for some good reasons, including the fact that it is useful to
teach statistics to first-year statistics students....) 

I only recently realized that this has become a straight
Pascal programming class, which the brighter students manage with
their left hand, but they learn nothing about general algorithmic
topics, parser theory, and formal program verification techniques
(actually, we didn't learn much about parsers and compilers either,
but at least we knew that they were there).

At the lower levels, people nowadays don't even realize that computer
languages exist, and expect everything to work like the Windows
desktop and characterize everything else as "DOS-like". 

As for the original challenge, I think you can actually get by with
overloading "[<-", leading to syntax of the form

LIST[a,b,c] <- f()

(which you most certainly would not want to inflict on standard R!)

LIST would want to be an object of class "foo" and "[<-.foo" a
function that returns its first argument unchanged, and has its way
with the other arguments.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Mon Jul 30 04:08:42 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Mon, 30 Jul 2001 14:08:42 +1200
Subject: [R] \code{x[ind,,]} -- Rd2dvi translates double commas to black square. Work around?
In-Reply-To: <a05010402b78a3908bf81@[130.216.93.25]>; from c.wild@auckland.ac.nz on Mon, Jul 30, 2001 at 10:09:23AM +1200
References: <a05010402b78a3908bf81@[130.216.93.25]>
Message-ID: <20010730140842.A18686@camille.indigoindustrial.co.nz>

> Any ideas for a work around?  Escaping the commas (\,) doesn't work 
> as it drops the comma to the next line.

Putting a space between the commas works.  I think it's ugly, though.
Does anyone have a better idea?

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.wild at auckland.ac.nz  Mon Jul 30 05:25:03 2001
From: c.wild at auckland.ac.nz (Chris Wild)
Date: Mon, 30 Jul 2001 15:25:03 +1200
Subject: [R] \code{x[ind,,]}  -- Including spaces does not work
Message-ID: <a05010408b78a83021667@[130.216.93.25]>

Putting a space between the commas makes no difference when I try it.
-- Chris Wild

>Putting a space between the commas works.  I think it's ugly, though.
>Does anyone have a better idea?
>
>Jason
>--
>Indigo Industrial Controls Ltd.
>64-21-343-545
>jasont at indigoindustrial.co.nz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From TCHUR at doh.health.nsw.gov.au  Mon Jul 30 05:59:34 2001
From: TCHUR at doh.health.nsw.gov.au (Tim CHURCHES)
Date: Mon, 30 Jul 2001 13:59:34 +1000
Subject: [R] Remote controlling R via sockets
Message-ID: <sb65684a.070@dohprimo.ccf.health.nsw.gov.au>

Many thanks to the R core team for their work on R connections. I was delighted to discover that it is now possible to remote-control R-1.3.0 via a socket connection - something which Brian Ripley noted was not yet possible with R-1.2.0 back in January 2001 in the first R News newsletter. How? Just substitute source() for readLines() in last few lines of the example for a socket connection given in the R-1.3.0 help(connection) - the following works fine on a Red Hat Linux 6.2 system - under Windows the while(isIncomplete()) loop exits immediately for some reason, although the socket connection as a source for source() works fine:

     ## two R processes communicating via non-blocking sockets
     # R process 1
     con1 <- socketConnection(port = 6011, server=TRUE)
     writeLines("plot(rnorm(100))", con1)
     writeLines("plot(rnorm(1000))", con1)
     writeLines("plot(rnorm(10000))", con1)
     close(con1)

     # R process 2
     con2 <- socketConnection(Sys.info()["nodename"], port = 6011)
     # as non-blocking, may need to loop for input
     source(con2)
     while(isIncomplete(con2)) {source(con2)}
     close(con2)

However, in the above example, the R "server" is on the client side of the socket connection. Logically, it should be possible to reverse this and have the R server session acting as the socket server, but I have been unable to get this to work:

     ## two R processes communicating via non-blocking sockets
     # R process 1
     con1 <- socketConnection(port = 6011, server=TRUE)
     source(con1)
     while(isIncomplete(con1)) {source(con1)}
     close(con1)

     # R process 2
     con2 <- socketConnection(Sys.info()["nodename"], port = 6011)
     writeLines("plot(rnorm(100))", con2)
     writeLines("plot(rnorm(1000))", con2)
     writeLines("plot(rnorm(10000))", con2)
     close(con2)

Playing with various combinations of the blocking and open modes have been to no avail. Can anyone suggest some alternative strategies? BTW, my ultimate aim is to use Python to control the R "server". Substituting a Python script for "R process 1" in the first example above works a treat - you can type R commands at the Python prompt and they execute in an R session on a machine on the other side of the room. The only problem is that with R as the socket client the Python process can't connect and disconnect from it as it could if R were the socket server. As it is I think this capability is already very exciting, and the prospect of an R socket server daemon seems tantalisingly close. I don't have enough experience with socket programming to try this myself but I would be very happy to collaborate with anyone who wanted to attack this problem.

Tim Churches





*********************************************************************
This message is intended for the addressee named and may
contain confidential information. If you are not the intended
recipient, please delete it and notify the sender. Views 
expressed in this message are those of the individual sender,
and are not necessarily the views of NSW Health.
*********************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul 30 08:46:50 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 30 Jul 2001 07:46:50 +0100 (BST)
Subject: [R] \code{x[ind,,]}  -- Including spaces does not work
In-Reply-To: <a05010408b78a83021667@[130.216.93.25]>
Message-ID: <Pine.GSO.4.31.0107300740170.6796-100000@auk.stats>

On Mon, 30 Jul 2001, Chris Wild wrote:

> Putting a space between the commas makes no difference when I try it.


\code{x[ind, , ]}

does work for me, and furthermore it is how R itself formats the code:

> options(keep.source=F)
> foo <- function() { x[ind,,] }
> foo
function ()
{
    x[ind, , ]
}

so it's not ugly, it is correct.  I do wish posters to R-help would
make use of spaces in the way R itself does.

That's not to say that Rd.sty does not need to protect against this.


> -- Chris Wild
>
> >Putting a space between the commas works.  I think it's ugly, though.
> >Does anyone have a better idea?
> >
> >Jason
> >--
> >Indigo Industrial Controls Ltd.
> >64-21-343-545
> >jasont at indigoindustrial.co.nz
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul 30 08:58:53 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 30 Jul 2001 07:58:53 +0100 (BST)
Subject: [R] \code{x[ind,,]}  -- Including spaces does not work
In-Reply-To: <Pine.GSO.4.31.0107300740170.6796-100000@auk.stats>
Message-ID: <Pine.GSO.4.31.0107300753520.7015-100000@auk.stats>

On Mon, 30 Jul 2001, Prof Brian D Ripley wrote:

> On Mon, 30 Jul 2001, Chris Wild wrote:
>
> > Putting a space between the commas makes no difference when I try it.
>
>
> \code{x[ind, , ]}
>
> does work for me, and furthermore it is how R itself formats the code:
>
> > options(keep.source=F)
> > foo <- function() { x[ind,,] }
> > foo
> function ()
> {
>     x[ind, , ]
> }
>
> so it's not ugly, it is correct.  I do wish posters to R-help would
> make use of spaces in the way R itself does.
>
> That's not to say that Rd.sty does not need to protect against this.

It's a quirk of using ae.sty, and \code not being a proper verbatim
environment.

,, is the notation for a quotation mark for a European language.  As that
does not exist in typewriter font, it is mapped to a black square by the ae
package.

A TeX workaround is needed ....


>
>
> > -- Chris Wild
> >
> > >Putting a space between the commas works.  I think it's ugly, though.
> > >Does anyone have a better idea?
> > >
> > >Jason
> > >--
> > >Indigo Industrial Controls Ltd.
> > >64-21-343-545
> > >jasont at indigoindustrial.co.nz
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Jul 30 09:20:34 2001
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 30 Jul 2001 09:20:34 +0200
Subject: [R] Help on plotting a regression plane?
References: <20010714180848.80038.qmail@web10104.mail.yahoo.com> <995241505.21988.0.camel@ou092065.otago.ac.nz> <x21ynibiu7.fsf@blueberry.kubism.ku.dk> <3B51A632.52C3CEBC@statistik.uni-dortmund.de>
Message-ID: <3B650AC2.EE09824F@statistik.uni-dortmund.de>

Uwe Ligges wrote:
> 
> Peter Dalgaard BSA wrote:
> >
> > John Williams <jwilliams at business.otago.ac.nz> writes:
> >
> > > I'm a bit embarrassed to ask this, but can anyone tell me (or point me
> > > to a reference) on how to plot a regression plane in R?
> > >
> > > I have a regression model with two independent variables and have
> > > created a nice 3d scatterplot with scatterplot3d (thanks Uwe!) and now
> > > would like to overlay the regression plane (gridded, preferably.)  Ay
> > > pointers would be appreciated.
> >
> > Doesn't look like something to be embarrassed about... (Uwe, you might
> > want to add this to one of the examples).

[SNIP]

> That's a workaround if you only want to plot it once, but surely
> automating it would be nicer. One can also think about drawing
> non-linear planes. Maybe this will become a additional function for the
> package.


There is scatterplot3d_0.3-7 on CRAN now.
scatterplot3d() returns a new function plane3d() now, which is designed
to draw the requested regression plane.

For more details have a look at the help page, particularly at the last
example:

    library(scatterplot3d)
    data(trees)
    s3d <- scatterplot3d(trees, type="h", highlight.3d=TRUE, 
        angle=55, scale.y=0.7, pch=16, main="scatterplot3d - 5")
  # Now adding a regression plane to the "scatterplot3d":
    attach(trees)
    my.lm <- lm(Volume ~ Girth + Height)
    s3d$plane3d(my.lm)


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul 30 10:11:35 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 30 Jul 2001 09:11:35 +0100 (BST)
Subject: [R] \code{x[ind,,]}  -- Including spaces does not work
In-Reply-To: <Pine.GSO.4.31.0107300753520.7015-100000@auk.stats>
Message-ID: <Pine.LNX.4.31.0107300910570.8569-100000@gannet.stats>

On Mon, 30 Jul 2001, Prof Brian D Ripley wrote:

> On Mon, 30 Jul 2001, Prof Brian D Ripley wrote:
>
> > On Mon, 30 Jul 2001, Chris Wild wrote:
> >
> > > Putting a space between the commas makes no difference when I try it.
> >
> >
> > \code{x[ind, , ]}
> >
> > does work for me, and furthermore it is how R itself formats the code:
> >
> > > options(keep.source=F)
> > > foo <- function() { x[ind,,] }
> > > foo
> > function ()
> > {
> >     x[ind, , ]
> > }
> >
> > so it's not ugly, it is correct.  I do wish posters to R-help would
> > make use of spaces in the way R itself does.
> >
> > That's not to say that Rd.sty does not need to protect against this.
>
> It's a quirk of using ae.sty, and \code not being a proper verbatim
> environment.
>
> ,, is the notation for a quotation mark for a European language.  As that
> does not exist in typewriter font, it is mapped to a black square by the ae
> package.
>
> A TeX workaround is needed ....

auk% diff Rd.sty /ext/R/R-patched/share/texmf/
179c179
<     \Rd at code}}
---
>     \@noligs\Rd at code}}

fixes this.

>
>
> >
> >
> > > -- Chris Wild
> > >
> > > >Putting a space between the commas works.  I think it's ugly, though.
> > > >Does anyone have a better idea?
> > > >
> > > >Jason
> > > >--
> > > >Indigo Industrial Controls Ltd.
> > > >64-21-343-545
> > > >jasont at indigoindustrial.co.nz
> > >
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > >
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Mon Jul 30 13:15:02 2001
From: alobo at ija.csic.es (Agustin Lobo)
Date: Mon, 30 Jul 2001 13:15:02 +0200 (MET DST)
Subject: [R] Calculating CPU times for different RAM configuratio
In-Reply-To: <Pine.GSO.4.31.0107300753520.7015-100000@auk.stats>
Message-ID: <Pine.OSF.3.96.1010730131320.25028A-100000@ija.csic.es>


Hi!

I have an slow process in R because
I'm using an laply() with a long list.

The process is very slow now, but I'm
using a very old machine with only 64k of
RAM. I want to buy a new machine but
I would like to calculate, at least as 
an approximation, how long would
my process take for different RAM 
configurations, so that I can take 
a decision based on cost/speed information.

Could anyone tell me how I could estimate
the gain in CPU time for increasing RAM? I
understand that the key variable is the relative
size of the memory that has to be allocated vs.
the RAM: if all can be fit in RAM, then the process
will be very fast. Perhaps I should just calculate
the size of the memory that the process allocates?

Thanks

Agus


Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Jul 30 12:23:53 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 30 Jul 2001 11:23:53 +0100
Subject: [R] converting among modes
In-Reply-To: <01ff01c116c2$f6952300$c5093586@STEVENS>
References: <01ff01c116c2$f6952300$c5093586@STEVENS>
Message-ID: <$fiX$OA5WTZ7EwrG@myatt.demon.co.uk>

Martin Henry H. Stevens <hstevens at muohio.edu> writes:
>Windows 2000, R 1.3.0
>
>I have been given a data set (ASCII tab delimited) in which many variables
>that are supposed to be numeric actually contain characters. I would be
>happy to have those character entries disappear and become NA.

Check out the na.strings parameter to read.table().

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Jul 30 12:59:55 2001
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 30 Jul 2001 11:59:55 +0100
Subject: [R] Plotting an array of histograms
In-Reply-To: <XFMail.010727204711.Ted.Harding@nessie.mcc.ac.uk>
References: <200107261440.JAA17566@definetti.uark.edu>
 <XFMail.010727204711.Ted.Harding@nessie.mcc.ac.uk>
Message-ID: <X$md3XAr4TZ7EwsH@myatt.demon.co.uk>

Ted.Harding at nessie.mcc.ac.uk writes:
>I have a dataset (of say values of X), each value associated
>with a level of a factor F (25 levels in all), in a dataframe.
>
>I want to make a single plot which contains 25 histograms of X,
>one for each level of F and each one appropriately labelled.
>
>(And, since there are 25 levels, a 5x5 array would be nice).
>
>What's the trick in R, please?

The trick is to the par() function. Here is an example ...

        #
        # generate some dummy data
        #
        x <- rnorm(n = 1000, mean = 12, sd = 1)
        f <- round(runif(n = 1000, min = 1, max = 25))

        #
        # set device for 5 * 5 array of charts
        #
        par(mfrow = c(5,5))

        #
        # plot histograms
        #
        tapply(x, f, hist, ylab="n", xlab="x")

I think you'll need a for() loop to get better control over the plots.
Something like:

        for(i in min(f):max(f))
          {
          hist(x[f==i], xlim=range(x), ylab="n", xlab="x", main = i)
          }

But I might be wrong.

I hope that helps.

Mark



--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Sun Jul 29 09:12:11 2001
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Sun, 29 Jul 2001 17:12:11 +1000
Subject: [R] style question: returning multiple arguments - structure orlist
References: <E09E527B56BE2D438A3D6A246DDD27A99DF6@Roper-CV.qld.cmis.csiro.au>
Message-ID: <3B63B74B.775D6C44@ozemail.com.au>

Since opinions are being pronounced freely, perhaps one more won't be
too objectionable.  I, perhaps like one or two other users of R, value
it highly as a tool. That is, I want to get things done with it. I often
_have_ to get things done with it, and quickly into the bargain. As
Jonathan Baron pointed out, transfer of learning isn't everything, but
as a learning theorist myself, it's a good start. It is incredibly easy
to forget how much you know (just ask Professor Ryle, but alas...) and
assume that someone can learn all the levels of a complex interaction at
once. If someone already knows an interface to use the tool, and that
interface is available, let 'em use it. They'll probably learn how to
use the tool much faster. If your preferred interface is superior, maybe
they'll realize that, after they've understood what the tool can do. I
realized, funnily enough while teaching students programming, that the
students could get their job done quite well without any of my favorite
tools. So I came to the conclusion that a guru will teach you how to be
a disciple, while an expert will show you how to get the job done.

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gvinjamu at cceb.upenn.edu  Mon Jul 30 15:35:43 2001
From: gvinjamu at cceb.upenn.edu (Govind Vinjamuri)
Date: Mon, 30 Jul 2001 09:35:43 -0400
Subject: [R] R- Installation error
Message-ID: <3B6562AF.65103A1A@cceb.upenn.edu>


Hello folks, I took some of your recommendation ad installed gcc3.0 and
try to compile R-1.3.0 on Solaris 2.6

configure runs ok but make command produces the following error. I used
configure --prefix to set the /application/R-1.3.0 as the root directory

Thanks in advance

.o nanoftp.o
nanoftp.c:123: field `ftpAddr' has incomplete type
nanoftp.c:135: confused by earlier errors, bailing out
*** Error code 1
make: Fatal error: Command failed for target `nanoftp.o'
Current working directory
/application/R-1.3.0/R-1.3.0/src/modules/internet
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory
/application/R-1.3.0/R-1.3.0/src/modules/internet
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /application/R-1.3.0/R-1.3.0/src/modules
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /application/R-1.3.0/R-1.3.0/src
*** Error code 1
make: Fatal error: Command failed for target `R'
#








-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a296180 at mica.fmr.com  Mon Jul 30 17:33:50 2001
From: a296180 at mica.fmr.com (David Kane  <David Kane)
Date: Mon, 30 Jul 2001 11:33:50 -0400
Subject: [R] Summary on Usage of R CMD INSTALL
Message-ID: <15205.32350.217570.962698@gargle.gargle.HOWL>

Thanks to Tim Hoar and Kurt Hornik for taking the time to answer my question
about the usage of R CMD INSTALL. Tim suggested:

> R CMD INSTALL --configure-args=--with-netCDF=/opt/local/netcdf-3.5.0 netCDF

> no quotes at all, no spaces ...

Kurt wrote:

> R CMD INSTALL --configure-vars='LIBS=-L/mylibs' mypackage

Alas, I am not smart enough to know whether there is a contradiction between
these two suggestions. My goal was to install the RODBC library in a situation
in which we have libraries and other things in non-standard places.  In the
end, a system-savy friend succeeded in this. He reports:

> The problem was that the the shell script wrapping called by 
> R CMD INSTALL called "SHLIB" was not allowing environment variables
> set in the executing shell to be used in the "${MAKE}" call. The fix 
> was to temporarily change the call in SHLIB to "${MAKE} -e" to force it 
> use the external environment variables. RODBC is a package that needs
> several external variables to be set and the --configure-vars or
> --configure-args options seem to be ineffective in trying to set
> this library up.

> Perhaps there is an easier way to get it done via some combination of 
> --configure-args and/or --configure-vars that someone has found to 
> work with RODBC. I have tried many different combinations but cannot
> say that I've tried all combinations.

> Anyway, the above remedy works and it installs RODBC into R.

Again, I don't know if this work-around is an indication of problems with 1) my
understanding of R CMD INSTALL and/or RODBC and/or UNIX; 2) R CMD INSTALL or 3)
RODBC. I certainly agree with Kurt's suggestions that there should be more
documentation/pointers on these issues. I offer the above in the hope that
someone benefits from it.

Thanks to all,

Dave Kane
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From york at noaa.gov  Mon Jul 30 20:56:27 2001
From: york at noaa.gov (Anne York)
Date: Mon, 30 Jul 2001 11:56:27 -0700 (PDT)
Subject: [R] legend on a lattice (developmental package) plot 
Message-ID: <Pine.GSO.4.05.10107301152520.11066-100000@ofis450a.akctr.noaa.gov>

Is there a way to put a legend on an xyplot -- eg, something akin to the
key function? Or, is there a way to get the R legend function to work on a
lattice plot? 

To the people who have done the work on lattice and grid: Thanks for making
lattice. I'm finding it very useful.

Anne



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Anne E. York
National Marine Mammal Laboratory
Seattle WA 98115-0070  USA
e-mail: anne.york at noaa.gov
Voice: +1 206-526-4039
Fax: +1 206-526-6615
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mmiller3 at iupui.edu  Mon Jul 30 22:01:26 2001
From: mmiller3 at iupui.edu (Michael A. Miller)
Date: 30 Jul 2001 15:01:26 -0500
Subject: [R] functions, `...' and .Rprofile
In-Reply-To: David White's message of "Sun, 24 Jun 2001 15:25:24 -0400 (EDT)"
Message-ID: <87itgadw4p.fsf@lumen.med.iupui.edu>

I'm experiencing some confusion with the ellipsis argument
(...).  

In my .Rprofile, I have the following functions:

   stderr <- function(x, ...) {
     sqrt( var(x, ...) / length(x) )
   }
   se <- stderr

I can use tapply to calculate some means:

   > tapply( Diameter, factor(Region), mean, na.rm=TRUE )
            I         II        III         IV          V 
   0.02896429 0.02368421 0.03990476 0.03949315 0.03424021 

but, it I try to use my se function, I get an unused argument(s)
error...

   > tapply( Diameter, factor(Region), se, na.rm=TRUE )
   Error in FUN(X[[1]], ...) : unused argument(s) (na.rm ...)

If I use stderr instead, I don't get that error:

   > tapply( Diameter, factor(Region), stderr, na.rm=TRUE )
             I          II         III          IV           V 
   0.005167949 0.004405095 0.006588870 0.006633189 0.001857812 

I'm curious about what's going on here.  Any ideas?  Is it just
that `...' can only be used in directly defined functions and not
by objects that reference functions?

Regards, Mike Miller


P.S.  I'm using R.Version()
$platform
[1] "i386-pc-linux-gnu"

$arch
[1] "i386"

$os
[1] "linux-gnu"

$system
[1] "i386, linux-gnu"

$status
[1] ""

$major
[1] "1"

$minor
[1] "3.0"

$year
[1] "2001"

$month
[1] "06"

$day
[1] "22"

$language
[1] "R"

-- 
Michael A. Miller                      mmiller3 at iupui.edu
  Krannert Institute of Cardiology, IU School of Medicine
  Indiana Center for Vascular Biology and Medicine

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Mon Jul 30 22:14:10 2001
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Mon, 30 Jul 2001 13:14:10 -0700 (PDT)
Subject: [R] legend on a lattice (developmental package) plot 
In-Reply-To: <Pine.GSO.4.05.10107301152520.11066-100000@ofis450a.akctr.noaa.gov>
Message-ID: <20010730201410.93715.qmail@web13902.mail.yahoo.com>



--- Anne York <york at noaa.gov> wrote:

> Is there a way to put a legend on an xyplot -- eg,
> something akin to the key function? 

Not yet, but coming soon, in the next release of
grid/lattice. (The basic code is already done, but
it's very slow right now. Might take some time to
fix.)


> Or, is there a way to get the R legend
> function to work on a lattice plot? 

No. Unfortunately none of the standard R graphics
functions can be used in grid/lattice.


__________________________________________________
Do You Yahoo!?
Make international calls for as low as $.04/minute with Yahoo! Messenger
http://phonecard.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jul 30 22:19:16 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 30 Jul 2001 21:19:16 +0100 (BST)
Subject: [R] functions, `...' and .Rprofile
In-Reply-To: <87itgadw4p.fsf@lumen.med.iupui.edu>
Message-ID: <Pine.GSO.4.31.0107302115360.19032-100000@auk.stats>

On 30 Jul 2001, Michael A. Miller wrote:

> I'm experiencing some confusion with the ellipsis argument
> (...).
>
> In my .Rprofile, I have the following functions:
>
>    stderr <- function(x, ...) {
>      sqrt( var(x, ...) / length(x) )
>    }
>    se <- stderr
>
> I can use tapply to calculate some means:
>
>    > tapply( Diameter, factor(Region), mean, na.rm=TRUE )
>             I         II        III         IV          V
>    0.02896429 0.02368421 0.03990476 0.03949315 0.03424021
>
> but, it I try to use my se function, I get an unused argument(s)
> error...
>
>    > tapply( Diameter, factor(Region), se, na.rm=TRUE )
>    Error in FUN(X[[1]], ...) : unused argument(s) (na.rm ...)
>
> If I use stderr instead, I don't get that error:
>
>    > tapply( Diameter, factor(Region), stderr, na.rm=TRUE )
>              I          II         III          IV           V
>    0.005167949 0.004405095 0.006588870 0.006633189 0.001857812
>
> I'm curious about what's going on here.  Any ideas?  Is it just
> that `...' can only be used in directly defined functions and not
> by objects that reference functions?

Not so.  I can't reproduce this putting that code in my .Rprofile.
See ?Startup: .RData is loaded after .Rprofile, so do you have a function
se() in your .RData?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mmiller3 at iupui.edu  Mon Jul 30 23:08:58 2001
From: mmiller3 at iupui.edu (Michael A. Miller)
Date: 30 Jul 2001 16:08:58 -0500
Subject: [R] functions, `...' and .Rprofile
In-Reply-To: Prof Brian D Ripley's message of "Mon, 30 Jul 2001 21:19:16 +0100 (BST)"
References: <Pine.GSO.4.31.0107302115360.19032-100000@auk.stats>
Message-ID: <87elqydt05.fsf@lumen.med.iupui.edu>

>>>>> "Prof" == Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

    > Not so.  I can't reproduce this putting that code in my
    > .Rprofile.  See ?Startup: .RData is loaded after .Rprofile,
    > so do you have a function se() in your .RData?

That's precisely my problem.  It was an old version of se in
.RData that was confusing the issue.  

Thanks!

Mike

-- 
Michael A. Miller                      mmiller3 at iupui.edu
  Krannert Institute of Cardiology, IU School of Medicine
  Indiana Center for Vascular Biology and Medicine
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jul 30 23:27:54 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Jul 2001 23:27:54 +0200
Subject: [R] functions, `...' and .Rprofile
In-Reply-To: mmiller3@iupui.edu's message of "30 Jul 2001 15:01:26 -0500"
References: <87itgadw4p.fsf@lumen.med.iupui.edu>
Message-ID: <x24rru150l.fsf@blueberry.kubism.ku.dk>

mmiller3 at iupui.edu (Michael A. Miller) writes:

> I'm experiencing some confusion with the ellipsis argument
> (...).  
> 
> In my .Rprofile, I have the following functions:
> 
>    stderr <- function(x, ...) {
>      sqrt( var(x, ...) / length(x) )
>    }
>    se <- stderr
...
> If I use stderr instead, I don't get that error:
> 
>    > tapply( Diameter, factor(Region), stderr, na.rm=TRUE )
>              I          II         III          IV           V 
>    0.005167949 0.004405095 0.006588870 0.006633189 0.001857812 

I know that's not what you were asking, but you're not getting
the correct result either... You'd need to divide by sum(!is.na(x))
rather than length(x).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wdmccoy at geo.umass.edu  Mon Jul 30 23:18:11 2001
From: wdmccoy at geo.umass.edu (William D. McCoy)
Date: Mon, 30 Jul 2001 17:18:11 -0400 (EDT)
Subject: [R] ATLAS
Message-ID: <200107302118.RAA29503@aeolus.geo.umass.edu>

I thought I would try compiling R this time with the ATLAS libraries.
I have compiled ATLAS and I have the following libraries:

libatlas.a      libf77blas.a    libptcblas.a    libtstatlas.a
libcblas.a      liblapack.a     libptf77blas.a


Is it sufficient to use ' --with-blas=libatlas.a ' when configuring or 
do I need to specify any of the other libraries as well?

-- 
William D. McCoy
Geosciences
University of Massachusetts
Amherst, MA  01003
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Tue Jul 31 02:46:21 2001
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Tue, 31 Jul 2001 12:46:21 +1200
Subject: [R] ATLAS
In-Reply-To: <200107302118.RAA29503@aeolus.geo.umass.edu>; from wdmccoy@geo.umass.edu on Mon, Jul 30, 2001 at 05:18:11PM -0400
References: <200107302118.RAA29503@aeolus.geo.umass.edu>
Message-ID: <20010731124620.B29741@camille.indigoindustrial.co.nz>

[snip: atlas libraries]
> Is it sufficient to use ' --with-blas=libatlas.a ' when configuring or 
> do I need to specify any of the other libraries as well?

Assuming you have a Un*x-like installation...

As long as the ATLAS libraries were put in a place they could be
easily found (usually /usr/local/lib), and ldconfig(8) has been run 
since they were put there, the configure script should pick them
up automagically.  I simply ran configure without options and
got...  
(config.cache)
ac_cv_lib_atlas_ATL_xerbla=${ac_cv_lib_atlas_ATL_xerbla='yes'}

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul 31 08:24:42 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 31 Jul 2001 07:24:42 +0100 (BST)
Subject: [R] ATLAS
In-Reply-To: <200107302118.RAA29503@aeolus.geo.umass.edu>
Message-ID: <Pine.GSO.4.31.0107310719080.19149-100000@auk.stats>

On Mon, 30 Jul 2001, William D. McCoy wrote:

> I thought I would try compiling R this time with the ATLAS libraries.
> I have compiled ATLAS and I have the following libraries:
>
> libatlas.a      libf77blas.a    libptcblas.a    libtstatlas.a
> libcblas.a      liblapack.a     libptf77blas.a
>
>
> Is it sufficient to use ' --with-blas=libatlas.a ' when configuring or
> do I need to specify any of the other libraries as well?

If this is Unix(-alike) ....

You need libatlas.a, libcblas.a, libf77blas.a, and you want to specify
them as "-latlas -lcblas -lf77blas".  *However* they need to be in your
library path, and if they are, configure will find them.  So just

set the library path as needed (e.g. LIBS in config.site)
rm config.cache
./configure
make

will make use of ATLAS.  See the R-admin.html manual for more details.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Tue Jul 31 10:03:21 2001
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Tue, 31 Jul 2001 10:03:21 +0200
Subject: [R] Applying "by" results
Message-ID: <OF2F2C0A8F.93E5DD9C-ONC1256A9A.002BCF6F@eurotel.cz>


Hi Dieter,

> PPress$Press<-unlist(by (Press,list(Marker,Chan), function(x) x-min(x)))

does the magic.
BTW, I have had similar problem and unlist is quite useful for solving such
kind of tasks.

Best,
Jan

-------------------------------------------------
designed for _monospaced_ font
-------------------------------------------------
/- Jan Svatos,              Sokolovska 855/225 -/
/- Data Analyst,            Prague 9           -/
/- Eurotel Praha            190 00             -/
/- jan_svatos at eurotel.cz    Czechia            -/
-------------------------------------------------


- - - Original message: - - -
From: owner-r-help at stat.math.ethz.ch
Send: 7/29/01 3:55:58 PM
To: "R-Help" <r-help at lists.r-project.org>
Subject: [R] Applying "by" results

I want to subtract the group minumum of the value in each group
from the indidvidual values, replacing the original values of Press
(something like a groupwise sweep).

This almost works:

#-----------------------------------
PPress<-data.frame(Marker=as.factor(c(rep(1,12),rep(2,12))),
                   Chan=as.factor(rep(1:4,6)), Press=rnorm(24) )
attach(PPress)
by (Press,list(Marker,Chan), function(x) x-min(x))
#-------------------------------------

The data printed out those I need, but how do I
get these back into to PPress?


---------------------------------------
Dr. Dieter Menne
Biomed Software
72074 T?bingen
Tel (49) (7071) 52176
FAX (49) (7071) 55 10 46
dieter.menne at menne-biomed.de
www.menne-biomed.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Stephane.Dupas at pge.cnrs-gif.fr  Tue Jul 31 11:54:45 2001
From: Stephane.Dupas at pge.cnrs-gif.fr (Stephane Dupas)
Date: Tue, 31 Jul 2001 11:54:45 +0200
Subject: [R] using identity link for binomial familly with glm
Message-ID: <3B668065.3000405@pge.cnrs-gif.fr>

-- Error in binomial(link = "identity") : identity link not available for binomial family, available links are "logit",  "probbit", "cloglog" and "log"

Hi, I have a question, dealing with this error response. I'm trying to 
make anova on percentages. The variablethat has a biological 
significance is actually the percentage itself. Is it really not 
possible, to test a simple linear probability model with glm, using 
binomial model and identity link function ? I know it's hard to deal 
with probability responses out of [0,1] but well... help me !
There is an example of such a linear probability model in Agresti (1997) 
some software aparently do it
Thanks,
St?phane



--


St?phane DUPAS

IRD c/o CNRS
Lab P.G.E., Bat 13,
1 av terrasse
91198 Gif sur Yvette
tel 33 1 69 82 37 04


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Tue Jul 31 12:28:03 2001
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Tue, 31 Jul 2001 12:28:03 +0200
Subject: [R] Summary on Usage of R CMD INSTALL
In-Reply-To: <15205.32350.217570.962698@gargle.gargle.HOWL>
References: <15205.32350.217570.962698@gargle.gargle.HOWL>
Message-ID: <15206.34867.899031.151231@mithrandir.hornik.net>

>>>>> "David Kane writes:

> Thanks to Tim Hoar and Kurt Hornik for taking the time to answer my question
> about the usage of R CMD INSTALL. Tim suggested:

>> R CMD INSTALL --configure-args=--with-netCDF=/opt/local/netcdf-3.5.0 netCDF

>> no quotes at all, no spaces ...

> Kurt wrote:

>> R CMD INSTALL --configure-vars='LIBS=-L/mylibs' mypackage

> Alas, I am not smart enough to know whether there is a contradiction
> between these two suggestions. My goal was to install the RODBC
> library in a situation in which we have libraries and other things in
> non-standard places.

Some add-on packages have provided configure options for specifying the
non-standard locations of libraries and headers.  This is nice, but
means that you have to know what these package-specific options (e.g.,
`--with-netCDF=' in the above) are called, which is complicated and not
really along the lines of Plug-and-Play installation.  Hence, we have
added the `--configure-vars' mechanism which allows you to do

  --configure-vars='LIBS=-L/path/to/libs CPPFLAGS=-I/path/to/headers'

> In the end, a system-savy friend succeeded in this. He reports:

>> The problem was that the the shell script wrapping called by 
>> R CMD INSTALL called "SHLIB" was not allowing environment variables
>> set in the executing shell to be used in the "${MAKE}" call. The fix 
>> was to temporarily change the call in SHLIB to "${MAKE} -e" to force it 
>> use the external environment variables. RODBC is a package that needs
>> several external variables to be set and the --configure-vars or
>> --configure-args options seem to be ineffective in trying to set
>> this library up.

>> Perhaps there is an easier way to get it done via some combination of 
>> --configure-args and/or --configure-vars that someone has found to 
>> work with RODBC. I have tried many different combinations but cannot
>> say that I've tried all combinations.

>> Anyway, the above remedy works and it installs RODBC into R.

> Again, I don't know if this work-around is an indication of problems
> with 1) my understanding of R CMD INSTALL and/or RODBC and/or UNIX; 2)
> R CMD INSTALL or 3) RODBC. I certainly agree with Kurt's suggestions
> that there should be more documentation/pointers on these issues. I
> offer the above in the hope that someone benefits from it.

I am not sure what is system-savvy about this.  If what is intended and
documented does not work, it is a bug, and should be reported as such.
There is really no point in advocating a non-portable ($MAKE -e) and
temporary solution.

Re RODBC, assume you had libiodbc in a non-standard place, say
e.g. `/home/me/lib'.  Then you should be able to do

	R CMD INSTALL \
	  --configure-vars='-L/home/me/lib' /path/to/RODBC

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul 31 12:50:09 2001
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 31 Jul 2001 11:50:09 +0100 (BST)
Subject: [R] using identity link for binomial familly with glm
In-Reply-To: <3B668065.3000405@pge.cnrs-gif.fr>
Message-ID: <Pine.LNX.4.31.0107311140040.5234-100000@gannet.stats>

On Tue, 31 Jul 2001, Stephane Dupas wrote:

> -- Error in binomial(link = "identity") : identity link not available for binomial family, available links are "logit",  "probbbit", "cloglog" and "log"
>
> Hi, I have a question, dealing with this error response. I'm trying to
> make anova on percentages. The variablethat has a biological
> significance is actually the percentage itself. Is it really not
> possible, to test a simple linear probability model with glm, using
> binomial model and identity link function ? I know it's hard to deal
> with probability responses out of [0,1] but well... help me !
> There is an example of such a linear probability model in Agresti (1997)
> some software aparently do it

You can do it easily: use a quasi model.

quasi(link = "identity", variance = "mu(1-mu)")

I believe.  You will probably need to specify a good starting value.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan_Svatos at eurotel.cz  Tue Jul 31 13:44:34 2001
From: Jan_Svatos at eurotel.cz (Jan_Svatos@eurotel.cz)
Date: Tue, 31 Jul 2001 13:44:34 +0200
Subject: AW: [R] Applying "by" results
Message-ID: <OF53656181.14DFAF17-ONC1256A9A.003FE769@eurotel.cz>


Oops,
I am terribly sorry, I recognized my mistake, as I thought
that the factors are ordered in PPress,

1    1 (k times)
1    2 (k times)
1    3 (k times)
etc...

Of course, "solution" I supplied is then not correct.
Thank you for your notice and for a more general solution.

Jan

-------------------------------------------------
designed for _monospaced_ font
-------------------------------------------------
/- Jan Svatos,              Sokolovska 855/225 -/
/- Data Analyst,            Prague 9           -/
/- Eurotel Praha            190 00             -/
/- jan_svatos at eurotel.cz    Czechia            -/
-------------------------------------------------





                                                                                                                          
                    "Dieter Menne"                                                                                        
                    <dieter.menne at menne-           <Jan_Svatos at eurotel.cz>                                                
                    biomed.de>                                                                                            
                    07/31/01 11:36 AM              AW: [R] Applying "by" results                                          
                                                                                                                          
                                                                                                                          
                                                                                                                          



Jan,

I tried again, and I am sorry to say that your result is not correct.
I would only work if the data are ordered from the beginning
in the same order as they are processed.

See below: Press1 is not correct (not easy to see).
Press 2 is correct.

set.seed(13)
PPress<-data.frame(Marker=as.factor(c(rep(1,12),rep(2,12))),
                   Chan=as.factor(rep(1:4,6)), Press=rnorm(24) )
attach(PPress)
PPress$Press1<-unlist(by (Press,list(Marker,Chan), function(x) x-min(x)))

minp<-unlist(tapply(Press,list(Chan,Marker),min,simplify=F))
imin<-tapply(Press,list(Chan,Marker))
PPress$Press2<-Press-minp[imin]



Dieter




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wdmccoy at geo.umass.edu  Tue Jul 31 15:58:39 2001
From: wdmccoy at geo.umass.edu (William D. McCoy)
Date: Tue, 31 Jul 2001 09:58:39 -0400 (EDT)
Subject: [R] ATLAS
Message-ID: <200107311358.JAA05720@aeolus.geo.umass.edu>

Thanks to Jason Turner and Brian Ripley for the quick and informative
responses to my query about the proper use of the '--with-blas'
argument to the configure script.  They have both indicated that as
long as the libraries are in the library path, configure should find
them.  BR adds that the libraries needed are:  libatlas.a, libcblas.a,
and libf77blas.a.


The original question was:

> I thought I would try compiling R this time with the ATLAS libraries.
> I have compiled ATLAS and I have the following libraries:
>
> libatlas.a      libf77blas.a    libptcblas.a    libtstatlas.a
> libcblas.a      liblapack.a     libptf77blas.a
>
>
> Is it sufficient to use ' --with-blas=libatlas.a ' when configuring or
> do I need to specify any of the other libraries as well?


Jason Turner replied:

> Assuming you have a Un*x-like installation...
> 
> As long as the ATLAS libraries were put in a place they could be
> easily found (usually /usr/local/lib), and ldconfig(8) has been run 
> since they were put there, the configure script should pick them
> up automagically.  I simply ran configure without options and
> got...  
> (config.cache)
> ac_cv_lib_atlas_ATL_xerbla=${ac_cv_lib_atlas_ATL_xerbla='yes'}


And Brian Ripley relplied:

> If this is Unix(-alike) ....
> 
> You need libatlas.a, libcblas.a, libf77blas.a, and you want to specify
> them as "-latlas -lcblas -lf77blas".  *However* they need to be in your
> library path, and if they are, configure will find them.  So just
> 
> set the library path as needed (e.g. LIBS in config.site)
> rm config.cache
> ./configure
> make
> 
> will make use of ATLAS.  See the R-admin.html manual for more details.

-- 
William D. McCoy
Geosciences
University of Massachusetts
Amherst, MA  01003
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bobo at medgen.univr.it  Tue Jul 31 18:59:31 2001
From: bobo at medgen.univr.it (Malerba Giovanni)
Date: Tue, 31 Jul 2001 18:59:31 +0200 (CEST)
Subject: [R] More info on cor()
Message-ID: <Pine.LNX.4.30.0107311843560.4753-100000@malerba.univr.it>

Dear all,
is there a way to know how many pairs are computed when R performs a
correlation (i.e. cor(x,use="complete.obs"))? (some indivual has no
available information for some variable).
I would like to estimate the  significance of the correlation between 2
variables (hypothesis r=0) and to do this I need to know the sample size.
Thank you.
Giovanni Malerba




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Tue Jul 31 18:06:02 2001
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Tue, 31 Jul 2001 12:06:02 -0400 (EDT)
Subject: [R] More info on cor()
Message-ID: <200107311606.MAA10856@cattell.psych.upenn.edu>

I can't answer the question about knowing how many pairs there
are from "cor", but the way to assess the significance is with
cor.test().  That does tell you.

Jon

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Tue Jul 31 20:24:22 2001
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Tue, 31 Jul 2001 13:24:22 -0500 (CDT)
Subject: [R] ARIMA0 question
Message-ID: <200107311824.NAA10472@uhddx01.dt.uh.edu>

Dear R People:

In library(ts), there is a function arima0
to estimate the ARMA parameters. R 1.2.3, windows

Sometimes when fitting a model, an error
occurs in the optim procedure.  This error
stops the process (which is as it should be).

When running a simulation with many iterations,
this error will stop the entire simulation.

My question is, please:
What is the best way to get out of the arima0
function when an error occurs without stopping
the whole procedure?

Thanks in advance!

Sincerely,
Erin M. Hodgess, Ph.D.
Associate Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
One Main Street 
Houston, TX 77002
e-mail: hodgess at uhddx01.dt.uh.edu



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jul 31 20:35:04 2001
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 31 Jul 2001 19:35:04 +0100 (GMT Daylight Time)
Subject: [R] ARIMA0 question
In-Reply-To: <200107311824.NAA10472@uhddx01.dt.uh.edu>
Message-ID: <Pine.WNT.4.31.0107311933380.612-100000@tern.stats>

On Tue, 31 Jul 2001, Erin Hodgess wrote:

> Dear R People:
>
> In library(ts), there is a function arima0
> to estimate the ARMA parameters. R 1.2.3, windows
>
> Sometimes when fitting a model, an error
> occurs in the optim procedure.  This error
> stops the process (which is as it should be).
>
> When running a simulation with many iterations,
> this error will stop the entire simulation.
>
> My question is, please:
> What is the best way to get out of the arima0
> function when an error occurs without stopping
> the whole procedure?

Looks like a case for calling arima0 inside try().
The try help page has an example.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jul 31 20:37:21 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 31 Jul 2001 11:37:21 -0700 (PDT)
Subject: [R] ARIMA0 question
In-Reply-To: <200107311824.NAA10472@uhddx01.dt.uh.edu>
Message-ID: <Pine.A41.4.33.0107311136380.55194-100000@homer19.u.washington.edu>

On Tue, 31 Jul 2001, Erin Hodgess wrote:

> Dear R People:
>
> In library(ts), there is a function arima0
> to estimate the ARMA parameters. R 1.2.3, windows
>
> Sometimes when fitting a model, an error
> occurs in the optim procedure.  This error
> stops the process (which is as it should be).
>
> When running a simulation with many iterations,
> this error will stop the entire simulation.
>
> My question is, please:
> What is the best way to get out of the arima0
> function when an error occurs without stopping
> the whole procedure?

One way around this problem is to wrap the calculation in the try()
function.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Tue Jul 31 21:40:51 2001
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Tue, 31 Jul 2001 14:40:51 -0500 (CDT)
Subject: [R] ARIMA0 question summary
Message-ID: <200107311940.OAA05709@uhddx01.dt.uh.edu>

Many thanks to Prof. T. Lumley and Prof. B. Ripley
for the try() function!

It works perfectly!

Sincerely,
Erin





Dear R People:

In library(ts), there is a function arima0
to estimate the ARMA parameters. R 1.2.3, windows

Sometimes when fitting a model, an error
occurs in the optim procedure.  This error
stops the process (which is as it should be).

When running a simulation with many iterations,
this error will stop the entire simulation.

My question is, please:
What is the best way to get out of the arima0
function when an error occurs without stopping
the whole procedure?

Thanks in advance!

Sincerely,
Erin M. Hodgess, Ph.D.
Associate Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
One Main Street 
Houston, TX 77002
e-mail: hodgess at uhddx01.dt.uh.edu



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From toad at alvie-mail.lanl.gov  Tue Jul 31 22:51:00 2001
From: toad at alvie-mail.lanl.gov (Laura Forsberg)
Date: Tue, 31 Jul 2001 14:51:00 -0600
Subject: [R] detecting blanks in read.table()
Message-ID: <3B671A34.231A557B@alvie-mail.lanl.gov>

Hi everyone,

I am trying to read in a tab delimited data file to R that has outliers
marked by blank spaces.  I would like to be able to tag those as "NA"
when the data is read in.  I cannot figure out how to do this using the
read.table() options.  Everything I have tried either puts all the NA on
the end of the row when there are missing values instead of on their
appropiate columns or won't read the data in at all.

Thanks much,

Laura

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Jul 31 23:02:18 2001
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 31 Jul 2001 14:02:18 -0700 (PDT)
Subject: [R] detecting blanks in read.table()
In-Reply-To: <3B671A34.231A557B@alvie-mail.lanl.gov>
Message-ID: <Pine.A41.4.33.0107311356190.159766-100000@homer03.u.washington.edu>

On Tue, 31 Jul 2001, Laura Forsberg wrote:

> Hi everyone,
>
> I am trying to read in a tab delimited data file to R that has outliers
> marked by blank spaces.  I would like to be able to tag those as "NA"
> when the data is read in.  I cannot figure out how to do this using the
> read.table() options.  Everything I have tried either puts all the NA on
> the end of the row when there are missing values instead of on their
> appropiate columns or won't read the data in at all.
>

This seems to work
> read.table("foo.dat",sep="\t",na.strings=" ",header=TRUE)
   a  b  c d
1  1 NA  2 3
2  4  5 NA 6
3 NA  7  8 9

where the file is
a	b	c	d
1	 	2	3
4	5	 	6
 	7	8	9

ie with tabs replaced by \t
a\tb\tc\td
1\t \t2\t3
4\t5\t \t6
\t7\t8\t9


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jul 31 23:33:07 2001
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 31 Jul 2001 23:33:07 +0200
Subject: [R] detecting blanks in read.table()
In-Reply-To: Laura Forsberg's message of "Tue, 31 Jul 2001 14:51:00 -0600"
References: <3B671A34.231A557B@alvie-mail.lanl.gov>
Message-ID: <x27kwo238s.fsf@blueberry.kubism.ku.dk>

Laura Forsberg <toad at alvie-mail.lanl.gov> writes:

> Hi everyone,
> 
> I am trying to read in a tab delimited data file to R that has outliers
> marked by blank spaces.  I would like to be able to tag those as "NA"
> when the data is read in.  I cannot figure out how to do this using the
> read.table() options.  Everything I have tried either puts all the NA on
> the end of the row when there are missing values instead of on their
> appropiate columns or won't read the data in at all.
> 
> Thanks much,
> 
> Laura

Blank or empty? Using read.delim() or read.table(...,sep="\t") should
at least get the columns right. You might need na.strings=" " to
prevent it from interpreting the entire column as a factor.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jonqli at labs.agilent.com  Tue Jul 31 18:59:14 2001
From: jonqli at labs.agilent.com (Jonathan Qiang Li)
Date: Tue, 31 Jul 2001 09:59:14 -0700
Subject: [R] fitting mixture of gaussians using emclust() of mclust package
Message-ID: <3B66E3E2.B47AE181@labs.agilent.com>

Hi,

Has someone tried to use mclust package function emclust() to fit a
mixture of gaussian model for a relatively large dataset?
By "large", I specifically have in mind a data set with 50,000
observations and 23 dimensions. My machine has 750M memory and 500M swap
space. When I tried to use emclust on the dataset, I consistently get
messages such as "Error: cannot allocate vector of size 1991669 Kb". In
other words does this mean that R is trying to allocate almost 2000Mb
space? Should this be considered abnormal? 

Thanks, 

-- 
Jonathan Q. Li, PhD
Agilent Technologies Laboratory
Palo Alto, California, USA
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


