From mim78 at cict.fr  Mon Aug  2 14:13:52 1999
From: mim78 at cict.fr (ROS Mathieu)
Date: Mon, 2 Aug 1999 14:13:52 +0200 (MET)
Subject: [R] Logistic regression with coef>0 (summary of previous answers)
In-Reply-To: <379CE029.765C7087@talariainc.com>
Message-ID: <Pine.SGI.3.95.990802140354.16923C-100000@ondine.cict.fr>

On Mon, 26 Jul 1999, Christian Posse wrote:

> Hi,
> 
> recently I saw but did not pay too much attention to a question
> that concerned regression with positive coefficients. In Splus,
> thereis the nnls() function that can be used if I am not wrong,
> but what about R ?
> Now I have the same problem: doing a logistic regression under
> constraint that coefs are non negative. What can I do with R?
> is there a (weighted) nnls() counterpart available?
> 
> Thanks for any help!
> Christian

there is nothing like nnls() under R but you can try doing the job with   
nlm() (???).
I 'summarize' the few mail about this topic below.
hope this will help you,
    Mathieu

 Bill Simpson :
"I would guess the way to do it would be to use a nonlinear optimizer that
allows constraints on the search space. R has a nonlinear optimizer called
nlm, but it does an unconstrained search. (nlm is just a standard routine
from netlib I think that is glued onto R. It would be nice to have a
nonlin optimizer with constraints, and several exist at netlib and
elsewhere; perhaps someone with the need for it and the knowledge of how
to do it will glue one onto R)"

John Logsdon :
"I have used nlm with constraints imposed by minimising

-loglik+scale*(alpha^4)I(alpha<0)

where alpha bears some relation to the parameter(s) of interest, the
(positive) scale is chosen to ensure sensible dominance whenever alpha
strays into the negative regime and the indicator function ensures that it
operates only where alpha<0.  The properties of the log-likelihood were
not of immediate interest ... It worked pretty well to ensure a negative
intercept (in this case) but then I realised that only a few cases were
leading to the problem and some further thought and a better analysis
meant that I could approach the problem in a different way.

Just a thought.  Otherwise a constrained optimisation algorithm, which is
not available in R.  Or parameterise so that the log of the parameter is
used, as in the gnlr suite for the shape parameter."

Douglas Bates:
"There are simpler ways of going about the task because it is
essentially an integer programming problem.  You are just searching
for the subset of the coefficients that should be set equal to zero.

Dennis Wolf and I wrote about it several years ago including some
Fortran code.

@article{bate:wolf:1984,
    Author = {Bates, Douglas M. and Wolf, Dennis A.},
    Title = {Non-negative Regression By {G}ivens Rotations},
    Year = 1984,
    Journal = {Communications in Statistics, Part B -- Simulation and
              Computation},
    Volume = 13,
    Pages = {841--850}
}"



-------------------------------------------------------
Mathieu Ros
mathieuros at bigfoot.com
(Universite Paul Sabatier, Toulouse)
Universite Joseph Fourier, Grenoble
-------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Mon Aug  2 14:11:17 1999
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Mon, 02 Aug 1999 12:11:17 GMT
Subject: [R] HTML Output from R
Message-ID: <OF8F1FF647.7341B987-ON852567C1.004131A1@hgsi.com>

Task: To generate HTML output from R
Details: I am trying to serve up HTML output from R. That is analyses or
table of data from R saved as HTML output with formatted tables etc. This
file is then called in a CGI script to output to user browser. The CGI
script inspired by Mark J. Ray reads the HTML output, formats the header
and footer and any graphic output if necessary.
My question is: Has anyone done any HTML output from R?

My first attempt at this is the following:
(Note: this function is not intended for "production" work; in particular
no error checking - all the niceties I intend to add in the end)

mat2html <- function(x, y, capt="The Default Title", file= file){
#x: The matrix to be written in HTML
#y: A vector  of length m containing the colnames of x
#capt: The title for the table
#file: The HTML file to write to
  n <- dim(x)[1] #no. of rows
  m <- dim(x)[2] #no. of columns
  sink(paste(file))
  cat("<table border= 1, align= \"center\">\n")
  cat(paste("<caption>", capt, "</caption>\n"))
  cat("<tr>")
  for(i in 1:m)cat(paste("<th>", y[i]))
  cat("</tr>\n")
  for(i in 1:n){
     cat("<tr>\n")
     for(j in 1:m){
        cat(paste("<td>", x[i,j]))
     }
     cat("</tr>\n")
  }
  cat("</table>\n")
  sink()
}
#---------------------------------------------------------------------------------------

Note that I am using the "forbidden" for loop. I am unable to see a
solution otherwise.
Comments and improvements obviously welcome.
TIA.
Partha.
PS: I will summarize all the replies I get.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcus.eger at physik.uni-marburg.de  Mon Aug  2 17:40:19 1999
From: marcus.eger at physik.uni-marburg.de (Marcus Eger)
Date: Mon, 02 Aug 1999 17:40:19 +0200
Subject: [R] Newbie question: R for DEC alpha
Message-ID: <37A5BBE3.2FB059C2@physik.uni-marburg.de>

Hello,
I?m looking for a compiled R archive that can be installed without
being root, i.e. I?d like to set the installation path manually.
Thanks for ideas -
 M. Eger


-- 
+-------------------------------------------------------
| Marcus Eger
| Philipps Universitaet Marburg
| Fachbereich Physik AG Neurophysik
| Renthof 7
| 35032 Marburg
| Tel. +49 6421 284169
| Fax  +49 6421 287034
+-------------------------------------------------------
| E-Mail: marcus.eger at physik.uni-marburg.de
| http://www.physik.uni-marburg.de/bio/mitarbei/eger.htm
+-------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kmself at ix.netcom.com  Tue Aug  3 08:57:38 1999
From: kmself at ix.netcom.com (Karsten M. Self)
Date: Tue, 03 Aug 1999 06:57:38 +0000
Subject: [R] Performance & capacity characteristics of R?
Message-ID: <37A692E2.FF48B36C@ix.netcom.com>

I hope this is merely a FAQ, and not an AFAQ (annoyingly....).

I'm a SAS programmer, with several years' experience of the system,
evaluating alternatives.  See the SAS for Linux website (URL in sig) for
more info.

I'm exploring R's capabilities and limitations.  I'd be very interested
in having a deeper understanding of it capacity and performance
limitations in dealing with very large datasets, which I would classify
as tables with 1 million to 100s of millions of rows and two - 100+
fields (variables) generally of 8 bytes -- call it a 16 - 800 byte
record length.

Can R handle such large datasets (tables)?  What are the general
parameters for memory requirements?  How great a performance hit does
running to swap (virtual memory) entail?  What common
procedures|functions under R use significantly more memory?  Are there
guidelines or documentation which point to issues and parameters of
large file|dataset processing under R?

TIA.
-- 
Karsten M. Self (kmself at ix.netcom.com)
    What part of "Gestalt" don't you understand?

SAS for Linux: http://www.netcom.com/~kmself/SAS/SAS4Linux.html
Mailing list:  "subscribe sas-linux" to
mailto:majordomo at cranfield.ac.uk    
 11:45pm  up 70 days, 51 min,  1 user,  load average: 0.67, 0.38, 0.21
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tediaz at gwis2.circ.gwu.edu  Tue Aug  3 05:06:20 1999
From: tediaz at gwis2.circ.gwu.edu (T.E.Diaz)
Date: Tue, 3 Aug 1999 03:06:20 +0000
Subject: [R] RW 0.64.2 substring() string truncation?
Message-ID: <199908030707.HAA69880@out1.ibm.net>

Hi,

(First, apology for my earlier incorrectly addressed "subscribe" 
post.)

Can somebody tell me what exactly is going on below. Basically, I am 
running into some kind of "string truncation" problem when I try 
to get a substring starting past the 8192nd character (see sample 
session below). There doesn't appear to be any problem creating the 
string, and nchar() reports the correct size as constructed.

# Start of R session:
>  tmp <- paste(rep("1",8192),sep="",collapse="")
> nchar(tmp)
[1] 8192
> tmp <- paste(tmp,"23456789",sep="",collapse="")
> nchar(tmp)
[1] 8200
> substring(tmp,8190,8192)
[1] "111"
> substring(tmp,8190,8193)
Warning in substr(x, as.integer(start), as.integer(stop)) : a string was truncated in substr()
[1] "111"
>
# End of R session:

Thanks for any assistance.

T.E.Diaz
George Washington University
Washington, DC

For comparison, I run the following in Splus 4.0.

# Start of Splus 4.0 session.
> tmp <- paste(rep("1",8192),sep="",collapse="")
> nchar(tmp)
[1] 8192
> 
> tmp <- paste(tmp,"23456789",sep="",collapse="")
> nchar(tmp)
[1] 8200
> substring(tmp,8190,8192)
[1] "111"
> substring(tmp,8190,8193)
# End of Splus 4.0 session.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Aug  3 10:09:04 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Aug 1999 10:09:04 +0200
Subject: [R] RW 0.64.2 substring() string truncation?
In-Reply-To: "T.E.Diaz"'s message of "Tue, 3 Aug 1999 03:06:20 +0000"
References: <199908030707.HAA69880@out1.ibm.net>
Message-ID: <x2btcp476n.fsf@blueberry.kubism.ku.dk>

"T.E.Diaz" <tediaz at gwis2.circ.gwu.edu> writes:

> [1] 8192
> > tmp <- paste(tmp,"23456789",sep="",collapse="")
> > nchar(tmp)
> [1] 8200
> > substring(tmp,8190,8192)
> [1] "111"
> > substring(tmp,8190,8193)
> Warning in substr(x, as.integer(start), as.integer(stop)) : a string was truncated in substr()
> [1] "111"

Possibly - ;) - related to this:

src/include/Defn.h:#define MAXELTSIZE 8192 /* The largest string size */

There are a couple of fixed-size arrays in the code. We'll want to
eradicate them at some point but it's pretty painful to do. Do you
have a serious application for text strings of more than 8k length?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug  3 10:14:56 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 3 Aug 1999 09:14:56 +0100 (BST)
Subject: [R] Performance & capacity characteristics of R?
In-Reply-To: <37A692E2.FF48B36C@ix.netcom.com>
Message-ID: <Pine.GSO.4.05.9908030900300.25656-100000@auk.stats>

On Tue, 3 Aug 1999, Karsten M. Self wrote:

> I hope this is merely a FAQ, and not an AFAQ (annoyingly....).
> 
> I'm a SAS programmer, with several years' experience of the system,
> evaluating alternatives.  See the SAS for Linux website (URL in sig) for
> more info.
> 
> I'm exploring R's capabilities and limitations.  I'd be very interested
> in having a deeper understanding of it capacity and performance
> limitations in dealing with very large datasets, which I would classify
> as tables with 1 million to 100s of millions of rows and two - 100+
> fields (variables) generally of 8 bytes -- call it a 16 - 800 byte
> record length.

Can you tell us what statistical procedures need 1 million to 100s of
millions or rows (observations)?  Some of us have doubted that there are
even datasets of 100,000 examples that are homogeneous and for which a
small subsample would not give all the statistical information. (If they
are not homogeneous, one could/should analyse homogeneous subsets and do a
meta-analysis.)

Your datasets appear to be (taking a mid-range value) around 1Gbyte
in size.

> Can R handle such large datasets (tables)?  What are the general

R has a workspace size limit of 2048Mb, and on 32-bit machines this cannot
be raised more than a tiny amount. I have only run R on a machine with
512Mb of RAM, and on that using objects of more than 100Mb or so slowed it
down very considerably.

> parameters for memory requirements?  How great a performance hit does
> running to swap (virtual memory) entail?  What common

A large hit, as R's garbage collector moves objects in memory.

> procedures|functions under R use significantly more memory?  Are there
> guidelines or documentation which point to issues and parameters of
> large file|dataset processing under R?

At its present stage of development, R is not tuned to work with such large
datasets. There are plans to make it work better with them, but the issue
remains as to whether there are many real applications that need such
datasets. Hence my first question.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Joerg.Kindermann at gmd.de  Tue Aug  3 10:16:34 1999
From: Joerg.Kindermann at gmd.de (Joerg Kindermann)
Date: Tue, 3 Aug 1999 10:16:34 +0200 (MET DST)
Subject: [R] Re:  fixed-size string arrays (was: substring() string truncation?)
In-Reply-To: <x2btcp476n.fsf@blueberry.kubism.ku.dk> (message from Peter
	Dalgaard BSA on 03 Aug 1999 10:09:04 +0200)
Message-ID: <199908030816.KAA13445@yeu.gmd.de>

My apologies to jump into this thread,

>>>>> " " == Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

     > src/include/Defn.h:#define MAXELTSIZE 8192 /* The largest string
     > size */

     > There are a couple of fixed-size arrays in the code. We'll want to
     > eradicate them at some point but it's pretty painful to do. Do you
     > have a serious application for text strings of more than 8k length?

We are developing a parallel-computation version of R (at present for
internal use only ;-). Basically there are a number of R processes running
on several host computers. Data and functions (i.e. R objects) can be
exchanged between these in PVM-based messages. We use the *string*
representations of R objects to build the messages being send (by a
combination of calls to deparse at the sending process and parse at the
receiving process).

Therefore it would be very nice to have variable-sized string arrays in R!

best regards

--  Dr. Joerg Kindermann             GMD - AiS
            German National Research Center for Information Technology
                Schloss Birlinghoven, D-53754 St. Augustin, Germany
                   phone: +49 02241 142437 fax: +49 02241 142342
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Tue Aug  3 10:14:47 1999
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Tue, 3 Aug 1999 20:14:47 +1200
Subject: [R] Performance & capacity characteristics of R?
In-Reply-To: <37A692E2.FF48B36C@ix.netcom.com>; from Karsten M. Self on Tue, Aug 03, 1999 at 06:57:38AM +0000
References: <37A692E2.FF48B36C@ix.netcom.com>
Message-ID: <19990803201447.A3642@stat1.stat.auckland.ac.nz>

On Tue, Aug 03, 1999 at 06:57:38AM +0000, Karsten M. Self wrote:
> I hope this is merely a FAQ, and not an AFAQ (annoyingly....).
> 
> I'm a SAS programmer, with several years' experience of the system,
> evaluating alternatives.  See the SAS for Linux website (URL in sig) for
> more info.
> 
> I'm exploring R's capabilities and limitations.  I'd be very interested
> in having a deeper understanding of it capacity and performance
> limitations in dealing with very large datasets, which I would classify
> as tables with 1 million to 100s of millions of rows and two - 100+
> fields (variables) generally of 8 bytes -- call it a 16 - 800 byte
> record length.
> 
> Can R handle such large datasets (tables)?  What are the general
> parameters for memory requirements?  How great a performance hit does
> running to swap (virtual memory) entail?  What common
> procedures|functions under R use significantly more memory?  Are there
> guidelines or documentation which point to issues and parameters of
> large file|dataset processing under R?

R is not intended for data sets of the size you describe.  It is
indended to handle data sets of a few tens of megabytes at most.
Unlike sas it holds complete data sets in memory.

We are currently looking at the memory management and performance
issues, but the scale of data processing you describe will need a
different kind of tool.  On the rare occasions I encounter problems of
the size you describe I usually do significant preprocessing with
something like perl.

Given that the internals of R are not yet in a final state I would
hestitate to make precise performance statements or recommendations.
We will be in a better position to do so when the 1.0 release comes
along.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug  3 10:22:41 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 3 Aug 1999 09:22:41 +0100 (BST)
Subject: [R] RW 0.64.2 substring() string truncation?
In-Reply-To: <199908030707.HAA69880@out1.ibm.net>
Message-ID: <Pine.GSO.4.05.9908030916450.25656-100000@auk.stats>

On Tue, 3 Aug 1999, T.E.Diaz wrote:

> Can somebody tell me what exactly is going on below. Basically, I am 
> running into some kind of "string truncation" problem when I try 
> to get a substring starting past the 8192nd character (see sample 
> session below). There doesn't appear to be any problem creating the 
> string, and nchar() reports the correct size as constructed.

substr/substring has a buffer size limit of 8192. Indeed, the include file
says

Defn.h:#define MAXELTSIZE 8192 /* The largest string size */

One day this limit may be removed, but for now at least we could document
it.  I am not at all clear why one would want to use a single string longer
than 8192 chars: is it possible in your applications to use a vector of
shorter strings instead?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john at dwaf-hri.pwv.gov.za  Tue Aug  3 13:06:29 1999
From: john at dwaf-hri.pwv.gov.za (John Carter)
Date: Tue, 3 Aug 1999 11:06:29 +0000 (GMT)
Subject: [R] R is not for Relational
Message-ID: <Pine.LNX.4.05.9908031029450.24357-100000@models.iwqs.pwv.gov.za>

R is not for Relational, but could be...

I was musing on data.frames when I decided what I needed was a SQL
like 'select' statement.

Before I get involved in writing something like that, has anyone else
written anything that allows a relational like algebra on data.frames?

Thanks,

John Carter                    EMail: ece at dwaf-hri.pwv.gov.za
Telephone : 27-12-808-0374x194 Fax:- 27-12-808-0338
<http://www.geocities.com/SoHo/Cafe/5947> or <http://iwqs.pwv.gov.za>

When I grow up, I'm going to be a range of mountains!

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Aug  3 14:30:46 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Aug 1999 14:30:46 +0200
Subject: [R] R is not for Relational
In-Reply-To: John Carter's message of "Tue, 3 Aug 1999 11:06:29 +0000 (GMT)"
References: <Pine.LNX.4.05.9908031029450.24357-100000@models.iwqs.pwv.gov.za>
Message-ID: <x2oggphwqx.fsf@blueberry.kubism.ku.dk>

John Carter <john at dwaf-hri.pwv.gov.za> writes:

> R is not for Relational, but could be...
> 
> I was musing on data.frames when I decided what I needed was a SQL
> like 'select' statement.
> 
> Before I get involved in writing something like that, has anyone else
> written anything that allows a relational like algebra on data.frames?

Check if subset() does something in the right direction. What would
the select statement do, precisely? (I don't speak SQL)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hothorn at amadeus.statistik.uni-dortmund.de  Tue Aug  3 15:44:21 1999
From: hothorn at amadeus.statistik.uni-dortmund.de (Torsten Hothorn)
Date: Tue, 3 Aug 1999 15:44:21 +0200 (MET DST)
Subject: [R] R is not for Relational
In-Reply-To: <Pine.LNX.4.05.9908031029450.24357-100000@models.iwqs.pwv.gov.za>
Message-ID: <Pine.GSO.4.05.9908031541180.28563-100000@amadeus.statistik.uni-dortmund.de>



On Tue, 3 Aug 1999, John Carter wrote:

> R is not for Relational, but could be...
> 
> I was musing on data.frames when I decided what I needed was a SQL
> like 'select' statement.
> 
> Before I get involved in writing something like that, has anyone else
> written anything that allows a relational like algebra on data.frames?
> 
> Thanks,
> 

I contributed Rmsql (which is available at CRAN -> packages). It
implements a (very) basic interface between R and the msql database. 


Torsten


> John Carter                    EMail: ece at dwaf-hri.pwv.gov.za
> Telephone : 27-12-808-0374x194 Fax:- 27-12-808-0338
> <http://www.geocities.com/SoHo/Cafe/5947> or <http://iwqs.pwv.gov.za>
> 
> When I grow up, I'm going to be a range of mountains!
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tov at infiniti.ece.cmu.edu  Tue Aug  3 16:04:46 1999
From: tov at infiniti.ece.cmu.edu (Thomas Vogels)
Date: Tue, 03 Aug 1999 10:04:46 -0400
Subject: [R] Performance & capacity characteristics of R? 
In-Reply-To: Your message of "Tue, 03 Aug 1999 09:14:56 EDT."
             <Pine.GSO.4.05.9908030900300.25656-100000@auk.stats> 
Message-ID: <199908031404.KAA28394@infiniti.ece.cmu.edu>


"Brian" == Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

Brian> Can you tell us what statistical procedures need 1 million to 100s of
Brian> millions or rows (observations)?  Some of us have doubted that there are
Brian> even datasets of 100,000 examples that are homogeneous and for which a
Brian> small subsample would not give all the statistical information. (If they
Brian> are not homogeneous, one could/should analyse homogeneous subsets and do a
Brian> meta-analysis.)

What if your problem is to find the outliers in a dataset?  It would
be nice to examine the (homogeneous part of) the dataset and then
search for the data entries "that don't quite fit in" without having
to leave R and going to Perl or other home-grown software.

I'm looking at data from experiments in the semi-conductor industry.
It's not uncommon for us to have e.g. parametric measurements
available for a lot of integrated circuits (even > 100,000) and it
would be nice to read them into R (maybe one set of measurements at a
time?).

Thanks,
  -tom

--
mailto:tov at ece.cmu.edu (Tom Vogels)   Tel: (412) 268-6638   FAX: -3204

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgentlem at jimmy.harvard.edu  Tue Aug  3 17:14:37 1999
From: rgentlem at jimmy.harvard.edu (Robert Gentleman)
Date: Tue, 3 Aug 1999 11:14:37 -0400
Subject: [R] R is not for Relational
In-Reply-To: <x2oggphwqx.fsf@blueberry.kubism.ku.dk>; from Peter Dalgaard BSA on Tue, Aug 03, 1999 at 02:30:46PM +0200
References: <Pine.LNX.4.05.9908031029450.24357-100000@models.iwqs.pwv.gov.za> <x2oggphwqx.fsf@blueberry.kubism.ku.dk>
Message-ID: <19990803111437.A29898@jimmy.harvard.edu>

On Tue, Aug 03, 1999 at 02:30:46PM +0200, Peter Dalgaard BSA wrote:
> John Carter <john at dwaf-hri.pwv.gov.za> writes:
> 
> > R is not for Relational, but could be...
> > 
> > I was musing on data.frames when I decided what I needed was a SQL
> > like 'select' statement.
> > 
> > Before I get involved in writing something like that, has anyone else
> > written anything that allows a relational like algebra on data.frames?
> 
> Check if subset() does something in the right direction. What would
> the select statement do, precisely? (I don't speak SQL)
-- 
  As near as I can tell subset does much of what select does in SQL

  subset(airquality, Temp > 80, select = c(Ozone, Temp))

  translates to something like:
   SELECT Ozone, Temp
	FROM airquality
    WHERE Temp > 80

  But don't get too excited; R fails some of the important criteria
that a relational DB needs to satisfy. In particular I'm thinking of
the non-subversion rule: there should be no way to programmatically
subvert the relational rules that specify a table. In R (and any real
programming language this is impossible to obtain).
 (of course there is the small problem that neither Ross nor I would
be willing to change our names ;-)

+-------------------------------------------------------------------------+
| Robert Gentleman              voice: (617) 632-5045                     |
| Senior Lecturer               fax:   (617) 632-2444
|
| University of Auckland	email1: rgentlem at jimmy.harvard.edu        |
| on leave at:                                                            |
| Dana-Farber Cancer Institute  email2: rgentlem at stat.auckland.ac.nz      |
+-------------------------------------------------------------------------+




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug  3 17:40:45 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 3 Aug 1999 16:40:45 +0100 (BST)
Subject: [R] Performance & capacity characteristics of R? 
In-Reply-To: <199908031404.KAA28394@infiniti.ece.cmu.edu>
Message-ID: <Pine.GSO.4.05.9908031636210.27513-100000@auk.stats>

On Tue, 3 Aug 1999, Thomas Vogels wrote:

> 
> "Brian" == Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:
> 
> Brian> Can you tell us what statistical procedures need 1 million to 100s of
> Brian> millions or rows (observations)?  Some of us have doubted that there are
> Brian> even datasets of 100,000 examples that are homogeneous and for which a
> Brian> small subsample would not give all the statistical information. (If they
> Brian> are not homogeneous, one could/should analyse homogeneous subsets and do a
> Brian> meta-analysis.)
> 
> What if your problem is to find the outliers in a dataset?  It would
> be nice to examine the (homogeneous part of) the dataset and then
> search for the data entries "that don't quite fit in" without having
> to leave R and going to Perl or other home-grown software.

But you can do that in smaller batches: you don't need all the data at
once. A small subset will train a test for typicality, and then
the rest of the cases can be examined say 10,000 at a time.

(The big datasets I have at present are fMRI brain images, and the task is
to find the voxels that do not fit in. There are ca 40,000 voxels, and
a time series of a few hundred points on each. I process the voxels one
slice (ca 4,000) at a time.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From camann at babylon.cnrs.humboldt.edu  Tue Aug  3 00:14:43 1999
From: camann at babylon.cnrs.humboldt.edu (Michael Camann)
Date: Mon, 2 Aug 1999 15:14:43 -0700
Subject: [R] zero replacement
Message-ID: <199908022214.PAA03657@babylon.cnrs.humboldt.edu>

AARRGGHH!  Sometimes it's the simple things that are particularly frustrating, 
especially late at night....

Can anyone suggest a simple means for replacing all of the zero values in a 
matrix with NANs?  I ended up writing an awk script to massage the input file, 
which works, of course, but is rather an inelegant blunt instrument.  I'd 
prefer an R operation.  I'm certain that I'm missing something obvious here....

--Mike

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Michael A. Camann            mac24 at axe.humboldt.edu
Assistant Professor of Zoology        Voice: 707-826-3676
Dept. of Biological Sciences        Fax: 707-826-3201
Humboldt State University
Arcata, CA 95521-8299

    http://www.humboldt.edu/~mac24/camann.html
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgentlem at jimmy.harvard.edu  Tue Aug  3 18:22:53 1999
From: rgentlem at jimmy.harvard.edu (Robert Gentleman)
Date: Tue, 3 Aug 1999 12:22:53 -0400
Subject: [R] zero replacement
In-Reply-To: <199908022214.PAA03657@babylon.cnrs.humboldt.edu>; from Michael Camann on Mon, Aug 02, 1999 at 03:14:43PM -0700
References: <199908022214.PAA03657@babylon.cnrs.humboldt.edu>
Message-ID: <19990803122253.B29898@jimmy.harvard.edu>

On Mon, Aug 02, 1999 at 03:14:43PM -0700, Michael Camann wrote:
> AARRGGHH!  Sometimes it's the simple things that are particularly frustrating, 
> especially late at night....
> 
> Can anyone suggest a simple means for replacing all of the zero values in a 
> matrix with NANs?  I ended up writing an awk script to massage the input file, 
> which works, of course, but is rather an inelegant blunt instrument.  I'd 
> prefer an R operation.  I'm certain that I'm missing something obvious here....
> 
> --Mike
>

  I might be missing something, but why not:

  x[x==0] <- NaN

  A small test example:

> x<-matrix(0,nr=3,nc=3)
> x
     [,1] [,2] [,3]
[1,]    0    0    0
[2,]    0    0    0
[3,]    0    0    0
> x[x==0] <- NaN
> x
     [,1] [,2] [,3]
[1,]  NaN  NaN  NaN
[2,]  NaN  NaN  NaN
[3,]  NaN  NaN  NaN
> is.nan(x)
     [,1] [,2] [,3]
[1,] TRUE TRUE TRUE
[2,] TRUE TRUE TRUE
[3,] TRUE TRUE TRUE

 
-- 
+-------------------------------------------------------------------------+
| Robert Gentleman              voice: (617) 632-5045                     |
| Senior Lecturer               fax:   (617) 632-2444                     |
| University of Auckland	email1: rgentlem at jimmy.harvard.edu        |
| on leave at:                                                            |
| Dana-Farber Cancer Institute  email2: rgentlem at stat.auckland.ac.nz      |
+-------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tediaz at gwis2.circ.gwu.edu  Tue Aug  3 15:25:28 1999
From: tediaz at gwis2.circ.gwu.edu (T.E.Diaz)
Date: Tue, 3 Aug 1999 13:25:28 +0000
Subject: [R] RW 0.64.2 substring() string truncation?
In-Reply-To: <Pine.GSO.4.05.9908030916450.25656-100000@auk.stats>
References: <199908030707.HAA69880@out1.ibm.net>
Message-ID: <199908031726.RAA109886@out4.ibm.net>

Thanks to Prof Ripley and Peter Dalgaard for the "#define MAXELTSIZE 
8192" clarification to my earlier post (attached below).

As to the the need for a string of nchar()>8192, I am using it to 
store the alphanumeric names of FromNodes and ToNodes in a large 
generalized network. The optimization routine is implemented in C 
(actually translated from Fortran 77 using F2C and did some 
modifications) but the network representation is constructed in R.

(1) My first impulse was to use a pair of contiguous 
memories to store the FromNodes and ToNodes, pass their addresses to 
the C function through the .C() call, which then writes the solution 
SolFromNodes and SolToNodes in another pair of contiguous memories 
whose addresses were also passed in the .C() call. These four 
contiguous memories are represented in R as four character "vectors" 
each of length()=1 (node names are of fixed length). Inside the C 
function, I employ pointer arithmetic applied to each single string 
to access subsets of characters (the individual nodes).

(2) As suggested below by Prof Ripley, to overcome the 8192 
limitation, I can also use a vector representation of FromNodes, for 
example, with each element representing a single node. Inside the C 
function, I would then employ "pointer to character pointers" 
arithmetic to access individual nodes. 

Solution (1) is actually closer to the "array of characters"
representation of FromNodes (etc ...) in the original Fortran77 code,
and which, I was guessing, is the more efficient implementation (I 
shall know better after experimenting with (2)) from a process time 
viewpoint. We are dealing here with as large as 10,000 nodes each of 
6 characters long. The optimization routine will be implemented in a 
simulation function and a fraction of a second gain in efficiency in 
a single replicate would be nice. 

T.E.Diaz
George Washington University
Washington, DC

From:          Prof Brian D Ripley <ripley at stats.ox.ac.uk>
>
> On Tue, 3 Aug 1999, T.E.Diaz wrote:
> 
> > Can somebody tell me what exactly is going on below. Basically, I am 
> > running into some kind of "string truncation" problem when I try 
> > to get a substring starting past the 8192nd character (see sample 
> > session below). There doesn't appear to be any problem creating the 
> > string, and nchar() reports the correct size as constructed.
> 
> substr/substring has a buffer size limit of 8192. Indeed, the include file
> says
> 
> Defn.h:#define MAXELTSIZE 8192 /* The largest string size */
> 
> One day this limit may be removed, but for now at least we could document
> it.  I am not at all clear why one would want to use a single string longer
> than 8192 chars: is it possible in your applications to use a vector of
> shorter strings instead?

From:          Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>
> Possibly - ;) - related to this:
> 
> src/include/Defn.h:#define MAXELTSIZE 8192 /* The largest string
> size */
> 
> There are a couple of fixed-size arrays in the code. We'll want to
> eradicate them at some point but it's pretty painful to do. Do you
> have a serious application for text strings of more than 8k length?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Tue Aug  3 20:38:57 1999
From: chong at stat.purdue.edu (Chong Gu)
Date: Tue, 3 Aug 1999 13:38:57 -0500
Subject: [R] zero replacement
In-Reply-To: <199908022214.PAA03657@babylon.cnrs.humboldt.edu> (message from
	Michael Camann on Mon, 2 Aug 1999 15:14:43 -0700)
Message-ID: <199908031838.NAA17626@mean.stat.purdue.edu>


   X-Authentication-Warning: stat.math.ethz.ch: majordom set sender to owner-r-help at stat.math.ethz.ch using -f
   Date: Mon, 2 Aug 1999 15:14:43 -0700
   From: Michael Camann <camann at babylon.cnrs.humboldt.edu>
   X-Status: N
   X-Mailer: Applixware 4.3 (807.141.90)
   Sender: owner-r-help at stat.math.ethz.ch
   Precedence: bulk

   AARRGGHH!  Sometimes it's the simple things that are particularly frustrating, 
   especially late at night....

   Can anyone suggest a simple means for replacing all of the zero values in a 
   matrix with NANs?  I ended up writing an awk script to massage the input file, 
   which works, of course, but is rather an inelegant blunt instrument.  I'd 
   prefer an R operation.  I'm certain that I'm missing something obvious here....

   --Mike

   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
   Michael A. Camann            mac24 at axe.humboldt.edu
   Assistant Professor of Zoology        Voice: 707-826-3676
   Dept. of Biological Sciences        Fax: 707-826-3201
   Humboldt State University
   Arcata, CA 95521-8299

       http://www.humboldt.edu/~mac24/camann.html
   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

   -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   Send "info", "help", or "[un]subscribe"
   (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


z[z==0]<-NA
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug  3 21:11:05 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 3 Aug 1999 20:11:05 +0100 (BST)
Subject: [R] RW 0.64.2 substring() string truncation?
In-Reply-To: <199908031726.RAA109886@out4.ibm.net>
Message-ID: <Pine.GSO.4.05.9908032003090.16208-100000@auk.stats>

On Tue, 3 Aug 1999, T.E.Diaz wrote:

> Thanks to Prof Ripley and Peter Dalgaard for the "#define MAXELTSIZE 
> 8192" clarification to my earlier post (attached below).
> 
> As to the the need for a string of nchar()>8192, I am using it to 
> store the alphanumeric names of FromNodes and ToNodes in a large 
> generalized network. The optimization routine is implemented in C 
> (actually translated from Fortran 77 using F2C and did some 
> modifications) but the network representation is constructed in R.

Many of these limits will be removed in R 0.65.0. If you have access to
it, you might like to try compiling up a snapshot (tomorrow's or later)
and seeing if the limitations that bite you have gone. In particular
the limitations on substr/substring and deparse, dput, dump and printing
of strings should have become ones of available memory. The price to
pay if you do use very large strings is time is allocating scratch space,
and that some of the scratch space is kept in case it is needed again.

There are still some limits left: in particular I think there are problems
with parsing very long strings.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From seniorr at teleport.com  Tue Aug  3 22:10:50 1999
From: seniorr at teleport.com (Russell Senior)
Date: 03 Aug 1999 13:10:50 -0700
Subject: [R] R is not for Relational
In-Reply-To: Peter Dalgaard BSA's message of "03 Aug 1999 14:30:46 +0200"
References: <Pine.LNX.4.05.9908031029450.24357-100000@models.iwqs.pwv.gov.za> <x2oggphwqx.fsf@blueberry.kubism.ku.dk>
Message-ID: <867lnc1v79.fsf@coulee.tdb.com>

>>>>> "Peter" == Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

John> R is not for Relational, but could be...

John> I was musing on data.frames when I decided what I needed was a
John> SQL like 'select' statement.

John> Before I get involved in writing something like that, has anyone
John> else written anything that allows a relational like algebra on
John> data.frames?

Peter> Check if subset() does something in the right direction. What
Peter> would the select statement do, precisely? (I don't speak SQL)

One useful thing that subset() doesn't appear to do is joins.  That is
frequently what select statements are used for in SQL.  There are
three S-plus functions (at least, as documented in MASS 2ed) called
merge, by and aggregate.  The merge() function joins data frames, but
is not implemented in R that I am aware of, at least as of 0.64.0.

-- 
Russell Senior         ``The two chiefs turned to each other.        
seniorr at teleport.com     Bellison uncorked a flood of horrible       
                         profanity, which, translated meant, `This is
                         extremely unusual.' ''                      
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Aug  3 22:44:17 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Aug 1999 22:44:17 +0200
Subject: [R] R is not for Relational
In-Reply-To: Russell Senior's message of "03 Aug 1999 13:10:50 -0700"
References: <Pine.LNX.4.05.9908031029450.24357-100000@models.iwqs.pwv.gov.za> <x2oggphwqx.fsf@blueberry.kubism.ku.dk> <867lnc1v79.fsf@coulee.tdb.com>
Message-ID: <x27lncppb2.fsf@blueberry.kubism.ku.dk>

Russell Senior <seniorr at teleport.com> writes:

> Peter> Check if subset() does something in the right direction. What
> Peter> would the select statement do, precisely? (I don't speak SQL)
> 
> One useful thing that subset() doesn't appear to do is joins.  That is
> frequently what select statements are used for in SQL.  There are
> three S-plus functions (at least, as documented in MASS 2ed) called
> merge, by and aggregate.  The merge() function joins data frames, but
> is not implemented in R that I am aware of, at least as of 0.64.0.

Hmm. What does the SQL syntax (and semantics) look like for that kind
of operation? Would it make sense to try and turn the existing
subset() into a select() function which could do joins as well?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgentlem at jimmy.harvard.edu  Tue Aug  3 23:03:34 1999
From: rgentlem at jimmy.harvard.edu (Robert Gentleman)
Date: Tue, 3 Aug 1999 17:03:34 -0400
Subject: [R] R is not for Relational
In-Reply-To: <x27lncppb2.fsf@blueberry.kubism.ku.dk>; from Peter Dalgaard BSA on Tue, Aug 03, 1999 at 10:44:17PM +0200
References: <Pine.LNX.4.05.9908031029450.24357-100000@models.iwqs.pwv.gov.za> <x2oggphwqx.fsf@blueberry.kubism.ku.dk> <867lnc1v79.fsf@coulee.tdb.com> <x27lncppb2.fsf@blueberry.kubism.ku.dk>
Message-ID: <19990803170334.C1445@jimmy.harvard.edu>

On Tue, Aug 03, 1999 at 10:44:17PM +0200, Peter Dalgaard BSA wrote:
> Russell Senior <seniorr at teleport.com> writes:
> 
> > Peter> Check if subset() does something in the right direction. What
> > Peter> would the select statement do, precisely? (I don't speak SQL)
> > 
> > One useful thing that subset() doesn't appear to do is joins.  That is
> > frequently what select statements are used for in SQL.  There are
> > three S-plus functions (at least, as documented in MASS 2ed) called
> > merge, by and aggregate.  The merge() function joins data frames, but
> > is not implemented in R that I am aware of, at least as of 0.64.0.
> 
> Hmm. What does the SQL syntax (and semantics) look like for that kind
> of operation? Would it make sense to try and turn the existing
> subset() into a select() function which could do joins as well?
> 
Join in SQL parlance is a way to join two (or more tables).
A very simple example is:

	SELECT XX, XY, YX, YY
	 FROM TABX, TABY
	WHERE XG = YG

  If we imagine that TABX has the X variables and TABY has the Y ones
then the result should be a table with 4 columns, XX and XY from TABX,
 YX and YY from TABY. It will have one row for each XG that matches
an element in YG.
  I think that Splus's merge does something a bit different but I
can't be sure without trying it out.
  This is of course a very simple example; (they seem to call it an
equi-join in some circles) and things can get a lot more complicated.

+-------------------------------------------------------------------------+
| Robert Gentleman              voice: (617) 632-5045                     |
| Senior Lecturer               fax:   (617) 632-2444                     |
| University of Auckland	email1: rgentlem at jimmy.harvard.edu        |
| on leave at:                                                            |
| Dana-Farber Cancer Institute  email2: rgentlem at stat.auckland.ac.nz      |
+-------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From root at mail.telepac.pt  Wed Aug  4 00:09:21 1999
From: root at mail.telepac.pt (Jorge Magalhaes)
Date: Tue, 3 Aug 1999 23:09:21 +0100 (WET)
Subject: [R] legend in coplot output
Message-ID: <Pine.LNX.4.05.9908032306150.3295-100000@predict.telepac.pt>


Dear friends:

It's possible make a legend in the coplot output?

My data are:

"dados"<-structure (list (
Qu1 = c(1,2,3,4,5,6,7,8,3,2),
Qu2 = c(3,4,5,6,7,8,9,9,6,3),
Ku1 = structure (factor ( c(1,1,1,1,2,1,2,2,1,1),levels=1:2),.Label=c("Kmin","Kmax")),
Ph1 = structure (factor ( c(1,1,3,2,3,3,2,3,2,1),levels=1:3),.Label=c("Pmin","Pmean","Pmax")),
Th1 = structure( factor( c(1,1,2,4,3,3,2,4,2,1),levels=1:4),.Label=c("Tmin_in","Tmax_in","Tmin_out","Tmax_out"))),
row.names = c("At1","At2","At3","At4","At5","At6","At7","At8","At9","At10"), class="data.frame")

i tried to do:

>cores<-structure(factor( c(1,1,2,4,3,3,2,4,2,1),levels=1:4),.Label=c("red","green4","blue","yellow"))#red=Tmin_in, green4=Tmax_in, blue=Tmin_out and yellow=Tmax_out

> coplot(Qu1 ~ Qu2 | Ku1*Ph1, data = dados, pch = 3, col = cores)

but i need the legend!!!

Have a nice day

Best regards

Jorge


******************************
Jorge M. A. Magalhaes
Quinta do Calv?rio
bloco 14, 2? Direito tr?s
5400 Chaves

tel: +351 76 333008
e-mail: jmagalhaes at eng.uminho.pt

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Wed Aug  4 00:36:08 1999
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Wed, 4 Aug 1999 10:36:08 +1200
Subject: [R] legend in coplot output
In-Reply-To: <Pine.LNX.4.05.9908032306150.3295-100000@predict.telepac.pt>; from Jorge Magalhaes on Tue, Aug 03, 1999 at 11:09:21PM +0100
References: <Pine.LNX.4.05.9908032306150.3295-100000@predict.telepac.pt>
Message-ID: <19990804103608.A16801@stat1.stat.auckland.ac.nz>

Where would you like to put your legend?

(There also seems to be a small clipping problem which has crept in
here.  The tick marks along the left and bottom of the plot are being
lost.  I'll look for a fix for that too).

-- 
+----------------------------------------------------------------------+
| Ross Ihaka                         Email:  ihaka at stat.auckland.ac.nz |
| Department of Statistics           Phone:  (64-9) 373-7599 x 5054    |
| University of Auckland             Fax:    (64-9) 373-7018           |
| Private Bag 92019                                                    |
| Auckland, New Zealand                                                |
+----------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mgass at bach.math.csbsju.edu  Wed Aug  4 00:35:33 1999
From: mgass at bach.math.csbsju.edu (Michael Gass)
Date: Tue, 3 Aug 1999 17:35:33 -0500 (CDT)
Subject: [R] compliation problem
Message-ID: <199908032235.RAA30431@bach.math.csbsju.edu>


Problem compiling R.

version:  0.64.2
machine:  SGI  O2
OS:       IRIX6.5
CC	  cc       
FC	  f77
MAKE	  GNU make 3.75

Here is part of the the output for make.

make[2]: Leaving directory `/usr/people/faculty/math/mgass/stage/R/R-0.64.2/src/include'
make[2]: Entering directory `/usr/people/faculty/math/mgass/stage/R/R-0.64.2/src/appl'
cc -g -OPT:IEEE_NaN_inf=ON -I../include -I../../src/include  -c S_compat.c -o S_compat.o
cc-1143 cc: ERROR File = ../include/Mathlib.h, Line = 329
  Declaration is incompatible with "long double gammal(long double)" (declared
          at line 819 of "/usr/include/math.h").

  double	qgamma(double, double, double);
        	^

1 error detected in the compilation of "S_compat.c".
make[2]: *** [S_compat.o] Error 2
make[2]: Leaving directory `/usr/people/faculty/math/mgass/stage/R/R-0.64.2/src/appl'
make[1]: *** [R] Error 1
make[1]: Leaving directory `/usr/people/faculty/math/mgass/stage/R/R-0.64.2/src'
make: *** [R] Error 1

Any ideas/suggestions?

-- 
Michael Gass				Department of Mathematics
phone: 320 363-3090                     St. John's University
email: mgass at csbsju.edu                 Collegeville, MN  56321-3000




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kmself at ix.netcom.com  Wed Aug  4 01:40:41 1999
From: kmself at ix.netcom.com (Karsten M. Self)
Date: Tue, 03 Aug 1999 16:40:41 -0700
Subject: [R] Performance & capacity characteristics of R?
References: <NABBLIOAJNIMENKGLDDGOEIHCNAA.twestley@buffalo.veridian.com>
Message-ID: <37A77DF9.B3A5F13B@ix.netcom.com>

I'm in the midst of my own response to Prof Ripley's post.  This item is
of some interest however.

Terry J. Westley wrote:
> 
> > On Tuesday, August 03, 1999 4:15 AM, Prof Brian D Ripley wrote:
> > Can you tell us what statistical procedures need 1 million to 100s of

> I won't speak for Karsten, but will describe my own use of R for
> (potentially) large datasets, just to give you an idea of what at
> least one large dataset user is attempting to do...
> 
> The application is a simulation of radar detection and tracking of
> aircraft.  The data collected is radar detections and tracks.  There
> are potentially (though not typically) 200 radars by 200 aircraft in
> the simulation.  In this extreme case, I expect to collect approx.
> 2GB of data in a 4-hour simulation run.  Fortunately, this is not
> typical; I'm trying to get a better handle on what's typical.

Is there anything about the problem or analysis which precludes
partitioning this dataset by radar and/or aircraft, or sets thereof?  

The general case in my experience is that although aggregate data may be
very large, the sets used in actual analysis are either subset or
summarized to much smaller volumes.

> --
> Terry J. Westley, Principal Engineer
> Veridian Engineering, Calspan Operations
> P.O. Box 400, Buffalo, NY 14225
> twestley at buffalo.veridian.com    http://www.veridian.com

-- 
Karsten M. Self (kmself at ix.netcom.com)
    What part of "Gestalt" don't you understand?

SAS for Linux: http://www.netcom.com/~kmself/SAS/SAS4Linux.html
Mailing List:  body "subscribe sas-linux"
mailto:majordomo at Cranfield.ac.uk
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Wed Aug  4 07:52:48 1999
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 4 Aug 1999 07:52:48 +0200 (CEST)
Subject: [R] compliation problem
In-Reply-To: <199908032235.RAA30431@bach.math.csbsju.edu>
References: <199908032235.RAA30431@bach.math.csbsju.edu>
Message-ID: <14247.54576.376724.667048@fangorn.ci.tuwien.ac.at>

>>>>> Michael Gass writes:

> Problem compiling R.

> version:  0.64.2
> machine:  SGI  O2
> OS:       IRIX6.5
> CC	  cc       
> FC	  f77
> MAKE	  GNU make 3.75

> Here is part of the the output for make.

> make[2]: Leaving directory `/usr/people/faculty/math/mgass/stage/R/R-0.64.2/src/include'
> make[2]: Entering directory `/usr/people/faculty/math/mgass/stage/R/R-0.64.2/src/appl'
> cc -g -OPT:IEEE_NaN_inf=ON -I../include -I../../src/include  -c S_compat.c -o S_compat.o
> cc-1143 cc: ERROR File = ../include/Mathlib.h, Line = 329
>   Declaration is incompatible with "long double gammal(long double)" (declared
>           at line 819 of "/usr/include/math.h").

>   double	qgamma(double, double, double);
>         	^

> 1 error detected in the compilation of "S_compat.c".
> make[2]: *** [S_compat.o] Error 2
> make[2]: Leaving directory `/usr/people/faculty/math/mgass/stage/R/R-0.64.2/src/appl'
> make[1]: *** [R] Error 1
> make[1]: Leaving directory `/usr/people/faculty/math/mgass/stage/R/R-0.64.2/src'
> make: *** [R] Error 1

> Any ideas/suggestions?

Can you please try the current development snapshot instead?

(Or, in src/include/Mathlib.h, try adding

#ifdef qgamma
# undef qgamma
#endif

in the `Undo SGI Madness' section.)

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Wed Aug  4 08:20:46 1999
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 4 Aug 1999 08:20:46 +0200 (CEST)
Subject: [R] HTML Output from R
In-Reply-To: <NABBLIOAJNIMENKGLDDGOEIDCNAA.twestley@buffalo.veridian.com>
References: <OF8F1FF647.7341B987-ON852567C1.004131A1@hgsi.com>
	<NABBLIOAJNIMENKGLDDGOEIDCNAA.twestley@buffalo.veridian.com>
Message-ID: <14247.56254.438060.70633@fangorn.ci.tuwien.ac.at>

>>>>> Terry J Westley writes:

> I recommend that you model your HTML write function after
> write.table().  It's got many of the features you'd like
> to have and also will give you some good hints on how
> to handle row and column names and avoid that "forbidden"
> for loop.

Yes, this is a very good suggestion.  Eventually, one could have
something like write.table(..., format = "HTML") (or LaTeX).

-k

> --
> Terry J. Westley, Principal Engineer
> Veridian Engineering, Calspan Operations
> P.O. Box 400, Buffalo, NY 14225
> twestley at buffalo.veridian.com    http://www.veridian.com

>> -----Original Message-----
>> From: owner-r-help at stat.math.ethz.ch
>> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of
>> partha_bagchi at hgsi.com
>> Sent: Monday, August 02, 1999 8:11 AM
>> To: r-help at stat.math.ethz.ch
>> Subject: [R] HTML Output from R
>> 
>> 
>> Task: To generate HTML output from R
>> Details: I am trying to serve up HTML output from R. That is analyses or
>> table of data from R saved as HTML output with formatted tables etc. This
>> file is then called in a CGI script to output to user browser. The CGI
>> script inspired by Mark J. Ray reads the HTML output, formats the header
>> and footer and any graphic output if necessary.
>> My question is: Has anyone done any HTML output from R?
>> 
>> My first attempt at this is the following:
>> (Note: this function is not intended for "production" work; in particular
>> no error checking - all the niceties I intend to add in the end)
>> 
>> mat2html <- function(x, y, capt="The Default Title", file= file){
>> #x: The matrix to be written in HTML
>> #y: A vector  of length m containing the colnames of x
>> #capt: The title for the table
>> #file: The HTML file to write to
>> n <- dim(x)[1] #no. of rows
>> m <- dim(x)[2] #no. of columns
>> sink(paste(file))
>> cat("<table border= 1, align= \"center\">\n")
>> cat(paste("<caption>", capt, "</caption>\n"))
>> cat("<tr>")
>> for(i in 1:m)cat(paste("<th>", y[i]))
>> cat("</tr>\n")
>> for(i in 1:n){
>> cat("<tr>\n")
>> for(j in 1:m){
>> cat(paste("<td>", x[i,j]))
>> }
>> cat("</tr>\n")
>> }
>> cat("</table>\n")
>> sink()
>> }
>> #---------------------------------------------------------------------------------------
>> 
>> Note that I am using the "forbidden" for loop. I am unable to see a
>> solution otherwise.
>> Comments and improvements obviously welcome.
>> TIA.
>> Partha.
>> PS: I will summarize all the replies I get.
>> 
>> 
>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>> Send "info", "help", or "[un]subscribe"
>> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kmself at ix.netcom.com  Wed Aug  4 08:21:39 1999
From: kmself at ix.netcom.com (Karsten M. Self)
Date: Wed, 04 Aug 1999 06:21:39 +0000
Subject: [R] Performance & capacity characteristics of R?
References: <Pine.GSO.4.05.9908030900300.25656-100000@auk.stats>
Message-ID: <37A7DBF3.B0B74EF3@ix.netcom.com>

Prof Brian D Ripley wrote:
> 
> On Tue, 3 Aug 1999, Karsten M. Self wrote:

> > I'm exploring R's capabilities and limitations.  I'd be very interested
> > in having a deeper understanding of it capacity and performance
> > limitations in dealing with very large datasets, which I would classify
> > as tables with 1 million to 100s of millions of rows and two - 100+
> > fields (variables) generally of 8 bytes -- call it a 16 - 800 byte
> > record length.
> 
> Can you tell us what statistical procedures need 1 million to 100s of
> millions or rows (observations)?  Some of us have doubted that there are
> even datasets of 100,000 examples that are homogeneous and for which a
> small subsample would not give all the statistical information. (If they
> are not homogeneous, one could/should analyse homogeneous subsets and do a
> meta-analysis.)

Thank you for your response.

Fair question, and honestly I'm a bit pressed to answer it.  Most of my
own programming is data management, categorizing, and buisiness
reporting type work, much of which is better suited to SQL or a
procedural data language such as Perl, the SAS data step, or
DBMS/Program (a new product from Conceptual Software, maker of
DBMS/Copy).  Typically the intent when working with such large datasets
is to either summarize, subset, or both, the data to some set which can
be meaninfully worked with.  I'd generally agree with your assessment
that I rarely see complex statistical analysis performed on more than
10,000 to 100,000 observations, and very frequently much less.

Where statistics are computed for very large datasets, they are
typically:

 - Descriptive univariate statistics (min, max, mean, median, mode,
percentiles, skew, kurtosis, etc.).  Simple descriptive statistics can
often be computed in an SQL package, or by tools which only read one or
a few lines of data at a time (e.g.:  SAS data step, AWK).

 - GLM regressions.  In one case involving engineering data, the
underlying dataset was 200 Hz data collected over 2-12 hour perionds, or
up to 8,640,000 observations.  Typically regressions in this instance
were performed on a 30 - 600 second timeslice of data.  I'm not
generally familiar with time series analysis, but I could imagine
similar cases involving engineering data with similar data volumes.  

 - Neural nets.  A credit-card risk modeling application I am familiar
with used multiple months of transactions data from 100m accounts in
"training" the parameters for a neural net model.  AFAIK, this was a
special-purpose application.  It was not written in SAS, though portions
of supporting analysis were.

 - Data mining.  Largely a subset of the first item, univariate
statistics.  A data cube is usually a dataset with precomputed summary
statistics at several levels of aggregation.  Again, R is probably
neither necessary, appropriate, nor particularly well suited to this
sort of application.



My interest at present is more one of identifying the limits of what R
can an cannot do rather than lobbying for very large dataset support.  I
also suspect that sampling and/or subsetting methods are more
appropriate for most of the statistical operations performed on very
large datasets.  Again, most processing on such data is the subsetting,
reduction, or summarization required to get a reasonably sized dataset
on which to run "real" analysis.


> Your datasets appear to be (taking a mid-range value) around 1Gbyte
> in size.

Anywhere from several MB to 40 GB, in my experience.  Finance,
commercial transaction systems, engineering data, seismic studies, and
genomics are areas in which such large datasets are likely to occur. 
Aggregate data sizes in the terrabyte range are becoming common, though
working set sizes are usually a subset.  I'm not fully familiar with the
types of analysis which are performed in all these areas.  ROOT
(http://root.cern.ch/) was designed in part to handle such very large
datasets for advanced physics analysis, though I'm not very familiar
with this tool.
 
> > Can R handle such large datasets (tables)?  What are the general
> 
> R has a workspace size limit of 2048Mb, and on 32-bit machines this cannot
> be raised more than a tiny amount. I have only run R on a machine with
> 512Mb of RAM, and on that using objects of more than 100Mb or so slowed it
> down very considerably.

Is the 2048 MB limit an artifact of 32 bit address space?  Is R 64-bit
capable on 64 bit architecture (SPARC, Alpha, etc.)?
 

-- 
Karsten M. Self (kmself at ix.netcom.com)
    What part of "Gestalt" don't you understand?

SAS for Linux: http://www.netcom.com/~kmself/SAS/SAS4Linux.html
Mailing list:  "subscribe sas-linux" to
mailto:majordomo at cranfield.ac.uk    
  8:38am  up 70 days,  9:44,  1 user,  load average: 0.44, 0.24, 0.07
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john at dwaf-hri.pwv.gov.za  Wed Aug  4 08:28:58 1999
From: john at dwaf-hri.pwv.gov.za (John Carter)
Date: Wed, 4 Aug 1999 06:28:58 +0000 (GMT)
Subject: [R] R is not for Relational
In-Reply-To: <19990803170334.C1445@jimmy.harvard.edu>
Message-ID: <Pine.LNX.4.05.9908040549500.27780-100000@models.iwqs.pwv.gov.za>

The full syntax of the SQL select statement (courtesy of postgres SQL
documentation) is this monster....

SELECT [ALL|DISTINCT]
    expression [AS name] [, ...]
    [INTO [TABLE] intable]
    [FROM table [alias] [, ...] ]
    [WHERE condition]
    [GROUP BY column [, ...] ]
    [HAVING condition [, ...] ]
    [UNION [ALL] select]
    [ORDER BY column [ASC | DESC] [, ...] ]

Which is an omnibus does all and everything horrible monster.

I could use the mSql package, but that would defeat my attempt to hand
over this current project to Windows only users.

Thanks to Peter, I see that "subset()" does indeed correspond to a
relational row and column project operator. 

The piece that is still missing is a join. (I wrote a nice
implementation of equijoin in perl, it uses hashes and is a lot faster
than postgres-sql. (Does R have perl-like hashes lurking somewhere?))

Join shouldn't be too difficult to write, but if S's "merge" is really a
join by a different name, perhaps it would be best to copy its syntax.

Join's are trivial, extended cartesian product followed by a
"subset()". Unfortunately efficient join's are hairy, using simplistic
algorithm you start with an nxm table and a pxq table and have an
often unmanageably huge (n*p)x(m+q) intermediate table.

Does anyone have the "help" file for "merge()" anywhere?

John Carter                    EMail: ece at dwaf-hri.pwv.gov.za
Telephone : 27-12-808-0374x194 Fax:- 27-12-808-0338
 or 

When I grow up, I'm going to be a range of mountains!


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug  4 08:44:53 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 4 Aug 1999 07:44:53 +0100 (BST)
Subject: [R] R is not for Relational
In-Reply-To: <19990803170334.C1445@jimmy.harvard.edu>
Message-ID: <Pine.GSO.4.05.9908040743340.4161-100000@auk.stats>

On Tue, 3 Aug 1999, Robert Gentleman wrote:

> On Tue, Aug 03, 1999 at 10:44:17PM +0200, Peter Dalgaard BSA wrote:
> > Russell Senior <seniorr at teleport.com> writes:
> > 
> > > Peter> Check if subset() does something in the right direction. What
> > > Peter> would the select statement do, precisely? (I don't speak SQL)
> > > 
> > > One useful thing that subset() doesn't appear to do is joins.  That is
> > > frequently what select statements are used for in SQL.  There are
> > > three S-plus functions (at least, as documented in MASS 2ed) called
> > > merge, by and aggregate.  The merge() function joins data frames, but
> > > is not implemented in R that I am aware of, at least as of 0.64.0.
> > 
> > Hmm. What does the SQL syntax (and semantics) look like for that kind
> > of operation? Would it make sense to try and turn the existing
> > subset() into a select() function which could do joins as well?
> > 
> Join in SQL parlance is a way to join two (or more tables).
> A very simple example is:
> 
> 	SELECT XX, XY, YX, YY
> 	 FROM TABX, TABY
> 	WHERE XG = YG
> 
>   If we imagine that TABX has the X variables and TABY has the Y ones
> then the result should be a table with 4 columns, XX and XY from TABX,
>  YX and YY from TABY. It will have one row for each XG that matches
> an element in YG.

>   I think that Splus's merge does something a bit different but I
> can't be sure without trying it out.

It is almost exactly that: it will have a column giving the names of the
XGs that matched.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug  4 08:58:38 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 4 Aug 1999 07:58:38 +0100 (BST)
Subject: [R] Performance & capacity characteristics of R?
In-Reply-To: <37A7DBF3.B0B74EF3@ix.netcom.com>
Message-ID: <Pine.GSO.4.05.9908040750270.4161-100000@auk.stats>

On Wed, 4 Aug 1999, Karsten M. Self wrote:

> Prof Brian D Ripley wrote:
> > 
> > R has a workspace size limit of 2048Mb, and on 32-bit machines this cannot
> > be raised more than a tiny amount. I have only run R on a machine with
> > 512Mb of RAM, and on that using objects of more than 100Mb or so slowed it
> > down very considerably.
> 
> Is the 2048 MB limit an artifact of 32 bit address space?  Is R 64-bit
> capable on 64 bit architecture (SPARC, Alpha, etc.)?

(For SPARC you would need to use a 64-bit capable compiler and libraries
too.)  The limit is an artefact of the assumption that ints are
32 bit. There seem to be quite a few ints around for memory sizes. In
principle one could rewrite this to use longs, but at present R runs
into problems well before the workspace limits are hit, and I am
suggesting that for the sort of things R is most useful for a workspace of
100Mb or so suffices.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gautier at lion-ag.de  Wed Aug  4 09:20:48 1999
From: gautier at lion-ag.de (Laurent Gautier)
Date: Wed, 04 Aug 1999 09:20:48 +0200
Subject: [R] compliation problem
References: <199908032235.RAA30431@bach.math.csbsju.edu>
Message-ID: <37A7E9D0.E00705F8@lion-ag.de>

Michael Gass wrote:

> Problem compiling R.
>
> version:  0.64.2
> machine:  SGI  O2
> OS:       IRIX6.5
> CC        cc
> FC        f77
> MAKE      GNU make 3.75
>
> Here is part of the the output for make.
>
> make[2]: Leaving directory `/usr/people/faculty/math/mgass/stage/R/R-0.64.2/src/include'
> make[2]: Entering directory `/usr/people/faculty/math/mgass/stage/R/R-0.64.2/src/appl'
> cc -g -OPT:IEEE_NaN_inf=ON -I../include -I../../src/include  -c S_compat.c -o S_compat.o
> cc-1143 cc: ERROR File = ../include/Mathlib.h, Line = 329
>   Declaration is incompatible with "long double gammal(long double)" (declared
>           at line 819 of "/usr/include/math.h").
>
>   double        qgamma(double, double, double);
>                 ^

I had exactly the same problem few days ago.
Mr. Kurt Hornik helped me in advicing me to modify the file src/include/Mathlib.h  :

>> > and the compiler cannot decide who is right....?
>>
>> Yep.  Can you please try the following:  in Mathlib.h, e.g. right after
>> the /* Undo SGI Madness */ part, add
>>
>> #ifdef qgamma
>> #undef qgamma
>> #endif



... but now I get an ugliest error message (see enclosed).



??? Tell me the truth doctor, I promise to be strong....






Laurent



-------------- next part --------------
`Makedeps' is up to date.
`libappl.a' is up to date.
`Makedeps' is up to date.
`libmath.a' is up to date.
`Makedeps' is up to date.
`libunix.a' is up to date.
`Makedeps' is up to date.
	gcc   -o ../../bin/R.X11 arithmetic.o  array.o  attrib.o  bind.o  builtin.o  character.o  coerce.o  colors.o  complex.o  context.o  cov.o  cum.o  debug.o  devPS.o  devPicTeX.o  deparse.o  deriv.o  devices.o  dotcode.o  dstruct.o  duplicate.o  envir.o  errors.o  eval.o  format.o  fourier.o  gram.o  gram-ex.o  graphics.o  iosupport.o  list.o  logic.o  main.o  match.o  memory.o  model.o  names.o  objects.o  optimize.o  options.o  par.o  paste.o  platform.o  plot.o  plot3d.o  plotmath.o  print.o  printarray.o  printvector.o  printutils.o  random.o  relop.o  saveload.o  scan.o  seq.o  sort.o  source.o  split.o  subassign.o  subscript.o  subset.o  summary.o  unique.o  util.o  version.o ../unix/libunix.a ../appl/libappl.a ../nmath/libmath.a -lSM -lICE -lX11  -L/software/pub_gen/lib32/gcc-lib/mips-sgi-irix6.4/egcs-2.91.60 -L/software/pub_gen/mips-sgi-irix6.4/lib -L/usr/bin -L/software/pub_gen/lib32 -lg2c -lm -L/usr/lib32/mips3 -L/usr/lib32  -lz -ldl -ltermcap -lm 
ld32: WARNING 126: The archive ../unix/libunix.a defines no global symbols. Ignoring.
ld32: WARNING 126: The archive ../appl/libappl.a defines no global symbols. Ignoring.
ld32: WARNING 84: ../nmath/libmath.a is not used for resolving any symbol.
ld32: WARNING 84: /usr/lib32/libSM.so is not used for resolving any symbol.
ld32: WARNING 84: /usr/lib32/libz.so is not used for resolving any symbol.
ld32: WARNING 84: /usr/lib32/libdl.so is not used for resolving any symbol.
ld32: WARNING 84: /usr/lib32/libtermcap.so is not used for resolving any symbol.
ld32: WARNING 85: definition of errno in main.o preempts that definition in /usr/lib32/mips3/libc.so.
ld32: ERROR 33: Unresolved text symbol "R_Suicide" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "machar" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "sign" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "lgammafn" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "gammafn" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "digamma" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "trigamma" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "tetragamma" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "pentagamma" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "gamma_cody" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "lbeta" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "beta" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "lchoose" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "choose" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "dchisq" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "pchisq" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "qchisq" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "dexp" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "pexp" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "dgeom" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "pgeom" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "qgeom" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "dpois" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "ppois" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "qpois" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "dt" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "pt" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "qt" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "dsignrank" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "psignrank" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "qsignrank" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "bessel_j" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "bessel_y" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "fround" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "fprec" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "dbeta" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "pbeta" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "qbeta" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "dbinom" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "pbinom" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "qbinom" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "dcauchy" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "pcauchy" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "qcauchy" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "df" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "pf" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "qf" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "dgamma" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "pgamma" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "dlnorm" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "plnorm" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "qlnorm" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "dlogis" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "plogis" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "qlogis" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "dnbinom" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "pnbinom" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "qnbinom" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "dnorm" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "pnorm" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "qnorm" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "dunif" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "punif" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "qunif" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "dweibull" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "pweibull" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "qweibull" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "dnchisq" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "pnchisq" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "pnt" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "dwilcox" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "pwilcox" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "qwilcox" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "bessel_i" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "bessel_k" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "dhyper" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "phyper" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "qhyper" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "dnbeta" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "pnbeta" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "pnf" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "ptukey" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "qtukey" -- 1st referenced by arithmetic.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "imax2" -- 1st referenced by bind.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "R_ExpandFileName" -- 1st referenced by builtin.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "R_fopen" -- 1st referenced by builtin.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "fsign" -- 1st referenced by complex.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "cpoly_" -- 1st referenced by complex.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "X11DeviceDriver" -- 1st referenced by devices.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "GnomeDeviceDriver" -- 1st referenced by devices.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "R_FindSymbol" -- 1st referenced by dotcode.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "R_ResetConsole" -- 1st referenced by errors.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "R_FlushConsole" -- 1st referenced by errors.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "R_ClearerrConsole" -- 1st referenced by errors.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "fft_factor" -- 1st referenced by fourier.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "fft_work" -- 1st referenced by fourier.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "R_ReadConsole" -- 1st referenced by gram.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "pretty0" -- 1st referenced by graphics.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "R_Busy" -- 1st referenced by main.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "InitFunctionHashing" -- 1st referenced by main.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "InitEd" -- 1st referenced by main.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "R_OpenLibraryFile" -- 1st referenced by main.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "R_InitialData" -- 1st referenced by main.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "R_OpenSysInitFile" -- 1st referenced by main.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "R_OpenSiteFile" -- 1st referenced by main.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "R_OpenInitFile" -- 1st referenced by main.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "R_CleanUp" -- 1st referenced by main.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "fmin_" -- 1st referenced by optimize.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "zeroin" -- 1st referenced by optimize.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "optif9_" -- 1st referenced by optimize.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "fdhess_" -- 1st referenced by optimize.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "R_ShowFiles" -- 1st referenced by platform.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "R_HiddenFile" -- 1st referenced by platform.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "R_HomeDir" -- 1st referenced by platform.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "R_FileExists" -- 1st referenced by platform.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "R_ChooseFile" -- 1st referenced by platform.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "R_WriteConsole" -- 1st referenced by printutils.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "RNG_kind" -- 1st referenced by random.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "Randomize" -- 1st referenced by random.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "RNG_Table" -- 1st referenced by random.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "FixupSeeds" -- 1st referenced by random.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "unif_rand" -- 1st referenced by random.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "RNG_Init" -- 1st referenced by random.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "rchisq" -- 1st referenced by random.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "rexp" -- 1st referenced by random.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "rgeom" -- 1st referenced by random.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "rpois" -- 1st referenced by random.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "rt" -- 1st referenced by random.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "rsignrank" -- 1st referenced by random.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "rbeta" -- 1st referenced by random.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "rbinom" -- 1st referenced by random.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "rcauchy" -- 1st referenced by random.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "rf" -- 1st referenced by random.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "rgamma" -- 1st referenced by random.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "rlnorm" -- 1st referenced by random.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "rlogis" -- 1st referenced by random.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "rnbinom" -- 1st referenced by random.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "rnorm" -- 1st referenced by random.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "runif" -- 1st referenced by random.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "rweibull" -- 1st referenced by random.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "rwilcox" -- 1st referenced by random.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "rhyper" -- 1st referenced by random.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "MAIN__" -- 1st referenced by /software/pub_gen/lib32/gcc-lib/mips-sgi-irix6.4/egcs-2.91.60/libg2c.a(main.o).
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "do_proctime" -- 1st referenced by names.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "do_machine" -- 1st referenced by names.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "do_system" -- 1st referenced by names.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "do_getenv" -- 1st referenced by names.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "do_interactive" -- 1st referenced by names.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "do_dynload" -- 1st referenced by names.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "do_dynunload" -- 1st referenced by names.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "do_edit" -- 1st referenced by names.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: ERROR 33: Unresolved text symbol "do_dataentry" -- 1st referenced by names.o.
	Use linker option -v to see when and which objects, archives and dsos are loaded.  
ld32: WARNING 105: Common symbol "gc_inhibit_torture" defined in main.o is resolved with a data definition in memory.o with a smaller alignment.
ld32: INFO 152: Output file removed because of error.
collect2: ld returned 2 exit status
*** Error code 1 (bu21)
*** Error code 1 (bu21)
*** Error code 1 (bu21)
*** Error code 1 (bu21)

From R.E.Darnell at newcastle.ac.uk  Wed Aug  4 10:24:19 1999
From: R.E.Darnell at newcastle.ac.uk (R.E. Darnell)
Date: 04 Aug 1999 09:24:19 +0100
Subject: [R] R is not for Relational
In-Reply-To: Russell Senior's message of "03 Aug 1999 13:10:50 -0700"
References: <Pine.LNX.4.05.9908031029450.24357-100000@models.iwqs.pwv.gov.za> <x2oggphwqx.fsf@blueberry.kubism.ku.dk> <867lnc1v79.fsf@coulee.tdb.com>
Message-ID: <dgk907s6jik.fsf@scs2.ncl.ac.uk>

Russel Senior writes:
>One useful thing that subset() doesn't appear to do is joins.  That is
>frequently what select statements are used for in SQL.  There are
>three S-plus functions (at least, as documented in MASS 2ed) called
>merge, by and aggregate.  The merge() function joins data frames, but
>is not implemented in R that I am aware of, at least as of 0.64.0.

I use match to merge data sets.

B$V2<-A$V2[match(B$V1,A$V1)]

is similar to 
SELECT V1 V2 
     FROM A B
     WHERE A.V1=B.V1

i'nit?

Ross Darnell
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Aug  4 11:28:10 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Aug 1999 11:28:10 +0200
Subject: [R] compliation problem
In-Reply-To: Kurt Hornik's message of "Wed, 4 Aug 1999 07:52:48 +0200 (CEST)"
References: <199908032235.RAA30431@bach.math.csbsju.edu> <14247.54576.376724.667048@fangorn.ci.tuwien.ac.at>
Message-ID: <x2hfmfyjx1.fsf@blueberry.kubism.ku.dk>

Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at> writes:

> #ifdef qgamma
> # undef qgamma
> #endif
> 
> in the `Undo SGI Madness' section.)

Er, shouldn't that just be 

#undef qgamma

??

Or is the SGI C compiler really so mad that it requires symbols to be
defined before they can be undefined?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hyoon at nyptsrv1.etsd.ml.com  Wed Aug  4 14:52:08 1999
From: hyoon at nyptsrv1.etsd.ml.com (Hoon Yoon - IPT Quant)
Date: Wed, 4 Aug 1999 08:52:08 -0400 (EDT)
Subject: [R] R is not for Relational
Message-ID: <199908041252.IAA28839@ptq2.etsd.ml.com>

Hi,

SQL could do a lot more than just merge/match/subset can ever do in a single 
statement. I think key here is that it can do so much in a single statement like 
using DISTINCT, HAVING, etc...
Given that R does not have to loop is this major improvement? In terns of being 
able to accomplish alot with single statment and retain clearity. I think so. 
Can people live without it? Certainly we can. Unlike C, we do not have to loop 
to get stuff like this done through memory. (Although some might argue that you 
can call SQL from C, I would say you have to have a DB engine and that means 
dumping it to disk, which is a slow operation.) Do I think it's hell of 
improvement? Sure it is. Nice interpreted lang like R is used for this reason. 
Ease and readability.
Is this a easy quick and dirty job. Not likely.
I think the author should look at gadfly, which is Python (another language) in 
memory SQL database. It's open source and Python is easy lang. Although some 
uses this, I have to caution that it's slow for any complicated query. And Aaron 
has his PhD in Relational database.
Still, I think just subset of mult-table join would prove very valuable. Love to 
 see it done.
Just my 2cents.

Hoon,

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From root at mail.telepac.pt  Wed Aug  4 15:54:22 1999
From: root at mail.telepac.pt (Jorge Magalhaes)
Date: Wed, 4 Aug 1999 14:54:22 +0100 (WET)
Subject: [R] legend in coplot output
In-Reply-To: <19990804103608.A16801@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.LNX.4.05.9908041448001.766-100000@predict.telepac.pt>


On Wed, 4 Aug 1999, Ross Ihaka wrote:

> Where would you like to put your legend?
I would like put my legend in the top right side of the image.

	------	legend
	|     |
	-------
	-------- --
	|	|| |
	|	|| |
	|	|| |
	-------- --

Have a nice day

Best regards

Jorge	

 
> (There also seems to be a small clipping problem which has crept in
> here.  The tick marks along the left and bottom of the plot are being
> lost.  I'll look for a fix for that too).
> 
> -- 
> +----------------------------------------------------------------------+
> | Ross Ihaka                         Email:  ihaka at stat.auckland.ac.nz |
> | Department of Statistics           Phone:  (64-9) 373-7599 x 5054    |
> | University of Auckland             Fax:    (64-9) 373-7018           |
> | Private Bag 92019                                                    |
> | Auckland, New Zealand                                                |
> +----------------------------------------------------------------------+
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug  4 22:24:51 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 4 Aug 1999 21:24:51 +0100 (BST)
Subject: [R] Re: Contributed packages for R windows port
In-Reply-To: <37A89016.D4665DC4@esb.ucp.pt>
Message-ID: <Pine.GSO.4.05.9908042118580.6559-100000@auk.stats>

On Wed, 4 Aug 1999, Peter Ho wrote:

> I have been browsing in the contributed packages webpage and found that
> there is an R port for MClust. Is there a way I can use it using the
> windows port of R 0.64.2? I could not find a windows port of MClust.

Simple reason: I was not able to compile it successfully under Windows.
I did make it compile after a lot of effort, but it crashed R on simple
uses.  You are welcome to try, and if you succeed to let me have a copy for
the Windows collection.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Thu Aug  5 01:15:23 1999
From: j.logsdon at lancaster.ac.uk (John Logsdon)
Date: Thu, 5 Aug 1999 00:15:23 +0100 (BST)
Subject: [R] First (well second) CODA hurdle problem
Message-ID: <Pine.LNX.3.95.990805000608.10606C-100000@mercury.quantex>

I am having not a little difficulty in using R-CODA version 0.4 with
R-Windows 0.64.2.  Basically I want to produce some postscript plots from
the updates.  It seems the WinBugs output is OK for cut-and-paste
operations but don't allow much flexibility for anything else.

So far, I can produce the .ind and .out files from WinBugs 1.2 and these
seem OK (in particular they are text files not .odc files).  I can read
them in with a standard read.table() R command but that doesn't avail me
of the CODA facilities.

When I enter the file names (either as full names with directory or the
simple filename in the default directory) I come up with a message:

Error: names attribute must be the same length as the vector

and CODA bombs out.  (Incidentally the Windows version requires codamenu()
to start, not CODA()).

Is there some trick here?

John

PS apologies for cross-posting!

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From root at mail.telepac.pt  Thu Aug  5 18:14:51 1999
From: root at mail.telepac.pt (Jorge Magalhaes)
Date: Thu, 5 Aug 1999 17:14:51 +0100 (WET)
Subject: [R] pairwise scatterplot matrix
Message-ID: <Pine.LNX.4.05.9908051711360.1180-100000@predict.telepac.pt>

Dear Friends:

I like so much to work with R program. Congratulations for your work.

I need R for work with multivariate data.

My question is:

With the pairs(X) command my output is a pairwise scatterplot symmetric matrix. Like:

	|    X1  |X1 vs X2|X1 vs X3|X1 vs X4|
	|X2 vs X1|   X2   |X2 vs X3|X2 vs X4|
	|X3 vs X1|X3 vs X2|   X3   |X3 vs X4|
	|X4 vs X1|X4 vs X2|X4 vs X3|   X4   |


It is possible with this command (> pairs(X))  to draw a figure which both indicates the values of correlation coefficients and give the linear regressions of variables? Like  this:



	|    X1  |   C12  |   C13  |   C14   |
	|X2 vs X1|   X2   |   C23  |   C24   |
	|X3 vs X1|X3 vs X2|   X3   |   C34   |
	|X4 vs X1|X4 vs X2|X4 vs X3|   X4    |

Cij indicate the value of the correlation coefficient for the linear regression of the variable i  with the variable j. i=1...4, j=1...4
Xi vs Xj indicate a plot(Xi,Xj).

Have a nice day

Jorge.



-- 
+----------------------------------------------------------------------+
| Jorge Magalh?es                    Email:  jmagalhaes at eng.uminho.pt  |
| Departamento de Eng. Mec?nica      Phone:  + 351 253 510220          |
| Universidade do Minho              Fax:    + 351 253 516007          |
| Campus de Azur?m                   Phone:  + 351 276 333008          |
| 4810 Guimar?es, Portugal           Email:  mop41059 at mail.telepac.pt  |
+----------------------------------------------------------------------+

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Aug  5 18:49:46 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Aug 1999 18:49:46 +0200
Subject: [R] pairwise scatterplot matrix
In-Reply-To: Jorge Magalhaes's message of "Thu, 5 Aug 1999 17:14:51 +0100 (WET)"
References: <Pine.LNX.4.05.9908051711360.1180-100000@predict.telepac.pt>
Message-ID: <x2g11ygok5.fsf@blueberry.kubism.ku.dk>

Jorge Magalhaes <root at mail.telepac.pt> writes:

> It is possible with this command (> pairs(X))  to draw a figure which both indicates the values of correlation coefficients and give the linear regressions of variables? Like  this:
> 
> 
> 
> 	|    X1  |   C12  |   C13  |   C14   |
> 	|X2 vs X1|   X2   |   C23  |   C24   |
> 	|X3 vs X1|X3 vs X2|   X3   |   C34   |
> 	|X4 vs X1|X4 vs X2|X4 vs X3|   X4    |
> 
> Cij indicate the value of the correlation coefficient for the linear regression of the variable i  with the variable j. i=1...4, j=1...4
> Xi vs Xj indicate a plot(Xi,Xj).

Offhand, no. But it doesn't look excessively complicated to make a
customised version of pairs.default. Hint: there's an if (i == j) {}
construct in the middle of everything, now if you were to split the
else clause into i<j and i>j and do something with text(...) in the
former case (like it already happens for i==j).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From syring at email.com  Thu Aug  5 23:59:27 1999
From: syring at email.com (Karl M. Syring)
Date: Thu, 5 Aug 1999 23:59:27 +0200
Subject: [R] Re: Contributed packages for R windows port
In-Reply-To: <Pine.GSO.4.05.9908042118580.6559-100000@auk.stats>
Message-ID: <000101bedf8d$c98d3550$05aa9ec1@fenris>

I tried to to build the mclust.dll with f2c and VC5 (R0.64.2). It turns out
that two routines, d1mach and intpr, are missing from blapack.f.
Supplying d1mach as dmach from Linpack and and inserting a dummy intpr (this
prints an error message that may be of not much use in the Windows version)
resulted in a mclust.dll that seems to work.
On the other hand, building the dll with the ecgs-1.1.2 distribution still
gives the message "LoadLibrary  failed" or so.

Karl


> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Prof Brian D Ripley
> Sent: Mittwoch, 4. August 1999 22:25
> To: Peter Ho
> Cc: r-help at stat.math.ethz.ch
> Subject: [R] Re: Contributed packages for R windows port
>
>
> On Wed, 4 Aug 1999, Peter Ho wrote:
>
> > I have been browsing in the contributed packages webpage and found that
> > there is an R port for MClust. Is there a way I can use it using the
> > windows port of R 0.64.2? I could not find a windows port of MClust.
>
> Simple reason: I was not able to compile it successfully under Windows.
> I did make it compile after a lot of effort, but it crashed R on simple
> uses.  You are welcome to try, and if you succeed to let me have
> a copy for
> the Windows collection.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info",
> "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug  6 07:41:38 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 6 Aug 1999 06:41:38 +0100 (BST)
Subject: [R] Re: Contributed packages for R windows port
In-Reply-To: <000101bedf8d$c98d3550$05aa9ec1@fenris>
Message-ID: <Pine.GSO.4.05.9908060635100.11088-100000@auk.stats>

On Thu, 5 Aug 1999, Karl M. Syring wrote:

> I tried to to build the mclust.dll with f2c and VC5 (R0.64.2). It turns out
> that two routines, d1mach and intpr, are missing from blapack.f.

Those entry points are both in the R.dll, so should be found on linking
against it.

> Supplying d1mach as dmach from Linpack and and inserting a dummy intpr (this
> prints an error message that may be of not much use in the Windows version)

R's intpr does work on the Windows console.

> resulted in a mclust.dll that seems to work.
> On the other hand, building the dll with the ecgs-1.1.2 distribution still
> gives the message "LoadLibrary  failed" or so.

I got past that, indeed got a DLL that seemed to work but that crashed R
on my own examples.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Fri Aug  6 09:27:09 1999
From: plummer at iarc.fr (Martyn Plummer)
Date: Fri, 06 Aug 1999 09:27:09 +0200 (CEST)
Subject: FW: RE: [R] First (well second) CODA hurdle problem
Message-ID: <XFMail.990806092709.plummer@iarc.fr>

My reply seems not to have made it to either list 24 hours after
I sent it, so I'm sending it again. Apologies if you get this
twice (or 4 times if you're on both lists, or 6 times if you're John)

Martyn

-----FW: RE: [R] First (well second) CODA hurdle problem-----

Date: Thu, 05 Aug 1999 09:40:01 +0200 (CEST)
From: Martyn Plummer <plummer at iarc.fr>
To: John Logsdon <j.logsdon at lancaster.ac.uk>
Subject: RE: [R] First (well second) CODA hurdle problem
Cc: r-help at stat.math.ethz.ch, BUGS <bugs at mailbase.ac.uk>

On 04-Aug-99 John Logsdon wrote:
> When I enter the file names (either as full names with directory or the
> simple filename in the default directory) I come up with a message:
> 
> Error: names attribute must be the same length as the vector
> 
> and CODA bombs out.  (Incidentally the Windows version requires codamenu()
> to start, not CODA()).

The R version uses codamenu() on both Unix and Windows.
 
> Is there some trick here?

No, it's a bug. You can work around this by just putting the root of the
filenames in without the extension, e.g. put "line" instead of both
"line.ind" and "line.out". An updated version is on it's way to CRAN.

Martyn

--------------End of forwarded message-------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Thu Aug  5 09:52:09 1999
From: plummer at iarc.fr (Martyn Plummer)
Date: Thu, 05 Aug 1999 09:52:09 +0200 (CEST)
Subject: [R] First (well second) CODA hurdle problem
In-Reply-To: <Pine.LNX.3.95.990805000608.10606C-100000@mercury.quantex>
Message-ID: <XFMail.990805095209.plummer@iarc.fr>

On 04-Aug-99 John Logsdon wrote:
> When I enter the file names (either as full names with directory or the
> simple filename in the default directory) I come up with a message:
> 
> Error: names attribute must be the same length as the vector
> 
> and CODA bombs out.  (Incidentally the Windows version requires codamenu()
> to start, not CODA()).

The R version uses codamenu() on both Unix and Windows.
 
> Is there some trick here?

No, it's a bug. You can work around this by just putting the root of the
filenames in without the extension, e.g. put "line" instead of both
"line.ind" and "line.out". An updated version is on it's way to CRAN.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Victor.Barajas at HSC.com  Tue Aug 10 22:59:20 1999
From: Victor.Barajas at HSC.com (Victor.Barajas@HSC.com)
Date: Tue, 10 Aug 1999 13:59:20 -0700
Subject: [R] Problems with the ts library
Message-ID: <882567C9.00735B12.00@Hughes.com>



Well, I upgraded to a later release and have been having good luck (R  vers.
0.65.0)  I haven't upgraded my Red-Hat linux from 5.2 so I had to compile from
source ,  ... so far so good.  My problem is with the time series functions
[library(ts)].  I'm trying to use the autocorrelation function-acf() and am
having problems with it.  mainly an error   ERROR -Couldn't find function
"is.univariate.ts"   any thoughts?  is it the version of R I'm using?
...thanks      victor


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.adi.purnomo at EnergyLink.co.nz  Wed Aug 11 05:01:02 1999
From: s.adi.purnomo at EnergyLink.co.nz (Peppy)
Date: Wed, 11 Aug 1999 15:01:02 +1200
Subject: [R] acf()
Message-ID: <2AEEA90C9555D11198D70000F87908140F35FF@ELSRV1>

Hi there,

I have R 0.64.2.  I wonder if this R has acf function to calculate
autocorrelation?  since the help(acf) doesnt seem to be able to help me.

thanks,
Peppy
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 11 08:26:39 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 11 Aug 1999 07:26:39 +0100 (BST)
Subject: [R] Problems with the ts library
In-Reply-To: <882567C9.00735B12.00@Hughes.com>
Message-ID: <Pine.GSO.4.05.9908110713210.23946-100000@auk.stats>

On Tue, 10 Aug 1999 Victor.Barajas at HSC.com wrote:

> 
> 
> Well, I upgraded to a later release and have been having good luck (R  vers.
> 0.65.0)  I haven't upgraded my Red-Hat linux from 5.2 so I had to compile from

R version 0.65.0 is _not_ released: all that is available is an unstable
snapshot. This is intended for testing by developers: in particular
library ts is still under development. The banner does say

Version 0.65.0 Under development (unstable) (August 10, 1999)

to remind you.

> source ,  ... so far so good.  

There are no pre-compiled versions of 0.65.0 snapshots, I hope.

> My problem is with the time series functions
> [library(ts)].  I'm trying to use the autocorrelation function-acf() and am
> having problems with it.  mainly an error   ERROR -Couldn't find function
> "is.univariate.ts"   any thoughts?  is it the version of R I'm using?

Thre is no usage of is.univariate.ts in the current version of the ts
library, nor in any version I am aware of. is.univariate.ts is used by the
acf function in Adrian Trapletti's tseries library. Have you by any chance
used that?  If that is not the problem, we need precise details (including
the exact day of your 0.65.0 snapshot, if recent), to R-devel please.

My guess is that you did not intend to use an unstable snapshot: the
release version is 0.64.2 and that does have RPMs for RH5.2. The release
of 0.65.0 (and the time series functions) is still about three weeks off.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 11 09:02:04 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 11 Aug 1999 08:02:04 +0100 (BST)
Subject: [R] acf()
In-Reply-To: <2AEEA90C9555D11198D70000F87908140F35FF@ELSRV1>
Message-ID: <Pine.GSO.4.05.9908110757100.23946-100000@auk.stats>

On Wed, 11 Aug 1999, Peppy wrote:

> I have R 0.64.2.  I wonder if this R has acf function to calculate
> autocorrelation?  since the help(acf) doesnt seem to be able to help me.


R 0.64.2 does not have an acf function. There are two different ones
in packages tseries (on CRAN) and bats (on CRAN in the devel section),
and on the package coda (possibly the same as in bats).

The forthcoming R 0.65.0 will have time series functions, including acf.
One aim to remove the need for the proliferation of acf functions.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Thu Aug 12 06:22:42 1999
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Thu, 12 Aug 1999 14:22:42 +1000 (EST)
Subject: [R] text(x,y,expression(sqrt(txt))), where txt is a text string.
Message-ID: <199908120422.OAA15907@leonard.anu.edu.au>

I am using R0.65.0 development version (August 10 1999) under Unix,
and 0.64.2 under Windows 95.

I have e. g. 
> txt <- "abcd"

In
> plot(x,y, expression(sqrt(txt)))
I want txt to be evaluated, i. e. to get sqrt(abcd) plotted,
(with the square root symbol replacing sqrt, of course).
Is there a way to achieve this?


John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Thu Aug 12 07:34:58 1999
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Thu, 12 Aug 1999 15:34:58 +1000 (EST)
Subject: [R] text(x,y,expression(sqrt(txt))), where txt is a text string
Message-ID: <199908120534.PAA23235@leonard.anu.edu.au>

My question was supposed to have been (I had plot() instead of text()!)
  I have e. g. 
  > txt <- "abcd"

  In
  > text(x,y, expression(sqrt(txt)))
  I want txt to be evaluated, i. e. to get sqrt(abcd) plotted,
  (with the square root symbol replacing sqrt, of course).
  Is there a way to achieve this?


Berwin Turlach provided the following:

> txt <- "abcd"
> text(4.5,4.5,as.expression(substitute(sqrt(txt),list(txt=txt))))


Bill Venables made another suggestion:

i. e. 

  > txt <- as.name("abcd")
  > ex <- expression(sqrt(txt))
  > ex
  expression(sqrt(txt))
  > ex[[1]][[2]] <- eval(ex[[1]][[2]])
  > ex
  expression(sqrt(abcd))
  >

  I think what you want in the driver's seat is a name object, not a text
  string.  Evaluating the name of a name object gives you a name, if I make
  myself clear....

One then invokes text(x,y,ex)


Neither of these seem to work in 0.64.2

Thanks for the prompt helpful responses.

John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Thu Aug 12 09:44:48 1999
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Thu, 12 Aug 1999 17:44:48 +1000 (EST)
Subject: [R] text(x,y,expression(sqrt(txt))), where txt is a text stri
Message-ID: <199908120744.RAA29099@leonard.anu.edu.au>

Further to my earlier message, I've now got both the Turlach
solution & the Venables solution to work in R0.64.2
The as.name() conversion in the Venables solution is not needed.

John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbb at nebiometrics.com  Fri Aug 13 05:02:10 1999
From: rbb at nebiometrics.com (Robert Burrows)
Date: Thu, 12 Aug 1999 23:02:10 -0400 (EDT)
Subject: [R] labels for contour plots
Message-ID: <Pine.LNX.4.02.9908122300310.15758-100000@localhost.localdomain>

Hello,

Has labeling of the contours in contour plots been enabled yet?

Robert Burrows
rbb at nebiometrics.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbb at nebiometrics.com  Sat Aug 14 06:26:39 1999
From: rbb at nebiometrics.com (Robert Burrows)
Date: Sat, 14 Aug 1999 00:26:39 -0400 (EDT)
Subject: [R] printing postscript files
Message-ID: <Pine.LNX.4.02.9908140019410.22042-100000@localhost.localdomain>

Hi,

How can I change the position on the paper to which postscript files get
printed? I have tried editing the BoundingBox comment and embedding the
file in a LaTex document, all to no avail.

The postscript files are generated with dev.print() from R 0.64.1. I am
using Linux 2.2.5 and ghostscript 5.50.

TIA,

Robert Burrows
rbb at nebiometrics.com



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Sat Aug 14 23:31:46 1999
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Sat, 14 Aug 1999 23:31:46 +0200
Subject: [R] leaps and bounds
Message-ID: <000501bee69c$6af3c5c0$2c4fa8c0@stofanet.dk>

Dear friends. On the Bayesian averaging homepage http://www.research.att.com/~volinsky/bma.html I found 
some S code some of which perhaps may run in R. There was a call to an algorithm possibly within S but not supported by R 64.1: "leaps and bounds". I guess it is a minimization step. Can anyone clarify the algorithm and perhaps even give a pointer to some code ?
I guess this may be somewhat above my level of understanding but I feel much attracted to the concept of model averaging, as far as I can grasp it, and would like to experiment with it.

Any help much appreciated.

Yours

Troels Ring, MD
tring at mail1.stofanet.dk 
Department of Nephrology
Aalborg Hospital
Aalborg Denmark


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Aug 15 08:52:29 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 15 Aug 1999 07:52:29 +0100 (BST)
Subject: [R] leaps and bounds
In-Reply-To: <000501bee69c$6af3c5c0$2c4fa8c0@stofanet.dk>
Message-ID: <Pine.GSO.4.05.9908150731270.25963-100000@auk.stats>

On Sat, 14 Aug 1999, Troels Ring wrote:

> Dear friends. 

> On the Bayesian averaging homepage 
> http://www.research.att.com/~volinsky/bma.html I found 
> some S code some of which perhaps may run in R. 
> There was a call to an algorithm possibly within S but not 
> supported by R 64.1: "leaps and bounds". I guess it is a minimization
> step. 
> Can anyone clarify the algorithm and perhaps even give a pointer to some
code ?
> I guess this may be somewhat above my level of understanding 
> but I feel much attracted to the concept of model averaging, 
> as far as I can grasp it, and would like to experiment with it.

That page has a rather individual (and I think very limited) view of
Bayesian model averaging. In particular, I think you are looking at links
to Raftery's work which has been on statlib for some time, afunction called
bicreg() that calls leaps(), an S version 2 (Blue book) function. A version
of leaps is available in package leaps on CRAN, and may (I have not tried
it) enable you to use bicreg.

However, as leaps is an algorithm to select the best subset of size k, it
goes directly against my understanding of model averaging, which involves
averaging over all subsets and hence in the linear regression context is a
form of downweighting of regression coefficients. 

There are many other Bayesians involved with model averaging with
well-known papers not mentioned on that site. In particular, I would
suggest you look at David Draper's work (University of Bath: has S software
and a draft book, which was available when I last looked) and for
mainstream Bayesian approaches to regression see the 1995 book Bayesian
Data Analysis by Gelman, Carlin, Stern and Rubin.  To be doing model
averaging in the Raftery sense needs a very particular prior over the
regression coeficients that few other Bayesian I know find credible.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Aug 16 18:12:38 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 16 Aug 1999 09:12:38 -0700 (PDT)
Subject: [R] leaps and bounds
In-Reply-To: <Pine.GSO.4.05.9908150731270.25963-100000@auk.stats>
Message-ID: <Pine.GSO.4.10.9908160841370.14493-100000@wompom.biostat.washington.edu>

On Sun, 15 Aug 1999, Prof Brian D Ripley wrote:

> On Sat, 14 Aug 1999, Troels Ring wrote:
> 
> > Dear friends. 
> 
> > On the Bayesian averaging homepage 
> > http://www.research.att.com/~volinsky/bma.html I found 
> > some S code some of which perhaps may run in R. 
> > There was a call to an algorithm possibly within S but not 
> > supported by R 64.1: "leaps and bounds". I guess it is a minimization
> > step. 
> > Can anyone clarify the algorithm and perhaps even give a pointer to some
> code ?

The algorithm looks for the k best fitting models of each size, using a
branch-and-bound algorithm (for which, see a computer science book). It
involves constructing a search tree and then ruling out large chunks of it
using the fact that removing variables always increases the residual sum
of squares (and possibly other constraints). The model averaging code uses
it to come up with a small (few hundreds) selection of models. These are
further trimmed by rejecting the ones that are much worse than the best
model. The resulting smallish collection of models is then averaged.


> > I guess this may be somewhat above my level of understanding 
> > but I feel much attracted to the concept of model averaging, 
> > as far as I can grasp it, and would like to experiment with it.
> 
> That page has a rather individual (and I think very limited) view of
> Bayesian model averaging. In particular, I think you are looking at links
> to Raftery's work which has been on statlib for some time, afunction called
> bicreg() that calls leaps(), an S version 2 (Blue book) function. A version
> of leaps is available in package leaps on CRAN, and may (I have not tried
> it) enable you to use bicreg.

I think someone has tried this and it didn't work at the time. However,
I don't think it was a serious problem with the leaps() library
implementation, so it may just need minor fiddling.   The glm and survival
functions will not work as they call the Fortran code directly, and R uses
different Fortran code.
 
> However, as leaps is an algorithm to select the best subset of size k, it
> goes directly against my understanding of model averaging, which involves
> averaging over all subsets and hence in the linear regression context is a
> form of downweighting of regression coefficients. 

I personally feel somewhat less negative about these functions, though I
agree that the theoretical basis for them is thin.  I have used them in a
couple of cases where they did give quite good shrinkage of Cox regression
coefficients and improved prediction, averaging over a few hundred models
(though I didn't compare them to 'proper' model averaging or to
techniques like ridge regression or lasso).  

You might also look at the package "br" in the Statlib S archive, which
uses model averaging for variable selection, smoothing and outlier
rejection. I don't know if it will run under R.


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Tue Aug 17 22:29:38 1999
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Tue, 17 Aug 1999 22:29:38 +0200
Subject: [R] linking object files
Message-ID: <000701bee8ef$3c277840$2c4fa8c0@stofanet.dk>

Dear friends. I would like to link an object file made in C. Dyn.load rather wants to link a whole library and I only wanted to link this small object file. I followed instructions given for S - by Clive Loader in his software for changepoint handling and it is his object file I made from http://cm.bell-labs.com/cm/ms/departments/sia/clive/smcp.shar

Any dirty tricks or easy oversights ?

Yours

Troels Ring, MD
tring at mail1.stofanet.dk 
Department of Nephrology
Aalborg Hospital
Aalborg Denmark


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 18 00:02:38 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 17 Aug 1999 23:02:38 +0100 (BST)
Subject: [R] linking object files
In-Reply-To: <000701bee8ef$3c277840$2c4fa8c0@stofanet.dk>
Message-ID: <Pine.GSO.4.05.9908172256320.2633-100000@auk.stats>

On Tue, 17 Aug 1999, Troels Ring wrote:

> Dear friends. I would like to link an object file made in C. 
Dyn.load rather wants to link a whole library and I only wanted to 
link this small object file. I followed instructions given for S - 
by Clive Loader in his software for changepoint handling and 
it is his object file I made from 
http://cm.bell-labs.com/cm/ms/departments/sia/clive/smcp.shar
> 
> Any dirty tricks or easy oversights ?

Welcome to the real world of porting software to R! 

I assume you are still on Windows. Believe me, by far the easiest way to do
this is to set up a small R package and build it using the instructions in
the README.packages file.  You can only use relocatable DLLs with R under
Windows (and only shared libraries on Unix).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gautier at lion-ag.de  Wed Aug 18 09:52:34 1999
From: gautier at lion-ag.de (Laurent Gautier)
Date: Wed, 18 Aug 1999 09:52:34 +0200
Subject: [R] linking object files
References: <Pine.GSO.4.05.9908172256320.2633-100000@auk.stats>
Message-ID: <37BA6642.F6596036@lion-ag.de>

Prof Brian D Ripley wrote:

> On Tue, 17 Aug 1999, Troels Ring wrote:
>
> > Dear friends. I would like to link an object file made in C.
> Dyn.load rather wants to link a whole library and I only wanted to
> link this small object file. I followed instructions given for S -
> by Clive Loader in his software for changepoint handling and
> it is his object file I made from
> http://cm.bell-labs.com/cm/ms/departments/sia/clive/smcp.shar

Does anybody manage to find out what it shown at this http address ?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 18 10:08:43 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 18 Aug 1999 09:08:43 +0100 (BST)
Subject: smcp.shar (was [R] linking object files)
In-Reply-To: <37BA6642.F6596036@lion-ag.de>
Message-ID: <Pine.GSO.4.05.9908180903480.3188-100000@auk.stats>

On Wed, 18 Aug 1999, Laurent Gautier wrote:

> Prof Brian D Ripley wrote:
> 
> > On Tue, 17 Aug 1999, Troels Ring wrote:
> >
> > > Dear friends. I would like to link an object file made in C.
> > Dyn.load rather wants to link a whole library and I only wanted to
> > link this small object file. I followed instructions given for S -
> > by Clive Loader in his software for changepoint handling and
> > it is his object file I made from
> > http://cm.bell-labs.com/cm/ms/departments/sia/clive/smcp.shar
> 
> Does anybody manage to find out what it shown at this http address ?

I don't know why this was sent to me: everything I wrote has been
removed.

There is clearly something wrong on their server at present: 
http://cm.bell-labs.com/stat will usually work, but does not right now.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cfcorral at gmv.es  Wed Aug 18 13:51:42 1999
From: cfcorral at gmv.es (Carlos Corral van Damme)
Date: Wed, 18 Aug 1999 13:51:42 +0200
Subject: [R] scan errors 
Message-ID: <37BA9E4D.987F0BD8@gmv.es>

    Dear friends.
Is there any way to ignore the error produced when the function
scan(file="...") cannot open the file (due to, e.g., the file does not
exist)?
I am also very interested in ways to label a contour plot.
    Yours.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/19990818/6b89481a/attachment.html
-------------- next part --------------
A non-text attachment was scrubbed...
Name: cfcorral.vcf
Type: text/x-vcard
Size: 273 bytes
Desc: Tarjeta de Carlos Corral van Damme
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19990818/6b89481a/cfcorral.vcf

From ripley at stats.ox.ac.uk  Wed Aug 18 14:40:59 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 18 Aug 1999 13:40:59 +0100 (BST)
Subject: [R] scan errors 
Message-ID: <199908181240.NAA22773@toucan.stats.ox.ac.uk>

> Date: Wed, 18 Aug 1999 13:51:42 +0200
> From: Carlos Corral van Damme <cfcorral at gmv.es>
> X-Accept-Language: es

[I hope you accept en too.]

> Is there any way to ignore the error produced when the function
> scan(file="...") cannot open the file (due to, e.g., the file does not
> exist)?

Use file.exists to check the file exists. If you need more information,
you can use system calls, but they will be OS-specific. On Unix,
a call via system() to `test' normally can tell you all you need.
On Windows, you can call attrib.

You can also use restart to catch the error (needs 0.65; which says

     Use of this code is very likely to result in an infin-
     ite loop. It should be avoided at all costs and is
     included in R for compatibility with S. The soon to
     appear R exception handling should remove all need for
     such a function.

`soon to appear' means at least 0.66 as it has missed the
feature-freeze on 0.65, so don't wait for it.)

> I am also very interested in ways to label a contour plot.

Label the contours?  So are we all!  Last time I asked (several months
ago) it was Real Soon Now (TM).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From David.Brahm at fmr.com  Wed Aug 18 16:04:41 1999
From: David.Brahm at fmr.com (Brahm, David)
Date: Wed, 18 Aug 1999 10:04:41 -0400
Subject: [R] scan errors 
Message-ID: <BDFB8C2A6273D211B73C0060B067443C5A51FC@msgbos537nts.fmr.com>

> Is there any way to ignore the error produced when the function
scan(file="...") cannot open the file

In S, on a Unix machine, I would say
  if (.exists(file)) scan(file)
where the ".exists()" function is defined as follows:
  .exists <- function(file) unix(paste("test -r", file, "; echo $?"))=="0"

 -- David Brahm
    Fidelity Investments
    (617)563-7438

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.adi.purnomo at EnergyLink.co.nz  Wed Aug 18 23:31:30 1999
From: s.adi.purnomo at EnergyLink.co.nz (Peppy)
Date: Thu, 19 Aug 1999 09:31:30 +1200
Subject: [R] R 0.64.2 indexing
Message-ID: <2AEEA90C9555D11198D70000F8790814106E8F@ELSRV1>

Hi,

> Say we have a large-sized vector of observation A and a time vector with
> the same size.  The latter vector basically is the time flag when ith
> obervation of A occurs, hence A[i] occurs at T[i].
> 
> I have no trouble with doing: T[A <= 10 | A >=20] for example
> 
> Now, what I am confused: I tried to pull out when the largest value of A
> with:
> 
> T[A == max(A, na.rm=TRUE)]
> 
> this statement comes up with a number of NA's although I activate the
> na.rm flag to TRUE.  the next thing I accidently type this:
> 
> T[A = max(A, na.rm=TRUE)]
> 
> with single "=", it works!! I thought logical "equal" is double equals,
> "==".  
> 
> Is that because I tried to pull out a value from a function so that I have
> to use single equal? and why does this work?
> 
Kindest Regards,
Peppy Adi-Purnomo

-------
Stephanus (Peppy) Adi-Purnomo
Energy Market Analyst  -  Energy Link Ltd - Dunedin
email: s.adi.purnomo at energylink.co.nz
http://www.energylink.co.nz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Aug 19 00:27:28 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 18 Aug 1999 15:27:28 -0700 (PDT)
Subject: [R] R 0.64.2 indexing
In-Reply-To: <2AEEA90C9555D11198D70000F8790814106E8F@ELSRV1>
Message-ID: <Pine.GSO.4.10.9908181513560.18034-100000@wompom.biostat.washington.edu>

On Thu, 19 Aug 1999, Peppy wrote:

> Hi,
> 
> > Say we have a large-sized vector of observation A and a time vector with
> > the same size.  The latter vector basically is the time flag when ith
> > obervation of A occurs, hence A[i] occurs at T[i].
> > 
> > I have no trouble with doing: T[A <= 10 | A >=20] for example
> > 
> > Now, what I am confused: I tried to pull out when the largest value of A
> > with:
> > 
> > T[A == max(A, na.rm=TRUE)]
> > 
> > this statement comes up with a number of NA's although I activate the
> > na.rm flag to TRUE.  the next thing I accidently type this:

The NAs match the NAs in A. Suppose that the largest value of A is 42
Then
 T[A == max(A, na.rm=TRUE)]
is the same as
 T[A == 42]

But A==42 is NA if A is NA, so this returns the maximum and a bunch of
NAs.

T[A ==max(A, na.rm=TRUE) & !is.na(A)]
 does what you want


> > 
> > T[A = max(A, na.rm=TRUE)]
> > 
> > with single "=", it works!! I thought logical "equal" is double equals,
> > "==".  

This is  much more subtle and interesting. It doesn't actually work, it
just looks as though it does.

	T[absolutely.anything.you.want=42]
has the same effect as
	T[42]

This is because "["  doesn't check its argument names
T[A=42] is shorthand for  "["(T,A=42), and the A is ignored.

The same thing happens with some other primitive functions
> sqrt(a.long.parameter.name=4)
[1] 2

This means that if the largest element of A is 42, T[A=max(A,na.rm=T)]
returns T[42], which is not at all what you want (except possibly by
coincidence)


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Aug 19 00:52:17 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 18 Aug 1999 15:52:17 -0700 (PDT)
Subject: [R] R 0.64.2 indexing
In-Reply-To: <Pine.GSO.4.10.9908181513560.18034-100000@wompom.biostat.washington.edu>
Message-ID: <Pine.GSO.4.10.9908181550080.18034-100000@wompom.biostat.washington.edu>

On Wed, 18 Aug 1999, Thomas Lumley wrote:

> On Thu, 19 Aug 1999, Peppy wrote:
> 
> > Hi,
> > 
> > > Say we have a large-sized vector of observation A and a time vector with
> > > the same size.  The latter vector basically is the time flag when ith
> > > obervation of A occurs, hence A[i] occurs at T[i].
> > > 

> 
> T[A ==max(A, na.rm=TRUE) & !is.na(A)]
>  does what you want

Perhaps a tidier solution is 

  T[which(A==max(A,na.rm=TRUE))]



Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gautier at lion-ag.de  Thu Aug 19 12:17:19 1999
From: gautier at lion-ag.de (Laurent Gautier)
Date: Thu, 19 Aug 1999 12:17:19 +0200
Subject: [R] Discriminant analysis with R
Message-ID: <37BBD9AE.5E85681@lion-ag.de>

Hello,


I might have missed it in the help pages, but I cannot find if something
exits in a package to make discriminant analysis.

Any help, or hint about where to look for it, is welcome,




Laurent

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Thu Aug 19 12:52:40 1999
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Thu, 19 Aug 1999 12:52:40 +0200 (CEST)
Subject: [R] Discriminant analysis with R
In-Reply-To: <37BBD9AE.5E85681@lion-ag.de>
References: <37BBD9AE.5E85681@lion-ag.de>
Message-ID: <14267.57848.552101.906473@galadriel.ci.tuwien.ac.at>

>>>>> On Thu, 19 Aug 1999 12:17:19 +0200,
>>>>> Laurent Gautier (LG) wrote:

LG> Hello,
LG> I might have missed it in the help pages, but I cannot find if something
LG> exits in a package to make discriminant analysis.

LG> Any help, or hint about where to look for it, is welcome,


The VR bundle of packages has linear and quadratic DA in the MASS
package, neural nets in nnet, and several other methods including k
nearest neighbour in the class package. You find it in the contrib
section of CRAN.

Classification trees can be fitted using both the tree and rpart
packages. 

Best,
fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 19 13:13:32 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 19 Aug 1999 12:13:32 +0100 (BST)
Subject: [R] Discriminant analysis with R
In-Reply-To: <37BBD9AE.5E85681@lion-ag.de>
Message-ID: <Pine.GSO.4.05.9908191212570.18305-100000@auk.stats>

On Thu, 19 Aug 1999, Laurent Gautier wrote:

> Hello,
> 
> 
> I might have missed it in the help pages, but I cannot find if something
> exits in a package to make discriminant analysis.

Package MASS, part of the VR bundle on CRAN.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From iosu at ensia.inra.fr  Thu Aug 19 14:03:17 1999
From: iosu at ensia.inra.fr (=?iso-8859-1?Q?Jes=FAs_Mar=EDa_Fr=EDas_Celayeta?=)
Date: Thu, 19 Aug 1999 14:03:17 +0200 (CEST)
Subject: [R] Discriminant analysis with R
In-Reply-To: <37BBD9AE.5E85681@lion-ag.de>
Message-ID: <Pine.LNX.3.96.990819135113.10380B-100000@joxepa.ensia.inra.fr>

Hi!!

> I might have missed it in the help pages, but I cannot find if something
> exits in a package to make discriminant analysis.
> 
> Any help, or hint about where to look for it, is welcome,


	This is the result from the search engine in the html manual. I
use R-0.64.2 in linux and I have installed a some of the packages, so your
instalation may differ from mine. In that case please look for the
contributed packages in CRAN.


Search Results

The search string was "discriminant"


lda 
       Linear Discriminant Analysis 
predict.qda 
       Classify from Quadratic Discriminant Analysis 
qda 
       Quadratic Discriminant Analysis 


lda and qda belong to Main Library of Venables and Ripley's MASS. 


best regards,

IOsu


-------------------------------------------------------------------------------
Jes?s Mar?a Fr?as Celayeta		"Valeu a pena? Tudo vale a pena
ENSIA-INRA, Av. des Olimpiades, 1	se a alma n?o ? pequena
91744, Massy. FRANCE			Quem quer passar al?m do Bojador
Fax:intl+33+1+69935185			Tem que passar al?m da dor.
Phone:intl+33+1+69935191		Deus ao mar o perigo e abismo deu,
					Mas nele ? que espelhou o c?u"
-------------------------------------------------------------------------------





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Thu Aug 19 14:24:50 1999
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Thu, 19 Aug 1999 08:24:50 -0400
Subject: [R] Mathematical Superscript on the y-axis of a plot
Message-ID: <OF203D45F4.9D011513-ON852567D2.0043B8ED@hgsi.com>

I am trying to get superscripts on the y-axis. I keeping getting syntax
error:

This works as advertised:
> plot(c(1:10), ylab= expression(paste(x^ theta)))

This does not:
>plot(c(1:10), ylab= expression(paste(x^ {++})))

Note that I am trying to get ++ as superscript.
Any suggestions?
Thanks.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From syring at email.com  Thu Aug 19 14:35:50 1999
From: syring at email.com (Karl M. Syring)
Date: Thu, 19 Aug 1999 14:35:50 +0200
Subject: [R] Re: Contributed packages for R windows port
In-Reply-To: <000101bedf8d$c98d3550$05aa9ec1@fenris>
Message-ID: <000201beea3f$5e6c07d0$1f119d3e@fenris>

Although it may not be nice to pick up dusty threads, I have to comment on
this:
Using Mumits latest gcc-2.95 (mingw32, vanilla R0.64.2), the mclust package
builds and works (well, there are some problems with the examples) out of
the box. The reason for this remains unknown.

Karl

> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Karl M. Syring
> Sent: Donnerstag, 5. August 1999 23:59
> To: Prof Brian D Ripley; Peter Ho
> Cc: r-help at stat.math.ethz.ch
> Subject: RE: [R] Re: Contributed packages for R windows port
>
>
> I tried to to build the mclust.dll with f2c and VC5 (R0.64.2). It
> turns out
> that two routines, d1mach and intpr, are missing from blapack.f.
> Supplying d1mach as dmach from Linpack and and inserting a dummy
> intpr (this
> prints an error message that may be of not much use in the
> Windows version)
> resulted in a mclust.dll that seems to work.
> On the other hand, building the dll with the ecgs-1.1.2 distribution still
> gives the message "LoadLibrary  failed" or so.
>
> Karl
>
>
> > -----Original Message-----
> > From: owner-r-help at stat.math.ethz.ch
> > [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Prof Brian D Ripley
> > Sent: Mittwoch, 4. August 1999 22:25
> > To: Peter Ho
> > Cc: r-help at stat.math.ethz.ch
> > Subject: [R] Re: Contributed packages for R windows port
> >
> >
> > On Wed, 4 Aug 1999, Peter Ho wrote:
> >
> > > I have been browsing in the contributed packages webpage and
> found that
> > > there is an R port for MClust. Is there a way I can use it using the
> > > windows port of R 0.64.2? I could not find a windows port of MClust.
> >
> > Simple reason: I was not able to compile it successfully under Windows.
> > I did make it compile after a lot of effort, but it crashed R on simple
> > uses.  You are welcome to try, and if you succeed to let me have
> > a copy for
> > the Windows collection.
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-
> > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info",
> > "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info",
> "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 19 15:37:58 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 19 Aug 1999 14:37:58 +0100 (BST)
Subject: [R] Re: Contributed packages for R windows port
In-Reply-To: <000201beea3f$5e6c07d0$1f119d3e@fenris>
Message-ID: <Pine.GSO.4.05.9908191433030.18826-100000@auk.stats>

On Thu, 19 Aug 1999, Karl M. Syring wrote:

> Although it may not be nice to pick up dusty threads, I have to comment on
> this:
> Using Mumits latest gcc-2.95 (mingw32, vanilla R0.64.2), the mclust package
> builds and works (well, there are some problems with the examples) out of
> the box. The reason for this remains unknown.

I had already tried that (a couple of weeks ago), and it fails for me. Can
you send me the working DLL please.

In at least one respect the sources must be wrong: the calls to INTPR etc
have length -1 for the message, and that is not valid under R, I believe.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 19 17:00:48 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 19 Aug 1999 16:00:48 +0100 (BST)
Subject: [R] Re: Contributed packages for R windows port
In-Reply-To: <000201beea3f$5e6c07d0$1f119d3e@fenris>
Message-ID: <Pine.GSO.4.05.9908191555410.3128-100000@toucan.stats>

On Thu, 19 Aug 1999, Karl M. Syring wrote:

> Although it may not be nice to pick up dusty threads, I have to comment on
> this:
> Using Mumits latest gcc-2.95 (mingw32, vanilla R0.64.2), the mclust package
> builds and works (well, there are some problems with the examples) out of
> the box. The reason for this remains unknown.

There is a now a working (passes pkgcheck) version on my site which will
be mirrored to CRAN tonight. (For the desperate .../pub/RWin/mclust.zip
and see below for the ...)

Thanks to Karl for the hint. The difference was not the compiler but that
he was using an alternative run-time system. To use this package you need
MSVCRT.DLL to be installed on your system: it is not supplied, but is
widely available.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gautier at lion-ag.de  Thu Aug 19 17:38:08 1999
From: gautier at lion-ag.de (Laurent Gautier)
Date: Thu, 19 Aug 1999 17:38:08 +0200
Subject: [R] Discriminant analysis with R
References: <Pine.LNX.3.96.990819135113.10380B-100000@joxepa.ensia.inra.fr>
Message-ID: <37BC24DF.4705FD78@lion-ag.de>

Many thanks to all,

I did not find the lda function because I did not installed the VR package
properly (and did not noticed it since I run R INSTALL with many other
packages)...

Anyway the following thing might be usefull :
Hint to any other dummy R installer (I cannot believe I am the only one around
=)  ) : the package name is VR/MASS (or VR/nnets, or whatever...) and not VR
alone...

(was it told in the INSTALL help ? I have the bad habit to read them too
quickly....)



Laurent

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 19 17:51:35 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 19 Aug 1999 16:51:35 +0100 (BST)
Subject: [R] Discriminant analysis with R
In-Reply-To: <37BC24DF.4705FD78@lion-ag.de>
Message-ID: <Pine.GSO.4.05.9908191648001.19171-100000@auk.stats>

On Thu, 19 Aug 1999, Laurent Gautier wrote:

> Many thanks to all,
> 
> I did not find the lda function because I did not installed the VR package
> properly (and did not noticed it since I run R INSTALL with many other
> packages)...
> 
> Anyway the following thing might be usefull :
> Hint to any other dummy R installer (I cannot believe I am the only one around
> =)  ) : the package name is VR/MASS (or VR/nnets, or whatever...) and not VR
> alone...

No, the package name _is_ MASS. There is no VR package. Read the contents
of directory VR some time, for example the DESCRIPTION file.

There are good reasons to do it this way, not least that you should
get the chance to read the overall documentation!

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Aug 19 18:46:34 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Aug 1999 18:46:34 +0200
Subject: [R] Mathematical Superscript on the y-axis of a plot
In-Reply-To: partha_bagchi@hgsi.com's message of "Thu, 19 Aug 1999 08:24:50 -0400"
References: <OF203D45F4.9D011513-ON852567D2.0043B8ED@hgsi.com>
Message-ID: <x2btc3soph.fsf@blueberry.kubism.ku.dk>

partha_bagchi at hgsi.com writes:

> This works as advertised:
> > plot(c(1:10), ylab= expression(paste(x^ theta)))
> 
> This does not:
> >plot(c(1:10), ylab= expression(paste(x^ {++})))

It's hardly *advertised*... 

Expressions still need to be syntactically correct and ther are no
operands to those '+' operators. Try

 plot(c(1:10), ylab= expression(x^"++"))

(the paste is unnecessary in your first example too)
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fan at katan.cybercom.net  Thu Aug 19 19:26:42 1999
From: fan at katan.cybercom.net (fan@katan.cybercom.net)
Date: Thu, 19 Aug 1999 13:26:42 -0400
Subject: [R] managing .RData
Message-ID: <199908191726.NAA26546@katan.cybercom.net>

Unlike in S-plus, the datasets for R are in a single file .RData. Consequently,
it becomes hard to clean the objects after it grew too big.
In particular, I wonder
  o how to locate the objects with big sizes (and then delete them) 
    among hundreds of objects (output of ls()). In Splus on UNIX, I use ls in
    the shell to work on this, since objects correspond to separate UNIX files.
    For R, this must be worked on differently.
  o how to add another database (data + functions) in the search path.
    In Splus, I use
    attach("directory/.Data")
    This way, I could keep the 
    It seems not work in R. 
    Error: attach only works for lists and data frames

    Creating a library will be one solution. Some data are not permanent.
    Are there some simple commands to expand the search path?

If you had similar experiences and have found a way, please let me know. 
Regards

Fan
  

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Thu Aug 19 20:02:02 1999
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Thu, 19 Aug 1999 14:02:02 -0400
Subject: [R] Mathematical Superscript on the y-axis of a plot
Message-ID: <OFA3EA8CD5.7BEE03CF-ON852567D2.0062EE51@hgsi.com>


"Advertised"  used merely as an expression...
Thanks for the solution.



                                                                                                              
                    Peter Dalgaard BSA                                                                        
                    <p.dalgaard at biostat.        To:     partha_bagchi at hgsi.com                                
                    ku.dk>                      cc:     r-help at stat.math.ethz.ch                              
                    Sent by:                    Subject:     Re: [R] Mathematical Superscript on the y-axis   
                    owner-r-help at stat.ma        of a plot                                                     
                    th.ethz.ch                                                                                
                                                                                                              
                                                                                                              
                    08/19/1999 12:46 PM                                                                       
                                                                                                              
                                                                                                              



partha_bagchi at hgsi.com writes:

> This works as advertised:
> > plot(c(1:10), ylab= expression(paste(x^ theta)))
>
> This does not:
> >plot(c(1:10), ylab= expression(paste(x^ {++})))

It's hardly *advertised*...

Expressions still need to be syntactically correct and ther are no
operands to those '+' operators. Try

 plot(c(1:10), ylab= expression(x^"++"))

(the paste is unnecessary in your first example too)
--
   O__  ---- Peter Dalgaard             Blegdamsvej 3
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bhm at math.uio.no  Fri Aug 20 09:43:05 1999
From: bhm at math.uio.no (=?iso-8859-1?Q?Bj=F8rn-Helge_Mevik?=)
Date: 20 Aug 1999 09:43:05 +0200
Subject: [R] Referencing R in journal paper?
Message-ID: <s3s3dxex5h2.fsf@janus.uio.no>


I'm using R for calculations and plots in a statistical paper.  Is
there a canonical reference to use in the bibliography?  (Or is it not
common to acknowledge computer programs in journal papers?)


-- 
Bj?rn-Helge Mevik <bhm at math.uio.no>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Aug 20 12:38:42 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 20 Aug 1999 12:38:42 +0200
Subject: [R] Referencing R in journal paper?
In-Reply-To: <s3s3dxex5h2.fsf@janus.uio.no> (message from
	=?iso-8859-1?Q?Bj=F8rn-Helge_Mevik?= on 20 Aug 1999 09:43:05 +0200)
References: <s3s3dxex5h2.fsf@janus.uio.no>
Message-ID: <199908201038.MAA13730@sophie.ethz.ch>

>>>>> On 20 Aug 1999 09:43:05 +0200, =?iso-8859-1?Q?Bj=F8rn-Helge_Mevik?= <bhm at math.uio.no> said:

    BHMevik> I'm using R for calculations and plots in a statistical paper.
    BHMevik> Is there a canonical reference to use in the bibliography?
    BHMevik> (Or is it not common to acknowledge computer programs in
    BHMevik> journal papers?)

    BHMevik> -- Bjrn-Helge Mevik <bhm at math.uio.no>

Yes, it's in the R FAQ  
     (on CRAN, or even in your toplevel directory of the source):

  R_FAQ>      @article{,
  R_FAQ>        author =    {Ross Ihaka and Robert Gentleman},
  R_FAQ>        title =     {R: A Language for Data Analysis and Graphics},
  R_FAQ>        journal =   {Journal of Computational and Graphical Statistics},
  R_FAQ>        year =      1996,
  R_FAQ>        volume =    5,
  R_FAQ>        number =    3,
  R_FAQ>        pages =     {299--314}
  R_FAQ>      }
  R_FAQ> 
  R_FAQ> This is also the reference for R to use in publications.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jonathan.myles at mrc-bsu.cam.ac.uk  Fri Aug 20 12:42:49 1999
From: jonathan.myles at mrc-bsu.cam.ac.uk (Jonathan Myles)
Date: Fri, 20 Aug 1999 11:42:49 +0100 (BST)
Subject: [R] Referencing R in journal paper?
In-Reply-To: <s3s3dxex5h2.fsf@janus.uio.no> (message from
	=?iso-8859-1?Q?Bj=F8rn-Helge_Mevik?= on 20 Aug 1999 09:43:05 +0200)
References: <s3s3dxex5h2.fsf@janus.uio.no>
Message-ID: <199908201042.LAA06474@rameau.mrc-bsu.cam.ac.uk>




   I'm using R for calculations and plots in a statistical paper.  Is
   there a canonical reference to use in the bibliography?  (Or is it not
   common to acknowledge computer programs in journal papers?)


   -- 
   Bjorn-Helge Mevik <bhm at math.uio.no>





@article{ihaka:gentleman:96,
  author =       {Ross Ihaka and Robert Gentleman},
  title =        {R: A Language for Data Analysis and Graphics},
  journal =      {Journal of Computational and Graphical Statistics},
  year =         {1996},
  volume =       {5},
  number =       {3},
  pages =        {299--314}
}


Jonathan

-- 
Dr. Jonathan Myles         e-mail:jonathan.myles at mrc-bsu.cam.ac.uk
MRC Biostatistics Unit     Tel. 01223 330371
Institute of Public Health FAX  01223 330388
University Forvie Site
Robinson Way
CAMBRIDGE
CB2 2SR                   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at tu-bs.de  Thu Aug 19 14:42:53 1999
From: peter at tu-bs.de (Peter Malewski)
Date: Thu, 19 Aug 1999 14:42:53 +0200 (CEST)
Subject: [R] OT: PSTOWMF
Message-ID: <Pine.LNX.4.10.9908191437570.2146-100000@levi.dlevi>

Hallo,
	I've produced via R-0.62 several Life-tables 50*6 (mfrow=c(2,3))
as postscriptgraphs. The phd student, who asked for this, use word for
windows--therefore i converted the whole stuff with pstoimg to gifs.
Unlikly the result is not sufficient (I was told)...

Is there a tool to convert ps to wmf/emf ? I looked for it but haven't
found anything...

Thanks for an answer
Peter

*********************** Life is hard and then you die ********************
P.Malewski					Tel.: 0531 500965
Maschplatz 8					Email: P.Malewski at tu-bs.de
************************38114 Braunschweig********************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Aug 20 16:31:37 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 20 Aug 1999 16:31:37 +0200
Subject: [R] R-mailing list -- short `disruption' Monday Aug.23 (Europe morning)
Message-ID: <199908201431.QAA28824@sophie.ethz.ch>

On ~ 6.30 UT ( = GMT), i.e. 8.30 middle European summer time,
our mail server will be moved to a new building
(and routing to that place will be switched).

This may give delayed Messages on R-help and the other R-lists
hopefully for less than an hour only.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
{List Maintainer}

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 20 17:03:25 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 20 Aug 1999 16:03:25 +0100 (BST)
Subject: [R] OT: PSTOWMF
Message-ID: <199908201503.QAA04139@toucan.stats.ox.ac.uk>

> Date: Thu, 19 Aug 1999 14:42:53 +0200 (CEST)
> From: Peter Malewski <peter at tu-bs.de>
> To: r-help at stat.math.ethz.ch
> Subject: [R] OT: PSTOWMF
> 
> Hallo,
> 	I've produced via R-0.62 several Life-tables 50*6 (mfrow=c(2,3))
> as postscriptgraphs. The phd student, who asked for this, use word for
> windows--therefore i converted the whole stuff with pstoimg to gifs.
> Unlikly the result is not sufficient (I was told)...
> 
> Is there a tool to convert ps to wmf/emf ? I looked for it but haven't
> found anything...

It cannot be done. PostScript is a fully fledged programming language,
and wmf/emf is a low-level description. Quarts don't fit into pint pots!

The obvious answer (to me) is to use R for Windows 0.64.2 to print the
plots as extended metafiles (which means recomputing them unless you
keep the .RData, and for such an old version of R that it is
compatible).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Fri Aug 20 17:15:03 1999
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Fri, 20 Aug 1999 17:15:03 +0200 (CEST)
Subject: [R] OT: PSTOWMF
In-Reply-To: <199908201503.QAA04139@toucan.stats.ox.ac.uk>
References: <199908201503.QAA04139@toucan.stats.ox.ac.uk>
Message-ID: <14269.28919.983656.212427@galadriel.ci.tuwien.ac.at>

>>>>> On Fri, 20 Aug 1999 16:03:25 +0100 (BST),
>>>>> Prof Brian Ripley (PBR) wrote:

>> Date: Thu, 19 Aug 1999 14:42:53 +0200 (CEST)
>> From: Peter Malewski <peter at tu-bs.de>
>> To: r-help at stat.math.ethz.ch
>> Subject: [R] OT: PSTOWMF
>> 
>> Hallo,
>> I've produced via R-0.62 several Life-tables 50*6 (mfrow=c(2,3))
>> as postscriptgraphs. The phd student, who asked for this, use word for
>> windows--therefore i converted the whole stuff with pstoimg to gifs.
>> Unlikly the result is not sufficient (I was told)...
>> 
>> Is there a tool to convert ps to wmf/emf ? I looked for it but haven't
>> found anything...

PBR> It cannot be done. PostScript is a fully fledged programming language,
PBR> and wmf/emf is a low-level description. Quarts don't fit into pint pots!

PBR> The obvious answer (to me) is to use R for Windows 0.64.2 to print the
PBR> plots as extended metafiles (which means recomputing them unless you
PBR> keep the .RData, and for such an old version of R that it is
PBR> compatible).

Another possible way (though never 1:1, see above) is to load the
postscript file into a windows program that can import it and then
re-export it to WMF or use the clipboard. CorelDraw did a reasonable
job for many of my graphics. Of course it's a lot of point&click
... but what do you expect in windows ...


fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Fri Aug 20 18:18:27 1999
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 20 Aug 1999 12:18:27 -0400
Subject: [R] OT: PSTOWMF
In-Reply-To: <Pine.LNX.4.10.9908191437570.2146-100000@levi.dlevi>
Message-ID: <3.0.5.32.19990820121827.00a16450@mcmail.cis.mcmaster.ca>

At 02:42 PM 8/19/1999 +0200, you wrote:
>	I've produced via R-0.62 several Life-tables 50*6 (mfrow=c(2,3))
>as postscriptgraphs. The phd student, who asked for this, use word for
>windows--therefore i converted the whole stuff with pstoimg to gifs.
>Unlikly the result is not sufficient (I was told)...
>
>Is there a tool to convert ps to wmf/emf ? I looked for it but haven't
>found anything...
>

Peter,

I use Corel Draw for this purpose, as well as generally to manipulate and
draw on graphs.

I hope that this helps,
 John

|----------------------------------------------------|
| John Fox                          jfox at McMaster.ca |
| Department of Sociology        McMaster University |
|----------------------------------------------------|
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From syring at email.com  Fri Aug 20 19:47:25 1999
From: syring at email.com (Karl M. Syring)
Date: Fri, 20 Aug 1999 19:47:25 +0200
Subject: [R] OT: PSTOWMF
In-Reply-To: <Pine.LNX.4.10.9908191437570.2146-100000@levi.dlevi>
Message-ID: <000001beeb34$1014fbf0$6c119d3e@fenris>

This really gets a kind of faq topic:
on Windows you can add a WMF preview to ps/eps file with the
ghostscript/gsview combo. The WMF produced seems to be a placeable metafile
of good quality. Thus you should just send him the postscript files and let
him do his homework.

Karl


> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Peter Malewski
> Sent: Donnerstag, 19. August 1999 14:43
> To: r-help at stat.math.ethz.ch
> Subject: [R] OT: PSTOWMF
>
>
> Hallo,
> 	I've produced via R-0.62 several Life-tables 50*6 (mfrow=c(2,3))
> as postscriptgraphs. The phd student, who asked for this, use word for
> windows--therefore i converted the whole stuff with pstoimg to gifs.
> Unlikly the result is not sufficient (I was told)...
>
> Is there a tool to convert ps to wmf/emf ? I looked for it but haven't
> found anything...
>
> Thanks for an answer
> Peter
>
> *********************** Life is hard and then you die ********************
> P.Malewski					Tel.: 0531 500965
> Maschplatz 8					Email: P.Malewski at tu-bs.de
> ************************38114 Braunschweig********************************
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info",
> "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Aug 20 20:29:59 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 20 Aug 1999 19:29:59 +0100 (BST)
Subject: [R] OT: PSTOWMF
In-Reply-To: <000001beeb34$1014fbf0$6c119d3e@fenris>
Message-ID: <Pine.GSO.4.05.9908201920500.22948-100000@auk.stats>

On Fri, 20 Aug 1999, Karl M. Syring wrote:

> This really gets a kind of faq topic:
> on Windows you can add a WMF preview to ps/eps file with the
> ghostscript/gsview combo. The WMF produced seems to be a placeable metafile
> of good quality. Thus you should just send him the postscript files and let
> him do his homework.

That is definitely a bitmap: it says so in the epstool docs (and GSView
has epstool embedded). You can do this directly with epstool (same
author, same place, also for Unix).

`When adding a WMF preview using -w, the preview contains a bitmap,
not a vector representation.  If -zdevice is not used, the
Ghostscript device bmpmono or pbmraw will be used to create the bitmap.
The bitmap in the metafile will be 1bit/pixel black and white.
  epstool -b -w -onew.eps old.eps
If you want a colour bitmap in the metafile, specify a bitmap device 
which supports colour.
  epstool -b -w -zbmp256 -onew.eps old.eps'

If you want a vector result, you _may_ get one from conversion in
Adobe Illustrator or Corel Draw or Mayura Draw, but I usually don't.
I have not tried recent R graphics, but that is becuase R can produce
emf directly these days.

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at tu-bs.de  Thu Aug 19 17:16:25 1999
From: peter at tu-bs.de (Peter Malewski)
Date: Thu, 19 Aug 1999 17:16:25 +0200 (CEST)
Subject: [R] summary: PSTOWMF
In-Reply-To: <14269.28919.983656.212427@galadriel.ci.tuwien.ac.at>
Message-ID: <Pine.LNX.4.10.9908191655280.811-100000@levi.dlevi>

Thanks for all, who answered my question (convert ps to wmf)
listened below. Because I askes for it at two lists, the German TeX-User
list an on R-Help, I'll summerize to both lists.
The answers:
* Because postscript  "PostScript is a fully fledged programming language,
   and wmf/emf is a low-level description." (Prof. B. Ripley) it is
  imposible (R-Help)
* Windows programs like corel draw (and in the future the linux version
  of this program i suggest) are tools to do a convertation---but with
  limitations (see above)
* Because word can't handle >50 images, the Latex would be better. 
* Word accepts eps files.
* For a non-latex user a txt file without formats can be a good way too
  start up with latex ---interactively with a user, who can be a teacher. 
  "This is the title there you'll insert \title"

Only R-HELP: Is it a good idea to include the code for the wmf-output
in the Unix R code, or are there special windows libraries the conditio
sine qua non?-- Just an idea...

thanks 
peter

> >>>>> On Fri, 20 Aug 1999 16:03:25 +0100 (BST),
> >>>>> Prof Brian Ripley (PBR) wrote:
> 
> >> Date: Thu, 19 Aug 1999 14:42:53 +0200 (CEST)
> >> From: Peter Malewski <peter at tu-bs.de>
> >> To: r-help at stat.math.ethz.ch
> >> Subject: [R] OT: PSTOWMF
> >> 
> >> Hallo,
> >> I've produced via R-0.62 several Life-tables 50*6 (mfrow=c(2,3))
> >> as postscriptgraphs. The phd student, who asked for this, use word for
> >> windows--therefore i converted the whole stuff with pstoimg to gifs.
> >> Unlikly the result is not sufficient (I was told)...
> >> 
> >> Is there a tool to convert ps to wmf/emf ? I looked for it but haven't
> >> found anything...
> 
> PBR> It cannot be done. PostScript is a fully fledged programming language,
> PBR> and wmf/emf is a low-level description. Quarts don't fit into pint pots!
> 
> PBR> The obvious answer (to me) is to use R for Windows 0.64.2 to print the
> PBR> plots as extended metafiles (which means recomputing them unless you
> PBR> keep the .RData, and for such an old version of R that it is
> PBR> compatible).
> 
> Another possible way (though never 1:1, see above) is to load the
> postscript file into a windows program that can import it and then
> re-export it to WMF or use the clipboard. CorelDraw did a reasonable
> job for many of my graphics. Of course it's a lot of point&click
> ... but what do you expect in windows ...
> 
> 
> fritz
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Aug 20 21:49:37 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Aug 1999 21:49:37 +0200
Subject: [R] summary: PSTOWMF
In-Reply-To: Peter Malewski's message of "Thu, 19 Aug 1999 17:16:25 +0200 (CEST)"
References: <Pine.LNX.4.10.9908191655280.811-100000@levi.dlevi>
Message-ID: <x2hflu2pwu.fsf@blueberry.kubism.ku.dk>

Peter Malewski <peter at tu-bs.de> writes:

> Only R-HELP: Is it a good idea to include the code for the wmf-output
> in the Unix R code, or are there special windows libraries the conditio
> sine qua non?-- Just an idea...

I had the same one, but I believe that all metafile writing is done
with Windows routines, so it's pretty well impossible. Unless one
wants to dig out the .wmf specification and code a driver from
scratch. (see www.wotsit.org if anyone is interested in trying....)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From syring at email.com  Mon Aug 23 14:31:13 1999
From: syring at email.com (Karl M. Syring)
Date: Mon, 23 Aug 1999 14:31:13 +0200
Subject: [R] OT: PSTOWMF
In-Reply-To: <Pine.GSO.4.05.9908201920500.22948-100000@auk.stats>
Message-ID: <000001beed63$63199a00$ea109d3e@fenris>

I have forgotten something important here: Word will use the real eps file
if you print to a postscript printer (Apple laser writer does fine) and will
use the correct bounding box.
The nice thing with this procedure is that Word can not mess with the
picture, thus it can digest quite high number of figures (this is not always
the case with real metafiles); the print quality is excellent and you have a
preview on the screen. My notices say, that you can even add additional
labels to the preview.

Karl

> -----Original Message-----
> From: ripley at auk.stats [mailto:ripley at auk.stats]On Behalf Of Prof Brian
> D Ripley
> Sent: Freitag, 20. August 1999 20:30
> To: Karl M. Syring
> Cc: Peter Malewski; r-help at stat.math.ethz.ch
> Subject: RE: [R] OT: PSTOWMF
>
>
> On Fri, 20 Aug 1999, Karl M. Syring wrote:
>
> > This really gets a kind of faq topic:
> > on Windows you can add a WMF preview to ps/eps file with the
> > ghostscript/gsview combo. The WMF produced seems to be a
> placeable metafile
> > of good quality. Thus you should just send him the postscript
> files and let
> > him do his homework.
>
> That is definitely a bitmap: it says so in the epstool docs (and GSView
> has epstool embedded). You can do this directly with epstool (same
> author, same place, also for Unix).
>
> `When adding a WMF preview using -w, the preview contains a bitmap,
> not a vector representation.  If -zdevice is not used, the
> Ghostscript device bmpmono or pbmraw will be used to create the bitmap.
> The bitmap in the metafile will be 1bit/pixel black and white.
>   epstool -b -w -onew.eps old.eps
> If you want a colour bitmap in the metafile, specify a bitmap device
> which supports colour.
>   epstool -b -w -zbmp256 -onew.eps old.eps'
>
> If you want a vector result, you _may_ get one from conversion in
> Adobe Illustrator or Corel Draw or Mayura Draw, but I usually don't.
> I have not tried recent R graphics, but that is becuase R can produce
> emf directly these days.
>
> Brian
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clive at research.bell-labs.com  Mon Aug 23 21:40:48 1999
From: clive at research.bell-labs.com (Clive Loader)
Date: Mon, 23 Aug 1999 15:40:48 -0400 (EDT)
Subject: smcp.shar (was [R] linking object files)
Message-ID: <199908231940.PAA06943@jessie.research.bell-labs.com>

I've been out of town, and too hastily deleted some earlier messages
from this thread....

> > > Dear friends. I would like to link an object file made in C.
> > Dyn.load rather wants to link a whole library and I only wanted to
> > link this small object file. I followed instructions given for S -
> > by Clive Loader in his software for changepoint handling and
> > it is his object file I made from
> > http://cm.bell-labs.com/cm/ms/departments/sia/clive/smcp.shar
 
That url should work. The smcp.shar archive was specific for simulations
in an Ann.Stat. paper a couple of years ago, and the interface would need
rewriting to work on other data. I haven't tried running in R.

The methods can be implemented with locfit, using left and right smooths. 
This example uses the penny thickness data (from Scott, Multivariate Density
Estimation, p234,276):

> midp <- (1945:1988)+0.5
> fitl <- locfit(thickness~left(year), data=penny,alpha=c(0,10),deg=1,ev=midp)
> fitr <- locfit(thickness~right(year),data=penny,alpha=c(0,10),deg=1,ev=midp)

To plot Delta-hat(t)^2 in S+ 5.0,

> plot((preplot(fitr)-preplot(fitl))^2, type="b")

In R, that would have to be

> pr <- knots(fitr,what="coef")
> pl <- knots(fitl,what="coef")
> plot(midp,(pr-pl)^2,type="b")

(when I package my current version of locfit, it allows the user to specify
 a set of basis functions, so all this can be done with one fit).

--Clive.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From roger at ysidro.econ.uiuc.edu  Mon Aug 23 22:32:15 1999
From: roger at ysidro.econ.uiuc.edu (Roger Koenker)
Date: Mon, 23 Aug 1999 15:32:15 -0500 (CDT)
Subject: [R] s_copy
Message-ID: <Pine.SOL.3.96.990823153115.21321Y-100000@ysidro>



I'm trying to port some routines from S to R.  The code includes some
fortran stuff that calls lapack.  In the past in similar situations, but
without any lapack calls, I've had success using simply, as in the 
V&R R-complements,

        R SHLIB -o rq.so *.f

then in R

        dyn.load("rq.so")

But now when the code is called from R, R crashes and I get a message

        undefined symbol:  s_copy 

This reference is evidently resolved in the Splus linking, but I vaguely
recall problems like this in ancient versions of Splus.

I'm running V63.2 of R for i586/linux.

If someone could provide some diagnosis, or suggestions for further testing,
I would be most grateful.


url:	http://www.econ.uiuc.edu		Roger Koenker	
email	roger at ysidro.econ.uiuc.edu		Department of Economics
vox: 	217-333-4558				University of Illinois
fax:   	217-244-6678				Champaign, IL 61820

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Tue Aug 24 07:41:32 1999
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Tue, 24 Aug 1999 17:41:32 +1200
Subject: [R] Error in get(x, envir, mode, inherits)
Message-ID: <3.0.5.32.19990824174132.009525f0@pop.stats.waikato.ac.nz>

Dear R list,

members of my course have encountered the following error message:

> slm <- lm(price ~ engsize, autoframe)
Error in get(x, envir, mode, inherits) : variable "FUN" was not found
[more context is given in the fuller listing below].

Once the error is encountered it seems to persist; for example early in one
session:

> summary(blin.fit)

Call:
lm(formula = Response ~ Row + Column, data = binframe)

Residuals:
       Min         1Q     Median         3Q        Max 
-1.417e+00 -5.833e-01 -4.025e-16  6.042e-01  1.083e+00 

Coefficients:
            Estimate Std. Error t value Pr(>|t|)    
(Intercept)  10.3333     0.7169  14.415 6.98e-06 ***
Rowii         4.7500     0.7169   6.626  0.00057 ***
Rowiii       -4.7500     0.7169  -6.626  0.00057 ***
ColumnII      4.3333     0.8278   5.235  0.00195 ** 
ColumnIII     2.3333     0.8278   2.819  0.03040 *  
ColumnIV      1.0000     0.8278   1.208  0.27247    
---
Signif. codes:  0  `***'  0.001  `**'  0.01  `*'  0.05  `.'  0.1  ` '  1 

Residual standard error: 1.014 on 6 degrees of freedom
Multiple R-Squared: 0.9717,     Adjusted R-squared: 0.9482 
F-statistic: 41.27 on 5 and 6 degrees of freedom,       p-value: 0.0001434 


but later on, after the error in creating slm:
> summary(blin.fit)

Call:
lm(formula = Response ~ Row + Column, data = binframe)

Residuals:
Error in get(x, envir, mode, inherits) : variable "FUN" was not found



Finally, here are the commands and output leading up to the first instance
of the error:  [any help greatly appreciated!]


> autoframe <- read.table("z:/321 Folder/Data/auto.dat", header=T)
> dim(autoframe)
[1] 289  11
> summary(autoframe)
      brand             id           engsize         power
weight    
 Min.   : 1.00   Min.   :  1.0   Min.   : 796   Min.   : 29.00   Min.   :
615  
 1st Qu.: 7.00   1st Qu.: 73.0   1st Qu.:1468   1st Qu.: 57.00   1st Qu.:
890  
 Median :16.00   Median :148.0   Median :1949   Median : 77.00   Median
:1060  
 Mean   :16.38   Mean   :146.7   Mean   :2007   Mean   : 86.37   Mean
:1081  
 3rd Qu.:23.00   3rd Qu.:220.0   3rd Qu.:2226   3rd Qu.:109.00   3rd
Qu.:1250  
 Max.   :37.00   Max.   :294.0   Max.   :6750   Max.   :235.00   Max.
:2360  
      length          pricem           pricea            auto       
 Min.   :320.0   Min.   :     0   Min.   :     0   Min.   :0.0000  
 1st Qu.:403.0   1st Qu.: 19570   1st Qu.:     0   1st Qu.:0.0000  
 Median :436.0   Median : 26530   Median :     0   Median :0.0000  
 Mean   :429.4   Mean   : 39200   Mean   : 27840   Mean   :0.4291  
 3rd Qu.:454.0   3rd Qu.: 49500   3rd Qu.: 37700   3rd Qu.:1.0000  
 Max.   :520.0   Max.   :290000   Max.   :310000   Max.   :1.0000  
     nomanual          price       
 Min.   :0.0000   Min.   : 13990  
 1st Qu.:0.0000   1st Qu.: 24690  
 Median :0.0000   Median : 35620  
 Mean   :0.1661   Mean   : 54510  
 3rd Qu.:0.0000   3rd Qu.: 63500  
 Max.   :1.0000   Max.   :310000  
> attach(autoframe)
> slm <- lm(price ~ engsize, autoframe)
Error in get(x, envir, mode, inherits) : variable "FUN" was not found
> summary(slm)
Error: Object "slm" not found
>



Murray Jorgensen

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Aug 24 08:48:50 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 24 Aug 1999 07:48:50 +0100 (BST)
Subject: [R] s_copy
In-Reply-To: <Pine.SOL.3.96.990823153115.21321Y-100000@ysidro>
Message-ID: <Pine.GSO.4.05.9908240741451.3708-100000@auk.stats>

On Mon, 23 Aug 1999, Roger Koenker wrote:

> 
> 
> I'm trying to port some routines from S to R.  The code includes some
> fortran stuff that calls lapack.  In the past in similar situations, but
> without any lapack calls, I've had success using simply, as in the 
> V&R R-complements,
> 
>         R SHLIB -o rq.so *.f
> 
> then in R
> 
>         dyn.load("rq.so")
> 
> But now when the code is called from R, R crashes and I get a message
> 
>         undefined symbol:  s_copy 
> 
> This reference is evidently resolved in the Splus linking, but I vaguely
> recall problems like this in ancient versions of Splus.
> 
> I'm running V63.2 of R for i586/linux.
> 
> If someone could provide some diagnosis, or suggestions for further testing,
> I would be most grateful.

I had exactly that (and two others) on early versions of the mclust port.
If I recall correctly, it means you need to load in more of LAPACK,
as I believe s_copy is a LAPACK utility routine: it is certainly
in the S executable to link against.

If you use 0.65.0 (due for release on Friday) it will tell you at
dyn.load time about missing symbols. I do recommend an upgrade.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Aug 24 10:22:14 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Aug 1999 10:22:14 +0200
Subject: [R] Error in get(x, envir, mode, inherits)
In-Reply-To: Murray Jorgensen's message of "Tue, 24 Aug 1999 17:41:32 +1200"
References: <3.0.5.32.19990824174132.009525f0@pop.stats.waikato.ac.nz>
Message-ID: <x2k8ql4mh5.fsf@blueberry.kubism.ku.dk>

Murray Jorgensen <maj at waikato.ac.nz> writes:

> Dear R list,
> 
> members of my course have encountered the following error message:
> 
> > slm <- lm(price ~ engsize, autoframe)
> Error in get(x, envir, mode, inherits) : variable "FUN" was not found
> [more context is given in the fuller listing below].
> 
...
> > autoframe <- read.table("z:/321 Folder/Data/auto.dat", header=T)

Windows, eh? Which version of R? 

It might be a memory corruption bug of some sort, but without the
actual dataset it will be difficult to reproduce.

Does the same thing happen with the built-in data sets (e.g.
airquality), like

data(airquality)
dim(airquality)
summary(airquality)
attach(airquality)
slm<-lm(Ozone~Temp,airquality)

which would seem to be equivalent to your example (and doesn't crash
for me). 

Is your example the *entire* set of statements leading to the error
condition or might there be strange things going on earlier on?
Accidentally redefining a function may lead also to this kind of
effect.

One useful thing would be to issue a traceback() when the error
occurs, which should tell you which function the error occurred in.
Then one might set a debug() on the function and single step.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From roger at ysidro.econ.uiuc.edu  Tue Aug 24 20:33:40 1999
From: roger at ysidro.econ.uiuc.edu (Roger Koenker)
Date: Tue, 24 Aug 1999 13:33:40 -0500 (CDT)
Subject: [R] s_copy
In-Reply-To: <Pine.GSO.4.05.9908240741451.3708-100000@auk.stats>
Message-ID: <Pine.SOL.3.96.990824131915.23121F-100000@ysidro>

A brief report on the s_copy problem described below.

It turns out that s_copy at least in my version of redhat linux is part of
the f2c library.  There is a routine scopy in the blas, but this is different,
I believe.  I managed to get things to work by putting -lf2c on the 

	R SHLIB -o rq.so *.f

line.  It seems that one can also accomplish this by setting, 

	FFLAGS = -lf2c

in Makeconf, but this is probably a bad idea.  If someone has a good
suggestion on how to do this for purposes of making a package, I would
be grateful.

On a related note, I would like to make a plea for a more inclusive version
of the blas, and lapack in general.  It would be nice to have the level 3
blas available, and even better if the rest of lapack were also there.


url:	http://www.econ.uiuc.edu		Roger Koenker	
email	roger at ysidro.econ.uiuc.edu		Department of Economics
vox: 	217-333-4558				University of Illinois
fax:   	217-244-6678				Champaign, IL 61820

On Tue, 24 Aug 1999, Prof Brian D Ripley wrote:

> On Mon, 23 Aug 1999, Roger Koenker wrote:
> 
> > 
> > 
> > I'm trying to port some routines from S to R.  The code includes some
> > fortran stuff that calls lapack.  In the past in similar situations, but
> > without any lapack calls, I've had success using simply, as in the 
> > V&R R-complements,
> > 
> >         R SHLIB -o rq.so *.f
> > 
> > then in R
> > 
> >         dyn.load("rq.so")
> > 
> > But now when the code is called from R, R crashes and I get a message
> > 
> >         undefined symbol:  s_copy 
> > 
> > This reference is evidently resolved in the Splus linking, but I vaguely
> > recall problems like this in ancient versions of Splus.
> > 
> > I'm running V63.2 of R for i586/linux.
> > 
> > If someone could provide some diagnosis, or suggestions for further testing,
> > I would be most grateful.
> 
> I had exactly that (and two others) on early versions of the mclust port.
> If I recall correctly, it means you need to load in more of LAPACK,
> as I believe s_copy is a LAPACK utility routine: it is certainly
> in the S executable to link against.
> 
> If you use 0.65.0 (due for release on Friday) it will tell you at
> dyn.load time about missing symbols. I do recommend an upgrade.
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Tue Aug 24 23:49:41 1999
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Wed, 25 Aug 1999 09:49:41 +1200
Subject: [R] Error in get(x, envir, mode, inherits)
In-Reply-To: <x2k8ql4mh5.fsf@blueberry.kubism.ku.dk>
References: <Murray Jorgensen's message of "Tue,
            24 Aug 1999 17:41:32 +1200"> <3.0.5.32.19990824174132.009525f0@pop.stats.waikato.ac.nz>
Message-ID: <3.0.5.32.19990825094941.00955c30@pop.stats.waikato.ac.nz>

At 10:22 AM 8/24/99 +0200, Peter Dalgaard BSA wrote:
>
>Windows, eh? Which version of R? 
>

Initially 0.64.1, but reproduced with 0.64.2.

>It might be a memory corruption bug of some sort, but without the
>actual dataset it will be difficult to reproduce.
>
>Does the same thing happen with the built-in data sets (e.g.
>airquality), like
>
>data(airquality)
>dim(airquality)
>summary(airquality)
>attach(airquality)
>slm<-lm(Ozone~Temp,airquality)
>
>which would seem to be equivalent to your example (and doesn't crash
>for me). 
>

I will attempt to reproduce the fault using built-in data; failing that I
will email you the data [I don't suppose broadcasting a non-tiny dataset to
the whole list is very good form!].

>Is your example the *entire* set of statements leading to the error
>condition or might there be strange things going on earlier on?
>Accidentally redefining a function may lead also to this kind of
>effect.

No, but earlier statements seemed innocuous. I will seek a minimal set of
statements generating the error.

>One useful thing would be to issue a traceback() when the error
>occurs, which should tell you which function the error occurred in.
>Then one might set a debug() on the function and single step.

I'll try that.


>   O__  ---- Peter Dalgaard             Blegdamsvej 3  
>  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
> (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
>~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907


Murray Jorgensen
[no .sig yet on this new PC.]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Wed Aug 25 01:28:37 1999
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Wed, 25 Aug 1999 11:28:37 +1200
Subject: [R] Error in get(x, envir, mode, inherits)
In-Reply-To: <x2k8ql4mh5.fsf@blueberry.kubism.ku.dk>
References: <Murray Jorgensen's message of "Tue,
            24 Aug 1999 17:41:32 +1200"> <3.0.5.32.19990824174132.009525f0@pop.stats.waikato.ac.nz>
Message-ID: <3.0.5.32.19990825112837.00949700@pop.stats.waikato.ac.nz>

I have reproduced the error with a smaller set of commands and a smaller
data file on two PCs under both 0.64.1 and 0.64.2.

I have not reproduced it with an inbuilt data set (except where it has
previously occured with my problem data.)

> autoframe <- read.table("f:/maj/R&Splus/auto2.txt", header=T)
> attach(autoframe)
> slm <- lm(price ~ engsize, autoframe)
Error in get(x, envir, mode, inherits) : variable "FUN" was not found
> traceback()
[1] "get(as.character(f), mode = \"function\")"
[2] "match.fun(FUN)"                           
[3] "lapply(answer, length)"                   
[4] "unlist(lapply(answer, length))"           
[5] "unique(unlist(lapply(answer, length)))"   
[6] "sapply(xlev, is.null)"                    
[7] "lm(price ~ engsize, autoframe)"           
> data(airquality)
> attach(airquality)
> slm<-lm(Ozone~Temp,airquality)
Error in get(x, envir, mode, inherits) : variable "FUN" was not found


I venture to include the dataset auto2.dat as it is not overly large:

brand	id	engsize	power	weight	length	pricem	pricea	auto	nomanual	price
 1    1  1490   77   910  402   35750       0  0  0   35750
 1    2  1712   87   910  402   39850       0  0  0   39850
 1    3  1490   77   915  402   40350       0  0  0   40350
 1    4  1779   88  1060  433   46850       0  0  0   46850
 1    5  2492  115  1160  433   59250       0  0  0   59250
 2    6  1781   66  1020  439   50590   52390  1  0   50590
 2    7  1781   82  1050  439   56620       0  0  0   56620
 2    8  1781   82  1140  439   79730       0  0  0   79730
 2    9  1994   85  1060  446   62200       0  0  0   62200
 2   10  2226  100  1200  446   79990       0  0  0   79990
 2   11  2226  100  1060  442   69500       0  0  0   69500
 2   12  2226  100  1200  442   87610       0  0  0   87610
 2   13  1994   85  1250  479   71200       0  0  0   71200
 2   14  2226  101  1250  479       0   89810  1  1   89810
 2   15  2226  101  1330  479  107800       0  0  0  107800
 2   16  2226  101  1290  479       0  101410  1  1  101410
 2   17  2226  101  1370  479  115700       0  0  0  115700
 2   18  2144  134  1300  481       0  130920  1  1  130920
 2   19  2144  134  1410  481  144800       0  0  0  144800
 2   20  2144  134  1450  481  154810       0  0  0  154810
 2   21  2144  147  1300  440  160200       0  0  0  160200
 3   22  1766   77  1010  432   49449   55402  1  0   49449
 3   23  1766   77  1010  432   54690   58668  1  0   54690
 3   24  1990   95  1080  433   60725   64925  1  0   60725
 3   25  1990   95  1080  433   63821   67944  1  0   63821



Thanks to Peter Dalgaard and Brian Ripley for their suggestions so far.

Murray Jorgensen



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Aug 25 09:59:43 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 25 Aug 1999 08:59:43 +0100 (BST)
Subject: [R] Error in get(x, envir, mode, inherits)
In-Reply-To: <3.0.5.32.19990825112837.00949700@pop.stats.waikato.ac.nz>
Message-ID: <Pine.GSO.4.05.9908250852480.15089-100000@auk.stats>

On Wed, 25 Aug 1999, Murray Jorgensen wrote:

> I have reproduced the error with a smaller set of commands and a smaller
> data file on two PCs under both 0.64.1 and 0.64.2.

(and Windows, not that it matters here. But PCs also run R under Linux,
FreeBSD, ..., so please use bug.report() when reporting problems.)

> I have not reproduced it with an inbuilt data set (except where it has
> previously occured with my problem data.)

As a I got a private copy of this a couple of hours' ago, it is now solved.
The problem is that autoframe contains a column `length'.  There is a bug
in R that we will resolve, but for now, do not attach data frames with
columns called `length' and then try lm (or anything else using sapply).
Note that the attach here is both not needed and wasteful.  In general
attach can and probably should be avoided if possible.

> > autoframe <- read.table("f:/maj/R&Splus/auto2.txt", header=T)
> > attach(autoframe)
> > slm <- lm(price ~ engsize, autoframe)
> Error in get(x, envir, mode, inherits) : variable "FUN" was not found
[...] 

Using the data argument to lm puts autoframe at the top of the search
for variables in the model, weights, subsets, ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Aug 25 13:40:00 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Aug 1999 13:40:00 +0200
Subject: [R] Error in get(x, envir, mode, inherits)
In-Reply-To: Prof Brian D Ripley's message of "Wed, 25 Aug 1999 08:59:43 +0100 (BST)"
References: <Pine.GSO.4.05.9908250852480.15089-100000@auk.stats>
Message-ID: <x2r9ksxf5b.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> > > attach(autoframe)
> > > slm <- lm(price ~ engsize, autoframe)
> > Error in get(x, envir, mode, inherits) : variable "FUN" was not found
> [...] 
> 
> Using the data argument to lm puts autoframe at the top of the search
> for variables in the model, weights, subsets, ....

A quick and ugly fix for this is to replace the call to match.fun in
lapply with

FUN <- eval.parent(substitute(match.fun(FUN)))

This also applies (!) to various other places that need to deal with
FUN arguments (apply, sapply, sweep, outer). It might be preferable to
make match.fun smarter, at the expense of making it completely
obscure.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Aug 25 14:00:34 1999
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 25 Aug 1999 14:00:34 +0200
Subject: [R] Error in get(x, envir, mode, inherits)
In-Reply-To: <x2r9ksxf5b.fsf@blueberry.kubism.ku.dk> (message from Peter
	Dalgaard BSA on 25 Aug 1999 13:40:00 +0200)
References: <Pine.GSO.4.05.9908250852480.15089-100000@auk.stats> <x2r9ksxf5b.fsf@blueberry.kubism.ku.dk>
Message-ID: <199908251200.OAA00579@sophie.ethz.ch>

>>>>> On 25 Aug 1999 13:40, Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> said:

    PD> Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:
    >> > > attach(autoframe) > > slm <- lm(price ~ engsize, autoframe) >
    >> Error in get(x, envir, mode, inherits) : variable "FUN" was not
    >> found [...]
    >> 
    >> Using the data argument to lm puts autoframe at the top of the
    >> search for variables in the model, weights, subsets, ....

    PD> A quick and ugly fix for this is to replace the call to match.fun
    PD> in lapply with

    PD> FUN <- eval.parent(substitute(match.fun(FUN)))

    PD> This also applies (!) to various other places that need to deal
    PD> with FUN arguments (apply, sapply, sweep, outer). It might be
    PD> preferable to make match.fun smarter, at the expense of making it
    PD> completely obscure.

Well, I'd advocate strongly to improve  match.fun() in such a way.
As far as I remember, match.fun() was introduced exactly for the purpose
to be used as a simple reliable UI function
to handle all the search()/substitute/name clashes, etc.etc

This is also one of the things whose fix we'll probably have to postpone to
0.65.1 

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at esb.ucp.pt  Wed Aug 25 16:47:53 1999
From: peter at esb.ucp.pt (Peter Ho)
Date: Wed, 25 Aug 1999 15:47:53 +0100
Subject: [R] Multiple imputation and PCA
References: <14274.51998.621759.55290@galadriel.ci.tuwien.ac.at>
Message-ID: <37C40217.EB3A3@esb.ucp.pt>

Dear all,

I have a question regarding the use of multiple imputation folowed by doing a PCA
on imputed datasets. As I have a datset with missing values, applying a pca
directly would mean possible deleting some of the variables. Multiple imputation
was done on the original dataset which then calculated the missing values. I used
first the EM algorithm followed by DA algorithm using the program NORM by schafer.
I chose to genrate 5 imputed datasets. Each dataset has identical values, except
for the imputed missing values. The use of 5 datasets was to allow missing values
uncertainty to be considered.
Now the question.
What would be the correct procedure to do a PCA or any other analysis, to produce
estimates and their standard errors. I have followed the suggestion of schafer and
decided to do individual PCAs on all 5 datasets. This generates a set of loadings
and scores for each one. The idea would then be to combine the loadings and scores
to have an average estimate of both loadings and scores anf their standard errors.
A quick look at the summary and the scree plot of all 5 analyses show that they are
generally all the same. Of course the result is different loadings and scores.
Is this the correct why to analyse multiple imputated datsets for PCA? Or should
data from all 5 datsets be averaged into one datset and only one PCA analysis
conducted?

Any comments regarding this would be helpful.
By the way, I used princomp. I did not manage to get any scores data using prcomp.


Thanks.

Peter
--------------------
Peter Ho
Escola Superior de Biotecnologia
Universidade Cat?lica Portuguesa
Rua Dr. Ant?nio Bernardino de Almeida
4200 Porto
Portugal
Tel: ++351-2-5580043

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at esb.ucp.pt  Wed Aug 25 19:18:11 1999
From: peter at esb.ucp.pt (Peter Ho)
Date: Wed, 25 Aug 1999 18:18:11 +0100
Subject: [R] Multiple imputation and PCA
References: <14274.51998.621759.55290@galadriel.ci.tuwien.ac.at> <37C40217.EB3A3@esb.ucp.pt>
Message-ID: <37C42552.2F1E9DEE@esb.ucp.pt>

Hi again,


Sorry for all those you read my earlier message. I forgot to put the question in
relation to R.

After you get average estimates for the scores and loadings outside of R, how can you
reintroduce these data back into R, so that a biplot from princomp can be done on these

average estimates?
Afternatively, can average estimates of scores and loadings be combined from different
pca analysis directly in R?



Thanks.

Peter
--------------------
Peter Ho
Escola Superior de Biotecnologia
Universidade Cat?lica Portuguesa
Rua Dr. Ant?nio Bernardino de Almeida
4200 Porto
Portugal
Tel: ++351-2-5580043



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Thu Aug 26 05:25:01 1999
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Thu, 26 Aug 1999 15:25:01 +1200
Subject: [R] Error in get(x, envir, mode, inherits)
Message-ID: <3.0.5.32.19990826152501.0090a930@pop.stats.waikato.ac.nz>

Thanks to Brian Ripley and the others who helped. I will try to avoid
unneccessary attachments from now on :-)

I am also changing the name of the 'length' variable in my dataset so that
my students are less likely to come to grief. Unfortunately I had earlier
distributed a GLM example with attach(dataframe) in the code.

As pointed out I should have used bug.report() for this. Two things had
stopped me from doing this in the heat of the moment. 

1.  I didn't know whether it was a bug, or just my ignorance.

2.  I had the feeling that the bug.report function might fire off an email
before I had time to check it.

again,  thanks


Murray Jorgensen

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 26 08:00:50 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 26 Aug 1999 07:00:50 +0100 (BST)
Subject: [R] Error in get(x, envir, mode, inherits)
In-Reply-To: <3.0.5.32.19990826152501.0090a930@pop.stats.waikato.ac.nz>
Message-ID: <Pine.GSO.4.05.9908260650130.8595-100000@auk.stats>

On Thu, 26 Aug 1999, Murray Jorgensen wrote:

[...]

> As pointed out I should have used bug.report() for this. Two things had
> stopped me from doing this in the heat of the moment. 

I am posting this, beacuse I don't think we have made this clear enough.

> 1.  I didn't know whether it was a bug, or just my ignorance.

You don't have to use bug.report to send in a bug: you can just produce
a report and extract from it. The information _is_ very useful, though.
For example, on Windows it tells us exactly which version of Windows
is being used (in so far as Windows itself knows ...).

You can also use it to send to R-help: it has an address= argument.

> 2.  I had the feeling that the bug.report function might fire off an email
> before I had time to check it.

If you use it on Windows, it will mail nowhere. On Unix you can set
method="none", and then you get the same behaviour as on Windows, that is
an editor is opened to write the message, and the file is saved (but not
sent).  (I have to use this, as on a dial-up PPP connection from home the
mail option generates a header that security on our mail server rejects.)


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Aug 26 10:00:31 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Aug 1999 10:00:31 +0200
Subject: [R] Error in get(x, envir, mode, inherits)
In-Reply-To: Murray Jorgensen's message of "Thu, 26 Aug 1999 15:25:01 +1200"
References: <3.0.5.32.19990826152501.0090a930@pop.stats.waikato.ac.nz>
Message-ID: <x2ogfvyns0.fsf@blueberry.kubism.ku.dk>

Murray Jorgensen <maj at waikato.ac.nz> writes:

> 1.  I didn't know whether it was a bug, or just my ignorance.

Not to worry. We have a special place for ignorants in the bug
repository (aka the "trash" directory)... ;)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Joerg.Kindermann at gmd.de  Thu Aug 26 10:41:49 1999
From: Joerg.Kindermann at gmd.de (Joerg Kindermann)
Date: Thu, 26 Aug 1999 10:41:49 +0200 (MET DST)
Subject: [R] use dyn.load to redefine R internal fns?
Message-ID: <199908260841.KAA14655@yeu.gmd.de>

I would like to redefine some R print functions  (Rprintf for example) so
that they don't print to stdout, but save the output in a global string
array. I can compile and link my definition of Rprintf into a library and
load it with dyn.load. I don't get an error message, but afterwards the
original function is still valid, my new version isn't executed.

Is there a way to change R internal functions with dyn.load?

thanks in advance for any hints

--  Dr. Joerg Kindermann             GMD - AiS
            German National Research Center for Information Technology
                Schloss Birlinghoven, D-53754 St. Augustin, Germany
                   phone: +49 02241 142437 fax: +49 02241 142342
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From karen at gecko.biol.wits.ac.za  Thu Aug 26 11:20:59 1999
From: karen at gecko.biol.wits.ac.za (KAREN KOTSCHY)
Date: Thu, 26 Aug 1999 11:20:59 GMT+2
Subject: [R] legend position in barplot
Message-ID: <71E144F3374@gecko.biol.wits.ac.za>

Hi everyone

Can anyone help me with how to change the position of the legend 
in "barplot"? It keeps obscuring my data :-(

Karen Kotschy
Centre for Water in the Environment
University of the Witwatersrand
Johannesburg

Tel: 011 716-2218
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From karen at gecko.biol.wits.ac.za  Thu Aug 26 11:22:23 1999
From: karen at gecko.biol.wits.ac.za (KAREN KOTSCHY)
Date: Thu, 26 Aug 1999 11:22:23 GMT+2
Subject: [R] moving R objects
Message-ID: <71E1AA3003A@gecko.biol.wits.ac.za>

Another question:

Is it possible to move R objects from one directory to another 
without copying the whole .RData and .Rhistory files?
(I'm running under Linux)

Thanks
Karen Kotschy
Centre for Water in the Environment
University of the Witwatersrand
Johannesburg

Tel: 011 716-2218
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Aug 26 11:41:08 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Aug 1999 11:41:08 +0200
Subject: [R] moving R objects
In-Reply-To: "KAREN KOTSCHY"'s message of "Thu, 26 Aug 1999 11:22:23 GMT+2"
References: <71E1AA3003A@gecko.biol.wits.ac.za>
Message-ID: <x2aereq3pn.fsf@blueberry.kubism.ku.dk>

"KAREN KOTSCHY" <karen at gecko.biol.wits.ac.za> writes:

> Another question:
> 
> Is it possible to move R objects from one directory to another 
> without copying the whole .RData and .Rhistory files?
> (I'm running under Linux)

Just start R in the source dir and 

save(....,file="other-dir/.Rdata")

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 26 11:59:22 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 26 Aug 1999 10:59:22 +0100 (BST)
Subject: [R] use dyn.load to redefine R internal fns?
Message-ID: <199908260959.KAA29076@toucan.stats.ox.ac.uk>

> Date: Thu, 26 Aug 1999 10:41:49 +0200 (MET DST)
> From: Joerg Kindermann <Joerg.Kindermann at gmd.de>
> 
> I would like to redefine some R print functions  (Rprintf for example) so
> that they don't print to stdout, but save the output in a global string
> array. I can compile and link my definition of Rprintf into a library and
> load it with dyn.load. I don't get an error message, but afterwards the
> original function is still valid, my new version isn't executed.
> 
> Is there a way to change R internal functions with dyn.load?

Not that I am going to tell you, as it would be an enormous security
loophole if you could replace internal calls that way. But if you can
build from source, you can do anything you want in your version.
(AFAIK, the symbol Rprintf in the system code will be resolved at the
link at the end of the build, so you need your version available then.)

You haven't told us what platform you are using. But Rprintf does not
just `print to stdout', as if it did the GUI versions of R could not work.
What it actually does is print to R_Outputfile if that is open (for use
with sink), otherwise call R_WriteConsole. It sounds as if you want 
to do is to write an alternative front-end with a different
R_WriteConsole.  That is quite easy to do on Unix, very easy on Windows
in the next version as there is extensive support for multiple
front-ends.  

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From karen at gecko.biol.wits.ac.za  Thu Aug 26 11:59:47 1999
From: karen at gecko.biol.wits.ac.za (KAREN KOTSCHY)
Date: Thu, 26 Aug 1999 11:59:47 GMT+2
Subject: [R] error bars on barplots
Message-ID: <71EB9C36072@gecko.biol.wits.ac.za>

Hello again

I'm trying to put error bars onto a barplot. I've tried something that 
Bill Simpson suggested a while ago, ie:

x<-c(1,2,3,4,5)
y<-c(1.1, 2.3, 3.0, 3.9, 5.1)
ucl<-c(1.3, 2.4, 3.5, 4.1, 5.3)
lcl<-c(.9, 1.8, 2.7, 3.8, 5.0)
plot(x,y, ylim=range(c(lcl,ucl)))
arrows(x,ucl,x,lcl,length=.05,angle=90,code=3) 
#or
segments(x,ucl,x,lcl)

but I can't get it to work on a barplot. Any ideas?
Thanks!
Karen Kotschy
Centre for Water in the Environment
University of the Witwatersrand
Johannesburg

Tel: 011 716-2218
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Joerg.Kindermann at gmd.de  Thu Aug 26 12:19:06 1999
From: Joerg.Kindermann at gmd.de (Joerg Kindermann)
Date: Thu, 26 Aug 1999 12:19:06 +0200 (MET DST)
Subject: [R] use dyn.load to redefine R internal fns?
In-Reply-To: <199908260959.KAA29076@toucan.stats.ox.ac.uk> (message from Prof
	Brian Ripley on Thu, 26 Aug 1999 10:59:22 +0100 (BST))
Message-ID: <199908261019.MAA14758@yeu.gmd.de>

>>>>> " " == Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

    >> Is there a way to change R internal functions with dyn.load?

 
     > You haven't told us what platform you are using. But Rprintf does
     > not just `print to stdout', as if it did the GUI versions of R could
     > not work.  What it actually does is print to R_Outputfile if that is
     > open (for use with sink), otherwise call R_WriteConsole. It sounds
     > as if you want to do is to write an alternative front-end with a
     > different R_WriteConsole.  That is quite easy to do on Unix, very
     > easy on Windows in the next version as there is extensive support
     > for multiple front-ends.

Yes, I want to build a new front-end which enables a bunch of R processes
on several machines to communicate with a master R process in parallel. I
have succeeded in changing the R sources and building a parallel version of
R from scratch. We use it routinely in Linux and Solaris environments.

The next step would be to reimplement the parallel interface so that it is
pretty much a regular library which could be given to the CRAN
repository. Then others could use it without integrating our changes into
the source code of each new R version.  To do this I am looking for ways to
make R send back its output as a (PVM-) message instead of just printing
it.

--  Dr. Joerg Kindermann             GMD - AiS
            German National Research Center for Information Technology
                Schloss Birlinghoven, D-53754 St. Augustin, Germany
                   phone: +49 02241 142437 fax: +49 02241 142342
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Aug 26 12:31:39 1999
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 26 Aug 1999 11:31:39 +0100 (BST)
Subject: [R] moving R objects
Message-ID: <199908261031.LAA29160@toucan.stats.ox.ac.uk>

> From: "KAREN KOTSCHY" <karen at gecko.biol.wits.ac.za>
> Date: Thu, 26 Aug 1999 11:22:23 GMT+2
> 
> Another question:
> 
> Is it possible to move R objects from one directory to another 
> without copying the whole .RData and .Rhistory files?
> (I'm running under Linux)

As I understand it you want to make an object stored in one workspace
(.RData) available to another session.  Ideas

1) You don't need to copy: you can just

load("/another/dir/.RData")

which will add all the objects in the other .RData.

2) Fire up R in the first directory, and save the objects you want by

save(obj1, obj2, ..., "myobjs.rda")

then fire up R in the destination and use

load("/another/dir/myobjs.rda")

You can even make this .RData not myobjs.rda if you don't have
one already.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uli at biochem.dshs-koeln.de  Thu Aug 26 20:35:20 1999
From: uli at biochem.dshs-koeln.de (Uli Flenker; Raum 704)
Date: Thu, 26 Aug 1999 20:35:20 +0200 (CEST)
Subject: [R] error bars on barplots
In-Reply-To: <71EB9C36072@gecko.biol.wits.ac.za>
Message-ID: <Pine.LNX.3.95.990826201710.12530A-100000@pcinternet.biochem.dshs-koeln.de>


Huuuuuuuuh,
   more experienced R-users will scream and curse ...
... but it works.

I wrote this stuff a long time ago. It's quick and dirty, and I never
improved it, as I don't need it very frequently. 

Expects one vector/matrix for the "means" and one for the errors. It
shouldn't be a big deal to write a "real" thing using arrows().  The trick
is to look what barplot() does to calculate the x-values.  Look at
"xval<-cumsum(...)" in my example.

Hope it helps for the moment ... .

############################################### 

err.bp<-function(daten,error,two.side=F){
   
   if(!is.numeric(daten))
     stop("All arguments must be numeric")
   
   if(is.vector(daten)){
      xval<-(cumsum(c(0.7,rep(1.2,length(daten)-1))))
   }else{
      if (is.matrix(daten)){
         xval<-cumsum(array(c(1,rep(0,dim(daten)[1]-1)),

dim=c(1,length(daten))))+0:(length(daten)-1)+.5
         
      }else{
         stop("First argument must either be a vector or a matrix")
      }
   }

   MW<-0.25*(max(xval)/length(xval))

   ERR1<-daten+error
   ERR2<-daten-error

   for(i in 1:length(daten)){
      segments(xval[i],daten[i],xval[i],ERR1[i])
      segments(xval[i]-MW,ERR1[i],xval[i]+MW,ERR1[i])
      
      if(two.side){segments(xval[i],daten[i],xval[i],ERR2[i])
                   segments(xval[i]-MW,ERR2[i],xval[i]+MW,ERR2[i])
                }
	   }
}


        Uli Flenker
        Institute of Biochemistry
        German Sports University Cologne
        Carl-Diem-Weg 6

        50933 Cologne / Germany

        Phone 0049/0221/4982-493


On Thu, 26 Aug 1999, KAREN KOTSCHY wrote:

> Hello again
> 
> I'm trying to put error bars onto a barplot. I've tried something that 
> Bill Simpson suggested a while ago, ie:
> 
> x<-c(1,2,3,4,5)
> y<-c(1.1, 2.3, 3.0, 3.9, 5.1)
> ucl<-c(1.3, 2.4, 3.5, 4.1, 5.3)
> lcl<-c(.9, 1.8, 2.7, 3.8, 5.0)
> plot(x,y, ylim=range(c(lcl,ucl)))
> arrows(x,ucl,x,lcl,length=.05,angle=90,code=3) 
> #or
> segments(x,ucl,x,lcl)
> 
> but I can't get it to work on a barplot. Any ideas?
> Thanks!
> Karen Kotschy
> Centre for Water in the Environment
> University of the Witwatersrand
> Johannesburg
> 
> Tel: 011 716-2218
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pm254 at medschl.cam.ac.uk  Fri Aug 27 12:28:12 1999
From: pm254 at medschl.cam.ac.uk (Paul Murrell)
Date: Fri, 27 Aug 1999 11:28:12 +0100
Subject: [R] error bars on barplots
Message-ID: <008301bef076$dee04740$54566f83@capc03t.medlan.cam.ac.uk>

hi


---SNIP---
I'm trying to put error bars onto a barplot. I've tried something that
Bill Simpson suggested a while ago, ie:

x<-c(1,2,3,4,5)
y<-c(1.1, 2.3, 3.0, 3.9, 5.1)
ucl<-c(1.3, 2.4, 3.5, 4.1, 5.3)
lcl<-c(.9, 1.8, 2.7, 3.8, 5.0)
plot(x,y, ylim=range(c(lcl,ucl)))
arrows(x,ucl,x,lcl,length=.05,angle=90,code=3)
#or
segments(x,ucl,x,lcl)

but I can't get it to work on a barplot. Any ideas?
---SNIP---


i think the problem here is the fact that barplot decides for itself what
the x-locations of the bars are going to be.  fortunately, barplot returns
what it decides to use for the x-locations (this is described in the help
for barplot).  for example ...

y <- 1:10
x <- barplot(y)
segments(x, y-.2, x, y+.2)

hope that helps

paul




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pm254 at medschl.cam.ac.uk  Fri Aug 27 12:39:44 1999
From: pm254 at medschl.cam.ac.uk (Paul Murrell)
Date: Fri, 27 Aug 1999 11:39:44 +0100
Subject: [R] legend position in barplot
Message-ID: <009201bef078$7a19b740$54566f83@capc03t.medlan.cam.ac.uk>

hi


---SNIP---
Can anyone help me with how to change the position of the legend
in "barplot"? It keeps obscuring my data :-(
---SNIP---


(i assume you are specifying legend.text in the barplot function)

you can use the legend() function to put your own legend on your plot.  for
example ...

x <- barplot(rbind(1:10, 10:1), beside=T)
legend(mean(x),10,c("group1", "group2"),fill=c("red", "yellow"))


NOTE that you have to find out what x-axis scale has been set by barplot() -
i've done that by getting the x-locations of the bars.  another way to do it
would be to use par("usr")[1:2]

hope that helps

paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Denisfitz at aol.com  Mon Aug 30 05:23:17 1999
From: Denisfitz at aol.com (Denisfitz@aol.com)
Date: Sun, 29 Aug 1999 23:23:17 EDT
Subject: [R] HTML help problems with windows R-0.65.0
Message-ID: <66d2d858.24fb5325@aol.com>

at the first invocation of rgui for R-0.65.0 under win95 the following 
occurred:
...snip
Version 0.65.0  (August 27, 1999)
...snip
> link.html.help()
> options(htmlhelp=T)
> help.start()
If nothing happens, you have to open ` F:\RW0650\doc\html\index.html ' 
yourself
/* browser open with index as aprropriate */
> help(plot)
Error: 3 arguments passed to "show.help.item" which requires 1.


any ideas?

Denis Fitzpatrick
denisfitz at aol.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mai at ms.uky.edu  Mon Aug 30 06:26:08 1999
From: mai at ms.uky.edu (Mai Zhou)
Date: Mon, 30 Aug 1999 00:26:08 -0400 (EDT)
Subject: [R] rexp and rweibull
Message-ID: <199908300426.AAA06269@t3.mscf.uky.edu>

In splus rexp() and rweibull() are related:

> set.seed(153)
> rexp(1)
[1] 0.0493267
> set.seed(153)
> rweibull(1, shape=1)
[1] 0.0493267

(you can also try shape =2, then rweibull = sqrt(rexp) )
However, in rw0.64.1 (on Win NT) they are different 

> .Random.seed <- 1:4
> rexp(1)
[1] 1.412030
> .Random.seed <- 1:4
> rweibull(1, shape=1)
[1] 2.054032 

May be rweibull should be built on rexp.

Mai Z
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 30 08:34:03 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 30 Aug 1999 07:34:03 +0100 (BST)
Subject: [R] HTML help problems with windows R-0.65.0
In-Reply-To: <66d2d858.24fb5325@aol.com>
Message-ID: <Pine.GSO.4.05.9908300730570.5499-100000@auk.stats>

On Sun, 29 Aug 1999 Denisfitz at aol.com wrote:

> at the first invocation of rgui for R-0.65.0 under win95 the following 
> occurred:
> ...snip
> Version 0.65.0  (August 27, 1999)
> ...snip
> > link.html.help()

[not needed, I think]
> > options(htmlhelp=T)
> > help.start()
[not needed]
> If nothing happens, you have to open ` F:\RW0650\doc\html\index.html ' 
> yourself
> /* browser open with index as aprropriate */
> > help(plot)
> Error: 3 arguments passed to "show.help.item" which requires 1.
> 
> 
> any ideas?

Yes. As the announcement said, this is a preliminary release and has been 
checked less thoroughly than usual.

Thank you for the report. A fixed version (the DLL needs to be rebuilt)
will be up tomorrow.  For now, use text help (we do).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 30 08:41:32 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 30 Aug 1999 07:41:32 +0100 (BST)
Subject: [R] rexp and rweibull
In-Reply-To: <199908300426.AAA06269@t3.mscf.uky.edu>
Message-ID: <Pine.GSO.4.05.9908300734160.5499-100000@auk.stats>

On Mon, 30 Aug 1999, Mai Zhou wrote:

> In splus rexp() and rweibull() are related:
> 
> > set.seed(153)
> > rexp(1)
> [1] 0.0493267
> > set.seed(153)
> > rweibull(1, shape=1)
> [1] 0.0493267
> 
> (you can also try shape =2, then rweibull = sqrt(rexp) )
> However, in rw0.64.1 (on Win NT) they are different 
> 
> > .Random.seed <- 1:4
> > rexp(1)
> [1] 1.412030
> > .Random.seed <- 1:4
> > rweibull(1, shape=1)
> [1] 2.054032 
> 
> May be rweibull should be built on rexp.

Why?

You should make no assumptions whatsoever about the relationship between
the random number stream and the output random numbers: indeed the only
fairly safe assumption is that with the same initial seed on the same
release on the same platform of a statistical system you will get the same
output. It is not even true that the same initial seed will give the same
output on different platforms (due to inexact computations).

By the way, there are lots more relationships of this sort that are not 
true in S-PLUS. For example, normal^2 = chisq(1) in distribution.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yee at maths.anu.edu.au  Mon Aug 30 09:42:05 1999
From: yee at maths.anu.edu.au (Thomas Yee)
Date: Mon, 30 Aug 1999 17:42:05 +1000 (EST)
Subject: [R] model.matrix()
Message-ID: <199908300742.RAA15629@iliad.anu.edu.au>

Hi,

In R I get the following:

> x <- 1:9
> f <- as.factor(1:9)
> i <- model.matrix(~x+f)
> 
> attr(i, "assign")
 [1] 0 1 2 2 2 2 2 2 2 2

whereas in S I get the following:

>  attr(i, "assign")
$"(Intercept)":
[1] 1

$x:
[1] 2

$f:
[1]  3  4  5  6  7  8  9 10

Has anybody written a model.matrix function to get the same
result as S? It's just that S's output is what I want, viz.,

1. the names "(Intercept)","x","f", and 

2. the vector values.

Thanks

Thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Aug 30 10:51:12 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Aug 1999 10:51:12 +0200
Subject: [R] model.matrix()
In-Reply-To: Thomas Yee's message of "Mon, 30 Aug 1999 17:42:05 +1000 (EST)"
References: <199908300742.RAA15629@iliad.anu.edu.au>
Message-ID: <x2yaetk5xb.fsf@blueberry.kubism.ku.dk>

Thomas Yee <yee at wintermute.anu.edu.au> writes:

> whereas in S I get the following:
> 
> >  attr(i, "assign")
> $"(Intercept)":
> [1] 1
> 
> $x:
> [1] 2
> 
> $f:
> [1]  3  4  5  6  7  8  9 10
> 
> Has anybody written a model.matrix function to get the same
> result as S? It's just that S's output is what I want, viz.,
> 
> 1. the names "(Intercept)","x","f", and 
> 
> 2. the vector values.

Hmm. Do we want to change that? For now, something like

a <-attr (i, "assign")
tt<-terms(~x+f)
a <- factor(a,labels=c(
  if(attr(tt,"intercept")) "(Intercept)", attr(tt,"term.labels")))
split(seq(along=a),a)

would seem to do.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 30 11:00:13 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 30 Aug 1999 10:00:13 +0100 (BST)
Subject: [R] model.matrix()
In-Reply-To: <199908300742.RAA15629@iliad.anu.edu.au>
Message-ID: <Pine.GSO.4.05.9908300940030.23504-100000@auk.stats>

On Mon, 30 Aug 1999, Thomas Yee wrote:

> Hi,
> 
> In R I get the following:
> 
> > x <- 1:9
> > f <- as.factor(1:9)
> > i <- model.matrix(~x+f)
> > 
> > attr(i, "assign")
>  [1] 0 1 2 2 2 2 2 2 2 2
> 
> whereas in S I get the following:
> 
> >  attr(i, "assign")
> $"(Intercept)":
> [1] 1
> 
> $x:
> [1] 2
> 
> $f:
> [1]  3  4  5  6  7  8  9 10
> 
> Has anybody written a model.matrix function to get the same
> result as S? It's just that S's output is what I want, viz.,
> 
> 1. the names "(Intercept)","x","f", and 
> 
> 2. the vector values.

Look in the function summary.aov, then.  You need to be very careful with
singular matrices, as R and S differ even more there.

Something like

my.model.matrix <- function(formula, data = sys.frame(sys.parent()), ...)
{
  mf <- model.frame(formula, data)
  terms <- attr(mf, "terms")
  tl <- attr(terms, "term.labels")
  intr <- attr(terms, "intercept")
  if(intr > 0) tl <- c("(Intercept)", tl)
  m <- model.matrix(formula, mf, ...)
  asgn <- attr(m, "assign")
  s <- split(seq(along=asgn), asgn)
  names(s) <- tl
  attr(m, "my.assign") <- s
  m
}

may do want you want.  Beware of what happens when you fit a singular
model, though,

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Mon Aug 30 13:47:48 1999
From: alobo at ija.csic.es (Agustin Lobo)
Date: Mon, 30 Aug 1999 13:47:48 +0200 (MET DST)
Subject: [R] convex hulls
Message-ID: <Pine.OSF.3.91.990830134650.16830C-100000@paleo.ija.csic.es>

Does anybody know if there are functions to:

1. Define a convex hull on a space with more
than 2 dimensions? chull just works for a plane.

2. Numerically select elements within a given complex
hull.


Thanks!




Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es
http://pangea.ija.csic.es/alobo


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From awol at xs4all.nl  Mon Aug 30 13:57:18 1999
From: awol at xs4all.nl (Alexander Volovics)
Date: Mon, 30 Aug 1999 13:57:18 +0200 (CEST)
Subject: [R] R --gnome segfaults on RH 6.0 with R-0.65.0
Message-ID: <XFMail.990830135718.awol@xs4all.nl>

Have just compiled and installed R-65.0 on RH 6.0 with all the latest
updates for RH and Gnome (including `libglade-0.3-1.i386.rpm' and
`libglade-devel-0.3-1.i386.rpm' from RH ftp).

R.X11 works OK.

But when I try `R --gnome' I get a segmentation fault/core dump
with the messages:

Gdk-CRITICAL **: file gdkfont.c: line 174 (gdk_font_id): assertion `font
!= NULL' failed.

Gdk-CRITICAL **: file gdkfont.c: line 133 (gdk_font_ref): assertion `font
!= NULL' failed.

.................etc., etc.

1) `gdb' shows (for what it is worth):
   Core was generated by `/usr/local/R65/lib/R/bin/R.gnome'
   #0  0x4024034d in gtk_text_size_request ()

2) I can't find the file `gdkfont.c' anywhere on my system.
   Should I be able to and if so can anybody tell me which package/library
   contains `gdkfont.c' ?

Is this my stupidity or worth reporting as a bug or already known?


*************************************
Alexander Volovics
Dept of Methodology & Statistics
Maastricht University, Maastricht, NL
*************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cfcorral at gmv.es  Mon Aug 30 14:06:31 1999
From: cfcorral at gmv.es (Carlos Corral van Damme)
Date: Mon, 30 Aug 1999 14:06:31 +0200
Subject: [R] Single precision
Message-ID: <37CA73C7.5D1161E1@gmv.es>

    I am trying to port a huge Fortran routine that has been written
using type Real (single precision) instead of Real*8. R works only with
double precision and I got absurd results when calling the routine. Is
it possible to make it work properly without changing the source code?
    I am running V0.64.1 of R for Unix.
    Thanks

--------------------------
Carlos Corral van Damme
GNSS Unit, GMV S.A.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Email: cfcorral at gmv.es
Calle de Isaac Newton 11, PTM Tres Cantos, 28760 Madrid, SPAIN
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-------------- next part --------------
A non-text attachment was scrubbed...
Name: cfcorral.vcf
Type: text/x-vcard
Size: 273 bytes
Desc: Tarjeta de Carlos Corral van Damme
Url : https://stat.ethz.ch/pipermail/r-help/attachments/19990830/faec269b/cfcorral.vcf

From p.dalgaard at biostat.ku.dk  Mon Aug 30 14:23:47 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Aug 1999 14:23:47 +0200
Subject: [R] R --gnome segfaults on RH 6.0 with R-0.65.0
In-Reply-To: Alexander Volovics's message of "Mon, 30 Aug 1999 13:57:18 +0200 (CEST)"
References: <XFMail.990830135718.awol@xs4all.nl>
Message-ID: <x2u2phjw30.fsf@blueberry.kubism.ku.dk>

Alexander Volovics <awol at xs4all.nl> writes:

> Have just compiled and installed R-65.0 on RH 6.0 with all the latest
> updates for RH and Gnome (including `libglade-0.3-1.i386.rpm' and
> `libglade-devel-0.3-1.i386.rpm' from RH ftp).
...
> 1) `gdb' shows (for what it is worth):
>    Core was generated by `/usr/local/R65/lib/R/bin/R.gnome'
>    #0  0x4024034d in gtk_text_size_request ()
> 
> 2) I can't find the file `gdkfont.c' anywhere on my system.
>    Should I be able to and if so can anybody tell me which package/library
>    contains `gdkfont.c' ?
> 
> Is this my stupidity or worth reporting as a bug or already known?

Didn't happen for me. Almost identical setup, except that I had a
libglade straight from 

ftp://ftp.daa.com.au/pub/james/gnome/

there's a 0.4 version of libglade as of last Wednesday. 

(This is a pretty rapidly moving target - because GNOME is - and the
whole thing is experimental, but bug reports are still welcome.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 30 14:29:59 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 30 Aug 1999 13:29:59 +0100 (BST)
Subject: [R] convex hulls
In-Reply-To: <Pine.OSF.3.91.990830134650.16830C-100000@paleo.ija.csic.es>
Message-ID: <Pine.GSO.4.05.9908301326210.23731-100000@auk.stats>

On Mon, 30 Aug 1999, Agustin Lobo wrote:

> Does anybody know if there are functions to:
> 
> 1. Define a convex hull on a space with more
> than 2 dimensions? chull just works for a plane.

That is a lot harder problem in computational geometry. Look at some
code called `hull' on netlib for the only public implementation I know of.

> 2. Numerically select elements within a given complex
> hull.

That is not too hard. You have the extreme points in clockwise (or
counter-clockwise, I forget) order. Just take the lines joining successive
pairs, and test if the point you want to test is to the right of all of
them.  I wrote code to do that when testing chull, but I suspect it would
take me longer to find it that for you to re-write it.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 30 15:02:13 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 30 Aug 1999 14:02:13 +0100 (BST)
Subject: [R] Single precision
In-Reply-To: <37CA73C7.5D1161E1@gmv.es>
Message-ID: <Pine.GSO.4.05.9908301352300.25686-100000@auk.stats>

On Mon, 30 Aug 1999, Carlos Corral van Damme wrote:

>     I am trying to port a huge Fortran routine that has been written
> using type Real (single precision) instead of Real*8. R works only with
> double precision and I got absurd results when calling the routine. Is
> it possible to make it work properly without changing the source code?
>     I am running V0.64.1 of R for Unix.

Well, first we suggest you upgrade to 0.65.0.

It depends what `Unix' is. You may be able to tell the compiler to
use double precision, for example by -r8 -i4 on a SunPro compiler.
However, if this is really one huge routine, just put

    implicit double precision (a-h, o-z)

in the declarations section, change any explicit real declarations to
double precision, and check out uses of real(), probably changing them to
dble().


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Aug 30 17:23:08 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 30 Aug 1999 08:23:08 -0700 (PDT)
Subject: [R] model.matrix()
In-Reply-To: <199908300742.RAA15629@iliad.anu.edu.au>
Message-ID: <Pine.GSO.4.10.9908300821250.11028-100000@wompom.biostat.washington.edu>

On Mon, 30 Aug 1999, Thomas Yee wrote:

> Hi,
> 
> In R I get the following:
> 
> > x <- 1:9
> > f <- as.factor(1:9)
> > i <- model.matrix(~x+f)
> > 
> > attr(i, "assign")
>  [1] 0 1 2 2 2 2 2 2 2 2
> 
> whereas in S I get the following:
> 
> >  attr(i, "assign")
> $"(Intercept)":
> [1] 1
> 
> $x:
> [1] 2
> 
> $f:
> [1]  3  4  5  6  7  8  9 10
> 
> Has anybody written a model.matrix function to get the same
> result as S? It's just that S's output is what I want, viz.,
> 


As well as the previous suggestions, you will find in library(survival5) a
function attrassign() that converts an 'assign' attribute to the new
style.  

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From twestley at buffalo.veridian.com  Mon Aug 30 19:08:38 1999
From: twestley at buffalo.veridian.com (Terry Westley)
Date: Mon, 30 Aug 1999 13:08:38 -0400
Subject: [R] using underscore character in column names
Message-ID: <NDBBJPJEPMDADGHILPFJEECICBAA.twestley@buffalo.veridian.com>

Suppose you're reading data from a file in which the
column names contain underscore characters.  Example:

------ start of file -----
pos_x   pos_y
  1.0     0.0
  2.0     1.0
------ end of file -------

Using read.table, I can read this file just fine:

> data <- read.table (file="data", head=T)
> data
  pos_x pos_y
1     1     0
2     2     1
> 

However, I can't refer to pox_x because the _ character
is an alternative to <- (assignment):

> data$pos_x
Error: Object "x" not found

I could use data[1], but I'd prefer to use the column
name.  Must I change all my column names to remove the
underscore character or is there way to force R to
recogize the whole column name?

Something like data${pos_x} or data$pos\_x  ???

--
Terry J. Westley, Software Systems Engineering Supervisor
Veridian Engineering, Calspan Operations
P.O. Box 400, Buffalo, NY 14225
twestley at buffalo.veridian.com    http://www.veridian.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Aug 30 20:09:06 1999
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 30 Aug 1999 19:09:06 +0100 (GMT Daylight Time)
Subject: [R] using underscore character in column names
In-Reply-To: <NDBBJPJEPMDADGHILPFJEECICBAA.twestley@buffalo.veridian.com>
Message-ID: <Pine.WNT.4.05.9908301905040.10656-100000@tern.stats>

On Mon, 30 Aug 1999, Terry Westley wrote:

> Suppose you're reading data from a file in which the
> column names contain underscore characters.  Example:
> 
> ------ start of file -----
> pos_x   pos_y
>   1.0     0.0
>   2.0     1.0
> ------ end of file -------
> 
> Using read.table, I can read this file just fine:
> 
> > data <- read.table (file="data", head=T)
> > data
>   pos_x pos_y
> 1     1     0
> 2     2     1
> > 
> 
> However, I can't refer to pox_x because the _ character
> is an alternative to <- (assignment):
> 
> > data$pos_x
> Error: Object "x" not found
> 
> I could use data[1], but I'd prefer to use the column
> name.  Must I change all my column names to remove the
> underscore character or is there way to force R to
> recogize the whole column name?
> 
> Something like data${pos_x} or data$pos\_x  ???

data$"pos_x"

should work.  I don't know the exact R rules, but believe that you can make
quoted names work anywhere except as function argument names and in a few
odd places where deparsing is done. (Library sm has to be slightly
different from S to use its scripts without quotes, and they have _ in the
name.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Aug 30 20:10:51 1999
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 30 Aug 1999 11:10:51 -0700 (PDT)
Subject: [R] using underscore character in column names
In-Reply-To: <NDBBJPJEPMDADGHILPFJEECICBAA.twestley@buffalo.veridian.com>
Message-ID: <Pine.GSO.4.10.9908301106190.290-100000@wompom.biostat.washington.edu>

On Mon, 30 Aug 1999, Terry Westley wrote:

> Suppose you're reading data from a file in which the
> column names contain underscore characters.  Example:
> 
> ------ start of file -----
> pos_x   pos_y
>   1.0     0.0
>   2.0     1.0
> ------ end of file -------
> 
> Using read.table, I can read this file just fine:
> 
> > data <- read.table (file="data", head=T)
> > data
>   pos_x pos_y
> 1     1     0
> 2     2     1
> > 
> 
> However, I can't refer to pox_x because the _ character
> is an alternative to <- (assignment):
> 
> > data$pos_x
> Error: Object "x" not found
> 
> I could use data[1], but I'd prefer to use the column
> name.  Must I change all my column names to remove the
> underscore character or is there way to force R to
> recogize the whole column name?
> 
> Something like data${pos_x} or data$pos\_x  ???

Well, data$"pos_x" should work, but it would really be better to change
the name to pos.x instead.  I don't think work-arounds like this will be
available for all R commands. For example, I don't think you can trick
model formulas into accepting names with underscores in.


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From twestley at buffalo.veridian.com  Mon Aug 30 20:32:58 1999
From: twestley at buffalo.veridian.com (Terry Westley)
Date: Mon, 30 Aug 1999 14:32:58 -0400
Subject: [R] RE: using underscore character in column names
In-Reply-To: <NDBBJPJEPMDADGHILPFJEECICBAA.twestley@buffalo.veridian.com>
Message-ID: <NDBBJPJEPMDADGHILPFJGECJCBAA.twestley@buffalo.veridian.com>

Thanks to Profs Ripley and Lumley for suggesting data$"pos_x"
and to Prof Lumley for suggesting I use data$pos.x instead.

After reviewing my application, I've decided that changing
to data$pos.x in place of using data$"pos_x" is not too much
of a hardship.  

Thanks for the help.

--
Terry J. Westley, Software Systems Engineering Supervisor
Veridian Engineering, Calspan Operations
P.O. Box 400, Buffalo, NY 14225
twestley at buffalo.veridian.com    http://www.veridian.com

> -----Original Message-----
> From: Terry Westley [mailto:twestley at buffalo.veridian.com]
> Sent: Monday, August 30, 1999 1:09 PM
> To: R-Help
> Subject: using underscore character in column names
> 
> 
> Suppose you're reading data from a file in which the
> column names contain underscore characters.  Example:
> 
> ------ start of file -----
> pos_x   pos_y
>   1.0     0.0
>   2.0     1.0
> ------ end of file -------
> 
> Using read.table, I can read this file just fine:
> 
> > data <- read.table (file="data", head=T)
> > data
>   pos_x pos_y
> 1     1     0
> 2     2     1
> > 
> 
> However, I can't refer to pox_x because the _ character
> is an alternative to <- (assignment):
> 
> > data$pos_x
> Error: Object "x" not found
> 
> I could use data[1], but I'd prefer to use the column
> name.  Must I change all my column names to remove the
> underscore character or is there way to force R to
> recogize the whole column name?
> 
> Something like data${pos_x} or data$pos\_x  ???
> 
> --
> Terry J. Westley, Software Systems Engineering Supervisor
> Veridian Engineering, Calspan Operations
> P.O. Box 400, Buffalo, NY 14225
> twestley at buffalo.veridian.com    http://www.veridian.com
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Mon Aug 30 20:55:15 1999
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Mon, 30 Aug 1999 14:55:15 -0400
Subject: [R] using underscore character in column names
Message-ID: <OFF4681439.793EAAB2-ON852567DD.0067B074@hgsi.com>


refer to the columns in the dataset as:
data$'pos_x'




                                                                                                               
                    "Terry Westley"                                                                            
                    <twestley at buffalo.ver        To:     "R-Help" <r-help at stat.math.ethz.ch>                   
                    idian.com>                   cc:                                                           
                    Sent by:                     Subject:     [R] using underscore character in column names   
                    owner-r-help at stat.mat                                                                      
                    h.ethz.ch                                                                                  
                                                                                                               
                                                                                                               
                    08/30/1999 01:08 PM                                                                        
                                                                                                               
                                                                                                               



Suppose you're reading data from a file in which the
column names contain underscore characters.  Example:

------ start of file -----
pos_x   pos_y
  1.0     0.0
  2.0     1.0
------ end of file -------

Using read.table, I can read this file just fine:

> data <- read.table (file="data", head=T)
> data
  pos_x pos_y
1     1     0
2     2     1
>

However, I can't refer to pox_x because the _ character
is an alternative to <- (assignment):

> data$pos_x
Error: Object "x" not found

I could use data[1], but I'd prefer to use the column
name.  Must I change all my column names to remove the
underscore character or is there way to force R to
recogize the whole column name?

Something like data${pos_x} or data$pos\_x  ???

--
Terry J. Westley, Software Systems Engineering Supervisor
Veridian Engineering, Calspan Operations
P.O. Box 400, Buffalo, NY 14225
twestley at buffalo.veridian.com    http://www.veridian.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.adi.purnomo at EnergyLink.co.nz  Tue Aug 31 06:35:12 1999
From: s.adi.purnomo at EnergyLink.co.nz (Peppy)
Date: Tue, 31 Aug 1999 16:35:12 +1200
Subject: [R] Vector-isation
Message-ID: <2AEEA90C9555D11198D70000F8790814106EF0@ELSRV1>

Hi,

Suppose I have a by b matrix which a and b are big numbers.  How can I
convert this matrix into a vector with length of a*b ?  By column-wise or
row-wise doesnt matter.  My R version is 0.64.2.

Kindest Regards,
Peppy Adi-Purnomo

-------
Stephanus (Peppy) Adi-Purnomo
Energy Market Analyst  -  Energy Link Ltd - Dunedin
email: s.adi.purnomo at energylink.co.nz
http://www.energylink.co.nz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nda at mailcall.com.au  Tue Aug 31 07:05:23 1999
From: nda at mailcall.com.au (Nikita Atkins)
Date: Tue, 31 Aug 1999 15:05:23 +1000 (EST)
Subject: [R] basic help
Message-ID: <199908310505.PAA16118@cuss.mailcall>


Sorry to ask this but does anyone knows a good text that helps with the
basic programming side of R.  I understand the statistics behind most
of R but i have real difficulty with the data types and how R views
them.

As a part of that could you help me with another problem.  I know how
to read data in from a file in terms of read.table but how do i single
a column out or even just download a single column from the file
instead of all of them.

Obviously the level of the above question shows you the level of the
book that is needed.

Any help will be much appreciated

Nikita Atkins


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Aug 31 10:29:53 1999
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 31 Aug 1999 10:29:53 +0200
Subject: [R] Vector-isation
In-Reply-To: Peppy's message of "Tue, 31 Aug 1999 16:35:12 +1200"
References: <2AEEA90C9555D11198D70000F8790814106EF0@ELSRV1>
Message-ID: <x2n1v8xshq.fsf@blueberry.kubism.ku.dk>

Peppy <s.adi.purnomo at EnergyLink.co.nz> writes:

> Hi,
> 
> Suppose I have a by b matrix which a and b are big numbers.  How can I
> convert this matrix into a vector with length of a*b ?  By column-wise or
> row-wise doesnt matter.  My R version is 0.64.2.

dim(m)<-NULL, or simply c(m)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at esb.ucp.pt  Tue Aug 31 12:46:54 1999
From: peter at esb.ucp.pt (Peter Ho)
Date: Tue, 31 Aug 1999 11:46:54 +0100
Subject: [R] Vector- matrix arithmatic
References: <2AEEA90C9555D11198D70000F8790814106EF0@ELSRV1> <x2n1v8xshq.fsf@blueberry.kubism.ku.dk>
Message-ID: <37CBB29B.7127B4C5@esb.ucp.pt>

Hi,

I have a matrix X of nrow=64 and ncol=5 and 2 vectors a and b both of length=5. I
want to find
the values for Y = a + (X-b) such that the operation of X is done by rows and not
by columns.

Thanks


Peter
---------------------------

Peter Ho
Escola Superior de Biotecnologia
Universidade Cat?lica Portuguesa
Rua Dr. Ant?nio Bernardino de Almeida
4200 Porto
Portugal

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From karen at ochna.wits.ac.za  Tue Aug 31 13:03:00 1999
From: karen at ochna.wits.ac.za (Karen Kotschy)
Date: Tue, 31 Aug 1999 13:03:00 +0200 (SAST)
Subject: [R] legends on barplots
Message-ID: <Pine.LNX.4.10.9908311258040.648-100000@ochna.wits.ac.za>

Thanks to all those who offered suggestions on how to change the position
of legends on a barplot.

The best solution, I think, is to use legend() to add a legend to the
plot, and to use locator() as the first argument, instead of x and y. One
can then add the legend to the plot in the desired position by clicking
with the mouse.

Karen

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From laniel at cmu.edu  Tue Aug 31 13:43:33 1999
From: laniel at cmu.edu (Stephen R. Laniel)
Date: Tue, 31 Aug 1999 07:43:33 -0400
Subject: [R] basic help
In-Reply-To: <199908310505.PAA16118@cuss.mailcall>
Message-ID: <4077510203.936085413@GRUEL12.PPP.ANDREW.CMU.EDU>

On 8/31/99, 3:05 PM +1000, Nikita Atkins wrote:

> Sorry to ask this but does anyone knows a good text that helps with the
> basic programming side of R.

Try _The Basics of S and S-Plus_ by Andreas Krause and Melvin Olson.  It's
published by Springer-Verlag, and its ISBN is 0387949852.  At a higher
level is _Modern Applied Statistics with S-Plus, 2nd edition_ by Bill
Venables nd Brian Ripley.  It's also published by Springer, and its ISBN is
0387982140.  It's worthwhile to check out both.

--Steve

Stephen R. Laniel            |    "I've got a match:
Carnegie Mellon University   |     Your embrace and my collapse."
laniel at cmu.edu               |     --They Might Be Giants
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gautier at lion-ag.de  Tue Aug 31 14:40:11 1999
From: gautier at lion-ag.de (Laurent Gautier)
Date: Tue, 31 Aug 1999 14:40:11 +0200
Subject: [R] Vector- matrix arithmatic
References: <2AEEA90C9555D11198D70000F8790814106EF0@ELSRV1> <x2n1v8xshq.fsf@blueberry.kubism.ku.dk> <37CBB29B.7127B4C5@esb.ucp.pt>
Message-ID: <37CBCD2B.6E21E481@lion-ag.de>

Peter Ho wrote:

> Hi,
>
> I have a matrix X of nrow=64 and ncol=5 and 2 vectors a and b both of length=5. I
> want to find
> the values for Y = a + (X-b) such that the operation of X is done by rows and not
> by columns.

Try

Y _ a + ( t(X) - b )

It should do it...



Laurent


PS : I wonder what kind of elegant solution the R-masters will give this time : I
particularly appreciated the dim(Z) _ NULL recently mentionned....

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


