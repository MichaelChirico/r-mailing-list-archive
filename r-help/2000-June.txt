From gb at stat.umu.se  Thu Jun  1 00:03:22 2000
From: gb at stat.umu.se (gb)
Date: Thu, 1 Jun 2000 00:03:22 +0200 (CEST)
Subject: [R] Installing add on packages
In-Reply-To: <3.0.1.32.20000531173909.00f06a78@mail.neaq.org>
Message-ID: <Pine.LNX.4.21.0005312358560.7905-100000@pc16.stat.umu.se>

On Wed, 31 May 2000, Robert Schick wrote:

> Hi- I'm a complete newbie trying to install R and the 'tree' package on a
> linux box. I installed R successfully using an RPM for Redhat 6.2. I
> downloaded the tree*.gz file, ran tar, the fired up R. When I'm at the
> >prompt in R, and type 'R INSTALL /usr/apps/tree' I get: 'Error: Syntax
> error' I want tree to end up in the default directory so I did not specify
> any different paths. Is my syntax wrong?  Thanks.

Correct syntax, wrong place: Try it at the shell prompt, eventually
as root.

G?ran
-- 
 G?ran Brostr?m                      e-mail: gb at stat.umu.se
 Professor                           tel: +46 90 786 5223
 Department of Statistics            fax: +46 90 786 6614
 Ume? University
 SE-90187 Ume?, Sweden

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Jun  1 00:27:35 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 31 May 2000 17:27:35 -0500
Subject: [R] Installing add on packages
In-Reply-To: gb's message of "Thu, 1 Jun 2000 00:03:22 +0200 (CEST)"
References: <Pine.LNX.4.21.0005312358560.7905-100000@pc16.stat.umu.se>
Message-ID: <6rn1l673u0.fsf@franz.stat.wisc.edu>

gb <gb at stat.umu.se> writes:

> On Wed, 31 May 2000, Robert Schick wrote:
> 
> > Hi- I'm a complete newbie trying to install R and the 'tree' package on a
> > linux box. I installed R successfully using an RPM for Redhat 6.2. I
> > downloaded the tree*.gz file, ran tar, the fired up R. When I'm at the
> > >prompt in R, and type 'R INSTALL /usr/apps/tree' I get: 'Error: Syntax
> > error' I want tree to end up in the default directory so I did not specify
> > any different paths. Is my syntax wrong?  Thanks.
> 
> Correct syntax, wrong place: Try it at the shell prompt, eventually
> as root.

Goran is correct that you need to run R INSTALL at the shell prompt.
If you want to install the library in a private collection you can add
the -l flag to specify the location of the library.  You should then
establish an environment variable R_LIBS as a colon-separated list of
directories in which to look for libraries.

The call to R INSTALL would look like

R INSTALL /usr/apps/tree -l ~/.Rlibs

or something like that.

Note that with recent versions of R you do not need to expand the tar
file.  You can give the name of the tar file to the INSTALL command.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun  1 00:45:30 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Jun 2000 00:45:30 +0200
Subject: [R] Installing add on packages
In-Reply-To: Douglas Bates's message of "31 May 2000 17:27:35 -0500"
References: <Pine.LNX.4.21.0005312358560.7905-100000@pc16.stat.umu.se> <6rn1l673u0.fsf@franz.stat.wisc.edu>
Message-ID: <x2ln0q2vat.fsf@blueberry.kubism.ku.dk>

Douglas Bates <bates at stat.wisc.edu> writes:

> The call to R INSTALL would look like
> 
> R INSTALL /usr/apps/tree -l ~/.Rlibs
> 
> or something like that.
> 
> Note that with recent versions of R you do not need to expand the tar
> file.  You can give the name of the tar file to the INSTALL command.

Or, from inside R, directly from CRAN:

  install.packages('tree', '~/.Rlibs')

Omitting the 2nd argument causes the routine to issue a warning and
try to install in the system package location, which is often what you
want, provided you have the required write access.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Thu Jun  1 00:46:15 2000
From: gb at stat.umu.se (gb)
Date: Thu, 1 Jun 2000 00:46:15 +0200 (CEST)
Subject: [R] Installing add on packages
In-Reply-To: <6rn1l673u0.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.LNX.4.21.0006010041400.8006-100000@pc16.stat.umu.se>

On 31 May 2000, Douglas Bates wrote:

> gb <gb at stat.umu.se> writes:
> 
> > On Wed, 31 May 2000, Robert Schick wrote:
> > 
> > > Hi- I'm a complete newbie trying to install R and the 'tree' package on a
> > > linux box. I installed R successfully using an RPM for Redhat 6.2. I
> > > downloaded the tree*.gz file, ran tar, the fired up R. When I'm at the
> > > >prompt in R, and type 'R INSTALL /usr/apps/tree' I get: 'Error: Syntax
> > > error' I want tree to end up in the default directory so I did not specify
> > > any different paths. Is my syntax wrong?  Thanks.
> > 
> > Correct syntax, wrong place: Try it at the shell prompt, eventually
> > as root.
> 
> Goran is correct that you need to run R INSTALL at the shell prompt.
> If you want to install the library in a private collection you can add
> the -l flag to specify the location of the library.  You should then
> establish an environment variable R_LIBS as a colon-separated list of
> directories in which to look for libraries.
> 
> The call to R INSTALL would look like
> 
> R INSTALL /usr/apps/tree -l ~/.Rlibs
> 
> or something like that.
> 
> Note that with recent versions of R you do not need to expand the tar
> file.  You can give the name of the tar file to the INSTALL command.

You can even do it with the tar.gz file, according to the documentation,
i.e., no need to 'gunzip' before you INSTALL.

G?ran

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Thu Jun  1 01:09:53 2000
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Wed, 31 May 2000 19:09:53 -0400 (EDT)
Subject: [R] Installing add on packages
Message-ID: <200005312309.TAA13238@cattell.psych.upenn.edu>

>From owner-r-help at stat.math.ethz.ch  Wed May 31 19:06:35 2000
>Hi- I'm a complete newbie trying to install R and the 'tree' package on a
>linux box. I installed R successfully using an RPM for Redhat 6.2. I
>downloaded the tree*.gz file, ran tar, the fired up R. When I'm at the
>>prompt in R, and type 'R INSTALL /usr/apps/tree' I get: 'Error: Syntax
>error' I want tree to end up in the default directory so I did not specify
>any different paths. Is my syntax wrong?  Thanks.

Type R INSTALL ...
at the Linux command prompt, not within R.
J
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From denis at mail.cor.epa.gov  Thu Jun  1 21:09:44 2000
From: denis at mail.cor.epa.gov (Denis White)
Date: Thu, 1 Jun 2000 12:09:44 -0700 (PDT)
Subject: [R] subset of matrix vs data frame
In-Reply-To: <x2u2fewjff.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.SUN.3.91.1000601115103.9105C-100000@okapi.cor.epa.gov>


On Wed, 31 May 2000, Peter Dalgaard BSA wrote:

> Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:
> 
> > On Wed, 31 May 2000, Denis White wrote:
> > 
> > > In Splus this works,
> > > 
> > > > a <- data.frame(matrix(round(runif(10),0),nrow=2,ncol=5))
> > > > a[a == 1] <- 2
> > > 
> > > but in R only if a is matrix,
> > > 
> > > > a[a == 1] <- 2
> > > Error in [<-.data.frame(*tmp*, a == 1, value = 2) : 
> > >         matrix subscripts not allowed in replacement
> > > 
> > > Was this a design decision?  Sorry if I missed it in
> > > An Introduction to R.
> > 
> > S-PLUS differs from the original S here, as I understand it.
> > So it was an S-PLUS design decision as I understand it. S-PLUS says:
> > 
> >         else if(nargs() == 3) {
> > # really ambiguous, but follow common use as if list, 
> > # except when one subscript is a logical matrix the shape of x, then treat
> > # as if x were a matrix.
> 
> Semantically it is a rather strange thing to do since elements
> in different columns of a data matrix can be of different type. 
> And some really weird stuff *does* happen in Splus 3.4:
> 
> >  a<-data.frame(a=1:10,b=factor(1:10),c=I(as.character(1:10)))
> > a[a==5]<-"x"
> Warning messages:
>   replacement values not all in levels(x): NA's generated in:
> > "[<-.factor"(.A0,
>         i[, k, drop = T], value = .A1)
> > a        
>     a  b  c 
>  1  1  1 1 
>  2  2  2 2 
>  3  3  3 3 
>  4  4  4 4 
>  5  x NA x 
>  6  6  6 6 
>  7  7  7 7 
>  8  8  8 8 
>  9  9  9 9 
> 10 10 10 10
> > a[a==4]<-"y"
> Warning messages:
> 1: Data length is not an even multiple of group length in:
> > split(Value,
>         factor(col(i)[i], levels = seq(len = ncol(i))))
> 2: replacement values not all in levels(x): NA's generated in:
> > "[<-.factor"(.\
>         A0, i[, k, drop = T], value = .A1)
> 3: replacement values not all in levels(x): NA's generated in:
> > "[<-.factor"(.\
>         A0, i[, k, drop = T], value = .A1)
> > a
>     a  b  c 
>  1  1  1 1 
>  2  2  2 2 
>  3  3  3 3 
>  4 NA NA 4 
>  5  x NA x 
>  6  6  6 6 
>  7  7  7 7 
>  8  8  8 8 
>  9  9  9 9 
> 10 10 10 10
>

Your argument is well taken.  

I'm preparing a package for R with accompanying data.  As I
understand data(), either of the transportable formats (.tab, .csv) 
results in a data frame.  One of my data objects is probably best 
modeled as a matrix, but the R applications I'm using (clustering) 
are flexible, so should I just go ahead with this object as a data
frame?

On page 64 of the white book, John Chambers says "Data frames
can be treated as matrices in calls to most of the basic functions
treating arrays: subsets and elements, dim(), ..."  Perhaps he
had not contemplated the semantic problems?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From John.Strumila at team.telstra.com  Fri Jun  2 03:53:57 2000
From: John.Strumila at team.telstra.com (Strumila, John)
Date: Fri, 2 Jun 2000 11:53:57 +1000 
Subject: [R] heap size trouble
Message-ID: <61411576E951D211AF330008C7245DD90537A4CC@ntmsg0005.corpmail.telstra.com.au>

Doesn't using an external DB just delay the virtual memory issue?

Eventually when the data is manipulated in R, the memory requirement is
still the same - or am I missing something?

John Strumila


-----Original Message-----
From: Douglas Bates [mailto:bates at stat.wisc.edu]
Sent: Wednesday, 31 May 2000 23:36
To: Jim Lemon
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] heap size trouble


Jim Lemon <bitwrit at ozemail.com.au> writes:

> karamian wrote:
> 
> ...I want to load a file that contains 93 thousand raws and 22 colums of
> data (essentially float)...
> 
> I just had to process over 199000 records with four numeric values.  If
> I remember correctly, I used:
> 
> --vsize 30M  --nsize 500000
> 
> which pretty much ate all the RAM (64M) I had.  Don't forget to "rm" big
> data sets before you exit, or R will bomb when you next try to load
> without the increased memory.  Just reread from the data file when you
> need them again (and it helps to exit other apps before starting R to
> avoid disk thrashing).

Another approach is to use a relational database to store such a large
table and load the table into R from the database.  There are several
interfaces into R from relational databases.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun  2 08:26:23 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 2 Jun 2000 07:26:23 +0100 (BST)
Subject: [R] heap size trouble
In-Reply-To: <61411576E951D211AF330008C7245DD90537A4CC@ntmsg0005.corpmail.telstra.com.au>
Message-ID: <Pine.GSO.4.05.10006020720490.1330-100000@auk.stats>

On Fri, 2 Jun 2000, Strumila, John wrote:

> Doesn't using an external DB just delay the virtual memory issue?
> 
> Eventually when the data is manipulated in R, the memory requirement is
> still the same - or am I missing something?

The idea (which was not clear from Doug's message I grant) is to
get the database to do all the selection for you.  That can include
passing blocks of data to R at a time, especially passing just a few
columns at time.  That way R only needs space for a minimal piece
of the dataset.

On the original issue, this is an FAQ, with an example in the FAQ, and it
might be a good convention just to point people to the FAQ.


> -----Original Message-----
> From: Douglas Bates [mailto:bates at stat.wisc.edu]
> Sent: Wednesday, 31 May 2000 23:36
> To: Jim Lemon
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] heap size trouble
> 
> 
> Jim Lemon <bitwrit at ozemail.com.au> writes:
> 
> > karamian wrote:
> > 
> > ...I want to load a file that contains 93 thousand raws and 22 colums of
> > data (essentially float)...
> > 
> > I just had to process over 199000 records with four numeric values.  If
> > I remember correctly, I used:
> > 
> > --vsize 30M  --nsize 500000
> > 
> > which pretty much ate all the RAM (64M) I had.  Don't forget to "rm" big
> > data sets before you exit, or R will bomb when you next try to load
> > without the increased memory.  Just reread from the data file when you
> > need them again (and it helps to exit other apps before starting R to
> > avoid disk thrashing).
> 
> Another approach is to use a relational database to store such a large
> table and load the table into R from the database.  There are several
> interfaces into R from relational databases.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From oeg20 at cam.ac.uk  Fri Jun  2 12:44:56 2000
From: oeg20 at cam.ac.uk (Oscar E. Gaggiotti)
Date: Fri, 02 Jun 2000 11:44:56 +0100
Subject: [R] locfit version for windows NT version of R
Message-ID: <39379028.847E3E7C@cam.ac.uk>

Hi there,

I want to install locfit in R for Windows NT. I have recently downloaded
the file locfit.zip from  

http://www.ci.tuwien.ac.at/R/bin/windows/windows-NT/contrib/ 

but it doesn't include any explanation on how to do the installation.
Have anybody done this? If so I'd really appreciate your help.

Cheers,

Oscar

-- 
-------------------------------------------------------
Oscar E. Gaggiotti	
	
University of Cambridge		Tel. +44 (0)1223 762934
Department of Zoology		
Downing Street			Fax  +44 (0)1223 336676
Cambridge
CB2 3EJ				E-mail: oeg20 at cam.ac.uk
United Kingdom
-------------------------------------------------------


The greater beauty and excitement can be found in the 
indiscernible, the partially obscure.

RMR
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Fri Jun  2 13:57:52 2000
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Fri, 2 Jun 2000 07:57:52 -0400
Subject: [R] locfit version for windows NT version of R
Message-ID: <OFB4C59093.1392B990-ON852568F2.0041A217@hgsi.com>


I think the following bell-labs paper should help.
http://cm.bell-labs.com/cm/ms/departments/sia/project/locfit/



                                                                                                              
                    "Oscar E. Gaggiotti"                                                                      
                    <oeg20 at cam.ac.uk>           To:     r-help at lists.R-project.org                            
                    Sent by:                    cc:                                                           
                    owner-r-help at stat.ma        Subject:     [R] locfit version for windows NT version of R   
                    th.ethz.ch                                                                                
                                                                                                              
                                                                                                              
                    06/02/00 06:44 AM                                                                         
                                                                                                              
                                                                                                              




Hi there,

I want to install locfit in R for Windows NT. I have recently downloaded
the file locfit.zip from

http://www.ci.tuwien.ac.at/R/bin/windows/windows-NT/contrib/

but it doesn't include any explanation on how to do the installation.
Have anybody done this? If so I'd really appreciate your help.

Cheers,

Oscar

--
-------------------------------------------------------
Oscar E. Gaggiotti

University of Cambridge       Tel. +44 (0)1223 762934
Department of Zoology
Downing Street           Fax  +44 (0)1223 336676
Cambridge
CB2 3EJ                  E-mail: oeg20 at cam.ac.uk
United Kingdom
-------------------------------------------------------


The greater beauty and excitement can be found in the
indiscernible, the partially obscure.

RMR
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jun  2 14:17:39 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Jun 2000 14:17:39 +0200
Subject: [R] locfit version for windows NT version of R
In-Reply-To: partha_bagchi@hgsi.com's message of "Fri, 2 Jun 2000 07:57:52 -0400"
References: <OFB4C59093.1392B990-ON852568F2.0041A217@hgsi.com>
Message-ID: <x2zop4gtuk.fsf@blueberry.kubism.ku.dk>

partha_bagchi at hgsi.com writes:

> I think the following bell-labs paper should help.
> http://cm.bell-labs.com/cm/ms/departments/sia/project/locfit/


Would seem to me that more basic information was being asked for:
Start rwinst.exe that comes with R and use it to install add-on
packages. Notice that the target needs to be set to the library
subdirectory of the R install directory. Alternatively just unzip the
file with (e.g.) WinZip to that directory.



>                     "Oscar E. Gaggiotti" <oeg20 at cam.ac.uk> To:
>                     r-help at lists.R-project.org Sent by: cc:
>                     owner-r-help at stat.ma Subject: [R] locfit version
>                     for windows NT version of R th.ethz.ch

> Hi there,
> 
> I want to install locfit in R for Windows NT. I have recently downloaded
> the file locfit.zip from
> 
> http://www.ci.tuwien.ac.at/R/bin/windows/windows-NT/contrib/
> 
> but it doesn't include any explanation on how to do the installation.
> Have anybody done this? If so I'd really appreciate your help.
> 
> Cheers,
> 
> Oscar


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun  2 15:08:49 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 2 Jun 2000 14:08:49 +0100 (BST)
Subject: [R] locfit version for windows NT version of R
In-Reply-To: <x2zop4gtuk.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.05.10006021404300.29148-100000@auk.stats>

On 2 Jun 2000, Peter Dalgaard BSA wrote:

> partha_bagchi at hgsi.com writes:
> 
> > I think the following bell-labs paper should help.
> > http://cm.bell-labs.com/cm/ms/departments/sia/project/locfit/
> 
> 
> Would seem to me that more basic information was being asked for:
> Start rwinst.exe that comes with R and use it to install add-on
> packages. Notice that the target needs to be set to the library
> subdirectory of the R install directory. Alternatively just unzip the
> file with (e.g.) WinZip to that directory.

For future reference, this sort of information in the rw-FAQ.

The simplest way of all is to use install.packages from a running copy of 
R.  That can install from a local .zip file, as well as from the Web.
As the FAQ says `check out its help page'.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.ribeiro at lancaster.ac.uk  Fri Jun  2 15:28:13 2000
From: p.ribeiro at lancaster.ac.uk (Paulo J. Ribeiro Jr)
Date: Fri, 2 Jun 2000 14:28:13 +0100 (BST)
Subject: [R] test for a formulae
Message-ID: <Pine.GSO.4.21.0006021424230.29636-100000@unixb.lancs.ac.uk>

I'd like to check within a whether an argument is a formulae of the type
~X or similar.
What's the right way to do so?

I'm using: is.language(obj) but not sure this is right

Thanks in advance
P.J.

Paulo Justiniano Ribeiro Jr
Dept Maths & Stats  -  Fylde College
Lancaster University
Lancaster LA1 4YF   -  U.K.

e-mail: paulojus at est.ufpr.br
http://www.maths.lancs.ac.uk/~ribeiro






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun  2 17:08:13 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 2 Jun 2000 16:08:13 +0100 (BST)
Subject: [R] test for a formulae
In-Reply-To: <Pine.GSO.4.21.0006021424230.29636-100000@unixb.lancs.ac.uk>
Message-ID: <Pine.GSO.4.05.10006021606510.29617-100000@auk.stats>

On Fri, 2 Jun 2000, Paulo J. Ribeiro Jr wrote:

> I'd like to check within a whether an argument is a formulae of the type
> ~X or similar.
> What's the right way to do so?
> 
> I'm using: is.language(obj) but not sure this is right

That allows lots of other things.

Formulae have class "formula", so inherits(obj, "formula") looks best.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rls at pincock.com  Fri Jun  2 17:22:05 2000
From: rls at pincock.com (Robert L. Sandefur)
Date: Fri, 02 Jun 2000 08:22:05 -0700
Subject: [R] implementing a foreign system with system?
Message-ID: <s9376ec1.009@hc4>

Hi-
 There is a public doman geostatistics package used in the minieral industry called GSLIB and I would like to use it from R. However it is fortran (but portable and easy to compile on windows and  linux)and has its own file format and control file format. It seems easiest to write an r function to dump r data to an ascii file, build a control file in ascii; call the GSLIB program with system("KT3D <KT3d.ctl"), read the GSLIB output back to R and graph it or whatever. Questions:
 1) Is this approach used elsewhere in R? 
 2) I know system() works from windows - would the same call workthe same  from linux?

Thanx 

Bob Sandefur



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Fri Jun  2 18:01:47 2000
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Fri, 2 Jun 2000 12:01:47 -0400 (EDT)
Subject: [R] question about scrolling up
Message-ID: <200006021601.MAA22497@cattell.psych.upenn.edu>

Is there a way to scroll up to see R's output (in Linux, in
particular) without using the scrollbar (i.e., without using the
mouse)?  I find that hard to control.

This has become relevant because I've just discovered an
(apparently) undocumented feature.  If you write a file of
commands, you can run the file by saying source("file.R"), for
example.  If you include statistical tests in the file, they
won't run.  But if you say, source("rile,R",echo=T), they _will_
run.  Thus, you can include all your data analysis in the same
file and use this option setting to decide whether you want to
see it.

Of course, it is possible to save all the output to a file, but
that is almost as bad as having to use the mouse.

Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Jun  2 18:11:38 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 2 Jun 2000 09:11:38 -0700 (PDT)
Subject: [R] test for a formulae
In-Reply-To: <Pine.GSO.4.05.10006021606510.29617-100000@auk.stats>
Message-ID: <Pine.GSO.4.21.0006020910310.4478-100000@atlas.biostat.washington.edu>

On Fri, 2 Jun 2000, Prof Brian D Ripley wrote:

> On Fri, 2 Jun 2000, Paulo J. Ribeiro Jr wrote:
> 
> > I'd like to check within a whether an argument is a formulae of the type
> > ~X or similar.
> > What's the right way to do so?
> > 
> > I'm using: is.language(obj) but not sure this is right
> 
> That allows lots of other things.
> 
> Formulae have class "formula", so inherits(obj, "formula") looks best.
> 

And if you want to ensure that it is ~X+Z+W rather than Y~X+Z+W you can
use
 inherits(obj,"formula") && (length(obj)==2)


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Jun  2 18:16:37 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 2 Jun 2000 09:16:37 -0700 (PDT)
Subject: [R] question about scrolling up
In-Reply-To: <200006021601.MAA22497@cattell.psych.upenn.edu>
Message-ID: <Pine.GSO.4.21.0006020914150.4478-100000@atlas.biostat.washington.edu>

On Fri, 2 Jun 2000, Jonathan Baron wrote:

> Is there a way to scroll up to see R's output (in Linux, in
> particular) without using the scrollbar (i.e., without using the
> mouse)?  I find that hard to control.

You can run R under Emacs with ESS (see the FAQ). This gives you all the
Emacs commands for scrolling (and for editing)
 
> This has become relevant because I've just discovered an
> (apparently) undocumented feature.  If you write a file of
> commands, you can run the file by saying source("file.R"), for
> example.  If you include statistical tests in the file, they
> won't run.  But if you say, source("rile,R",echo=T), they _will_
> run.  Thus, you can include all your data analysis in the same
> file and use this option setting to decide whether you want to
> see it.

The tests _will_ still run either way. You just won't see the output. Look
at the documentation for source(), options echo and print.eval.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Jun  2 18:52:57 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 2 Jun 2000 18:52:57 +0200 (MET DST)
Subject: [R] question about scrolling up
In-Reply-To: <Pine.GSO.4.21.0006020914150.4478-100000@atlas.biostat.washington.edu>
Message-ID: <Pine.GSO.4.05.10006021850020.20542-100000@amadeus.statistik.uni-dortmund.de>


On Fri, 2 Jun 2000, Thomas Lumley wrote:

> On Fri, 2 Jun 2000, Jonathan Baron wrote:
> 
> > Is there a way to scroll up to see R's output (in Linux, in
> > particular) without using the scrollbar (i.e., without using the
> > mouse)?  I find that hard to control.
> 
> You can run R under Emacs with ESS (see the FAQ). This gives you all the
> Emacs commands for scrolling (and for editing)

And on many system Shift+PageUp works without using ESS.

  
> > This has become relevant because I've just discovered an
> > (apparently) undocumented feature.  If you write a file of
> > commands, you can run the file by saying source("file.R"), for
> > example.  If you include statistical tests in the file, they
> > won't run.  But if you say, source("rile,R",echo=T), they _will_
> > run.  Thus, you can include all your data analysis in the same
> > file and use this option setting to decide whether you want to
> > see it.
> 
> The tests _will_ still run either way. You just won't see the output. Look
> at the documentation for source(), options echo and print.eval.

Right. The results are shown, because print.eval is set to TRUE if you set
echo to TRUE.


Uwe Ligges

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun  2 19:43:05 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 2 Jun 2000 18:43:05 +0100 (BST)
Subject: [R] implementing a foreign system with system?
In-Reply-To: <s9376ec1.009@hc4>
Message-ID: <Pine.GSO.4.05.10006021825000.890-100000@auk.stats>

On Fri, 2 Jun 2000, Robert L. Sandefur wrote:

> Hi-
>  There is a public doman geostatistics package used in the minieral 
industry called GSLIB and I would like to use it from R. However it is 
fortran (but portable and easy to compile on windows and  linux)
and has its own file format and control file format. It seems easiest 
to write an r function to dump r data to an ascii file, build a 
control file in ascii; call the GSLIB program with 
system("KT3D <KT3d.ctl"), read the GSLIB output back to R and 
graph it or whatever. Questions:

>  1) Is this approach used elsewhere in R? 

Yes, for xgobi and until recently by read.fwf.

>  2) I know system() works from windows - would the same call work
the same from linux?

I think it will work on Linux but not on Windows!

On Windows, system uses no shell.  The command is passed directly to
Windows, so it launches "KT3D" with argument "<KT3d.ctl".  Now, at least
using my Windows Fortran compilers, that will not get any redirection.  
(Your mileage may vary.)  Use shell() on Windows, or use system(, input=).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From canty at cicma.concordia.ca  Fri Jun  2 20:38:35 2000
From: canty at cicma.concordia.ca (Angelo Canty)
Date: Fri, 02 Jun 2000 14:38:35 -0400
Subject: [R] graphical parameters in plot
Message-ID: <3937FF2B.E159191B@discrete.concordia.ca>

I'm using plot to make a simple plot but I want to control where
the tick marks go on bot axes.  The graphical parameters xaxp and
yaxp seem to be ignored by the plot function so I tried setting them
using
op <- par(no.readonly=T)
par(xaxp=c(-2.4,-2.2,5), yaxp=c(-2500,10000,6))
plot(...)
par(op)
but they are still ignored.

Next I tried to use the axis function as follows
op <- par(no.readonly=T)
par(xaxt="n", yaxt="n")
plot(...)
axis(1,seq(-2.4,-2.2,length=5))
axis(2,seq(-2500,10000,length=6), cex.axis=0.9)
par(op)
but no axis labels are plotted.

Moving par(op) before the calls to axis causes the first call to axis to
extend the x-axis to the edge of the screen and the second call results
in a 0 being placed at the bottom of the y-axis.  

Is this a bug or is it just that it's Friday afternoon?  In any case
can someone please help me out here.

I'm using the following verison of R
platform sparc-sun-solaris2.6
arch     sparc               
os       solaris2.6          
system   sparc, solaris2.6   
status                       
major    1                   
minor    0.0                 
year     2000                
month    February            
day      29                  
language R                   

Angelo


-- 
****************************************************
**   Angelo J. Canty                              **
**   Dept of Mathematics and Statistics           **
**   Concordia University                         **
**   Montreal, Quebec.                            **
**                                                **
**   Tel :  +1-514-848-3244                       **
**   Fax :  +1-514-848-4511                       **
**   Email : canty at discrete.concordia.ca          **
****************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jun  2 21:52:42 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Jun 2000 21:52:42 +0200
Subject: [R] graphical parameters in plot
In-Reply-To: Angelo Canty's message of "Fri, 02 Jun 2000 14:38:35 -0400"
References: <3937FF2B.E159191B@discrete.concordia.ca>
Message-ID: <x2u2fb7tdh.fsf@blueberry.kubism.ku.dk>

Angelo Canty <canty at discrete.Concordia.CA> writes:

> I'm using plot to make a simple plot but I want to control where
> the tick marks go on bot axes.  The graphical parameters xaxp and
> yaxp seem to be ignored by the plot function so I tried setting them
> using
> op <- par(no.readonly=T)
> par(xaxp=c(-2.4,-2.2,5), yaxp=c(-2500,10000,6))
> plot(...)
> par(op)
> but they are still ignored.
> 
> Next I tried to use the axis function as follows
> op <- par(no.readonly=T)
> par(xaxt="n", yaxt="n")
> plot(...)
> axis(1,seq(-2.4,-2.2,length=5))
> axis(2,seq(-2500,10000,length=6), cex.axis=0.9)
> par(op)
> but no axis labels are plotted.
> 
> Moving par(op) before the calls to axis causes the first call to axis to
> extend the x-axis to the edge of the screen and the second call results
> in a 0 being placed at the bottom of the y-axis.  
> 
> Is this a bug or is it just that it's Friday afternoon?  In any case
> can someone please help me out here.
> 
> I'm using the following verison of R
> platform sparc-sun-solaris2.6
> arch     sparc               
> os       solaris2.6          
> system   sparc, solaris2.6   
> status                       
> major    1                   
> minor    0.0                 

Some bugs relating to axes were fixed in 1.0.1, but your first example
still won't work. This looks suspiciously like a bug - to force axis
to actually use xaxp/yaxp one has to pass at=NULL explicitly and it
doesn't work to pass them to plot or set them beforehand with par
because they're being recalculated along the way. (I don't think the
latter is a bug -- to use "current settings" would imply inheriting
axes from the previous plot which you likely do not want! However,
passing them explicitly to plot ought to work.)

Your 2nd example is flawed: Once you set par(xaxt="n"), axis(1,...)
will plot nothing, whatever arguments you give it.

What does work is stuff like

plot(1,xaxt="n")
axis(1,at=seq(from=0.7,to=1.3,length=5))

although I suspect that the bug in 1.0.0 prevents this from working, 
and you have to work around it with

par(xaxt="n");plot(1);par(xaxt="s")
axis(1,at=seq(from=0.7,to=1.3,length=5))

The version that I normally use (because I can't remember all those
par() settings...) goes along the lines of

plot(1, axes=F)
axis(1,at=seq(from=0.7,to=1.3,length=5))
axis(2)
box()

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Jun  2 21:51:29 2000
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Fri, 2 Jun 2000 15:51:29 -0400 (EDT)
Subject: [R] graphical parameters in plot
In-Reply-To: <3937FF2B.E159191B@discrete.concordia.ca>
Message-ID: <Pine.LNX.4.10.10006021547530.5397-100000@bolker.zoo.ufl.edu>


  Well, my last attempt to answer a question about plot() parameters was
wrong (sorry Dr. Ripley), but I'll try again.

  I'm not sure, but I would hazard a guess that your problem is that you
haven't specified your x- and y-limits and that your data don't cover the
range of the axis ranges you want.  What are the x- and y-ranges of your
data?

  I would try something along these lines:

plot(...,xlim=c(-2.4,-2.2),ylim=c(-2500,10000),axes=FALSE)
axis(1,seq(-2.4,-2.2,length=5)
axis(2,seq(-2500,10000,length=6),cex.axis=0.9)

  hope that helps

On Fri, 2 Jun 2000, Angelo Canty wrote:

> I'm using plot to make a simple plot but I want to control where
> the tick marks go on bot axes.  The graphical parameters xaxp and
> yaxp seem to be ignored by the plot function so I tried setting them
> using
> op <- par(no.readonly=T)
> par(xaxp=c(-2.4,-2.2,5), yaxp=c(-2500,10000,6))
> plot(...)
> par(op)
> but they are still ignored.
> 
> Next I tried to use the axis function as follows
> op <- par(no.readonly=T)
> par(xaxt="n", yaxt="n")
> plot(...)
> axis(1,seq(-2.4,-2.2,length=5))
> axis(2,seq(-2500,10000,length=6), cex.axis=0.9)
> par(op)
> but no axis labels are plotted.
> 
> Moving par(op) before the calls to axis causes the first call to axis to
> extend the x-axis to the edge of the screen and the second call results
> in a 0 being placed at the bottom of the y-axis.  
> 
> Is this a bug or is it just that it's Friday afternoon?  In any case
> can someone please help me out here.
> 
> I'm using the following verison of R
> platform sparc-sun-solaris2.6
> arch     sparc               
> os       solaris2.6          
> system   sparc, solaris2.6   
> status                       
> major    1                   
> minor    0.0                 
> year     2000                
> month    February            
> day      29                  
> language R                   
> 
> Angelo
> 
> 
> 

-- 
Ben Bolker                                  bolker at zoo.ufl.edu
Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker
318 Carr Hall/Box 118525                    tel: (352) 392-5697
Gainesville, FL 32611-8525                  fax: (352) 392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Fri Jun  2 23:02:04 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Sat, 03 Jun 2000 09:02:04 +1200
Subject: [R] locfit version for windows NT version of R
References: <39379028.847E3E7C@cam.ac.uk>
Message-ID: <393820CB.44C6867F@xtra.co.nz>

I have written a graphical explanations of this sort of stuff.

Take a look at http://www.stat.auckland.ac.nz/~kwan022/index.html#meta

In the sentence that says ... Download the new version, a guide to how to install
the new version of R can be downloaded from here....
Click on "here" to download it.

If you have trouble getting it, send an e-mail to me I'll send you the pdf file
through e-mail

Cheers,

"Oscar E. Gaggiotti" wrote:

> Hi there,
>
> I want to install locfit in R for Windows NT. I have recently downloaded
> the file locfit.zip from
>
> http://www.ci.tuwien.ac.at/R/bin/windows/windows-NT/contrib/
>
> but it doesn't include any explanation on how to do the installation.
> Have anybody done this? If so I'd really appreciate your help.
>
> Cheers,
>
> Oscar
>
> --
> -------------------------------------------------------
> Oscar E. Gaggiotti
>
> University of Cambridge         Tel. +44 (0)1223 762934
> Department of Zoology
> Downing Street                  Fax  +44 (0)1223 336676
> Cambridge
> CB2 3EJ                         E-mail: oeg20 at cam.ac.uk
> United Kingdom
> -------------------------------------------------------
>
> The greater beauty and excitement can be found in the
> indiscernible, the partially obscure.
>
> RMR
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
-----------------------------------------------------------------------------------

 Ko-Kang Wang
 Undergraduate Student
 Computer Science/Statistics Double Major
 University of Auckland
 Auckland 1005
 New Zealand
-----------------------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kelley at Phys.Ocean.Dal.CA  Sat Jun  3 17:32:13 2000
From: kelley at Phys.Ocean.Dal.CA (Dan E. Kelley)
Date: Sat, 3 Jun 2000 12:32:13 -0300 (ADT)
Subject: [R] How to do linear regression with errors in x and y?
Message-ID: <Pine.LNX.4.21.0006031220460.8736-100000@Intrusion.Phys.Ocean.Dal.Ca>

QUESTION: how should I do a linear regression in which there are
errors in x as well as y?

SUPPLEMENT: I've seen folks approach this problem by computing
eigenvectors of the covariance matrix, and that makes sense to me.
But I'm wondering if this has a "pedigree" (i.e. if it makes sense to
folks on this list, and if it's something that has been published, so
I can refer to it.)

BACKGROUND: (I'm providing this for interest of readers, since I
personally find such ancillary comments on this list to be quite
intriguing.)  My problem is something that comes up all the time in
physics (in this case, fluid mechanics).  I have measured variables,
let's call them X and Y, and dimensional analysis suggests that these
be scaled by Lx and Ly say, so the buckingham Pi theorem says that we
must have

	Y/Ly = f(X/Lx, ...)

where the ... is a list of nondimensional parameters of the problem.
(As an aside, the X is depth below the ocean surface, Lx is the RMS
height of waves on the surface, Y is a measure of the turbulence in
the ocean, and Ly is related to the wind stress on the water surface.
The ... is a list of parameters that includes how long the wind has
been blowing; sailors will know that waves take a while to build up.)

A power-law dependence, i.e.

	Y/Ly = (X/Lx)^alpha

seems justified by theory, but the value of alpha is contentious and
we seek to determine it empirically.  (Engineers reading this will
recognize that alpha=-1 is the so-called "law of the wall" for the
decay of turbulence away from a frictional wall.)

Thus, my approach is to try to fit a line like

	log(Y/Ly) ~ log(X/Lx)

but since there are errors in (X,Y,Lx,Ly) (all of which rely on
measurement), we emphatically have errors in both the dependent and
independent variable.  If our scaling is correct, X/Lx and Y/Ly are
roughly of order unity.  The data suggest log(X/Lx) and log(Y/Ly) have
roughly comparable scatter.

Thus, I'd be happy to state that the errors in the dependent and
independent variables are comparable.  And so my question becomes, on
this assumption, how to fit a line through data in which both "x" and
"y" have (equal) uncertainty.  I'm thinking the eigenvector approach
is fine.  Comments?

-- 
Dan E. Kelley                                         phone:(902)494-1694
Oceanography Department, Dalhousie University           fax:(902)494-2885
Halifax, Nova Scotia                             mailto:Dan.Kelley at Dal.CA 
Canada B3H 4J1       http://www.phys.ocean.dal.ca/~kelley/Kelley_Dan.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deleeuw at stat.ucla.edu  Sat Jun  3 19:49:33 2000
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Sat, 3 Jun 2000 10:49:33 -0700
Subject: [R] How to do linear regression with errors in x and y?
In-Reply-To: 
 <Pine.LNX.4.21.0006031220460.8736-100000@Intrusion.Phys.Ocean.Dal.Ca>
References: 
 <Pine.LNX.4.21.0006031220460.8736-100000@Intrusion.Phys.Ocean.Dal.Ca>
Message-ID: <p04320404b55ef495b931@[204.212.38.135]>

Distinguished pedigree.

Karl Pearson
On Lines and Planes of Closest Fit  to Systems of Points in Space
Phil Mag. 2, 1901, 559-572.

Goes back even further (to Adcock, around 1875).


At 12:32 -0300 06/03/2000, Dan E. Kelley wrote:
>QUESTION: how should I do a linear regression in which there are
>errors in x as well as y?
>
>SUPPLEMENT: I've seen folks approach this problem by computing
>eigenvectors of the covariance matrix, and that makes sense to me.
>But I'm wondering if this has a "pedigree" (i.e. if it makes sense to
>folks on this list, and if it's something that has been published, so
>I can refer to it.)
>
>BACKGROUND: (I'm providing this for interest of readers, since I
>personally find such ancillary comments on this list to be quite
>intriguing.)  My problem is something that comes up all the time in
>physics (in this case, fluid mechanics).  I have measured variables,
>let's call them X and Y, and dimensional analysis suggests that these
>be scaled by Lx and Ly say, so the buckingham Pi theorem says that we
>must have
>
>	Y/Ly = f(X/Lx, ...)
>
>where the ... is a list of nondimensional parameters of the problem.
>(As an aside, the X is depth below the ocean surface, Lx is the RMS
>height of waves on the surface, Y is a measure of the turbulence in
>the ocean, and Ly is related to the wind stress on the water surface.
>The ... is a list of parameters that includes how long the wind has
>been blowing; sailors will know that waves take a while to build up.)
>
>A power-law dependence, i.e.
>
>	Y/Ly = (X/Lx)^alpha
>
>seems justified by theory, but the value of alpha is contentious and
>we seek to determine it empirically.  (Engineers reading this will
>recognize that alpha=-1 is the so-called "law of the wall" for the
>decay of turbulence away from a frictional wall.)
>
>Thus, my approach is to try to fit a line like
>
>	log(Y/Ly) ~ log(X/Lx)
>
>but since there are errors in (X,Y,Lx,Ly) (all of which rely on
>measurement), we emphatically have errors in both the dependent and
>independent variable.  If our scaling is correct, X/Lx and Y/Ly are
>roughly of order unity.  The data suggest log(X/Lx) and log(Y/Ly) have
>roughly comparable scatter.
>
>Thus, I'd be happy to state that the errors in the dependent and
>independent variables are comparable.  And so my question becomes, on
>this assumption, how to fit a line through data in which both "x" and
>"y" have (equal) uncertainty.  I'm thinking the eigenvector approach
>is fine.  Comments?
>
>--
>Dan E. Kelley                                         phone:(902)494-1694
>Oceanography Department, Dalhousie University           fax:(902)494-2885
>Halifax, Nova Scotia                             mailto:Dan.Kelley at Dal.CA
>Canada B3H 4J1       http://www.phys.ocean.dal.ca/~kelley/Kelley_Dan.html
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 8142 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
    http://www.stat.ucla.edu/~deleeuw and http://home1.gte.net/datamine/
============================================================================
          No matter where you go, there you are. --- Buckaroo Banzai
                   http://webdev.stat.ucla.edu/sounds/nomatter.au
============================================================================
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brinton at interchange.ubc.ca  Sat Jun  3 21:44:31 2000
From: brinton at interchange.ubc.ca (Ralph Brands and Laurel Brinton)
Date: Sat, 3 Jun 2000 12:44:31 -0700
Subject: [R] .rpm (splines, ctest) install problem - LinuxPPC
Message-ID: <l03130301b55f102c18e6@[207.23.94.46]>

On a PMac 7200 (running LinuxPPC 3Q 99), trying to install
"R-ctest-0.9.R16-1.ppc.rpm" and "R-splines-2.0.R3-3.ppc.rpm" rpms currently
in the linuxppc binary download directory results in error messages saying
that files in these rpms conflict with files from R-base 1.01-1.

Of course, "R-rpart" and "R-survival4" then also can't be installed because
the above aren't installed.

Should I force install "R-ctest" and "R-splines"? I'm afraid to break
something in the base install without knowing it. Haven't found anything in
the help archives about this one.

Many thanks, Ralph Brands

--------------------------------------------------------------
Email address is brinton at interchange.ubc.ca.
--------------------------------------------------------------

Ralph Brands, MD MHSc

Clinical Assistant Professor
Dept of Health Care and Epidemiology
Faculty of Medicine

Faculty Associate
School of Occupational and Environmental Hygiene
Faculty of Graduate Studies

University of British Columbia
Vancouver, BC, Canada

734-5549



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ehrbar at econ.utah.edu  Sat Jun  3 20:06:22 2000
From: ehrbar at econ.utah.edu (Hans Ehrbar)
Date: Sat, 3 Jun 2000 12:06:22 -0600 (MDT)
Subject: [R] How to do linear regression with errors in x and y?
In-Reply-To: 
	<Pine.LNX.4.21.0006031220460.8736-100000@Intrusion.Phys.Ocean.Dal.Ca>
	(kelley@Phys.Ocean.Dal.CA)
References: <Pine.LNX.4.21.0006031220460.8736-100000@Intrusion.Phys.Ocean.Dal.Ca>
Message-ID: <200006031806.MAA12326@marx.econ.utah.edu>


Hello Dan,

There are extensive sections about errors in variables
in my on-line econometrics class notes at
http://www.econ.utah.edu/ehrbar/ecmet.pdf
(this is a 5 MB pdf file).  Maybe this has
something interesting for you.

Hans Ehrbar.

-- 
Hans G. Ehrbar                               ehrbar at econ.utah.edu
Economics Department, University of Utah     (801) 581 7797 (my office)
1645 Campus Center Dr., Rm 308               (801) 581 7481 (econ office)
Salt Lake City    UT 84112-9300              (801) 585 5649 (FAX)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Sat Jun  3 20:06:18 2000
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Sat, 03 Jun 2000 11:06:18 -0700
Subject: [R] How to do linear regression with errors in x and y?
In-Reply-To: <Pine.LNX.4.21.0006031220460.8736-100000@Intrusion.Phys.Oce
 an.Dal.Ca>
Message-ID: <4.3.2.7.2.20000603110349.00be7a40@127.0.0.1>

This is referred to in *my* trade as a Model II regression and is fit by 
finding either the major axis slope or the reduced major axis slope.  We 
find the RMA slope using principal components analysis of the covariance 
matrix - the ratio of eigenvectors of x & y variables form the major axis 
slopes; we get the reduced major axis slope by dividing the linear 
regression slope by the correlation coefficient for x & y.

The original approach to this type of regression traces to at least Haldane 
and Kermack in 1950.

At 12:32 PM 6/3/00 -0300, Dan E. Kelley wrote:
 >QUESTION: how should I do a linear regression in which there are
 >errors in x as well as y?
 >

Dr. Marc R. Feldesman
email:  feldesmanm at pdx.edu
email:  feldesman at ibm.net
fax:    503-725-3905

"Don't know where I'm going.
Don't like where I've been.
There may be no exit.
But hell, I'm going in."  Jimmy Buffett

Powered by Superchoerus - the 700 MHz Coppermine Box

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Jun  3 20:22:26 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Jun 2000 20:22:26 +0200
Subject: [R] .rpm (splines, ctest) install problem - LinuxPPC
In-Reply-To: Ralph Brands and Laurel Brinton's message of "Sat, 3 Jun 2000 12:44:31 -0700"
References: <l03130301b55f102c18e6@[207.23.94.46]>
Message-ID: <x2og5ieial.fsf@blueberry.kubism.ku.dk>

Ralph Brands and Laurel Brinton <brinton at interchange.ubc.ca> writes:

> On a PMac 7200 (running LinuxPPC 3Q 99), trying to install
> "R-ctest-0.9.R16-1.ppc.rpm" and "R-splines-2.0.R3-3.ppc.rpm" rpms currently
> in the linuxppc binary download directory results in error messages saying
> that files in these rpms conflict with files from R-base 1.01-1.
> 
> Of course, "R-rpart" and "R-survival4" then also can't be installed because
> the above aren't installed.
> 
> Should I force install "R-ctest" and "R-splines"? I'm afraid to break
> something in the base install without knowing it. Haven't found anything in
> the help archives about this one.

ctest and splines really *are* in 1.0.1, so overriding them with older
versions is a bad idea. If you must force anything, force survival4,
but note that everything in the contrib section is almost a year old.
If you have a functional build environment and a net connection, I'd
recommend simply saying (as root, or at least with install
permissions)

install.packages(c("survival5","rpart"), lib=.lib.loc) # yes, 5

(..which is likely the reason that the contrib has not been updated,
BTW.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rdiazuri at students.wisc.edu  Sat Jun  3 15:39:37 2000
From: rdiazuri at students.wisc.edu (Ramon Diaz-Uriarte)
Date: Sat, 3 Jun 2000 15:39:37 +0200
Subject: [R] looping over lapply calls
In-Reply-To: <3937FF2B.E159191B@discrete.concordia.ca>
References: <3937FF2B.E159191B@discrete.concordia.ca>
Message-ID: <00060316320500.00373@ligarto>

Dear All,

I am writing a function to analyze simulated data. For each subset of data
(those with the same simulation counter), I have to fit a linear model and
output the coefficients and the F's from drop1 (marginal F tests). I have
tried three approaches: using lapply, using a for loop, and looping over
blocks, where within each block I use lapply (following the suggestion in "S
programming", pp. 156 and 174). The later is often the fastest method
(execution time can be less than half of the other methods).  I am wondering: 

a) why exactly is that the case? (Is it related to the "split" in lapply or
the "matrix(unlist(etc))" in my function)

b) is there some rule of thumb to choose the size of the block over
which to use lapply?

Thanks,

Ramon

P.S. For completeness, I include below the core of the function I am using;
comments most welcome.



lmx.0 <- function(formula,data,max.num=0,lapply.size=100){ # looping over lapply
   # remeber that sim.counter starts at 0
  if(max.num) data<-data[data$sim.counter<max.num+1,]  else max.num<-max(data$sim.counter)
  names.vars<-drop.scope(formula)
 
 terms.in.model<-names(lm(formula=formula,data=data,subset=data$sim.counter==0)[[1]])
# there must be a simpler way...

  loop.counter<-(max.num+1)%/%lapply.size
  rest.of.data<-(max.num+1)%%lapply.size

  tmp<-matrix(nrow=max.num+1,ncol=length(names.vars)+length(terms.in.model))
  i<-0
  if (loop.counter) { #only enter in the loop if needed
  for(i in 1:loop.counter){
  datai<-data[data$sim.counter<=((i*lapply.size)-1) & data$sim.counter>=((i-1)*lapply.size),]
  # obtain output of interest ---fm[[1]],my.drop(fm)--- by applying that function
  # over the subset of data within loop; as result is list, unlist and turn into a matrix
  # it is a little bit hard to read, but I am trying to minimize creating large
  # intermediate objects.

  tmp[(((i-1)*lapply.size)+1):(i*lapply.size),]<-matrix(unlist(lapply(split(datai,datai$sim.counter),
                            function(datos,formula){
                              fm<-lm(formula=formula,data=datos);
                              c(fm[[1]],my.drop(fm))},
                            formula=formula)),
                     nrow=lapply.size,byrow=T)
}}
  # here we deal with the other cases
  datai<-data[data$sim.counter>=(loop.counter*lapply.size),]
  tmp[(((i*lapply.size)+1):(max.num+1)),] <- 
       matrix(unlist(lapply(split(datai,datai$sim.counter),                     
        function(datos,formula){fm<-lm(formula=formula,data=datos); c(fm[[1]],my.drop(fm))}, formula=formula)),        
             nrow=rest.of.data,byrow=T)

  tmp
}


my.drop<- function (object) 
{
  # This is from drop1 (by BDR) after eliminating things I didn't need;
  # this function is severely crippled, so use only here
  # components are NOT named      
    x <- model.matrix(object)     iswt <-
    !is.null(wt <- object$weights)     n <- nrow(x)
    asgn <- attr(x, "assign")
    tl <- attr(object$terms, "term.labels")
    scope <- drop.scope(object)
    ndrop <- match(scope, tl)
    ns <- length(scope)
    rdf <- object$df.resid
    chisq <- deviance.lm(object)
    dfs <- numeric(ns)
    RSS <- numeric(ns)
    y <- object$residuals + predict(object)
    rank <- object$rank
    for (i in 1:ns) {
        ii <- seq(along = asgn)[asgn == ndrop[i]]
        jj <- setdiff(seq(ncol(x)), ii)        
        z <- if (iswt) 
            lm.wfit(x[, jj, drop = FALSE], y, wt)
        else lm.fit(x[, jj, drop = FALSE], y)
        dfs[i] <- z$rank
        RSS[i] <- deviance.lm(z)
    }
    dfs <- c(object$rank, dfs)
    RSS <- c(chisq, RSS)
    dfs <- (dfs[1] - dfs)[-1]
    rdf <- object$df.resid
    dev<-RSS[-1]-RSS[1]
    rms<-RSS[1]/rdf
    Fs<-(dev/dfs)/rms
    Fs
}

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jun  4 07:38:01 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 4 Jun 2000 06:38:01 +0100 (BST)
Subject: [R] How to do linear regression with errors in x and y?
In-Reply-To: <Pine.LNX.4.21.0006031220460.8736-100000@Intrusion.Phys.Ocean.Dal.Ca>
Message-ID: <Pine.GSO.4.05.10006040622440.25617-100000@auk.stats>

On Sat, 3 Jun 2000, Dan E. Kelley wrote:

> QUESTION: how should I do a linear regression in which there are
> errors in x as well as y?

By definition, that is not a linear *regression*.  More precisely,
what you should do depends critically on the assumptions and purpose
of the analysis.  For example, for a calibration problem regression
of x on y (that is least-squares fitting) is still a good idea. And it
depends on whether the observed x values were controlled or the
true values or if this is a random sample of (x,y)'s.

In what I think you want there is a true linear relationship and
both x and y are measured with error, and you are interested in the
relationship.  That's called a linear functional relationship model.
(Econometricians use structural models, the radnom-sample version.)

[...]

> Thus, I'd be happy to state that the errors in the dependent and
> independent variables are comparable.  And so my question becomes, on
> this assumption, how to fit a line through data in which both "x" and
> "y" have (equal) uncertainty.  I'm thinking the eigenvector approach
> is fine.  Comments?

As Jan de Leeuw has already commented, this is an extremely well
re-discovered result, going back to Adcock ca 1872.  But minor
variations still seem unknown (and I once wrote a paper on the
variation in which the uncertainty in x and y depend on the true
value, as occurs in analytical chemistry).

There is a whole book on this and related ideas:

@Book{Fuller.87,
  author       = "Fuller, W.",
  title        = "Measurement Error Models",
  publisher    = "Wiley",
  year         = "1987",
}

and you will find treatments in a few linear models books, AFAIR
those by G.A.F. Seber and P. Sprent especially.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jun  4 08:03:34 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 4 Jun 2000 07:03:34 +0100 (BST)
Subject: [R] looping over lapply calls
In-Reply-To: <00060316320500.00373@ligarto>
Message-ID: <Pine.GSO.4.05.10006040641120.25617-100000@auk.stats>

On Sat, 3 Jun 2000, Ramon Diaz-Uriarte wrote:

> Dear All,
> 
> I am writing a function to analyze simulated data. For each subset of data
> (those with the same simulation counter), I have to fit a linear model and
> output the coefficients and the F's from drop1 (marginal F tests). I have
> tried three approaches: using lapply, using a for loop, and looping over
> blocks, where within each block I use lapply (following the suggestion in "S
> programming", pp. 156 and 174). The later is often the fastest method
> (execution time can be less than half of the other methods).  I am wondering: 
> 
> a) why exactly is that the case? (Is it related to the "split" in lapply or
> the "matrix(unlist(etc))" in my function)
> 
> b) is there some rule of thumb to choose the size of the block over
> which to use lapply?

I'm afraid this all depends on the exact S engine in use and the amount of
memory available.  However,

1) The differences are usually less in R than in S-PLUS, as the examples
in `S Programming' suggest.  Mainly because R does a better job with the
naive approaches, but also because it does a worse job on the
most elegant approaches in S-PLUS (which may differ by version).

2) I suspect such comparisons will change when R changes its memory
management (minor changes in 1.1, major ones in 1.2?), as they have over
successive versions of S-PLUS. They certainly changed when I wrote an
internal lapply in R, but I have not put live my attempts at an internal
apply as it seems to make too little difference to measure accurately.

3) In S engines the reasons are related to minimizing the number of pieces
of memory in use as well as the size.  Using blocks allows the memory to be
cleaned up at the end of each block.  R does not have delayed commitment to
the same extent, and garbage collects memory only when full (or asked).  
So at least one issue is how much is in use when memory management occurs,
and both the size and number of R objects is relevant. As memory management
is about to change, I think the only way out is to experiment, and that
includes with the setting of the heap size in R.

> P.S. For completeness, I include below the core of the function I am using;
> comments most welcome.

(If you had had some spaces around operators and indented consistently
I might have been able to comment.  Set options(keep.source=FALSE) and
read this into R and out again to get a consistent layout. You can
then tidy it up in ESS.)


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mase at is.titech.ac.jp  Sun Jun  4 16:18:07 2000
From: mase at is.titech.ac.jp (Full Name)
Date: Sun, 04 Jun 2000 23:18:07 +0900
Subject: [R] Japanese in R --> work with *.Rd files !?
In-Reply-To: <14642.7743.853378.107572@gargle.gargle.HOWL>
References: <013401bfc44e$afe5a820$175dd882@stat.auckland.ac.nz>
	<20000528183413D.mase@is.titech.ac.jp>
	<14642.7743.853378.107572@gargle.gargle.HOWL>
Message-ID: <20000604231807M.mase@is.titech.ac.jp>


Dear Martin, Thank you for your kind information on Rd file 
systems of R. I and, seemingly, all R-jp members were never 
aware of this clever mechanism of R's document system.

I and other R-jp members are trying small experiments on the 
possibility of converting Japanese Rd files into other formats 
using Rdconv, but so far in vain. Although there is a jperl 
(a Japanized perl), the situation does not seem easy. One of 
main reasons is probably the complexity of Japanese coexisting 
encoding systems as I explained before. We made a short discussions 
on R-jp and, at present, no one can have a clear idea.

We will try further. But, seemingly, our best plan at present is
to continue to translate html files into Japanese since it is most 
difficult to translate documents into Japanese and to input them. 
Once we have Japanese html files, it will be a tedious but easy work 
to convert them into Japanese Rd files.

We will inform you if there will be a progress.

Shigeru Mase

> Please consider:  
> 
>  The HTML files are *NOT* the original documentation!
>  In particular, they don't have the full mathematical formulae where
>  available.
> 
>  The source of all the help files are the *.Rd files
>  from which  html /  text / latex and R example files are
>  created at "installation time" -- from the source version of R.
> 
>  { If you have only worked with binary distributions of R :
>    These `Rd' ("R documentation") files are in src/library/<pkg>/man/*.Rd
>    where <pkg> stands for  base , ctest, eda, ...., ts.
>  }
> 
> So it really would make sense to translate these *.Rd files
> and further "(inter)nationalize" the (Perl) file "etc/Rdconvlib.pl"
> which is used [from src/scripts/Rdconv ] to produce the 4 different output
> formats from the Rd input.
> You'd have to translate things like  
>       "Arguments:",  "Description:",  "Examples:", ....
> 
> --
> Should we (R core) consider internationalizing these Rdtools ?
> Are there helping volunteers from R users 
>     (e.g. for French, Japanese, Spanish, ...? 
>     [R core can provide Danish, Italian & German at least]
> 
> Martin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rdiazuri at students.wisc.edu  Sun Jun  4 08:40:13 2000
From: rdiazuri at students.wisc.edu (Ramon Diaz-Uriarte)
Date: Sun, 4 Jun 2000 08:40:13 +0200
Subject: [R] looping over lapply calls
In-Reply-To: <Pine.GSO.4.05.10006040641120.25617-100000@auk.stats>
References: <Pine.GSO.4.05.10006040641120.25617-100000@auk.stats>
Message-ID: <00060408421601.00711@ligarto>

Dear Prof. Ripley,

Thank you very much for your detailed answer!!

> 3) In S engines the reasons are related to minimizing the number of pieces
> of memory in use as well as the size.  Using blocks allows the memory to be
> cleaned up at the end of each block.  R does not have delayed commitment to
> the same extent, and garbage collects memory only when full (or asked).  
> So at least one issue is how much is in use when memory management occurs,
> and both the size and number of R objects is relevant. As memory management
> is about to change, I think the only way out is to experiment, and that
> includes with the setting of the heap size in R.

Understood. 

> (If you had had some spaces around operators and indented consistently
> I might have been able to comment.  Set options(keep.source=FALSE) and
> read this into R and out again to get a consistent layout. You can
> then tidy it up in ESS.)
> 
> 

I hope it is not too late; I have sourced it (after fixing a couple of things),
then copied the printout into an xemacs
window, and added a few comments, and have changed the settings
of my email so that it does not break lines.


lmx.0 <- function (formula, data, max.num = 0, lapply.size = 100) 
{
    if (max.num) {
        max.num <- min(max(data$sim.counter), max.num)
        data <- data[data$sim.counter < max.num + 1, ]
    }
    else max.num <- max(data$sim.counter)
    names.vars <- drop.scope(formula)
    terms.in.model <- names(lm(formula = formula, data = data, 
        subset = data$sim.counter == 0)[[1]]) # there should be a simpler way
    
    loop.counter <- (max.num + 1)%/%lapply.size
    rest.of.data <- (max.num + 1)%%lapply.size
    tmp <- matrix(nrow = max.num + 1, ncol = length(names.vars) + 
        length(terms.in.model))
    i <- 0
    if (loop.counter) { # enter here if number to deal with is larger than lapply.size
        for (i in 1:loop.counter) {
            datai <- data[data$sim.counter <= ((i * lapply.size) - 
                1) & data$sim.counter >= ((i - 1) * lapply.size), ]
            # obtain output of interest ---fm[[1]],my.drop(fm)--- by applying that function
            # over the subset of data within loop; as result is list, unlist and turn into a matrix
            tmp[(((i - 1) * lapply.size) + 1):(i * lapply.size), 
                 ] <- matrix(unlist(lapply(split(datai, datai$sim.counter), 
                function(datos, formula) {
                  fm <- lm(formula = formula, data = datos)
                  c(fm[[1]], my.drop(fm))
                }, formula = formula)), nrow = lapply.size, byrow = T)
        }
    }
    if (rest.of.data) { #enter here if number to analyze < lapply.size or a non-interger multiple
        datai <- data[data$sim.counter >= (loop.counter * lapply.size), 
            ]
        tmp[(((i * lapply.size) + 1):(max.num + 1)), ] <- matrix(unlist(lapply(split(datai, 
            datai$sim.counter), function(datos, formula) {
            fm <- lm(formula = formula, data = datos)
            c(fm[[1]], my.drop(fm))
        }, formula = formula)), nrow = rest.of.data, byrow = T)
    }
    tmp
}


my.drop <- function (object) 
{
# This is from drop1 (by BDR) after eliminating things I didn't use;
# this function is severely crippled, so use only here.
# Components are NOT named.     
# Maybe I should only define it within lmx.0 to prevent accidental misuse?
  
    x <- model.matrix(object)
    iswt <- !is.null(wt <- object$weights)
    n <- nrow(x)
    asgn <- attr(x, "assign")
    tl <- attr(object$terms, "term.labels")
    scope <- drop.scope(object)
    ndrop <- match(scope, tl)
    ns <- length(scope)
    rdf <- object$df.resid
    chisq <- deviance.lm(object)
    dfs <- numeric(ns)
    RSS <- numeric(ns)
    y <- object$residuals + predict(object)
    rank <- object$rank
    for (i in 1:ns) {
        ii <- seq(along = asgn)[asgn == ndrop[i]]
        jj <- setdiff(seq(ncol(x)), ii)
        z <- if (iswt) 
            lm.wfit(x[, jj, drop = FALSE], y, wt)
        else lm.fit(x[, jj, drop = FALSE], y)
        dfs[i] <- z$rank
        RSS[i] <- deviance.lm(z)
    }
    dfs <- c(object$rank, dfs)
    RSS <- c(chisq, RSS)
    dfs <- (dfs[1] - dfs)[-1]
    rdf <- object$df.resid
    dev <- RSS[-1] - RSS[1]
    rms <- RSS[1]/rdf
    Fs <- (dev/dfs)/rms
    Fs
}

#an example

data.5010 <- data.frame(sim.counter=rep(seq(from=0,to=500),rep(10,501)),y=rnorm(5010),x=rnorm(5010))
ex1 <- lmx.0(y~x,data=data.5010)



-- 
Ramn Daz-Uriarte
Dept. Zoology and Statistics
University of Wisconsin-Madison
Madison, WI 53706-1381

email: rdiazuri at students.wisc.edu
(NOTE: starting 15-July-2000 new email:
ramon-diaz at teleline.es)
phone: 608-238-8041
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markhall at gol.com  Mon Jun  5 06:10:45 2000
From: markhall at gol.com (Mark Hall)
Date: Mon, 05 Jun 2000 13:10:45 +0900
Subject: [R] forcing graphs to all black ink
Message-ID: <393B2844.349D82B7@gol.com>

Is there an easy way, for MCLUST in particular, to force its graphical
output to all black and not use colors to show the clusters/groups?
It shows the groups quite nicely by using triangles, crosses, etc.
Unfortunately, my printer doesn't convert reds and yellows too nicely
and the result is a indistinct figure on the page.  (Yes, I have access
to
a color printer but my intended publication venue charges outrageous
page fees for color plates... ).

Thanks, Mark Hall
markhall at gol.com




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun  5 09:42:50 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 5 Jun 2000 08:42:50 +0100 (BST)
Subject: [R] forcing graphs to all black ink
In-Reply-To: <393B2844.349D82B7@gol.com>
Message-ID: <Pine.GSO.4.05.10006050834180.26337-100000@auk.stats>

On Mon, 5 Jun 2000, Mark Hall wrote:

> Is there an easy way, for MCLUST in particular, to force its graphical
> output to all black and not use colors to show the clusters/groups?
> It shows the groups quite nicely by using triangles, crosses, etc.
> Unfortunately, my printer doesn't convert reds and yellows too nicely
> and the result is a indistinct figure on the page.  (Yes, I have access
> to
> a color printer but my intended publication venue charges outrageous
> page fees for color plates... ).

You don't give us much to go on.  What device are you using?  The
simplest idea is probably to change all the colours to black before
plotting. 

palette(rep("black", 8))

should do that.  This is assuming that mclust uses number for colours,
which as it is converted from S-PLUS code is likely.

A quick look suggests the only places colours are set are in clpairs and
mixproj and you could just omit the col= in

  pairs(x, col=clrs, pch=symbols, labels=labels, ...)

  plot(data[, 1], data[, 2], col=partition, pch=partition, 
       xlab=labs[1], ylab=labs[2], xlim=xlim, ylim=ylim, ...) 


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kelley at Phys.Ocean.Dal.CA  Mon Jun  5 14:33:19 2000
From: kelley at Phys.Ocean.Dal.CA (Dan E. Kelley)
Date: Mon, 5 Jun 2000 09:33:19 -0300 (ADT)
Subject: [R] THANKS FOR INFO ON ... linear regression with errors in x and y
Message-ID: <Pine.LNX.4.21.0006050930340.32314-100000@Intrusion.Phys.Ocean.Dal.Ca>

I hope folks don't mind my taking the bandwidth, but please let me say,
quickly, how much I appreciate the generous advice folks sent to me.

I've got a lot to read, and I think it will help me greatly in my work.

-- 
Dan E. Kelley                                         phone:(902)494-1694
Oceanography Department, Dalhousie University           fax:(902)494-2885
Halifax, Nova Scotia                             mailto:Dan.Kelley at Dal.CA 
Canada B3H 4J1       http://www.phys.ocean.dal.ca/~kelley/Kelley_Dan.html


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From santini at dsi.unimi.it  Mon Jun  5 15:35:59 2000
From: santini at dsi.unimi.it (Massimo Santini)
Date: Mon, 5 Jun 2000 15:35:59 +0200 (CEST)
Subject: [R] apply'ing cut to a data.set column
Message-ID: <Pine.LNX.4.21.0006051529580.24690-100000@zorn.usr.dsi.unimi.it>

Hi all,
	there is probably something I'm still missing about how R
manipulates multivariate data. I have a dataset in which, for various 
tuples of a set of 4 parameters, a value of interest is stored:

	p1   p2   p3   p4     v
        0    0    0    0      0.2342
        0    1    1    0      0.6124
        ....
	0    0    1    1      0.1234

What I would like to do is to "cut" the "v" column of the dataset, let say
with two breaks: (0,.5] (.5,1], to obtain something like

        p1   p2   p3   p4     v
        0    0    0    0      (0,.5]
        0    1    1    0      (.5,1]
        ....
        0    0    1    1      (0,.5]

I now how to do it on data$v, using cut, but I can't see a
simple/straightforward way to do it on all the dataset, I'm confused about
tapply, sapply, lapply and firends....

Is there a place where I can find a more complete treatment of how R uses
multivariate data?

	thanks in advance for any suggestion...
							Massimo



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jun  5 16:19:32 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Jun 2000 16:19:32 +0200
Subject: [R] apply'ing cut to a data.set column
In-Reply-To: Massimo Santini's message of "Mon, 5 Jun 2000 15:35:59 +0200 (CEST)"
References: <Pine.LNX.4.21.0006051529580.24690-100000@zorn.usr.dsi.unimi.it>
Message-ID: <x2ln0ktdl7.fsf@blueberry.kubism.ku.dk>

Massimo Santini <santini at dsi.unimi.it> writes:

> Hi all,
> 	there is probably something I'm still missing about how R
> manipulates multivariate data. I have a dataset in which, for various 
> tuples of a set of 4 parameters, a value of interest is stored:
> 
> 	p1   p2   p3   p4     v
>         0    0    0    0      0.2342
>         0    1    1    0      0.6124
>         ....
> 	0    0    1    1      0.1234
> 
> What I would like to do is to "cut" the "v" column of the dataset, let say
> with two breaks: (0,.5] (.5,1], to obtain something like
> 
>         p1   p2   p3   p4     v
>         0    0    0    0      (0,.5]
>         0    1    1    0      (.5,1]
>         ....
>         0    0    1    1      (0,.5]
> 
> I now how to do it on data$v, using cut, but I can't see a
> simple/straightforward way to do it on all the dataset, I'm confused about
> tapply, sapply, lapply and firends....

Is what you are trying to do as simple as

data$v <- cut(data$v,c(0,.5,1))

??

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stecalza at tin.it  Tue Jun  6 12:15:40 2000
From: stecalza at tin.it (stefano)
Date: Tue, 06 Jun 2000 12:15:40 +0200
Subject: [R] options$error
Message-ID: <393CCF4C.13250123@tin.it>

Hi all,
if I do, options(error=dump.frames) (pag. 185 S-programming) I get an
error message: error parameter invalid. Where I'm doing wrong?
I use R 1.0.1 on a Linux box (redhat 6.2).

Thanks,
Stefano.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jun  6 12:33:01 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Jun 2000 12:33:01 +0200
Subject: [R] options$error
In-Reply-To: stefano's message of "Tue, 06 Jun 2000 12:15:40 +0200"
References: <393CCF4C.13250123@tin.it>
Message-ID: <x23dmrkski.fsf@blueberry.kubism.ku.dk>

stefano <stecalza at tin.it> writes:

> Hi all,
> if I do, options(error=dump.frames) (pag. 185 S-programming) I get an
> error message: error parameter invalid. Where I'm doing wrong?
> I use R 1.0.1 on a Linux box (redhat 6.2).

dump.frames is a function in R, options("error") is an expression. 

Use   options(error=quote(dump.frames())) to get what you want.

Hmmm... I wonder if we should rename dump.frames to dumpframes
and set dump.frames <- quote(dumpframes()) to get the same syntax as
in S ?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gabrielle.kelly at ucd.ie  Tue Jun  6 12:37:08 2000
From: gabrielle.kelly at ucd.ie (gabrielle.kelly@ucd.ie)
Date: Tue, 06 Jun 2000 11:37:08 +0100
Subject: [R] estimating degrees of freedom iof student t
Message-ID: <0FVQ0094WAVF10@Salicet.ucd.ie>

I have come across the following situation when using the function 
pt which calls the student t distribution function. I simulate data 
from a normal distribution and fit the student t. The estimated 
degrees of freedom gets  larger at each iteration and there is no 
convergence. It seems there should be some mechanism where it 
switched to a normal distribution when the degrees of freedom gets 
very large.
Gabrielle Kelly
Dept. of Statistics
National University of Ireland Dublin.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun  6 13:19:00 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 6 Jun 2000 12:19:00 +0100 (BST)
Subject: [R] options$error
In-Reply-To: <x23dmrkski.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.05.10006061202100.8229-100000@auk.stats>

On 6 Jun 2000, Peter Dalgaard BSA wrote:

> stefano <stecalza at tin.it> writes:
> 
> > Hi all,
> > if I do, options(error=dump.frames) (pag. 185 S-programming) I get an

(That was optimistic: it does say it did not exist in R on that page.)

> > error message: error parameter invalid. Where I'm doing wrong?
> > I use R 1.0.1 on a Linux box (redhat 6.2).
> 
> dump.frames is a function in R, options("error") is an expression. 
> 
> Use   options(error=quote(dump.frames())) to get what you want.
> 
> Hmmm... I wonder if we should rename dump.frames to dumpframes
> and set dump.frames <- quote(dumpframes()) to get the same syntax as
> in S ?

The difference is that in S options("error") is a function, and in R an
expression.  So the syntax would only be superficially the same, especially
as there is normally a need to dump to a file.  There are lots of examples
under help(debugger) / help(dump.frames), and help(options) did have a
cross-reference. (I've added a couple more.)

Questions to Stefano: where did you get the idea it would work, and had
you looked at the help pages?  Maybe there's a route we have missed.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun  6 13:30:32 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 6 Jun 2000 12:30:32 +0100 (BST)
Subject: [R] estimating degrees of freedom iof student t
In-Reply-To: <0FVQ0094WAVF10@Salicet.ucd.ie>
Message-ID: <Pine.GSO.4.05.10006061221550.8229-100000@auk.stats>

On Tue, 6 Jun 2000 gabrielle.kelly at ucd.ie wrote:

> I have come across the following situation when using the function 
> pt which calls the student t distribution function. I simulate data 
> from a normal distribution and fit the student t. The estimated 
> degrees of freedom gets  larger at each iteration and there is no 
> convergence. It seems there should be some mechanism where it 
> switched to a normal distribution when the degrees of freedom gets 
> very large.

(There is: pt switches at n = 4e5 to a normal approximation, although a
more accurate one than N(0, 1). It's in the source code
.../src/nmath/pt.c.)

I think you need to tell us a bit more: there is nothing in R that I know
of to estimate the parameters of a t distribution.  If you are using
maximum likelihood, there is no guarantee that I know of that the
likelihood has a global maximum, let alone a unique one.  It is entirely
possible that the normal is a better fit that any t.  I would
transform the space, and optimize over 1/nu constrained to [0, 0.5], I
think.  (For nu == 1 all sorts of thing go wrong.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From derek.eder at dss2.med.gu.se  Tue Jun  6 17:04:17 2000
From: derek.eder at dss2.med.gu.se (Derek N. Eder)
Date: Tue, 06 Jun 2000 17:04:17 +0200
Subject: [R] Binary file input to R
Message-ID: <4.3.2.7.0.20000606165647.00ad1df0@dss2.med.gu.se>

I suspect that the recent queries about reading database files into R 
implicitely answered my question here, but I'll ask anyway.

Are there any native binary file read routines in R?

I need to a binary data file consisting of 2 byte records, strip off the 
upper 6 bits (using a logical AND, leaving a ten bit word), and then write 
the ten bit number in text form for R.

Assuming that R can't do this, is PERL appropriate?

Thanks.

Derek N. Eder
G?teborg University                                 (privat)
Institute of Clinical Neuroscience,        Landerigatan 2
Section of Psychiatry                              SE 416 70
SU/Sahlgrenska University Hospital    G?teborg, Sweden
SE 413 45 G?teborg, Sweden               tlf +46 (31) 25 40 66

tlf: +46 (31) 34 - 26139
fax: +46 (31) 3182 8163
derek.eder at neuroscience.gu.se


  

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gabrielle.kelly at ucd.ie  Tue Jun  6 17:14:49 2000
From: gabrielle.kelly at ucd.ie (gabrielle.kelly@ucd.ie)
Date: Tue, 06 Jun 2000 16:14:49 +0100
Subject: [R] estimating degrees of freedom
Message-ID: <0FVQ00EKANQAG1@Salicet.ucd.ie>

In response to Prof. Ripley yes I am estimating the degrees of 
freedom by maximum likelihood using the nlm from Jim Lindsey's 
library. I am simulating data other than normal as well so I wanted 
an estimation technique that 'worked' for everything. I'm not familiar 
enough with the base code to know at what point the pt function 
switches to normal. I realise of course some estimate has then to 
be returned for the mle.
Thanks also for the other responses.
Gabrielle Kelly
NUI Dublin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Jun  6 17:39:37 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 6 Jun 2000 08:39:37 -0700 (PDT)
Subject: [R] Binary file input to R
In-Reply-To: <4.3.2.7.0.20000606165647.00ad1df0@dss2.med.gu.se>
Message-ID: <Pine.GSO.4.21.0006060835520.18700-100000@atlas.biostat.washington.edu>

On Tue, 6 Jun 2000, Derek N. Eder wrote:

> I suspect that the recent queries about reading database files into R 
> implicitely answered my question here, but I'll ask anyway.
> 
> Are there any native binary file read routines in R?

Not general-purpose ones. There are some routines in packages to read
specific types of binary file (eg Stata .dta files).  

> I need to a binary data file consisting of 2 byte records, strip off the 
> upper 6 bits (using a logical AND, leaving a ten bit word), and then write 
> the ten bit number in text form for R.

You could program this in C and call it from R, bypassing the text
conversion. Perl might well work, but you would probably get more reliable
information from a perl list than from us.

	-thomas 

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From B.Rowlingson at lancaster.ac.uk  Tue Jun  6 18:22:21 2000
From: B.Rowlingson at lancaster.ac.uk (B.Rowlingson@lancaster.ac.uk)
Date: Tue, 06 Jun 2000 17:22:21 +0100
Subject: [R] Binary file input to R
References: <Pine.GSO.4.21.0006060835520.18700-100000@atlas.biostat.washington.edu>
Message-ID: <393D253D.B7B11A28@lancs.ac.uk>


> > I need to a binary data file consisting of 2 byte records, strip off the
> > upper 6 bits (using a logical AND, leaving a ten bit word), and then write
> > the ten bit number in text form for R.

 You could feed the binary file into 'od' with the appropriate
arguments:

$ od -v datafile | more
0000000 042577 043114 000401 000001 000000 000000 000000 000000
0000020 000002 000003 000001 000000 110460 004004 000064 000000
0000040 137244 000000 000000 000000 000064 000040 000006 000050
0000060 000032 000031 000006 000000 000064 000000 100064 004004
0000100 100064 004004 000300 000000 000300 000000 000005 000000
0000120 000004 000000 000003 000000 000364 000000 100364 004004
0000140 100364 004004 000023 000000 000023 000000 000004 000000
0000160 000001 000000 000001 000000 000000 000000 100000 004004

 Then read that into R as character strings (dump the first column).
Subscripting off the first 3 characters gets rid of 1+3+3 bits. A
bit too many. Can fix this by prepending a 1 if the 3rd character
of the 6-digit string is odd (that means bit 10 was set).

 Then convert to decimal by summing powers of 8...

 I think that makes sense...

Barry Rowlingson
Maths and Stats
Lancaster University
Lancaster, UK
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bond at graylab.ac.uk  Wed Jun  7 10:58:57 2000
From: bond at graylab.ac.uk (Simon  Bond)
Date: Wed, 07 Jun 2000 09:58:57 +0100
Subject: [R] forward stepwise selection
Message-ID: <3.0.6.32.20000607095857.007de4f0@graylab.ac.uk>

Dear R-Help, 

My problem/bug came to light,when fitting a linear model using stepwise
selection. I'd started  with the straightfoward command

step(lm(y~., dataset))

This worked fine, but because this starts with  all the possible
explanatory variables, it results in a model with too many explanatory
variables. Hence I wanted to start with just a constant and do forward
selection, to get a new starting model for full stepwise selection again.
But R (version 0.99.0) doesn't like this.

> step(lm(ANB.DIFF~.,tink4),trace=0)

Call:
lm(formula = ANB.DIFF ~ SEX + AGE.YRS + OJS + S.AR1 + CD.GO1 +     CD.GN1 +
AR.GN1 + UAFH1 + UPFH1 + LPFH1 + AFP1 + PFP1 + OJ1 +     SNA1 + SNB1 +
SN.POG1, data = tink4)

Coefficients:
(Intercept)      SEXmale      AGE.YRS          OJS        S.AR1  
   -0.05001      0.47100      0.11148     -0.10458      0.11228  
     CD.GO1       CD.GN1       AR.GN1        UAFH1        UPFH1  
    0.28847     -0.38802      0.25388      0.13399     -0.31484  
      LPFH1         AFP1         PFP1          OJ1         SNA1  
   -0.17471     -5.11152      2.73038      0.21039      0.26088  
       SNB1      SN.POG1  
   -0.74297      0.56201  

> fmla
~1 + SEX + AGE.YRS + OJS + S.N1 + S.AR1 + B.N1 + CD.GO1 + CD.GN1 + 
    GO.GN1 + AR.GN1 + VRP.POG1 + UAFH1 + LAFH1 + UPFH1 + LPFH1 + 
    AFP1 + PFP1 + OB1 + OJ1 + SNA1 + SNB1 + SN.POG1 + MX.MN1 + 
    SN.MN1 + LAFH.P1 + LPFH.P1
>
step(lm(ANB.DIFF~1,tink4),scope=list(lower=~1,upper=fmla),direction="forward")
Start:  AIC= 25.35 
 ANB.DIFF ~ 1 

Error in lm.fit(X, y) : incompatible dimensions
> 



I've narrowed it down to the command add1(), which uses lm.fit(), but the
way add1() constructs X and y, is undecipherable. Any advice would be much
appreciated.



Simon Bond.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun  7 11:37:40 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 7 Jun 2000 10:37:40 +0100 (BST)
Subject: [R] forward stepwise selection
Message-ID: <200006070937.KAA09784@toucan.stats.ox.ac.uk>


> Date: Wed, 07 Jun 2000 09:58:57 +0100
> From: "Simon  Bond" <bond at graylab.ac.uk>
> Subject: [R] forward stepwise selection
> 
> Dear R-Help, 
> 
> My problem/bug came to light,when fitting a linear model using stepwise
> selection. I'd started  with the straightfoward command
> 
> step(lm(y~., dataset))
> 
> This worked fine, but because this starts with  all the possible
> explanatory variables, it results in a model with too many explanatory
> variables. Hence I wanted to start with just a constant and do forward
> selection, to get a new starting model for full stepwise selection again.
> But R (version 0.99.0) doesn't like this.

Please use a current version of R, and in particular please use a
non-beta version of R.  Your logic is not very sound (take another look
at your MSc notes on model selection), and I suggest a better approach
is to increase k in step or to use drop1(, test="F") repeatedly to
reduce the model.  Remember AIC is attempting good prediction, not
good explanation.

[...]

> step(lm(ANB.DIFF~1,tink4),scope=list(lower=~1,upper=fmla),direction="forward")
> Start:  AIC= 25.35 
>  ANB.DIFF ~ 1 
> 
> Error in lm.fit(X, y) : incompatible dimensions
> > 
> 
> 
> 
> I've narrowed it down to the command add1(), which uses lm.fit(), but the
> way add1() constructs X and y, is undecipherable. Any advice would be much
> appreciated.

traceback() would have told you immediately where it came from,
and running debug(add1.lm) would enable you to track this down
further.

I cannot reproduce this in 1.0.1:

> library(MASS)
> data(hills)
> step(lm(time ~1, hills), scope=list(lower=~1,upper=~dist+climb), 
direction="forward")
Start:  AIC= 274.88 
 time ~ 1 

        Df Sum of Sq   RSS   AIC
+ dist   1     71997 13142   211
+ climb  1     55205 29934   240
<none>               85138   275

Step:  AIC= 211.49 
 time ~ dist 

        Df Sum of Sq     RSS     AIC
+ climb  1    6249.7  6891.9   190.9
<none>               13141.6   211.5

Step:  AIC= 190.9 
 time ~ dist + climb 


Call:
lm(formula = time ~ dist + climb, data = hills)

Coefficients:
(Intercept)         dist        climb  
   -8.99204      6.21796      0.01105  

If this still fails in 1.0.1 for you, please submit a bug report with a
reproducible example.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Wed Jun  7 13:39:54 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Wed, 7 Jun 2000 07:39:54 -0400
Subject: [R] Dates on Graphics
Message-ID: <00fc01bfd075$19dba7c0$0201a8c0@Workgroup>

Hi everyone,

I know this was discussed a while back but I don't remember. How can I show,
print or plot formatted dates on the axis of a graphic window? Something
like "Jun-07"

In case it helps I'm running R 1.0.1 on NT 4.0.

Thanks in advance.

YG

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Jun  7 14:54:02 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 07 Jun 2000 14:54:02 +0200
Subject: [R] Dates on Graphics
References: <00fc01bfd075$19dba7c0$0201a8c0@Workgroup>
Message-ID: <393E45EA.3FBC1549@statistik.uni-dortmund.de>

Yves Gauvreau wrote:
> I know this was discussed a while back but I don't remember. How can I show,
> print or plot formatted dates on the axis of a graphic window? Something
> like "Jun-07"

Try package "date", available at CRAN.

Example for plotting:

 library(date)
 plot.date(.....) 
 ## if x-values are dates, you can also use plot(...) after
library(date)


Regards,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Wed Jun  7 15:47:05 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Wed, 7 Jun 2000 09:47:05 -0400
Subject: [R] Dates on Graphics
References: <00fc01bfd075$19dba7c0$0201a8c0@Workgroup> <393E45EA.3FBC1549@statistik.uni-dortmund.de>
Message-ID: <010401bfd086$de00e960$0201a8c0@Workgroup>

Thanks for your prompt reply.

I just want to point something out. I already had the date package loaded
and when I tried help(plot.date) I got "Error in help(plot.date) : No
documentation for `plot.date'". There is no mention of it either in the
index of the package (date) in fact it's not mentioned anywhere except in
the source. I don't think this can be called a bug but it would be nice to
be able to find minimal documentation on this function.

This situation bring me to think that it would be nice to have a way to find
information even when you don't know if it exist, some kind of searchable
index. At this time I do this kind of search using the html search
facilities. Is there some other way that one could this?

Before anyone tells me I understand that contributed packages are realized
graciously and it may be wishful thinking to expect package documentation to
be exhaustive, complete and etc... Just may be, there is a way to extract
minimal information directly from the sources and build some sort of
searchable index or database for all packages under the library directory.

Just a thought.

YG




----- Original Message -----
From: "Uwe Ligges" <ligges at statistik.uni-dortmund.de>
To: "Yves Gauvreau" <cyg at sympatico.ca>
Cc: "r-help" <r-help at stat.math.ethz.ch>
Sent: Wednesday, June 07, 2000 8:54 AM
Subject: Re: [R] Dates on Graphics


> Yves Gauvreau wrote:
> > I know this was discussed a while back but I don't remember. How can I
show,
> > print or plot formatted dates on the axis of a graphic window? Something
> > like "Jun-07"
>
> Try package "date", available at CRAN.
>
> Example for plotting:
>
>  library(date)
>  plot.date(.....)
>  ## if x-values are dates, you can also use plot(...) after
> library(date)
>
>
> Regards,
> Uwe Ligges
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Setzer.Woodrow at epamail.epa.gov  Wed Jun  7 16:10:10 2000
From: Setzer.Woodrow at epamail.epa.gov (Setzer.Woodrow@epamail.epa.gov)
Date: Wed, 07 Jun 2000 10:10:10 -0400
Subject: [R] Has anybody written something like "plot.table"
Message-ID: <852568F7.004D8F05.00@EPAHUB2.RTP.EPA.GOV>



Before I decide to do it myself, I wonder if anyone has written a function that
will add a table to a plot, sort of like the LaTeX tabular environment, but for
plots.

R. Woodrow Setzer, Jr.                                                    Phone:
(919) 541-0128
Biostatistics and
Fax:  (919) 541-4002
Research Support Staff
NHEERL MD-55; US EPA; RTP, NC 27711


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rss6 at duke.edu  Wed Jun  7 16:45:43 2000
From: rss6 at duke.edu (Robert Schilling Schick)
Date: Wed, 7 Jun 2000 10:45:43 -0400 (EDT)
Subject: [R] tree error
Message-ID: <Pine.SOL.3.91.1000607104320.7765B-100000@godzilla5.acpub.duke.edu>

Hi- I'm trying to run a classification tree, and have received an error 
I'm unfamiliar with. Following is the R code, and the first 10 lines of 
my matrix. Any help would be appreciated.

> kuv.tree <- read.table("kuv3_mantelmatrix.txt",header=T,sep="\t")
> library(tree)
> attach(kuv.tree)
> ktree <- tree(Species ~ Drig + dwellln, data=kuv.tree)
Error in arg == choices : comparison (1) is possible only for vector types

Number	Species	Drig	DShore	dwellln	Depth	X	Y
1	0	26019.2	32311	10.1666	-20.5872	47528.1	-20268.2
2	0	28284.3	36400.6	10.2501	-24.5176	49528.1	-15268.2
3	0	51312.8	71175.8	10.8457	-95.3488	49528.1	23731.8
4	0	33615.5	16643.3	10.4227	-1.61133	50528.1	-36268.2
5	0	16643.3	7615.77	9.71976	-11.6917	12528.1	-33268.2
6	0	23409.4	22360.7	10.0609	-23.4709	-471.875	-11268.2
7	0	55226.8	48301.1	10.9192	-21.0988	-15471.9	21731.8
8	0	23706.5	25495.1	10.0735	-20.2442	528.125	-8268.24
9	0	8485.3	22825.4	9.04609	-24.7801	27528.1	-25268.2
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun  7 17:15:02 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 7 Jun 2000 16:15:02 +0100 (BST)
Subject: [R] tree error
Message-ID: <200006071515.QAA22752@toucan.stats.ox.ac.uk>


> Date: Wed, 7 Jun 2000 10:45:43 -0400 (EDT)
> From: Robert Schilling Schick <rss6 at duke.edu>
> To: r-help at stat.math.ethz.ch
> Subject: [R] tree error
> 
> Hi- I'm trying to run a classification tree, and have received an error 
> I'm unfamiliar with. Following is the R code, and the first 10 lines of 
> my matrix. Any help would be appreciated.
> 
> > kuv.tree <- read.table("kuv3_mantelmatrix.txt",header=T,sep="\t")
> > library(tree)
> > attach(kuv.tree)
> > ktree <- tree(Species ~ Drig + dwellln, data=kuv.tree)
> Error in arg == choices : comparison (1) is possible only for vector types

What does traceback() give you?  That message is coming from match.arg.

By the way, if you want a classification tree, you had better have
Species as a factor, and it looks as if you have not.  See the help page!

Usual questions:

Version of R?
Version of tree?
Are they the current ones?
Does example(tree) work for you?

If you can send me a reproducible example, I may be able to help.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Jun  7 18:41:23 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 7 Jun 2000 09:41:23 -0700 (PDT)
Subject: [R] Dates on Graphics
In-Reply-To: <010401bfd086$de00e960$0201a8c0@Workgroup>
Message-ID: <Pine.GSO.4.21.0006070939200.28317-100000@atlas.biostat.washington.edu>

On Wed, 7 Jun 2000, Yves Gauvreau wrote:

> Thanks for your prompt reply.
> 
> I just want to point something out. I already had the date package loaded
> and when I tried help(plot.date) I got "Error in help(plot.date) : No
> documentation for `plot.date'". There is no mention of it either in the
> index of the package (date) in fact it's not mentioned anywhere except in
> the source. I don't think this can be called a bug but it would be nice to
> be able to find minimal documentation on this function.

I could say that you might expect to get formatted dates when using plot()
on a date object, but in fact you are completely correct and I need to
update the documentation on the date package.


> This situation bring me to think that it would be nice to have a way to find
> information even when you don't know if it exist, some kind of searchable
> index. At this time I do this kind of search using the html search
> facilities. Is there some other way that one could this?

Some of this can be done with apropos(), but I don't think you can keyword
search from inside R. It would be nice.


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Wed Jun  7 19:48:14 2000
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Wed, 7 Jun 2000 19:48:14 +0200 (CEST)
Subject: [R] Dates on Graphics
In-Reply-To: <Pine.GSO.4.21.0006070939200.28317-100000@atlas.biostat.washington.edu>
References: <010401bfd086$de00e960$0201a8c0@Workgroup>
	<Pine.GSO.4.21.0006070939200.28317-100000@atlas.biostat.washington.edu>
Message-ID: <14654.35550.271173.319382@galadriel.ci.tuwien.ac.at>

>>>>> On Wed, 7 Jun 2000 09:41:23 -0700 (PDT),
>>>>> Thomas Lumley (TL) wrote:


TL> Some of this can be done with apropos(), but I don't think you can keyword
TL> search from inside R. It would be nice.


help.search() might do what you want ...

.f
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Wed Jun  7 21:17:54 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Wed, 7 Jun 2000 15:17:54 -0400
Subject: Dates?  was Re: [R] Dates on Graphics
References: <Pine.GSO.4.21.0006070939200.28317-100000@atlas.biostat.washington.edu>
Message-ID: <001701bfd0b5$170fc270$0201a8c0@Workgroup>

Hi,

I tried a few things with the date package and this is one of the result I
get.

xd<-c("19-May-00", "22-May-00", "23-May-00", "24-May-00", "25-May-00")
> as.date(xd)
[1] NA NA NA NA NA

xd<-c("19-May-2000", "22-May-2000", "23-May-2000", "24-May-2000",
"25-May-2000")
> as.date(xd)
[1] 19May2000 22May2000 23May2000 24May2000 25May2000

Any suggestion on how to word around this little problem? Note that this is
a small sample, I would not like to have to do these corrections to hundreds
of dates manualy.

Thanks in advance

YG


----- Original Message -----
From: "Thomas Lumley" <thomas at biostat.washington.edu>
To: "Yves Gauvreau" <cyg at sympatico.ca>
Cc: "r-help" <r-help at stat.math.ethz.ch>
Sent: Wednesday, June 07, 2000 12:41 PM
Subject: Re: [R] Dates on Graphics


> On Wed, 7 Jun 2000, Yves Gauvreau wrote:
>
> > Thanks for your prompt reply.
> >
> > I just want to point something out. I already had the date package
loaded
> > and when I tried help(plot.date) I got "Error in help(plot.date) : No
> > documentation for `plot.date'". There is no mention of it either in the
> > index of the package (date) in fact it's not mentioned anywhere except
in
> > the source. I don't think this can be called a bug but it would be nice
to
> > be able to find minimal documentation on this function.
>
> I could say that you might expect to get formatted dates when using plot()
> on a date object, but in fact you are completely correct and I need to
> update the documentation on the date package.
>
>
> > This situation bring me to think that it would be nice to have a way to
find
> > information even when you don't know if it exist, some kind of
searchable
> > index. At this time I do this kind of search using the html search
> > facilities. Is there some other way that one could this?
>
> Some of this can be done with apropos(), but I don't think you can keyword
> search from inside R. It would be nice.
>
>
> Thomas Lumley
> Assistant Professor, Biostatistics
> University of Washington, Seattle
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.malewski at tu-bs.de  Wed Jun  7 22:37:02 2000
From: p.malewski at tu-bs.de (Peter Malewski)
Date: Wed, 7 Jun 2000 22:37:02 +0200 (CEST)
Subject: Dates?  was Re: [R] Dates on Graphics
In-Reply-To: <001701bfd0b5$170fc270$0201a8c0@Workgroup>
Message-ID: <Pine.LNX.4.21.0006072235310.1542-100000@Uranus.Levi>

Something like (!this is a quick make + it is very late "afternoon"):


> xd<-c("19-May-00", "22-May-00", "23-May-00", "24-May-00", "25-May-00")
> xx <- unlist(strsplit(xd,"-"))
> dim(xx) <- c(3,length(xx)/3)
> xx <- t(xx)
> xx[xx[,3]=="00",3] <- "2000"
> xd <- apply(xx,1,paste,collapse="-")
> xd
[1] "19-May-2000" "22-May-2000" "23-May-2000" "24-May-2000" "25-May-2000"

Peter
 


On Wed, 7 Jun 2000, Yves Gauvreau wrote:

> Hi,
> 
> I tried a few things with the date package and this is one of the result I
> get.
> 
> xd<-c("19-May-00", "22-May-00", "23-May-00", "24-May-00", "25-May-00")
> > as.date(xd)
> [1] NA NA NA NA NA
> 
> xd<-c("19-May-2000", "22-May-2000", "23-May-2000", "24-May-2000",
> "25-May-2000")
> > as.date(xd)
> [1] 19May2000 22May2000 23May2000 24May2000 25May2000
> 
> Any suggestion on how to word around this little problem? Note that this is
> a small sample, I would not like to have to do these corrections to hundreds
> of dates manualy.
> 
> Thanks in advance
> 
> YG
> 
> 
> ----- Original Message -----
> From: "Thomas Lumley" <thomas at biostat.washington.edu>
> To: "Yves Gauvreau" <cyg at sympatico.ca>
> Cc: "r-help" <r-help at stat.math.ethz.ch>
> Sent: Wednesday, June 07, 2000 12:41 PM
> Subject: Re: [R] Dates on Graphics
> 
> 
> > On Wed, 7 Jun 2000, Yves Gauvreau wrote:
> >
> > > Thanks for your prompt reply.
> > >
> > > I just want to point something out. I already had the date package
> loaded
> > > and when I tried help(plot.date) I got "Error in help(plot.date) : No
> > > documentation for `plot.date'". There is no mention of it either in the
> > > index of the package (date) in fact it's not mentioned anywhere except
> in
> > > the source. I don't think this can be called a bug but it would be nice
> to
> > > be able to find minimal documentation on this function.
> >
> > I could say that you might expect to get formatted dates when using plot()
> > on a date object, but in fact you are completely correct and I need to
> > update the documentation on the date package.
> >
> >
> > > This situation bring me to think that it would be nice to have a way to
> find
> > > information even when you don't know if it exist, some kind of
> searchable
> > > index. At this time I do this kind of search using the html search
> > > facilities. Is there some other way that one could this?
> >
> > Some of this can be done with apropos(), but I don't think you can keyword
> > search from inside R. It would be nice.
> >
> >
> > Thomas Lumley
> > Assistant Professor, Biostatistics
> > University of Washington, Seattle
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> >
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

**************************************************************************
P.Malewski				Tel.: 0531 500965
Maschplatz 8				mailto: Peter.Malewski at gmx.de
************************38114 Braunschweig********************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.kong at pmci.unimelb.edu.au  Thu Jun  8 00:37:28 2000
From: c.kong at pmci.unimelb.edu.au (Kong, Chuang Fong)
Date: Thu, 8 Jun 2000 08:37:28 +1000 
Subject: [R] paper size
Message-ID: <B29D3ABE5A8CD311869C0080C8E7EAD46ED788@raid.pmci.unimelb.edu.au>

dear All,
I just started using R. I have been trying to print multiple figures on one
page but I have not been able to get R to set the paper size so that I can
print on full A4 size, it seems to only print in the middle of the paper and
just make the figure smaller when I increase the number of figures to plot
using mfrow. I have tried mai and omi
command but nothing changes, so I suspect I need to try to set paper size in
order to be able to print on all the available area of A4 paper. Please
help. Thanks.
Best regards,
Chuang Fong Kong, Ph D
Head, Microarrays
Peter MacCallum Cancer Institute - Research
St. Andrew's Place, East Melbourne
Victoria 3002, Australia
Tel: 61 3 9656-1796 or 1138
Fax: 61 3 9656-1411
e-mail: c.kong at pmci.unimelb.edu.au


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000608/d8bda7b8/attachment.html

From faheem at email.unc.edu  Thu Jun  8 05:52:38 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Wed, 7 Jun 2000 23:52:38 -0400 (EDT)
Subject: [R] paper size
In-Reply-To: <B29D3ABE5A8CD311869C0080C8E7EAD46ED7E4@raid.pmci.unimelb.edu.au>
Message-ID: <Pine.LNX.4.21.0006072325520.2577-100000@Chrestomanci.home.earth>

Hi,

The ~/.Renviron method should also work in Windows.

In Unix you can either set the environmental variable in .Renviron or you
can change the value in config.site. config.site is a shell script, so
well may be Unix-specific. However, it (config.site) does yield the
following useful information

(from config.site)
# The paper size for the local (PostScript) printer.
# It must either be left blank or set to one of "a4" or "letter".
# If left blank the system will use "a4".
# R_PAPERSIZE=a4

So try setting R_PAPERSIZE=a4 in .Renviron (create a .Renviron if you
don't have one) and see what happens.

Note by the way that command line arguments take precedence.

By the way, I am surprised that your system does not default to A4. I
thought that A4 defaults were pretty universal (as see the above shell
script), but maybe not in NT? What default is your system currently using?
I thought letter was the only other major option.

                             Faheem.

On Thu, 8 Jun 2000, Kong, Chuang Fong wrote:

> Thanks but I forgot to mention that I am using Windows NT, will it work the
> same way? Thanks.
 
> -----Original Message-----
> From: Faheem Mitha [mailto:faheem at email.unc.edu]
> 
> Try setting 
> 
> R_PAPERSIZE=a4 or R_PAPERSIZE=A4 in ~/.Renviron if you are using Unix.
> 
> I don't have any documentation for this but at least
> R_PAPRSIZE=letter works for me in ~/.Renviron                
> 
>                                  Faheem.
> 
> On Thu, 8 Jun 2000, Kong, Chuang Fong wrote:
> 
> > dear All,

[snipped]

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Thu Jun  8 06:06:47 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Thu, 8 Jun 2000 00:06:47 -0400
Subject: Dates?  was Re: [R] Dates on Graphics
References: <Pine.LNX.4.21.0006072235310.1542-100000@Uranus.Levi>
Message-ID: <003301bfd0fe$f75fbb20$0201a8c0@Workgroup>

Thanks for the work around.

I also check with date strings of the same format but for year 98 and 99
("19-May-98") and I get correct results. So could this be a bug?

YG


----- Original Message -----
From: "Peter Malewski" <p.malewski at tu-bs.de>
To: "Yves Gauvreau" <cyg at sympatico.ca>
Cc: "Thomas Lumley" <thomas at biostat.washington.edu>; "r-help"
<r-help at stat.math.ethz.ch>
Sent: Wednesday, June 07, 2000 4:37 PM
Subject: Re: Dates? was Re: [R] Dates on Graphics


> Something like (!this is a quick make + it is very late "afternoon"):
>
>
> > xd<-c("19-May-00", "22-May-00", "23-May-00", "24-May-00", "25-May-00")
> > xx <- unlist(strsplit(xd,"-"))
> > dim(xx) <- c(3,length(xx)/3)
> > xx <- t(xx)
> > xx[xx[,3]=="00",3] <- "2000"
> > xd <- apply(xx,1,paste,collapse="-")
> > xd
> [1] "19-May-2000" "22-May-2000" "23-May-2000" "24-May-2000" "25-May-2000"
>
> Peter
>
>
>
> On Wed, 7 Jun 2000, Yves Gauvreau wrote:
>
> > Hi,
> >
> > I tried a few things with the date package and this is one of the result
I
> > get.
> >
> > xd<-c("19-May-00", "22-May-00", "23-May-00", "24-May-00", "25-May-00")
> > > as.date(xd)
> > [1] NA NA NA NA NA
> >
> > xd<-c("19-May-2000", "22-May-2000", "23-May-2000", "24-May-2000",
> > "25-May-2000")
> > > as.date(xd)
> > [1] 19May2000 22May2000 23May2000 24May2000 25May2000
> >
> > Any suggestion on how to word around this little problem? Note that this
is
> > a small sample, I would not like to have to do these corrections to
hundreds
> > of dates manualy.
> >
> > Thanks in advance
> >
> > YG
> >
> >
> > ----- Original Message -----
> > From: "Thomas Lumley" <thomas at biostat.washington.edu>
> > To: "Yves Gauvreau" <cyg at sympatico.ca>
> > Cc: "r-help" <r-help at stat.math.ethz.ch>
> > Sent: Wednesday, June 07, 2000 12:41 PM
> > Subject: Re: [R] Dates on Graphics
> >
> >
> > > On Wed, 7 Jun 2000, Yves Gauvreau wrote:
> > >
> > > > Thanks for your prompt reply.
> > > >
> > > > I just want to point something out. I already had the date package
> > loaded
> > > > and when I tried help(plot.date) I got "Error in help(plot.date) :
No
> > > > documentation for `plot.date'". There is no mention of it either in
the
> > > > index of the package (date) in fact it's not mentioned anywhere
except
> > in
> > > > the source. I don't think this can be called a bug but it would be
nice
> > to
> > > > be able to find minimal documentation on this function.
> > >
> > > I could say that you might expect to get formatted dates when using
plot()
> > > on a date object, but in fact you are completely correct and I need to
> > > update the documentation on the date package.
> > >
> > >
> > > > This situation bring me to think that it would be nice to have a way
to
> > find
> > > > information even when you don't know if it exist, some kind of
> > searchable
> > > > index. At this time I do this kind of search using the html search
> > > > facilities. Is there some other way that one could this?
> > >
> > > Some of this can be done with apropos(), but I don't think you can
keyword
> > > search from inside R. It would be nice.
> > >
> > >
> > > Thomas Lumley
> > > Assistant Professor, Biostatistics
> > > University of Washington, Seattle
> > >
> > >
> >
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-
> > > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To:
r-help-request at stat.math.ethz.ch
> > >
> >
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._
> > >
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> > r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
> >
>
> **************************************************************************
> P.Malewski Tel.: 0531 500965
> Maschplatz 8 mailto: Peter.Malewski at gmx.de
> ************************38114 Braunschweig********************************
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun  8 07:23:46 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 8 Jun 2000 06:23:46 +0100 (BST)
Subject: [R] paper size
In-Reply-To: <Pine.LNX.4.21.0006072325520.2577-100000@Chrestomanci.home.earth>
Message-ID: <Pine.GSO.4.05.10006080609430.5043-100000@auk.stats>

On Wed, 7 Jun 2000, Faheem Mitha wrote:

> The ~/.Renviron method should also work in Windows.

Yes, but setting R_PAPERSIZE=a4 on the command line is easier on Windows.

> In Unix you can either set the environmental variable in .Renviron or you
> can change the value in config.site. config.site is a shell script, so
> well may be Unix-specific. However, it (config.site) does yield the
> following useful information

Those are slightly different. If you set it in config.site, it is compiled
in as the default for the environment variable R_PAPERSIZE. People on
Windows are normally using pre-compiled versions.

> (from config.site)
> # The paper size for the local (PostScript) printer.
> # It must either be left blank or set to one of "a4" or "letter".
> # If left blank the system will use "a4".
> # R_PAPERSIZE=a4
> 
> So try setting R_PAPERSIZE=a4 in .Renviron (create a .Renviron if you
> don't have one) and see what happens.
> 
> Note by the way that command line arguments take precedence.
> 
> By the way, I am surprised that your system does not default to A4. I
> thought that A4 defaults were pretty universal (as see the above shell
> script), but maybe not in NT? What default is your system currently using?

The default on all versions of R is "a4", including Windows (both the
Windows developers live in ISO-conformant countries).

I suspect the critical issue is that R_PAPERSIZE *only* applies to the
postscript device, where it supplies the default for the argument `paper'.
There are other printer devices on Windows, and it is likely that
win.print is being used.   That defaults to width=height=7(inches),
and those are arguments passed directly to it.

> I thought letter was the only other major option.
> 
>                              Faheem.
> 
> On Thu, 8 Jun 2000, Kong, Chuang Fong wrote:
> 
> > Thanks but I forgot to mention that I am using Windows NT, will it work the
> > same way? Thanks.
>  
> > -----Original Message-----
> > From: Faheem Mitha [mailto:faheem at email.unc.edu]
> > 
> > Try setting 
> > 
> > R_PAPERSIZE=a4 or R_PAPERSIZE=A4 in ~/.Renviron if you are using Unix.
> > 
> > I don't have any documentation for this but at least
> > R_PAPRSIZE=letter works for me in ~/.Renviron                

See ?postscript for the documentation, which tells you the other options.

> > 
> >                                  Faheem.
> > 
> > On Thu, 8 Jun 2000, Kong, Chuang Fong wrote:
> > 
> > > dear All,
> 
> [snipped]
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.kong at pmci.unimelb.edu.au  Thu Jun  8 07:56:03 2000
From: c.kong at pmci.unimelb.edu.au (Kong, Chuang Fong)
Date: Thu, 8 Jun 2000 15:56:03 +1000 
Subject: [R] paper size
Message-ID: <B29D3ABE5A8CD311869C0080C8E7EAD46ED858@raid.pmci.unimelb.edu.au>

Dear all,
Thanks for the response. I did try to change width, height in win.graph but
it does not work either. I now belief that it is not a paper size problem
but something else; either the restriction of the device windows (which I do
not know how to change) or ???? Basically, I am not able to print the whole
printable area of a4. When I make more figures in a plot, it just shrink all
of the fingers smaller to fit into the centre area. Please help.

Best regards,
Chuang Fong Kong, Ph D
Head, Microarrays
Peter MacCallum Cancer Institute - Research
St. Andrew's Place, East Melbourne
Victoria 3002, Australia
Tel: 61 3 9656-1796 or 1138
Fax: 61 3 9656-1411
e-mail: c.kong at pmci.unimelb.edu.au



-----Original Message-----
From: Prof Brian D Ripley [mailto:ripley at stats.ox.ac.uk]
Sent: Thursday, June 08, 2000 3:24 PM
To: Faheem Mitha
Cc: Kong, Chuang Fong; r-help at stat.math.ethz.ch
Subject: RE: [R] paper size


On Wed, 7 Jun 2000, Faheem Mitha wrote:

> The ~/.Renviron method should also work in Windows.

Yes, but setting R_PAPERSIZE=a4 on the command line is easier on Windows.

> In Unix you can either set the environmental variable in .Renviron or you
> can change the value in config.site. config.site is a shell script, so
> well may be Unix-specific. However, it (config.site) does yield the
> following useful information

Those are slightly different. If you set it in config.site, it is compiled
in as the default for the environment variable R_PAPERSIZE. People on
Windows are normally using pre-compiled versions.

> (from config.site)
> # The paper size for the local (PostScript) printer.
> # It must either be left blank or set to one of "a4" or "letter".
> # If left blank the system will use "a4".
> # R_PAPERSIZE=a4
> 
> So try setting R_PAPERSIZE=a4 in .Renviron (create a .Renviron if you
> don't have one) and see what happens.
> 
> Note by the way that command line arguments take precedence.
> 
> By the way, I am surprised that your system does not default to A4. I
> thought that A4 defaults were pretty universal (as see the above shell
> script), but maybe not in NT? What default is your system currently using?

The default on all versions of R is "a4", including Windows (both the
Windows developers live in ISO-conformant countries).

I suspect the critical issue is that R_PAPERSIZE *only* applies to the
postscript device, where it supplies the default for the argument `paper'.
There are other printer devices on Windows, and it is likely that
win.print is being used.   That defaults to width=height=7(inches),
and those are arguments passed directly to it.

> I thought letter was the only other major option.
> 
>                              Faheem.
> 
> On Thu, 8 Jun 2000, Kong, Chuang Fong wrote:
> 
> > Thanks but I forgot to mention that I am using Windows NT, will it work
the
> > same way? Thanks.
>  
> > -----Original Message-----
> > From: Faheem Mitha [mailto:faheem at email.unc.edu]
> > 
> > Try setting 
> > 
> > R_PAPERSIZE=a4 or R_PAPERSIZE=A4 in ~/.Renviron if you are using Unix.
> > 
> > I don't have any documentation for this but at least
> > R_PAPRSIZE=letter works for me in ~/.Renviron                

See ?postscript for the documentation, which tells you the other options.

> > 
> >                                  Faheem.
> > 
> > On Thu, 8 Jun 2000, Kong, Chuang Fong wrote:
> > 
> > > dear All,
> 
> [snipped]
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
> 

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000608/818540a4/attachment.html

From ripley at stats.ox.ac.uk  Thu Jun  8 08:25:07 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 8 Jun 2000 07:25:07 +0100 (GMT Daylight Time)
Subject: [R] paper size
In-Reply-To: <B29D3ABE5A8CD311869C0080C8E7EAD46ED858@raid.pmci.unimelb.edu.au>
Message-ID: <Pine.WNT.4.05.10006080716330.243-100000@tern.stats>

On Thu, 8 Jun 2000, Kong, Chuang Fong wrote:

> Dear all,
> Thanks for the response. I did try to change width, height in win.graph but
							            ^^^^^
I wrote win.print

> it does not work either. I now belief that it is not a paper size problem
> but something else; either the restriction of the device windows (which I do
> not know how to change) or ???? Basically, I am not able to print the whole
> printable area of a4. When I make more figures in a plot, it just shrink all
> of the fingers smaller to fit into the centre area. Please help.

Please do follow the help you are given. If I do

> win.print(width=8, height=10.5)
> par(mfrow=c(3,2))
> for(i in 1:6) plot(1:10)
> dev.off()

I get a layout of plots filling a US letter page.  You will not get this
if you use the Print menu from a windows() device: that prints to the
default size.

It would have been much easier to help if you had said exactly how you
were trying to print on what platform.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From 1bdesec at 1stbdehq.1ad.army.mil  Thu Jun  8 08:27:14 2000
From: 1bdesec at 1stbdehq.1ad.army.mil (1 BDE Secretary (Mr. Adams, Tony))
Date: Thu, 8 Jun 2000 08:27:14 +0200 
Subject: [R] Please Assist
Message-ID: <C67D64C2B40AD411AFB500E029088A7E1E67ED@1stbdehq.1ad.army.mil>

In computer the Power of an area within the context
Of Hypothesis Testing where the formula for Power
=1-Beta.  Can you please assist me in computing the
power of an experiment in relation to the sample
means CRIT and u0 (means 0) and u1 (means 1).

Thanks, Mr. Adams.  Please respond as soon as possible!

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.kong at pmci.unimelb.edu.au  Thu Jun  8 08:53:45 2000
From: c.kong at pmci.unimelb.edu.au (Kong, Chuang Fong)
Date: Thu, 8 Jun 2000 16:53:45 +1000 
Subject: [R] paper size
Message-ID: <B29D3ABE5A8CD311869C0080C8E7EAD46ED869@raid.pmci.unimelb.edu.au>


Sorry for not making myself clear. I am actually using the print manual to
print instead of win.print. When I tried to print with win.print, I was not
able to send the print job to the printer. Why?
Best regards,
Chuang Fong Kong, Ph D
Head, Microarrays
Peter MacCallum Cancer Institute - Research
St. Andrew's Place, East Melbourne
Victoria 3002, Australia
Tel: 61 3 9656-1796 or 1138
Fax: 61 3 9656-1411
e-mail: c.kong at pmci.unimelb.edu.au



-----Original Message-----
From: Prof Brian D Ripley [mailto:ripley at stats.ox.ac.uk]
Sent: Thursday, June 08, 2000 4:25 PM
To: Kong, Chuang Fong
Cc: r-help at stat.math.ethz.ch
Subject: RE: [R] paper size


On Thu, 8 Jun 2000, Kong, Chuang Fong wrote:

> Dear all,
> Thanks for the response. I did try to change width, height in win.graph
but
							            ^^^^^
I wrote win.print

> it does not work either. I now belief that it is not a paper size problem
> but something else; either the restriction of the device windows (which I
do
> not know how to change) or ???? Basically, I am not able to print the
whole
> printable area of a4. When I make more figures in a plot, it just shrink
all
> of the fingers smaller to fit into the centre area. Please help.

Please do follow the help you are given. If I do

> win.print(width=8, height=10.5)
> par(mfrow=c(3,2))
> for(i in 1:6) plot(1:10)
> dev.off()

I get a layout of plots filling a US letter page.  You will not get this
if you use the Print menu from a windows() device: that prints to the
default size.

It would have been much easier to help if you had said exactly how you
were trying to print on what platform.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000608/a02afcc1/attachment.html

From ligges at statistik.uni-dortmund.de  Thu Jun  8 09:29:22 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 08 Jun 2000 09:29:22 +0200
Subject: [R] paper size
References: <B29D3ABE5A8CD311869C0080C8E7EAD46ED869@raid.pmci.unimelb.edu.au>
Message-ID: <393F4B52.3C7532E2@statistik.uni-dortmund.de>

> Sorry for not making myself clear. I am actually using the print
> manual to print instead of win.print. When I tried to print with
> win.print, I was not able to send the print job to the printer. Why?

>From Prof Ripley:
 win.print(width=8, height=10.5) 
 ## Here you will be asked to print to which printer
 par(mfrow=c(3,2)) 
 for(i in 1:6) plot(1:10) 
 dev.off() ## Here the plot will be send to the printer

You _cannot_ say e.g. 
 plot(1:10)
 win.print(.....) ## This opens the device only.


win.print(.) is a "device", not a function to print the opened device.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun  8 09:30:15 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 8 Jun 2000 08:30:15 +0100 (BST)
Subject: [R] paper size
In-Reply-To: <B29D3ABE5A8CD311869C0080C8E7EAD46ED869@raid.pmci.unimelb.edu.au>
Message-ID: <Pine.GSO.4.05.10006080819570.5250-100000@auk.stats>

On Thu, 8 Jun 2000, Kong, Chuang Fong wrote:

> 
> Sorry for not making myself clear. I am actually using the print manual to

What is the `print manual'?   Please do try to say exactly what you did.

> print instead of win.print. When I tried to print with win.print, I was not
> able to send the print job to the printer. Why?

Again, you give no indication of the problem, but as it is the computer
than sends the print job, not you, I suspect it gave an error message.
As this works here, I think you need to take local advice.

If you print from the the menu on the windows() device, it prints at the
actual size of the window on your screen.  If you request a 8x10.5inch
window, it will probably not fit and be scaled down to fit. (Unless you
have an actual diagonal of more than about 20.6 inches, as it needs a
screen height of 10.5/0.85 inches to not scale the window.)

If that is not what you want you will have to take another route, like
dev.print.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Thu Jun  8 09:36:09 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Thu, 08 Jun 2000 09:36:09 +0200
Subject: Undocumented functions (was: [R] Dates on Graphics)
Message-ID: <3.0.32.20000608093609.0090e240@162.38.183.200>

At 19:48 07/06/00 +0200, Friedrich Leisch wrote:
>>>>>> On Wed, 7 Jun 2000 09:41:23 -0700 (PDT),
>>>>>> Thomas Lumley (TL) wrote:
>
>
>TL> Some of this can be done with apropos(), but I don't think you can
keyword
>TL> search from inside R. It would be nice.
>
>
>help.search() might do what you want ...
>
>.f

Yes, but help.search() looks in the documented functions, whereas Yves's
concern was about the functions which are not documented. apropos() is fine
apparently, providing the corresponding library is loaded:

> apropos("date")
[1] "date"            "update"          "update.default"  "update.formula" 
[5] "update.packages"
> library(date)
> apropos("date")
 [1] "Math.date"          "Ops.date"           "Summary.date"      
 [4] "[.date"             "[[.date"            "as.character.date" 
 [7] "as.data.frame.date" "as.date"            "as.vector.date"    
[10] "date.ddmmmyy"       "date.mdy"           "date.mmddyy"       
[13] "date.mmddyyyy"      "is.date"            "is.na.date"        
[16] "mdy.date"           "plot.date"          "print.date"        
[19] "summary.date"       "date"               "update"            
[22] "update.default"     "update.formula"     "update.packages"   
> ?plot.date
Error in help(plot.date) : No documentation for `plot.date'

Hence, plot.date() is effectively here but not documented. AFAIK, the only
solution to know how to use the function is to open the file
RHOME/library/date/R, and search for:

plot.date <- function(x, y, ..., xaxt, xlab, ylab) {


Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun  8 10:01:03 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Jun 2000 10:01:03 +0200
Subject: Undocumented functions (was: [R] Dates on Graphics)
In-Reply-To: Emmanuel Paradis's message of "Thu, 08 Jun 2000 09:36:09 +0200"
References: <3.0.32.20000608093609.0090e240@162.38.183.200>
Message-ID: <x2em68zjnk.fsf@blueberry.kubism.ku.dk>

Emmanuel Paradis <paradis at isem.univ-montp2.fr> writes:

> Hence, plot.date() is effectively here but not documented. AFAIK, the only
> solution to know how to use the function is to open the file
> RHOME/library/date/R, and search for:
> 
> plot.date <- function(x, y, ..., xaxt, xlab, ylab) {

Recent versions of R have a function called undoc(), which finds
functions without documentation, e.g.

> undoc('tcltk')
[1] ".Last.lib"      "tkplace.slaves" "tktitle<-"     

This is mainly intended for package writers who can use it to find
functions that need to have documentation written. (And, oops, we seem
to have a couple of missing \alias{}s there...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stephen at cogsci.ed.ac.uk  Thu Jun  8 13:53:38 2000
From: stephen at cogsci.ed.ac.uk (Stephen Eglen)
Date: Thu, 8 Jun 2000 12:53:38 +0100 (BST)
Subject: [R] R Equivalent to matlab's find() command?
Message-ID: <14655.35138.60869.997724@cogsci.ed.ac.uk>

hi,

Just a very simple question: is there an R equivalent to the matlab
command find(X) which returns the indices of vector X that store
non-zero elements?

e.g.
> find( [1 0 0 1 0])
ans =

  1  4

so, in R, how do I do:

ans <- rfind( c(1,0,0,1,0))

so that ans is the vector c(1,4)

thanks, stephen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun  8 14:33:10 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Jun 2000 14:33:10 +0200
Subject: [R] R Equivalent to matlab's find() command?
In-Reply-To: Stephen Eglen's message of "Thu, 8 Jun 2000 12:53:38 +0100 (BST)"
References: <14655.35138.60869.997724@cogsci.ed.ac.uk>
Message-ID: <x2bt1cgxo9.fsf@blueberry.kubism.ku.dk>

Stephen Eglen <stephen at cogsci.ed.ac.uk> writes:

> so, in R, how do I do:
> 
> ans <- rfind( c(1,0,0,1,0))
> 
> so that ans is the vector c(1,4)

which( c(1,0,0,1,0) != 0 )

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun  8 14:59:36 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 8 Jun 2000 13:59:36 +0100 (BST)
Subject: [R] R Equivalent to matlab's find() command?
In-Reply-To: <14655.35138.60869.997724@cogsci.ed.ac.uk>
Message-ID: <Pine.GSO.4.05.10006081357190.13611-100000@auk.stats>

On Thu, 8 Jun 2000, Stephen Eglen wrote:

> hi,
> 
> Just a very simple question: is there an R equivalent to the matlab
> command find(X) which returns the indices of vector X that store
> non-zero elements?
> 
> e.g.
> > find( [1 0 0 1 0])
> ans =
> 
>   1  4
> 
> so, in R, how do I do:
> 
> ans <- rfind( c(1,0,0,1,0))
> 
> so that ans is the vector c(1,4)


rfind <- function(x) seq(along=x)[x != 0]

It's a peculiar name, though ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Thu Jun  8 15:24:00 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Thu, 8 Jun 2000 14:24:00 +0100 (BST)
Subject: [R] R Equivalent to matlab's find() command?
In-Reply-To: <14655.35138.60869.997724@cogsci.ed.ac.uk>
Message-ID: <Pine.LNX.4.10.10006081423400.9194-100000@localhost.localdomain>

 x<-c(1, 0, 0, 1, 0)
 which(x!=0)

Bill Simpson


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Jun  8 15:27:51 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 08 Jun 2000 15:27:51 +0200
Subject: [R] R Equivalent to matlab's find() command?
References: <14655.35138.60869.997724@cogsci.ed.ac.uk>
Message-ID: <393F9F57.E2BC5CEC@statistik.uni-dortmund.de>

Stephen Eglen wrote:
> 
> hi,
> 
> Just a very simple question: is there an R equivalent to the matlab
> command find(X) which returns the indices of vector X that store
> non-zero elements?
> 
> e.g.
> > find( [1 0 0 1 0])
> ans =
> 
>   1  4
> 
> so, in R, how do I do:
> 
> ans <- rfind( c(1,0,0,1,0))
> 
> so that ans is the vector c(1,4)

Sorry, first answer was wrong!

Try: 
  which(x!=0)

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Thu Jun  8 15:29:46 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Thu, 8 Jun 2000 15:29:46 +0200 (MET DST)
Subject: [R] R Equivalent to matlab's find() command?
In-Reply-To: <14655.35138.60869.997724@cogsci.ed.ac.uk>
Message-ID: <Pine.OSF.4.05.10006081529070.5189-100000@alnair.uio.no>

On Thu, 8 Jun 2000, Stephen Eglen wrote:

>so, in R, how do I do:
>
>ans <- rfind( c(1,0,0,1,0))
>
>so that ans is the vector c(1,4)

You can do:
> which(c(1,0,0,1,0) != 0)
[1] 1 4

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From y0004379 at tu-bs.de  Thu Jun  8 16:13:20 2000
From: y0004379 at tu-bs.de (Peter Malewski)
Date: Thu, 8 Jun 2000 16:13:20 +0200 (METDST)
Subject: [R] R Equivalent to matlab's find() command?
In-Reply-To: <14655.35138.60869.997724@cogsci.ed.ac.uk>
Message-ID: <Pine.HPX.4.10.10006081611500.11385-100000@rzpool03.rz.tu-bs.de>

Do you mean this:

> x <- c(1,0,0,1)
> which(x!=1)
[1] 1 4

?
Peter.

> command find(X) which returns the indices of vector X that store
> non-zero elements?
> 
> e.g.
> > find( [1 0 0 1 0])
> ans =

** To YOU I'm an atheist; to God, I'm the Loyal Opposition. Woody Allen **
P.Malewski					Tel.: 0531 500965
Maschplatz 8					Email: P.Malewski at tu-bs.de
************************38114 Braunschweig********************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jens.oehlschlaegel-akiyoshi at mdfactory.de  Thu Jun  8 17:18:33 2000
From: jens.oehlschlaegel-akiyoshi at mdfactory.de (=?iso-8859-1?Q?Jens_Oehlschl=E4gel-Akiyoshi?=)
Date: Thu, 8 Jun 2000 17:18:33 +0200
Subject: [R] R Equivalent to matlab's find() command?
In-Reply-To: <Pine.GSO.4.05.10006081357190.13611-100000@auk.stats>
Message-ID: <001a01bfd15c$cfd93be0$c10616ac@oehl.bbdo.de>



Concerning speed and memory efficiency I find

  as.logical(x) 

is better than 

  x!=0

and 

  seq(along=x)[as.logical(x)] 

is better than 

  which(as.logical(x))

thus 

  which(x!=0)

is shortest and

  rfind <- function(x)seq(along=x)[as.logical(x)] 

seems to be computationally most efficient


> version
         _         
platform Windows NT 4.0
arch     x86       
os       Win32     
system   x86, Win32
status             
major    1         
minor    0.1       
year     2000      
month    April     
day      14        
language R 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Thu Jun  8 18:58:42 2000
From: gb at stat.umu.se (gb)
Date: Thu, 8 Jun 2000 18:58:42 +0200 (CEST)
Subject: [R] plot.survfit and cloglog
In-Reply-To: <14655.35138.60869.997724@cogsci.ed.ac.uk>
Message-ID: <Pine.LNX.4.21.0006081833010.19493-100000@pc16.stat.umu.se>


With R-1.0.1, Linux RH6.2 and survival5, I try

> x2.fit <- survfit(Surv(stopp, event) ~ x2)
> plot(x2.fit, fun = "cloglog")
Error in rep(2, n2 - 1) : invalid number of copies in "rep"
In addition: Warning message: 
1 x value <= 0 omitted from logarithmic plot in: xy.coords(x, y, xlabel,
ylabel, log) 

(an empty plot area pops up), also

> print(x2.fit)
Call: survfit(formula = Surv(stopp, event) ~ x2)

      n events mean se(mean) median 0.95LCL 0.95UCL
x2=0 52     23 3.19    0.514  2.277   0.839     Inf
x2=1 48     40 0.69    0.173  0.282   0.169    0.66
Warning message: 
no finite arguments to min/max; returning extreme. in: min(..., na.rm =
na.rm) 

seem to indicate something strange. However, 'fun="cumhaz"' works as
expected. Is this a bug, or am I doing something stupid (again)? 

I tried to replicate this with a small data set:
> t1
 [1] 1.233 0.391 0.219 0.420 0.710 1.658 1.487 2.888 0.175 0.045
> ev
 [1] 1 1 1 1 1 1 1 1 1 1

> fit <- survfit(Surv(t1, ev) ~ 1)
> plot(fit, fun = "cloglog")
Error in rep(2, n2 - 1) : invalid number of copies in "rep"
In addition: Warning message: 
1 x value <= 0 omitted from logarithmic plot in: xy.coords(x, y, xlabel,
ylabel, log) 

However, this time a plot (apparently correct) shows up.

G?ran

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From usman at thynne.psych.nwux.edu  Thu Jun  8 19:55:13 2000
From: usman at thynne.psych.nwux.edu (Usman Muzaffar)
Date: Thu, 08 Jun 2000 12:55:13 -0500
Subject: [R] FrameMaker/MIF driver
Message-ID: <393FDE01.76785AB@thynne.psych.nwux.edu>


Hello -

1. Is there any way to directly export R plots to MIF format
   for import into FrameMaker?

2. If not, how hard would it be to add such a device driver?
   I don't see device driver docs in the R extensions docs.
   Are drivers contained in their own source files with simple
   interfaces to the data structures with plot data?

3. If that's difficult, what workarounds are possible? I'm
   currently writing to ps and then using pstoedit to convert
   to mif but its clumsy and inaccurate.

Any answers appreciated.
thanks,
usman
usman at thynne.psych.nwu.edu
remove x from above to reply if present
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cferna3 at uic.edu  Thu Jun  8 20:54:19 2000
From: cferna3 at uic.edu (Cheryl J Fernandes)
Date: Thu, 8 Jun 2000 13:54:19 -0500 (CDT)
Subject: [R] creating models from "Objects" in R's environment
Message-ID: <Pine.GSO.4.10.10006081350200.11509-100000@icarus.cc.uic.edu>

Hi
  I'm trying to create Tree based models in R using the downloadable
package called "tree".

  It is mentioned in the R documentation that Objects are created and 
stored in the R environment by name.

So I have saved all the objects formed during the creation of a tree model
using the R command:

dump(objects(),"Z:\\Project\\Exammples\\Output\\outputTree.txt");

Here's a snapshot of the output file outputTree.txt:


"hc" <-
structure(list(merge = structure(c(-1, -10, -12, -14, -18, -20, 
-22, -24, -26, -28, -30, -33, -36, -38, -40, -42, -44, -49, -52, 
-54, -56, -58, -60, -62, -64, -66, -68, -72, -74, -77, -80, -84, 
-88, -90, -93, -3, -4, -5, -46, -51, -95, -16, -35, -71, -76, 
80, 76, 83, 81, 85, 82, 89, 86, 88, 91, 93), .Dim = c(94, 2)), 
    height = c(0.00099999999999989, 0.00099999999999989,
0.00099999999999989, 
    0.00099999999999989, 0.00099999999999989, 0.00099999999999989, 
    0.00099999999999989, 0.00099999999999989, 0.00099999999999989, 
    0.00099999999999989, 0.00099999999999989, 0.00099999999999989, 
    0.00099999999999989, 0.00099999999999989, 0.00099999999999989, 
    0.0389999999999997, 0.0539999999999998, 0.0943398113205659
    ), order = c(79, 82, 83, 84, 85, 77, 78, 80, 81, 86, 92, 
    95, 93, 94, 90, 91, 87, 88, 89, 56, 57, 58, 59, 60, 61, 62, 
    34, 24, 25, 26, 27, 32, 28, 29), labels = c("1", "2", "3", 
    "4", "5", "6", "7", "8", "9", "10", "11", "12", "13", "14", 
  "85", "86", "87", "88", "89", "90", "91", "92", "93", "94", 
    "95"), method = "complete", call = hclust(d = dist(vegtest), 
        method = "complete"), dist.method = "euclidean"), .Names =
c("merge", 
	"height", "order", "labels", "method", "call", "dist.method"),
class = "hclust")
	"last.warning" <-
	structure(list("NAs introduced by coercion" = NULL), .Names = "NAs
introduced by 	        

coercion")
	"v.tr" <-
	structure(list(frame = structure(list(var = structure(c(2, 1, 
	2, 2, 2, 1, 1, 2, 1, 1, 2, 1, 2, 2, 1, 1, 2, 1, 1), .Label =
c("<leaf>", 
	"Veg"), class = "factor"), n = c(95, 7, 88, 34, 22, 5, 17, 12, 
	5, 7, 54, 5, 49, 23, 9, 14, 26, 7, 19), dev =
c(0.00174753684210526, 
.
..
....


After creating the models, one needs to analyse them with some new data.
Hence, I am now trying to analyze this model with a new set of data.

Is it possible in R to recreate the models by reading from the "Object"
output file.
ie By reading from the above displayed file, can we recreate the tree
model ??

Any help/hints would be highly appreciated.

Thanks much 
Cheryl Fernandes

Cheryl Fernandes
Laboratory of Advanced Computing 
University of Illinois at Chicago.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun  8 21:32:46 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 8 Jun 2000 20:32:46 +0100 (BST)
Subject: [R] Re: [Rd] creating models from "Objects" in R's environment
In-Reply-To: <Pine.GSO.4.10.10006081350200.11509-100000@icarus.cc.uic.edu>
Message-ID: <Pine.GSO.4.05.10006082028520.27560-100000@auk.stats>

On Thu, 8 Jun 2000, Cheryl J Fernandes wrote:

> Hi
>   I'm trying to create Tree based models in R using the downloadable
> package called "tree".
> 
>   It is mentioned in the R documentation that Objects are created and 
> stored in the R environment by name.
> 
> So I have saved all the objects formed during the creation of a tree model
> using the R command:
> 
> dump(objects(),"Z:\\Project\\Exammples\\Output\\outputTree.txt");
> 
[..]

> Here's a snapshot of the output file outputTree.txt:

> After creating the models, one needs to analyse them with some new data.
> Hence, I am now trying to analyze this model with a new set of data.
> 
> Is it possible in R to recreate the models by reading from the "Object"
> output file.

Eveything is possible in R: you can program a Turing machine in it
but you might need unlimited memory.

> ie By reading from the above displayed file, can we recreate the tree
> model ??

Yes, but to fit the *formula* to a new dataset (hence a *new* model) you
will need to use update.

I suggest you use save() not dump() to store objects.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun  8 21:36:49 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 8 Jun 2000 20:36:49 +0100 (BST)
Subject: [R] FrameMaker/MIF driver
In-Reply-To: <393FDE01.76785AB@thynne.psych.nwux.edu>
Message-ID: <Pine.GSO.4.05.10006082033220.27560-100000@auk.stats>

On Thu, 8 Jun 2000, Usman Muzaffar wrote:

> 
> Hello -
> 
> 1. Is there any way to directly export R plots to MIF format
>    for import into FrameMaker?

What's MIF?

> 2. If not, how hard would it be to add such a device driver?
>    I don't see device driver docs in the R extensions docs.
>    Are drivers contained in their own source files with simple
>    interfaces to the data structures with plot data?

It is not difficult, and src/dev/unix/devX11.c says:

        /********************************************************/
        /* This device driver has been documented so that it be */
        /* used as a template for new drivers                   */
        /********************************************************/

!

If MIF is in fact accurately documented (and lots of so-called graphics
formats are not) this should be an afternoon's task (says he havng written
a few drivers recently).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From orca at if.ufrj.br  Fri Jun  9 01:27:38 2000
From: orca at if.ufrj.br (Mauricio Ortiz Calvao)
Date: Thu, 8 Jun 2000 20:27:38 -0300
Subject: [R] packages installation
Message-ID: <200006082327.UAA30958@if.ufrj.br>

Hi folks

I am a complete beginner with R. I have been able to 
install it under Windows 95
on my PC. I use to use it, as a GUI, from a shortcut 
icon on my Desktop workspace.

I am very much in need of using some packages for 
density estimation from a
two-dimensional data set of simulated points. I need to 
build the corresponding
continuous or smoothed probability density function, and 
afterwards, the
confidence contours at some specified typical 
probabilities (such as 68%, 99%,...).
I have already downloaded some packages, such as ash, 
kernsmooth, locfit and sm,
which seem to be very well tailored for the job, but 
(shame!) I was unable to
install them; I found out that I really don't know where 
to ``put'' them (after
unzipping...). I wasn't able to find any help in 
the documentation. Then, I would not know how to make 
them work under R, that is,
how should I make R get aware of their existence?

I would also like to take the opportunity to ask people 
about any suggestions
on good packages for this density estimation and 
construction of histograms from
two-dim points.

Finally, I urge you to email your answers to either

    ORCA at IF.UFRJ.BR

or

    MAUORCA at IG.COM.BR.

Regards and thanks everybody for the wonderful job with 
R!!!
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Fri Jun  9 01:47:07 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Thu, 8 Jun 2000 19:47:07 -0400
Subject: [R] Output args?
Message-ID: <007601bfd1a3$dc511900$0201a8c0@Workgroup>

Hi,

Is there a way to find out if a function was called with an output argument? Or to prevent the printing of large amount of data if the function was called without output argument?

Thanks

YG
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000608/8d7a01ec/attachment.html

From cyg at sympatico.ca  Fri Jun  9 01:53:24 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Thu, 8 Jun 2000 19:53:24 -0400
Subject: [R] Output arg?
Message-ID: <008301bfd1a4$bc883cb0$0201a8c0@Workgroup>

Sorry,

I forgot to ask if it was possible when there is no output argument to somehow "put" the data in the global environnement?

Thank.

YG
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000608/f43c1827/attachment.html

From Ko-Kang at xtra.co.nz  Fri Jun  9 03:34:55 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Fri, 9 Jun 2000 13:34:55 +1200
Subject: [R] packages installation
References: <200006082327.UAA30958@if.ufrj.br>
Message-ID: <002001bfd1b2$eb589c20$0c5237d2@id>

Go to
http://www.stat.auckland.ac.nz/~kwan022/#meta

It has a documentation on how to intall R packages....I wrote it a while ago

Cheers,

Ko-Kang
----- Original Message -----
From: "Mauricio Ortiz Calvao" <orca at if.ufrj.br>
To: <r-help at stat.math.ethz.ch>
Sent: Friday, June 09, 2000 11:27 AM
Subject: [R] packages installation


> Hi folks
>
> I am a complete beginner with R. I have been able to
> install it under Windows 95
> on my PC. I use to use it, as a GUI, from a shortcut
> icon on my Desktop workspace.
>
> I am very much in need of using some packages for
> density estimation from a
> two-dimensional data set of simulated points. I need to
> build the corresponding
> continuous or smoothed probability density function, and
> afterwards, the
> confidence contours at some specified typical
> probabilities (such as 68%, 99%,...).
> I have already downloaded some packages, such as ash,
> kernsmooth, locfit and sm,
> which seem to be very well tailored for the job, but
> (shame!) I was unable to
> install them; I found out that I really don't know where
> to ``put'' them (after
> unzipping...). I wasn't able to find any help in
> the documentation. Then, I would not know how to make
> them work under R, that is,
> how should I make R get aware of their existence?
>
> I would also like to take the opportunity to ask people
> about any suggestions
> on good packages for this density estimation and
> construction of histograms from
> two-dim points.
>
> Finally, I urge you to email your answers to either
>
>     ORCA at IF.UFRJ.BR
>
> or
>
>     MAUORCA at IG.COM.BR.
>
> Regards and thanks everybody for the wonderful job with
> R!!!
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun  9 06:59:34 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 9 Jun 2000 05:59:34 +0100 (BST)
Subject: [R] packages installation
In-Reply-To: <002001bfd1b2$eb589c20$0c5237d2@id>
Message-ID: <Pine.GSO.4.05.10006090539220.4420-100000@auk.stats>

On Fri, 9 Jun 2000, Ko-Kang Wang wrote:

> Go to
> http://www.stat.auckland.ac.nz/~kwan022/#meta
> 
> It has a documentation on how to intall R packages....I wrote it a while ago

Neither of you has apparently read the rw-FAQ. It's in item 3.1.

Just use install.packages() from inside R.

And for, Ko-Kang Wang's benefit, you can install packages in other places
and that too is in the rw-FAQ.


We are happy to have guides to using R, but do please try to ensure that
what you are providing is not already in the existing documentation, and
that you have read all of it (there is little enough).

One enquiry came to me yesterday which suggested that some users of binary
distributions do not know that R comes with two Guides in the doc/manual
directory plus an FAQ and the help pages in book form.  I hope those are
distributed with all the binary distributions (they are not made nor
installed by default).  Windows-specific versions are available in PDF in
rw1001d1.zip and rw1001d2.zip


[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun  9 07:15:52 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 9 Jun 2000 06:15:52 +0100 (BST)
Subject: [R] Output args?
In-Reply-To: <007601bfd1a3$dc511900$0201a8c0@Workgroup>
Message-ID: <Pine.GSO.4.05.10006090608390.4420-100000@auk.stats>

On Thu, 8 Jun 2000, Yves Gauvreau wrote (after adding some line breaks):

> Is there a way to find out if a function was called with an 
> output argument? Or to prevent the printing of large amount of data if
> the function was called without output argument?

and later:

> I forgot to ask if it was possible when there is no output argument to
> somehow "put" the data in the global environnement?


I think you misunderstand. S is a functional language, so *all* functions
return something (possible NULL).  And if an object is evaluated at the
top-level and is not part of an assignment, its result is *printed* unless
the auto-print flag is false. If you don't want to see the result, either
enclose the call in invisible() or assign the result to an R object, as in

> 2+3
[1] 5
> invisible(2+3)
> z <- 2+3
>

(BTW, "+" really is a function in S, and I could have written "+"(2,3)
to show this.)

I hope I have guessed correctly what you had in mind.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Fri Jun  9 13:05:42 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Fri, 9 Jun 2000 07:05:42 -0400
Subject: [R] Output args?
References: <Pine.GSO.4.05.10006090608390.4420-100000@auk.stats>
Message-ID: <009701bfd202$a7934f80$0201a8c0@Workgroup>

Thanks for the prompt response.

I know nothing about S and about the fact that it is a functional language.
I don't know much about English, functional languages, stats and maths
either I'm just a retired high school teacher fiddling around to pass the
time. But I know that when someone doesn't know something it only means that
this someone doesn't know this subject and it certainly doesn't mean that
this someone is necessarily stupid.

I find out by trial and error later that you can do the following.

foo<-function(x,y,z){
  ...
  abc<-list(a=x,b=y,c=z)
}

and call

foo(1,2,3)

there is nothing outputted to the console which is close to what I ask in
the first part of my query. I'll continue investigating to learn if it's
possible to export or whatever is the right term, the variables I want so
that there available for future use at the top level.

Regards

Yves Gauvreau



----- Original Message -----
From: "Prof Brian D Ripley" <ripley at stats.ox.ac.uk>
To: "Yves Gauvreau" <cyg at sympatico.ca>
Cc: <r-help at stat.math.ethz.ch>
Sent: Friday, June 09, 2000 1:15 AM
Subject: Re: [R] Output args?


> On Thu, 8 Jun 2000, Yves Gauvreau wrote (after adding some line breaks):
>
> > Is there a way to find out if a function was called with an
> > output argument? Or to prevent the printing of large amount of data if
> > the function was called without output argument?
>
> and later:
>
> > I forgot to ask if it was possible when there is no output argument to
> > somehow "put" the data in the global environnement?
>
>
> I think you misunderstand. S is a functional language, so *all* functions
> return something (possible NULL).  And if an object is evaluated at the
> top-level and is not part of an assignment, its result is *printed* unless
> the auto-print flag is false. If you don't want to see the result, either
> enclose the call in invisible() or assign the result to an R object, as in
>
> > 2+3
> [1] 5
> > invisible(2+3)
> > z <- 2+3
> >
>
> (BTW, "+" really is a function in S, and I could have written "+"(2,3)
> to show this.)
>
> I hope I have guessed correctly what you had in mind.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun  9 13:21:13 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 9 Jun 2000 12:21:13 +0100 (BST)
Subject: [R] Output args?
Message-ID: <200006091121.MAA04189@toucan.stats.ox.ac.uk>


> From: "Yves Gauvreau" <cyg at sympatico.ca>
> Date: Fri, 9 Jun 2000 07:05:42 -0400
> 
> Thanks for the prompt response.
> 
> I know nothing about S and about the fact that it is a functional language.
> I don't know much about English, functional languages, stats and maths
> either I'm just a retired high school teacher fiddling around to pass the
> time. But I know that when someone doesn't know something it only means that
> this someone doesn't know this subject and it certainly doesn't mean that
> this someone is necessarily stupid.

I do wonder if you might want to consider reading some of the documentation
about S to help you learn.  I would not expect to understand C programming
by trial-and-error.

> I find out by trial and error later that you can do the following.
> 
> foo<-function(x,y,z){
>   ...
>   abc<-list(a=x,b=y,c=z)
> }
> 
> and call
> 
> foo(1,2,3)
> 
> there is nothing outputted to the console which is close to what I ask in
> the first part of my query. I'll continue investigating to learn if it's
> possible to export or whatever is the right term, the variables I want so
> that there available for future use at the top level.

If you want to return an object, make it the last statement of your function,
that is use

foo<-function(x,y,z){
  list(a=x,b=y,c=z)
}
foo(1,2,3)

Your example *did* return something, invisibly:

> foo<-function(x,y,z){
+   abc<-list(a=x,b=y,c=z)
+ }
> foo(1,2,3)
> .Last.value
$a
[1] 1

$b
[1] 2

$c
[1] 3


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Jun  9 14:48:26 2000
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Fri, 9 Jun 2000 08:48:26 -0400 (EDT)
Subject: [R] Output args?
In-Reply-To: <009701bfd202$a7934f80$0201a8c0@Workgroup>
Message-ID: <Pine.LNX.4.10.10006090840580.16783-100000@bolker.zoo.ufl.edu>


  You may want to look at the help for "assign", or, as a shortcut, try
the "<<-" version of assignment:

> foo <- function() { a <- 1 }
> foo()
> a
Error: Object "a" not found
> foo <- function() {  a <<- 1 }
> foo()
> a
[1] 1

  Note that this kind of question will eventually lead you into the thick
of issues like environments, scoping, closures, etc. ... but for simple
global assignment I think "<<-" is what you need.

> I find out by trial and error later that you can do the following.
> 
> foo<-function(x,y,z){
>   ...
>   abc<-list(a=x,b=y,c=z)
> }
> 
> and call
> 
> foo(1,2,3)
> 
> there is nothing outputted to the console which is close to what I ask in
> the first part of my query. I'll continue investigating to learn if it's
> possible to export or whatever is the right term, the variables I want so
> that there available for future use at the top level.
> 
> Regards
> 
> Yves Gauvreau
> 
> 

-- 
Ben Bolker                                  bolker at zoo.ufl.edu
Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker
318 Carr Hall/Box 118525                    tel: (352) 392-5697
Gainesville, FL 32611-8525                  fax: (352) 392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Sat Jun 10 05:23:04 2000
From: Bill.Venables at cmis.csiro.au (Bill Venables)
Date: Sat, 10 Jun 2000 13:23:04 +1000
Subject: [R] Output args?
Message-ID: <3.0.32.20000610132300.012ad930@pophost.nsw.cmis.csiro.au>

At 08:48 AM 6/9/00 -0400, Ben Bolker wrote:
>
>You may want to look at the help for "assign", or, as a shortcut, try
>the "<<-" version of assignment:
>
>> foo <- function() { a <- 1 }
>> foo()
>> a
>Error: Object "a" not found
>> foo <- function() {  a <<- 1 }
>> foo()
>> a
>[1] 1
>
>Note that this kind of question will eventually lead you into the thick
>of issues like environments, scoping, closures, etc. ... but for simple
>global assignment I think "<<-" is what you need.

.. but be sure to wear steel-capped boots.  This is a quick recipe for
shooting yourself in the foot or, worse, shooting someone *else* in the
foot who happens to use your software.

This warning has been said before but I think it should be voiced *every*
time someone brings up superassignment.  If you think you need "<<-" almost
certainly you don't, and you are doing something dangerous or at least unwise.

Leaving aside the dangerous aspect of this kind of assignment, there is an
even more fundamental and specific objection.  Using superassignment
habitually, as some users seem to do, encourages you to think of R
functions as macros and not as true functions at all, so you are using the
R environment as you would something rather primitive, like Glim.  You can
lose a lot of power and elegance that way and it is a particularly
insidious pit trap from which some people never manage to escape.

Superassignment?  Just say "No".

Bill Venables.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markhall at gol.com  Tue Jun 13 03:55:32 2000
From: markhall at gol.com (markhall@gol.com)
Date: Tue, 13 Jun 2000 10:55:32 +0900
Subject: [R] contours/density lines in sm library
Message-ID: <20000613015531.C5F2740B8@smtp03.mail.gol.com>

Hi,
I'm using R 1001 for Windows NT and the sm library.  I'm trying to 
create plots for my data set like Bowman and Azzalini have in Figure 1.8
(p. 9) of their book for my data (i.e. a contour plot for each group in my 
data set and its all plotted on 1 plot).  

The problem I'm having is that R is not drawing closed contour lines for each
group.  Sometimes it does; other times it draws 1/2 to 3/4ths of the contour 
line but stops.  I could understand if it did this when there was overlap,
but when the groups are separated at the 75% level, it doesn't make sense to me
on why this happening.

Any insites on solving this problem would be appreciated.

If anybody wants to see the resulting plot, I'm happy to fax it to them.

Best, Mark Hall
markhall at gol.com



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From John.Strumila at team.telstra.com  Tue Jun 13 08:13:30 2000
From: John.Strumila at team.telstra.com (Strumila, John)
Date: Tue, 13 Jun 2000 16:13:30 +1000
Subject: [R] command history under cursor keys
Message-ID: <61411576E951D211AF330008C7245DD9057BE9DD@ntmsg0005.corpmail.telstra.com.au>

g'day R friends,

I was hoping someone could provide me with advice as to my dysfunctional
'arrow' keys.

Instead of browsing thru my command history they just move my cursor.  What
have I done wrong?  My TERM seems ok for other unix apps.

I'm running under hpux 10.20 with R1.0.0

thanks,
John Strumila
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 13 08:25:43 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 13 Jun 2000 07:25:43 +0100 (BST)
Subject: [R] contours/density lines in sm library
In-Reply-To: <20000613015531.C5F2740B8@smtp03.mail.gol.com>
Message-ID: <Pine.GSO.4.05.10006130714460.12267-100000@auk.stats>

On Tue, 13 Jun 2000 markhall at gol.com wrote:

> Hi,
> I'm using R 1001 for Windows NT and the sm library.  I'm trying to 
> create plots for my data set like Bowman and Azzalini have in Figure 1.8
> (p. 9) of their book for my data (i.e. a contour plot for each group in my 
> data set and its all plotted on 1 plot).  
> 
> The problem I'm having is that R is not drawing closed contour lines for each
> group.  Sometimes it does; other times it draws 1/2 to 3/4ths of the contour 
> line but stops.  I could understand if it did this when there was overlap,
> but when the groups are separated at the 75% level, it doesn't make sense to me
> on why this happening.
> 
> Any insites on solving this problem would be appreciated.
> 
> If anybody wants to see the resulting plot, I'm happy to fax it to them.

(Um. So what device were you using?)

That example is given by sm.script(air_cont).  The solid contour is not
quite closed on all platforms I tried, but the other two are. That includes
rw1001 on NT.  The solid contour is also not closed on the S-PLUS original.

Either you have not followed the script exactly or there is problem
specific to your graphics card / printer / ....

Please do read the section on reporting bugs in the FAQ.  Without exact
instructions for what you did there is no way we could reproduce this.

Potential bugs in add-on packages are best reported to the authors/porters,
not all of whom read R-help.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markhall at gol.com  Tue Jun 13 09:21:37 2000
From: markhall at gol.com (markhall@gol.com)
Date: Tue, 13 Jun 2000 16:21:37 +0900
Subject: [R] contours/density lines in sm library-more details
Message-ID: <20000613072136.B264F157F5@smtp02.mail.gol.com>


> 
> (Um. So what device were you using?)
In terms of hardware, I'm using a Dell Latitude CPx (not quite sure
on the RAM, but the hard disk is 2GB and the server its linked to is
much larger...I'm running on the unit's hard drive though).  The printer
is an EPSON LP-9300.  I'm printing directly from the window one gets in
R by typing plot(...).

Another quick note, its Japanese Windows NT.
> 
> That example is given by sm.script(air_cont).  The solid contour is not
> quite closed on all platforms I tried, but the other two are. That includes
> rw1001 on NT.  The solid contour is also not closed on the S-PLUS original.

Same for me here.  I only wish mine came out that completely.

> 
> Either you have not followed the script exactly or there is problem
> specific to your graphics card / printer / ....

Okay, here are my scripts/commands:

> plot(ejpc13,type="n")
> sm.density(ejpc13[1:33,],display="slice",props=75,add=T,lty=1)
> sm.density(ejpc13[34:48,],display="slice",props=75,add=T,lty=2)
> sm.density(ejpc13[49:78,],display="slice",props=75,add=T,lty=3)
> plot(ejpc13,type="n")
> sm.density(ejpc13[1:33,],h=c(h1,h3),display="slice",props=75,add=T,lty=1)
> sm.density(ejpc13[34:48,],h=c(h1,h3),display="slice",props=75,add=T,lty=2)
> sm.density(ejpc13[49:78,],h=c(h1,h3),display="slice",props=75,add=T,lty=3)
> sm.density(ejpc13[79:92,],h=c(h1,h3),display="slice",props=75,add=T,lty=4)

h1=0.077 and h3=0.033

and my data (ejpc13):
> ejpc13
              [,1]          [,2]
 [1,] -0.166482970  0.0376114220
 [2,]  0.172039529  0.0606077410
 [3,] -0.055312912  0.0621272618
 [4,] -0.146606603 -0.0262722438
 [5,] -0.165141132 -0.0114435638
 [6,] -0.036404087 -0.0748347292
 [7,] -0.131319085 -0.1851480562
 [8,] -0.043480458 -0.1662565369
 [9,]  1.095361815 -0.1628025340
[10,] -0.342875377 -0.0019060132
[11,] -0.139769040 -0.0281562875
[12,] -0.096170337 -0.0122403928
[13,] -0.120493434  0.0319431603
[14,] -0.037960674 -0.0328983508
[15,]  0.001925312 -0.0410008519
[16,] -0.022066129  0.0001202776
[17,] -0.103598097  0.0287050455
[18,]  0.062953627 -0.0167279165
[19,] -0.093794426  0.0511500935
[20,] -0.004068660 -0.0494852071
[21,] -0.052341478  0.0164029246
[22,] -0.115068404  0.0937787921
[23,] -0.022907432  0.1867763406
[24,] -0.018616592  0.1405387523
[25,]  0.003385965  0.0436077595
[26,]  0.115057630  0.0975375282
[27,]  0.051676135 -0.0546240859
[28,]  0.054902747 -0.0247662045
[29,]  0.070856740  0.1070315753
[30,]  0.078718134 -0.0975193431
[31,] -0.055475743  0.1193172634
[32,]  0.098733759  0.0735257677
[33,] -0.083848906 -0.0228442946
[34,]  0.029517115  0.0576757519
[35,]  0.321735633 -0.0892735619
[36,]  0.040484817  0.1634120213
[37,]  0.007805298  0.1184341628
[38,]  0.323867941  0.0999328310
[39,]  0.070252271  0.0887157942
[40,]  0.207436995  0.0999097543
[41,]  0.018857400  0.1319081363
[42,]  0.139164436  0.1778550965
[43,]  0.096510043  0.1506291498
[44,]  0.449613433  0.1483359070
[45,]  0.153307064  0.1865578745
[46,]  0.426884801  0.0814994772
[47,]  0.044056147  0.0920010570
[48,]  0.121337160  0.1568828779
[49,]  0.100308515 -0.0076379727
[50,] -0.065385458  0.0084510130
[51,]  0.083712924 -0.1164728830
[52,]  0.106802978 -0.0483482599
[53,]  0.118823096 -0.0856422799
[54,]  0.022877888 -0.1209706735
[55,]  0.028781431  0.1040293368
[56,]  0.062372455  0.0204491310
[57,]  0.022977305  0.0845986685
[58,] -0.137248321  0.1025572694
[59,]  0.302886107 -0.0284665901
[60,]  0.182493864 -0.0616902008
[61,]  0.191977218 -0.0531218025
[62,]  0.683294363 -0.0597475193
[63,]  0.273973517 -0.0306391810
[64,]  0.089684187 -0.0105587683
[65,]  0.320136196  0.0195868396
[66,]  0.110121348  0.0619942246
[67,]  0.263206261 -0.0188989872
[68,]  0.481725463  0.0599807981
[69,]  0.310158534 -0.0246252788
[70,]  0.277589319 -0.0990982432
[71,]  0.115436270  0.0403414435
[72,]  0.161033522 -0.0270171595
[73,]  0.134733718  0.0209744472
[74,]  0.464513774 -0.0512113463
[75,]  0.350867550 -0.0011658557
[76,]  0.108355983 -0.0061438258
[77,] -0.041946856 -0.0914636608
[78,]  0.234162690  0.0275311876
[79,] -0.480863335 -0.0461602181
[80,]  0.225670078 -0.4214232638
[81,] -0.235316240 -0.0566610217
[82,] -0.144774441 -0.2432310632
[83,] -0.160769877 -0.2812935416
[84,] -0.302214611 -0.1743195862
[85,] -0.195576983 -0.2245673686
[86,]  0.207583631 -0.3203870173
[87,] -0.204168702 -0.0561583875
[88,] -0.252906614 -0.0501635007
[89,] -0.221128925 -0.2402042158
[90,]  0.215832721 -0.1842189849
[91,]  0.061694594 -0.1348768059
[92,]  0.159001022 -0.2267625060

> 
Any advice, etc. would be greatly appreciated.  even if its finding out
its the hardware on this end.

Thanks, Mark Hall



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Tue Jun 13 09:55:42 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Tue, 13 Jun 2000 08:55:42 +0100 (BST)
Subject: [R] command history under cursor keys
In-Reply-To: <61411576E951D211AF330008C7245DD9057BE9DD@ntmsg0005.corpmail.telstra.com.au>
Message-ID: <Pine.LNX.4.10.10006130855170.1689-100000@localhost.localdomain>

Do you have GNU readline library installed? You need it.

Bill


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uli at biochem.dshs-koeln.de  Tue Jun 13 12:37:34 2000
From: uli at biochem.dshs-koeln.de (Uli Flenker; Raum 704)
Date: Tue, 13 Jun 2000 12:37:34 +0200 (CEST)
Subject: [R] command history under cursor keys
In-Reply-To: <61411576E951D211AF330008C7245DD9057BE9DD@ntmsg0005.corpmail.telstra.com.au>
Message-ID: <Pine.LNX.3.95.1000613122320.32398A-100000@pcinternet.biochem.dshs-koeln.de>

John,

I'm not running R under hpux, but I have the same problem generally with
the hpux terminal emulator ("hpterm"). For example I installed a GNU bash
on our hpux (with the readline library statically linked) and the arrow
keys don't provide history functions but just move the cursor.

That can be avoided when using xterm which is shipped also with hpux. So
probably you should just try to run R from within xterm (or directly use
emacs/ESS).

I have to say our hpux is sveral years old; I think the version is around
8.x.

	Good luck!


        Uli Flenker
        Institute of Biochemistry
        German Sports University Cologne
        Carl-Diem-Weg 6

        50933 Cologne / Germany

        Phone 0049/0221/4982-493


On Tue, 13 Jun 2000, Strumila, John wrote:

> g'day R friends,
> 
> I was hoping someone could provide me with advice as to my dysfunctional
> 'arrow' keys.
> 
> Instead of browsing thru my command history they just move my cursor.  What
> have I done wrong?  My TERM seems ok for other unix apps.
> 
> I'm running under hpux 10.20 with R1.0.0
> 
> thanks,
> John Strumila
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From naumov at acsu.buffalo.edu  Tue Jun 13 21:47:18 2000
From: naumov at acsu.buffalo.edu (Aleksey Naumov)
Date: Tue, 13 Jun 2000 15:47:18 -0400
Subject: [R] Question on closure (lexical scoping) and encapsulation
Message-ID: <39468FC6.B041ED26@acsu.buffalo.edu>

Dear R users,

I have two related questions about scoping and data encapsulation.

One is fairly specific - I am looking at "scoping.R" which is used in
demo(scoping) - it's an example of lexical scoping and encapsulation.
Where is the 'total' stored? It is not an attribute in 'ross' or
'robert'
however, functions like balance() have access to it.
Is it more or less like a private class member in C++, so that it's not
possible to access it from outside of class? Or is it possible to access
it
in some way?

The second one is more general - what is the best way to encapsulate
some
user data with an object like a data frame? I'd like to keep a few user
attributes with a data frame... I can think of 3 possibilities, but I
don't know if there's a good and reliable standard way:
    - I tried using attributes(), but found out that subset() gets rid
of
user attributes and didn't see an easy way to reset them on a subsetted
frame
(doing it one by one is not an option, and mostattributes() doesn't seem
to
be there anymore)
    - Something like the example used in 'scoping.R'
    - Using class()? Documentation for class() talks about providing
methods
for generic functions, but I didn't see an example of accessing
user-defined
data members/attributes.

Many thanks!

Aleksey




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Jun 13 22:48:22 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 13 Jun 2000 15:48:22 -0500
Subject: [R] Question on closure (lexical scoping) and encapsulation
In-Reply-To: Aleksey Naumov's message of "Tue, 13 Jun 2000 15:47:18 -0400"
References: <39468FC6.B041ED26@acsu.buffalo.edu>
Message-ID: <6rd7llnw89.fsf@franz.stat.wisc.edu>

Aleksey Naumov <naumov at acsu.buffalo.edu> writes:

> I have two related questions about scoping and data encapsulation.

> One is fairly specific - I am looking at "scoping.R" which is used
> in demo(scoping) - it's an example of lexical scoping and
> encapsulation.  Where is the 'total' stored? It is not an attribute
> in 'ross' or 'robert' however, functions like balance() have access
> to it.  Is it more or less like a private class member in C++, so
> that it's not possible to access it from outside of class?

Sort of.  The functions like ross$deposit, ross$withdraw, and
ross$balance all share a common environment, which is where the total
is stored.
 > demo(scoping)
 ...
 > environment(ross$balance)
 <environment: 0x40b057ec>
 > environment(ross$withdraw)
 <environment: 0x40b057ec>
 > environment(ross$deposit)
 <environment: 0x40b057ec>
 > objects(env = environment(ross$balance))
 [1] "total"

I find it helpful to think of the contents of the environment as like
the instance variables in a C++ or Java class.  The functions defined
so they share that environment are then like methods.

The analogy is not perfect because the structure of elements of a
class is not required to be consistent in R.  The class structure is
more informal than that of C++ or Java.

> Or is it possible to access it in some way?

You can get access to objects in that environment but you have to use
functions like get and assign to manipulate them.

 > get("total", env = environment(ross$balance))
 [1] 120

> The second one is more general - what is the best way to encapsulate
> some
> user data with an object like a data frame? I'd like to keep a few user
> attributes with a data frame... I can think of 3 possibilities, but I
> don't know if there's a good and reliable standard way:
>     - I tried using attributes(), but found out that subset() gets rid
> of
> user attributes and didn't see an easy way to reset them on a subsetted
> frame
> (doing it one by one is not an option, and mostattributes() doesn't seem
> to
> be there anymore)
>     - Something like the example used in 'scoping.R'
>     - Using class()? Documentation for class() talks about providing
> methods
> for generic functions, but I didn't see an example of accessing
> user-defined
> data members/attributes.

If you have the same types of information that you want to store with
each instance of the data frame then you would usually extend the
data.frame class.  Your constructor would first create a data frame,
then add the attributes that you want, then change the class to
something like c("ExtendedFrame", "data.frame") and return the object.

If you find that subset strips the attributes that you need then you
could create a subset.ExtendedFrame that saved a local copy of those
attributes, did the call to subset.data.frame (perhaps through
NextMethod), and restored the attributes before returning the result.

>From a quick glance at subset.data.frame, I suspect it is actually the
subscripting function "[" that is dropping the attributes you want to
retain.

See chapter 4 of Venables and Ripley's "S Programming" for a more
complete description of how the class structure works.   Please be
aware that the material in their chapter 5, "New-style Classes", does
not apply to R.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jun 13 23:43:09 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Jun 2000 23:43:09 +0200
Subject: [R] Question on closure (lexical scoping) and encapsulation
In-Reply-To: Aleksey Naumov's message of "Tue, 13 Jun 2000 15:47:18 -0400"
References: <39468FC6.B041ED26@acsu.buffalo.edu>
Message-ID: <x2snuh5kb6.fsf@blueberry.kubism.ku.dk>

Aleksey Naumov <naumov at acsu.buffalo.edu> writes:

> Dear R users,
> 
> I have two related questions about scoping and data encapsulation.
> 
> One is fairly specific - I am looking at "scoping.R" which is used in
> demo(scoping) - it's an example of lexical scoping and encapsulation.
> Where is the 'total' stored? It is not an attribute in 'ross' or
> 'robert'
> however, functions like balance() have access to it.

It's sitting in the environment of the functions associated with ross
& robert. Originally as the argument to open.account.

> Is it more or less like a private class member in C++, so that it's not
> possible to access it from outside of class? Or is it possible to access
> it
> in some way?

Try stuff like

 ls(env=environment(ross$withdraw))
 get("total",env=environment(ross$withdraw))
 evalq(total <- 0, environment(robert$deposit))
 robert$balance() # Rob got robbed!

So it's not entirely like private parts in C++.

> 
> The second one is more general - what is the best way to encapsulate
> some
> user data with an object like a data frame? I'd like to keep a few user
> attributes with a data frame... I can think of 3 possibilities, but I
> don't know if there's a good and reliable standard way:

>     - I tried using attributes(), but found out that subset() gets
> rid of user attributes and didn't see an easy way to reset them on a
> subsetted frame (doing it one by one is not an option, and
> mostattributes() doesn't seem to be there anymore)

It's there (notice that it is "mostattributes<-"), but apparently it
is broken at the moment, or at least it didn't do what I expected..
This would not seem fixable for 1.1.0 on Thursday...

Notice however, that nothing is keeping you from having one attribute
containing several pieces of information, and copying one attribute on
subsetting is not too hard. You can actually have an entire
environment as an attribute. (But notice that environments are like
pointers in C: if you copy one, there's still only one copy of what it
contains.)

>     - Something like the example used in 'scoping.R'

>     - Using class()? Documentation for class() talks about providing
> methods for generic functions, but I didn't see an example of
> accessing user-defined data members/attributes.

I don't think class() will get you anything useful. Something with
environments, maybe. Notice, BTW, now that you're on the topic, the
local() function and friends.

In general, the jury is pretty much still out on how to handle the
kind of construction you seem to desire. Much of the modeling code was
designed for S compatibility and S doesn't have environments in the
same way R does, and several people feel that we're not really
utilizing the potential (then again, others value cross-platform
portability). Jim Lindsey has some ideas in a paper on his
website, and Doug Bates used some other ideas for the nls code. It's
the kind of thing that we really should get around to discussing in a
systematic manner, but tends to be difficult to get a hold on.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Wed Jun 14 16:00:45 2000
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 14 Jun 2000 10:00:45 -0400
Subject: [R] Question on closure (lexical scoping) and encapsulation
In-Reply-To: <39468FC6.B041ED26@acsu.buffalo.edu>
References: <39468FC6.B041ED26@acsu.buffalo.edu>
Message-ID: <39488b15.2596412@fisher.stats.uwo.ca>

On Tue, 13 Jun 2000 15:47:18 -0400, you wrote in message
<39468FC6.B041ED26 at acsu.buffalo.edu>:

>Dear R users,
>
>I have two related questions about scoping and data encapsulation.
>
>One is fairly specific - I am looking at "scoping.R" which is used in
>demo(scoping) - it's an example of lexical scoping and encapsulation.
>Where is the 'total' stored? It is not an attribute in 'ross' or
>'robert'
>however, functions like balance() have access to it.
>Is it more or less like a private class member in C++, so that it's not
>possible to access it from outside of class? Or is it possible to access
>it
>in some way?

Others have explained that total is in an environment.  Environments
are somewhat like instances of classes in C++:  they have inheritance
(since they have parent environments), they can hold functions and
data.  There's no concept of "private" vs. "public":  all objects in
an environment are visible to any code.  There's also no concept of a
class type:  each environment is unique, with no way to specify that
two environments contain the same members.  

It's also rather cumbersome to extract a member from an environment,
you need the "get" function. It would probably make sense to overload
$ to work on environments, so that instead of Doug Bates' code

  get("total", env = environment(ross$balance))

you could just type

  environment(ross$balance)$total

Print methods for environments would be nice; these should do an ls()
of the environment and say what the parent environment is.

It would also probably make sense to base the object oriented aspects
of S on environments rather than on naming conventions and attributes,
but it's probably too late to do that now.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun 14 17:45:13 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Jun 2000 17:45:13 +0200
Subject: [R] Question on closure (lexical scoping) and encapsulation
In-Reply-To: murdoch@stats.uwo.ca's message of "Wed, 14 Jun 2000 10:00:45 -0400"
References: <39468FC6.B041ED26@acsu.buffalo.edu> <39488b15.2596412@fisher.stats.uwo.ca>
Message-ID: <x24s6ww9km.fsf@blueberry.kubism.ku.dk>

murdoch at stats.uwo.ca (Duncan Murdoch) writes:

> It's also rather cumbersome to extract a member from an environment,
> you need the "get" function. It would probably make sense to overload
> $ to work on environments, so that instead of Doug Bates' code
> 
>   get("total", env = environment(ross$balance))
> 
> you could just type
> 
>   environment(ross$balance)$total
> 
> Print methods for environments would be nice; these should do an ls()
> of the environment and say what the parent environment is.

...both of which are (almost) possible already in 1.1.0 if you attach
a class attribute:

> .GlobalEnv  
> print.foo<-function(x)print(ls(envir=x))
> .GlobalEnv
[1] "$.environment"     "$.foo"             "print.environment"
[4] "print.foo"         "x"                
> class(.GlobalEnv)
[1] "foo"
> .GlobalEnv$"$.foo"
function(x,name)get(name,envir=x)

The print.environment and print.foo forms don't work. That would
require dispatch on the data class of the argument.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Jun 14 17:41:09 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 14 Jun 2000 08:41:09 -0700 (PDT)
Subject: [R] Question on closure (lexical scoping) and encapsulation
In-Reply-To: <39488b15.2596412@fisher.stats.uwo.ca>
Message-ID: <Pine.GSO.4.21.0006140836280.18294-100000@atlas.biostat.washington.edu>

On Wed, 14 Jun 2000, Duncan Murdoch wrote:

> 
> It would also probably make sense to base the object oriented aspects
> of S on environments rather than on naming conventions and attributes,
> but it's probably too late to do that now.
> 

It may help to view S classes as analogous to Java interfaces rather than
to classes in traditional object-oriented languages.  Giving something the
"lm" class (possibly with other classes) is not necessarily a statement
about inheritance ("glm" isn't really a kind of "lm"), but should be a
guarantee that lm methods will do something sensible with the object. 


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Wed Jun 14 19:10:17 2000
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 14 Jun 2000 13:10:17 -0400
Subject: [R] Question on closure (lexical scoping) and encapsulation
In-Reply-To: <x24s6ww9km.fsf@blueberry.kubism.ku.dk>
References: <39468FC6.B041ED26@acsu.buffalo.edu> <39488b15.2596412@fisher.stats.uwo.ca> <x24s6ww9km.fsf@blueberry.kubism.ku.dk>
Message-ID: <3949bb2d.14910410@fisher.stats.uwo.ca>

I was playing with Peter's suggestion in 1.0.1 and came up with
something that might be a bug.  Opinions?

I wanted a slightly fancier version of the environment printer:  it
should label what it's printing as an environment.  But I don't want
the ugly class attribute to show, so I came up with this:

> print.foo
function(x){
attributes(x) _ NULL
print.default(x)
print(ls(env=x))
}

Before I set the class, I see this:

> .GlobalEnv
<environment: R_GlobalEnv>

Now I set the class, and my new print method is activated.  Looks just
the way I wanted:

> class(.GlobalEnv) _ 'foo'
> .GlobalEnv
<environment: R_GlobalEnv>
[1] "d"         "print.foo" "ranges"    "variances" "x"         "y"


However, it only works once, because I've lost the attributes from
.GlobalEnv, not just from my local copy of it:

> .GlobalEnv
<environment: R_GlobalEnv>

Shouldn't the line "attributes(x) _ NULL" have applied only to x, the
local copy of .GlobalEnv?

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun 14 19:35:21 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Jun 2000 19:35:21 +0200
Subject: [R] Question on closure (lexical scoping) and encapsulation
In-Reply-To: murdoch@stats.uwo.ca's message of "Wed, 14 Jun 2000 13:10:17 -0400"
References: <39468FC6.B041ED26@acsu.buffalo.edu> <39488b15.2596412@fisher.stats.uwo.ca> <x24s6ww9km.fsf@blueberry.kubism.ku.dk> <3949bb2d.14910410@fisher.stats.uwo.ca>
Message-ID: <x2snugupwm.fsf@blueberry.kubism.ku.dk>

murdoch at stats.uwo.ca (Duncan Murdoch) writes:

> Shouldn't the line "attributes(x) _ NULL" have applied only to x, the
> local copy of .GlobalEnv?

I don't think so. There is only one .GlobalEnv. Environments are not
copied on assignment (or everything else breaks!). 

Think of "$<-.foo" <- function(e,name,value) assign(name,value,envir=e)

Would you have expected the assignment to go in the local copy too?

It does have unforseen side effects though:

> class(.GlobalEnv)<-"foo"
> class(.GlobalEnv)
[1] "foo"
> unclass(.GlobalEnv)
<environment: R_GlobalEnv>
> class(.GlobalEnv)
NULL


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Wed Jun 14 20:32:53 2000
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 14 Jun 2000 14:32:53 -0400
Subject: [R] Question on closure (lexical scoping) and encapsulation
In-Reply-To: <x2snugupwm.fsf@blueberry.kubism.ku.dk>
References: <39468FC6.B041ED26@acsu.buffalo.edu> <39488b15.2596412@fisher.stats.uwo.ca> <x24s6ww9km.fsf@blueberry.kubism.ku.dk> <3949bb2d.14910410@fisher.stats.uwo.ca> <x2snugupwm.fsf@blueberry.kubism.ku.dk>
Message-ID: <394accc4.19414154@fisher.stats.uwo.ca>

On 14 Jun 2000 19:35:21 +0200, Peter Dalgaard BSA
<p.dalgaard at biostat.ku.dk> wrote in message
<x2snugupwm.fsf at blueberry.kubism.ku.dk>:

>murdoch at stats.uwo.ca (Duncan Murdoch) writes:
>
>> Shouldn't the line "attributes(x) _ NULL" have applied only to x, the
>> local copy of .GlobalEnv?
>
>I don't think so. There is only one .GlobalEnv. Environments are not
>copied on assignment (or everything else breaks!). 

Okay, I understand.  I was thinking that .GlobalEnv had the semantics
of a pointer or a reference, it wasn't the environment itself.  

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Wed Jun 14 21:16:52 2000
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 14 Jun 2000 15:16:52 -0400
Subject: [R] Question on closure (lexical scoping) and encapsulation
In-Reply-To: <x24s6ww9km.fsf@blueberry.kubism.ku.dk>
References: <39468FC6.B041ED26@acsu.buffalo.edu> <39488b15.2596412@fisher.stats.uwo.ca> <x24s6ww9km.fsf@blueberry.kubism.ku.dk>
Message-ID: <3947d98d.22687917@fisher.stats.uwo.ca>

Coming back to this example:

>> .GlobalEnv
>[1] "$.environment"     "$.foo"             "print.environment"
>[4] "print.foo"         "x"                
>> class(.GlobalEnv)
>[1] "foo"
>> .GlobalEnv$"$.foo"
>function(x,name)get(name,envir=x)

I can't get this to work in 1.0.1.  My "$.foo" method is never being
called, I just get NULL as the result every time.  I can do it using
"[.foo" and .GlobalEnv["$.foo"], but the dollar sign version just
doesn't work.  Any hints?

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rdiazuri at students.wisc.edu  Wed Jun 14 17:50:12 2000
From: rdiazuri at students.wisc.edu (Ramon Diaz-Uriarte)
Date: Wed, 14 Jun 2000 17:50:12 +0200
Subject: [R] pdf documentation from a package and date format
Message-ID: <00061418004600.00336@ligarto>

Dear All,

When generating pdf documentation for a package (using R CMD Rd2dvi --pdf), is
there a way to get the date to use the typical international standard of day
month year instead of the US one of month day, year? 

Thanks,

Ramon


-- 
Ramn Daz-Uriarte
Dept. Zoology and Statistics
University of Wisconsin-Madison
Madison, WI 53706-1381

email: rdiazuri at students.wisc.edu
(NOTE: starting 15-July-2000 new email:
ramon-diaz at teleline.es)
phone: 608-238-8041
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bxf4 at psu.edu  Thu Jun 15 06:17:10 2000
From: bxf4 at psu.edu (Brian P. Flaherty)
Date: 15 Jun 2000 00:17:10 -0400
Subject: [R] [ ] within [ ]
Message-ID: <w52itvbr321.fsf@psu.edu>

Hello,

w is a matrix of responses to categorical variables.  So for example,
let the first column of w be a dichotomous variable taking values 1 or
2.  I then have an array, arr, which has the number of response
categories as its first dimension.  I want to use a person's response
to the item to select the `row' in the first dimension of the array.

tot_c(0)

for (i in 1:n){

    tot_tot+arr[w[i,1],1,1]

}

I just tried it in S-Plus and it worked.  Should it work in R or is
this is a language difference?  Thanks for your time.

Brian Flaherty

-- 
      /"\
      \ /     ASCII RIBBON CAMPAIGN
       X        AGAINST HTML MAIL  
      / \ 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun 15 08:50:50 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Jun 2000 08:50:50 +0200
Subject: [R] [ ] within [ ]
In-Reply-To: bxf4@psu.edu's message of "15 Jun 2000 00:17:10 -0400"
References: <w52itvbr321.fsf@psu.edu>
Message-ID: <x2zoonzbcl.fsf@blueberry.kubism.ku.dk>

bxf4 at psu.edu (Brian P. Flaherty) writes:

> Hello,
> 
> w is a matrix of responses to categorical variables.  So for example,
> let the first column of w be a dichotomous variable taking values 1 or
> 2.  I then have an array, arr, which has the number of response
> categories as its first dimension.  I want to use a person's response
> to the item to select the `row' in the first dimension of the array.
> 
> tot_c(0)
> 
> for (i in 1:n){
> 
>     tot_tot+arr[w[i,1],1,1]
> 
> }
> 
> I just tried it in S-Plus and it worked.  Should it work in R or is
> this is a language difference?  Thanks for your time.

Should and does work in the example I tried. What kind of difficulty
are you experiencing? 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 15 08:56:49 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 15 Jun 2000 07:56:49 +0100 (BST)
Subject: [R] pdf documentation from a package and date format
In-Reply-To: <00061418004600.00336@ligarto>
Message-ID: <Pine.GSO.4.05.10006150747310.29325-100000@auk.stats>

On Wed, 14 Jun 2000, Ramon Diaz-Uriarte wrote:

> Dear All,
> 
> When generating pdf documentation for a package (using R CMD Rd2dvi --pdf), is
> there a way to get the date to use the typical international standard of day
> month year instead of the US one of month day, year? 

It's a TeX-ism.  Rd2dvi writes \today. You can redefine that macro in
your Rd.cfg file. The standard definition is

\def\today{\ifcase\month\or
  January\or February\or March\or April\or May\or June\or
  July\or August\or September\or October\or November\or December\fi
  \space\number\day, \number\year}

which suggests

\renewcommand{\today}{\number\day\space\ifcase\month\or
  January\or February\or March\or April\or May\or June\or
  July\or August\or September\or October\or November\or December\fi
  \space\number\year}

is what you want.

By the way, I believe the actual international standard is 2000 June 15,
even if no one uses it. `International' seems to be re-defined in the US!

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pontla at goose.stat.umn.edu  Thu Jun 15 10:32:30 2000
From: pontla at goose.stat.umn.edu (Laura Pontiggia)
Date: Thu, 15 Jun 2000 03:32:30 -0500 (CDT)
Subject: [R] function in S
Message-ID: <Pine.GHP.4.05.10006150329260.29886-100000@goose.stat.umn.edu>

I have a function in S, and I need to write the same function in R.
Exist a program to translate from S to R ?

Thank you

Laura Pontiggia


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jonathan.myles at mrc-bsu.cam.ac.uk  Thu Jun 15 11:10:51 2000
From: jonathan.myles at mrc-bsu.cam.ac.uk (Jonathan Myles)
Date: Thu, 15 Jun 2000 10:10:51 +0100
Subject: [R] Checking the existence of a file 
Message-ID: <E132Vfn-0004FV-00@bernstein.mrc-bsu.cam.ac.uk>


Is there a platform-independent way of checking in R whether a 
given file exists in the user's filespace? 

(so in a unix system, can you check within R whather, say, 

 /homef/jonm/thisfile

 exists)

Thanks

Jonathan Myles


-- 
Dr. Jonathan Myles         e-mail:jonathan.myles at mrc-bsu.cam.ac.uk
MRC Biostatistics Unit     Tel. 01223 330372
Institute of Public Health FAX  01223 330388
University Forvie Site
Robinson Way
CAMBRIDGE
CB2 2SR                   


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Jun 15 11:21:46 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 15 Jun 2000 11:21:46 +0200 (CEST)
Subject: [R] function in S
In-Reply-To: <Pine.GHP.4.05.10006150329260.29886-100000@goose.stat.umn.edu>
References: <Pine.GHP.4.05.10006150329260.29886-100000@goose.stat.umn.edu>
Message-ID: <14664.41002.247259.850651@gargle.gargle.HOWL>

>>>>> "Laura" == Laura Pontiggia <pontla at goose.stat.umn.edu> writes:

    Laura> I have a function in S, and I need to write the same function in
    Laura> R.  Exist a program to translate from S to R ?


I use to say that 97% of S(plus) user written code works unaltered in R.
The problem is with the remaining ones.

The R FAQ (mentioned in the footer of every R-help message)
contains a section on intentional differences between R and S(plus).

You might want to work with just one version of code and use the

	if(is.R()) { ## R 

	} else { ## Splus 

        }

The function is.R (in R) is written such that it should work in all
versions of S.

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Thu Jun 15 11:39:54 2000
From: plummer at iarc.fr (Martyn Plummer)
Date: Thu, 15 Jun 2000 11:39:54 +0200 (CEST)
Subject: [R] Checking the existence of a file
In-Reply-To: <E132Vfn-0004FV-00@bernstein.mrc-bsu.cam.ac.uk>
Message-ID: <XFMail.000615113954.plummer@iarc.fr>

On 15-Jun-00 Jonathan Myles wrote:
> 
> Is there a platform-independent way of checking in R whether a 
> given file exists in the user's filespace? 
> 
> (so in a unix system, can you check within R whather, say, 
> 
>  /homef/jonm/thisfile
> 
>  exists)

The function file.exists() will do this. See the help page for
related useful functions.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jonathan.myles at mrc-bsu.cam.ac.uk  Thu Jun 15 11:44:42 2000
From: jonathan.myles at mrc-bsu.cam.ac.uk (Jonathan Myles)
Date: Thu, 15 Jun 2000 10:44:42 +0100
Subject: [R] Checking the existence of a file
Message-ID: <E132WCY-0004IC-00@bernstein.mrc-bsu.cam.ac.uk>


Sorry, I should have found that myself as it was documented, but thanks.

Jonathan

------


>The function file.exists() will do this. See the help page for
>related useful functions.

>Martyn



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Thu Jun 15 11:48:29 2000
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Thu, 15 Jun 2000 11:48:29 +0200
Subject: [R] function in S
In-Reply-To: <Pine.GHP.4.05.10006150329260.29886-100000@goose.stat.umn.edu>
Message-ID: <B56E730D.3157%pflugshaupt@geobot.umnw.ethz.ch>

On 15.6.2000 10:32 Uhr, Laura Pontiggia wrote:

> I have a function in S, and I need to write the same function in R.
> Exist a program to translate from S to R ?
> 
> Thank you
> 
> Laura Pontiggia
> 


Just try it, it might work straight away. If not, check the R-FAQ for
differences to S-Plus. In my experience, they're not big. There are some
areas where S-Plus offers more features (for example, R does not include
Trellis graphics). 

If you're using something from an external library, remember to load it in R
first (with "library(something"). That got me a few times.

If it still doesn't work and you're really interested in finding out, look
up "S Programming" by Venables and Ripley (Springer, 2000) which covers the
fundamental differences between both implementations in-depth; or come back
to the list with the problems.

Cheers & good luck

Kaspar Pflugshaupt

-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vaf at telekurs.com  Thu Jun 15 12:43:49 2000
From: vaf at telekurs.com (Fabio Valeri)
Date: Thu, 15 Jun 2000 12:43:49 +0200
Subject: [R] tree error message
Message-ID: <3948B365.F109E6BD@telekurs.com>

Dear R user,

I used from the library MASS the dataset cpus and the skript
plot.tree.sequence.R, which are included in the tree package:

>library(MASS)
> data(cpus)
> cpus.ltr <- tree(log10(perf) ~ syct + mmin + mmax + cach
>+      + chmin + chmax, data=cpus)

At home it works but at work I get this message:

>Error in .C("BDRgrow1", as.double(X), as.double(unclass(Y)),
as.double(w),  : C/Fortran function name not in load table

I do not understand this message and I would be very glad if someone
could give me some advice.

Since at home and at work I'm running R Version 90.1 with Win NT4  I was
surprised to get the error message.

Thanks

Fabio Valeri

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From H.RINNER at TIROL.GV.AT  Thu Jun 15 12:52:06 2000
From: H.RINNER at TIROL.GV.AT (RINNER Heinrich)
Date: Thu, 15 Jun 2000 12:52:06 +0200
Subject: [R] proportions - finite population correction
Message-ID: <C4D44AB4CB62D311BA6500041202E886263FF8@xms1.tirol.gv.at>

> Dear R-users!
> 
> I am using R 1.0.0 and Windows NT 4.0.
> 
Suppose I have a population of N=100 subjects, a binomial variable and a
random sample of n=20 subjects from my population, giving 15 "successes". I
am interested in obtaining a confidence interval for the proportion of
"successes" in my population.

In R, I can use
> library(ctest)
> binom.test(15, 20)
to get an exact confidence interval, but under the assumption of an infinite
population.

Now I could modify binom.test so that a finite population correction is
applied (the formulae are right here in the book before me); but maybe
somebody has already done this, or maybe there are other (R-)functions that
can already do that?

Heinz..
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Jun 15 13:29:51 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 15 Jun 2000 13:29:51 +0200
Subject: [R] tree error message
References: <3948B365.F109E6BD@telekurs.com>
Message-ID: <3948BE2F.1E418020@statistik.uni-dortmund.de>

Fabio Valeri wrote:
> 
> Dear R user,
> 
> I used from the library MASS the dataset cpus and the skript
> plot.tree.sequence.R, which are included in the tree package:
> 
> >library(MASS)
> > data(cpus)
> > cpus.ltr <- tree(log10(perf) ~ syct + mmin + mmax + cach
> >+      + chmin + chmax, data=cpus)
> 
> At home it works but at work I get this message:
> 
> >Error in .C("BDRgrow1", as.double(X), as.double(unclass(Y)),
> as.double(w),  : C/Fortran function name not in load table
> 
> I do not understand this message and I would be very glad if someone
> could give me some advice.
> 
> Since at home and at work I'm running R Version 90.1 with Win NT4  I was
> surprised to get the error message.

At first you should upgarde to R-1.1.0 (which is released today).
Then check if your MASS library is the latest one.

After that everything should work.

Regards,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From koller2 at fgr.wu-wien.ac.at  Thu Jun 15 13:36:00 2000
From: koller2 at fgr.wu-wien.ac.at (Wolfgang Koller)
Date: Thu, 15 Jun 2000 13:36:00 +0200
Subject: [R] dataframes and factors
Message-ID: <3.0.6.32.20000615133600.0090ae40@fgr.wu-wien.ac.at>

Dear R-List,

I have a dataframe X containing factor f and numeric variable x1, x2, ... I
want to create a new dataframe (or possibly a matrix) that gives statistics
(e.g. sum) for the variables x1, x2, ... in each group defined by factor f.
What is the simplest way to do this?

I tried:
  attach(X)
  Z <- data.frame(f=levels(f),x1=as.vector(lapply(split(x1,f),sum)))

and stumbled on:
  Error in data.frame(f = levels(f), x1 = as.vector(lapply(split(x1, f),  : 
        arguments imply differing number of rows: 5, 1

Help is much appreciated,

Wolfgang Koller


-------------------------------------------------
Wolfgang Koller,  koller2 at fgr.wu-wien.ac.at
Forschungsinstitut f?r Europafragen
Wirtschaftsuniversitaet Wien
Althanstrasse 39-45, 1090 Vienna, Austria
http://fgr.wu-wien.ac.at/institut/ef/ief-home.htm
-------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun 15 13:48:58 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Jun 2000 13:48:58 +0200
Subject: [R] proportions - finite population correction
In-Reply-To: RINNER Heinrich's message of "Thu, 15 Jun 2000 12:52:06 +0200"
References: <C4D44AB4CB62D311BA6500041202E886263FF8@xms1.tirol.gv.at>
Message-ID: <x23dmf5fmd.fsf@blueberry.kubism.ku.dk>

RINNER Heinrich <H.RINNER at TIROL.GV.AT> writes:

> > Dear R-users!
> > 
> > I am using R 1.0.0 and Windows NT 4.0.
> > 
> Suppose I have a population of N=100 subjects, a binomial variable and a
> random sample of n=20 subjects from my population, giving 15 "successes". I
> am interested in obtaining a confidence interval for the proportion of
> "successes" in my population.
> 
> In R, I can use
> > library(ctest)
> > binom.test(15, 20)
> to get an exact confidence interval, but under the assumption of an infinite
> population.
> 
> Now I could modify binom.test so that a finite population correction is
> applied (the formulae are right here in the book before me); but maybe
> somebody has already done this, or maybe there are other (R-)functions that
> can already do that?

I don't think we have a test as such, but the stubs must be in phyper:

uniroot(function(x)phyper(15,x,100-x,20)-0.025,,0,100)$root
uniroot(function(x)phyper(14,x,100-x,20)-0.975,,0,100)$root

should be about right I think.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun 15 13:57:16 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Jun 2000 13:57:16 +0200
Subject: [R] dataframes and factors
In-Reply-To: Wolfgang Koller's message of "Thu, 15 Jun 2000 13:36:00 +0200"
References: <3.0.6.32.20000615133600.0090ae40@fgr.wu-wien.ac.at>
Message-ID: <x2zoon40o3.fsf@blueberry.kubism.ku.dk>

Wolfgang Koller <koller2 at fgr.wu-wien.ac.at> writes:

> Dear R-List,
> 
> I have a dataframe X containing factor f and numeric variable x1, x2, ... I
> want to create a new dataframe (or possibly a matrix) that gives statistics
> (e.g. sum) for the variables x1, x2, ... in each group defined by factor f.
> What is the simplest way to do this?
> 
> I tried:
>   attach(X)
>   Z <- data.frame(f=levels(f),x1=as.vector(lapply(split(x1,f),sum)))
> 
> and stumbled on:
>   Error in data.frame(f = levels(f), x1 = as.vector(lapply(split(x1, f),  : 
>         arguments imply differing number of rows: 5, 1
> 
> Help is much appreciated,

does aggregate(X, f, sum) do what you want?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun 15 14:00:49 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Jun 2000 14:00:49 +0200
Subject: [R] tree error message
In-Reply-To: Uwe Ligges's message of "Thu, 15 Jun 2000 13:29:51 +0200"
References: <3948B365.F109E6BD@telekurs.com> <3948BE2F.1E418020@statistik.uni-dortmund.de>
Message-ID: <x2wvjr40i6.fsf@blueberry.kubism.ku.dk>

Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:

> > Since at home and at work I'm running R Version 90.1 with Win NT4  I was
> > surprised to get the error message.
> 
> At first you should upgarde to R-1.1.0 (which is released today).
> Then check if your MASS library is the latest one.
> 
> After that everything should work.

Note: Today was the source release. Binaries for NT may take a couple
of days to arrive.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bxf4 at psu.edu  Thu Jun 15 13:52:47 2000
From: bxf4 at psu.edu (Brian P. Flaherty)
Date: 15 Jun 2000 07:52:47 -0400
Subject: [R] [ ] within [ ]
In-Reply-To: Peter Dalgaard BSA's message of "15 Jun 2000 08:50:50 +0200"
References: <w52itvbr321.fsf@psu.edu> <x2zoonzbcl.fsf@blueberry.kubism.ku.dk>
Message-ID: <w52bt13qhyo.fsf@psu.edu>

Apologies to R readers, especially to Peter Dalgaard and Jan
Schelling.  I had a typo in the syntax I was trying to use.  As I
tried to find the problem, I kept re-using a line with an extra
parenthesis.

Brian


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mathieu.ros at bigfoot.com  Thu Jun 15 14:17:17 2000
From: mathieu.ros at bigfoot.com (Mathieu Ros (Castor))
Date: Thu, 15 Jun 2000 14:17:17 +0200
Subject: [R] Re: R-1.1.0 is released : GUI
In-Reply-To: <x2d7lj5lt0.fsf@blueberry.kubism.ku.dk>
References: <x2d7lj5lt0.fsf@blueberry.kubism.ku.dk>
Message-ID: <961071437.3948c94dd9662@imp.free.fr>

En rponse  Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>:

hello all,

> 
> I've rolled up R-1.1.0.tgz a moment ago. 
> ... 
>     o	New package tcltk, providing interface and language bindings for
> 	the Tcl/Tk graphical interface toolkit. This makes it possible
> 	to do some rather nifty things with buttons and entry fields
> 	and so forth in very few lines of code.  It is still somewhat
> 	experimental so don't go churning out thousands of lines of
> 	GUI code and then blame us for changing the API later on. It does
> 	not currently work with GNOME because of event loop differences.
> 	See demo(tkttest) and demo(tkdensity). 

woooh, this is great !
I know it must have been discussed before but I'd like to know why not to use 
java (awt,swing...?) instead of tcl/tk. It would be a better solution for the 
portability (the same GUI for MS-Win & linux/unix), even if java is not open 
source (?) (ok, I just understood, sorry for this mail ;)
Thanks to all who must have worked hard on this topic, I'm also one of those 
who think that R needs a minimum of GUI (and not only for MS-windows).
regards,

--
Mathieu Ros
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From koller2 at fgr.wu-wien.ac.at  Thu Jun 15 14:31:24 2000
From: koller2 at fgr.wu-wien.ac.at (Wolfgang Koller)
Date: Thu, 15 Jun 2000 14:31:24 +0200
Subject: [R] dataframes and factors
In-Reply-To: <x2zoon40o3.fsf@blueberry.kubism.ku.dk>
References: <Wolfgang Koller's message of "Thu, 15 Jun 2000 13:36:00 +0200">
 <3.0.6.32.20000615133600.0090ae40@fgr.wu-wien.ac.at>
Message-ID: <3.0.6.32.20000615143124.0090d6f0@fgr.wu-wien.ac.at>

At 13:57 15.06.00 +0200, you wrote:
>Wolfgang Koller <koller2 at fgr.wu-wien.ac.at> writes:
>
>> Dear R-List,
>> 
>> I have a dataframe X containing factor f and numeric variable x1, x2, ... I
>> want to create a new dataframe (or possibly a matrix) that gives statistics
>> (e.g. sum) for the variables x1, x2, ... in each group defined by factor f.
>> What is the simplest way to do this?
>> 
>> I tried:
>>   attach(X)
>>   Z <- data.frame(f=levels(f),x1=as.vector(lapply(split(x1,f),sum)))
>> 
>> and stumbled on:
>>   Error in data.frame(f = levels(f), x1 = as.vector(lapply(split(x1, f),
 : 
>>         arguments imply differing number of rows: 5, 1
>> 
>> Help is much appreciated,
>
>does aggregate(X, f, sum) do what you want?

Yes it does. I should have remembered aggregate(), of course...
Nevertheless, since X contains also factors I have to select variables for
which summary statistics have to be computed. So I used:

  Z <- data.frame(f=levels(f),x1=as.vector(tapply(x1,f,sum)))

I think, in the example I tried first, based on lapply(), the problem was
the conversion of a list to a vector, a problem which arises quite often. 

Thanks for your help,

Wolfgang Koller


-------------------------------------------------
Wolfgang Koller,  koller2 at fgr.wu-wien.ac.at
Forschungsinstitut f?r Europafragen
Wirtschaftsuniversitaet Wien
Althanstrasse 39-45, 1090 Vienna, Austria
http://fgr.wu-wien.ac.at/institut/ef/ief-home.htm
-------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun 15 14:57:53 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Jun 2000 14:57:53 +0200
Subject: [R] Re: R-1.1.0 is released : GUI
In-Reply-To: Mathieu's message of "Thu, 15 Jun 2000 14:17:17 +0200"
References: <x2d7lj5lt0.fsf@blueberry.kubism.ku.dk> <961071437.3948c94dd9662@imp.free.fr>
Message-ID: <x2pupj3xv2.fsf@blueberry.kubism.ku.dk>

Mathieu (Castor) Ros <mathieu.ros at bigfoot.com> writes:

> En r?ponse ? Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>:
> 
> hello all,
> 
> > 
> > I've rolled up R-1.1.0.tgz a moment ago. 
> > ... 
> >     o	New package tcltk, providing interface and language bindings for
....
> woooh, this is great !
> I know it must have been discussed before but I'd like to know why not to use 
> java (awt,swing...?) instead of tcl/tk. It would be a better solution for the 
> portability (the same GUI for MS-Win & linux/unix), even if java is not open 
> source (?) (ok, I just understood, sorry for this mail ;)
> Thanks to all who must have worked hard on this topic, I'm also one of those 
> who think that R needs a minimum of GUI (and not only for MS-windows).
> regards,

Actually, the amount of interface glue is surprisingly small. The
basic reason for using tcltk (I'm deliberately not saying "choosing",
because we're not committed to using just the one possible interface)
is the ease with which language bindings can be done. It was simply
the path of least resistance at this time.

Take a look at the demos and the man page examples and you'll see that
it mainly does simple syntactic replacements from R to Tcl. The main
reason that this is doable is that both languages are imperative in
nature -- figuring out how to do something similar with an
object-oriented library such as wxWindows is much harder (ideas on how
to do it are welcome) even if the library itself may be faster and
more elegant. Same thing applies to Java, although we do have a .Java
interface in the works.

Tcl/Tk *is* highly portable to both Windows and Mac and the new
Windows version contains the same package. Since Tcl/Tk is not used
for the system console (yet...) this makes things a little
schizophrenic, but it allows you an easy path to building popup forms
and so forth. 


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Thu Jun 15 17:23:39 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Thu, 15 Jun 2000 11:23:39 -0400
Subject: [R] V&R Book
Message-ID: <019101bfd6dd$af643640$0201a8c0@Workgroup>

Hi,

I was just browsing Springer's web site for Venebles & Ripley's book and
found more then one edition. Is there one that is preferable to get in the
context of working with R?

Thanks

YG

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Thu Jun 15 18:21:45 2000
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Thu, 15 Jun 2000 18:21:45 +0200
Subject: [R] V&R Book
In-Reply-To: <019101bfd6dd$af643640$0201a8c0@Workgroup>
Message-ID: <B56ECF39.3171%pflugshaupt@geobot.umnw.ethz.ch>

On 15.6.2000 17:23 Uhr, Yves Gauvreau wrote:

> Hi,
> 
> I was just browsing Springer's web site for Venebles & Ripley's book and
> found more then one edition. Is there one that is preferable to get in the
> context of working with R?

I don't think they differ much in that aspect. Since the newest ed covers
new versions of some libraries (nlme especially), I'd advise you to get the
newest one and download the R online complements (from the book's website).

The book is definitely worth its (hefty) price, and not too S-Plus specific.

Cheers 

Kaspar

-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Thu Jun 15 18:45:43 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Thu, 15 Jun 2000 12:45:43 -0400 (EDT)
Subject: [R] rgamma problem (was Re: R-1.1.0 is released)
In-Reply-To: <x2d7lj5lt0.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.21.0006151243210.507-100000@Chrestomanci.home.earth>



On 15 Jun 2000, Peter Dalgaard BSA wrote:

> 
> I've rolled up R-1.1.0.tgz a moment ago. 
[snipped]

There was a problem with rgamma giving answers for neg values of
paramters. Has this been fixed? Didn't see it on your list, but it might
have been fixed earlier. I haven't been keeping up with the latest
releases (still using 1.0.0).
                                     Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Jun 15 18:54:56 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 15 Jun 2000 18:54:56 +0200 (CEST)
Subject: [R] rgamma problem (was Re: R-1.1.0 is released)
In-Reply-To: <Pine.LNX.4.21.0006151243210.507-100000@Chrestomanci.home.earth>
References: <x2d7lj5lt0.fsf@blueberry.kubism.ku.dk>
	<Pine.LNX.4.21.0006151243210.507-100000@Chrestomanci.home.earth>
Message-ID: <14665.2656.258959.228602@gargle.gargle.HOWL>

>>>>> "Faheem" == Faheem Mitha <faheem at email.unc.edu> writes:

    Faheem> On 15 Jun 2000, Peter Dalgaard BSA wrote:

    >>  I've rolled up R-1.1.0.tgz a moment ago.
    Faheem> [snipped]

    Faheem> There was a problem with rgamma giving answers for neg values
    Faheem> of paramters. Has this been fixed? Didn't see it on your list,
    Faheem> but it might have been fixed earlier. I haven't been keeping up
    Faheem> with the latest releases (still using 1.0.0). 

I think the problem is still open.  
The reason being that "the bug is partly a feature"
but I don't remember the details, and nobody followed up (and I don't have
time the next few days either).

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 15 19:20:07 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 15 Jun 2000 18:20:07 +0100 (BST)
Subject: [R] tree error message
In-Reply-To: <3948B365.F109E6BD@telekurs.com>
Message-ID: <Pine.GSO.4.05.10006151815080.3533-100000@auk.stats>

On Thu, 15 Jun 2000, Fabio Valeri wrote:

> Dear R user,
> 
> I used from the library MASS the dataset cpus and the skript
> plot.tree.sequence.R, which are included in the tree package:
> 
> >library(MASS)
> > data(cpus)
> > cpus.ltr <- tree(log10(perf) ~ syct + mmin + mmax + cach
> >+      + chmin + chmax, data=cpus)
> 
> At home it works but at work I get this message:
> 
> >Error in .C("BDRgrow1", as.double(X), as.double(unclass(Y)),
> as.double(w),  : C/Fortran function name not in load table
> 
> I do not understand this message and I would be very glad if someone
> could give me some advice.
> 
> Since at home and at work I'm running R Version 90.1 with Win NT4  I was
> surprised to get the error message.

Well, tree is in package tree and I see no evidence that you have used

library(tree)

This is what will happy if you have a local copy of the tree function,
so don't confuse yourself by doing so.

Note that R 0.90.1 (note the number) is no longer supported on Windows: use
at least rw1001 and update your libraries to match.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 15 19:28:22 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 15 Jun 2000 18:28:22 +0100 (BST)
Subject: [R] V&R Book
In-Reply-To: <019101bfd6dd$af643640$0201a8c0@Workgroup>
Message-ID: <Pine.GSO.4.05.10006151825190.3533-100000@auk.stats>

On Thu, 15 Jun 2000, Yves Gauvreau wrote:

> Hi,
> 
> I was just browsing Springer's web site for Venebles & Ripley's book and
> found more then one edition. Is there one that is preferable to get in the
> context of working with R?

Yes. The third. That's the only one that is R-aware. (R didn't do
anything like enough in early 1997 when the second edition went to press,
but we produced R complements and packages from mid-1998, as I recall.)

In theory at least that is the only edition that is actually available.
Sites like Amazon often list out-of-print books that they can't
actually get.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 15 20:32:09 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 15 Jun 2000 19:32:09 +0100 (GMT Daylight Time)
Subject: [R] Re: R-1.1.0 is released : GUI
In-Reply-To: <961071437.3948c94dd9662@imp.free.fr>
Message-ID: <Pine.WNT.4.05.10006151928440.193-100000@tern.stats>

On Thu, 15 Jun 2000, Mathieu (Castor) Ros wrote:

> En rponse  Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>:
> 
> hello all,
> 
> > 
> > I've rolled up R-1.1.0.tgz a moment ago. 
> > ... 
> >     o	New package tcltk, providing interface and language bindings for
> > 	the Tcl/Tk graphical interface toolkit. This makes it possible
> > 	to do some rather nifty things with buttons and entry fields
> > 	and so forth in very few lines of code.  It is still somewhat
> > 	experimental so don't go churning out thousands of lines of
> > 	GUI code and then blame us for changing the API later on. It does
> > 	not currently work with GNOME because of event loop differences.
> > 	See demo(tkttest) and demo(tkdensity). 
> 
> woooh, this is great !
> I know it must have been discussed before but I'd like to know why not to use 
> java (awt,swing...?) instead of tcl/tk. It would be a better solution for the 
> portability (the same GUI for MS-Win & linux/unix), even if java is not open 
> source (?) (ok, I just understood, sorry for this mail ;)
> Thanks to all who must have worked hard on this topic, I'm also one of those 
> who think that R needs a minimum of GUI (and not only for MS-windows).
> regards,

1) Do you know the resources needed for Java/Swing?  Last time I looked
A Java 1.2 Runtime Environment was several times the size of R (Tcl/Tk
is alrady sizeable) and there were severe demands on the system if Swing
was in use. (Like, a 96MB Solaris machine was too small, and working to
a remove Xserver was faulty.)

2) Swing might look the same on any platform, but it looks non-native on
all.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rdiazuri at students.wisc.edu  Thu Jun 15 19:00:00 2000
From: rdiazuri at students.wisc.edu (Ramon Diaz-Uriarte)
Date: Thu, 15 Jun 2000 19:00:00 +0200
Subject: [R] prcomp help: is this a typo?
Message-ID: <00061520134301.01424@ligarto>

Dear All,

The help for prcomp, under "Value" says:

    sdev: the standard deviation of the principal components (i.e., the
          eigenvalues of the cov matrix, though the calculation is
          actually done with the singular values of the data matrix).

The way I read it, it implies that the sdev are the eigenvalues, but  I think
that sdev is actually the square root of the eigenvalues ( from looking at,
say, pp. 317 and 318 in Morrison's (1990) "Multivariate statistical methods" or
pp. 61 to 63 of Krzanowski's (1990) "Principles of multivariate analysis"; or by
comparing the output of 
> prcomp(my.data,  scale = TRUE)

with the brute force

> eigen(cor(my.data))
)

Ramon

-- 
Ramn Daz-Uriarte
Dept. Zoology and Statistics
University of Wisconsin-Madison
Madison, WI 53706-1381

email: rdiazuri at students.wisc.edu
(NOTE: starting 15-July-2000 new email:
ramon-diaz at teleline.es)
phone: 608-238-8041
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pecondon at quiknet.com  Fri Jun 16 05:29:59 2000
From: pecondon at quiknet.com (Paul Condon)
Date: Thu, 15 Jun 2000 20:29:59 -0700
Subject: [R] morley.data
Message-ID: <39499F37.79D96390@quiknet.com>

I just beginning. I have installed R on my Linux box, and it works (I
think). I want to do the examples in the R-intro document, but I don't
have morley.data. Where do I get it?

Thanks.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 16 08:10:18 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 16 Jun 2000 07:10:18 +0100 (BST)
Subject: [R] prcomp help: is this a typo?
In-Reply-To: <00061520134301.01424@ligarto>
Message-ID: <Pine.GSO.4.05.10006160705450.13896-100000@auk.stats>

On Thu, 15 Jun 2000, Ramon Diaz-Uriarte wrote:

> Dear All,
> 
> The help for prcomp, under "Value" says:
> 
>     sdev: the standard deviation of the principal components (i.e., the
>           eigenvalues of the cov matrix, though the calculation is
>           actually done with the singular values of the data matrix).
> 
> The way I read it, it implies that the sdev are the eigenvalues, but  I think
> that sdev is actually the square root of the eigenvalues ( from looking at,
> say, pp. 317 and 318 in Morrison's (1990) "Multivariate statistical methods" or
> pp. 61 to 63 of Krzanowski's (1990) "Principles of multivariate analysis"; or by
> comparing the output of 
> > prcomp(my.data,  scale = TRUE)
> 
> with the brute force
> 
> > eigen(cor(my.data))
> )

Take a look at 1.1.0.  That has been altered to be

    sdev: the standard deviations of the principal components (i.e.,
          the square roots of the eigenvalues of the
          covariance/correlation matrix, though the calculation is
          actually done with the singular values of the data matrix).

Thank you for pointing it out.  As your example show, the correlation
matrix is appropriate if scale.=TRUE. (And if center=FALSE it is an
uncentred cov/cor matrix.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbeer at uni-goettingen.de  Fri Jun 16 11:05:24 2000
From: rbeer at uni-goettingen.de (Ragnar Beer)
Date: Fri, 16 Jun 2000 11:05:24 +0200
Subject: [R] R and OpenBSD
Message-ID: <v04220800b56f9d477c51@[134.76.136.114]>

Howdy!

Has anybody successfully installed R under OpenBSD? I just tried to 
install the latest R-release under OpenBSD 2.7 and got the following 
errors in the make step:
pnorm.c:62 'ML_ERR_return_NAN' undeclared
pnorm.c:62 'ML_NAN' undeclared
pnorm.c:62 'ML_NEGINF' undeclared

--Ragnar
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjantti at abo.fi  Fri Jun 16 14:50:52 2000
From: mjantti at abo.fi (mjantti@abo.fi)
Date: Fri, 16 Jun 2000 15:50:52 +0300 (EEST)
Subject: [R] glm under R versions 1.0.1 and 1.1.0
Message-ID: <200006161250.PAA20850@net28.labour.fi>

I have fitted a number of models with receipt of social assictance
(toim1) during a year (values 0 or 1) with a number of covariates. 
The data include sampling weights which I use in the models. Using the
exact same data, glm() under 1.0.1 and 1.1.0 give different results in
many (but not all) of the models. I have re-installed 1.0.1 to check
this and I found now mention in the NEWS file that indicated a change
of that would account for this in 1.1.0.] 

I show the function calls and summary() results below for each version,
using the models that only allow for the probability of receipt to vary
by year ( the factor Vuosi1 below) . The information given by version
(for 1.0.1 here) is
 

> version
         _                 
platform i686-unknown-linux
arch     i686              
os       linux             
system   i686, linux       
status                     
major    1                 
minor    0.1               
year     2000              
month    April             
day      14                
language R       

This is what R 1.0.1 gives:

> glm.toim.0 <- glm(toim1 ~ Vuosi1,
+                 data = Data, #subset =  Vuosi1 == "1993",
+                 family=binomial("probit"),
+                 na.action = na.omit , weights = pko1, model = FALSE)
> summary(glm.toim.0)

Call:
glm(formula = toim1 ~ Vuosi1, family = binomial("probit"), data = Data, 
    weights = pko1, na.action = na.omit, model = FALSE)

Deviance Residuals: 
   Min      1Q  Median      3Q     Max  
-27.05   -9.11   -7.31   -5.26  118.85  

Coefficients:
            Estimate Std. Error z value Pr(>|z|)    
(Intercept) -1.50660    0.00104 -1447.4   <2e-16 ***
Vuosi11994   0.09489    0.00143    66.2   <2e-16 ***
Vuosi11995   0.10624    0.00143    74.3   <2e-16 ***
Vuosi11996   0.13442    0.00142    94.8   <2e-16 ***
Vuosi11997   0.12126    0.00142    85.3   <2e-16 ***
---
Signif. codes:  0  `***'  0.001  `**'  0.01  `*'  0.05  `.'  0.1  ` '  1 

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 9540324  on 40869  degrees of freedom
Residual deviance: 9529262  on 40865  degrees of freedom
AIC: 9529272

Number of Fisher Scoring iterations: 4

In R 1.1.0, I get 

> glm.toim.0 <- glm(toim1 ~ Vuosi1,
+                 data = Data, #subset =  Vuosi1 == "1993",
+                 family=binomial("probit"),
+                 na.action = na.omit , weights = pko1, model = FALSE)
Warning message: 
fitted probabilities numerically 0 or 1 occurred in: (if (is.empty.model(mt)) glm.fit.null else glm.fit)(x = X, y = Y,  
> summary(glm.toim.0)

Call:
glm(formula = toim1 ~ Vuosi1, family = binomial("probit"), data = Data, 
    weights = pko1, na.action = na.omit, model = FALSE)

Deviance Residuals: 
      Min         1Q     Median         3Q        Max  
-1.35e-06  -4.76e-07  -3.82e-07  -2.75e-07   4.54e+02  

Coefficients:
             Estimate Std. Error   z value Pr(>|z|)    
(Intercept) -3.91e+15   3.61e+04 -1.08e+11   <2e-16 ***
Vuosi11994   1.18e+14   5.11e+04  2.30e+09   <2e-16 ***
Vuosi11995   1.33e+14   5.11e+04  2.60e+09   <2e-16 ***
Vuosi11996   1.72e+14   5.10e+04  3.36e+09   <2e-16 ***
Vuosi11997   1.53e+14   5.10e+04  3.01e+09   <2e-16 ***
---
Signif. codes:  0  `***'  0.001  `**'  0.01  `*'  0.05  `.'  0.1  ` '  1 

(Dispersion parameter for binomial family taken to be 1)

    Null deviance:  9540324  on 40869  degrees of freedom
Residual deviance: 98216118  on 40865  degrees of freedom
AIC: 98216128

Number of Fisher Scoring iterations: 4

The (unweighted) empirical pattern is

> table(Vuosi1, toim1)
      toim1
Vuosi1    0   1
  1993 8206 429
  1994 6524 383
  1995 8564 494
  1996 6716 369
  1997 8756 429
> 

It would be helpful to understand what is going on.  

While the R FAQ kind of warned against this (i.e., trying to explain
the problem rather than describe it accurately), I can add the when I do
the same function call but do not use the weights, results are
identical. 

Regards,

Markus
-- 
Markus Jantti				|	Department of Statistics
markus.jantti at abo.fi			|	Abo Akademi University
http://www.abo.fi/~mjantti		|	FIN 20500 Turku, Finland
358-9-643 747  (Home/Voice)		|	358-2-2154 161	(Office/Voice)
					|	358-2-2154 677	(Office/Fax)
PGP public key: http://www.abo.fi/~mjantti/pubring.asc

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.e.brown at lancaster.ac.uk  Fri Jun 16 15:07:56 2000
From: p.e.brown at lancaster.ac.uk (Patrick Brown)
Date: Fri, 16 Jun 2000 14:07:56 +0100 (BST)
Subject: [R] postscript device on R-1.1.0
Message-ID: <Pine.LNX.4.21.0006161348340.5602-100000@mathsxt02.lancs.ac.uk>

Am I the only one with this problem?  

> postscript()
Error in old$command == "default" : comparison (1) is possible only for
vector types

The function postscript() is creates a list called "old".  the function
wants to access old$command, but old does not have a component called
command.

> postscript
function (file = ifelse(onefile, "Rplots.ps", "Rplot%03d.ps"), 
    onefile = TRUE, ...) 
{
    new <- list(onefile = onefile, ...)
    old <- check.options(new = new, name.opt = ".PostScript.Options", 
        reset = FALSE, assign.opt = FALSE)
    if (old$command == "default") 
        old$command <- if (!is.null(cmd <- getOption("printcmd"))) 
            cmd
        else ""
    .Internal(PS(file, old$paper, old$family, old$bg, old$fg, 
        old$width, old$height, old$horizontal, old$pointsize, 
        old$onefile, old$pagecentre, old$print.it, old$command))
}
> temp_check.options(new=list(onefile=T), name.opt =
".PostScript.Options", reset=F, assign.opt=F)
> names(temp)
 [1] "paper"      "horizontal" "width"      "height"     "family"    
 [6] "pointsize"  "bg"         "fg"         "onefile"    "print.it"  
[11] "append"     "pagecentre"

postscript works if I change 
  if (old$command == "default")
to
  if (is.null(old$command)) 


and another problem with R-1.1.0, 

if "./configure --gui=gnome" tells you it didn't configure gnome support,
run "./configure" before doing "make" and "make install".

./configure told me it wouldn't install gnome support, as I'm  
missing some libraries. After doing "make" and "make install", R wouldn't     
plot on an x11 window.  it works fine after re-running ./configure.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 16 15:40:32 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 16 Jun 2000 14:40:32 +0100 (BST)
Subject: [R] postscript device on R-1.1.0
Message-ID: <200006161340.OAA04230@toucan.stats.ox.ac.uk>


> X-Authentication-Warning: mathsxt02.lancs.ac.uk: brownpe owned process doing 
-bs
> Date: Fri, 16 Jun 2000 14:07:56 +0100 (BST)
> From: Patrick Brown <p.e.brown at lancaster.ac.uk>
> To: r-help at stat.math.ethz.ch
> Subject: [R] postscript device on R-1.1.0
> 
> Am I the only one with this problem?  
> 
> > postscript()
> Error in old$command == "default" : comparison (1) is possible only for
> vector types
> 
> The function postscript() is creates a list called "old".  the function
> wants to access old$command, but old does not have a component called
> command.
> 
> > postscript
> function (file = ifelse(onefile, "Rplots.ps", "Rplot%03d.ps"), 
>     onefile = TRUE, ...) 
> {
>     new <- list(onefile = onefile, ...)
>     old <- check.options(new = new, name.opt = ".PostScript.Options", 
>         reset = FALSE, assign.opt = FALSE)
>     if (old$command == "default") 
>         old$command <- if (!is.null(cmd <- getOption("printcmd"))) 
>             cmd
>         else ""
>     .Internal(PS(file, old$paper, old$family, old$bg, old$fg, 
>         old$width, old$height, old$horizontal, old$pointsize, 
>         old$onefile, old$pagecentre, old$print.it, old$command))
> }
> > temp_check.options(new=list(onefile=T), name.opt =
> ".PostScript.Options", reset=F, assign.opt=F)
> > names(temp)
>  [1] "paper"      "horizontal" "width"      "height"     "family"    
>  [6] "pointsize"  "bg"         "fg"         "onefile"    "print.it"  
> [11] "append"     "pagecentre"
> 
> postscript works if I change 
>   if (old$command == "default")
> to
>   if (is.null(old$command)) 

Yes, but that's not what is intended. You have a file .PostScript.Options
around somewhere in a saved workspace.  Just use

.PostScript.Option$command <- "default"

to update it, or delete it and use ps.options() to re-create it.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rdiazuri at students.wisc.edu  Fri Jun 16 08:40:36 2000
From: rdiazuri at students.wisc.edu (Ramon Diaz-Uriarte)
Date: Fri, 16 Jun 2000 08:40:36 +0200
Subject: [R] prcomp help: is this a typo?
In-Reply-To: <Pine.GSO.4.05.10006160705450.13896-100000@auk.stats>
References: <Pine.GSO.4.05.10006160705450.13896-100000@auk.stats>
Message-ID: <00061608422002.00405@ligarto>

Thanks to Prof. Ripley for his answer (and apologies for not having checked
things in 1.1.0).

Ramon


On Fri, 16 Jun 2000, Prof Brian D Ripley wrote:
> On Thu, 15 Jun 2000, Ramon Diaz-Uriarte wrote:
> 
> > Dear All,
> > 
> > The help for prcomp, under "Value" says:
> > 
> >     sdev: the standard deviation of the principal components (i.e., the
> >           eigenvalues of the cov matrix, though the calculation is
> >           actually done with the singular values of the data matrix).
> > 
> > The way I read it, it implies that the sdev are the eigenvalues, but  I think
> > that sdev is actually the square root of the eigenvalues ( from looking at,
> > say, pp. 317 and 318 in Morrison's (1990) "Multivariate statistical methods" or
> > pp. 61 to 63 of Krzanowski's (1990) "Principles of multivariate analysis"; or by
> > comparing the output of 
> > > prcomp(my.data,  scale = TRUE)
> > 
> > with the brute force
> > 
> > > eigen(cor(my.data))
> > )
> 
> Take a look at 1.1.0.  That has been altered to be
> 
>     sdev: the standard deviations of the principal components (i.e.,
>           the square roots of the eigenvalues of the
>           covariance/correlation matrix, though the calculation is
>           actually done with the singular values of the data matrix).
> 
> Thank you for pointing it out.  As your example show, the correlation
> matrix is appropriate if scale.=TRUE. (And if center=FALSE it is an
> uncentred cov/cor matrix.)
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-- 
Ramn Daz-Uriarte
Dept. Zoology and Statistics
University of Wisconsin-Madison
Madison, WI 53706-1381

email: rdiazuri at students.wisc.edu
(NOTE: starting 15-July-2000 new email:
ramon-diaz at teleline.es)
phone: 608-238-8041
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Fri Jun 16 16:22:54 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Fri, 16 Jun 2000 10:22:54 -0400
Subject: [R] Any suggestion?
Message-ID: <01d901bfd79e$5d3b1160$0201a8c0@Workgroup>

Hi,

In R-Notes there is the open.account example which is partly kind of what
I'd like to do. I would like to add the following properties or
capabilities:

    - I'd like to add persistence to the object.
    - I'd like to keep an history of all operation done on an account.
    - I'd like to add the possibility of transfer between accounts and apply
the concept of transactions.
    - I'd like to add multi account management.
    - I'd like to add reporting capabilities specific to an account or
accounts.

Since I'm a newbie with R I would probably approach this problem the wrong
way. I'm currently using R on a NT box but the reason I'd like to do this
using R is because this would enable me to do all the work I want using a
single software package (R) and eventually migrate all this under Linux
which I'm certain most of you will approuve.

So any suggestion would be greatly appreciated.

Thanks in advance.

Yves Gauvreau



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Fri Jun 16 17:26:51 2000
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Fri, 16 Jun 2000 08:26:51 -0700
Subject: [R] Re: R-1.1.0 is released : GUI
In-Reply-To: <961071437.3948c94dd9662@imp.free.fr>
References: <x2d7lj5lt0.fsf@blueberry.kubism.ku.dk>
 <x2d7lj5lt0.fsf@blueberry.kubism.ku.dk>
Message-ID: <4.3.2.7.2.20000616082542.00bd8e50@127.0.0.1>

Is there a timetable yet for releasing the Windows 9x/NT/2000 binaries for 
1.1.0?

Thanks.

Dr. Marc R. Feldesman
email:  feldesmanm at pdx.edu
email:  feldesman at ibm.net
fax:    503-725-3905

"Don't know where I'm going.
Don't like where I've been.
There may be no exit.
But hell, I'm going in."  Jimmy Buffett

Powered by Superchoerus - the 700 MHz Coppermine Box

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cstrato at EUnet.at  Fri Jun 16 23:02:29 2000
From: cstrato at EUnet.at (cstrato@EUnet.at)
Date: Fri, 16 Jun 2000 22:02:29 +0100
Subject: [R] Re: R-1.1.0 is released : GUI
References: <Pine.WNT.4.05.10006151928440.193-100000@tern.stats>
Message-ID: <394A95BE.5D377C84@EUnet.at>

Dear Prof Ripley, dear R developers

I hope this mail does not upset any of the R developers, in which case
I apologize. There are some questions which I wanted to ask for some time, but
did not do. However, the mail of Prof. Ripley regarding Java/Swing did
confuse me, so I decided to ask the questions now:

I am using S-Plus and R for some time now and find it very elegant and enjoy
programming in it. It simplifies coding so much and has so many statistical
functions built in that it would be great to be able to write programs completely
in R/S.

However, I have two problems, which other people have also mentioned in
r-help a couple of times: I have very large datasets to work with and thus I
need
i, the ability to handle large data sets, and
ii, speed, speed, speed.
For this reason I am currently thinking to re-write my programs in C++, since
my program needs 2hrs in S-Plus on a 733MHz machine with 1GB RAM, and
would take much longer in R.

Furthermore, it would also be great to have a GUI to work with in R, similar
to S-Plus.

My first question is:
Since S/R is a full featured language it would be great to have a native
compiler, so that I could write stand-alone programs which profit from the
full speed, and ability to handle large data-sets, of a stand-alone application.
Wouldn?t this be an option to consider?

Related to the first question and to the GUI question is my second point:
It would be great if I could wrap some S/R code in a GUI, so that other
people not knowing the language could use my programs.
Do I understand it write that the bindings to Tcl/Tk offer just this possibility?

Regarding Java: I would really like to learn Java, but everytime I consider
doing something in Java, I decide to do it in C++, since in my opinion,
Java does not solve my two problems, speed and size of data.

Besides that Java is re-inventing an old technology of the seventies:
Do you remember UCSD-Pascal, which was developed at UCSD to make
Pascal machine-independent? It compiled Pascal code into "p-code" (also
called pseudo-code), which in effect was a virtual machine. It did not
succeed because it was way tooo slow. About 15 years later Sun tries to
sell this as a new principe. Although computers are much faster now, Java
still suffers performance problems, and I do not want to waste computer
power, so I decided to stick with C++.

Now comes my last question, which I hope the R developers don?t
misunderstand:
Most current R developers have decided to re-implement R in Java, called
"The Omegahat Project" (see: http://www.omegahat.org/)
If Prof. Ripley mentions in the mail below the problems with Java/Swing,
and if I consider the problems mentioned above:
Why do you re-implement R in Java and consider this as ultimate solution?

I have the feeling the Java implementation will not solve my two main
problems, speed and data-size.

In my very personal opinion it would be great to have one of the
following two options:
a, a native R/S compiler
b, an implementation of the R functionality as C++ classes.

Please consider this as my personal view, and as discussion only.
I really like S/R and would enjoy to be able to use it also for large
projects.

Best regards
Christian Stratowa, Vienna, Austria


Prof Brian D Ripley wrote:

> On Thu, 15 Jun 2000, Mathieu (Castor) Ros wrote:
>
> > En r?ponse ? Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>:
> >
> > hello all,
> >
> > >
> > > I've rolled up R-1.1.0.tgz a moment ago.
> > > ...
> > >     o       New package tcltk, providing interface and language bindings for
> > >     the Tcl/Tk graphical interface toolkit. This makes it possible
> > >     to do some rather nifty things with buttons and entry fields
> > >     and so forth in very few lines of code.  It is still somewhat
> > >     experimental so don't go churning out thousands of lines of
> > >     GUI code and then blame us for changing the API later on. It does
> > >     not currently work with GNOME because of event loop differences.
> > >     See demo(tkttest) and demo(tkdensity).
> >
> > woooh, this is great !
> > I know it must have been discussed before but I'd like to know why not to use
> > java (awt,swing...?) instead of tcl/tk. It would be a better solution for the
> > portability (the same GUI for MS-Win & linux/unix), even if java is not open
> > source (?) (ok, I just understood, sorry for this mail ;)
> > Thanks to all who must have worked hard on this topic, I'm also one of those
> > who think that R needs a minimum of GUI (and not only for MS-windows).
> > regards,
>
> 1) Do you know the resources needed for Java/Swing?  Last time I looked
> A Java 1.2 Runtime Environment was several times the size of R (Tcl/Tk
> is alrady sizeable) and there were severe demands on the system if Swing
> was in use. (Like, a 96MB Solaris machine was too small, and working to
> a remove Xserver was faulty.)
>
> 2) Swing might look the same on any platform, but it looks non-native on
> all.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From keitt at nceas.ucsb.edu  Fri Jun 16 23:29:10 2000
From: keitt at nceas.ucsb.edu (Timothy H. Keitt)
Date: Fri, 16 Jun 2000 14:29:10 -0700
Subject: [R] Re: R-1.1.0 is released : GUI
References: <Pine.WNT.4.05.10006151928440.193-100000@tern.stats> <394A95BE.5D377C84@EUnet.at>
Message-ID: <394A9C26.899E3A1E@nceas.ucsb.edu>

cstrato at EUnet.at wrote:
> 
> 
> I am using S-Plus and R for some time now and find it very elegant and enjoy
> programming in it.

Me too.

> 
> However, I have two problems, which other people have also mentioned in
> r-help a couple of times: I have very large datasets to work with and thus I
> need
> i, the ability to handle large data sets, and
> ii, speed, speed, speed.

I think what you want is a scalable solution, not speed per se. 
Scalability is more important than speed.  Who cares if your code runs
really fast on toy problems?  A scalable solution is one that performs
adequately on small problems, but does not become prohibitive when you
exceed small, fast resource pools, like cache, main memory, etc.  The
only way to achieve scalability is by design.  You have to create
powerful and flexible abstractions so that your algorithms do not depend
on details of the implementation.  In other words, the same code should
work whether your data is in cache, main memory, in a database,
distributed across a network, and so on.  Unfortunately, these
abstractions do not exist in the C code underlying R, nor in any(?) of
the external C/FORTRAN code in the R packages.

> My first question is:
> Since S/R is a full featured language it would be great to have a native
> compiler, so that I could write stand-alone programs which profit from the
> full speed, and ability to handle large data-sets, of a stand-alone application.
> Wouldn?t this be an option to consider?

This will only help in the non-vectorized parts of your code.  If most
of what you do involves matrix and vector operations, compiling the S/R
source will not give much improvement.  Also, compiling code that is
fundamentally not scalable to large problems will not really give you
what you want.

> Do I understand it write that the bindings to Tcl/Tk offer just this possibility?

That's my take on it, although I prefer gnome/glade.

> 
> I have the feeling the Java implementation will not solve my two main
> problems, speed and data-size.
>

This is more of a design issue than a language issue.  Having said that,
I also prefer C++ to Java.
 
> In my very personal opinion it would be great to have one of the
> following two options:
> a, a native R/S compiler

This will not give you what you want for reasons outlined above.

> b, an implementation of the R functionality as C++ classes.
 
I am strongly in favor of this solution.  Model the existing data
structures in the S/R language as abstract types (again my preference is
C++), then use these as the computational engine under the interpreted R
code.  There are some very good object oriented numerical packages
available that could be used in specific implementations.  Take a look
at:

	http://www.acl.lanl.gov/pooma/
	http://www.lsc.nd.edu/research/
	http://sourceware.cygnus.com/gsl/

My 2 cents...

T.

-- 
Timothy H. Keitt
National Center for Ecological Analysis and Synthesis
735 State Street, Suite 300, Santa Barbara, CA 93101
Phone: 805-892-2519, FAX: 805-892-2510
http://www.nceas.ucsb.edu/~keitt/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Jun 16 23:41:07 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 16 Jun 2000 14:41:07 -0700 (PDT)
Subject: [R] Re: R-1.1.0 is released : GUI
In-Reply-To: <394A95BE.5D377C84@EUnet.at>
Message-ID: <Pine.GSO.4.21.0006161421340.27366-100000@atlas.biostat.washington.edu>

On Fri, 16 Jun 2000 cstrato at EUnet.at wrote:


> My first question is:
> Since S/R is a full featured language it would be great to have a native
> compiler, so that I could write stand-alone programs which profit from the
> full speed, and ability to handle large data-sets, of a stand-alone application.
> Wouldnt this be an option to consider?

It has been considered and a least a byte-code compiler may be done at
some time. The language is not ideal for compiling as it lets programmers
do complicated things to environments which make it hard to distinguish
local and global variables.

As the garbage collector currently takes up a non-negligible fraction of
the time it may provide an upper limit to speed even with compilation. 
 
> Related to the first question and to the GUI question is my second point:
> It would be great if I could wrap some S/R code in a GUI, so that other
> people not knowing the language could use my programs.
> Do I understand it write that the bindings to Tcl/Tk offer just this possibility?

Yes. Bindings to other GUI systems would be possible too.

> Regarding Java: I would really like to learn Java, but everytime I consider
> doing something in Java, I decide to do it in C++, since in my opinion,
> Java does not solve my two problems, speed and size of data.

It depends. Some recent benchmarks suggest that the differences in speed
may be getting less important.  Java graphics are slow under Unix, but
even this is improving.

> Now comes my last question, which I hope the R developers dont
> misunderstand:
> Most current R developers have decided to re-implement R in Java, called
> "The Omegahat Project" (see: http://www.omegahat.org/)
> If Prof. Ripley mentions in the mail below the problems with Java/Swing,
> and if I consider the problems mentioned above:
> Why do you re-implement R in Java and consider this as ultimate solution?

The Omega project is not a reimplementation of R or S (read its web site).
It is more a framework for developing new statistical computing ideas.  
The syntax is somewhat related to S because the people involved mostly
like S, but the point is to be able to try new things that would be very
hard to do in S (eg new ways of specifying models, dynamic graphics).

> 
> In my very personal opinion it would be great to have one of the
> following two options:
> a, a native R/S compiler

As mentioned above this is harder than it looks but may be possible

> b, an implementation of the R functionality as C++ classes.

This is probably impossible. R does not look like C++ classes.  The
mathematical functions are available as a separate C library and it is
possible to embed R (at least under Windows) in other programs.  It
is/will be possible to communicate in DCOM and CORBA between R and C
programs, too. You can also code bits of your program in C or Fortran and
call it from R

As the two independent implementations of S are not terribly different in
speed it seems that R is slow because it implements the S language, which
is designed to make statistical programming easy for the user, not for the
computer. With todays computers this is a good balance for most people --
most code takes a lot longer to write than to run, and statistical
analysis costs are a small fraction of total project costs in most
cases. Java (and Tcl, Python and Perl) are popular for the same sort of
reason -- they waste computer time rather than programmer time.

We are trying to speed up R, but it's unlikely to be more than a factor of
two or so faster no matter what we come up with.


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Jun 17 00:11:03 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Jun 2000 00:11:03 +0200
Subject: [R] Re: R-1.1.0 is released : GUI
In-Reply-To: cstrato@EUnet.at's message of "Fri, 16 Jun 2000 22:02:29 +0100"
References: <Pine.WNT.4.05.10006151928440.193-100000@tern.stats> <394A95BE.5D377C84@EUnet.at>
Message-ID: <x2ln05xonc.fsf@blueberry.kubism.ku.dk>

cstrato at EUnet.at writes:

> For this reason I am currently thinking to re-write my programs in C++, since
> my program needs 2hrs in S-Plus on a 733MHz machine with 1GB RAM, and
> would take much longer in R.

er, why? Sometimes R is faster, sometimes S.

> Since S/R is a full featured language it would be great to have a native
> compiler, so that I could write stand-alone programs which profit from the
> full speed, and ability to handle large data-sets, of a stand-alone application.
> Wouldn?t this be an option to consider?

It is being considered, and have been considered for quite a while.
The main problem is that R is a kind of language (known as Functional
Programming Languages) which it is difficult to write compilers for.
There are many run-time decisions (anything with generic methods for
instance) and the sys.parent() and substitute() family of facilities
are a compiler writer's nightmare...

The large data set issue is somewhat orthogonal. Some techniques have
already been developed to access databases without storing all
variables in memory (one of the R<->SQL interfaces has virtual
dataframes, e.g.).

> Related to the first question and to the GUI question is my second point:
> It would be great if I could wrap some S/R code in a GUI, so that other
> people not knowing the language could use my programs.
> Do I understand it write that the bindings to Tcl/Tk offer just this possibility?

Yes. Try it and see. Take a look at the demo codes. Speed is not among
its virtues though, since it involves two interpreted languages.

> Regarding Java: I would really like to learn Java, but everytime I consider
> doing something in Java, I decide to do it in C++, since in my opinion,
> Java does not solve my two problems, speed and size of data.
> 
> Besides that Java is re-inventing an old technology of the seventies:
> Do you remember UCSD-Pascal, which was developed at UCSD to make
> Pascal machine-independent? It compiled Pascal code into "p-code" (also
> called pseudo-code), which in effect was a virtual machine. It did not
> succeed because it was way tooo slow. About 15 years later Sun tries to
> sell this as a new principe. Although computers are much faster now, Java
> still suffers performance problems, and I do not want to waste computer
> power, so I decided to stick with C++.

Well nowadays there's such a thing as just-in-time compilers (yes I've
been subjected to p-code on an 8MHz PC-AT...), but I don't think I
want to go into that discussion.

> Now comes my last question, which I hope the R developers don?t
> misunderstand:
> Most current R developers have decided to re-implement R in Java, called
> "The Omegahat Project" (see: http://www.omegahat.org/)
> If Prof. Ripley mentions in the mail below the problems with Java/Swing,
> and if I consider the problems mentioned above:
> Why do you re-implement R in Java and consider this as ultimate solution?

No that is not what is going on. The point of Omegahat is not to
re-implement anything. Rather to the contrary it is an attempt to get
tools and languages to interoperate. So the ability to fire up Java
classes from inside R and calling R from Java is much more in the
direction that Omegahat is moving. A lot of this stuff is experimental
in nature -- perhaps things like Swing will *become* much more viable
when standard computers have considerably more CPU and RAM than today.
Already today, however, some neat things have been coded up in Java
and would be nice to try and tap into.

> In my very personal opinion it would be great to have one of the
> following two options:
> a, a native R/S compiler
> b, an implementation of the R functionality as C++ classes.

I think you would find that the speed of a) will disappoint you
somewhat and any attempt at b) will lose a substantial part of the
functionality. R is a language of a quite different type than
the traditional compilable languages, and this carries an
expressivity/speed tradeoff by nature.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Jun 17 08:22:28 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 17 Jun 2000 07:22:28 +0100 (BST)
Subject: [R] Re: R-1.1.0 is released : GUI
In-Reply-To: <394A95BE.5D377C84@EUnet.at>
Message-ID: <Pine.GSO.4.05.10006170711230.12526-100000@auk.stats>

On Fri, 16 Jun 2000 cstrato at eunet.at wrote:

> Dear Prof Ripley, dear R developers
> 
> I hope this mail does not upset any of the R developers, in which case
> I apologize. There are some questions which I wanted to ask for some time, but
> did not do. However, the mail of Prof. Ripley regarding Java/Swing did
> confuse me, so I decided to ask the questions now:

Lots of others have already given a lot of insights.  My concern in my
original posting was a practical one, having recently struggled for
some days (and failed) to get a Java/Swing GUI to run. I was only talking
about the GUI side.

> I am using S-Plus and R for some time now and find it very elegant and enjoy
> programming in it. It simplifies coding so much and has so many statistical
> functions built in that it would be great to be able to write programs completely
> in R/S.
> 
> However, I have two problems, which other people have also mentioned in
> r-help a couple of times: I have very large datasets to work with and thus I
> need
> i, the ability to handle large data sets, and
> ii, speed, speed, speed.
> For this reason I am currently thinking to re-write my programs in C++, since
> my program needs 2hrs in S-Plus on a 733MHz machine with 1GB RAM, and
> would take much longer in R.
> 
> Furthermore, it would also be great to have a GUI to work with in R, similar
> to S-Plus.

Um. S-PLUS only has a GUI on Windows.  When that first came out the
reesources it needed were too much for the computers most of us had at the
time. (I had a laptop with a maximum memory of 40Mb, and it needed 48Mb at
least to be happy.)  In my very limited experience TcL/Tk-based GUIs are
much less resource intensive than Java-based ones, and that's an issue.

> My first question is:
> Since S/R is a full featured language it would be great to have a native
> compiler, so that I could write stand-alone programs which profit from the
> full speed, and ability to handle large data-sets, of a stand-alone application.
> Wouldnt this be an option to consider?
> 
> Related to the first question and to the GUI question is my second point:
> It would be great if I could wrap some S/R code in a GUI, so that other
> people not knowing the language could use my programs.
> Do I understand it write that the bindings to Tcl/Tk offer just this possibility?

Yes.  On Windows you can also (now) program the GUI used for the port, in C
at negligible run-time cost.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cstrato at EUnet.at  Sat Jun 17 15:05:16 2000
From: cstrato at EUnet.at (cstrato@EUnet.at)
Date: Sat, 17 Jun 2000 14:05:16 +0100
Subject: [R] Re: R-1.1.0 is released : GUI
References: <Pine.WNT.4.05.10006151928440.193-100000@tern.stats> <394A95BE.5D377C84@EUnet.at> <394A9C26.899E3A1E@nceas.ucsb.edu>
Message-ID: <394B7762.51E2F950@EUnet.at>

Hi,

To make it simpler I want to thank in this mail all, who responded to my mail,
i.e. Timothy Keitt, Thomas Lumley, Peter Dalgaard and Prof. Brian Ripley.

Especially I want to thank Timothy Keitt for the links to OO-packages. It is
sometimes hard to find them. Links, which I currently use are:
    http://SAL.KachinaTech.COM/A/3/index.shtml
    http://www.kdnuggets.com/software/index.html

It seems clear to me now, that an R/S compiler would only help in certain cases.
One of the best features of R/S is vectorization, which  I use as often as possbile.
It is really fast.

The problems which I experience have mainly to do with lists and functions related to
lists such as lapply (lapply is not much faster than using a for-loop).
Sorrowly I have to use lists of 10,000 matrices (same ncols but different nrows) to
apply a function to all matrices. (In S-Plus for WinNT it takes even forever to open
S-Plus, when I open a file containing such a list)

Interestingly, there seems to be a discussion, whether to implement an R compiler.

Once again thanks to all who replied
Best regards
Christian Stratowa, Vienna, Austria


"Timothy H. Keitt" wrote:

> cstrato at EUnet.at wrote:
>
>
> > In my very personal opinion it would be great to have one of the
> > following two options:
> > a, a native R/S compiler
>
> This will not give you what you want for reasons outlined above.
>
> > b, an implementation of the R functionality as C++ classes.
>
> I am strongly in favor of this solution.  Model the existing data
> structures in the S/R language as abstract types (again my preference is
> C++), then use these as the computational engine under the interpreted R
> code.  There are some very good object oriented numerical packages
> available that could be used in specific implementations.  Take a look
> at:
>
>         http://www.acl.lanl.gov/pooma/
>         http://www.lsc.nd.edu/research/
>         http://sourceware.cygnus.com/gsl/
>
> My 2 cents...
>
> T.
>
> --
> Timothy H. Keitt
> National Center for Ecological Analysis and Synthesis
> 735 State Street, Suite 300, Santa Barbara, CA 93101
> Phone: 805-892-2519, FAX: 805-892-2510
> http://www.nceas.ucsb.edu/~keitt/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Sat Jun 17 14:41:57 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Sat, 17 Jun 2000 08:41:57 -0400
Subject: [R] Re: R-1.1.0 is released : GUI
References: <Pine.GSO.4.05.10006170711230.12526-100000@auk.stats>
Message-ID: <01f701bfd859$6d0c6100$0201a8c0@Workgroup>

This discussion is quite interesting. From the little I know of these issues
may I humbly suggest that parallelism may be the ultimate solution for the
problem of speed and data size. Again in my humble opinion I find R to be
quite a powerful and flexible solution as it is. Trying to make a Formula
one out of it will just be a lost of time and effort because the foundation
doesn't lend itself to these kind of improvements as some of you pointed
out. But if it where possible to enlist a bunch of computer at some large
and properly setup problem there would be virtually no limit to the kind of
problem one could tackle using it. These days you can get a few hundred
megahertz PC for practically pocket change. How much time and effort would
be required to improve R capabilities by a factor of 2 say? I think it would
be lots and lots. How much work would it be to give R parallelism I think it
could be a lot less. All together I think asking the core team to improve
the performance of R knowing that probably only very few would really
benefit is asking to much. I would be curious to know what it would involve
to provide R with parallelism enlisting PVM or other similar package?

My penny worth bit.

YG


----- Original Message -----
From: "Prof Brian D Ripley" <ripley at stats.ox.ac.uk>
To: <cstrato at eunet.at>
Cc: <r-help at stat.math.ethz.ch>
Sent: Saturday, June 17, 2000 2:22 AM
Subject: Re: [R] Re: R-1.1.0 is released : GUI


> On Fri, 16 Jun 2000 cstrato at eunet.at wrote:
>
> > Dear Prof Ripley, dear R developers
> >
> > I hope this mail does not upset any of the R developers, in which case
> > I apologize. There are some questions which I wanted to ask for some
time, but
> > did not do. However, the mail of Prof. Ripley regarding Java/Swing did
> > confuse me, so I decided to ask the questions now:
>
> Lots of others have already given a lot of insights.  My concern in my
> original posting was a practical one, having recently struggled for
> some days (and failed) to get a Java/Swing GUI to run. I was only talking
> about the GUI side.
>
> > I am using S-Plus and R for some time now and find it very elegant and
enjoy
> > programming in it. It simplifies coding so much and has so many
statistical
> > functions built in that it would be great to be able to write programs
completely
> > in R/S.
> >
> > However, I have two problems, which other people have also mentioned in
> > r-help a couple of times: I have very large datasets to work with and
thus I
> > need
> > i, the ability to handle large data sets, and
> > ii, speed, speed, speed.
> > For this reason I am currently thinking to re-write my programs in C++,
since
> > my program needs 2hrs in S-Plus on a 733MHz machine with 1GB RAM, and
> > would take much longer in R.
> >
> > Furthermore, it would also be great to have a GUI to work with in R,
similar
> > to S-Plus.
>
> Um. S-PLUS only has a GUI on Windows.  When that first came out the
> reesources it needed were too much for the computers most of us had at the
> time. (I had a laptop with a maximum memory of 40Mb, and it needed 48Mb at
> least to be happy.)  In my very limited experience TcL/Tk-based GUIs are
> much less resource intensive than Java-based ones, and that's an issue.
>
> > My first question is:
> > Since S/R is a full featured language it would be great to have a native
> > compiler, so that I could write stand-alone programs which profit from
the
> > full speed, and ability to handle large data-sets, of a stand-alone
application.
> > Wouldn?t this be an option to consider?
> >
> > Related to the first question and to the GUI question is my second
point:
> > It would be great if I could wrap some S/R code in a GUI, so that other
> > people not knowing the language could use my programs.
> > Do I understand it write that the bindings to Tcl/Tk offer just this
possibility?
>
> Yes.  On Windows you can also (now) program the GUI used for the port, in
C
> at negligible run-time cost.
>
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Jun 17 16:11:05 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Jun 2000 16:11:05 +0200
Subject: [R] Re: R-1.1.0 is released : GUI
In-Reply-To: "Yves Gauvreau"'s message of "Sat, 17 Jun 2000 08:41:57 -0400"
References: <Pine.GSO.4.05.10006170711230.12526-100000@auk.stats> <01f701bfd859$6d0c6100$0201a8c0@Workgroup>
Message-ID: <x2ln04v1mu.fsf@blueberry.kubism.ku.dk>

"Yves Gauvreau" <cyg at sympatico.ca> writes:


> How much time and effort would
> be required to improve R capabilities by a factor of 2 say? I think it would
> be lots and lots. How much work would it be to give R parallelism I think it
> could be a lot less. All together I think asking the core team to improve
> the performance of R knowing that probably only very few would really
> benefit is asking to much. I would be curious to know what it would involve
> to provide R with parallelism enlisting PVM or other similar package?

There are many levels of parallelism, not all of which are equally
easy to exploit. At the coarsest level, each machine does essentially
its own thing in a separate process. This is very easy to implement
and quite useful for e.g. simulations. For a somewhat more elaborate
version of this there is the Condor project at Wisconsin which allows
processes to be moved around between different CPUs - R has been tested
on this but I don't know how far they've got. 

At the finest level there's a potential for very highly optimized
algorithms for specific purposes like matrix inversion, sorting, and
differential equation solving. Even though they have been known to be
theoretically possible for ages, actual implementations seem to be
slow in coming. This probably has to do with hardware dependencies and
the transience of supercomputer architectures -- who wants to code for
a hypercube machine if it is going out of production in a year? Also,
massively parallel machines have been slow in approaching affordable
levels. Consequentially, those experimental architectures seem to be
on the way out with simpler systems coming in. In a way this is a
natural choice since it is the choice between running two jobs each at
double speed versus running them concurrently. (I'm a bit puzzled why
noone has come up with specific hardware cards for e.g.
O(n)-complexity sorting, though.) R probably has nothing contribute in
this area, but we can try to utilize optimized libraries as they
become available.

At an intermediate level, many things in R are parallelizable, e.g.
most of the apply()-style functions and scheduling these to separate
threads on multiprocessor machine could give potentially large
speedups. The possibility of running separate threads within R has
been on the wishlist also for other reasons (particularly for keeping
a GUI running during heavy computations). The synchronisation issues
and the corresponding language elements are not entirely trivial,
though.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Sat Jun 17 16:33:40 2000
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Sat, 17 Jun 2000 10:33:40 -0400 (EDT)
Subject: [R] Re: R-1.1.0 is released : GUI
Message-ID: <200006171433.KAA12320@jessie.research.bell-labs.com>

> From: "Yves Gauvreau" <cyg at sympatico.ca>
> References: <Pine.GSO.4.05.10006170711230.12526-100000 at auk.stats>
> Date: Sat, 17 Jun 2000 08:41:57 -0400
> Sender: owner-r-help at stat.math.ethz.ch
> Precedence: bulk
> 
> This discussion is quite interesting. From the little I know of these issues
> may I humbly suggest that parallelism may be the ultimate solution for the
> problem of speed and data size.
           ....
> I would be curious to know what it would involve
> to provide R with parallelism enlisting PVM or other similar package?
> 
> YG


I agree with you about the parallel approach and this is what we have
been building in the past year or two.

R, S and Omegahat have packages that allow them to 
 a) call methods in other applications, and
 b) allow other applications to call methods on R objects

This uses CORBA to handle the remote method invocations,
but the user is insulated from this for both a) and b)
as they need only use R/S functions.

The framework allows R to call an application like Gnumeric (the GNOME
spreadsheet), or xgobi.  However, it can also be used to have one R
session invoke methods in numerous others and do so as background
calls.  The way we intend it to be used is by having a collection of R
"slaves" running on different machines, and a single "master" that
dispatches individual tasks from a collection to the next idle R
server.

For example, to execute the command
  lapply(elements, foo)
one would create several R "slaves" which provided
a foo method (by calling the R function foo()).
Then the lapply() is decomposed into a collection of
tasks corresponding to each value in the elements object
and dispatched.


Since CORBA is language neutral, we actuall use a Java
application/Omegahat script to create the tasks and manage the task
dispatching. One very nice aspect of this is that if a machine
fails or "slave" dies, we catch this and reschedule the task 
it was currently working on.


There are definitely complexities here, but most
are data management issues.

This code has been in existence for quite some time and needs people
to bang on it.  It is available from http://www.omegahat.org.
(Note: We are just working out some conflicts with CORBA and
R's header files that we recently discovered.)


Before the CORBA packages, I did do some work with PVM/MPI and S. I
think it is too low-level and requires much more effort from the R/S
user as type definitions cannot be dynamically read as they are in
CORBA.


 Duncan.


-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan

      "Languages shape the way we think, and determine what 
       we can think about."        
                                      Benjamin Whorf
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brian_adams at jbadams.com  Sat Jun 17 14:10:19 2000
From: brian_adams at jbadams.com (brian_adams@jbadams.com)
Date: Sat, 17 Jun 2000 12:10:19 +0000 (UTC)
Subject: [R] Linear Programming
In-Reply-To: <394B7762.51E2F950@EUnet.at>
Message-ID: <Pine.LNX.4.10.10006171207340.3474-100000@localhost.localdomain>

Has anyone written a linear programming module for R?  I see that there is
an LP module for S-Plus, and was wondering if there is anything similar
for R.  Thanks.

Brian



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Sat Jun 17 18:26:12 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 17 Jun 2000 11:26:12 -0500
Subject: [R] Re: R-1.1.0 is released : GUI
In-Reply-To: Peter Dalgaard BSA's message of "17 Jun 2000 16:11:05 +0200"
References: <Pine.GSO.4.05.10006170711230.12526-100000@auk.stats> <01f701bfd859$6d0c6100$0201a8c0@Workgroup> <x2ln04v1mu.fsf@blueberry.kubism.ku.dk>
Message-ID: <6rbt102s0r.fsf@franz.stat.wisc.edu>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> "Yves Gauvreau" <cyg at sympatico.ca> writes:
> 
> 
> > How much time and effort would
> > be required to improve R capabilities by a factor of 2 say? I think it would
> > be lots and lots. How much work would it be to give R parallelism I think it
> > could be a lot less. All together I think asking the core team to improve
> > the performance of R knowing that probably only very few would really
> > benefit is asking to much. I would be curious to know what it would involve
> > to provide R with parallelism enlisting PVM or other similar package?
> 
> There are many levels of parallelism, not all of which are equally
> easy to exploit. At the coarsest level, each machine does essentially
> its own thing in a separate process. This is very easy to implement
> and quite useful for e.g. simulations. For a somewhat more elaborate
> version of this there is the Condor project at Wisconsin which allows
> processes to be moved around between different CPUs - R has been tested
> on this but I don't know how far they've got. 

The Condor project to which Peter refers is described at
                    http://www.cs.wisc.edu/condor/
It allows groups of computers to be used as a batch processing pool.  
The scheduling software is relatively sophisticated.  The user can
specify the resources required for the job, such as physical memory
requirements, and queue up a series of jobs that can be run anywhere
in the pool.

Condor supports different "universe"s.  The simplest, called
"vanilla", uses the regularly compiled version of the program but does
not allow checkpointing of the program.  If your program, say a long
simulation, has been running on a workstation for a day or two then
someone starts using that workstation interactively, the scheduler
must either suspend your job with the hope of later restarting it on
the same machine or throw away the accumulated work and restart the
job elsewhere.

By relinking the program against special versions of system libraries
one can run the program in condor's "standard" universe.  That allows
checkpointing and migration of a partially job from one machine to
another. 

Using R in the vanilla universe is trivial.  I have done some
experiments trying to link R-1.1.0 for the standard universe and met
with some success.  I did have a few problems with the regular
expressions library and have not had time to continue the experiment.

Condor is (apparently) freely available but not Open Source or GPL'd.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pecondon at quiknet.com  Sat Jun 17 20:19:29 2000
From: pecondon at quiknet.com (Paul Condon)
Date: Sat, 17 Jun 2000 11:19:29 -0700
Subject: [R] R and PostgreSQL
References: <200006171433.KAA12320@jessie.research.bell-labs.com>
Message-ID: <394BC130.53482417@quiknet.com>

I am a user of PostgreSQL. I'm interested in generating cross-tabulations of RDBMS
data. Cross-tabulations are not really possible within the RDBMS paradigm, but
they are part of the base tutorial stuff of R. I can move the data to R using a
copy command in Postgres and a the read.table() function in R. But is there a
better way? Can a system be set up using CORBA or ODBC that lets one access (and
preprocess) the data from within R? What are the limitations on data set size
within R?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Sat Jun 17 22:34:16 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Sun, 18 Jun 2000 08:34:16 +1200
Subject: [R] R-GUI 1.1.0
Message-ID: <394BE0C8.B1792BBD@xtra.co.nz>

Hi there,

I've just downloaded R 1.1.0 for Windows 98.  I don't know if some weird
problem occurred in the installation or it is some bug in the GUI
version, but somehow the "up-arrow" key does not work!  In other words,
if I type some commands, I cannot use the up-arrow key to browse the
previous commands typed (can do this in the previous R version)!

Thanks,


-------------- next part --------------
A non-text attachment was scrubbed...
Name: Ko-Kang.vcf
Type: text/x-vcard
Size: 289 bytes
Desc: Card for Ko-Kang Wang
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000618/705c94e2/Ko-Kang.vcf

From p.dalgaard at biostat.ku.dk  Sun Jun 18 00:26:47 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Jun 2000 00:26:47 +0200
Subject: [R] R and PostgreSQL
In-Reply-To: Paul Condon's message of "Sat, 17 Jun 2000 11:19:29 -0700"
References: <200006171433.KAA12320@jessie.research.bell-labs.com> <394BC130.53482417@quiknet.com>
Message-ID: <x2g0qcndug.fsf@blueberry.kubism.ku.dk>

Paul Condon <pecondon at quiknet.com> writes:

> I am a user of PostgreSQL. I'm interested in generating cross-tabulations of RDBMS
> data. Cross-tabulations are not really possible within the RDBMS paradigm, but
> they are part of the base tutorial stuff of R. I can move the data to R using a
> copy command in Postgres and a the read.table() function in R. But is there a
> better way? Can a system be set up using CORBA or ODBC that lets one access (and
> preprocess) the data from within R? What are the limitations on data set size
> within R?

There's a contributed package called RPgSQL sitting in

http://cran.r-project.org/src/contrib/Devel/RPgSQL_0.5-1.tar.gz

I've forgotten the reason why it is in the Devel section, but it does
some of the things you need. 

R is usually limited by the fact that it keeps entire datasets in
memory (see also ?Memory), but the RPgSQL package works around this so
that you need only store selected columns.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Jun 18 08:41:10 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 18 Jun 2000 07:41:10 +0100 (BST)
Subject: [R] R-GUI 1.1.0
In-Reply-To: <394BE0C8.B1792BBD@xtra.co.nz>
Message-ID: <Pine.GSO.4.05.10006180727430.26187-100000@auk.stats>

On Sun, 18 Jun 2000, Ko-Kang Wang wrote:

> Hi there,
> 
> I've just downloaded R 1.1.0 for Windows 98.  I don't know if some weird
> problem occurred in the installation or it is some bug in the GUI
> version, but somehow the "up-arrow" key does not work!  In other words,
> if I type some commands, I cannot use the up-arrow key to browse the
> previous commands typed (can do this in the previous R version)!

That is certainly not intentional, and it works here on the binaries
downloaded from CRAN (on 98 and NT).

There is very little we can do to help unless this is a common problem
and we can find the pattern.  All I can suggest is that you try compiling
from source and do some debugging on your own machine.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From keitt at nceas.ucsb.edu  Mon Jun 19 03:28:24 2000
From: keitt at nceas.ucsb.edu (Timothy H. Keitt)
Date: Sun, 18 Jun 2000 18:28:24 -0700
Subject: [R] R and PostgreSQL
References: <200006171433.KAA12320@jessie.research.bell-labs.com> <394BC130.53482417@quiknet.com> <x2g0qcndug.fsf@blueberry.kubism.ku.dk>
Message-ID: <394D7738.38A5A911@nceas.ucsb.edu>

A  slightly updated version can be found at http://rpgsql.sourceforge.com/  I think the
main reason its in devel is I still need to tweek the configure/install scripts.

T.

Peter Dalgaard BSA wrote:

> Paul Condon <pecondon at quiknet.com> writes:
>
> > I am a user of PostgreSQL. I'm interested in generating cross-tabulations of RDBMS
> > data. Cross-tabulations are not really possible within the RDBMS paradigm, but
> > they are part of the base tutorial stuff of R. I can move the data to R using a
> > copy command in Postgres and a the read.table() function in R. But is there a
> > better way? Can a system be set up using CORBA or ODBC that lets one access (and
> > preprocess) the data from within R? What are the limitations on data set size
> > within R?
>
> There's a contributed package called RPgSQL sitting in
>
> http://cran.r-project.org/src/contrib/Devel/RPgSQL_0.5-1.tar.gz
>
> I've forgotten the reason why it is in the Devel section, but it does
> some of the things you need.
>
> R is usually limited by the fact that it keeps entire datasets in
> memory (see also ?Memory), but the RPgSQL package works around this so
> that you need only store selected columns.
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
Timothy H. Keitt
National Center for Ecological Analysis and Synthesis
735 State Street, Suite 300, Santa Barbara, CA 93101
Phone: 805-892-2519, FAX: 805-892-2510
http://www.nceas.ucsb.edu/~keitt/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mahani at students.uiuc.edu  Mon Jun 19 04:00:16 2000
From: mahani at students.uiuc.edu (reza shahidzadeh mahani)
Date: Sun, 18 Jun 2000 21:00:16 -0500 (CDT)
Subject: [R] dyn.load error:
Message-ID: <Pine.GSO.4.10.10006182046060.8696-100000@ux11.cso.uiuc.edu>

Hi,
I have some S functions plus Fortran routines that I want to use in R.
They work in S, but when I try to use "dyn.load" to link fortran codes in 
R , I get the following error. 
thanks, reza

(I am using R-1.0.1 on windows NT, The name of fortran file (compiled
Ratfor) is deldirld.o and it's in the D:\Reza\476\tv.gonsrc.R\ directory)

>dyn.load("deldirld.o")
Error in dyn.load(x, as.logical(local), as.logical(now)) : 
        unable to load shared library
"D:\Reza\476\tv.gonsrc.R\deldirld.o":
  LoadLibrary failure
**************************************************************************
Reza S. Mahani                              e-mail:        mahani at uiuc.edu
Department of Economics                     phone(Office):  (217) 333-4581
University of Illinois at Urbana-Champaign  phone(Home):    (217) 384-0987   
330 comm. west, 1206 S. sixth st.           FAX:            (217) 244-6678
Champaign, IL 61820, USA                    www.students.uiuc.edu\~mahani


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From curtis.p.miller at monsanto.com  Mon Jun 19 04:37:10 2000
From: curtis.p.miller at monsanto.com (Curtis Miller)
Date: Sun, 18 Jun 2000 21:37:10 -0500
Subject: [R] Trying to compile R on Unix
Message-ID: <394D8756.496B@monsanto.com>

I have been trying to compile R.  I downloaded R-1.0.1.tgz(I think;
the original tar file was untarred) and unpacked it with gzip.  Now
all the R files are in a directory named R-1.0.1.  The source files
(.c) are in R-1.0.1/src.  There are files in R-1.0.1 named
'Makefile.in',
'Makeconf.in', and 'Makeconf'.  I followed the instructions in INSTALL
by typing './configure'.  Here is the output:

----------------------------------------------
pauling 1% ./configure
loading cache ./config.cache
checking host system type... mips-sgi-irix6.5
loading site script ./config.site
loading build specific script ./config.site
checking for mawk... no
checking for gawk... no
checking for nawk... nawk
checking for a BSD compatible install... tools/install-sh -c
configure: warning: redefining INSTALL to be
/usr/people/guest/R-1.0.1/tools/install-sh -c
checking whether ln -s works... yes
checking for ranlib... :
checking for bison... bison -y
checking for ar... ar
checking whether echo can suppress newlines... yes
checking for nroff... false
checking for tbl... false
checking for perl... /usr/sbin/perl
checking whether perl version is at least 5... yes
checking for dvips... false
checking for latex... false
checking for makeindex... false
checking for pdflatex... false
checking for makeinfo... no
configure: warning: you cannot build info versions of the R manuals
checking for unzip... no
checking for zip... no
checking for gcc... no
checking for cc... cc
checking whether the C compiler (cc  ) works... no
configure: error: installation or configuration problem: C compiler
cannot create executables.
----------------------------------------------

'configure' seems to work in a way.  The applications it didn't find
aren't on
this system, as far as I know.  I don't know why the C compiler couldn't
make
executables.  
  After typing './configure', I followed the instructions in INSTALL
again and
typed 'make -f Makefile.in'. Here are the results:

--------------------------------------------------------
pauling 3% make -f Makefile.in
make: file `./Makeconf' line 61: Must be a separator (: or ::) for rules
(bu39)
make: file `./Makeconf' line 64: Must be a separator (: or ::) for rules
(bu39)
--------------------------------------------

Here is 'Makeconf':

-------------------------
pauling 4% cat Makeconf
PACKAGE = @PACKAGE@
VERSION = @VERSION@

AR = @AR@
AWK = @AWK@
BLAS = @BLAS@
CC = @CC@
CFLAGS = @CFLAGS@
CPICFLAGS = @CPICFLAGS@
CPPFLAGS = @CPPFLAGS@
DEFS = @DEFS@
DLLFLAGS = @DLLFLAGS@
DVIPS = @DVIPS@
FC = @FC@
FFLAGS = @FFLAGS@
FLIBS = @FLIBS@
FPICFLAGS = @FPICFLAGS@
F2C = @F2C@
F2CFLAGS = @F2CFLAGS@
GNOMEUI_LIBS = @GNOMEUI_LIBS@
GNOME_LIBDIR = @GNOME_LIBDIR@
GNOME_INCLUDEDIR = @GNOME_INCLUDEDIR@
INSTALL = @INSTALL@
INSTALL_DATA = @INSTALL_DATA@
INSTALL_PROGRAM = @INSTALL_PROGRAM@
INSTALL_DIR = ${INSTALL} -d
LATEX = @LATEX@
LDCMD = @LDCMD@
LDFLAGS = @LDFLAGS@
LIBGLADE_CFLAGS = @LIBGLADE_CFLAGS@
LIBGLADE_LIBS = @LIBGLADE_LIBS@
LIBS = @LIBS@
LN_S = @LN_S@
MAKEINDEX = @MAKEINDEX@
MKINSTALLDIRS = $(top_srcdir)/tools/mkinstalldirs
R_PKGS = base ctest eda lqs modreg mva nls splines stepfun ts
R_XTRA_CFLAGS = @R_XTRA_CFLAGS@
R_XTRA_CPPFLAGS = -I. -I../include -I$(top_srcdir)/src/include
-I$(top_srcdir)/src/include/R_ext
R_XTRA_FFLAGS = @R_XTRA_FFLAGS@
R_XTRA_LIBS = @R_XTRA_LIBS@
RANLIB = @RANLIB@
SHELL = /bin/sh
SHLIBEXT = @SHLIBEXT@
SHLIBLD = @SHLIBLD@
SHLIBLDFLAGS = @SHLIBLDFLAGS@
TAR = @TAR@
X_CFLAGS = @X_CFLAGS@
X_LIBS = @X_LIBS@
X_PRE_LIBS = @X_PRE_LIBS@
X_EXTRA_LIBS = @X_EXTRA_LIBS@
YACC = @YACC@

ALL_CFLAGS = $(R_XTRA_CFLAGS) $(CFLAGS)
ALL_CPPFLAGS = $(R_XTRA_CPPFLAGS) $(CPPFLAGS) $(DEFS)
ALL_FFLAGS = $(R_XTRA_FFLAGS) $(FFLAGS)

.SUFFIXES:
.SUFFIXES: .c .f .d .o

@depend_rules_frag@
.c.o:
        $(CC) $(ALL_CPPFLAGS) $(ALL_CFLAGS) -c $< -o $@
@f77_rules_frag@

prefix = @prefix@
exec_prefix = @exec_prefix@
bindir = @bindir@
datadir = @datadir@
libdir = @libdir@
mandir = @mandir@

rhome = @libdir@/R
----------------------------------------

The system here is IRIX 6.5, on a Silicon Graphics workstation.  The
'env'
file has SHELL=/bin/csh.  The 'make' may not be GNU make.  
  I don't know how to compile all the source files in the R directory
into 
a working version of R.  I may just not be giving the right commands to
'make', or not have the right version of 'make'.  If GNU make is needed,
I can get the tar file and unpack it, but may not be able to compile
that 
either.
	Curtis Miller


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 19 07:51:56 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 19 Jun 2000 06:51:56 +0100 (BST)
Subject: [R] dyn.load error:
In-Reply-To: <Pine.GSO.4.10.10006182046060.8696-100000@ux11.cso.uiuc.edu>
Message-ID: <Pine.GSO.4.05.10006190639220.13194-100000@auk.stats>

On Sun, 18 Jun 2000, reza shahidzadeh mahani wrote:

> Hi,
> I have some S functions plus Fortran routines that I want to use in R.
> They work in S, but when I try to use "dyn.load" to link fortran codes in 
> R , I get the following error. 
> thanks, reza
> 
> (I am using R-1.0.1 on windows NT, The name of fortran file (compiled
> Ratfor) is deldirld.o and it's in the D:\Reza\476\tv.gonsrc.R\ directory)
> 
> >dyn.load("deldirld.o")
> Error in dyn.load(x, as.logical(local), as.logical(now)) : 
>         unable to load shared library
> "D:\Reza\476\tv.gonsrc.R\deldirld.o":
>   LoadLibrary failure

Oh dear!  How did you get "deldirld.o" and where did you get the idea you
can dyn.load .o files on R for Windows?  (You can't do that on S-PLUS for
Windows either, so I have no idea how they `work in S'.)  If you look at
help(dyn.load) in R it says

Arguments:

 libname: a character string giving the pathname to a DLL.


Normally if you try something like this on NT you get a dialog box
giving further information, and rw1010 is intended to get the maximal
information out of Windows.

What you need for dyn.load is a DLL, specifically a 32-bit relocatable
DLL with all dependent DLLs in the load path (the directory from which the
DLL is loaded plus the PATH setting).  So you need to go back to your
compiler manuals and work out to make such a DLL.   If you are using 
the mingw32 version of g77 as recommended for building packages, the
simplest way is to set up a minimal package sources  and run

make pkg-mypkg

Since the availability of tools has changed since rw1001, we suggest you
get rw1010 and work with that.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Mon Jun 19 08:44:36 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Mon, 19 Jun 2000 08:44:36 +0200
Subject: [R] dyn.load error:
In-Reply-To: <Pine.GSO.4.10.10006182046060.8696-100000@ux11.cso.uiuc.edu>; from mahani@students.uiuc.edu on Sun, Jun 18, 2000 at 09:00:16PM -0500
References: <Pine.GSO.4.10.10006182046060.8696-100000@ux11.cso.uiuc.edu>
Message-ID: <20000619084436.A19768@sirio.stat.unipd.it>

On Sun, Jun 18, 2000 at 09:00:16PM -0500, reza shahidzadeh mahani wrote:
> (I am using R-1.0.1 on windows NT, The name of fortran file (compiled
> Ratfor) is deldirld.o and it's in the D:\Reza\476\tv.gonsrc.R\ directory)
> 
> >dyn.load("deldirld.o")
> Error in dyn.load(x, as.logical(local), as.logical(now)) : 
>         unable to load shared library
> "D:\Reza\476\tv.gonsrc.R\deldirld.o":
>   LoadLibrary failure


  R can only load dynamic link library (dll) not object file.
  Hence, look to your compiler manual on how you can generate
  a dll. More details, including instruction for mingw, VC++ and
  Borland C++ are in the README.PACKAGES file included in 
  the rwXXXXsp.zip bit of the binary distribution.

  guido 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Gary.Collins at bgtechnology.com  Mon Jun 19 09:09:18 2000
From: Gary.Collins at bgtechnology.com (Collins, Gary)
Date: Mon, 19 Jun 2000 08:09:18 +0100
Subject: [R] R-GUI 1.1.0
Message-ID: <FD005144E0A3D3119FD600508B6F3EB6028EA3B8@BGTEXCL1>

>>Message-ID:
<Pine.GSO.4.05.10006180727430.26187-100000 at auk.stats>
>>
>>On Sun, 18 Jun 2000, Ko-Kang Wang wrote: 
>>
>>
>> Hi there, 
>> 
> I've just downloaded R 1.1.0 for Windows 98. I don't know
if some weird 
>> problem occurred in the installation or it is some bug in
the GUI 
>> version, but somehow the "up-arrow" key does not work! In
other words, 
>> if I type some commands, I cannot use the up-arrow key to
browse the 
>> previous commands typed (can do this in the previous R
version)! 


>That is certainly not intentional, and it works here on the
binaries 
>downloaded from CRAN (on 98 and NT). 


>There is very little we can do to help unless this is a
common problem 
>and we can find the pattern. All I can suggest is that you
try compiling 
>from source and do some debugging on your own machine. 
>
>-- 
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,
http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861
(self)
>1 South Parks Road,                     +44 1865 272860
(secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
I think there must be a little bug in the latest version as I
too have had same problem after installing the latest R-1.1.0
on windows NT this morning. The problem only occurs in the
GUI version and not in the text-only windows version. Can
anything be done about this?

Thanks.

Gary.

This e-mail is intended only for the addressee named above.
As this e-mail may contain confidential or privileged
information if you are not the named addressee or the person
responsible for delivering the message to the named addressee
please advise us immediately. The contents should not be
disclosed to any other person nor copies taken.

BG Technology Limited is part of the BG Group, registered in
England & Wales
No. 3294136 Registered Office 100 Thames Valley Park Drive,
Reading, Berkshire RG6 1PT
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stecalza at tin.it  Mon Jun 19 09:28:01 2000
From: stecalza at tin.it (Stefano Calza)
Date: Mon, 19 Jun 2000 09:28:01 +0200
Subject: [R] R and PostgreSQL
References: <200006171433.KAA12320@jessie.research.bell-labs.com> <394BC130.53482417@quiknet.com> <x2g0qcndug.fsf@blueberry.kubism.ku.dk> <394D7738.38A5A911@nceas.ucsb.edu>
Message-ID: <394DCB81.21C3C055@tin.it>

Timothy H. Keitt wrote:
> 
> A  slightly updated version can be found at http://rpgsql.sourceforge.com/

The right URL is http://rpgsql.sourceforge.net/

Stefano.

-- 
***********************************************
Stefano Calza
Istituto di Statistica Medica e Biometria
Universit? degli Studi di Milano
Via G. Venezian, 1
20133 Milano

tel. +39 02/2361302, 02/70600908
fax 02/2362930
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vaddona at netscape.net  Sat Jun 17 13:52:20 2000
From: vaddona at netscape.net (Vittorio Addona)
Date: 17 Jun 00 04:52:20 PDT
Subject: [R] solving an integral equation
Message-ID: <20000617115221.4117.qmail@www0w.netaddress.usa.net>

Hello, my question is the following:  I want to solve the equation

integral (lower = 0,upper = m) of  f(t)dt = 0.5  for m

i.e. the median of some density.  The density is a Generalized Gamma, so I
can't simply use 'q...'  to find the median, and the integral is not known in
closed form.  Is R capable of doing this, or is it better to use something
like Maple?  Thank you very much.

____________________________________________________________________
Get your own FREE, personal Netscape WebMail account today at http://webmail.netscape.com.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Jun 19 10:14:26 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 19 Jun 2000 10:14:26 +0200
Subject: [R] R-GUI 1.1.0
References: <FD005144E0A3D3119FD600508B6F3EB6028EA3B8@BGTEXCL1>
Message-ID: <394DD662.9507545A@statistik.uni-dortmund.de>

> I think there must be a little bug in the latest version as I
> too have had same problem after installing the latest R-1.1.0
> on windows NT this morning. The problem only occurs in the
> GUI version and not in the text-only windows version. Can
> anything be done about this?

Hm. Works fine here on NT4.0, SP6.

Try to start R with --vanilla and in "clean" working directory ...


Regards,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Jun 19 10:45:48 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 19 Jun 2000 10:45:48 +0200
Subject: [R] R-GUI 1.1.0
References: <FD005144E0A3D3119FD600508B6F3EB6028EA3C0@BGTEXCL1>
Message-ID: <394DDDBC.2753844F@statistik.uni-dortmund.de>

> > Try to start R with --vanilla and in "clean" working directory ...
> 
> Thanks that works perfectly.

So you have got a problem with an old .Rprofile or .Rdata or another
file you have got in your working environment. 
Could you tell us which file causes the problem? That could help other
people too.

Regards,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jun 19 10:56:31 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Jun 2000 10:56:31 +0200
Subject: [R] Trying to compile R on Unix
In-Reply-To: Curtis Miller's message of "Sun, 18 Jun 2000 21:37:10 -0500"
References: <394D8756.496B@monsanto.com>
Message-ID: <x27lbmnj5s.fsf@blueberry.kubism.ku.dk>

Curtis Miller <curtis.p.miller at monsanto.com> writes:

> I have been trying to compile R.  I downloaded R-1.0.1.tgz(I think;
> the original tar file was untarred) and unpacked it with gzip.  Now
> all the R files are in a directory named R-1.0.1.  The source files
> (.c) are in R-1.0.1/src.  There are files in R-1.0.1 named
> 'Makefile.in',
> 'Makeconf.in', and 'Makeconf'.  I followed the instructions in INSTALL
> by typing './configure'.  Here is the output:
> 
> ----------------------------------------------
> pauling 1% ./configure
> loading cache ./config.cache
> checking host system type... mips-sgi-irix6.5
> loading site script ./config.site
> loading build specific script ./config.site
> checking for mawk... no
> checking for gawk... no
> checking for nawk... nawk
> checking for a BSD compatible install... tools/install-sh -c
> configure: warning: redefining INSTALL to be
...
> checking for cc... cc
> checking whether the C compiler (cc  ) works... no
> configure: error: installation or configuration problem: C compiler
> cannot create executables.
> ----------------------------------------------
> 
> 'configure' seems to work in a way.  The applications it didn't find
> aren't on
> this system, as far as I know.  I don't know why the C compiler couldn't
> make
> executables.  

Well, find out then... Have a look at the config.log file and see what
is happening. Configure is trying to compile a small test program and
failing. If the C compiler doesn't work, you can't do anything.

>   After typing './configure', I followed the instructions in INSTALL
> again and
> typed 'make -f Makefile.in'. Here are the results:

That will never work. Makefile.in is a template for the real Makefile,
which will get built once configure succeeds.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 19 10:47:55 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 19 Jun 2000 09:47:55 +0100 (BST)
Subject: [R] R-GUI 1.1.0
In-Reply-To: <394DD662.9507545A@statistik.uni-dortmund.de>
Message-ID: <Pine.GSO.4.05.10006190934010.9805-100000@auk.stats>

On Mon, 19 Jun 2000, Uwe Ligges wrote:

> > I think there must be a little bug in the latest version as I
> > too have had same problem after installing the latest R-1.1.0
> > on windows NT this morning. The problem only occurs in the
> > GUI version and not in the text-only windows version. Can
> > anything be done about this?
> 
> Hm. Works fine here on NT4.0, SP6.
> 
> Try to start R with --vanilla and in "clean" working directory ...

Certainly worth a try.  Last time this sort of thing happened (printing
failed on a few systems) the bug was not in R but in other software
installed on the system, which can make this almost impossible to
reproduce.

Let me repeat what I originally said could be done:

> All I can suggest is that you try compiling 
> from source and do some debugging on your own machine. 

Apart from that, please provide as much information as possible. Do the
other arrow keys work?  Does Ctrl+P work?  (If so, that's your solution.)
Do PgUp, PgDn, Home, End work?

I can see nothing that has changed since rw1001 in this area, except
the compilers used (and hence the header files used).  There are no
problems on any of our several test systems.

I am not sure the rest of R-help wants to know all the details, so please
send the detailed information to Guido cc me.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From etptupaf at bs.ehu.es  Mon Jun 19 10:57:51 2000
From: etptupaf at bs.ehu.es (F.Tusell)
Date: Mon, 19 Jun 2000 10:57:51 +0200
Subject: [R] Problem compiling R-1.1.0
Message-ID: <200006190857.KAA06689@agesi.bs.ehu.es>


I just downloaded R-1.1.0.tgz and attempted installation as usual with

        ./configure
        ./make

Everything run fine until I hit the following error:

gcc -I. -I../../../src/include -I../../../src/include -I../../../src/include/R_ext -I/usr/X11R6/include -I/usr/local/include -DHAVE_CONFIG_H -mieee-fp -D__NO_MATH_INLINES -fPIC  -g -O2 -c rbitmap.c -o rbitmap.o
rbitmap.c:239: parse error before `jmp_buf'
rbitmap.c:239: warning: no semicolon at end of struct or union
rbitmap.c: In function `my_error_exit':
rbitmap.c:257: dereferencing pointer to incomplete type
rbitmap.c: In function `R_SaveAsJpeg':
rbitmap.c:279: storage size of `jerr' isn't known
make[5]: *** [rbitmap.o] Error 1
make[5]: Leaving directory `/home/etptupaf/R-1.1.0/src/unix/X11'
make[4]: *** [R] Error 2
make[4]: Leaving directory `/home/etptupaf/R-1.1.0/src/unix/X11'
make[3]: *** [DLLs] Error 1
make[3]: Leaving directory `/home/etptupaf/R-1.1.0/src/unix'
make[2]: *** [R] Error 2
make[2]: Leaving directory `/home/etptupaf/R-1.1.0/src/main'
make[1]: *** [R] Error 1
make[1]: Leaving directory `/home/etptupaf/R-1.1.0/src'
make: *** [R] Error 1


If that matters, I am running Linux Debian 2.2 (kernel 2.2.13) in a
Pentium machine with 64Mb. cc -v reports:

   Reading specs from /usr/lib/gcc-lib/i386-linux/2.95.2/specs
   gcc version 2.95.2 20000313 (Debian GNU/Linux)

I have always been able to compile without a hitch since version 0.90
at least. Please advice me if the problem is with the sources or with 
my setup.


ft.





-- 
Fernando TUSELL                                 e-mail:
Departamento de Econometr?a y Estad?stica           etptupaf at bs.ehu.es 
Facultad de CC.EE. y Empresariales              Tel:  (+34)94.601.3733
Avenida Lendakari Aguirre, 83                   Fax:  (+34)94.601.3754
E-48015 BILBAO  (Spain)                         Secr: (+34)94.601.3740
PGP: finger etptupaf at bsdx01.bs.ehu.es           http://agesi.bs.ehu.es
----------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Mon Jun 19 11:34:05 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Mon, 19 Jun 2000 21:34:05 +1200
Subject: [R] R-GUI 1.1.0
References: <FD005144E0A3D3119FD600508B6F3EB6028EA3B8@BGTEXCL1>
Message-ID: <002001bfd9d1$8378fd80$c09637d2@id>

Try delete/uninstall THEN install it again.  That's what I tried and it
worked...but I did [physically] deleted the whole R1.1.0 (i.e. C:\rw1010\)
before I reinstall.

If it doesn't work maybe re-downloading it?  I don't know....

Cheers,

Ko-Kang

----- Original Message -----
From: "Collins, Gary" <Gary.Collins at bgtechnology.com>
To: "'r-help at lists.R-project.org'" <r-help at stat.math.ethz.ch>
Sent: Monday, June 19, 2000 7:09 PM
Subject: Re: [R] R-GUI 1.1.0


> >>Message-ID:
> <Pine.GSO.4.05.10006180727430.26187-100000 at auk.stats>
> >>
> >>On Sun, 18 Jun 2000, Ko-Kang Wang wrote:
> >>
> >>
> >> Hi there,
> >>
> > I've just downloaded R 1.1.0 for Windows 98. I don't know
> if some weird
> >> problem occurred in the installation or it is some bug in
> the GUI
> >> version, but somehow the "up-arrow" key does not work! In
> other words,
> >> if I type some commands, I cannot use the up-arrow key to
> browse the
> >> previous commands typed (can do this in the previous R
> version)!
>
>
> >That is certainly not intentional, and it works here on the
> binaries
> >downloaded from CRAN (on 98 and NT).
>
>
> >There is very little we can do to help unless this is a
> common problem
> >and we can find the pattern. All I can suggest is that you
> try compiling
> >from source and do some debugging on your own machine.
> >
> >--
> >Brian D. Ripley,                  ripley at stats.ox.ac.uk
> >Professor of Applied Statistics,
> http://www.stats.ox.ac.uk/~ripley/
> >University of Oxford,             Tel:  +44 1865 272861
> (self)
> >1 South Parks Road,                     +44 1865 272860
> (secr)
> >Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
> I think there must be a little bug in the latest version as I
> too have had same problem after installing the latest R-1.1.0
> on windows NT this morning. The problem only occurs in the
> GUI version and not in the text-only windows version. Can
> anything be done about this?
>
> Thanks.
>
> Gary.
>
> This e-mail is intended only for the addressee named above.
> As this e-mail may contain confidential or privileged
> information if you are not the named addressee or the person
> responsible for delivering the message to the named addressee
> please advise us immediately. The contents should not be
> disclosed to any other person nor copies taken.
>
> BG Technology Limited is part of the BG Group, registered in
> England & Wales
> No. 3294136 Registered Office 100 Thames Valley Park Drive,
> Reading, Berkshire RG6 1PT
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 19 11:42:42 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 19 Jun 2000 10:42:42 +0100 (BST)
Subject: [R] Up-arrow on rw1010
Message-ID: <Pine.GSO.4.05.10006191024450.9871-100000@auk.stats>

A quick summary.  The reported problem appears to be with (some) previous
histories. If you find that neither up arrow nor ctrl-P work in the Rgui
console, please delete .Rhistory and try again.

We don't know the exact cause, and nothing I can think of can reproduce
this. I have no problem taking histories made with rw1001 and reading them
in rw1010 and vice versa.

If the .Rhistory is really important, you could try reading it into an
editor and adding a couple of blank lines at the end.  Or you can save it
under another name, display it in a pager and submits lines from there.


Uwe Ligges made a very good point: please try starting R with --vanilla
before reporting problems.  Many reports have boiled down to problems
with saved .RData or .Rhistory files.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 19 11:51:59 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 19 Jun 2000 10:51:59 +0100 (BST)
Subject: [R] Problem compiling R-1.1.0
In-Reply-To: <200006190857.KAA06689@agesi.bs.ehu.es>
Message-ID: <Pine.GSO.4.05.10006191048260.9871-100000@auk.stats>

On Mon, 19 Jun 2000, F.Tusell wrote:

> 
> I just downloaded R-1.1.0.tgz and attempted installation as usual with
> 
>         ./configure
>         ./make
> 
> Everything run fine until I hit the following error:
> 
> gcc -I. -I../../../src/include -I../../../src/include -I../../../src/include/R_ext -I/usr/X11R6/include -I/usr/local/include -DHAVE_CONFIG_H -mieee-fp -D__NO_MATH_INLINES -fPIC  -g -O2 -c rbitmap.c -o rbitmap.o
> rbitmap.c:239: parse error before `jmp_buf'
> rbitmap.c:239: warning: no semicolon at end of struct or union
> rbitmap.c: In function `my_error_exit':
> rbitmap.c:257: dereferencing pointer to incomplete type
> rbitmap.c: In function `R_SaveAsJpeg':
> rbitmap.c:279: storage size of `jerr' isn't known
> make[5]: *** [rbitmap.o] Error 1
> make[5]: Leaving directory `/home/etptupaf/R-1.1.0/src/unix/X11'
> make[4]: *** [R] Error 2
> make[4]: Leaving directory `/home/etptupaf/R-1.1.0/src/unix/X11'
> make[3]: *** [DLLs] Error 1
> make[3]: Leaving directory `/home/etptupaf/R-1.1.0/src/unix'
> make[2]: *** [R] Error 2
> make[2]: Leaving directory `/home/etptupaf/R-1.1.0/src/main'
> make[1]: *** [R] Error 1
> make[1]: Leaving directory `/home/etptupaf/R-1.1.0/src'
> make: *** [R] Error 1
> 
> 
> If that matters, I am running Linux Debian 2.2 (kernel 2.2.13) in a
> Pentium machine with 64Mb. cc -v reports:
> 
>    Reading specs from /usr/lib/gcc-lib/i386-linux/2.95.2/specs
>    gcc version 2.95.2 20000313 (Debian GNU/Linux)
> 
> I have always been able to compile without a hitch since version 0.90
> at least. Please advice me if the problem is with the sources or with 
> my setup.

Your setup, I think. jpeg_error_mgr is defined in jpeglib.h, which
rbitmap.c includes.  You can either undef HAVE_JPEG in src/include/config.h
or track down the problem with jpeglib.h, which might be a (very) old
version.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Mon Jun 19 12:44:12 2000
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Mon, 19 Jun 2000 06:44:12 -0400 (EDT)
Subject: [R] Notes on R for psychology experiments and questionnaires
Message-ID: <200006191044.GAA24511@cattell.psych.upenn.edu>

We now have a draft of:

Notes on the use of R for psychology experiments and
questionnaires
by
Jonathan Baron and Yuelin Li
at
http://www.psych.upenn.edu/~baron/rpsych.htm
and
http://www.psych.upenn.edu/~baron/rpsych.pdf
and
http://www.psych.upenn.edu/~baron/rpsych.tex 

It is intended for students and others who are doing research in
psychology.  What makes it "for psychology" is that it tries to
cover the major statistical methods that psychologists use
(particularly those who study humans).  We are most interested in
hearing about topics we have omitted.  Of the ones included, we
realize that some of them are treated too briefly, and we plan to
make further revisions.  Of course, any and all suggestions are
appreciated.  Because we are continuing to revise, if you
comment, please refer to the version date.


Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~jbaron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Mon Jun 19 16:46:05 2000
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Mon, 19 Jun 2000 16:46:05 +0200 (MEST)
Subject: [R] Compiling error
In-Reply-To: <Pine.GSO.4.05.10006040622440.25617-100000@auk.stats>
Message-ID: <XFMail.000619164605.theis@statistik.uni-dortmund.de>

Dear R-Users,

I just tried to compile R 1.1.0 on SuSE-Linux 6.3 (K6-II 366,64MB) but after
configuring without any problems I got the following error:

gcc -I. -I../../src/include -I../../src/include -I../../src/include/R_ext
-I/usr/local/include -DHAVE_CONFIG_H -mieee-fp -D__NO_MATH_INLINES  -O2 -c
pnorm.c -o pnorm.o
pnorm.c: In function `Rf_pnorm5':
pnorm.c:62: `ML_ERR_return_NAN' undeclared (first use in this function)
pnorm.c:62: (Each undeclared identifier is reported only once
pnorm.c:62: for each function it appears in.)
pnorm.c:66: `ML_NAN' undeclared (first use in this function)
pnorm.c:67: `ML_NEGINF' undeclared (first use in this function)
make[3]: *** [pnorm.o] Error 1
make[3]: Leaving directory `/usr/src/packages/R-release/src/nmath'
make[2]: *** [R] Error 2
make[2]: Leaving directory `/usr/src/packages/R-release/src/nmath'
make[1]: *** [R] Error 1
make[1]: Leaving directory `/usr/src/packages/R-release/src'
make: *** [R] Error 1

I attach the config.log so you may be able to see if there is something missing
which is important. (For some reason I didn't install info but I haven't missed
it so far as well as tcl/tk and gnome...)

Any ideas what is going wrong here? A colleague did succeed to compile without
problems on a similar system...

Regards,

Winfried Theis
----------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 19-Jun-00
Tel.: +49-231-755-5903                  Room: Mathematikgebude, M832
Dipl.-Math. Winfried Theis, Graduiertenkolleg "Angewandte Statistik",
Universitt Dortmund, 44221 Dortmund
----------------------------------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: config.log
Type: application/octet-stream
Size: 21475 bytes
Desc: config.log
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000619/385afe21/config.obj

From glpal74 at hotmail.com  Mon Jun 19 16:36:55 2000
From: glpal74 at hotmail.com (GL PAL)
Date: Mon, 19 Jun 2000 07:36:55 PDT
Subject: [R] Request info about taxometrics procedures
Message-ID: <20000619143655.54259.qmail@hotmail.com>




>>Dear DRs ,
>>we have been impressed by your work .
>>we decided to contact you asking some help for our research purpouses: 
>>about
>>the application of MAXCOV/HITAMAX method to clinical analysis data.
>>We found the great program Rgui.exe, but we had some problemes in running 
>>it.  our procedure was the following:
>>
>>>source("C:/taxon/Workshop/RTaxometrics/Taxometric Programs.R")
>>>ls()
>>[1] "allmax.prg"   "allmaxb.prg"  "allmaxc.prg"  "comb.prg"
>>"factanal.prg"
>>[6] "get.taxdata"  "lmode.prg"    "mambac.prg"   "maxeig.prg"   
>>"monte.prg"
>>[11] "scormax.prg"  "som.prg"
>>>  dati_test<-read.table("C:/dati/prova.txt")
>>>member.prbs<-MAXCOV.prg(dati_test)
>>[1] "Please type a filename (do not use quotes) for the MaxCov output"
>>c:/maxcov.out
>>Indicators 1  3  &  2
>>Error in if (ystats[6] > 1) { : missing value where logical needed
>>
>>what is wrong?
>>
>>then another error occurred :
>>
>>>source("C:/taxon/Workshop/RTaxometrics/Taxometric Programs.R")
>>>ls()
>>[1] "allmax.prg"   "allmaxb.prg"  "allmaxc.prg"  "comb.prg"     "dati"
>>[6] "factanal.prg" "get.taxdata"  "lmode.prg"    "mambac.prg"   
>>"maxeig.prg"
>>[11] "member.prbs"  "monte.prg"    "scormax.prg"  "som.prg"      "test"
>>>dati_test<-read.table("A:/dati/prova2.txt")
>>>dati_test<-matrix(scan("a:/dati/prova2.txt",skip=1),ncol=9,byrow=T)
>>Read 7210 items
>>Warning message:
>>Replacement length not a multiple of the elements to replace in 
>>matrix(...)
>>>member.prbs<-allmax.prg(dati_test)
>>[1] "Please type a filename (do not use quotes) for the MaxCov output"
>>c:/polka
>>Indicators 1  3  &  2
>>
>>Hitmax at boundary
>>
>>Hitmax (for standardized indicator) =  NA
>>P =  NA
>>Indicators 1  4  &  2
>>
>>Hitmax at boundary
>>
>>Hitmax (for standardized indicator) =  NA
>>P =  NA
>>Indicators 1  4  &  3
>>[.............]
>>Hitmax (for standardized indicator) =  NA
>>P =  NA
>>Indicators 9  8  &  7
>>
>>Hitmax at boundary
>>
>>Hitmax (for standardized indicator) =  NA
>>P =  NA
>>Error in as.matrix.data.frame(x) : length of dimnames[2] not equal to
>>array extent
>>
>>>what is wrong?
>>
>>Thank you very much for your patient and for your kindness.best regards.
>>
>>Gian Luca Palermo
>>

p.s.:I attached some data to let you understand if the mistake is in how the 
data are structured( e.g. there are 9 columns instead of 4; variable 
parameter are different,etc.) .In the first example there are 9 variable; in 
the second , I compressed them in 4.

________________________________________________________________________
Get Your Private, Free E-mail from MSN Hotmail at http://www.hotmail.com
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Sperem4.txt
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20000619/ecc2068b/Sperem4.txt
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: provaxRpdq.txt
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20000619/ecc2068b/provaxRpdq.txt
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: provaxRpdq0.txt
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20000619/ecc2068b/provaxRpdq0.txt

From p.dalgaard at biostat.ku.dk  Mon Jun 19 16:45:57 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Jun 2000 16:45:57 +0200
Subject: [R] Compiling error
In-Reply-To: Winfried Theis's message of "Mon, 19 Jun 2000 16:46:05 +0200 (MEST)"
References: <XFMail.000619164605.theis@statistik.uni-dortmund.de>
Message-ID: <x2hfapn2ze.fsf@blueberry.kubism.ku.dk>

Winfried Theis <theis at statistik.uni-dortmund.de> writes:

> This message is in MIME format
> --_=XFMail.1.4.0.Linux:000619164605:246=_
> Content-Type: text/plain; charset=us-ascii
> 
> Dear R-Users,
> 
> I just tried to compile R 1.1.0 on SuSE-Linux 6.3 (K6-II 366,64MB) but after
> configuring without any problems I got the following error:
> 
> gcc -I. -I../../src/include -I../../src/include -I../../src/include/R_ext
> -I/usr/local/include -DHAVE_CONFIG_H -mieee-fp -D__NO_MATH_INLINES  -O2 -c
> pnorm.c -o pnorm.o
> pnorm.c: In function `Rf_pnorm5':
> pnorm.c:62: `ML_ERR_return_NAN' undeclared (first use in this function)
> pnorm.c:62: (Each undeclared identifier is reported only once
> pnorm.c:62: for each function it appears in.)
> pnorm.c:66: `ML_NAN' undeclared (first use in this function)
> pnorm.c:67: `ML_NEGINF' undeclared (first use in this function)

Odd. pnorm.c has 

#include "nmath.h"
 
which ought to define those items, unless MATHLIB_PRIVATE_H is
defined which it is not. This happens with a clean build?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Mon Jun 19 18:48:10 2000
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Mon, 19 Jun 2000 18:48:10 +0200 (MEST)
Subject: [R] Compiling error
In-Reply-To: <x2hfapn2ze.fsf@blueberry.kubism.ku.dk>
Message-ID: <XFMail.000619184810.theis@statistik.uni-dortmund.de>


On 19-Jun-00 Peter Dalgaard BSA wrote:
> Winfried Theis <theis at statistik.uni-dortmund.de> writes:
>> gcc -I. -I../../src/include -I../../src/include -I../../src/include/R_ext
>> -I/usr/local/include -DHAVE_CONFIG_H -mieee-fp -D__NO_MATH_INLINES  -O2 -c
>> pnorm.c -o pnorm.o
>> pnorm.c: In function `Rf_pnorm5':
>> pnorm.c:62: `ML_ERR_return_NAN' undeclared (first use in this function)
>> pnorm.c:62: (Each undeclared identifier is reported only once
>> pnorm.c:62: for each function it appears in.)
>> pnorm.c:66: `ML_NAN' undeclared (first use in this function)
>> pnorm.c:67: `ML_NEGINF' undeclared (first use in this function)
> 
> Odd. pnorm.c has 
I thought so as well! So I checked if anything went wrong before but no warning
or anything like it...
> 
>#include "nmath.h"
>  
> which ought to define those items, unless MATHLIB_PRIVATE_H is
> defined which it is not. This happens with a clean build?
I just checked with "make clean; make" but got the same result. 

I just had a look at pnorm.c and there is no 
#include "nmath.h"     but
#include "Mathlib.h"
#include "dpq.h"

if it is not equivalent to nmath.h there seems to be a difference to the actual
R-release.tar.bz2 which I got...

Prof. Ripley asked me to check the search path. I looked at the mentioned
directories and did find Mathlib.h in the first one but in neither of them
nmath.h. (Dear Prof. Ripley:Would you give me a hint, how to make gcc print out
the search path like you did in your mail?) 

I hope I gathered enough information to trace down this problem.

Winfried Theis 
----------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 19-Jun-00
Tel.: +49-231-755-5903                  Room: Mathematikgebude, M832
Dipl.-Math. Winfried Theis, Graduiertenkolleg "Angewandte Statistik",
Universitt Dortmund, 44221 Dortmund
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jun 19 17:59:20 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Jun 2000 17:59:20 +0200
Subject: [R] Compiling error
In-Reply-To: Winfried Theis's message of "Mon, 19 Jun 2000 18:48:10 +0200 (MEST)"
References: <XFMail.000619184810.theis@statistik.uni-dortmund.de>
Message-ID: <x28zw1mzl3.fsf@blueberry.kubism.ku.dk>

Winfried Theis <theis at statistik.uni-dortmund.de> writes:

> #include "Mathlib.h"
> #include "dpq.h"
> 
> if it is not equivalent to nmath.h there seems to be a difference to the actual
> R-release.tar.bz2 which I got...
  ^^^^^^^^^^^^^^^^^

OHO! Now where did that come from? The "official" file is R-1.1.0.tgz
and that definitely has the nmath.h include.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From keitt at nceas.ucsb.edu  Mon Jun 19 17:53:33 2000
From: keitt at nceas.ucsb.edu (Timothy H. Keitt)
Date: Mon, 19 Jun 2000 08:53:33 -0700
Subject: [R] R and PostgreSQL
References: <200006171433.KAA12320@jessie.research.bell-labs.com> <394BC130.53482417@quiknet.com> <x2g0qcndug.fsf@blueberry.kubism.ku.dk> <394D7738.38A5A911@nceas.ucsb.edu>
Message-ID: <394E41FD.DC37A190@nceas.ucsb.edu>

Oops... make that http://rpgsql.sourceforge.net/

T.

"Timothy H. Keitt" wrote:

> A  slightly updated version can be found at http://rpgsql.sourceforge.com/  I think the
> main reason its in devel is I still need to tweek the configure/install scripts.
>
> T.
>
> Peter Dalgaard BSA wrote:
>
> > Paul Condon <pecondon at quiknet.com> writes:
> >
> > > I am a user of PostgreSQL. I'm interested in generating cross-tabulations of RDBMS
> > > data. Cross-tabulations are not really possible within the RDBMS paradigm, but
> > > they are part of the base tutorial stuff of R. I can move the data to R using a
> > > copy command in Postgres and a the read.table() function in R. But is there a
> > > better way? Can a system be set up using CORBA or ODBC that lets one access (and
> > > preprocess) the data from within R? What are the limitations on data set size
> > > within R?
> >
> > There's a contributed package called RPgSQL sitting in
> >
> > http://cran.r-project.org/src/contrib/Devel/RPgSQL_0.5-1.tar.gz
> >
> > I've forgotten the reason why it is in the Devel section, but it does
> > some of the things you need.
> >
> > R is usually limited by the fact that it keeps entire datasets in
> > memory (see also ?Memory), but the RPgSQL package works around this so
> > that you need only store selected columns.
> >
> > --
> >    O__  ---- Peter Dalgaard             Blegdamsvej 3
> >   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
> >  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> > ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
> --
> Timothy H. Keitt
> National Center for Ecological Analysis and Synthesis
> 735 State Street, Suite 300, Santa Barbara, CA 93101
> Phone: 805-892-2519, FAX: 805-892-2510
> http://www.nceas.ucsb.edu/~keitt/
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
Timothy H. Keitt
National Center for Ecological Analysis and Synthesis
735 State Street, Suite 300, Santa Barbara, CA 93101
Phone: 805-892-2519, FAX: 805-892-2510
http://www.nceas.ucsb.edu/~keitt/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Mon Jun 19 17:57:35 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Mon, 19 Jun 2000 11:57:35 -0400
Subject: [R] Pearson Type IV
Message-ID: <02e501bfda07$1687fba0$0201a8c0@Workgroup>

Hi,

Anyone knows if there is a R package or some functions for this kind of distribution.

Thanks

YG

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000619/87d855cb/attachment.html

From a.salim at ucc.ie  Mon Jun 19 18:27:17 2000
From: a.salim at ucc.ie (Agus Salim)
Date: Mon, 19 Jun 2000 17:27:17 +0100
Subject: [R] Using --R CMD build-- command under windows
Message-ID: <3.0.5.32.20000619172717.007dd900@bureau.ucc.ie>

Dear all,

I want to know if there is an equivalence command for
R CMD build under windows? if there isn't such a thing?
how could I make a release file (.tar.gz file) using
windows OS?



Thanks,
Agus



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Mon Jun 19 18:40:55 2000
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Mon, 19 Jun 2000 18:40:55 +0200
Subject: [R] outer problem
Message-ID: <394E4D17.74ED7324@univie.ac.at>


why does teh following code not work?

a<-rnorm(50)
dim(a)<-c(10,5)

mycov<-function(mat,i,j){
            sum((mat[,i]-mean(mat[,i]))*(mat[,j]-mean(mat[,j])))
            }
            
covmat<-function(X){
        outer(1:dim(X)[2],1:dim(X)[2],function(v1,v2){mycov(X,v1,v2)})} 

from what i know
covmat(a) should give the covariance matrix of a, but it gives a matrix
with
constant elements.

mycov(a,1,2) ans simlar calls are doing the right thing.
so somehow i am misunderstanding outer here.

erich
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Jun 19 19:13:28 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 19 Jun 2000 19:13:28 +0200
Subject: [R] Up-arrow on rw1010
References: <Pine.GSO.4.05.10006191024450.9871-100000@auk.stats>
Message-ID: <394E54B8.B01DE4D7@statistik.uni-dortmund.de>

Prof Brian D Ripley wrote:

> Uwe Ligges made a very good point: please try starting R with --vanilla
> before reporting problems.  Many reports have boiled down to problems
> with saved .RData or .Rhistory files.

Let me add: 
On Windows OS an existing .Rhistory is read in, even if R is started
with --vanilla. To avoid this, R must be started from a "clean"
directory.

Best regards,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Jun 19 19:33:05 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 19 Jun 2000 10:33:05 -0700 (PDT)
Subject: Parallelism (was Re: [R] Re: R-1.1.0 is released : GUI)
In-Reply-To: <x2ln04v1mu.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.21.0006191000540.13708-100000@atlas.biostat.washington.edu>

On 17 Jun 2000, Peter Dalgaard BSA wrote:

> There are many levels of parallelism, not all of which are equally
> easy to exploit. At the coarsest level, each machine does essentially
> its own thing in a separate process. This is very easy to implement
> and quite useful for e.g. simulations. For a somewhat more elaborate
> version of this there is the Condor project at Wisconsin which allows
> processes to be moved around between different CPUs - R has been tested
> on this but I don't know how far they've got. 

For Linux there is also MOSIX, which works very nicely for load balancing
on a cluster of PCs.  As most of my computationally intensive work is
simulation or bootstrapping it parallelises very nicely by doing eg 5 lots
of 200 runs rather than one lot of 1000.

> At the finest level there's a potential for very highly optimized
> algorithms for specific purposes like matrix inversion, sorting, and
> differential equation solving. Even though they have been known to be
> theoretically possible for ages, actual implementations seem to be
> slow in coming. 

There are some sparse matrix implementations out there, which may be
linkable to R.  I have used the single-processor version of the Aztec
sparse matrix library with R and I think it would be possible to use the
multi-processor version


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Jun 19 19:52:37 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 19 Jun 2000 10:52:37 -0700 (PDT)
Subject: [R] outer problem
In-Reply-To: <394E4D17.74ED7324@univie.ac.at>
Message-ID: <Pine.GSO.4.21.0006191049460.13708-100000@atlas.biostat.washington.edu>

On Mon, 19 Jun 2000, Erich Neuwirth wrote:

> 
> why does teh following code not work?
> 
> a<-rnorm(50)
> dim(a)<-c(10,5)
> 
> mycov<-function(mat,i,j){
>             sum((mat[,i]-mean(mat[,i]))*(mat[,j]-mean(mat[,j])))
>             }
>             
> covmat<-function(X){
>         outer(1:dim(X)[2],1:dim(X)[2],function(v1,v2){mycov(X,v1,v2)})} 
> 
> from what i know
> covmat(a) should give the covariance matrix of a, but it gives a matrix
> with
> constant elements.
> 
> mycov(a,1,2) ans simlar calls are doing the right thing.
> so somehow i am misunderstanding outer here.

You're misunderstanding outer().

outer(x,y,f) does just one call to f with arguments created by stacking x
and y together in the right way, so f has to be vectorised.

In any case, var(X) returns the covariance matrix of X, much more
efficiently.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Jun 19 21:17:10 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 19 Jun 2000 20:17:10 +0100 (BST)
Subject: [R] R and OpenBSD
Message-ID: <Pine.GSO.4.05.10006192013580.10007-100000@auk.stats>

Ragnar Beer <rbeer at uni-goettingen.de> wrote:

> Has anybody successfully installed R under OpenBSD? I just tried to 
> install the latest R-release under OpenBSD 2.7 and got the following 
> errors in the make step:
> pnorm.c:62 'ML_ERR_return_NAN' undeclared
> pnorm.c:62 'ML_NAN' undeclared
> pnorm.c:62 'ML_NEGINF' undeclared

The file pnorm.c is out-of-date in the current R-release.tar.bz2 (but not
in the cvs archive). Please try R-1.1.0.tgz instead, or at least copy
src/nmath/pnorm.c from R-1.1.0.tgz onto your unpacked copy of R-release.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jimrc at gauss.math.montana.edu  Tue Jun 20 01:04:21 2000
From: jimrc at gauss.math.montana.edu (Jim Robison-Cox)
Date: Mon, 19 Jun 2000 17:04:21 -0600 (MDT)
Subject: [R] fortran compile problem  with R-1.1.0
Message-ID: <Pine.GSO.4.02.10006191611210.21644-100000@gauss.math.montana.edu>

Hello List,

   Knowing I would eventually need to ask for help on the list, I've held
off my thanks and congratulations on the 1.+ releases of R.  I am amazed
at the dedication of the R-core team, and do add my applause and thanks.

  I've had a compile problem with the latest version which has not
occurred before.  I'm compiling under:

platform sparc-sun-solaris2.6
arch     sparc               
os       solaris2.6          
system   sparc, solaris2.6   

 and have used f77 without problems in the past.  Now --with-f77 gives a
compile error, --with-g77 gives a different error, but --with-f2c does
work.

Specifying  --with-f77 I got the following in config.log:
*****  config.log file:  *****
configure:2187: checking whether the Fortran 77 compiler (f77  ) works
configure:2200: f77 -o conftest   conftest.f -L/usr/local/lib 1>&5
conftest.f:
 MAIN conftest:
Undefined                       first referenced
 symbol                             in file
__f77_exit                          conftest.o
f77_init                            conftest.o
__f77_init                          conftest.o
ld: fatal: Symbol referencing errors. No output written to conftest
configure: failed program was:

      program conftest
      end

*** EOF config.log  ****

And if I try --with-g77 I get:
 ***  config.log contains: ***
configure:2187: checking whether the Fortran 77 compiler (g77  ) works
configure:2200: g77 -o conftest   conftest.f -L/usr/local/lib 1>&5
gcc: language f77 not recognized
ld: elf error: file conftest.f: unknown type, unable to process using
elf(3E) libraries
ld: fatal: File processing errors. No output written to conftest
configure: failed program was:

      program conftest
      end

  *** EOF config.log


  I've seen no reports of compile problem under Solaris, so I assume I'm
the only one with this problem.  Does anyone have suggestions about where
to look for a solution?  

Thanks for any suggestions, and again for all the hard work.
Jim

Jim Robison-Cox               ____________    
Department of Math Sciences  |            |       phone: (406)994-5340
2-214 Wilson Hall             \   BZN, MT |       FAX:   (406)994-1789
Montana State University       |  *_______|
Bozeman, MT 59717-2400          \_|      e-mail: jimrc at math.montana.edu 




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From orca at alternex.com.br  Tue Jun 20 06:48:03 2000
From: orca at alternex.com.br (Mauricio O Calvao)
Date: Mon, 19 Jun 2000 21:48:03 -0700
Subject: [R] density estimation in two dimensions
Message-ID: <394EF782.F999935E@alternex.com.br>

Hello,

I am a newbie to R and the subject of density estimation in two
dimensions or more.

I would like to have some advice concerning a comparison between the R
packages
for density estimation in bivariate or higher order problems; I mean
explicitly
the packages:

1) ash
2) KernSmooth
3) locfit
4) sm.

My specific problem now is having a set of numerical pairs (x_i, y_i),
arising from
a computer simulation, and wanting to define a continuous function to
play the
role of a probability density in the space of (x, y) variables...

If possible I would also like to have some words about the corresponding
books:

1) Scott, "Multivariate density estimation"
2) Wand and Jones, "Kernel smoothing"
3) Loader, "Local regression and likelihood"
4) Bowman and Azzalini, "Applied smoothing techniques"

Regards and congratulations for the excellent software R is and the GPL
philosophy behind it!!

--
###########################################################
MAURICIO ORTIZ CALVAO
Federal University of Rio de Janeiro
Institute of Physics, P. O. Box 68528
CEP 21945-970 Rio de Janeiro - RJ
BRAZIL

Home page: http://www.if.ufrj.br/~orca/
Email addresses: orca at if.ufrj.br (work)
                 orca at alternex.com.br (home)
Work phone: (21)562-7483
Work fax: (21)562-7368
###########################################################


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Tue Jun 20 08:45:47 2000
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Tue, 20 Jun 2000 08:45:47 +0200 (CEST)
Subject: [R] fortran compile problem  with R-1.1.0
In-Reply-To: <Pine.GSO.4.02.10006191611210.21644-100000@gauss.math.montana.edu>
Message-ID: <Pine.LNX.4.21.0006200842250.31780-100000@artemis.imbe.med.uni-erlangen.de>

> 
>   I've had a compile problem with the latest version which has not
> occurred before.  I'm compiling under:
> 
> platform sparc-sun-solaris2.6
> arch     sparc               
> os       solaris2.6          
> system   sparc, solaris2.6   
> 
>  and have used f77 without problems in the past.  Now --with-f77 gives a
> compile error, --with-g77 gives a different error, but --with-f2c does
> work.

I had a similar problem with SuSE 6.4: 

having f2c installed (R versions < 1.1.0 configured well using this
installation), 

$> ./configure

did not find f2c whereas

$> ./configure --with-f2c

worked fine and make test succeeded. 

Torsten

 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 20 08:48:19 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 20 Jun 2000 07:48:19 +0100 (BST)
Subject: [R] density estimation in two dimensions
In-Reply-To: <394EF782.F999935E@alternex.com.br>
Message-ID: <Pine.GSO.4.05.10006200736370.14814-100000@auk.stats>

On Mon, 19 Jun 2000, Mauricio O Calvao wrote:

> Hello,
> 
> I am a newbie to R and the subject of density estimation in two
> dimensions or more.
> 
> I would like to have some advice concerning a comparison between the R
> packages
> for density estimation in bivariate or higher order problems; I mean
> explicitly
> the packages:
> 
> 1) ash
> 2) KernSmooth
> 3) locfit
> 4) sm.

There's also function kde2d in package MASS.

ash is old, and ash2 is quite limited, in particular to product kernels.
bkde2D in KernSmooth and kde2d in MASS are essentially the same,
and sm.density in sm is again the same with a bit more interface glue.
locfit is different (it's not kernel density fitting per se) but I find it
hard to use due to lack of documentation (even with a copy of Loader's
book to hand -- in part because every version seems slightly different).

> My specific problem now is having a set of numerical pairs (x_i, y_i),
> arising from
> a computer simulation, and wanting to define a continuous function to
> play the
> role of a probability density in the space of (x, y) variables...
> 
> If possible I would also like to have some words about the corresponding
> books:
> 
> 1) Scott, "Multivariate density estimation"
> 2) Wand and Jones, "Kernel smoothing"
> 3) Loader, "Local regression and likelihood"
> 4) Bowman and Azzalini, "Applied smoothing techniques"

They do not really do much on this topic, not even Scott's.  For a
beginner, Bowman and Azzalini was the top choice on the smoothing
email list, and gets my vote too.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 20 09:32:40 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 20 Jun 2000 08:32:40 +0100 (BST)
Subject: [R] fortran compile problem  with R-1.1.0
In-Reply-To: <Pine.GSO.4.02.10006191611210.21644-100000@gauss.math.montana.edu>
Message-ID: <Pine.GSO.4.05.10006200808000.14814-100000@auk.stats>

On Mon, 19 Jun 2000, Jim Robison-Cox wrote:

> Hello List,
> 
>    Knowing I would eventually need to ask for help on the list, I've held
> off my thanks and congratulations on the 1.+ releases of R.  I am amazed
> at the dedication of the R-core team, and do add my applause and thanks.
> 
>   I've had a compile problem with the latest version which has not
> occurred before.  I'm compiling under:
> 
> platform sparc-sun-solaris2.6
> arch     sparc               
> os       solaris2.6          
> system   sparc, solaris2.6   

That is one of the test systems (although not 2.6 for much longer) so this
has been pretty thoroughly tested.

>  and have used f77 without problems in the past.  Now --with-f77 gives a
> compile error, --with-g77 gives a different error, but --with-f2c does
> work.
> 
> Specifying  --with-f77 I got the following in config.log:
> *****  config.log file:  *****
> configure:2187: checking whether the Fortran 77 compiler (f77  ) works
> configure:2200: f77 -o conftest   conftest.f -L/usr/local/lib 1>&5
> conftest.f:
>  MAIN conftest:
> Undefined                       first referenced
>  symbol                             in file
> __f77_exit                          conftest.o
> f77_init                            conftest.o
> __f77_init                          conftest.o
> ld: fatal: Symbol referencing errors. No output written to conftest
> configure: failed program was:
> 
>       program conftest
>       end
> 
> *** EOF config.log  ****

Worked for me with both SunPro SC4.0 and SunPro SC5.0 Fortran compilers.
Looks to me as if you have a problematic Fortran installation.  One
possible problem is that `-L/usr/local/lib': you could try
configuring with `LIBS=' to remove it.

What version is your f77?  (f77 -V should tell you.)

> And if I try --with-g77 I get:
>  ***  config.log contains: ***
> configure:2187: checking whether the Fortran 77 compiler (g77  ) works
> configure:2200: g77 -o conftest   conftest.f -L/usr/local/lib 1>&5
> gcc: language f77 not recognized
> ld: elf error: file conftest.f: unknown type, unable to process using
> elf(3E) libraries
> ld: fatal: File processing errors. No output written to conftest
> configure: failed program was:
> 
>       program conftest
>       end
> 
>   *** EOF config.log
> 
> 
>   I've seen no reports of compile problem under Solaris, so I assume I'm
> the only one with this problem.  Does anyone have suggestions about where
> to look for a solution?  

Well, the second one is easy to diagnose: you seem to have a broken gcc
installation, in that g77 exists but the internal support does not.  And
that will be why you can't just specify nothing, as configure will try g77.
I have gcc-2.95.2 on my one remaining Solaris2.6 system, and that works out
of the box.

My suggestion would be to try LIBS= ./configure --with-f77 and if that does
not work, to get gcc-2.95.2 installed with Fortran support.  If you don't
like building compilers and have access to /opt or /usr/local you can add
gcc (and much else) as Solaris packages from sunfreeware.com.  Perhaps more
usefully, it is often easier to persuade Solaris system staff to do that
for you than to compile for you.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From etptupaf at bs.ehu.es  Tue Jun 20 10:20:15 2000
From: etptupaf at bs.ehu.es (F.Tusell)
Date: Tue, 20 Jun 2000 10:20:15 +0200
Subject: [R] Compiling R on an Alpha
Message-ID: <200006200820.KAA01094@agesi.bs.ehu.es>

Sorry to be  such a nuisance but after asking  for help with compiling
R-1.1.0 on  an Intel-based machine I  now have another  problem on the
Alpha DS-10 server which my students use.

Compilation and instalation  proceed perfectly, but when I  invoke R I
get:

[etdx01:bin]$ ./R
Fatal error: The X11 shared library could not be loaded.
  The error was /home/etptupaf/R/lib/R/bin/R_X11.so: undefined symbol: R_GlobalEnv

I  have  read  the  INSTALL,   README,  and  FAQ  files and grep'ed the
docs  for  info  on R_Global_Env, but found none.

Aside: I  am using gcc  as I  have ever done,  because I first  want a
functional executable.  However,  I have read (in www.alphalinux.org?)
that substantial improvements on  speed of heavily floating point code
can be achieved on Alphas by using the Compaq C compiler (available at
their site). If somebody has some experience with that, I would like to
hear from him/her.


ft.
-- 
Fernando TUSELL                                 e-mail:
Departamento de Econometra y Estadstica           etptupaf at bs.ehu.es 
Facultad de CC.EE. y Empresariales              Tel:  (+34)94.601.3733
Avenida Lendakari Aguirre, 83                   Fax:  (+34)94.601.3754
E-48015 BILBAO  (Spain)                         Secr: (+34)94.601.3740
PGP: finger etptupaf at bsdx01.bs.ehu.es           http://agesi.bs.ehu.es
----------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbeer at uni-goettingen.de  Tue Jun 20 10:39:18 2000
From: rbeer at uni-goettingen.de (Ragnar Beer)
Date: Tue, 20 Jun 2000 10:39:18 +0200
Subject: [R] R and OpenBSD
In-Reply-To: <Pine.GSO.4.05.10006192013580.10007-100000@auk.stats>
References: <Pine.GSO.4.05.10006192013580.10007-100000@auk.stats>
Message-ID: <p04320401b574dcb5f7c5@[134.76.136.114]>

Meanwhile I downloaded R-1.1.0.tgz and got the following error in the 
make step:

-----snip-----
making util.d from util.c
making version.d from version.c
gcc -I. -I../../src/include -I../../src/include 
-I../../src/include/R_ext -I/usr/local/include -DHAVE_CONFIG_H 
-mieee-fp  -g -O2 -c apply.c -o apply.o
gcc -I. -I../../src/include -I../../src/include 
-I../../src/include/R_ext -I/usr/local/include -DHAVE_CONFIG_H 
-mieee-fp  -g -O2 -c arithmetic.c -o arithmetic.o
arithmetic.c:48: warning: `struct exception' declared inside parameter list
arithmetic.c:48: warning: its scope is only this definition or 
declaration, which is probably not what you want.
arithmetic.c: In function `matherr':
arithmetic.c:50: dereferencing pointer to incomplete type
arithmetic.c:59: dereferencing pointer to incomplete type
arithmetic.c:53: warning: unreachable code at beginning of switch statement
*** Error code 1

Stop in /home/rbeer/src/R-1.1.0/src/main.
*** Error code 1

Stop in /home/rbeer/src/R-1.1.0/src/main (line 131 of Makefile).
*** Error code 1

Stop in /home/rbeer/src/R-1.1.0/src (line 21 of Makefile).
*** Error code 1

Stop in /home/rbeer/src/R-1.1.0 (line 42 of Makefile).
-----snip-----

I also posted my question to the OpenBSD list and got this reply:

-----snip-----
From: Marc Espie <Marc.Espie at liafa.jussieu.fr>
To: Ragnar Beer <rbeer at uni-goettingen.de>
Cc: misc at openbsd.org
Subject: Re: Compiling Linux programs under OpenBSD?
Mail-Followup-To: Ragnar Beer <rbeer at uni-goettingen.de>, misc at openbsd.org
Sender: owner-misc at openbsd.org
X-Loop: misc at openbsd.org

I've looked, briefly. Its configure trips up on matherr. Specifically, it
only does a nm libm.a, finds matherr, and assumes it works. Unfortunately,
OpenBSD namespace is not squeaky clean (yet), and matherr is a private
function of libm: no user-visible prototype, no declaration of struct
exception, and hence failure.
-----snip-----

Hope this helps...


--Ragnar


>Ragnar Beer <rbeer at uni-goettingen.de> wrote:
>
>>  Has anybody successfully installed R under OpenBSD? I just tried to
>>  install the latest R-release under OpenBSD 2.7 and got the following
>>  errors in the make step:
>>  pnorm.c:62 'ML_ERR_return_NAN' undeclared
>>  pnorm.c:62 'ML_NAN' undeclared
>>  pnorm.c:62 'ML_NEGINF' undeclared
>
>The file pnorm.c is out-of-date in the current R-release.tar.bz2 (but not
>in the cvs archive). Please try R-1.1.0.tgz instead, or at least copy
>src/nmath/pnorm.c from R-1.1.0.tgz onto your unpacked copy of R-release.
>
>--
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 20 11:54:21 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 20 Jun 2000 10:54:21 +0100 (BST)
Subject: [R] Using --R CMD build-- command under windows
In-Reply-To: <3.0.5.32.20000619172717.007dd900@bureau.ucc.ie>
Message-ID: <Pine.GSO.4.05.10006201041050.23095-100000@auk.stats>

On Mon, 19 Jun 2000, Agus Salim wrote:

> Dear all,
> 
> I want to know if there is an equivalence command for
> R CMD build under windows? if there isn't such a thing?
> how could I make a release file (.tar.gz file) using
> windows OS?

There isn't such a thing. (See `Writing R Extensions' end of section 1.3,
which says so explicitly.)

You cannot make a .tar.gz file using the Windows OS, as that does not
come with tar or gzip!   You may be able to do it with addons, such
as the tools.zip which we supply for building R
(http://www.stats.ox.ac.uk/pub/Rtools/).  Making is quite easy.
If you have version x.y-z of `mypkg' is rw1xxx/src/library, cd to
that directory and use

tar cvf mypkg_x.y-z.tar mypkg
gzip mypkg_x.y-z.tar

Testing is essentially impossible, as part of the testing is that 
you can install on Unix (`Writing R Extensions' section 1.4).

This has not been an issue, as thus far no package developer has
not also had access to Unix/Linux versions of R.  (Both Guido and I
have both Windows NT and Linux on the machines we use to work on R.)
Until recently the shells available under Windows were just not reliable
enough for this sort of thing (they are barely reliable enough to build R).
I do intend to look again at build fairly soon: of the procedures
in section 1.4 of `Writing R Extensions' there are already analogues of
points 2. and 3. (and as I said, point 1. is impossible but installing on
Windows is a fair surrogate).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From etptupaf at bs.ehu.es  Tue Jun 20 14:18:22 2000
From: etptupaf at bs.ehu.es (F.Tusell)
Date: Tue, 20 Jun 2000 14:18:22 +0200
Subject: [R] Compiling R on an Alpha
In-Reply-To: <Pine.GSO.4.05.10006201013300.23095-100000@auk.stats>
	(ripley@stats.ox.ac.uk)
References: <Pine.GSO.4.05.10006201013300.23095-100000@auk.stats>
Message-ID: <200006201218.OAA00352@agesi.bs.ehu.es>

>  Date: Tue, 20 Jun 2000 10:40:32 +0100 (BST)
>  From: Prof Brian D Ripley <ripley at stats.ox.ac.uk>
>  Sender: ripley at auk.stats
>  Cc: r-help at stat.math.ethz.ch
>  Content-Type: TEXT/PLAIN; charset=US-ASCII
>  
>  On Tue, 20 Jun 2000, F.Tusell wrote:
>  
>  > Sorry to be  such a nuisance but after asking  for help with compiling
>  > R-1.1.0 on  an Intel-based machine I  now have another  problem on the
>  > Alpha DS-10 server which my students use.
>  
>  Um. Is this running Linux then?  If so, what distribution?  It might
>  matter.
>  

   Yes, Red Hat 6.1. 

>  > Compilation and instalation  proceed perfectly, but when I  invoke R I
>  > get:
>  > 
>  > [etdx01:bin]$ ./R
>  > Fatal error: The X11 shared library could not be loaded.
>  >   The error was /home/etptupaf/R/lib/R/bin/R_X11.so: undefined symbol: R_GlobalEnv
>  > 
>  > I  have  read  the  INSTALL,   README,  and  FAQ  files and grep'ed the
>  > docs  for  info  on R_Global_Env, but found none.
>  
>  R_Global_Env is an exported constant from R.bin.  I get (Solaris, but i686
>  Linux is similar)
>  
>  auk% nm -g R_X11.so
>  R_X11.so:
>  0000000000 U .div
>  0000000000 U .rem
>  0000000000 U .udiv
>  0000000000 U .umul
>  0000000000 U C_alloc
>  0000000000 U C_free
>  0000039416 T GetX11Pixel
>  0000014944 T RX11_dataentry
>  0000000000 U R_ExpandFileName
>  0000000000 U R_GlobalEnv
>  ...
>  
>  auk% nm -g R.bin
>  R.bin:
>  ...
>  0002008832 B R_GlobalEnv
>  
>  So what should happen is that R_GlobalEnv is exported from R.bin
>  (specifically, from src/main/main.o, I think) and when R_X11.so is
>  dynamically loaded, the symbol is resolved.
>  
>  Martyn Plummer has pointed out that on some Linux systems (RH6.2
>  specifically) the `undefined symbol' messages are unreliable.
>  So you might want to bear that in mind.
>  
   I wouldn't mind about the message only, but execution aborts (or 
   perhaps does not even start).

>  BTW, where does make check get to? (The same error I presume.)
>  You could also try
>  
>  R --gui=none
>  
>  and then try loading some libraries.  That would indicate if there
>  was a general problem with dlopen or something specific to R_X11.so.
> 
   I will do that and let you know if I find something. In the mean time,
   if any of the developers can think of some relevant change in the
   libraries involved, that might be a clue. What puzzles me is that
   after the failure with R-1.1.0, I backtracked and installed again
   R-1.0.1 with absolutely no problem (and there is also a R_X11.so
   there).

   Thank you for your help.

 
   ft.
>  -- 
>  Brian D. Ripley,                  ripley at stats.ox.ac.uk
>  Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>  University of Oxford,             Tel:  +44 1865 272861 (self)
>  1 South Parks Road,                     +44 1865 272860 (secr)
>  Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>  


-- 
Fernando TUSELL                                 e-mail:
Departamento de Econometr?a y Estad?stica           etptupaf at bs.ehu.es 
Facultad de CC.EE. y Empresariales              Tel:  (+34)94.601.3733
Avenida Lendakari Aguirre, 83                   Fax:  (+34)94.601.3754
E-48015 BILBAO  (Spain)                         Secr: (+34)94.601.3740
PGP: finger etptupaf at bsdx01.bs.ehu.es           http://agesi.bs.ehu.es
----------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From etptupaf at bs.ehu.es  Tue Jun 20 14:28:02 2000
From: etptupaf at bs.ehu.es (F.Tusell)
Date: Tue, 20 Jun 2000 14:28:02 +0200
Subject: [R] Compiling R on an Alpha
In-Reply-To: <Pine.GSO.4.05.10006201013300.23095-100000@auk.stats>
	(ripley@stats.ox.ac.uk)
References: <Pine.GSO.4.05.10006201013300.23095-100000@auk.stats>
Message-ID: <200006201228.OAA00427@agesi.bs.ehu.es>

Invoking R with --gui=none (as suggested by Prof. Ripley) does at least
start execution. But i never get to the prompt ">", and after a while
R crashes. Pasted below is what I get.

I don't think R developers should spend time on that. Dumping core is 
not unprecedented with RH6.1. On my system it happens with gnorpm, which
is part of the distribution, I believe. I only report this so R developers 
have all the facts. For the time being, I am entirely happy vith R-1.0.1
which works wonderfully for me.


ft.

 ----------------------------------------------------------
[etdx01:bin]$ ./R --gui=none

R : Copyright 2000, The R Development Core Team
Version 1.1.0  (June 15, 2000)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type    "?license" or "?licence" for distribution details.

R is a collaborative project with many contributors.
Type    "?contributors" for a list.

Type    "demo()" for some demos, "help()" for on-line help, or
        "help.start()" for a HTML browser interface to help.
Type    "q()" to quit R.


Floating point exception (core dumped)
[etdx01:bin]$ 
  ------------------------------------------------------------

-- 
Fernando TUSELL                                 e-mail:
Departamento de Econometr?a y Estad?stica           etptupaf at bs.ehu.es 
Facultad de CC.EE. y Empresariales              Tel:  (+34)94.601.3733
Avenida Lendakari Aguirre, 83                   Fax:  (+34)94.601.3754
E-48015 BILBAO  (Spain)                         Secr: (+34)94.601.3740
PGP: finger etptupaf at bsdx01.bs.ehu.es           http://agesi.bs.ehu.es
----------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kleiber at statistik.uni-dortmund.de  Tue Jun 20 15:30:53 2000
From: Kleiber at statistik.uni-dortmund.de (Christian Kleiber)
Date: Tue, 20 Jun 2000 15:30:53 +0200
Subject: [R] pacf
Message-ID: <394F720D.10FE02BB@statistik.uni-dortmund.de>

Dear list,

according to the documentation of acf{ts}

"the partial correlation coefficient is estimated by fitting
autoregressive models of successively higher orders up to lag.max. "

However, R seems to return the Yule-Walker estimates of the PACF by
default. You can check this using c(1:10) as the series: the YW
estimates are 0.7000000 and  -0.1527035 for lags 1 and 2 . If the PACF
really was estimated from running autoregressions, the first coefficient
should be 1 and one would expect an error message for higher-order
coefficients (due to singularity of the regression matrix). pacf() or
acf (..., type="partial", ...), however, return 0.7000000 and
-0.1527035.

Best regards,

Christian Kleiber

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Kleiber.vcf
Type: text/x-vcard
Size: 324 bytes
Desc: Visitenkarte fr Christian Kleiber
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000620/f399df06/Kleiber.vcf

From p.dalgaard at biostat.ku.dk  Tue Jun 20 15:42:18 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Jun 2000 15:42:18 +0200
Subject: [R] Compiling R on an Alpha
In-Reply-To: "F.Tusell"'s message of "Tue, 20 Jun 2000 14:28:02 +0200"
References: <Pine.GSO.4.05.10006201013300.23095-100000@auk.stats> <200006201228.OAA00427@agesi.bs.ehu.es>
Message-ID: <x2snu8eaf9.fsf@blueberry.kubism.ku.dk>

"F.Tusell" <etptupaf at bs.ehu.es> writes:


> [etdx01:bin]$ ./R --gui=none
> 
> R : Copyright 2000, The R Development Core Team
> Version 1.1.0  (June 15, 2000)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type    "?license" or "?licence" for distribution details.
> 
> R is a collaborative project with many contributors.
> Type    "?contributors" for a list.
> 
> Type    "demo()" for some demos, "help()" for on-line help, or
>         "help.start()" for a HTML browser interface to help.
> Type    "q()" to quit R.
> 
> 
> Floating point exception (core dumped)
> [etdx01:bin]$ 

That one (usually) means that the options for IEEE math get set wrong. You're
not by any chance reconfiguring in a directory which has been used for
another architecture? 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Tue Jun 20 16:07:47 2000
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Tue, 20 Jun 2000 16:07:47 +0200
Subject: [R] Pairwise comparisons/contrasts from a coxph model?
Message-ID: <B5754753.3209%pflugshaupt@geobot.umnw.ethz.ch>

Hello,

this is probably more a statistical question than an R-specific problem, but
I'll risk it.

I've fitted a Cox Proportional hazard model with one factor Treatment (seven
levels) as a predictor variable. The general Null hypothesis (all groups
show the same survival behaviour) is clearly rejected. Now, is there any
(statistically sensible) way of doing pairwise comparisons and/or contrasts
among levels?

In the R online help as well as in the literature I've looked up (I'll look
up more), nothing of the sort is mentioned. Does this mean it's not a
reasonable thing to do, or that it's trivial?  :-)

And, has somebody already done this in R or could give me a hint?

One way I considered was (for all pairs of levels) to exclude all but the
respective two levels from my data and run the model. In the end I would do
a Bonferroni correction on all the p values I receive. Seems to be on the
save side, maybe too much so. Anyway, there ought to be a more elegant way.

Thankful for any hint

Kaspar

Here's the output from my model

> poll.survmodel2
Call:
coxph(formula = Surv(Week, Cens) ~ Treatment, data = poll.survdata2)


              coef exp(coef) se(coef)      z       p
TreatmentT1  0.342     1.408    0.256  1.337 0.18000
TreatmentT2  0.102     1.108    0.246  0.416 0.68000
TreatmentT3  0.205     1.227    0.247  0.829 0.41000
TreatmentT4 -0.303     0.739    0.256 -1.184 0.24000
TreatmentT5 -1.066     0.344    0.306 -3.485 0.00049
TreatmentT6 -0.733     0.480    0.281 -2.611 0.00900

Likelihood ratio test=30  on 6 df, p=3.89e-05  n= 210


-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 20 16:39:53 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 20 Jun 2000 15:39:53 +0100 (BST)
Subject: [R] pacf
In-Reply-To: <394F720D.10FE02BB@statistik.uni-dortmund.de>
Message-ID: <Pine.GSO.4.05.10006201450360.28790-100000@auk.stats>

On Tue, 20 Jun 2000, Christian Kleiber wrote:

> Dear list,
> 
> according to the documentation of acf{ts}
> 
> "the partial correlation coefficient is estimated by fitting
> autoregressive models of successively higher orders up to lag.max. "
>
> However, R seems to return the Yule-Walker estimates of the PACF by
> default. 

R provides four methods to `Fit Autoregressive Models to Time   
Series' in function ar(), and the default there is indeed Yule-Walker, so
this seems self-consistent.

> You can check this using c(1:10) as the series: the YW
> estimates are 0.7000000 and  -0.1527035 for lags 1 and 2 . If the PACF
> really was estimated from running autoregressions, the first coefficient
> should be 1 and one would expect an error message for higher-order
> coefficients (due to singularity of the regression matrix). pacf() or
> acf (..., type="partial", ...), however, return 0.7000000 and
> -0.1527035.

It does not say `running autoregressions', and I believe it to be standard
in the time-series field to fit autoregressive models *by Yule-Walker* to
estimate pacfs.  Indeed, in the first two books I have just looked in, that
is the definition of the sample PACF (in the univariate case).  So I don't
think these are `the Yule-Walker estimates of the PACF' but the `sample
PACF'.

I assume by `running autoregressions' you mean what ar.ols does: if that is
what you want that is provided too.  But it is not the only nor even the
usual meaning of `fitting' an AR(p) model to time-series data, especially
assuming stationarity (as the definitions of acf and pacf do).


I am a bit of a loss as to what your point was.  Are you really suggesting
that what R (and S) does is not absolutely standard using standard
terminology?  If so your bookshelf must be a disjoint set from mine.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rdiazuri at students.wisc.edu  Tue Jun 20 10:21:37 2000
From: rdiazuri at students.wisc.edu (Ramon Diaz-Uriarte)
Date: Tue, 20 Jun 2000 10:21:37 +0200
Subject: [R] # of users of R, and biological examples of the use of R
Message-ID: <0006201030360D.00309@ligarto>

Dear All,

With a colleague we are writing a paper where we show how R is a very nice
tool to deal with some issues in the analyses of data in evolutionary biology. 
For the intro, I wonder if

1) Anybody has any rough idea of how many people might be using R or how many
people have downloaded R, or similar (I am aware answering this question might
require divinatory powers...).

2) Have/are any of you using R in papers in the biological sciences (specially
evolutionary biology, ecology, behavior)?

Thanks,

Ramon

-- 
Ramn Daz-Uriarte
Dept. Zoology and Statistics
University of Wisconsin-Madison
Madison, WI 53706-1381

email: rdiazuri at students.wisc.edu
(NOTE: starting 15-July-2000 new email:
ramon-diaz at teleline.es)
phone: 608-238-8041
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ntakebay at bio.indiana.edu  Tue Jun 20 17:28:44 2000
From: ntakebay at bio.indiana.edu (Naoki Takebayashi)
Date: Tue, 20 Jun 2000 10:28:44 -0500 (EST)
Subject: [R] Compiling R on an Alpha
In-Reply-To: <200006200820.KAA01094@agesi.bs.ehu.es>
Message-ID: <Pine.SOL.4.10.10006201008330.4646-100000@sunflower.bio.indiana.edu>

Hello,

After you do ./configure, check if it is properly configured.  In my case,
I was getting the problem you mentioned because the configure script did
not recognize my machine (Alpha 21164PC). This problem is already reported
to r-devel.  I guess DS-10 is 21264?? Then, it should be recognized as ev6
or ev67?  Check the very begining of the output of ./configure and it
should say something like:

checking host system type... alphapca56-unknown-linux-gnu

If it says "failed to recognized ev67", try ./configure --host=alpha.

I assume you are using Linux on the alpha. If your system is rpm based,
there is a prebuit rpm of most recent R.  

ftp://cran.r-project.org/pub/R/bin/linux/redhat/6.x/alpha/

Naoki

Naoki Takebayashi     <ntakebay at bio.indiana.edu>
--- Dept. of Biology, Indiana University, Jordan Hall 142
--- 1001 E. Third St. Bloomington, IN 47405-3700 USA


On Tue, 20 Jun 2000, F.Tusell wrote:

> Sorry to be  such a nuisance but after asking  for help with compiling
> R-1.1.0 on  an Intel-based machine I  now have another  problem on the
> Alpha DS-10 server which my students use.
> 
> Compilation and instalation  proceed perfectly, but when I  invoke R I
> get:
> 
> [etdx01:bin]$ ./R
> Fatal error: The X11 shared library could not be loaded.
>   The error was /home/etptupaf/R/lib/R/bin/R_X11.so: undefined symbol: R_GlobalEnv


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From etptupaf at bs.ehu.es  Tue Jun 20 17:50:25 2000
From: etptupaf at bs.ehu.es (F.Tusell)
Date: Tue, 20 Jun 2000 17:50:25 +0200
Subject: [R] Compiling R on an Alpha
In-Reply-To: 
	<Pine.SOL.4.10.10006201008330.4646-100000@sunflower.bio.indiana.edu>
	(ntakebay@bio.indiana.edu)
References: <Pine.SOL.4.10.10006201008330.4646-100000@sunflower.bio.indiana.edu>
Message-ID: <200006201550.RAA00490@agesi.bs.ehu.es>

>  Date: Tue, 20 Jun 2000 10:28:44 -0500 (EST)
>  From: Naoki Takebayashi <ntakebay at bio.indiana.edu>
>  Cc: r-help at stat.math.ethz.ch
>  Content-Type: TEXT/PLAIN; charset=US-ASCII
>  
>  Hello,
>  
>  After you do ./configure, check if it is properly configured.  In my case,
>  I was getting the problem you mentioned because the configure script did
>  not recognize my machine (Alpha 21164PC). This problem is already reported
>  to r-devel.  I guess DS-10 is 21264?? Then, it should be recognized as ev6

   Yes, it is 21264, ev6.

>  or ev67?  Check the very begining of the output of ./configure and it
>  should say something like:
>  
>  checking host system type... alphapca56-unknown-linux-gnu
>  
   It gives no message or warning whatsoever, relevant excerpt is
   pasted here:

   ------------------
     .
     This file contains any messages produced by compilers while
     running configure, to aid debugging if configure makes a mistake.

     configure:592: checking host system type
     configure:813: checking for mawk
     .
   -------------------

>  If it says "failed to recognized ev67", try ./configure --host=alpha.
>  
   I will try that.

>  I assume you are using Linux on the alpha. If your system is rpm based,
>  there is a prebuit rpm of most recent R.  
>  
>  ftp://cran.r-project.org/pub/R/bin/linux/redhat/6.x/alpha/
>  
   Yes, that's another possibility. Thank you very much.

>  Naoki
>  
>  Naoki Takebayashi     <ntakebay at bio.indiana.edu>
>  --- Dept. of Biology, Indiana University, Jordan Hall 142
>  --- 1001 E. Third St. Bloomington, IN 47405-3700 USA
>  


-- 
Fernando TUSELL                                 e-mail:
Departamento de Econometr?a y Estad?stica           etptupaf at bs.ehu.es 
Facultad de CC.EE. y Empresariales              Tel:  (+34)94.601.3733
Avenida Lendakari Aguirre, 83                   Fax:  (+34)94.601.3754
E-48015 BILBAO  (Spain)                         Secr: (+34)94.601.3740
PGP: finger etptupaf at bsdx01.bs.ehu.es           http://agesi.bs.ehu.es
----------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jimrc at gauss.math.montana.edu  Tue Jun 20 17:54:57 2000
From: jimrc at gauss.math.montana.edu (Jim Robison-Cox)
Date: Tue, 20 Jun 2000 09:54:57 -0600 (MDT)
Subject: [R] fortran compile problem  with R-1.1.0
In-Reply-To: <Pine.GSO.4.05.10006200808000.14814-100000@auk.stats>
Message-ID: <Pine.GSO.4.02.10006200952580.955-100000@gauss.math.montana.edu>


Dear R-help,

   Thanks for the tips on my fortran problems.  I'll try to get f77 and
g77 updated.

 Jim

Jim Robison-Cox               ____________    
Department of Math Sciences  |            |       phone: (406)994-5340
2-214 Wilson Hall             \   BZN, MT |       FAX:   (406)994-1789
Montana State University       |  *_______|
Bozeman, MT 59717-2400          \_|      e-mail: jimrc at math.montana.edu 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Jun 20 17:56:21 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 20 Jun 2000 08:56:21 -0700 (PDT)
Subject: [R] Compiling R on an Alpha
In-Reply-To: <200006200820.KAA01094@agesi.bs.ehu.es>
Message-ID: <Pine.GSO.4.21.0006200851190.10281-100000@atlas.biostat.washington.edu>

On Tue, 20 Jun 2000, F.Tusell wrote:

> Aside: I  am using gcc  as I  have ever done,  because I first  want a
> functional executable.  However,  I have read (in www.alphalinux.org?)
> that substantial improvements on  speed of heavily floating point code
> can be achieved on Alphas by using the Compaq C compiler (available at
> their site). If somebody has some experience with that, I would like to
> hear from him/her.

This would be a worthwhile experiment. If the Compaq compiler is superior
only for floating point there would probably not be much difference,
though.  R is not 'heavily floating point code' in most cases, as is shown
by the lack of improvement from using optimised BLAS code and the relative
performance on x86 and SPARC architectures.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at biostat.washington.edu  Tue Jun 20 18:31:00 2000
From: rossini at biostat.washington.edu (A.J. Rossini)
Date: 20 Jun 2000 09:31:00 -0700
Subject: [R] # of users of R, and biological examples of the use of R
In-Reply-To: Ramon Diaz-Uriarte's message of "Tue, 20 Jun 2000 10:21:37 +0200"
References: <0006201030360D.00309@ligarto>
Message-ID: <87bt0wqpq3.fsf@alpha.cfas.washington.edu>

>>>>> "RD" == Ramon Diaz-Uriarte <rdiazuri at students.wisc.edu> writes:

    RD> 2) Have/are any of you using R in papers in the biological
    RD>    sciences (specially evolutionary biology, ecology, behavior)?

I'm working with a group of microbiologists for using it (for viral
evolution).

Papers won't be published for a bit, though, since it's only in the
beginning...

best,
-tony

-- 
A.J. Rossini		       Research Assistant Professor of Biostatistics 
Biostatistics/Univ. of Washington  (Th)	Box 357232   206-543-1044 (3286=fax)
Center for AIDS Research/HMC/UW	  (M/F)	Box 359931   206-731-3647 (3693=fax)
VTN/SCHARP/FHCRC		 (Tu/W)	Box 358080   206-667-7025 (4812=fax)
rossini@(biostat.washington.edu|u.washington.edu|scharp.org)
http://www.biostat.washington.edu/~rossini

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Jun 20 18:41:39 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 20 Jun 2000 18:41:39 +0200 (CEST)
Subject: [R] # of users of R, and biological examples of the use of R
In-Reply-To: <0006201030360D.00309@ligarto>
References: <0006201030360D.00309@ligarto>
Message-ID: <14671.40643.824361.351872@gargle.gargle.HOWL>

>>>>> "Ramon" == Ramon Diaz-Uriarte <rdiazuri at students.wisc.edu> writes:

    Ramon> Dear All, With a colleague we are writing a paper where we show
    Ramon> how R is a very nice tool to deal with some issues in the
    Ramon> analyses of data in evolutionary biology.  For the intro, I
    Ramon> wonder if

    Ramon> 1) Anybody has any rough idea of how many people might be using
    Ramon> R or how many people have downloaded R, or similar (I am aware
    Ramon> answering this question might require divinatory powers...).

Without having such powers, I can report how the mailing lists look like :

    % cat r-announce r-help r-devel |sort|uniq|wc -l
    911
	(w/o sort|uniq  it's 1140);  
	r-help alone has 635

which indicates that 911 different e-mail addresses are subscribed to
the R mailing lists (very few of these are mailing lists; 
		     however, also quite a few will be pointing to the same
		     person)

Now, the mailing lists probably contain almost no undergraduate students,
and these *are* using R at least in many of the courses...

Further, graduate students and scientific staff in many organizations use R,
but only the more "aficionados" among them are subscribed to an R list.
[factor of 3 ?]

Other guesses?

[Then what would "uses R" mean at all?
 o  >= 1 hour per week ?
 o  (one of) your major tool(s) for statistical data analysis?
 o  ??
]

----
{Now some musings, don't take me too seriously: I'm tired, it's hot, ....}

At one moment in time I had dreamed of putting a "feature" into R which
`registered' a user automatically when using R for the first time
(by sending an e-mail to some "R counter" on the internet);
but even if for a good purpose, it feels too much like "Big Brother" 
and "Virus/Worm"like behavior.. (and looks painful for me as MS-ignorant
 to work on a home Win-PC which only occasionally connects to the Net).

Linux has (had) an optional Linux Users counter, via nice web interface;
however I think it had never reached a state where it counted more than a
tiny fraction of users....

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ebarrios at tim.engr.wisc.edu  Tue Jun 20 19:13:08 2000
From: ebarrios at tim.engr.wisc.edu (Ernesto Barrios)
Date: Tue, 20 Jun 2000 12:13:08 -0500 (CDT)
Subject: [R] xlab not displayed when 'expression' is used in R 1.1.0
Message-ID: <200006201713.MAA17549@tim.engr.wisc.edu>

Greetings everyone,

I'll appreciate any help to understand the problem I'm having with
'expression' when I use it to label the x-axis of a plot.

I get the same behaviour under Windows NT4 SP6, and Windows 2000.
Trying

 plot(1:10,1:10,xlab=expression(X[i]),ylab=expression(Y[j]))

R 1.0.1 does what I'd expected it to do. However R 1.1.0 shows the
y-label properly but the x-label is not displayed at all. While

 plot(1:10,1:10,xlab="X",ylab="Y")

shows the x & y labels correctly in both versions. 

I obtain the same unexpected results using the postcript driver. I
looked at the ps file and the X_i for the x-label is missing.

Am I missing something with my Rw1.1.0?

Thanks for your help,

Ernesto Barrios
ebarrios at engr.wisc.edu
CQPI/UW-Madison
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Jun 20 19:24:28 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 20 Jun 2000 10:24:28 -0700 (PDT)
Subject: [R] xlab not displayed when 'expression' is used in R 1.1.0
In-Reply-To: <200006201713.MAA17549@tim.engr.wisc.edu>
Message-ID: <Pine.GSO.4.21.0006201018120.10281-100000@atlas.biostat.washington.edu>

On Tue, 20 Jun 2000, Ernesto Barrios wrote:

> Greetings everyone,
> 
> I'll appreciate any help to understand the problem I'm having with
> 'expression' when I use it to label the x-axis of a plot.
> 
> I get the same behaviour under Windows NT4 SP6, and Windows 2000.
> Trying

I also get this with today's r-devel under Debian, so it's not just a
Windows problem.

It's happening inside title()

These work
 title(xlab="foo")
 title(ylab="foo")
 title(ylab=expression(X))
but
 title(xlab=expression(X))
doesn't

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roeder at imise.uni-leipzig.de  Tue Jun 20 19:25:56 2000
From: Roeder at imise.uni-leipzig.de (Ingo Roeder)
Date: Tue, 20 Jun 2000 19:25:56 +0200
Subject: [R] unequalspaced time-series data
Message-ID: <394FA924.1CE75070@imise.uni-leipzig.de>

Dear R-users,

is there any object-type or routine/function in R which can handle
unequally spaced time-series data? I know that there is the library
OSWALD for S-Plus, which is able to do so, but I was not successful in
running it under R. Does anyone can help?

Thank's in advance!
INGO 
-- 
-----------------------------------------------------------------
 Ingo Roeder
 
 Institute for Medical Informatics, Statistics and Epidemiology
 University of Leipzig
 Liebigstr. 27, 04103 Leipzig (Germany)
 
 phone: +49 (0)341-97-16-111
 fax:   +49 (0)341-97-16-109
 email: Roeder at imise.uni-leipzig.de
 URL:   www.imise.uni-leipzig.de/~ingo
-----------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Tue Jun 20 19:39:01 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Tue, 20 Jun 2000 19:39:01 +0200 (MET DST)
Subject: [R] # of users of R, and biological examples of the use of R
In-Reply-To: <14671.40643.824361.351872@gargle.gargle.HOWL>
Message-ID: <Pine.OSF.4.05.10006201936360.13569-100000@alnair.uio.no>

On Tue, 20 Jun 2000, Martin Maechler wrote:

>{Now some musings, don't take me too seriously: I'm tired, it's hot, ....}
>
>At one moment in time I had dreamed of putting a "feature" into R which
>`registered' a user automatically when using R for the first time
>(by sending an e-mail to some "R counter" on the internet);
>but even if for a good purpose, it feels too much like "Big Brother" 
>and "Virus/Worm"like behavior..

Yeah, but as long as you let the users know, it shouldn't be that bad. It
might also be worthwhile to have a look at the Pine First-use statistics:
<URL:http://staff.washington.edu/corey/pine-stats/>

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at biostat.washington.edu  Tue Jun 20 19:49:47 2000
From: rossini at biostat.washington.edu (A.J. Rossini)
Date: 20 Jun 2000 10:49:47 -0700
Subject: [R] # of users of R, and biological examples of the use of R
In-Reply-To: Kjetil Kjernsmo's message of "Tue, 20 Jun 2000 19:39:01 +0200 (MET DST)"
References: <Pine.OSF.4.05.10006201936360.13569-100000@alnair.uio.no>
Message-ID: <87u2eop7ic.fsf@alpha.cfas.washington.edu>

>>>>> "KK" == Kjetil Kjernsmo <kjetil.kjernsmo at astro.uio.no> writes:


    KK> Yeah, but as long as you let the users know, it shouldn't be
    KK> that bad. It might also be worthwhile to have a look at the
    KK> Pine First-use statistics:
    KK> <URL:http://staff.washington.edu/corey/pine-stats/>

That's semi-biased data.  I can't count the number of times I end up
punching the wrong keys when I've "got to" send mail using pine, and end
up registering myself yet again...  over the years, it must be in the
low 40s, by now...  (I usually nuke the pine configuration files in my
directory by force of habit).

-- 
A.J. Rossini		       Research Assistant Professor of Biostatistics 
Biostatistics/Univ. of Washington  (Th)	Box 357232   206-543-1044 (3286=fax)
Center for AIDS Research/HMC/UW	  (M/F)	Box 359931   206-731-3647 (3693=fax)
VTN/SCHARP/FHCRC		 (Tu/W)	Box 358080   206-667-7025 (4812=fax)
rossini@(biostat.washington.edu|u.washington.edu|scharp.org)
http://www.biostat.washington.edu/~rossini

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Tue Jun 20 19:52:16 2000
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Tue, 20 Jun 2000 19:52:16 +0200
Subject: [R] outer problem
References: <Pine.GSO.4.21.0006191049460.13708-100000@atlas.biostat.washington.edu>
Message-ID: <394FAF50.F422EE63@univie.ac.at>

thank you,
i also looked into the definition of outer and now i understand what is
happening.
but now i have some more questions
on how to vectoruce functions.
lapply and sapply essentially allow to vectorise a fucntion with one
argument.
but is there a way of vectorizing a 2 argument function such that
the 2 arguments lists are "run through" sybchronously?

in lisp

(mapcar (lambda (x y) (* x y)) (1 3 5) (2 4 6))

produces the list (1*2 3*4 5*6)
(not really, this is just a description of hiw it works).

lapply and sapply accept more than one list arguments,
but then work on the cross product.

lapply(1:3,2:4,FUN=function(x,y)x*y)
sapply(1:3,2:4,FUN=function(x,y)x*y)

will returns lists and arrays with 9 elements, not with 3 elements.
is there a "natural" way of running through lists in sync, like mapcar
does?




> You're misunderstanding outer().
> 
> outer(x,y,f) does just one call to f with arguments created by stacking x
> and y together in the right way, so f has to be vectorised.
> 
> In any case, var(X) returns the covariance matrix of X, much more
> efficiently.
> 
>         -thomas
> 
> Thomas Lumley
> Assistant Professor, Biostatistics
> University of Washington, Seattle

--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Jun 20 19:57:26 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 20 Jun 2000 10:57:26 -0700 (PDT)
Subject: [R] outer problem
In-Reply-To: <394FAF50.F422EE63@univie.ac.at>
Message-ID: <Pine.GSO.4.21.0006201054380.10281-100000@atlas.biostat.washington.edu>

On Tue, 20 Jun 2000, Erich Neuwirth wrote:

> thank you,
> i also looked into the definition of outer and now i understand what is
> happening.
> but now i have some more questions
> on how to vectoruce functions.
> lapply and sapply essentially allow to vectorise a fucntion with one
> argument.
> but is there a way of vectorizing a 2 argument function such that
> the 2 arguments lists are "run through" sybchronously?

Not at the moment.  We have talked about adding another apply function to
do this (eg papply) but haven't got around to it. The way it would work is

papply(X,Y,FUN), where X and Y are of length n, would basically do

sapply(1:n,function(i) FUN(X[i],y[i]))

but preferably implemented internally for speed.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcneney at cs.sfu.ca  Tue Jun 20 20:02:04 2000
From: mcneney at cs.sfu.ca (Brad McNeney)
Date: Tue, 20 Jun 2000 11:02:04 -0700 (PDT)
Subject: [R] Compiling R on an Alpha
In-Reply-To: <200006200820.KAA01094@agesi.bs.ehu.es>
Message-ID: <Pine.OSF.4.21.0006201045160.289063-100000@smahlt.math.sfu.ca>

> Aside: I  am using gcc  as I  have ever done,  because I first  want a
> functional executable.  However,  I have read (in www.alphalinux.org?)
> that substantial improvements on  speed of heavily floating point code
> can be achieved on Alphas by using the Compaq C compiler (available at
> their site). If somebody has some experience with that, I would like to
> hear from him/her.
> 

I've had trouble using R compiled with the C compiler that comes with
Compaq's Tru64 OS (not sure how this compares to the Linux version you
mention above). It seems that during R's garbage collection some variables
that are in use get set to NULL. Don't know why -- maybe a compiler bug?
I'm using gcc now. Too bad since I have some C code that runs about twice
as fast with the DEC/Compaq compiler than with gcc. Although as Thomas has
said a similar improvement might not be expected with R.

Brad 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Jun 20 20:07:09 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 20 Jun 2000 11:07:09 -0700 (PDT)
Subject: [R] xlab not displayed when 'expression' is used in R 1.1.0
In-Reply-To: <200006201713.MAA17549@tim.engr.wisc.edu>
Message-ID: <Pine.GSO.4.21.0006201104130.10281-100000@atlas.biostat.washington.edu>

On Tue, 20 Jun 2000, Ernesto Barrios wrote:

> Greetings everyone,
> 
> I'll appreciate any help to understand the problem I'm having with
> 'expression' when I use it to label the x-axis of a plot.
> 
> I get the same behaviour under Windows NT4 SP6, and Windows 2000.
> Trying
> 
>  plot(1:10,1:10,xlab=expression(X[i]),ylab=expression(Y[j]))
> 
> R 1.0.1 does what I'd expected it to do. However R 1.1.0 shows the
> y-label properly but the x-label is not displayed at all. While

Ok, I think I've found it. It looks like a cut-and-paste error in
do_title in plot.c

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jun 20 22:03:35 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 20 Jun 2000 22:03:35 +0200
Subject: [R] # of users of R, and biological examples of the use of R
In-Reply-To: Martin Maechler's message of "Tue, 20 Jun 2000 18:41:39 +0200 (CEST)"
References: <0006201030360D.00309@ligarto> <14671.40643.824361.351872@gargle.gargle.HOWL>
Message-ID: <x2zoogunl4.fsf@blueberry.kubism.ku.dk>

Martin Maechler <maechler at stat.math.ethz.ch> writes:

> which indicates that 911 different e-mail addresses are subscribed to
> the R mailing lists (very few of these are mailing lists; 
> 		     however, also quite a few will be pointing to the same
> 		     person)
> 
> Now, the mailing lists probably contain almost no undergraduate students,
> and these *are* using R at least in many of the courses...
> 
> Further, graduate students and scientific staff in many organizations use R,
> but only the more "aficionados" among them are subscribed to an R list.
> [factor of 3 ?]
> 
> Other guesses?
> 

Robert once guesstimated 10000 users, which would mean that roughly
one in 10 signs up for mailing lists. That could well be the case, the
mailing list traffic seems comparable to early days of s-news. 

> [Then what would "uses R" mean at all?
>  o  >= 1 hour per week ?
>  o  (one of) your major tool(s) for statistical data analysis?
>  o  ??
> ]

<We could also count the "sold items" since we're on both SuSE and
RedHat CDs (and Debian but do their sales get counted?). Of course one
thing is buying a program another is using it, but hey!, has that ever
stopped others?>

> Linux has (had) an optional Linux Users counter, via nice web interface;
> however I think it had never reached a state where it counted more than a
> tiny fraction of users....

Estimated 1% it seems. It's still there (and has me as #4115 out of
148315) at counter.li.org.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Jun 20 22:43:02 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 20 Jun 2000 21:43:02 +0100 (BST)
Subject: [R] # of users of R, and biological examples of the use of R
In-Reply-To: <x2zoogunl4.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.10.10006202139500.790-100000@localhost>

On 20 Jun 2000, Peter Dalgaard BSA wrote:

> Martin Maechler <maechler at stat.math.ethz.ch> writes:
> 
> > which indicates that 911 different e-mail addresses are subscribed to
> > the R mailing lists (very few of these are mailing lists; 
> > 		     however, also quite a few will be pointing to the same
> > 		     person)
> > 
> > Now, the mailing lists probably contain almost no undergraduate students,
> > and these *are* using R at least in many of the courses...
> > 
> > Further, graduate students and scientific staff in many organizations use R,
> > but only the more "aficionados" among them are subscribed to an R list.
> > [factor of 3 ?]
> > 
> > Other guesses?
> > 
> 
> Robert once guesstimated 10000 users, which would mean that roughly
> one in 10 signs up for mailing lists. That could well be the case, the
> mailing list traffic seems comparable to early days of s-news. 

Sounds plausible, and the MathSoft estimated ratio is more like 30 (but
then their user base will have a more hierarchical support structure).
As I don't know who here is signed up to R-help (but I do for S-news)
I am guessing a bit, but I'd say we had a 20:1 ratio (at uses R for several
hours per year) in my dept for each R and S.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From naumov at acsu.buffalo.edu  Wed Jun 21 00:02:03 2000
From: naumov at acsu.buffalo.edu (Aleksey Naumov)
Date: Tue, 20 Jun 2000 18:02:03 -0400
Subject: [R] dev2bitmap() problem
Message-ID: <394FE9DB.B99DDDC@acsu.buffalo.edu>

Hi R users,

dev2bitmap() is not working for me in R-1.1.0. It says:

> dev2bitmap("aaa.png")
Error in device(...) : Object "width" not found

Anyone else has this problem?

Aleksey

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 21 00:34:44 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 20 Jun 2000 23:34:44 +0100 (BST)
Subject: [R] dev2bitmap() problem
In-Reply-To: <394FE9DB.B99DDDC@acsu.buffalo.edu>
Message-ID: <Pine.GSO.4.05.10006202329580.29595-100000@auk.stats>

On Tue, 20 Jun 2000, Aleksey Naumov wrote:

> Hi R users,
> 
> dev2bitmap() is not working for me in R-1.1.0. It says:
> 
> > dev2bitmap("aaa.png")
> Error in device(...) : Object "width" not found
> 
> Anyone else has this problem?

Yes, it's been broken by the changes to dev.print. But you don't
need it any more: try png() instead.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From naumov at acsu.buffalo.edu  Wed Jun 21 01:23:50 2000
From: naumov at acsu.buffalo.edu (Aleksey Naumov)
Date: Tue, 20 Jun 2000 19:23:50 -0400
Subject: [R] Question on closure (lexical scoping) and encapsulation -- thank 
 you!
References: <39468FC6.B041ED26@acsu.buffalo.edu> <x2snuh5kb6.fsf@blueberry.kubism.ku.dk>
Message-ID: <394FFD06.8859C0F4@acsu.buffalo.edu>

Just wanted to thank everybody for your help and detailed explanation of
how encapsulation works in R. I appreciate the insight you shared.
For the time being I am using Peter Dalgaard's idea - to keep all of
my user attributes in a list, this is simple and does the job, for now :-)

Thanks!

Aleksey

Peter Dalgaard BSA wrote:

> Aleksey Naumov <naumov at acsu.buffalo.edu> writes:
>
> > Dear R users,
> >
> > I have two related questions about scoping and data encapsulation.
> >
> > One is fairly specific - I am looking at "scoping.R" which is used in
> > demo(scoping) - it's an example of lexical scoping and encapsulation.
> > Where is the 'total' stored? It is not an attribute in 'ross' or
> > 'robert'
> > however, functions like balance() have access to it.
>
> It's sitting in the environment of the functions associated with ross
> & robert. Originally as the argument to open.account.
>
> > Is it more or less like a private class member in C++, so that it's not
> > possible to access it from outside of class? Or is it possible to access
> > it
> > in some way?
>
> Try stuff like
>
>  ls(env=environment(ross$withdraw))
>  get("total",env=environment(ross$withdraw))
>  evalq(total <- 0, environment(robert$deposit))
>  robert$balance() # Rob got robbed!
>
> So it's not entirely like private parts in C++.
>
> >
> > The second one is more general - what is the best way to encapsulate
> > some
> > user data with an object like a data frame? I'd like to keep a few user
> > attributes with a data frame... I can think of 3 possibilities, but I
> > don't know if there's a good and reliable standard way:
>
> >     - I tried using attributes(), but found out that subset() gets
> > rid of user attributes and didn't see an easy way to reset them on a
> > subsetted frame (doing it one by one is not an option, and
> > mostattributes() doesn't seem to be there anymore)
>
> It's there (notice that it is "mostattributes<-"), but apparently it
> is broken at the moment, or at least it didn't do what I expected..
> This would not seem fixable for 1.1.0 on Thursday...
>
> Notice however, that nothing is keeping you from having one attribute
> containing several pieces of information, and copying one attribute on
> subsetting is not too hard. You can actually have an entire
> environment as an attribute. (But notice that environments are like
> pointers in C: if you copy one, there's still only one copy of what it
> contains.)
>
> >     - Something like the example used in 'scoping.R'
>
> >     - Using class()? Documentation for class() talks about providing
> > methods for generic functions, but I didn't see an example of
> > accessing user-defined data members/attributes.
>
> I don't think class() will get you anything useful. Something with
> environments, maybe. Notice, BTW, now that you're on the topic, the
> local() function and friends.
>
> In general, the jury is pretty much still out on how to handle the
> kind of construction you seem to desire. Much of the modeling code was
> designed for S compatibility and S doesn't have environments in the
> same way R does, and several people feel that we're not really
> utilizing the potential (then again, others value cross-platform
> portability). Jim Lindsey has some ideas in a paper on his
> website, and Doug Bates used some other ideas for the nls code. It's
> the kind of thing that we really should get around to discussing in a
> systematic manner, but tends to be difficult to get a hold on.
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sarthur at protogene.com  Wed Jun 21 04:31:03 2000
From: sarthur at protogene.com (Stephen Arthur)
Date: Tue, 20 Jun 2000 19:31:03 -0700 (PDT)
Subject: [R] R Applied to Biology Problem
In-Reply-To: <200006090201.EAA29194@stat.math.ethz.ch>
Message-ID: <Pine.LNX.4.21.0006201926420.27536-100000@crick.protogene.com>

Hi R,

See Natalie Roberts talk.  Very good presentation, but when I asked she
said she could not share the data of her talk.

http://www.stat.Berkeley.EDU/users/terry/zarray/Html/Rintro.html

steve

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Wed Jun 21 10:12:29 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Wed, 21 Jun 2000 10:12:29 +0200
Subject: [R] # of users of R
In-Reply-To: <14671.40643.824361.351872@gargle.gargle.HOWL>; from maechler@stat.math.ethz.ch on Tue, Jun 20, 2000 at 06:41:39PM +0200
References: <0006201030360D.00309@ligarto> <14671.40643.824361.351872@gargle.gargle.HOWL>
Message-ID: <20000621101229.A3065@sirio.stat.unipd.it>

On Tue, Jun 20, 2000 at 06:41:39PM +0200, Martin Maechler wrote:
> which indicates that 911 different e-mail addresses are subscribed to
> the R mailing lists (very few of these are mailing lists; 
> 		     however, also quite a few will be pointing to the same
> 		     person)
> 
> Now, the mailing lists probably contain almost no undergraduate students,
> and these *are* using R at least in many of the courses...
> 
> Further, graduate students and scientific staff in many organizations use R,
> but only the more "aficionados" among them are subscribed to an R list.
> [factor of 3 ?]
> 
> Other guesses?

  My 0.01Euro.

  I have checked one moment ago. From my department, there are 
  2 subscriptions to r-announce and 1 (me) to r-help and r-devel.
  Thinking to the users, my estimate are
  (a) staff and post-graduate students: about 20
  (b) under-graduate students: about 300 (many of these (50 to 100?) 
      can be regarded as 'regular users', e.g., R installed on their
      home computer and used not only for the courses for which
      R is required).

  Looking to the subscriptions from other Stats. department in Italy,
  I suspect that our ratio between subscribers and users is one of
  the highest.

  guido




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Wed Jun 21 10:40:42 2000
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Wed, 21 Jun 2000 10:40:42 +0200 (MET DST)
Subject: [R] unequalspaced time-series data
In-Reply-To: <394FA924.1CE75070@imise.uni-leipzig.de> from "Ingo Roeder" at Jun 20, 2000 07:25:56 PM
Message-ID: <200006210840.KAA06694@alpha.luc.ac.be>


> 
> Dear R-users,
> 
> is there any object-type or routine/function in R which can handle
> unequally spaced time-series data? I know that there is the library
> OSWALD for S-Plus, which is able to do so, but I was not successful in
> running it under R. Does anyone can help?

My growth and repeated libraries will probably do what you want:
www.luc.ac.be/~jlindsey/rcode.html
Patrick and I tried to port Oswald to R about 4 years ago (and it still
runs on R 1.0.1), but Oswald is full of bugs.
  Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Wed Jun 21 11:59:34 2000
From: j.logsdon at lancaster.ac.uk (j.logsdon@lancaster.ac.uk)
Date: Wed, 21 Jun 2000 10:59:34 +0100 (GMT)
Subject: [R] # of users of R
In-Reply-To: <20000621101229.A3065@sirio.stat.unipd.it>
Message-ID: <Pine.LNX.4.10.10006211042330.16298-100000@mercury.quantex>

OK - my 0.01UKP's worth ...

As statisticians we should above all be able to make a good estimate (with
confidence intervals) of the R use.  I see three methods for sizing:

1 Taking a sample from the list, which will itself be biased (probably a
self-selected and therefore biased further) and asking these people to
estimate/count how many users there are,

2 In a future version, storing automatically in /usr/lib/R or wherever a
list of the users the first time they use R (ie when .R is set up).  This
number of unique entries on this list can then be requested via an email
to the installers email address (requested at download time).

3 A snowball sample, starting with the present 911 list members, where
people indicate (a) their applications area, (b) platform, (c...y) other
information and (z) nominate other users by email address, returning this
to a dedicated list address. The information is processed automatically,
checked against already known addresses and any new addresses emailed with
the questionnaire.

Method (1) seems to be under discussion at the moment, method (2) would
only asymptote as people downloaded the new versions but is simplest and
method (3) could provide useful further information re expert users etc
since it would be from the actual users rather than possibly the sysadmin
person.

This is not only of academic interest but could be used if necessary when
looking for commercial sponsors, equipment, grants etc.  The email
addresses should of course be kept private - we wouldn't want them
escaping into Outlook Express or a commercial list.

John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Wed Jun 21 14:52:10 2000
From: edd at debian.org (Dirk Eddelbuettel)
Date: Wed, 21 Jun 2000 08:52:10 -0400
Subject: [R] # of users of R
In-Reply-To: <Pine.LNX.4.10.10006211042330.16298-100000@mercury.quantex>; from j.logsdon@lancaster.ac.uk on Wed, Jun 21, 2000 at 10:59:34AM +0100
References: <20000621101229.A3065@sirio.stat.unipd.it> <Pine.LNX.4.10.10006211042330.16298-100000@mercury.quantex>
Message-ID: <20000621085210.A18406@eddelbuettel.com>


Just another random datapoint: Debian has a little known package called
popularity-contest. When this optional package is present, and if the survey
participation is enabled, a list of installed packages is emailed out. [1] 
The aggregated results are on http://www.debian.org/~apenwarr/popcon/

As of last night, it reported 735 participating hosts. Of these, 35 used R.
(Select the 'math' section to fin the r-base package.)

With a few brave assumptions, [2] we get a guestimate of 107,000 R users on
Linux alone. [3] 

Dirk


[1] This is as anonymous as it can be given the constraints. A random md5sum
hash is used to distinguish between the participating hosts and mail-headers
are dropped as soon as possible. 

[2] Let's assume that the ratio estimate is not biased and that Debian has
15% of the Linux installations which itself now stand at 15 million users.

[3] Mind the ~/.signature taken from fortune(1). I did say brave assumptions.

-- 
According to the latest figures, 43% of all statistics are totally worthless.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Wed Jun 21 16:16:48 2000
From: j.logsdon at lancaster.ac.uk (j.logsdon@lancaster.ac.uk)
Date: Wed, 21 Jun 2000 15:16:48 +0100 (GMT)
Subject: [R] # of users of R
In-Reply-To: <20000621085210.A18406@eddelbuettel.com>
Message-ID: <Pine.LNX.4.10.10006211505130.16298-100000@mercury.quantex>

Useful info from Dirk but this measures number of R Linux installations,
not users.  If 100K is an approximate number of R Linux installations,
then the likely number of Linux R users could be somewhat more.  In my
case, I have one installation and one user since only I use it but I am
sure that there are many cases with 2, 10, 100 etc users per installation.

In addition, as Dirk says, there will be a substantial number of non-Linux
users on other Unix platforms as well as Windows.

Anyone care to make a guess?  I would estimate that there are 1/2 million
actual R users but this could be out by a sd */2 at least.  

John

On Wed, 21 Jun 2000, Dirk Eddelbuettel wrote:

> 
> Just another random datapoint: Debian has a little known package called
> popularity-contest. When this optional package is present, and if the survey
> participation is enabled, a list of installed packages is emailed out. [1] 
> The aggregated results are on http://www.debian.org/~apenwarr/popcon/
> 
> As of last night, it reported 735 participating hosts. Of these, 35 used R.
> (Select the 'math' section to fin the r-base package.)
> 
> With a few brave assumptions, [2] we get a guestimate of 107,000 R users on
> Linux alone. [3] 
> 
> Dirk
> 
> 
> [1] This is as anonymous as it can be given the constraints. A random md5sum
> hash is used to distinguish between the participating hosts and mail-headers
> are dropped as soon as possible. 
> 
> [2] Let's assume that the ratio estimate is not biased and that Debian has
> 15% of the Linux installations which itself now stand at 15 million users.
> 
> [3] Mind the ~/.signature taken from fortune(1). I did say brave assumptions.
> 
> -- 
> According to the latest figures, 43% of all statistics are totally worthless.
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From salwin at mitretek.org  Wed Jun 21 16:36:38 2000
From: salwin at mitretek.org (Art Salwin)
Date: Wed, 21 Jun 2000 10:36:38 -0400
Subject: [R] Sorting in R
References: <Pine.GSO.4.21.0005150822060.3462-100000@mail.biostat.washington.edu>
Message-ID: <3950D2F6.F057C89F@mitretek.org>

How do you sort one vector using another vector as a sort
key?  Sort of equivalent
to sorting rows of a spreadsheet using one of its columns as
key.  Here's a simple example:

name<-c("Joe","Sue","Mary")
age<-c(22, 57, 13)
zipcode<-(50854, 20617, 91234)
If we sort the name vector in zipcode order we should get
mary, joe, sue
If we sort name in age order we should get sue, joe, mary
Having secondary keys to break ties would be nice, as would
the ability to sort (in this example)
all 3 vectors at once.

Any help appreciated.
-- 
Art Salwin
salwin at mitretek.org
(202) 863-2985
(202) 863-2988 (fax)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Wed Jun 21 16:41:24 2000
From: gb at stat.umu.se (gb)
Date: Wed, 21 Jun 2000 16:41:24 +0200 (CEST)
Subject: [R] # of users of R
In-Reply-To: <Pine.LNX.4.10.10006211505130.16298-100000@mercury.quantex>
Message-ID: <Pine.LNX.4.21.0006211632370.26449-100000@pc16.stat.umu.se>

On Wed, 21 Jun 2000 j.logsdon at lancaster.ac.uk wrote:

> Useful info from Dirk but this measures number of R Linux installations,
> not users.  If 100K is an approximate number of R Linux installations,
> then the likely number of Linux R users could be somewhat more.  In my
> case, I have one installation and one user since only I use it but I am
> sure that there are many cases with 2, 10, 100 etc users per installation.
[...]

I guess that there also are some cases with several installations per
user; I have seven installations; one sparc-linux, three i386-linux,
and three Windows! On only five machines, though.

G?ran

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Wed Jun 21 16:44:54 2000
From: gb at stat.umu.se (gb)
Date: Wed, 21 Jun 2000 16:44:54 +0200 (CEST)
Subject: [R] Sorting in R
In-Reply-To: <3950D2F6.F057C89F@mitretek.org>
Message-ID: <Pine.LNX.4.21.0006211643590.26449-100000@pc16.stat.umu.se>

On Wed, 21 Jun 2000, Art Salwin wrote:

> How do you sort one vector using another vector as a sort
> key?  Sort of equivalent
> to sorting rows of a spreadsheet using one of its columns as
> key.  Here's a simple example:
> 
> name<-c("Joe","Sue","Mary")
> age<-c(22, 57, 13)
> zipcode<-(50854, 20617, 91234)
> If we sort the name vector in zipcode order we should get
> mary, joe, sue
> If we sort name in age order we should get sue, joe, mary
> Having secondary keys to break ties would be nice, as would
> the ability to sort (in this example)
> all 3 vectors at once.
> 
> Any help appreciated.
> 

Try

> ?order

Goran

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Jun 21 17:30:51 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 21 Jun 2000 08:30:51 -0700 (PDT)
Subject: [R] unequalspaced time-series data
In-Reply-To: <200006210840.KAA06694@alpha.luc.ac.be>
Message-ID: <Pine.GSO.4.21.0006210822120.11003-100000@atlas.biostat.washington.edu>

On Wed, 21 Jun 2000, Jim Lindsey wrote:
> > 
> > Dear R-users,
> > 
> > is there any object-type or routine/function in R which can handle
> > unequally spaced time-series data? I know that there is the library
> > OSWALD for S-Plus, which is able to do so, but I was not successful in
> > running it under R. Does anyone can help?
> 
> My growth and repeated libraries will probably do what you want:
> www.luc.ac.be/~jlindsey/rcode.html
> Patrick and I tried to port Oswald to R about 4 years ago (and it still
> runs on R 1.0.1), but Oswald is full of bugs.

I also tried to port OSWALD (or at least the pcmid() informative dropout
function) earlier this year.  I didn't find as many bugs as Jim reports,
but there was a lot of complicated code designed to make S look more
object-oriented than it really is, much of which needed complete rewriting
to work in R.  I had hoped that porting pcmid() would be quicker than
starting from scratch, but this probably wasn't the case.


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vadim at kutsyy.com  Wed Jun 21 17:29:49 2000
From: vadim at kutsyy.com (Vadim Kutsyy)
Date: Wed, 21 Jun 2000 11:29:49 -0400
Subject: [R] Porting S library which use "graphics.h" and "device.h"
Message-ID: <OFEGJMACADMFOKHCCFBJOEAOCIAA.vadim@kutsyy.com>

Hello.

I am porting Splus library to R, which use S "graphics.h" and "device.h",
the library makes a number of high resolution plots using these.

Does anyone have an experience with similar porting?  I don't really want to
rewrite all C code, so any recommendation would be helpful.

Thanks.

---------------------------
Vadim Kutsyy
vadim at kutsyy.com
http://www.kutsyy.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jimrc at gauss.math.montana.edu  Wed Jun 21 17:33:36 2000
From: jimrc at gauss.math.montana.edu (Jim Robison-Cox)
Date: Wed, 21 Jun 2000 09:33:36 -0600 (MDT)
Subject: [R] Sorting in R
In-Reply-To: <3950D2F6.F057C89F@mitretek.org>
Message-ID: <Pine.GSO.4.02.10006210928410.955-100000@gauss.math.montana.edu>

On Wed, 21 Jun 2000, Art Salwin wrote:

> How do you sort one vector using another vector as a sort
> key?  Sort of equivalent
> to sorting rows of a spreadsheet using one of its columns as
> key.  Here's a simple example:
> 
> name<-c("Joe","Sue","Mary")
> age<-c(22, 57, 13)
> zipcode<-(50854, 20617, 91234)

For brevity, I'd make these into a data frame:
 spsheet <- data.frame(name,age,zip)

> If we sort the name vector in zipcode order we should get
> mary, joe, sue

 name(order(zip))
or
spsheet[order(zip),]

> If we sort name in age order we should get sue, joe, mary

   name(order(age))
or
spsheet[order(age),]


> Having secondary keys to break ties would be nice, as would
> the ability to sort (in this example)
> all 3 vectors at once.

 That's a bit harder,  I would sort first on the secondary column, then
the primary.  Or tertiary - secondary - primary.

 If primary is name, secondary age, tertiary zip:
spsheet <- spsheet[order(zip),]
spsheet <- spsheet[order(age),]
spsheet[order(name),]
 
  I hope someone has a better way.

> Any help appreciated.
> -- 
> Art Salwin
> salwin at mitretek.org
> (202) 863-2985
> (202) 863-2988 (fax)
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Jim Robison-Cox               ____________    
Department of Math Sciences  |            |       phone: (406)994-5340
2-214 Wilson Hall             \   BZN, MT |       FAX:   (406)994-1789
Montana State University       |  *_______|
Bozeman, MT 59717-2400          \_|      e-mail: jimrc at math.montana.edu 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Jun 21 17:36:23 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 21 Jun 2000 08:36:23 -0700 (PDT)
Subject: [R] # of users of R
In-Reply-To: <Pine.LNX.4.10.10006211505130.16298-100000@mercury.quantex>
Message-ID: <Pine.GSO.4.21.0006210833480.11003-100000@atlas.biostat.washington.edu>

On Wed, 21 Jun 2000 j.logsdon at lancaster.ac.uk wrote:

> Useful info from Dirk but this measures number of R Linux installations,
> not users.  If 100K is an approximate number of R Linux installations,
> then the likely number of Linux R users could be somewhat more.  In my
> case, I have one installation and one user since only I use it but I am
> sure that there are many cases with 2, 10, 100 etc users per installation.

Also cases with fewer than 1 user, ie "Hmm. R looks like an interesting
package. Maybe I should install it in case I need to do some statistics
some time."
or
"We're a math department, we want all of the mathematical packages"
or even people who install everything.

Obviously that last group will be overrepresented in the Debian popularity
contest.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Jun 21 17:40:52 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 21 Jun 2000 08:40:52 -0700 (PDT)
Subject: [R] Sorting in R
In-Reply-To: <Pine.GSO.4.02.10006210928410.955-100000@gauss.math.montana.edu>
Message-ID: <Pine.GSO.4.21.0006210839150.11003-100000@atlas.biostat.washington.edu>

On Wed, 21 Jun 2000, Jim Robison-Cox wrote:

> On Wed, 21 Jun 2000, Art Salwin wrote:
> 
> > How do you sort one vector using another vector as a sort
> > key?  Sort of equivalent
> > to sorting rows of a spreadsheet using one of its columns as
> > key.  Here's a simple example:


> > Having secondary keys to break ties would be nice, as would
> > the ability to sort (in this example)
> > all 3 vectors at once.
> 
>  That's a bit harder,  I would sort first on the secondary column, then
> the primary.  Or tertiary - secondary - primary.

If you look at the doucmentation for order() you will find that it allows
secondary and tertiary keys. There's even an example.


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun 21 17:47:18 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Jun 2000 17:47:18 +0200
Subject: [R] Porting S library which use "graphics.h" and "device.h"
In-Reply-To: "Vadim Kutsyy"'s message of "Wed, 21 Jun 2000 11:29:49 -0400"
References: <OFEGJMACADMFOKHCCFBJOEAOCIAA.vadim@kutsyy.com>
Message-ID: <x2lmzzc9yx.fsf@blueberry.kubism.ku.dk>

"Vadim Kutsyy" <vadim at kutsyy.com> writes:

> Hello.
> 
> I am porting Splus library to R, which use S "graphics.h" and "device.h",
> the library makes a number of high resolution plots using these.
> 
> Does anyone have an experience with similar porting?  I don't really want to
> rewrite all C code, so any recommendation would be helpful.

Unless it is actually implementing its own device driver (in which
case you have a fairly substantial amount of work on your hands...),
chances are that only a couple of low-level items are being used. So
the task would be to figure out what those things are and how to get
similar functionality in R. What happens if you remove the #includes?? 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun 21 17:56:22 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Jun 2000 17:56:22 +0200
Subject: [R] Sorting in R
In-Reply-To: Jim Robison-Cox's message of "Wed, 21 Jun 2000 09:33:36 -0600 (MDT)"
References: <Pine.GSO.4.02.10006210928410.955-100000@gauss.math.montana.edu>
Message-ID: <x2itv3c9jt.fsf@blueberry.kubism.ku.dk>

Jim Robison-Cox <jimrc at gauss.math.montana.edu> writes:

> On Wed, 21 Jun 2000, Art Salwin wrote:
> 
> > Having secondary keys to break ties would be nice, as would
> > the ability to sort (in this example)
> > all 3 vectors at once.
> 
>  That's a bit harder,  I would sort first on the secondary column, then
> the primary.  Or tertiary - secondary - primary.
> 
>  If primary is name, secondary age, tertiary zip:
> spsheet <- spsheet[order(zip),]
> spsheet <- spsheet[order(age),]
> spsheet[order(name),]
>  
>   I hope someone has a better way.

Indeedy:

spsheet[order(name,age,zip),]

Two things (well really the same thing) that R is not good at:

(a) sorting descending
(b) alternate collating sequence

(a) works for numeric vectors (order(-x)) but not character. One might
consider having an ordering-function argument, defaulting to "<"



-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Wed Jun 21 17:51:14 2000
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Wed, 21 Jun 2000 17:51:14 +0200 (CEST)
Subject: [R] # of users of R
In-Reply-To: <Pine.GSO.4.21.0006210833480.11003-100000@atlas.biostat.washington.edu>
References: <Pine.LNX.4.10.10006211505130.16298-100000@mercury.quantex>
	<Pine.GSO.4.21.0006210833480.11003-100000@atlas.biostat.washington.edu>
Message-ID: <14672.58482.566053.903121@galadriel.ci.tuwien.ac.at>


OK, we're statisticians so let's use some real data and not only
guestimates ... in

	http://www.ci.tuwien.ac.at/~leisch/cran-http.report/

you find some usage statistics about the CRAN *master* site (with all
traffic inside our domain removed). Beware that not every hit is a
potential user as search engines (``crawlers'') heavily bias the log
files. It's alo only data on our server, no cran.(ch|dk|uk|us|...) or
statlib (with it's own mirrors). Also obviously all people using the
version from their linux distribution are missing),

But it's something to play with :-)

Have fun,
Fritz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Wed Jun 21 17:57:23 2000
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Wed, 21 Jun 2000 17:57:23 +0200 (CEST)
Subject: [R] # of users of R
In-Reply-To: <14672.58482.566053.903121@galadriel.ci.tuwien.ac.at>
References: <Pine.LNX.4.10.10006211505130.16298-100000@mercury.quantex>
	<Pine.GSO.4.21.0006210833480.11003-100000@atlas.biostat.washington.edu>
	<14672.58482.566053.903121@galadriel.ci.tuwien.ac.at>
Message-ID: <14672.58851.718974.338539@galadriel.ci.tuwien.ac.at>



What I forgot: FTP and rsync are also missing (webalizer seems not to
like their log files).

.f


>>>>> On Wed, 21 Jun 2000 17:51:14 +0200 (CEST),
>>>>> Friedrich Leisch (FL) wrote:

FL> OK, we're statisticians so let's use some real data and not only
FL> guestimates ... in

FL> 	http://www.ci.tuwien.ac.at/~leisch/cran-http.report/

FL> you find some usage statistics about the CRAN *master* site (with all
FL> traffic inside our domain removed). Beware that not every hit is a
FL> potential user as search engines (``crawlers'') heavily bias the log
FL> files. It's alo only data on our server, no cran.(ch|dk|uk|us|...) or
FL> statlib (with it's own mirrors). Also obviously all people using the
FL> version from their linux distribution are missing),

FL> But it's something to play with :-)

FL> Have fun,
FL> Fritz

FL> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
FL> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
FL> Send "info", "help", or "[un]subscribe"
FL> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
FL> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Wed Jun 21 18:09:47 2000
From: edd at debian.org (Dirk Eddelbuettel)
Date: Wed, 21 Jun 2000 12:09:47 -0400
Subject: [R] # of users of R
In-Reply-To: <Pine.GSO.4.21.0006210833480.11003-100000@atlas.biostat.washington.edu>; from thomas@biostat.washington.edu on Wed, Jun 21, 2000 at 08:36:23AM -0700
References: <Pine.LNX.4.10.10006211505130.16298-100000@mercury.quantex> <Pine.GSO.4.21.0006210833480.11003-100000@atlas.biostat.washington.edu>
Message-ID: <20000621120947.A19104@eddelbuettel.com>


On Wed, Jun 21, 2000 at 08:36:23AM -0700, Thomas Lumley wrote:
> Also cases with fewer than 1 user, ie "Hmm. R looks like an interesting
> package. Maybe I should install it in case I need to do some statistics
> some time."
> or
> "We're a math department, we want all of the mathematical packages"
> or even people who install everything.
> 
> Obviously that last group will be overrepresented in the Debian popularity
> contest.

Well, popularity-contest tries to be a little smarter and uses atime and
ctime as reported by find(1) to differentiate between 'used' and 'installed
but not used' as well as 'recently installed' software.

The full result for r-base is 35 'recently used', 49 'installed but not
used' and 8 'recently upgraded'. 

However, your critic might still be valid here as upon installation, the
postinst script uses perl to adjust the R_PAPERSIZE based on paperconf(1).
This mightprobably triggers the atime upon package upgrade. 

Dirk

-- 
According to the latest figures, 43% of all statistics are totally worthless.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From helgito at hi.is  Wed Jun 21 18:51:18 2000
From: helgito at hi.is (Helgi Tomasson)
Date: Wed, 21 Jun 2000 16:51:18 +0000
Subject: [R] x11 support missing
Message-ID: <3950F286.8570DFB6@rhi.hi.is>

I just compiled R-1.1.0 on two systems, redhat 5.2 (sparse) and suse 6.3
(loaded) . On
redhad I got x11 support yes on suse I got x11support no. I cannot
figure out the difference

./configure gives in both cases

  Source directory:         .
  Installation directory:   /usr/local
  C compiler:               gcc  -mieee-fp -D__NO_MATH_INLINES -g -O2
  FORTRAN compiler:         g77  -g -O2
  X11 support:              yes    ------------------------ on suse 6.3 it is no  WHY?
  Gnome support:            no
  Tcl/Tk support:           yes

Is there some environment variable missing or is something from X missing?

regards

Helgi

--
Helgi Tomasson                                       FAX:  354-552-6806
University of Iceland                                PHONE:354-525-4571
Faculty of Economics and Business Administration     email:helgito at rhi.hi.is
Oddi v/ Sturlugotu
IS-101 Reykjavik
ICELAND



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kleiber at statistik.uni-dortmund.de  Wed Jun 21 18:46:55 2000
From: Kleiber at statistik.uni-dortmund.de (Christian Kleiber)
Date: Wed, 21 Jun 2000 18:46:55 +0200
Subject: [R] pacf, round two
References: <Pine.GSO.4.05.10006201450360.28790-100000@auk.stats>
Message-ID: <3950F17F.BD907008@statistik.uni-dortmund.de>

Dear Professor Ripley,

> > Dear list,
> >
> > according to the documentation of acf{ts}
> >
> > "the partial correlation coefficient is estimated by fitting
> > autoregressive models of successively higher orders up to lag.max. "
> >
> > However, R seems to return the Yule-Walker estimates of the PACF by
> > default.
>
> R provides four methods to `Fit Autoregressive Models to Time
> Series' in function ar(), and the default there is indeed Yule-Walker, so
> this seems self-consistent.

My remark concerned acf() and pacf(), not ar().

> It does not say `running autoregressions', and I believe it to be standard
> in the time-series field to fit autoregressive models *by Yule-Walker* to
> estimate pacfs.  Indeed, in the first two books I have just looked in, that
> is the definition of the sample PACF (in the univariate case).  So I don't
> think these are `the Yule-Walker estimates of the PACF' but the `sample
> PACF'.

I have little to disagree with your remarks on standard procedures and textbook
definitions. It is indeed standard in the time series field to estimate AR
models, as well as the ACF and PACF, by Yule-Walker. Hence, what R and S do is
standard. Still, there are other - infrequently used - estimators for the PACF,
e.g. OLS or the Burg method. What acf() and pacf() return are the Yule-Walker
estimates of the PACF.

A leading text, Brockwell and Davis 1991 (I assume our bookshelves are not
disjoint?), defines the theoretical PACF in two different ways (YW, OLS) and
shows that both definitions are equivalent. Later, the sample PACF is solely
defined via YW. In contrast, Box and Jenkins (1976, p. 65) mention YW and OLS
estimators and note that the former "should not be used if the values of the
[AR] parameters are close to the nonstationary boundaries". This is common for,
e.g., economic time series.

Apparently I read too much into the documentation. From  (acf{ts})

``For `type' = `"correlation"' and `"covariance"', the estimates are based on
the sample covariance.
The partial correlation coefficient is estimated by fitting autoregressive
models of successively higher orders up to `lag.max'."

I concluded - as it turned out, erroneously - that R provides estimates based
on OLS. As R employs YW, the documentation could read

``For * all types * the estimates are based on the sample autocovariances."

The remark on the PACF seemed to imply that things are done differently here,
and I was surprised to find that R returns YW estimates. After all, ``fitting
autoregressive models of successively higher orders" is ambiguous.

> I assume by `running autoregressions' you mean what ar.ols does:
> if that is what you want that is provided too.  But it is not the only nor
> even the
> usual meaning of `fitting' an AR(p) model to time-series data, especially
> assuming stationarity (as the definitions of acf and pacf do).
>
> I am a bit of a loss as to what your point was.  Are you really suggesting
> that what R (and S) does is not absolutely standard using standard
> terminology?  If so your bookshelf must be a disjoint set from mine.

In the S-PLUS Help on acf() one finds

"... For the partial autocorrelation function, the Levinson-Durbin recursion is
used to fit AR(p) models to x successively for p = 1, ..., lag.max, and from
the AR-coefficients the partial autocorrelation function values are derived."

This is unambiguous. I feel R users would be better off if the algorithm
employed by pacf() was identified in help(pacf). I found the R documentation
somewhat vague, if not misleading. I still do.

Best regards,
Christian Kleiber

NB:    Sorry for the long reply, but I believe the issue is of some interest to
R users.


-------------- next part --------------
A non-text attachment was scrubbed...
Name: Kleiber.vcf
Type: text/x-vcard
Size: 324 bytes
Desc: Visitenkarte fr Christian Kleiber
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000621/763026a4/Kleiber.vcf

From p.dalgaard at biostat.ku.dk  Wed Jun 21 18:53:09 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Jun 2000 18:53:09 +0200
Subject: [R] x11 support missing
In-Reply-To: Helgi Tomasson's message of "Wed, 21 Jun 2000 16:51:18 +0000"
References: <3950F286.8570DFB6@rhi.hi.is>
Message-ID: <x2vgz3562y.fsf@blueberry.kubism.ku.dk>

Helgi Tomasson <helgito at hi.is> writes:

> I just compiled R-1.1.0 on two systems, redhat 5.2 (sparse) and suse 6.3
> (loaded) . On
> redhad I got x11 support yes on suse I got x11support no. I cannot
> figure out the difference
> 
> ./configure gives in both cases
> 
>   Source directory:         .
>   Installation directory:   /usr/local
>   C compiler:               gcc  -mieee-fp -D__NO_MATH_INLINES -g -O2
>   FORTRAN compiler:         g77  -g -O2
>   X11 support:              yes    ------------------------ on suse 6.3 it is no  WHY?
>   Gnome support:            no
>   Tcl/Tk support:           yes
> 
> Is there some environment variable missing or is something from X missing?

The scientific way of figuring out is to look inside config.log and
see what test is failing at that point and what the error message
looks like.

<Usual question: You didn't leave a config.cache in your build
directory from the RedHat build, did you?>

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Jun 21 18:47:59 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 21 Jun 2000 09:47:59 -0700 (PDT)
Subject: [R] x11 support missing
In-Reply-To: <3950F286.8570DFB6@rhi.hi.is>
Message-ID: <Pine.GSO.4.21.0006210943130.11003-100000@atlas.biostat.washington.edu>

On Wed, 21 Jun 2000, Helgi Tomasson wrote:

> I just compiled R-1.1.0 on two systems, redhat 5.2 (sparse) and suse 6.3
> (loaded) . On
> redhad I got x11 support yes on suse I got x11support no. I cannot
> figure out the difference

Most likely the X11 header files are either missing or are somewhere
strange. They should be somewhere like /usr/include/X11 or
/usr/X11R6/include/X11.

If they aren't installed you need to install them. If they are somewhere
strange you can use the --x-includes=DIR and/or --x-libraries=DIR options
to tell configure where to look.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Wed Jun 21 19:50:38 2000
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Wed, 21 Jun 2000 13:50:38 -0400 (EDT)
Subject: [R] postscript problem in 1.1.0
Message-ID: <Pine.SGI.3.96.1000621130749.27613G-100000@ln.nimh.nih.gov>

Hi.

I just compiled R 1.1.0 on a Xeon machine running Linux.  When I try to
open a postscript file, I get the error 

Error in old$command == "default" : comparison (1) is possible only for
vector types

The offending line seems to be 

    if (old$command == "default") 
        old$command <- if (!is.null(cmd <- getOption("printcmd"))) 
            cmd
    else "" 

which has been added since 1.0.1. 

The problem seems to be that old has no component named command. 
ps.options doesn't return any such component, nor will it allow any such
component to be set, even with override.check = T.  And removing the lines
doesn't work, because the internal PS function called at the end of the
function looks for old$command, too. 

I was able to use postscript in 1.0.1.  I looked through the NEWS, but
couldn't find anything that seems to address this problem. 

Any help appreciated.

Matt Wiener



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 21 20:03:57 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 21 Jun 2000 19:03:57 +0100 (BST)
Subject: [R] pacf, round two
In-Reply-To: <3950F17F.BD907008@statistik.uni-dortmund.de>
Message-ID: <Pine.GSO.4.05.10006211856460.20797-100000@auk.stats>

On Wed, 21 Jun 2000, Christian Kleiber wrote:

> A leading text, Brockwell and Davis 1991 (I assume our bookshelves are not
> disjoint?), defines the theoretical PACF in two different ways (YW, OLS) and
> shows that both definitions are equivalent. Later, the sample PACF is solely
> defined via YW. 

Exactly, on page 102. My copy says nothing about OLS on pages 98-102, which
is what the index points to for the definition of the PACF. This was the
first book I picked up.

I don't see how the theoretical PACF can be defined by methods of
estimation.  Partial correlation coefficients have nothing to do with OLS.

> In the S-PLUS Help on acf() one finds
> 
> "... For the partial autocorrelation function, the Levinson-Durbin recursion is
> used to fit AR(p) models to x successively for p = 1, ..., lag.max, and from
> the AR-coefficients the partial autocorrelation function values are derived."
> 
> This is unambiguous. I feel R users would be better off if the algorithm

No, it isn't. To what is the Levinson-Durbin recursion recursion applied?
There are lots of the correlation matrix estimates to start it.

BTW, I did not write that page but I feel that only people who are careless
would be misled.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 21 20:29:24 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 21 Jun 2000 19:29:24 +0100 (BST)
Subject: [R] postscript problem in 1.1.0
In-Reply-To: <Pine.SGI.3.96.1000621130749.27613G-100000@ln.nimh.nih.gov>
Message-ID: <Pine.GSO.4.05.10006211921270.20797-100000@auk.stats>

On Wed, 21 Jun 2000, Matthew Wiener wrote:

> Hi.
> 
> I just compiled R 1.1.0 on a Xeon machine running Linux.  When I try to
> open a postscript file, I get the error 
> 
> Error in old$command == "default" : comparison (1) is possible only for
> vector types
> 
> The offending line seems to be 
> 
>     if (old$command == "default") 
>         old$command <- if (!is.null(cmd <- getOption("printcmd"))) 
>             cmd
>     else "" 
> 
> which has been added since 1.0.1. 
> 
> The problem seems to be that old has no component named command. 
> ps.options doesn't return any such component, nor will it allow any such
> component to be set, even with override.check = T.  And removing the lines
> doesn't work, because the internal PS function called at the end of the
> function looks for old$command, too. 
> 
> I was able to use postscript in 1.0.1.  I looked through the NEWS, but
> couldn't find anything that seems to address this problem. 

[Well, there is a lot about postscript() changes there.]

Try looking in the NEWS of R-patched (formerly R-release).  The problem is
that you have a saved .Postscript.options object from an earlier release of
R. None of us testing it did, so I guess it must be rare to set
ps.options() and then save the workspace.


I have already posted a fix here, which is to use

.Postscript.options$command <- "default"

to update your saved object. The R-patched version of postscript() has

    if(is.null(old$command) || old$command == "default")
        old$command <- if(!is.null(cmd <- getOption("printcmd"))) cmd else ""

R-patched is supposed to have all the current patches applied, but as we
have had problems with it recently, don't take my word for it.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From acuster at nopause.berkeley.edu  Wed Jun 21 21:10:41 2000
From: acuster at nopause.berkeley.edu (Adrian Vance Custer)
Date: Wed, 21 Jun 2000 12:10:41 -0700
Subject: [R] converting a string to an element in a function call
Message-ID: <20000621121041.A6391@nopause.berkeley.edu>

Hello everyone,

I'm trying to write a function that will step through a vector of strings and
evaluate the contribution to the R-squared of each in turn. I suspect this is
related to the anova(model) call but not quite sure how and anova() is order
dependent so I have to step through orders anyhow.

The issue is that I pass a vector of strings to the function and want to use it
as:

update(.~.+ do.something.to.the.string(vector.argument.of.strings[i])
or in the code below
update(.~.+unknown(facvec[i]))

I've tried a whole bunch of things I don't understand parse(),as.expession()
and the as.name() below but none seem to work.



Here is the function I am using:

function(facvec,base.lm){
if ( missing(facvec) || missing(base.lm) ){
  cat("This script assesses the contribution of terms in a lm model.\n")
  cat("   It expects a vector of names and a lm.object to update.\n")
  cat("   as in script.name(facvec,base.lm).\n")
  stop()
}
a_0
i_0
base.r2_summary(base.lm)$r.squared
for (i in 1:length(facvec)){
  a[i]_c(fac=summary(update(base.lm,.~.+as.name(facvec[i])))$r.squared-base.r2)
  i_i+1
}
return(a)
}


Thanks for any help,
adrian
acuster at nature.berkeley.edu


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Jun 21 21:38:05 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 21 Jun 2000 12:38:05 -0700 (PDT)
Subject: [R] converting a string to an element in a function call
In-Reply-To: <20000621121041.A6391@nopause.berkeley.edu>
Message-ID: <Pine.GSO.4.21.0006211233300.11003-100000@atlas.biostat.washington.edu>

On Wed, 21 Jun 2000, Adrian Vance Custer wrote:

> Hello everyone,
> 

> The issue is that I pass a vector of strings to the function and want to use it
> as:
> 
> update(.~.+ do.something.to.the.string(vector.argument.of.strings[i])
> or in the code below
> update(.~.+unknown(facvec[i]))

There's probably a way to do this more directly, but you can use
substitute() to update the formula.

update(model,substitute(.~.+new,list(new=as.name(facvec[i]))))


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.adi.purnomo at EnergyLink.co.nz  Thu Jun 22 00:15:18 2000
From: s.adi.purnomo at EnergyLink.co.nz (Peppy)
Date: Thu, 22 Jun 2000 10:15:18 +1200
Subject: [R] SAS dataset
Message-ID: <2AEEA90C9555D11198D70000F879081419B974@ELSRV1>

Hello,

Is there any way we convert SAS dataset into R dataset?

Kindest Regards,
Peppy Adi-Purnomo

------
Peppy Adi-Purnomo
Energy Market Analyst

Energy Link Ltd
Dunedin - New Zealand	

Ph.: +64 3 479 2475
Fax: +64 3 477 8424

Email: s.adi.purnomo at energylink.co.nz
www.EnergyLink.co.nz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun 22 01:13:38 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Jun 2000 01:13:38 +0200
Subject: [R] SAS dataset
In-Reply-To: Peppy's message of "Thu, 22 Jun 2000 10:15:18 +1200"
References: <2AEEA90C9555D11198D70000F879081419B974@ELSRV1>
Message-ID: <x2snu6ocf1.fsf@blueberry.kubism.ku.dk>

Peppy <s.adi.purnomo at EnergyLink.co.nz> writes:

> Hello,
> 
> Is there any way we convert SAS dataset into R dataset?
> 
> Kindest Regards,
> Peppy Adi-Purnomo
> 

In the contrib/Devel section on CRAN is foreign_0.1-3.tar.gz which has
some stuff on reading SAS XPORT files and Minitab too. 

As far as I gathered, this was intended for a major conversion task
which never came off, so the code still has some rough edges.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lorenmc at socrates.berkeley.edu  Thu Jun 22 01:36:57 2000
From: lorenmc at socrates.berkeley.edu (loren mccarter)
Date: Wed, 21 Jun 2000 16:36:57 -0700 (PDT)
Subject: [R] SAS dataset
In-Reply-To: <2AEEA90C9555D11198D70000F879081419B974@ELSRV1>
Message-ID: <Pine.GSO.4.21.0006211632250.4798-100000@socrates.berkeley.edu>

There is the "foreign" library in the developmental section of
www.r-project.org. Unfortunately I have not had time to try
library but it supports SAS datasets as far as I've read. 

I've been quite successful with a combination of "PROC EXPORT" in
SAS (> V7) and "read.csv" in R. Pretty seamless for the data with which
I've been working. 

Loren




On Thu, 22 Jun 2000, Peppy wrote:

> Hello,
> 
> Is there any way we convert SAS dataset into R dataset?
> 
> Kindest Regards,
> Peppy Adi-Purnomo
> 
> ------
> Peppy Adi-Purnomo
> Energy Market Analyst
> 
> Energy Link Ltd
> Dunedin - New Zealand	
> 
> Ph.: +64 3 479 2475
> Fax: +64 3 477 8424
> 
> Email: s.adi.purnomo at energylink.co.nz
> www.EnergyLink.co.nz
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Thu Jun 22 02:02:48 2000
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Thu, 22 Jun 2000 10:02:48 +1000 (EST)
Subject: [R] Re: [S] Transfer between R and S-PLUS
Message-ID: <200006220002.KAA10448@leonard.anu.edu.au>

Mike Prager wrote -

....

BDR>>Oh, and the R dialect of S has different scope rules and I am not
>>convinced that does not lead to an equal number of problems, just
>>different ones.

>Interesting observation, and one that seems to imply that the road
>from S to R and back again will be a rocky one for the user.

It depends on what one is doing.  If the use of R and S-PLUS does not
go much beyond writing functions for one's own use, my experience has
been that it is pretty easy to make the transition, in both
directions.  It is necessary to be aware of a few key differences.
Some that occur to me are: 

R's handling of NA is more intuitive; x[x<1] <- y[x<1] is pretty
much a disaster in S-PLUS if x has missing values

the default parameterisation of factors in R uses contrasts with a
baseline level (`treatment' contrasts, not S-PLUS's `helmert'
contrasts which novices rightly find puzzling),

assign(.., frame=1) is often needed in S-PLUS where the structure is
anyway visible in R,

constructs such as I(x^2) are needed in R model formulae where in
S-PLUS one can get away without them.

output structures from R functions may be different from their 
S-PLUS couterparts, and one needs to check.

I have found it fairly easy to move between R and S-PLUS in the
courses that we run for graduate students.  This has turned up
a few instances where a minor S-PLUS functionality that one needs
is missing in R.  Usually it has been easy to add.  My notes
"Data Analysis and Graphics Using R" started in an S-PLUS
incarnation.  It was reasonably easy (and highly educational) to
convert across both the examples and the graphs.

John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Thu Jun 22 02:12:53 2000
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Thu, 22 Jun 2000 00:12:53 GMT
Subject: [R] Current archive of r-help?
Message-ID: <39555971.14530620@julian.uwo.ca>

Is there an online archive of r-help that shows recent postings?  The
one I saw on CRAN posted monthly collections, the last one at the end
of May.

The reason I ask is that I want to re-read that thread on the arrow
keys not working in the latest Windows release.  I appear to have been
bitten by the same bug, and can't remember if anyone found a solution.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gardar at stat.ohio-state.edu  Thu Jun 22 02:45:04 2000
From: gardar at stat.ohio-state.edu (Gardar Johannesson)
Date: Wed, 21 Jun 2000 20:45:04 -0400 (EDT)
Subject: [R] 'pausing' in R
Message-ID: <Pine.SOL.4.10.10006212021230.10027-100000@spatial.mps.ohio-state.edu>



I have this 'odd' problem; I need to let R pause, for a given time, before
starting next iteration in a loop.  I'm using the following to do this
task, but feel a little bit guilty because I'm using as much CPU time as I
can get while pausing:

while(keepGoing) {
  t.end <- proc.time()[3] + 5  ## the time this loop should end at

  [block of R commands]
	
  while(proc.time()[3] < t.end) {}
}

This guaranty, at least, 5 second evaluation time for each loop in the
above case.

Can I delay the loop more efficiently, that is, not using as much CPU time
as in the above case?


Thanks,
Gardar

I'm using version 1.1.0 on:
Machine hardware:   sun4u
OS version:         5.7
Processor type:     sparc
Hardware:           SUNW,Ultra-250

_________________________________________________________
Gardar Johannesson		     Home Addr.
 Department of Statistics              605 Dennison, #3
Ohio State University                  Columbus, OH 43215
305A Cockins Hall, 1958 Neil Av.       Tel: 614-531-0102
Columbus, OH 43210                          ( cellular )
 
Tel: 614-292-6038
Fax: 614-292-2096
e-mail: gardar at stat.ohio-state.edu
WWW: www.stat.ohio-state.edu
_________________________________________________________

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.kong at pmci.unimelb.edu.au  Thu Jun 22 03:47:23 2000
From: c.kong at pmci.unimelb.edu.au (Kong, Chuang Fong)
Date: Thu, 22 Jun 2000 11:47:23 +1000
Subject: [R] help
Message-ID: <B29D3ABE5A8CD311869C0080C8E7EAD476DD1A@raid.pmci.unimelb.edu.au>

Dear All,
Further to answers to sorting, can someone tell me how can I sort a list
that contains duplicates (name) but keeping the duplicates together when
sorting the values. 
e.g., a data frame with name (in duplicates), Mvalues(may be different for
the duplicates)
name	M
1234	8
1234	8.3
4321	9
4321	8.1
If I sort by M, it will be 1234, 4321, 1234, 4321 but I want to keep the
duplicates together, so that it will give me 1234, 1234, 4321, 4321. I also
would like to set a cut-off, so that anything below a certain values will
not be sorted. Any help will be appreciated.
On another subject, I have downloaded and installed R1.1 for NT, it seems to
run fine but when I source codes that I have written for R1.0.1 for printing
labels to my data points, instead of printing name as label, it printed some
number that I have no idea what it represents, it is not the row number or
anything else. The code I used is 
plot(x,y, main="", xlab="x", ylab="y", type="n", ylim=c(-4,4), xlim=c(7,16))
points(x[d1], y[d1], pch=1,col=c(1:256))
points(x[d2], y[d2], pch=1,col=c(1:256))
up<-(abs(y)>=2)
if (sum(up)!=0) {
text(x[up],y[up], col="black",labels=name[up], cex=0.2, adj=1)}
What is wrong? it ran fine in R1.0.1 and it is working fine in R1.1.0 but
just not taking this text command right. Any suggestion will be appreciated.

Best regards,
Chuang Fong Kong, Ph D
Head, Microarrays
Peter MacCallum Cancer Institute - Research
St. Andrew's Place, East Melbourne
Victoria 3002, Australia
Tel: 61 3 9656-1796 or 1138
Fax: 61 3 9656-1411
e-mail: c.kong at pmci.unimelb.edu.au


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000622/ad012dbc/attachment.html

From venables at acland.qld.cmis.csiro.au  Thu Jun 22 04:17:40 2000
From: venables at acland.qld.cmis.csiro.au (Bill Venables)
Date: Thu, 22 Jun 2000 12:17:40 +1000
Subject: [R] help 
In-Reply-To: Your message of "Thu, 22 Jun 2000 11:47:23 +1000."
             <B29D3ABE5A8CD311869C0080C8E7EAD476DD1A@raid.pmci.unimelb.edu.au> 
Message-ID: <200006220217.MAA16086@snowy.nsw.cmis.CSIRO.AU>

Kong, Chuang Fong asks:

> 
> Dear All,
> Further to answers to sorting, can someone tell me how can I sort a list
> that contains duplicates (name) but keeping the duplicates together when
> sorting the values. 
> e.g., a data frame with name (in duplicates), Mvalues(may be different for
> the duplicates)
> name	M
> 1234	8
> 1234	8.3
> 4321	9
> 4321	8.1
> If I sort by M, it will be 1234, 4321, 1234, 4321 but I want to keep the
> duplicates together, so that it will give me 1234, 1234, 4321, 4321. I also
> would like to set a cut-off, so that anything below a certain values will
> not be sorted. Any help will be appreciated.

Doesn't this mean you really want to sort on name and on M within
name? As several people have pointed out this is precisely what
order() is designed to do.

I take it that the cutoff is on the value of M.  OK, suppose it is the
value of `coff'.

sort.ind <- order(name, pmax(coff, M))  #  sorting index
name <- name[sort.ind]
M <- M[sort.ind]

Notice how using pmax() for "parallel maximum" you can implement the
cutoff by raising all values below the mark up to the mark thus
putting them all into the same bin as far as sorting is concerned. 

If your two variables are in a data frame you can combine the last two
steps into one, of course.

sort.ind <- order(dat$name, pmax(coff, dat$M))
dat <- dat[sort.ind, ]

In fact it's not long before you are doing it all in one step:

dat <- dat[order(dat$name, pmax(coff, dat$M)), ]

-- 
Bill Venables,      Statistician,     CMIS Environmetrics Project
CSIRO Marine Labs, PO Box 120, Cleveland, Qld,  AUSTRALIA.   4163
Tel: +61 7 3826 7251           Email: Bill.Venables at cmis.csiro.au    
Fax: +61 7 3826 7304      http://www.cmis.csiro.au/bill.venables/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Thu Jun 22 05:21:33 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Thu, 22 Jun 2000 15:21:33 +1200
Subject: [R] Current archive of r-help?
References: <39555971.14530620@julian.uwo.ca>
Message-ID: <3951863C.B893E0E2@xtra.co.nz>

Duncan Murdoch wrote:

> Is there an online archive of r-help that shows recent postings?  The
> one I saw on CRAN posted monthly collections, the last one at the end
> of May.

Try this link: http://cran.r-project.org/doc/html/mail.html

>
>
> The reason I ask is that I want to re-read that thread on the arrow
> keys not working in the latest Windows release.  I appear to have been
> bitten by the same bug, and can't remember if anyone found a solution.
>

Well, if I remembered right try deleting .Rhistory (or .Rprofile, something like
that).  What I did in the end (I was the first person who noticed this interesting
problem) was deleting the whole R folder then reinstall.

Hope these help.

Cheers,

Ko-Kang

>
> Duncan Murdoch
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Ko-Kang.vcf
Type: text/x-vcard
Size: 289 bytes
Desc: Card for Ko-Kang Wang
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000622/6c8cc675/Ko-Kang.vcf

From ripley at stats.ox.ac.uk  Thu Jun 22 08:32:17 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 22 Jun 2000 07:32:17 +0100 (BST)
Subject: Windows histroy recall (was Re: [R] Current archive of r-help?)
In-Reply-To: <39555971.14530620@julian.uwo.ca>
Message-ID: <Pine.GSO.4.05.10006220725130.21015-100000@auk.stats>

On Thu, 22 Jun 2000, Duncan Murdoch wrote:

> Is there an online archive of r-help that shows recent postings?  The
> one I saw on CRAN posted monthly collections, the last one at the end
> of May.
> 
> The reason I ask is that I want to re-read that thread on the arrow
> keys not working in the latest Windows release.  I appear to have been
> bitten by the same bug, and can't remember if anyone found a solution.

We can't reproduce the problem (and we have tried over 50 saved .Rhistory's
from 1.0.1), so please send Guido a copy of your .Rhistory file and then
delete it, or try adding a blank line at the end of it.

By the way, we were thrown by the original reports.  The arrow keys do work
(so crtl-uparrow scrolls the console and uparrow scrolls a pager).  What
appears to be the problem is that command-line-history recall (Ctrl-P or
up-arrow) in Rgui does not work, although exactly what is wrong is unknown.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 22 09:23:49 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 22 Jun 2000 08:23:49 +0100 (BST)
Subject: [R] 'pausing' in R
In-Reply-To: <Pine.SOL.4.10.10006212021230.10027-100000@spatial.mps.ohio-state.edu>
Message-ID: <Pine.GSO.4.05.10006220812440.21103-100000@auk.stats>

On Wed, 21 Jun 2000, Gardar Johannesson wrote:

> 
> 
> I have this 'odd' problem; I need to let R pause, for a given time, before
> starting next iteration in a loop.  I'm using the following to do this
> task, but feel a little bit guilty because I'm using as much CPU time as I
> can get while pausing:
> 
> while(keepGoing) {
>   t.end <- proc.time()[3] + 5  ## the time this loop should end at
> 
>   [block of R commands]
> 	
>   while(proc.time()[3] < t.end) {}
> }
> 
> This guaranty, at least, 5 second evaluation time for each loop in the
> above case.
> 
> Can I delay the loop more efficiently, that is, not using as much CPU time
> as in the above case?

Try

system("sleep 5")

That will use essentially no CPU time, but it will block the process.
That stops re-sizing graphics windows for examples, but on Unix
is not too serious.  I am not sure of the effect on the GNOME console,
nor what happens if tcltk is running.

If anyone wants to do this on Windows. take a look at the xgobi
function in the current version of the XGobi package, as that package
has an equivalent in C (that does handle events during the pause).

We do plan to have a version of this for all platforms in due course.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jonm at weber  Thu Jun 22 09:38:22 2000
From: jonm at weber (Jonathan Myles)
Date: Thu, 22 Jun 2000 08:38:22 +0100
Subject: [R] Intermediate LaTeX output generated by R CMD Rd2dvi 
Message-ID: <E1351Z8-0000Cn-00@weber>


 Is there any way of getting just the LaTex output which
 
 R CMD Rd2dvi

  generates on the way to produces a .dvi file, 
  which could then be incoorporated into another
  document?

Thanks,

Jonathan
  

-- 
Dr. Jonathan Myles         e-mail:jonathan.myles at mrc-bsu.cam.ac.uk
MRC Biostatistics Unit     Tel. 01223 330372
Institute of Public Health FAX  01223 330388
University Forvie Site
Robinson Way
CAMBRIDGE
CB2 2SR                   


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From BXC at novo.dk  Thu Jun 22 09:49:01 2000
From: BXC at novo.dk (BXC (Bendix Carstensen))
Date: Thu, 22 Jun 2000 09:49:01 +0200
Subject: [R] SAS dataset
Message-ID: <D5A7D734C9C5D211B9E30008C78923020609E7DC@EXDKBA03>


> -----Original Message-----
> From: Peppy [mailto:s.adi.purnomo at EnergyLink.co.nz]
> Sent: 22. juni 2000 00:15
> To: 'R - Help desk'
> Subject: [R] SAS dataset
> Importance: High
> Sensitivity: Confidential
> 
> 
> Hello,
> 
> Is there any way we convert SAS dataset into R dataset?
> 
> Kindest Regards,
> Peppy Adi-Purnomo
> 
> ------
> Peppy Adi-Purnomo
> Energy Market Analyst
> 
> Energy Link Ltd
> Dunedin - New Zealand	
> 
> Ph.: +64 3 479 2475
> Fax: +64 3 477 8424
> 
> Email: s.adi.purnomo at energylink.co.nz
> www.EnergyLink.co.nz



I enclose the code of a SAS-macro, %out, which will produce a file
that can be read by read.table in R, (so it requires that you have SAS
installed and working on your machine), and the code of a R-function, 
sas.get, that stats SAS from within R. The latter you have to change, 
because it assumes that the shell command to execute the SAS-program 
prog in batch is: 

  sjx prog

which is just my wrapper for:

  c:\stat\sas\SAS.exe -SYSIN %1.sas -icon

Good luck,

Bendix Carstensen

----------------------
Bendix Carstensen
Senior Statistician
Steno Diabetes Centre
Niels Steensens Vej 2
DK-2820 Gentofte
Denmark
tel: +45 44 43 87 38
mob: +45 28 25 87 38
fax: +45 44 43 73 13
bxc at novo.dk
www.biostat.ku.dk/~bxc
----------------------

Here is the sas-macro:

%macro out ( data = _last_ ,
              var = ,
             file = ud.dat,
           header = Y ) ;

proc format ; value  na ( default = 15 )  ., .A  = 'NA' ;
              value $na ( default = 200 ) ' ' = 'NA' ; run ;

proc contents  data = &data.  noprint  out = varnames ;
run ;

proc sort  data = varnames ;
  by varnum ;
run ;

%let nc = 0 ;

data _null_ ;
  set varnames ( keep = name type length
                where = ( type eq 2 ) )
               end = slut ;
  length cvars lngth $ 200 ;
  retain cvars lngth nc ;
  nc + 1 ;
  length = length + 2 ;
  cvars = trim(cvars) || ' ' || left(trim(name)) ;
  lngth = trim(lngth) || ' ' || left(trim(name)) || ' $ ' || put(length,3.)
;
  if slut then do ;
               call symput ( "cvar", cvars ) ;
               call symput ( "nc", nc ) ;
               call symput ( "lngth", lngth ) ;
               end ;
run ;

%if &var.= %then %do ;

data _null_ ;
  set varnames ( keep = name ) end = slut ;
  length vars $ 200 ;
  retain vars ;
  vars = trim(vars) || ' ' || left(trim(name)) ;
  if slut then call symput ( "var", vars ) ;
run ;

%end ;

data null ;
  %if &nc.>0 %then length &lngth. ; ;
  set &data. ;
  file "&file." ;
  format &var. na. ;
  %if &nc.>0 %then ;
  %do i = 1 %to &nc. ;
      %let cvn = %scan ( &cvar., &i. ) ;
      &cvn. = '"' || trim(left(&cvn.)) || '"' ;
  %end ;

  %if %upcase(%substr(&header.,1,1))=Y %then %do ;
  vnames = translate("&var.", 'abcdefghijklmnopqrstuvwxyz???.',
                              'ABCDEFGHIJKLMNOPQRSTUVWXYZ???_' ) ;
  if _n_ eq 1 then put vnames ;
  %end ; ;
  put _n_ &var. ;
run ;
	
%mend out ;

and here is the R-function:

sas.get <- function(dir="data", data, var=" ")
  {
  sink("xqwz.sas")
#  cat("options mprint ;")
  cat(paste("libname rtmp '", dir,
                       "' ;", sep="") )
  cat(paste("%out ( data=rtmp.", data,
                       ", var=", var,
                          ") ;", sep="") )
  sink()
  shell("sjx xqwz")         # Runs the SAS-program xqwz.sas in batch
  a <- read.table("ud.dat")
  shell("del xqwz.sas")     # The rest is cleaning up
  shell("del xqwz.log")
  shell("del xqwz.lst")
  shell("del ud.dat")
  a 
}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Jun 22 10:44:03 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 22 Jun 2000 10:44:03 +0200
Subject: [R] Intermediate LaTeX output generated by R CMD Rd2dvi
References: <E1351Z8-0000Cn-00@weber>
Message-ID: <3951D1D3.4C08E5E7@statistik.uni-dortmund.de>

Jonathan Myles wrote:
> 
>  Is there any way of getting just the LaTex output which
> 
>  R CMD Rd2dvi
> 
>   generates on the way to produces a .dvi file,
>   which could then be incoorporated into another
>   document?


Try  
  R CMD Rdconv --type=latex

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 22 11:33:33 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 22 Jun 2000 10:33:33 +0100 (BST)
Subject: [R] Intermediate LaTeX output generated by R CMD Rd2dvi
Message-ID: <200006220933.KAA29578@toucan.stats.ox.ac.uk>


> Date: Thu, 22 Jun 2000 10:44:03 +0200
> From: Uwe Ligges <ligges at statistik.uni-dortmund.de>
> X-Accept-Language: de-DE,en
> To: jonathan.myles at mrc-bsu.cam.ac.uk
> CC: r-help <r-help at stat.math.ethz.ch>
> Subject: Re: [R] Intermediate LaTeX output generated by R CMD Rd2dvi
> 
> Jonathan Myles wrote:
> > 
> >  Is there any way of getting just the LaTex output which
> > 
> >  R CMD Rd2dvi
> > 
> >   generates on the way to produces a .dvi file,
> >   which could then be incoorporated into another
> >   document?
> 
> 
> Try  
>   R CMD Rdconv --type=latex
> 

That's not the quite the same (although it may be what Jonathan wants).
Rd2dvi writes a wrapper. If you use R CMD Rd2dvi --no-clean [files]
you will find the latex file used:

toucan% R CMD Rd2dvi --no-clean --no-preview *.Rd
...
You may want to clean up by `rm -rf .Rd2dvi29549'
toucan% ls .Rd2dvi29549
.Rd2dvi29549:
Rd.sty   Rd2.aux  Rd2.dvi  Rd2.idx  Rd2.ilg  Rd2.ind  Rd2.log  Rd2.tex 

and Rd2.tex is the file asked for.

Whichever route you take, you will need Rd.sty, from R_HOME/doc/manual.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jonm at weber  Thu Jun 22 12:32:45 2000
From: jonm at weber (Jonathan Myles)
Date: Thu, 22 Jun 2000 11:32:45 +0100
Subject: [R] Intermediate LaTeX output generated by R CMD Rd2dvi
In-Reply-To: <200006220933.KAA29578@toucan.stats.ox.ac.uk> (message from Prof
	Brian Ripley on Thu, 22 Jun 2000 10:33:33 +0100 (BST))
References: <200006220933.KAA29578@toucan.stats.ox.ac.uk>
Message-ID: <E1354Ht-0000Io-00@weber>


 


>   > Date: Thu, 22 Jun 2000 10:44:03 +0200
>   > From: Uwe Ligges <ligges at statistik.uni-dortmund.de>
>   > X-Accept-Language: de-DE,en
>   > To: jonathan.myles at mrc-bsu.cam.ac.uk
>   > CC: r-help <r-help at stat.math.ethz.ch>
>   > Subject: Re: [R] Intermediate LaTeX output generated by R CMD Rd2dvi
>   > 
>   > Jonathan Myles wrote:
>   > > 
>   > >  Is there any way of getting just the LaTex output which
>   > > 
>   > >  R CMD Rd2dvi
>   > > 
>   > >   generates on the way to produces a .dvi file,
>   > >   which could then be incoorporated into another
>   > >   document?
>   > 
>   > 
>   > Try  
>   >   R CMD Rdconv --type=latex
>   > 
>
>   That's not the quite the same (although it may be what Jonathan wants).
>   Rd2dvi writes a wrapper. If you use R CMD Rd2dvi --no-clean [files]
>   you will find the latex file used:
>
>   toucan% R CMD Rd2dvi --no-clean --no-preview *.Rd
>   ...
>   You may want to clean up by `rm -rf .Rd2dvi29549'
>   toucan% ls .Rd2dvi29549
>   .Rd2dvi29549:
>   Rd.sty   Rd2.aux  Rd2.dvi  Rd2.idx  Rd2.ilg  Rd2.ind  Rd2.log  Rd2.tex 
>
>   and Rd2.tex is the file asked for.
>
>   Whichever route you take, you will need Rd.sty, from R_HOME/doc/manual.

THank you, that does just what I want.  Presumably using the output in one's own
documents is OK?

Jonathan




-- 
Dr. Jonathan Myles         e-mail:jonathan.myles at mrc-bsu.cam.ac.uk
MRC Biostatistics Unit     Tel. 01223 330372
Institute of Public Health FAX  01223 330388
University Forvie Site
Robinson Way
CAMBRIDGE
CB2 2SR                   


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Thu Jun 22 13:34:46 2000
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Thu, 22 Jun 2000 13:34:46 +0200 (MET DST)
Subject: [R] unequalspaced time-series data
In-Reply-To: <Pine.GSO.4.21.0006210822120.11003-100000@atlas.biostat.washington.edu> from "Thomas Lumley" at Jun 21, 2000 08:30:51 AM
Message-ID: <200006221134.NAA10372@alpha.luc.ac.be>


> 
> On Wed, 21 Jun 2000, Jim Lindsey wrote:
> > > 
> > > Dear R-users,
> > > 
> > > is there any object-type or routine/function in R which can handle
> > > unequally spaced time-series data? I know that there is the library
> > > OSWALD for S-Plus, which is able to do so, but I was not successful in
> > > running it under R. Does anyone can help?
> > 
> > My growth and repeated libraries will probably do what you want:
> > www.luc.ac.be/~jlindsey/rcode.html
> > Patrick and I tried to port Oswald to R about 4 years ago (and it still
> > runs on R 1.0.1), but Oswald is full of bugs.
> 
> I also tried to port OSWALD (or at least the pcmid() informative dropout
> function) earlier this year.  I didn't find as many bugs as Jim reports,
> but there was a lot of complicated code designed to make S look more
> object-oriented than it really is, much of which needed complete rewriting
> to work in R.  I had hoped that porting pcmid() would be quicker than
> starting from scratch, but this probably wasn't the case.

The bugs generally only appear when using Oswald on complex data sets.
I am sure that Patrick would be happy to supply the port, as it stands
(working completely but from the Oswald version of 4 years ago) if it is of
help. Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bob.ohara at helsinki.fi  Thu Jun 22 14:04:43 2000
From: bob.ohara at helsinki.fi (Anon.)
Date: Thu, 22 Jun 2000 15:04:43 +0300
Subject: [R] Postscript Legends (or not)
Message-ID: <395200DB.2D13EBA5@helsinki.fi>

I discovered a little problem when using the Windows NT release of R
1.0.1, and it's still there in R 1.1.0.

The boiled down version is this:  I want to draw the following plot and
put it into a Postscript file:

x <- c(1,2,3,4); y1 <- c(1,2,3,4); y2 <- c(2,2,2,2)
Fred <- c(1,2)

postscript(file="d:/Bob/Papers/IFM/try2.ps")
plot(x,y1, type="l")
lines(x,y2,lty="33")
legend(1,4, c("y1","y2"), lty=Fred)
graphics.off()

This works fine.  However, if I use Fred <- c(1,"33"), I get an error
when trying to view hte file (using either Ghostscript or CorelDraw). 
GhostScript gives me the message that I've included below.

Is this a bug, or am I missing something?  

Bob


Oh yes, this is the GS message:

Loaded Ghostscript DLL C:\gstools\gs5.50\gsdll32.dll
Aladdin Ghostscript 5.50 (1998-9-11)
Copyright (C) 1998 Aladdin Enterprises, Menlo Park, CA.  All rights
reserved.
This software comes with NO WARRANTY: see the file PUBLIC for details.
Displaying DSC file D:/Bob/Papers/IFM/try2.ps
Displaying page 1
Loading NimbusSanL-Regu font from
C:\gstools\gs5.50\fonts\n019003l.pfb... 1883690 574525 1329174 41921 1
done.
Loading NimbusSanL-Bold font from
C:\gstools\gs5.50\fonts\n019004l.pfb... 1923870 607231 1329174 44133 1
done.
Loading NimbusSanL-ReguItal font from
C:\gstools\gs5.50\fonts\n019023l.pfb... 1964050 641418 1329174 46118 1
done.
Loading NimbusSanL-BoldItal font from
C:\gstools\gs5.50\fonts\n019024l.pfb... 1984140 672771 1349264 51419 1
done.
Loading StandardSymL font from C:\gstools\gs5.50\fonts\s050000l.pfb...
2024320 710401 1349264 53445 1 done.
Unrecoverable error: rangecheck in setdash
Operand stack:
    0  --nostringval--

--- Begin offending input ---

--- End offending input ---
file offset = 4285
gsdll_execute_cont returns -15



-- 
Bob O'Hara
Metapopulation Research Group
Division of Population Biology
Department of Ecology and Systematics
PO Box 17 (Arkadiankatu 7)
FIN-00014 University of Helsinki
Finland

tel: +358 9 191 7382  fax: +358 9 191 7301 
email: bob.ohara at helsinki.fi
To induce catatonia, visit:
http://www.helsinki.fi/science/metapop/

I have yet to see any problem, however complicated, which, when you
looked at it in the right way, did not become still more complicated.  -
Poul Anderson
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Thu Jun 22 14:59:14 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Thu, 22 Jun 2000 08:59:14 -0400
Subject: [R] Zoom?
Message-ID: <042601bfdc49$ab0220f0$0201a8c0@Workgroup>

Hi everyone,

Is there a way to zoom in and/or out "? la Matlab" on the active graphic window? 

If not is this kind of feature to be implemented in some future? 

May be I should have ask first if there are some users that would like to have this feature implemented?

Thanks

YG
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000622/ad01e427/attachment.html

From paradis at isem.univ-montp2.fr  Thu Jun 22 15:02:23 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Thu, 22 Jun 2000 15:02:23 +0200
Subject: [R] # of users of R
Message-ID: <3.0.32.20000622150222.00911db0@162.38.183.200>

At 17:51 21/06/00 +0200, Friedrich Leisch wrote:
>
>OK, we're statisticians so let's use some real data and not only
>guestimates ... in
>
>	http://www.ci.tuwien.ac.at/~leisch/cran-http.report/
>
>you find some usage statistics about the CRAN *master* site (with all
>traffic inside our domain removed). Beware that not every hit is a
>potential user as search engines (``crawlers'') heavily bias the log
>files. It's alo only data on our server, no cran.(ch|dk|uk|us|...) or
>statlib (with it's own mirrors). Also obviously all people using the
>version from their linux distribution are missing),
>
>But it's something to play with :-)
>
>Have fun,
>Fritz

Looking at the data for March 2000 (coinciding with the release of R
1.0.0), there were 1800 hits on /bin/windows, and 732 hits on /bin/linux. I
assume that ALL users of R on Linux visit /bin/linux (at least for
curiosity to check what binaries are available) even if they use the
sources (note that the same assumption must hold for Windows users).

So, 1800/732 estimates the ratio of the number of R users under Windows on
the number of R users under Linux. Taking Dirk's estimate of 107,000 R
users under Linux, I get 263,000 R users under Windows.

This still leaves open the issue of the number of users who just compile
from the sources under other OSs... perhaps a few tens of thousands??? This
would lead to ca.400,000 users of R.

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Jun 22 15:42:19 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 22 Jun 2000 15:42:19 +0200
Subject: [R] Postscript Legends (or not)
References: <395200DB.2D13EBA5@helsinki.fi>
Message-ID: <395217BB.FA9C0B22@statistik.uni-dortmund.de>

"Anon." wrote:
> 
> I discovered a little problem when using the Windows NT release of R
> 1.0.1, and it's still there in R 1.1.0.
> 
> The boiled down version is this:  I want to draw the following plot and
> put it into a Postscript file:
> 
> x <- c(1,2,3,4); y1 <- c(1,2,3,4); y2 <- c(2,2,2,2)
> Fred <- c(1,2)
> 
> postscript(file="d:/Bob/Papers/IFM/try2.ps")
> plot(x,y1, type="l")
> lines(x,y2,lty="33")
> legend(1,4, c("y1","y2"), lty=Fred)
> graphics.off()
> 
> This works fine.  However, if I use Fred <- c(1,"33"), I get an error
> when trying to view hte file (using either Ghostscript or CorelDraw).
> GhostScript gives me the message that I've included below.
> 
> Is this a bug, or am I missing something?


In your first example "Fred" is numeric, in the second it is character:

  > c(1, "33")
  [1] "1"   "33"


As a simple workaround try:

  > c("solid", "33")



The same problem occurs here:

  > postscript(file="test.ps")
  > plot(1:10)
  > lines(2:3, 5:6, lty="1")
  > dev.off()

(WinNT4.0, R-1.1.0)

Looks like the postscript device don't convert the character "1" to
solid and also gives no warning message ...

Regards,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Thu Jun 22 16:18:51 2000
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Thu, 22 Jun 2000 16:18:51 +0200
Subject: [R] R 1.1 congrat; undocumented behaviour of recordPlot
Message-ID: <B577ECEB.327D%pflugshaupt@geobot.umnw.ethz.ch>

Hello,

first, I'd like to congratulate the core team to the new R version 1.1. I
think it's a great update, with glimpses into an even greater future
(tcltk!).

While playing around with the new functions (on Win 95), I found the
following:

As the documentation states, when I generate a plot and save it with
recordPlot, I can regenerate it by printing the variable:

> plot(1:10)
> abline(h=5)
> abline(v=5)
> t.plot<-recordPlot()
> t.plot

works perfectly.

Now, if I add further elements to this (regenerated) plot, they get drawn
all right (I tested only abline()), which surprised me . But when I re-save
the result, only the new additions get saved:

> abline(h=9)     # works (to my surprise)
> t.plot2<-recordPlot # saves only the addition, as can be seen by:
> str(t.plot2)

OK, so I thought I might regenerate the combined plot by

> t.plot   # worked
> t.plot2 # cleared graph, but did nothing

I think it would be useful to be able to save and replay additions to a plot
as well as complete plots. One might, for example, try out several additions
to a basic plot (different kinds of regression lines, to give an example)
and save the final version with the plot to move on and try out several
legend placements etc., thus building up the final graph in several steps.

So it would be nice if either recordPlot could "update" a saved plot with
new additions or if replayPlot could reproduce additions on another plot.

Just a suggestion (I hope I made myself clear).


Kaspar

-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From twestley at buffalo.veridian.com  Thu Jun 22 16:36:53 2000
From: twestley at buffalo.veridian.com (Terry Westley)
Date: Thu, 22 Jun 2000 10:36:53 -0400
Subject: [R] Zoom?
In-Reply-To: <042601bfdc49$ab0220f0$0201a8c0@Workgroup>
Message-ID: <NDBBJPJEPMDADGHILPFJKEAKCHAA.twestley@buffalo.veridian.com>

Yes, I for one, would very much like a zoom capability.

In my case, I have built a Tcl/Tk front-end for my users
in which they can subset the data through various criteria,
such as selecting a smaller time range.  But, it would
be even better if the users could interactively do this.

--
Terry J. Westley, Software Development Manager
Veridian Engineering, Calspan Operations
P.O. Box 400, Buffalo, NY 14225
twestley at buffalo.veridian.com    http://www.veridian.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Jun 22 17:07:05 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Jun 2000 17:07:05 +0200
Subject: [R] R 1.1 congrat; undocumented behaviour of recordPlot
In-Reply-To: Kaspar Pflugshaupt's message of "Thu, 22 Jun 2000 16:18:51 +0200"
References: <B577ECEB.327D%pflugshaupt@geobot.umnw.ethz.ch>
Message-ID: <x23dm5oiue.fsf@blueberry.kubism.ku.dk>

I think this is pretty certainly a bug, so I'm cc'ing this to r-bugs.

	-p

Kaspar Pflugshaupt <pflugshaupt at geobot.umnw.ethz.ch> writes:

> Hello,
> 
> first, I'd like to congratulate the core team to the new R version 1.1. I
> think it's a great update, with glimpses into an even greater future
> (tcltk!).
> 
> While playing around with the new functions (on Win 95), I found the
> following:
> 
> As the documentation states, when I generate a plot and save it with
> recordPlot, I can regenerate it by printing the variable:
> 
> > plot(1:10)
> > abline(h=5)
> > abline(v=5)
> > t.plot<-recordPlot()
> > t.plot
> 
> works perfectly.
> 
> Now, if I add further elements to this (regenerated) plot, they get drawn
> all right (I tested only abline()), which surprised me . But when I re-save
> the result, only the new additions get saved:
> 
> > abline(h=9)     # works (to my surprise)
> > t.plot2<-recordPlot # saves only the addition, as can be seen by:
> > str(t.plot2)
> 
> OK, so I thought I might regenerate the combined plot by
> 
> > t.plot   # worked
> > t.plot2 # cleared graph, but did nothing
> 
> I think it would be useful to be able to save and replay additions to a plot
> as well as complete plots. One might, for example, try out several additions
> to a basic plot (different kinds of regression lines, to give an example)
> and save the final version with the plot to move on and try out several
> legend placements etc., thus building up the final graph in several steps.
> 
> So it would be nice if either recordPlot could "update" a saved plot with
> new additions or if replayPlot could reproduce additions on another plot.
> 
> Just a suggestion (I hope I made myself clear).
> 
> 
> Kaspar
> 
> -- 
> 
> Kaspar Pflugshaupt
> Geobotanisches Institut
> Zuerichbergstr. 38
> CH-8044 Zuerich
> 
> Tel. ++41 1 632 43 19
> Fax  ++41 1 632 12 15
> 
> mailto:pflugshaupt at geobot.umnw.ethz.ch
> privat:pflugshaupt at mails.ch
> http://www.geobot.umnw.ethz.ch
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tord.snall at ebc.uu.se  Thu Jun 22 20:25:36 2000
From: tord.snall at ebc.uu.se (Tord Snall)
Date: Thu, 22 Jun 2000 20:25:36 +0200
Subject: [R] NAs introduced when changing data type
Message-ID: <3.0.6.32.20000622202536.00a1b600@mail.anst.uu.se>

Hi all,
I am trying to change data type in the Data Editor but when I do, all
numbers in the column changes to NA and back in the Console I get the
warning message "NAs introduced by coercion".

What's wrong? The table consists of 95 columns and 470 rows.

Tord

-----------------------------------------------------------------------
******New e-mail address: Tord.Snall at ebc.uu.se*******

Tord Sn?ll, PhD student
Avd. f v?xtekologi, Evolutionsbiologiskt centrum, Uppsala universitet
Dept. of Plant Ecology, Evolutionary Biology Centre, Uppsala University
Villav?gen 14			
SE-752 36 Uppsala, Sweden
Tel: 018-471 28 82 (int +46 18 471 28 82) (work)
Tel: 018-25 71 33 (int +46 18 25 71 33) (home)
Fax: 018-55 34 19 (int +46 18 55 34 19) (work)
E-mail: Tord.Snall at ebc.uu.se
Homepage: http://www.vaxtbio.uu.se/resfold/tord_s.htm
------------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jon at vindigo.com  Thu Jun 22 20:32:52 2000
From: jon at vindigo.com (Jon McAuliffe)
Date: Thu, 22 Jun 2000 14:32:52 -0400
Subject: [R] RPM install failure, redhat 6.1
Message-ID: <39525BD3.1D888F79@vindigo.com>


hi,

i grabbed

http://www.r-project.org/bin/linux/redhat/6.x/i386/R-base-1.1.0-2.i386.rpm

then ran

[root at machine jon]# rpm -ivh R-base-1.1.0-2.i386.rpm R-base                      

and got

#############################################unpacking of archive failed on file /usr/lib/R/library/nls/help/AnIndex: cpio: open failed - No such file or directory

on a redhat 6.1 machine. the README in the .../i386/ directory
says the package has not been tested on < 6.2. has anyone else
seen this problem?

thanks
jon.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jon at vindigo.com  Thu Jun 22 20:34:33 2000
From: jon at vindigo.com (Jon McAuliffe)
Date: Thu, 22 Jun 2000 14:34:33 -0400
Subject: [R] Re: RPM install failure, redhat 6.1
References: <39525BD3.1D888F79@vindigo.com>
Message-ID: <39525C39.DDB5B235@vindigo.com>



Jon McAuliffe wrote:
> 
> hi,
> 
> i grabbed
> 
> http://www.r-project.org/bin/linux/redhat/6.x/i386/R-base-1.1.0-2.i386.rpm
> 
> then ran
> 
> [root at machine jon]# rpm -ivh R-base-1.1.0-2.i386.rpm R-base
                                                       ^^^^^^
sorry, that last "R-base" is bad copy-and-paste; i didn't actually
include it on the command line.

> 
> and got
> 
> #############################################unpacking of archive failed on file /usr/lib/R/library/nls/help/AnIndex: cpio: open failed - No such file or directory
> 
> on a redhat 6.1 machine. the README in the .../i386/ directory
> says the package has not been tested on < 6.2. has anyone else
> seen this problem?
> 
> thanks
> jon.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jon at vindigo.com  Thu Jun 22 20:40:21 2000
From: jon at vindigo.com (Jon McAuliffe)
Date: Thu, 22 Jun 2000 14:40:21 -0400
Subject: [R] Re: RPM install failure, redhat 6.1
References: <39525BD3.1D888F79@vindigo.com> <39525C39.DDB5B235@vindigo.com>
Message-ID: <39525D95.679A4713@vindigo.com>


um, not to answer my own question, but i had made /usr/lib/R
a symlink to a big partition prior to the install, and apparently
something interacts badly with that: when i removed it, the
install succeeded. does someone know offhand whether the install
is meant to work in the presence of such a symlink? (perhaps
not really an R-help question.)

cheers
jon.


Jon McAuliffe wrote:
> 
> Jon McAuliffe wrote:
> >
> > hi,
> >
> > i grabbed
> >
> > http://www.r-project.org/bin/linux/redhat/6.x/i386/R-base-1.1.0-2.i386.rpm
> >
> > then ran
> >
> > [root at machine jon]# rpm -ivh R-base-1.1.0-2.i386.rpm R-base
>                                                        ^^^^^^
> sorry, that last "R-base" is bad copy-and-paste; i didn't actually
> include it on the command line.
> 
> >
> > and got
> >
> > #############################################unpacking of archive failed on file /usr/lib/R/library/nls/help/AnIndex: cpio: open failed - No such file or directory
> >
> > on a redhat 6.1 machine. the README in the .../i386/ directory
> > says the package has not been tested on < 6.2. has anyone else
> > seen this problem?
> >
> > thanks
> > jon.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jon at vindigo.com  Thu Jun 22 20:50:53 2000
From: jon at vindigo.com (Jon McAuliffe)
Date: Thu, 22 Jun 2000 14:50:53 -0400
Subject: [R] Re: RPM install failure, redhat 6.1
References: <39525BD3.1D888F79@vindigo.com> <39525C39.DDB5B235@vindigo.com> <39525D95.679A4713@vindigo.com>
Message-ID: <3952600D.9147B674@vindigo.com>


and just to turn this into a complete monologue, the partition
has a corrupted filesystem, which caused the problem. i'm
sure this has been fascinating for all of you.

sorry
jon.


Jon McAuliffe wrote:
> 
> um, not to answer my own question, but i had made /usr/lib/R
> a symlink to a big partition prior to the install, and apparently
> something interacts badly with that: when i removed it, the
> install succeeded. does someone know offhand whether the install
> is meant to work in the presence of such a symlink? (perhaps
> not really an R-help question.)
> 
> cheers
> jon.
> 
> Jon McAuliffe wrote:
> >
> > Jon McAuliffe wrote:
> > >
> > > hi,
> > >
> > > i grabbed
> > >
> > > http://www.r-project.org/bin/linux/redhat/6.x/i386/R-base-1.1.0-2.i386.rpm
> > >
> > > then ran
> > >
> > > [root at machine jon]# rpm -ivh R-base-1.1.0-2.i386.rpm R-base
> >                                                        ^^^^^^
> > sorry, that last "R-base" is bad copy-and-paste; i didn't actually
> > include it on the command line.
> >
> > >
> > > and got
> > >
> > > #############################################unpacking of archive failed on file /usr/lib/R/library/nls/help/AnIndex: cpio: open failed - No such file or directory
> > >
> > > on a redhat 6.1 machine. the README in the .../i386/ directory
> > > says the package has not been tested on < 6.2. has anyone else
> > > seen this problem?
> > >
> > > thanks
> > > jon.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kienzle_marco at hotmail.com  Thu Jun 22 21:13:07 2000
From: kienzle_marco at hotmail.com (kienzle marco)
Date: Thu, 22 Jun 2000 21:13:07 CEST
Subject: [R] saving graphics in a file
Message-ID: <20000622191308.20305.qmail@hotmail.com>

I tried to save a graphic in a file in the Postscript format but it didn't 
work (command: postscript(file="blabla",..).
Does anybody know how to do that.

marco
________________________________________________________________________
Get Your Private, Free E-mail from MSN Hotmail at http://www.hotmail.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 22 21:17:44 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 22 Jun 2000 20:17:44 +0100 (BST)
Subject: [R] NAs introduced when changing data type
In-Reply-To: <3.0.6.32.20000622202536.00a1b600@mail.anst.uu.se>
Message-ID: <Pine.GSO.4.05.10006222014140.21647-100000@auk.stats>

On Thu, 22 Jun 2000, Tord Snall wrote:

> Hi all,
> I am trying to change data type in the Data Editor but when I do, all
> numbers in the column changes to NA and back in the Console I get the
> warning message "NAs introduced by coercion".
> 
> What's wrong? The table consists of 95 columns and 470 rows.

Who knows? We'll need more details (such as R version and platform) and a
reproducible example: see the section 9 of the FAQ.

All I can say is that simple examples do work for me.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Jun 22 21:41:02 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 22 Jun 2000 12:41:02 -0700 (PDT)
Subject: [R] saving graphics in a file
In-Reply-To: <20000622191308.20305.qmail@hotmail.com>
Message-ID: <Pine.GSO.4.21.0006221240040.11002-100000@atlas.biostat.washington.edu>

On Thu, 22 Jun 2000, kienzle marco wrote:

> I tried to save a graphic in a file in the Postscript format but it didn't 
> work (command: postscript(file="blabla",..).
> Does anybody know how to do that.

That isn't how you do it. postscript() starts a postscript driver so that
future graphics commands go to the file instead of the screen.

To print a copy of what is on the screen use dev.print()

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 22 21:57:14 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 22 Jun 2000 20:57:14 +0100 (BST)
Subject: [R] saving graphics in a file
In-Reply-To: <20000622191308.20305.qmail@hotmail.com>
Message-ID: <Pine.GSO.4.05.10006222054110.21709-100000@auk.stats>

On Thu, 22 Jun 2000, kienzle marco wrote:

> I tried to save a graphic in a file in the Postscript format but it didn't 
> work (command: postscript(file="blabla",..).
> Does anybody know how to do that.

Yes, read the documentation!

The function dev.copy2eps copies the current plot to a postscript file
in version 1.1.0.  postscript starts a PostScript device: it does not save
the current plot.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Thu Jun 22 22:05:11 2000
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Thu, 22 Jun 2000 22:05:11 +0200 (MET DST)
Subject: [R] x11 support missing
In-Reply-To: <3950F286.8570DFB6@rhi.hi.is>
Message-ID: <Pine.GSO.4.05.10006222150060.23564-100000@amadeus.statistik.uni-dortmund.de>

On Wed, 21 Jun 2000, Helgi Tomasson wrote:

> I just compiled R-1.1.0 on two systems, redhat 5.2 (sparse) and suse 6.3
> (loaded) . On
> redhad I got x11 support yes on suse I got x11support no. I cannot
> figure out the difference
> 
> Is there some environment variable missing or is something from X missing?
Well, you are missing the X-headers I guess, they are not installed by
default on suse systems. So get the xdevel package which is located in
series x and this should be sorted out
otherwise you should check the location of them as suggested. ;->
Somehow SuSE should remind people to install it when the gcc is installed,
I think... 

Regards, W.Theis
________________________________________________________________________
Dipl.-Math. Winfried Theis			   Tel:++49 231/755-5903
SFB 475, FB Statistik, Universit"at Dortmund, 44221 Dortmund
e-mail: theis at amadeus.statistik.uni-dortmund.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Thu Jun 22 22:43:24 2000
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Fri, 23 Jun 2000 08:43:24 +1200
Subject: [R] saving graphics in a file
References: <20000622191308.20305.qmail@hotmail.com>
Message-ID: <39527A6B.EC21B06E@xtra.co.nz>

What exact did you do there?
I tried it in my RforWindows98 1.1.0 and it works perfectly fine.
Please specify the exact command you typed, and under which OS you are using R and
which version of R.

Ko-Kang

kienzle marco wrote:

> I tried to save a graphic in a file in the Postscript format but it didn't
> work (command: postscript(file="blabla",..).
> Does anybody know how to do that.
>
> marco
> ________________________________________________________________________
> Get Your Private, Free E-mail from MSN Hotmail at http://www.hotmail.com
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Ko-Kang.vcf
Type: text/x-vcard
Size: 289 bytes
Desc: Card for Ko-Kang Wang
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000623/e728fa3c/Ko-Kang.vcf

From p.dalgaard at biostat.ku.dk  Thu Jun 22 22:57:44 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Jun 2000 22:57:44 +0200
Subject: [R] NAs introduced when changing data type
In-Reply-To: Prof Brian D Ripley's message of "Thu, 22 Jun 2000 20:17:44 +0100 (BST)"
References: <Pine.GSO.4.05.10006222014140.21647-100000@auk.stats>
Message-ID: <x2snu5qvqv.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> On Thu, 22 Jun 2000, Tord Snall wrote:
> 
> > Hi all,
> > I am trying to change data type in the Data Editor but when I do, all
> > numbers in the column changes to NA and back in the Console I get the
> > warning message "NAs introduced by coercion".
> > 
> > What's wrong? The table consists of 95 columns and 470 rows.
> 
> Who knows? We'll need more details (such as R version and platform) and a
> reproducible example: see the section 9 of the FAQ.
> 
> All I can say is that simple examples do work for me.

Based on the senders address, let me venture a guess: commas used
instead of decimal points?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gardar at stat.ohio-state.edu  Thu Jun 22 23:47:58 2000
From: gardar at stat.ohio-state.edu (Gardar Johannesson)
Date: Thu, 22 Jun 2000 17:47:58 -0400 (EDT)
Subject: [R] Summary: 'pausing' in R (fwd)
Message-ID: <Pine.SOL.4.10.10006221731440.20188-100000@spatial.mps.ohio-state.edu>

The question was:

> I have this 'odd' problem; I need to let R pause, for a given time, before
> starting next iteration in a loop.  I'm using the following to do this
> task, but feel a little bit guilty because I'm using as much CPU time as I
> can get while pausing:
> 
> while(keepGoing) {
>   t.end <- proc.time()[3] + 5  ## the time this loop should end at
> 
>   [block of R commands]
> 	
>   while(proc.time()[3] < t.end) {}
> }
> 
> This guaranty, at least, 5 second evaluation time for each loop in the
> above case.
> 
> Can I delay the loop more efficiently, that is, not using as much CPU time
> as in the above case?


Prof Brian D Ripley was the only one how responded (thanks) to the
original posting.  His suggestion works perfectly for me, and his respond
follows:

############################
Try

system("sleep 5")

That will use essentially no CPU time, but it will block the process.
That stops re-sizing graphics windows for examples, but on Unix
is not too serious.  I am not sure of the effect on the GNOME console,
nor what happens if tcltk is running.

If anyone wants to do this on Windows. take a look at the xgobi
function in the current version of the XGobi package, as that package
has an equivalent in C (that does handle events during the pause).

We do plan to have a version of this for all platforms in due course.
##################


By the way; is it 'required' to write a summary of responses and post to
r-help? (e.g., as on the s-news list.)


Thanks,
Gardar

_________________________________________________________
Gardar Johannesson		     Home Addr.
 Department of Statistics              605 Dennison, #3
Ohio State University                  Columbus, OH 43215
305A Cockins Hall, 1958 Neil Av.       Tel: 614-531-0102
Columbus, OH 43210                          ( cellular )
 
Tel: 614-292-6038
Fax: 614-292-2096
e-mail: gardar at stat.ohio-state.edu
WWW: www.stat.ohio-state.edu
_________________________________________________________


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sarthur at protogene.com  Thu Jun 22 23:58:18 2000
From: sarthur at protogene.com (Stephen Arthur)
Date: Thu, 22 Jun 2000 14:58:18 -0700 (PDT)
Subject: [R] Merging 2 files in R
In-Reply-To: <200006150201.EAA23275@stat.math.ethz.ch>
Message-ID: <Pine.LNX.4.21.0006221448240.27536-100000@crick.protogene.com>

Hi,

Is there a function (a way) to merge to files in R, as could be done in
SAS?

Example Data:

File1

C A T

File2

1 2 34 56
2 3 45 67
3 4 56 78

To Yield:

C A T 1 2 34 56
C A T 2 3 45 67
C A T 3 4 56 78

functions merge, cbind don't seem to do the trick.

Thanks,

steve

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Fri Jun 23 06:12:58 2000
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Thu, 22 Jun 2000 21:12:58 -0700
Subject: [R] Difference between SPlus & R question
In-Reply-To: <Pine.SOL.4.10.10006221731440.20188-100000@spatial.mps.ohio
 -state.edu>
Message-ID: <4.3.2.7.0.20000622210331.00ab1150@pop4.ibm.net>

In S-Plus, I do the following:

v1<-rnorm(50)
v2<-rnorm(50)
v3<-"gorilla"
v4<-cbind(v1, v2)
v5<-data.frame(v4, v5)

v5 is a dataframe with 50 rows and 3 columns.  The third column has 
"gorilla" replicated for all 50 rows - the behavior I desire.  (It also 
works if I simply do:

v5<-data.frame(v1, v2, v3)

leaving out the cbind() step altogether.


If I try the same thing in R, it rejects v5, reporting an error that v4 has 
50 rows while v3 has 1 row.

What is the proper way to achieve the same result in R?

Thanks,

===================================================
Dr. Marc R. Feldesman
Professor and Chair
Anthropology Department
Portland State University
Portland, Oregon 97207

email: feldesmanm at pdx.edu
http://odin.pdx.edu/~h1mf

Powered by Inspirochoerus

"Indecision may or may not be my problem"
===================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 23 07:40:51 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 23 Jun 2000 06:40:51 +0100 (BST)
Subject: [R] Difference between SPlus & R question
In-Reply-To: <4.3.2.7.0.20000622210331.00ab1150@pop4.ibm.net>
Message-ID: <Pine.GSO.4.05.10006230632460.22016-100000@auk.stats>

On Thu, 22 Jun 2000, Marc Feldesman wrote:

> In S-Plus, I do the following:
> 
> v1<-rnorm(50)
> v2<-rnorm(50)
> v3<-"gorilla"
> v4<-cbind(v1, v2)
> v5<-data.frame(v4, v5)

v5<-data.frame(v4, v3)?

> 
> v5 is a dataframe with 50 rows and 3 columns.  The third column has 
> "gorilla" replicated for all 50 rows - the behavior I desire.  (It also 
> works if I simply do:
> 
> v5<-data.frame(v1, v2, v3)
> 
> leaving out the cbind() step altogether.

These do not work in S-PLUS 3.4 (`the prototype').


> If I try the same thing in R, it rejects v5, reporting an error that v4 has 
> 50 rows while v3 has 1 row.
> 
> What is the proper way to achieve the same result in R?

data.frame(v1, v2, v3=rep("gorilla", 50))

will certainly do.


The bug (if it is considered to be one) is at the line

        if (length(xi) == 1 && nr%%nrows[[i]] == 0 && is.vector(xi[[1]])) 
            value[[i]] <- list(rep(xi[[1]], length = nr))

in data.frame.  is.vector is too severe a test, failed by a factor.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Fri Jun 23 09:42:56 2000
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Fri, 23 Jun 2000 09:42:56 +0200
Subject: [R] Re: [Rd] Re: undocumented behaviour of recordPlot (PR#578)
In-Reply-To: <200006230710.JAA26160@pubhealth.ku.dk>
Message-ID: <B578E19F.329A%pflugshaupt@geobot.umnw.ethz.ch>

On 23.6.2000 9:10 Uhr, guido at sirio.stat.unipd.it wrote:

> BTW, Kaspar, I have no Windows at hand in this moment but
> does the problem manifest itself also with the plot history mechanism?
> E.g., (i) if you set (with the menu) the graphics window in
> 'recording mode', (ii) make some plots , (iii) go back to the
> first plot using 'PgUp', (iv) add some new elements to it and
> (v) go to some other plot and then back to the first plot
> with 'PgDown' and 'PgUp', the first plot you get is the modified one
> or not? Reason of the question is that replayng of the saved history
> is implemented in a different way.

I tried the following:

> x11()  # and set it to "Recording" manually
> plot(1:10)
> plot(1:10, 21:30)
> plot(10:1, 21:30)

All the graphs got recorded, I browsed back to the first and did:

> abline(h=5)
> abline(h=6)

Appeared O.K. Browsed to the end of the recorded graphs & back, lines were
still there.

> abline(v=7)

Added another line to the same plot. Browsed forward & back: all still
there.

So, no problem here. (I didn't even know you could add to a previously
recorded plot. Great!)


Cheers

Kaspar

-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From use at eio.uva.es  Fri Jun 23 09:52:15 2000
From: use at eio.uva.es (=?iso-8859-1?Q?Eusebio_Arenal_Guti=E9rrez?=)
Date: Fri, 23 Jun 2000 09:52:15 +0200
Subject: [R] sink with R-code
Message-ID: <000301bfdce7$f32668c0$0c27589d@estio12.est.cie.uva.es>

Is there a funtion simlar to "sink" that redirect also R code to a file that
is:

sink("R001")
x <- c(2,-6,-4,8,5,4,1,3,4,-9,0,1)
A <- matrix(x, ncol=3)
A
A.prima <- t(A)
A.prima
dim(A)
dim(A.prima)
sink()

create a file "R001" with contents:

------------------------------------------
     [,1] [,2] [,3]
[1,]    2    5    4
[2,]   -6    4   -9
[3,]   -4    1    0
[4,]    8    3    1
     [,1] [,2] [,3] [,4]
[1,]    2   -6   -4    8
[2,]    5    4    1    3
[3,]    4   -9    0    1
[1] 4 3
[1] 3 4

--------------------------------------------

and what I want is a file with:

--------------------------------------------
> x <- c(2,-6,-4,8,5,4,1,3,4,-9,0,1)
> A <- matrix(x, ncol=3)
> A
     [,1] [,2] [,3]
[1,]    2    5    4
[2,]   -6    4   -9
[3,]   -4    1    0
[4,]    8    3    1
> A.prima <- t(A)
> A.prima
     [,1] [,2] [,3] [,4]
[1,]    2   -6   -4    8
[2,]    5    4    1    3
[3,]    4   -9    0    1
----------------------------------------------
Any hint will be appreciated

Eusebio


*************************************************************
*                 Eusebio Arenal Guti?rrez                  *
*   Departamento de Estad?stica e Investigaci?n Operativa   *
*      _\|/_      Universidad de Valladolid                 *
*      (o o)               Espa?a                           *
*---oOO-(_)-OOo-----------------------------------,,,-------*
*                      use at eio.uva.es            (o o)      *
*---------------------------------------------oOO-(_)-OOo---*
*                 Eusebio Arenal Guti?rrez                  *
*     Department of Statistics and Operational Research     *
*                 University of Valladolid                  *
*                           Spain                           *
*************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Jun 23 10:57:18 2000
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Fri, 23 Jun 2000 04:57:18 -0400 (EDT)
Subject: [R] Merging 2 files in R
In-Reply-To: <Pine.LNX.4.21.0006221448240.27536-100000@crick.protogene.com>
Message-ID: <Pine.LNX.4.10.10006230443530.16955-100000@bolker-nt.zoo.ufl.edu>


  This might help:
 
repcbind <- function(x,y) {
  nx <- nrow(x)
  ny <- nrow(y)
  if (nx<ny)
    x <- apply(x,2,rep,length=ny)
  else if (ny<nx)
    y <- apply(y,2,rep,length=nx)
  cbind(x,y)
}

  Someone else may well have a shorter/faster/sneakier/more robust/more
general way of doing this, but this at least seems to work for your
example. (Presumably, if someone thought it was a good idea, there could
be a switch on cbind that explicitly allowed for combinations of
unequal-length matrices: as now implemented and documented, cbind will
replicate unequal-length vectors to match the longest vector or the number
of rows of any matrix arguments, but all matrices must have the same
number of rows.)

There might be some slick way of doing this with do.call("cbind",...), but
I can't figure out a way that doesn't coerce everything to characters.

By the way: there's a trivial typographic error on l. 2 of para. 3 of
"Details" ("rosw" instead of "rows") in the documentation.

On Thu, 22 Jun 2000, Stephen Arthur wrote:

> Hi,
> 
> Is there a function (a way) to merge to files in R, as could be done in
> SAS?
> 
> Example Data:
> 
> File1
> 
> C A T
> 
> File2
> 
> 1 2 34 56
> 2 3 45 67
> 3 4 56 78
> 
> To Yield:
> 
> C A T 1 2 34 56
> C A T 2 3 45 67
> C A T 3 4 56 78
> 
> functions merge, cbind don't seem to do the trick.
> 
> Thanks,
> 
> steve
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hornik at ci.tuwien.ac.at  Fri Jun 23 11:17:00 2000
From: hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 23 Jun 2000 11:17:00 +0200
Subject: [R] fortran compile problem  with R-1.1.0
In-Reply-To: <Pine.LNX.4.21.0006200842250.31780-100000@artemis.imbe.med.uni-erlangen.de>
References: <Pine.GSO.4.02.10006191611210.21644-100000@gauss.math.montana.edu>
	<Pine.LNX.4.21.0006200842250.31780-100000@artemis.imbe.med.uni-erlangen.de>
Message-ID: <200006230917.LAA05842@aragorn.ci.tuwien.ac.at>

>>>>> Torsten Hothorn writes:

>> 
>> I've had a compile problem with the latest version which has not
>> occurred before.  I'm compiling under:
>> 
>> platform sparc-sun-solaris2.6
>> arch     sparc               
>> os       solaris2.6          
>> system   sparc, solaris2.6   
>> 
>> and have used f77 without problems in the past.  Now --with-f77 gives a
>> compile error, --with-g77 gives a different error, but --with-f2c does
>> work.

> I had a similar problem with SuSE 6.4: 

> having f2c installed (R versions < 1.1.0 configured well using this
> installation), 

> $> ./configure

> did not find f2c whereas

> $> ./configure --with-f2c

> worked fine and make test succeeded. 

Hmm, where is the problem?

Configure does the following (from config.site):

# The command which runs the the FORTRAN compiler.
# If unspecified, a search is made for g77, fort77, f77, f90, xlf, cf77,
# and fc (in that order).  If none of these is found, f2c is used if
# found; otherwise, R cannot be compiled.  The search mechanism can be
# changed using the `--with-g77', `--with-f77', and `--with-f2c' command
# line options to configure.
# FC=

So if `f2c is not found' I would assume that a Fortran compiler was
found, no?

-k

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Fri Jun 23 12:53:53 2000
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Fri, 23 Jun 2000 12:53:53 +0200 (CEST)
Subject: [R] fortran compile problem  with R-1.1.0
In-Reply-To: <200006230917.LAA05842@aragorn.ci.tuwien.ac.at>
Message-ID: <Pine.LNX.4.21.0006231248370.8972-100000@artemis.imbe.med.uni-erlangen.de>

> 
> > I had a similar problem with SuSE 6.4: 
> 
> > having f2c installed (R versions < 1.1.0 configured well using this
> > installation), 
> 
> > $> ./configure
> 
> > did not find f2c whereas
> 
> > $> ./configure --with-f2c
> 
> > worked fine and make test succeeded. 
> 
> Hmm, where is the problem?
> 
> Configure does the following (from config.site):
> 
> # The command which runs the the FORTRAN compiler.
> # If unspecified, a search is made for g77, fort77, f77, f90, xlf, cf77,
> # and fc (in that order).  If none of these is found, f2c is used if
> # found; otherwise, R cannot be compiled.  The search mechanism can be
> # changed using the `--with-g77', `--with-f77', and `--with-f2c' command
> # line options to configure.
> # FC=
> 
> So if `f2c is not found' I would assume that a Fortran compiler was
> found, no?

no, there is no fortran compiler installed, but f2c. ./configure without
any options stops with

checking for g77... no
checking for fort77... no
checking for f77... no
checking for f90... no
checking for xlf... no
checking for cf77... no
checking for fc... no
checking for f2c... no
configure: error: Neither an F77 compiler nor f2c found

but ./configure --with-f2c does the job. Maybe ./configure and
/configure --with-f2c search for f2c in a different way?

Torsten



> 
> -k
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ma1estad at uco.es  Fri Jun 23 12:58:08 2000
From: ma1estad at uco.es (Juan Antonio Caballero)
Date: Fri, 23 Jun 2000 12:58:08 +0200
Subject: [R] *.texi file
Message-ID: <20000623105808.9175320844@seneca.uco.es>

Dear Prof Ripley an d the R core team: 

I have installed the new RW1010. But I can't see (in 
RW1010\doc\manual ) the file R-intro.texi
I'd like to know if I have done something wrong.
Thank you,

	Juan Antonio

-- 
===========================================
J.A.Caballero M.
Dpto. Estadistica e Investigacion Operativa
Campus de Rabanales
Edificio C-II
Universidad de Cordoba
14080 SPAIN
-------------------------------------------
tel +34 57 218480
fax +34 57 218123
e-mail ma1estad at uco.es
===========================================



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Fri Jun 23 14:06:55 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Fri, 23 Jun 2000 14:06:55 +0200
Subject: [R] *.texi file
In-Reply-To: <20000623105808.9175320844@seneca.uco.es>; from ma1estad@uco.es on Fri, Jun 23, 2000 at 12:58:08PM +0200
References: <20000623105808.9175320844@seneca.uco.es>
Message-ID: <20000623140655.A10897@sirio.stat.unipd.it>

On Fri, Jun 23, 2000 at 12:58:08PM +0200, Juan Antonio Caballero wrote:
> Dear Prof Ripley an d the R core team: 
> 
> I have installed the new RW1010. But I can't see (in 
> RW1010\doc\manual ) the file R-intro.texi
> I'd like to know if I have done something wrong.
> Thank you,
> 
> 	Juan Antonio
> 

   R-intro.texi is the _source_ of the "Introduction to R"
   manual. Hence, it is in the R source not in the _binary_ distribution.
   The binary distribution for windows includes a pdf version
   of this manual (in the rw1010d1.zip bit) which is available
   also from the main page at CRAN.

   guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Fri Jun 23 11:30:38 2000
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Fri, 23 Jun 2000 19:30:38 +1000
Subject: [R] Postscript Legends (or not)
Message-ID: <39532E3D.CE3CF631@ozemail.com.au>

Anon wrote:

...However, if I use Fred <- c(1,"33")...
Is this a bug, or am I missing something?

This is an interesting problem.  It boils down to the fact that
PostScript expects an array (even if it's empty) and an offset for
"setdash".  Normally, a solid line is specified with an empty array and
zero offset.  However, if R gets specs that convert to zero and puts a
zero in the array, the PostScript interpreter will barf.  Zero can
appear, but there must be at least one non-zero number in the array.
Hexadecimal strings supplied to lty are converted to array elements, but
a single character "1" seems to produce "0.00".  Remember that the c()
operater will coerce the number 1 to the string "1" when combining it
with "33".  That is, it's probably a bad idea to mix the two methods of
specifying line types with "lty".

A possible fix is to insert a test for zero in the function
SetLineStyle() - devPS.c:

static void SetLineStyle(int newlty, double newlwd, DevDesc *dd)
{
    PostScriptDesc *pd = (PostScriptDesc *) dd->deviceSpecific;
    int i, ltyarray[8];
    int sum = 0;
    if (pd->lty != newlty || pd->lwd != newlwd) {
      pd->lwd = newlwd;
      pd->lty = newlty;
      PostScriptSetLineWidth(pd->psfp, dd->gp.lwd*0.75);
      for(i = 0; i < 8 && newlty & 15 ; i++) {
          ltyarray[i] = newlty & 15;
          sum += ltyarray[i];
          newlty = newlty >> 4;
      }
      if(!sum) i = 0;
      PostScriptSetLineTexture(pd->psfp, ltyarray, i, dd->gp.lwd *
0.75);
    }
}

producing a solid line when all elements of 'ltyarray' are zero.

Jim


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erich.neuwirth at univie.ac.at  Fri Jun 23 15:31:22 2000
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Fri, 23 Jun 2000 15:31:22 +0200
Subject: [R] ess
Message-ID: <395366AA.80D1F20E@univie.ac.at>

i am using  r 1.1.0 and ess 5.1.13
on win2k (with an amd k7).
things behave strangely.

i can start r with
M-x R
and i can give a command
the command will be executed and i will get the answer,
but i will not get a prompt for entering the next command in most cases.

when i do graphics command, things are even more surprising.
then i get a prompt,
but somtimes the graphics window cannot be brought into the foreground.
 
any experiences or strategies?

erich


--
Erich Neuwirth, Computer Supported Didactics Working Group
Visit our SunSITE at http://sunsite.univie.ac.at
Phone: +43-1-4277-38624 Fax: +43-1-4277-9386
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yuelin at mail.med.upenn.edu  Fri Jun 23 20:18:19 2000
From: yuelin at mail.med.upenn.edu (Yuelin Li)
Date: Fri, 23 Jun 2000 14:18:19 -0400
Subject: [R] Errors in Compiling R
Message-ID: <3953A9EB.F0D5F155@mail.med.upenn.edu>

I am having trouble compiling R-1.1.0 on a Sun Ultra 60 machine 
running Solaris 7.  Suggestions are greatly appreciated.
 
I modified the CPPFLAGS and LIBS variables in the config.site file.
As far as I can tell, I have included all the non-standard headers 
and libraries installed on my Sun station.  My GNU stuff is installed 
in /opt/Summertime_98.sparc/, and at the bottom of this 
message I attach the modified CPPFLAGS and LIBS. 

I got these errors when I run make (after configure):

-----
gcc -I. -I../../src/include -I../../src/include
-I../../src/include/R_ext 
[.... other -I paths omitted] -DHAVE_CONFIG_H   -g -O2 -c errors.c 
-o errors.o

errors.c: In function `Rf_warning':
errors.c:138: `__builtin_va_alist' undeclared (first use in this
function)
errors.c:138: (Each undeclared identifier is reported only once
errors.c:138: for each function it appears in.)
errors.c: In function `Rf_warningcall':
errors.c:176: `__builtin_va_alist' undeclared (first use in this
function)
errors.c: In function `Rf_errorcall':
errors.c:286: `__builtin_va_alist' undeclared (first use in this
function)
errors.c: In function `Rf_error':
errors.c:311: `__builtin_va_alist' undeclared (first use in this
function)
errors.c: In function `Rf_ErrorMessage':
errors.c:529: `__builtin_va_alist' undeclared (first use in this
function)
errors.c: In function `Rf_WarningMessage':
errors.c:562: `__builtin_va_alist' undeclared (first use in this
function)
*** Error code 1
make: Fatal error: Command failed for target `errors.o'
Current working directory /export/home/yuelin/R-1.1.0/src/main
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /export/home/yuelin/R-1.1.0/src/main
*** Error code 1
make: Fatal error: Command failed for target `R'
Current working directory /export/home/yuelin/R-1.1.0/src
*** Error code 1
make: Fatal error: Command failed for target `R'
-----------

My CPPFLAGS and LIBS variables are as follows:

CPPFLAGS="-I/usr/include -I/usr/openwin/share/include/X11 
-I/usr/ucbinclude -I/opt/Summertime_98.sparc/include 
-I/opt/Summertime_98.sparc/include/readline 
-I/opt/Summertime_98.sparc/include/g++ 
-I/opt/Summertime_98.sparc/include/gtk 
-I /opt/Summertime_98.sparc/include/gck -I/usr/include/sys"


LIBS="-L/lib -L/usr/local/lib -L/usr/lib -L/usr/openwin/lib 
-L/usr/share/lib/usr/dt/lib -L/usr/ccs/lib -L/usr/xpg4/lib 
-L/usr/proc/lib -L/opt/Summertime_98.sparc/Perl/lib 
-L/opt/Summertime_98.sparc/lib"







-- 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Yuelin Li, Ph.D.             (215) 590-6895 (office)
                             (215) 590-2378 (fax)

Research Assistant Professor  3535 Market St. Suite 1029
                              Outcomes Research Center
Dept. of Anesthesiology       Children's Hospital of
The School of Medicine        Philadelphia
University of Pennsylvania    Philadelphia, PA 19104
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jun 23 20:53:12 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Jun 2000 20:53:12 +0200
Subject: [R] Errors in Compiling R
In-Reply-To: Yuelin Li's message of "Fri, 23 Jun 2000 14:18:19 -0400"
References: <3953A9EB.F0D5F155@mail.med.upenn.edu>
Message-ID: <x2snu4b55z.fsf@blueberry.kubism.ku.dk>

Yuelin Li <yuelin at mail.med.upenn.edu> writes:

> I am having trouble compiling R-1.1.0 on a Sun Ultra 60 machine 
> running Solaris 7.  Suggestions are greatly appreciated.
>  
> I modified the CPPFLAGS and LIBS variables in the config.site file.
> As far as I can tell, I have included all the non-standard headers 
> and libraries installed on my Sun station.  My GNU stuff is installed 
> in /opt/Summertime_98.sparc/, and at the bottom of this 
> message I attach the modified CPPFLAGS and LIBS. 
> 
> I got these errors when I run make (after configure):
> 
> -----
> gcc -I. -I../../src/include -I../../src/include
> -I../../src/include/R_ext 
> [.... other -I paths omitted] -DHAVE_CONFIG_H   -g -O2 -c errors.c 
> -o errors.o
> 
> errors.c: In function `Rf_warning':
> errors.c:138: `__builtin_va_alist' undeclared (first use in this
> function)

This comes from pretty deep inside the compiler macros. One suspicion
that one gets is that you have a gcc from an earlier version of
Solaris -  that would give that general kind of trouble.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From root at predict.telepac.pt  Fri Jun 23 20:56:46 2000
From: root at predict.telepac.pt (Jorge Magalhaes)
Date: Fri, 23 Jun 2000 19:56:46 +0100 (WET)
Subject: [R] install R-1.1.0 in Suse 6.0
Message-ID: <Pine.LNX.4.05.10006231949030.4675-100000@predict.telepac.pt>


Dear all:

I tried to install R-1.1.0 im my Suse 6.0 linux box. 
My first step is:
		./configure -with-f2c

after i do > make command and i have the following error message:

############# error message

make[5]: `Makedeps' is up to date.
make[5]: Leaving directory `/root/R-1.1.0/src/unix/X11'
make[5]: Entering directory `/root/R-1.1.0/src/unix/X11'
gcc -I. -I../../../src/include -I../../../src/include -I../../../src/include/R_ext -I/usr/X11R6/include -I/usr/local/include -DHAVE_CONFIG_H -mieee-fp -D__NO_MATH_INLINES -fPIC  -g -O2 -c rbitmap.c -o rbitmap.o
rbitmap.c:239: parse error before `jmp_buf'
rbitmap.c:239: warning: no semicolon at end of struct or union
rbitmap.c: In function `my_error_exit':
rbitmap.c:257: dereferencing pointer to incomplete type
rbitmap.c: In function `R_SaveAsJpeg':
rbitmap.c:279: storage size of `jerr' isn't known
make[5]: *** [rbitmap.o] Error 1
make[5]: Leaving directory `/root/R-1.1.0/src/unix/X11'
make[4]: *** [R] Error 2
make[4]: Leaving directory `/root/R-1.1.0/src/unix/X11'
make[3]: *** [DLLs] Error 1
make[3]: Leaving directory `/root/R-1.1.0/src/unix'
make[2]: *** [R] Error 2
make[2]: Leaving directory `/root/R-1.1.0/src/main'
make[1]: *** [R] Error 1
make[1]: Leaving directory `/root/R-1.1.0/src'
make: *** [R] Error 1

############### end error message

My question: I need upgrade my suse version from 6.0 to 6.4 for install
R-1.1.0 in my linux box?

Thanks in advance

Jorge
-- 
+----------------------------------------------------------------------+
| Jorge Magalh?es                 Email:     jmagalhaes at eng.uminho.pt  |
| Quinta do Calv?rio, bloco 14    Telem?vel: 966172200                 |
| 2? Direito Tr?s                 Fax:       + 351 253 516007          |
| 5400 Chaves                     Phone:     + 351 276 333008          |
| Portugal                        Email:     jorgemagalhaes at clix.pt    |
+----------------------------------------------------------------------+

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Jun 23 23:23:18 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Jun 2000 23:23:18 +0200
Subject: [R] install R-1.1.0 in Suse 6.0
In-Reply-To: Jorge Magalhaes's message of "Fri, 23 Jun 2000 19:56:46 +0100 (WET)"
References: <Pine.LNX.4.05.10006231949030.4675-100000@predict.telepac.pt>
Message-ID: <x27lbgqegp.fsf@blueberry.kubism.ku.dk>

Jorge Magalhaes <root at predict.telepac.pt> writes:

> make[5]: Leaving directory `/root/R-1.1.0/src/unix/X11'
> make[5]: Entering directory `/root/R-1.1.0/src/unix/X11'
> gcc -I. -I../../../src/include -I../../../src/include -I../../../src/include/R_ext -I/usr/X11R6/include -I/usr/local/include -DHAVE_CONFIG_H -mieee-fp -D__NO_MATH_INLINES -fPIC  -g -O2 -c rbitmap.c -o rbitmap.o
> rbitmap.c:239: parse error before `jmp_buf'
> rbitmap.c:239: warning: no semicolon at end of struct or union
..
> My question: I need upgrade my suse version from 6.0 to 6.4 for install
> R-1.1.0 in my linux box?

It seems that these problems (we had one report earlier) are caused by
old versions of jpeglib.h not defining the jpeg_error_mgr struct. It
might suffice to upgrade jpeglib. You can also disable jpeg support
entirely by changing the line in src/include/config.h.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Sat Jun 24 09:20:10 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Sat, 24 Jun 2000 09:20:10 +0200
Subject: [R] ess
In-Reply-To: <395366AA.80D1F20E@univie.ac.at>; from erich.neuwirth@univie.ac.at on Fri, Jun 23, 2000 at 03:31:22PM +0200
References: <395366AA.80D1F20E@univie.ac.at>
Message-ID: <20000624092010.B23798@sirio.stat.unipd.it>

On Fri, Jun 23, 2000 at 03:31:22PM +0200, Erich Neuwirth wrote:
> i am using  r 1.1.0 and ess 5.1.13
> on win2k (with an amd k7).
> things behave strangely.
> 
> i can start r with
> M-x R
> and i can give a command
> the command will be executed and i will get the answer,
> but i will not get a prompt for entering the next command in most cases.

  This works for me. Have you a non standard R prompt, i.e., 
  different from '>'? If I remember, but I am not an expert
  in ESS internals, ESS relays on the prompt to find the end
  of the previous command output.


> 
> when i do graphics command, things are even more surprising.
> then i get a prompt,
> but somtimes the graphics window cannot be brought into the foreground.

  Does the graphic window exist? You can use 'dev.list()' to
  check for this. Reason of the question: surely there is a long 
  standing bug in NTEmacs which makes NTEmacs to eat some  'map on
  the screen event' for a sub-process. This is replicable
  with a application which simply calls  MessageBox and then dies
  (the MessageBox is never shown!!). Brian and I tried to overcome
  this bug simply replicating the event (the two show(xd->gawin)
  in src/gnuwin32/devga.c:setupScreenDevice). Then I didn't have
  problems but I don't use too much ESS under Windows.

  guido
  





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Sat Jun 24 17:20:36 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Sat, 24 Jun 2000 17:20:36 +0200 (MET DST)
Subject: [R] Garbage Collecting
Message-ID: <Pine.OSF.4.05.10006241553500.24787-100000@alnair.uio.no>

Dear all,

Me and the Garbage Collector doesn't understand each other... 
I'm on R-1.0.1 (I have requested an upgrade to the right local people), an
osf1 system with an alphaev6 CPU. I have fair amounts of memory to use,
but it seems to be used up pretty fast nevertheless. 
I'm now trying to see what the garbage collector does, I have inserted a
gc(v=T)
call at a spot in my code.
I also discovered gctorture(), but I don't claim to be an R hacker for
that matter. :-)

I do a call 
> l4 <- t(apply(cbind(rep(1000000, 4)), 1, lineprofile, 1, 80, 
                smap01n$histogram))
and this will create a 101 * 4 element matrix. My first line in
'lineprofile' is gc(v=T), so it reports while running
Garbage collection [nr. 362602]...
629255 cons cells free (78%)
155163 Kbytes of heap free (76%)
Garbage collection [nr. 362603]...
627739 cons cells free (78%)
149224 Kbytes of heap free (73%)
Garbage collection [nr. 362604]...
626223 cons cells free (78%)
143286 Kbytes of heap free (70%)
Garbage collection [nr. 362605]...
624707 cons cells free (78%)
137347 Kbytes of heap free (67%)

So, it seems like close to 6 MB is used for time lineprofile is run. I
thought that the garbage collector would come and remove everything that
wasn't needed, so that the difference in free heap size would be
corresponding to the size of the array produced by lineprofile, that is,
202 bytes. And that when the call returns with the expected object, the gc
would free memory, so that what's in the memory would correspond to the
size of the objects, which again would correspond to what I have in my
.RData file. Currently, my .RData file (saved shortly before the previous
call) is slightly less than 450 kb, but 
> gc()
           free    total  (Mb)
Ncells   629305   800000  30.6
Vcells 19860721 26214400 200.0

Last night (before this call), I did a run with gctorture(T) but on a 
slightly more complex piece of my code (yes, it is _slow_), and since it
was started just after starting R, it starts with almost all the heap free
Garbage collection [nr. 2111]...
641457 cons cells free (80%)
203427 Kbytes of heap free (99%)
Garbage collection [nr. 43375]...
639941 cons cells free (79%)
197488 Kbytes of heap free (96%)
[...]
Garbage collection [nr. 303218]...
630828 cons cells free (78%)
161854 Kbytes of heap free (79%)
Garbage collection [nr. 356743]...
629295 cons cells free (78%)
155912 Kbytes of heap free (76%)

At this point, I halted it with BREAK, and did 
> gc()
           free    total  (Mb)
Ncells   629306   800000  30.6
Vcells 19860723 26214400 200.0

I would expect it to get rid of everything that went on in the last call,
but 19860723/26214400 is 76%, so that didn't happen. 

Now, this isn't too much to go on, I realize, but I want to hear if my
understanding of what the garbage collector is supposed to be doing is
totally wrong before I get deeper into this. If I'm not totally
wrong, and anybody cares to have a look, I have saved the objects that is
sufficient to reproduce the problem on my system in
<URL:http://www.astro.uio.no/~kjetikj/tmp/kjetil.RData>

I had a core dump (warning, 291MB), after killing R with wildly giving all
kinds of signals... (BREAK, QUIT, STOP, KILL) :-)
<URL:http://www.astro.uio.no/~kjetikj/tmp/Rcore1>, I don't know if it is
of much use. 

Yours Confusedly,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gegignac at julian.uwo.ca  Sat Jun 24 17:17:22 2000
From: gegignac at julian.uwo.ca (Gilles Gignac)
Date: Sat, 24 Jun 2000 11:17:22 -0400
Subject: [R] ncol(hitdat)
Message-ID: <3954D101.58A96555@julian.uwo.ca>

Hi all,

I am a beginner to R, so you have a right to dislike me. I have loaded
up a data matrix (664 * 28) into the R environment and wish to have a
pre-written program (MAXCOV-HITMAX) analyse the data. When I run the
program, I get: "Error in ncol(hitdat). Argument "hitdat" is missing
with no default"; I can't seem to find much info in the manuals, etc. to
help me out, so any suggestions will be appreciated greatly. I am using
R.1.0.

Gilles

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Sat Jun 24 18:36:23 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Sat, 24 Jun 2000 18:36:23 +0200 (MET DST)
Subject: [R] ncol(hitdat)
In-Reply-To: <3954D101.58A96555@julian.uwo.ca>
Message-ID: <Pine.OSF.4.05.10006241826010.24787-100000@alnair.uio.no>

On Sat, 24 Jun 2000, Gilles Gignac wrote:

>Hi all,
>
>I am a beginner to R, so you have a right to dislike me. 

Everyone starts as a newbie! :-) I'm not too experienced myself, but I'll
try an answer.

>I have loaded
>up a data matrix (664 * 28) into the R environment and wish to have a
>pre-written program (MAXCOV-HITMAX) analyse the data. When I run the
>program, I get: "Error in ncol(hitdat). Argument "hitdat" is missing
>with no default"; I can't seem to find much info in the manuals, etc. to
>help me out, so any suggestions will be appreciated greatly. I am using
>R.1.0.

Hm, one would have to have a closer look at your functions to figure out
this one. I guess that the function ncol() is called somewhere inside your
program and it has an argument called 'hitdat', that it can't find. I'd
guess that you were supposed to provide some data to the the maxcov-hitmax
program that didn't go where they were supposed to... Perhaps someone else
might have a better answer, or you might have to supply more details on
the function you're using.   

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sat Jun 24 18:47:10 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 24 Jun 2000 18:47:10 +0200
Subject: [R] ncol(hitdat)
References: <3954D101.58A96555@julian.uwo.ca>
Message-ID: <3954E60E.9881E380@statistik.uni-dortmund.de>

Gilles Gignac wrote:
> 
> Hi all,
> 
> I am a beginner to R, so you have a right to dislike me. I have loaded
> up a data matrix (664 * 28) into the R environment and wish to have a
> pre-written program (MAXCOV-HITMAX) analyse the data. When I run the
> program, I get: "Error in ncol(hitdat). Argument "hitdat" is missing
> with no default"; I can't seem to find much info in the manuals, etc. to
> help me out, so any suggestions will be appreciated greatly. I am using
> R.1.0.

I don't know anything about the function you are using, so I only can
guess:
Are you sure you passed the right (and required) arguments to that
function?

Regards,
Uwe Ligges

p.s.: The latest R is R-1.1.0, the latest two versions before: R-1.0.0
and R-1.0.1.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Sat Jun 24 18:58:48 2000
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Sat, 24 Jun 2000 12:58:48 -0400 (EDT)
Subject: [R] ncol(hitdat)
Message-ID: <200006241658.MAA22968@cattell.psych.upenn.edu>

>I am a beginner to R, so you have a right to dislike me. I have loaded
>up a data matrix (664 * 28) into the R environment and wish to have a
>pre-written program (MAXCOV-HITMAX) analyse the data. When I run the
>program, I get: "Error in ncol(hitdat). Argument "hitdat" is missing
>with no default"; I can't seem to find much info in the manuals, etc. to
>help me out, so any suggestions will be appreciated greatly. I am using
>R.1.0.
>
>Gilles

You don't give much information, but I run into this sort of
problem all the time, and here are a few tricks:

1. I assume you submit the program by saying
source("MAXCOV-HITMAX"). Try source("MAXCOV-HITMAX",echo=T)
instead, and then you can see how far it gets and where it
"bombs."

2. Similarly, type ls() to see what objects have been created.
Probably hitdat isn't there, or you missspelled it, or something.

3. If hitdat is the data themselves, check how you read the data
in.  Try to do it by hand instead of with a batch file.

4. If hitdat is derived from other objects, see if they exist by
typing their names.

I find the most common problem is assuming the wring type of
object (data frame vs. matrix, for example).  Check the help
files to see what is required.

Jon Baron


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Jun 24 19:28:27 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Jun 2000 19:28:27 +0200
Subject: [R] Garbage Collecting
In-Reply-To: Kjetil Kjernsmo's message of "Sat, 24 Jun 2000 17:20:36 +0200 (MET DST)"
References: <Pine.OSF.4.05.10006241553500.24787-100000@alnair.uio.no>
Message-ID: <x2vgyz7zus.fsf@blueberry.kubism.ku.dk>

Kjetil Kjernsmo <kjetil.kjernsmo at astro.uio.no> writes:

> I do a call 
> > l4 <- t(apply(cbind(rep(1000000, 4)), 1, lineprofile, 1, 80, 
>                 smap01n$histogram))
> and this will create a 101 * 4 element matrix. My first line in
> 'lineprofile' is gc(v=T), so it reports while running
> Garbage collection [nr. 362602]...
> 629255 cons cells free (78%)
> 155163 Kbytes of heap free (76%)
> Garbage collection [nr. 362603]...
> 627739 cons cells free (78%)
> 149224 Kbytes of heap free (73%)
> Garbage collection [nr. 362604]...
> 626223 cons cells free (78%)
> 143286 Kbytes of heap free (70%)
> Garbage collection [nr. 362605]...
> 624707 cons cells free (78%)
> 137347 Kbytes of heap free (67%)
> 
> So, it seems like close to 6 MB is used for time lineprofile is run. I
> thought that the garbage collector would come and remove everything that
> wasn't needed, so that the difference in free heap size would be
> corresponding to the size of the array produced by lineprofile, that is,
> 202 bytes. 

Hm. I think I would do that as

do.call("rbind", lapply(rep(1000000,4), lineprofile, ....) 

(provided I grasped the intention correctly). Still looks strange,
though, and as usual I wouldn't rule out that there might be a problem
with 32/64 bit assumptions somewhere since we have so few people on 64
bit platforms. 

In general, the garbage collector should indeed remove anything that
is not used by an active R object or is otherwise protected. So if
lineprofile doesn't have any side effects, then only the return value
should be left after the call.

> Now, this isn't too much to go on, I realize, but I want to hear if my
> understanding of what the garbage collector is supposed to be doing is
> totally wrong before I get deeper into this. If I'm not totally
> wrong, and anybody cares to have a look, I have saved the objects that is
> sufficient to reproduce the problem on my system in
> <URL:http://www.astro.uio.no/~kjetikj/tmp/kjetil.RData>

Perhaps you could cut the size of the problem down a bit? Some of us
are sitting at machines with 64MB RAM and are not too thrilled about R
processes with 200+ MB of memory footprint...

If you're feeling adventurous, Luke Tierney has just opened up an
experimental branch with a substantially modified garbage collector. I
believe there's a way to get it by anonymous CVS, the branch label is
R-GenGC. However, that one should be *less* strict about cleaning out
every last bit of unused data than the current one (in the hope of
getting better speed in return).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Sat Jun 24 20:15:54 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Sat, 24 Jun 2000 20:15:54 +0200 (MET DST)
Subject: [R] Garbage Collecting
In-Reply-To: <x2vgyz7zus.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.OSF.4.05.10006241957090.24787-100000@alnair.uio.no>

Thanks for the reply!

On 24 Jun 2000, Peter Dalgaard BSA wrote:

>
>Hm. I think I would do that as
>
>do.call("rbind", lapply(rep(1000000,4), lineprofile, ....) 

OK! This is kind of Perly, I guess, I have just tried to find something
that gives the matrix I need, no doubt there are better ways.

Huh, actually this called crashed R on my first run... Core dump (Again
huge!) at <URL:http://www.astro.uio.no/~kjetikj/tmp/Rcore2>.

On the second run, it exhibits the same problem as with the other code
(but it does seem to run faster indeed!). To free the heap I quit and
restart.

>(provided I grasped the intention correctly). Still looks strange,
>though, and as usual I wouldn't rule out that there might be a problem
>with 32/64 bit assumptions somewhere since we have so few people on 64
>bit platforms. 

Hm, ok.

>In general, the garbage collector should indeed remove anything that
>is not used by an active R object or is otherwise protected. So if
>lineprofile doesn't have any side effects, then only the return value
>should be left after the call.

No, lineprofile doesn't have any side effects, I never use '<<-' and
things like that (I have been writing to a file with this code, but that
is currently commented out, it was an unrelated sanity check I performed).

>Perhaps you could cut the size of the problem down a bit? Some of us
>are sitting at machines with 64MB RAM and are not too thrilled about R
>processes with 200+ MB of memory footprint...

I can imagine. The code would run with vsize=30M as well, I just tried.
Actually, I never did any calculations on how much RAM I should be needing
to run my code, so perhaps my huge heap sizes are due to that I have had
this problem before and made large heap sizes only by experience, without
reflecting on why I use it (though I have also had .RData files of
~150MB).

>If you're feeling adventurous, Luke Tierney has just opened up an
>experimental branch with a substantially modified garbage collector. 

Wow!

>I
>believe there's a way to get it by anonymous CVS, the branch label is
>R-GenGC. However, that one should be *less* strict about cleaning out
>every last bit of unused data than the current one (in the hope of
>getting better speed in return).

I'll give it a thought, but most likely, I'll try to find some 32 bit
computers to check out as well.

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clelancm at UMDNJ.EDU  Sat Jun 24 22:15:43 2000
From: clelancm at UMDNJ.EDU (Cleland)
Date: Sat, 24 Jun 2000 16:15:43 -0400 (EDT)
Subject: [R] ncol(hitdat)
In-Reply-To: <3954D101.58A96555@julian.uwo.ca>
Message-ID: <Pine.HPX.4.10.10006241605300.21284-100000@rwja.umdnj.edu>

On Sat, 24 Jun 2000, Gilles Gignac wrote: 
> I am a beginner to R, so you have a right to dislike me. I have loaded
> up a data matrix (664 * 28) into the R environment and wish to have a
> pre-written program (MAXCOV-HITMAX) analyse the data. When I run the
> program, I get: "Error in ncol(hitdat). Argument "hitdat" is missing
> with no default"; I can't seem to find much info in the manuals, etc. to
> help me out, so any suggestions will be appreciated greatly. I am using
> R.1.0.

Gilles:
  I will hazard a guess that you are using MAXCOV code provided by Neils
Waller and Paul Meehl.  I think you want to pass your matrix to the
function "MAXCOV.prg".  I think you may have used another function that is
not meant to be called directly by the user in most cases.     .  Also, be
careful with your 28 column data matrix since MAXCOV.prg will produce many
pages of plots for a matrix tthathsize.at size.

hope this helps,

Chuck

mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm

Assistant Professor
Dept. of Pediatrics
UMDNJ--Rober Wood Johnson Medical School
97 Patterson St.
New Brunswick, NJ 08903
(732)2 2 235-7699

mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rdiazuri at students.wisc.edu  Sat Jun 24 12:13:20 2000
From: rdiazuri at students.wisc.edu (Ramon Diaz-Uriarte)
Date: Sat, 24 Jun 2000 12:13:20 +0200
Subject: [R] Summary: # of users of R, and biological examples of the use of R
Message-ID: <00062414102000.00795@ligarto>

I got a lot of answers to the questions I posted; thank you very much to all
who responed. Since the two questions are different, I include here answers to
both, starting with the second question. The first question then generated some
more message (as just "# of users of R"); I include those too.

Ramn

##############################################################
################# Biological examples of the use of R ################
##############################################################

Question:
> 2) Have/are any of you using R in papers in the biological sciences
(specially evolutionary biology, ecology, behavior)?


Answers:

I have used it for a paper predicting defoliation by gypsy moths in the
Eastern US.

 -thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

*******************************

I'm working with a group of microbiologists for using it (for viral
evolution).

Papers won't be published for a bit, though, since it's only in the
beginning...

best,
-tony

-- 
A.J. Rossini                    Research Assistant Professor of Biostatistics 
Biostatistics/Univ. of Washington  (Th)  Box 357232   206-543-1044 (3286=fax)
Center for AIDS Research/HMC/UW    (M/F)         Box 359931   206-731-3647 (3693=fax)
VTN/SCHARP/FHCRC                  (Tu/W)         Box 358080   206-667-7025 (4812=fax)
rossini@(biostat.washington.edu|u.washington.edu|scharp.org)
http://www.biostat.washington.edu/~rossini
******************************************
Not yet because I have just been switching over from Splus for the past six
months or so.  But see my contributed package "maptree" on CRAN and references
for the datasets for examples of published work using Splus versions of what I
am now doing in R.

> Thanks,
> 
> Ramon
> 

Denis White, US EPA, 200 SW 35th St, Corvallis, Oregon, 97333 USA
voice: 541.754.4476, fax: 541.754.4716, email: white.denis at epa.gov
web: www.epa.gov/wed/pages/staff/white/

**********************************
Hang on...
Well, I've started using R.  There is also this paper:
Tufto et al. (2000) Bayesian meta-analysis of demographic parameters in
three small, temperate passerines.  Oikos 88: 273-88.

This uses BUGS, and they credit R at the end (presumably they use it for
processing the output).  I'm not aware of other people using it, but
it's not teh sort of thing one normally discusses at conferences.

Bob

-- 
Bob O'Hara
Metapopulation Research Group
Division of Population Biology
Department of Ecology and Systematics
PO Box 17 (Arkadiankatu 7)
FIN-00014 University of Helsinki
Finland

*********************
I am using R for ecological and management work on freshwater fish populations.
My uses of R include model fitting, maximum likelihood estimation, Bayesian
analysis and other "stuff".

I am a post-doctoral fellow at the Fisheries Centre, University of British
Columbia.

cheers,
Andy

From: "Andrew J. Paul" <ajpaul at ucalgary.ca>To: rdiazuri at students.wisc.edu

*****


See Natalie Roberts talk.  Very good presentation, but when I asked she
said she could not share the data of her talk.

http://www.stat.Berkeley.EDU/users/terry/zarray/Html/Rintro.html

steve
From: Stephen Arthur <sarthur at protogene.com>
*****************

I have a paper accepted for print in Ecology with R macros to fit the models, 
and a few other manuscripts under processing with more casual application of R 
for statistics.

cheers, jari oksanen

From: Jari Oksanen <jhoksane at ecology.helsinki.fi>To: rdiazuri at students.wisc.edu
***********************

I am starting to use R for plant morphometrics (mostly multivariate 
analysis, plotting).
Regards!

++++++++++++++++++++++++++++++++++
] Zdenek Skala
] e-mail:skala at incoma.cz
] fax:++420-2-67311401
] address:
] Nedvezska 2232
] CZ-10000 Praha 10
] Czech Republic

****************************************
Take a look at my web page
www.luc.ac.be/~jlindsey/publications.html
especially the recent paper in Applied Statistics on overdispersion
which analyzes black grouse data.
Jim

From: Jim Lindsey <james.lindsey at luc.ac.be>To: rdiazuri at students.wisc.edu
***********************

I have been using R to analyse the output of MLE and McMC algorithms.
Most of the time I use coda and locfit but have also used many of the R
functions that produce contour plots, etc. My field of research is
population genetics and evolution and I know at least five or six
colleagues here in the UK (U. of London, U. of Reading, etc.) who also
use it. Also, I assume that most of the people working on coalescent
theory and McMC methods are using it. 

Cheers,

Oscar

Oscar E. Gaggiotti       
 
University of Cambridge          Tel. +44 (0)1223 762934
Department of Zoology            
Downing Street                   Fax  +44 (0)1223 336676
Cambridge
CB2 3EJ                          E-mail: oeg20 at cam.ac.uk
United Kingdom
---------
********************************

I have. I only use R now for stats and for graphs too (except for drawings,
or more complex layouts). I guess you will be interested in a paper I've
just submitted to Am Nat on using GEEs for comparative analysis: I can send
you a copy of the MS if you wish. I have also a paper on density dependence
in bird populations where I have done some GLMs and modelling of variance
(thanks to R), it is ready to be sent to J Anim Ecol.

... and I forgot to mention that I am writing a review for TREE on
""Advances in statistical modelling of variability and heterogeneity"; this
will mention R of course.

Emmanuel Paradis <paradis at isem.univ-montp2.fr>

**********************
One psychologist using R in the analysis of behavioral data.  I hope that you
don't get too many emails like this...

Jim
From: Jim Lemon <bitwrit at ozemail.com.au>

************************

I've been using R for my recent work, of the last three papers 
I'vesubmitted this year, two contained statistical analsyes, and one used R (a
lot)

I expect to submit another two this year, both make heavy use of R.  One
of these papers is the reason I started using R.  I could think of no
other way to analyse thousands of datasets produced by monte-carlo
simulation, then analyse using ancova's - saving all the p-values for
further analysis.

I'm also designing the computer lab exercises for a new, required,
undergraduate biostatistics course - it will all be in R.

Peter L. Hurd, Ph.D.
phurd at uts.cc.utexas.edu
http://www.zo.utexas.edu/research/phurd                 fax 512.471-3878
Section of Integrative Biology, University of Texas, Austin TX 78712 USA



##############################################################
#################      # of  Users of R                  ################  
##############################################################

Question: 
1) Anybody has any rough idea of how many people might  be using R or how
manypeople have downloaded R, or similar (I am aware answering this question
might require divinatory powers...).


******************
I don't even know how many people are using it in my department. You canprobably find out how many people subscribe to the mailing lists, which
gives a lower bound.

Thomas Lumley

****************


Without having such powers, I can report how the mailing lists look like :

% cat r-announce r-help r-devel |sort|uniq|wc -l
911
 (w/o sort|uniq  it's 1140);  
 r-help alone has 635

which indicates that 911 different e-mail addresses are subscribed to
the R mailing lists (very few of these are mailing lists; 
              however, also quite a few will be pointing to the same
              person)

Now, the mailing lists probably contain almost no undergraduate students,
and these *are* using R at least in many of the courses...

Further, graduate students and scientific staff in many organizations use R,
but only the more "aficionados" among them are subscribed to an R list.
[factor of 3 ?]

Other guesses?

[Then what would "uses R" mean at all?
o  >= 1 hour per week ?
o  (one of) your major tool(s) for statistical data analysis?
o  ??
]

----
{Now some musings, don't take me too seriously: I'm tired, it's hot, ....}

At one moment in time I had dreamed of putting a "feature" into R which
`registered' a user automatically when using R for the first time
(by sending an e-mail to some "R counter" on the internet);
but even if for a good purpose, it feels too much like "Big Brother" 
and "Virus/Worm"like behavior.. (and looks painful for me as MS-ignorant
to work on a home Win-PC which only occasionally connects to the Net).

Linux has (had) an optional Linux Users counter, via nice web interface;
however I think it had never reached a state where it counted more than a
tiny fraction of users....

Martin Maechler


********************
Martin Maechler <maechler at stat.math.ethz.ch> writes:
> which indicates that 911 different e-mail addresses are subscribed to
> the R mailing lists (very few of these are mailing lists; 
>                     however, also quite a few will be pointing to the same
>                     person)
> 
> Now, the mailing lists probably contain almost no undergraduate students,
> and these *are* using R at least in many of the courses...
> 
> Further, graduate students and scientific staff in many organizations use R,
> but only the more "aficionados" among them are subscribed to an R list.
> [factor of 3 ?]
> 
> Other guesses?
> 

Robert once guesstimated 10000 users, which would mean that roughly
one in 10 signs up for mailing lists. That could well be the case, the
mailing list traffic seems comparable to early days of s-news. 

> [Then what would "uses R" mean at all?
>  o  >= 1 hour per week ?
>  o  (one of) your major tool(s) for statistical data analysis?
>  o  ??
> ]

<We could also count the "sold items" since we're on both SuSE and
RedHat CDs (and Debian but do their sales get counted?). Of course one
thing is buying a program another is using it, but hey!, has that ever
stopped others?>

> Linux has (had) an optional Linux Users counter, via nice web interface;
> however I think it had never reached a state where it counted more than a
> tiny fraction of users....

Estimated 1% it seems. It's still there (and has me as #4115 out of
148315) at counter.li.org.

-- 
O__  ---- Peter Dalgaard             Blegdamsvej 3  
c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
(*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

********************
On 20 Jun 2000, Peter Dalgaard BSA wrote:
> Martin Maechler <maechler at stat.math.ethz.ch> writes:
> 
> > which indicates that 911 different e-mail addresses are subscribed to
> > the R mailing lists (very few of these are mailing lists; 
> >                   however, also quite a few will be pointing to the same
> >                   person)
> > 
> > Now, the mailing lists probably contain almost no undergraduate students,
> > and these *are* using R at least in many of the courses...
> > 
> > Further, graduate students and scientific staff in many organizations use R,
> > but only the more "aficionados" among them are subscribed to an R list.
> > [factor of 3 ?]
> > 
> > Other guesses?
> > 
> 
> Robert once guesstimated 10000 users, which would mean that roughly
> one in 10 signs up for mailing lists. That could well be the case, the
> mailing list traffic seems comparable to early days of s-news. 

Sounds plausible, and the MathSoft estimated ratio is more like 30 (but
then their user base will have a more hierarchical support structure).
As I don't know who here is signed up to R-help (but I do for S-news)
I am guessing a bit, but I'd say we had a 20:1 ratio (at uses R for several
hours per year) in my dept for each R and S.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
**********************

On Tue, Jun 20, 2000 at 06:41:39PM +0200, Martin Maechler wrote:
> which indicates that 911 different e-mail addresses are subscribed to
> the R mailing lists (very few of these are mailing lists; 
>                     however, also quite a few will be pointing to the same
>                     person)
> 
> Now, the mailing lists probably contain almost no undergraduate students,
> and these *are* using R at least in many of the courses...
> 
> Further, graduate students and scientific staff in many organizations use R,
> but only the more "aficionados" among them are subscribed to an R list.
> [factor of 3 ?]
> 
> Other guesses?

My 0.01Euro.

I have checked one moment ago. From my department, there are 
2 subscriptions to r-announce and 1 (me) to r-help and r-devel.
Thinking to the users, my estimate are
(a) staff and post-graduate students: about 20
(b) under-graduate students: about 300 (many of these (50 to 100?) 
can be regarded as 'regular users', e.g., R installed on their
home computer and used not only for the courses for which
R is required).

Looking to the subscriptions from other Stats. department in Italy,
I suspect that our ratio between subscribers and users is one of
the highest.

guido

From: Guido Masarotto <guido at sirio.stat.unipd.it>

**************************
OK - my 0.01UKP's worth ...

As statisticians we should above all be able to make a good estimate (with
confidence intervals) of the R use.  I see three methods for sizing:

1 Taking a sample from the list, which will itself be biased (probably a
self-selected and therefore biased further) and asking these people to
estimate/count how many users there are,

2 In a future version, storing automatically in /usr/lib/R or wherever a
list of the users the first time they use R (ie when .R is set up).  This
number of unique entries on this list can then be requested via an email
to the installers email address (requested at download time).

3 A snowball sample, starting with the present 911 list members, where
people indicate (a) their applications area, (b) platform, (c...y) other
information and (z) nominate other users by email address, returning this
to a dedicated list address. The information is processed automatically,
checked against already known addresses and any new addresses emailed with
the questionnaire.

Method (1) seems to be under discussion at the moment, method (2) would
only asymptote as people downloaded the new versions but is simplest and
method (3) could provide useful further information re expert users etc
since it would be from the actual users rather than possibly the sysadmin
person.

This is not only of academic interest but could be used if necessary when
looking for commercial sponsors, equipment, grants etc.  The email
addresses should of course be kept private - we wouldn't want them
escaping into Outlook Express or a commercial list.

John
From: j.logsdon at lancaster.ac.uk
***********************
On Wed, 21 Jun 2000 j.logsdon at lancaster.ac.uk wrote:
> Useful info from Dirk but this measures number of R Linux installations,
> not users.  If 100K is an approximate number of R Linux installations,
> then the likely number of Linux R users could be somewhat more.  In my
> case, I have one installation and one user since only I use it but I am
> sure that there are many cases with 2, 10, 100 etc users per installation.
[...]

I guess that there also are some cases with several installations per
user; I have seven installations; one sparc-linux, three i386-linux,
and three Windows! On only five machines, though.

Gran
From: gb <gb at stat.umu.se>
******************
OK, we're statisticians so let's use some real data and not only
guestimates ... in

 http://www.ci.tuwien.ac.at/~leisch/cran-http.report/

you find some usage statistics about the CRAN *master* site (with all
traffic inside our domain removed). Beware that not every hit is a
potential user as search engines (``crawlers'') heavily bias the log
files. It's alo only data on our server, no cran.(ch|dk|uk|us|...) or
statlib (with it's own mirrors). Also obviously all people using the
version from their linux distribution are missing),

But it's something to play with :-)

Have fun,
Fritz
From: Friedrich Leisch <Friedrich.Leisch at ci.tuwien.ac.at>
***********************
On Wed, 21 Jun 2000 j.logsdon at lancaster.ac.uk wrote:

> Useful info from Dirk but this measures number of R Linux installations,
> not users.  If 100K is an approximate number of R Linux installations,
> then the likely number of Linux R users could be somewhat more.  In my
> case, I have one installation and one user since only I use it but I am
> sure that there are many cases with 2, 10, 100 etc users per installation.

Also cases with fewer than 1 user, ie "Hmm. R looks like an interesting
package. Maybe I should install it in case I need to do some statistics
some time."
or
"We're a math department, we want all of the mathematical packages"
or even people who install everything.

Obviously that last group will be overrepresented in the Debian popularity
contest.


 -thomas lumley


***********************
Just another random datapoint: Debian has a little known package called
popularity-contest. When this optional package is present, and if the survey
participation is enabled, a list of installed packages is emailed out. [1] 
The aggregated results are on http://www.debian.org/~apenwarr/popcon/

As of last night, it reported 735 participating hosts. Of these, 35 used R.
(Select the 'math' section to fin the r-base package.)

With a few brave assumptions, [2] we get a guestimate of 107,000 R users on
Linux alone. [3] 

Dirk


[1] This is as anonymous as it can be given the constraints. A random md5sum
hash is used to distinguish between the participating hosts and mail-headers
are dropped as soon as possible. 

[2] Let's assume that the ratio estimate is not biased and that Debian has
15% of the Linux installations which itself now stand at 15 million users.

[3] Mind the ~/.signature taken from fortune(1). I did say brave assumptions.

From: Dirk Eddelbuettel <edd at debian.org>

*************************

Re: [R] # of users of R
Date: Thu, 22 Jun 2000 15:02:23 +0200
From: Emmanuel Paradis <paradis at isem.univ-montp2.fr>
To: r-help at stat.math.ethz.ch
Cc: cassaing at isem.isem.univ-montp2.fr,  bentaleb at isem.isem.univ-montp2.fr,  omoine at isem.isem.univ-montp2.fr,  orth at isem.isem.univ-montp2.fr,  vdebat at isem.isem.univ-montp2.fr,  claude at isem.isem.univ-montp2.fr


At 17:51 21/06/00 +0200, Friedrich Leisch wrote:
>
>OK, we're statisticians so let's use some real data and not only
>guestimates ... in
>
>        http://www.ci.tuwien.ac.at/~leisch/cran-http.report/
>
>you find some usage statistics about the CRAN *master* site (with all
>traffic inside our domain removed). Beware that not every hit is a
>potential user as search engines (``crawlers'') heavily bias the log
>files. It's alo only data on our server, no cran.(ch|dk|uk|us|...) or
>statlib (with it's own mirrors). Also obviously all people using the
>version from their linux distribution are missing),
>
>But it's something to play with :-)
>
>Have fun,
>Fritz

Looking at the data for March 2000 (coinciding with the release of R
1.0.0), there were 1800 hits on /bin/windows, and 732 hits on /bin/linux. I
assume that ALL users of R on Linux visit /bin/linux (at least for
curiosity to check what binaries are available) even if they use the
sources (note that the same assumption must hold for Windows users).

So, 1800/732 estimates the ratio of the number of R users under Windows on
the number of R users under Linux. Taking Dirk's estimate of 107,000 R
users under Linux, I get 263,000 R users under Windows.

This still leaves open the issue of the number of users who just compile
from the sources under other OSs... perhaps a few tens of thousands??? This
would lead to ca.400,000 users of R.

Emmanuel Paradis
***************************



-- 
Ramn Daz-Uriarte
Dept. Zoology and Statistics
University of Wisconsin-Madison
Madison, WI 53706-1381

email: rdiazuri at students.wisc.edu
(NOTE: starting 15-July-2000 new email:
ramon-diaz at teleline.es)
phone: 608-238-8041
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rdiazuri at students.wisc.edu  Sat Jun 24 17:21:51 2000
From: rdiazuri at students.wisc.edu (Ramon Diaz-Uriarte)
Date: Sat, 24 Jun 2000 17:21:51 +0200
Subject: [R] Summary: # of users of R, and biological examples of the use of R: addendum
Message-ID: <00062414102000.00795@ligarto>

I apologize for accidentally omitting some of the answers I got; here they are:

**************
I use R regularly in my research in the pharmaceutical industry.  I have
used it for projects ranging from sample size and power curve estimation,
analysis of laboratory data with mixed effects models, to analysis of mass
spectrometry data.  I have helped biologists here install and use it in
limited ways, modifying scripts that I have provided them.  I look forward
to taking advantage of the new TCL/TK GUI scripting to facilitate that
further.  In fact, R is actually named as the statistical analysis tool used
for a patent we are preparing.

Before leaving academia last year, I also used R.  I have written two papers
that had analyses partially supported with R.

I also use S-Plus, depending on the task at hand.

Best of luck with your paper,

Matt

Matthew R. Nelson, Ph.D.
Information Scientist
Esperion Therapeutics, Inc.
3621 S. State St.
695 KMS Place
Ann Arbor, MI 48108

Phone: (734) 332-0506 x235
Fax: (734) 332-0516
email: mnelson at esperion.com
web: http://www.esperion.com


*****************

From: Dirk Eddelbuettel <edd at debian.org>To: Thomas Lumley
<thomas at biostat.washington.edu> Cc: j.logsdon at lancaster.ac.uk, 
r-help at stat.math.ethz.ch


On Wed, Jun 21, 2000 at 08:36:23AM -0700, Thomas Lumley wrote:
> Also cases with fewer than 1 user, ie "Hmm. R looks like an interesting
> package. Maybe I should install it in case I need to do some statistics
> some time."
> or
> "We're a math department, we want all of the mathematical packages"
> or even people who install everything.
> 
> Obviously that last group will be overrepresented in the Debian popularity
> contest.

Well, popularity-contest tries to be a little smarter and uses atime and
ctime as reported by find(1) to differentiate between 'used' and 'installed
but not used' as well as 'recently installed' software.

The full result for r-base is 35 'recently used', 49 'installed but not
used' and 8 'recently upgraded'. 

However, your critic might still be valid here as upon installation, the
postinst script uses perl to adjust the R_PAPERSIZE based on paperconf(1).
This mightprobably triggers the atime upon package upgrade. 

Dirk


*******************

Useful info from Dirk but this measures number of R Linux installations,
not users.  If 100K is an approximate number of R Linux installations,
then the likely number of Linux R users could be somewhat more.  In my
case, I have one installation and one user since only I use it but I am
sure that there are many cases with 2, 10, 100 etc users per installation.

In addition, as Dirk says, there will be a substantial number of non-Linux
users on other Unix platforms as well as Windows.

Anyone care to make a guess?  I would estimate that there are 1/2 million
actual R users but this could be out by a sd */2 at least.  

John  JohnFrom: j.logsdon at lancaster.ac.uk

***********************************





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kumazawa at biwako.shiga-u.ac.jp  Sun Jun 25 03:41:36 2000
From: kumazawa at biwako.shiga-u.ac.jp (Yoshiki Kumazawa)
Date: Sun, 25 Jun 2000 10:41:36 +0900
Subject: No subject
Message-ID: <3955634E.44FE@biwako.shiga-u.ac.jp>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Sun Jun 25 03:49:23 2000
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Sat, 24 Jun 2000 18:49:23 -0700
Subject: [R] R 1.1.0 Freeze Ups
Message-ID: <4.3.2.7.0.20000624184129.00a95580@pop4.ibm.net>

I've experienced numerous "freeze ups" with R 1.1.0 in the past few 
days.  I'm running on a Windows 98 (*not SE*) notebook with 128 MB 
RAM.  Typically I have no other applications running when I load "R".  The 
circumstances that frequently leads to the "freeze ups" is when I have done 
the following:

 >fix(somefunction)

This spawns "Notepad", which brings up "somefunction" for editing.  I 
occasionally want to minimize "Notepad" while attending to some other 
function within "R"  (checking a helpfile or the like).  When I try to 
minimize "Notepad", "Notepad" usually remains on screen and I then have to 
kill the task by CTRL-ALT-DELETE (which tells me that Notepad isn't 
responding). When I finally succeed in killing Notepad -- not my intent -- 
I am left with a big "hole" in the screen where the Notepad document had 
been, and a totally unresponsive RGUI, which then also has to be killed by 
CTRL-ALT-DEL.

I thought this was a Notepad problem, but I tried several other editors 
(e.g. Xedit and EditPad) with the same results.

I haven't encountered this problem under Windows NT or Windows 2000, and I 
haven't tried to replicate it under Windows 95.

For what it is worth, I have an ATI Rage Pro 2x AGP Video Card.  I've tried 
turning down hardware acceleration as a debug check.  This does not 
eliminate the problem.

I did *not* encounter this problem in the previous version.  (I've also 
tried reinstalling R from several different downloaded versions of the 
binaries).

Hope I've provided enough information.

===================================================
Dr. Marc R. Feldesman
Professor and Chair
Anthropology Department
Portland State University
Portland, Oregon 97207

email: feldesmanm at pdx.edu
http://odin.pdx.edu/~h1mf

Powered by Inspirochoerus

"Indecision may or may not be my problem"
===================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Sun Jun 25 04:07:24 2000
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Sat, 24 Jun 2000 19:07:24 -0700
Subject: [R] renaming columns
Message-ID: <4.3.2.7.0.20000624185742.00abe730@pop4.ibm.net>

I frequently get data sets with cryptically-named variables.  The datasets 
are more useful to me with informative variable names.  I know that I can 
rename variables using the following command:

dimname(dataset[[2]][index.of.variable.to.be.renamed]<-new.variable.name

If I want to do this inside a function (say something I call RenameCol) 
what is the best way to communicate the new.variable.name back to the 
calling frame (e.g.)

RenameCol<-function(dframe, index, newname)
{
	#code to make certain there *are* dimnames
	dimname(dframe[[2]][index]<-newname
	invisible()
	return(dframe)
}

The above code works in both SPlus and R if the call looks like:

dframe<-RenameCol(dframe, 3, "a.new.name")

Is there a better way to return the new variable name without having to 
make an explicit assignment at the time of calling RenameCol  (i.e. can the 
explicit assignment be made more efficiently within the function using 
"Assign" or "<<-")?

Be gentle.  Although I've used SPlus and now R for more than a year, I've 
rarely needed to create functions that change specific attributes of an 
object.  (I also do not have VR Programming or VR3 at my disposal right now).

Thanks,



===================================================
Dr. Marc R. Feldesman
Professor and Chair
Anthropology Department
Portland State University
Portland, Oregon 97207

email: feldesmanm at pdx.edu
http://odin.pdx.edu/~h1mf

Powered by Inspirochoerus

"Indecision may or may not be my problem"
===================================================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgentlem at stat.auckland.ac.nz  Sun Jun 25 09:29:40 2000
From: rgentlem at stat.auckland.ac.nz (Robert Gentleman)
Date: Sun, 25 Jun 2000 19:29:40 +1200
Subject: [R] ncol(hitdat)
In-Reply-To: <Pine.HPX.4.10.10006241605300.21284-100000@rwja.umdnj.edu>; from Cleland on Sat, Jun 24, 2000 at 04:15:43PM -0400
References: <3954D101.58A96555@julian.uwo.ca> <Pine.HPX.4.10.10006241605300.21284-100000@rwja.umdnj.edu>
Message-ID: <20000625192940.C17033@stat1.stat.auckland.ac.nz>

I would just like to draw peoples attention to the R functions
  debug, browser, and traceback;

  they provide you with some pretty reasonable tools for inspecting
 what is going on during evaluation. 

  debug is in the process of being enhanced (perhaps to keep up
  with some of my colleagues I should say major enhancements or
  significant or some such thing, but then again, perhaps not)

On Sat, Jun 24, 2000 at 04:15:43PM -0400, Cleland wrote:
> On Sat, 24 Jun 2000, Gilles Gignac wrote: 
> > I am a beginner to R, so you have a right to dislike me. I have loaded
> > up a data matrix (664 * 28) into the R environment and wish to have a
> > pre-written program (MAXCOV-HITMAX) analyse the data. When I run the
> > program, I get: "Error in ncol(hitdat). Argument "hitdat" is missing
> > with no default"; I can't seem to find much info in the manuals, etc. to
> > help me out, so any suggestions will be appreciated greatly. I am using
> > R.1.0.
> 
> Gilles:
>   I will hazard a guess that you are using MAXCOV code provided by Neils
> Waller and Paul Meehl.  I think you want to pass your matrix to the
> function "MAXCOV.prg".  I think you may have used another function that is
> not meant to be called directly by the user in most cases.     .  Also, be
> careful with your 28 column data matrix since MAXCOV.prg will produce many
> pages of plots for a matrix tthathsize.at size.
> 
> hope this helps,
> 
> Chuck
> 
> mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm
> 
> Assistant Professor
> Dept. of Pediatrics
> UMDNJ--Rober Wood Johnson Medical School
> 97 Patterson St.
> New Brunswick, NJ 08903
> (732)2 2 235-7699
> 
> mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
+-------------------------------------------------------------------------+
| Robert Gentleman              phone : (64-9) 3737-599 ext 3946          | 
| Senior Lecturer               fax :   (64-9) 3737-018                   |
| Department of Statistics      office : Room 206 Maths/Physics           |
| University of Auckland	email : rgentlem at stat.auckland.ac.nz      |
+-------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Jun 25 11:19:44 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Jun 2000 11:19:44 +0200
Subject: [R] renaming columns
In-Reply-To: Marc Feldesman's message of "Sat, 24 Jun 2000 19:07:24 -0700"
References: <4.3.2.7.0.20000624185742.00abe730@pop4.ibm.net>
Message-ID: <x2ituy86dr.fsf@blueberry.kubism.ku.dk>

Marc Feldesman <feldesmanm at pdx.edu> writes:

> I frequently get data sets with cryptically-named variables.  The datasets 
> are more useful to me with informative variable names.  I know that I can 
> rename variables using the following command:
> 
> dimname(dataset[[2]][index.of.variable.to.be.renamed]<-new.variable.name
> 
> If I want to do this inside a function (say something I call RenameCol) 
> what is the best way to communicate the new.variable.name back to the 
> calling frame (e.g.)
> 
> RenameCol<-function(dframe, index, newname)
> {
> 	#code to make certain there *are* dimnames
> 	dimname(dframe[[2]][index]<-newname
> 	invisible()
> 	return(dframe)
> }
> 
> The above code works in both SPlus and R if the call looks like:
> 
> dframe<-RenameCol(dframe, 3, "a.new.name")
> 
> Is there a better way to return the new variable name without having to 
> make an explicit assignment at the time of calling RenameCol  (i.e. can the 
> explicit assignment be made more efficiently within the function using 
> "Assign" or "<<-")?
> 
> Be gentle.  Although I've used SPlus and now R for more than a year, I've 
> rarely needed to create functions that change specific attributes of an 
> object.  (I also do not have VR Programming or VR3 at my disposal right now).

Notice that dimnames() on a dataframe is really an add-on construction,
intended to make dataframes matrix-like. However they are really more
list-like and the list of columns have names(). So you can do

names(airquality)[2]<-"Solar.radiation"

If you want to roll that into a function without duplicating the
frame,  you could use slightly dirty tricks like

 RenameCol<-function(dframe, index, newname)
	eval.parent(substitute(names(dframe)[index]<-newname))

but

RenameCol(airquality,2,"Solar.radiation")

is actually 2 characters longer than the names() form...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From UEI0679407200 at eurociber.es  Sun Jun 25 14:15:15 2000
From: UEI0679407200 at eurociber.es (Use)
Date: Sun, 25 Jun 2000 14:15:15 +0200
Subject: [R] R BATCH under windows
Message-ID: <000101bfde9f$17dfea20$ec174cc3@use-bito>

I run a BATCH job under windows (R 1.1.0 under windows NT) with the
command

Rterm --no-restore --no-save --silent <R001.R> R001.out

and obtain the following file R001.out

-----------------------------------------------------------
> x <- c(2,-6,-4,8,5,4,1,3,4,-9,0,1)
> A <- matrix(x, ncol=3)
> A
     [,1] [,2] [,3]
[1,]    2    5    4
[2,]   -6    4   -9
[3,]   -4    1    0
[4,]    8    3    1
>
--------------------------------------------------------------

How can I get rid of the final ">" without editing R001.out?

Can I manage multiple files (R001.R -> R001.out, R002.R -> R002.out,
R003.R -> R003.out ...) without a command line for each file?

Thanks for any hint,

Eusebio

*************************************************************
*                 Eusebio Arenal Guti?rrez                  *
*   Departamento de Estad?stica e Investigaci?n Operativa   *
*      _\|/_      Universidad de Valladolid                 *
*      (o o)               Espa?a                           *
*---oOO-(_)-OOo-----------------------------------,,,-------*
*                      use at eio.uva.es            (o o)      *
*---------------------------------------------oOO-(_)-OOo---*
*                 Eusebio Arenal Guti?rrez                  *
*     Department of Statistics and Operational Research     *
*                 University of Valladolid                  *
*                           Spain                           *
*************************************************************



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Mon Jun 26 01:47:59 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Sun, 25 Jun 2000 19:47:59 -0400
Subject: [R] Easy way?
Message-ID: <006f01bfdeff$cc85c9d0$0201a8c0@Workgroup>

Hi,

Say I have this vector x <- sort(rnorm(n)). I'd like to know if there is a nice way to find out the index of the nearest x to say 1.5?

Thanks

YG
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000625/be875885/attachment.html

From markhall at gol.com  Mon Jun 26 03:24:56 2000
From: markhall at gol.com (markhall@gol.com)
Date: Mon, 26 Jun 2000 10:24:56 +0900
Subject: [R] Chi-square tests in R 1.1.0
Message-ID: <20000626012452.6797715757@smtp02.mail.gol.com>

Hi, I'm running R 1.1.0 for Windows NT on a Dell Latitude laptop with
128 MB of RAM.

In the previous version of R (1010) there was the ctest library and a few
other functions to do a variety of chi-square tests in R.  Have those been
deleted in the current version (1.1), or do they just go by a different name
in a different library?  I originally downloaded (R 1.1) from Prof. 
Ripley's webpage
where the ctest library is in the directory  being for 
the old releases.  Searching the
on-line manual at stat.ethz.ch/R-alpha lists the function chisq.test in the
ctest library, but checking the scripts, it is not in there.

Any advice would be appreciated.

Thanks, Mark Hall





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jan.Schelling at hydro.com  Mon Jun 26 09:21:17 2000
From: Jan.Schelling at hydro.com (Jan.Schelling@hydro.com)
Date: Mon, 26 Jun 2000 08:21:17 +0100
Subject: [R] Easy way?
Message-ID: <C125690A.0022E912.00@osla28smtp.hda.hydro.com>



try:

n <- 1000
x <- sort(rnorm(n))
x0 <- 1.5
dx <- abs(x-x0)
which(dx==min(dx))


Jan Schelling



From: cyg at sympatico.ca on 2000-06-25 23:47 GMT



To:   r-help at stat.math.ethz.ch
cc:    (bcc: Jan Schelling/HRE/Hydro)

Subject:  [R] Easy way?



Hi,

Say I have this vector x <- sort(rnorm(n)). I'd like to know if there is a nice
way to find out the index of the nearest x to say 1.5?

Thanks

YG
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000626/33210d69/att1.htm

From ligges at statistik.uni-dortmund.de  Mon Jun 26 08:20:27 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 26 Jun 2000 08:20:27 +0200
Subject: [R] Chi-square tests in R 1.1.0
References: <20000626012452.6797715757@smtp02.mail.gol.com>
Message-ID: <3956F62A.799C2BAF@statistik.uni-dortmund.de>

markhall at gol.com wrote:
> 
> Hi, I'm running R 1.1.0 for Windows NT on a Dell Latitude laptop with
> 128 MB of RAM.
> 
> In the previous version of R (1010) there was the ctest library and a few
> other functions to do a variety of chi-square tests in R.  Have those been
> deleted in the current version (1.1), or do they just go by a different name
> in a different library?  I originally downloaded (R 1.1) from Prof.
> Ripley's webpage
> where the ctest library is in the directory  being for
> the old releases.  Searching the
> on-line manual at stat.ethz.ch/R-alpha lists the function chisq.test in the
> ctest library, but checking the scripts, it is not in there.

Hm. I think rw1010 (~ R-1.1.0) is the latest release of R.
That one you downloaded from Prof Ripley's webpage might be a
pre-release, I suppose. 
If it is, you should download the official release from CRAN.

And what kind of scripts did you check?

The following works perfectly:

 libary(ctest)
 chisq.test(...)


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Jun 26 08:32:42 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 26 Jun 2000 08:32:42 +0200
Subject: [R] Easy way?
References: <006f01bfdeff$cc85c9d0$0201a8c0@Workgroup>
Message-ID: <3956F90A.8A0749B3@statistik.uni-dortmund.de>

> Yves Gauvreau wrote:
> 
> Hi,
> 
> Say I have this vector x <- sort(rnorm(n)). I'd like to know if there
> is a nice way to find out the index of the nearest x to say 1.5?

I would try:
 which(abs(x - 1.5) == min(abs(x - 1.5)))


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markhall at gol.com  Mon Jun 26 09:05:19 2000
From: markhall at gol.com (markhall@gol.com)
Date: Mon, 26 Jun 2000 16:05:19 +0900
Subject: [R] Chi-square tests in R 1.1.0
Message-ID: <20000626070517.AAB8B4109@smtp03.mail.gol.com>

Okay, some more info.  Downloading the ctest library from the CMU Stat Lib
mirror site produces this error when its run:

> library(ctest)
Error in dyn.load(x, as.logical(local), as.logical(now)) : 
        unable to load shared 
library "C:\R\rw1010/library/ctest/libs/ctest.dll":
Error in library(ctest) : .First.lib failed

Yes, the ctest.dll exists in its proper place.

As far as the scripts go, opening the ctest file in the R folder in the 
ctest library, there isn't a chisq.test script.

Next checking www.ci.tuwien.ac.at/R and its appropriate sub-directories,
there isn't a library ctest.  (Between this and the fact its not in
Prof. Ripley's download page, makes me think its been superseded or something).

So, any other suggestions are welcome.  

Thanks and best from a hot and humid Niigata Japan,
Mark Hall

> markhall at gol.com wrote:
> > 
> > Hi, I'm running R 1.1.0 for Windows NT on a Dell Latitude laptop with
> > 128 MB of RAM.
> > 
> > In the previous version of R (1010) there was the ctest library and a few
> > other functions to do a variety of chi-square tests in R.  Have those been
> > deleted in the current version (1.1), or do they just go by a different name
> > in a different library?  I originally downloaded (R 1.1) from Prof.
> > Ripley's webpage
> > where the ctest library is in the directory  being for
> > the old releases.  Searching the
> > on-line manual at stat.ethz.ch/R-alpha lists the function chisq.test in the
> > ctest library, but checking the scripts, it is not in there.
> 
> Hm. I think rw1010 (~ R-1.1.0) is the latest release of R.
> That one you downloaded from Prof Ripley's webpage might be a
> pre-release, I suppose. 
> If it is, you should download the official release from CRAN.
> 
> And what kind of scripts did you check?
> 
> The following works perfectly:
> 
>  libary(ctest)
>  chisq.test(...)
> 
> 
> Uwe Ligges
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jun 26 09:27:08 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Jun 2000 09:27:08 +0200
Subject: [R] Chi-square tests in R 1.1.0
In-Reply-To: markhall@gol.com's message of "Mon, 26 Jun 2000 16:05:19 +0900"
References: <20000626070517.AAB8B4109@smtp03.mail.gol.com>
Message-ID: <x2snu0c377.fsf@blueberry.kubism.ku.dk>

markhall at gol.com writes:

> Okay, some more info.  Downloading the ctest library from the CMU Stat Lib
> mirror site produces this error when its run:
> 
> > library(ctest)
> Error in dyn.load(x, as.logical(local), as.logical(now)) : 
>         unable to load shared 
> library "C:\R\rw1010/library/ctest/libs/ctest.dll":
> Error in library(ctest) : .First.lib failed

That is because you are *destroying* the perfectly good ctest library
that came with R 1.1.0 by overwriting it with an out-of-date version!

Just don't do that. Reinstall R-1.1.0 and type

library(ctest)
example(chisq.test)

Now if *that* doesn't work....

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Jun 26 10:14:56 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 26 Jun 2000 10:14:56 +0200 (CEST)
Subject: [R] Easy way?
In-Reply-To: <3956F90A.8A0749B3@statistik.uni-dortmund.de>
References: <006f01bfdeff$cc85c9d0$0201a8c0@Workgroup>
	<3956F90A.8A0749B3@statistik.uni-dortmund.de>
Message-ID: <14679.4352.798491.439564@gargle.gargle.HOWL>

>>>>> "Uwe" == Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:

    >> Yves Gauvreau wrote:
    >> 
    >> Hi,
    >> 
    >> Say I have this vector x <- sort(rnorm(n)). I'd like to know if
    >> there is a nice way to find out the index of the nearest x to say
    >> 1.5?

    Uwe> I would try: 
	 which(abs(x - 1.5) == min(abs(x - 1.5)))

(and Jan Schelling gives the same solution in "modular" steps
 without recomputing   "abs(x - 1.5)".)

This is fine and fast enough for moderate data size.
However, since version 1.1 

help(which) has

  >> See Also:
  >>      `Logic', `which.min' for the index of the minimum or maximum.
	            ---------
and  which.min(), which.max() are really the functions you want to use
here.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.salim at ucc.ie  Mon Jun 26 12:26:52 2000
From: a.salim at ucc.ie (Agus Salim)
Date: Mon, 26 Jun 2000 11:26:52 +0100
Subject: [R] Building DLL file from fortran
Message-ID: <3.0.5.32.20000626112652.007ec7b0@bureau.ucc.ie>

Hi!
I made a DLL from fortran source code using MAKE command
(I am working with R 1.0.0 under windows 98). But when I tried
to call the wrapper function from inside R, it gave me the
following error message:
could anybody advise me?

RGUI caused an invalid page fault in
module RAINFALL.DLL at 015f:0619110e.
Registers:
EAX=0415ffb0 CS=015f EIP=0619110e EFLGS=00010282
EBX=00000003 SS=0167 ESP=0253f228 EBP=0253f270
ECX=1c91ae98 DS=0167 ESI=0415ff90 FS=162f
EDX=0415ff60 ES=0167 EDI=039235d4 GS=0000
Bytes at CS:EIP:
dc 04 11 dd 1c 11 d9 c9 8d 4f 01 d9 7d fe 66 8b 
Stack dump:
0415fff0 06191048 039235d4 100075a5 101585e0 10183d90 00736e6f 0253f288
0415fff0 034b0010 039235d4 1005f309 00000000 00000000 1c91ae98 00000001 


Thanks,
Agus



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kleiber at statistik.uni-dortmund.de  Mon Jun 26 12:23:16 2000
From: Kleiber at statistik.uni-dortmund.de (Christian Kleiber)
Date: Mon, 26 Jun 2000 12:23:16 +0200
Subject: [R] pacf, round three
References: <Pine.GSO.4.05.10006211856460.20797-100000@auk.stats>
Message-ID: <39572F14.B01830C0@statistik.uni-dortmund.de>

Dear Professor Ripley,

> I don't see how the theoretical PACF can be defined by methods of
> estimation.  Partial correlation coefficients have nothing to do with OLS.

I should have written 'regression' instead of 'OLS'. I agree that, in general,
partial correlation coefficients and regression coefficients are not the same thing.
Yet in the case of univariate stationary processes the two concepts happen to
coincide, in the sense that the coefficient on x_1 in the regression of x_k+1 on x_k,
..., x_1 is also the k-th partial autocorrelation coefficient (this is implicit in
the proof of Proposition 5.2.1 of Brockwell and Davis, 1991, it is explicitly stated
in e.g. Hannan, 1970, pp. 21-22). Without this coincidence it would in fact not be
possible to extract the PACF directly from the Durbin-Levinson recursion. After all,
the latter is an algorithm for computing regression coefficients and the Yule-Walker
equations are estimating equations. To put it differently: if the OLS estimate of the
PACF really was invalid, the YW estimate would be invalid too.

BTW, apart from Box and Jenkins, Priestley (1981, p. 371) also mentions both
estimators.

> > In the S-PLUS Help on acf() one finds
> >
> > "... For the partial autocorrelation function, the Levinson-Durbin recursion is
> > used to fit AR(p) models to x successively for p = 1, ..., lag.max, and from
> > the AR-coefficients the partial autocorrelation function values are derived."
> >
> > This is unambiguous. I feel R users would be better off if the algorithm
>
> No, it isn't. To what is the Levinson-Durbin recursion applied?
> There are lots of the correlation matrix estimates to start it.

I agree. I wrote "..." for brevity, in full "..." reads

"The autocovariance function is estimated by summing the lagged products and dividing
by the length of the series. For the autocorrelation function, all covariances are
further divided by the geometric mean of the corresponding variances."

Regards,
Christian Kleiber


-------------- next part --------------
A non-text attachment was scrubbed...
Name: Kleiber.vcf
Type: text/x-vcard
Size: 324 bytes
Desc: Visitenkarte fr Christian Kleiber
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000626/3ad0c660/Kleiber.vcf

From r.e.darnell at ncl.ac.uk  Mon Jun 26 13:03:58 2000
From: r.e.darnell at ncl.ac.uk (R.E. Darnell)
Date: 26 Jun 2000 12:03:58 +0100
Subject: [R] Data.frame query
Message-ID: <dgkwvjcog9t.fsf@scs2.ncl.ac.uk>



I think I have a data.frame called "statlab".

 > is.data.frame(statlab)
[1] TRUE

and I can perform summary, dim, ...

but when I try

 > attach(statlab)
Error in attach(statlab) : attach only works for lists and data frames

I am using

 > version
         _                 
platform i686-unknown-linux
arch     i686              
os       linux             
system   i686, linux       
status                     
major    0                 
minor    90.1              
year     1999              
month    December          
day      15                
language R 


This has got to be embarrassingly simple.

Any one like to point out my error?

Regards

Ross Darnell
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Mon Jun 26 13:03:03 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Mon, 26 Jun 2000 07:03:03 -0400
Subject: [R] Easy way?
References: <006f01bfdeff$cc85c9d0$0201a8c0@Workgroup> <3956F90A.8A0749B3@statistik.uni-dortmund.de>
Message-ID: <00a801bfdf5e$196a9b00$0201a8c0@Workgroup>

Thank you all.

I find it incredible to see so many response to such a simple query. I guess
I'm still hook to Matlab and the likes, I would probably never have though
of these approach alone.

Regards.

YG



----- Original Message -----
From: "Uwe Ligges" <ligges at statistik.uni-dortmund.de>
To: "Yves Gauvreau" <cyg at sympatico.ca>
Cc: "r-help" <r-help at stat.math.ethz.ch>
Sent: Monday, June 26, 2000 2:32 AM
Subject: Re: [R] Easy way?


> > Yves Gauvreau wrote:
> >
> > Hi,
> >
> > Say I have this vector x <- sort(rnorm(n)). I'd like to know if there
> > is a nice way to find out the index of the nearest x to say 1.5?
>
> I would try:
>  which(abs(x - 1.5) == min(abs(x - 1.5)))
>
>
> Uwe Ligges
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jun 26 13:27:59 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Jun 2000 13:27:59 +0200
Subject: [R] Data.frame query
In-Reply-To: r.e.darnell@ncl.ac.uk's message of "26 Jun 2000 12:03:58 +0100"
References: <dgkwvjcog9t.fsf@scs2.ncl.ac.uk>
Message-ID: <x2hfag3cn4.fsf@blueberry.kubism.ku.dk>

r.e.darnell at ncl.ac.uk (R.E. Darnell) writes:

> I think I have a data.frame called "statlab".
> 
>  > is.data.frame(statlab)
> [1] TRUE
> 
> and I can perform summary, dim, ...
> 
> but when I try
> 
>  > attach(statlab)
> Error in attach(statlab) : attach only works for lists and data frames
...
> This has got to be embarrassingly simple.
> 
> Any one like to point out my error?

Well, it's not simple to point out from the clues given. Your R
version is a tad old, but I wouldn't expect that to be the problem.
The best guess is that statlab is not really a dataframe, but
something else with a "data.frame" class attached to it. Looking at
the output of str(statlab) could be informative.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Mon Jun 26 15:56:25 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Mon, 26 Jun 2000 15:56:25 +0200
Subject: [R] Data.frame query
Message-ID: <3.0.32.20000626155625.00912cf0@162.38.183.200>

At 12:03 26/06/00 +0100, you wrote:
>
>
>I think I have a data.frame called "statlab".
>
> > is.data.frame(statlab)
>[1] TRUE
>
>and I can perform summary, dim, ...
>
>but when I try
>
> > attach(statlab)
>Error in attach(statlab) : attach only works for lists and data frames
>
>I am using
>
> > version
>         _                 
>platform i686-unknown-linux
>arch     i686              
>os       linux             
>system   i686, linux       
>status                     
>major    0                 
>minor    90.1              
>year     1999              
>month    December          
>day      15                
>language R 
>
>
>This has got to be embarrassingly simple.
>
>Any one like to point out my error?

Well, I anticipate the replies from the R Core members : upgrade to the
last version (1.1.0). I guess this will solve it.

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.e.darnell at ncl.ac.uk  Mon Jun 26 16:14:43 2000
From: r.e.darnell at ncl.ac.uk (R.E. Darnell)
Date: 26 Jun 2000 15:14:43 +0100
Subject: [R] Data.frame query
In-Reply-To: Emmanuel Paradis's message of "Mon, 26 Jun 2000 15:56:25 +0200"
References: <3.0.32.20000626155625.00912cf0@162.38.183.200>
Message-ID: <dgksnu0o7fw.fsf@scs2.ncl.ac.uk>

Emmanuel Paradis <paradis at isem.univ-montp2.fr> writes:

> At 12:03 26/06/00 +0100, you wrote:
> >

[...]

> 
> Well, I anticipate the replies from the R Core members : upgrade to the
> last version (1.1.0). I guess this will solve it.
> 
> Emmanuel Paradis
Thanks. 

It may have been a temporary memory allocation problem. I removed the
data.frame and reread the data from the original text file.  The
attach function then worked.  I share devices between linux and
dec machines and perhaps that upset things.

Thanks to Peter Dalgaard for his help. He also introduced me
(informally) to the str function which is useful in itself. The str
function also thought my object was a dataframe.

Regards
Ross Darnell
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Mon Jun 26 16:36:37 2000
From: plummer at iarc.fr (Martyn Plummer)
Date: Mon, 26 Jun 2000 16:36:37 +0200 (CEST)
Subject: [R] pacf, round three
In-Reply-To: <39572F14.B01830C0@statistik.uni-dortmund.de>
Message-ID: <XFMail.000626163637.plummer@iarc.fr>

I am the author of the offending help page.  I am sorry that you find
it ambiguous, but sending three long messages on a rather fine point of
interpretation risks exhausting the interest in the topic.

If I may reiterate Brian's response to your original message, solving
the Yule-Walker equations is a standard method for fitting autoregressive
models, and is the default method for the ar() function.  It is not clear,
to me, why you thought that OLS was used instead, unless you object to
the use of the word "fit" in this context.

If it will help, perhaps the help page could be changed to

     The partial correlation coefficient is estimated by fitting
     autoregressive models of successively higher orders up to
     `lag.max', by the Yule-Walker method (see ar).

Martyn

On 26-Jun-00 Christian Kleiber wrote:
> Dear Professor Ripley,
> 
>> I don't see how the theoretical PACF can be defined by methods of
>> estimation.  Partial correlation coefficients have nothing to do with OLS.
> 
> I should have written 'regression' instead of 'OLS'. I agree that, in
> general,
> partial correlation coefficients and regression coefficients are not the same
> thing.
> Yet in the case of univariate stationary processes the two concepts happen to
> coincide, in the sense that the coefficient on x_1 in the regression of x_k+1
> on x_k,
> ..., x_1 is also the k-th partial autocorrelation coefficient (this is
> implicit in
> the proof of Proposition 5.2.1 of Brockwell and Davis, 1991, it is explicitly
> stated
> in e.g. Hannan, 1970, pp. 21-22). Without this coincidence it would in fact
> not be
> possible to extract the PACF directly from the Durbin-Levinson recursion.
> After all,
> the latter is an algorithm for computing regression coefficients and the
> Yule-Walker
> equations are estimating equations. To put it differently: if the OLS
> estimate of the
> PACF really was invalid, the YW estimate would be invalid too.
> 
> BTW, apart from Box and Jenkins, Priestley (1981, p. 371) also mentions both
> estimators.
> 
>> > In the S-PLUS Help on acf() one finds
>> >
>> > "... For the partial autocorrelation function, the Levinson-Durbin
>> > recursion is
>> > used to fit AR(p) models to x successively for p = 1, ..., lag.max, and
>> > from
>> > the AR-coefficients the partial autocorrelation function values are
>> > derived."
>> >
>> > This is unambiguous. I feel R users would be better off if the algorithm
>>
>> No, it isn't. To what is the Levinson-Durbin recursion applied?
>> There are lots of the correlation matrix estimates to start it.
> 
> I agree. I wrote "..." for brevity, in full "..." reads
> 
> "The autocovariance function is estimated by summing the lagged products and
> dividing
> by the length of the series. For the autocorrelation function, all
> covariances are
> further divided by the geometric mean of the corresponding variances."
> 
> Regards,
> Christian Kleiber
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From acosa at ubu.es  Mon Jun 26 17:48:11 2000
From: acosa at ubu.es (Alvaro Colina)
Date: Mon, 26 Jun 2000 17:48:11 +0200
Subject: [R] postscript error
Message-ID: <39577B3B.DA9F7E03@ubu.es>

I'm using R version 1.1.0 with Redhat 6.2 in a Dual-Pentium
When I type 
postscript()  
I have the next error:
-- Error in old$command == "default" : comparison (1) is possible only
for vector types

I have updated R next week using the rpm package
http://www.stat.math.ethz.ch/CRAN/bin/linux/redhat/6.x/i386/R-base-1.0
.0-2.i386.rpm

I know that postscript() has new features, but I don't understand 
how to fix this error when I use postscript()?.
I have used the postscript device without problems in other old
versions of R, the last before updating R was 
My ps.options() are
$paper
[1] "a4"

$horizontal
[1] TRUE

$width
[1] 5

$height
[1] 5

$family
[1] "Helvetica"

$pointsize
[1] 12$bg
[1] "white"

$fg
[1] "black"

$onefile
[1] TRUE

$print.it
[1] FALSE

$append
[1] FALSE

Thanks in advance,

==============================================================
Alvaro Colina    		|-|o||o||o||o||o||o||o||o||o|- 
Area de Quimica Analitica	| Pza. Misael Banuelos s/n
Facultad de Ciencias		| 09001. Burgos. Spain
Universidad de Burgos		| Phone: 34-947-258817
e-mail: acosa at ubu.es	  	| FAX: 	 34-947-258831
==============================================================
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From acosa at ubu.es  Mon Jun 26 18:19:17 2000
From: acosa at ubu.es (Alvaro Colina)
Date: Mon, 26 Jun 2000 18:19:17 +0200
Subject: [R] postscript error
Message-ID: <39578285.6AFCD5E1@ubu.es>

Sorry, but I hadn't wrote the correct versions.

I'm using R version 1.1.0 with Redhat 6.2 in a Dual-Pentium
When I type 
postscript()  
I have the next error:
-- Error in old$command == "default" : comparison (1) is possible only
for vector types

I have updated R next week using the rpm package
http://www.stat.math.ethz.ch/CRAN/bin/linux/redhat/6.x/i386/R-base-1.1
.0-2.i386.rpm

I know that postscript() has new features, but I don't understand 
how to fix this error when I use postscript()?.
I have used the postscript device without problems in other old
versions of R, the last before updating R was version 1.0.1
My ps.options() are
$paper
[1] "a4"

$horizontal
[1] TRUE

$width
[1] 5

$height
[1] 5

$family
[1] "Helvetica"

$pointsize
[1] 12$bg
[1] "white"

$fg
[1] "black"

$onefile
[1] TRUE

$print.it
[1] FALSE

$append
[1] FALSE

Thanks in advance,


-- 
==============================================================
Alvaro Colina    		|-|o||o||o||o||o||o||o||o||o|- 
Area de Quimica Analitica	| Pza. Misael Banuelos s/n
Facultad de Ciencias		| 09001. Burgos. Spain
Universidad de Burgos		| Phone: 34-947-258817
e-mail: acosa at ubu.es	  	| FAX: 	 34-947-258831
==============================================================
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jun 26 19:49:15 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Jun 2000 19:49:15 +0200
Subject: [R] postscript error
In-Reply-To: Alvaro Colina's message of "Mon, 26 Jun 2000 18:19:17 +0200"
References: <39578285.6AFCD5E1@ubu.es>
Message-ID: <x2zoo8pc2s.fsf@blueberry.kubism.ku.dk>

Alvaro Colina <acosa at ubu.es> writes:

> I know that postscript() has new features, but I don't understand 
> how to fix this error when I use postscript()?.
> I have used the postscript device without problems in other old
> versions of R, the last before updating R was version 1.0.1

We've had this before: an old ".PostScript.Options" is lying around,
try removing it. Or fix the postscript function to read

!is.null(old$command) && old$command == "default"

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vadim at kutsyy.com  Mon Jun 26 21:22:55 2000
From: vadim at kutsyy.com (Vadim Kutsyy)
Date: Mon, 26 Jun 2000 15:22:55 -0400
Subject: [R] nargs() inside "[.myclass"
Message-ID: <OFEGJMACADMFOKHCCFBJGELDCIAA.vadim@kutsyy.com>

I am writing a function to work with class I am defining.  I have a question
about using nargs() inside of parentheses function.  nargs() shows the same
for supplying 1 argument, or no arguments at all.  Here is a small example:

> "[.myclass"<-function(x,...) print(nargs()-1)
> x<-c(1,2,3)
> class(x)<-"myclass"
> x[]
[1] 1
> x[1]
[1] 1
> x[1,2]
[1] 2

how can I determine if there was 1 argument supplied, or none?

Thanks.

PS:
> version
         _
platform Windows
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    0.1
year     2000
month    April
day      14
language R

---------------------------
Vadim Kutsyy
vadim at kutsyy.com
http://www.kutsyy.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jun 26 22:19:54 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Jun 2000 22:19:54 +0200
Subject: [R] nargs() inside "[.myclass"
In-Reply-To: "Vadim Kutsyy"'s message of "Mon, 26 Jun 2000 15:22:55 -0400"
References: <OFEGJMACADMFOKHCCFBJGELDCIAA.vadim@kutsyy.com>
Message-ID: <x2d7l442l1.fsf@blueberry.kubism.ku.dk>

"Vadim Kutsyy" <vadim at kutsyy.com> writes:

> I am writing a function to work with class I am defining.  I have a question
> about using nargs() inside of parentheses function.  nargs() shows the same
> for supplying 1 argument, or no arguments at all.  Here is a small example:
> 
> > "[.myclass"<-function(x,...) print(nargs()-1)
> > x<-c(1,2,3)
> > class(x)<-"myclass"
> > x[]
> [1] 1
> > x[1]
> [1] 1
> > x[1,2]
> [1] 2
> 
> how can I determine if there was 1 argument supplied, or none?

Hmm. Interesting. Same thing happens with

> "[.myclass"<-function(x,...)
> {n<-nargs();print(n-1);m<-match.call();print(m)}
>  x[]
[1] 1
[.myclass(x = x, )
> x[1]
[1] 1
[.myclass(x = x, 1)
>  x[1,2]
[1] 2
[.myclass(x = x, 1, 2)

Doesn't look quite right... The problem sees to be that in the x[]
case one passes two arguments of which one is missing (note that f(x)
and f(x,) is not quite the same thing).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vkutsyy at yahoo.com  Mon Jun 26 23:48:49 2000
From: vkutsyy at yahoo.com (Vadim Kutsyy)
Date: Mon, 26 Jun 2000 17:48:49 -0400
Subject: [R] nargs() inside "[.myclass"
In-Reply-To: <x2d7l442l1.fsf@blueberry.kubism.ku.dk>
Message-ID: <OFEGJMACADMFOKHCCFBJGELHCIAA.vkutsyy@yahoo.com>

> > "[.myclass"<-function(x,...)
> > {n<-nargs();print(n-1);m<-match.call();print(m)}
> >  x[]
> [1] 1
> [.myclass(x = x, )
> > x[1]
> [1] 1
> [.myclass(x = x, 1)
> >  x[1,2]
> [1] 2
> [.myclass(x = x, 1, 2)
>
> Doesn't look quite right... The problem sees to be that in the x[]
> case one passes two arguments of which one is missing (note that f(x)
> and f(x,) is not quite the same thing).

exactly, but if you don't pass anything at all, you can not even test if
something is missing, ie:

> "[.myclass"<-function(x,...) {n<-nargs();print(n-1);print(list(...))}
> x<-c(1,2,3)
> class(x)<-"myclass"
> x[1]
[1] 1
[[1]]
[1] 1

> x[]
[1] 1
Error in print(list(...)) : Argument is missing, with no default


As a result, I can not figure out way to see if it was pass as x[] or x[1].
It is possible to differentiate x[1,] vs x[1,2].

Any idea, how to get around it?


__________________________________________________
Do You Yahoo!?
Talk to your friends online with Yahoo! Messenger.
http://im.yahoo.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Jun 26 23:57:55 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Jun 2000 23:57:55 +0200
Subject: [R] nargs() inside "[.myclass"
In-Reply-To: Peter Dalgaard BSA's message of "26 Jun 2000 22:19:54 +0200"
References: <OFEGJMACADMFOKHCCFBJGELDCIAA.vadim@kutsyy.com> <x2d7l442l1.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2bt0ot89o.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> > "[.myclass"<-function(x,...)
> > {n<-nargs();print(n-1);m<-match.call();print(m)}
> >  x[]
> [1] 1
> [.myclass(x = x, )
> > x[1]
> [1] 1
> [.myclass(x = x, 1)
> >  x[1,2]
> [1] 2
> [.myclass(x = x, 1, 2)
> 
> Doesn't look quite right... The problem sees to be that in the x[]
> case one passes two arguments of which one is missing (note that f(x)
> and f(x,) is not quite the same thing).

This does seem to work:

> "[.myclass"<-function(x,...)
> {n<-nargs();if(n==2&&missing(..1))n<-1;print(n-1)}
>  x[]
[1] 0
>  x[1]
[1] 1
>  x[1,2]
[1] 2


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vadim at kutsyy.com  Tue Jun 27 00:01:39 2000
From: vadim at kutsyy.com (Vadim Kutsyy)
Date: Mon, 26 Jun 2000 18:01:39 -0400
Subject: [R] nargs() inside "[.myclass"
In-Reply-To: <x2bt0ot89o.fsf@blueberry.kubism.ku.dk>
Message-ID: <OFEGJMACADMFOKHCCFBJOELHCIAA.vadim@kutsyy.com>

> This does seem to work:
> 
> > "[.myclass"<-function(x,...)
> > {n<-nargs();if(n==2&&missing(..1))n<-1;print(n-1)}
> >  x[]
> [1] 0
> >  x[1]
> [1] 1
> >  x[1,2]
> [1] 2


It does, thank you.  could you explain what ..1 stands for?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jun 27 00:35:57 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Jun 2000 00:35:57 +0200
Subject: [R] nargs() inside "[.myclass"
In-Reply-To: "Vadim Kutsyy"'s message of "Mon, 26 Jun 2000 18:01:39 -0400"
References: <OFEGJMACADMFOKHCCFBJOELHCIAA.vadim@kutsyy.com>
Message-ID: <x28zvst6ia.fsf@blueberry.kubism.ku.dk>

"Vadim Kutsyy" <vadim at kutsyy.com> writes:

> > This does seem to work:
> > 
> > > "[.myclass"<-function(x,...)
> > > {n<-nargs();if(n==2&&missing(..1))n<-1;print(n-1)}
> > >  x[]
> > [1] 0
> > >  x[1]
> > [1] 1
> > >  x[1,2]
> > [1] 2
> 
> 
> It does, thank you.  could you explain what ..1 stands for?

It's the first of the "..." arguments.

Some of the things that surround the handling of those are barely
understood by the maintainers. I've certainly been surprised by having
"..1" pop up in match.call() output once in a while. I'm not convinced
that the [] case isn't a bug. 

We seem to have managed to code the entire base library without
referring to ..n arguments a single time, but your example looks like
it requires it, unless the current behavior is a bug.


Apropos: Here's a little exercise:

> f<-function(...)nargs()
> f(1)
[1] 1
> f()
[1] 0
> f(,)
[1] 2
> f(,,)
[1] 3

Now, how do you call f with exactly *one* missing argument?


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richards at pci.upmc.edu  Tue Jun 27 00:37:35 2000
From: richards at pci.upmc.edu (Richards, Tom)
Date: Mon, 26 Jun 2000 18:37:35 -0400
Subject: [R] Looking for protect()
Message-ID: <5B9B19C8A522D411A8EC00A0C99D6A9A02E54C@mail.nsabp.pitt.edu>

Hello:

This is a simple, I hope, question about the first example in section 3.6.4
of the manual, "Writing R extensions."

I'm using R 1.1.0, and below I list some easy code that I got from section
3.6.4.  When I try to compile the file out.c under NT 4, using VC++ 6.0, I
get the following error messages:

Compiling...
out.c
Linking...
out.obj : error LNK2001: unresolved external symbol _Rf_unprotect
out.obj : error LNK2001: unresolved external symbol _Rf_protect
out.obj : error LNK2001: unresolved external symbol _Rf_allocMatrix
out.obj : error LNK2001: unresolved external symbol _Rf_length

I see, for example, that PROTECT(s) is #defined as protect(s) in R.h,
#ifndef R_NO_REMAP. If I do nothing, I get the errors above, and if I
#idefine R_NO_REMAP, I get the following errors, instead:

Compiling...
out.c
Linking...
out.obj : error LNK2001: unresolved external symbol _unprotect
out.obj : error LNK2001: unresolved external symbol _protect
out.obj : error LNK2001: unresolved external symbol _allocMatrix
out.obj : error LNK2001: unresolved external symbol _length

I cannot seem to find these 4 functions anywhere.  Hopefully, I am just
missing them.  Can anyone help?  Here is the file out.c:

#include <R.h>

#include <Rinternals.h>

SEXP out(SEXP x, SEXP y)

{

int i, j, nx, ny;

double tmp;

SEXP ans;

nx = length(x); ny = length(y);

PROTECT(ans = allocMatrix(REALSXP, nx, ny));

for(i = 0; i < nx; i++) {

tmp = REAL(x)[i];

for(j = 0; j < ny; j++)

REAL(ans)[i + nx*j] = tmp * REAL(y)[j];

}

UNPROTECT(1);

return(ans);

}

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000626/1d78cb97/attachment.html

From rgentlem at stat.auckland.ac.nz  Tue Jun 27 00:42:43 2000
From: rgentlem at stat.auckland.ac.nz (Robert Gentleman)
Date: Tue, 27 Jun 2000 10:42:43 +1200
Subject: [R] nargs() inside "[.myclass"
In-Reply-To: <x28zvst6ia.fsf@blueberry.kubism.ku.dk>; from Peter Dalgaard BSA on Tue, Jun 27, 2000 at 12:35:57AM +0200
References: <OFEGJMACADMFOKHCCFBJOELHCIAA.vadim@kutsyy.com> <x28zvst6ia.fsf@blueberry.kubism.ku.dk>
Message-ID: <20000627104243.C21934@stat1.stat.auckland.ac.nz>

On Tue, Jun 27, 2000 at 12:35:57AM +0200, Peter Dalgaard BSA wrote:
> "Vadim Kutsyy" <vadim at kutsyy.com> writes:
> 
> > > This does seem to work:
> > > 
> > > > "[.myclass"<-function(x,...)
> > > > {n<-nargs();if(n==2&&missing(..1))n<-1;print(n-1)}
> > > >  x[]
> > > [1] 0
> > > >  x[1]
> > > [1] 1
> > > >  x[1,2]
> > > [1] 2
> > 
> > 
> > It does, thank you.  could you explain what ..1 stands for?
> 
> It's the first of the "..." arguments.
> 
> Some of the things that surround the handling of those are barely
> understood by the maintainers. I've certainly been surprised by having
> "..1" pop up in match.call() output once in a while. I'm not convinced
> that the [] case isn't a bug. 
> 
> We seem to have managed to code the entire base library without
> referring to ..n arguments a single time, but your example looks like
> it requires it, unless the current behavior is a bug.

  I don't think that is true. It is needed for the generic functions
  at least at an internal level. Also, I expect that the dispatching
  needs a bit of a tidy-up for to handle this; my guess is that nargs
  is settled on at time of dispatch and possibly not adjusted once the
  method is selected (but I could be wrong and don't have time this week
  to do anything about it).

> 
> 
> Apropos: Here's a little exercise:
> 
> > f<-function(...)nargs()
> > f(1)
> [1] 1
> > f()
> [1] 0
> > f(,)
> [1] 2
> > f(,,)
> [1] 3
> 
> Now, how do you call f with exactly *one* missing argument?
> 
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
+-------------------------------------------------------------------------+
| Robert Gentleman              phone : (64-9) 3737-599 ext 3946          | 
| Senior Lecturer               fax :   (64-9) 3737-018                   |
| Department of Statistics      office : Room 206 Maths/Physics           |
| University of Auckland	email : rgentlem at stat.auckland.ac.nz      |
+-------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vadim at kutsyy.com  Tue Jun 27 00:56:41 2000
From: vadim at kutsyy.com (Vadim Kutsyy)
Date: Mon, 26 Jun 2000 18:56:41 -0400
Subject: [R] nargs() inside "[.myclass"
In-Reply-To: <x28zvst6ia.fsf@blueberry.kubism.ku.dk>
Message-ID: <OFEGJMACADMFOKHCCFBJIELJCIAA.vadim@kutsyy.com>

> Apropos: Here's a little exercise:
> 
> > f<-function(...)nargs()
> > f(1)
> [1] 1
> > f()
> [1] 0
> > f(,)
> [1] 2
> > f(,,)
> [1] 3
> 
> Now, how do you call f with exactly *one* missing argument?

Well, you got me.  How do you call it?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jun 27 01:08:15 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Jun 2000 01:08:15 +0200
Subject: [R] nargs() inside "[.myclass"
In-Reply-To: "Vadim Kutsyy"'s message of "Mon, 26 Jun 2000 18:56:41 -0400"
References: <OFEGJMACADMFOKHCCFBJIELJCIAA.vadim@kutsyy.com>
Message-ID: <x2zoo8rqg0.fsf@blueberry.kubism.ku.dk>

"Vadim Kutsyy" <vadim at kutsyy.com> writes:

> > Apropos: Here's a little exercise:
> > 
> > > f<-function(...)nargs()
> > > f(1)
> > [1] 1
> > > f()
> > [1] 0
> > > f(,)
> > [1] 2
> > > f(,,)
> > [1] 3
> > 
> > Now, how do you call f with exactly *one* missing argument?
> 
> Well, you got me.  How do you call it?

This would seem to work:

f(a=)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vadim at kutsyy.com  Tue Jun 27 01:38:21 2000
From: vadim at kutsyy.com (Vadim Kutsyy)
Date: Mon, 26 Jun 2000 19:38:21 -0400
Subject: [R] using graphapp.h
Message-ID: <OFEGJMACADMFOKHCCFBJMELKCIAA.vadim@kutsyy.com>

Another question

"graphapp.h" in R1.1 defines number of plotting function.  is there an
example of how to use them?

Thank.

---------------------------
Vadim Kutsyy
vadim at kutsyy.com
http://www.kutsyy.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vadim at kutsyy.com  Tue Jun 27 02:33:43 2000
From: vadim at kutsyy.com (Vadim Kutsyy)
Date: Mon, 26 Jun 2000 20:33:43 -0400
Subject: [R] nargs() inside "[.myclass"
In-Reply-To: <x2zoo8rqg0.fsf@blueberry.kubism.ku.dk>
Message-ID: <OFEGJMACADMFOKHCCFBJIELMCIAA.vadim@kutsyy.com>

> > > Apropos: Here's a little exercise:
> > > 
> > > > f<-function(...)nargs()
> > > > f(1)
> > > [1] 1
> > > > f()
> > > [1] 0
> > > > f(,)
> > > [1] 2
> > > > f(,,)
> > > [1] 3
> > > 
> > > Now, how do you call f with exactly *one* missing argument?
> > 
> > Well, you got me.  How do you call it?
> 
> This would seem to work:
> 
> f(a=)
> 

cute.

:)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dj at research.bell-labs.com  Tue Jun 27 03:46:59 2000
From: dj at research.bell-labs.com (David James)
Date: Mon, 26 Jun 2000 21:46:59 -0400 (EDT)
Subject: [R] Porting S library which use "graphics.h" and "device.h"
Message-ID: <200006270146.VAA27847@jessie.research.bell-labs.com>

Hi Vadim,

[vadim at kutsyy.com]
> I am porting Splus library to R, which use S "graphics.h" and "device.h",
> the library makes a number of high resolution plots using these.
> 
> Does anyone have an experience with similar porting?  I don't really want to
> rewrite all C code, so any recommendation would be helpful.

If the library you're porting is the S-wafers (as I suspect)
you don't need  graphics.h, etc.  The C graphics code we have in
there was only for performance (we were invoking the device driver's
polygon function directly in C); however, newer hardware and software
may not require this hack.  I suggest you use the R polygon()
function directly.

David A James                        Phone: (908) 582-3082
Bell Labs, Lucent Technologies       Fax:   (908) 582-3340
600 Mountain Ave                     Email: dj at bell-labs.com
Murray Hill, NJ 07974


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richards at pci.upmc.edu  Tue Jun 27 04:05:04 2000
From: richards at pci.upmc.edu (Richards, Tom)
Date: Mon, 26 Jun 2000 22:05:04 -0400
Subject: [R] Looking for protect()
Message-ID: <5B9B19C8A522D411A8EC00A0C99D6A9A02E54D@mail.nsabp.pitt.edu>

Sorry to bother you:  the functions are in memory.c, in the main src
subdirectory.

-----Original Message-----
From: Richards, Tom 
Sent: Monday, June 26, 2000 6:38 PM
To: r-help at stat.math.ethz.ch
Subject: [R] Looking for protect()


Hello:

This is a simple, I hope, question about the first example in section 3.6.4
of the manual, "Writing R extensions."

I'm using R 1.1.0, and below I list some easy code that I got from section
3.6.4.  When I try to compile the file out.c under NT 4, using VC++ 6.0, I
get the following error messages:

Compiling...
out.c
Linking...
out.obj : error LNK2001: unresolved external symbol _Rf_unprotect
out.obj : error LNK2001: unresolved external symbol _Rf_protect
out.obj : error LNK2001: unresolved external symbol _Rf_allocMatrix
out.obj : error LNK2001: unresolved external symbol _Rf_length

I see, for example, that PROTECT(s) is #defined as protect(s) in R.h,
#ifndef R_NO_REMAP. If I do nothing, I get the errors above, and if I
#idefine R_NO_REMAP, I get the following errors, instead:

Compiling...
out.c
Linking...
out.obj : error LNK2001: unresolved external symbol _unprotect
out.obj : error LNK2001: unresolved external symbol _protect
out.obj : error LNK2001: unresolved external symbol _allocMatrix
out.obj : error LNK2001: unresolved external symbol _length

I cannot seem to find these 4 functions anywhere.  Hopefully, I am just
missing them.  Can anyone help?  Here is the file out.c:

#include <R.h>

#include <Rinternals.h>

SEXP out(SEXP x, SEXP y)

{

int i, j, nx, ny;

double tmp;

SEXP ans;

nx = length(x); ny = length(y);

PROTECT(ans = allocMatrix(REALSXP, nx, ny));

for(i = 0; i < nx; i++) {

tmp = REAL(x)[i];

for(j = 0; j < ny; j++)

REAL(ans)[i + nx*j] = tmp * REAL(y)[j];

}

UNPROTECT(1);

return(ans);

}

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000626/763600ab/attachment.html

From dj at research.bell-labs.com  Tue Jun 27 05:06:42 2000
From: dj at research.bell-labs.com (David James)
Date: Mon, 26 Jun 2000 23:06:42 -0400 (EDT)
Subject: [R] nargs() inside "[.myclass"
Message-ID: <200006270306.XAA13453@jessie.research.bell-labs.com>

[rgentlem at stat.auckland.ac.nz]
> > "Vadim Kutsyy" <vadim at kutsyy.com> writes:
> > 
> > > > This does seem to work:
> > > > 
> > > > > "[.myclass"<-function(x,...)
> > > > > {n<-nargs();if(n==2&&missing(..1))n<-1;print(n-1)}
> > > > >  x[]
> > > > [1] 0
> > > > >  x[1]
> > > > [1] 1
> > > > >  x[1,2]
> > > > [1] 2
> > > 
> > > 
> > > It does, thank you.  could you explain what ..1 stands for?
> > 
> > It's the first of the "..." arguments.
> > 
> > Some of the things that surround the handling of those are barely
> > understood by the maintainers. I've certainly been surprised by having
> > "..1" pop up in match.call() output once in a while. I'm not convinced
> > that the [] case isn't a bug. 
> > 
> > We seem to have managed to code the entire base library without
> > referring to ..n arguments a single time, but your example looks like
> > it requires it, unless the current behavior is a bug.
> 
>   I don't think that is true. It is needed for the generic functions
>   at least at an internal level. Also, I expect that the dispatching
>   needs a bit of a tidy-up for to handle this; my guess is that nargs
>   is settled on at time of dispatch and possibly not adjusted once the
>   method is selected (but I could be wrong and don't have time this week
>   to do anything about it).

I'm not sure this is a bug, but is is consistent with S. 

If we invoke the function ourselves we get the same behaviour:

# R 1.0.0
> get("[.myclass")
function(x, ...) print(nargs()-1)
> "[.myclass"(x)
[1] 0
> "[.myclass"(x,)
[1] 1
> "[.myclass"(x,1)
[1] 1
> "[.myclass"(x,1,2)
[1] 2

Clearly the generic function will create a call with the "x"
argument plus "..." -- this means that

  x[]    <------>  "[.myclass"(x,)    two args, 2nd arg missing
  x[1]   <------>  "[.myclass"(x,1)   two args, no missing
  x[1,2] <------>  "[.myclass"(x,1,2) three args, no missing

The question now becomes whether R/S should dispatch "x.myclass"(x)
for x[] or "x.myclass(x,) as it's currently done.  

BTW see p.476 in Appendix A of Chambers and Hastie (ed.) "Statistical 
Models in S" for an example just like the problem Vadim is trying to
solve.

> > 
> > 
> > Apropos: Here's a little exercise:
> > 
> > > f<-function(...)nargs()
> > > f(1)
> > [1] 1
> > > f()
> > [1] 0
> > > f(,)
> > [1] 2
> > > f(,,)
> > [1] 3
> > 
> > Now, how do you call f with exactly *one* missing argument?
> > 
> > 
> > -- 
> >    O__  ---- Peter Dalgaard             Blegdamsvej 3  
> >   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
> >  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> > ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> -- 
> +-------------------------------------------------------------------------+
> | Robert Gentleman              phone : (64-9) 3737-599 ext 3946          | 
> | Senior Lecturer               fax :   (64-9) 3737-018                   |
> | Department of Statistics      office : Room 206 Maths/Physics           |
> | University of Auckland	email : rgentlem at stat.auckland.ac.nz      |
> +-------------------------------------------------------------------------+
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

David A James                        Phone: (908) 582-3082
Bell Labs, Lucent Technologies       Fax:   (908) 582-3340
600 Mountain Ave                     Email: dj at bell-labs.com
Murray Hill, NJ 07974

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Jun 27 09:39:54 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Jun 2000 09:39:54 +0200
Subject: [R] Looking for protect()
In-Reply-To: "Richards, Tom"'s message of "Mon, 26 Jun 2000 22:05:04 -0400"
References: <5B9B19C8A522D411A8EC00A0C99D6A9A02E54D@mail.nsabp.pitt.edu>
Message-ID: <x2lmzrwp11.fsf@blueberry.kubism.ku.dk>

"Richards, Tom" <richards at pci.upmc.edu> writes:

> Sorry to bother you:  the functions are in memory.c, in the main src
> subdirectory.

Um, yes, but the point is that you need to link against an export
library. I'm a bit rusty on the details, but there's elaborate
documentation on how to go about it.

> Linking...
> out.obj : error LNK2001: unresolved external symbol _Rf_unprotect
> out.obj : error LNK2001: unresolved external symbol _Rf_protect
> out.obj : error LNK2001: unresolved external symbol _Rf_allocMatrix
> out.obj : error LNK2001: unresolved external symbol _Rf_length

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cof at smp.st.com.sg  Tue Jun 27 12:08:55 2000
From: cof at smp.st.com.sg (cof@smp.st.com.sg)
Date: Tue, 27 Jun 2000 18:08:55 +0800
Subject: [R] Tcl-Tk with R - TCL_LIBRARY variable
Message-ID: <4825690B.00383F33.00@stngc002.notes.st.com.sg>


Dear R-Help,

I am having problems to run the demo for the new "TCL/TK" feature included in
the last R version. The response I get indicates that I do not have declared the
"TCL_LIBRARY" variable. I do have installed the right TCL/TK version.

Please do you know  what is the adequate place to declare that variable ?,
I think that when installing TCL, it automatically updates a registry variable
in Windows (I am running  R, on W95 )?.
I do not know if that needs to be updated as a variable or it needs to be
declared as a library.

Although, this is not a S-Help, do you know if in the Unix Splus version (5.1) I
can use this kind of user interface via TCL rather than the dialog commands that
Splus has, which offer less customization possibilities than TCL ?.

Thanks in advance.
Carlos.








***********************************************************
[This e-mail is confidential and may also be privileged. If you are not the
intended recipient, please delete it and notify us  immediately; you should not
copy or use it for any purpose, nor disclose its contents to any other person.
Thank you.]
***********************************************************


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jens.oehlschlaegel-akiyoshi at mdfactory.de  Tue Jun 27 14:49:59 2000
From: jens.oehlschlaegel-akiyoshi at mdfactory.de (=?iso-8859-1?Q?Jens_Oehlschl=E4gel-Akiyoshi?=)
Date: Tue, 27 Jun 2000 14:49:59 +0200
Subject: [R] R as a server in client server computing
Message-ID: <000f01bfe036$34e964f0$c10616ac@oehl.bbdo.de>



I like to have a continuously running R process, which can receive a
dataframe from a client (over TCP/IP), does some processing, and sends some
data back. What is the prefered way to do this? Using the socket interface?
Using omega's CORBA stuff?
Does anyone has example code for doing so?

Thanks for any help
Regards


--
Dr. Jens Oehlschl?gel-Akiyoshi
Analyse
MD FACTORY GmbH
Gr?nstr. 15
40212 D?sseldorf

Tel.: 0211 1379-187
Fax.: 0211 1379-461
http://www.mdfactory.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jens.oehlschlaegel-akiyoshi at mdfactory.de  Tue Jun 27 15:30:07 2000
From: jens.oehlschlaegel-akiyoshi at mdfactory.de (=?iso-8859-1?Q?Jens_Oehlschl=E4gel-Akiyoshi?=)
Date: Tue, 27 Jun 2000 15:30:07 +0200
Subject: [R] applying scan() and read.table() to strings 
Message-ID: <001101bfe03b$cff5d4b0$c10616ac@oehl.bbdo.de>



If I receive ASCII data through the socket-interface, how can I apply
scan() and read.table() to this character data?

scan() seems to read only from file or keyboard, read.table only from file.

Thanks for any help
Regards


--
Dr. Jens Oehlschl?gel-Akiyoshi
Analyse
MD FACTORY GmbH
Gr?nstr. 15
40212 D?sseldorf

Tel.: 0211 1379-187
Fax.: 0211 1379-461
http://www.mdfactory.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Tue Jun 27 16:37:28 2000
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Tue, 27 Jun 2000 10:37:28 -0400 (EDT)
Subject: [R] R as a server in client server computing
Message-ID: <200006271437.KAA28778@jessie.research.bell-labs.com>


> Reply-To: <jens.oehlschlaegel-akiyoshi at mdfactory.de>
> From: "=?iso-8859-1?Q?Jens_Oehlschl=E4gel-Akiyoshi?=" <jens.oehlschlaegel-akiyoshi at mdfactory.de>
> Date: Tue, 27 Jun 2000 14:49:59 +0200

> I like to have a continuously running R process, which can receive a
> dataframe from a client (over TCP/IP), does some processing, and sends some
> data back. What is the prefered way to do this? Using the socket interface?
> Using omega's CORBA stuff?
> Does anyone has example code for doing so?
> 
> Thanks for any help
> Regards
> 
> --
> Dr. Jens Oehlschlgel-Akiyoshi
> Analyse


Hi Jens,

Well, I think it depends on several factors. For example, 

a) what platforms are the client and server running on?

b) what language is the client written in?
   Is it R <-> R communication? or
   C <-> R
   Java, Python, Perl, ... <-> R

c) Is the set of data types and functionality known at the development
time of the client, or will it evolve? or is a quasi-generic interface to
R more likely?

d) How stable are the design and implementation plans and is it likely
that you will chose different languages for the client.

  
e) If you were to use the socket interface, what would the content of
the data communication look like?  XDR, the raw ASCII dump, XML?

 One of the good things about the CORBA and DCOM approaches is that
while there is an up-front cost of configuration and installation
(which is not really prohibitive), one then avoids low-level details
of communication and can leverage tools to query the current state of
the system.  This is especially important when things aren't working,
especially in the early stages. Debugging in a distributed environment
is perhaps the most challenging aspect of this entire endeavor and the
higher the level each node in the communication, the better.


 Perhaps if you suggest likely answers for a) - e), it might 
help to narrow the focus.

 D.


-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan

      "Languages shape the way we think, and determine what 
       we can think about."        
                                      Benjamin Whorf
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jens.oehlschlaegel-akiyoshi at mdfactory.de  Tue Jun 27 18:16:34 2000
From: jens.oehlschlaegel-akiyoshi at mdfactory.de (=?iso-8859-1?Q?Jens_Oehlschl=E4gel-Akiyoshi?=)
Date: Tue, 27 Jun 2000 18:16:34 +0200
Subject: [R] R as a server in client server computing
In-Reply-To: <200006271437.KAA28778@jessie.research.bell-labs.com>
Message-ID: <002701bfe053$10e2a720$c10616ac@oehl.bbdo.de>



Hi Duncan,

thanks asking for more infos which might help answering my question. Here we
go:

> a) what platforms are the client and server running on?

for the server I can choose between NT and LINUX,
  for performance reasons I tend to prefer LINUX
  also I tend to prefer CORBA over DCOM
for the client NT and LINUX

> b) what language is the client written in?
>    Is it R <-> R communication? or
>    C <-> R
>    Java, Python, Perl, ... <-> R

most likely C++

> c) Is the set of data types and functionality known at the development
> time of the client, or will it evolve? or is a quasi-generic
> interface to
> R more likely?

sending data.frames (and may be atomic vectors) would be sufficient

> d) How stable are the design and implementation plans and is it likely
> that you will chose different languages for the client.

well, it's an idea yet

> e) If you were to use the socket interface, what would the content of
> the data communication look like?  XDR, the raw ASCII dump, XML?

I have no idea, but performance is an issue

>  One of the good things about the CORBA and DCOM approaches is that
> while there is an up-front cost of configuration and installation
> (which is not really prohibitive), one then avoids low-level details
> of communication and can leverage tools to query the current state of
> the system.  This is especially important when things aren't working,
> especially in the early stages. Debugging in a distributed environment
> is perhaps the most challenging aspect of this entire endeavor and the
> higher the level each node in the communication, the better.
>
>
>  Perhaps if you suggest likely answers for a) - e), it might
> help to narrow the focus.

Do you have any recommendation with these specifications?
Regards


Jens

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Tue Jun 27 18:15:41 2000
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Tue, 27 Jun 2000 12:15:41 -0400
Subject: [R] R as a server in client server computing
References: <200006271437.KAA28778@jessie.research.bell-labs.com>
Message-ID: <3958D32D.91396AA5@bank-banque-canada.ca>

J> I like to have a continuously running R process, which can receive a
J> dataframe from a client (over TCP/IP), does some processing, and sends some
J> data back. What is the prefered way to do this? Using the socket interface?
J> Using omega's CORBA stuff?
J> Does anyone has example code for doing so?

I have a working example using RPC over TCP/IP with R as the client (calling
some C code)  and the server runs a C front end to a (time series) database.
Many aspects of this are symmetric so it would be a reasonable example if you
want to use RPC, but I don't necessarily recommend that. The code is available
at <http://www.bank-banque-canada.ca/pgilbert> and has worked fairly reliably
for almost 10 years now (at least the S version is almost that old), but I'm
thinking about updating it to use CORBA.

D> One of the good things about the CORBA and DCOM approaches is that
D> while there is an up-front cost of configuration and installation
D> (which is not really prohibitive), one then avoids low-level details
D> of communication and can leverage tools to query the current state of
D> the system.

I would like to leverage some other tools from CORBA but I'm not sure if they
are available. Does anyone know if CORBA can provide authentication and
encryption, and what the implications are for trying to run it through a
firewall? (The RPC approach is not very good for these things.)

Paul Gilbert


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Tue Jun 27 21:02:51 2000
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Tue, 27 Jun 2000 15:02:51 -0400 (EDT)
Subject: [R] R as a server in client server computing
Message-ID: <200006271902.PAA00061@jessie.research.bell-labs.com>


> Sender: pgilbert at bank-banque-canada.ca
> Date: Tue, 27 Jun 2000 12:15:41 -0400
> From: Paul Gilbert <pgilbert at bank-banque-canada.ca>
> CC: r-help at stat.math.ethz.ch
> References: <200006271437.KAA28778 at jessie.research.bell-labs.com>
> 
> I would like to leverage some other tools from CORBA but I'm not sure if they
> are available. Does anyone know if CORBA can provide authentication and
> encryption, and what the implications are for trying to run it through a
> firewall? (The RPC approach is not very good for these things.)
> 
> Paul Gilbert


CORBA does specify a security service.  This is a specification and
one has to find an implementation of it. There are not as may freely
available versions of this service as some of the other more common
services (e.g. Properties, Trading). But there are commercial
implementations, I believe.


As for encryption, there is now a free version of an IIOP connection
run over an SSL encrypted channel (http://mail.ooc.nf.ca/fssl/) which
works with Orbacus, the `primary' ORB used to test the R, S and
Omegahat dynamic CORBA facilities.


So, basically, the design and infrastructure is there and part of the
bigger and standardized picture.

D.


-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan

      "Languages shape the way we think, and determine what 
       we can think about."        
                                      Benjamin Whorf
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Tue Jun 27 22:28:10 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Tue, 27 Jun 2000 22:28:10 +0200 (MET DST)
Subject: [R] Unimplemented feature in copyVector
Message-ID: <Pine.OSF.4.05.10006272206530.7460-100000@alnair.uio.no>

Dear all, 

I started a large run this afternoon, and when I came back after
dinner, three of five processes had stopped with the error message:
Error in matrix(nullprofile, length(nullprofile), nprofiles) : 
	Unimplemented feature in copyVector
I have seen anything about this anywhere (and I don't know where to
look...). As you might guess, I'm trying to make a matrix where the
nullprofiles vector is repeated in nprofile coloumns. 

Version info:
platform alpha-dec-osf4.0d
arch     alpha            
os       osf4.0d          
system   alpha, osf4.0d   
status                    
major    1                
minor    1.0              
year     2000             
month    June             
day      15               
language R   

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From manuel.castejon at dim.unirioja.es  Wed Jun 28 02:01:57 2000
From: manuel.castejon at dim.unirioja.es (Manuel Castejon Limas)
Date: Wed, 28 Jun 2000 02:01:57 +0200
Subject: [R] BMP to matrix
Message-ID: <000a01bfe094$13a0f340$b1eb92c1@unirioja.es>

Hi all, 
is there any R function that loads a bmp file, or any other format, and converts its grid of pixels into a matrix or data frame?
Thanks in advance.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000628/f3fc8b21/attachment.html

From jim.lemon at uts.edu.au  Wed Jun 28 03:26:32 2000
From: jim.lemon at uts.edu.au (Jim Lemon)
Date: Wed, 28 Jun 2000 11:26:32 +1000
Subject: [R] R-1.1.0 - f2c in configure
Message-ID: <39595448.96F5BDCB@uts.edu.au>

When trying to build R-1.1.0, the configure script reported no Fortran
compiler, even though '/usr/bin/f2c' was present, and R-1.0.1 had found
and successfully used this.  I traced this to an apparent typo in line
2067 of configure:

  for name in g77 fort77 f77 f90 xlf cf77 fc; do

changing this to:

  for name in g77 fort77 f77 f90 xlf cf77 f2c; do

allowed the script to 'find' f2c.  However, it then reported that f2c
didn't work (although it had worked with R-1.0.1).

checking whether the Fortran 77 compiler (f2c  ) works... no

At this point, I created a small Fortran program and messed around with
the testing section but could not solve the problem.  Any expert clues?

Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Wed Jun 28 08:22:36 2000
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Wed, 28 Jun 2000 08:22:36 +0200 (CEST)
Subject: [R] R-1.1.0 - f2c in configure
In-Reply-To: <39595448.96F5BDCB@uts.edu.au>
Message-ID: <Pine.LNX.4.21.0006280820550.2315-100000@artemis.imbe.med.uni-erlangen.de>


> When trying to build R-1.1.0, the configure script reported no Fortran
> compiler, even though '/usr/bin/f2c' was present, and R-1.0.1 had found
> and successfully used this.  I traced this to an apparent typo in line
> 2067 of configure:
> 
>   for name in g77 fort77 f77 f90 xlf cf77 fc; do
> 
> changing this to:
> 
>   for name in g77 fort77 f77 f90 xlf cf77 f2c; do
> 
> allowed the script to 'find' f2c.  However, it then reported that f2c
> didn't work (although it had worked with R-1.0.1).
> 
> checking whether the Fortran 77 compiler (f2c  ) works... no

We discussed this thing with Kurt privately, Kurt fixed it 2 days ago. As
a workaround, use

./configure --with-f2c

which works for me (SuSE 6.4, R-1.1.0)

Torsten 

> 
> At this point, I created a small Fortran program and messed around with
> the testing section but could not solve the problem.  Any expert clues?
> 
> Jim
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Jun 28 09:51:14 2000
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Wed, 28 Jun 2000 03:51:14 -0400 (EDT)
Subject: [R] BMP to matrix
In-Reply-To: <000a01bfe094$13a0f340$b1eb92c1@unirioja.es>
Message-ID: <Pine.LNX.4.10.10006280350470.22641-100000@bolker-nt.zoo.ufl.edu>


  Try the pnm() function in the e1071 library (can't remember if it's
included by default, you may have to grab it from CRAN)

On Wed, 28 Jun 2000, Manuel Castejon Limas wrote:

> Hi all, is there any R function that loads a bmp file, or any other
> format, and converts its grid of pixels into a matrix or data frame?
> Thanks in advance.
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun 28 12:08:59 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Jun 2000 12:08:59 +0200
Subject: [R] R-1.1.0 - f2c in configure
In-Reply-To: Torsten Hothorn's message of "Wed, 28 Jun 2000 08:22:36 +0200 (CEST)"
References: <Pine.LNX.4.21.0006280820550.2315-100000@artemis.imbe.med.uni-erlangen.de>
Message-ID: <x24s6ejex0.fsf@blueberry.kubism.ku.dk>

Torsten Hothorn <Torsten.Hothorn at rzmail.uni-erlangen.de> writes:

> > When trying to build R-1.1.0, the configure script reported no Fortran
> > compiler, even though '/usr/bin/f2c' was present, and R-1.0.1 had found
> > and successfully used this.  I traced this to an apparent typo in line
> > 2067 of configure:
> > 
> >   for name in g77 fort77 f77 f90 xlf cf77 fc; do
> > 
> > changing this to:
> > 
> >   for name in g77 fort77 f77 f90 xlf cf77 f2c; do
> > 
> > allowed the script to 'find' f2c.  However, it then reported that f2c
> > didn't work (although it had worked with R-1.0.1).
> > 
> > checking whether the Fortran 77 compiler (f2c  ) works... no
> 
> We discussed this thing with Kurt privately, Kurt fixed it 2 days ago. As
> a workaround, use
> 
> ./configure --with-f2c
> 
> which works for me (SuSE 6.4, R-1.1.0)
> 

Fine. Just let me add that "fc" is not a typo. The Fortran compiler
really is called by that name on some systems. f2c is not a Fortran
compiler (it outputs C code, not .o files) so detecting it as one is
not going to work.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Wed Jun 28 13:17:23 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Wed, 28 Jun 2000 13:17:23 +0200
Subject: [R] Tcl-Tk with R - TCL_LIBRARY variable
In-Reply-To: <4825690B.00383F33.00@stngc002.notes.st.com.sg>; from cof@smp.st.com.sg on Tue, Jun 27, 2000 at 06:08:55PM +0800
References: <4825690B.00383F33.00@stngc002.notes.st.com.sg>
Message-ID: <20000628131723.A7891@sirio.stat.unipd.it>

On Tue, Jun 27, 2000 at 06:08:55PM +0800, cof at smp.st.com.sg wrote:
> 
> Dear R-Help,
> 
> I am having problems to run the demo for the new "TCL/TK" feature included in
> the last R version. The response I get indicates that I do not have declared the
> "TCL_LIBRARY" variable. I do have installed the right TCL/TK version.
> 

  It must be defined in the environment from which you launch RGui or
  RTerm. Autoexec.bat comes to mind. Or the start-up script of
  the shell you are using (assuming in this case that you are launching
  R from a shell). 

  guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Wed Jun 28 13:23:17 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Wed, 28 Jun 2000 13:23:17 +0200
Subject: [R] using graphapp.h
In-Reply-To: <OFEGJMACADMFOKHCCFBJMELKCIAA.vadim@kutsyy.com>; from vadim@kutsyy.com on Mon, Jun 26, 2000 at 07:38:21PM -0400
References: <OFEGJMACADMFOKHCCFBJMELKCIAA.vadim@kutsyy.com>
Message-ID: <20000628132317.B7891@sirio.stat.unipd.it>

On Mon, Jun 26, 2000 at 07:38:21PM -0400, Vadim Kutsyy wrote:
> Another question
> 
> "graphapp.h" in R1.1 defines number of plotting function.  is there an
> example of how to use them?
> 

  Look into the src/gnuwin32/windlgs directory in the R source.
  It is an example of a package, contributed by Brian Ripley,  which use 
  'graphapp'.
  The Rgui interface and the Windows screen device are written 
  using graphapp, too. The relevant files (in src/gnuwin32) are
  rui.c, console.c, pager.c, preferences.c and devga.c.

  guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Wed Jun 28 13:31:46 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Wed, 28 Jun 2000 13:31:46 +0200
Subject: [R] Looking for protect()
In-Reply-To: <5B9B19C8A522D411A8EC00A0C99D6A9A02E54C@mail.nsabp.pitt.edu>; from richards@pci.upmc.edu on Mon, Jun 26, 2000 at 06:37:35PM -0400
References: <5B9B19C8A522D411A8EC00A0C99D6A9A02E54C@mail.nsabp.pitt.edu>
Message-ID: <20000628133146.A7950@sirio.stat.unipd.it>

On Mon, Jun 26, 2000 at 06:37:35PM -0400, Richards, Tom wrote:
> Hello:
> 
> This is a simple, I hope, question about the first example in section 3.6.4
> of the manual, "Writing R extensions."
> 
> I'm using R 1.1.0, and below I list some easy code that I got from section
> 3.6.4.  When I try to compile the file out.c under NT 4, using VC++ 6.0, I
> get the following error messages:
> 
> Compiling...
> out.c
> Linking...
> out.obj : error LNK2001: unresolved external symbol _Rf_unprotect
> out.obj : error LNK2001: unresolved external symbol _Rf_protect
> out.obj : error LNK2001: unresolved external symbol _Rf_allocMatrix
> out.obj : error LNK2001: unresolved external symbol _Rf_length
> 

  My supposition is that you are not linking against the export
  library for R.dll (all these functions are there).
  Details on how this can be done with Visual C are in 
  README.PACKAGES included in rw1010sp.zip.

  guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vadim at kutsyy.com  Wed Jun 28 13:50:07 2000
From: vadim at kutsyy.com (Vadim Kutsyy)
Date: Wed, 28 Jun 2000 07:50:07 -0400
Subject: [R] using graphapp.h
In-Reply-To: <20000628132317.B7891@sirio.stat.unipd.it>
Message-ID: <OFEGJMACADMFOKHCCFBJAEOMCIAA.vadim@kutsyy.com>

> > "graphapp.h" in R1.1 defines number of plotting function.  is there an
> > example of how to use them?
> >
>
>   Look into the src/gnuwin32/windlgs directory in the R source.
>   It is an example of a package, contributed by Brian Ripley,  which use
>   'graphapp'.
>   The Rgui interface and the Windows screen device are written
>   using graphapp, too. The relevant files (in src/gnuwin32) are
>   rui.c, console.c, pager.c, preferences.c and devga.c.
>

I've seen it, however, this one is an example of creating dialog boxes, I
need to create plots.  so far, I can not figure out, how to tell it to plot
in the given window (which is already open).

Thanks.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Wed Jun 28 13:44:08 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Wed, 28 Jun 2000 13:44:08 +0200
Subject: [R] Building DLL file from fortran
In-Reply-To: <3.0.5.32.20000626112652.007ec7b0@bureau.ucc.ie>; from a.salim@ucc.ie on Mon, Jun 26, 2000 at 11:26:52AM +0100
References: <3.0.5.32.20000626112652.007ec7b0@bureau.ucc.ie>
Message-ID: <20000628134408.B7950@sirio.stat.unipd.it>

On Mon, Jun 26, 2000 at 11:26:52AM +0100, Agus Salim wrote:
> Hi!
> I made a DLL from fortran source code using MAKE command
> (I am working with R 1.0.0 under windows 98). But when I tried
> to call the wrapper function from inside R, it gave me the
> following error message:
> could anybody advise me?
> 
> RGUI caused an invalid page fault in
> module RAINFALL.DLL at 015f:0619110e.

  Without more details (compiler and source used to build RAINFALL.DLL)
  it is difficult to give help.
  Some things to check:
  1) has the dll built using the C method to pass arguments on the stack?
  2) does your entrypoint in the dll agree with your wrapper on the
     type of the arguments passed (e.g., I almost always forget to
     coerce to integer the integer arguments).
  3) do the routines in RAINFALL.DLL work? The error is inside
     RAINFALL.DLL and until the .C or .Fortran call return R has
     no control on it (maybe in the future we will wrap this calls
     inside an exception handler so that and error in a packages
     dll will not result in the death of the entire process).


   guido
     
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Wed Jun 28 13:51:08 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Wed, 28 Jun 2000 13:51:08 +0200
Subject: [R] using graphapp.h
In-Reply-To: <OFEGJMACADMFOKHCCFBJAEOMCIAA.vadim@kutsyy.com>; from vadim@kutsyy.com on Wed, Jun 28, 2000 at 07:50:07AM -0400
References: <20000628132317.B7891@sirio.stat.unipd.it> <OFEGJMACADMFOKHCCFBJAEOMCIAA.vadim@kutsyy.com>
Message-ID: <20000628135107.C7950@sirio.stat.unipd.it>

On Wed, Jun 28, 2000 at 07:50:07AM -0400, Vadim Kutsyy wrote:
> > > "graphapp.h" in R1.1 defines number of plotting function.  is there an
> > > example of how to use them?
> > >
> >
> >   Look into the src/gnuwin32/windlgs directory in the R source.
> >   It is an example of a package, contributed by Brian Ripley,  which use
> >   'graphapp'.
> >   The Rgui interface and the Windows screen device are written
> >   using graphapp, too. The relevant files (in src/gnuwin32) are
> >   rui.c, console.c, pager.c, preferences.c and devga.c.
> >
> 
> I've seen it, however, this one is an example of creating dialog boxes, I
> need to create plots.  so far, I can not figure out, how to tell it to plot
> in the given window (which is already open).
> 

  devga.c is an example. And of course you need the Graphapp manual
  (available at http://www.cs.su.oz.au/~loki/graphapp/).
  But, what does "already open" mean? Which window?
  guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vadim at kutsyy.com  Wed Jun 28 14:28:45 2000
From: vadim at kutsyy.com (Vadim Kutsyy)
Date: Wed, 28 Jun 2000 08:28:45 -0400
Subject: [R] using graphapp.h
In-Reply-To: <20000628135107.C7950@sirio.stat.unipd.it>
Message-ID: <OFEGJMACADMFOKHCCFBJAEONCIAA.vadim@kutsyy.com>

What I need to do as to plot a few tens thousands squares of different
colors.  As David mention, it can be done with polygon(), but it still be
slow.  So I am trying to do it from c code.

As a result, I open the window with plot(), and then I want to plot in to
that window from c code (in S it is done using "graphics.h").  The only
thing I could think about, is to use "graphapp.h".  "graphapp.h" defines a
lot of function for that (fillrect(rect r) for example), but I can not
figure out how to make it grow in that window, which is already open by
plot().

Thanks.

---------------------------
Vadim Kutsyy
vadim at kutsyy.com
http://www.kutsyy.com

> -----Original Message-----
> From: Guido Masarotto [mailto:guido at sirio.stat.unipd.it]
> Sent: Wednesday, June 28, 2000 7:51 AM
> To: Vadim Kutsyy
> Cc: R list
> Subject: Re: [R] using graphapp.h
>
>
> On Wed, Jun 28, 2000 at 07:50:07AM -0400, Vadim Kutsyy wrote:
> > > > "graphapp.h" in R1.1 defines number of plotting function.
> is there an
> > > > example of how to use them?
> > > >
> > >
> > >   Look into the src/gnuwin32/windlgs directory in the R source.
> > >   It is an example of a package, contributed by Brian Ripley,
>  which use
> > >   'graphapp'.
> > >   The Rgui interface and the Windows screen device are written
> > >   using graphapp, too. The relevant files (in src/gnuwin32) are
> > >   rui.c, console.c, pager.c, preferences.c and devga.c.
> > >
> >
> > I've seen it, however, this one is an example of creating
> dialog boxes, I
> > need to create plots.  so far, I can not figure out, how to
> tell it to plot
> > in the given window (which is already open).
> >
>
>   devga.c is an example. And of course you need the Graphapp manual
>   (available at http://www.cs.su.oz.au/~loki/graphapp/).
>   But, what does "already open" mean? Which window?
>   guido
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun 28 15:54:56 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Jun 2000 15:54:56 +0200
Subject: [R] using graphapp.h
In-Reply-To: "Vadim Kutsyy"'s message of "Wed, 28 Jun 2000 08:28:45 -0400"
References: <OFEGJMACADMFOKHCCFBJAEONCIAA.vadim@kutsyy.com>
Message-ID: <x2vgytj4gf.fsf@blueberry.kubism.ku.dk>

"Vadim Kutsyy" <vadim at kutsyy.com> writes:

> What I need to do as to plot a few tens thousands squares of different
> colors.  As David mention, it can be done with polygon(), but it still be
> slow.  So I am trying to do it from c code.
> 
> As a result, I open the window with plot(), and then I want to plot in to
> that window from c code (in S it is done using "graphics.h").  The only
> thing I could think about, is to use "graphapp.h".  "graphapp.h" defines a
> lot of function for that (fillrect(rect r) for example), but I can not
> figure out how to make it grow in that window, which is already open by
> plot().

If you want to mess at the C level, I think you'd be better off
wedging into the higher-level primitives like GRect() from
src/main/graphics.c. This would have a much better chance of being
portable across devices and the efficiency loss is likely not to be
too bad. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Wed Jun 28 16:23:56 2000
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Wed, 28 Jun 2000 10:23:56 -0400
Subject: [R] Rd2dvi
Message-ID: <395A0A7C.38DF1844@bank-banque-canada.ca>

I'm trying to use R CMD Rd2dvi  and I end up at a Latex (I think)
command prompt. What's missing or what am I suppose to do?

Paul Gilbert
_______

paul at breman:/apps/dse-versions/2000.6/dse#R CMD Rd2dvi syskern This is
TeX, Version 3.14159 (Web2C 7.3) (Rd2.tex LaTeX2e <1998/12/01> Babel
<v3.6k> and hyphenation patterns for american, french, german, ngerman,
nohyphenation, loaded. (/usr/share/texmf/tex/latex/base/book.cls
Document Class: book 1999/01/07 v1.4a Standard LaTeX document class
(/usr/share/texmf/tex/latex/base/bk10.clo)) (Rd.sty
(/usr/share/texmf/tex/latex/base/ifthen.sty) ...
(/usr/share/texmf/tex/latex/base/makeidx.sty) Writing index file Rd2.idx

No file Rd2.aux. (/usr/share/texmf/tex/latex/ae/t1aess.fd)
! Missing $ inserted. <inserted text>                 $ l.12
\Header{00General_Description}{Syskern}
?
! Extra }, or forgotten $. <recently read> }
l.12 \Header{00General_Description}{Syskern}
?


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Wed Jun 28 16:49:38 2000
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Wed, 28 Jun 2000 16:49:38 +0200 (CEST)
Subject: [R] Rd2dvi
In-Reply-To: <395A0A7C.38DF1844@bank-banque-canada.ca>
References: <395A0A7C.38DF1844@bank-banque-canada.ca>
Message-ID: <14682.4226.444752.991076@galadriel.ci.tuwien.ac.at>

>>>>> On Wed, 28 Jun 2000 10:23:56 -0400,
>>>>> Paul Gilbert (PG) wrote:

PG> I'm trying to use R CMD Rd2dvi  and I end up at a Latex (I think)
PG> command prompt. What's missing or what am I suppose to do?

PG> Paul Gilbert
PG> _______

PG> paul at breman:/apps/dse-versions/2000.6/dse#R CMD Rd2dvi syskern This is
PG> TeX, Version 3.14159 (Web2C 7.3) (Rd2.tex LaTeX2e <1998/12/01> Babel
PG> <v3.6k> and hyphenation patterns for american, french, german, ngerman,
PG> nohyphenation, loaded. (/usr/share/texmf/tex/latex/base/book.cls
PG> Document Class: book 1999/01/07 v1.4a Standard LaTeX document class
PG> (/usr/share/texmf/tex/latex/base/bk10.clo)) (Rd.sty
PG> (/usr/share/texmf/tex/latex/base/ifthen.sty) ...
PG> (/usr/share/texmf/tex/latex/base/makeidx.sty) Writing index file Rd2.idx

PG> No file Rd2.aux. (/usr/share/texmf/tex/latex/ae/t1aess.fd)
PG> ! Missing $ inserted. <inserted text>                 $ l.12
PG> \Header{00General_Description}{Syskern}
PG> ?
PG> ! Extra }, or forgotten $. <recently read> }
PG> l.12 \Header{00General_Description}{Syskern}
PG> ?

The reason is usually that the Rd files contains some syntax error
which only shows when running LaTeX.

In your case: The underscore is a special character in latex (and
hence Rd), you have to escape it (unless used in \examples{...} or
\code{...}).

Hope this helps,
Fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vadim at kutsyy.com  Wed Jun 28 19:45:38 2000
From: vadim at kutsyy.com (Vadim Kutsyy)
Date: Wed, 28 Jun 2000 13:45:38 -0400
Subject: [R] using graphapp.h
In-Reply-To: <20000628155738.A8378@sirio.stat.unipd.it>
Message-ID: <OFEGJMACADMFOKHCCFBJCEPLCIAA.vadim@kutsyy.com>


>   Scheleton:
>   #include "Graphics.h"
>   .............
>   DevDesc *dd = CurrentDevice() /* or GetDevice(number of device) */
>   Then
>   (a) using GPolygon or similar function (in main/graphics.c )

It seems to work.  I'll you know when I'll finish the function.

Thanks a lot.

PS: I decided to go with method a), because it seems safer (as Pf. Peter
Dalgaard suggested)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 28 20:50:36 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 28 Jun 2000 19:50:36 +0100 (BST)
Subject: [R] BMP to matrix
In-Reply-To: <000a01bfe094$13a0f340$b1eb92c1@unirioja.es>
Message-ID: <Pine.GSO.4.05.10006281948310.23872-100000@auk.stats>

On Wed, 28 Jun 2000, Manuel Castejon Limas wrote:

> Hi all, 
> is there any R function that loads a bmp file, or any other format, and converts its grid of pixels into a matrix or data frame?

Almost certainly not (they are binary files) but netpbm and ImageMagick and
such programs have means to convert the files to an ASCII gird of numbers,
which R can read easily.

That's mainly how we do it. For really big image files, I wrote a C
interface that reads the file and fills a pre-allocated array.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Wed Jun 28 21:04:44 2000
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 28 Jun 2000 15:04:44 -0400
Subject: [R] BMP to matrix
In-Reply-To: <Pine.GSO.4.05.10006281948310.23872-100000@auk.stats>
References: <Pine.GSO.4.05.10006281948310.23872-100000@auk.stats>
Message-ID: <395a4bc5.7001415@fisher.stats.uwo.ca>

On Wed, 28 Jun 2000 19:50:36 +0100 (BST), Prof Brian D Ripley
<ripley at stats.ox.ac.uk> wrote in message
<Pine.GSO.4.05.10006281948310.23872-100000 at auk.stats>:

>On Wed, 28 Jun 2000, Manuel Castejon Limas wrote:
>> is there any R function that loads a bmp file, or any other format, and converts its grid of pixels into a matrix or data frame?
>
>Almost certainly not (they are binary files) ...

Is there a reason why R doesn't read binary files, or is it just that
nobody has volunteered to write functions for that yet?

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 28 21:18:24 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 28 Jun 2000 20:18:24 +0100 (BST)
Subject: [R] BMP to matrix
In-Reply-To: <395a4bc5.7001415@fisher.stats.uwo.ca>
Message-ID: <Pine.GSO.4.05.10006282014180.12878-100000@auk.stats>

On Wed, 28 Jun 2000, Duncan Murdoch wrote:

> On Wed, 28 Jun 2000 19:50:36 +0100 (BST), Prof Brian D Ripley
> <ripley at stats.ox.ac.uk> wrote in message
> <Pine.GSO.4.05.10006281948310.23872-100000 at auk.stats>:
> 
> >On Wed, 28 Jun 2000, Manuel Castejon Limas wrote:
> >> is there any R function that loads a bmp file, or any other format, and converts its grid of pixels into a matrix or data frame?
> >
> >Almost certainly not (they are binary files) ...
> 
> Is there a reason why R doesn't read binary files, or is it just that
> nobody has volunteered to write functions for that yet?

What do you read them into?  Svr4 has a `raw' data type, but R has no such
type, and S-PLUS 5.x has almost no support for it.  Without, say, 8-bit,
16-bit and 32-bit unsigned data types and some useful operators on them, it
is hard to do much usefully at the R level.  There has not been the need
when usually one can borrow and interface tested C code.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From acuster at nopause.berkeley.edu  Thu Jun 29 05:44:41 2000
From: acuster at nopause.berkeley.edu (Adrian Vance Custer)
Date: Wed, 28 Jun 2000 20:44:41 -0700
Subject: [R] Overal plot title after mfrow and .Rhistory questions.
Message-ID: <20000628204441.A9633@nopause.berkeley.edu>

Hello everyone,

I had a few questions that I have not been able to figure out despite a lot of
reading.



1) Adding a title to a multiplot figure:

If I plot multiple plots with 
>par(mfrow=c(2,6))
how do I add an overall title to the figure, not the individual plots?




2) Saving histories on the fly:

Is there a .Rhistory equivalent to
>save.image()
? I would like to be able to save the .RData and .Rhistory files and move to
another machine. Right now I have to quit R which looses the plots I am working
on.




3) Setting the size .Rhistory:

What is the maximum size of .Rhistory and where is it set?



Thanks in advance for any replys,

--adrian
acuster at nature.berkeley.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Wed Jun 28 22:36:56 2000
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 28 Jun 2000 16:36:56 -0400
Subject: [R] BMP to matrix
In-Reply-To: <Pine.GSO.4.05.10006282014180.12878-100000@auk.stats>
References: <Pine.GSO.4.05.10006282014180.12878-100000@auk.stats>
Message-ID: <395b5e72.11783011@fisher.stats.uwo.ca>

On Wed, 28 Jun 2000 20:18:24 +0100 (BST), you wrote in message
<Pine.GSO.4.05.10006282014180.12878-100000 at auk.stats>:

>On Wed, 28 Jun 2000, Duncan Murdoch wrote:

>> Is there a reason why R doesn't read binary files, or is it just that
>> nobody has volunteered to write functions for that yet?
>
>What do you read them into?  Svr4 has a `raw' data type, but R has no such
>type, and S-PLUS 5.x has almost no support for it.  Without, say, 8-bit,
>16-bit and 32-bit unsigned data types and some useful operators on them, it
>is hard to do much usefully at the R level.  There has not been the need
>when usually one can borrow and interface tested C code.

I think a set of stream like functions would be really handy
sometimes, especially for those of us who aren't that comfortable with
the external function interface.

For example:

fopen would take a filename and some information about the open mode
(read and write would probably be enough modes) and would return a
file handle.

readint8, readint16, readint32, readint64 would read a specified count
of integers into an integer vector.

readfloat4, readfloat8 would read a specified count of floating point
values into a vector of doubles.

readchar would read a specified count of characters into a single
component character vector, or take two counts, and read n characters
m times into an m component vector.

There would be similar writexxxx functions, a seek function, and an
fclose function.

Some issues to consider would be whether these functions should worry
about big vs. little endian storage (I'd say probably not, but there
should be other functions that can change it in memory), how errors
should be handled, whether the garbage collector should be smart
enough to automatically close an abandoned file, whether you should be
allowed to use these low level functions on things in memory or just
on files, etc.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Wed Jun 28 22:48:43 2000
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Thu, 29 Jun 2000 08:48:43 +1200
Subject: [R] Overal plot title after mfrow and .Rhistory questions.
In-Reply-To: <20000628204441.A9633@nopause.berkeley.edu>; from Adrian Vance Custer on Wed, Jun 28, 2000 at 08:44:41PM -0700
References: <20000628204441.A9633@nopause.berkeley.edu>
Message-ID: <20000629084843.A1979@stat1.stat.auckland.ac.nz>

On Wed, Jun 28, 2000 at 08:44:41PM -0700, Adrian Vance Custer wrote:
> Hello everyone,
> 
> I had a few questions that I have not been able to figure out despite a lot of
> reading.
> 
> 
> 
> 1) Adding a title to a multiplot figure:
> 
> If I plot multiple plots with 
> >par(mfrow=c(2,6))
> how do I add an overall title to the figure, not the individual plots?

First, you will need a place to put it -- an "outer" margin.
You can set this up with:

	par(mfrow = c(2, 6), oma = c(0, 0, 2, 0))

This sets up an outer margin with 2 lines of text at the top of the plot.

Now, you do your plots and add the title with

	mtext("Your Overall Title", line = 0.5, outer = TRUE)

This puts the title in the center of the top margin, 0.5 lines out from
the plot.

With large arrays of plots like this you will get lots of blank space
on the page, so you may want to play with shrinking the margins around
the individual plots.  Probably something like:

	par(mfrow = c(2, 6),
	    oma = c(0, 0, 2, 0),
	    mar = c(5.1, 4.1, 2.1, 2.1)

This eliminates at lot of the space at the top of the individual plots.

> 2) Saving histories on the fly:
> 3) Setting the size .Rhistory:

I'll defer to "historians" on these ones.  (I agree that being able to
save the current history in a file would be a good idea).

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Jun 28 23:37:49 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Jun 2000 23:37:49 +0200
Subject: [R] Overal plot title after mfrow and .Rhistory questions.
In-Reply-To: Adrian Vance Custer's message of "Wed, 28 Jun 2000 20:44:41 -0700"
References: <20000628204441.A9633@nopause.berkeley.edu>
Message-ID: <x2k8f9fpw2.fsf@blueberry.kubism.ku.dk>

Adrian Vance Custer <acuster at nopause.berkeley.edu> writes:

> 2) Saving histories on the fly:
> 
> Is there a .Rhistory equivalent to
> >save.image()
> ? I would like to be able to save the .RData and .Rhistory files and move to
> another machine. Right now I have to quit R which looses the plots I am working
> on.

And while we're at it: just printing the current history would be a
nice thing to have (like bash's history command).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Jun 28 23:33:29 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 28 Jun 2000 22:33:29 +0100 (BST)
Subject: [R] Overal plot title after mfrow and .Rhistory questions.
In-Reply-To: <20000628204441.A9633@nopause.berkeley.edu>
Message-ID: <Pine.GSO.4.05.10006282221370.13035-100000@auk.stats>

On Wed, 28 Jun 2000, Adrian Vance Custer wrote:

> Hello everyone,
> 
> I had a few questions that I have not been able to figure out despite a lot of
> reading.

Could you figure out how to tell us your platform and R version, please?


> 1) Adding a title to a multiplot figure:
> 
> If I plot multiple plots with 
> >par(mfrow=c(2,6))
> how do I add an overall title to the figure, not the individual plots?
> 

[Ross has answered here]

> 2) Saving histories on the fly:
> 
> Is there a .Rhistory equivalent to
> >save.image()
> ? I would like to be able to save the .RData and .Rhistory files and move to
> another machine. Right now I have to quit R which looses the plots I am working
> on.

On Windows, yes (called savehistory).
Should be easy to add on Unix (non-GNOME).

> 3) Setting the size .Rhistory:
> 
> What is the maximum size of .Rhistory and where is it set?

On Windows, 16K chars or  512 lines, in consolestructs.h 

On Unix (non-GNOME), 512 lines, in src/unix/system.c. Can be overriden by
the environment variable R_HISTSIZE.

GNOME: ditto, in file src/unix/gnome/system.c


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clive.jenkins at clara.net  Thu Jun 29 01:30:18 2000
From: clive.jenkins at clara.net (Clive Jenkins)
Date: Thu, 29 Jun 2000 00:30:18 +0100
Subject: [R] Colour depth reduced to 12 by bitmap devices
Message-ID: <395A8A89.EAC26E19@clara.net>

I am using R to create colour plots as bitmap files. I have created a
palette of 256 colours that I want to use, but the resultant output
files contain only 12 colours used in dither patterns. The result is the
same whether I use bmp() or png().

How can I get the true colours that I specified instead of dither
patterns? (making the driver's job easier!)

I am using R 1.1.0 for Windows (rw1010). The attached files are:-

 src256.R     Test program to be run by source("src256.R")
 col_256.R    Colour palette read by src256.R
 col_256.dat  Test data representing a 16x16 square image using
              all 256 colours
 Rplot.png    The resulting bitmap.

If anyone can improve on my code in src256.R, then please do so!

A further problem is that I cannot reduce the point size of the tick
labels (character strings in this case) using any of:-

 par(cex=0.2)
 par(cex.axis=0.2)
 axis(..., cex=0.2, ...)
 axis(..., cex.axis=0.2, ...)

One final observation: in accordance with polymorphism of R, I would
prefer the function image() to take a data frame parameter directly,
e.g. image(a.df), so there would be no need to extract the row and
column names and pass them separately. Unfortunately this cannot be done
while retaining backward compatibility because the essential data item
is the third parameter not the first. As a messy compromise, perhaps
image() could be extended to accept image(,,a.df) where `a.df' is a data
frame. 

Congratulations to all R developers and contributors.

Clive Jenkins
-------------- next part --------------
source("col_256.R")
a <- read.table("col_256.dat", check.names=FALSE)
png(width=635, height=635)
# 635= 490   49 squares of 10x10
#       +1   for the final line
#     +144   1.5" total margins
par(mai=c(1.25,1.25,0.25,0.25))
# par(cex=0.2,cex.axis=0.2) # no effect here, in image, in axis
image((1:nrow(a)), (1:ncol(a)), as.matrix(a), c(0,255), col=colours.256,
    axes=FALSE, xlab="", ylab="", tcl=0)
axis(1, c(1:nrow(a)), attr(a, "row.names"), las=2)
axis(2, c(1:ncol(a)), attr(a, "names"), las=2)
abline(v=c(0:nrow(a)+0.5))
abline(h=c(0:ncol(a)+0.5))
dev.off()
-------------- next part --------------
colours.256 <- c(
"#6f6f8f", # Col.000: Hue=160 Sat=030 Lum=120
"#6f6f8f", # Col.001: Hue=160 Sat=031 Lum=120
"#6d6d91", # Col.002: Hue=160 Sat=034 Lum=120
"#6b6b93", # Col.003: Hue=160 Sat=038 Lum=120
"#676797", # Col.004: Hue=160 Sat=045 Lum=120
"#63639b", # Col.005: Hue=160 Sat=053 Lum=120
"#5d5da1", # Col.006: Hue=160 Sat=064 Lum=120
"#5757a7", # Col.007: Hue=160 Sat=076 Lum=120
"#4f4faf", # Col.008: Hue=160 Sat=090 Lum=120
"#4747b7", # Col.009: Hue=160 Sat=106 Lum=120
"#3e3ec0", # Col.010: Hue=160 Sat=123 Lum=120
"#3333cb", # Col.011: Hue=160 Sat=143 Lum=120
"#2828d6", # Col.012: Hue=160 Sat=164 Lum=120
"#1b1be3", # Col.013: Hue=160 Sat=188 Lum=120
"#0e0ef0", # Col.014: Hue=160 Sat=213 Lum=120
"#0000ff", # Col.015: Hue=160 Sat=240 Lum=120
"#6f788f", # Col.016: Hue=149 Sat=030 Lum=120
"#6f788f", # Col.017: Hue=149 Sat=031 Lum=120
"#6d7791", # Col.018: Hue=149 Sat=034 Lum=120
"#6b7693", # Col.019: Hue=149 Sat=038 Lum=120
"#677497", # Col.020: Hue=149 Sat=045 Lum=120
"#63729b", # Col.021: Hue=149 Sat=053 Lum=120
"#5d70a1", # Col.022: Hue=149 Sat=064 Lum=120
"#576da7", # Col.023: Hue=149 Sat=076 Lum=120
"#4f69af", # Col.024: Hue=149 Sat=090 Lum=120
"#4766b7", # Col.025: Hue=149 Sat=106 Lum=120
"#3e62c0", # Col.026: Hue=149 Sat=123 Lum=120
"#335dcb", # Col.027: Hue=149 Sat=143 Lum=120
"#2858d6", # Col.028: Hue=149 Sat=164 Lum=120
"#1b52e3", # Col.029: Hue=149 Sat=188 Lum=120
"#0e4cf0", # Col.030: Hue=149 Sat=213 Lum=120
"#0046ff", # Col.031: Hue=149 Sat=240 Lum=120
"#6f818f", # Col.032: Hue=137 Sat=030 Lum=120
"#6f818f", # Col.033: Hue=137 Sat=031 Lum=120
"#6d8291", # Col.034: Hue=137 Sat=034 Lum=120
"#6b8293", # Col.035: Hue=137 Sat=038 Lum=120
"#678397", # Col.036: Hue=137 Sat=045 Lum=120
"#63839b", # Col.037: Hue=137 Sat=053 Lum=120
"#5d84a1", # Col.038: Hue=137 Sat=064 Lum=120
"#5785a7", # Col.039: Hue=137 Sat=076 Lum=120
"#4f86af", # Col.040: Hue=137 Sat=090 Lum=120
"#4787b7", # Col.041: Hue=137 Sat=106 Lum=120
"#3e89c0", # Col.042: Hue=137 Sat=123 Lum=120
"#338acb", # Col.043: Hue=137 Sat=143 Lum=120
"#288cd6", # Col.044: Hue=137 Sat=164 Lum=120
"#1b8ee3", # Col.045: Hue=137 Sat=188 Lum=120
"#0e90f0", # Col.046: Hue=137 Sat=213 Lum=120
"#0092ff", # Col.047: Hue=137 Sat=240 Lum=120
"#6f8a8f", # Col.048: Hue=126 Sat=030 Lum=120
"#6f8b8f", # Col.049: Hue=126 Sat=031 Lum=120
"#6d8c91", # Col.050: Hue=126 Sat=034 Lum=120
"#6b8d93", # Col.051: Hue=126 Sat=038 Lum=120
"#679097", # Col.052: Hue=126 Sat=045 Lum=120
"#63939b", # Col.053: Hue=126 Sat=053 Lum=120
"#5d97a1", # Col.054: Hue=126 Sat=064 Lum=120
"#579ba7", # Col.055: Hue=126 Sat=076 Lum=120
"#4fa0af", # Col.056: Hue=126 Sat=090 Lum=120
"#47a6b7", # Col.057: Hue=126 Sat=106 Lum=120
"#3eadc0", # Col.058: Hue=126 Sat=123 Lum=120
"#33b4cb", # Col.059: Hue=126 Sat=143 Lum=120
"#28bcd6", # Col.060: Hue=126 Sat=164 Lum=120
"#1bc5e3", # Col.061: Hue=126 Sat=188 Lum=120
"#0ecef0", # Col.062: Hue=126 Sat=213 Lum=120
"#00d8ff", # Col.063: Hue=126 Sat=240 Lum=120
"#6f8f8a", # Col.064: Hue=114 Sat=030 Lum=120
"#6f8f8b", # Col.065: Hue=114 Sat=031 Lum=120
"#6d918c", # Col.066: Hue=114 Sat=034 Lum=120
"#6b938d", # Col.067: Hue=114 Sat=038 Lum=120
"#679790", # Col.068: Hue=114 Sat=045 Lum=120
"#639b93", # Col.069: Hue=114 Sat=053 Lum=120
"#5da197", # Col.070: Hue=114 Sat=064 Lum=120
"#57a79b", # Col.071: Hue=114 Sat=076 Lum=120
"#4fafa0", # Col.072: Hue=114 Sat=090 Lum=120
"#47b7a6", # Col.073: Hue=114 Sat=106 Lum=120
"#3ec0ad", # Col.074: Hue=114 Sat=123 Lum=120
"#33cbb4", # Col.075: Hue=114 Sat=143 Lum=120
"#28d6bc", # Col.076: Hue=114 Sat=164 Lum=120
"#1be3c5", # Col.077: Hue=114 Sat=188 Lum=120
"#0ef0ce", # Col.078: Hue=114 Sat=213 Lum=120
"#00ffd8", # Col.079: Hue=114 Sat=240 Lum=120
"#6f8f81", # Col.080: Hue=103 Sat=030 Lum=120
"#6f8f81", # Col.081: Hue=103 Sat=031 Lum=120
"#6d9182", # Col.082: Hue=103 Sat=034 Lum=120
"#6b9382", # Col.083: Hue=103 Sat=038 Lum=120
"#679783", # Col.084: Hue=103 Sat=045 Lum=120
"#639b83", # Col.085: Hue=103 Sat=053 Lum=120
"#5da184", # Col.086: Hue=103 Sat=064 Lum=120
"#57a785", # Col.087: Hue=103 Sat=076 Lum=120
"#4faf86", # Col.088: Hue=103 Sat=090 Lum=120
"#47b787", # Col.089: Hue=103 Sat=106 Lum=120
"#3ec089", # Col.090: Hue=103 Sat=123 Lum=120
"#33cb8a", # Col.091: Hue=103 Sat=143 Lum=120
"#28d68c", # Col.092: Hue=103 Sat=164 Lum=120
"#1be38e", # Col.093: Hue=103 Sat=188 Lum=120
"#0ef090", # Col.094: Hue=103 Sat=213 Lum=120
"#00ff92", # Col.095: Hue=103 Sat=240 Lum=120
"#6f8f78", # Col.096: Hue=091 Sat=030 Lum=120
"#6f8f78", # Col.097: Hue=091 Sat=031 Lum=120
"#6d9177", # Col.098: Hue=091 Sat=034 Lum=120
"#6b9376", # Col.099: Hue=091 Sat=038 Lum=120
"#679774", # Col.100: Hue=091 Sat=045 Lum=120
"#639b72", # Col.101: Hue=091 Sat=053 Lum=120
"#5da170", # Col.102: Hue=091 Sat=064 Lum=120
"#57a76d", # Col.103: Hue=091 Sat=076 Lum=120
"#4faf69", # Col.104: Hue=091 Sat=090 Lum=120
"#47b766", # Col.105: Hue=091 Sat=106 Lum=120
"#3ec062", # Col.106: Hue=091 Sat=123 Lum=120
"#33cb5d", # Col.107: Hue=091 Sat=143 Lum=120
"#28d658", # Col.108: Hue=091 Sat=164 Lum=120
"#1be352", # Col.109: Hue=091 Sat=188 Lum=120
"#0ef04c", # Col.110: Hue=091 Sat=213 Lum=120
"#00ff46", # Col.111: Hue=091 Sat=240 Lum=120
"#6f8f6f", # Col.112: Hue=080 Sat=030 Lum=120
"#6f8f6f", # Col.113: Hue=080 Sat=031 Lum=120
"#6d916d", # Col.114: Hue=080 Sat=034 Lum=120
"#6b936b", # Col.115: Hue=080 Sat=038 Lum=120
"#679767", # Col.116: Hue=080 Sat=045 Lum=120
"#639b63", # Col.117: Hue=080 Sat=053 Lum=120
"#5da15d", # Col.118: Hue=080 Sat=064 Lum=120
"#57a757", # Col.119: Hue=080 Sat=076 Lum=120
"#4faf4f", # Col.120: Hue=080 Sat=090 Lum=120
"#47b747", # Col.121: Hue=080 Sat=106 Lum=120
"#3ec03e", # Col.122: Hue=080 Sat=123 Lum=120
"#33cb33", # Col.123: Hue=080 Sat=143 Lum=120
"#28d628", # Col.124: Hue=080 Sat=164 Lum=120
"#1be31b", # Col.125: Hue=080 Sat=188 Lum=120
"#0ef00e", # Col.126: Hue=080 Sat=213 Lum=120
"#00ff00", # Col.127: Hue=080 Sat=240 Lum=120
"#788f6f", # Col.128: Hue=069 Sat=030 Lum=120
"#788f6f", # Col.129: Hue=069 Sat=031 Lum=120
"#77916d", # Col.130: Hue=069 Sat=034 Lum=120
"#76936b", # Col.131: Hue=069 Sat=038 Lum=120
"#749767", # Col.132: Hue=069 Sat=045 Lum=120
"#729b63", # Col.133: Hue=069 Sat=053 Lum=120
"#70a15d", # Col.134: Hue=069 Sat=064 Lum=120
"#6da757", # Col.135: Hue=069 Sat=076 Lum=120
"#69af4f", # Col.136: Hue=069 Sat=090 Lum=120
"#66b747", # Col.137: Hue=069 Sat=106 Lum=120
"#62c03e", # Col.138: Hue=069 Sat=123 Lum=120
"#5dcb33", # Col.139: Hue=069 Sat=143 Lum=120
"#58d628", # Col.140: Hue=069 Sat=164 Lum=120
"#52e31b", # Col.141: Hue=069 Sat=188 Lum=120
"#4cf00e", # Col.142: Hue=069 Sat=213 Lum=120
"#46ff00", # Col.143: Hue=069 Sat=240 Lum=120
"#818f6f", # Col.144: Hue=057 Sat=030 Lum=120
"#818f6f", # Col.145: Hue=057 Sat=031 Lum=120
"#82916d", # Col.146: Hue=057 Sat=034 Lum=120
"#82936b", # Col.147: Hue=057 Sat=038 Lum=120
"#839767", # Col.148: Hue=057 Sat=045 Lum=120
"#839b63", # Col.149: Hue=057 Sat=053 Lum=120
"#84a15d", # Col.150: Hue=057 Sat=064 Lum=120
"#85a757", # Col.151: Hue=057 Sat=076 Lum=120
"#86af4f", # Col.152: Hue=057 Sat=090 Lum=120
"#87b747", # Col.153: Hue=057 Sat=106 Lum=120
"#89c03e", # Col.154: Hue=057 Sat=123 Lum=120
"#8acb33", # Col.155: Hue=057 Sat=143 Lum=120
"#8cd628", # Col.156: Hue=057 Sat=164 Lum=120
"#8ee31b", # Col.157: Hue=057 Sat=188 Lum=120
"#90f00e", # Col.158: Hue=057 Sat=213 Lum=120
"#92ff00", # Col.159: Hue=057 Sat=240 Lum=120
"#8a8f6f", # Col.160: Hue=046 Sat=030 Lum=120
"#8b8f6f", # Col.161: Hue=046 Sat=031 Lum=120
"#8c916d", # Col.162: Hue=046 Sat=034 Lum=120
"#8d936b", # Col.163: Hue=046 Sat=038 Lum=120
"#909767", # Col.164: Hue=046 Sat=045 Lum=120
"#939b63", # Col.165: Hue=046 Sat=053 Lum=120
"#97a15d", # Col.166: Hue=046 Sat=064 Lum=120
"#9ba757", # Col.167: Hue=046 Sat=076 Lum=120
"#a0af4f", # Col.168: Hue=046 Sat=090 Lum=120
"#a6b747", # Col.169: Hue=046 Sat=106 Lum=120
"#adc03e", # Col.170: Hue=046 Sat=123 Lum=120
"#b4cb33", # Col.171: Hue=046 Sat=143 Lum=120
"#bcd628", # Col.172: Hue=046 Sat=164 Lum=120
"#c5e31b", # Col.173: Hue=046 Sat=188 Lum=120
"#cef00e", # Col.174: Hue=046 Sat=213 Lum=120
"#d8ff00", # Col.175: Hue=046 Sat=240 Lum=120
"#8f8a6f", # Col.176: Hue=034 Sat=030 Lum=120
"#8f8b6f", # Col.177: Hue=034 Sat=031 Lum=120
"#918c6d", # Col.178: Hue=034 Sat=034 Lum=120
"#938d6b", # Col.179: Hue=034 Sat=038 Lum=120
"#979067", # Col.180: Hue=034 Sat=045 Lum=120
"#9b9363", # Col.181: Hue=034 Sat=053 Lum=120
"#a1975d", # Col.182: Hue=034 Sat=064 Lum=120
"#a79b57", # Col.183: Hue=034 Sat=076 Lum=120
"#afa04f", # Col.184: Hue=034 Sat=090 Lum=120
"#b7a647", # Col.185: Hue=034 Sat=106 Lum=120
"#c0ad3e", # Col.186: Hue=034 Sat=123 Lum=120
"#cbb433", # Col.187: Hue=034 Sat=143 Lum=120
"#d6bc28", # Col.188: Hue=034 Sat=164 Lum=120
"#e3c51b", # Col.189: Hue=034 Sat=188 Lum=120
"#f0ce0e", # Col.190: Hue=034 Sat=213 Lum=120
"#ffd800", # Col.191: Hue=034 Sat=240 Lum=120
"#8f816f", # Col.192: Hue=023 Sat=030 Lum=120
"#8f816f", # Col.193: Hue=023 Sat=031 Lum=120
"#91826d", # Col.194: Hue=023 Sat=034 Lum=120
"#93826b", # Col.195: Hue=023 Sat=038 Lum=120
"#978367", # Col.196: Hue=023 Sat=045 Lum=120
"#9b8363", # Col.197: Hue=023 Sat=053 Lum=120
"#a1845d", # Col.198: Hue=023 Sat=064 Lum=120
"#a78557", # Col.199: Hue=023 Sat=076 Lum=120
"#af864f", # Col.200: Hue=023 Sat=090 Lum=120
"#b78747", # Col.201: Hue=023 Sat=106 Lum=120
"#c0893e", # Col.202: Hue=023 Sat=123 Lum=120
"#cb8a33", # Col.203: Hue=023 Sat=143 Lum=120
"#d68c28", # Col.204: Hue=023 Sat=164 Lum=120
"#e38e1b", # Col.205: Hue=023 Sat=188 Lum=120
"#f0900e", # Col.206: Hue=023 Sat=213 Lum=120
"#ff9200", # Col.207: Hue=023 Sat=240 Lum=120
"#8f786f", # Col.208: Hue=011 Sat=030 Lum=120
"#8f786f", # Col.209: Hue=011 Sat=031 Lum=120
"#91776d", # Col.210: Hue=011 Sat=034 Lum=120
"#93766b", # Col.211: Hue=011 Sat=038 Lum=120
"#977467", # Col.212: Hue=011 Sat=045 Lum=120
"#9b7263", # Col.213: Hue=011 Sat=053 Lum=120
"#a1705d", # Col.214: Hue=011 Sat=064 Lum=120
"#a76d57", # Col.215: Hue=011 Sat=076 Lum=120
"#af694f", # Col.216: Hue=011 Sat=090 Lum=120
"#b76647", # Col.217: Hue=011 Sat=106 Lum=120
"#c0623e", # Col.218: Hue=011 Sat=123 Lum=120
"#cb5d33", # Col.219: Hue=011 Sat=143 Lum=120
"#d65828", # Col.220: Hue=011 Sat=164 Lum=120
"#e3521b", # Col.221: Hue=011 Sat=188 Lum=120
"#f04c0e", # Col.222: Hue=011 Sat=213 Lum=120
"#ff4600", # Col.223: Hue=011 Sat=240 Lum=120
"#8f6f6f", # Col.224: Hue=000 Sat=030 Lum=120
"#8f6f6f", # Col.225: Hue=000 Sat=031 Lum=120
"#916d6d", # Col.226: Hue=000 Sat=034 Lum=120
"#936b6b", # Col.227: Hue=000 Sat=038 Lum=120
"#976767", # Col.228: Hue=000 Sat=045 Lum=120
"#9b6363", # Col.229: Hue=000 Sat=053 Lum=120
"#a15d5d", # Col.230: Hue=000 Sat=064 Lum=120
"#a75757", # Col.231: Hue=000 Sat=076 Lum=120
"#af4f4f", # Col.232: Hue=000 Sat=090 Lum=120
"#b74747", # Col.233: Hue=000 Sat=106 Lum=120
"#c03e3e", # Col.234: Hue=000 Sat=123 Lum=120
"#cb3333", # Col.235: Hue=000 Sat=143 Lum=120
"#d62828", # Col.236: Hue=000 Sat=164 Lum=120
"#e31b1b", # Col.237: Hue=000 Sat=188 Lum=120
"#f00e0e", # Col.238: Hue=000 Sat=213 Lum=120
"#ff0000", # Col.239: Hue=000 Sat=240 Lum=120
"#000000", # Col.240: R=G=B=000
"#111111", # Col.241: R=G=B=017
"#222222", # Col.242: R=G=B=034
"#333333", # Col.243: R=G=B=051
"#444444", # Col.244: R=G=B=068
"#555555", # Col.245: R=G=B=085
"#666666", # Col.246: R=G=B=102
"#777777", # Col.247: R=G=B=119
"#888888", # Col.248: R=G=B=136
"#999999", # Col.249: R=G=B=153
"#aaaaaa", # Col.250: R=G=B=170
"#bbbbbb", # Col.251: R=G=B=187
"#cccccc", # Col.252: R=G=B=204
"#dddddd", # Col.253: R=G=B=221
"#eeeeee", # Col.254: R=G=B=238
"#ffffff", # Col.255: R=G=B=255
)
-------------- next part --------------
    C00 C01 C02 C03 C04 C05 C06 C07 C08 C09 C10 C11 C12 C13 C14 C15
R00 000 001 002 003 004 005 006 007 008 009 010 011 012 013 014 015
R01 016 017 018 019 020 021 022 023 024 025 026 027 028 029 030 031
R02 032 033 034 035 036 037 038 039 040 041 042 043 044 045 046 047
R03 048 049 050 051 052 053 054 055 056 057 058 059 060 061 062 063
R04 064 065 066 067 068 069 070 071 072 073 074 075 076 077 078 079
R05 080 081 082 083 084 085 086 087 088 089 090 091 092 093 094 095
R06 096 097 098 099 100 101 102 103 104 105 106 107 108 109 110 111
R07 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127
R08 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143
R09 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159
R10 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175
R11 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191
R12 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207
R13 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223
R14 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239
R15 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Rplot.png
Type: image/png
Size: 8201 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000629/44c095e9/Rplot.png

From vadim at kutsyy.com  Thu Jun 29 06:25:37 2000
From: vadim at kutsyy.com (Vadim Kutsyy)
Date: Thu, 29 Jun 2000 00:25:37 -0400
Subject: [R] Thanks for the help with graphics.
Message-ID: <OFEGJMACADMFOKHCCFBJKEBCCJAA.vadim@kutsyy.com>

I just wanted to say thanks for the help I was getting for last few days.

I made plotting working from c code.  now plotting is 2-3 sec, instead of
3-5 minutes.  The only problem, that I have to include "Graphics.h" which is
only in source distribution, and not in binary, so the path has to be change
manually.  Oh well.

PS: if anyone wonders, what kind of plots, I am getting, I put a picture at:
http://www.kutsyy.com/tmp/wafers_plot.jpeg for a few days (it is about .5Mb)

Thanks.
---------------------------
Vadim Kutsyy
vadim at kutsyy.com
http://www.kutsyy.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ulrich.Kuesters at ku-eichstaett.de  Thu Jun 29 09:20:08 2000
From: Ulrich.Kuesters at ku-eichstaett.de (Ulrich =?iso-8859-1?Q?K=FCsters?= (Hauptbenutzer))
Date: Thu, 29 Jun 2000 09:20:08 +0200
Subject: [R] vacant position
References: <00062414102000.00795@ligarto>
Message-ID: <395AF8A8.584C5320@ku-eichstaett.de>

Dear R-users,

the chair of statistics at the Department of Business Administration of
the Catholic University of Eichstaett in Germany is looking for a
research assistant. Candidates should have obtained a degree in either
business administration, economics, mathematics, statistics, computer
science or any other equivalent degree. He/she should have a strong
interest in programming statistical methods preferably with R. Details
can be found under 
     http://www.ku-eichstaett.de/docs/WWF/STA/stelle.htm
Applications via email are welcome.

Best regards,
    Ulrich K?sters


-- 
******************************************************
* Univ.-Prof. Dr. Ulrich K?sters                     *
* Katholische Universit?t Eichst?tt                  *
* Wirtschaftswissenschaftliche Fakult?t Ingolstadt   *
* Lehrstuhl f?r Statistik und Quantitative Methoden  *
* Auf der Schanz 49                                  *
* D-85049 Ingolstadt                                 *
* Tel: 0841-937-1846                                 *
* Fax: 0841-937-1965                                 *
* email: ulrich.kuesters at ku-eichstaett.de            *
******************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 29 10:27:48 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 29 Jun 2000 09:27:48 +0100 (BST)
Subject: [R] Colour depth reduced to 12 by bitmap devices
In-Reply-To: <395A8A89.EAC26E19@clara.net>
Message-ID: <Pine.GSO.4.05.10006290918360.23148-100000@auk.stats>

On Thu, 29 Jun 2000, Clive Jenkins wrote:

> I am using R to create colour plots as bitmap files. I have created a
> palette of 256 colours that I want to use, but the resultant output
> files contain only 12 colours used in dither patterns. The result is the
> same whether I use bmp() or png().

What about bitmap()?  Have you tried that? 

Internally bmp/png/jpeg use take a copy of the screen, so what you get
depends on your graphics card driver. If you are seeing dithering in the
PNG file, do you see it on screen?  Is your screen set to a truecolour
mode?

bitmap() works via ghostscript.

> How can I get the true colours that I specified instead of dither
> patterns? (making the driver's job easier!)
> 
> I am using R 1.1.0 for Windows (rw1010). The attached files are:-
> 
>  src256.R     Test program to be run by source("src256.R")
>  col_256.R    Colour palette read by src256.R
>  col_256.dat  Test data representing a 16x16 square image using
>               all 256 colours
>  Rplot.png    The resulting bitmap.
> 
> If anyone can improve on my code in src256.R, then please do so!
> 
> A further problem is that I cannot reduce the point size of the tick
> labels (character strings in this case) using any of:-
> 
>  par(cex=0.2)
>  par(cex.axis=0.2)
>  axis(..., cex=0.2, ...)
>  axis(..., cex.axis=0.2, ...)
> 
> One final observation: in accordance with polymorphism of R, I would
> prefer the function image() to take a data frame parameter directly,
> e.g. image(a.df), so there would be no need to extract the row and
> column names and pass them separately. Unfortunately this cannot be done
> while retaining backward compatibility because the essential data item
> is the third parameter not the first. As a messy compromise, perhaps
> image() could be extended to accept image(,,a.df) where `a.df' is a data
> frame. 

I just don't see how this can work. image requires x, y and z, and 
x and y are intended to be one longer than the rows and columns of the
matrix z.  That the equal-length case works is a historical anomaly,
and only makes sense (to me) for reqularly spaced grids.

You are quite at liberty to write a `myimage' function to your own
specification.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 29 11:19:21 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 29 Jun 2000 10:19:21 +0100 (BST)
Subject: [R] Colour depth reduced to 12 by bitmap devices
In-Reply-To: <Pine.GSO.4.05.10006290918360.23148-100000@auk.stats>
Message-ID: <Pine.GSO.4.05.10006291017410.23355-100000@auk.stats>

On Thu, 29 Jun 2000, Prof Brian D Ripley wrote:

> On Thu, 29 Jun 2000, Clive Jenkins wrote:
> 
> > I am using R to create colour plots as bitmap files. I have created a
> > palette of 256 colours that I want to use, but the resultant output
> > files contain only 12 colours used in dither patterns. The result is the
> > same whether I use bmp() or png().
> 
> What about bitmap()?  Have you tried that? 
> 
> Internally bmp/png/jpeg use take a copy of the screen, so what you get
> depends on your graphics card driver. If you are seeing dithering in the
> PNG file, do you see it on screen?  Is your screen set to a truecolour
> mode?
> 
> bitmap() works via ghostscript.

I can confirm that none of png, bmp, bitmap dither on my system for this
example.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Paul.Hewson at torbay.gov.uk  Thu Jun 29 12:00:12 2000
From: Paul.Hewson at torbay.gov.uk (Hewson, Paul)
Date: Thu, 29 Jun 2000 11:00:12 +0100
Subject: [R] Local Moran's I / Getis and Ord and Rousseauw Cluster Algorithms
Message-ID: <59CD100B4C58D211BD5000062B000977D74C73@corp_alpha2.torbay>

Sorry for the repetition, unless I've got bad deja vu this questions been
asked before but I couldn't turn up an answer on CRAN.   Is there already
any code in existence for local dependence measures such as Moran's I or
Getis and Ord G?

Also, S-Plus has a number of interstingly named Cluster Algorithms based on
some previous stand-alone fortran algorithms (agnes, daisy etc.) which have
some interesting features (such as fuzzy clustering, and some potentially
useful validation techniques).   Are there any major obstacles to getting
these to run under R?

Dzienkuje

Paul Hewson
Torbay Council
Torquay TQ1 3DR
England

tel ++44 1803 207019   fax ++44 1803 207042
email paul.hewson at torbay.gov.uk
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Thu Jun 29 12:11:51 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu, 29 Jun 2000 12:11:51 +0200 (CEST)
Subject: [R] Local Moran's I / Getis and Ord and Rousseauw Cluster Algorithms
In-Reply-To: <59CD100B4C58D211BD5000062B000977D74C73@corp_alpha2.torbay>
References: <59CD100B4C58D211BD5000062B000977D74C73@corp_alpha2.torbay>
Message-ID: <14683.8423.91168.980958@gargle.gargle.HOWL>


    PaulH> Sorry for the repetition, unless I've got bad deja vu this
    PaulH> questions been asked before but I couldn't turn up an answer on
    PaulH> CRAN.  Is there already any code in existence for local
    PaulH> dependence measures such as Moran's I or Getis and Ord G?
?? (I don't think this was here recently...).


    PaulH> Also, S-Plus has a number of interstingly named Cluster
    PaulH> Algorithms based on some previous stand-alone fortran algorithms
    PaulH> (agnes, daisy etc.) which have some interesting features (such
    PaulH> as fuzzy clustering, and some potentially useful validation
    PaulH> techniques).  Are there any major obstacles to getting these to
    PaulH> run under R?
They are in the __cluster__ (contributed) package
and have been on CRAN for a longer time now

    PaulH> Dzienkuje
= ? 
    PaulH> Paul Hewson Torbay Council Torquay TQ1 3DR England
    PaulH> tel ++44 1803 207019 fax ++44 1803 207042 email
    PaulH> paul.hewson at torbay.gov.uk
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 29 12:22:35 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 29 Jun 2000 11:22:35 +0100 (BST)
Subject: [R] Local Moran's I / Getis and Ord and Rousseauw Cluster Algorithms
Message-ID: <200006291022.LAA22163@toucan.stats.ox.ac.uk>


> From: "Hewson, Paul" <Paul.Hewson at torbay.gov.uk>
> To: "'r-help at lists.R-project.org'" <r-help at hypatia.math.ethz.ch>
> Subject: [R] Local Moran's I / Getis and Ord and Rousseauw Cluster Algorithms
> Date: Thu, 29 Jun 2000 11:00:12 +0100
> 
> Sorry for the repetition, unless I've got bad deja vu this questions been
> asked before but I couldn't turn up an answer on CRAN.   Is there already
> any code in existence for local dependence measures such as Moran's I or
> Getis and Ord G?

Not that I know of. S-PLUS has these in a commercial add-on (S+SpatialStats)
and so there has been little incentive for people to write and
publicize their own.

> Also, S-Plus has a number of interstingly named Cluster Algorithms based on
> some previous stand-alone fortran algorithms (agnes, daisy etc.) which have
> some interesting features (such as fuzzy clustering, and some potentially
> useful validation techniques).   Are there any major obstacles to getting
> these to run under R?

See package cluster on CRAN.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lilla at dimat.unipv.it  Thu Jun 29 16:22:24 2000
From: lilla at dimat.unipv.it (Lilla Di Scala)
Date: Thu, 29 Jun 2000 14:22:24 +0000
Subject: [R] ANOVA
Message-ID: <395B5BA0.AA4AB55D@dimat.unipv.it>


Dear all,
I have a problem regarding the anova() output. When I apply it to a
single regression model, I do not understand how the values
corresponding to the F statistics are obtained by the software. I
believe that they are computed using differences between residual sums
of squares of sequential models obtained from the imputed one (removing
one independent variable at a time). I have tried to do the computations
by hand, but my figures do not match R's.
I would very much appreciate it if anyone could shed light on this.
Thank you in advance,

Lilla Di Scala
University of Pavia, Italy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Jun 29 14:59:24 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 29 Jun 2000 13:59:24 +0100 (BST)
Subject: [R] ANOVA
Message-ID: <200006291259.NAA25651@toucan.stats.ox.ac.uk>

> Date: Thu, 29 Jun 2000 14:22:24 +0000
> From: Lilla Di Scala <lilla at dimat.unipv.it>
 
> I have a problem regarding the anova() output. When I apply it to a
> single regression model, I do not understand how the values
> corresponding to the F statistics are obtained by the software. I
> believe that they are computed using differences between residual sums
> of squares of sequential models obtained from the imputed one (removing
> one independent variable at a time). I have tried to do the computations
> by hand, but my figures do not match R's.

That's essentially correct, but only if you mean removing one variable
at a time and not replacing it.  Here is an example:

> data(stackloss)
> fm <- lm(stack.loss ~ ., data=stackloss)
> anova(fm)
Analysis of Variance Table

Response: stack.loss
           Df  Sum Sq Mean Sq  F value    Pr(>F)
Air.Flow    1 1750.12 1750.12 166.3707 3.309e-10
Water.Temp  1  130.32  130.32  12.3886  0.002629
Acid.Conc.  1    9.97    9.97   0.9473  0.344046
Residuals  17  178.83   10.52                   

> fm1 <- update(fm, . ~ . - Acid.Conc.)
> anova(fm1, fm)
Analysis of Variance Table

Model 1: stack.loss ~ Air.Flow + Water.Temp
Model 2: stack.loss ~ Air.Flow + Water.Temp + Acid.Conc.
  Res.Df Res.Sum Sq Df  Sum Sq F value Pr(>F)
1     18    188.795                          
2     17    178.830  1   9.965  0.9473 0.3440

> fm2 <- update(fm1, . ~ . - Water.Temp)
> fm3 <- update(fm2, . ~ . - Air.Flow)
> anova(fm2, fm1)
Analysis of Variance Table

Model 1: stack.loss ~ Air.Flow
Model 2: stack.loss ~ Air.Flow + Water.Temp
  Res.Df Res.Sum Sq Df Sum Sq F value   Pr(>F)
1     19     319.12                           
2     18     188.80  1 130.32  12.425 0.002419
> anova(fm3, fm2)
Analysis of Variance Table

Model 1: stack.loss ~ 1
Model 2: stack.loss ~ Air.Flow
  Res.Df Res.Sum Sq Df  Sum Sq F value    Pr(>F)
1     20    2069.24                             
2     19     319.12  1 1750.12  104.20 3.774e-09


Note that the SSqs are all the same, but the sequential table compares
them to the residual MSq, not to the next-larger model (as there is
no test that terms which have already been dropped are not significant).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kelley at Phys.Ocean.Dal.CA  Thu Jun 29 15:50:01 2000
From: kelley at Phys.Ocean.Dal.CA (Dan E. Kelley)
Date: Thu, 29 Jun 2000 10:50:01 -0300 (ADT)
Subject: [R] a Q on how this list is handled
Message-ID: <Pine.LNX.4.21.0006291047290.9575-100000@Intrusion.Phys.Ocean.Dal.Ca>

Sorry to send this to the whole list.  I couldn't find info on FAQ,
etc.  Also, others on this list may wonder what I'm wondering, since this
list is better-handled than others I'm on.

Q: what tools do the moderators use for this list?  In particular, how is
info at the bottom of the items (about unsubscribing, etc) tacked on?  

Background: I handle a list with majordomo, and I'd love to be able to add
info such as this (as well as cursory answers/comments from myself) to
items submitted to the list.

-- 
Dan E. Kelley                                     phone:(902)494-1694
Oceanography Department, Dalhousie University       fax:(902)494-2885
Halifax, Nova Scotia                         mailto:Dan.Kelley at Dal.CA 
Canada B3H 4J1   http://www.phys.ocean.dal.ca/~kelley/Kelley_Dan.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From manolo at api.uniovi.es  Thu Jun 29 16:16:55 2000
From: manolo at api.uniovi.es (Manuel Castejon Limas)
Date: Thu, 29 Jun 2000 16:16:55 +0200
Subject: [R] BMP to matrix
References: <000a01bfe094$13a0f340$b1eb92c1@unirioja.es>
Message-ID: <005201bfe1d4$adca83f0$b1eb92c1@unirioja.es>

I really appreciate your incoming messages. Thanks a lot for the information about the image loading procedures.
They will be of great help.


Manuel.




-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000629/368c7324/attachment.html

From salwin at mitretek.org  Thu Jun 29 21:37:36 2000
From: salwin at mitretek.org (Art Salwin)
Date: Thu, 29 Jun 2000 15:37:36 -0400
Subject: [R] Can numbr or rows in R-console window be changed?
References: <Pine.LNX.4.10.10004022249310.5261-100000@localhost.localdomain> <003f01bf9d48$50e84a30$2795eb82@patrikwpc> <38EBA4D7.C412A1EA@mitretek.org>
Message-ID: <395BA580.8AEBACD1@mitretek.org>

For running R under Windows 95, can the number of rows in
the console window be adjusted?  It currently seems to be
somewhere around 500 rows. That's usually more than enough,
unless one makes a mistake and accidently displays a long
vector or matrix.  Then the limit is exceeded and all prior
commands have scrolled off the top.
-- 
Art Salwin
salwin at mitretek.org
(202) 863-2985
(202) 863-2988 (fax)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gfeeney at hawaii.edu  Fri Jun 30 06:01:57 2000
From: gfeeney at hawaii.edu (Griffith Feeney)
Date: Thu, 29 Jun 2000 21:01:57 -0700
Subject: [R] Can numbr or rows in R-console window be changed?
In-Reply-To: <395BA580.8AEBACD1@mitretek.org>
References: <Pine.LNX.4.10.10004022249310.5261-100000@localhost.localdomain>
 <003f01bf9d48$50e84a30$2795eb82@patrikwpc> <38EBA4D7.C412A1EA@mitretek.org>
Message-ID: <4.3.1.0.20000629210027.00a7e910@pop-server.hawaii.edu>

Think I asked this question earlier this year and that the answer was that 
it is hard coded, so you can't easily change it.

At 11:39 AM 29/06/2000 -1000, you wrote:
>For running R under Windows 95, can the number of rows in
>the console window be adjusted?  It currently seems to be
>somewhere around 500 rows. That's usually more than enough,
>unless one makes a mistake and accidently displays a long
>vector or matrix.  Then the limit is exceeded and all prior
>commands have scrolled off the top.
>--
>Art Salwin
>salwin at mitretek.org
>(202) 863-2985
>(202) 863-2988 (fax)
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ray.Brownrigg at mcs.vuw.ac.nz  Fri Jun 30 05:19:48 2000
From: Ray.Brownrigg at mcs.vuw.ac.nz (Ray Brownrigg)
Date: Fri, 30 Jun 2000 15:19:48 +1200 (NZST)
Subject: [R] "problem" with delay()
Message-ID: <200006300319.PAA15896@kore.mcs.vuw.ac.nz>

I have been using delay()  quite successfully to 'load on reference'
some large data files (earthquake catalogues).  One minor difficulty I
have not been able to overcome is that upon first reference, the data
set is loaded into memory as expected, but also remains as a permanent
object in the user's environment, instead of appearing to be only in
the library from which it was loaded.  For a simple example, I have a
data set test.x, which gets loaded from a library called test upon
first reference (not when the library is loaded).  However the item
appears in the user's environment, and is saved with this upon exit.
But if the object is deleted, then it is still visible, without
(re-)appearing in the user's environment.  See the sample below:

> library(test)
> test.x
[1] 123456.8
> ls()
[1] "test.x"
> rm(test.x)
> test.x
[1] 123456.8
> ls()
character(0)
> 

I enclose a shar file of the library package test which exhibits the
behaviour above.

What I want to be able to do is to set up the library so that this
'permanent' assignment does not take place, so that the user of the
library does not have to explicitly delete objects before exiting.
[Some of these objects are 20-30 megabytes in size.]

Any hints?  I suspect this might be a question for the developers :-).

A related issue is that when the object is large, and there is not
enough memory for it to be loaded, a subsequent reference to the object
results in the error:
Error: recursive default argument reference
even if enough permanent objects are removed to 'make room' for the
object to be loaded.

Ray Brownrigg
----
#!/bin/sh
# This is a shell archive (produced by GNU sharutils 4.1).
# To extract the files from this archive, save it to some FILE, remove
# everything before the `!/bin/sh' line above, then type `sh FILE'.
#
# Made on 2000-06-30 14:41 NZST by <ray at kore.mcs.vuw.ac.nz>.
# Source directory was `/usr/local/slocal/R/library'.
#
# Existing files will *not* be overwritten unless `-c' is specified.
#
# This shar contains:
# length mode       name
# ------ ---------- ------------------------------------------
#    124 -rw-r--r-- test/DESCRIPTION
#     20 -rw-r--r-- test/INDEX
#     42 -rw-r--r-- test/R/zzz.R
#     52 -rw-r--r-- test/R/functions.R
#    107 -rw-r--r-- test/src/installtest.s
#     72 -rw-r--r-- test/src/Makefile
#     20 -rw-r--r-- test/data/00Index
#
touch -am 1231235999 $$.touch >/dev/null 2>&1
if test ! -f 1231235999 && test -f $$.touch; then
  shar_touch=touch
else
  shar_touch=:
  echo
  echo 'WARNING: not restoring timestamps.  Consider getting and'
  echo "installing GNU \`touch', distributed in GNU File Utilities..."
  echo
fi
rm -f 1231235999 $$.touch
#
# ============= test/DESCRIPTION ==============
if test ! -d 'test'; then
  echo 'x - creating directory test'
  mkdir 'test'
fi
if test -f 'test/DESCRIPTION' && test X"$1" != X"-c"; then
  echo 'x - skipping test/DESCRIPTION (file already exists)'
else
  echo 'x - extracting test/DESCRIPTION (text)'
  sed 's/^X//' << 'SHAR_EOF' > 'test/DESCRIPTION' &&
Package: test
Title: Test Functions
Version: 0.1-1
Author: Ray Brownrigg
Description: test functions
Depends: 
License: GPL
SHAR_EOF
  $shar_touch -am 06301015100 'test/DESCRIPTION' &&
  chmod 0644 'test/DESCRIPTION' ||
  echo 'restore of test/DESCRIPTION failed'
  shar_count="`wc -c < 'test/DESCRIPTION'`"
  test 124 -eq "$shar_count" ||
    echo "test/DESCRIPTION: original size 124, current size $shar_count"
fi
# ============= test/INDEX ==============
if test -f 'test/INDEX' && test X"$1" != X"-c"; then
  echo 'x - skipping test/INDEX (file already exists)'
else
  echo 'x - extracting test/INDEX (text)'
  sed 's/^X//' << 'SHAR_EOF' > 'test/INDEX' &&
text.x	test delay()
SHAR_EOF
  $shar_touch -am 06301015100 'test/INDEX' &&
  chmod 0644 'test/INDEX' ||
  echo 'restore of test/INDEX failed'
  shar_count="`wc -c < 'test/INDEX'`"
  test 20 -eq "$shar_count" ||
    echo "test/INDEX: original size 20, current size $shar_count"
fi
# ============= test/R/zzz.R ==============
if test ! -d 'test/R'; then
  echo 'x - creating directory test/R'
  mkdir 'test/R'
fi
if test -f 'test/R/zzz.R' && test X"$1" != X"-c"; then
  echo 'x - skipping test/R/zzz.R (file already exists)'
else
  echo 'x - extracting test/R/zzz.R (text)'
  sed 's/^X//' << 'SHAR_EOF' > 'test/R/zzz.R' &&
X.First.lib <- function(lib, pkg) {
X    
}
SHAR_EOF
  $shar_touch -am 06301022100 'test/R/zzz.R' &&
  chmod 0644 'test/R/zzz.R' ||
  echo 'restore of test/R/zzz.R failed'
  shar_count="`wc -c < 'test/R/zzz.R'`"
  test 42 -eq "$shar_count" ||
    echo "test/R/zzz.R: original size 42, current size $shar_count"
fi
# ============= test/R/functions.R ==============
if test -f 'test/R/functions.R' && test X"$1" != X"-c"; then
  echo 'x - skipping test/R/functions.R (file already exists)'
else
  echo 'x - extracting test/R/functions.R (text)'
  sed 's/^X//' << 'SHAR_EOF' > 'test/R/functions.R' &&
test.x <- delay({data(test, package=test); test.x})
SHAR_EOF
  $shar_touch -am 06301439100 'test/R/functions.R' &&
  chmod 0644 'test/R/functions.R' ||
  echo 'restore of test/R/functions.R failed'
  shar_count="`wc -c < 'test/R/functions.R'`"
  test 52 -eq "$shar_count" ||
    echo "test/R/functions.R: original size 52, current size $shar_count"
fi
# ============= test/src/installtest.s ==============
if test ! -d 'test/src'; then
  echo 'x - creating directory test/src'
  mkdir 'test/src'
fi
if test -f 'test/src/installtest.s' && test X"$1" != X"-c"; then
  echo 'x - skipping test/src/installtest.s (file already exists)'
else
  echo 'x - extracting test/src/installtest.s (text)'
  sed 's/^X//' << 'SHAR_EOF' > 'test/src/installtest.s' &&
setuptest <- function ()
{
X  test.x <- 123456.789
X  save(test.x, file = "../data/test.rda")
}
X
setuptest()
SHAR_EOF
  $shar_touch -am 06301045100 'test/src/installtest.s' &&
  chmod 0644 'test/src/installtest.s' ||
  echo 'restore of test/src/installtest.s failed'
  shar_count="`wc -c < 'test/src/installtest.s'`"
  test 107 -eq "$shar_count" ||
    echo "test/src/installtest.s: original size 107, current size $shar_count"
fi
# ============= test/src/Makefile ==============
if test -f 'test/src/Makefile' && test X"$1" != X"-c"; then
  echo 'x - skipping test/src/Makefile (file already exists)'
else
  echo 'x - extracting test/src/Makefile (text)'
  sed 's/^X//' << 'SHAR_EOF' > 'test/src/Makefile' &&
dummy.so:
X	echo 'source("installtest.s")' | R --no-save
X	touch dummy.so
SHAR_EOF
  $shar_touch -am 06301043100 'test/src/Makefile' &&
  chmod 0644 'test/src/Makefile' ||
  echo 'restore of test/src/Makefile failed'
  shar_count="`wc -c < 'test/src/Makefile'`"
  test 72 -eq "$shar_count" ||
    echo "test/src/Makefile: original size 72, current size $shar_count"
fi
# ============= test/data/00Index ==============
if test ! -d 'test/data'; then
  echo 'x - creating directory test/data'
  mkdir 'test/data'
fi
if test -f 'test/data/00Index' && test X"$1" != X"-c"; then
  echo 'x - skipping test/data/00Index (file already exists)'
else
  echo 'x - extracting test/data/00Index (text)'
  sed 's/^X//' << 'SHAR_EOF' > 'test/data/00Index' &&
test.x	test dataset
SHAR_EOF
  $shar_touch -am 06301042100 'test/data/00Index' &&
  chmod 0644 'test/data/00Index' ||
  echo 'restore of test/data/00Index failed'
  shar_count="`wc -c < 'test/data/00Index'`"
  test 20 -eq "$shar_count" ||
    echo "test/data/00Index: original size 20, current size $shar_count"
fi
exit 0
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 30 08:30:59 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 30 Jun 2000 07:30:59 +0100 (BST)
Subject: [R] Can numbr or rows in R-console window be changed?
In-Reply-To: <395BA580.8AEBACD1@mitretek.org>
Message-ID: <Pine.GSO.4.05.10006300723130.3250-100000@auk.stats>

On Thu, 29 Jun 2000, Art Salwin wrote:

> For running R under Windows 95, can the number of rows in
> the console window be adjusted?  It currently seems to be
> somewhere around 500 rows. That's usually more than enough,
> unless one makes a mistake and accidently displays a long
> vector or matrix.  Then the limit is exceeded and all prior
> commands have scrolled off the top.

Do you mean the number in the scrollback, not in the window?  Yes, but you
will need to re-compile to do so.  Look in src/gnuwin32/consolestructs.h.
It is 64K chars or 8K lines.  This is independent of the commands history,
so I don't see the problem: if you have lost some output, just scroll
back in the commands history and re-run the command to re-generate it.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clive.jenkins at clara.net  Fri Jun 30 10:34:55 2000
From: clive.jenkins at clara.net (Clive Jenkins)
Date: Fri, 30 Jun 2000 09:34:55 +0100
Subject: [R] Colour depth reduced to 12 by bitmap devices
References: <Pine.GSO.4.05.10006290918360.23148-100000@auk.stats>
Message-ID: <395C5BAF.4D47A35D@clara.net>

Prof Brian D Ripley wrote:
> 
> On Thu, 29 Jun 2000, Clive Jenkins wrote:
> 
> > I am using R to create colour plots as bitmap files. I have created a
> > palette of 256 colours that I want to use, but the resultant output
> > files contain only 12 colours used in dither patterns. The result is the
> > same whether I use bmp() or png().
> 
> What about bitmap()?  Have you tried that?

I missed that one (it does not appear in the top-level List of Graphical
Devices in Devices.html or the output of ?device). I have tried it now,
but it only gives me 71 colourswith no dithering. This seems to be
independent of the screen graphics mode.

> Internally bmp/png/jpeg use take a copy of the screen, so what you get
> depends on your graphics card driver. If you are seeing dithering in the
> PNG file, do you see it on screen?  Is your screen set to a truecolour
> mode?

Yes, it is the same on-screen. I had not observed this before because I
have not been displaying the results on-screen: I thought I might avoid
any Windows-related colour restrictions by generating an image file
directly. This use of the graphics hardware would seem to imply that
bmp/png/jpeg cannot be used to create bitmap files using rterm on a
"traditional" UNIX machine with text-only terminals.

My screen was set to a 256-colour mode. After changing to a truecolour
mode, bmp() and png() now work exactly as I would expect (but I find my
image contains only 245 colours because of duplicates in my palette). 

> bitmap() works via ghostscript.
> 
> > How can I get the true colours that I specified instead of dither
> > patterns? (making the driver's job easier!)
> >
> > I am using R 1.1.0 for Windows (rw1010). The attached files are:-
> >
> >  src256.R     Test program to be run by source("src256.R")
> >  col_256.R    Colour palette read by src256.R
> >  col_256.dat  Test data representing a 16x16 square image using
> >               all 256 colours
> >  Rplot.png    The resulting bitmap.
> >
> > If anyone can improve on my code in src256.R, then please do so!
> >
> > A further problem is that I cannot reduce the point size of the tick
> > labels (character strings in this case) using any of:-
> >
> >  par(cex=0.2)
> >  par(cex.axis=0.2)
> >  axis(..., cex=0.2, ...)
> >  axis(..., cex.axis=0.2, ...)

This problem, although minor, is still unresolved. cex and cex.axis
settings also seem to be ignored when passed to image().

> > One final observation: in accordance with polymorphism of R, I would
> > prefer the function image() to take a data frame parameter directly,
> > e.g. image(a.df), so there would be no need to extract the row and
> > column names and pass them separately. Unfortunately this cannot be done
> > while retaining backward compatibility because the essential data item
> > is the third parameter not the first. As a messy compromise, perhaps
> > image() could be extended to accept image(,,a.df) where `a.df' is a data
> > frame.
> 
> I just don't see how this can work. image requires x, y and z, and
> x and y are intended to be one longer than the rows and columns of the
> matrix z.  That the equal-length case works is a historical anomaly,
> and only makes sense (to me) for reqularly spaced grids.

What I am suggesting is that image() should be able to display a data
frame as a table of colours instead of a table of numbers. It would
default to a regularly-spaced grid based on the number of rows and
columns of the data frame.

> You are quite at liberty to write a `myimage' function to your own
> specification.

Yes, I might do that!

> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

Many thanks - my main problem is now resolved.

Clive Jenkins

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 30 11:38:08 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 30 Jun 2000 10:38:08 +0100 (BST)
Subject: [R] Colour depth reduced to 12 by bitmap devices
In-Reply-To: <395C5BAF.4D47A35D@clara.net>
Message-ID: <Pine.GSO.4.05.10006301027350.6524-100000@auk.stats>

On Fri, 30 Jun 2000, Clive Jenkins wrote:

> Prof Brian D Ripley wrote:
> > 
> > On Thu, 29 Jun 2000, Clive Jenkins wrote:
> > 
> > > I am using R to create colour plots as bitmap files. I have created a
> > > palette of 256 colours that I want to use, but the resultant output
> > > files contain only 12 colours used in dither patterns. The result is the
> > > same whether I use bmp() or png().
> > 
> > What about bitmap()?  Have you tried that?
> 
> I missed that one (it does not appear in the top-level List of Graphical
> Devices in Devices.html or the output of ?device). I have tried it now,

Well, it is new and not really a device.  It is in the NEWS file, and if
you have looked in the See Also for ?device you would have got to it
(it is with dev2bitmap).


> but it only gives me 71 colourswith no dithering. This seems to be
> independent of the screen graphics mode.
> 
> > Internally bmp/png/jpeg use take a copy of the screen, so what you get
> > depends on your graphics card driver. If you are seeing dithering in the
> > PNG file, do you see it on screen?  Is your screen set to a truecolour
> > mode?
> 
> Yes, it is the same on-screen. I had not observed this before because I
> have not been displaying the results on-screen: I thought I might avoid
> any Windows-related colour restrictions by generating an image file
> directly. This use of the graphics hardware would seem to imply that
> bmp/png/jpeg cannot be used to create bitmap files using rterm on a
> "traditional" UNIX machine with text-only terminals.

Rterm does not run on Unix!  bmp is Windows only, and png/jpeg are
implemented via the X11 device on Unix.

It is not the hardware but the software that is used. How do you think 
you are going to plot on a bitmap without using the graphics subsystem?
Think about font handling, for example?  That's why bitmap() is available,
which uses ghostscript to do this.

If you have better ideas, you are welcome to contribute them.


> My screen was set to a 256-colour mode. After changing to a truecolour
> mode, bmp() and png() now work exactly as I would expect (but I find my
> image contains only 245 colours because of duplicates in my palette). 
> 
> > bitmap() works via ghostscript.
> > 
> > > How can I get the true colours that I specified instead of dither
> > > patterns? (making the driver's job easier!)
> > >
> > > I am using R 1.1.0 for Windows (rw1010). The attached files are:-
> > >
> > >  src256.R     Test program to be run by source("src256.R")
> > >  col_256.R    Colour palette read by src256.R
> > >  col_256.dat  Test data representing a 16x16 square image using
> > >               all 256 colours
> > >  Rplot.png    The resulting bitmap.
> > >
> > > If anyone can improve on my code in src256.R, then please do so!
> > >
> > > A further problem is that I cannot reduce the point size of the tick
> > > labels (character strings in this case) using any of:-
> > >
> > >  par(cex=0.2)
> > >  par(cex.axis=0.2)
> > >  axis(..., cex=0.2, ...)
> > >  axis(..., cex.axis=0.2, ...)
> 
> This problem, although minor, is still unresolved. cex and cex.axis
> settings also seem to be ignored when passed to image().

Perhaps you would like to resolve them and contribute a patch?
If this is a bug report, please submit it to the R-bugs database.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mriordan at nmrc.ucc.ie  Fri Jun 30 13:42:43 2000
From: mriordan at nmrc.ucc.ie (Margaret Riordan)
Date: Fri, 30 Jun 2000 12:42:43 +0100
Subject: [R] BATCH jobs in R
Message-ID: <395C87B3.827A729E@nmrc.ucc.ie>

Hi,

I have recently began using R as a replacement package for S-plus. My
first impressions are that it a very powerful statistical tool.

I have a quick question on using batch jobs in R:

In S-plus, a batch job can be run externally using:

splus /batch inputfile outputfile

In the UNIX version of R a batch job can be run as:

R <inputfile> outputfile --save &

I have been investigating using batch jobs with R in a Windows
environment.
It seems the R requires an argument to run a batch job here such as:

R BATCH inputfile outputfile

However, the versionof R(1.1.0) which we are running does not recognise
this BATCH argument. Do you have any information on this?

Best Regards,
Margaret Riordan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nathapong_samlamjiag at hotmail.com  Fri Jun 30 13:55:09 2000
From: nathapong_samlamjiag at hotmail.com (Nathapong Samlamjiag)
Date: Fri, 30 Jun 2000 11:55:09 GMT
Subject: [R] I have a dream of creating a program on statistical analyses.
Message-ID: <20000630115509.97133.qmail@hotmail.com>

An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000630/6bb617db/attachment.html

From guido at sirio.stat.unipd.it  Fri Jun 30 14:20:30 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Fri, 30 Jun 2000 14:20:30 +0200
Subject: [R] BATCH jobs in R
In-Reply-To: <395C87B3.827A729E@nmrc.ucc.ie>; from mriordan@nmrc.ucc.ie on Fri, Jun 30, 2000 at 12:42:43PM +0100
References: <395C87B3.827A729E@nmrc.ucc.ie>
Message-ID: <20000630142030.A15121@sirio.stat.unipd.it>

On Fri, Jun 30, 2000 at 12:42:43PM +0100, Margaret Riordan wrote:
> In the UNIX version of R a batch job can be run as:
> 
> R <inputfile> outputfile --save &
> 
> I have been investigating using batch jobs with R in a Windows
> environment.
> It seems the R requires an argument to run a batch job here such as:
> 
> R BATCH inputfile outputfile
> 

>From the rw1010 README:

TERMINAL/BATCH:                                                            
Rterm.exe will run from a command line such as an MS-DOS or Commands  
Window running the standard shells, command.com (9x) and cmd.exe (NT),         
as well as the ports of bash and tcsh that we use.  Its primary                
purpose is to allow batch operation, but it does provide all the               
facilities needed for interactive use, including simple command-line           
editing.                                                                       
                                                                               
Batch use: At its simplest, Rterm.exe can be used in a batch mode by           
commands like                                                                  
                                                                               
Rterm.exe --vsize=10M --nsize=400k --no-restore --no-save < infile > outfile 
                                                                               
although users will probably want to set up simple .bat or .cmd files          
to run batch jobs.                                                         

guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Jun 30 14:35:23 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 30 Jun 2000 14:35:23 +0200
Subject: [R] BATCH jobs in R
References: <395C87B3.827A729E@nmrc.ucc.ie>
Message-ID: <395C940B.A09814AE@statistik.uni-dortmund.de>


Margaret Riordan wrote:
> 
> Hi,
> 
> I have recently began using R as a replacement package for S-plus. My
> first impressions are that it a very powerful statistical tool.
> 
> I have a quick question on using batch jobs in R:
> 
> In S-plus, a batch job can be run externally using:
> 
> splus /batch inputfile outputfile
> 
> In the UNIX version of R a batch job can be run as:
> 
> R <inputfile> outputfile --save &
> 
> I have been investigating using batch jobs with R in a Windows
> environment.
> It seems the R requires an argument to run a batch job here such as:
> 
> R BATCH inputfile outputfile
> 
> However, the versionof R(1.1.0) which we are running does not recognise
> this BATCH argument. Do you have any information on this?

>From the "R for Windows FAQ":


2.6 Can I use R BATCH?

No, but you can set up a batch file using Rterm.exe. A sample batch file
might contain (as one line) 
path_to_R\bin\Rterm.exe --vsize=10M --nsize=500k --no-restore --no-save
< %1 > %1.out


Regards,
Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Jun 30 14:30:09 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 30 Jun 2000 13:30:09 +0100 (GMT Daylight Time)
Subject: [R] BATCH jobs in R
In-Reply-To: <395C87B3.827A729E@nmrc.ucc.ie>
Message-ID: <Pine.WNT.4.05.10006301327060.94-100000@tern.stats>

On Fri, 30 Jun 2000, Margaret Riordan wrote:

> I have recently began using R as a replacement package for S-plus. My
> first impressions are that it a very powerful statistical tool.
> 
> I have a quick question on using batch jobs in R:
> 
> In S-plus, a batch job can be run externally using:
> 
> splus /batch inputfile outputfile

Or (better) using Sqpe.exe!

> In the UNIX version of R a batch job can be run as:
> 
> R <inputfile> outputfile --save &
> 
> I have been investigating using batch jobs with R in a Windows
> environment.
> It seems the R requires an argument to run a batch job here such as:
> 
> R BATCH inputfile outputfile
> 
> However, the versionof R(1.1.0) which we are running does not recognise
> this BATCH argument. Do you have any information on this?

Try reading the rw-FAQ supplied with R for Windows.  Question 2.6, as it
happens.  You might find it worthwhile to read the rest of the
documentation too.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Jun 30 18:44:16 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 30 Jun 2000 09:44:16 -0700 (PDT)
Subject: [R] "problem" with delay()
In-Reply-To: <200006300319.PAA15896@kore.mcs.vuw.ac.nz>
Message-ID: <Pine.GSO.4.21.0006300927140.8554-100000@atlas.biostat.washington.edu>

On Fri, 30 Jun 2000, Ray Brownrigg wrote:

> I have been using delay()  quite successfully to 'load on reference'
> some large data files (earthquake catalogues).  One minor difficulty I
> have not been able to overcome is that upon first reference, the data
> set is loaded into memory as expected, but also remains as a permanent
> object in the user's environment, instead of appearing to be only in
> the library from which it was loaded. 

Your problem is that data() does load the object into the global
environment. To put data in another environment you need to use load(),
source(), read.table() &c, explicitly.

It looks as though you want something like
test.x<-delay({
 pkgenv<-pos.to.env(match("package:mypackage",search()))
 load(system.file("data","data.rda",pkg="mypackage"),envir=pkgenv)
 return(get("test.x",envir=pkgenv))
})

where "mypackage" is the package name, "data.rda" is the data file and
"test.x" is the variable name

Alternatively, if your data are in the R save() format and you are using
1.1.0 or newer you can delay an attach command

test.x<-delay({attach("data.rda")})

or if the file is in the data subdirectory of "mypackage"

test.x<-delay({attach(system.file("data","data.rda",pkg="mypackage"))})

This loads the file into a new environment in the search path, so it won't
be saved on exit.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


