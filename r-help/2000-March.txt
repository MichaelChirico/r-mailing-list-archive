From dajm at deeq.demon.co.uk  Wed Mar  1 00:35:12 2000
From: dajm at deeq.demon.co.uk (David Middleton)
Date: Tue, 29 Feb 2000 20:35:12 -0300
Subject: [R] RODBC
Message-ID: <00022920422402.00521@deeq.demon.co.uk>


Firstly can I add my congradulations to the R core team on the release
of v1.0.0 and my thanks for all their hard work.

To the subject of this message: does anyone have a binary version of
Michael Lapsley's RODBC package built for win32 that they can
distribute?  I have a solution where I can use Perl ODBC functions to
dump data to a text file for reading in to R, but I think the direct ODBC
call from R would be a cleaner way of working.

Thanks

David Middleton
dajm at deeq.demon.co.uk
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Wed Mar  1 10:19:20 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Wed, 1 Mar 2000 09:19:20 +0000 (GMT)
Subject: [R] Congratulations on the release of 1.0.0
In-Reply-To: <200002291144.VAA07019@acland.qld.cmis.CSIRO.AU>
Message-ID: <Pine.LNX.4.10.10003010918280.7963-100000@localhost.localdomain>

Congratulations and thanks!

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Wed Mar  1 09:51:27 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Wed, 01 Mar 2000 09:51:27 +0100
Subject: [R] standing ovations
Message-ID: <3.0.32.20000301095126.008f73a0@162.38.183.200>

Dear All,

I join all the enthusiasm that has been expressed to the R Core Team; I
particularly agree with Jens' point of view below. Perhaps we could add our
gratefulness to the R Core Team to animate the R-help list: I've learnt a
lot about R by simply reading the illuminating answers to the many
questions that could be asked. Thanks also to Bill Venables and Brian
Ripley for giving general statistical advice that is useful to everyone.
Finally, special thanks to Guido Masarotto and Brian Ripley for providing
the Windows binaries (which I found tremendeous with the version 0.99.0a...
look forward to the 1.0.0 binary).

Emmanuel Paradis

At 13:34 29/02/00 +0100, Jens Oehlschl?gel-Akiyoshi wrote:
>
>I think this is a moment to lean back from daily business, details or
>whatsoever and appreciate the impressive achievment of Ross, Robert and the
>R-core team. Incredible!
>
>They created an impressive and extremely useful software, for teaching,
>research and more. Besides these direct practical benefits, I think this
>project is more: it gives an outstanding example of international
>cooperation and it gives access to everyone, including the not-so-rich
>countries, to tools essential to perform empirical research as they need it.
>
>Thank you very much
>and best wishes
>for whatever your post-1.0 plans are
>
>--
>Dr. Jens Oehlschl?gel-Akiyoshi
>(private mail, standard disclaimer)
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From presnell at stat.ufl.edu  Wed Mar  1 10:25:00 2000
From: presnell at stat.ufl.edu (presnell@stat.ufl.edu)
Date: Wed, 1 Mar 2000 10:25:00 +0100 (MET)
Subject: [R] Contingency tables as data frames
In-Reply-To: <14511.3809.113638.667839@flounder.stat.ufl.edu>
References: <14511.3809.113638.667839@flounder.stat.ufl.edu>
Message-ID: <14524.57836.939246.506307@lynne.ethz.ch>

       {again a message that was sent to  owner-r-help (which is me, currently)
        why on earth ???!??!?
	reply to R-help or the original sender Brett Presnell; }

I'm teaching a categorical data analysis course this term, and a minor
"problem" has resurfaced that I have often thought about before.  This
applies equally to Splus I suppose, but my undergrads aren't using
Splus.

It seems natural to read/represent a contingency table as a data
frame, with one column representing the cell counts (as in the example
appended below (data taken from Agresti, "An Introduction to
Categorical Data Analysis").  However, functions like ftable,
mantelhaen.test, chisq.test, fisher.test, etc. don't work naturally
with this representation, and instead require the user to first
manipulate the data, say by using tapply to convert the data into an
array.  This is not difficult of course, but it's one of those things
that I'd rather not have to explain to students, who usually need to
be focusing on other things.

So, am I missing something obvious (not unlikely), or would it be a
good idea to extend the methods/arguments of these functions to
analyze/manipulate data represented in this way without any
preprocessing by the user?  It seems that a "count" (or "weight" or
"freq" or whatever) argument would do it in most cases.

Funny, I can't help but wonder if the answer from those who have thought
about this more deeply than I have might be "it's a can of worms".

-- 
Brett Presnell
Department of Statistics
University of Florida
(presnell at stat.ufl.edu)

     City Smoker Cancer Count
  Beijing    Yes    Yes   126
  Beijing    Yes     No   100
  Beijing     No    Yes    35
  Beijing     No     No    61
 Shanghai    Yes    Yes   908
 Shanghai    Yes     No   688
 Shanghai     No    Yes   497
 Shanghai     No     No   807
 Shenyang    Yes    Yes   913
 Shenyang    Yes     No   747
 Shenyang     No    Yes   336
 Shenyang     No     No   598
  Nanjing    Yes    Yes   235
  Nanjing    Yes     No   172
  Nanjing     No    Yes    58
  Nanjing     No     No   121
   Harbin    Yes    Yes   402
   Harbin    Yes     No   308
   Harbin     No    Yes   121
   Harbin     No     No   215
Zhengzhou    Yes    Yes   182
Zhengzhou    Yes     No   156
Zhengzhou     No    Yes    72
Zhengzhou     No     No    98
  Taiyuan    Yes    Yes    60
  Taiyuan    Yes     No    99
  Taiyuan     No    Yes    11
  Taiyuan     No     No    43
 Nanchang    Yes    Yes   104
 Nanchang    Yes     No    89
 Nanchang     No    Yes    21
 Nanchang     No     No    36
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossetti at markov.stat.unipg.it  Wed Mar  1 10:48:55 2000
From: rossetti at markov.stat.unipg.it (Andrea Rossetti)
Date: Wed, 1 Mar 2000 10:48:55 +0100 (MET)
Subject: [R] isoMDS error message!!! (fwd)
Message-ID: <Pine.GSO.4.05.10003011032390.5450-200000@markov.stat.unipg.it>

uhps!!
I forgot to tell you that I'm running R 0.99.0 for windows32 on windows 95
osr2.

Thank you very much for the latest R-1.0.0 (even if I don't tried it 
yet)!!!

Andrea Rossetti
University of Perugia (Italy)
Statistical Science Department.
---------- Forwarded message ----------
Date: Tue, 29 Feb 2000 17:03:51 +0100 (MET)
From: Andrea Rossetti <rossetti at markov.stat.unipg.it>
To: r-help at stat.math.ethz.ch
Subject: [R] isoMDS error message!!!

Hi to all,

I do this

> valumod<-read.table("valu-medie.txt",header=T)
> library(mass)
> library(mva)
> valumod.x <- as.matrix(valumod)
> valumod.dist<-dist(valumod.x)
> valumod.mds <- isoMDS(valumod.dist)
Error in isoMDS(valumod.dist) : zero or negative distance between objects 2 and 4
>

Where is the error?

Andrea Rossetti.

PS I've attached the dataset.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-------------- next part --------------
	Ove_med	Mag_med	Cer_med	Max_med

1	2.25	2.75	2.75	2.25

2	2	3.25	2.5	2.25

3	1.75	2.75	2.5	3

4	2	3.25	2.5	2.25

5	2.25	2.25	2.25	3.25

6	1	3.25	3.25	2.5

7	2.5	3	2.5	2

8	2	2.75	2.5	2.75

9	2.5	2.5	3	2

10	2.75	1.5	2.75	3

11	3.25	2.25	1.25	3.25

12	2	1.75	2.75	3.5

13	1	2.25	4	2.75

14	2	2.25	3.5	2.25

15	2.25	2	2.5	3.25

16	2	2.25	2.5	3.25

17	1.75	2	2.75	3.5

18	2	2.25	3	2.75

19	2	2.25	3.25	2.5

20	1.75	2.5	3	2.75

21	3.25	1.75	2.25	2.75

22	2.5	1.5	2.25	3.75

23	2.25	2.5	2	3.25

24	1.5	2.25	3	3.25

25	2	3	2.25	2.75

26	1.75	2.5	2.25	3.5

27	1	2.5	3.25	3.25

28	2.25	2.25	2.5	3

29	2.25	2	3	2.75

30	2.25	2	3	2.75

31	1.75	2.75	2.25	3.25

32	3	2.75	1.75	2.5

33	2.75	2.5	2	2.75

34	2	2	3	3

35	2.5	1.5	3	3

36	3.5	1.75	2.5	2.25

37	2	2	2.25	3.75

38	2.25	2.25	2.25	3.25

39	1.5	2	2.75	3.75

40	1.5	2.5	3.25	2.75

41	1.25	2	2.75	4

42	2.5	2	2.25	3.25

43	3	2.25	2.75	2

44	1.75	3.25	1.5	3.5

45	2.75	3	2.25	2

46	2.75	2.75	2	2.5

47	2.25	3	2	2.75

48	2.5	2.75	2.5	2.25

49	2.5	2.25	2.5	2.75

50	1.75	3	2	3.25

51	1.5	3.5	2.25	2.75

52	2.25	3	1.25	3.5

53	2.5	1.25	3.5	2.75

54	1.75	2.5	3.25	2.5

55	2.25	3.5	1.75	2.5

56	2.5	3	2	2.5

57	2	3.5	1.5	3

58	2.5	3	2.25	2.25

59	2	3.25	3.25	1.5

60	1.25	2.75	3	3

61	2.25	2.25	2.75	2.75

62	2.5	3.25	1.5	2.75

63	2.5	2.75	2	2.75

64	1	2	3	4

65	2.5	2.5	2	3

66	2.75	3	1.25	3

67	2.75	2.25	2.25	2.75

68	2	2.5	2.75	2.75

69	2.75	3	1.25	3

70	1	2.75	2.25	4

71	1.25	3.25	2.75	2.75

72	1.75	2.75	1.75	3.75

73	2	2.5	2.25	3.25

74	2	3.25	1.75	3

75	2	2.75	2	3.25

76	3	2.25	2.25	2.5

77	2.5	2.5	2.5	2.5

78	2.25	2.25	2.5	3

79	1.5	2.25	2.75	3.5

80	1.75	3.75	3	1.5

81	2	2.75	2.5	2.75

82	2.25	3	2.25	2.5

83	2.25	3.5	1.75	2.5

84	2	3.5	1.5	3

85	3.75	1.75	2.5	2

86	2.25	3.25	1.75	2.75

87	2.5	1.5	2.75	3.25

88	2	2	3	3

89	4	1.75	1.75	2.5

90	3	3.25	2.25	1.5

91	2.5	3.5	1.75	2.25

92	2.75	2.5	3	1.75

93	1.75	2.75	3	2.5

94	2	3	1.75	3.25

95	2	1.75	3.5	2.75

96	1.75	3	2.5	2.75

97	2.25	2.5	2.75	2.5

98	2.25	2.25	2.5	3

99	2	2.75	1.75	3.5

100	1.75	3	2.5	2.75

101	2.5	2.75	2.25	2.5

102	1.75	3.25	2.25	2.75

103	2	2.75	2	3.25

104	1.5	2.75	2.75	3

105	3.5	1.5	2.25	2.75

106	2.5	3	1.75	2.75

107	2	3.25	1.5	3.25

108	2	2	2.75	3.25

109	1.25	2.5	3	3.25

110	1.75	2.75	2	3.5

111	2.25	3.75	2	2

112	1.75	3.5	1.75	3

113	1.75	2.5	2	3.75

114	1.75	1.75	2.75	3.75

115	1	4	2.5	2.5

116	2.5	2.25	2.75	2.5

117	1.75	1.75	3.25	3.25

118	2	2	3.25	2.75

119	1.5	3.25	2.75	2.5

120	1.75	4	1.5	2.75

121	2.25	2.75	2.5	2.5

122	2.75	1.75	2.75	2.75

123	1.75	3.5	2	2.75

124	2.5	2.5	1.5	3.5

125	2.75	1.75	2.5	3

126	2.25	2	3.25	2.5

127	1.75	2	2.25	4

128	2.5	3	2.25	2.25

129	2	3	2	3

130	2.5	2.5	2.5	2.5

131	2.5	2.25	1.75	3.5

132	1.75	2.75	1.75	3.75

133	2.25	1.75	2.75	3.25

134	1.75	4	2.25	2

135	2.5	2	2.25	3.25

136	2.5	2.5	1.5	3.5

137	2.25	1.75	2.75	3.25

138	2.5	2	2.75	2.75

139	2.5	3.25	1.75	2.5

140	2	3.25	2.25	2.5

141	2	3.25	1.75	3

142	2.5	2.25	2.25	3

143	2.5	3	1.5	3

144	2.5	2.25	2.5	2.75

145	3.25	3.5	1.5	1.75

146	2	2.75	2.75	2.5

147	2	2	2.5	3.5

148	2.25	2.75	2.25	2.75

149	2	1.5	3.25	3.25

150	1.75	2.25	2.5	3.5

151	3	1.75	2.25	3

152	1.75	2.5	2.75	3

153	2.25	2.25	2.5	3

154	2.5	2.5	2.25	2.75

155	2.75	2.25	2.25	2.75

156	1.5	2.75	2.5	3.25

157	2	3.75	1.75	2.5

158	2.25	3	2	2.75

159	2.25	2.5	2	3.25

160	2.75	2.75	2	2.5

161	2	2	3	3

162	2	2	3.25	2.75

163	1.75	3.5	2.25	2.5

164	2.25	2	2.5	3.25

165	2	2	3	3

166	3.25	2.5	2	2.25

167	2.5	3	2.25	2.25

168	2.25	1.5	3.75	2.5

169	2	2.5	2.25	3.25

170	2.25	3.25	2	2.5

171	1.75	2	3.25	3

172	2	3.25	2.5	2.25

173	3.5	2.25	1.75	2.5

174	3.25	2	2.25	2.5

175	3	1.75	2	3.25

176	3	1.75	3	2.25

177	2	2.5	2.75	2.75

178	2.5	2	2.25	3.25

179	1.75	4	2.75	1.5

180	2.25	1.75	3.25	2.75

181	2	3	2.75	2.25

182	2	2.75	2.5	2.75

183	1.75	2.75	2.25	3.25

184	3.25	2.5	2.5	1.75

185	2	1.75	3	3.25

186	1.75	2.25	3	3

187	2.5	2	2	3.5

188	1	2.75	3.25	3

189	2.5	3.25	1.5	2.75

190	2.5	2	2.75	2.75

191	2.25	2.75	2.5	2.5

192	1.75	1.75	2.5	4

193	2	2	2.5	3.5

194	1.75	2.5	2.5	3.25

195	1.5	2.5	2.5	3.5

196	2.5	1.5	2.25	3.75

197	2	2.25	2	3.75

198	2.25	1.5	4	2.25

199	1.75	2	2.5	3.75

200	2.5	2	3	2.5

201	1.75	2.25	2	4

202	3	2.5	2.75	1.75

203	2	2	3	3

204	2.25	2.5	2.5	2.75

205	2.75	2.5	2	2.75

206	1.75	3	1.5	3.75

207	1.75	2.75	2.75	2.75

208	2.5	3	2.75	1.75

209	2	3	1.75	3.25

210	1.25	2.5	3	3.25

211	2	3.25	2	2.75

212	2.25	2.25	2.5	3

213	2.25	1.25	3	3.5

214	1.75	2.5	2.5	3.25

215	2.25	2.25	2.25	3.25

216	2.5	2.25	2.5	2.75

217	2.75	2.5	3	1.75

218	3.25	2	1.75	3

219	2.5	2.75	1.75	3

220	2	2	2.75	3.25

221	2.75	2	2.25	3

222	2.5	2	3.25	2.25

223	2	2.5	2	3.5

224	2.25	2.75	2.25	2.75

225	1.5	3	2.25	3.25

226	2.25	2.25	2.75	2.75

227	2	2	2.75	3.25

228	2.5	2.5	2.5	2.5

229	2.25	3.25	2	2.5

230	2.5	2.25	2.75	2.5

231	2.25	2.25	2.5	3

232	2.5	1.5	2.25	3.75

233	2	3.25	2.5	2.25

234	2	3.25	2.5	2.25

235	2.75	2.75	2.25	2.25

236	2.75	3	2.25	2

237	1	2.5	3.5	3

238	2.25	3	2	2.75

239	1.5	3	2.25	3.25

240	2.5	2.75	2.5	2.25

241	2.5	2	2	3.5

242	1.25	3.25	2.5	3

243	2.5	2.25	2	3.25

244	2	3	2.5	2.5

245	2.25	4	1.5	2.25

246	2.5	4	2	1.5

247	2.5	2.5	2.25	2.75

248	2.75	3	2.25	2

249	2.75	3.25	2	2

250	1.5	4	2	2.5

251	2.5	2.75	2.5	2.25

252	3.5	2	2	2.5

253	2.5	3	2.5	2

254	2.25	2.75	2	3

255	2.5	2.5	2.25	2.75

256	1.75	2.5	2.75	3

257	2.75	1.75	2.75	2.75

258	2.5	3.25	2.5	1.75

259	2.75	3	1.5	2.75

260	2	2.5	2.25	3.25

261	1.25	3.5	2.75	2.5

262	2	2.75	2.5	2.75

263	2.75	2.25	2.25	2.75

264	2.5	2	2.75	2.75

265	2.75	1.75	2.25	3.25

266	2	2.25	2	3.75

267	2.5	1.75	2	3.75

268	3	2.5	2.5	2

269	1.75	1.75	3.25	3.25

270	3.25	2	2	2.75

271	3	2.25	2.5	2.25

272	2.25	3	3	1.75

273	2.5	2.75	1.75	3

274	2.25	2	2.25	3.5

275	1.75	1.75	2.75	3.75

276	2.5	2.5	2.5	2.5

277	2.25	2.25	2.5	3

278	2	2.25	3	2.75

279	1.75	2	3	3.25

280	2	3.25	3	1.75

281	2.75	1.5	2.5	3.25

282	2.25	3	2.5	2.25

283	3	2	2.5	2.5

284	2.25	3.25	1.5	3

285	3.25	2.25	2.25	2.25

286	1.5	3	2.5	3

287	1.75	3	3	2.25

288	2.25	2	2.75	3

289	1.75	3.25	2.75	2.25

290	2.25	2.25	2.5	3

291	2.25	2.75	2	3

292	2.75	3.75	2	1.5

293	3.25	2.25	1.5	3

294	1.25	1.75	3.75	3.25

295	1.25	2.25	2.75	3.75

296	2	3.75	2.5	1.75

297	2.5	3.25	1.75	2.5

298	2	3.75	1.75	2.5

299	1.25	2.5	2.5	3.75

300	1.5	2	3.75	2.75

301	3	2.75	2.5	1.75

302	2.75	2.75	2.75	1.75

303	2	2.25	2.75	3

304	2.5	2.5	3	2

305	1.5	2.5	2.75	3.25

306	2.5	3	2.25	2.25

307	1.75	2.75	2.25	3.25

308	2.75	1.75	2.5	3

309	2.75	2.5	2	2.75

310	2.75	1.5	2.75	3

311	2.5	2.5	2.25	2.75

312	3.25	2	2.75	2

313	2.5	4	2.25	1.25

314	2	3.25	2.5	2.25

315	1.75	2.5	2.5	3.25

316	1.5	3.25	2	3.25

317	2	1.5	2.75	3.75

318	2	1.5	2.75	3.75

319	1.75	2.5	2.75	3

320	2	2.25	3.25	2.5

321	2.25	2	3.25	2.5

322	1.75	2.5	3	2.75

323	2	2.75	3.25	2

324	3.25	1.75	2.75	2.25

325	1.75	2.25	3.5	2.5

326	2.5	2.75	2.25	2.5

327	2.5	2.5	2	3

328	2.25	1.75	2	4

329	2.5	2	3	2.5

330	2	2.5	2.5	3

331	2	2.5	2.5	3

332	2.5	2.5	3	2

333	2	3.75	2	2.25

334	2	3	1.75	3.25

335	2	2.25	3.25	2.5

336	1.75	3.5	2	2.75

337	1.5	3.25	1.75	3.5

338	2	3.5	1.5	3

339	2.75	1.75	2.25	3.25

340	1.25	3.75	2	3

341	2.5	2.5	3.25	1.75

342	2.75	2.5	1.75	3

343	3.5	3.5	1	2

344	2.5	2.5	2.5	2.5

345	1.75	2	3.5	2.75

346	1.75	2	3.5	2.75

347	1.75	3	2	3.25

348	2.5	2	3	2.5

349	2.75	3	2.75	1.5

350	2.5	3.25	1.75	2.5

351	1.75	2.5	2.5	3.25

352	2.5	2.75	2.5	2.25

353	2.25	2	2.25	3.5

354	2.75	3	1.75	2.5

355	2	1.75	2.75	3.5

356	2.5	1.75	2.75	3

357	2	2.5	3	2.5

358	2	1.5	2.75	3.75

359	2.5	2.5	2	3

360	3.25	1.75	2.25	2.75

361	2.75	1.75	2	3.5

362	2.5	2	2.25	3.25

363	1.75	3.25	2	3

364	2.25	2.25	2.5	3

365	2.75	2.75	2.5	2

366	2.25	1.75	2.5	3.5

367	2.25	3.75	1.5	2.5

368	2	1.75	2.5	3.75

369	3	2.25	2.25	2.5

370	3	2.5	2	2.5

371	2	3.75	1.75	2.5

372	1.5	2.5	3.5	2.5

373	3	2	2	3

374	2	2	2.5	3.5

375	2.25	2.5	2	3.25

376	2	3.75	1.75	2.5

377	2	3	2.5	2.5

378	2.5	2.5	2.5	2.5

379	2	1.75	3	3.25

380	1.5	2	3	3.5

381	3	2.25	2.25	2.5

382	3.5	2.25	1.75	2.5

383	2.25	2.25	2.25	3.25

384	1.75	3.5	2	2.75

385	2.25	2	3	2.75


From jojeda at posta.unizar.es  Wed Mar  1 11:36:51 2000
From: jojeda at posta.unizar.es (Jorge Luis Ojeda Cabrera)
Date: Wed, 01 Mar 2000 10:36:51 GMT
Subject: [R] Thanks!!
Message-ID: <20000301.10365100@macdesp8.unizar.es>

Congratulations for the baby !!

	I would like to thank those lots of people who have made such a nice
work and who have been so generous with your efforts.

Jorge Luis Ojeda Cabrera
Dep. M?todosEstad?sticos

Fac. De Ciencias, U. de Zaragoza
Pedro Crbuna,12
50009 Zaragoza
Espa?a






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From akj at its.hk-r.se  Wed Mar  1 12:08:21 2000
From: akj at its.hk-r.se (Ajit K Jena)
Date: Wed, 1 Mar 2000 12:08:21 +0100 (CET)
Subject: [R] Help please..
In-Reply-To: <200003010301.EAA14198@stat.math.ethz.ch>
Message-ID: <Pine.LNX.4.10.10003011143510.840-100000@maruti.itm.hk-r.se>


Hello R-world,

I am facing a peculiar problem and hope someone out there
can comment on it.

In goodness-of-fit tests for evaluation of distributions,
there are three well-known methods:

	1. Chi-square
	2. Anderson-Darling
	3. Kolmogorov-Sminrov

I am trying to use the second test. Many researchers have
reported results using this test. I wrote programs in C and
now in R to do this. I run into serious problems. I am
enclosing the R program and the outputs I get. My comments
are embedded in the program text itself. Can anyone help
me out please ??

I am aware that this test fails in real life cases when
the sample size is large. But many authors have said that
the test succeeds if applied to subsamples. I mean, they
have said that if the test is tried 100 times on
different subsamples of size 1000 (or less), it is likely
to pass in about 80 cases.

In my case, I succeed only in the case where the data is
taken from a book "Simulation Modeling & Analysis" by
Kelton and Law. In all other cases I fail. Even the
subsamples from the book data fail this test.

Am I doing something wrong ? I am very surprised. I attach
the code and the results below.

Regards.

--ajit

--------------------------The R session--------------------

R : Copyright 2000, The R Development Core Team
Version 0.99.0  (February 7, 2000)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type	"?license" or "?licence" for distribution details.

R is a collaborative project with many contributors.
Type	"?contributors" for a list.

Type	"demo()" for some demos, "help()" for on-line help, or
    	"help.start()" for a HTML browser interface to help.
Type	"q()" to quit R.

> 
> ad.expo.test <- function(gen)
+ {
+ 	mean.gen <- mean(gen)
+ 	#z <- 1 - exp(-gen/0.399)
+ 	z <- 1 - exp(-gen/mean.gen)
+ 
+ 	#cat(z, '\n')
+ 	k <- 0
+ 
+ 	len.gen <- length(gen)
+ 	#cat(len.gen, '\n')
+ 	for (i in 1:len.gen)
+ 	{
+ 		#p <- log(z[i])
+ 		#cat(p, '\n')
+ 
+ 		j <- len.gen + 1 - i
+ 		#cat(i, j, '\n')
+ 
+ 		p <- log(z[i]) 
+ 		q <- log(1 - z[j])
+ 
+ 		r <-(2 * i - 1) * (p + q)
+ 		#cat(p+ q, r, '\n')
+ 		k <- k + r
+ 		#p <- p * (2 * i - 1)
+ 		#cat(p, '\n')
+ 	}
+ 
+ 	k <- - (k / len.gen)
+ 	k <- k - len.gen
+ 
+ 	k <- (1 + 0.6/len.gen) * k
+ 
+ 	return(list(lamda=mean.gen, ad=k))
+ 	#cat(k, '\n')
+ }
> 
> # The Exponential data from Law & Kelton "Simulation Modeling & Analysis"
> # second edition, table 6.7, page 367 (with lamda 0.399)
> 
> kelton <- c(rep(0.01, 8), rep(0.02, 2), rep(0.03, 3), rep(0.04, 6),
+ 	rep(0.05, 10),
+ 	rep(0.06, 4), rep(0.07, 10), rep(0.08, 4), rep(0.09, 2), rep(0.1, 9),
+ 	rep(0.11, 5), rep(0.12, 4), rep(0.13, 2), rep(0.14, 4), rep(0.15,6),
+ 	0.17, 0.18, rep(0.19, 3), 0.20, rep(0.21, 5), rep(0.22, 3),
+ 	rep(0.23, 5),
+ 	0.24, rep(0.25, 5), rep(0.26, 5), 0.27, rep(0.28, 2), rep(0.29, 2),
+ 	0.30, rep(0.31, 2), 0.32, rep(0.35, 3), rep(0.36, 3), rep(0.37, 2),
+ 	rep(0.38, 5), 0.39, rep(0.40, 2), rep(0.41, 2), rep(0.43, 3),
+ 	0.44, rep(0.45, 2), 0.46, rep(0.47, 3), 0.48, rep(0.49, 4),
+ 	rep(0.50, 3),
+ 	rep(0.51, 3), rep(0.52, 2), rep(0.53, 3), rep(0.54, 2),
+ 	rep(0.55, 2), 0.56, rep(0.57, 2), 0.60, rep(0.61, 2), rep(0.63, 2),
+ 	0.64, rep(0.65, 3), rep(0.69, 2), 0.70, rep(0.72, 3),
+ 	0.74, 0.75, 0.76, 0.77, 0.79, 0.84, 0.86, 0.87, 
+ 	rep(0.88, 2), 
+ 	0.90, 0.93, 0.93, 0.95, 0.97, 1.03, 1.05, 1.05, 1.06, 1.09, 1.10,
+ 	1.11, 1.12, 1.17, 1.18,
+ 	rep(1.24,2), 1.28, 1.33, 1.38, 1.44, 1.51, 1.72, 1.83, 1.96
+ 	)
> ad.expo.test(kelton)
$lamda
[1] 0.3988128

$ad
[1] 0.5594367

----------- The above result shows that the sample passes 
----------- the ANDERSON-DARLING
----------- criteria (null hypothesis at level 0.10)

> 
> # Now subsample 100 observations out of the kelton data and
> # apply the test again.
> 
> kelton.s <- sample(kelton, 100, replace=T)
> ad.expo.test(kelton.s)
$lamda
[1] 0.3467

$ad
[1] 88.76308

---------- The above result shows that the subsample 
---------- fails the ANDERSON-DARLING criteria (null 
---------- hypothesis at any level)

> 
> # Now generate 200 values artificially and apply the test
> 
> lamda <- 0.4
> 
> rexp(200, 1/lamda) -> gen
> ad.expo.test(gen)
$lamda
[1] 0.3866837

$ad
[1] 193.9315

>

---------- The above result shows that the artificially
---------- generated data fails the ANDERSON-DARLING criteria 
---------- (null hypothesis at any level)

----------------End of R session-----------------------------

--------------------------------------------------------------------------
Ajit K. Jena					  Phone  :  +46-455-385655
						  Fax    :  +46-455-385667
Dept. of Telecom and Signal Processing		  Mobile :  +46-736-547086
University of Karlskrona/Ronneby		  Email  : akj at its.hk-r.se
S-371 79 Karlskrona, Sweden
--------------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Wed Mar  1 14:01:46 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Wed, 1 Mar 2000 13:01:46 +0000 (GMT)
Subject: [R] Help please..
In-Reply-To: <Pine.LNX.4.10.10003011143510.840-100000@maruti.itm.hk-r.se>
Message-ID: <Pine.LNX.4.10.10003011254001.8515-100000@localhost.localdomain>

On Wed, 1 Mar 2000, Ajit K Jena wrote:
> 
> I am facing a peculiar problem and hope someone out there
> can comment on it.
> 
> In goodness-of-fit tests for evaluation of distributions,
> there are three well-known methods:
> 
> 	1. Chi-square
> 	2. Anderson-Darling
> 	3. Kolmogorov-Sminrov
> 
I would suggest you find the likelihood or some modified version of it
(AIC). If the model describes data well, the likelihood is big. Of course
you don't get a p-value, which in my book is a good thing. (Read the
manifesto: AWF Edwards (1972/1992), Likelihood, Johns Hopkins U Press)

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Wed Mar  1 13:38:01 2000
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Wed, 1 Mar 2000 13:38:01 +0100 (MET)
Subject: [R] Help please..
In-Reply-To: <Pine.LNX.4.10.10003011254001.8515-100000@localhost.localdomain> from "Bill Simpson" at Mar 01, 2000 01:01:46 PM
Message-ID: <200003011238.NAA28663@alpha.luc.ac.be>

> 
> On Wed, 1 Mar 2000, Ajit K Jena wrote:
> > 
> > I am facing a peculiar problem and hope someone out there
> > can comment on it.
> > 
> > In goodness-of-fit tests for evaluation of distributions,
> > there are three well-known methods:
> > 
> > 	1. Chi-square
> > 	2. Anderson-Darling
> > 	3. Kolmogorov-Sminrov
> > 
> I would suggest you find the likelihood or some modified version of it
> (AIC). If the model describes data well, the likelihood is big. Of course
> you don't get a p-value, which in my book is a good thing. (Read the
> manifesto: AWF Edwards (1972/1992), Likelihood, Johns Hopkins U Press)

  I certainly would agree with that. That is essentially what all my
libraries do. For example, gnlr and gnlr3 in library gnlm when used
with a null model (no covariates) will allow the comparison of about
25 different distributions.

  You might also like to take a look at Chapter 4 of my Introductory
Statistics (OUP, 1995) which evaluates goodness of fit of a variety of
distributions when the data are in grouped frequency form, and the
accompanying R function, fit.dist in library gnlm (and for more
advance likelihood inference, my Parametric Statistical Inference,
OUP, 1996). Jim

> 
> Bill
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Wed Mar  1 14:04:46 2000
From: andy_liaw at merck.com (Liaw, Andy)
Date: Wed, 01 Mar 2000 08:04:46 -0500
Subject: [R] Rinst.exe question
Message-ID: <51F9C42DA15CD311BD220008C707D8197A0527@usrymx10.merck.com>

I think I know why Rwinst.exe doesn't list all packages on my machine.  It
must have kept a list of known package names internally and check for file
names that match those package names.

For whatever reason, when I down loaded the packages via my Netscape
browser, most (but not all) file names have their first letter capitalized.
Thus "gss.zip" becomes "Gss.zip", for example.  And it's files like these
that are not listed by Rwinst.exe.

Since I downloaded all packages the same way at the same time, I have no
idea why the file names got converted, or why it only happened to some but
not all files.

Somewhat related: Has anyone noticed? Win98/NT has this very annoying
"feature" of ignoring cases users typed for a file name.  In Windows
Explorer, if I ask for a new folder and type "TEMP", it becomes "Temp".
However, if I type "temp", it stays "temp".  I wonder if my problem with
Rwinst.exe is somehow related to this.

Regards,
Andy Liaw
Merck Biometrics Research
Phone: (732) 594-0820
Fax: (732) 594-1565
mailto:andy_liaw at merck.com


> ----------
> From: 	Peter Dalgaard BSA[SMTP:p.dalgaard at biostat.ku.dk]
> Sent: 	Monday, February 28, 2000 10:01 AM
> To: 	Liaw, Andy
> Cc: 	'Peter Dalgaard BSA'; 'r-help'
> Subject: 	Re: [R] Rinst.exe question
> 
> "Liaw, Andy" <andy_liaw at merck.com> writes:
> 
> > Sure the window scrolls, but it does *not* list all packages I have in
> the
> > same directory.  (It's flat out obvious because I downloaded just about
> all
> > the packages in the contrib section, yet it only lists about 4 or 5 of
> > them.)  I've checked this several times.  Same thing on a Win98 machine.
> 
> Doesn't happen here, I just tried with all 50+ of 'em on a W98. They
> all have the proper .zip suffix and downloaded OK? (but how else could
> winzip work with them?) The source directory is correct too?
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Wed Mar  1 14:11:16 2000
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Wed, 1 Mar 2000 08:11:16 -0500
Subject: [R] Re: R-1.0.0 is released
Message-ID: <OF70DC2572.3CF0AEC2-ON85256895.00483D9C@hgsi.com>

For some reason - this email that I sent yesterday did not show up in my
mailbox. If it has in your mbox, please accept my apology in advance.
----- Forwarded by Partha Bagchi/Hgsi on 03/01/00 08:08 AM -----
                                                                                                         
                    Partha Bagchi                                                                        
                                         To:     r-help at stat.math.ethz.ch                                
                    02/29/00 12:46       cc:     owner-r-announce at stat.math.ethz.ch,                     
                    PM                   r-announce at r-project.org                                        
                                         Subject:     Re: R-1.0.0 is released(Document link: Partha      
                                         Bagchi)                                                         
                                                                                                         



Congratulation to everyone involved with this momentous occasion. I would
like to take this opportunity to thank everyone of the R-community as a lot
of what I do would not be possible without R and the R-core team as well
the everyone involved with R (user or otherwise). In fact we use R in a
"production" situation. I would also like to thank everyone for having
personally helped me out even when I had silly questions.
Cheers or bottoms up or whatever your beer cry is.
Partha.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From akj at its.hk-r.se  Wed Mar  1 14:28:36 2000
From: akj at its.hk-r.se (Ajit K Jena)
Date: Wed, 1 Mar 2000 14:28:36 +0100 (CET)
Subject: [R] Re: Help please..
In-Reply-To: <Pine.LNX.4.10.10003011143510.840-100000@maruti.itm.hk-r.se>
Message-ID: <Pine.LNX.4.10.10003011426160.1122-100000@maruti.itm.hk-r.se>


Hello R-world,

I am sorry. It was complete oversight on my part.
I did not sort the sample before computing the
statistic. It was due to seer pressure of time.

Sorry I wasted your time and net bandwidth.

Regards.

--ajit

--------------------------------------------------------------------------
Ajit K. Jena					  Phone  :  +46-455-385655
						  Fax    :  +46-455-385667
Dept. of Telecom and Signal Processing		  Mobile :  +46-736-547086
University of Karlskrona/Ronneby		  Email  : akj at its.hk-r.se
S-371 79 Karlskrona, Sweden
--------------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Wed Mar  1 14:28:23 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Wed, 1 Mar 2000 08:28:23 -0500
Subject: [R] RODBC
References: <00022920422402.00521@deeq.demon.co.uk>
Message-ID: <000a01bf8382$05053e00$0201a8c0@Workgroup>

Bonjour,

Je me joins ? tous pour vous f?licit? pour votre excellent travail. Bravo!

Most sincere congratulations.

I don't have RODBC but I may have something of interest. It's an ActiveX
component (DLL) that I use for data access on any ODBC compliant Database.
The problem I can see is that there is no way AFAIK to use it from a R
script but it can be used from application that are ActiveX aware. May be I
could work with others to find a solution to that?

Regards.

Yves

----- Original Message -----
From: "David Middleton" <dajm at deeq.demon.co.uk>
To: <r-help at stat.math.ethz.ch>
Sent: Tuesday, February 29, 2000 6:35 PM
Subject: [R] RODBC


>
> Firstly can I add my congradulations to the R core team on the release
> of v1.0.0 and my thanks for all their hard work.
>
> To the subject of this message: does anyone have a binary version of
> Michael Lapsley's RODBC package built for win32 that they can
> distribute?  I have a solution where I can use Perl ODBC functions to
> dump data to a text file for reading in to R, but I think the direct ODBC
> call from R would be a cleaner way of working.
>
> Thanks
>
> David Middleton
> dajm at deeq.demon.co.uk
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar  1 14:45:00 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 1 Mar 2000 13:45:00 +0000 (GMT)
Subject: [R] Rinst.exe question
Message-ID: <200003011345.NAA05065@toucan.stats.ox.ac.uk>

> Date: Wed, 01 Mar 2000 08:04:46 -0500
> From: "Liaw, Andy" <andy_liaw at merck.com>
> 
> I think I know why Rwinst.exe doesn't list all packages on my machine.  It
> must have kept a list of known package names internally and check for file
> names that match those package names.

Nope, it looks for *.zip in the directory. It does not look for *.ZIP.

> For whatever reason, when I down loaded the packages via my Netscape
> browser, most (but not all) file names have their first letter capitalized.
> Thus "gss.zip" becomes "Gss.zip", for example.  And it's files like these
> that are not listed by Rwinst.exe.

Yes, that's because they are being saved under their 8.3 MS-DOS name,
so the real name is GSS.ZIP, and Explorer is lying to you.

> Since I downloaded all packages the same way at the same time, I have no
> idea why the file names got converted, or why it only happened to some but
> not all files.

It only happens to those whose lowercased 8.3 name is the same as the
actual name.  That is, the original name is all lower case, less than
8+3 chars.

> Somewhat related: Has anyone noticed? Win98/NT has this very annoying
> "feature" of ignoring cases users typed for a file name.  In Windows
> Explorer, if I ask for a new folder and type "TEMP", it becomes "Temp".
> However, if I type "temp", it stays "temp".  I wonder if my problem with
> Rwinst.exe is somehow related to this.

Well, there are two related problems. Explorer likes to display the
name as Temp, but it is really TEMP.  (That can be turned off, at least
on some versions of Windows. I have it turned off.)  However NT has a
habit of actually re-mapping names, as you saw with netscape.

I can alter rwinst (which really is rwinst, not Rwinst or Rinst)
to look for *.ZIP too, but not before the release of rw1000 tomorrow. 

By the way, the preferred way to install packages is with install.packages(),
which you can use either with a local zip (or even ZIP) file or from
a CRAN repository (well, from tomorrow as the index there is currently
wrong).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Mar  1 14:53:32 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Mar 2000 14:53:32 +0100
Subject: [R] Rinst.exe question
In-Reply-To: "Liaw, Andy"'s message of "Wed, 01 Mar 2000 08:04:46 -0500"
References: <51F9C42DA15CD311BD220008C707D8197A0527@usrymx10.merck.com>
Message-ID: <x2k8jmre3n.fsf@blueberry.kubism.ku.dk>

"Liaw, Andy" <andy_liaw at merck.com> writes:

> I think I know why Rwinst.exe doesn't list all packages on my machine.  It
> must have kept a list of known package names internally and check for file
> names that match those package names.

Nope. It scans the directory.

> For whatever reason, when I down loaded the packages via my Netscape
> browser, most (but not all) file names have their first letter capitalized.
> Thus "gss.zip" becomes "Gss.zip", for example.  And it's files like these
> that are not listed by Rwinst.exe.
> 
> Since I downloaded all packages the same way at the same time, I have no
> idea why the file names got converted, or why it only happened to some but
> not all files.
> 
> Somewhat related: Has anyone noticed? Win98/NT has this very annoying
> "feature" of ignoring cases users typed for a file name. 

You bet! It breaks software all over the place.

> In Windows
> Explorer, if I ask for a new folder and type "TEMP", it becomes "Temp".
> However, if I type "temp", it stays "temp".  I wonder if my problem with
> Rwinst.exe is somehow related to this.

Could be. Hmm. The filter expression is looking for .zip files
(lowercase). As far as I remember WinXX *stores* the mixed case name,
but for most purposes it ignores case, but Explorer et al. downcases
all but the first letter for display. Suppose filtering works
on the mixed case filename and yours is really .ZIP not .zip...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar  1 15:11:58 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 1 Mar 2000 14:11:58 +0000 (GMT)
Subject: [R] RODBC
Message-ID: <200003011411.OAA05203@toucan.stats.ox.ac.uk>


> From: "Yves Gauvreau" <cyg at sympatico.ca>
> Date: Wed, 1 Mar 2000 08:28:23 -0500
> 
> I don't have RODBC but I may have something of interest. It's an ActiveX
> component (DLL) that I use for data access on any ODBC compliant Database.
> The problem I can see is that there is no way AFAIK to use it from a R
> script but it can be used from application that are ActiveX aware. May be I
> could work with others to find a solution to that?
> 
> Regards.
> 
> Yves

I have sent David a compiled but untested version of RODBC for Windows.
I don't have any ODBC sources on my laptop, but if anyone wants to test
it, I will put it at http://www.stats.ox.ac.uk/pub/bdr/RODBC.zip.  (If
it does not work as is, would you try copying the DLL in libs.VC to libs
and trying again?  And in any case, please let me know.)


Now, to use your ActiveX component, I think you will need a `glue' DLL
to link it into R, as R itself is ActiveX deaf.  This is the sort of thing
that is probably very easy for experienced Windows programmers, so
help would be very welcome.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ian at stams.strath.ac.uk  Wed Mar  1 15:55:38 2000
From: ian at stams.strath.ac.uk (Ian Thurlbeck)
Date: Wed, 1 Mar 2000 14:55:38 +0000
Subject: [R] R-1.0.0 install: Error "Substitution loop..."
Message-ID: <00030115384503.21893@ida>


Dear All

First off, let me just add my thanks to all the people involved in the
production of R-1.0.0... Well Done!!

I'm getting an error installing R-1.0.0 on RedHat 5.2, perl 5.004_04.  It
did not occur under Solaris 2.6 with perl 5.004_01.

During install of the base package (and akima, bootstrap, etc) it gets to the
point of building the help pages and it gives this error:  

>>> Building/Updating help pages for package `base'      Formats:
text html latex example   HairEyeColor                              html   
latex   example   Hershey                           text    html    latex  
example   Hyperbolic                        text    html    latex   example
  Hypergeometric                    text    html    latex   example
  IQR                               text    html    latex   example
Substitution loop at /a/euler/export/local/linux/pkg/R-1.0.0/etc/Rdconvlib.pl line 1262, <rdfile> chunk 3268.   

and the install of that package stops, half way through the generation of the
help file for InsectSprays (which comes next after IQR).

Line 1262 of etc/Rdconvlib.pl is:
        $ntext =~ s/^[\n]*//go;

and "man perldiag" says:
  Substitution loop
           (P) The substitution was looping infinitely.
           (Obviously, a substitution shouldn't iterate more
           times than there are characters of input, which is
           what happened.)  See the discussion of substitution in
           the section on Quote and Quote-like Operators in the
           perlop manpage. 

The last few lines of the aborted help/InsectSprays is:
...
Description:

     The counts of insects in agricultural experimental units treated
     with different insecticides.

Usage: 
------ stops here (but of course it shouldn't) ---------

Any suggestions ?  

Thanks

Ian

--  Ian Thurlbeck                http://www.stams.strath.ac.uk/
Statistics and Modelling Science, University of Strathclyde
Livingstone Tower, 26 Richmond Street, Glasgow, UK,  G1 1XH
Tel: +44 (0)141 548 3667           Fax: +44 (0)141 552 2079
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Mar  1 16:47:45 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Mar 2000 16:47:45 +0100
Subject: [R] R-1.0.0 install: Error "Substitution loop..."
In-Reply-To: Ian Thurlbeck's message of "Wed, 1 Mar 2000 14:55:38 +0000"
References: <00030115384503.21893@ida>
Message-ID: <x266v6r8ta.fsf@blueberry.kubism.ku.dk>

Ian Thurlbeck <ian at stams.strath.ac.uk> writes:

> Any suggestions ?  

I think we've bumped into that one before and it is a bug in that
particular version of perl, so how about upgrading it?

Perhaps this one would do

ftp://updates.redhat.com/5.2/i386/perl-5.004m7-1.i386.rpm

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ecer at eco.utexas.edu  Wed Mar  1 17:18:26 2000
From: ecer at eco.utexas.edu (Sencer Ecer)
Date: Wed, 1 Mar 2000 10:18:26 -0600 (CST)
Subject: [R] Quadrature
Message-ID: <Pine.GSO.4.03.10003011017330.10159-100000@tobin.eco.utexas.edu>

Hi!

I have two one dimensional integrals. One starts from a (+,-)real number
and goes to positive infinity, the other starts from negative infinity to
a (+,-) real number.

My questions are:

1) Can I use the add on package "inegrate" which seems to be designed for
integrals limited by real numbers?

2) If not, is there any other package that I can use?

Thank you for your time,
Sencer





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mim60 at cict.fr  Wed Mar  1 18:01:21 2000
From: mim60 at cict.fr (LAREDO Laurent)
Date: Wed, 01 Mar 2000 18:01:21 +0100
Subject: [R] Problems with some components of R
Message-ID: <38BD4CE1.3BCE@cict.fr>

Madam, Sir,


     I have downloaded and transfered to my P.C (Window 98)
the version of R which has been split on purpose,that is to 
say the rw0990b1.zip ,rw0990b2.zip ,etc files.
I encountered no problem as far as the installation is concerned.
But when I try to run some function ,for instance loess, it issued 
an error message stating that an underlying Fortran program is not
properly loaded. 

     
     Morever, I had previously downloaded the R.0990a.tgz version, 
split it with the software available on Unix ( I used' split -b 1425000
R-0.99.0a.tgz R'), and passed it to my computer using 'copy/b
Raa+Rab+Rac R.tgz'. If the decompression seemed to have run smoothly, I
could not even start since I was unable to find the Rterm.exe. In fact
there were no bin file inside the rw0990 file.

     
     I am seeking your help as I have no idea of what went wrong in 
these two cases. Thank you.
   
     Your Sincerely.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ecer at eco.utexas.edu  Wed Mar  1 17:06:31 2000
From: ecer at eco.utexas.edu (Sencer Ecer)
Date: Wed, 1 Mar 2000 10:06:31 -0600 (CST)
Subject: [R] integrals
Message-ID: <Pine.GSO.4.03.10003011001140.10159-100000@tobin.eco.utexas.edu>

Hi!

I have two one dimensional integrals. One starts from a (+,-)real number
and goes to positive infinity, the other starts from negative infinity to
a (+,-) real number.

My questions are:

1) Can I use the add on package "inegrate" whicih seems to be designed for
integrals limited by real numbers?

2) If not, is there any other package that I can use?

Thank you for your time,





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bhoel at server.python.net  Wed Mar  1 16:00:54 2000
From: bhoel at server.python.net (Berthold=?iso-8859-1?q?_H=F6llmann?=)
Date: 01 Mar 2000 16:00:54 +0100
Subject: [R] Re: R-1.0.0 is released
In-Reply-To: Peter Dalgaard BSA's message of "29 Feb 2000 10:51:27 +0100"
References: <x23dqc5obk.fsf@blueberry.kubism.ku.dk>
Message-ID: <m2zosienvd.fsf@pchoel.privat.uni-hamburg.de>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> I've rolled up R-1.0.0.tgz a short while ago. 
> 
I've build R-1.0.0 on my

>uname -a
Linux pchoel 2.2.14 #3 Mit Jan 5 08:57:39 MET 2000 i686 unknown

box. Calling "make check" fails with 

...
make[4]: Entering directory `/opt/src/devel/R-1.0.0/tests/Examples'
updating base-Ex.R ...
make[5]: Entering directory `/opt/src/devel/R-1.0.0/src/library'
 >>> Building/Updating help pages for package `base'
     Formats: text example 
make[5]: Leaving directory `/opt/src/devel/R-1.0.0/src/library'
running code in base-Ex.R ...
../../bin/R --vanilla < base-Ex.R > base-Ex.Rout
make[4]: *** [base-Ex.Rout] Error 1
...

and 

>tail tests/Examples/base-Ex.Rout
> 
> cut(rep(1,5),4)#-- dummy
[1] (0.9995,1] (0.9995,1] (0.9995,1] (0.9995,1] (0.9995,1]
Levels:  (0.999,0.9995] (0.9995,1] (1,1.0005] (1.0005,1.001] 
> tx0 <- c(9, 4, 6, 5, 3, 10, 5, 3, 5)
> x <- rep(0:8, tx0)
> tx <- table(x)
> all(tx == tx0)
Error in all(tx == tx0) : dim<- length of dims do not match the length of object
Execution halted

Don't shure what I should think about it. 

my compiler is:

>gcc --version
2.95.2

R is compiled using the

"-fPIC -O3 -fstrict-aliasing -ffast-math -funroll-loops -mpentiumpro -march=pentiumpro -fschedule-insns2"

compiler switches. I used 

./configure --with-g77 --enable-blas_risc --enable-readline --with-x

for configuring.

Cheers

Berthold

-- 
bhoel at starship.python.net / http://starship.python.net/crew/bhoel/
        It is unlawful to use this email address for unsolicited ads
        (USC Title 47 Sec.227). I will assess a US$500 charge for
        reviewing and deleting each unsolicited ad.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Mar  1 18:30:57 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 1 Mar 2000 09:30:57 -0800 (PST)
Subject: [R] Quadrature
In-Reply-To: <Pine.GSO.4.03.10003011017330.10159-100000@tobin.eco.utexas.edu>
Message-ID: <Pine.GSO.4.21.0003010929250.6926-100000@mail.biostat.washington.edu>

On Wed, 1 Mar 2000, Sencer Ecer wrote:

> Hi!
> 
> I have two one dimensional integrals. One starts from a (+,-)real number
> and goes to positive infinity, the other starts from negative infinity to
> a (+,-) real number.
> 
> My questions are:
> 
> 1) Can I use the add on package "inegrate" which seems to be designed for
> integrals limited by real numbers?

Not really. If you know that the contribution to the integral is
negligible outside a certain region then you can trim that region off (eg
some probability densities), but the code is designed for finite boxes


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar  1 18:32:12 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 1 Mar 2000 17:32:12 +0000 (GMT)
Subject: installation problems on Windows (was [R] Problems with some components of R)
Message-ID: <200003011732.RAA05984@toucan.stats.ox.ac.uk>

> Date: Wed, 01 Mar 2000 18:01:21 +0100
> From: LAREDO Laurent <mim60 at cict.fr>
> 
>      I have downloaded and transfered to my P.C (Window 98)
> the version of R which has been split on purpose,that is to 
> say the rw0990b1.zip ,rw0990b2.zip ,etc files.
> I encountered no problem as far as the installation is concerned.
> But when I try to run some function ,for instance loess, it issued 
> an error message stating that an underlying Fortran program is not
> properly loaded. 

Well, I am sure it does not say precisely that!  The only times we have
seen a similar report, removing everything and re-installing worked.
If you do that and still have problems, use bug.report to send a 
a report with the exact error messages, please.

You may want to wait for tomorrow and rw1000 before trying again.

>      Morever, I had previously downloaded the R.0990a.tgz version, 
> split it with the software available on Unix ( I used' split -b 1425000
> R-0.99.0a.tgz R'), and passed it to my computer using 'copy/b
> Raa+Rab+Rac R.tgz'. If the decompression seemed to have run smoothly, I
> could not even start since I was unable to find the Rterm.exe. In fact
> there were no bin file inside the rw0990 file.

Right, that is the source code, and has no rw0990 file at all.  You need
to build that from scratch: the instructions are in src/gnuwin32/INSTALL.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjpocern at ouray.cudenver.edu  Wed Mar  1 18:47:54 2000
From: mjpocern at ouray.cudenver.edu (Matt Pocernich)
Date: Wed, 1 Mar 2000 10:47:54 -0700
Subject: No subject
Message-ID: <001401bf83a6$45e35780$2778c284@dog>

Does anyone know of the existence of functions or a library to generate Shewhart control charts, cummulative sum (CUSUM) charts or combined Shewhart-CUSUM charts?

Thanks
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000301/6730f501/attachment.html

From guido at sirio.stat.unipd.it  Wed Mar  1 18:48:54 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Wed, 1 Mar 2000 18:48:54 +0100
Subject: [R] Problems with some components of R
In-Reply-To: <38BD4CE1.3BCE@cict.fr>; from mim60@cict.fr on Wed, Mar 01, 2000 at 06:01:21PM +0100
References: <38BD4CE1.3BCE@cict.fr>
Message-ID: <20000301184854.A20097@sirio.stat.unipd.it>

On Wed, Mar 01, 2000 at 06:01:21PM +0100, LAREDO Laurent wrote:
> Madam, Sir,
> 
> 
>      I have downloaded and transfered to my P.C (Window 98)
> the version of R which has been split on purpose,that is to 
> say the rw0990b1.zip ,rw0990b2.zip ,etc files.
> I encountered no problem as far as the installation is concerned.
> But when I try to run some function ,for instance loess, it issued 
> an error message stating that an underlying Fortran program is not
> properly loaded. 

  'loess' is located in 'modreg', one of the R standard packages.
  You have to load the package before been able to use it.
  Try,
  > library(modreg)
  > example(loess)


> 
>      
>      Morever, I had previously downloaded the R.0990a.tgz version, 
> split it with the software available on Unix ( I used' split -b 1425000
> R-0.99.0a.tgz R'), and passed it to my computer using 'copy/b
> Raa+Rab+Rac R.tgz'. If the decompression seemed to have run smoothly, I
> could not even start since I was unable to find the Rterm.exe. In fact
> there were no bin file inside the rw0990 file.

  R.0990a.tgz contains the sources (Unix and Windows). Before 
  been able to use it you have to compiled them. Instructions for
  Windows are in R.[Version Number]/src/gnuwin32/INSTALL.

  guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kelley at Phys.Ocean.Dal.CA  Wed Mar  1 19:21:24 2000
From: kelley at Phys.Ocean.Dal.CA (Dan E. Kelley)
Date: Wed, 1 Mar 2000 14:21:24 -0400 (AST)
Subject: [R] tiny bug in R installation (redhat)
Message-ID: <Pine.LNX.4.10.10003011417540.24753-100000@Intrusion.Phys.Ocean.Dal.Ca>

First, let me join the chorus of praise for R.  (Hey, isn't somebody going
to analyse all these praise emails in some statistical way?)

I'm writing to point out an error in the file permissions in the
linux/redhat version.  (I'm using R-base-1.0.0-1.i386.rpm, by the way.)

The permissions in /usr/lib/R/doc/html aren't correct, since
'function.html' and 'packages.html' are both only readible by the owner
(who is the system user, named 'root'), and not by normal users.

Sure, I can fix this on my machine (and have, of course), but I thought it
was worth pointing out so that somebody can tweak either the "spec"
file that was used in generating the linux/redhat package, or
perhaps the Makefile that I presume is being used by other R installers.

Thanks.
 
Dan E. Kelley                   internet:   mailto:Dan.Kelley at Dal.CA
Oceanography Department         phone:                 (902)494-1694
Dalhousie University            fax:                   (902)494-2885
Halifax, NS, CANADA, B3H 4J1    http://www.phys.ocean.dal.ca/~kelley

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Mar  1 20:26:40 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Mar 2000 20:26:40 +0100
Subject: [R] Re: R-1.0.0 is released
In-Reply-To: bhoel@server.python.net's message of "01 Mar 2000 16:00:54 +0100"
References: <x23dqc5obk.fsf@blueberry.kubism.ku.dk> <m2zosienvd.fsf@pchoel.privat.uni-hamburg.de>
Message-ID: <x29002cwzz.fsf@blueberry.kubism.ku.dk>

bhoel at server.python.net (Berthold H?llmann) writes:

> Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:
> 
> > I've rolled up R-1.0.0.tgz a short while ago. 
> > 
> I've build R-1.0.0 on my
> 
> >uname -a
> Linux pchoel 2.2.14 #3 Mit Jan 5 08:57:39 MET 2000 i686 unknown
> 
> box. Calling "make check" fails with 
....
> > all(tx == tx0)
> Error in all(tx == tx0) : dim<- length of dims do not match the length of object
> Execution halted
> 
> Don't shure what I should think about it. 
> 
> my compiler is:
> 
> >gcc --version
> 2.95.2
> 
> R is compiled using the
> 
> "-fPIC -O3 -fstrict-aliasing -ffast-math -funroll-loops -mpentiumpro -march=pentiumpro -fschedule-insns2"
> 
> compiler switches. I used 
> 
> ./configure --with-g77 --enable-blas_risc --enable-readline --with-x
> 
> for configuring.

That's a pretty heavy set of optimization options you're using there!

Basically, there are two possibilities:

1) You've triggered a compiler bug
2) You've triggered a bug in R

In either case, you'll have to dig deeper and see if you can catch the
exact spot where things go wrong. You might start R with the debugger,
run the base-Ex.R with it while having a breakpoint set at the error
message you are getting. But before that try running the example that
triggers the bug by itself and see if the bug is still tickled.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Mar  1 20:40:48 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Mar 2000 20:40:48 +0100
Subject: [Rd] Re: [R] Re: R-1.0.0 is released (PR#467)
In-Reply-To: p.dalgaard@biostat.ku.dk's message of "Wed, 1 Mar 2000 20:27:43 +0100 (MET)"
References: <200003011927.UAA01880@pubhealth.ku.dk>
Message-ID: <x266v6cwcf.fsf@blueberry.kubism.ku.dk>

p.dalgaard at biostat.ku.dk writes:

...and notice that it is a very bad idea to mail to both r-help and
r-bugs. Anyone who answers the one on r-help without resetting the
Cc's will generate a new PR# , like I just did!

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From presnell at stat.ufl.edu  Thu Mar  2 01:24:20 2000
From: presnell at stat.ufl.edu (Brett Presnell)
Date: Wed, 1 Mar 2000 19:24:20 -0500 (EST)
Subject: [R] R Package Building Question
Message-ID: <14525.46260.495883.728248@flounder.stat.ufl.edu>


I'll start with my apologies to Martin for sending those last two of
message to the list owner (the last one he forwarded was actually sent
a week or two ago and must have been lost in the ether somehow). This
is basically due to fast copy/paste in emacs without paying much
attention to what I'm doing.  Lack of sleep is my excuse, but I don't
know if that goes very far with the hardworking R developers (does
Brian Ripley ever sleep?).

I would also like to add to the kudos for the R core team (and all the
other contributors as well).  Amazingly good work!  The development of
R changes things in a very significant and positive way for many of us
(and our students too).

Finally, I have a question that about building R Packages.  I've read
through the docs and looked into some of the contributed packages, but
I cannot seem to figure this out.  I've put together a very small
package of datasets and a few simple convenience functions for an
undergraduate class.  There are only 4 or 5 functions in the package
at present, and they are all in one file under the R subdirectory of
the package.  I'm having trouble getting this to work under both
Windows-9x and on the UNIX side because of the following:

1. If this file is named R/sta4504 (with no extension), then when I
build the package (under Solaris), create a zip file and install the
package on a Windows PC, it works fine.  However, under Solaris,
R INSTALL sta4504 hangs and does not complete the installation of the
package.

2. If this file is named R/sta4504.R, then the package installs and
works fine on the Solaris machine, but the same package is not
recognized as even existing by R under Windows.

I notice that most (all?) of the contributed packages leave off the
extension, in spite of the advice to the contrary (at least to my
reading) in Section 1.1.3 of "Writing R Extensions", and they all work
on both platforms.  I don't remember ever seeing this come up on the
list, so what am I missing?

In case it matters, I'm running R 0.99.0 on both platforms (I guess
I'll be upgrading the Solaris side this weekend).  The version of
Win95 is several years old (mid 1996, version 4.00.950a it says).
Solaris is 2.6.

-- 
Brett Presnell
Department of Statistics
University of Florida
(presnell at stat.ufl.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Mar  2 01:43:29 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 1 Mar 2000 16:43:29 -0800 (PST)
Subject: [R] R Package Building Question
In-Reply-To: <14525.46260.495883.728248@flounder.stat.ufl.edu>
Message-ID: <Pine.GSO.4.21.0003011635280.6926-100000@mail.biostat.washington.edu>

On Wed, 1 Mar 2000, Brett Presnell wrote:

> 
> 1. If this file is named R/sta4504 (with no extension), then when I
> build the package (under Solaris), create a zip file and install the
> package on a Windows PC, it works fine.  However, under Solaris,
> R INSTALL sta4504 hangs and does not complete the installation of the
> package.
> 
> 2. If this file is named R/sta4504.R, then the package installs and
> works fine on the Solaris machine, but the same package is not
> recognized as even existing by R under Windows.
> 
> I notice that most (all?) of the contributed packages leave off the
> extension, in spite of the advice to the contrary (at least to my
> reading) in Section 1.1.3 of "Writing R Extensions", and they all work
> on both platforms.  I don't remember ever seeing this come up on the
> list, so what am I missing?

What you're missing is that Unix packages are source code and Windows
packages are compiled. It's less obvious when there isn't any C or Fortran
code.  This is because typical Windows installations lack not only
compilers for C and Fortran but also the tools to process help pages.

In source form the package/R directory contains one or more files with
extensions .R (or .r, .q or various other possibilities), the package/src
directory has C or Fortran source code, package/man has .Rd files.

In compiled form package/R has a single file whose name is the name of the
package, the /src subdirectory is replaced by a /libs subdirectory with a
shared library, the /man subdirectory is replaced by one or more
subdirectories with various compiled help files.

So, sta4504.tgz should be a source package, with extensions, sta4504.zip
should be a compiled package, with no extensions.  There would be other 
differences if you had help pages for the functions.


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hansel at hansel.moorhead.msus.edu  Thu Mar  2 02:47:05 2000
From: hansel at hansel.moorhead.msus.edu (hansel@hansel.moorhead.msus.edu)
Date: Wed, 1 Mar 2000 20:47:05 -0500 (EST)
Subject: [R] R-1.0.0 and Alpha-linux (RH 6.1)
In-Reply-To: <x23dqc5obk.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.10.10003012040160.2273-100000@hansel.moorhead.msus.edu>

The release compiles and installs cleanly, but aborts with the message,
Floating point exception.  Before I start messing with the debugger, has
anyone gotten R to run on an Alpha-linux, Red Hat 6.1?

Thank you.

Mark Hansel
PO Box 41
Moorhead State University
Moorhead, MN 56563
ph: 218-236-2039 fax: 218-236-2593
email: hansel at mnstate.edu
web: http://wwwcj.moorhead.msus.edu


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krastev at fas.harvard.edu  Thu Mar  2 05:53:16 2000
From: krastev at fas.harvard.edu (Krassimir Krastev)
Date: Wed, 1 Mar 2000 23:53:16 -0500
Subject: [R] Windows NT make erro this time
Message-ID: <MNBBLKFOOKIIOFHMMMFEKEJNCAAA.krastev@fas.harvard.edu>

(Windows NT)(I think I did all the steps in the Install file right)
and I got an R-1.0.0 make error which noone got yet.
Please help! I looked in the Makefile but I don't see any quoted strings
there.
(I'm not good at make:-/)


>pwd
/WINNT/Profiles/krac/Desktop/R-1.0.0/src/gnuwin32

>make BUILD=MINGW32
mkdir -p ../../bin
make -C ./fixed
make[1]: Entering directory
`C:/WINNT/Profiles/krac/Desktop/R-1.0.0/src/gnuwin32
/fixed'
make[1]: Nothing to be done for `all'.
make[1]: Leaving directory
`C:/WINNT/Profiles/krac/Desktop/R-1.0.0/src/gnuwin32/
fixed'
cp -pr unzip ../..
rm -f ../../unzip/*.h
Syntax error: Unterminated quoted string
make: *** [console.d] Error 2

>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar  2 07:37:50 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 2 Mar 2000 06:37:50 +0000 (GMT)
Subject: [R] Windows NT make erro this time
In-Reply-To: <MNBBLKFOOKIIOFHMMMFEKEJNCAAA.krastev@fas.harvard.edu>
Message-ID: <Pine.GSO.4.05.10003020626400.6702-100000@auk.stats>

On Wed, 1 Mar 2000, Krassimir Krastev wrote:

> (Windows NT)(I think I did all the steps in the Install file right)
> and I got an R-1.0.0 make error which noone got yet.
> Please help! I looked in the Makefile but I don't see any quoted strings
> there.
> (I'm not good at make:-/)

(Then is this a good idea?  Why not wait for the pre-built and tested
binary distribution? In fact they are available at Vienna CRAN now.)

> >pwd
> /WINNT/Profiles/krac/Desktop/R-1.0.0/src/gnuwin32
> 
> >make BUILD=MINGW32
> mkdir -p ../../bin
> make -C ./fixed
> make[1]: Entering directory
> `C:/WINNT/Profiles/krac/Desktop/R-1.0.0/src/gnuwin32
> /fixed'
> make[1]: Nothing to be done for `all'.
> make[1]: Leaving directory
> `C:/WINNT/Profiles/krac/Desktop/R-1.0.0/src/gnuwin32/
> fixed'
> cp -pr unzip ../..
> rm -f ../../unzip/*.h
> Syntax error: Unterminated quoted string
> make: *** [console.d] Error 2
> 

As this works for both the maintainers and when cross-building, I can only
point you at:

  Note 2: we are aware that because of limitations in line length or in
  the shell used that the Makefiles do not work unchanged on all the
  possible combinations of tools, compilers and OSes.  We have tested
  the Cygwin make and shell under NT, and cross-building (see below).

Almost certainly there is something deficient in the tools you have
installed, or which ones are being picked up.  In particular, do you have
the right sh.exe in use? That seems to be running the .c.d rule, and that
does have a quoted string, so do you have the right echo.exe in use?  And
so on ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maurizio.pisati at galactica.it  Thu Mar  2 07:45:59 2000
From: maurizio.pisati at galactica.it (Maurizio Pisati)
Date: Thu, 02 Mar 2000 07:45:59 +0100
Subject: [R] Graphs in Windows 95/95
Message-ID: <3.0.1.32.20000302074559.008a0210@mail.galactica.it>

Dear R-Listers,
I'm a new R user and I've got some problems with copying/saving graphs in
Windows Metafile Format.
If I copy a graph from the R window (in Enhanced Metafile Format) and then
paste it in WinWord 95, then everything is fine, apart from the fact that
a) lines become a little bit thicker when the graph is printed; and b)
dotted lines loose a little bit of resolution.
However, if I copy a graph from the R window (still in Enhanced Metafile
Format) and then paste it in a (vectorial) drawing program for "manual"
restyling, then something always goes wrong (e.g., typically some elements
get lost). Exactly the same happens when I save a graph in Enhanced
Metafile Format and then import the saved graph in Word or in a drawing
program.
Does anyone have experience with this problem? Isn't there any chance to
save graphs in plain Windows Metafile Format (as opposed to Enhanced
Metafile Format), which maybe creates less problems?
Thank you very much for your help and best regards,
Maurizio Pisati






<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
 Maurizio Pisati
 Assistant Professor
 Department of Sociology and Social Research
 University of Trento 
 Via Verdi, 26 
 38100 Trento TN
 Italy
 Tel: +39-461-881315
 Fax: +39-461-881348
 E-mail: maurizio.pisati at galactica.it
<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar  2 08:01:33 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 2 Mar 2000 07:01:33 +0000 (GMT)
Subject: [R] R Package Building Question
In-Reply-To: <Pine.GSO.4.21.0003011635280.6926-100000@mail.biostat.washington.edu>
Message-ID: <Pine.GSO.4.05.10003020655580.6702-100000@auk.stats>

On Wed, 1 Mar 2000, Thomas Lumley wrote:

> On Wed, 1 Mar 2000, Brett Presnell wrote:
> 
> > 
> > 1. If this file is named R/sta4504 (with no extension), then when I
> > build the package (under Solaris), create a zip file and install the
> > package on a Windows PC, it works fine.  However, under Solaris,
> > R INSTALL sta4504 hangs and does not complete the installation of the
> > package.

I don't think you *install*ed on Windows. I think you unpacked it.
(To install it, you use make pkg-sta4504.)

> > 2. If this file is named R/sta4504.R, then the package installs and
> > works fine on the Solaris machine, but the same package is not
> > recognized as even existing by R under Windows.

Did you *install* it under Windows, or did you just plonk it in the
library directory?

> > I notice that most (all?) of the contributed packages leave off the
> > extension, in spite of the advice to the contrary (at least to my
> > reading) in Section 1.1.3 of "Writing R Extensions", and they all work
> > on both platforms.  I don't remember ever seeing this come up on the
> > list, so what am I missing?
> 
> What you're missing is that Unix packages are source code and Windows
> packages are compiled. It's less obvious when there isn't any C or Fortran
> code.  This is because typical Windows installations lack not only
> compilers for C and Fortran but also the tools to process help pages.
> 
> In source form the package/R directory contains one or more files with
> extensions .R (or .r, .q or various other possibilities), the package/src
> directory has C or Fortran source code, package/man has .Rd files.
> 
> In compiled form package/R has a single file whose name is the name of the
> package, the /src subdirectory is replaced by a /libs subdirectory with a
> shared library, the /man subdirectory is replaced by one or more
> subdirectories with various compiled help files.
> 
> So, sta4504.tgz should be a source package, with extensions, sta4504.zip
> should be a compiled package, with no extensions.  There would be other 
> differences if you had help pages for the functions.

Another way of putting this. What goes in the R_HOME/library directory
on either platform is an installed package. What is distributed in the main
CRAN directory is source packages.  What is in the Windows-NT/contrib
directory is a dump of an installed package, not a source package.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar  2 08:06:39 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 2 Mar 2000 07:06:39 +0000 (GMT)
Subject: [R] Graphs in Windows 95/95
In-Reply-To: <3.0.1.32.20000302074559.008a0210@mail.galactica.it>
Message-ID: <Pine.GSO.4.05.10003020702060.6702-100000@auk.stats>

On Thu, 2 Mar 2000, Maurizio Pisati wrote:

> Dear R-Listers,
> I'm a new R user and I've got some problems with copying/saving graphs in
> Windows Metafile Format.
> If I copy a graph from the R window (in Enhanced Metafile Format) and then
> paste it in WinWord 95, then everything is fine, apart from the fact that
> a) lines become a little bit thicker when the graph is printed; and b)
> dotted lines loose a little bit of resolution.
> However, if I copy a graph from the R window (still in Enhanced Metafile
> Format) and then paste it in a (vectorial) drawing program for "manual"
> restyling, then something always goes wrong (e.g., typically some elements
> get lost). Exactly the same happens when I save a graph in Enhanced
> Metafile Format and then import the saved graph in Word or in a drawing
> program.
> Does anyone have experience with this problem? Isn't there any chance to
> save graphs in plain Windows Metafile Format (as opposed to Enhanced
> Metafile Format), which maybe creates less problems?
> Thank you very much for your help and best regards,
> Maurizio Pisati

Yes, there have been reports here about it, Are you sure the elements 
get lost?  Last time we had this report it transpired that Word was
not displaying them, but if you enlarged a preview or printed the document,
it behaved perfectly correctly.  The problem seems to be that thin lines
(and lines on a plot designed to fill a page will be thin) were being
lost in the anti-aliasing of the screen display.

There is no option to save in non-enhanced Metafile. However, the source
code is available and R is a collaborative project, so why not write one
and contribute it?


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jlindsey at alpha.luc.ac.be  Thu Mar  2 09:11:12 2000
From: jlindsey at alpha.luc.ac.be (Jim Lindsey)
Date: Thu, 2 Mar 2000 09:11:12 +0100 (MET)
Subject: [R] integrals
In-Reply-To: <Pine.GSO.4.03.10003011001140.10159-100000@tobin.eco.utexas.edu> from "Sencer Ecer" at Mar 01, 2000 10:06:31 AM
Message-ID: <200003020811.JAA22517@alpha.luc.ac.be>


> 
> Hi!
> 
> I have two one dimensional integrals. One starts from a (+,-)real number
> and goes to positive infinity, the other starts from negative infinity to
> a (+,-) real number.
> 
> My questions are:
> 
> 1) Can I use the add on package "inegrate" whicih seems to be designed for
> integrals limited by real numbers?
> 
> 2) If not, is there any other package that I can use?

The int function in my rmutil library will handle this.
www.luc.ac.be/~jlindsey/rcode.html
Jim

> 
> Thank you for your time,
> 
> 
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Thu Mar  2 11:01:28 2000
From: plummer at iarc.fr (Martyn Plummer)
Date: Thu, 02 Mar 2000 11:01:28 +0100 (CET)
Subject: [R] tiny bug in R installation (redhat)
In-Reply-To: <Pine.LNX.4.10.10003011417540.24753-100000@Intrusion.Phys.Ocean.Dal.Ca>
Message-ID: <XFMail.000302110128.plummer@iarc.fr>

On 01-Mar-00 Dan E. Kelley wrote:
> First, let me join the chorus of praise for R.  (Hey, isn't somebody going
> to analyse all these praise emails in some statistical way?)
> 
> I'm writing to point out an error in the file permissions in the
> linux/redhat version.  (I'm using R-base-1.0.0-1.i386.rpm, by the way.)
> 
> The permissions in /usr/lib/R/doc/html aren't correct, since
> 'function.html' and 'packages.html' are both only readible by the owner
> (who is the system user, named 'root'), and not by normal users.
> 
> Sure, I can fix this on my machine (and have, of course), but I thought it
> was worth pointing out so that somebody can tweak either the "spec"
> file that was used in generating the linux/redhat package, or
> perhaps the Makefile that I presume is being used by other R installers.

I don't have this problem:

[root at xena i386]# rpm -Uvh R-base-1.0.0-1.i386.rpm
R-base                      ##################################################
updating LibIndex for library  /usr/lib/R/library ...
updating HTML index ...
[root at xena i386]# ls -l /usr/lib/R/doc/html/function.html
-rw-rw-r--   1 root     root       177166 Mar  2 10:52
/usr/lib/R/doc/html/function.html
[root at xena i386]# ls -l /usr/lib/R/doc/html/index.html
-rw-r--r--   1 root     root         1481 Feb 29 12:34
/usr/lib/R/doc/html/index.html
[root at xena i386]# umask -S
u=rwx,g=rwx,o=rx

These files are built by the post-install script.  My only guess is that
you have changed the umask for root so that newly created files are not
readable by other users.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar  2 11:44:48 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 2 Mar 2000 10:44:48 +0000 (GMT)
Subject: [R] Re: R 1.0.0 for Windows
Message-ID: <200003021044.KAA05221@toucan.stats.ox.ac.uk>


> Date: Thu, 2 Mar 2000 11:13:02 +0100
> From: Guido Masarotto <guido at hal.stat.unipd.it>
> To: r-announce at stat.math.ethz.ch
> Subject: R 1.0.0 for Windows
> X-loop: r-announce
> 
> 
> As Brian Ripley said this morning on 'r-help', a binary distribution
> of R 1.0.0 to run on Windows 95, 98, NT4.0 and 2000 on Intel/clone chips
> is available at CRAN (at least in Wien). The URL is

Sorry to pre-announce: that particular poster has been exasperating me
with silly Qs for a few days now.  If he can't find the quoted strings....

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From D.J.Lucy at Bradford.ac.uk  Thu Mar  2 13:50:31 2000
From: D.J.Lucy at Bradford.ac.uk (Dave Lucy)
Date: Thu, 2 Mar 2000 12:50:31 +0000 (GMT)
Subject: [R] Well done on V1 and Win Help
In-Reply-To: <200003021044.KAA05221@toucan.stats.ox.ac.uk>
Message-ID: <Pine.GSO.3.96.1000302122722.11452C-100000@kite.cen.brad.ac.uk>

Dear R team,

Belated congratulations and thanks for V1 of R - it really is quite an
excellent piece of software. Various collegues of mine are beginning to
base their statistical teaching on it as well as regarding it as a sort of
S they can run at home.

I'm trying to write a small library for R and getting to the stage of
thinking about making up a set of pre-compiled binaries for popular O/S's.
I have no problems at the moment with the various documentation for
Unicies, but the win system was experimenting yesterday has an additional
directory with a non-ascii (binary?) file which I suspect is a win-help
file. How do I put these files together? 

David.


********************************************************************
Dr. David Lucy
Department of Archaeological Sciences
University of Bradford
Bradford
West Yorkshire
BD7 1DP
UK

tel. +44 01274 233556
fax. +44 01274 235190
********************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kelley at Phys.Ocean.Dal.CA  Thu Mar  2 15:28:00 2000
From: kelley at Phys.Ocean.Dal.CA (Dan E. Kelley)
Date: Thu, 2 Mar 2000 10:28:00 -0400 (AST)
Subject: [R] tiny bug in R installation (redhat)
In-Reply-To: <XFMail.000302110128.plummer@iarc.fr>
Message-ID: <Pine.LNX.4.10.10003021027330.26136-100000@Intrusion.Phys.Ocean.Dal.Ca>

Thanks for the ideas.  If it's okay for other folks, then of course I'm   
happy (since I just changed the permissions myself).  It seems odd to me  
that only two files were affected.  PS: root has umask of 066 on my
system.

There's no need to reply to this; I was just emailing in case it
might help to find a bug in the installation procedure.


On Thu, 2 Mar 2000, Martyn Plummer wrote:

> On 01-Mar-00 Dan E. Kelley wrote:
> > First, let me join the chorus of praise for R.  (Hey, isn't somebody going
> > to analyse all these praise emails in some statistical way?)
> > 
> > I'm writing to point out an error in the file permissions in the
> > linux/redhat version.  (I'm using R-base-1.0.0-1.i386.rpm, by the way.)
> > 
> > The permissions in /usr/lib/R/doc/html aren't correct, since
> > 'function.html' and 'packages.html' are both only readible by the owner
> > (who is the system user, named 'root'), and not by normal users.
> > 
> > Sure, I can fix this on my machine (and have, of course), but I thought it
> > was worth pointing out so that somebody can tweak either the "spec"
> > file that was used in generating the linux/redhat package, or
> > perhaps the Makefile that I presume is being used by other R installers.
> 
> I don't have this problem:
> 
> [root at xena i386]# rpm -Uvh R-base-1.0.0-1.i386.rpm
> R-base                      ##################################################
> updating LibIndex for library  /usr/lib/R/library ...
> updating HTML index ...
> [root at xena i386]# ls -l /usr/lib/R/doc/html/function.html
> -rw-rw-r--   1 root     root       177166 Mar  2 10:52
> /usr/lib/R/doc/html/function.html
> [root at xena i386]# ls -l /usr/lib/R/doc/html/index.html
> -rw-r--r--   1 root     root         1481 Feb 29 12:34
> /usr/lib/R/doc/html/index.html
> [root at xena i386]# umask -S
> u=rwx,g=rwx,o=rx
> 
> These files are built by the post-install script.  My only guess is that
> you have changed the umask for root so that newly created files are not
> readable by other users.
> 
> Martyn
> 

Dan E. Kelley                   internet:   mailto:Dan.Kelley at Dal.CA
Oceanography Department         phone:                 (902)494-1694
Dalhousie University            fax:                   (902)494-2885
Halifax, NS, CANADA, B3H 4J1    http://www.phys.ocean.dal.ca/~kelley

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bond at graylab.ac.uk  Thu Mar  2 17:36:15 2000
From: bond at graylab.ac.uk (Simon  Bond)
Date: Thu, 02 Mar 2000 16:36:15 +0000
Subject: [R] Error handling
Message-ID: <3.0.6.32.20000302163615.007ca620@graylab.ac.uk>

Dear R-Help,


I am trying to run the following:

apply(Data,1, fit-non-linear-curve)

where fit-non-linear-curve() is a bootstrapping procedure that uses the
nls() function. 

Unsuprisingly there are some lines in the Data for which the nls()
procedure fails, probably due to bad starting values.  How do I make R just
give up on that particular line of Data and carry on? I am using R 0.99 on
windows NT.

I would like to echo the praises of the R-development team.

Simon Bond



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Mar  2 17:43:01 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Mar 2000 17:43:01 +0100
Subject: [R] Error handling
In-Reply-To: "Simon  Bond"'s message of "Thu, 02 Mar 2000 16:36:15 +0000"
References: <3.0.6.32.20000302163615.007ca620@graylab.ac.uk>
Message-ID: <x2zoshpbl6.fsf@blueberry.kubism.ku.dk>

"Simon  Bond" <bond at graylab.ac.uk> writes:

> Unsuprisingly there are some lines in the Data for which the nls()
> procedure fails, probably due to bad starting values.  How do I make R just
> give up on that particular line of Data and carry on? I am using R 0.99 on
> windows NT.

Have a look at the try() function in 1.0.0. Or look at restart() which
I think is already in 0.99.0.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Thu Mar  2 18:49:32 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Thu, 2 Mar 2000 18:49:32 +0100
Subject: [R] Well done on V1 and Win Help
In-Reply-To: <Pine.GSO.3.96.1000302122722.11452C-100000@kite.cen.brad.ac.uk>; from D.J.Lucy@Bradford.ac.uk on Thu, Mar 02, 2000 at 12:50:31PM +0000
References: <200003021044.KAA05221@toucan.stats.ox.ac.uk> <Pine.GSO.3.96.1000302122722.11452C-100000@kite.cen.brad.ac.uk>
Message-ID: <20000302184932.A22850@sirio.stat.unipd.it>

On Thu, Mar 02, 2000 at 12:50:31PM +0000, Dave Lucy wrote:
> I'm trying to write a small library for R and getting to the stage of
> thinking about making up a set of pre-compiled binaries for popular O/S's.
> I have no problems at the moment with the various documentation for
> Unicies, but the win system was experimenting yesterday has an additional
> directory with a non-ascii (binary?) file which I suspect is a win-help
> file. How do I put these files together?
>

  You should install the 'rwXXXXsp.zip' part of the distribution and
  then read 'rwXXXX/README.packages'. This file details the tools
  you need (all available on the net, including the ones used for generating
  the win help  and compiled html help) and what must be do to compile and
  install a  package (normally, something simple as 'make pkg-xxx' is all what
  is needed).

  guido

	  {this message needed to be approved manually, because it had
	   triple X.  -- MM}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fredrik.lundgren at norrkoping.mail.telia.com  Thu Mar  2 21:52:30 2000
From: fredrik.lundgren at norrkoping.mail.telia.com (Fredrik Lundgren)
Date: Thu, 2 Mar 2000 21:52:30 +0100
Subject: [R] serch-engine for html.help 
Message-ID: <001701bf8489$3b33cde0$0ec643c3@oemcomputer>

Hello,
When using serch-engine for html.help in rwind1000 the thermometer goes on for eternity and I'm never able to actively use the serch facility. I'm using Windows 98. The same was actually the case for rwind0990 as well. Am I doing something wrong or is this a well known inconvenience?
 
Fredrik Lundgren
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000302/3872a39b/attachment.html

From dajm at deeq.demon.co.uk  Thu Mar  2 23:05:34 2000
From: dajm at deeq.demon.co.uk (David Middleton)
Date: Thu, 2 Mar 2000 19:05:34 -0300
Subject: [R] RODBC followup
Message-ID: <00030219162201.00530@deeq.demon.co.uk>


A short followup to the recent discussion on RODBC.  Brian Ripley was good
enough to send me a win32 binary; as he announced he has also made this
available on his website.

For me (under NT4sp4, R0.90.1) both RODBC.dll binaries worked.  I ran into
two problems in my initial testing:

i) sqlQuery (and related functions) only returned the first row of the result
   dataframe.  This is because my ODBC setup does not report the number
   of rows in the query result (apparently fairly common).  I have adapted
   sqlgetresults to cope with this and sent the changes to Michael Lapsley
   and Brian Ripley.  If anyone needs this fix in the short term let me know.

ii) I could not connect to DSNs defined using the MS SQL Server driver.
   Other ODBC drivers (MS Access, Mapinfo SQL Server) that I tried worked.

Thanks to Michael Lapsley for the package and Brian Ripley for the binary.
Even in the current development stage of RODBC I, for one, will find it
a useful package.

David Middleton
dajm at deeq.demon.co.uk
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Fri Mar  3 03:58:06 2000
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Fri, 3 Mar 2000 13:58:06 +1100 (EST)
Subject: [R] "Data Analysis and Graphics Using R - An Introduction"
Message-ID: <200003030258.NAA14754@leonard.anu.edu.au>

I've now processed this document through Acrobat software.  The
navigation keys in Acrobat Reader should now handle it properly.
The other advantage is a dramatic reduction in size, to half
a megabyte.  The new file is

  http://wwwmaths.anu.edu.au/~johnm/r/r4dat-gr.pdf

Data sets [use source() to access them from an R session] are
in the same directory, i. e.

  http://wwwmaths.anu.edu.au/~johnm/r/

The scripts are in the file:
http://wwwmaths.anu.edu.au/~johnm/r/r4dat-gr.dis

One of the fonts is a bit fuzzy in the screen display.  It prints
alright, though.

John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Thu Mar  2 18:49:32 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Thu, 2 Mar 2000 18:49:32 +0100
Subject: [R] Well done on V1 and Win Help
In-Reply-To: <Pine.GSO.3.96.1000302122722.11452C-100000@kite.cen.brad.ac.uk>; from D.J.Lucy@Bradford.ac.uk on Thu, Mar 02, 2000 at 12:50:31PM +0000
References: <200003021044.KAA05221@toucan.stats.ox.ac.uk> <Pine.GSO.3.96.1000302122722.11452C-100000@kite.cen.brad.ac.uk>
Message-ID: <20000302184932.A22850@sirio.stat.unipd.it>

On Thu, Mar 02, 2000 at 12:50:31PM +0000, Dave Lucy wrote:
> I'm trying to write a small library for R and getting to the stage of
> thinking about making up a set of pre-compiled binaries for popular O/S's.
> I have no problems at the moment with the various documentation for
> Unicies, but the win system was experimenting yesterday has an additional
> directory with a non-ascii (binary?) file which I suspect is a win-help
> file. How do I put these files together?
>

  You should install the 'rwXXXXsp.zip' part of the distribution and
  then read 'rwXXXX/README.packages'. This file details the tools
  you need (all available on the net, including the ones used for generating
  the win help  and compiled html help) and what must be do to compile and
  install a  package (normally, something simple as 'make pkg-xxx' is all what
  is needed).

  guido

	  {this message needed to be approved manually, because it had
	   triple X.  -- MM}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From John.Strumila at corpmail.telstra.com.au  Fri Mar  3 06:33:31 2000
From: John.Strumila at corpmail.telstra.com.au (Strumila, John)
Date: Fri, 3 Mar 2000 16:33:31 +1100 
Subject: [R] tapply, sorting and the heap
Message-ID: <61411576E951D211AF330008C7245DD904336917@ntmsg0005.corpmail.telstra.com.au>

howdy gurus,

I'm new and green and I was hoping for a tiny bit of your expertise.

I'm running out of virtual memory (heap?) when summing using tapply.  I've
already used --vsize=90M on my hpux machine.  (details below)

Can I pre-sort or something to prevent my error?

thanks,
John Strumila
john.strumila at corpmail.telstra.com.au


> gc()["Vcells","total"]
[1] 11796480
> gcinfo(TRUE)
[1] FALSE
> t1<-tapply(trace$elapsed,list(trace$pid,trace$hv,trace$transno),sum)
Garbage collection [nr. 11]...
104285 cons cells free (41%)
90082 Kbytes of heap free (98%)
Garbage collection [nr. 12]...
102205 cons cells free (40%)
90050 Kbytes of heap free (98%)
Garbage collection [nr. 13]...
103347 cons cells free (41%)
90131 Kbytes of heap free (98%)
Garbage collection [nr. 14]...
105301 cons cells free (42%)
90188 Kbytes of heap free (98%)
Error: heap memory (92160 Kb) exhausted [needed 209243 Kb more]
       See "help(Memory)" on how to increase the heap size.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Thu Mar  2 18:49:32 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Thu, 2 Mar 2000 18:49:32 +0100
Subject: [R] Well done on V1 and Win Help
In-Reply-To: <Pine.GSO.3.96.1000302122722.11452C-100000@kite.cen.brad.ac.uk>; from D.J.Lucy@Bradford.ac.uk on Thu, Mar 02, 2000 at 12:50:31PM +0000
References: <200003021044.KAA05221@toucan.stats.ox.ac.uk> <Pine.GSO.3.96.1000302122722.11452C-100000@kite.cen.brad.ac.uk>
Message-ID: <20000302184932.A22850@sirio.stat.unipd.it>

On Thu, Mar 02, 2000 at 12:50:31PM +0000, Dave Lucy wrote:
> I'm trying to write a small library for R and getting to the stage of
> thinking about making up a set of pre-compiled binaries for popular O/S's.
> I have no problems at the moment with the various documentation for
> Unicies, but the win system was experimenting yesterday has an additional
> directory with a non-ascii (binary?) file which I suspect is a win-help
> file. How do I put these files together?
>

  You should install the 'rwXXXXsp.zip' part of the distribution and
  then read 'rwXXXX/README.packages'. This file details the tools
  you need (all available on the net, including the ones used for generating
  the win help  and compiled html help) and what must be do to compile and
  install a  package (normally, something simple as 'make pkg-xxx' is all what
  is needed).

  guido

	  {this message needed to be approved manually, because it had
	   triple X.  -- MM}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Fri Mar  3 12:08:43 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Fri, 03 Mar 2000 12:08:43 +0100
Subject: [R] problem with xaxt="n"
Message-ID: <3.0.32.20000303120843.008f3100@162.38.183.200>

Dear All,

Under WinNT4.0sp5 using the binaries downloaded from CRAN (version 1.0.0),
if I want to do a plot without the tick-marks and numbers on the x-axis,
the following:

> x <- rnorm(10)
> y <- rnorm(10)
> plot(x, y, xaxt="n")

does not give what I expect, i.e. it gives the same than "plot(x, y)".
However, the following works:

> par(xaxt="n")
> plot(x, y)

(i.e. nothing but the "x" label on the x-axis). Note that with version
0.99.0 the first bit of code works fine. I have seen nothing related to a
change in setting xaxt in the annoucement files. I do not have R installed
on another OS down here, so I cannot say if it is OS-related or not.

Best,

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar  3 13:16:06 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 3 Mar 2000 12:16:06 +0000 (GMT)
Subject: [R] problem with xaxt="n"
In-Reply-To: <3.0.32.20000303120843.008f3100@162.38.183.200>
Message-ID: <Pine.GSO.4.05.10003031213520.9247-100000@auk.stats>

On Fri, 3 Mar 2000, Emmanuel Paradis wrote:

> Under WinNT4.0sp5 using the binaries downloaded from CRAN (version 1.0.0),
> if I want to do a plot without the tick-marks and numbers on the x-axis,
> the following:
> 
> > x <- rnorm(10)
> > y <- rnorm(10)
> > plot(x, y, xaxt="n")
> 
> does not give what I expect, i.e. it gives the same than "plot(x, y)".
> However, the following works:
> 
> > par(xaxt="n")
> > plot(x, y)
> 
> (i.e. nothing but the "x" label on the x-axis). Note that with version
> 0.99.0 the first bit of code works fine. I have seen nothing related to a
> change in setting xaxt in the annoucement files. I do not have R installed
> on another OS down here, so I cannot say if it is OS-related or not.

Yes, and it does seem to be Windows-only.  There were some very late
changes in that area, but this is strange and we will take a look.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar  3 14:07:33 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 3 Mar 2000 13:07:33 +0000 (GMT)
Subject: [R] problem with xaxt="n"
In-Reply-To: <Pine.GSO.4.05.10003031213520.9247-100000@auk.stats>
Message-ID: <Pine.GSO.4.05.10003031303230.9398-100000@auk.stats>

On Fri, 3 Mar 2000, Prof Brian D Ripley wrote:

> On Fri, 3 Mar 2000, Emmanuel Paradis wrote:
> 
> > Under WinNT4.0sp5 using the binaries downloaded from CRAN (version 1.0.0),
> > if I want to do a plot without the tick-marks and numbers on the x-axis,
> > the following:
> > 
> > > x <- rnorm(10)
> > > y <- rnorm(10)
> > > plot(x, y, xaxt="n")
> > 
> > does not give what I expect, i.e. it gives the same than "plot(x, y)".
> > However, the following works:
> > 
> > > par(xaxt="n")
> > > plot(x, y)
> > 
> > (i.e. nothing but the "x" label on the x-axis). Note that with version
> > 0.99.0 the first bit of code works fine. I have seen nothing related to a
> > change in setting xaxt in the annoucement files. I do not have R installed
> > on another OS down here, so I cannot say if it is OS-related or not.
> 
> Yes, and it does seem to be Windows-only.  There were some very late
> changes in that area, but this is strange and we will take a look.

Correction: it does appear on Unix too (I got 0.99.0 by mistake).  Yes,
the late changes to in-line parameter handling mean that xaxt="n" is
checked for before the in-line parameters are processed.  We will
fix this for 1.0.1.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From caix at isdux1.bham.ac.uk  Fri Mar  3 16:45:14 2000
From: caix at isdux1.bham.ac.uk (Dr X Cai)
Date: Fri, 3 Mar 2000 15:45:14 GMT
Subject: [R] compiling R-1.0.0 on dec alpha (digital Unix 4.0)
Message-ID: <200003031545.PAA0000004667@isdux1.bham.ac.uk>


I have tried compiling R on a dec alpha running digital unix 4.0 and
got the following:

f77 -shared  -o ts.so PPsum.o burg.o eureka.o filter.o pacf.o starma.o stl.o carray.o mburg.o myw.o qr.o  -lUfor -lfor -lFutil -lm -lots -lm
ld:
Warning: Unresolved:
R_alloc
R_NaReal
R_IsNA
R_IsNaNorNA
R_chk_calloc
R_chk_free
Rf_error
vmaxget
vmaxset
dqrdc2_
dqrcf_
mkdir ../../../../library/ts/libs
gmake[4]: Leaving directory `/home/ming/R-1.0.0/src/library/ts/src'
gmake[3]: Leaving directory `/home/ming/R-1.0.0/src/library/ts'
gmake[3]: Entering directory `/home/ming/R-1.0.0/src/library/profile'
building system startup profile
gmake[3]: Leaving directory `/home/ming/R-1.0.0/src/library/profile'
gmake[2]: Leaving directory `/home/ming/R-1.0.0/src/library'
gmake[1]: Leaving directory `/home/ming/R-1.0.0/src'
gmake[1]: Entering directory `/home/ming/R-1.0.0/demos'
gmake[2]: Entering directory `/home/ming/R-1.0.0/demos/dynload'
gmake zero.so
gmake[3]: Entering directory `/home/ming/R-1.0.0/demos/dynload'
Make: Unknown flag argument w.  Stop.
gmake[3]: *** [zero.so] Error 1
gmake[3]: Leaving directory `/home/ming/R-1.0.0/demos/dynload'
gmake[2]: *** [R] Error 2
gmake[2]: Leaving directory `/home/ming/R-1.0.0/demos/dynload'
gmake[1]: *** [R] Error 2
gmake[1]: Leaving directory `/home/ming/R-1.0.0/demos'
gmake: *** [R] Error 1


Any solution?
-- 

                                     Xiaoming Cai
                                     School of Geography and
                                       Environmental Sciences
      .&______~*@*~______&.          University of Birmingham
    "w/%%%%%%%%%%%%%%%%%%%\w"        Edgbaston, Birmingham
      `Y""Y""Y"""""Y""Y""Y'          B15 2TT United Kingdom
   p-p_|__|__|_____|__|__|_q-q       Tel: 44 (121) 414-5533 (O)
_-[EEEEM==M==MM===MM==M==MEEEE]-_    Fax: 44 (121) 414-5528
                                     Email: x.cai at bham.ac.uk
 which will be directed to the alternative: caix at isdugp.bham.ac.uk
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From caix at isdux1.bham.ac.uk  Fri Mar  3 16:46:50 2000
From: caix at isdux1.bham.ac.uk (Dr X Cai)
Date: Fri, 3 Mar 2000 15:46:50 GMT
Subject: [R] compiling R-1.0.0 on SGI 
Message-ID: <200003031546.PAA0000004772@isdux1.bham.ac.uk>


I have tried compiling R on a SGI 6.0 and got the following:

cc   -o ../../bin/R.X11 apply.o arithmetic.o array.o attrib.o bind.o builtin.o character.o coerce.o colors.o complex.o context.o cov.o cum.o debug.o devPS.o devPicTeX.o deparse.o deriv.o devices.o dotcode.o dstruct.o duplicate.o envir.o errors.o eval.o format.o fourier.o g_her_glyph.o g_fontdb.o g_cntrlify.o g_alab_her.o gram.o gram-ex.o graphics.o iosupport.o list.o logic.o main.o match.o memory.o model.o names.o objects.o optim.o optimize.o options.o par.o paste.o platform.o plot.o plot3d.o plotmath.o print.o printarray.o printvector.o printutils.o random.o RNG.o regex.o relop.o saveload.o scan.o seq.o sort.o source.o split.o subassign.o subscript.o subset.o summary.o unique.o util.o version.o xxxpr.o ../unix/libunix.a ../appl/libappl.a ../nmath/libmath.a -lSM -lICE -lX11  -lblas  -LNO:plower=off -LANG:=f77 -L/usr/lib64/mips4 -L/usr/lib64 -lftn -lm  -ltermcap -lm 
ld64: WARNING 84: /usr/lib64/libSM.so is not used for resolving any symbol.
ld64: WARNING 85: definition of main in ../unix/libunix.a(system.o) preempts that definition in /usr/lib64/mips4/libftn.so.
ld64: WARNING 84: /usr/lib64/libtermcap.so is not used for resolving any symbol.
ld64: ERROR 28: GP-relative sections overflow by 0x8668bytes. Please recompile with a smaller -G value.
See the explanation in the gp_overflow(5) manpage.
ld64: INFO 60: Output file removed because of error.
gmake[3]: *** [../../bin/R.X11] Error 2
gmake[3]: Leaving directory `/usr/people/ming/R-1.0.0/src/main'
gmake[2]: *** [R] Error 2
gmake[2]: Leaving directory `/usr/people/ming/R-1.0.0/src/main'
gmake[1]: *** [R] Error 1
gmake[1]: Leaving directory `/usr/people/ming/R-1.0.0/src'
gmake: *** [R] Error 1

Any solution?
-- 

                                     Xiaoming Cai
                                     School of Geography and
                                       Environmental Sciences
      .&______~*@*~______&.          University of Birmingham
    "w/%%%%%%%%%%%%%%%%%%%\w"        Edgbaston, Birmingham
      `Y""Y""Y"""""Y""Y""Y'          B15 2TT United Kingdom
   p-p_|__|__|_____|__|__|_q-q       Tel: 44 (121) 414-5533 (O)
_-[EEEEM==M==MM===MM==M==MEEEE]-_    Fax: 44 (121) 414-5528
                                     Email: x.cai at bham.ac.uk
 which will be directed to the alternative: caix at isdugp.bham.ac.uk
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Mar  3 16:57:01 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Mar 2000 16:57:01 +0100
Subject: [R] compiling R-1.0.0 on dec alpha (digital Unix 4.0)
In-Reply-To: Dr X Cai's message of "Fri, 3 Mar 2000 15:45:14 GMT"
References: <200003031545.PAA0000004667@isdux1.bham.ac.uk>
Message-ID: <x2g0u8hws2.fsf@blueberry.kubism.ku.dk>

Dr X Cai <caix at isdugp.bham.ac.uk> writes:

> Any solution?

Try rebuilding with 

MAKE=gmake configure

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Mar  3 17:29:52 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 3 Mar 2000 08:29:52 -0800 (PST)
Subject: [R] tapply, sorting and the heap
In-Reply-To: <61411576E951D211AF330008C7245DD904336917@ntmsg0005.corpmail.telstra.com.au>
Message-ID: <Pine.GSO.4.21.0003030829080.20733-100000@mail.biostat.washington.edu>

On Fri, 3 Mar 2000, Strumila, John wrote:

> howdy gurus,
> 
> I'm new and green and I was hoping for a tiny bit of your expertise.
> 
> I'm running out of virtual memory (heap?) when summing using tapply.  I've
> already used --vsize=90M on my hpux machine.  (details below)
> 
> Can I pre-sort or something to prevent my error?

Look at the rowsum() command. I think it will do what you want.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


> 
> thanks,
> John Strumila
> john.strumila at corpmail.telstra.com.au
> 
> 
> > gc()["Vcells","total"]
> [1] 11796480
> > gcinfo(TRUE)
> [1] FALSE
> > t1<-tapply(trace$elapsed,list(trace$pid,trace$hv,trace$transno),sum)
> Garbage collection [nr. 11]...
> 104285 cons cells free (41%)
> 90082 Kbytes of heap free (98%)
> Garbage collection [nr. 12]...
> 102205 cons cells free (40%)
> 90050 Kbytes of heap free (98%)
> Garbage collection [nr. 13]...
> 103347 cons cells free (41%)
> 90131 Kbytes of heap free (98%)
> Garbage collection [nr. 14]...
> 105301 cons cells free (42%)
> 90188 Kbytes of heap free (98%)
> Error: heap memory (92160 Kb) exhausted [needed 209243 Kb more]
>        See "help(Memory)" on how to increase the heap size.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tom at ait-tech.com  Fri Mar  3 20:24:50 2000
From: tom at ait-tech.com (Tomislav Goles)
Date: 03 Mar 2000 14:24:50 -0500
Subject: [R] robust regression packages for R?
Message-ID: <u9aekfkgal.fsf@ait-tech.com>


Hello,
I was wondering if there are any robust regression packages
available for R? I would prefer robust MM regression package
something like what is described in the S-Plus manual (S-Plus
function is lrRobMM and it calls fortran ROBETH package).
But if that is not available perhaps there is something similar?
Best regards and congrats on great work.
Tomislav Goles
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From umehlig at uni-bremen.de  Fri Mar  3 20:44:33 2000
From: umehlig at uni-bremen.de (Ulf Mehlig)
Date: Fri, 3 Mar 2000 20:44:33 +0100 (CET)
Subject: [R] anova question
Message-ID: <14528.5665.710737.278435@localhost.localnet>


I have a probably very naive question about the R anova/aov functions:
I've found in several text books with descriptions of anova procedures
that, in nested anova (specifying the model "X~A/B", B being a factor
specifying treatments, and A groups of samples within each treatment),
the mean square for "among treatments" is divided by the mean square
"within treatment among sample groups"; R seems to divide by the
residual mean square. So, in the following (silly) example I would
have expected a F value of 1.496/0.785=1.905732:

  > test <- data.frame(x=rnorm(12*5), a=rep(1:12,rep(5,12)), b=rep(1:5,rep(12,5)))
  > summary(aov(x ~ factor(a)/factor(b), data=test))
                      Df Sum Sq Mean Sq F value  Pr(>F)  
  factor(a)           11 16.456   1.496  1.8357 0.07647 .
  factor(a):factor(b)  4  3.142   0.785  0.9638 0.43689  
  Residuals           44 35.859   0.815                  

As I am certainly misunderstanding something, I would appreciate a
hint, and maybe a literature recommendation!

Many thanks,
Ulf

P.S.: please CC: me, I'm not on the list at the moment! Thank you!

-- 
======================================================================
Ulf Mehlig    <umehlig at zmt.uni-bremen.de>
              Center for Tropical Marine Ecology/ZMT, Bremen, Germany
----------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Mar  3 23:04:23 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Mar 2000 23:04:23 +0100
Subject: [R] anova question
In-Reply-To: Ulf Mehlig's message of "Fri, 3 Mar 2000 20:44:33 +0100 (CET)"
References: <14528.5665.710737.278435@localhost.localnet>
Message-ID: <x23dq73e3c.fsf@blueberry.kubism.ku.dk>

Ulf Mehlig <umehlig at uni-bremen.de> writes:

> I have a probably very naive question about the R anova/aov functions:
> I've found in several text books with descriptions of anova procedures
> that, in nested anova (specifying the model "X~A/B", B being a factor
> specifying treatments, and A groups of samples within each treatment),
> the mean square for "among treatments" is divided by the mean square
> "within treatment among sample groups"; R seems to divide by the
> residual mean square. So, in the following (silly) example I would
> have expected a F value of 1.496/0.785=1.905732:
> 
>   > test <- data.frame(x=rnorm(12*5), a=rep(1:12,rep(5,12)), b=rep(1:5,rep(12,5)))
>   > summary(aov(x ~ factor(a)/factor(b), data=test))
>                       Df Sum Sq Mean Sq F value  Pr(>F)  
>   factor(a)           11 16.456   1.496  1.8357 0.07647 .
>   factor(a):factor(b)  4  3.142   0.785  0.9638 0.43689  
>   Residuals           44 35.859   0.815                  
> 
> As I am certainly misunderstanding something, I would appreciate a
> hint, and maybe a literature recommendation!
> 
> Many thanks,
> Ulf

Um, 

If B is the treatment you want B/A, I believe?

I don't think the data frame looks like I think you think it looks:

               x  a b
1   0.9421894166  1 1
2  -0.6615090815  1 1
3   0.6659020398  1 1
4   0.6384607529  1 1
5   0.2785534174  1 1
6  -0.5093066357  2 1
7  -0.1765458342  2 1
8  -0.0003846756  2 1
9  -0.5523574783  2 1
10  1.4351543109  2 1
11  0.2338159511  3 1
12  0.2701585951  3 1
13  0.3781168982  3 2

I think you expected this:


> test <- data.frame(x=rnorm(12*5), a=rep(1:12,5), b=rep(1:5,rep(12,5)))
> summary(aov(x ~ factor(b)/factor(a), data=test))
                    Df Sum Sq Mean Sq
factor(b)            4  5.367   1.342
factor(b):factor(a) 55 56.619   1.029

I.e the b:a effect leaves no DF for residuals. So you remove the term
and use that SS for residual.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Fri Mar  3 22:31:12 2000
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Fri, 3 Mar 2000 22:31:12 +0100
Subject: No subject
Message-ID: <008801bf8557$cebb65e0$2c4fa8c0@tring.stofanet.dk>

Dear friends. A very humble admirer of the progress of R with a very simple problem. I have the data shown below

month  day   year  dosis  vanco
12 31 1999 1 3.8
1 3 2000 1 2.4
1 7 2000 1 3.4
1 12 2000 2 7.1
1 14 2000 2 5.3
1 17 2000 2 5.7
1 19 2000 3 7.7
1 21 2000 3 8.3
1 24 2000 4 8.7
1 26 2000 4 11.1
1 31 2000 4 12.3
2 7 2000 4.5 12.0
2 14 2000 4.5 14.9
2 18 2000 4.5 23.0
2 25 2000 3 20.1
2 28 2000 2 11.3

dates <- mdy.date(month,day,year)
persp(dosis,dates,vanco)
-- trying to produce a three demensional picture of vancomycin versus dose and data.
but: Error in persp(dosis, dates, vanco) : increasing x and y values expected
Dates is increaing, and I couldnot figure out how to make both dosis and dates increase and wonder
how to produce a surface in this situation.

Best regards

Troels Ring, M.D
Department of Nephrology
Aalborg, Denmark
tring at mail1.stofanet.dk

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Mar  4 09:01:59 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 4 Mar 2000 08:01:59 +0000 (GMT)
Subject: [R] robust regression packages for R?
In-Reply-To: <u9aekfkgal.fsf@ait-tech.com>
Message-ID: <Pine.GSO.4.05.10003040756260.6688-100000@auk.stats>

On 3 Mar 2000, Tomislav Goles wrote:

> I was wondering if there are any robust regression packages
> available for R? I would prefer robust MM regression package
> something like what is described in the S-Plus manual (S-Plus
> function is lrRobMM and it calls fortran ROBETH package).

You could try function rlm in package MASS (in the VR bundle). That has an
MM option, and was originally written to work around problems with the
(then) version of lmRobMM in S-PLUS.  It uses lqs in package lqs, and that
is substantailly faster than the ROBETH-based code (as I started with that
route).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marmp at fcu.um.es  Sat Mar  4 13:19:46 2000
From: marmp at fcu.um.es (Marcelo Martinez Palao)
Date: Sat, 04 Mar 2000 12:19:46 +0000
Subject: [R] Nested design with aov
Message-ID: <38C0FF62.9A5E92D1@fcu.um.es>

Hello,

I want to do this model:

Y_ml=Mu+M+L(M)+Error

M is a fixed factor with two levels, 1 and 2
L is a random factor and nested in M, with 9 levels (9 places inside
each level of M)


amarc is the dependent variable (animal abundance)

datos is the matrix

I used the next orders in R, but there is a problem with the Df
calculation:

> m
 [1] 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2
2
2 2 2
[39] 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2
> l
 [1]  1  1  1  2  2  2  3  3  3  4  4  4  5  5  5  6  6  6  7  7  7  8
8
8  9
[26]  9  9 10 10 10 11 11 11 12 12 12 13 13 13 14 14 14 15 15 15 16 16
16
17 17
[51] 17 18 18 18
> amarc
 [1]  4  9  1  2  1  2  9  6 15  8 10  8 10  7  3  2  1  1  2  1  1  1
4
3  2
[26]  0  2  4  0  1  0  0  0  1  1  0  4  4  4  3  0  1  0  1  0  1  0
1
0  0
[51]  3  1  0  1
> summary(aov(amarc~m+l%in%m,datos))
                   Df                    Sum Sq Mean Sq  F value
Pr(>F)
m                1                        130.67  130.67
15.6088    0.0002401 ***
m:l              1                        19.65   19.65
2.3478     0.1316381
Residuals   51                      426.94    8.37
---
Signif. codes:  0  `***'  0.001  `**'  0.01  `*'  0.05  `.'  0.1  ` '  1



I think that the correct calculation of Df is: (Underwood, 1997.
Experiments in Ecology: their logical design and interpretation using
analysis of variance. Cambridge University Press.)

                    Df
m                  1
m:l               16
Residuals     36


Where is the problem?
Why Df are differents?
How can I do this model?


Thaks for all.


Marcelo.


-------------- next part --------------
An embedded message was scrubbed...
From: Jan Krupa <krupa at alpha.sggw.waw.pl>
Subject: [R] archive of the mailing list?
Date: Mon, 8 Nov 1999 16:51:53 +0100 (EET)
Size: 1697
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20000304/c8d0d4c9/attachment.mht

From ripley at stats.ox.ac.uk  Sat Mar  4 13:50:17 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 4 Mar 2000 12:50:17 +0000 (GMT)
Subject: [R] Nested design with aov
Message-ID: <200003041250.MAA04140@toucan.stats.ox.ac.uk>


> Date: Sat, 04 Mar 2000 12:19:46 +0000
> From: Marcelo Martinez Palao <marmp at fcu.um.es>
> 
> 
> I want to do this model:
> 
> Y_ml=Mu+M+L(M)+Error
> 
> M is a fixed factor with two levels, 1 and 2
> L is a random factor and nested in M, with 9 levels (9 places inside
> each level of M)

L and M appear to be sets of numbers, not R factors, and you have not
declared L to be random.

> M <- factor(rep(1:2, rep(27, 2)))
> L <- factor(rep(1:18, rep(3, 18)))
> summary(aov(amarc ~ M + M/L))
            Df  Sum Sq Mean Sq F value    Pr(>F)
M            1 130.667 130.667 35.2800 8.366e-07
M:L         16 313.259  19.579  5.2863 1.682e-05
Residuals   36 133.333   3.704                  

If you really want L to be random, you will need to used a Error term.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Sat Mar  4 16:02:46 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Sat, 04 Mar 2000 16:02:46 +0100
Subject: [R] Re: persp() problem
Message-ID: <3.0.32.20000304160245.008f4420@162.38.183.200>

At 22:31 03/03/00 +0100, Troels Ring wrote:

>Dear friends. A very humble admirer of the progress of R with a very
simple problem. I have the data shown below
>
>month  day   year  dosis  vanco
>12 31 1999 1 3.8
>1 3 2000 1 2.4
>1 7 2000 1 3.4
>1 12 2000 2 7.1
>1 14 2000 2 5.3
>1 17 2000 2 5.7
>1 19 2000 3 7.7
>1 21 2000 3 8.3
>1 24 2000 4 8.7
>1 26 2000 4 11.1
>1 31 2000 4 12.3
>2 7 2000 4.5 12.0
>2 14 2000 4.5 14.9
>2 18 2000 4.5 23.0
>2 25 2000 3 20.1
>2 28 2000 2 11.3
>
>dates <- mdy.date(month,day,year)
>persp(dosis,dates,vanco)
>-- trying to produce a three demensional picture of vancomycin versus dose
and data.
>but: Error in persp(dosis, dates, vanco) : increasing x and y values expected
>Dates is increaing, and I couldnot figure out how to make both dosis and
dates increase and wonder
>how to produce a surface in this situation.

Dear Troels,

Sure it won't work. The help file ?persp says:

    x, y: locations of grid lines at which the values in `z' are
          measured.  These must be in ascending order.  By default,
          equally spaced values from 0 to 1 are used.  If `x' is a
          `list', its components `x$x' and `x$y' are used for `x' and
          `y', respectively.

       z: a matrix containing the values to be plotted (`NA's are
          allowed).  Note that `x' can be used instead of `z' for
          convenience.


So in your case, vanco must be a matrix. If you do the following:


y <- c(1,2,3,4,4.5)  # the 5 levels of dosis
z <- matrix(data=NA, nrow=length(dates), ncol=length(y))
for (i in 1:length(dates))
{
  j <- which(y == dosis[i])  # get the index of y which value is equal to
the dose
  z[i,j] <- vanco[i]
}

then you get:

> z
      [,1] [,2] [,3] [,4] [,5]
 [1,]  3.8   NA   NA   NA   NA
 [2,]  2.4   NA   NA   NA   NA
 [3,]  3.4   NA   NA   NA   NA
 [4,]   NA  7.1   NA   NA   NA
 [5,]   NA  5.3   NA   NA   NA
 [6,]   NA  5.7   NA   NA   NA
 [7,]   NA   NA  7.7   NA   NA
 [8,]   NA   NA  8.3   NA   NA
 [9,]   NA   NA   NA  8.7   NA
[10,]   NA   NA   NA 11.1   NA
[11,]   NA   NA   NA 12.3   NA
[12,]   NA   NA   NA   NA 12.0
[13,]   NA   NA   NA   NA 14.9
[14,]   NA   NA   NA   NA 23.0
[15,]   NA   NA 20.1   NA   NA
[16,]   NA 11.3   NA   NA   NA

though the help says that NA's are allowed, I am not sure that persp() can
deal with such an incomplete matrix. Indeed, I tried:

persp(dates,y,z)

which yielded an empty box. Probably persp() is not the appropriate
function to visualize your data.

Best,

Emmanuel Paradis

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Sat Mar  4 21:40:18 2000
From: s-luppescu at uchicago.edu (Stuart Luppescu)
Date: Sat, 04 Mar 2000 14:40:18 -0600 (CST)
Subject: [R] Need Arith.h
Message-ID: <XFMail.000304144018.s-luppescu@uchicago.edu>

I just installed 1.0 (great job, everyone!) and rebuilt all my packages. I have
found an error in making  VR_6.1-6.tar.gz:

Installing package `MASS' ...
 libs
gcc -I/usr/lib/R/include   -mieee-fp  -fPIC -O2 -m486 -fno-strength-reduce -g
-c MASS.c -o MASS.o
MASS.c:631: Arith.h: No such file or directory
make: *** [MASS.o] Error 1

The file /usr/lib/R/include/Arith.h used to be there (locate says it's there,
but the locate db hasn't been rebuilt yet) but isn't anymore. I suspect it got
left out of the R-base RPM. (I'm running RedHat Linux 6.1 (Intel)). Could
someone send me the file, please? That would be much easier than downloading
the source or a corrected RPM -- all I have is a 28.8 kbps connection here :-{ (

Thanks very much.
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
 (EUC)  -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl/sl.html
       ICQ #21172047  AIM: psycho7070
Don't stop to stomp ants when the elephants are stampeding.
>> Sent on 04-Mar-00 at 14:30:39 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Sat Mar  4 21:44:08 2000
From: s-luppescu at uchicago.edu (Stuart Luppescu)
Date: Sat, 04 Mar 2000 14:44:08 -0600 (CST)
Subject: [R] Never mind -- I don't need Arith.h
Message-ID: <XFMail.000304144408.s-luppescu@uchicago.edu>

Never mind -- I don't need Arith.h anymore. I found it in
/usr/lib/R/include/R_ext and made a link to it in /usr/lib/R/include.
Sorry for the wasted bandwidth.
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
 (EUC)  -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl/sl.html
       ICQ #21172047  AIM: psycho7070
Any circuit design must contain at least one part which is obsolete, two parts
which are unobtainable, and three parts which are still under development.
>> Sent on 04-Mar-00 at 14:42:44 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Mar  5 08:56:43 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 5 Mar 2000 07:56:43 +0000 (GMT)
Subject: [R] Need Arith.h
In-Reply-To: <XFMail.000304144018.s-luppescu@uchicago.edu>
Message-ID: <Pine.GSO.4.05.10003050756110.27846-100000@auk.stats>

On Sat, 4 Mar 2000, Stuart Luppescu wrote:

> I just installed 1.0 (great job, everyone!) and rebuilt all my packages. I have
> found an error in making  VR_6.1-6.tar.gz:

That's not the current version: using VR_6.1-7.tar.gz does not give this
problem. It will be true for a number of other packages too.
  
> Installing package `MASS' ...
>  libs
> gcc -I/usr/lib/R/include   -mieee-fp  -fPIC -O2 -m486
-fno-strength-reduce -g
> -c MASS.c -o MASS.o
> MASS.c:631: Arith.h: No such file or directory
> make: *** [MASS.o] Error 1
> 
> The file /usr/lib/R/include/Arith.h used to be there (locate says it's
there,
> but the locate db hasn't been rebuilt yet) but isn't anymore.

It was there prior to 0.99.0, but not in the last two versions.

> Never mind -- I don't need Arith.h anymore. I found it in
> /usr/lib/R/include/R_ext and made a link to it in /usr/lib/R/include.

No, please don't do that. Put "R_ext/Arith.h" in the source of old
versions of packages if you need to.

  
There is a rationale for the change: `Arith.h' is too common a name
for us to be sure of people getting the right one.
  

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hansel at hansel.moorhead.msus.edu  Mon Mar  6 01:45:43 2000
From: hansel at hansel.moorhead.msus.edu (hansel@hansel.moorhead.msus.edu)
Date: Sun, 5 Mar 2000 19:45:43 -0500 (EST)
Subject: [R] R-1.0.0 and Alpha-linux (RH 6.1)
In-Reply-To: <Pine.LNX.4.10.10003012040160.2273-100000@hansel.moorhead.msus.edu>
Message-ID: <Pine.LNX.4.10.10003051937180.6528-100000@hansel.moorhead.msus.edu>

R-1.0.0 still will not run on Alpha-Linux (RH 6.1).

I have two LX164 machines. One runs RH 6.0, the other RH 6.1. Only
the RH 6.1 gives problems, at least as far as I have tested.

First, R-1.0.0 compiles, installs and runs on an LX164 RH 6.0. All the
checks ran without complaint.

On the LX164 RH 6.1, it compiles and installs. Running it from the command
line or running the checks returns a floating point exception. The check
(make check) output filetests stops with only the floating point
exception.
([ctest-Ex.Rout] reports Error 136) and then
Error 2 as make backs up to the top level.

The error occurs after initialization output and somewhere before a prompt
appears.

On the 6.1 machine, I tried compiling optim.c by hand and relinking (with
make) as suggested, as suggested by one developer. Same crash, same place.

FWIW: This same pattern occurs with the netscape compaq released for alpha
Linux. It runs on RH 6.0 and not on RH 6.1 and crashes with the floating
point exception.

There are no compiler errors for R on either platform.

Compiler is egcs 2.91.66 (from gcc -v) (This is the egcs-1.1.2 release). 

The RH install is pure vanilla at this point. --No upgrades and no
libraries installed that are relevant.

(I have private mail to the effect that one other alpha machines (DS10)
work fine with Rh 6.1.)

Mark Hansel
PO Box 41
Moorhead State University
Moorhead, MN 56563
ph: 218-236-2039 fax: 218-236-2593
email: hansel at mnstate.edu
web: http://wwwcj.moorhead.msus.edu


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcneney at cs.sfu.ca  Mon Mar  6 08:50:20 2000
From: mcneney at cs.sfu.ca (Brad McNeney)
Date: Sun, 5 Mar 2000 23:50:20 -0800 (PST)
Subject: [R] R-1.0.0 and Alpha-linux (RH 6.1)
In-Reply-To: <Pine.LNX.4.10.10003051937180.6528-100000@hansel.moorhead.msus.edu>
Message-ID: <Pine.OSF.4.21.0003052337530.312223-100000@smahlt.math.sfu.ca>

I just resubscribed to r-help after being unsubscribed for a while so
apologies in advance if I missed part of this. 

I was having some trouble compiling R using gcc on alpha osf5 (and am
still having some trouble with the native C compiler), but found a
suggestion from Greg Snow to try compiling with the -mieee-with-inexact
flag instead of the default -ieee_with_inexact. I get a similar result to
yours (floating point exception just before the prompt) when I compile
with the default, but it seems to work fine with -mieee-with-inexact
(passes all tests). Don't know if this is relevant to Alpha Linux, but
might be worth a try if you haven't already.

On Sun, 5 Mar 2000 hansel at hansel.moorhead.msus.edu wrote:

> R-1.0.0 still will not run on Alpha-Linux (RH 6.1).
> 
> I have two LX164 machines. One runs RH 6.0, the other RH 6.1. Only
> the RH 6.1 gives problems, at least as far as I have tested.
> 
> First, R-1.0.0 compiles, installs and runs on an LX164 RH 6.0. All the
> checks ran without complaint.
> 
> On the LX164 RH 6.1, it compiles and installs. Running it from the command
> line or running the checks returns a floating point exception. The check
> (make check) output filetests stops with only the floating point
> exception.
> ([ctest-Ex.Rout] reports Error 136) and then
> Error 2 as make backs up to the top level.
> 
> The error occurs after initialization output and somewhere before a prompt
> appears.
> 
> On the 6.1 machine, I tried compiling optim.c by hand and relinking (with
> make) as suggested, as suggested by one developer. Same crash, same place.
> 
> FWIW: This same pattern occurs with the netscape compaq released for alpha
> Linux. It runs on RH 6.0 and not on RH 6.1 and crashes with the floating
> point exception.
> 
> There are no compiler errors for R on either platform.
> 
> Compiler is egcs 2.91.66 (from gcc -v) (This is the egcs-1.1.2 release). 
> 
> The RH install is pure vanilla at this point. --No upgrades and no
> libraries installed that are relevant.
> 
> (I have private mail to the effect that one other alpha machines (DS10)
> work fine with Rh 6.1.)
> 
> Mark Hansel
> PO Box 41
> Moorhead State University
> Moorhead, MN 56563
> ph: 218-236-2039 fax: 218-236-2593
> email: hansel at mnstate.edu
> web: http://wwwcj.moorhead.msus.edu
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Mar  6 10:37:29 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Mar 2000 10:37:29 +0100
Subject: [R] R-1.0.0 and Alpha-linux (RH 6.1)
In-Reply-To: hansel@hansel.moorhead.msus.edu's message of "Sun, 5 Mar 2000 19:45:43 -0500 (EST)"
References: <Pine.LNX.4.10.10003051937180.6528-100000@hansel.moorhead.msus.edu>
Message-ID: <x2wvng4exy.fsf@blueberry.kubism.ku.dk>

hansel at hansel.moorhead.msus.edu writes:

> R-1.0.0 still will not run on Alpha-Linux (RH 6.1).
> 
> I have two LX164 machines. One runs RH 6.0, the other RH 6.1. Only
> the RH 6.1 gives problems, at least as far as I have tested.
> 
> First, R-1.0.0 compiles, installs and runs on an LX164 RH 6.0. All the
> checks ran without complaint.
> 
> On the LX164 RH 6.1, it compiles and installs. Running it from the command
> line or running the checks returns a floating point exception. The check
> (make check) output filetests stops with only the floating point
> exception.
> ([ctest-Ex.Rout] reports Error 136) and then
> Error 2 as make backs up to the top level.
> 
> The error occurs after initialization output and somewhere before a prompt
> appears.

This is pretty darn odd... The quick-exit syndrome with an FP error
can only occur from misconfiguration of the IEEE options I think, but
why would that be different between 6.0 and 6.1?

2 ideas:

1. what do you get from running tools/config.guess? If it doesn't
   match alpha*linux in configure.in, you'd certainly get in trouble.

2. are we using the proper form of the ieee option? configure.in sets
   -mieee (do you see that in compiles too?), but it may be that it
   wants -mieep-fp, -mieee-with-inexact or whatnot... "gcc --help -v
   2>&1 | grep ieee" works with gcc 2.95, but not with egcs 1.1.2 on
   intel, but you could try.

Well, three ideas: does the 6.0 binary run on the 6.1 machine?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marmp at fcu.um.es  Mon Mar  6 11:59:31 2000
From: marmp at fcu.um.es (Marcelo Martinez Palao)
Date: Mon, 06 Mar 2000 10:59:31 +0000
Subject: [R] Cochran's Test?
Message-ID: <38C38F92.8CA57A9C@fcu.um.es>

Hello,

I'm looking for Cochran's statistic test for heterogeneity of variances.

Is there any library in R for it?, Where is it?.

Thanks for all.

Marcelo.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jonathan.Yuen at evp.slu.se  Mon Mar  6 14:09:51 2000
From: Jonathan.Yuen at evp.slu.se (Jonathan.Yuen@evp.slu.se)
Date: Mon, 6 Mar 2000 14:09:51 +0100 (MET)
Subject: [R] f2c question
Message-ID: <Pine.A41.4.05.10003061352001.24226-100000@kilauea.evp.slu.se>

Hello,

I decided to try to compile R version 1.0.0 on my home-hacked linux
system.  This is not a conventional distribution, but has been upgraded
countless numbers of times (I think it started as a 1.2.13).  It's up to
2.2.13 (kernel version) and I still use gcc 2.7.2.3.  I have managed to
deal with the fortran part of R with f2c.  As it turns out I can compile
the program OK, but when it gets to the libraries, specifically ctest (the
first one that has a piece of fortran in it), the program complains that
it can't find f2c.h. I MAY have moved the header to the wrong place when I
rearranged my libraries for glibc, but it does make it through the normal
compile.  I also found an f2c.h in the include/R_ext subdirectory of the
source tree, in addition to my usual header source location.  I saw that
the one in the source tree has some R-specific comments in it, and I
assume that it is the correct one to use for R.

I know I probably should upgrade my gcc, and I have 2.95 sitting around
somewhere but I also know things won't fit on one of my machines and I
like keeping everything the same.  Is this 'can't find the header' problem
a bug or a feature to drive me to upgrade my compiler?

Seriously, either I have something set incorrectly on my computer, or the
Makefile isn't being generated correctly by configure.  Or something else.

Some words of wisdom would be highly appreciated at this point.... 

Jonathan

Jonathan Yuen, Professor in Plant Pathology     phone: 46 18 672369
Dept. of Ecology and Crop Production Sciences   fax:   46 18 672890
Swedish University of Agricultural Sciences     http://www.tvs.slu.se
Box 7043                                        email replies to
S 750 07 Uppsala, SWEDEN                        Jonathan.Yuen at evp.slu.se 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Mon Mar  6 14:21:51 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 06 Mar 2000 07:21:51 -0600
Subject: [R] R-1.0.0 and Alpha-linux (RH 6.1)
In-Reply-To: Peter Dalgaard BSA's message of "06 Mar 2000 10:37:29 +0100"
References: <Pine.LNX.4.10.10003051937180.6528-100000@hansel.moorhead.msus.edu> <x2wvng4exy.fsf@blueberry.kubism.ku.dk>
Message-ID: <6rk8jgmdxs.fsf@franz.stat.wisc.edu>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> hansel at hansel.moorhead.msus.edu writes:
> 
> > The error occurs after initialization output and somewhere before a prompt
> > appears.
> 
> This is pretty darn odd... The quick-exit syndrome with an FP error
> can only occur from misconfiguration of the IEEE options I think, but
> why would that be different between 6.0 and 6.1?
> 
> 2 ideas:
> 
> 1. what do you get from running tools/config.guess? If it doesn't
>    match alpha*linux in configure.in, you'd certainly get in trouble.
> 
> 2. are we using the proper form of the ieee option? configure.in sets
>    -mieee (do you see that in compiles too?), but it may be that it
>    wants -mieep-fp, -mieee-with-inexact or whatnot... "gcc --help -v
>    2>&1 | grep ieee" works with gcc 2.95, but not with egcs 1.1.2 on
>    intel, but you could try.

According to the documentation, if we would use -ieee_with_no_inexact
for the DEC cc compiler then we should use -mieee with gcc.

`-mieee'
     The Alpha architecture implements floating-point hardware
     optimized for maximum performance.  It is mostly compliant with
     the IEEE floating point standard.  However, for full compliance,
     software assistance is required.  This option generates code fully
     IEEE compliant code *except* that the INEXACT FLAG is not
     maintained (see below).  If this option is turned on, the CPP
     macro `_IEEE_FP' is defined during compilation.  The option is a
     shorthand for: `-D_IEEE_FP -mfp-trap-mode=su -mtrap-precision=i
     -mieee-conformant'.  The resulting code is less efficient but is
     able to correctly support denormalized numbers and exceptional
     IEEE values such as not-a-number and plus/minus infinity.  Other
     Alpha compilers call this option `-ieee_with_no_inexact'.

Using -mieee-with-inexact is slightly stronger.  According to the
documentation it should not result in changes that affect that
quick-exit.

I did successfully compile and test R-1.0.0 on a DEC Alpha running
Digital Unix 4.0d with gcc 2.95.2 and the -mieee flag.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jonathan.Yuen at evp.slu.se  Mon Mar  6 14:16:08 2000
From: Jonathan.Yuen at evp.slu.se (Jonathan.Yuen@evp.slu.se)
Date: Mon, 6 Mar 2000 14:16:08 +0100 (MET)
Subject: [R] f2c again
Message-ID: <Pine.A41.4.05.10003061414110.24226-100000@kilauea.evp.slu.se>

Hello Again,

I just did a make clean and make once more.  I can see that there is
(among all the other -I flags) an -I ../src/include/R_ext flag when I
compile the main part of R, but it seems to have disappeared when I
compile in the libraries....

Jonathan

Jonathan Yuen, Professor in Plant Pathology     phone: 46 18 672369
Dept. of Ecology and Crop Production Sciences   fax:   46 18 672890
Swedish University of Agricultural Sciences     http://www.tvs.slu.se
Box 7043                                        email replies to
S 750 07 Uppsala, SWEDEN                        Jonathan.Yuen at evp.slu.se 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Mar  6 14:40:25 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 6 Mar 2000 13:40:25 +0000 (GMT)
Subject: [R] f2c question
Message-ID: <200003061340.NAA05198@toucan.stats.ox.ac.uk>

> From: Jonathan.Yuen at evp.slu.se
> Date: Mon, 6 Mar 2000 14:09:51 +0100 (MET)
> 
> Hello,
> 
> I decided to try to compile R version 1.0.0 on my home-hacked linux
> system.  This is not a conventional distribution, but has been upgraded
> countless numbers of times (I think it started as a 1.2.13).  It's up to
> 2.2.13 (kernel version) and I still use gcc 2.7.2.3.  I have managed to
> deal with the fortran part of R with f2c.  As it turns out I can compile
> the program OK, but when it gets to the libraries, specifically ctest (the
> first one that has a piece of fortran in it), the program complains that
> it can't find f2c.h. I MAY have moved the header to the wrong place when I
> rearranged my libraries for glibc, but it does make it through the normal
> compile.  I also found an f2c.h in the include/R_ext subdirectory of the
> source tree, in addition to my usual header source location.  I saw that
> the one in the source tree has some R-specific comments in it, and I
> assume that it is the correct one to use for R.

The search paths are different for the main compile and for packages.
The idea is that f2c.h is _not_ the correct one in general: it is an R
legacy. So the standard search is not finding f2c.h, and the solution
is to fix that.

I think problems with different f2c.h only arise on machines for which
long != int, but no guarantees.  The one in f2c.h will suffice for simple
uses.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jonathan.Yuen at evp.slu.se  Mon Mar  6 16:09:19 2000
From: Jonathan.Yuen at evp.slu.se (Jonathan.Yuen@evp.slu.se)
Date: Mon, 6 Mar 2000 16:09:19 +0100 (MET)
Subject: [R] f2c question
In-Reply-To: <200003061340.NAA05198@toucan.stats.ox.ac.uk>
Message-ID: <Pine.A41.4.05.10003061605420.24170-100000@kilauea.evp.slu.se>

Hello All,

Many thanks for the latest version of R, and Prof. Brian Ripley for
helping to get it to compile.  It appears I had moved f2c.h when I
installed glibc.  Moving it back cured the problem.

An extra word of thanks should be given to the R team for developing this
marvelous piece of software.

Jonathan

Jonathan Yuen, Professor in Plant Pathology     phone: 46 18 672369
Dept. of Ecology and Crop Production Sciences   fax:   46 18 672890
Swedish University of Agricultural Sciences     http://www.tvs.slu.se
Box 7043                                        email replies to
S 750 07 Uppsala, SWEDEN                        Jonathan.Yuen at evp.slu.se 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Mon Mar  6 17:58:57 2000
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 6 Mar 2000 17:58:57 +0100 (CET)
Subject: [R] Contingency tables as data frames
In-Reply-To: <14524.57836.939246.506307@lynne.ethz.ch>
References: <14511.3809.113638.667839@flounder.stat.ufl.edu>
	<14524.57836.939246.506307@lynne.ethz.ch>
Message-ID: <14531.58321.89012.650908@aragorn.ci.tuwien.ac.at>

>>>>> presnell  writes:

> I'm teaching a categorical data analysis course this term, and a minor
> "problem" has resurfaced that I have often thought about before.  This
> applies equally to Splus I suppose, but my undergrads aren't using
> Splus.

> It seems natural to read/represent a contingency table as a data
> frame, with one column representing the cell counts (as in the example
> appended below (data taken from Agresti, "An Introduction to
> Categorical Data Analysis").  However, functions like ftable,
> mantelhaen.test, chisq.test, fisher.test, etc. don't work naturally
> with this representation, and instead require the user to first
> manipulate the data, say by using tapply to convert the data into an
> array.  This is not difficult of course, but it's one of those things
> that I'd rather not have to explain to students, who usually need to
> be focusing on other things.

> So, am I missing something obvious (not unlikely), or would it be a
> good idea to extend the methods/arguments of these functions to
> analyze/manipulate data represented in this way without any
> preprocessing by the user?  It seems that a "count" (or "weight" or
> "freq" or whatever) argument would do it in most cases.

> Funny, I can't help but wonder if the answer from those who have
> thought about this more deeply than I have might be "it's a can of
> worms".

Very good idea.

I think that S-PLUS crosstabs() can do that.

Let me think some more about this ...

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hiebsra at hotmail.com  Tue Mar  7 07:10:18 2000
From: hiebsra at hotmail.com (HoiNam)
Date: Tue, 7 Mar 2000 14:10:18 +0800
Subject: [R] A simple question??
Message-ID: <20000307061034.49209.qmail@hotmail.com>

Dear all,

  I'm currently use R v0.99 on Windows 98 Second Edition. I have a question on some simple calculations. I wonder that I've done something wrong with the calculation.
Here is the imput commands:

> a <- 25.01
> b <- 56.08
> a.trunc <- trunc(a)
> b.trunc <- trunc(b)
> a.tail <- a - a.trunc
> b.tail <- b - b.trunc
> a.trunc
[1] 25
> b.trunc
[1] 56
> a.tail
[1] 0.01
> b.tail
[1] 0.08
> a.tail <- (a - a.trunc) * 100
> b.tail <- (b - b.trunc) * 100
> a.tail
[1] 1
> b.tail
[1] 8
> N <- ( (b.trunc - a.trunc) * 12 ) + (b.tail - a.tail)
> N
[1] 379
> N == 379
[1] FALSE

  According to the above command and output, the value of N is equal to 379, but when I set the condition 'N == 379' R gives "FALSE" as the result. How do I avoid this problem?? I do the same thing in S-plus 4.0 release 3 on Win98 SE and obtained the same result.

  I look forward to hear your reply.

Thank you in advance for your time.

Vincent
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000307/c3016a7c/attachment.html

From venables at acland.qld.cmis.csiro.au  Tue Mar  7 07:35:25 2000
From: venables at acland.qld.cmis.csiro.au (Bill Venables)
Date: Tue, 07 Mar 2000 16:35:25 +1000
Subject: [R] A simple question?? 
In-Reply-To: Your message of "Tue, 07 Mar 2000 14:10:18 +0800."
             <20000307061034.49209.qmail@hotmail.com> 
Message-ID: <200003070635.RAA21713@snowy.nsw.cmis.CSIRO.AU>

Vincent Hoi Nam asks:
> 
> Dear all,
> 
>   I'm currently use R v0.99 on Windows 98 Second Edition. I have a =
> question on some simple calculations. I wonder that I've done something =
> wrong with the calculation.
> Here is the imput commands:
> 
> > a <- 25.01
> > b <- 56.08
> > a.trunc <- trunc(a)
> > b.trunc <- trunc(b)
> > a.tail <- a - a.trunc
> > b.tail <- b - b.trunc
> > a.trunc
> [1] 25
> > b.trunc
> [1] 56
> > a.tail
> [1] 0.01
> > b.tail
> [1] 0.08
> > a.tail <- (a - a.trunc) * 100
> > b.tail <- (b - b.trunc) * 100
> > a.tail
> [1] 1
> > b.tail
> [1] 8
> > N <- ( (b.trunc - a.trunc) * 12 ) + (b.tail - a.tail)
> > N
> [1] 379
> > N == 379
> [1] FALSE
> 
> According to the above command and output, the value of N is equal to 
> 379, but when I set the condition 'N =3D=3D 379' R gives "FALSE" as the 
> result. How do I avoid this problem?? I do the same thing in S-plus 4.0 
> release 3 on Win98 SE and obtained the same result.
> 
> I look forward to hear your reply.

You have mistaken the true value with the one printed.  To see
why this happens try the following extra step

> abs(N - 379)
[1] 3.4106e-13

So while the two are very nearly equal, roundoff error foils (ie
spoils) exact equality.

-- 
Bill Venables,      Statistician,     CMIS Environmetrics Project
CSIRO Marine Labs, PO Box 120, Cleveland, Qld,  AUSTRALIA.   4163
Tel: +61 7 3826 7251           Email: Bill.Venables at cmis.csiro.au    
Fax: +61 7 3826 7304      http://www.cmis.csiro.au/bill.venables/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ECP95GB at sheffield.ac.uk  Tue Mar  7 14:27:55 2000
From: ECP95GB at sheffield.ac.uk (G.Baris)
Date: Tue, 7 Mar 2000 13:27:55 -0000
Subject: [R] manova
Message-ID: <E12SK1v-0005OH-00@mailhub1.shef.ac.uk>


> 
> After running a MANOVA test, I used univariate Fs in 
order to see
>  which IV(s) was contributing the difference.
> However, I have been critised about it, 
> and the reason  I was given is:
> 
>          "MANOVA allows you to explore multiple 
associations but 
> does not excuse you from tracing out the causal 
relationships 
> for each variable.  This does not mean falling back on 
bivariate       
> correlation."
> 
> Do you have any suggestion for me to find out 
mentioned causal 
> relationships?
> 
> g. baris
> dept of economics
> university of sheffield
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jonathan.Yuen at evp.slu.se  Tue Mar  7 14:31:04 2000
From: Jonathan.Yuen at evp.slu.se (Jonathan.Yuen@evp.slu.se)
Date: Tue, 7 Mar 2000 14:31:04 +0100 (MET)
Subject: [R] getwd/setwd function
Message-ID: <Pine.A41.4.05.10003071427400.25404-100000@kilauea.evp.slu.se>

Hello All,

It appears that something is still not right with my linux systems.  I can
compile R (ie make and make install) but make check fails.  It appears
that the getwd and setwd functions don't work -- getwd returns gibberish.  
Thus I can run the graphics demo until it tries to read in the iris data.
 
I'll admit I've done maybe too much to these systems to be able to get R
to compile again, but some hints as to where the problem might be would be
helpful.

Jonathan

Jonathan Yuen, Professor in Plant Pathology     phone: 46 18 672369
Dept. of Ecology and Crop Production Sciences   fax:   46 18 672890
Swedish University of Agricultural Sciences     http://www.tvs.slu.se
Box 7043                                        email replies to
S 750 07 Uppsala, SWEDEN                        Jonathan.Yuen at evp.slu.se 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hothorn at ci.tuwien.ac.at  Tue Mar  7 14:45:54 2000
From: hothorn at ci.tuwien.ac.at (Torsten Hothorn)
Date: Tue, 7 Mar 2000 14:45:54 +0100 (CET)
Subject: [R] manova
In-Reply-To: <E12SK1v-0005OH-00@mailhub1.shef.ac.uk>
Message-ID: <Pine.LNX.4.21.0003071438300.1369-100000@boromir.ci.tuwien.ac.at>


> 
> > 
> > After running a MANOVA test, I used univariate Fs in 
> order to see
> >  which IV(s) was contributing the difference.
> > However, I have been critised about it, 
> > and the reason  I was given is:
> > 
> >          "MANOVA allows you to explore multiple 
> associations but 
> > does not excuse you from tracing out the causal 
> relationships 
> > for each variable.  This does not mean falling back on 
> bivariate       
> > correlation."

Yes, this is right! I had this problem too, and I used the following
article:

\bibitem{4}Kropf, Siegfried (1988). \textsl{Application of Multiple Test
Procedures to the Combination of Multivariate and Univariate Tests with
Varying Variable Sets}, Biometric Journal 30, pp. 461-470

If there are more then 4 variables, you'll run into great computational
troubles, I have some very problem specific code here to solve this for up
to 8 variables, if you are interested, drop me a mail. 

Torsten

> > 
> > Do you have any suggestion for me to find out 
> mentioned causal 
> > relationships?
> > 
> > g. baris
> > dept of economics
> > university of sheffield
> > 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rdiazuri at students.wisc.edu  Tue Mar  7 09:50:01 2000
From: rdiazuri at students.wisc.edu (Ramon Diaz-Uriarte)
Date: Tue, 7 Mar 2000 09:50:01 +0100
Subject: [R] problems of nlme with R?
Message-ID: <00030709581202.00320@ligarto>

Dear All,

I am running into two problems with nlme in R (R versions both 0.90.1 and
1.0.0).

1. If I try to fit a model with crossed random effects, such as: 

>my.model.fit1<-lme(ad~trt,random=list(pdBlocked(list(pdIdent(~Week-1),pdIdent(~Encl-1),pdIdent(~id-1)))),data=exp2.dat)
Error in parse(file, n, text, prompt) : parse error

(I can fit that exact same model in SPlus without problems).


2. the anova.lme function does not seem to work with the "Terms" option;
e.g.
> anova(my.model, Terms=11:14)  
Error in anova.lme(my.model, Terms = 11:14) : Object "noZeroColL" not found

I did not get this error when using SPlus.

Is there an easy fix of these problems, or am I missing something obvious?

Ramon




-- 
Ramon Diaz-Uriarte
Dept. Zoology and Statistics
University of Wisconsin-Madison
Madison, WI 53706

email: rdiazuri at students.wisc.edu
phone: 608-238-8041
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nikom at kku1.kku.ac.th  Tue Mar  7 19:19:07 2000
From: nikom at kku1.kku.ac.th (Nikom Thanomsieng)
Date: Wed, 08 Mar 2000 01:19:07 +0700
Subject: [R] set_seed
Message-ID: <38C54817.18A1E85B@kku1.kku.ac.th>

Dear Sir,
   I would like to set seed in R before this command
>B <- 10
>x <- rnorm(15)
  for (i in 1:B)
 {boot.sample <- print(sample(x,replace=T))
}
...
>
for reason of stable of data output. How I do ?

Best Regards,
Nikom Thanomsieng
Department of Biostatistics & Demography,
Faculty of Public Health,
Khon Kaen University, Thailand.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Mar  7 19:28:49 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 7 Mar 2000 10:28:49 -0800 (PST)
Subject: [R] set_seed
In-Reply-To: <38C54817.18A1E85B@kku1.kku.ac.th>
Message-ID: <Pine.GSO.4.21.0003071028280.27319-100000@mail.biostat.washington.edu>

On Wed, 8 Mar 2000, Nikom Thanomsieng wrote:

> Dear Sir,
>    I would like to set seed in R before this command
> >B <- 10
> >x <- rnorm(15)
>   for (i in 1:B)
>  {boot.sample <- print(sample(x,replace=T))
> }
> ...
> >
> for reason of stable of data output. How I do ?

Use the set.seed function.

	-thomas


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Mar  7 19:38:29 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 7 Mar 2000 18:38:29 +0000 (GMT Standard Time)
Subject: [R] set_seed
In-Reply-To: <38C54817.18A1E85B@kku1.kku.ac.th>
Message-ID: <Pine.WNT.4.05.10003071834550.98-100000@tern.stats>

On Wed, 8 Mar 2000, Nikom Thanomsieng wrote:

> Dear Sir, 
[This is a list: there are a few hundred of us.]

>    I would like to set seed in R before this command
> >B <- 10
> >x <- rnorm(15)
>   for (i in 1:B)
>  {boot.sample <- print(sample(x,replace=T))
> }
> ...
> >
> for reason of stable of data output. How I do ?

If you have R 1.0.0 (or 0.99.0) use the function set.seed, as in
set.seed(54321). If not, we suggest you upgrade (although it can be done by
setting .Random.seed: see ?Random).

I am not sure what you are doing, but as it is often helpful not to
re-invent the wheel you might like to look at package boot.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rab at nauticom.net  Tue Mar  7 23:39:54 2000
From: rab at nauticom.net (Richard A. Bilonick)
Date: Tue, 07 Mar 2000 22:39:54 +0000
Subject: [R] Merging data.frames
References: <38C54817.18A1E85B@kku1.kku.ac.th>
Message-ID: <38C5853A.11290110@nauticom.net>

I need to merge several data.frames into one data.frame. In S-Plus  I would use
"merge" but I don't see a merge command in R. What is the best way to accomplish
this?

Thanks.

Rick Bilonick

--
Statistical Consulting for Business & Industry
mailto:rab at nauticom.net
efax:  508 445 5821
voice: 412 831 4509


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Mar  8 00:06:51 2000
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Tue, 7 Mar 2000 18:06:51 -0500 (EST)
Subject: [R] Merging data.frames
In-Reply-To: <38C5853A.11290110@nauticom.net>
Message-ID: <Pine.LNX.4.10.10003071805340.2663-100000@bolker.zoo.ufl.edu>


  Upgrade to version 1.0.0.  (Aren't you glad it's free?)

from the NEWS file:

    o New functions by() and merge() to split and join data frames.

On Tue, 7 Mar 2000, Richard A. Bilonick wrote:
> I need to merge several data.frames into one data.frame. In S-Plus I would use
> "merge" but I don't see a merge command in R. What is the best way to accomplish
> this?
> 
> Thanks.
> 
> Rick Bilonick
> 
> --
> Statistical Consulting for Business & Industry
> mailto:rab at nauticom.net
> efax:  508 445 5821
> voice: 412 831 4509
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
Ben Bolker                                  bolker at zoo.ufl.edu
Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker
318 Carr Hall/Box 118525                    tel: (352) 392-5697
Gainesville, FL 32611-8525                  fax: (352) 392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mlamias at isr.umich.edu  Wed Mar  8 00:33:00 2000
From: mlamias at isr.umich.edu (Mark Lamias)
Date: Tue, 7 Mar 2000 18:33:00 -0500 
Subject: [R] Merging data.frames
Message-ID: <5D28BEE5CAE8D1119F5700A0C9B4268E02E5D17A@isr.umich.edu>

On Tuesday, March 07, 2000 5:40 PM, Richard Bilonick wrote:


>I need to merge several data.frames into one data.frame. In S-Plus  I would
>use
>"merge" but I don't see a merge command in R. What is the best way to
>accomplish
>this?

The easiest way to to this, I think, is as follows:

if you have several data frames, dataframe1, dataframe2, . . . , dataframen,
you can merger them all into one dataframe by using the data.frame command
again with the individuaal data.frames as arguments:

	data.frame(dataframe1, dataframe2, . . . , dataframen)

here's a quick example:

> a1_c(1, 1, 1)
> a2_c(2, 2, 2)
> b1_c(3, 3, 3)
> b2_c(4, 4, 4)

> adf_data.frame(a1,a2)
> bdf_data.frame(b1,b2)
> adf+bdf
  a1 a2
1  4  6
2  4  6
3  4  6
> data.frame(adf, bdf)
  a1 a2 b1 b2
1  1  2  3  4
2  1  2  3  4
3  1  2  3  4
> data.frame(adf, bdf, adf)
  a1 a2 b1 b2 a1 a2
1  1  2  3  4  1  2
2  1  2  3  4  1  2
3  1  2  3  4  1  2

I hope this helps.

Mark J. Lamias
Department of Statistics
Department of Political Science
Survey Methodology Program/Survey Research Center
Institute for Social Research - University of Michigan
426 Thompson Street, Room 315
Ann Arbor, Michigan 48104-2321
(734) 647-5381
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hansel at hansel.moorhead.msus.edu  Wed Mar  8 00:52:39 2000
From: hansel at hansel.moorhead.msus.edu (hansel@hansel.moorhead.msus.edu)
Date: Tue, 7 Mar 2000 18:52:39 -0500 (EST)
Subject: [R] R-1.0.0 and Alpha-linux (RH 6.1)
Message-ID: <Pine.LNX.4.10.10003071700530.15449-100000@hansel.moorhead.msus.edu>

R-1.0.0 still will not run my Alpha-Linux (RH 6.1) - LX 164 architecture.

Per advice received, I compiled R with the -ieee_with_inexact, with
-mieee-with-inexact, and (a guess based on experience with an older
version 0.64?) without optimizations for either gcc or g77. These were
done one at a time (see below). Results were as previously:

The check (make check) output filetests stops with only the floating point
exception - before the prompt occurs (setup_RmainLoop?).
([ctest-Ex.Rout] reports Error 136) and then
Error 2 as make backs up to the top level.

Compiler is egcs 2.91.66. (egcs-1.1.2). 

I tried to force these flags by editing Makeconf (without running
configure after). This is not sufficient. Several .c and several .f file
were compiled with the default IEEE flag ( -mieee).

./configure --enable-ieee_with_inexact (or --enable-mieee-with-inexact)
both yield default behavior instead of cflags/fflags with the desired
options.

What am I missing.

Mark Hansel
PO Box 41
Moorhead State University
Moorhead, MN 56563
ph: 218-236-2039 fax: 218-236-2593
email: hansel at mnstate.edu
web: http://wwwcj.moorhead.msus.edu






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Wed Mar  8 09:49:24 2000
From: plummer at iarc.fr (Martyn Plummer)
Date: Wed, 08 Mar 2000 09:49:24 +0100 (CET)
Subject: [R] R-1.0.0 and Alpha-linux (RH 6.1)
In-Reply-To: <Pine.LNX.4.10.10003071700530.15449-100000@hansel.moorhead.msus.edu>
Message-ID: <XFMail.000308094924.plummer@iarc.fr>

On 07-Mar-00 hansel at hansel.moorhead.msus.edu wrote:
> R-1.0.0 still will not run my Alpha-Linux (RH 6.1) - LX 164 architecture.

An RPM package of R 1.0.0 for RH6.1/Alpha is available from CRAN. This
has passed "make check", which  is included as part of the build process.
No extra compiler switches or patches are required.  

Why not install the RPM and try "R CMD check ctest"?

> ([ctest-Ex.Rout] reports Error 136) and then

I have another thought: ctest is now available as part of the base
distribution, but previously it was distributed separately.  If you have
separate copy of the ctest library, then you may be picking up the wrong
version (now obsolete) in "make check".   I seem to recall being burned
by this.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lambert at stat.ucl.ac.be  Wed Mar  8 12:53:08 2000
From: lambert at stat.ucl.ac.be (Philippe Lambert)
Date: Wed, 8 Mar 2000 12:53:08 +0100 (MET)
Subject: [R] cumulated multivariate normal
Message-ID: <Pine.GSO.4.21.0003081247350.12848-100000@stat4ux>

does a function giving the distribution function of a normal variate
        Pr(X1<=x1,...,Xn<=xn)
exist in R (or in a R package)?
Thank you for your help.
Philippe

=================================================================
Philippe Lambert, Professeur                          Bureau d109
Universite catholique de Louvain      Tel: 32-10-47.28.01
Institut de statistique               Fax: 32-10-47.30.32 
Voie du Roman Pays, 20              Email: lambert at stat.ucl.ac.be
B-1348 Louvain-la-Neuve (Belgium)   
Web: http://www.stat.ucl.ac.be/ISpersonnel/lambert/
=================================================================


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rab at nauticom.net  Wed Mar  8 15:59:07 2000
From: rab at nauticom.net (Richard A. Bilonick)
Date: Wed, 08 Mar 2000 14:59:07 +0000
Subject: [R] Merging data.frames
References: <5D28BEE5CAE8D1119F5700A0C9B4268E02E5D17A@isr.umich.edu>
Message-ID: <38C66ABB.E602C1A1@nauticom.net>

Mark Lamias wrote:

> On Tuesday, March 07, 2000 5:40 PM, Richard Bilonick wrote:
>
> >I need to merge several data.frames into one data.frame. In S-Plus  I would
> >use
> >"merge" but I don't see a merge command in R. What is the best way to
> >accomplish
> >this?
>
> The easiest way to to this, I think, is as follows:
>
> if you have several data frames, dataframe1, dataframe2, . . . , dataframen,
> you can merger them all into one dataframe by using the data.frame command
> again with the individuaal data.frames as arguments:
>
>         data.frame(dataframe1, dataframe2, . . . , dataframen)
>
> here's a quick example:
>
> > a1_c(1, 1, 1)
> > a2_c(2, 2, 2)
> > b1_c(3, 3, 3)
> > b2_c(4, 4, 4)
>
> > adf_data.frame(a1,a2)
> > bdf_data.frame(b1,b2)
> > adf+bdf
>   a1 a2
> 1  4  6
> 2  4  6
> 3  4  6
> > data.frame(adf, bdf)
>   a1 a2 b1 b2
> 1  1  2  3  4
> 2  1  2  3  4
> 3  1  2  3  4
> > data.frame(adf, bdf, adf)
>   a1 a2 b1 b2 a1 a2
> 1  1  2  3  4  1  2
> 2  1  2  3  4  1  2
> 3  1  2  3  4  1  2
>
> I hope this helps.
>
> Mark J. Lamias
> Department of Statistics
> Department of Political Science
> Survey Methodology Program/Survey Research Center
> Institute for Social Research - University of Michigan
> 426 Thompson Street, Room 315
> Ann Arbor, Michigan 48104-2321
> (734) 647-5381
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

Unfortunately it does not help. I need to concatenate the records vertically, not
horizontally. Each data.frame has the same variables. One data.frame may have 10
records and the other has 20 records. I want a new data.frame with all 30 records.
If these were matrices I would use rbind. Unfortunately rbind does not work nicely
with data.frames.

Rick Bilonick

--
Statistical Consulting for Business & Industry
mailto:rab at nauticom.net
efax:  508 445 5821
voice: 412 831 4509



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rab at nauticom.net  Wed Mar  8 16:13:38 2000
From: rab at nauticom.net (Richard A. Bilonick)
Date: Wed, 08 Mar 2000 15:13:38 +0000
Subject: [R] Merging data.frames
References: <Pine.LNX.4.10.10003071805340.2663-100000@bolker.zoo.ufl.edu>
Message-ID: <38C66E21.8215E88C@nauticom.net>

Ben Bolker wrote:

>   Upgrade to version 1.0.0.  (Aren't you glad it's free?)
>
> from the NEWS file:
>
>     o New functions by() and merge() to split and join data frames.
>
> On Tue, 7 Mar 2000, Richard A. Bilonick wrote:
> > I need to merge several data.frames into one data.frame. In S-Plus I would use
> > "merge" but I don't see a merge command in R. What is the best way to accomplish
> > this?
> >
> > Thanks.
> >
> > Rick Bilonick
> >
> > --
> > Statistical Consulting for Business & Industry
> > mailto:rab at nauticom.net
> > efax:  508 445 5821
> > voice: 412 831 4509
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> >
>
> --
> Ben Bolker                                  bolker at zoo.ufl.edu
> Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker
> 318 Carr Hall/Box 118525                    tel: (352) 392-5697
> Gainesville, FL 32611-8525                  fax: (352) 392-3704

I would gladly upgrade to 1.0.0 if I could find an i386 RPM for it. I've searched
everywhere and can't find one. The closest I've come is R-base-0.99.0.4.i386.rpm.

Rick Bilonick

--
Statistical Consulting for Business & Industry
mailto:rab at nauticom.net
efax:  508 445 5821
voice: 412 831 4509



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Zdenek.Skala at incoma.cz  Wed Mar  8 15:20:58 2000
From: Zdenek.Skala at incoma.cz (Zdenek Skala)
Date: Wed, 8 Mar 2000 15:20:58 +0100
Subject: [R] x-server
Message-ID: <200003081417.PAA10345@benes.incoma.cz>

Dear all,
first, I would like to thank R-core team for making so a great 
software available. Thank you all, really!
Using R (1.0.0) on a Win98 platform, I need an x-server to run 
xgobi (through R xgobi interface). I've been using a MI/X server but 
trying to upgrade I noticed that MI/X is no longer available for free. 
Similarly, eXceed is available at evaluation version (for a limited 
time I suspect). Thus my question: knows anybody on the list of a 
free X server for PC?
Thanks in advace!
Zdenek
++++++++++++++++++++++
] Zdenek Skala
] e-mail:
] Zdenek.Skala at incoma.cz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mac at foodsci.unibo.it  Wed Mar  8 16:34:13 2000
From: mac at foodsci.unibo.it (Mauro Andrea Cremonini)
Date: Wed, 8 Mar 2000 16:34:13 +0100 (MET)
Subject: [R] canonical variates
Message-ID: <Pine.LNX.4.10.10003081629430.5153-100000@carbon.foodsci.unibo.it>

Hi everybody,
this is my first post on this list, and I would like to thank the people
who made R freely available on the net. 

I am looking for R code to perform canonical variates analysis on a matrix
of data. Has anybody already developed such a code? Is it available
somewhere?

Thank you for your help.
Mauro





-------------------------------------------
Mauro Andrea Cremonini, Ph.D.
Food Science and Technology Laboratory
University of Bologna
Via Ravennate 1020 - 47023 - Cesena - Italy
Phone: +39.0547.636106
FAX:   +39.0547.382348
e-mail: mac at foodsci.unibo.it
-------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Mar  8 15:35:22 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Mar 2000 15:35:22 +0100
Subject: [R] Merging data.frames
In-Reply-To: "Richard A. Bilonick"'s message of "Wed, 08 Mar 2000 15:13:38 +0000"
References: <Pine.LNX.4.10.10003071805340.2663-100000@bolker.zoo.ufl.edu> <38C66E21.8215E88C@nauticom.net>
Message-ID: <x24sahwmvp.fsf@blueberry.kubism.ku.dk>

"Richard A. Bilonick" <rab at nauticom.net> writes:

> I would gladly upgrade to 1.0.0 if I could find an i386 RPM for it.
> I've searched everywhere and can't find one. The closest I've come
> is R-base-0.99.0.4.i386.rpm.

*Everywhere?*

http://www.r-project.org/bin/linux/redhat/6.x/i386/R-base-1.0.0-1.i386.rpm

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Mar  8 15:46:04 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Mar 2000 15:46:04 +0100
Subject: [R] x-server
In-Reply-To: "Zdenek Skala"'s message of "Wed, 8 Mar 2000 15:20:58 +0100"
References: <200003081417.PAA10345@benes.incoma.cz>
Message-ID: <x21z5lwmdv.fsf@blueberry.kubism.ku.dk>

"Zdenek Skala" <Zdenek.Skala at incoma.cz> writes:

> Dear all,
> first, I would like to thank R-core team for making so a great 
> software available. Thank you all, really!
> Using R (1.0.0) on a Win98 platform, I need an x-server to run 
> xgobi (through R xgobi interface). I've been using a MI/X server but 
> trying to upgrade I noticed that MI/X is no longer available for free. 
> Similarly, eXceed is available at evaluation version (for a limited 
> time I suspect). Thus my question: knows anybody on the list of a 
> free X server for PC?
> Thanks in advace!

Have a look at

http://sourceware.cygnus.com/cygwin/xfree/

(but be warned that this may be an exercise not for the faint at
heart... Everything in this area is very new.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar  8 16:07:24 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 8 Mar 2000 15:07:24 +0000 (GMT)
Subject: [R] Merging data.frames
Message-ID: <200003081507.PAA14533@toucan.stats.ox.ac.uk>

> Date: Wed, 08 Mar 2000 15:13:38 +0000
> From: "Richard A. Bilonick" <rab at nauticom.net>
> 
> I would gladly upgrade to 1.0.0 if I could find an i386 RPM for it. I've 
searched
> everywhere and can't find one. The closest I've come is 
R-base-0.99.0.4.i386.rpm.
> 

You can of course build it quite easily from scratch.  What would worry
me is that there are differences between Linux installations that are
quite considerable, so `an i386 RPM' is about as much use as `a i386
compiler'.

If you are using Redhat or Suse, look in the obvious places, 
any cran node/bin/linux/redhat/6.x/i386
any cran node/bin/linux/suse/6.3/i386

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar  8 16:21:39 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 8 Mar 2000 15:21:39 +0000 (GMT)
Subject: [R] canonical variates
Message-ID: <200003081521.PAA14563@toucan.stats.ox.ac.uk>

> Date: Wed, 8 Mar 2000 16:34:13 +0100 (MET)
> From: Mauro Andrea Cremonini <mac at foodsci.unibo.it>
> 
> this is my first post on this list, and I would like to thank the people
> who made R freely available on the net. 
> 
> I am looking for R code to perform canonical variates analysis on a matrix
> of data. Has anybody already developed such a code? Is it available
> somewhere?

This is very strange!  Someone purporting to be Mauro Andrea Cremonini 
<mac at foodsci.unibo.it> posted an enquiry on Thu, 24 Feb 2000 16:46:59 +0100 
(MET) about this, and I sent a detailed reply with code.  Please
search the list archives.

I intend to add cancor to R for version 1.1.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mac at foodsci.unibo.it  Wed Mar  8 17:56:28 2000
From: mac at foodsci.unibo.it (Mauro Andrea Cremonini)
Date: Wed, 8 Mar 2000 17:56:28 +0100 (MET)
Subject: [R] canonical variates
In-Reply-To: <200003081521.PAA14563@toucan.stats.ox.ac.uk>
Message-ID: <Pine.LNX.4.10.10003081753150.5310-100000@carbon.foodsci.unibo.it>

On Wed, 8 Mar 2000, Prof Brian Ripley wrote:
> 
> This is very strange!  Someone purporting to be Mauro Andrea Cremonini 
> <mac at foodsci.unibo.it> posted an enquiry on Thu, 24 Feb 2000 16:46:59 +0100 
> (MET) about this, and I sent a detailed reply with code.  Please
> search the list archives.
> 
> I intend to add cancor to R for version 1.1.
> 

Yes it was me, but I had no replies, nor any message from the list reached
me.
However, now it seems to work, and I learn that a detailed reply exist
somewhere in the archives...I'll look for it, thank you, prof. Ripley.

M. A. C. 



-------------------------------------------
Mauro Andrea Cremonini, Ph.D.
Food Science and Technology Laboratory
University of Bologna
Via Ravennate 1020 - 47023 - Cesena - Italy
Phone: +39.0547.636106
FAX:   +39.0547.382348
e-mail: mac at foodsci.unibo.it
-------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar  8 16:51:11 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 8 Mar 2000 15:51:11 +0000 (GMT)
Subject: [R] canonical variates
Message-ID: <200003081551.PAA14675@toucan.stats.ox.ac.uk>

> Date: Wed, 8 Mar 2000 15:21:39 +0000 (GMT)
> From: Prof Brian Ripley <ripley at stats.ox.ac.uk>

> I intend to add cancor to R for version 1.1.

Oops, I meant to say to add this to cancor (in package mva) for 1.1.
Cancor does not currently return the canonical variates per se, only
the correlations.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Wed Mar  8 17:03:19 2000
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Wed, 08 Mar 2000 17:03:19 +0100
Subject: [R] canonical variates
In-Reply-To: <Pine.LNX.4.10.10003081629430.5153-100000@carbon.foodsci.unibo.it>
Message-ID: <B4EC3857.2311%pflugshaupt@geobot.umnw.ethz.ch>


> I am looking for R code to perform canonical variates analysis on a matrix
> of data. Has anybody already developed such a code? Is it available
> somewhere?

Hello Mauro,

there's the function cancor in library mva. Additionally, Brian Ripley
provided his own inplementation lately on this list:

---start quote---
Suppose you have data matrices
A and B on the same observations. Then

cancor <- function(A, B)
{
   Ap <- prcomp(scale(A, T, F), retx=T)
   Apc <- Ap$x %*% diag(1/Ap$sdev)
   Bp <- prcomp(scale(B, T, F), retx=T)
   Bpc <- Bp$x %*% diag(1/Bp$sdev)
   Sigma <- crossprod(Apc, Bpc)/(nrow(A) - 1)
   s <- svd(Sigma, ncol(A), ncol(B))
   return(list(cor=s$d, canvar.x=Apc %*% s$u, canvar.y=Bpc %*% s$v))
}
should do the trick. The canonical variates are zero-mean, unit-variance
---end quote---

Cheers

Kaspar

--

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Wed Mar  8 17:26:03 2000
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Wed, 08 Mar 2000 17:26:03 +0100
Subject: [R] Merging data.frames
In-Reply-To: <38C66ABB.E602C1A1@nauticom.net>
Message-ID: <S.0000036457@geobot.umnw.ethz.ch>

Hello Richard,

I had the a similar problem two weeks ago. In my case, I wanted to re-merge
a dataframe that I had splitted up into a list using split(), then added
variables to each component (the same varnames everywhere). rbind seems to
work only for two dataframes at a time. So, in the end I used

unlist<-function (splitlist)
{
tempframe<-splitlist[[1]]
for (i in 2:length(splitlist))
tempframe<-rbind(tempframe,splitlist[[i]])
tempframe
}

which is not elegant in any way (R-cracks look away), but works. There may
be a very efficient and terse solution for this...

Cheers

Kaspar


> 
> Unfortunately it does not help. I need to concatenate the records vertically,
> not
> horizontally. Each data.frame has the same variables. One data.frame may have
> 10
> records and the other has 20 records. I want a new data.frame with all 30
> records.
> If these were matrices I would use rbind. Unfortunately rbind does not work
> nicely
> with data.frames.
> 


-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Mar  8 17:39:29 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 8 Mar 2000 08:39:29 -0800 (PST)
Subject: [R] Merging data.frames
In-Reply-To: <38C66ABB.E602C1A1@nauticom.net>
Message-ID: <Pine.GSO.4.21.0003080837470.22094-100000@mail.biostat.washington.edu>

On Wed, 8 Mar 2000, Richard A. Bilonick wrote:
> Unfortunately it does not help. I need to concatenate the records vertically, not
> horizontally. Each data.frame has the same variables. One data.frame may have 10
> records and the other has 20 records. I want a new data.frame with all 30 records.
> If these were matrices I would use rbind. Unfortunately rbind does not work nicely
> with data.frames.

What goes wrong with rbind?  It's supposed to work on data.frames
and there's a method rbind.data.frame()

R> d<-data.frame(a=1:10,b=2:11,c=3:12)
R> e<-data.frame(a=101:110,b=102:11,c=103:112)
R> rbind(d,e)
     a   b   c
1    1   2   3
2    2   3   4
3    3   4   5
4    4   5   6
5    5   6   7
6    6   7   8
7    7   8   9
8    8   9  10
9    9  10  11
10  10  11  12
11 101 102 103
12 102 103 104
13 103 104 105
14 104 105 106
15 105 106 107
16 106 107 108
17 107 108 109
18 108 109 110
19 109 110 111
20 110 111 112


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From csprin at brandybuck.ca.sandia.gov  Wed Mar  8 18:02:13 2000
From: csprin at brandybuck.ca.sandia.gov (Clayton Springer)
Date: Wed, 8 Mar 2000 09:02:13 -0800
Subject: [R] Trouble with data dim
Message-ID: <20000308090213.C1459@brandybuck.ca.sandia.gov>

Dear R users,

I am a novice user working through V & R. My first question stems
from p20 of the second edition.:

I perform the following actions:

> mydata <- c(2.9,3.4,3.4,3.7,3.7,2.8,2.8,2.5,2.4,2.4)
> names(mydata) <- c('c','j','b','e','i','h','g','d','f','a')
> mydata
  c   j   b   e   i   h   g   d   f   a 
2.9 3.4 3.4 3.7 3.7 2.8 2.8 2.5 2.4 2.4 

This is good and as V & R says it should be. Then I ...

> dim (mydata) <- c(2,5)
> mydata
     [,1] [,2] [,3] [,4] [,5]
[1,]  2.9  3.4  3.7  2.8  2.4
[2,]  3.4  3.7  2.8  2.5  2.4
>
The book says I should get the additional lines:

attr(,"names")
[1] "c" "j" "b" "e" "i" "h" "g" "d" "f" "a"

What haven't I done?



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From csprin at brandybuck.ca.sandia.gov  Wed Mar  8 18:25:42 2000
From: csprin at brandybuck.ca.sandia.gov (Clayton Springer)
Date: Wed, 8 Mar 2000 09:25:42 -0800
Subject: [R] Reading data for discriminant analysis
Message-ID: <20000308092542.D1459@brandybuck.ca.sandia.gov>

Dear R users,

I want to do discriminant analysis on my data. I have
successfully followed the discriminant analysis in V & R on
the iris data:

> ir <- rbind (iris3[,,1],iris3[,,2],iris3[,,3])
> ir.species <- c(rep("s",50),rep("c",50),rep("v",50))
> a <- lda(log(ir),ir.species)
> a$svd^2/sum(a$svd^2)
[1] 0.996498601 0.003501399
> a.x <- predict(a,log(ir),dimen=2)$x
> eqscplot (a.x,type="n",xlab="first linear discriminant", ylab = "second linear discriminant"
+ )
> text (a.x, ir.species)

I believe that the iris3 is rather special data format. 
But I am unable to get a text file to become something like iris3.
I would like to be able to formulate my data into a useable format. 
What is the proper procedure to create iris3 from external sources.

Thanks for your help,


Clayton Springer

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar  8 18:41:14 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 8 Mar 2000 17:41:14 +0000 (GMT)
Subject: [R] Trouble with data dim
Message-ID: <200003081741.RAA16582@toucan.stats.ox.ac.uk>


> Date: Wed, 8 Mar 2000 09:02:13 -0800
> From: Clayton Springer <csprin at brandybuck.ca.sandia.gov>
> To: r-help at stat.math.ethz.ch
> Subject: [R] Trouble with data dim
> 
> Dear R users,
> 
> I am a novice user working through V & R. My first question stems
> from p20 of the second edition.:
> 
> I perform the following actions:
> 
> > mydata <- c(2.9,3.4,3.4,3.7,3.7,2.8,2.8,2.5,2.4,2.4)
> > names(mydata) <- c('c','j','b','e','i','h','g','d','f','a')
> > mydata
>   c   j   b   e   i   h   g   d   f   a 
> 2.9 3.4 3.4 3.7 3.7 2.8 2.8 2.5 2.4 2.4 
> 
> This is good and as V & R says it should be. Then I ...
> 
> > dim (mydata) <- c(2,5)
> > mydata
>      [,1] [,2] [,3] [,4] [,5]
> [1,]  2.9  3.4  3.7  2.8  2.4
> [2,]  3.4  3.7  2.8  2.5  2.4
> >
> The book says I should get the additional lines:
> 
> attr(,"names")
> [1] "c" "j" "b" "e" "i" "h" "g" "d" "f" "a"
> 
> What haven't I done?

Used an up-to-date edition!  V&R2 describes S-PLUS 3.x: see its preface.
V&R3 attempts to cover later versions of S-PLUS, and as far as possible R
(although R has changed a lot since Jan 1999 when that went to the
publishers).

Incidentally, S-PLUS 5.x acts differently here too.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Mustaque.Ahmed at wdr.com  Wed Mar  8 18:58:43 2000
From: Mustaque.Ahmed at wdr.com (Mustaque Ahmed)
Date: Wed,  8 Mar 2000 12:58:43 -0500
Subject: [R] Linear/Quadratic Programming
Message-ID: <200003081758.AA00520@sm1p7864nwk>

Hi,

***** First, let me apologize for the disclaimer that accompanies my mail. I  
don't add it and I can't take it out. ****

Is there any implementation of Linear/Quadratic programming in R?

Thanks.

Mustaque

This message contains confidential information and is intended only 
for the individual named.  If you are not the named addressee you 
should not disseminate, distribute or copy this e-mail.  Please 
notify the sender immediately by e-mail if you have received this 
e-mail by mistake and delete this e-mail from your system.

E-mail transmission cannot be guaranteed to be secure or error-free 
as information could be intercepted, corrupted, lost, destroyed, 
arrive late or incomplete, or contain viruses.  The sender therefore 
does not accept liability for any errors or omissions in the contents 
of this message which arise as a result of e-mail transmission.  If 
verification is required please request a hard-copy version.  This 
message is provided for informational purposes and should not be 
construed as a solicitation or offer to buy or sell any securities or 
related financial instruments.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kbroman at jhsph.edu  Wed Mar  8 21:27:45 2000
From: kbroman at jhsph.edu (Karl W. Broman)
Date: Wed, 8 Mar 2000 15:27:45 -0500 (EST)
Subject: [R] installing package in Windows
Message-ID: <Pine.GSO.3.96.1000308151449.12036D-100000@biosun15>


Could you help me in getting a package to compile from source in Windows?
I'm running Windows NT 4.0 on a pentium 450 with 128 Mb of Ram.  I've got R
1.0.0.

I am developing a package for R which includes a bit of C code.  I have things
working in Unix just fine, and now I want to port it to Windows NT.  

I've been following the instructions in the R complements to Venables and
Ripley's book, "Building from a source-code library under Windows."  I
installed cygwin-20 and gcc-2.95.2, and ran "make pkg-qtl" (qtl is the name of
the package).  

That part works just fine.  But then when I run "make pkgcheck-qtl" I get the
following error.

======================================================================
bash-2.02$ make pkgcheck-qtl
-------- Testing package qtl --------
Running examples in 'qtl-Ex.R' ...
/Programs/R/rw1000/bin/rterm --vanilla R_LIBS="/Programs/R/rw1000/library;" < qtl-Ex.R > qtl-Ex.Rout

make[1]: *** [run] Error 1
make: *** [pkgcheck-qtl] Error 2
bash-2.02$
======================================================================

If, after a long sigh, I run Rgui and just cross my fingers.  Then the first
time I do "library(qtl)", I get the following error.  (No surprise, given the
above.) 

======================================================================
> library(qtl)
Error in dyn.load(x, as.logical(local), as.logical(now)) : 
        unable to load shared library "E:\Programs\R\rw1000/library/qtl/libs/qtl.dll":
  LoadLibrary failure
> library(qtl)
>
======================================================================

When I type "library(qtl)" a second time, I don't get an error, and all of the
R functions which do not call C routines run just fine, though the ones with C
routines give an error like "...C/Fortran function name not in load table."

Any hints on what I should fiddle with next, or what I read next?

One other thing...the "R.h" include file doesn't seem to include the
"R_ext/PrtUtil.h", where Rprintf is defined.  If I wish to use Rprintf, should
I include the latter file; should it have been included in R.h?

Thanks!
karl
-----------------
Karl W Broman
kbroman at jhsph.edu
-----------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Wed Mar  8 21:30:13 2000
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Wed, 08 Mar 2000 12:30:13 -0800
Subject: [R] Coercing character to factor
Message-ID: <4.3.2.20000308121140.00abf220@odin.pdx.edu>

I just downloaded version 1.0.0 and several binary libraries (VR, rpart, 
norm, stataread) - WinNT version.  I then converted a file from Stata 6.0 
to R format by using the stataread library.  The file converts perfectly 
and I was able to use the VR function lda on the dataframe without 
difficulty.  I then tried to use the same dataframe with RPART.  The model 
statement:

test.rp<-rpart(genus~x+y+z+a+b+c, data=mydata) fails with the following error:

Error in model.frame(formula, rownames, variables, varnames, extras, 
extranames,  :
         invalid variable type

(the identical model statement works perfectly in lda)

I've traced the error to how RPART (or R) deals with the dependent variable 
"genus", which is converted from a Stata file to an R file as a "character" 
variable.

The model statement works fine if I do:

test.rp<-rpart(as.factor(genus)~x+y+z+a+b+c, data=mydata)

or

mydata[,2]<-as.factor(mydata[,2])
test.rp<-rpart(genus~x+y+z+a+b+c, data=mydata)

Is this an R, RPART, or stataread issue?  Where did I think I read that R 
coerced character variables to factors if the context called for factor 
variables?


=====================
Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department
Portland State University
1721 SW Broadway
Portland, Oregon 97201
email:  feldesmanm at pdx.edu
phone:  503-725-3081
fax:    503-725-3905
http://odin.cc.pdx.edu/~h1mf
======================

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mathieuros at bigfoot.com  Wed Mar  8 22:52:46 2000
From: mathieuros at bigfoot.com (Mathieu Ros)
Date: Wed, 08 Mar 2000 22:52:46 +0100
Subject: [R] infinite recursion problem
Message-ID: <38C6CBAD.85D30ACB@bigfoot.com>

hello r-users,
sorry for asking a long question that may not be very relevant for the
list but it's upsetting me and I get no other solution...

I get a function HTMLExport.lm that uses another function called
HTMLExport.list.
My problem is that function HTMLExport.list works fine when used alone
but HTMLExport.lm crashes with the following error :

> HTMLExport(iris.lm)
lm(formula = Sepal.Length ~ Sepal.Width + Petal.Length + Petal.Width)
Error in names.default(x) : evaluation is nested too deeply: infinite
recursion?

Here is the code of HTMLExport.list :
"HTMLExport.list"<-
function(x, prefix = "", File = "", Align = "left", ...)
{
 xlen <- length(x)
 if(xlen == 0) {
  cat("list()\n")
  return(invisible(x))
 }
 n <- names(x)
 if(is.null(n))
  this <- paste(prefix, "[[", 1:xlen, "]]", sep = "")
 else this <- paste(prefix, "$",names(x), sep = "")
 for(i in 1:xlen) {
  this[i] <- substring(this[i], 2, nchar(this[i]))
  cat(paste("<P ALIGN=", Align,
   "><TABLE BORDER=0><TD BGCOLOR=E4E4E4><FONT FACE=ARIAL><B>",
   this[i], "</TD></TABLE></P>", sep = ""), file = File,
   append = T, sep = "")
  HTMLExport(x[[i]], File = File, prefix = this[i], ...)#here is the
problem according to debug()
 }
 invisible(x)
}


In Splus4 version of these function, the problem had been fixed using
this <- paste(prefix, "$", .C("names_unlex",n,as.integer(xlen))[[1]],
sep = "")
instead of
this <- paste(prefix, "$",names(x), sep = "")
but it can't work within R...

Could someone explain me what happens (even if I have a vague idea)
and/or give me a tip to handle this problem.

Also, I get Splus5.1 (linux mandrake7.0) and can't find a way to use
.C("names_unlex",...), could someone explain me what it does and where
to find the code (if it's not a Splus4 feature?).

thanks a lot,
    Mathieu

--
----------------------------------------------------------------------
Mathieu Ros
DESS ing?nierie math?matique (biostatistiques)
Universite Joseph Fourier, Grenoble
----------------------------------------------------------------------
l'exp?rience est le nom que chacun donne a ses erreurs. Wilde



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar  8 22:18:47 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 8 Mar 2000 21:18:47 +0000 (GMT)
Subject: [R] installing package in Windows
In-Reply-To: <Pine.GSO.3.96.1000308151449.12036D-100000@biosun15>
Message-ID: <Pine.GSO.4.05.10003082104080.27062-100000@auk.stats>

On Wed, 8 Mar 2000, Karl W. Broman wrote:

> 
> Could you help me in getting a package to compile from source in Windows?
> I'm running Windows NT 4.0 on a pentium 450 with 128 Mb of Ram.  I've got R
> 1.0.0.
> 
> I am developing a package for R which includes a bit of C code.  I have things
> working in Unix just fine, and now I want to port it to Windows NT.  
> 
> I've been following the instructions in the R complements to Venables and
> Ripley's book, "Building from a source-code library under Windows."  I
> installed cygwin-20 and gcc-2.95.2, and ran "make pkg-qtl" (qtl is the name of
> the package).  

The documentation in rw1000sp.zip is the current set, and is more detailed
that in those complements.

> That part works just fine.  But then when I run "make pkgcheck-qtl" I get the
> following error.
> 
> ======================================================================
> bash-2.02$ make pkgcheck-qtl
> -------- Testing package qtl --------
> Running examples in 'qtl-Ex.R' ...
> /Programs/R/rw1000/bin/rterm --vanilla R_LIBS="/Programs/R/rw1000/library;" < qtl-Ex.R > qtl-Ex.Rout
> 
> make[1]: *** [run] Error 1
> make: *** [pkgcheck-qtl] Error 2
> bash-2.02$
> ======================================================================

Do look at the output to see what the error was.

> If, after a long sigh, I run Rgui and just cross my fingers.  Then the first
> time I do "library(qtl)", I get the following error.  (No surprise, given the
> above.) 
> 
> ======================================================================
> > library(qtl)
> Error in dyn.load(x, as.logical(local), as.logical(now)) : 
>         unable to load shared library "E:\Programs\R\rw1000/library/qtl/libs/qtl.dll":
>   LoadLibrary failure
> > library(qtl)
> >
> ======================================================================
> 
> When I type "library(qtl)" a second time, I don't get an error, and all of the
> R functions which do not call C routines run just fine, though the ones with C
> routines give an error like "...C/Fortran function name not in load table."
> 
> Any hints on what I should fiddle with next, or what I read next?

We need to find out why you can't load this. One common reason is that
your DLL depends on some other DLL that it can't find.  And one common
cause for that if you used cygwin-b20 is that you managed to compile
against the cygwin1.dll.  You did have MkRules set up for CYGNUS not
MINGW32?

The simplest way to find out if dependencies are the problem is to look at
the DLL with pedump, a free program you should be able to find on the net
(it keeps moving).  You can make things work that are compiled against
cygwin1.dll, but you need to put it in your global path.

The only other reason we know of for problems is Win95-specific, and is
solved by using the cygwin ld.exe.

If that does not help can you send me the complete compile and link log
and the dll?


> One other thing...the "R.h" include file doesn't seem to include the
> "R_ext/PrtUtil.h", where Rprintf is defined.  If I wish to use Rprintf, should
> I include the latter file; should it have been included in R.h?

Yes, no (and the Writing R Extensions manual should mention this). There
are other things in that file that should not be included unless necessary.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Wed Mar  8 22:43:03 2000
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Wed, 8 Mar 2000 16:43:03 -0500
Subject: [R] Error loading ctest
Message-ID: <OF49D9F158.F2818144-ON8525689C.00772867@hgsi.com>

Has anyone noticed this behavior:

> library(ctest)
Error in dyn.load(x, as.logical(local), as.logical(now)) :
        unable to load shared library "J:
\STATS\RW1000/library/ctest/libs/ctest.dll":
  LoadLibrary failure
> library(ctest)
> version
         _
platform Windows
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    0.0
year     2000
month    February
day      29
language R
>

The first time ctest fails to load and loads on the second try??
Thanks for any insight.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Mar  8 22:58:52 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 8 Mar 2000 13:58:52 -0800 (PST)
Subject: [R] Error loading ctest
In-Reply-To: <OF49D9F158.F2818144-ON8525689C.00772867@hgsi.com>
Message-ID: <Pine.GSO.4.21.0003081358340.234-100000@mail.biostat.washington.edu>

On Wed, 8 Mar 2000 partha_bagchi at hgsi.com wrote:

> Has anyone noticed this behavior:
> 
> > library(ctest)
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>         unable to load shared library "J:
> \STATS\RW1000/library/ctest/libs/ctest.dll":
>   LoadLibrary failure
> > library(ctest)
> > version

It works here (WinNT)

	-thomas


>          _
> platform Windows
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    0.0
> year     2000
> month    February
> day      29
> language R
> >
> 
> The first time ctest fails to load and loads on the second try??
> Thanks for any insight.
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Wed Mar  8 23:09:34 2000
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Wed, 8 Mar 2000 17:09:34 -0500
Subject: [R] Error loading ctest
Message-ID: <OF9C54B4DB.16485A7B-ON8525689C.00799C85@hgsi.com>


Thanks. It works here too in the sense that the error in loading goes away
by trying to load it the second time. Then the tests are available.



                                                                                                                
                    Thomas Lumley                                                                               
                    <thomas at biostat.washi        To:     partha_bagchi at hgsi.com                                 
                    ngton.edu>                   cc:     r-help at stat.math.ethz.ch                               
                                                 Subject:     Re: [R] Error loading ctest                       
                    03/08/00 04:58 PM                                                                           
                                                                                                                
                                                                                                                




On Wed, 8 Mar 2000 partha_bagchi at hgsi.com wrote:

> Has anyone noticed this behavior:
>
> > library(ctest)
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>         unable to load shared library "J:
> \STATS\RW1000/library/ctest/libs/ctest.dll":
>   LoadLibrary failure
> > library(ctest)
> > version

It works here (WinNT)

     -thomas


>          _
> platform Windows
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    0.0
> year     2000
> month    February
> day      29
> language R
> >
>
> The first time ctest fails to load and loads on the second try??
> Thanks for any insight.
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._
>

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Mar  8 23:39:15 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 8 Mar 2000 14:39:15 -0800 (PST)
Subject: [R] Coercing character to factor
In-Reply-To: <4.3.2.20000308121140.00abf220@odin.pdx.edu>
Message-ID: <Pine.GSO.4.21.0003081432540.234-100000@mail.biostat.washington.edu>

On Wed, 8 Mar 2000, Marc Feldesman wrote:

> I just downloaded version 1.0.0 and several binary libraries (VR, rpart, 
> norm, stataread) - WinNT version.  I then converted a file from Stata 6.0 
> to R format by using the stataread library.  The file converts perfectly 
> and I was able to use the VR function lda on the dataframe without 
> difficulty.  I then tried to use the same dataframe with RPART.  The model 
> statement:
> 
> test.rp<-rpart(genus~x+y+z+a+b+c, data=mydata) fails with the following error:
> 
> Error in model.frame(formula, rownames, variables, varnames, extras, 
> extranames,  :
>          invalid variable type
> 
> (the identical model statement works perfectly in lda)
> 
> I've traced the error to how RPART (or R) deals with the dependent variable 
> "genus", which is converted from a Stata file to an R file as a "character" 
> variable.

Yes. stataread reads Stata string variables as character.  I think this is
the right thing to do, since Stata recommends that you use numeric
variables with labels if you really just have factors and generally
doesn't encourage the use of strings.

model.frame doesn't allow character variables.  It would be possible for
model.frame to coerce characters to factors, but it currently doesn't. We
would certainly recommend that you explicitly coerce strings to factors
rather than having it happen automatically, but it may be that model.frame
should handle strings as a fallback position (perhaps with a warning).

rpart is completely blameless :)


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle
	

> 
> The model statement works fine if I do:
> 
> test.rp<-rpart(as.factor(genus)~x+y+z+a+b+c, data=mydata)
> 
> or
> 
> mydata[,2]<-as.factor(mydata[,2])
> test.rp<-rpart(genus~x+y+z+a+b+c, data=mydata)
> 
> Is this an R, RPART, or stataread issue?  Where did I think I read that R 
> coerced character variables to factors if the context called for factor 
> variables?
> 
> 
> =====================
> Dr. Marc R. Feldesman
> Professor and Chairman
> Anthropology Department
> Portland State University
> 1721 SW Broadway
> Portland, Oregon 97201
> email:  feldesmanm at pdx.edu
> phone:  503-725-3081
> fax:    503-725-3905
> http://odin.cc.pdx.edu/~h1mf
> ======================
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Mar  8 23:49:48 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 8 Mar 2000 14:49:48 -0800 (PST)
Subject: [R] infinite recursion problem
In-Reply-To: <38C6CBAD.85D30ACB@bigfoot.com>
Message-ID: <Pine.GSO.4.21.0003081446040.13342-100000@mail.biostat.washington.edu>

On Wed, 8 Mar 2000, Mathieu Ros wrote:

> hello r-users,
> sorry for asking a long question that may not be very relevant for the
> list but it's upsetting me and I get no other solution...

We need the example to tell what's wrong -- ie we need HTMLExport as well
as HTMLExport.list.

Based on just this function I can't see why there is a problem or why the
change that you say helps in S-PLUS would do anything.

The question about S-PLUS would be more appropriate for the s-news mailing
list, but if the function called by .C was undocumented in Splus4 it's
quite possible that it doesn't exist in Splus5.


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


> 
> I get a function HTMLExport.lm that uses another function called
> HTMLExport.list.
> My problem is that function HTMLExport.list works fine when used alone
> but HTMLExport.lm crashes with the following error :
> 
> > HTMLExport(iris.lm)
> lm(formula = Sepal.Length ~ Sepal.Width + Petal.Length + Petal.Width)
> Error in names.default(x) : evaluation is nested too deeply: infinite
> recursion?
> 
> Here is the code of HTMLExport.list :
> "HTMLExport.list"<-
> function(x, prefix = "", File = "", Align = "left", ...)
> {
>  xlen <- length(x)
>  if(xlen == 0) {
>   cat("list()\n")
>   return(invisible(x))
>  }
>  n <- names(x)
>  if(is.null(n))
>   this <- paste(prefix, "[[", 1:xlen, "]]", sep = "")
>  else this <- paste(prefix, "$",names(x), sep = "")
>  for(i in 1:xlen) {
>   this[i] <- substring(this[i], 2, nchar(this[i]))
>   cat(paste("<P ALIGN=", Align,
>    "><TABLE BORDER=0><TD BGCOLOR=E4E4E4><FONT FACE=ARIAL><B>",
>    this[i], "</TD></TABLE></P>", sep = ""), file = File,
>    append = T, sep = "")
>   HTMLExport(x[[i]], File = File, prefix = this[i], ...)#here is the
> problem according to debug()
>  }
>  invisible(x)
> }
> 
> 
> In Splus4 version of these function, the problem had been fixed using
> this <- paste(prefix, "$", .C("names_unlex",n,as.integer(xlen))[[1]],
> sep = "")
> instead of
> this <- paste(prefix, "$",names(x), sep = "")
> but it can't work within R...
> 
> Could someone explain me what happens (even if I have a vague idea)
> and/or give me a tip to handle this problem.
> 
> Also, I get Splus5.1 (linux mandrake7.0) and can't find a way to use
> .C("names_unlex",...), could someone explain me what it does and where
> to find the code (if it's not a Splus4 feature?).
> 
> thanks a lot,
>     Mathieu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar  8 23:56:19 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 8 Mar 2000 22:56:19 +0000 (GMT)
Subject: [R] Error loading ctest
In-Reply-To: <OF49D9F158.F2818144-ON8525689C.00772867@hgsi.com>
Message-ID: <Pine.GSO.4.05.10003082236310.2176-100000@auk.stats>

On Wed, 8 Mar 2000 partha_bagchi at hgsi.com wrote:

> Has anyone noticed this behavior:
> 
> > library(ctest)
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>         unable to load shared library "J:
> \STATS\RW1000/library/ctest/libs/ctest.dll":
>   LoadLibrary failure
> > library(ctest)
> > version
>          _
> platform Windows
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    0.0
> year     2000
> month    February
> day      29
> language R
> >
> 
> The first time ctest fails to load and loads on the second try??
> Thanks for any insight.

Are you sure it loads the second time?  If you load a package and it fails
in .First.lib, then the environment is already there, and when you go to
load it again it does not reload it. (Try this with a library that has a
start-up banner like KernSmooth or locfit.)  It just finds the name already
there and quits. My expectation would be that the compiled code is
unavailable after what you describe.

Perhaps we ought to alter this to make a failure in .First.lib unload the
package.

We've corresponded on this privately:

>         unable to load shared library "J:
> \STATS\RW1000/library/ctest/libs/ctest.dll":

is suspicious. Is this what you actually get or is your mailer (or
something else en route) breaking that line?

As Thomas says, this works for lots of other installations. Can you
try it on a local disc (if J: is your Novell one)?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Mar  9 00:47:55 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 09 Mar 2000 00:47:55 +0100
Subject: [R] Reading data for discriminant analysis
In-Reply-To: Clayton Springer's message of "Wed, 8 Mar 2000 09:25:42 -0800"
References: <20000308092542.D1459@brandybuck.ca.sandia.gov>
Message-ID: <x28zzt6n2s.fsf@blueberry.kubism.ku.dk>

Clayton Springer <csprin at brandybuck.ca.sandia.gov> writes:

> I believe that the iris3 is rather special data format. 
> But I am unable to get a text file to become something like iris3.
> I would like to be able to formulate my data into a useable format. 
> What is the proper procedure to create iris3 from external sources.

library(MASS)
data(iris3)

(You need to install the VR bundle from CRAN first)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kbroman at jhsph.edu  Thu Mar  9 01:38:25 2000
From: kbroman at jhsph.edu (Karl W. Broman)
Date: Wed, 8 Mar 2000 19:38:25 -0500 (EST)
Subject: [R] installing package in Windows
In-Reply-To: <Pine.GSO.4.05.10003082104080.27062-100000@auk.stats>
Message-ID: <Pine.GSO.3.96.1000308192613.13436A-100000@biosun15>


Regarding my difficulty in building a package from source within Windows: as
Prof. Ripley suggested, I had not changed the line in
Rhome/src/gnuwin32/MkRules from "BUILD=MINGW32" to "BUILD=CYGWIN".  Once I
changed that, all ran smoothly

(Also, for the record, I hadn't looked at the qtl-Ex.Rout to find out what
the build error was, and I hadn't read the readme.packages file.)

Thanks for the quick response.  And thanks to all who have contributed to R;
it is totally cool.

Cheers,
karl
------------------------------------------
Karl W Broman
kbroman at jhsph.edu
http://biosun01.biostat.jhsph.edu/~kbroman
------------------------------------------

On Wed, 8 Mar 2000, Prof Brian D Ripley wrote:

> We need to find out why you can't load this. One common reason is that
> your DLL depends on some other DLL that it can't find.  And one common
> cause for that if you used cygwin-b20 is that you managed to compile
> against the cygwin1.dll.  You did have MkRules set up for CYGNUS not
> MINGW32?
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brian at trichodon.afsc.noaa.gov  Thu Mar  9 02:06:05 2000
From: brian at trichodon.afsc.noaa.gov (Brian O'Gorman)
Date: Wed, 08 Mar 2000 16:06:05 -0900
Subject: [R] cosine and sine
Message-ID: <38C6F8FD.91D65E7A@trichodon.afsc.noaa.gov>

Excuse me if this is has been discussed before, but,

How can I make the cos(pi/2) = 0 (instead of on my machine 6.123234e-17)
and the sin(pi) = 0 (instead of 1.224647e-16 on my machine) ?

I'd like sin(pi) == 0 to return TRUE, and is zapsmall appropriate here?
-------------- next part --------------
A non-text attachment was scrubbed...
Name: brian.vcf
Type: text/x-vcard
Size: 411 bytes
Desc: Card for Brian O'Gorman
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000308/9eb8072b/brian.vcf

From Zdenek.Skala at incoma.cz  Thu Mar  9 08:30:25 2000
From: Zdenek.Skala at incoma.cz (Zdenek Skala)
Date: Thu, 9 Mar 2000 08:30:25 +0100
Subject: [R] x-server
In-Reply-To: <38C66C6E.D3E0E7DB@esb.ucp.pt>
Message-ID: <200003090727.IAA15928@benes.incoma.cz>

Peter Ho wrote:
> Why don't you stick to the old MIX server. Why do you need to upgrade to a
> higher version if it works?
It works, but not very cleanly (e.g. the upper menus' options 
become invisible by scrolling down). What is more important, I am 
still unable to run more than one window of xgobi at the same time 
(but do not know if this is a problem of MI/X or of my machine 
setup or of my ignorance - have anybody the same problem?). 
Sure, I know I cannot demand too much from free software (R is 
really exception in this respect!).
Regards
Zdenek
++++++++++++++++++++++
] Zdenek Skala
] e-mail:
] Zdenek.Skala at incoma.cz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hothorn at ci.tuwien.ac.at  Thu Mar  9 09:21:19 2000
From: hothorn at ci.tuwien.ac.at (Torsten Hothorn)
Date: Thu, 9 Mar 2000 09:21:19 +0100 (CET)
Subject: [R] x-server
In-Reply-To: <200003090727.IAA15928@benes.incoma.cz>
Message-ID: <Pine.LNX.4.21.0003090917050.26262-100000@boromir.ci.tuwien.ac.at>



> Sure, I know I cannot demand too much from free software (R is 
> really exception in this respect!).

And Linux/GNU, GIMP, apache, xgobi, .... ????

Torsten


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From juli at ceam.es  Thu Mar  9 09:42:30 2000
From: juli at ceam.es (Juli G. Pausas)
Date: Thu, 9 Mar 0 08:42:30 +0000 (GMT)
Subject: [R] Confidence Intervals
Message-ID: <200003090846.JAA21684@stat.math.ethz.ch>

Dear r-users,
I'm a new user of the R software - Thank you very much to the developers and
colaborators-. 

My question: 
How can I get Confidence Interval Curves in a glm model (non-Normal dist.)?
I've undertood that CI can be calculated in S by the pointwise function,
which I think is not available in R.

Thanks a lot

Juli

********************
Juli G. Pausas
Centro de Estudios Ambientales del Mediterraneo (CEAM)
C/ C.R. Darwin 14
Parc Tecnologic,
46980 Paterna, Valencia, SPAIN
Tel: (+ 34) 96 131 8227
Fax: (+ 34) 96 131 8190
E-mail: juli at ceam.es
http://www.gva.es/ceam

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From koller2 at fgr.wu-wien.ac.at  Thu Mar  9 09:35:43 2000
From: koller2 at fgr.wu-wien.ac.at (Wolfgang Koller)
Date: Thu, 09 Mar 2000 09:35:43 +0100
Subject: [R] x-server
In-Reply-To: <200003090727.IAA15928@benes.incoma.cz>
References: <38C66C6E.D3E0E7DB@esb.ucp.pt>
Message-ID: <3.0.6.32.20000309093543.008f7cf0@fgr.wu-wien.ac.at>

		      {This message had to be manually approved by the
		       list maintainer.  It looked too suspiciously like an 
		       advertizement and was bounced by my anti-spam
		       filters ...	 MM}

Do you know of X-Win32? I have good experiences with it. The
functionalities are very much like those of Exceed. With the demo-version
your sessions can only last for two hours... See more details below. 

Wolfgang


         X-Win32  

Version Number: 4.1.4 
Revision Date: December 3, 1999 
Byte Size: 4.9 MB (5,172,495 bytes) 
License: Demo 
Cost: $200.00 
Evaluation Period: No limit, 2-hour time-out 
Home Page: http://www.StarNet.com 
Description: A PC X Terminal Emulator, also known as an X Window System
Server. It allows you to run X applications on a Unix system to which your
Windows 95 system is connected via TCP/IP. X-Win32 supports OpenLook,
Motif, CDE, VUE, Xt,
X11R6.3, and other X applications running on Sun, HP, SGI, Linux, SCO, AIX,
and other Unix workstations and file servers. 


-------------------------------------------------
Wolfgang Koller,  koller2 at fgr.wu-wien.ac.at
Forschungsinstitut f?r Europafragen
Wirtschaftsuniversitaet Wien
Althanstrasse 39-45, 1090 Vienna, Austria
http://fgr.wu-wien.ac.at/institut/ef/ief-home.htm
-------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Thu Mar  9 09:56:30 2000
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Thu, 09 Mar 2000 09:56:30 +0100
Subject: [R] For the record: how to merge data frames vertically
Message-ID: <B4ED25CE.2344%pflugshaupt@geobot.umnw.ethz.ch>

Hello,

to save searching time in the S-news archive, here is the simple solution to
merge data frames vertically (cols must be equivalent, of course). The
frames must be components of a list, such as produced by
framelist<-split(bigframe,factor).

bigframe2<-do.call("rbind",framelist)

# posted to S-news by Bill Venables, found in summary message
http://lib.stat.cmu.edu/s-news/Burst/13564

The result is identical to bigframe with the exception of the rownames.
Those seem to be generated by pasting the respective component name and each
rowname (maybe to prevent non-unique rownames?). To keep rownames, I use

rownames(bigframe2)<-unlist(lapply(framelist,rownames))

Now, all I wonder is, why does this solution work and "rbind(framelist)"
does not? (gives "Error in rbind(...) : cannot create a matrix from these
types"). To my untrained eye, the two look identical...

Cheers

Kaspar

-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar  9 10:04:48 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 9 Mar 2000 09:04:48 +0000 (GMT)
Subject: [R] x-server for XGobi
In-Reply-To: <200003090727.IAA15928@benes.incoma.cz>
Message-ID: <Pine.GSO.4.05.10003090901140.7342-100000@auk.stats>

On Thu, 9 Mar 2000, Zdenek Skala wrote:

> Peter Ho wrote:
> > Why don't you stick to the old MIX server. Why do you need to upgrade to a
> > higher version if it works?
> It works, but not very cleanly (e.g. the upper menus' options 
> become invisible by scrolling down). What is more important, I am 
> still unable to run more than one window of xgobi at the same time 
> (but do not know if this is a problem of MI/X or of my machine 
> setup or of my ignorance - have anybody the same problem?). 

It does work if you have things set up right under NT at least: do look at
that part of the README file.  It is nothing to do with the X server.
Yes, other people have had problems so I guess it is tricky to get right.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Zdenek.Skala at incoma.cz  Thu Mar  9 10:13:21 2000
From: Zdenek.Skala at incoma.cz (Zdenek Skala)
Date: Thu, 9 Mar 2000 10:13:21 +0100
Subject: [R] x-server
In-Reply-To: <Pine.LNX.4.21.0003090917050.26262-100000@boromir.ci.tuwien.ac.at>
References: <200003090727.IAA15928@benes.incoma.cz>
Message-ID: <200003090910.KAA16551@benes.incoma.cz>

> And Linux/GNU, GIMP, apache, xgobi, .... ????
yes yes yes, and more - I meant "one exception" (surely the 
word "exception" apply mostly to the Windows world, but in - example -
Linux world it is rather a rule to have good free software...)
At the same time, I tried to stress that one cannot *demand* high 
standard in free sw, regardless it *can* have better functionality 
than a commercial one.
Apologies to all who could be offended by this note!
Zdenek
++++++++++++++++++++++
] Zdenek Skala
] e-mail:
] Zdenek.Skala at incoma.cz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar  9 10:15:05 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 9 Mar 2000 09:15:05 +0000 (GMT)
Subject: [R] For the record: how to merge data frames vertically
In-Reply-To: <B4ED25CE.2344%pflugshaupt@geobot.umnw.ethz.ch>
Message-ID: <Pine.GSO.4.05.10003090912240.7342-100000@auk.stats>

On Thu, 9 Mar 2000, Kaspar Pflugshaupt wrote:

> Hello,
> 
> to save searching time in the S-news archive, here is the simple solution to
> merge data frames vertically (cols must be equivalent, of course). The

To avoid confusion, that is not the usual meaning of `merge', but
of concatenate, say.

> frames must be components of a list, such as produced by
> framelist<-split(bigframe,factor).
> 
> bigframe2<-do.call("rbind",framelist)
> 
> # posted to S-news by Bill Venables, found in summary message
> http://lib.stat.cmu.edu/s-news/Burst/13564
> 
> The result is identical to bigframe with the exception of the rownames.
> Those seem to be generated by pasting the respective component name and each
> rowname (maybe to prevent non-unique rownames?). To keep rownames, I use
> 
> rownames(bigframe2)<-unlist(lapply(framelist,rownames))
> 
> Now, all I wonder is, why does this solution work and "rbind(framelist)"
> does not? (gives "Error in rbind(...) : cannot create a matrix from these
> types"). To my untrained eye, the two look identical...

In rbind(framelist) the argument is a single list.  do.call creates a call
in which framelist is mapped to several arguments.

There seems to be a lack of clarity in what cbind and rbind do, and I have
expanded the help page for the next patch release.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hothorn at ci.tuwien.ac.at  Thu Mar  9 12:14:16 2000
From: hothorn at ci.tuwien.ac.at (Torsten Hothorn)
Date: Thu, 9 Mar 2000 12:14:16 +0100 (CET)
Subject: [R] R sheet for a2ps
Message-ID: <Pine.LNX.4.21.0003091211360.26444-200000@boromir.ci.tuwien.ac.at>


I attach "R.ssh", an a2ps style sheet for pretty R printing (submitting to
CRAN would be the overkill :-)

Torsten  

*****************************************************************
*								*
* Torsten Hothorn, Statistician					*
* at the moment: Institut fuer Statistik, TU Wien		*
* Tel: 0043 1 58801 10772					*
* Fax: 0043 1 58801 10798					*
*								*
*****************************************************************

-------------- next part --------------
# This is a R sheet
style R is
written by "Torsten Hothorn <hothorn at ci.tuwien.ac.at>"
version is 0.1
requires a2ps 4.9.5

documentation is
   "Creates pretty R-code postscript files."
end documentation

alphabets are
   "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz_#$%=-&/"

case sensitive

# ancestors are
#   c
# end ancestors

sequences are
  "#" Comment,
  "\"" Plain String "\"" Plain
#   exceptions are
#    /\\\\,/
#       end exceptions
end sequences

keywords in Keyword_strong are
  if, then, else, break, while, for, function, next, return, FALSE, TRUE
end keywords

operators are
   <- \leftarrow
end operators

optional sequences are
   < Plain Keyword > Plain
end sequences
end style

From olivier.martin at cea.fr  Thu Mar  9 15:41:10 2000
From: olivier.martin at cea.fr (Olivier MARTIN)
Date: Thu, 09 Mar 2000 15:41:10 +0100
Subject: [R] math ??
Message-ID: <38C7B806.C274FF01@cea.fr>

Hi all,

i don't think this question is really for these newlists, nevertheless,
the question is about the mathematics in general
and scientific calcul.
So, i am looking for a tutorial or a paper or a book which gives the
mathematic results and explanations on optimisation problems.
More precisly, i am interessting on EM algorithm, newton and quasi
-newton method, on-line graddient descent, conjugate gradient,...
Is somebody know good references??
Thanks,

--

------- Olivier MARTIN --------
_______________________________
_______________________________
CEA
17, rues des martyrs
LETI/DSYS/SCSI
Bur 225
olivier.martin at cea.fr
04 76 88 47 61 (bur.)
04 76 88 57 87 (fax.)
FRANCE,Grenoble

---------------------
06 08 67 93 42 (pers.)
_______________________________
_______________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.e.darnell at ncl.ac.uk  Thu Mar  9 16:14:10 2000
From: r.e.darnell at ncl.ac.uk (R.E. Darnell)
Date: 09 Mar 2000 15:14:10 +0000
Subject: [R] Help with na.action option
Message-ID: <dgkzos8uqf1.fsf@scs2.ncl.ac.uk>

I would like to define my own na.action function to be used by the
glm (actually slightly modified glm) function but I would like to
return not just a data object but set other variables like
control$maxit..

I have been able to achieve the initial bit (returning a new data
object) but I am not sure how my na.my.action function can set
these other variables.

I would appreciate any help on this

Thank you

Ross Darnell
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Thu Mar  9 16:58:26 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Thu, 9 Mar 2000 16:58:26 +0100 (MET)
Subject: [R] R sheet for a2ps
In-Reply-To: <Pine.LNX.4.21.0003091211360.26444-200000@boromir.ci.tuwien.ac.at>
Message-ID: <Pine.OSF.4.05.10003091656001.28826-100000@rasalgethi.uio.no>

On Thu, 9 Mar 2000, Torsten Hothorn wrote:

>
>I attach "R.ssh", an a2ps style sheet for pretty R printing (submitting to
>CRAN would be the overkill :-)

Great stuff! BTW, I just ask myself today if something like a definition
file for e.g. lgrind existed for R?

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mathieuros at bigfoot.com  Thu Mar  9 17:53:18 2000
From: mathieuros at bigfoot.com (Mathieu Ros)
Date: Thu, 09 Mar 2000 17:53:18 +0100
Subject: [R] infinite recursion problem
References: <Pine.GSO.4.21.0003081446040.13342-100000@mail.biostat.washington.edu>
Message-ID: <38C7D6FD.A8825499@bigfoot.com>

Thomas Lumley wrote :

> On Wed, 8 Mar 2000, Mathieu Ros wrote:
>
> > hello r-users,
> > sorry for asking a long question that may not be very relevant for the
> > list but it's upsetting me and I get no other solution...
>
> We need the example to tell what's wrong -- ie we need HTMLExport as well
> as HTMLExport.list.
>
> Based on just this function I can't see why there is a problem or why the
> change that you say helps in S-PLUS would do anything.
>
> The question about S-PLUS would be more appropriate for the s-news mailing
> list, but if the function called by .C was undocumented in Splus4 it's
> quite possible that it doesn't exist in Splus5.
>
> Thomas Lumley
> Assistant Professor, Biostatistics
> University of Washington, Seattle
>

Thanks for your reply and sorry for my uncomplete posting of yesterday (it
was late...). Original posting is enclosed below.
any hints would be very appreciated.

here are HTMLExport (generic function) and HTMLExport.lm :

"HTMLExport"<-
function(x, ...)
{
 UseMethod("HTMLExport")
}

"HTMLExport.lm"<-
function(lmobject, File = "", Directory = "./", Desc = F, ...)
{
 options(warn = -1)
 GraphDirectory <- Directory
 NameReg <- deparse(substitute(lmobject))
 if(File == "") {
  File <- paste(Directory, "Result.of.regression.", NameReg,
   ".html", sep = "")
 }
 txt <- lmobject$model
 # txt <- substring(txt, regexpr("data=*", txt) + 5, nchar(txt) - 1)
 donnees<-txt
 eval(parse(text = "attach(donnees, pos=2)"))
 # File <- HTMLInitFile(File)
 vardep <- as.character(attr(lmobject$terms, "variables"))[-1]
 variables <- attr(lmobject$terms, "term.labels") #
 HTMLTitle("&nbsp;<B>Results of regression</B>", Size = "+3", BackColor
   = "000000", Color = "FFFFFF", File = File) #
#
# GENERATION DE L'INDEX
 ...<deleted>...
 if(Desc == T) {
  HTMLExport(as.title("Descriptive informations"), File = File)
  HTML.LI(paste("Data for regression: ",deparse(substitute(lmobject)), sep =
""), File =
   File)
  HTML.LI(paste("Dimensions of the data: ", dim(donnees)[1],
   " X ", dim(donnees)[2], sep = ""), File = File)
  HTML.LI(paste("Dependant variable: ", vardep, sep = ""), File
    = File)
  HTML.LI("List of variables: ", File = File)
  cat(variables, sep = "&nbsp; | &nbsp;", append = T, file = File
   )
  HTML.BR(File = File)
  HTML.LI("<B><A NAME=#desc-correlations>Correlation matrix</A></B>: ",
   File = File)
  data <- donnees[, c(vardep, variables)]
  HTMLExport(round(cor(data), 4), FirstColumnBold = T,
   FirstRowBold = T, File = File)
  desc <- t(t(summary(data[, vardep])))
  if(dim(desc)[1] == 6) {
   desc <- rbind(desc, 0)
  }
  for(var in variables) {
   desc2 <- t(t(summary(data[, var])))
   if(dim(desc2)[1] == 6) {
    desc2 <- rbind(desc2, 0)
   }
   desc <- cbind(desc, desc2)
  }
  dimnames(desc) <- list(c("Min.", "1st Qu.", "Median", "Mean",
   "3rd Qu.", "Max.", "NA"), c(vardep, variables))
  HTML.LI("<A NAME=#desc_stats><B>Descriptive statistics</B></A>: ",
   File = File)
  HTMLExport(round(desc, 4), FirstColumnBold = T, File = File)
  HTML.LI("<A NAME=#desc_boxplots><B>Boxplots:</B></A>", File =
   File)
  AllVar <- c(vardep, variables)
  k <- trunc((length(AllVar) - 1)/4)
  par(mfrow = c(1, 4))
  for(i in 0:k) {
   subvar <- AllVar[(4 * i + 1):(4 * i + 4)]
 #  print(subvar)
   for(var in subvar) {
    if(var != "") {
      boxplot(data[, var], outchar = T, main = var)
    }
   }
   HTMLInsertGraph(File = File, GraphDirectory =
    GraphDirectory, GraphFileName = paste("boxplot",
    i + 1, ".", NameReg, sep = ""))
  }
 }
 HTMLTitle(as.title("Summary"), File = File)
 HTMLExport(summary(lmobject), File = File)
 HTMLTitle(as.title("Graphs"), File = File)
 HTMLPlot.lm(lmobject, GraphDirectory = GraphDirectory, Name = NameReg,
  File = File)
 HTMLEndFile(File)
 detach(what = 2)
 options(warn = 1)
}


>
> >
> > I get a function HTMLExport.lm that uses another function called
> > HTMLExport.list.
> > My problem is that function HTMLExport.list works fine when used alone
> > but HTMLExport.lm crashes with the following error :
> >
> > > HTMLExport(iris.lm)
> > lm(formula = Sepal.Length ~ Sepal.Width + Petal.Length + Petal.Width)
> > Error in names.default(x) : evaluation is nested too deeply: infinite
> > recursion?
> >
> > Here is the code of HTMLExport.list :
> > "HTMLExport.list"<-
> > function(x, prefix = "", File = "", Align = "left", ...)
> > {
> >  xlen <- length(x)
> >  if(xlen == 0) {
> >   cat("list()\n")
> >   return(invisible(x))
> >  }
> >  n <- names(x)
> >  if(is.null(n))
> >   this <- paste(prefix, "[[", 1:xlen, "]]", sep = "")
> >  else this <- paste(prefix, "$",names(x), sep = "")
> >  for(i in 1:xlen) {
> >   this[i] <- substring(this[i], 2, nchar(this[i]))
> >   cat(paste("<P ALIGN=", Align,
> >    "><TABLE BORDER=0><TD BGCOLOR=E4E4E4><FONT FACE=ARIAL><B>",
> >    this[i], "</TD></TABLE></P>", sep = ""), file = File,
> >    append = T, sep = "")
> >   HTMLExport(x[[i]], File = File, prefix = this[i], ...)#here is the
> > problem according to debug()
> >  }
> >  invisible(x)
> > }
> >
> >
> > In Splus4 version of these function, the problem had been fixed using
> > this <- paste(prefix, "$", .C("names_unlex",n,as.integer(xlen))[[1]],
> > sep = "")
> > instead of
> > this <- paste(prefix, "$",names(x), sep = "")
> > but it can't work within R...
> >
> > Could someone explain me what happens (even if I have a vague idea)
> > and/or give me a tip to handle this problem.
> >
> > Also, I get Splus5.1 (linux mandrake7.0) and can't find a way to use
> > .C("names_unlex",...), could someone explain me what it does and where
> > to find the code (if it's not a Splus4 feature?).
> >
> > thanks a lot,
> >     Mathieu

--
----------------------------------------------------------------------
Mathieu Ros - 13 rue b?vi?re - 38000 GRENOBLE - 04 76 491 370
http://mathieu.ros.free.fr/
DESS ing?nierie math?matique (biostatistiques)
Universite Joseph Fourier, Grenoble
----------------------------------------------------------------------
l'exp?rience est le nom que chacun donne a ses erreurs. Wilde



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From csprin at brandybuck.ca.sandia.gov  Thu Mar  9 17:52:40 2000
From: csprin at brandybuck.ca.sandia.gov (Clayton Springer)
Date: Thu, 9 Mar 2000 08:52:40 -0800
Subject: [R] Reading data for discriminant analysis
In-Reply-To: <x28zzt6n2s.fsf@blueberry.kubism.ku.dk>
References: <20000308092542.D1459@brandybuck.ca.sandia.gov> <x28zzt6n2s.fsf@blueberry.kubism.ku.dk>
Message-ID: <20000309085240.A3174@brandybuck.ca.sandia.gov>

Peter,

> > I believe that the iris3 is rather special data format. 
> > But I am unable to get a text file to become something like iris3.
> > I would like to be able to formulate my data into a useable format. 
> > What is the proper procedure to create iris3 from external sources.
> 
> library(MASS)
> data(iris3)
> 
> (You need to install the VR bundle from CRAN first)

I have already done this. (I have successfully worked through the example.)
What I would like to do is use myown data and work through a similar exercise.

--Clayton
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar  9 18:14:53 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 9 Mar 2000 17:14:53 +0000 (GMT)
Subject: [R] Reading data for discriminant analysis
Message-ID: <200003091714.RAA18919@toucan.stats.ox.ac.uk>


> Date: Thu, 9 Mar 2000 08:52:40 -0800
> From: Clayton Springer <csprin at brandybuck.ca.sandia.gov>
> To: Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>, r-help at stat.math.ethz.ch
> 
> Peter,
> 
> > > I believe that the iris3 is rather special data format. 
> > > But I am unable to get a text file to become something like iris3.
> > > I would like to be able to formulate my data into a useable format. 
> > > What is the proper procedure to create iris3 from external sources.
> > 
> > library(MASS)
> > data(iris3)
> > 
> > (You need to install the VR bundle from CRAN first)
> 
> I have already done this. (I have successfully worked through the example.)
> What I would like to do is use myown data and work through a similar exercise.
> 

Then look at the other examples (in MASS3), such as

data(fgl)
fgl.lda <- lda(type ~ ., fgl)

fgl is a data frame, type is a factor.


dcrabs.lda <- lda(crabs$sex ~ FL + RW + CL + CW, lcrabs)

lcrabs is a data frame, crabs$sex is a factor.


The general form is factor ~ var1 + var2 + ... + varn

where vari had better be numerical variates.  There are first looked for
in the data frame supplied as the data argument, if any.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Thu Mar  9 18:15:26 2000
From: pauljohn at ukans.edu (Paul Johnson)
Date: Thu, 09 Mar 2000 11:15:26 -0600
Subject: [R] What is XGobi and what is it for?
Message-ID: <38C7DC2E.5A609ABF@ukans.edu>

I've seen XGobi come up in here from time to time, and I wonder what is
it, what is it for, do I need it?  How about throwing me a bone here!
-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Thu Mar  9 18:24:14 2000
From: chong at stat.purdue.edu (Chong Gu)
Date: Thu, 9 Mar 2000 12:24:14 -0500
Subject: [R] R-1.0.0 on AIX
Message-ID: <200003091724.MAA47736@odds.stat.purdue.edu>


We have been trying to install R-1.0.0 on the department AIX machines
but to no avail.  I am forwarding the bug report from our system
administrator to the list.  Any help will be greatly appreciated.

BTW, the installation of R-1.0.0 on my linux box at home went like a
breeze.

Here is the bug report:

   ========================================================================

   Subject: R-1.0.0 and AIX 4.3.2?

   I've been having difficulty getting R-1.0.0 to work correctly under
   AIX 4.3.2.  R-0.90.1 works just fine, but R-1.0.0 dumps core with an
   illegal instruction soon after the banner message is displayed upon
   startup:


      odds.stat /home/mean/u19/dgc  /opt/R-1.0.0/bin/R

      R : Copyright 2000, The R Development Core Team
      Version 1.0.0  (February 29, 2000)

      R is free software and comes with ABSOLUTELY NO WARRANTY.
      You are welcome to redistribute it under certain conditions.
      Type    "?license" or "?licence" for distribution details.

      R is a collaborative project with many contributors.
      Type    "?contributors" for a list.

      Type    "demo()" for some demos, "help()" for on-line help, or
	      "help.start()" for a HTML browser interface to help.
      Type    "q()" to quit R.

      Illegal instruction(coredump)

   I've tried many permutations of using the AIX C compiler, GCC-2.95.1,
   MIT X11, AIX X11, with and without readline, IBM's F77 compiler.  They
   invariably give the same results -- Illegal instruction on startup.
   I've tried with and without saved workspaces (generated by R-0.90.1).

   The fact that 0.90.1 compiles and runs fine with identical configure
   arguments leads me to believe this may not be a problem on my end, but
   is more likely a problem with R-1.0.0.

   Has anyone else seen this problem?

   Has anyone using AIX 4.3.2 sucessfully compiled a working R-1.0.0?


   Thanks,

   --
   Doug Crabill                                  dgc at purdue.edu
   Computer Systems Administrator                http://www.stat.purdue.edu/~dgc/
   Department of Statistics, Purdue University

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar  9 19:00:56 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 9 Mar 2000 18:00:56 +0000 (GMT)
Subject: [R] What is XGobi and what is it for?
Message-ID: <200003091800.SAA23477@toucan.stats.ox.ac.uk>

> Date: Thu, 09 Mar 2000 11:15:26 -0600
> From: Paul Johnson <pauljohn at ukans.edu>
> 
> I've seen XGobi come up in here from time to time, and I wonder what is
> it, what is it for, do I need it?  How about throwing me a bone here!

A program for plotting scatterplots and 2D projections of
multidimensional datasets, for spinning them, highlighting points
interactively, and  for exploratory projection pursuit (finding 
interesting 2D projections).  You can link multiple views in multiple
instances of the program.

Probably the exploratory projection pursuit and the brushable scatter
plots are the most useful parts in my experience.

Runs on most Unix/Linux/Windows X11 displays.

See http://www.research.att.com/areas/stat/xgobi/
for the `sales pitch' (it is free for non=profit distribution) and links
to the source.  A lot of bugs got fixed late in 99, so try a recent
version.  The Windows port is at

http://www.stats.ox.ac.uk/pub/SWin/xgobi.zip

and Unix and Windows interface pacakages called xgobi are on CRAN.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feeney at un.org  Thu Mar  9 21:48:38 2000
From: feeney at un.org (Griffith Feeney)
Date: Thu, 9 Mar 2000 15:48:38 -0500
Subject: [R] how to document user-defined packages for windows
Message-ID: <OFF0BB2F33.850DBFDC-ON8525689D.00715569@un.org>

After several hours of trial and error I've figured out how to create
packages for use by rw1000 ("Writing R Extensions" seems not to cover
this).

I haven't been able to figure out how to make help files work. I want plain
text only, via help(name) or ?name.

I create a 'help' subdirectory containing a 00Titles file and
function-specific help files in the package directory, but help() doesn't
see them, I get, e.g.,

     Error in help(get.source.data) : No documentation for
`get.source.data'

Could someone indicate briefly what must be done to make help() work for
user-defined packages under windows, or point me to pertinent documentation
if I've missed it? Thanks!

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From John.Strumila at corpmail.telstra.com.au  Thu Mar  9 23:11:57 2000
From: John.Strumila at corpmail.telstra.com.au (Strumila, John)
Date: Fri, 10 Mar 2000 09:11:57 +1100
Subject: [R] matching time series data
Message-ID: <61411576E951D211AF330008C7245DD904336E0D@ntmsg0005.corpmail.telstra.com.au>

howdy R gurus,

I was hoping for some input into a data matching problem I have.

I have 2 sets of time-series data from 2 different computers and I need to
'match' them up.  The response variables from computer1 should match
response from computer2 but the problem is that  both computers naturally
have their own clocks. So time t0 on computer1 is actually t0+k on
computer2.

I need to find the constant offset to match both sets of time-series.

How do I approach this?  Maybe some sort of iterative process for the
constant and stop when SSE is minimised?

thanks,
John Strumila
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Mar 10 02:17:53 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 9 Mar 2000 17:17:53 -0800 (PST)
Subject: [R] Help with na.action option
In-Reply-To: <dgkzos8uqf1.fsf@scs2.ncl.ac.uk>
Message-ID: <Pine.GSO.4.21.0003091707160.12069-100000@mail.biostat.washington.edu>

On 9 Mar 2000, R.E. Darnell wrote:

> I would like to define my own na.action function to be used by the
> glm (actually slightly modified glm) function but I would like to
> return not just a data object but set other variables like
> control$maxit..
> 
> I have been able to achieve the initial bit (returning a new data
> object) but I am not sure how my na.my.action function can set
> these other variables.
> 
> I would appreciate any help on this

This is tricky because it's not supposed to happen that way.  na.action is
called right down in model.frame. The way we handle model formulas is that
model.frame is evaluated in the environment where glm is called, not in
the environment inside glm. This means that when na.action is called it
can't easily get to the environment where control$max.it lives.

Also, even if it were possible it probably wouldn't be the best solution
-- it's bad enough to mess with variables in the global environment using
<<-, but altering variables in non-nested environments is going to get
confusing very quickly.

It would be much easier to return the information as an attribute of the
model frame and then edit the source code of glm to extract that
information and use it to change control$maxit

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar 10 08:20:44 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 10 Mar 2000 07:20:44 +0000 (GMT)
Subject: [R] how to document user-defined packages for windows
In-Reply-To: <OFF0BB2F33.850DBFDC-ON8525689D.00715569@un.org>
Message-ID: <Pine.GSO.4.05.10003100719270.9380-100000@auk.stats>

On Thu, 9 Mar 2000, Griffith Feeney wrote:

> After several hours of trial and error I've figured out how to create
> packages for use by rw1000 ("Writing R Extensions" seems not to cover
> this).
> 
> I haven't been able to figure out how to make help files work. I want plain
> text only, via help(name) or ?name.
> 
> I create a 'help' subdirectory containing a 00Titles file and
> function-specific help files in the package directory, but help() doesn't
> see them, I get, e.g.,
> 
>      Error in help(get.source.data) : No documentation for
> `get.source.data'
> 
> Could someone indicate briefly what must be done to make help() work for
> user-defined packages under windows, or point me to pertinent documentation
> if I've missed it? Thanks!

You write documentation axactly as described in `Writing R Extensions',
and you then install the package as descirbed in the rw-FAQ and in the file
`readme.packages' in rw1000sp.zip.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From toimelat at saunalahti.fi  Fri Mar 10 11:18:14 2000
From: toimelat at saunalahti.fi (Kari Ruohonen)
Date: Fri, 10 Mar 2000 12:18:14 +0200 (EET)
Subject: [R] logit and polytomous data
Message-ID: <200003101018.MAA22837@palsternakka.saunalahti.fi>

I am new to generalized linear models and studying 
McCullagh & Nelder (1989). Especially, I have a problem 
resembling the \"cheese taste\" example (5.3.1. p. 109) of 
the book. I tried to analyse the cheese example with R but 
failed to do so because R allowed me to use logit link 
function only with binary family that supposes 0 <= y <= 1. 
Do I need to scale the y\'s or is there another way?

Kari Ruohonen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cribari at de.ufpe.br  Fri Mar 10 13:09:58 2000
From: cribari at de.ufpe.br (Francisco Cribari Neto)
Date: Fri, 10 Mar 2000 09:09:58 -0300 (EST)
Subject: [R] simple ts plot question
Message-ID: <200003101209.JAA14605@de.ufpe.br>


Hi, I have a simple question regarding plots of time series. I 
have two time series, say ts1.ts and ts2.ts. They are both monthly. 
The first one ranges from 1944:2 through 1999:7 whereas the second 
one ranges from 1974:1 through 1993:6. How can I plot both of them 
in the same plot (the shorther series would be only displayed in a 
section of the x axis since it is shorter). 

My naive try was 

plot(c(ts1.ts, ts2.ts), xlab="time", ylab="")

but it did not work. Note: I have defined the two series as 

ts1.ts <- ts(series1, start=c(1944,2), frequency=12) # 234 obs. 
ts2.ts <- ts(series2, start=c(1974,1), frequency=12) # 666 obs. 

Thanks a lot in advance. Best, Francisco. 

PS: I am using R for Windows and R for (Red Hat) Linux version 
1.0.0. 

Francisco Cribari-Neto               voice: +55-81-2718420
Departamento de Estatistica          fax:   +55-81-2718422
Universidade Federal de Pernambuco   e-mail: cribari at de.ufpe.br
Recife/PE, 50740-540, Brazil         web: www.de.ufpe.br/~cribari/

If a train station is where a train stops, then what is a workstation?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar 10 12:52:31 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 10 Mar 2000 11:52:31 +0000 (GMT)
Subject: [R] simple ts plot question
Message-ID: <200003101152.LAA25008@toucan.stats.ox.ac.uk>


> Date: Fri, 10 Mar 2000 09:09:58 -0300 (EST)
> From: Francisco Cribari Neto <cribari at de.ufpe.br>
> To: r-help at stat.math.ethz.ch
> Subject: [R] simple ts plot question
> 
> 
> Hi, I have a simple question regarding plots of time series. I 
> have two time series, say ts1.ts and ts2.ts. They are both monthly. 
> The first one ranges from 1944:2 through 1999:7 whereas the second 
> one ranges from 1974:1 through 1993:6. How can I plot both of them 
> in the same plot (the shorther series would be only displayed in a 
> section of the x axis since it is shorter). 
> 
> My naive try was 
> 
> plot(c(ts1.ts, ts2.ts), xlab="time", ylab="")
> 
> but it did not work. Note: I have defined the two series as 

Use cbind, or use ts.plot. Examples:

data(nottem)
ts1.ts <-  window(nottem, end=c(1936,12))
ts2.ts <-  window(nottem, start=c(1930,1))+15
plot(cbind(ts1.ts, ts2.ts))
plot(cbind(ts1.ts, ts2.ts), plot.type="single")
ts.plot(ts1.ts, ts2.ts)  # same as above

See help on plot.ts and ts.plot

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Fri Mar 10 13:01:16 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Fri, 10 Mar 2000 13:01:16 +0100
Subject: [R] simple ts plot question
In-Reply-To: <200003101209.JAA14605@de.ufpe.br>; from cribari@de.ufpe.br on Fri, Mar 10, 2000 at 09:09:58AM -0300
References: <200003101209.JAA14605@de.ufpe.br>
Message-ID: <20000310130116.A12365@sirio.stat.unipd.it>

On Fri, Mar 10, 2000 at 09:09:58AM -0300, Francisco Cribari Neto wrote:
> 
> Hi, I have a simple question regarding plots of time series. I 
> have two time series, say ts1.ts and ts2.ts. They are both monthly. 
> The first one ranges from 1944:2 through 1999:7 whereas the second 
> one ranges from 1974:1 through 1993:6. How can I plot both of them 
> in the same plot (the shorther series would be only displayed in a 
> section of the x axis since it is shorter). 
> 
> My naive try was 
> 
> plot(c(ts1.ts, ts2.ts), xlab="time", ylab="")
> 
> but it did not work. Note: I have defined the two series as 
> 

  Try
  > plot(cbind(ts1.ts,ts2.ts),xlab="time", ylab="", plot.type="single")

  or better something like:
  > plot(cbind(ts1.ts,ts2.ts),plot.type="single",
  + col=c("yellow","red"),lty=c("solid","dotted")) #colours and patterns

  It can also be helpful to contrast 'c(ts1.ts,ts2.ts)' with
  'cbind(ts1.ts,ts2.ts)'.

  guido

  
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar 10 13:15:42 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 10 Mar 2000 12:15:42 +0000 (GMT)
Subject: [R] logit and polytomous data
Message-ID: <200003101215.MAA25064@toucan.stats.ox.ac.uk>


> Date: Fri, 10 Mar 2000 12:18:14 +0200 (EET)
> From: Kari Ruohonen <toimelat at saunalahti.fi>
> 
> I am new to generalized linear models and studying 
> McCullagh & Nelder (1989). Especially, I have a problem 
> resembling the \"cheese taste\" example (5.3.1. p. 109) of 
> the book. 

You confused me. It is on page 109 of McCullagh & Nelder (1983), the
first edition. That example is not using a glm: see later.

> I tried to analyse the cheese example with R but 
> failed to do so because R allowed me to use logit link 
> function only with binary family that supposes 0 <= y <= 1. 
> Do I need to scale the y\'s or is there another way?

You want the *binomial* family.  From Venables & Ripley
(1999, pp. 218-9)

1. If the response is a numeric vector it is assumed to hold
  the data in ratio form, $y_i = s_i/a_i$, in which case the
  $a_i$s must be given as a vector of weights using the
  \sfn{weights} argument.  (If the $a_i$ are all one the default
  \sfn{weights} suffices.)
  
2. If the response is a logical vector or a two-level factor
  it is treated as a 0/1 numeric vector and handled as previously.

  If the response is a multi-level factor, the first level is treated
  as 0 (failure) and all others as 1 (success).

3. If the response is a two-column matrix it is assumed that the
  first column holds the number of successes, $s_i$, and the second
  holds the number of failures, $a_i - s_i$, for each trial.  In
  this case no \sfn{weights} argument is required.

The less-intuitive third form allows the fitting function to select a
better starting value, so we tend to favour it.

This is using the standard notation for a GLM family: for a binomial
s_i is the number of successes out of a_i trial.


HOWEVER, the analysis in McCullagh and Nelder (1983) is via an ordinal
logistic regression.

Here's an R analysis:

library(MASS)
counts <- scan()
0  0  1  7  8  8 19  8  1
6  9 12 11  7  6  1  0  0
1  1  6  8 23  7  5  1  0
0  0  0  1  3  7 14 16 11

resp <- ordered(gl(9, 1, 36))
cheese <- gl(4, 9, 36, labels=LETTERS[1:4])
cheese <- relevel(cheese, "D")

fit <- polr(resp ~ cheese, weights=counts, Hess=TRUE)
fit

Call:
polr(formula = resp ~ cheese, weights = counts, Hess=TRUE)

Coefficients:
  cheeseA   cheeseB   cheeseC 
-1.612792 -4.964633 -3.322695 

Intercepts:
       1|2        2|3        3|4        4|5        5|6        6|7        7|8 
-7.0801140 -6.0249573 -4.9253989 -3.8568048 -2.5205479 -1.5685582 -0.0669085 
       8|9 
 1.4929198 

Residual Deviance: 711.35 
AIC: 733.35 

summary(fit)
...
Coefficients:
            Value Std. Error    t value
cheeseA -1.612792  0.3805424  -4.238139
cheeseB -4.964633  0.4767185 -10.414182
cheeseC -3.322695  0.4218289  -7.876879
...
vcov(fit)
...


(Summary on polr should be able to give the correlations, but the presnet
version has a small bug.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Christian.Bauer at uni-bayreuth.de  Fri Mar 10 14:31:19 2000
From: Christian.Bauer at uni-bayreuth.de (Christian Bauer)
Date: Fri, 10 Mar 2000 14:31:19 +0100
Subject: [R] Re: R 1.0.0 for Windows
In-Reply-To: <20000302111302.32118@hal.stat.unipd.it>
Message-ID: <200003101327.OAA20968@btr0x1.rz.uni-bayreuth.de>

Danke!

Christian
Dipl.-Math. Christian Bauer
Lehrstuhl f?r Mathematische Statistik
(Mathematik VII)
Universit?t Bayreuth
95440 Bayreuth
Tel. : +49 (0)921 55-3274
mailto:Christian.Bauer at uni-bayreuth.de
http://btrzxa.fddi.uni-bayreuth.de/~btm719/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Laurent.Gautier at lionbioscience.com  Fri Mar 10 17:07:00 2000
From: Laurent.Gautier at lionbioscience.com (Laurent Gautier)
Date: Fri, 10 Mar 2000 17:07:00 +0100
Subject: [R] Problem while installing packages
Message-ID: <38C90F9F.294C95BB@lionbioscience.com>

Dear R team / R helpers / R users ,


I downloaded R-1.0.0 to install it but I am currently facing the
following problem :
Installation of packages.


Here is the output I had while trying to install RmSQL :
-------------
> R INSTALL -l /software/R-1.0.0/library/
/software/archive/R/RmSQL_0.2-1.tar.gz
Installing package `RmSQL' ...
 libs
RmSQL.c:7: msql.h: No such file or directory
make: *** [RmSQL.o] Error 1
 R
 help
 >>> Building/Updating help pages for package `RmSQL'
     Formats: text html latex example
 DONE (RmSQL)
<here I interrupted the installation>
---------------

I am even more confused trying to install multiv :
--------------
> R INSTALL -l /software/R-1.0.0/library/
/software/archive/R/multiv_1.0-3.tar.gz
Installing package `multiv' ...
 libs
g77  -fPIC -g -O2 -c bea.f -o bea.o
g77  -fPIC -g -O2 -c ca.f -o ca.o
g77  -fPIC -g -O2 -c hc.f -o hc.o
g77  -fPIC -g -O2 -c hcmovie.f -o hcmovie.o
g77  -fPIC -g -O2 -c members.f -o members.o
g77  -fPIC -g -O2 -c partition.f -o partition.o
g77  -fPIC -g -O2 -c pca.f -o pca.o
g77  -fPIC -g -O2 -c sammon.f -o sammon.o
gcc -shared  -o /software/R-1.0.0/library/multiv/libs/multiv.so bea.o
ca.o hc.o hcmovie.o members.o partition.o pca.o sammon.o
-L/usr/lib/gcc-lib/i486-linux/egcs-2.91.66 -L/usr/i486-linux/lib -lg2c
-lm
 R
 help
 >>> Building/Updating help pages for package `multiv'
     Formats: text html latex example
 DONE (multiv)

DONE (INSTALL)
----------

Obviously something went wrong with the documentation this time... In
'R', the command
'library()' does not list 'multiv' as package...



I certainly did something wrong.... but what ????




Laurent Gautier

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hothorn at ci.tuwien.ac.at  Fri Mar 10 17:19:38 2000
From: hothorn at ci.tuwien.ac.at (Torsten Hothorn)
Date: Fri, 10 Mar 2000 17:19:38 +0100 (CET)
Subject: [R] Problem while installing packages
In-Reply-To: <38C90F9F.294C95BB@lionbioscience.com>
Message-ID: <Pine.LNX.4.21.0003101714240.30494-100000@boromir.ci.tuwien.ac.at>

> 
> Here is the output I had while trying to install RmSQL :
> -------------
> > R INSTALL -l /software/R-1.0.0/library/
> /software/archive/R/RmSQL_0.2-1.tar.gz
> Installing package `RmSQL' ...
>  libs
> RmSQL.c:7: msql.h: No such file or directory
> make: *** [RmSQL.o] Error 1
>  R
>  help
>  >>> Building/Updating help pages for package `RmSQL'
>      Formats: text html latex example
>  DONE (RmSQL)
> <here I interrupted the installation>


RmSQL is based on mSQL, which is a database system. RmSQL needs the msql
library and msql.h. You will have to install msql (www.Hughes.com.au)
and edit the Makefile in RmSQL/src (this will work without changes, if you
install mSQL in /usr/local/Hughes). 

Should add a configure script :-)
 
Torsten



> ---------------
> 
> I am even more confused trying to install multiv :
> --------------
> > R INSTALL -l /software/R-1.0.0/library/
> /software/archive/R/multiv_1.0-3.tar.gz
> Installing package `multiv' ...
>  libs
> g77  -fPIC -g -O2 -c bea.f -o bea.o
> g77  -fPIC -g -O2 -c ca.f -o ca.o
> g77  -fPIC -g -O2 -c hc.f -o hc.o
> g77  -fPIC -g -O2 -c hcmovie.f -o hcmovie.o
> g77  -fPIC -g -O2 -c members.f -o members.o
> g77  -fPIC -g -O2 -c partition.f -o partition.o
> g77  -fPIC -g -O2 -c pca.f -o pca.o
> g77  -fPIC -g -O2 -c sammon.f -o sammon.o
> gcc -shared  -o /software/R-1.0.0/library/multiv/libs/multiv.so bea.o
> ca.o hc.o hcmovie.o members.o partition.o pca.o sammon.o
> -L/usr/lib/gcc-lib/i486-linux/egcs-2.91.66 -L/usr/i486-linux/lib -lg2c
> -lm
>  R
>  help
>  >>> Building/Updating help pages for package `multiv'
>      Formats: text html latex example
>  DONE (multiv)
> 
> DONE (INSTALL)
> ----------
> 
> Obviously something went wrong with the documentation this time... In
> 'R', the command
> 'library()' does not list 'multiv' as package...
> 
> 
> 
> I certainly did something wrong.... but what ????
> 
> 
> 
> 
> Laurent Gautier
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bxf4 at psu.edu  Fri Mar 10 20:20:10 2000
From: bxf4 at psu.edu (Brian P. Flaherty)
Date: 10 Mar 2000 14:20:10 -0500
Subject: [R] variable name to hist within apply?
Message-ID: <w52ityu1vkl.fsf@psu.edu>

Hello,

After spending sometime trying to generate histograms of all the
numeric variables in a data frame using a for loop, I realized I could
use apply to create the histograms.  This was one of those few moments
when I `see' the alternative to looping.

So, I can generate all the histograms with this command:

apply(toblo.df[,-c(40,52)],2,hist) # 40 and 52 are ID's

When I do this, the name of each histogram is "Histogram of
newX[,i]".  Just out of curiosity, where does `newX[,i]' come from?
The help page for hist, it says the data argument is `x'.

The problem with this naming style is that there are over 100
variables in this data set and it would be nice if the name of each
variable was above the histogram, instead of an `i'.  How do I get the
variable name into the title of the histogram?  I have tried a lot of
things including:

apply(toblo.df[,-c(40,52)],2,hist, main=names(x)[i])
  # error, x not found

apply(toblo.df[,-c(40,52)],2,hist, main="names(x)[i]")
  # the name is "names(x)[i]"

apply(toblo.df[,-c(40,52)],2,hist, main=names(newX)[i])

I also created a vector of the dimnames of toblo.df and then tried
this:

apply(toblo.df[,-c(40,52)],2,hist, main=varnames[i])

but in this case, the title of each histogram is `NA'.  Presumably
this is because there isn't an `i' available even though I know
somewhere apply is passing hist an `i'.

Any pointers on this will be appreciated.  I also will be happy to
summarize any answers I receive via email.  Thanks for your time.


-- 
Brian P. Flaherty
The Pennsylvania State University	office phone:  814/863-5836 
The Methodology Center			fax:  814/863-0000          
S-159 Henderson Bldg.			email:  bxf4 at psu.edu
University Park, PA, 16802		http://www.personal.psu.edu/~bxf4

-- 
      /"\
      \ /     ASCII RIBBON CAMPAIGN
       X        AGAINST HTML MAIL  
      / \ 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Mar 10 20:35:33 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 10 Mar 2000 11:35:33 -0800 (PST)
Subject: [R] variable name to hist within apply?
In-Reply-To: <w52ityu1vkl.fsf@psu.edu>
Message-ID: <Pine.GSO.4.21.0003101129530.3610-100000@mail.biostat.washington.edu>

On 10 Mar 2000, Brian P. Flaherty wrote:

> Hello,
> 
> After spending sometime trying to generate histograms of all the
> numeric variables in a data frame using a for loop, I realized I could
> use apply to create the histograms.  This was one of those few moments
> when I `see' the alternative to looping.
> 
> So, I can generate all the histograms with this command:
> 
>apply(toblo.df[,-c(40,52)],2,hist) # 40 and 52 are ID's 
> 
> When I do this, the name of each histogram is "Histogram of
> newX[,i]".  Just out of curiosity, where does `newX[,i]' come from?
> The help page for hist, it says the data argument is `x'.

Yes, but the argument with which hist is called is newX[,i] (if you look
inside the code for apply)
 
> The problem with this naming style is that there are over 100
> variables in this data set and it would be nice if the name of each
> variable was above the histogram, instead of an `i'.  How do I get the
> variable name into the title of the histogram?  I have tried a lot of
> things including:


apply((1:NCOL(toblo.df))[-c(40,52)],
	function (i) hist(toblo.df[,i],main=names(toblo.df)[i]))

should work.  We don't have an analogue of the lisp mapcar function which
takes multiple data arguments (like the data and the names in this case).


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feeney at un.org  Sat Mar 11 20:42:10 2000
From: feeney at un.org (Griffith Feeney)
Date: Sat, 11 Mar 2000 14:42:10 -0500
Subject: [R] how to document user-defined packages for windows
Message-ID: <OF5E78F374.0AC81177-ON8525689F.00667BF3@un.org>


On Thu, 9 Mar 2000, Griffith Feeney wrote:

>> After several hours of trial and error I've figured out how to create
>> packages for use by rw1000 ("Writing R Extensions" seems not to cover
>> this).
[snip]

[Prof Brian D Ripley wrote]
>You write documentation axactly as described in `Writing R Extensions',
>and you then install the package as descirbed in the rw-FAQ and in the
file
>`readme.packages' in rw1000sp.zip.

Thanks, this clarifies my confusion. All I want to do is put a few dozen
simple R programs in a package that I can attach to the search path with
library(). This to keep them from cluttering up the current workspace.
Having always downloaded and installed binaries of R, and never having used
gcc or make, it didn't occur to me that such a package should be created
with these tools. I succeeded in getting my package recognized by manually
creating the necessary directories and files, but I couldn't get the help
files recognized.

After appropriate preparation (reading the FAQ and readme files, installing
the various tools, no problem here, I think) I tried out the procedure
described in the Simple Ports section of readme.packages by downloading and
attempting to install the chron package. 'tar zxvf chron_2_2-2_tar.gz'
creates c:\rw1000\src\library\chron okay, but 'make pkg-chron' gives

C:\rw1000\src\gnuwin32>make pkg-chron
Too many parameters - /..
Makefile:49: *** missing separator.  Stop.

At this point, I'm lost. The Simple Ports section of readme.packages
doesn't say anything about editing (any of the various) make files, and
in any case the other references to such editing in the R documentation
are too terse (e.g., from INSTALL for R-1.0.0, "edit MkRules to set the
appropriate paths as needed") to guide someone who has never used make.

If it is the only way to get R to see my help files, I will eventually
find time to learn about make, but if there's a more direct route
I could move forward more quickly. Thanks in advance for any help.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Sat Mar 11 22:51:31 2000
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Sat, 11 Mar 2000 22:51:31 +0100
Subject: [R] polr question
Message-ID: <000301bf8ba3$f9d6d780$2c4fa8c0@tring.stofanet.dk>

Dear friends. 
Do Polr in Mass change the sign of the coefficients ? Example (McCullagh 1980)
options(contrasts=c("contr.treatment","contr.poly"))
library(Mass)
freq <- c(19,29,24,497,560,269)
yy <- ordered(gl(3,1,6))
z4 <- polr(yy~x,weights=freq)
> z4
Call:
polr(formula = yy ~ x, weights = freq)

Coefficients:
        x2 
-0.6026492 

Intercepts:
       1|2        2|3 
-1.1111584  0.7600705 

Residual Deviance: 2955.49 
AIC: 2961.49 

- since as specified the logit for the non-carrier for being in the lower categories is higher ?
as also got from Lindsey's library:
library(gnlm)
y <- c(0:2,0:2) #must start at zero
x <- gl(2,3,6)
z3 <- ordglm(y~x,weights=freq)
z3
Call:
ordglm(y ~ x, weights = freq)

-Log likelihood    1477.747 
AIC                1480.747 
Deviance           0.3022138 
df                 3 
Iterations         4 

Location coefficients
             estimate    s.e.
(Intercept)   -1.1120  0.2255
x2             0.6035  0.0676

Intercept contrasts
      estimate    s.e.
b[2]     1.871  0.2225

Correlation matrix
        1        2        3
1  1.0000 -0.96836 -0.17098
2 -0.9684  1.00000  0.06321
3 -0.1710  0.06321  1.00000

--which also gives the correlation.

The fits are otherwise very similar, but why the difference in coefficients ?


Troels Ring, M.D
Department of Nephrology
Aalborg, Denmark
tring at mail1.stofanet.dk

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cberry at tajo.ucsd.edu  Sun Mar 12 01:57:52 2000
From: cberry at tajo.ucsd.edu (Charles C. Berry)
Date: Sat, 11 Mar 2000 16:57:52 -0800
Subject: [R] make check fails after base-Ex.R
Message-ID: <38CAEB90.854546FC@tajo.ucsd.edu>

Dear R-help,


I tried to build the R-release version of R-1.0.0.

./configure and make seemed to go just fine.

When I ran 'make check' from $RHOME, it dumped core apparently in the 

	quit('no') 

on the last line of  base-Ex.R

I had been having some problems with a package I am building in that R
would report with "Process R segmentation violation (core dumped)" upon
q() in this and R-0.90.1 even though it seemed to do calculations that
agree with an equivalent package compiled and run under S+3.4.

So I tried to mimic base-Ex.R, viz.
(gdb) run
Starting program: /usr/local/R/R-release/bin/R.X11
[snip banner]

> library(mva)
> q()
Save workspace image? [y/n/c]: n

Program received signal SIGSEGV, Segmentation fault.
0xfefe333c in __do_global_dtors_aux ()
   from /usr/local/R/R-release/library/mva/libs/mva.so
(gdb) 

----------

FWIW, upon restarting R, loading mva, and setting a breakpoint at
__do_global_dtors_aux, I determined that the segfault occurs in the
third attempted 'step'

This also happens in R-0.90.1.

So what is wrong with my setup.

I have 

Solaris 7,
gcc version 2.95.1 19990816 (release) w/ g77 (binary distrn from
sunfreeware.com)
/usr/ccs/bin/make (Sun)

and can send my config.site, etc if it would help to sort things out.

Please advise.

TIA,

Chuck Berry

--please do not edit the information below--

Version:
 platform = sparc-sun-solaris2.7
 arch = sparc
 os = solaris2.7
 system = sparc, solaris2.7
 status = Patched
 major = 1
 minor = 0.0
 year = 2000
 month = February
 day = 29
 language = R

Search Path:
 .GlobalEnv, Autoloads, package:base

-- 
Charles C. Berry                        (858) 534-2098 
                                         Dept of Family/Preventive
Medicine
E mailto:cberry at tajo.ucsd.edu	         UC San Diego
http://hacuna.ucsd.edu/members/ccb.html  La Jolla, San Diego 92093-0645
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Mar 12 09:10:00 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 12 Mar 2000 08:10:00 +0000 (GMT)
Subject: [R] polr question
In-Reply-To: <000301bf8ba3$f9d6d780$2c4fa8c0@tring.stofanet.dk>
Message-ID: <Pine.GSO.4.05.10003120728340.12838-100000@auk.stats>

On Sat, 11 Mar 2000, Troels Ring wrote:

> Dear friends. 
> Do Polr in Mass change the sign of the coefficients ? Example (McCullagh 1980)

No, but there are at least three conventions here.  The simplest way to
interpret a polr model is as a discretized linear model with a logistic
error distribution, and that is what polr does.  So think of the
coefficients as being those of the variation with x of the (mean, mode) of
the underlying logistic, and the intercepts as the breakpoints for the
discretization.

> options(contrasts=c("contr.treatment","contr.poly"))
> library(Mass)

(Um, it's MASS, and you are only getting away with this on Windows.
Don't trust what is displayed in Explorer by default.)

> freq <- c(19,29,24,497,560,269)
> yy <- ordered(gl(3,1,6))
> z4 <- polr(yy~x,weights=freq)
> > z4
> Call:
> polr(formula = yy ~ x, weights = freq)
> 
> Coefficients:
>         x2 
> -0.6026492 
> 
> Intercepts:
>        1|2        2|3 
> -1.1111584  0.7600705 
> 
> Residual Deviance: 2955.49 
> AIC: 2961.49 
> 
> - since as specified the logit for the non-carrier for being in the 
lower categories is higher ?

I don't see any mention of a carrier here, nor of x?  But if you had
the table

y=    1   2   3
x=0   19  29  24
x=1  497 560 269

I can reproduce your results, and the larger x does tend to give a lower
response.  (That does seem the natural sign for the x coefficient to me.)

Note that glm will give the same sign (apart from the intercepts) as polr:

> glm(yy ~ x, weights=freq, family=binomial)

Call:  glm(formula = yy ~ x, family = binomial, weights = freq) 

Coefficients:
(Intercept)            x  
     1.0258      -0.5142  

> glm((yy>2) ~ x, weights=freq, family=binomial)

Call:  glm(formula = (yy > 2) ~ x, family = binomial, weights = freq) 

Coefficients:
(Intercept)            x  
    -0.6931      -0.6753  

The sign of the intercepts are different, as you need to subtract the
breakpoint to get a zero-breakpoint model.


> as also got from Lindsey's library:

[...]

I think that has one of the other conventions, which are logistic models
for P(Y <= k | x)  or P(Y > k | x).



-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Mar 12 09:29:41 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 12 Mar 2000 08:29:41 +0000 (GMT)
Subject: problems building on Solaris 7 (was [R] make check fails after
 base-Ex.R)
In-Reply-To: <38CAEB90.854546FC@tajo.ucsd.edu>
Message-ID: <Pine.GSO.4.05.10003120811540.12838-100000@auk.stats>

On Sat, 11 Mar 2000, Charles C. Berry wrote:

> Dear R-help,
> 
> 
> I tried to build the R-release version of R-1.0.0.

Do you mean the R-release version, period?  There have been problems
with the distribution of that.

> ./configure and make seemed to go just fine.
> 
> When I ran 'make check' from $RHOME, it dumped core apparently in the 
> 
> 	quit('no') 
> 
> on the last line of  base-Ex.R
> 
> I had been having some problems with a package I am building in that R
> would report with "Process R segmentation violation (core dumped)" upon
> q() in this and R-0.90.1 even though it seemed to do calculations that
> agree with an equivalent package compiled and run under S+3.4.
> 
> So I tried to mimic base-Ex.R, viz.
> (gdb) run
> Starting program: /usr/local/R/R-release/bin/R.X11
> [snip banner]
> 
> > library(mva)
> > q()
> Save workspace image? [y/n/c]: n
> 
> Program received signal SIGSEGV, Segmentation fault.
> 0xfefe333c in __do_global_dtors_aux ()
>    from /usr/local/R/R-release/library/mva/libs/mva.so
> (gdb) 
> 
> ----------
> 
> FWIW, upon restarting R, loading mva, and setting a breakpoint at
> __do_global_dtors_aux, I determined that the segfault occurs in the
> third attempted 'step'

I assume that is somewhere deep in the exit code (it is not a public
routine, as its name shows). My guess is that it cannot unload shared
libraries.

> This also happens in R-0.90.1.
> 
> So what is wrong with my setup.
> 
> I have 
> 
> Solaris 7,
> gcc version 2.95.1 19990816 (release) w/ g77 (binary distrn from
> sunfreeware.com)
> /usr/ccs/bin/make (Sun)

We have no problems with Solaris 2.7 aka 7, gcc 2.95.2 (never tried 2.95.1,
which was current for only a very short while) built ourselves (on 2.6) and
GNU or Sun make.  On what version was your binary compiler distribution
built? That site has 2.95.2 for Solaris 7 currently (and emacs-20.4 even
though .6 is out!)  I would try that for a start (although I would build my
own).


> Version:
>  platform = sparc-sun-solaris2.7
>  arch = sparc
>  os = solaris2.7
>  system = sparc, solaris2.7
>  status = Patched
>  major = 1
>  minor = 0.0
>  year = 2000
>  month = February
>  day = 29
>  language = R

This indicates the R-release distribution during a phase when it was out of
date (and so actually unpatched).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cberry at tajo.ucsd.edu  Mon Mar 13 01:44:54 2000
From: cberry at tajo.ucsd.edu (Charles C. Berry)
Date: Sun, 12 Mar 2000 16:44:54 -0800 (PST)
Subject: problems building on Solaris 7 (was [R] make check fails after
 base-Ex.R)
In-Reply-To: <Pine.GSO.4.05.10003120811540.12838-100000@auk.stats>
Message-ID: <Pine.GSO.4.05.10003121633540.23883-100000@tajo.ucsd.edu>



Following the suggestion (below), I installed gcc-2.95.2.

This solved the segfault and make check hiccups.

Thanks so much,

Chuck Berry

On Sun, 12 Mar 2000, Prof Brian D Ripley wrote:

> On Sat, 11 Mar 2000, Charles C. Berry wrote:
> 
> > Dear R-help,
> > 
> > 
> > I tried to build the R-release version of R-1.0.0.
> 
> Do you mean the R-release version, period?  There have been problems
> with the distribution of that.
> 

That's what I meant.


> > ./configure and make seemed to go just fine.
> > 
[delete description of segfault and make check problems]
> >
> 
> We have no problems with Solaris 2.7 aka 7, gcc 2.95.2 (never tried 2.95.1,
> which was current for only a very short while) built ourselves (on 2.6) and
> GNU or Sun make.  On what version was your binary compiler distribution
> built? That site has 2.95.2 for Solaris 7 currently (and emacs-20.4 even
> though .6 is out!)  I would try that for a start (although I would build my
> own).
> 
> 
> > Version:
> >  platform = sparc-sun-solaris2.7
> >  arch = sparc
> >  os = solaris2.7
> >  system = sparc, solaris2.7
> >  status = Patched
> >  major = 1
> >  minor = 0.0
> >  year = 2000
> >  month = February
> >  day = 29
> >  language = R
> 
> This indicates the R-release distribution during a phase when it was out of
> date (and so actually unpatched).
> 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 

Charles C. Berry                        (858) 534-2098 
                                         Dept of Family/Preventive Medicine
E mailto:cberry at tajo.ucsd.edu	         UC San Diego
http://hacuna.ucsd.edu/members/ccb.html  La Jolla, San Diego 92093-0645

 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From loschinorris at pacific.net.sg  Tue Mar 14 13:42:12 2000
From: loschinorris at pacific.net.sg (LOSCHINORRIS)
Date: Tue, 14 Mar 2000 13:42:12 +0100
Subject: [R] TRELLIS (Splus) EQUIVALENT IN A FUTURE R ?
Message-ID: <001301bf8db2$bce9d780$5d7318d2@cofito>

Dear R-Help,

I know that R already includes conditioning plots (two variables/factors)
but is there any intention to incorporate an equivalent of Trellis
(Splus) multi-conditional plots in R ?

Thanks,
Carlos.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000314/af50b46f/attachment.html

From sht103 at york.ac.uk  Tue Mar 14 14:48:13 2000
From: sht103 at york.ac.uk (sht103)
Date: Tue, 14 Mar 2000 13:48:13 +0000
Subject: [R] fittin a regression line
Message-ID: <38CE431D.22F9EAED@york.ac.uk>

Dear sirs,

I have tried to find a command to fit(plot) a regression line but I
haven't found any command on the html.help. 
My question is if I am using a regression for instance reg<-lm(y~x) and
I would like to make a regression line, to see how well my data is fit.
Can you please help me with this??
Yours Sincerely
Soheila Zad
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Mar 14 15:01:14 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 14 Mar 2000 08:01:14 -0600
Subject: [R] fittin a regression line
In-Reply-To: sht103's message of "Tue, 14 Mar 2000 13:48:13 +0000"
References: <38CE431D.22F9EAED@york.ac.uk>
Message-ID: <6rd7oxlkgl.fsf@franz.stat.wisc.edu>

sht103 <sht103 at york.ac.uk> writes:

> I have tried to find a command to fit(plot) a regression line but I
> haven't found any command on the html.help.  My question is if I am
> using a regression for instance reg<-lm(y~x) and I would like to
> make a regression line, to see how well my data is fit.  Can you
> please help me with this??

A simple linear regression line can be added to a plot with abline.
For more complicated models, you should generate a sequence of x
values at which you wish to evaluate the model and use the predict
method to get the y values.

The simple case looks like

 plot( y ~ x )
 fm <- lm( y ~ x)
 abline( fm )
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Mar 14 16:10:31 2000
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Tue, 14 Mar 2000 10:10:31 -0500 (EST)
Subject: [R] fittin a regression line
In-Reply-To: <38CE431D.22F9EAED@york.ac.uk>
Message-ID: <Pine.LNX.4.10.10003141009570.2964-100000@bolker.zoo.ufl.edu>


  If you already have your data plotted, abline(reg) will add the
regression line to the plot.

On Tue, 14 Mar 2000, sht103 wrote:

> Dear sirs,
> 
> I have tried to find a command to fit(plot) a regression line but I
> haven't found any command on the html.help. 
> My question is if I am using a regression for instance reg<-lm(y~x) and
> I would like to make a regression line, to see how well my data is fit.
> Can you please help me with this??
> Yours Sincerely
> Soheila Zad
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
Ben Bolker                                  bolker at zoo.ufl.edu
Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker
318 Carr Hall/Box 118525                    tel: (352) 392-5697
Gainesville, FL 32611-8525                  fax: (352) 392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hothorn at ci.tuwien.ac.at  Tue Mar 14 17:22:19 2000
From: hothorn at ci.tuwien.ac.at (Torsten Hothorn)
Date: Tue, 14 Mar 2000 17:22:19 +0100 (CET)
Subject: [R] qr.solve (fwd)
Message-ID: <Pine.LNX.4.21.0003141714560.28579-200000@boromir.ci.tuwien.ac.at>


Two friend reported me a problem, which I can't solve:

(I run R-1.0.0, Debian Linux) 

They hava a function "corr.matrix" (see end of mail), and when they
create a 173x173 matrix with this function

V <- corr.matrix(0.3, n=173)
V1 <- qr.solve(V)

reports:

Error in qr(a, tol = tol) : NA/NaN/Inf in foreign function call (arg 1)

For n < 173, qr.solve returns the correct result. 

Torsten

________________________________________________________________________

corr.matrix <- function(d, n=100)
{
  mat <- NULL
  for(i in 1:n)
  {
  mat <- c(mat,((1-i):(n-i)))
  }
  mat <- abs(mat)
  mat <- corr(mat,d)
  mat <- matrix(mat, ncol=n)
  mat
}

corr <- function (x,d)
{
  rho <- gamma(x+d)*gamma(1-d)
  rho <- rho/(gamma(x-d+1)*gamma(d))
  rho    
}

tr <- function(M)
{
  sum(diag(M))
}

eff <- function(d, n=100, tol=1e-7)
{
  x <- 1:n
  X <- cbind(1,x)
  V <- corr.matrix(d, n=n)
  V1 <- qr.solve(V, tol=tol)
  GLS <- (t(X)%*%V1%*%X)
  GLS <- solve(GLS) %*%t(X)%*%X
  OLS <- solve(t(X)%*%X)%*%t(X)%*%V%*%X
  eff <- tr(GLS)/tr(OLS)
  eff
}

eff.all <- function(n=100, int=0.01, tol=1e-7)
{
  d <- -0.49
  x <- NULL
  y <- NULL
  while(d<0.5)
  {
    x <- c(x,d)
    y <- c(y,eff(d,n=n))
    d <- d + int
  }   
  plot(x,y, type="l", xlab="d", ylab="eff (T, d)", main="Relative efficiency of OLS")
  d <- x
  effizienz <- y
  result <- list(d,effizienz)
  names(result) <- c("d", "effizienz")
  return(result)
}
-------------- next part --------------
corr.matrix <- function(d, n=100)
{
  mat <- NULL
  for(i in 1:n)
  {
  mat <- c(mat,((1-i):(n-i)))
  }
  mat <- abs(mat)
  mat <- corr(mat,d)
  mat <- matrix(mat, ncol=n)
  mat
}

corr <- function (x,d)
{
  rho <- gamma(x+d)*gamma(1-d)
  rho <- rho/(gamma(x-d+1)*gamma(d))
  rho    
}

tr <- function(M)
{
  sum(diag(M))
}

eff <- function(d, n=100, tol=1e-7)
{
  x <- 1:n
  X <- cbind(1,x)
  V <- corr.matrix(d, n=n)
  V1 <- qr.solve(V, tol=tol)
  GLS <- (t(X)%*%V1%*%X)
  GLS <- solve(GLS) %*%t(X)%*%X
  OLS <- solve(t(X)%*%X)%*%t(X)%*%V%*%X
  eff <- tr(GLS)/tr(OLS)
  eff
}

eff.all <- function(n=100, int=0.01, tol=1e-7)
{
  d <- -0.49
  x <- NULL
  y <- NULL
  while(d<0.5)
  {
    x <- c(x,d)
    y <- c(y,eff(d,n=n))
    d <- d + int
  }   
  plot(x,y, type="l", xlab="d", ylab="eff (T, d)", main="Relative efficiency of OLS")
  d <- x
  effizienz <- y
  result <- list(d,effizienz)
  names(result) <- c("d", "effizienz")
  return(result)
}

From thomas at biostat.washington.edu  Tue Mar 14 17:47:07 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 14 Mar 2000 08:47:07 -0800 (PST)
Subject: [R] qr.solve (fwd)
In-Reply-To: <Pine.LNX.4.21.0003141714560.28579-200000@boromir.ci.tuwien.ac.at>
Message-ID: <Pine.GSO.4.21.0003140841560.5271-100000@mail.biostat.washington.edu>

On Tue, 14 Mar 2000, Torsten Hothorn wrote:

> 
> Two friend reported me a problem, which I can't solve:
> 
> (I run R-1.0.0, Debian Linux) 
> 
> They hava a function "corr.matrix" (see end of mail), and when they
> create a 173x173 matrix with this function
> 
> V <- corr.matrix(0.3, n=173)
> V1 <- qr.solve(V)
> 
> reports:
> 
> Error in qr(a, tol = tol) : NA/NaN/Inf in foreign function call (arg 1)
> 
> For n < 173, qr.solve returns the correct result. 


Well, that's because there _are_ NaNs in V (two of them). There are also
some incorrect zeros due to floating point overflow.

In computing V you calculate gamma(172), which is a really really big
number (about 10^309) and it overflows to Inf. As a result, V[1,172]=0 and
V[1,173]=NaN.  

Incidentally, for n=172 you still don't get the right answer.  The
overflow occurs only in the denominator and the [1,172] element is 0
rather than about 0.05.

Use lgamma instead of gamma and exponentiate the result. 

	-thomas




> 
> Torsten
> 
> ________________________________________________________________________
> 
> corr.matrix <- function(d, n=100)
> {
>   mat <- NULL
>   for(i in 1:n)
>   {
>   mat <- c(mat,((1-i):(n-i)))
>   }
>   mat <- abs(mat)
>   mat <- corr(mat,d)
>   mat <- matrix(mat, ncol=n)
>   mat
> }
> 
> corr <- function (x,d)
> {
>   rho <- gamma(x+d)*gamma(1-d)
>   rho <- rho/(gamma(x-d+1)*gamma(d))
>   rho    
> }
> 
> tr <- function(M)
> {
>   sum(diag(M))
> }
> 
> eff <- function(d, n=100, tol=1e-7)
> {
>   x <- 1:n
>   X <- cbind(1,x)
>   V <- corr.matrix(d, n=n)
>   V1 <- qr.solve(V, tol=tol)
>   GLS <- (t(X)%*%V1%*%X)
>   GLS <- solve(GLS) %*%t(X)%*%X
>   OLS <- solve(t(X)%*%X)%*%t(X)%*%V%*%X
>   eff <- tr(GLS)/tr(OLS)
>   eff
> }
> 
> eff.all <- function(n=100, int=0.01, tol=1e-7)
> {
>   d <- -0.49
>   x <- NULL
>   y <- NULL
>   while(d<0.5)
>   {
>     x <- c(x,d)
>     y <- c(y,eff(d,n=n))
>     d <- d + int
>   }   
>   plot(x,y, type="l", xlab="d", ylab="eff (T, d)", main="Relative efficiency of OLS")
>   d <- x
>   effizienz <- y
>   result <- list(d,effizienz)
>   names(result) <- c("d", "effizienz")
>   return(result)
> }
> 

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kelley at Phys.Ocean.Dal.CA  Wed Mar 15 00:29:57 2000
From: kelley at Phys.Ocean.Dal.CA (Dan E. Kelley)
Date: Tue, 14 Mar 2000 19:29:57 -0400 (AST)
Subject: [R] boxplots of 1 datum AND comparing rank and boolean
Message-ID: <Pine.LNX.4.10.10003141912270.31966-100000@Intrusion.Phys.Ocean.Dal.Ca>

Q: When R does 'plot()' in a context that yields boxplots, is there a
way to force it to draw something even if there are only 1 or two data
in the category?  I'd like for it to draw the data, perhaps using the
outlier symbols.  My code is (*** marks the line in question) is the
following, for R-1.0.0:

	d <- read.table("nserc-results-pgsb", header=FALSE, 
                         col.names=c("name","dept","rank","accept"))
	# These data look like:
	#   First.Student   Some.Department     1  1
	#   Second.Student  Another.Department  2  1
	#   Third.Student   Another.Department  3  0
	attach(d)
	rank.inv <- 1/rank
        ll <- lm(accept ~ rank.inv + dept, data=d)
	print(summary(ll))
	print(anova(ll))
	plot(dept,resid(ll))	# makes boxplots ***

Actually, if anybody has a bright idea how I should analyse such data,
I'd love to hear it.  As you can see in the above, I transformed to
1/rank since our committee recorded high 'rank' values for students we
favoured.  It's not clear to me how to compare rankings to boolean
(accept/deny) results, so the 'lm()' above might be silly.

Thanks in advance for any advice.  This group is so generous, it
amazes me.

PS: just because I think it's fun to read what sort of work folks are
doing, the above is work I'm doing in trying to analyze the patterns
in the granting of scholarships by NSERC, the science granting agency
in Canada.  I chair a committee at my university that ranks
postgraduate students and sends the files to NSERC.  While NSERC
nearly obeys our rankings, it seems to me that favour some
departments.  I'd like to test that (hence "accept ~ rank.inv + dept"
in the above).

Dan E. Kelley                   internet:   mailto:Dan.Kelley at Dal.CA
Oceanography Department         phone:                 (902)494-1694
Dalhousie University            fax:                   (902)494-2885
Halifax, NS, CANADA, B3H 4J1    http://www.phys.ocean.dal.ca/~kelley

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Wed Mar 15 03:33:37 2000
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Wed, 15 Mar 2000 15:33:37 +1300
Subject: [R] TRELLIS (Splus) EQUIVALENT IN A FUTURE R ?
References: <001301bf8db2$bce9d780$5d7318d2@cofito>
Message-ID: <008f01bf8e26$de3463a0$175dd882@stat.auckland.ac.nz>

hi


>I know that R already includes conditioning plots (two variables/factors)
>but is there any intention to incorporate an equivalent of Trellis
>(Splus) multi-conditional plots in R ?


Trellis-like functionality is definitely on the wish list, but i'm afraid
there is no promise on when it will get done (other than "as soon as
possible" :)

paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.malewski at tu-bs.de  Wed Mar 15 08:13:08 2000
From: p.malewski at tu-bs.de (Peter Malewski)
Date: Wed, 15 Mar 2000 08:13:08 +0100 (CET)
Subject: [R] TRELLIS (Splus) EQUIVALENT IN A FUTURE R ?
In-Reply-To: <001301bf8db2$bce9d780$5d7318d2@cofito>
Message-ID: <Pine.LNX.4.21.0003150804130.745-100000@Uranus.Levi>

On Tue, 14 Mar 2000, LOSCHINORRIS wrote:

> Dear R-Help,
> 
> I know that R already includes conditioning plots (two variables/factors)
> but is there any intention to incorporate an equivalent of Trellis
> (Splus) multi-conditional plots in R ?

(Just an opinion): I made Trellis-plots two years ago with splus 3. The
only thing I can remember was the heavy amount of time to prepare the data
for 1 plot (patially because i was new to s). And the way to pass
arguments via panel was tricky..With R I use subscripting to produce
cond. graphs. I have the feeling that this is -in the mean- easier and
faster, the code is more readable, etc. 

btw. R has the coplot function...   

best wishes
P.

**************************************************************************
P.Malewski				Tel.: 0531 500965
Maschplatz 8				mailto: Peter.Malewski at gmx.de
************************38114 Braunschweig********************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Mar 15 12:26:47 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 15 Mar 2000 12:26:47 +0100 (MET)
Subject: [R] boxplots of 1 (or 2 or 3) "datum" ..
In-Reply-To: <Pine.LNX.4.10.10003141912270.31966-100000@Intrusion.Phys.Ocean.Dal.Ca>
References: <Pine.LNX.4.10.10003141912270.31966-100000@Intrusion.Phys.Ocean.Dal.Ca>
Message-ID: <14543.29559.275479.362653@lynne.ethz.ch>

>>>>> "Dan" == Dan E Kelley <kelley at Phys.Ocean.Dal.CA> writes:

    Dan> Q: When R does 'plot()' in a context that yields boxplots, is there a
    Dan> way to force it to draw something even if there are only 1 or two data
    Dan> in the category?  I'd like for it to draw the data, perhaps using the
    Dan> outlier symbols.  My code is (*** marks the line in question) is the
    Dan> following, for R-1.0.0:

    Dan> d <- read.table("nserc-results-pgsb", header=FALSE, 
    Dan>                 col.names=c("name","dept","rank","accept"))
    Dan> # These data look like:
    Dan> #   First.Student   Some.Department     1  1
    Dan> #   Second.Student  Another.Department  2  1
    Dan> #   Third.Student   Another.Department  3  0
but contain more than just three observations, right ?

    Dan> attach(d)
    Dan> rank.inv <- 1/rank
    Dan> ll <- lm(accept ~ rank.inv + dept, data=d)
    Dan> print(summary(ll))
    Dan> print(anova(ll))
    Dan> plot(dept,resid(ll))	# makes boxplots ***

    Dan> Actually, if anybody has a bright idea how I should analyse such data,
    Dan> I'd love to hear it.  As you can see in the above, I transformed to
    Dan> 1/rank since our committee recorded high 'rank' values for students we
    Dan> favoured.  It's not clear to me how to compare rankings to boolean
    Dan> (accept/deny) results, so the 'lm()' above might be silly.

I have misunderstood you completely..
Problem is I cannot repeat your example, since you didn't use "public" data.
(Usually, you'd construct data, something like
	 d <- data.frame(accept = rbinom(100, size=1, pr = .4),
	                 rank = sample(1:100),
			 dept = gl(5, 20))
)
Are you discussing the boxplots that are produced with only 1 or 2
observations per group?

Here are boxplots for n=1, 2, 3, and 4 obs. per group.
What's wrong with these ?

   do.call("boxplot", lapply(1:4,seq))
   title("Boxplot()s of very few points")

*Or* are you suggesting that for n=1, n=2 (and maybe n=3) per group
        plot(factor, continuous)
shouldn't use boxplot()s but rather dot plots ?
This is a suggestion that I've heard and had myself before,
very well worth discussing.

- How should the decision  boxplot / dotplot be made, just depend on n?
  Wouldn't one want the box + the single observations, e.g. when in
  one group n = 3, but in all other groups n ~= 20 (which would make
					     boxplots there in any case)?
- (When) should jittering be used ?

Regards,
Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kelley at Phys.Ocean.Dal.CA  Wed Mar 15 14:25:20 2000
From: kelley at Phys.Ocean.Dal.CA (Dan E. Kelley)
Date: Wed, 15 Mar 2000 09:25:20 -0400 (AST)
Subject: [R] boxplots of 1 (or 2 or 3) "datum" ..
In-Reply-To: <14543.29559.275479.362653@lynne.ethz.ch>
Message-ID: <Pine.LNX.4.10.10003150904110.613-100000@Intrusion.Phys.Ocean.Dal.Ca>

On Wed, 15 Mar 2000, Martin Maechler wrote:
> Problem is I cannot repeat your example, since you didn't use "public" data.
> (Usually, you'd construct data, something like...

First, thanks very much for your informative suggestion about creating
example data.  I'm not good enough at R yet to have thought of that,
and your email taught me some new things, which I really appreciate.
(I didn't enclose the actual data because they relate to confidential
scholarship evaluations.)

> *Or* are you suggesting that for n=1, n=2 (and maybe n=3) per group
>         plot(factor, continuous)
> shouldn't use boxplot()s but rather dot plots ?
> This is a suggestion that I've heard and had myself before,
> very well worth discussing.

Yes, this is what was on my mind.  I'm not sure how the decision
should be made to do boxplots versus dotplots, but maybe that could be
an optional flag?
 
Again, thanks for the comments.  Dan.

Dan E. Kelley                   internet:   mailto:Dan.Kelley at Dal.CA
Oceanography Department         phone:                 (902)494-1694
Dalhousie University            fax:                   (902)494-2885
Halifax, NS, CANADA, B3H 4J1    http://www.phys.ocean.dal.ca/~kelley


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From use at eio.uva.es  Wed Mar 15 15:28:09 2000
From: use at eio.uva.es (=?iso-8859-1?Q?Eusebio_Arenal_Guti=E9rrez?=)
Date: Wed, 15 Mar 2000 15:28:09 +0100
Subject: [R] Windows crash when running Rgui
Message-ID: <000101bf8e8a$b06b5b40$6458589d@palent.etsiiaa.uva.es>

After installing R 0.99.0a on a Windows 95 Rgui.exe crash after opening the
console window. Rterm.exe works fine.

Any hint?
It is posible that R is not compatible with windows configuration modified
by some other program?
Where can I act?

Error message:

Rgui causes an exception 104 on module R.dll of 0137:100324d4 records
EDX=0434cfd8 CS=0137 EIP=100324d4 EFLGS=00010206
EBX=815ce8e4 SS=013f ESP=0253fdl4 EBP=0253fdlc
ECX=00000000 DS=013f .......
.......
Bytes in CS:E/P
dd 1d .......
.......

Thanks in advance for any help.

Eusebio

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Mar 15 15:03:51 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Mar 2000 15:03:51 +0100
Subject: [R] Windows crash when running Rgui
In-Reply-To: "Eusebio Arenal Guti?rrez"'s message of "Wed, 15 Mar 2000 15:28:09 +0100"
References: <000101bf8e8a$b06b5b40$6458589d@palent.etsiiaa.uva.es>
Message-ID: <x2ityonxdk.fsf@blueberry.kubism.ku.dk>

"Eusebio Arenal Guti?rrez" <use at eio.uva.es> writes:

> After installing R 0.99.0a on a Windows 95 Rgui.exe crash after opening the
> console window. Rterm.exe works fine.
> 
> Any hint?
> It is posible that R is not compatible with windows configuration modified
> by some other program?
> Where can I act?
> 
> Error message:
> 
> Rgui causes an exception 104 on module R.dll of 0137:100324d4 records
                           ^^^
Really? (10H I think) 

Several people have seen this in connection with printing, but
crashing directly on startup is new. 

I've been digging through Deja.com, and it suggests that many cases
are caused by some HP printer drivers messing with the FPU control
word and not resetting the flags on exit. 

Does it happen with 1.0.0 too? (I wouldn't set my hopes too high -
we've done nothing to fix this kind of bug).


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rnassar at duke.edu  Wed Mar 15 19:39:36 2000
From: rnassar at duke.edu (Rashid Nassar)
Date: Wed, 15 Mar 2000 13:39:36 -0500 (EST)
Subject: [R] boxplots of 1 (or 2 or 3) "datum" ..
In-Reply-To: <Pine.LNX.4.10.10003150904110.613-100000@Intrusion.Phys.Ocean.Dal.Ca>
Message-ID: <Pine.SOL.3.91.1000315133436.29328A-100000@bio3.acpub.duke.edu>

When I needed a plot like what I think you want, I have used one of:

   plot(as.numeric(X),y)  where X is a factor or
   plot.default(X,y) 



best regards,

Rashid

(Rashid Nassar)

On Wed, 15 Mar 2000, Dan E. Kelley wrote:

> Date: Wed, 15 Mar 2000 09:25:20 -0400 (AST)
> From: Dan E. Kelley <kelley at Phys.Ocean.Dal.CA>
> To: Martin Maechler <maechler at stat.math.ethz.ch>
> Cc: Dan Kelley <Dan.Kelley at Dal.Ca>, r-help at stat.math.ethz.ch
> Subject: Re: [R] boxplots of 1 (or 2 or 3) "datum" ..
> 
> On Wed, 15 Mar 2000, Martin Maechler wrote:
> > Problem is I cannot repeat your example, since you didn't use "public" data.
> > (Usually, you'd construct data, something like...
> 
> First, thanks very much for your informative suggestion about creating
> example data.  I'm not good enough at R yet to have thought of that,
> and your email taught me some new things, which I really appreciate.
> (I didn't enclose the actual data because they relate to confidential
> scholarship evaluations.)
> 
> > *Or* are you suggesting that for n=1, n=2 (and maybe n=3) per group
> >         plot(factor, continuous)
> > shouldn't use boxplot()s but rather dot plots ?
> > This is a suggestion that I've heard and had myself before,
> > very well worth discussing.
> 
> Yes, this is what was on my mind.  I'm not sure how the decision
> should be made to do boxplots versus dotplots, but maybe that could be
> an optional flag?
>  
> Again, thanks for the comments.  Dan.
> 
> Dan E. Kelley                   internet:   mailto:Dan.Kelley at Dal.CA
> Oceanography Department         phone:                 (902)494-1694
> Dalhousie University            fax:                   (902)494-2885
> Halifax, NS, CANADA, B3H 4J1    http://www.phys.ocean.dal.ca/~kelley
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mathieuros at bigfoot.com  Wed Mar 15 22:24:40 2000
From: mathieuros at bigfoot.com (Mathieu Ros)
Date: Wed, 15 Mar 2000 22:24:40 +0100
Subject: [R] evaluation is nested too deeply: infinite recursion?
Message-ID: <38CFFF97.52EC8630@bigfoot.com>

hello R-users,
I'm trying to port from S+4 a library called S2HTML.
generic function HTMLExport, when called for a lm object, uses
HTMLExport.lm which itself calls HTMLExport.list to export the summary.
My problem is that HTMLExport.list may itself call HTMLExport (and so
HTMLExport.list) for  components of the lists that are lists themselves
(like "terms" component of an lm object).
I get the following error message in this case :
Error in as.vector(x) : evaluation is nested too deeply: infinite
recursion?
I believe this error is due to a too deep recursion but maybe there is a
way to overcome this error (shouldn't it be a warning?).
I would be very grateful if anybody could help me or give me a hint.
thanks,
    Mathieu
PS : code of these functions is in my last 2 mails.


--
------------------------------------------------------------------
Mathieu Ros                   |             Sigma+
http://mathieu.ros.free.fr/   |    http://www.sigmaplus.fr
DESS ing?nierie math?matique  |  5 place st pierre, Toulouse
    (biostatistiques)         |
------------------------------------------------------------------
l'exp?rience est le nom que chacun donne a ses erreurs. Wilde


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000315/6719f252/attachment.html

From mwong at mipos2.intel.com  Thu Mar 16 01:21:47 2000
From: mwong at mipos2.intel.com (Marcus J. Wong)
Date: Wed, 15 Mar 2000 16:21:47 -0800 (PST)
Subject: [R] Need help compiling R
Message-ID: <200003160021.TAA08541@zws540.sc.intel.com>

Hi,

I am trying to compile R but it keeps failing.  My platform is HP-UX 10.20
and I am having trouble getting pass the configure stage.  It continues
to fail at the warning "f90 and gcc disagree on int and double"

Here is some output:

+ gcc -g -O2 -c conftest.c
+ 1>& 5 2>& 5
+ gcc -o conftest conftest.o conftestf.o
/usr/bin/ld: Unsatisfied symbols:
   FTN_DTOI$ (code)
   pow (code)
collect2: ld returned 1 exit status
+ -l:libF90.a -lcl -lisamstub -lm
./configure[2344]: -l:libF90.a:  not found.
+ test -n 
+ echo configure: warning: f90 and gcc disagree on int and double
+ 1>& 2
configure: warning: f90 and gcc disagree on int and double
+ echo configure: error: Maybe change CFLAGS or FFLAGS?
+ 1>& 2
configure: error: Maybe change CFLAGS or FFLAGS?
+ exit 1



Maybe someone has done this before on HP-UX 10.20 and can
offer some help.

Thanks,
Marcus...
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar 16 07:37:29 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 16 Mar 2000 06:37:29 +0000 (GMT)
Subject: [R] evaluation is nested too deeply: infinite recursion?
In-Reply-To: <38CFFF97.52EC8630@bigfoot.com>
Message-ID: <Pine.GSO.4.05.10003160626250.19528-100000@auk.stats>

On Wed, 15 Mar 2000, Mathieu Ros wrote:

> hello R-users,
> I'm trying to port from S+4 a library called S2HTML.
> generic function HTMLExport, when called for a lm object, uses
> HTMLExport.lm which itself calls HTMLExport.list to export the summary.
> My problem is that HTMLExport.list may itself call HTMLExport (and so
> HTMLExport.list) for  components of the lists that are lists themselves
> (like "terms" component of an lm object).
> I get the following error message in this case :
> Error in as.vector(x) : evaluation is nested too deeply: infinite
> recursion?
> I believe this error is due to a too deep recursion but maybe there is a
> way to overcome this error (shouldn't it be a warning?).

It should be an error. You do want it to stop before you do too much
damage. S behaves in the same way. You can change the limit by setting an
option: see ?options and look for `expressions'. (This option was put there
on all platforms after a couple of examples of crashes caused by
over-running OS structures such as the process stack.)

The default limit in R is higher than that in S-PLUS, at least on the
versions I have.

> I would be very grateful if anybody could help me or give me a hint.
> thanks,
>     Mathieu
> PS : code of these functions is in my last 2 mails.

You could try dumping the frames and examining the state when it does
give you an error.  It is very unlikely that you should be getting 
a nesting 500 deep, but it is possible that R is `leaking' levels
(we have corrected one such bug fairly recently).  About the only examples
in S where the limit needs to be increased involve symbolic manipulations
such as symbolic differentiation.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Thu Mar 16 12:56:05 2000
From: j.logsdon at lancaster.ac.uk (John Logsdon)
Date: Thu, 16 Mar 2000 11:56:05 +0000 (GMT)
Subject: [R] MCMC
Message-ID: <Pine.LNX.4.10.10003161153150.18799-100000@mercury.quantex>

Hi

Does anyone know of any R coding/functions for MCMC approaches?  I am
currently using BUGS but I wonder if the bazaar has produced anything?  I
think I am pushing BUGS to it's limit and possibly past it at the moment.

John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From juli at ceam.es  Thu Mar 16 13:52:49 2000
From: juli at ceam.es (Juli G. Pausas)
Date: Thu, 16 Mar 0 12:52:49 +0000 (GMT)
Subject: [R] glm: offset in poisson
Message-ID: <200003161253.NAA05536@stat.math.ethz.ch>

R-users,

Can an offset term be included in a Poisson model? 
I get an error message when trying that:

>r3o <- glm(tax ~ areal + offset(o), family=poisson)
Error in (if (is.empty.model(mt)) glm.fit.null else glm.fit)(x = X, y = Y,  : 
        inner loop 1; can't correct step size
In addition: Warning message: 
Step size truncated due to divergence in: (if (is.empty.model(mt))
glm.fit.null else glm.fit)(x = X, y = Y,  

(this error message doesn't appear with family= gaussian)

Juli


********************
Juli G. Pausas
Centro de Estudios Ambientales del Mediterraneo (CEAM)
C/ C.R. Darwin 14
Parc Tecnologic,
46980 Paterna, Valencia, SPAIN
Tel: (+ 34) 96 131 8227
Fax: (+ 34) 96 131 8190
E-mail: juli at ceam.es
http://www.gva.es/ceam

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar 16 14:16:52 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 16 Mar 2000 13:16:52 +0000 (GMT)
Subject: [R] glm: offset in poisson
Message-ID: <200003161316.NAA07238@toucan.stats.ox.ac.uk>


> To: r-help at stat.math.ethz.ch
> From: "Juli G. Pausas" <juli at ceam.es>
> Subject: [R] glm: offset in poisson
> Date: Thu, 16 Mar 0 12:52:49 +0000 (GMT)
> X-Info: Mail Test Period
> 
> R-users,
> 
> Can an offset term be included in a Poisson model? 
> I get an error message when trying that:
> 
> >r3o <- glm(tax ~ areal + offset(o), family=poisson)
> Error in (if (is.empty.model(mt)) glm.fit.null else glm.fit)(x = X, y = Y,  : 
>         inner loop 1; can't correct step size
> In addition: Warning message: 
> Step size truncated due to divergence in: (if (is.empty.model(mt))
> glm.fit.null else glm.fit)(x = X, y = Y,  
> 
> (this error message doesn't appear with family= gaussian)
> 

Certainly, but the offset is on the scale of the log mean for the 
Poisson, and the mean for the Gaussian, so I suspect you may have completely
inappropriate values of the offset.  Here's an example from the 
V&R3 on-line exercises (and answers):

library(MASS)
data(Insurance)
glm(Claims ~ District*Group*Age - District:Group:Age
         + offset(log(Holders)), data=Insurance, family=poisson)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Mar 16 14:34:19 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Mar 2000 14:34:19 +0100
Subject: [R] glm: offset in poisson
In-Reply-To: "Juli G. Pausas"'s message of "Thu, 16 Mar 0 12:52:49 +0000 (GMT)"
References: <200003161253.NAA05536@stat.math.ethz.ch>
Message-ID: <x23dprhwdg.fsf@blueberry.kubism.ku.dk>

"Juli G. Pausas" <juli at ceam.es> writes:

> R-users,
> 
> Can an offset term be included in a Poisson model? 
> I get an error message when trying that:
> 
> >r3o <- glm(tax ~ areal + offset(o), family=poisson)
> Error in (if (is.empty.model(mt)) glm.fit.null else glm.fit)(x = X, y = Y,  : 
>         inner loop 1; can't correct step size

Which version of R is that?

I have no trouble with simple things like 

> x1 <- rnorm(10)
> x2 <- rnorm(10)
> y <- rpois(10, exp(x1+x2))
> glm(y~x1+offset(x2),family=poisson)

Call:  glm(formula = y ~ x1 + offset(x2), family = poisson) 

Coefficients:
(Intercept)           x1  
     0.0548       0.6574  

Degrees of Freedom: 9 Total (i.e. Null);  8 Residual
Null Deviance:      9.823 
Residual Deviance: 4.018        AIC: 34.03 


You're aware that the offset needs to be on the link scale?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Thu Mar 16 15:10:41 2000
From: plummer at iarc.fr (Martyn Plummer)
Date: Thu, 16 Mar 2000 15:10:41 +0100 (CET)
Subject: [R] MCMC
In-Reply-To: <Pine.LNX.4.10.10003161153150.18799-100000@mercury.quantex>
Message-ID: <XFMail.000316151041.plummer@iarc.fr>

On 16-Mar-00 John Logsdon wrote:
> Hi
> 
> Does anyone know of any R coding/functions for MCMC approaches?  I am
> currently using BUGS but I wonder if the bazaar has produced anything?  I
> think I am pushing BUGS to it's limit and possibly past it at the moment.

I don't think you will find anything as polished as BUGS, but the
components are available for you to write your own custom MCMC program.
You have to do a lot of work by hand that is normally done by BUGS, e.g.
specifying full conditionals, writing the functions for logical
nodes, recognizing conjugate distributions, tuning the Gibbs sampler, etc.

* libnmath contained within R provides plenty of functions for simulating
  random variables from commonly used distributions.  Brian Ripley has
  kindly modified this so that it can be built separately. Using this you
  can handle conjugate distributions.

* Wally Gilks has made publically available software for doing Adaptive
  Rejection Metropolis sampling which can be downloaded from the MRC-BSU
  web site.  Using this you can handle more difficult cases:
  http://www.mrc-bsu.cam.ac.uk/Software/arsregister.shtml
  Some tuning is required for optimal performance.

I have used this approach on a small problem, and have an increased
appreciation of BUGS for having done so.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Thu Mar 16 17:38:56 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Thu, 16 Mar 2000 16:38:56 +0000 (GMT)
Subject: [R] plot feature request
Message-ID: <Pine.LNX.4.10.10003161613310.30957-100000@localhost.localdomain>

Fairly often I make multi-plot figures. I know that there are several
fancy ways to do that in R. I simply make the individual plots and then
put then together in LyX.

When plots are stacked on top of each other, in my area the journals
like them like this:

4-|			-|
  |			 |
3-|			-|	
  |			 |			
2-|			-|	
  |			 |
1-|			-|
  |			 |
  --+--+--+--+--	 --+--+--+--+--

4-|                     -|
  |                      |
3-|                     -| 
  |                      |
2-|                     -|
  |                      |
1-|                     -|
  |                      |
  --+--+--+--+--         --+--+--+--+--
    1  2  3  4		   1  2  3  4
     x axis                  x axis

The axis labels and annotation are eliminated sometimes.

I know that the bottom right plot can be done by
plot(...,ann=FALSE, axes=FALSE)
axis(side=1,at=...,labels=FALSE)
axis(side=2,at=...,labels=TRUE)
text(x=...,y=...,"x axis")
This is quite a hassle. (It is tricky to get the scales and
axis hash mark positions all exactly the same; it is tricky to position
the annotation)

It would be much easier if I could
- set ann.x and ann.y separately to TRUE/FALSE
- set separate arguments labels.x and lables.y to TRUE/FALSE in
plot() instead of in axis().

Then to get the top right plot I would do:
plot(..,ann.x=FALSE, ann.y=FALSE, labels.x=FALSE, labels.y=FALSE)
and the
bottom right plot would be
plot(..,ann.x=TRUE, ann.y=FALSE, labels.x=TRUE, labels.y=FALSE)

This would be a major improvement so far as I'm concerned. (Maybe I've
overlooked some other easy way to do what I want)

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Mar 16 17:17:29 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 16 Mar 2000 10:17:29 -0600
Subject: [R] MCMC
In-Reply-To: Martyn Plummer's message of "Thu, 16 Mar 2000 15:10:41 +0100 (CET)"
References: <XFMail.000316151041.plummer@iarc.fr>
Message-ID: <6rbt4eanza.fsf@franz.stat.wisc.edu>

Martyn Plummer <plummer at iarc.fr> writes:

> On 16-Mar-00 John Logsdon wrote:

> > Does anyone know of any R coding/functions for MCMC approaches?  I am
> > currently using BUGS but I wonder if the bazaar has produced anything?  I
> > think I am pushing BUGS to it's limit and possibly past it at the moment.

> I don't think you will find anything as polished as BUGS, but the
> components are available for you to write your own custom MCMC program.
> You have to do a lot of work by hand that is normally done by BUGS, e.g.
> specifying full conditionals, writing the functions for logical
> nodes, recognizing conjugate distributions, tuning the Gibbs sampler, etc.

> * libnmath contained within R provides plenty of functions for simulating
>   random variables from commonly used distributions.  Brian Ripley has
>   kindly modified this so that it can be built separately. Using this you
>   can handle conjugate distributions.

> * Wally Gilks has made publically available software for doing Adaptive
>   Rejection Metropolis sampling which can be downloaded from the MRC-BSU
>   web site.  Using this you can handle more difficult cases:
>   http://www.mrc-bsu.cam.ac.uk/Software/arsregister.shtml
>   Some tuning is required for optimal performance.

> I have used this approach on a small problem, and have an increased
> appreciation of BUGS for having done so.

I don't know of any R code or packages presently available for MCMC.
However, it would be a very interesting project to design such code,
either for R or for omegahat.  The concept of a function closure in R
could be quite helpful.  I think Ross Ihaka and/or Robert Gentleman
wrote a paper once on how a Bayesian model would naturally be
expressed as a function closure.  

It took me a long time to understand what a function closure is and
why it would be useful (my thanks for Robert Gentleman and Duncan
Temple Lang for explaining it to me - repeatedly) but for applications
like this it is definitely worth the time to learn about it.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jim.Ianelli at noaa.gov  Thu Mar 16 18:05:30 2000
From: Jim.Ianelli at noaa.gov (Jim Ianelli)
Date: Thu, 16 Mar 2000 09:05:30 -0800
Subject: [R] MCMC
In-Reply-To: <Pine.LNX.4.10.10003161153150.18799-100000@mercury.quantex>
Message-ID: <NCBBJFPIMHIOJIMGLNOEMEJHCDAA.jim.ianelli@noaa.gov>


I have found that coding models using the C++ library
with automatic differentiation (AD Model Builder, www.otter-rsch.com)
allows for a useful implementation of MCMC that is adaptive and
has the added benefit of working from the posterior mode
and the initial estimate of the covariance matrix for developing
reasonable multivariate jumping rules.  This software
can also be made to interface with R (or Splus excel etc)
through use of dll's.

Jim Ianelli

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of John Logsdon
Sent: Thursday, March 16, 2000 3:56 AM
To: r-help at stat.math.ethz.ch
Subject: [R] MCMC


Hi

Does anyone know of any R coding/functions for MCMC approaches?  I am
currently using BUGS but I wonder if the bazaar has produced anything?  I
think I am pushing BUGS to it's limit and possibly past it at the moment.

John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-------------- next part --------------
A non-text attachment was scrubbed...
Name: James Ianelli.vcf
Type: text/x-vcard
Size: 426 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000316/9e10e16b/JamesIanelli.vcf

From ripley at stats.ox.ac.uk  Thu Mar 16 18:15:18 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 16 Mar 2000 17:15:18 +0000 (GMT)
Subject: [R] MCMC
Message-ID: <200003161715.RAA17648@toucan.stats.ox.ac.uk>


> To: Martyn Plummer <plummer at iarc.fr>
> Cc: John Logsdon <j.logsdon at lancaster.ac.uk>, r-help at stat.math.ethz.ch
> Subject: Re: [R] MCMC
> From: Douglas Bates <bates at stat.wisc.edu>
> Date: 16 Mar 2000 10:17:29 -0600
> 
> Martyn Plummer <plummer at iarc.fr> writes:
> 
> > On 16-Mar-00 John Logsdon wrote:
> 
> > > Does anyone know of any R coding/functions for MCMC approaches?  I am
> > > currently using BUGS but I wonder if the bazaar has produced anything?  I
> > > think I am pushing BUGS to it's limit and possibly past it at the moment.
> 
> > I don't think you will find anything as polished as BUGS, but the
> > components are available for you to write your own custom MCMC program.
> > You have to do a lot of work by hand that is normally done by BUGS, e.g.
> > specifying full conditionals, writing the functions for logical
> > nodes, recognizing conjugate distributions, tuning the Gibbs sampler, etc.
> 
> > * libnmath contained within R provides plenty of functions for simulating
> >   random variables from commonly used distributions.  Brian Ripley has
> >   kindly modified this so that it can be built separately. Using this you
> >   can handle conjugate distributions.

(Work in progress, really. By 1.1 it should be easy to build this.)

> > * Wally Gilks has made publically available software for doing Adaptive
> >   Rejection Metropolis sampling which can be downloaded from the MRC-BSU
> >   web site.  Using this you can handle more difficult cases:
> >   http://www.mrc-bsu.cam.ac.uk/Software/arsregister.shtml
> >   Some tuning is required for optimal performance.
> 
> > I have used this approach on a small problem, and have an increased
> > appreciation of BUGS for having done so.
> 
> I don't know of any R code or packages presently available for MCMC.
> However, it would be a very interesting project to design such code,
> either for R or for omegahat.  

I remember raising that at DCS99 in Vienna. I think as a generic
idea (and even BUGS after several years has quite serious limitations)
it would be very ambitious. Smaller areas may be more amenable. We are
currently designing some code for GLMM-type models, and at one
point Jonathan Myles had some, I believe.

> The concept of a function closure in R
> could be quite helpful.  I think Ross Ihaka and/or Robert Gentleman
> wrote a paper once on how a Bayesian model would naturally be
> expressed as a function closure.  
> 
> It took me a long time to understand what a function closure is and
> why it would be useful (my thanks for Robert Gentleman and Duncan
> Temple Lang for explaining it to me - repeatedly) but for applications
> like this it is definitely worth the time to learn about it.

I worry about computational efficiency here. R code with extensive
use of closures currently seems to slow.

I think we need to be careful with terminology. S-news gets a posting
every few months asking for implementations of the EM algorithm (which
is not an algorithm but an idea).  Similarly, MCMC is an idea, and even
in its earlier incarnations (my work on simulating marked point
processes for one, Langevin methods for another) went way beyond what
one finds in the books that are getting written now.  MCMC != BUGS, and
different subsets might be appropriate for R packages.

BTW, package spatial does contain some MCMC code written 25 years ago.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at biostat.washington.edu  Thu Mar 16 18:55:56 2000
From: rossini at biostat.washington.edu (A.J. Rossini)
Date: 16 Mar 2000 09:55:56 -0800
Subject: [R] MCMC
In-Reply-To: Douglas Bates's message of "16 Mar 2000 10:17:29 -0600"
References: <XFMail.000316151041.plummer@iarc.fr> <6rbt4eanza.fsf@franz.stat.wisc.edu>
Message-ID: <87em9avlxv.fsf@alpha.cfas.washington.edu>

>>>>> "DB" == Douglas Bates <bates at stat.wisc.edu> writes:

    DB> I don't know of any R code or packages presently available for
    DB> MCMC.  However, it would be a very interesting project to
    DB> design such code, either for R or for omegahat.  The concept
    DB> of a function closure in R could be quite helpful.  I think
    DB> Ross Ihaka and/or Robert Gentleman wrote a paper once on how a
    DB> Bayesian model would naturally be expressed as a function
    DB> closure.

Greg Warnes has some code to do this (R and Omegahat).  At some point,
it should be pretty general, I'm not sure what stage it is at right
now... 

best,
-tony

-- 
A.J. Rossini		       Research Assistant Professor of Biostatistics 
Biostatistics/Univ. of Washington  (Th)	Box 357232   206-543-1044 (3286=fax)
Center for AIDS Research/HMC/UW	  (M/F)	Box 359931   206-731-3647 (3693=fax)
VTN/SCHARP/FHCRC		 (Tu/W)	Box 358080   206-667-7025 (4812=fax)
rossini@(biostat.washington.edu|u.washington.edu|hivnet.fhcrc.org)
http://www.biostat.washington.edu/~rossini

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rdiazuri at students.wisc.edu  Thu Mar 16 12:15:34 2000
From: rdiazuri at students.wisc.edu (Ramon Diaz-Uriarte)
Date: Thu, 16 Mar 2000 12:15:34 +0100
Subject: [R] stepAIC and coxph objects with cluster(id)
Message-ID: <00031613135200.01055@ligarto>


Is it appropriate to use stepAIC (library MASS) with coxph objects (from
library survival5) that use "cluster(id)"? 

It is my understanding that, when using "cluster(id)", we can test for sets of
terms by using the methods in Wei et al., (1989; JASA, 84: 1065-1073), or as
explained in pp. 53 and ff. of the survival.ps document. But if we use a
likelihood ratio test instead (comparing sets of nested models), we can get
different results.

I started wondering, then, if using AIC, per se, could give misleading
results. Am I getting confused here?

Thanks,

Ramon

-- 
Ramon Diaz-Uriarte
Dept. Zoology and Statistics
University of Wisconsin-Madison
Madison, WI 53706

email: rdiazuri at students.wisc.edu
phone: 608-238-8041
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Thu Mar 16 19:35:17 2000
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Thu, 16 Mar 2000 19:35:17 +0100
Subject: [R] data.entry
Message-ID: <008101bf8f76$624a1b80$2c4fa8c0@tring.stofanet.dk>

Dear friends. 
Can anyone explain what is happening here ? I am told that no data entry editor is available
in this version of R ? The example is not far from that shown in help(data.entry) ?
Besides, could an empty spreadsheet entry be an option to start inputting data ?

R : Copyright 2000, The R Development Core Team
Version 1.0.0  (February 29, 2000)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type    "?license" or "?licence" for distribution details.

R is a collaborative project with many contributors.
Type    "?contributors" for a list.

Type    "demo()" for some demos, "help()" for on-line help, or
        "help.start()" for a HTML browser interface to help.
Type    "q()" to quit R.

[Previously saved workspace restored]

> vv <- read.table("vanco.dat",h=T)
> vv
   month day year dosis vanco
1     12  31 1999   1.0   3.8
2      1   3 2000   1.0   2.4
3      1   7 2000   1.0   3.4
4      1  12 2000   2.0   7.1
5      1  14 2000   2.0   5.3
6      1  17 2000   2.0   5.7
7      1  19 2000   3.0   7.7
8      1  21 2000   3.0   8.3
9      1  24 2000   4.0   8.7
10     1  26 2000   4.0  11.1
11     1  31 2000   4.0  12.3
12     2   7 2000   4.5  12.0
13     2  14 2000   4.5  14.9
14     2  18 2000   4.5  23.0
15     2  25 2000   3.0  20.1
16     2  28 2000   2.0  11.3
> data.entry(vv)
Error in dataentry(odata, as.list(Modes)) : 
        no data entry editor in this version of R

 attach(vv)
> data.entry(month,day)
Error in dataentry(odata, as.list(Modes)) : 
        no data entry editor in this version of R

> 

Best wishes


Troels Ring, M.D
Department of Nephrology
Aalborg, Denmark
tring at mail1.stofanet.dk

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar 16 20:59:58 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 16 Mar 2000 19:59:58 +0000 (GMT)
Subject: [R] data.entry
In-Reply-To: <008101bf8f76$624a1b80$2c4fa8c0@tring.stofanet.dk>
Message-ID: <Pine.GSO.4.05.10003161955020.25371-100000@auk.stats>

On Thu, 16 Mar 2000, Troels Ring wrote:

> Dear friends. 
> Can anyone explain what is happening here ? I am told that no data entry editor is available
> in this version of R ? The example is not far from that shown in help(data.entry) ?
> Besides, could an empty spreadsheet entry be an option to start inputting data ?

You haven't told us your version of R, but under Windows, yes it is right.
Not everything on every help page works in every port of R.

We would like to add data entry to the Windows version, but doing so
without going way outside the Windows look-and-feel seems difficult without
using proprietary M$ code (as is used in Excel, for example). If anyone
knows better, please tell us how to do it (or contribute the code).

Brian Ripley

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Mar 16 22:40:46 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 16 Mar 2000 13:40:46 -0800 (PST)
Subject: [R] stepAIC and coxph objects with cluster(id)
In-Reply-To: <00031613135200.01055@ligarto>
Message-ID: <Pine.GSO.4.21.0003161336070.10468-100000@mail.biostat.washington.edu>

On Thu, 16 Mar 2000, Ramon Diaz-Uriarte wrote:

> 
> Is it appropriate to use stepAIC (library MASS) with coxph objects (from
> library survival5) that use "cluster(id)"? 
> 
> It is my understanding that, when using "cluster(id)", we can test for sets of
> terms by using the methods in Wei et al., (1989; JASA, 84: 1065-1073), or as
> explained in pp. 53 and ff. of the survival.ps document. But if we use a
> likelihood ratio test instead (comparing sets of nested models), we can get
> different results.
> 
> I started wondering, then, if using AIC, per se, could give misleading
> results. Am I getting confused here?


It's not completely clear to me whether AIC is useful for an ordinary Cox
model using the partial likelihood (though I presume _someone_ has studied
the properties of this method).

For a model using cluster(id) it certainly isn't appropriate.  These
models do not have even a partial likelihood. Likelihood ratio tests are
not possible, and AIC is not well-defined.

Stepwise selection would have to be based on the distribution of the
parameter estimates and the sandwich estimator of its covariance

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From warnes at biostat.washington.edu  Fri Mar 17 05:50:02 2000
From: warnes at biostat.washington.edu (Gregory R. Warnes)
Date: Fri, 17 Mar 2000 04:50:02 +0000 (GMT)
Subject: [R] MCMC
In-Reply-To: <87em9avlxv.fsf@alpha.cfas.washington.edu>
Message-ID: <Pine.LNX.4.21.0003170449210.11954-100000@hydra.warnes.net>




On 16 Mar 2000, A.J. Rossini wrote:

  AR>> >>>>> "DB" == Douglas Bates <bates at stat.wisc.edu> writes:
  AR>> 
  AR>>     DB> I don't know of any R code or packages presently available for
  AR>>     DB> MCMC.  However, it would be a very interesting project to
  AR>>     DB> design such code, either for R or for omegahat.  The concept
  AR>>     DB> of a function closure in R could be quite helpful.  I think
  AR>>     DB> Ross Ihaka and/or Robert Gentleman wrote a paper once on how a
  AR>>     DB> Bayesian model would naturally be expressed as a function
  AR>>     DB> closure.
  AR>> 
  AR>> Greg Warnes has some code to do this (R and Omegahat).  At some point,
  AR>> it should be pretty general, I'm not sure what stage it is at right
  AR>> now... 
  AR>> 
  AR>> best,
  AR>> -tony
  AR>> 
  AR>> -- 
  AR>> A.J. Rossini		       Research Assistant Professor of Biostatistics 
  AR>> Biostatistics/Univ. of Washington  (Th)	Box 357232   206-543-1044 (3286=fax)
  AR>> Center for AIDS Research/HMC/UW	  (M/F)	Box 359931   206-731-3647 (3693=fax)
  AR>> VTN/SCHARP/FHCRC		 (Tu/W)	Box 358080   206-667-7025 (4812=fax)
  AR>> rossini@(biostat.washington.edu|u.washington.edu|hivnet.fhcrc.org)
  AR>> http://www.biostat.washington.edu/~rossini
  AR>> 
  AR>> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From warnes at biostat.washington.edu  Fri Mar 17 06:25:51 2000
From: warnes at biostat.washington.edu (Gregory R. Warnes)
Date: Fri, 17 Mar 2000 05:25:51 +0000 (GMT)
Subject: [R] MCMC
In-Reply-To: <87em9avlxv.fsf@alpha.cfas.washington.edu>
Message-ID: <Pine.LNX.4.21.0003170521500.11954-100000@hydra.warnes.net>


Yes, in fact, I do have a nice MCMC tool for omegahat.  The only thing it
lacks to be fully functional is a java distribution library, and good
documentation.  I'll be writing up a tech report on it "in the near
future" (tm).

-Gregory


On 16 Mar 2000, A.J. Rossini wrote:

  AR>> >>>>> "DB" == Douglas Bates <bates at stat.wisc.edu> writes:
  AR>> 
  AR>>     DB> I don't know of any R code or packages presently available for
  AR>>     DB> MCMC.  However, it would be a very interesting project to
  AR>>     DB> design such code, either for R or for omegahat.  The concept
  AR>>     DB> of a function closure in R could be quite helpful.  I think
  AR>>     DB> Ross Ihaka and/or Robert Gentleman wrote a paper once on how a
  AR>>     DB> Bayesian model would naturally be expressed as a function
  AR>>     DB> closure.
  AR>> 
  AR>> Greg Warnes has some code to do this (R and Omegahat).  At some point,
  AR>> it should be pretty general, I'm not sure what stage it is at right
  AR>> now... 
  AR>> 
  AR>> best,
  AR>> -tony
  AR>> 
  AR>> -- 
  AR>> A.J. Rossini		       Research Assistant Professor of Biostatistics 
  AR>> Biostatistics/Univ. of Washington  (Th)	Box 357232   206-543-1044 (3286=fax)
  AR>> Center for AIDS Research/HMC/UW	  (M/F)	Box 359931   206-731-3647 (3693=fax)
  AR>> VTN/SCHARP/FHCRC		 (Tu/W)	Box 358080   206-667-7025 (4812=fax)
  AR>> rossini@(biostat.washington.edu|u.washington.edu|hivnet.fhcrc.org)
  AR>> http://www.biostat.washington.edu/~rossini
  AR>> 
  AR>> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjpocern at ouray.cudenver.edu  Fri Mar 17 09:00:04 2000
From: mjpocern at ouray.cudenver.edu (Matt Pocernich)
Date: Fri, 17 Mar 2000 01:00:04 -0700
Subject: [R] Windows Memory
Message-ID: <002901bf8fe6$ce275f00$7178c284@dog>

I'm sure this question is answered in the help file, but likely I'm not reading it corrected.

Running  windows version 1.00.0, loading a table (35K rows by 10 columns) from Excel using the read.table command I receive the following message. 

Error: cons memory (350000 cells) exhausted
       See "help(Memory)" on how to increase the number of cons cells.

>From reading the help file, I've learned a bit more about static memory, but I'm not sure where to place the 

R --vsize=15M --nsize=1000k

line.  Where should this line be placed?  (Or in which file?)

Thanks for your time.

Matt Pocernich

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000317/5ffd82eb/attachment.html

From rossetti at markov.stat.unipg.it  Fri Mar 17 09:26:24 2000
From: rossetti at markov.stat.unipg.it (Andrea Rossetti)
Date: Fri, 17 Mar 2000 09:26:24 +0100 (MET)
Subject: [R] Windows Memory
In-Reply-To: <002901bf8fe6$ce275f00$7178c284@dog>
Message-ID: <Pine.GSO.4.05.10003170921360.28091-100000@markov.stat.unipg.it>



On Fri, 17 Mar 2000, Matt Pocernich wrote:

> Date: Fri, 17 Mar 2000 01:00:04 -0700
> From: Matt Pocernich <mjpocern at ouray.cudenver.edu>
> To: R help <r-help at stat.math.ethz.ch>
> Subject: [R] Windows Memory
> 
> I'm sure this question is answered in the help file, but likely I'm not reading it corrected.
> 
> Running  windows version 1.00.0, loading a table (35K rows by 10 columns) from Excel using the read.table command I receive the following message. 
> 
> Error: cons memory (350000 cells) exhausted
>        See "help(Memory)" on how to increase the number of cons cells.
> 
> >From reading the help file, I've learned a bit more about static memory, but I'm not sure where to place the 
> 
> R --vsize=15M --nsize=1000k
> 
> line.  Where should this line be placed?  (Or in which file?)
> 
> Thanks for your time.
> 
> Matt Pocernich
> 
> 

Ok!
You can simply pass the line R --vsize=15M --nsize=1000k at the dos prompt
in the same directory in which R is in.
Or create a shortcut, for example in the desktop, and pass the same
command editing it's properties.

Excuse me for my bad English!

Andrea.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Fri Mar 17 10:35:48 2000
From: plummer at iarc.fr (Martyn Plummer)
Date: Fri, 17 Mar 2000 10:35:48 +0100 (CET)
Subject: [R] MCMC
In-Reply-To: <200003161715.RAA17648@toucan.stats.ox.ac.uk>
Message-ID: <XFMail.000317103548.plummer@iarc.fr>

On 16-Mar-00 Prof Brian Ripley wrote:
> 
>> To: Martyn Plummer <plummer at iarc.fr>
>> Cc: John Logsdon <j.logsdon at lancaster.ac.uk>, r-help at stat.math.ethz.ch
>> Subject: Re: [R] MCMC
>> From: Douglas Bates <bates at stat.wisc.edu>
>> Date: 16 Mar 2000 10:17:29 -0600
>> 
>> I don't know of any R code or packages presently available for MCMC.
>> However, it would be a very interesting project to design such code,
>> either for R or for omegahat.  
> 
> I remember raising that at DCS99 in Vienna. I think as a generic
> idea (and even BUGS after several years has quite serious limitations)
> it would be very ambitious. Smaller areas may be more amenable. We are
> currently designing some code for GLMM-type models, and at one
> point Jonathan Myles had some, I believe.

I would be interested to hear your views on the limitations of BUGS.

I would also like to echo your sentiment about the ambitiousness of
the generic approach. Some idea of this can be seen from the speed of
evolution of the BUGS program itself.  I think that although writing
such a program would not be hard, doing it well (very fast, flexible
and extensible) is hard.

I have raised the possibility of an R interface with the BUGS team in
the past. Their response might be paraphrased as "interesting idea but
low priority".

> 
> I think we need to be careful with terminology. S-news gets a posting
> every few months asking for implementations of the EM algorithm (which
> is not an algorithm but an idea).  Similarly, MCMC is an idea, and even
> in its earlier incarnations (my work on simulating marked point
> processes for one, Langevin methods for another) went way beyond what
> one finds in the books that are getting written now.  MCMC != BUGS, and
> different subsets might be appropriate for R packages.

I suppose here we are talking about Bayesian analysis of models specified
by directed acyclic graphs using Gibbs sampling.  Incidentally, I see that
Peter Green put in a plea for this kind of approach in the Omega-models
mailing list, but this didn't seem to generate much discussion.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar 17 10:44:04 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 17 Mar 2000 09:44:04 +0000 (GMT)
Subject: [R] Windows Memory
In-Reply-To: <002901bf8fe6$ce275f00$7178c284@dog>
Message-ID: <Pine.GSO.4.05.10003170942230.26211-100000@auk.stats>

On Fri, 17 Mar 2000, Matt Pocernich wrote:

> I'm sure this question is answered in the help file, but likely I'm not reading it corrected.
> 
> Running  windows version 1.00.0, loading a table (35K rows by 10 columns) from Excel using the read.table command I receive the following message. 
> 
> Error: cons memory (350000 cells) exhausted
>        See "help(Memory)" on how to increase the number of cons cells.
> 
> >From reading the help file, I've learned a bit more about static memory, 
> but I'm not sure where to place the 
> 
> R --vsize=15M --nsize=1000k
> 
> line.  Where should this line be placed?  (Or in which file?)

See the rw-FAQ (which comes with the distribution and is also linked into
the HTML help).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Fri Mar 17 12:03:31 2000
From: j.logsdon at lancaster.ac.uk (John Logsdon)
Date: Fri, 17 Mar 2000 11:03:31 +0000 (GMT)
Subject: [R] MCMC revisited and BUGS ...
Message-ID: <Pine.LNX.4.10.10003171052460.18799-100000@mercury.quantex>

My MCMC message has generated some interesting comments from R people.  I
will not try and deal with them individually but would comment that, as
the most successful implementation of the bazaar (rather than cathedral)
model of software development that I know apart from Linux, R would form a
natural base for MCMC code development.

Would it be possible under the GPL for BUGS (or BUGS-like code) to be
ported to a closed module (as long as it didn't use any GPL code) to run
under R?  I believe the reasons for not porting WinBUGS to Linux or having
in the first place made it open source are to do with licencing but it
would be a pity to close it off or re-invent the wheel for these reasons.  
The next versions will probably be mildly commercial, although I don't
know what the cost, the market size or business plans are.

Such a move may encourage the use both of R and BUGS.

John


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Fri Mar 17 17:41:42 2000
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 17 Mar 2000 17:41:42 +0100 (CET)
Subject: [R] Need help compiling R
In-Reply-To: <200003160021.TAA08541@zws540.sc.intel.com>
References: <200003160021.TAA08541@zws540.sc.intel.com>
Message-ID: <14546.24646.812202.598249@aragorn.ci.tuwien.ac.at>

>>>>> J  writes:

> Hi,
> I am trying to compile R but it keeps failing.  My platform is HP-UX 10.20
> and I am having trouble getting pass the configure stage.  It continues
> to fail at the warning "f90 and gcc disagree on int and double"

> Here is some output:

> + gcc -g -O2 -c conftest.c
> + 1>& 5 2>& 5
> + gcc -o conftest conftest.o conftestf.o
> /usr/bin/ld: Unsatisfied symbols:
>    FTN_DTOI$ (code)
>    pow (code)
> collect2: ld returned 1 exit status
> + -l:libF90.a -lcl -lisamstub -lm
> ./configure[2344]: -l:libF90.a:  not found.
> + test -n 
> + echo configure: warning: f90 and gcc disagree on int and double
> + 1>& 2
> configure: warning: f90 and gcc disagree on int and double
> + echo configure: error: Maybe change CFLAGS or FFLAGS?
> + 1>& 2
> configure: error: Maybe change CFLAGS or FFLAGS?
> + exit 1



> Maybe someone has done this before on HP-UX 10.20 and can
> offer some help.

Looks like you end up with f90 as your Fortran compiler and it wants to
link using -l:libF90.a which is not found.  So maybe your Fortran
installation is not complete.

Can you successfully compile and link a trivial Fortran 77 program?

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mwong at mipos2.intel.com  Fri Mar 17 18:29:40 2000
From: mwong at mipos2.intel.com (Marcus J. Wong)
Date: Fri, 17 Mar 2000 09:29:40 -0800 (PST)
Subject: [R] Need Help compiling R
Message-ID: <200003171729.MAA09590@zws540.sc.intel.com>

Hi,

I can't seem to complete the compile. I can make 'libappl.a, Makedeps, libmath.a,
Makedeps, libunix.a' but fail to go any further.  If fails with the error:

/usr/bin/ld: Unsatisfied symbols:
XFreeGC (code)
XSetClipRectangles (code)
XCreateImage (code)
XSetLineAttributes (code)
XFillArc (code)
XGetGCValues (code)
...

and so forth. Then I get the error

collect2: ld returned 1 exit status
*** Error exit code 1

Stop.

It looks like it can't find certain libs ?  Any ideas what is happening ?

Thanks for help.
Marcus...

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Mar 17 19:35:22 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Mar 2000 19:35:22 +0100
Subject: [R] Need Help compiling R
In-Reply-To: Marcus "J." Wong's message of "Fri, 17 Mar 2000 09:29:40 -0800 (PST)"
References: <200003171729.MAA09590@zws540.sc.intel.com>
Message-ID: <x23dpph2c5.fsf@blueberry.kubism.ku.dk>

Marcus "J." Wong <mwong at mipos2.intel.com> writes:

> Hi,
> 
> I can't seem to complete the compile. I can make 'libappl.a, Makedeps, libmath.a,
> Makedeps, libunix.a' but fail to go any further.  If fails with the error:
> 
> /usr/bin/ld: Unsatisfied symbols:
> XFreeGC (code)
> XSetClipRectangles (code)
> XCreateImage (code)
> XSetLineAttributes (code)
> XFillArc (code)
> XGetGCValues (code)
> ...
> 
> and so forth. Then I get the error
> 
> collect2: ld returned 1 exit status
> *** Error exit code 1

Um, what machine is this? You seem to be missing the X11 libraries.
Common problem is not to have install "X11-libs", "X11-devel" or
similar package (XFree86-libs, XFree86-devel, on RedHat) 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From u.kellett at qut.edu.au  Sat Mar 18 00:47:17 2000
From: u.kellett at qut.edu.au (Ursula Kellett)
Date: Sat, 18 Mar 2000 09:47:17 +1000 (EST)
Subject: [R] R and Windows clipboard
Message-ID: <Pine.OSF.4.10.10003180946340.5044-100000@pigeon.qut.edu.au>

I have just begun using R 1.0.0 for Win95. Can someone please tell me how to
put a data frame on the clipboard, and how to read data into a data frame from
the clipboard.

Many thanks,
Ursula Kellett


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rbb at nebiometrics.com  Sat Mar 18 01:41:55 2000
From: rbb at nebiometrics.com (Robert Burrows)
Date: Fri, 17 Mar 2000 19:41:55 -0500 (EST)
Subject: [R] experimental design resolution
Message-ID: <Pine.LNX.4.20.0003171926430.27805-100000@NEB.nebiometrics.com>

Hello,

I would like to be able to use R to calculate the resolution or power of
experimental designs. I have a couple of questions:

1. Does R already have methods I can use?

2. If not, I plan to prepare a package that will implement the methods
described in Wheeler, RE (1974) Technometrics 16:193-201. Is there a
better choice?

TIA,

Robert Burrows
rbb at nebiometrics.com



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jyuh at mail.nsysu.edu.tw  Sat Mar 18 08:52:58 2000
From: jyuh at mail.nsysu.edu.tw (Jinn-Yuh Guh)
Date: Sat, 18 Mar 2000 15:52:58 +0800
Subject: [R] Corstr in the Gee (Generalized Estimation Equation) arguments?
Message-ID: <004e01bf90ae$fbd34720$439920a3@m710044>

Dear all:
Y=a+bX1+cX2
In the Gee (Generalized Estimation Equation) arguments:
The arument Corstr has sveral choices:
            "independence" "fixed" "stat_M_dep" "non_stat_M_dep"
             "exchangeable" "AR-M" "unstructured" 
What does each term mean?
How do I choose among them?
How do I know the correlation structure of my repeated measures data?
Can non-normally distributed X1, X2 be used?
Thank you very much.

Sincerely,
Jinn-Yuh Guh
Kaohsiung Medical Colege
jyuh at mail.nsysu.edu.tw
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000318/4617966b/attachment.html

From RLS at pincock.com  Sat Mar 18 15:12:23 2000
From: RLS at pincock.com (Robert L. Sandefur)
Date: Sat, 18 Mar 2000 06:12:23 -0800
Subject: [R] abline(coef=c(1,1)) different behavoir to screen and
	postscript 1.00 under windows
Message-ID: <s8d31e64.065@hc4>

hi listees-
 Running windows 2000 and r 0.99 or 1.00; I get different lines on screen and print out:

> j<-read.table("jnk.rin",head=T,sep="\t")
> attach(j)
> #gives lines I want
> qqnorm(Dog,pch="o",main="Cumulative Frequency Log Dog Size",log="y",sub="Figure 2",x
=c(-3,3),ylim=c(2000,1000000))
> abline(coef=c(3.75,.80))
> abline(coef=c(3.90,.14))
> postscript("jnkCF2.ps",paper="letter")
> #gives lines in different position
> qqnorm(Dog,pch="o",main="Cumulative Frequency  Log Dog Size",log="y",sub="Figure 2",x
=c(-3,3),ylim=c(2000,1000000))
> abline(coef=c(3.75,.80))
> abline(coef=c(3.90,.14))
> print(Dog)
  [1]   9100  45000  20000   4262  40000  70000  40000   4284   4282  18900
 [11] 100000   8400   4800   7550   6200  10000  10500   7350   5250   4957
 [21]   4200   5040  15000  11802   6500  15750  15000  38850  25326  11130
 [31]  25200  12600  28350   8400  27305   4200   8400  16800   6000   7692
 [41]   4746   7560  20000   6000  10000  20000   9000   8500  10000 100000
 [51]   4700   6000   6000  60000   6000   8590   4500  30000   9000 100000
 [61]  40000   4765   6340   5000   8500   7000   9400   5000  35000  12000
 [71]  20000 200000   6600 110000  20000   4200   4200   7735   7000 672000
 [81]   9000 300000 168000   9000   5081  10920 100000   5900   4881   8900
 [91]   8250   8000   9100   7000   8350   4700   8064   5188   9400   5000
[101]   7400   6000   4500   5000   9500  10416   8000   9100   4000  34076
[111]   5217

Data isn't really Dogs

Robert (Bob) L Sandefur
Principal Geostatistician 
Pincock Allen & Holt
rls at pincock.com (primary)
rlsandefur at aol.com (secondary)
303 914 4467 v
393 987-8907 f



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Diego.Kuonen at epfl.ch  Sat Mar 18 16:24:27 2000
From: Diego.Kuonen at epfl.ch (Diego Kuonen)
Date: Sat, 18 Mar 2000 16:24:27 +0100
Subject: [R] abline(coef=c(1,1)) different behavoir to screen andpostscript 
 1.00 under windows
References: <s8d31e64.065@hc4>
Message-ID: <38D39FAB.D4360FD@epfl.ch>

"Robert L. Sandefur" wrote:
> > j<-read.table("jnk.rin",head=T,sep="\t")
> > attach(j)
> > print(Dog)
...
> Data isn't really Dogs

Assuming that Dog is a column of your data frame j, 
"j$Dog" produces the same as "Dog" or "print(Dog)" 
given that you attached "j"...

Did you check your data frame "jnk.rin"?

In what sense are your lines on screen and print out 
different? It's the same code, so the graphics will be
the same!

Greets  

  Diego Kuonen

-- 
Diego Kuonen                http://statwww.epfl.ch/people/kuonen
WAP on http://wap.lugo.ch             SURF on http://www.LUGO.ch
U VAS kogdA nibOOd bilA statOO-irOvka?     http://www.Statoo.com      
Powered by Linux & WAPux.ch! http://www.LinuxPlanet.ch/GnuPG-Key

In the future, you're going to get computers as prizes in breakfast cereals.
You'll throw them out because your house will be littered with them.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From RLS at pincock.com  Sat Mar 18 17:16:12 2000
From: RLS at pincock.com (Robert L. Sandefur)
Date: Sat, 18 Mar 2000 08:16:12 -0800
Subject: [R] abline(coef=c(1,1)) different behavoir to screen
	andpostscript 1.00 under windows
Message-ID: <s8d33b56.072@hc4>

Hi - The problem is with two abline(s). Attached are:
 1) jnk.r to run program
 2) jnk.rin the data
 3) jnkps.eps the postscript output
 4) jnkscreen.bmp (from photoshop after bmp copy to clipboard) in jnk.zip

the eps and bmp are different on my machine (windows 2000)

any suggestions appreciated

bob


>>> Diego.Kuonen at epfl.ch 03/18/00 08:24AM >>>
"Robert L. Sandefur" wrote:
> > j<-read.table("jnk.rin",head=T,sep="\t")
> > attach(j)
> > print(Dog)
...
> Data isn't really Dogs

Assuming that Dog is a column of your data frame j, 
"j$Dog" produces the same as "Dog" or "print(Dog)" 
given that you attached "j"...

Did you check your data frame "jnk.rin"?

In what sense are your lines on screen and print out 
different? It's the same code, so the graphics will be
the same!

Greets  

  Diego Kuonen

-- 
Diego Kuonen                http://statwww.epfl.ch/people/kuonen 
WAP on http://wap.lugo.ch             SURF on http://www.LUGO.ch 
U VAS kogdA nibOOd bilA statOO-irOvka?     http://www.Statoo.com      
Powered by Linux & WAPux.ch! http://www.LinuxPlanet.ch/GnuPG-Key 

In the future, you're going to get computers as prizes in breakfast cereals.
You'll throw them out because your house will be littered with them.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html 
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-------------- next part --------------
A non-text attachment was scrubbed...
Name: JNKPS.EPS
Type: application/postscript
Size: 7888 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000318/21df9829/JNKPS.eps
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000318/21df9829/JNK.html
-------------- next part --------------
A non-text attachment was scrubbed...
Name: jnk.zip
Type: application/x-zip-compressed
Size: 7610 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000318/21df9829/jnk.bin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: JNK.R
Type: application/octet-stream
Size: 497 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000318/21df9829/JNK.obj

From Diego.Kuonen at epfl.ch  Sat Mar 18 17:40:30 2000
From: Diego.Kuonen at epfl.ch (Diego Kuonen)
Date: Sat, 18 Mar 2000 17:40:30 +0100
Subject: [R] abline(coef=c(1,1)) different behavoir to screenandpostscript 
 1.00 under windows
References: <s8d33b56.070@hc4>
Message-ID: <38D3B17E.6B41DB42@epfl.ch>

"Robert L. Sandefur" wrote:
> Hi - The problem is with two abline(s). Attached are:

strange... I get exactly the same behaviour with R 1.0.0 on 
Linux... with S-Plus 5.0 R3 for Linux it works fine (using
"abline(3.75,0.80)" instead of "abline(coef=c(3.75,0.80))"... 
strange... 

  Diego Kuonen

-- 
Diego Kuonen                http://statwww.epfl.ch/people/kuonen
WAP on http://wap.lugo.ch             SURF on http://www.LUGO.ch
U VAS kogdA nibOOd bilA statOO-irOvka?     http://www.Statoo.com      
Powered by Linux & WAPux.ch! http://www.LinuxPlanet.ch/GnuPG-Key

In the future, you're going to get computers as prizes in breakfast cereals.
You'll throw them out because your house will be littered with them.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wurmli at datacomm.ch  Sat Mar 18 18:00:31 2000
From: wurmli at datacomm.ch (Hans Peter =?iso-8859-1?Q?W=FCrmli?=)
Date: Sat, 18 Mar 2000 18:00:31 +0100
Subject: [R] Where to find: morley.data
Message-ID: <38D3B62F.EDB78B6@datacomm.ch>

"An Introduction to R" has a sample session in the appendix. One of the
examples looks at the Michaelson and Morley experiment to measure the
speed of light and starts with "file.show("morley.data")".
Where does one find this data table?

Hans Peter
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Sat Mar 18 20:22:54 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Sat, 18 Mar 2000 11:22:54 -0800 (PST)
Subject: [R] Corstr in the Gee (Generalized Estimation Equation) arguments?
In-Reply-To: <004e01bf90ae$fbd34720$439920a3@m710044>
Message-ID: <Pine.GSO.4.21.0003181118310.11158-100000@mail.biostat.washington.edu>

On Sat, 18 Mar 2000, Jinn-Yuh Guh wrote:

> Dear all:
> Y=a+bX1+cX2
> In the Gee (Generalized Estimation Equation) arguments:
> The arument Corstr has sveral choices:
>             "independence" "fixed" "stat_M_dep" "non_stat_M_dep"
>              "exchangeable" "AR-M" "unstructured" 
> What does each term mean?
> How do I choose among them?
> How do I know the correlation structure of my repeated measures data?
> Can non-normally distributed X1, X2 be used?
> Thank you very much.

The distribution of X1,X2 is irrelevant, as for most regression
methods. The distribution of Y can be non-Normal, the family= argument
works the same way as for glm.

There isn't a magic solution to knowing the correlation of your data. You
should read 

	@article{gee-ZL,author={Scott L. Zeger and Kung-Yee Liang},
        	  title={Longitudinal Data Analysis for Discrete and
                  Continuous Outcomes}, journal={Biometrics},
                  year={1986}, volume=42, pages={121--130}}
                       
and/or

	@Book{diggle,
	author = "Peter J. Diggle and Kung-Yee Liang and Scott L. Zeger",
  	title = "Analysis of Longitudinal Data",
  	publisher = "Oxford University Press",
  	year = 1994,
  	series = "Oxford Statistical Science Series",
  	address = "Oxford" }
   
or other references on the subject.


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Sat Mar 18 21:13:23 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Sat, 18 Mar 2000 15:13:23 -0500 (EST)
Subject: [R] including R in the SuSE Linux distribution
Message-ID: <Pine.LNX.4.21.0003181339550.1202-100000@Chrestomanci.home.earth>

Dear R people,

This message is not a message for help, so strictly off-topic, but I
wanted to reach as many users of R as possible. Please excuse the fact
that it is off-topic.

I use Linux, and the distribution I use is the German based commercial
distribution SuSE. SuSE prides itself on trying to be a comprehensive
distribution of free software. However, they do not include R (or for that
matter ESS) in their distribution. I have written to them a couple of
times about this, to the address feedback at suse.de, which seems to be the
appropriate one. Albrecht Gebhardt, who maintains the SuSE rpms for R and
ESS (contained in the CRAN archives) has also written several times.
Neither of us have ever received a reply.

Now I know that not everyone uses R on a Linux platform, let alone uses
SuSE, but what I feel is that if everyone who uses R on SuSE, and feels
that it should be included in the distribution, writes to SuSE, it will
probably have some effect. Even if you don't use SuSE or even use Linux,
but if you feel that R is good enough to be included, then there is
nothing stopping you from writing, obviously. However, I am mainly asking
people who use SuSE to consider writing.

So, to summarise, if you use SuSE and feel R and/or ESS should be included
in the distribution, consider writing directly to SuSE. Whether or not you
do write to SuSE, let me know if you would like to sign (in an email
sense) a joint letter to SuSE. I thought that it might be a good idea to
send a joint letter to SuSE, with email addresses attached, from everyone
who was interested in R becoming part of the standard SuSE distribution.

If you have read this far, at this point you may be wondering, why bother?
Well, SuSE Linux is the most widely used version of Linux in Europe and is
extensively used elsewhere. The spread of Linux itself is growing. I think
that if R is included in the SuSE distribution, then this may increase R's
dissemination. Not everyone (even those who use Splus) is aware of R's
existence, and there are probably many people who would find a developed
statistical analysis package such as R useful, but cannot afford the
commercial statistical packages. For example, I have heard that TeX/LaTeX
is now being more widely used outside academic environments than ever
before in its history, due to the fact that it is included in most
standard distributions of Linux. A book has even been written called
`Latex for Linux'. Of all the major distributions of Linux, the only one
that tries to be as comprehensive as SuSE is Debian, and I don't use
Debian and am not that familiar with it. It may already include R and ESS
for all I know. So, there seems little point in talking to most of the
other major distributions about this.

I include a sample of the kind of joint letter that I was thinking of
sending SuSE.

Please let me know if you have comments/corrections about the joint
letter, or anything else in this message. Please email me at
faheem at email.unc.edu

                     Sincerely, Faheem Mitha
                                Dept of Statistics
                                Univ. of North Carolina at Chapel Hill

*************************************************************************

Dear SuSE Team, 

I am writing to you about the free statistical analysis package R, and the
associated package ESS (Emacs Speaks Statistics), which is a elisp package
that provides a nice interface between Emacs and a number of other
statistical packages, including R and Splus.

R is somewhat similar to Splus version 3. It is actively developed by
people around the world, and has recently reached version 1.0.0,
reflecting the belief of the developers that it has reached a state of
maturity and is ready for wide-spread usage.

We, the undersigned, feel that R and ESS would be a valuable addition to
the excellent and comprehensive SuSE distribution. The SuSE distribution
already contains similar packages. For example, you include Scilab, which
is similar to the commercial package Matlab.

There are already SuSE rpms for R and ESS available on CRAN (Comprehensive
R Archive Network) (COMMENT: include a URL?), which are provided by
Albrecht Gebhardt. You could use these to assist you in integrating R and
ESS into the SuSE distribution.

                             Sincerely, 
                                       (Signatures).

****************************************************************************


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Sat Mar 18 21:13:18 2000
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Sat, 18 Mar 2000 21:13:18 +0100 (CET)
Subject: [R] Where to find: morley.data
In-Reply-To: <38D3B62F.EDB78B6@datacomm.ch>
References: <38D3B62F.EDB78B6@datacomm.ch>
Message-ID: <14547.58206.892800.914965@aragorn.ci.tuwien.ac.at>

>>>>> Hans Peter =?iso-8859-1?Q?W=FCrmli?= writes:

> "An Introduction to R" has a sample session in the appendix. One of
> the examples looks at the Michaelson and Morley experiment to measure
> the speed of light and starts with "file.show("morley.data")".  Where
> does one find this data table?

It was in package Rnotes which is now outdated.  We should rework the
sample session accordingly, I guess.

-kh
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From albrecht.gebhardt at uni-klu.ac.at  Sat Mar 18 23:00:16 2000
From: albrecht.gebhardt at uni-klu.ac.at (Albrecht Gebhardt)
Date: Sat, 18 Mar 2000 23:00:16 +0100 (MET)
Subject: [R] Re: including R in the SuSE Linux distribution
In-Reply-To: <Pine.LNX.4.21.0003181339550.1202-100000@Chrestomanci.home.earth>
Message-ID: <Pine.OSF.4.21.0003182237590.18837-100000@zidsrv.sci.uni-klu.ac.at>


It seems we had already success: 

Today I found a "rstatist" package mentioned on the german SuSE website
in the "News" section for the upcoming version 6.4 of SuSE Linux:

  http://www.suse.de/en/produkte/susesoft/linux/new_in_64.html

As the package description at 

  http://www.suse.de/en/produkte/susesoft/linux/Pakete/paket_rstatist.html

indicates, it should be more or less equivalent to my R-base rpm. But no
ESS included. Available end of march / begin of april. This information
is currently only available on www.suse.de and not on www.suse.com.


Albrecht
......................................................................
| Albrecht Gebhardt          Tel.: (++43 463) 2700/832               |
| Institut fuer Mathematik   Fax : (++43 463) 2700/834               |
| Universitaet Klagenfurt    mailto:albrecht.gebhardt at uni-klu.ac.at  |
| Villacher Str. 161         http://www-stat.uni-klu.ac.at/~agebhard |
| A-9020 Klagenfurt, Austria                                         |
`--------------------------------------------------------------------'


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Sun Mar 19 01:03:16 2000
From: j.logsdon at lancaster.ac.uk (John Logsdon)
Date: Sun, 19 Mar 2000 00:03:16 +0000 (GMT)
Subject: [R] including R in the SuSE Linux distribution
In-Reply-To: <Pine.LNX.4.21.0003181339550.1202-100000@Chrestomanci.home.earth>
Message-ID: <Pine.LNX.4.10.10003182344430.31350-100000@mercury.quantex>



On Sat, 18 Mar 2000, Faheem Mitha wrote:

[snip]

> 
> So, to summarise, if you use SuSE and feel R and/or ESS should be included
> in the distribution, consider writing directly to SuSE. Whether or not you
> do write to SuSE, let me know if you would like to sign (in an email
> sense) a joint letter to SuSE. I thought that it might be a good idea to
> send a joint letter to SuSE, with email addresses attached, from everyone
> who was interested in R becoming part of the standard SuSE distribution.
> 

While sympathising in general with the point I am not sure whether asking
the Linux distributors to bundle every bit of potentially useful software
in their distos is right.  Where do they stop?  Even CDs have their
limits.

Both Linux and R move and develop very rapidly.  While it is relatively
easy to update R (say) by just replacing the RPMs and maybe the libraries,
updating Linux is something that most people only do when they really have
to.  As a RedHat user I am still on 5.2 purely because it works.  Perhaps
I need to update to 6.1 but then 6.2 is just round the corner....  So I
leave well alone.  When I change disto version I do a complete re-install
on a fresh disk so I can go back to the old version if necessary (eg I had
a big problem with pppd in RH5.2 that meant that I couldn't access my
email).

What perhaps is needed from the distos is for them to point to CRAN (for
R, for example) and to help if required in compiling the RPMs or whatever
for *all* their Linux versions. This may relieve some of the load on the R
team and enable the user to keep up to date with whatever disto version
they have.

This will have the benefit to the distos of enabling their users of all
versions to access the latest version of R.

Just a thought.

John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Sun Mar 19 02:26:02 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Sat, 18 Mar 2000 20:26:02 -0500 (EST)
Subject: [R] Re: including R in the SuSE Linux distribution
In-Reply-To: <Pine.OSF.4.21.0003182237590.18837-100000@zidsrv.sci.uni-klu.ac.at>
Message-ID: <Pine.LNX.4.21.0003182020330.468-100000@Chrestomanci.home.earth>

Well, this is good news. However, I think it might be still be worth
asking them to include ESS. R works well with ESS. In notice their version
fo R is a bit out of date, and judging by the size, includes more than
just R-base. Since SuSE are already including R in their distribution,
they should be receptive (in theory) to including ESS as well.

So I guess the joint letter could now be just about ESS, along the lines
of "since you are incuding R, wouldn't it be fine if you included ESS as
well?"
                                                     Faheem.

On Sat, 18 Mar 2000, Albrecht Gebhardt wrote:

> 
> It seems we had already success: 
> 
> Today I found a "rstatist" package mentioned on the german SuSE website
> in the "News" section for the upcoming version 6.4 of SuSE Linux:
> 
>   http://www.suse.de/en/produkte/susesoft/linux/new_in_64.html
> 
> As the package description at 
> 
>   http://www.suse.de/en/produkte/susesoft/linux/Pakete/paket_rstatist.html
> 
> indicates, it should be more or less equivalent to my R-base rpm. But no
> ESS included. Available end of march / begin of april. This information
> is currently only available on www.suse.de and not on www.suse.com.
> 
> 
> Albrecht

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cwu at fcu.edu.tw  Sun Mar 19 12:38:22 2000
From: cwu at fcu.edu.tw (cwu)
Date: Sun, 19 Mar 2000 19:38:22 +0800
Subject: [R] gee
Message-ID: <000201bf9197$a2a254e0$1757868c@fcu.edu.tw>

Hi there,

How to install package gee for R?

CT
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ted.Harding at nessie.mcc.ac.uk  Sun Mar 19 12:28:56 2000
From: Ted.Harding at nessie.mcc.ac.uk ( (Ted Harding))
Date: Sun, 19 Mar 2000 11:28:56 -0000 (GMT)
Subject: [R] including R in the SuSE Linux distribution
In-Reply-To: <Pine.LNX.4.21.0003181339550.1202-100000@Chrestomanci.home.earth>
Message-ID: <XFMail.000319112856.Ted.Harding@nessie.mcc.ac.uk>

On 18-Mar-00 Faheem Mitha wrote:
> Dear R people,
> [snip]
> I use Linux, and the distribution I use is the German based commercial
> distribution SuSE. SuSE prides itself on trying to be a comprehensive
> distribution of free software. However, they do not include R (or for
> that matter ESS) in their distribution. I have written to them a
> couple of times about this, to the address feedback at suse.de, which
> seems to be the appropriate one. Albrecht Gebhardt, who maintains the
> SuSE rpms for R and ESS (contained in the CRAN archives) has also
> written several times. Neither of us have ever received a reply.
[snip]

I have a lot of sympathy with Faheem Mitha's original message (excerpt
above). However, maybe a comment or two is in order.

For each major Linux distribution (such as SuSE, Red Hat, Debian) there
are people associated with putting the distribution together who are
"maintainers" for that distribution of each package. Not "maintainer"
in the sense of being responsible for development of the software, but
responsible for ensuring (and making any necessary minor changes so as
to ensure) that the package will compile within that Linux distribution,
and that any necessary libraries will be present, compatible, and
correctly used; for taking account of distribution-specific peculiarities
such as just _where_ in the directory tree different parts should go;
etc.; for making sure that none of this clashes with the rest of what goes
out on the distribution; and for keeping al this up-to-date as the
software package evolves in the hands of its developers.

I might hazard a guess that SuSE do not have in their team someone who
does this -- or would do it -- for R, as the reason why R does not go
out on the SuSE CDs.

I did not know that Albrecht Gebhardt had been making RPMs for SuSE
(though apparently independently of the SuSE team). Maybe, assuming
his packaging could be SuSE-approved, this would be the simplest
way to get R into SuSE.

Meanwhile, however, as a user of both R, and of SuSE Linux since SuSE-5.1
of 1997, I have never encountered difficulties compiling R on SuSE
from the sources; and this is almost as convenient a way to go (except
that you have to download the R source instead of finding it on a CD).
It also offers you more flexibility in where in your directory tree you
put R, as well as add-ons like CODA.

However, since I subscribe to the SuSE mailing-list, I could send a mail
and see if there's a reply, though Albrecht's message indicates that
steps are already being taken. What SuSE, apparently, really need is
someone who will do for SuSE what Albrecht has already done in CRAN.

Finally, thanks to all of you -- the R developers, and Albrecht and
any other people giving similar benefit to the community -- for all
that you do to develop and disseminate R.

Ted.

--------------------------------------------------------------------
E-Mail: (Ted Harding) <Ted.Harding at nessie.mcc.ac.uk>
Date: 19-Mar-00                                       Time: 11:28:55
------------------------------ XFMail ------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paul at stat.auckland.ac.nz  Sun Mar 19 22:22:09 2000
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Mon, 20 Mar 2000 09:22:09 +1200
Subject: [R] plot feature request
References: <Pine.LNX.4.10.10003161613310.30957-100000@localhost.localdomain>
Message-ID: <00dc01bf91e9$2f685f40$175dd882@stat.auckland.ac.nz>

hi

[pardon the trashed formatting of the original text]


> When plots are stacked on top of each other, in my area the journals
> like them like this:
>
> 4-| -|
>   | |
> 3-| -|
>   | |
> 2-| -|
>   | |
> 1-| -|
>   | |
>   --+--+--+--+-- --+--+--+--+--
>
> 4-|                     -|
>   |                      |
> 3-|                     -|
>   |                      |
> 2-|                     -|
>   |                      |
> 1-|                     -|
>   |                      |
>   --+--+--+--+--         --+--+--+--+--
>     1  2  3  4    1  2  3  4
>      x axis                  x axis
>
> The axis labels and annotation are eliminated sometimes.
>
> I know that the bottom right plot can be done by
> plot(...,ann=FALSE, axes=FALSE)
> axis(side=1,at=...,labels=FALSE)
> axis(side=2,at=...,labels=TRUE)
> text(x=...,y=...,"x axis")
> This is quite a hassle. (It is tricky to get the scales and
> axis hash mark positions all exactly the same; it is tricky to position
> the annotation)


it should be much easier to position the axis label annotation using mtext()
or title().


> It would be much easier if I could
> - set ann.x and ann.y separately to TRUE/FALSE


you can by specifying the xlab and ylab parameters (xlab="" corresponds to
ann.x = F)


> - set separate arguments labels.x and lables.y to TRUE/FALSE in
> plot() instead of in axis().
>
> Then to get the top right plot I would do:
> plot(..,ann.x=FALSE, ann.y=FALSE, labels.x=FALSE, labels.y=FALSE)
> and the
> bottom right plot would be
> plot(..,ann.x=TRUE, ann.y=FALSE, labels.x=TRUE, labels.y=FALSE)


it should be fairly simple to write a wrapper function to do this.  for
exampe,

my.plot <- function(x, y, at.x, at.y, ann.x, ann.y, labels.x, labels.y)
{
    plot(x, y, axes=F, ann=F)
    axis(1, at=at.x, labels=labels.x)
    axis(2, at=at.y, labels=labels.y)
    # box(bty="l") ?
    title(xlab=if (ann.x) "x axis" else "", ylab=if (ann.y) "y axis" else
"")
}

hope that helps

paul



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From crussell at qins.edu.au  Mon Mar 20 00:22:55 2000
From: crussell at qins.edu.au (Chris Russell)
Date: Mon, 20 Mar 2000 09:22:55 +1000
Subject: [R] including R in the SuSE Linux distribution
In-Reply-To: <Pine.LNX.4.10.10003182344430.31350-100000@mercury.quantex>
References: <Pine.LNX.4.21.0003181339550.1202-100000@Chrestomanci.home.earth>
Message-ID: <3.0.6.32.20000320092255.009c6750@mail.qins.edu.au>

Hi John.

At 12:03 am 19/03/2000 +0000, you wrote:
>On Sat, 18 Mar 2000, Faheem Mitha wrote:
>[snip]
>> So, to summarise, if you use SuSE and feel R and/or ESS should be included
>> in the distribution, consider writing directly to SuSE ...
>While sympathising in general with the point I am not sure whether asking
>the Linux distributors to bundle every bit of potentially useful software
>in their distos is right.  Where do they stop?  Even CDs have their
>limits.
>
>Both Linux and R move and develop very rapidly.  While it is relatively
>easy to update R (say) by just replacing the RPMs and maybe the libraries,
>updating Linux is something that most people only do when they really have
>to ...

Can't agree with you more with regards to the fact there is only 640MB
still on a CD.  We use SuSE here at our college in Australia (it probably
represents 20% of the Linux usage in Australia against 60% Redhat) but we
made the choice to go with SuSE (after been a Slackware campus since early
90's) because of the RPM's and type of *scientific* software that just
works.  We still have Fortran programmers here ;-) right through to people
doing stats and parallel processing work.  This is preceisely the sort of
encouragment and info the SuSE  crowd need!

I don't see that a good stats package is any different to having a good
database package (like mySQL), and good programming languages and support
that work first go!!  I'm sure gamer's would use the same logic ;-)

Anyway I'm sure the delightful people at SuSE were just waiting for a
"real" version (1.0.0) to put it on ;-).  After all, even Albrecht Gebhardt
in Austria only posted his RPM's a couple of weeks ago (I was there within
minutes!).

I think that's enough ranting/raving for one monday morning!

Cheers.

Chris

---------------------------------------------------------------------------
	Prof Chris Russell
	Education Development & Research Manager
	PO Box 5608
	Maroochydore BC
	Queensland, 4558
	Australia
	Ph:  +61 7 5479 0744
	Fax: +61 7 5479 5611
	http://www.qins.edu.au/
	chris at qins.edu.au

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kgerber at gmx.ch  Mon Mar 20 10:07:03 2000
From: kgerber at gmx.ch (Kurt Gerber)
Date: Mon, 20 Mar 2000 10:07:03 +0100
Subject: [R] ESS  Compilation error
Message-ID: <00032010104700.00429@clandestino>

Im running R 0.99 on SuSE 6.3 with Linux 2.2.14 and Xemacs 21.1.

When I try to compile ESS the processes stops with an error message:

Making info file `ess.info' from `ess.texi'.
./newfeat.texi:3: itemize requires an argument: the formatter for @item.
./newfeat.texi:9: itemize requires an argument: the formatter for @item.
makeinfo: Removing output file `/usr/src/R/ess/ess-5.1.9/doc/ess.info' due to errors; use --force to preserve.
make[1]: *** [ess.info] Error 2
make[1]: Leaving directory `/usr/src/R/ess/ess-5.1.9/doc'
bash-2.03# 

Does anybody know, what that means? Is there something missing on my system,
something to do with texinfo?


Kurt Gerber                
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Mar 20 11:09:31 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 20 Mar 2000 11:09:31 +0100 (MET)
Subject: [R] ESS  Compilation error
In-Reply-To: <00032010104700.00429@clandestino>
References: <00032010104700.00429@clandestino>
Message-ID: <14549.63707.530026.159940@lynne.ethz.ch>

>>>>> "Kurt" == Kurt Gerber <kgerber at gmx.ch> writes:

    Kurt> Im running R 0.99 on SuSE 6.3 with Linux 2.2.14 and Xemacs 21.1.
    Kurt> When I try to compile ESS
Note that ESS is not part of R 
and the appropriate mailing list for ESS is
ESS-help @stat.math.ethz.ch {to which this is CC'ed}.

    Kurt>  the processes stops with an error message:

You forgot to tell us the version of ESS, 
but below I see that it's 5.1.9  which is somewhat outdated.
{as well as your version of R: 1.0.0 is current --> http://www.r-project.org/}
The latest version of ESS 5.1.13 does *include* the ess.info files

 --> http://ess.stat.wisc.edu/ or any CRAN mirror 

    Kurt> Making info file `ess.info' from `ess.texi'.
    Kurt> ./newfeat.texi:3: itemize requires an argument: the formatter for @item.
    Kurt> ./newfeat.texi:9: itemize requires an argument: the formatter for @item.
    Kurt> makeinfo: Removing output file `/usr/src/R/ess/ess-5.1.9/doc/ess.info' due to errors; use --force to preserve.
    Kurt> make[1]: *** [ess.info] Error 2
    Kurt> make[1]: Leaving directory `/usr/src/R/ess/ess-5.1.9/doc'
    Kurt> bash-2.03# 

    Kurt> Does anybody know, what that means? Is there something missing on
    Kurt> my system, something to do with texinfo?

I may mean that your makeinfo is somewhat outdated.
The latest GNU texinfo 4.0 has a makeinfo which is required also for making
R's info manuals (in R' doc/manual/).
Get texinfo/texinfo-4.0.tar.gz from any GNU mirror.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tom at ait-tech.com  Mon Mar 20 15:45:27 2000
From: tom at ait-tech.com (Tomislav Goles)
Date: 20 Mar 2000 09:45:27 -0500
Subject: [R] lm handling of ill-conditioned systems
Message-ID: <u9em95n1iw.fsf@ait-tech.com>


The lm() function in R seems to handle the inversion of singular X'X matrices
(where there is collinearity between regression inputs) in a way
where one of the inputs is dropped and this also seems to be the
default behavior in SAS (please let me know if i'm wrong about this).
In some other packages (i.e. octave ols() function) the pseudo 
inverse is computed where singular values less then some small threshold are 
not included in computation of inverse but the data columns themselves are not 
dropped).
I am wandering if few experts could comment on what is a better (best?) way to 
handle singular matrices in this context or to perhaps point me to some 
literature on this.
Thanks,
Tomislav Goles
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dtrenkler at nts6.oec.uni-osnabrueck.de  Mon Mar 20 16:44:45 2000
From: dtrenkler at nts6.oec.uni-osnabrueck.de (Trenkler, Dietrich)
Date: Mon, 20 Mar 2000 16:44:45 +0100
Subject: [R] Elementwise c() for lists
Message-ID: <FB75CFC167F3D311B11D00A0CC20FB0E014ED5@nts7.oec.Uni-Osnabrueck.DE>

I have two lists of equal lengths. Each one consists of vectors. Is
there an elegant way to combine them elementwise? Elegant means: without
loops. 

For instance, for

> jja_list(1:3,4:7)
> jjb_list(rep(0,4),(2,5))

I would like to get:

> list(c(1:3,rep(0,4)),c(4:7,rep(2,5))).


   --- D.Trenkler ---

************************************************************************
*********
   Dietrich Trenkler
(trenkler at oec.uni-osnabrueck.de)      
   Statistik / Empirische Wirtschaftsforschung
   Universitaet Osnabrueck
   Rolandstrasse 8                             Phone: +49(0)
541-969-2753
   D-49069 Osnabrueck                        Fax  : +49(0) 541-969-2745
   GERMANY
************************************************************************
*********



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Mar 20 17:43:37 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 20 Mar 2000 08:43:37 -0800 (PST)
Subject: [R] Elementwise c() for lists
In-Reply-To: <FB75CFC167F3D311B11D00A0CC20FB0E014ED5@nts7.oec.Uni-Osnabrueck.DE>
Message-ID: <Pine.GSO.4.21.0003200836190.856-100000@mail.biostat.washington.edu>

On Mon, 20 Mar 2000, Trenkler, Dietrich wrote:

> I have two lists of equal lengths. Each one consists of vectors. Is
> there an elegant way to combine them elementwise? Elegant means: without
> loops. 
> 
> For instance, for
> 
> > jja_list(1:3,4:7)
> > jjb_list(rep(0,4),(2,5))
> 
> I would like to get:
> 
> > list(c(1:3,rep(0,4)),c(4:7,rep(2,5))).


We are currently considering a 'lapplyAll' function that would be the most
elegant solution to your problem (analogous to the LISP mapcar function).

For the time being

n<-length(list1)
sapply(1:n,function(i) c(list1[[i]],list2[[i]])

with an obvious generalisation to three or more lists.

It's not substantially faster than a for() loop, though.


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at esb.ucp.pt  Mon Mar 20 17:48:30 2000
From: peter at esb.ucp.pt (Peter Ho)
Date: Mon, 20 Mar 2000 16:48:30 +0000
Subject: [R]: multinom()
Message-ID: <38D6565D.3DD3599F@esb.ucp.pt>

Dear R users,

Does anyone know if it is possible to use multinom to do a polychotomous
fit using one categorical  and one numeric variable as response. The
doc. for multinom states that for formula , response can be K>2 classes.
Is this 2 and more, or as I have understood it only greater than 2. I
have tried fitting my data, but have only encountered error messages.

On another note, Is it possible to get a set of discriminant scores for
the multinom fit using predict.nnet or some other function like for lda
using predict.lda?

Thanks

Peter
-------------
Peter Ho
Universidade Cat?lica Portuguesa
Escola Superior de Biotecnologia
Rua Dr. Ant?nio Bernardino de Almeida
4200-072 Porto


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Mar 20 18:15:52 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 20 Mar 2000 09:15:52 -0800 (PST)
Subject: [R] lm handling of ill-conditioned systems
In-Reply-To: <u9em95n1iw.fsf@ait-tech.com>
Message-ID: <Pine.GSO.4.21.0003200846230.856-100000@mail.biostat.washington.edu>

On 20 Mar 2000, Tomislav Goles wrote:

> 
> The lm() function in R seems to handle the inversion of singular X'X matrices
> (where there is collinearity between regression inputs) in a way
> where one of the inputs is dropped and this also seems to be the
> default behavior in SAS (please let me know if i'm wrong about this).
> In some other packages (i.e. octave ols() function) the pseudo 
> inverse is computed where singular values less then some small threshold are 
> not included in computation of inverse but the data columns themselves are not 
> dropped).
> I am wandering if few experts could comment on what is a better (best?) way to 
> handle singular matrices in this context or to perhaps point me to some 
> literature on this.


When the design matrix is not of full rank there is no information in the
data about certain linear combinations of the variables.   This means that
there isn't unique least squares or maximum likelihood estimate for the
parameters. This isn't a numerical analysis issue, it's a statistical one.

While it is possible to pick out a single estimate using some arbitrary
criterion, it is not possible to construct a useful covariance matrix for
these parameters. For example, if a regression has two identical
predictors the variance of each parameter estimators and their covariance
will be (+/-)infinite, even though the sum of the estimators really has a
sensible finite variance.

For this reason you don't gain much, if anything, by allowing least
squares estimation of all the parameters.  It's also more work -- I
believe the algorithm involves the singular value decomposition. People
who want to estimate non-identifiable parameters can work it out
themselves.

In S/R and in Stata (and possibly other statistics packages) variables are
dropped to create a submodel that can be estimated properly.  In S/R the
remaining coefficients are set to NA to emphasize that they are completely
unknown.  I don't know if this was orginally a design intention or
whether it was the simplest way to implement the computations, but it
makes as much sense as anything else and forces the user to notice that
the model was unidentifiable.

As a technical note, R does not in fact invert X'X to fit a linear model.
We find the QR decomposition of X and solve Rbeta=Q'Y.  This results in
roughly half as many digits of rounding error as if we had inverted X'X at
a relatively modest additional computing cost.  The tolerance we currently
use in lm means that a column is discarded if it's diagonal element of R
would be 10^-7 times smaller than the largest one.  I think this
translates into a variance inflation factor of about 10^14, so when we
say 'singular' we mean it.



	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Mon Mar 20 19:03:34 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Mon, 20 Mar 2000 13:03:34 -0500 (EST)
Subject: [R] CART and the `tree' contrib package
Message-ID: <Pine.LNX.4.21.0003201252190.451-100000@Chrestomanci.home.earth>

Dear R people,

I was recently reading the book `Classification and Regression Trees' by
Breiman. This book talks about the CART program. Both Splus and R have
implementations of this. However, the book talks about the possibility of
extending the existing `standard' set of questions (for continuous
variables, these are of the form X < c where X is the variable, c some
const) to questions of the form (for continuous variables) 
sum over i a_i X_i < c where X_i are the cont. variables, a_i and c
consts.

However, this extended set is not implemented in either the R `tree'
package nor the Splus one, to the best of my knowledge. (I believe there
is some original CART package, but I don't know about that). Anyway, I was
wondering why not. Does anyone know?

                                     Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mwong at mipos2.intel.com  Mon Mar 20 23:19:34 2000
From: mwong at mipos2.intel.com (Marcus J. Wong)
Date: Mon, 20 Mar 2000 14:19:34 -0800 (PST)
Subject: [R] Need Help Getting through Make on HP-UX 10.20
Message-ID: <200003202219.RAA18549@zws540.sc.intel.com>

Hi,

I have a problem with getting through the make process.  It fails
during the ld process.  Can someone explain the errors that I get ?

`Makedeps' is up to date.
`libappl.a' is up to date.
`libmath.a' is up to date.
`libunix.a' is up to date.
`../../bin/R.X11' is up to date.
building package `base'
../../../library/base/R/base is unchanged
building package `ctest'
../../../library/ctest/R/ctest is unchanged
        f90     -c alnorm.f -o alnorm.o
alnorm.f
   external function ALNORM

53 Lines Compiled
        ld -b  -o ctest.sl alnorm.o ansari.o fexact.o kendall.o ks.o prho.o swilk.o  /opt/fortran90/lib/libF90.a -lcl /opt/fortran90/lib/libisamstub.a
ld: DP relative code in file alnorm.o - shared library must be position
    independent.  Use +z or +Z to recompile.
*** Error exit code 1


Thanks,
Marcus...
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Tue Mar 21 00:08:16 2000
From: john.maindonald at anu.edu.au (john.maindonald@anu.edu.au)
Date: Tue, 21 Mar 2000 10:08:16 +1100
Subject: [R] lm handling of ill-conditioned systems
In-Reply-To: <Pine.GSO.4.21.0003200846230.856-100000@mail.biostat.washin
 gton.edu>
References: <u9em95n1iw.fsf@ait-tech.com>
Message-ID: <3.0.6.32.20000321100816.007b5730@pophost.anu.edu.au>

At 09:15 AM 20/03/00 -0800, Thomas Lumley wrote:
>On 20 Mar 2000, Tomislav Goles wrote:

>> The lm() function in R seems to handle the inversion of singular X'X 
>> matrices (where there is collinearity between regression inputs) in a
>> way where one of the inputs is dropped and this also seems to be the
>> default behavior in SAS (please let me know if i'm wrong about this).
>> In some other packages (i.e. octave ols() function) the pseudo 
>> inverse is computed where singular values less then some small 
>> threshold are not included in computation of inverse but the data 
>> columns themselves are not dropped).
>> I am wandering if few experts could comment on what is a better 
>> (best?) way to handle singular matrices in this context or to perhaps 
>> point me to some literature on this.
>
>
>When the design matrix is not of full rank there is no information in the
>data about certain linear combinations of the variables.   This means that
>there isn't unique least squares or maximum likelihood estimate for the
>parameters. This isn't a numerical analysis issue, it's a statistical one.
>
>While it is possible to pick out a single estimate using some arbitrary
>criterion, it is not possible to construct a useful covariance matrix for
>these parameters. 

It is worth re-iterating that the generalised inverse form of solution
is an arbitrary resolution of the lack of uniqueness.
If a Moore-Penrose generalised inverse is used.  then the constraint
that is applied is that the sum of squares of the coefficients should
be as small as possible.  It would be much preferable to call this the
minimum length solution.  There are other ways to get this solution
than by forming a Moore-Penrose inverse.

Note also that there are important components of the calculation that
are uniquely defined.  There is a unique set of predicted values,
residuals, and residual sum of squares.


and residuals are uniquely 
John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From patrick.lee at sf.frb.org  Tue Mar 21 00:13:04 2000
From: patrick.lee at sf.frb.org (Patrick Lee)
Date: Mon, 20 Mar 2000 15:13:04 -0800
Subject: [R] trellis dislays and R
Message-ID: <200003202313.SAA16234@p1fed3.frb.org>

Hi;

Are Trellis displays implemented in R?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From venables at acland.qld.cmis.csiro.au  Tue Mar 21 02:10:35 2000
From: venables at acland.qld.cmis.csiro.au (Bill Venables)
Date: Tue, 21 Mar 2000 11:10:35 +1000
Subject: [R]: multinom() 
In-Reply-To: Your message of "Mon, 20 Mar 2000 16:48:30 GMT."
             <38D6565D.3DD3599F@esb.ucp.pt> 
Message-ID: <200003210110.MAA12649@snowy.nsw.cmis.CSIRO.AU>

Peter Ho asks:

> Dear R users,
> 
> Does anyone know if it is possible to use multinom to do a polychotomous
> fit using one categorical  and one numeric variable as response. The
> doc. for multinom states that for formula, response can be K>2 classes.
> Is this 2 and more, or as I have understood it only greater than 2. I
> have tried fitting my data, but have only encountered error messages.

If you have a bivariate response, on variable categorical and one
continuous (if that't what you mean by "numeric"), then the
response is not "polychotomous" and multinom is of no use to you.

For multinom to be useful, you need to express your response
categories through a single factor variable.  If it is naturally
expressed with more than two factors, you have to combine them
into one factor in the way you intend the result to be
interpreted.

It should work with K = 2 categories and the result should be
comparable with glm(..., family = binom, ...) and contr.treatment
contrasts.

> On another note, Is it possible to get a set of discriminant scores for
> the multinom fit using predict.nnet or some other function like for lda
> using predict.lda?

There is a predict.multinom method in the nnet library that
allows some forms of prediction following on from a multinom fit.

-- 
Bill Venables,      Statistician,     CMIS Environmetrics Project
CSIRO Marine Labs, PO Box 120, Cleveland, Qld,  AUSTRALIA.   4163
Tel: +61 7 3826 7251           Email: Bill.Venables at cmis.csiro.au    
Fax: +61 7 3826 7304      http://www.cmis.csiro.au/bill.venables/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From johnr.williams at stonebow.otago.ac.nz  Mon Mar 20 06:02:32 2000
From: johnr.williams at stonebow.otago.ac.nz (johnr.williams@stonebow.otago.ac.nz)
Date: Mon, 20 Mar 2000 17:02:32 +1200
Subject: [R] Bug report for ported packages?
Message-ID: <38D5B0E8.8B8090AB@stonebow.otago.ac.nz>

Where is the appropriate place for bug reports fon contributed
packages?  Here, to the porters, or the main R bug report system?  I
have a problem with mda, if that is relevant.

cheers

John

-
John Williams
Department of Marketing
Otago University
Dunedin, New Zealand

-------------- next part --------------
A non-text attachment was scrubbed...
Name: johnr.williams.vcf
Type: text/x-vcard
Size: 353 bytes
Desc: Card for 
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000320/cc989901/johnr.williams.vcf

From paul at stat.auckland.ac.nz  Tue Mar 21 05:12:06 2000
From: paul at stat.auckland.ac.nz (Paul Murrell)
Date: Tue, 21 Mar 2000 16:12:06 +1200
Subject: [R] trellis dislays and R
References: <200003202313.SAA16234@p1fed3.frb.org>
Message-ID: <016e01bf92eb$9e704170$175dd882@stat.auckland.ac.nz>

hi


> Are Trellis displays implemented in R?


no (not yet anyway).  
you could look at coplot() which might do at least some of what you want.

paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jhoksane at ecology.helsinki.fi  Tue Mar 21 09:29:48 2000
From: jhoksane at ecology.helsinki.fi (Jari Oksanen)
Date: Tue, 21 Mar 2000 10:29:48 +0200
Subject: [R] summary.negbin broken in R-1.0.0, VR_6.1-7
Message-ID: <200003210829.KAA15843@khatkhat.ecology.helsinki.fi>

Dear R people,

I am not sure if this is the correct place to tell about problems in evolving 
programmes, but it seems that the `summary.negbin' function of the excellent 
`MASS' library is now broken, and gives the following error message:

> summary(hm)
Error in summary.negbin(hm) : subscript out of bounds

`summary.negbin' calls `summary.glm' which seems to work and give the desired 
output like called there, but calls to `object["SE"]' fails (and later, if it 
would get there, `object["th.warn"]' would fail). The first entity seems to be 
now "SE.theta", and I did not find "th.warn" at all in my objects.

Really a tiny thing, and if I understood the behaviour correctly, easily to 
cure by the user herself.

For the record: these errors came in R 1.0.0 from the CRAN site rpm package 
for RH Linux 6.2 and with R INSTALLed VR_6.1-7.tar.gz from the same site.

cheers, jari oksanen 
-- 
Jari Oksanen - Dept Ecol Env Sci, Univ Helsinki, 15140 Lahti
Ph. +358 3 89220312, Fax -- 89220289, Mobile +358 40 5136529
jari.oksanen at helsinki.fi    http://www.helsinki.fi/~jhoksane



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Tue Mar 21 10:14:25 2000
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 21 Mar 2000 10:14:25 +0100 (CET)
Subject: [R] Bug report for ported packages?
In-Reply-To: <38D5B0E8.8B8090AB@stonebow.otago.ac.nz>
References: <38D5B0E8.8B8090AB@stonebow.otago.ac.nz>
Message-ID: <14551.15729.28225.143294@galadriel.ci.tuwien.ac.at>

>>>>> On Mon, 20 Mar 2000 17:02:32 +1200,
>>>>> johnr williams (jw) wrote:

jw> Where is the appropriate place for bug reports fon contributed
jw> packages?  Here, to the porters, or the main R bug report system?  I
jw> have a problem with mda, if that is relevant.

At first an email to the porters, as only R core members can modify
the bug repository. Definetely not on r-help, r-devel is the list for
discussing technical details.

.f
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Tue Mar 21 10:34:07 2000
From: gb at stat.umu.se (gb@stat.umu.se)
Date: Tue, 21 Mar 2000 10:34:07 +0100 (CET)
Subject: [R] dyn.load and rw1000
In-Reply-To: <Pine.GSO.4.21.0003200846230.856-100000@mail.biostat.washington.edu>
Message-ID: <Pine.LNX.4.10.10003211021320.28049-100000@pc16.stat.umu.se>


How do I compile a Fortran subroutine or a C function so that it can be
dyn.loaded in the windows version of R-1.0.0? I use Cygnus C and Fortran 
compilers (and mingw-something). 

G?ran
----------------------------------------------------------
 G?ran Brostr?m                      tel: +46 90 786-5223
 Department of Statistics            fax: +46 90 786-6614
 Ume? University                                         
 SE-90187 Ume?, Sweden              email: gb at stat.umu.se
                                                        
 http://www.stat.umu.se/egna/gb    ftp://capa.stat.umu.se
----------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From D.J.Lucy at Bradford.ac.uk  Tue Mar 21 12:27:45 2000
From: D.J.Lucy at Bradford.ac.uk (Dave Lucy)
Date: Tue, 21 Mar 2000 11:27:45 +0000 (GMT)
Subject: [R] dyn.load and rw1000
In-Reply-To: <Pine.LNX.4.10.10003211021320.28049-100000@pc16.stat.umu.se>
Message-ID: <Pine.GSO.3.96.1000321111237.7057C-100000@kite.cen.brad.ac.uk>

Goran,

> How do I compile a Fortran subroutine or a C function so that it can be
> dyn.loaded in the windows version of R-1.0.0? I use Cygnus C and Fortran 
> compilers (and mingw-something). 

You need to download the win' 9X package from CRAN which allows you to
build packages (forgotton what its called but it is availible as part of
the binary download something like R1000sp) - unpack it and it puts a
README.packages file in R home. This gives you more or less full
instructions. You already have a compiler which I believe is mentioned in
the documentation - it will also require perl5 to be installed, and a few
microsoft bits and pieces. I'm trying the same thing at the moment - but
I'm getting the Linux version to run properly first before having a go at
a full win port. 

In experimentation I have got a fortune cookie library to run - this was
just a test piece and didn't have any compiled code. It did alright using
modified copies of an existing package, but the documentation kept
returning an error on linking. I also couldn't do the win type of help. 

Hope this helps,

Dave.


********************************************************************
Dr. David Lucy
Department of Archaeological Sciences
University of Bradford
Bradford
West Yorkshire
BD7 1DP
UK

tel. +44 01274 233556
fax. +44 01274 235190
********************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Tue Mar 21 12:42:37 2000
From: gb at stat.umu.se (gb@stat.umu.se)
Date: Tue, 21 Mar 2000 12:42:37 +0100 (CET)
Subject: [R] dyn.load and rw1000
In-Reply-To: <Pine.GSO.3.96.1000321111237.7057C-100000@kite.cen.brad.ac.uk>
Message-ID: <Pine.LNX.4.10.10003211238460.28565-100000@pc16.stat.umu.se>

Dave,

thank you for the answer. I hoped that I didn't have to build a whole
package just to  dyn.load some C code, but I guess I have to rethink.

Thanks again,
 
G?ran

On Tue, 21 Mar 2000, Dave Lucy wrote:

> Goran,
> 
> > How do I compile a Fortran subroutine or a C function so that it can be
> > dyn.loaded in the windows version of R-1.0.0? I use Cygnus C and Fortran 
> > compilers (and mingw-something). 
> 
> You need to download the win' 9X package from CRAN which allows you to
> build packages (forgotton what its called but it is availible as part of
> the binary download something like R1000sp) - unpack it and it puts a
> README.packages file in R home. This gives you more or less full
> instructions. You already have a compiler which I believe is mentioned in
> the documentation - it will also require perl5 to be installed, and a few
> microsoft bits and pieces. I'm trying the same thing at the moment - but
> I'm getting the Linux version to run properly first before having a go at
> a full win port. 
> 
> In experimentation I have got a fortune cookie library to run - this was
> just a test piece and didn't have any compiled code. It did alright using
> modified copies of an existing package, but the documentation kept
> returning an error on linking. I also couldn't do the win type of help. 
> 
> Hope this helps,
> 
> Dave.
> 
> 
> ********************************************************************
> Dr. David Lucy
> Department of Archaeological Sciences
> University of Bradford
> Bradford
> West Yorkshire
> BD7 1DP
> UK
> 
> tel. +44 01274 233556
> fax. +44 01274 235190
> ********************************************************************
> 
> 

----------------------------------------------------------
 G?ran Brostr?m                      tel: +46 90 786-5223
 Department of Statistics            fax: +46 90 786-6614
 Ume? University                                         
 SE-90187 Ume?, Sweden              email: gb at stat.umu.se
                                                        
 http://www.stat.umu.se/egna/gb    ftp://capa.stat.umu.se
----------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Tue Mar 21 12:54:42 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Tue, 21 Mar 2000 12:54:42 +0100
Subject: [R] dyn.load and rw1000
In-Reply-To: <Pine.LNX.4.10.10003211021320.28049-100000@pc16.stat.umu.se>; from gb@stat.umu.se on Tue, Mar 21, 2000 at 10:34:07AM +0100
References: <Pine.GSO.4.21.0003200846230.856-100000@mail.biostat.washington.edu> <Pine.LNX.4.10.10003211021320.28049-100000@pc16.stat.umu.se>
Message-ID: <20000321125442.A21892@sirio.stat.unipd.it>

On Tue, Mar 21, 2000 at 10:34:07AM +0100, gb at stat.umu.se wrote:
> 
> How do I compile a Fortran subroutine or a C function so that it can be
> dyn.loaded in the windows version of R-1.0.0? I use Cygnus C and Fortran 
> compilers (and mingw-something). 
> 

  There are at least two way (the second is the one we use to build
  the contrib section of CRAN):

  1) R for Windows can dyn.load standard Windows dll. You can find
     details on how to build them with the tools you are using at
     http://www.xraylith.wisc.edu/~khan/software/gnu-win32/dllhelpers.html
     When, you have got the dll, just 'dyn.load("full/path/to/the/dll")'
     will make the exported symbols from the dll available for
     .C and .Fortran. In general, it is better to use
     the 'mingw' version of the tools (i.e., remember to pass
     the --mno-cygwin flags to the compiler and the linker).

  2) Organize the R, Fortran and C source as an R package. Details are
     in the R Extension Writer Manual. It is quite easy. Essentially just
     put all under a directory with the structure
     my.package ------|
                      |____R <- here the R sources must go
                      |
                      |____src <- here put the C and Fortran source

     Then, put 'my.package'  under rw1000/src/library and install
     (if you haven't done before) the 'rw1000sp.zip' part of the
     binary distribution. Then, from rw1000/src/gnuwin32
     > make pkg-my.package
     should do all the work, not only the building of the dll but also
     the istallation of the R interface (and of the help, if you have a
     my.package/man sub dir with the Rd files, 
     (but before trying 'make ...'  read the README.packages
     available in the 'rw1000sp.zip' archive (after installation
     you will find it in the main rw1000 directory)).
     In this case, rebember to add to your R sources something
     like
     .First.lib <- function (lib, pkg) 
     {
       library.dynam("my.package", pkg, lib)
       #other initialization stuff here
     }
     If all will go well, do a 'library(my.package)' and ....

     Hoping this help,
     guido

     
    
 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cwu at fcu.edu.tw  Tue Mar 21 13:32:35 2000
From: cwu at fcu.edu.tw (cwu)
Date: Tue, 21 Mar 2000 20:32:35 +0800
Subject: [R] chol2inv question
Message-ID: <000401bf9331$89eaa4c0$1757868c@fcu.edu.tw>

Hi there,

Please help me this out.

> m
     [,1] [,2]
[1,]  1.1  1.0
[2,]  1.0  1.1
> chol2inv(m)
           [,1]       [,2]
[1,]  1.5094597 -0.7513148
[2,] -0.7513148  0.8264463
> 

CT
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Mar 21 14:14:23 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Mar 2000 14:14:23 +0100
Subject: [R] chol2inv question
In-Reply-To: "cwu"'s message of "Tue, 21 Mar 2000 20:32:35 +0800"
References: <000401bf9331$89eaa4c0$1757868c@fcu.edu.tw>
Message-ID: <x2n1ns4g9c.fsf@blueberry.kubism.ku.dk>

"cwu" <cwu at fcu.edu.tw> writes:

> Hi there,
> 
> Please help me this out.
> 
> > m
>      [,1] [,2]
> [1,]  1.1  1.0
> [2,]  1.0  1.1
> > chol2inv(m)
>            [,1]       [,2]
> [1,]  1.5094597 -0.7513148
> [2,] -0.7513148  0.8264463

What's the trouble? Are you aware that me is expected to contain a
Choleski factor in the upper triangle? 

> m
     [,1] [,2]
[1,]  1.1  1.0
[2,]  0.0  1.1
> t(m)%*%m 
     [,1] [,2]
[1,] 1.21 1.10
[2,] 1.10 2.21
> chol(t(m)%*%m)
     [,1] [,2]
[1,]  1.1  1.0
[2,]  0.0  1.1
> solve(t(m)%*%m)
           [,1]       [,2]
[1,]  1.5094597 -0.7513148
[2,] -0.7513148  0.8264463


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Mar 21 14:19:31 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Mar 2000 14:19:31 +0100
Subject: [R] chol2inv question
In-Reply-To: Peter Dalgaard BSA's message of "21 Mar 2000 14:14:23 +0100"
References: <000401bf9331$89eaa4c0$1757868c@fcu.edu.tw> <x2n1ns4g9c.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2k8iw4g0s.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> What's the trouble? Are you aware that me is expected to contain a
                                         ^^
Whoops. 'm', of course.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Patrik.Waldmann at sysbot.lu.se  Tue Mar 21 14:26:35 2000
From: Patrik.Waldmann at sysbot.lu.se (Patrik Waldmann)
Date: Tue, 21 Mar 2000 14:26:35 +0100
Subject: [R] CI around variance ratios
Message-ID: <000901bf9339$14d781f0$2795eb82@patrikwpc>

Hi,

I'm using the NLME library and would like to extract the variance components for the random effects, form a ratio (for example Ratio=VarBlock/(VarBlock+VarErr)) and estimate the confidence interval around Ratio. Is this possible?

Best regards,

Patrik Waldmann
Department of Systematic botany
University of Lund
Ostra Vallgatan 18-20
223 61 Lund
Sweden
E-mail: Patrik.Waldmann at sysbot.lu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Tue Mar 21 18:10:39 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Tue, 21 Mar 2000 12:10:39 -0500 (EST)
Subject: [R] clustering methods in R
Message-ID: <Pine.LNX.4.21.0003211133100.424-100000@Chrestomanci.home.earth>

Dear R people,

I need to do some work with clustering, but know next to nothing about it
at present. R has (at least) three clustering packages, cluster, mclust,
cclust. 

I was wondering if someone can direct me to some good books where I could
find documentation and background on the functions in these packages. The
html help in these packages lists the following as references. Can people
suggest any others? I will look for the books and articles below, of
course, but I think I may have difficulty getting hold of the Kaufman
book, at least.

                                 Sincerely, Faheem Mitha.

****************************************************************************

(cluster)

Kaufman, L. and Rousseeuw, P.J. (1990). Finding Groups in Data: An
Introduction to Cluster Analysis. Wiley, New York. 

Struyf, A., Hubert, M. and Rousseeuw, P.J. (1997). Integrating Robust
Clustering Techniques in S-PLUS, Computational Statistics and Data
Analysis, 26,
17-37.

(mclust)

D. Banfield and A. E. Raftery, Model-based Gaussian and non-Gaussian
Clustering, Biometrics, 49:803-821 (September 1993). 

C. Fraley, Algorithms for Model-based Gaussian Hierarchical Clustering,
Technical Report No. 311, Department of Statistics, University of
Washington
(October 1996), to appear in SIAM Journal on Scientific Computing. 

***************************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From denis at mail.cor.epa.gov  Tue Mar 21 18:30:00 2000
From: denis at mail.cor.epa.gov (Denis White)
Date: Tue, 21 Mar 2000 09:30:00 -0800 (PST)
Subject: [R] recursion and lexical scoping
Message-ID: <Pine.SUN.3.91.1000321092807.13150D-100000@okapi.cor.epa.gov>

To assign values to a matrix in a recursive function,
must the matrix be passed as argument and returned
as value?

thanks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Mar 21 18:47:25 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 21 Mar 2000 09:47:25 -0800 (PST)
Subject: [R] recursion and lexical scoping
In-Reply-To: <Pine.SUN.3.91.1000321092807.13150D-100000@okapi.cor.epa.gov>
Message-ID: <Pine.GSO.4.21.0003210942240.14323-100000@mail.biostat.washington.edu>

On Tue, 21 Mar 2000, Denis White wrote:

> To assign values to a matrix in a recursive function,
> must the matrix be passed as argument and returned
> as value?

It doesn't _have_ to be. It depends on a compromise between slowness and
incomprehensibility.

You can use <<- to assign to a 'global' variable: eg
R> a<-matrix(0,ncol=5,nrow=10)
R> f
function(n) {
if (n==1) {
a<<-a+1
return(1)
}
else return(f(n-1)+f(n-1))
}

but it can get messy writing recursive functions with side-effects.

If you declare the matrix to be the correct size and only assign to
elements of it then I don't think it will be unnecessarily duplicated, so
the loss of efficiency won't be too bad.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From canty at cicma.concordia.ca  Tue Mar 21 19:00:44 2000
From: canty at cicma.concordia.ca (Angelo Canty)
Date: Tue, 21 Mar 2000 13:00:44 -0500
Subject: [R] loading data in packages
Message-ID: <38D7B8CC.71EA24BC@discrete.concordia.ca>

Hi,

I'm new to R and have a question which seems like it should be easy.
I loaded the R port of my boot library and installed it.  All of the
functions and help files are available but I can't seem to access the
data.  The data directory was created and contains files with the
extension .rda.  I tried to use the data() function but I get
> data(city)
Error: restore file corrupted -- no data loaded

Some of my students have encountered the same problem.  Can someone
please point out what I'm missing here.

Thanks,
Angelo
-- 
****************************************************
**   Angelo J. Canty                              **
**   Dept of Mathematics and Statistics           **
**   Concordia University                         **
**   Montreal, Quebec.                            **
**                                                **
**   Tel :  +1-514-848-3244                       **
**   Fax :  +1-514-848-4511                       **
**   Email : canty at discrete.concordia.ca          **
****************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Tue Mar 21 19:08:48 2000
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 21 Mar 2000 19:08:48 +0100 (CET)
Subject: [R] loading data in packages
In-Reply-To: <38D7B8CC.71EA24BC@discrete.concordia.ca>
References: <38D7B8CC.71EA24BC@discrete.concordia.ca>
Message-ID: <14551.47792.333948.277604@galadriel.ci.tuwien.ac.at>

>>>>> On Tue, 21 Mar 2000 13:00:44 -0500,
>>>>> Angelo Canty (AC) wrote:

AC> Hi,
AC> I'm new to R and have a question which seems like it should be easy.
AC> I loaded the R port of my boot library and installed it.  All of the
AC> functions and help files are available but I can't seem to access the
AC> data.  The data directory was created and contains files with the
AC> extension .rda.  I tried to use the data() function but I get
>> data(city)
AC> Error: restore file corrupted -- no data loaded

AC> Some of my students have encountered the same problem.  Can someone
AC> please point out what I'm missing here.

Which version of R are you using? Which platform?

We have changed the data format, so there might be a problem with
older versions of R.

Best,

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Mar 21 19:11:57 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 21 Mar 2000 10:11:57 -0800 (PST)
Subject: [R] loading data in packages
In-Reply-To: <38D7B8CC.71EA24BC@discrete.concordia.ca>
Message-ID: <Pine.GSO.4.21.0003211005390.14323-100000@mail.biostat.washington.edu>

On Tue, 21 Mar 2000, Angelo Canty wrote:

> Hi,
> 
> I'm new to R and have a question which seems like it should be easy.
> I loaded the R port of my boot library and installed it.  All of the
> functions and help files are available but I can't seem to access the
> data.  The data directory was created and contains files with the
> extension .rda.  I tried to use the data() function but I get
> > data(city)
> Error: restore file corrupted -- no data loaded

If you don't have 1.0.0 you may need to upgrade.  There was a bug in
handling garbage collection during loads which could cause this error.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From canty at cicma.concordia.ca  Tue Mar 21 19:14:37 2000
From: canty at cicma.concordia.ca (Angelo Canty)
Date: Tue, 21 Mar 2000 13:14:37 -0500
Subject: [R] loading data in packages
References: <38D7B8CC.71EA24BC@discrete.concordia.ca> <14551.47792.333948.277604@galadriel.ci.tuwien.ac.at>
Message-ID: <38D7BC0D.F3C773FF@discrete.concordia.ca>

Sorry,

I should have specified that I am using version 0.65.1 on 
Sun Solaris 2.6.

Angelo
-- 
****************************************************
**   Angelo J. Canty                              **
**   Dept of Mathematics and Statistics           **
**   Concordia University                         **
**   Montreal, Quebec.                            **
**                                                **
**   Tel :  +1-514-848-3244                       **
**   Fax :  +1-514-848-4511                       **
**   Email : canty at discrete.concordia.ca          **
****************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Mar 21 19:22:19 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 21 Mar 2000 10:22:19 -0800 (PST)
Subject: [R] loading data in packages
In-Reply-To: <38D7BC0D.F3C773FF@discrete.concordia.ca>
Message-ID: <Pine.GSO.4.21.0003211017310.14323-100000@mail.biostat.washington.edu>

On Tue, 21 Mar 2000, Angelo Canty wrote:

> Sorry,
> 
> I should have specified that I am using version 0.65.1 on 
> Sun Solaris 2.6.

In that case you should definitely upgrade. There's 1000 lines of features
and bug fixes in the NEWS file since 0.65.1.  Version 1.0 should actually
be fairly stable, and we plan to keep the API, data format, and even the
random number generators fixed for quite a while. 

We changed the data format in version 0.90, which is probably the main
problem, but we also changed the names of a lot of internal C functions so
that some packages just won't work under 0.65.1 (eg survival5).

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Tue Mar 21 19:24:37 2000
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Tue, 21 Mar 2000 19:24:37 +0100 (CET)
Subject: [R] loading data in packages
In-Reply-To: <38D7BC0D.F3C773FF@discrete.concordia.ca>
References: <38D7B8CC.71EA24BC@discrete.concordia.ca>
	<14551.47792.333948.277604@galadriel.ci.tuwien.ac.at>
	<38D7BC0D.F3C773FF@discrete.concordia.ca>
Message-ID: <14551.48741.74906.706819@galadriel.ci.tuwien.ac.at>

>>>>> On Tue, 21 Mar 2000 13:14:37 -0500,
>>>>> Angelo Canty (AC) wrote:

AC> Sorry,
AC> I should have specified that I am using version 0.65.1 on 
AC> Sun Solaris 2.6.

OK, then the fix is easy: the current boot package (if you use that)
depends on an R version of at least 0.99. 

>From the NEWS file:

                CHANGES IN R VERSION 0.99.0

NEW FEATURES

    o   The format for save/load has been changed. Workspaces and
        objects saved in earlier versions can be loaded into this
        version, but not conversely. Use save() or save.image() with
        argument oldstyle=TRUE to save in the old format if you need to.


I'd recommend to use 1.0.0 :-) 

Best,

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Tue Mar 21 19:39:00 2000
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Tue, 21 Mar 2000 13:39:00 -0500 (EST)
Subject: [R] clustering methods in R
In-Reply-To: <Pine.LNX.4.21.0003211133100.424-100000@Chrestomanci.home.earth>
Message-ID: <Pine.SGI.3.96.1000321133707.27344C-100000@ln.nimh.nih.gov>

Hi, Faheem.

I found the first book on your list very helpful.  In particular, for my
application divisive clustering seemed to be the best approach, and I
didn't find any other references to it that I remember offhand.  (Of
course, once I found that book I stopped looking very hard.)

Brian Ripley's book _Pattern Recognition & Neural Networks_ also has a
discussion of clustering, with lots of references.

Hope this helps,

Matt

On Tue, 21 Mar 2000, Faheem Mitha wrote:

> Dear R people,
> 
> I need to do some work with clustering, but know next to nothing about it
> at present. R has (at least) three clustering packages, cluster, mclust,
> cclust. 
> 
> I was wondering if someone can direct me to some good books where I could
> find documentation and background on the functions in these packages. The
> html help in these packages lists the following as references. Can people
> suggest any others? I will look for the books and articles below, of
> course, but I think I may have difficulty getting hold of the Kaufman
> book, at least.
> 
>                                  Sincerely, Faheem Mitha.
> 
> ****************************************************************************
> 
> (cluster)
> 
> Kaufman, L. and Rousseeuw, P.J. (1990). Finding Groups in Data: An
> Introduction to Cluster Analysis. Wiley, New York. 
> 
> Struyf, A., Hubert, M. and Rousseeuw, P.J. (1997). Integrating Robust
> Clustering Techniques in S-PLUS, Computational Statistics and Data
> Analysis, 26,
> 17-37.
> 
> (mclust)
> 
> D. Banfield and A. E. Raftery, Model-based Gaussian and non-Gaussian
> Clustering, Biometrics, 49:803-821 (September 1993). 
> 
> C. Fraley, Algorithms for Model-based Gaussian Hierarchical Clustering,
> Technical Report No. 311, Department of Statistics, University of
> Washington
> (October 1996), to appear in SIAM Journal on Scientific Computing. 
> 
> ***************************************************************************
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Tue Mar 21 20:42:57 2000
From: chong at stat.purdue.edu (Chong Gu)
Date: Tue, 21 Mar 2000 14:42:57 -0500
Subject: [R] buggy eigen function
Message-ID: <200003211942.OAA51808@odds.stat.purdue.edu>


It was a real surprise, but a student in my class found that the
function eigen is buggy.  He traced to the problem from his inability
of getting principal component analysis to work on his data.

Chong Gu


Here is a matrix I generated through X'X, where X is 2x3.

> jj
           [,1]      [,2]       [,3]
[1,]  0.8288469 -1.269783 -0.7533517
[2,] -1.2697829  2.162132  2.0262917
[3,] -0.7533517  2.026292  4.1927134


Here are the 0.90.1 eigen results.

> eigen(jj)
$values
[1]  3.06206547  0.20492432 -0.04955518

$vectors
           [,1]        [,2]        [,3]
[1,] -0.2316032  0.05778620  0.06998513
[2,]  0.4932735 -0.04951172  0.06919350
[3,]  0.8489300  0.06527175 -0.01966568


Here are the 1.0.0 eigen results.

> eigen(jj)
$values
[1]  2.765885782  0.008839573 -0.122630879

$vectors
           [,1]       [,2]       [,3]
[1,] -0.2236327  0.6670340  0.7106715
[2,]  0.4693452 -0.5653355  0.6783147
[3,]  0.8542268  0.4852437 -0.1866417
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Tue Mar 21 20:58:53 2000
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Wed, 22 Mar 2000 07:58:53 +1200
Subject: [R] chol2inv question
In-Reply-To: <000401bf9331$89eaa4c0$1757868c@fcu.edu.tw>; from cwu on Tue, Mar 21, 2000 at 08:32:35PM +0800
References: <000401bf9331$89eaa4c0$1757868c@fcu.edu.tw>
Message-ID: <20000322075853.A886@stat1.stat.auckland.ac.nz>

On Tue, Mar 21, 2000 at 08:32:35PM +0800, cwu wrote:
> Hi there,
> 
> Please help me this out.
> 
> > m
>      [,1] [,2]
> [1,]  1.1  1.0
> [2,]  1.0  1.1
> > chol2inv(m)
>            [,1]       [,2]
> [1,]  1.5094597 -0.7513148
> [2,] -0.7513148  0.8264463

chol2inv wants the choleski decompostion of m as its argument.

> m
     [,1] [,2]
[1,]  1.1  1.0
[2,]  1.0  1.1
> mc <- chol(m)
> chol2inv(mc)
          [,1]      [,2]
[1,]  5.238095 -4.761905
[2,] -4.761905  5.238095

Compare this with the inverse computed directly by Householder
transformations.

> solve(m)
          [,1]      [,2]
[1,]  5.238095 -4.761905
[2,] -4.761905  5.238095

Hope this helps.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Mar 21 21:43:21 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 21 Mar 2000 12:43:21 -0800 (PST)
Subject: [R] buggy eigen function
In-Reply-To: <200003211942.OAA51808@odds.stat.purdue.edu>
Message-ID: <Pine.GSO.4.21.0003211241030.14323-100000@mail.biostat.washington.edu>

On Tue, 21 Mar 2000, Chong Gu wrote:

> 
> It was a real surprise, but a student in my class found that the
> function eigen is buggy.  He traced to the problem from his inability
> of getting principal component analysis to work on his data.

I can't reproduce this problem.  I've tried on Linux and on AIX (which I
believe is your system) and I get

> jj
           [,1]      [,2]       [,3]
[1,]  0.8288469 -1.269783 -0.7533517
[2,] -1.2697830  2.162132  2.0262920
[3,] -0.7533517  2.026292  4.1927134
> eigen(jj)
$values
[1]  5.795187e+00  1.388505e+00 -2.006855e-07

$vectors
           [,1]       [,2]       [,3]
[1,] -0.3417893  0.4739218 -0.7067794
[2,]  0.7093264 -0.4978512 -0.5411749
[3,]  1.0576086  0.4870615  0.1345488


which looks right to me.

There may be a problem with your BLAS system or something. What OS and
compilers are you using?

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle


> 
> Chong Gu
> 
> 
> Here is a matrix I generated through X'X, where X is 2x3.
> 
> > jj
>            [,1]      [,2]       [,3]
> [1,]  0.8288469 -1.269783 -0.7533517
> [2,] -1.2697829  2.162132  2.0262917
> [3,] -0.7533517  2.026292  4.1927134
> 
> 
> Here are the 0.90.1 eigen results.
> 
> > eigen(jj)
> $values
> [1]  3.06206547  0.20492432 -0.04955518
> 
> $vectors
>            [,1]        [,2]        [,3]
> [1,] -0.2316032  0.05778620  0.06998513
> [2,]  0.4932735 -0.04951172  0.06919350
> [3,]  0.8489300  0.06527175 -0.01966568
> 
> 
> Here are the 1.0.0 eigen results.
> 
> > eigen(jj)
> $values
> [1]  2.765885782  0.008839573 -0.122630879
> 
> $vectors
>            [,1]       [,2]       [,3]
> [1,] -0.2236327  0.6670340  0.7106715
> [2,]  0.4693452 -0.5653355  0.6783147
> [3,]  0.8542268  0.4852437 -0.1866417
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Mar 21 22:03:13 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Mar 2000 22:03:13 +0100
Subject: [R] buggy eigen function
In-Reply-To: Chong Gu's message of "Tue, 21 Mar 2000 14:42:57 -0500"
References: <200003211942.OAA51808@odds.stat.purdue.edu>
Message-ID: <x2em946nou.fsf@blueberry.kubism.ku.dk>

Chong Gu <chong at stat.purdue.edu> writes:

> It was a real surprise, but a student in my class found that the
> function eigen is buggy.  He traced to the problem from his inability
> of getting principal component analysis to work on his data.

..
> Here is a matrix I generated through X'X, where X is 2x3.
> 
> > jj
>            [,1]      [,2]       [,3]
> [1,]  0.8288469 -1.269783 -0.7533517
> [2,] -1.2697829  2.162132  2.0262917
> [3,] -0.7533517  2.026292  4.1927134
> 
> 
> Here are the 0.90.1 eigen results.
> 
> > eigen(jj)
> $values
> [1]  3.06206547  0.20492432 -0.04955518
> 
> $vectors
>            [,1]        [,2]        [,3]
> [1,] -0.2316032  0.05778620  0.06998513
> [2,]  0.4932735 -0.04951172  0.06919350
> [3,]  0.8489300  0.06527175 -0.01966568
> 
> 
> Here are the 1.0.0 eigen results.
> 
> > eigen(jj)
> $values
> [1]  2.765885782  0.008839573 -0.122630879
> 
> $vectors
>            [,1]       [,2]       [,3]
> [1,] -0.2236327  0.6670340  0.7106715
> [2,]  0.4693452 -0.5653355  0.6783147
> [3,]  0.8542268  0.4852437 -0.1866417



I get this on an i386 (well, k6-III):

> eigen(jj)
$values
[1]  5.795187e+00  1.388505e+00 -2.006855e-07

$vectors
           [,1]       [,2]       [,3]
[1,] -0.3417893 -0.4739218  0.7067794
[2,]  0.7093264  0.4978512  0.5411749
[3,]  1.0576086 -0.4870615 -0.1345489

this is the same as S-PLUS 3.4 on a Sun SPARC, except that the sign of
the last two columns is reversed, and it also makes sense that one
eigenvalue should be zero for a rank-2 p.s.d. matrix. What hardware
are you working on?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Tue Mar 21 22:06:23 2000
From: gb at stat.umu.se (gb@stat.umu.se)
Date: Tue, 21 Mar 2000 22:06:23 +0100 (CET)
Subject: [R] dyn.load and rw1000
In-Reply-To: <20000321125442.A21892@sirio.stat.unipd.it>
Message-ID: <Pine.LNX.4.10.10003212157180.29612-100000@pc16.stat.umu.se>

Guido,

Thank you for the detailed help. I finally got version 2 (see below)
working, but only after adding the -mno-cygwin flag to CFLAGS and
DLLLIBS in rw1000/src/gnuwin32/MakeDll. Note, -mno-cygwin, not
--mno-cygwin, and not the suggestion in 'readme.packages', --no-cygwin.

Once again, thanks for the help!

G?ran

On Tue, 21 Mar 2000, Guido Masarotto wrote:

> On Tue, Mar 21, 2000 at 10:34:07AM +0100, gb at stat.umu.se wrote:
> > 
> > How do I compile a Fortran subroutine or a C function so that it can be
> > dyn.loaded in the windows version of R-1.0.0? I use Cygnus C and Fortran 
> > compilers (and mingw-something). 
> > 
> 
>   There are at least two way (the second is the one we use to build
>   the contrib section of CRAN):
> 
>   1) R for Windows can dyn.load standard Windows dll. You can find
>      details on how to build them with the tools you are using at
>      http://www.xraylith.wisc.edu/~khan/software/gnu-win32/dllhelpers.html
>      When, you have got the dll, just 'dyn.load("full/path/to/the/dll")'
>      will make the exported symbols from the dll available for
>      .C and .Fortran. In general, it is better to use
>      the 'mingw' version of the tools (i.e., remember to pass
>      the --mno-cygwin flags to the compiler and the linker).
> 
>   2) Organize the R, Fortran and C source as an R package. Details are
>      in the R Extension Writer Manual. It is quite easy. Essentially just
>      put all under a directory with the structure
>      my.package ------|
>                       |____R <- here the R sources must go
>                       |
>                       |____src <- here put the C and Fortran source
> 
>      Then, put 'my.package'  under rw1000/src/library and install
>      (if you haven't done before) the 'rw1000sp.zip' part of the
>      binary distribution. Then, from rw1000/src/gnuwin32
>      > make pkg-my.package
>      should do all the work, not only the building of the dll but also
>      the istallation of the R interface (and of the help, if you have a
>      my.package/man sub dir with the Rd files, 
>      (but before trying 'make ...'  read the README.packages
>      available in the 'rw1000sp.zip' archive (after installation
>      you will find it in the main rw1000 directory)).
>      In this case, rebember to add to your R sources something
>      like
>      .First.lib <- function (lib, pkg) 
>      {
>        library.dynam("my.package", pkg, lib)
>        #other initialization stuff here
>      }
>      If all will go well, do a 'library(my.package)' and ....
> 
>      Hoping this help,
>      guido
> 
>      
>     
>  
> 

----------------------------------------------------------
 G?ran Brostr?m                      tel: +46 90 786-5223
 Department of Statistics            fax: +46 90 786-6614
 Ume? University                                         
 SE-90187 Ume?, Sweden              email: gb at stat.umu.se
                                                        
 http://www.stat.umu.se/egna/gb    ftp://capa.stat.umu.se
----------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Tue Mar 21 22:31:59 2000
From: chong at stat.purdue.edu (Chong Gu)
Date: Tue, 21 Mar 2000 16:31:59 -0500
Subject: [R] buggy eigen function
Message-ID: <200003212131.QAA79914@odds.stat.purdue.edu>


Thanks to Thomas Lumley, Peter Dalgaard, and Simon Wood who responded
to my post.

>From the responses, the problem seems to be in our system
installation.  I'll try to track it down.

I'll try on my linux box tonight and I expect to see the same
reasonable results as yours.

To answer Thomas Lumley, the errors were produced on our AIX machine.

Chong Gu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Tue Mar 21 23:26:34 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Tue, 21 Mar 2000 23:26:34 +0100 (MET)
Subject: [R] Summing up histograms and misc.
Message-ID: <Pine.OSF.4.05.10003212206250.15428-100000@rukbat.uio.no>

Dear all!

I have a few questions. I'm running Version 1.0.0 on Digital UNIX.

My problem is as follows: I have hundreds of megabytes in images stored in
a few hundred files, and I want to extract some basic characteristics
about the images in these files. For a start, I need to find the density
function of all the files combined. Since it's several hundred MBs, I
haven't enough RAM to just read the files and get a histogram (I've tried 
with some data, though, with 2GB heap memory).
I do know dimensions of the images however, and fortunately, I also know
the histogram bin size, but I don't know what maximum I can expect from
the files. My strategy is now to read one file, make a histogram  
equidistant breaks, store it in an object, read another one, another
histogram, and attempt to add these two, and so on. I failed to find a
simple way of doing this (does it exist?), so I hacked this function up
myself:

addhists <- function(h1, h2)
{
  if(length(h1$breaks) >= length(h2$breaks))
  {
    bl <- h1$breaks
    bs <- h2$breaks
    cl <- h1$counts
    cs <- h2$counts
    mi <- h1$mids
  } else {
    bs <- h1$breaks
    bl <- h2$breaks
    cs <- h1$counts
    cl <- h2$counts
    mi <- h2$mids
  }
  ind <- sub.vector(bs, bl)
  if(! is.vector(ind)) stop("Incompatible breaks")
  c0 <- rep(0, length(cl))
  c0[ind[1:length(cs)]] <- cs
  ct <- c0 + cl
  int <- ct/(sum(ct)*diff(bl)) # This works for non-equidistant breaks?
  return(list(breaks=bl,
              counts=ct,
              intensities=int,
              mids=mi))
}

Now, the problem is that I don't know what maximum values I can expect
(nor minimum, ideally) for other files than the one I have open, so the
breaks vector of one of the histograms may be shorter than the other. The
first few lines is just there to get short and long vectors into objects
of their own. Then, I thought, I must check whether a sequence of breaks
in the shorter vector occurs in the longer vector, and if so find
the indices of that sequence.
Here, I think I must have overlooked something... I didn't find an elegant
way of finding the indices of a subset _sequence_ of an array... My own
solution, the sub.vector-function looks like this:
sub.vector <- function(b1, b2)
{
  i <- 0
  while(! all(b2[(i+1):(length(b1)+i)] == b1))
  {   
    i<-i+1
    if(i+length(b1) > length(b2)) return(NULL)
  }
  return((i+1):(length(b1)+i))
}
Ugly, eh...? :-) Any suggestions?

A more general solution could of course attempt to recompute the breaks,
but since I know where the breaks should be, this function seems to work
for my purpose. It's just a bit slow, and not very elegant. Therefore, if
anybody has suggestions for improvement, it would be greatly appreciated. 

One thing I came to think of: Is it possible to use the object-orientation
of R to define my function as the operator '+', so that for histogram
objects, I could simply add the two objects as with any other objects?
 
Finally, when I have a histogram object, how can I most easily plot it as
a proper histogram? 

There are a couple of other issues I have also been struggling with
lately: I try to set par(), it is in particular setting type='l' I'm
interested in. Starting from scratch, the default says:
> par()$type
[1] "p"
and indeed the plot is a point-type plot. I go
> par(type='l')
> par()$type
[1] "l"
But doing e.g. 
> plot(x,1/x)
imidiately afterwards still produces a point-type plot. I have to say
> plot(x,1/x, type='l')
to get a line-type plot. What am I doing wrong?

Finally, I get a warning when trying to compile a c-routine (that was
provided to me by Brain Ripley to read the abovementioned images
off-list), it doesn't seem to mean anything, but I figured I might as well
ask since I (finally) have upgraded to R-1.0.0. It goes:
rukbat:~/hfag/src/c> R CMD SHLIB readraw.c
cc -I/local/R/lib/R/include   -ieee_with_inexact -std1   -O3 -tune ev56 -c
readraw.c -o readraw.o
f77 -shared  -o readraw.so readraw.o  -ldxml  -lUfor -lfor -lFutil -lm
-lots -lmld:
Warning: Unresolved:
Rf_error

Is it anything to worry about?

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tony at asynctechnology.com  Wed Mar 22 00:21:21 2000
From: tony at asynctechnology.com (Tony Fagan)
Date: Tue, 21 Mar 2000 16:21:21 -0700
Subject: [R] Statistical Models in S
Message-ID: <033401bf938c$31c28780$b26ee9d8@powerinter.net>

Does anyone know where I can download the data sets for Statistical Models in S by Chambers and Hastie. I'm particularly interested in the marketing example data set.

Thank You!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000321/23ca0579/attachment.html

From cyg at sympatico.ca  Wed Mar 22 00:41:20 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Tue, 21 Mar 2000 18:41:20 -0500
Subject: [R] buggy eigen function
References: <Pine.GSO.4.21.0003211241030.14323-100000@mail.biostat.washington.edu>
Message-ID: <006c01bf938e$f6c9e990$0201a8c0@Workgroup>


----- Original Message -----
From: "Thomas Lumley" <thomas at biostat.washington.edu>
To: "Chong Gu" <chong at stat.purdue.edu>
Cc: <r-help at stat.math.ethz.ch>; <tomlinso at stat.purdue.edu>
Sent: Tuesday, March 21, 2000 3:43 PM
Subject: Re: [R] buggy eigen function


> On Tue, 21 Mar 2000, Chong Gu wrote:
>
> >
> > It was a real surprise, but a student in my class found that the
> > function eigen is buggy.  He traced to the problem from his inability
> > of getting principal component analysis to work on his data.
>
> I can't reproduce this problem.  I've tried on Linux and on AIX (which I
> believe is your system) and I get
>
> > jj
>            [,1]      [,2]       [,3]
> [1,]  0.8288469 -1.269783 -0.7533517
> [2,] -1.2697830  2.162132  2.0262920
> [3,] -0.7533517  2.026292  4.1927134
> > eigen(jj)
> $values
> [1]  5.795187e+00  1.388505e+00 -2.006855e-07
>
> $vectors
>            [,1]       [,2]       [,3]
> [1,] -0.3417893  0.4739218 -0.7067794
> [2,]  0.7093264 -0.4978512 -0.5411749
> [3,]  1.0576086  0.4870615  0.1345488
>
>
> which looks right to me.
>
> There may be a problem with your BLAS system or something. What OS and
> compilers are you using?
>
> -thomas
>
> Thomas Lumley
> Assistant Professor, Biostatistics
> University of Washington, Seattle
>
>
> >
> > Chong Gu
> >
> >
> > Here is a matrix I generated through X'X, where X is 2x3.
> >
> > > jj
> >            [,1]      [,2]       [,3]
> > [1,]  0.8288469 -1.269783 -0.7533517
> > [2,] -1.2697829  2.162132  2.0262917
> > [3,] -0.7533517  2.026292  4.1927134
> >
> >
> > Here are the 0.90.1 eigen results.
> >
> > > eigen(jj)
> > $values
> > [1]  3.06206547  0.20492432 -0.04955518
> >
> > $vectors
> >            [,1]        [,2]        [,3]
> > [1,] -0.2316032  0.05778620  0.06998513
> > [2,]  0.4932735 -0.04951172  0.06919350
> > [3,]  0.8489300  0.06527175 -0.01966568
> >
> >
> > Here are the 1.0.0 eigen results.
> >
> > > eigen(jj)
> > $values
> > [1]  2.765885782  0.008839573 -0.122630879
> >
> > $vectors
> >            [,1]       [,2]       [,3]
> > [1,] -0.2236327  0.6670340  0.7106715
> > [2,]  0.4693452 -0.5653355  0.6783147
> > [3,]  0.8542268  0.4852437 -0.1866417
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> > r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
> >
>
> Thomas Lumley
> Assistant Professor, Biostatistics
> University of Washington, Seattle
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

Here's what I get on a NT 4.0 SP6

R : Copyright 2000, The R Development Core Team
Version 1.0.0  (February 29, 2000)

tt
           [,1]      [,2]       [,3]
[1,]  0.8288469 -1.269783 -0.7533517
[2,] -1.2697830  2.162132  2.0262920
[3,] -0.7533517  2.026292  4.1927134
> eigen(tt)
$values
[1]  5.795187e+00  1.388505e+00 -2.748282e-07

$vectors
           [,1]       [,2]       [,3]
[1,] -0.2592216  0.5625659  0.7850629
[2,]  0.5379709 -0.5909711  0.6011160
[3,]  0.8021169  0.5781633 -0.1494517

which seem different also.

Yves

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Wed Mar 22 01:47:42 2000
From: chong at stat.purdue.edu (Chong Gu)
Date: Tue, 21 Mar 2000 19:47:42 -0500
Subject: [R] buggy eigen function
In-Reply-To: <006c01bf938e$f6c9e990$0201a8c0@Workgroup> (cyg@sympatico.ca)
Message-ID: <200003220047.TAA44510@mean.stat.purdue.edu>


   From: "Yves Gauvreau" <cyg at sympatico.ca>
   Cc: <r-help at stat.math.ethz.ch>, <tomlinso at stat.purdue.edu>
   References: <Pine.GSO.4.21.0003211241030.14323-100000 at mail.biostat.washington.edu>
   Date: Tue, 21 Mar 2000 18:41:20 -0500
   MIME-Version: 1.0
   Content-Type: text/plain;
	   charset="iso-8859-1"
   Content-Transfer-Encoding: 7bit
   X-Priority: 3
   X-MSMail-Priority: Normal
   X-Mailer: Microsoft Outlook Express 5.00.2919.6600
   X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2919.6600
   Sender: owner-r-help at stat.math.ethz.ch
   Precedence: bulk

... lines deleded ...

   Here's what I get on a NT 4.0 SP6

   R : Copyright 2000, The R Development Core Team
   Version 1.0.0  (February 29, 2000)

   tt
	      [,1]      [,2]       [,3]
   [1,]  0.8288469 -1.269783 -0.7533517
   [2,] -1.2697830  2.162132  2.0262920
   [3,] -0.7533517  2.026292  4.1927134
   > eigen(tt)
   $values
   [1]  5.795187e+00  1.388505e+00 -2.748282e-07

   $vectors
	      [,1]       [,2]       [,3]
   [1,] -0.2592216  0.5625659  0.7850629
   [2,]  0.5379709 -0.5909711  0.6011160
   [3,]  0.8021169  0.5781633 -0.1494517

   which seem different also.

   Yves

   -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   Send "info", "help", or "[un]subscribe"
   (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


Thanks to all for responding.  Here is what I got from my linux,

> eigen(jj)
$values
[1]  5.795187e+00  1.388506e+00 -2.207709e-15

$vectors
           [,1]       [,2]       [,3]
[1,] -0.2592216  0.5625657  0.7850630
[2,]  0.5379709 -0.5909712  0.6011159
[3,]  0.8021169  0.5781633 -0.1494515

Our system administrator is trying to track down the problem in our
installation on the department AIX server.

Chong
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From canty at cicma.concordia.ca  Wed Mar 22 15:27:02 2000
From: canty at cicma.concordia.ca (Angelo Canty)
Date: Wed, 22 Mar 2000 09:27:02 -0500
Subject: [R] loading data in packages
References: <38D7B8CC.71EA24BC@discrete.concordia.ca>
		<14551.47792.333948.277604@galadriel.ci.tuwien.ac.at>
		<38D7BC0D.F3C773FF@discrete.concordia.ca> <14551.48741.74906.706819@galadriel.ci.tuwien.ac.at>
Message-ID: <38D8D836.D8BC3D39@discrete.concordia.ca>

Thanks to Friedrich Leisch and Thomas Lumley who pointed out that
the errors I was experiencing were simply due to me having an 
out-dated version of R.  I have now upgraded to R 1.0.0 and 
everything works as advertised.

-- 
****************************************************
**   Angelo J. Canty                              **
**   Dept of Mathematics and Statistics           **
**   Concordia University                         **
**   Montreal, Quebec.                            **
**                                                **
**   Tel :  +1-514-848-3244                       **
**   Fax :  +1-514-848-4511                       **
**   Email : canty at discrete.concordia.ca          **
****************************************************
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Wed Mar 22 15:52:27 2000
From: gb at stat.umu.se (gb@stat.umu.se)
Date: Wed, 22 Mar 2000 15:52:27 +0100 (CET)
Subject: [R] dyn.load and rw1000
Message-ID: <Pine.LNX.4.10.10003221549550.30260-100000@pc16.stat.umu.se>

Guido,

>   thanks for signaling this. The --mno-cygwin was a my typos error
>   but I have to correct the readme.packages (--no-cygwin is a survival
>   from the about two year ago version of cygwin).

The flag is set correctly in MkRules, though.

>   Anyway, note that in readme.packages we suggest to edit 'MkRules'
>   not MakeDll and to set at the beginning of that file 'BUILD=CYGWIN'.

Of course! Apologies for my sloppy reading of MkRules. I tried
to put in '-mno-cygwin' somewhere.

>   This then automagically sets the flags, and since it is the way
>   we build the binary distribution I hope we will be able to
>   keep it updated. Have you had trouble using this route?

No, it worked perfectly. Thanks!

G?ran
----------------------------------------------------------
 G?ran Brostr?m                      tel: +46 90 786-5223
 Department of Statistics            fax: +46 90 786-6614
 Ume? University                                         
 SE-90187 Ume?, Sweden              email: gb at stat.umu.se
                                                        
 http://www.stat.umu.se/egna/gb    ftp://capa.stat.umu.se
----------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Wed Mar 22 16:10:40 2000
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Wed, 22 Mar 2000 16:10:40 +0100 (CET)
Subject: [R] Need Help Getting through Make on HP-UX 10.20
In-Reply-To: <200003202219.RAA18549@zws540.sc.intel.com>
References: <200003202219.RAA18549@zws540.sc.intel.com>
Message-ID: <14552.57968.889605.541993@aragorn.ci.tuwien.ac.at>

>>>>> J  writes:

> Hi,
> I have a problem with getting through the make process.  It fails
> during the ld process.  Can someone explain the errors that I get ?

> `Makedeps' is up to date.
> `libappl.a' is up to date.
> `libmath.a' is up to date.
> `libunix.a' is up to date.
> `../../bin/R.X11' is up to date.
> building package `base'
> ../../../library/base/R/base is unchanged
> building package `ctest'
> ../../../library/ctest/R/ctest is unchanged
>         f90     -c alnorm.f -o alnorm.o
> alnorm.f
>    external function ALNORM

> 53 Lines Compiled
>         ld -b  -o ctest.sl alnorm.o ansari.o fexact.o kendall.o ks.o prho.o swilk.o  /opt/fortran90/lib/libF90.a -lcl /opt/fortran90/lib/libisamstub.a
> ld: DP relative code in file alnorm.o - shared library must be position
>     independent.  Use +z or +Z to recompile.
> *** Error exit code 1

Yes, I can.  The configure script fails to find out how to compile
Fortran code that should be included in shared libraries.  Apparently,

* trying to use xmkmf for CPICFLAGS fails
* this is not GNU f77 (g77), and indeed it is f90
* and hence also the platform overrides fail.

Assuming you need flags FOO for doing the job, you can do

	FPICFLAGS=FOO /path/to/configure; make

to solve the problem.

And of course, please let me know what the solution is.

Question: why f90 and not f77?

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From absd00t at c1186.ae.ge.com  Wed Mar 22 16:48:03 2000
From: absd00t at c1186.ae.ge.com (U-E59264-Osman F Buyukisik)
Date: Wed, 22 Mar 2000 10:48:03 -0500 (EST)
Subject: [R] R-release dynamic load problem on HPUX10.20
Message-ID: <14552.59145.827624.246@c1186.ae.ge.com>

Hello,
I just pulled the patched release:
R-release Version 1.0.0 Patched (March 19, 2000), on HPUX10.2

I am having dynamic library load problems. I configured with:
./configure  --prefix=/home/absd00t/local --with-readline --with-x

After changing etc/Makeconf to take -lblas out of libs (the blas
library provided by the system is not a shared library), system was
built without any interruptions. But when I do
library(modreg)
I get :
Error in dyn.load(x, as.logical(local), as.logical(now)) : 
        unable to load shared library "/home/absd00t/local/lib/R/library/modreg/libs/modreg.sl":
  can't open /home/absd00t/local/lib/R/library/modreg/libs/modreg.sl

The file is there (installed by R), and has the right permissions. nm
works on it and the system thinks it is a shared library. What could
be wrong?? 

Last one I built, 0.90, was working OK. But now it is overwritten :-) 

Thanks in advance,
Osman

machine C160, hpux10.20, gcc, f77(hpux).
 

 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Wed Mar 22 16:56:07 2000
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Wed, 22 Mar 2000 16:56:07 +0100
Subject: [R] density ellipses?
Message-ID: <B4FEABA7.2492%pflugshaupt@geobot.umnw.ethz.ch>

Hello,

has anybody written a function to plot density ellipses (95%, 99% or
anything) in a scatterplot? I found nothing in any package, nor in the list
archives. 

There does seem to be a contributed package "ellipse" for S-Plus (on
S-Archive), but it does a lot more than what I would need. Still, if anybody
ported it to R, I'd be grateful for a link. I'm a bit afraid to try the port
myself, since the routines do some magic with postscript preambles that I
don't understand.

Or is there a simple way to implement it myself? The axis directions could
be extracted from princomp, but how would one plot the ellipses?

Thanks for any tips

Kaspar

-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Wed Mar 22 17:46:54 2000
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Wed, 22 Mar 2000 11:46:54 -0500
Subject: [R] R-release dynamic load problem on HPUX10.20
Message-ID: <OFE060B298.1B4EB4E0-ON852568AA.005BA617@hgsi.com>


I have a similar problem with R 1.0.0 (Windows 98) in loading 3 packages -
ctest, chron, lme. Every other package loads fine. I can live without
chron, but ctest and lme are very important to me. Reinstallation of R
doesn't help. I can't figure out what the problem. Has anybody else had
this problem in Windows? Any suggestions appreciated. TIA.

PS: I did report this Prof. Ripley and also, Prof. Lumley had replied to me
before saying the problem does not occur on NT.

The error message is the same as below (except -dll instead of sl)
Error in dyn.load(x, as.logical(local), as.logical(now)) :
        unable to load shared library "C:
\R\RW1000/library/chron/libs/chron.dll":
  LoadLibrary failure




                                                                                                               
                    U-E59264-Osman F                                                                           
                    Buyukisik                   To:     r-help at stat.math.ethz.ch                               
                    <absd00t at c1186.ae.ge        cc:                                                            
                    .com>                       Subject:     [R] R-release dynamic load problem on HPUX10.20   
                    Sent by:                                                                                   
                    owner-r-help at stat.ma                                                                       
                    th.ethz.ch                                                                                 
                                                                                                               
                                                                                                               
                    03/22/00 10:48 AM                                                                          
                    Please respond to                                                                          
                    osman.buyukisik                                                                            
                                                                                                               
                                                                                                               




Hello,
I just pulled the patched release:
R-release Version 1.0.0 Patched (March 19, 2000), on HPUX10.2

I am having dynamic library load problems. I configured with:
./configure  --prefix=/home/absd00t/local --with-readline --with-x

After changing etc/Makeconf to take -lblas out of libs (the blas
library provided by the system is not a shared library), system was
built without any interruptions. But when I do
library(modreg)
I get :
Error in dyn.load(x, as.logical(local), as.logical(now)) :
        unable to load shared library
"/home/absd00t/local/lib/R/library/modreg/libs/modreg.sl":
  can't open /home/absd00t/local/lib/R/library/modreg/libs/modreg.sl

The file is there (installed by R), and has the right permissions. nm
works on it and the system thinks it is a shared library. What could
be wrong??

Last one I built, 0.90, was working OK. But now it is overwritten :-)

Thanks in advance,
Osman

machine C160, hpux10.20, gcc, f77(hpux).


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed Mar 22 18:46:53 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 22 Mar 2000 11:46:53 -0600
Subject: [R] R-release dynamic load problem on HPUX10.20
In-Reply-To: partha_bagchi@hgsi.com's message of "Wed, 22 Mar 2000 11:46:54 -0500"
References: <OFE060B298.1B4EB4E0-ON852568AA.005BA617@hgsi.com>
Message-ID: <6rpusmlwxe.fsf@franz.stat.wisc.edu>

partha_bagchi at hgsi.com writes:

> I have a similar problem with R 1.0.0 (Windows 98) in loading 3 packages -
> ctest, chron, lme. Every other package loads fine. I can live without
> chron, but ctest and lme are very important to me. Reinstallation of R
> doesn't help. I can't figure out what the problem. Has anybody else had
> this problem in Windows? Any suggestions appreciated. TIA.

Please do not try to install the lme package.  That package has been
superseded by the nlme package, for which a .zip file is available in
the bin/windows/windows-9x/contrib/ area on CRAN.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Wed Mar 22 18:59:23 2000
From: plummer at iarc.fr (Martyn Plummer)
Date: Wed, 22 Mar 2000 18:59:23 +0100 (CET)
Subject: [R] density ellipses?
In-Reply-To: <B4FEABA7.2492%pflugshaupt@geobot.umnw.ethz.ch>
Message-ID: <XFMail.000322185923.plummer@iarc.fr>

On 22-Mar-00 Kaspar Pflugshaupt wrote:
> Hello,
> 
> has anybody written a function to plot density ellipses (95%, 99% or
> anything) in a scatterplot? I found nothing in any package, nor in the list
> archives. 
> 
> There does seem to be a contributed package "ellipse" for S-Plus (on
> S-Archive), but it does a lot more than what I would need. Still, if anybody
> ported it to R, I'd be grateful for a link. I'm a bit afraid to try the port
> myself, since the routines do some magic with postscript preambles that I
> don't understand.
> 
> Or is there a simple way to implement it myself? The axis directions could
> be extracted from princomp, but how would one plot the ellipses?
> 
> Thanks for any tips
> 
> Kaspar

You can calculate a 2D kernel density estimate on a regular grid using
the bkde2D() function (package Kernsmooth) and then plot highest density
regions with contour(). An example giving a 90% region:

library(KernSmooth)
x <- rnorm(1000)
y <- (x+rnorm(1000))/sqrt(2)
z <- bkde2D(cbind(x,y), bandwidth=c(0.4,0.4))
zsort <- sort(z$fhat)
p <- cumsum(zsort)/sum(zsort)
contour(z$x1,z$x2,z$fhat, levels=min(zsort[p>=0.10]))
points(x,y)

You need to play with the bandwidth.
Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Mar 22 19:04:24 2000
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Wed, 22 Mar 2000 13:04:24 -0500 (EST)
Subject: [R] density ellipses?
In-Reply-To: <B4FEABA7.2492%pflugshaupt@geobot.umnw.ethz.ch>
Message-ID: <Pine.LNX.4.10.10003221255590.10632-100000@bolker.zoo.ufl.edu>


  Here are two ellipse() functions I've written in the past, probably very
inefficient but they might give you something to start with.  One takes
the center, semiminor and major axes, and rotation, the other takes a
variance-covariance matrix (it was designed for confidence ellipses using
the likelihood ratio test).
   Hope they give you a start.

ellipse _ function(x=1,y=1,r1=1,r2=1,ang=0,narc=200,...)
{
  rmat <- c(cos(ang),-sin(ang),sin(ang),cos(ang))
  calcpt _ function(x,y,r1,r2,ang1) {
    r _ rmat %*% c(r1*cos(ang1),r2*sin(ang1))
    c(x+r[1],y+r[2])
  }
  arcs _ matrix(sapply(seq(0,2*pi,len=narc),
                       function(q)calcpt(x,y,r1,r2,q)),byrow=TRUE,ncol=2)
  lines(arcs,...)
}

vcellipse <- function(ctr,varcov,correlation=NULL,
                      critval=qchisq(0.95,2),nx=200,
                    fill=FALSE,...) {
  # draw the ellipse defined by the center ctr, and either a
  # variance vector c(sigma^2(x),sigma^2(y)) and a correlation,
  # OR a variance-covariance matrix, plus an optional critical value.
  # nx is the number of separate arcs used to draw the ellipse
  # plot solution for y of equation: h11*x^2+2*h12*x*y+h22*y^2=critval
  #
  # reconstruct hessian matrix
  if (!is.null(correlation) && (correlation>1 || correlation<(-1)))
    stop(paste("Correlation=",correlation," is out of bounds: parameter mixup?"))
  if (!is.null(correlation) && is.vector(varcov)) {
    v <- matrix(nrow=2,ncol=2)
    v[1,1] <- varcov[1]
    v[2,2] <- varcov[2]
    v[1,2] <- correlation*sqrt(v[1,1]*v[2,2])
    v[2,1] <- v[1,2]
  } else if (is.matrix(varcov)) {
    v <- varcov
  }
  h <- solve(v)
  eps <- 1e-7
  ##  xrad  <- sqrt(solve(hess)[1,1]*critval)-eps
  xrad <- sqrt(-h[2,2]*critval/(h[1,2]^2-h[1,1]*h[2,2]))-eps  # x range
  ##  segments(ctr[1],ctr[2],ctr[1]+xrad,ctr[2],...)
  ## det >= 0
  ## (h12^2-h11*h22)*x1^2 > -h22*critval
  ## x1^2 > -h22*critval/(h12^2-h11*h22)
  ## x1   > sqrt(-h22*critval/(h12^2-h11*h22)),"\n")
  ## same as inverting the matrix!
  x1 <- seq(-xrad,xrad,length=round(nx/2))
  det <- sqrt((h[1,2]^2-h[1,1]*h[2,2])*x1^2+h[2,2]*critval)/h[2,2]
  # calculate "top" and "bottom" halves (plus/minus solutions to quadratic)
  y1 <- -h[1,2]/h[2,2]*x1 + det 
  x2 <- rev(x1)
  y2 <- -h[1,2]/h[2,2]*x2 - det
  # translate ellipse to center
  x <- c(x1,x2)+ctr[1]
  y <- c(y1,y2)+ctr[2]
  x <- c(x,x[1])   # complete ellipse
  y <- c(y,y[1])
  if (fill)
    polygon(x,y,...)
  else
    lines(x,y,...)
}

On Wed, 22 Mar 2000, Kaspar Pflugshaupt wrote:

> Hello,
> 
> has anybody written a function to plot density ellipses (95%, 99% or
> anything) in a scatterplot? I found nothing in any package, nor in the list
> archives. 
> 
> There does seem to be a contributed package "ellipse" for S-Plus (on
> S-Archive), but it does a lot more than what I would need. Still, if anybody
> ported it to R, I'd be grateful for a link. I'm a bit afraid to try the port
> myself, since the routines do some magic with postscript preambles that I
> don't understand.
> 
> Or is there a simple way to implement it myself? The axis directions could
> be extracted from princomp, but how would one plot the ellipses?
> 
> Thanks for any tips
> 
> Kaspar
> 
> 

-- 
Ben Bolker                                  bolker at zoo.ufl.edu
Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker
318 Carr Hall/Box 118525                    tel: (352) 392-5697
Gainesville, FL 32611-8525                  fax: (352) 392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thaddeus.tarpey at wright.edu  Wed Mar 22 19:23:10 2000
From: thaddeus.tarpey at wright.edu (Thaddeus Tarpey)
Date: Wed, 22 Mar 2000 13:23:10 -0500 (EST)
Subject: [R] density ellipses?
In-Reply-To: <B4FEABA7.2492%pflugshaupt@geobot.umnw.ethz.ch>
Message-ID: <Pine.GSO.4.10.10003221304140.19072-100000@paladin.wright.edu>

Dear Kaspar,

Below is some code which will plot an ellipse.  This code was written by
Bernard Flury and Marco Bee originally in S+ for Flury's book "A First
Course in Multivariate Statistics" (Springer 1997).  You would have to
plug in the mean and covariance matrix for m and A respectively for a
density ellipse.

#
#  Plot points satisfying this equation of an ellipse:
#                   -1             2
#           (x-m)' A   (x-m)  <-  c  .
#
#*****************************  CUT HERE  ********************************


# First define all parameters 

A <- matrix(c(1,1,1,2), ncol = 2)		 # define matrix A
m <- c(3, 4)					 # define vector m
const <- 1			 # define constant 
k <- 1000		  # define number of points on the ellipse

# procedure ELLIPS
# procedure ELLIPS

ellips <- function(A, m, const, k)
{
# input:  A	positive definite symmetric matrix of dimension 2 by 2
#         m	column vector of length 2, center of ellipse
#         const	positive constant
#         k	number of points on ellipse (must be at least 2)
# output: x 	a (k by 2) matrix whose rows are the coordinates
#		of k points on the ellipse (y-m)'*A^{-1}*(y-m) = c^2

r <- A[1, 2]/sqrt(A[1, 1] * A[2, 2])
Q <- matrix(0, 2, 2)			  # construct matrix Q for
Q[1, 1] <- sqrt(A[1, 1] %*% (1+r)/2)	# transformation of circle
Q[1, 2] <- -sqrt(A[1, 1] %*% (1-r)/2)		      # to ellipse
Q[2, 1] <- sqrt(A[2, 2] %*% (1+r)/2)
Q[1, 1] <- sqrt(A[2, 2] %*% (1-r)/2)
alpha <- seq(0, by = (2 * pi)/k, length = k)	   # define angles
Z <- cbind(cos(alpha), sin(alpha)) 	   # points on unit circle
X <- t(m + const * Q %*% t(Z))  # coordinates of points on ellipse
X
}					 # end of procedure ellips

# call procedure ellips

X <- ellips(A, m, const, k)		   

# graph the results

win.graph()
plot(X[,1], X[,2])

#***********************************************************

On Wed, 22 Mar 2000, Kaspar Pflugshaupt wrote:

> Hello,
> 
> has anybody written a function to plot density ellipses (95%, 99% or
> anything) in a scatterplot? I found nothing in any package, nor in the list
> archives. 
> 
> There does seem to be a contributed package "ellipse" for S-Plus (on
> S-Archive), but it does a lot more than what I would need. Still, if anybody
> ported it to R, I'd be grateful for a link. I'm a bit afraid to try the port
> myself, since the routines do some magic with postscript preambles that I
> don't understand.
> 
> Or is there a simple way to implement it myself? The axis directions could
> be extracted from princomp, but how would one plot the ellipses?
> 
> Thanks for any tips
> 
> Kaspar
> 
> -- 
> 
> Kaspar Pflugshaupt
> Geobotanisches Institut
> Zuerichbergstr. 38
> CH-8044 Zuerich
> 
> Tel. ++41 1 632 43 19
> Fax  ++41 1 632 12 15
> 
> mailto:pflugshaupt at geobot.umnw.ethz.ch
> privat:pflugshaupt at mails.ch
> http://www.geobot.umnw.ethz.ch
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


*****************************************************************************
Thaddeus Tarpey                                   Phone: (937) 775-2861
Wright State University                             Fax: (937) 775-2081
Department of Mathematics and Statistics
Dayton,  Ohio  45435
Home-page: http://www.math.wright.edu/People/Thad_Tarpey/thad.htm
*****************************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Wed Mar 22 19:32:36 2000
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Wed, 22 Mar 2000 13:32:36 -0500
Subject: [R] R-release dynamic load problem on HPUX10.20
Message-ID: <OFD27CB698.EBA27F89-ON852568AA.0065C056@hgsi.com>


Thanks very much. Loading of nlme is not a problem for me in R.1.0.0. So at
least that solves 1/3 of the problem for me :)


                                                                                                          
                    Douglas Bates                                                                         
                    <bates at stat.wis        To:     partha_bagchi at hgsi.com                                 
                    c.edu>                 cc:     osman.buyukisik at ae.ge.com, r-help at stat.math.ethz.ch    
                    Sent by:               Subject:     Re: [R] R-release dynamic load problem on         
                    bates at franz.sta        HPUX10.20                                                      
                    t.wisc.edu                                                                            
                                                                                                          
                                                                                                          
                    03/22/00 12:46                                                                        
                    PM                                                                                    
                                                                                                          
                                                                                                          




partha_bagchi at hgsi.com writes:

> I have a similar problem with R 1.0.0 (Windows 98) in loading 3 packages
-
> ctest, chron, lme. Every other package loads fine. I can live without
> chron, but ctest and lme are very important to me. Reinstallation of R
> doesn't help. I can't figure out what the problem. Has anybody else had
> this problem in Windows? Any suggestions appreciated. TIA.

Please do not try to install the lme package.  That package has been
superseded by the nlme package, for which a .zip file is available in
the bin/windows/windows-9x/contrib/ area on CRAN.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luke at goose.stat.umn.edu  Wed Mar 22 19:43:38 2000
From: luke at goose.stat.umn.edu (Luke Tierney)
Date: Wed, 22 Mar 2000 12:43:38 -0600 (CST)
Subject: [R] R-release dynamic load problem on HPUX10.20
In-Reply-To: <14552.59145.827624.246@c1186.ae.ge.com> from U-E59264-Osman F Buyukisik at Mar "22," 2000 "10:48:03" am
Message-ID: <200003221843.MAA02961@goose.stat.umn.edu>

U-E59264-Osman F Buyukisik wrote:
> Hello,
> I just pulled the patched release:
> R-release Version 1.0.0 Patched (March 19, 2000), on HPUX10.2
> 
> I am having dynamic library load problems. I configured with:
> ./configure  --prefix=/home/absd00t/local --with-readline --with-x
> 
> After changing etc/Makeconf to take -lblas out of libs (the blas
> library provided by the system is not a shared library), system was
> built without any interruptions. But when I do
> library(modreg)
> I get :
> Error in dyn.load(x, as.logical(local), as.logical(now)) : 
>         unable to load shared library "/home/absd00t/local/lib/R/library/modreg/libs/modreg.sl":
>   can't open /home/absd00t/local/lib/R/library/modreg/libs/modreg.sl
> 
> The file is there (installed by R), and has the right permissions. nm
> works on it and the system thinks it is a shared library. What could
> be wrong?? 
> 
> Last one I built, 0.90, was working OK. But now it is overwritten :-) 
> 
> Thanks in advance,
> Osman
> 
> machine C160, hpux10.20, gcc, f77(hpux).
>  

I suspect what you did about blas is the problem.  On my 10.20 system
I run

	env MAKE=gmake .configure

and get g77/fort77 and no blas.  We have blas but in a nonstandard
place.  (I need gmake to get make check to sort of work; otherwise
make will do.)  After that, `make' and then library(modreg) works.

You might try `configure --with-blas=no' if configure is picking up
blas by default for you (I think this is the right way to tell it not
to--if not, I'm sure someone who knows more about the configure script
will set me straight).

One other hack that may be useful on HPUX: If you add BIND_VERBOSE to
the flags for shl_load then shl_load may print something useful, like
the name of the symbol it can't find.  The call to shl_load is in
src/unix/hpdlfcn.c, but even though this is a .c file it is used by
inclusion in src/unix/dynload.c, so that is the file that needs to
be recompiled.

Hope that helps

luke

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Wed Mar 22 20:06:09 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Wed, 22 Mar 2000 20:06:09 +0100
Subject: [R] R-release dynamic load problem on HPUX10.20
In-Reply-To: <6rpusmlwxe.fsf@franz.stat.wisc.edu>; from bates@stat.wisc.edu on Wed, Mar 22, 2000 at 11:46:53AM -0600
References: <OFE060B298.1B4EB4E0-ON852568AA.005BA617@hgsi.com> <6rpusmlwxe.fsf@franz.stat.wisc.edu>
Message-ID: <20000322200609.A2026@sirio.stat.unipd.it>

On Wed, Mar 22, 2000 at 11:46:53AM -0600, Douglas Bates wrote:
> partha_bagchi at hgsi.com writes:
> 
> > I have a similar problem with R 1.0.0 (Windows 98) in loading 3 packages -
> > ctest, chron, lme. Every other package loads fine. I can live without
> > chron, but ctest and lme are very important to me. Reinstallation of R
> > doesn't help. I can't figure out what the problem. Has anybody else had
> > this problem in Windows? Any suggestions appreciated. TIA.
> 
> Please do not try to install the lme package.  That package has been
> superseded by the nlme package, for which a .zip file is available in
> the bin/windows/windows-9x/contrib/ area on CRAN.

  Partha,
  just a quick question  (due to Douglas comment): are you using the
  updated versions of the packages at CRAN (BTW, ctest is now in
  the base distribution) ?
  
  Reasons of the question: (i) lme is not in the 'pre-compiled for Windows'
  contrib section at CRAN (ii) I can dyn.load the ctest in the base 
  distribution also under Win98 (indeed, also make pkgcheck-ctest works
  for me under Win98) (iii) every change in the R API can result 
  under Windows in the impossibility to load a particular dll (it happens
  if the dll needs a symbol in R.dll now exported with another name);
  for this reason, at least under Windows, it has been necessary to upgrade
  not only the base distribution but also the packages. Perhaps, now
  this would be less mandatory since the plans are to keep the API
  stable.

  guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From partha_bagchi at hgsi.com  Wed Mar 22 20:51:47 2000
From: partha_bagchi at hgsi.com (partha_bagchi@hgsi.com)
Date: Wed, 22 Mar 2000 14:51:47 -0500
Subject: [R] R-release dynamic load problem on HPUX10.20
Message-ID: <OFF6EB18D9.77AE3641-ON852568AA.006C93DC@hgsi.com>


Guido,
Looks like this was the clue along with Douglas Bates comment. Indeed, I
had an older version of ctest  that was overwriting the base version of
ctest. Hence the dyn.load problem. I can load ctest just fine now. I
re-downloaded chron and reinstalled R, along with all the packages. Now all
the packages load just fine.
Thanks for all your help as well as Prof. Douglas Bates.
I am finally upgrading to R version 1.0. The  problems mentioned below were
show-stoppers for me. I intend to visit CRAN once a month to make sure that
I have updated packages.
Partha.




                                                                                                            
                    Guido Masarotto                                                                         
                    <guido at sirio.stat        To:     Douglas Bates <bates at stat.wisc.edu>                    
                    .unipd.it>               cc:     partha_bagchi at hgsi.com, osman.buyukisik at ae.ge.com,     
                                             r-help at stat.math.ethz.ch                                       
                    03/22/00 02:06 PM        Subject:     Re: [R] R-release dynamic load problem on         
                                             HPUX10.20                                                      
                                                                                                            




On Wed, Mar 22, 2000 at 11:46:53AM -0600, Douglas Bates wrote:
> partha_bagchi at hgsi.com writes:
>
> > I have a similar problem with R 1.0.0 (Windows 98) in loading 3
packages -
> > ctest, chron, lme. Every other package loads fine. I can live without
> > chron, but ctest and lme are very important to me. Reinstallation of R
> > doesn't help. I can't figure out what the problem. Has anybody else had
> > this problem in Windows? Any suggestions appreciated. TIA.
>
> Please do not try to install the lme package.  That package has been
> superseded by the nlme package, for which a .zip file is available in
> the bin/windows/windows-9x/contrib/ area on CRAN.

  Partha,
  just a quick question  (due to Douglas comment): are you using the
  updated versions of the packages at CRAN (BTW, ctest is now in
  the base distribution) ?

  Reasons of the question: (i) lme is not in the 'pre-compiled for Windows'
  contrib section at CRAN (ii) I can dyn.load the ctest in the base
  distribution also under Win98 (indeed, also make pkgcheck-ctest works
  for me under Win98) (iii) every change in the R API can result
  under Windows in the impossibility to load a particular dll (it happens
  if the dll needs a symbol in R.dll now exported with another name);
  for this reason, at least under Windows, it has been necessary to upgrade
  not only the base distribution but also the packages. Perhaps, now
  this would be less mandatory since the plans are to keep the API
  stable.

  guido



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From absd00t at c1186.ae.ge.com  Wed Mar 22 20:52:25 2000
From: absd00t at c1186.ae.ge.com (U-E59264-Osman F Buyukisik)
Date: Wed, 22 Mar 2000 14:52:25 -0500 (EST)
Subject: [R] R-release dynamic load problem on HPUX10.20
In-Reply-To: <200003221843.MAA02961@goose.stat.umn.edu>
References: <14552.59145.827624.246@c1186.ae.ge.com>
	<200003221843.MAA02961@goose.stat.umn.edu>
Message-ID: <14553.9159.625434.405648@c1186.ae.ge.com>


Thanks to Luke Tierney's suggestion of --with-blas=no, now dynamic
loading on my hpux works OK. 


osman
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ehrbar at econ.utah.edu  Wed Mar 22 21:11:13 2000
From: ehrbar at econ.utah.edu (Hans Ehrbar)
Date: Wed, 22 Mar 2000 13:11:13 -0700 (MST)
Subject: [R] density ellipses?
In-Reply-To: <B4FEABA7.2492%pflugshaupt@geobot.umnw.ethz.ch> (message from
	Kaspar Pflugshaupt on Wed, 22 Mar 2000 16:56:07 +0100)
References: <B4FEABA7.2492%pflugshaupt@geobot.umnw.ethz.ch>
Message-ID: <200003222011.NAA14208@marx.econ.utah.edu>


Kaspar Pflugshaupt asked:

> has anybody written a function to plot density ellipses (95%, 99% or
> anything) in a scatterplot? I found nothing in any package, nor in the list
> archives. 


The following very elegant function computes confidence
ellipses using the F-statistic.  It was sent to S-news last
year by Roger Koenker (I did some small editing).  I looked
at the math behind it in my econometrics class, if you
go to my class notes
http://www.econ.utah.edu/ehrbar/ecmetrcs.pdf (4.6 megabytes)
and select Multivariate Normal Density -> Special Case:
Bivariate -> Level lines you will find a proof why this
works.



confelli <-
function(b, C, df, level = 0.95, xlab = "", ylab = "", add=T, prec=51)

# Plot an ellipse with "covariance matrix" C, center b, and P-content
# level according the F(2,df) distribution.
# Sent to S-NEWS on May 19, 1999 by Roger Koenker 
# Department of Economics 
# University of Illinois 
# Champaign, IL 61820
# url: http://www.econ.uiuc.edu 
# email roger at ysidro.econ.uiuc.edu 
# vox: 217-333-4558 
# fax: 217-244-6678.

{
	d <- sqrt(diag(C))
	dfvec <- c(2, df)
	phase <- acos(C[1, 2]/(d[1] * d[2]))
	angles <- seq( - (PI), PI, len = prec)
	mult <- sqrt(dfvec[1] * qf(level, dfvec[1], dfvec[2]))
	xpts <- b[1] + d[1] * mult * cos(angles)
	ypts <- b[2] + d[2] * mult * cos(angles + phase)
	if(add) lines(xpts, ypts)
	else plot(xpts, ypts, type = "l", xlab = xlab, ylab = ylab)
}

-- 
Hans G. Ehrbar                               ehrbar at econ.utah.edu
Economics Department, University of Utah     (801) 581 7797 (my office)
1645 Campus Center Dr., Rm 308               (801) 581 7481 (econ office)
Salt Lake City    UT 84112-9300              (801) 585 5649 (FAX)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Wed Mar 22 22:34:30 2000
From: j.logsdon at lancaster.ac.uk (John Logsdon)
Date: Wed, 22 Mar 2000 21:34:30 +0000 (GMT)
Subject: [R] scan question
Message-ID: <Pine.LNX.4.10.10003222119050.27091-100000@mercury.quantex>

Hi

In R 0.90.1 is there a way of stopping scan() from rewinding to the
beginning of the file?  Basically I have a mega-file (250Mb!!!) that I
want to read and process in 301 line chunks, each line having 151 numbers
on it.

If I do
for (i in 1:many){
  pp<-scan('filename',skip=(i-1)*301,nlines=301)
}

it appears to do what I want but as the chunks get further down the file
it gets slower and slower.

So can I stop the rewind?

TIA

John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Mar 22 23:11:01 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Mar 2000 23:11:01 +0100
Subject: [R] scan question
In-Reply-To: John Logsdon's message of "Wed, 22 Mar 2000 21:34:30 +0000 (GMT)"
References: <Pine.LNX.4.10.10003222119050.27091-100000@mercury.quantex>
Message-ID: <x2u2hyveoa.fsf@blueberry.kubism.ku.dk>

John Logsdon <j.logsdon at lancaster.ac.uk> writes:

> Hi
> 
> In R 0.90.1 is there a way of stopping scan() from rewinding to the
> beginning of the file?  Basically I have a mega-file (250Mb!!!) that I
> want to read and process in 301 line chunks, each line having 151 numbers
> on it.
> 
> If I do
> for (i in 1:many){
>   pp<-scan('filename',skip=(i-1)*301,nlines=301)
> }
> 
> it appears to do what I want but as the chunks get further down the file
> it gets slower and slower.
> 
> So can I stop the rewind?

I don't think you can - until someone implements "connections"
(wazzattherightname?) in R. If you're on some kind of Unix, you may
get away with hacking up something with named pipes.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Wed Mar 22 23:44:38 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Wed, 22 Mar 2000 23:44:38 +0100
Subject: [R] update.packages [was dynamic load problem ...]
In-Reply-To: <OFF6EB18D9.77AE3641-ON852568AA.006C93DC@hgsi.com>; from partha_bagchi@hgsi.com on Wed, Mar 22, 2000 at 02:51:47PM -0500
References: <OFF6EB18D9.77AE3641-ON852568AA.006C93DC@hgsi.com>
Message-ID: <20000322234438.A2447@sirio.stat.unipd.it>

On Wed, Mar 22, 2000 at 02:51:47PM -0500, partha_bagchi at hgsi.com wrote:
> ...................................................................
> Now all the packages load just fine.
 
  Good.

> I am finally upgrading to R version 1.0. The  problems mentioned below were
> show-stoppers for me. I intend to visit CRAN once a month to make sure that
> I have updated packages.

  Remember that executing 'update.packages' from a a running R process
  will do all the work for you (find out which packages need to be updated,
  dowloading and replacing the old packages with the new one). From the help
     "These functions can be used to automatically compare the version
     numbers of installed packages with the newest available version on
     CRAN and update outdated packages on the fly."

  You need a version of 'wget' on the path (one for Windows is at CRAN in
  bin/windows/windows-NT/base/etc).

  guido

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Thu Mar 23 00:08:18 2000
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Wed, 22 Mar 2000 17:08:18 -0600
Subject: [R] RDQ about making packages
Message-ID: <200003222308.AA20666@uhddx01.dt.uh.edu>

Hi R People:

I am on a UNIX operating system, with R 1.0.0, Digital UNIX V4.0D

I was able to configure from source very easily.

Now here is a Really Dumb Question(RDQ):

In src/library, I have a directory called my.package
That directory, in turn, has an R and a src directory.

The src directory has some FORTRAN code in it.

My RDQ is:  how do I make the package, please?

Thanks!

Erin M. Hodgess, Ph.D.
Assistant Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
One Main Street 
Houston, TX 77002
e-mail: hodgess at uhddx01.dt.uh.edu


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Thu Mar 23 01:33:08 2000
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Wed, 22 Mar 2000 18:33:08 -0600
Subject: [R] RDQ about making packages summary
Message-ID: <200003230033.AA09942@uhddx01.dt.uh.edu>

Dear R People:

Here are the answers, received before I could say "Miniature
Schnauzer":

Thanks to Prof. B, and Dr. E!

Sincerely,
Erin


From: Douglas Bates <bates at stat.wisc.edu>
Date: 22 Mar 2000 17:28:17 -0600


Erin Hodgess <hodgess at uhddx01.dt.uh.edu> writes:

> Hi R People:
> 
> I am on a UNIX operating system, with R 1.0.0, Digital UNIX V4.0D
> 
> I was able to configure from source very easily.
> 
> Now here is a Really Dumb Question(RDQ):
> 
> In src/library, I have a directory called my.package
> That directory, in turn, has an R and a src directory.
> 
> The src directory has some FORTRAN code in it.
> 
> My RDQ is:  how do I make the package, please?

You don't really need to have the package in the src/library
directory.  Any directory will do but you have to have the package
configured properly with a DESCRIPTION file.

See "Writing R Extensions".  You can make a PostScript or PDF copy for
yourself in the directory called doc/manual or you can download the
PDF from any CRAN site.

There is now a convenient facility of
 R CMD build <package-name>
to build the tar file that creates the package.

Let me know if you run into trouble.  These instructions are rather
brief.

Regards,
--Doug Bates

From: Dirk Eddelbuettel <edd at debian.org>
To: Erin Hodgess <hodgess at uhddx01.dt.uh.edu>


There is truly comprehensive documentation in the "R Extensions" manual. You
can build .info, .dvi, .pdf, ... from the source files.  The web site for R
might have .ps versions too.

Debian users even get a seperate r-doc-pdf package.  

Dirk

-- 
According to the latest figures, 43% of all statistics are totally worthless.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From u.kellett at qut.edu.au  Thu Mar 23 06:22:39 2000
From: u.kellett at qut.edu.au (Ursula Kellett)
Date: Thu, 23 Mar 2000 15:22:39 +1000 (EST)
Subject: [R] Requery: R 1.0.0 for Win95 and clipboard
Message-ID: <Pine.OSF.4.10.10003231521160.26171-100000@pigeon.qut.edu.au>

Noone answered so I guess this is not possible, but can anyone definitely put
me out of my misery...

'I have just begun using R 1.0.0 for Win95. Can someone please tell me  how to
put a data frame on the clipboard, and how to read data into a  data frame
from the clipboard.'

Is this something that's planned? The clipboard seems pretty fundamental to
Windows (and other OS?).

Thanks
Ursula Kellett
Brisbane Australia

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Mar 23 11:25:49 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 23 Mar 2000 11:25:49 +0100
Subject: [R] Requery: R 1.0.0 for Win95 and clipboard
In-Reply-To: Ursula Kellett's message of "Thu, 23 Mar 2000 15:22:39 +1000 (EST)"
References: <Pine.OSF.4.10.10003231521160.26171-100000@pigeon.qut.edu.au>
Message-ID: <x27leut236.fsf@blueberry.kubism.ku.dk>

Ursula Kellett <u.kellett at qut.edu.au> writes:

> Noone answered so I guess this is not possible, but can anyone definitely put
> me out of my misery...
> 
> 'I have just begun using R 1.0.0 for Win95. Can someone please tell me  how to
> put a data frame on the clipboard, and how to read data into a  data frame
> from the clipboard.'
> 
> Is this something that's planned? The clipboard seems pretty fundamental to
> Windows (and other OS?).

The short answer is "no", but most people in the developer crowd come
from a Unix background, so there may be some useful techniques we just
don't know about. Some work has been done on communication with Excel
and using (D)COM.

Counterquestion: How would you expect it to work? What would you do
with it once it was on the clipboard and how would you ensure that
data contained the relevant information (factor levels, e.g.) when
read from the clipboard? What are the relevant communication channels?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Thu Mar 23 12:44:14 2000
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Thu, 23 Mar 2000 12:44:14 +0100
Subject: [R] Requery: R 1.0.0 for Win95 and clipboard
References: <Pine.OSF.4.10.10003231521160.26171-100000@pigeon.qut.edu.au>
Message-ID: <38DA038E.D2E0A52E@psy.uni-muenchen.de>

Hi Ursula,

I don?t use Windows anymore, but I?think it isn?t possible. But maybe
this helps you:

To paste a dataframe to the Win-clipboard, just print the dataframe in R
(asume its name as my_data)

> my_data

Now you can mark it with your mouse, type Contr+C to paste it to the
clippboard. To read data from the clippboard, you must save it to a
file, e.g. use the Notepad editor and paste the data to its sheet. Save
the file and use the read.table-function in R to read the data from the 
file.

bye, Sven

Ursula Kellett wrote:
> 
> Noone answered so I guess this is not possible, but can anyone definitely put
> me out of my misery...
> 
> 'I have just begun using R 1.0.0 for Win95. Can someone please tell me  how to
> put a data frame on the clipboard, and how to read data into a  data frame
> from the clipboard.'
> 
> Is this something that's planned? The clipboard seems pretty fundamental to
> Windows (and other OS?).
> 
> Thanks
> Ursula Kellett
> Brisbane Australia
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Thu Mar 23 13:21:06 2000
From: j.logsdon at lancaster.ac.uk (John Logsdon)
Date: Thu, 23 Mar 2000 12:21:06 +0000 (GMT)
Subject: [R] Requery: R 1.0.0 for Win95 and clipboard
In-Reply-To: <x27leut236.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.10.10003231216510.27091-100000@mercury.quantex>



On 23 Mar 2000, Peter Dalgaard BSA wrote:

> Ursula Kellett <u.kellett at qut.edu.au> writes:

[snip]

> 
> > Is this something that's planned? The clipboard seems pretty fundamental to
> > Windows (and other OS?).
> 
> The short answer is "no", but most people in the developer crowd come
> from a Unix background, so there may be some useful techniques we just
> don't know about. Some work has been done on communication with Excel
> and using (D)COM.
> 
> Counterquestion: How would you expect it to work? What would you do
> with it once it was on the clipboard and how would you ensure that
> data contained the relevant information (factor levels, e.g.) when
> read from the clipboard? What are the relevant communication channels?

I am not a heavy W95 user, much prefering a Unix platform with pipes and
things (when I remember to use them), but I would have thought that using
the clipboard as an input/output store would hit the problem that it's
size is rather limited.  Isn't it?  Apart that is from the problems that
Peter raises above.

John


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Thu Mar 23 13:36:34 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Thu, 23 Mar 2000 13:36:34 +0100
Subject: [R] Requery: R 1.0.0 for Win95 and clipboard
In-Reply-To: <Pine.OSF.4.10.10003231521160.26171-100000@pigeon.qut.edu.au>; from u.kellett@qut.edu.au on Thu, Mar 23, 2000 at 03:22:39PM +1000
References: <Pine.OSF.4.10.10003231521160.26171-100000@pigeon.qut.edu.au>
Message-ID: <20000323133634.A3763@sirio.stat.unipd.it>

On Thu, Mar 23, 2000 at 03:22:39PM +1000, Ursula Kellett wrote:
> Noone answered so I guess this is not possible, but can anyone definitely put
> me out of my misery...
> 
> 'I have just begun using R 1.0.0 for Win95. Can someone please tell me  how to
> put a data frame on the clipboard, and how to read data into a  data frame
> from the clipboard.'

  Only thing I now it is possible is to use 'scan'+paste.
  E.g., if the clipboard contains
  1 2 3
  4 5 6
  and if, in the RGui console, you type something like
  > x<-scan()
  1:
  then pasting the content of the clipboard (using, Ctrl-Y or the
  Edit|Paste menuitem or the Paste menu available with the mouse
  right button) and hitting <return>, let you to get the clipboard
  content in x,i.e.,
  > x
  [1] 1 2 3 4 5 6 
  Then, you have to transform x in a data frame, e.g., using something like
  > data.frame(matrix(x,2,3,byrow=T))
    X1 X2 X3
  1  1  2  3
  2  4  5  6


> Is this something that's planned? The clipboard seems pretty fundamental to
> Windows (and other OS?).
> 

  What kind of functionality are you thinking about? Something like
  having 'read.table.from.clipboard' or something more advanced?

  guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew.bernat at bea.doc.gov  Thu Mar 23 14:14:31 2000
From: andrew.bernat at bea.doc.gov (Andrew Bernat)
Date: Thu, 23 Mar 2000 08:14:31 -0500
Subject: [R] Requery: R 1.0.0 for Win95 and clipboard -Reply
Message-ID: <s8d9d275.028@beamail.bea.doc.gov>

For small datasets it would be useful to be able to copy a block of data from a spreadsheet then toggle over to R and just paste it in.  If it's possible, having read.table access the clipboard (e.g. x <- read.table(file="clipboard", ...) would do the trick.  Of course, exporting to a file and the reading into R is pretty easy but usring the clipboard would save a couple extra steps.

Andy Bernat

>>> Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> 03/23/00 05:25am >>>
Ursula Kellett <u.kellett at qut.edu.au> writes:

> Noone answered so I guess this is not possible, but can anyone definitely put
> me out of my misery...
> 
> 'I have just begun using R 1.0.0 for Win95. Can someone please tell me  how to
> put a data frame on the clipboard, and how to read data into a  data frame
> from the clipboard.'
> 
> Is this something that's planned? The clipboard seems pretty fundamental to
> Windows (and other OS?).

The short answer is "no", but most people in the developer crowd come
from a Unix background, so there may be some useful techniques we just
don't know about. Some work has been done on communication with Excel
and using (D)COM.

Counterquestion: How would you expect it to work? What would you do
with it once it was on the clipboard and how would you ensure that
data contained the relevant information (factor levels, e.g.) when
read from the clipboard? What are the relevant communication channels?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zivan.karaman at limagrain.com  Thu Mar 23 14:21:42 2000
From: zivan.karaman at limagrain.com (zivan.karaman@limagrain.com)
Date: Thu, 23 Mar 2000 14:21:42 +0100
Subject: [R] Requery: R 1.0.0 for Win95 and clipboard
Message-ID: <C12568AB.004933E4.00@limagrain.ftgin.com>


The usual way of copying 2-dimensional arrays to and from the clipboard is to
separate columns by <Tab> character, and to separate lines by <Newline>
character (CR-LF under DOS/Windows).

Potential problems (at least the three I can see immediately): dimnames, factors
and NAs.

I would suggest that including dimnames should be optional.

I would assume that factors should be copied as.character(...) TO clipboard.
When pasting FROM the clipboard, it would be nice to have an option for leaving
the character vectors as text or transforming them into factors. (I often have
to do a lot of gymnastics to transform factors into character vectors in
dataframes with S+, and I really don't like it).

The NAs could be represented by empty cell, i.e. <Tab><Tab>, for both copy and
paste.

In S-PLUS 2000, one can copy and paste data from the data editor, but it seems
that the dimnames don't get copied.

In fact, I think that the clipboard operations should work like read.table and
write.table, except  that under R , 'file="clipboard" ' apparently uses an
internal clipboard, and not the standard Windows clipboard.

With S-PLUS 2000, if you say

     write.table(x,file="clipboard",sep="\t")

you can paste the data into Excel.

You can also read data from Excel by

     read.table(file="clipboard",header=T,sep="\t")


Best regards

Zivan


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Patrik.Waldmann at sysbot.lu.se  Thu Mar 23 17:32:31 2000
From: Patrik.Waldmann at sysbot.lu.se (Patrik Waldmann)
Date: Thu, 23 Mar 2000 17:32:31 +0100
Subject: [R] NLME and NA:s
Message-ID: <000701bf94e5$63033740$2795eb82@patrikwpc>

Hello,

I have an unbalanced data set with some factors and several variables. The missing values are spread unequally over the variables. Because of the unbalanced structure have i tried NLME, but I cannot understand how I should set up the na.omit. I would not like to use na.omit before setting up the model, as that would exclude too many observations (on the whole structure). Lets say I have data frame DATA, factor FACT and variables VAR1,VAR2... I first convert by using factor, and then set up the model as fm1<- lme(VAR1~1, data=DATA, random=~1! FACT,na.omit(DATA$VAR1)). What have I done wrong?

Patrik Waldmann
Department of Systematic botany
University of Lund
Ostra Vallgatan 18-20
223 61 Lund
Sweden
E-mail: Patrik.Waldmann at sysbot.lu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Mar 23 19:57:29 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 23 Mar 2000 12:57:29 -0600
Subject: [R] NLME and NA:s
In-Reply-To: "Patrik Waldmann"'s message of "Thu, 23 Mar 2000 17:32:31 +0100"
References: <000701bf94e5$63033740$2795eb82@patrikwpc>
Message-ID: <6rzorpjyzq.fsf@franz.stat.wisc.edu>

"Patrik Waldmann" <Patrik.Waldmann at sysbot.lu.se> writes:

> I have an unbalanced data set with some factors and several
> variables. The missing values are spread unequally over the
> variables. Because of the unbalanced structure have i tried NLME,
> but I cannot understand how I should set up the na.omit. I would not
> like to use na.omit before setting up the model, as that would
> exclude too many observations (on the whole structure). Lets say I
> have data frame DATA, factor FACT and variables VAR1,VAR2... I first
> convert by using factor, and then set up the model as

  fm1<- lme(VAR1~1, data=DATA, random=~1! FACT,na.omit(DATA$VAR1)). 

> What have I done wrong?


First, note that it is the vertical bar character, |, not the
exclamation point, !, that is used to separate the grouping factor
from the linear model formula in the "random" argument.  Your keyboard
may differ but the way you wrote the call to lme there won't work.

I think you can simply use

  fm1 <- lme(VAR1~1, data=DATA, random=~1|FACT, na.action=na.omit)

to get the behavior you want.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri Mar 24 00:16:03 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 23 Mar 2000 17:16:03 -0600
Subject: [R] Tukey multiple comparisons
Message-ID: <6rya79i8gc.fsf@franz.stat.wisc.edu>

I am embarrassed to have to ask this but can anyone tell me of a Tukey
multiple comparisons procedure available for R?  I have looked through
the search page, through the FAQ, and in the index of V&R (1999), and
I still can't find such a thing.  I see there is a ptukey function and
a qtukey function but that is as far as I got.  Do I need to roll my
own?
-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Mar 24 01:22:50 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Mar 2000 01:22:50 +0100
Subject: [R] Tukey multiple comparisons
In-Reply-To: Douglas Bates's message of "23 Mar 2000 17:16:03 -0600"
References: <6rya79i8gc.fsf@franz.stat.wisc.edu>
Message-ID: <x2n1npnrmt.fsf@blueberry.kubism.ku.dk>

Douglas Bates <bates at stat.wisc.edu> writes:

> I am embarrassed to have to ask this but can anyone tell me of a Tukey
> multiple comparisons procedure available for R?  I have looked through
> the search page, through the FAQ, and in the index of V&R (1999), and
> I still can't find such a thing.  I see there is a ptukey function and
> a qtukey function but that is as far as I got.  Do I need to roll my
> own?

Yup. It's somewhere on by backlog of things to get around to some
time. Which particular variant were you thinking of? There are at
least two multiple comparison procedures for balanced groups based on
Tukey's HSD (Newman-Keuls and REGW-something). 

I did have it in the back of my mind when writing pairwise.t.test, and
I do believe that the Tukey based procedures can be formulated in
terms of adjusted p-values, there are some hints in that direction in
the Biometrics reference given (and which Thomas originally pointed
to); I just didn't get around to reading it well enough.

One issue is whether to enforce identical groups sizes. Formally, the
Tukey (aka Studentized Range) distribution presupposes that the group
sizes are equal, and MCP with very unequal group sizes can be
anomalous (consider three groups of which one is small and the others
are large and the group means A<B<C: then it can happen that A is
significantly different from B but not from C and the procedures
assume transitivity). Several other packages *will* perform the
procedures for unbalanced groups, but I wouldn't really trust that
unless the group counts were rather close (and how close should they
be?). 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Fri Mar 24 06:56:33 2000
From: chong at stat.purdue.edu (Chong Gu)
Date: Fri, 24 Mar 2000 00:56:33 -0500
Subject: [R] Tukey multiple comparisons
In-Reply-To: <6rya79i8gc.fsf@franz.stat.wisc.edu> (message from Douglas Bates
	on 23 Mar 2000 17:16:03 -0600)
Message-ID: <200003240556.AAA32412@mean.stat.purdue.edu>


   From: Douglas Bates <bates at stat.wisc.edu>
   Date: 23 Mar 2000 17:16:03 -0600
   Lines: 10
   X-Mailer: Gnus v5.7/Emacs 20.5
   Sender: owner-r-help at stat.math.ethz.ch
   Precedence: bulk

   I am embarrassed to have to ask this but can anyone tell me of a Tukey
   multiple comparisons procedure available for R?  I have looked through
   the search page, through the FAQ, and in the index of V&R (1999), and
   I still can't find such a thing.  I see there is a ptukey function and
   a qtukey function but that is as far as I got.  Do I need to roll my
   own?
   -- 
   Douglas Bates                            bates at stat.wisc.edu
   Statistics Department                    608/262-2598
   University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
   -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   Send "info", "help", or "[un]subscribe"
   (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


Doug,

Try qtukey to get the quantile, then divide by sqrt(2) to get the
multiple.

Chong
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Fri Mar 24 08:24:02 2000
From: john.maindonald at anu.edu.au (john.maindonald@anu.edu.au)
Date: Fri, 24 Mar 2000 18:24:02 +1100
Subject: [R] Tukey multiple comparisons
In-Reply-To: <200003240556.AAA32412@mean.stat.purdue.edu>
References: <6rya79i8gc.fsf@franz.stat.wisc.edu>
Message-ID: <3.0.6.32.20000324182402.007dd100@pophost.anu.edu.au>



At 12:56 AM 24/03/00 -0500, Chong Gu wrote:
>
>   From: Douglas Bates <bates at stat.wisc.edu>
>   I am embarrassed to have to ask this but can anyone tell me of a Tukey
>   multiple comparisons procedure available for R?  I have looked through
>   the search page, through the FAQ, and in the index of V&R (1999), and
>   I still can't find such a thing.  I see there is a ptukey function and
>   a qtukey function but that is as far as I got.  Do I need to roll my
>   own?
>   -- 
>   Douglas Bates                            bates at stat.wisc.edu
>   Statistics Department                    608/262-2598
>   University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
>   -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>Doug,
>
>Try qtukey to get the quantile, then divide by sqrt(2) to get the
>multiple.
>
>Chong
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-

Or you may want the generalisation to nmeans>2 and df 
different from 100 (= df of estimate of common variance)

> ptukey(1.96*sqrt(2),2,100,lower.tail=F)
[1] 0.0527789

The studentised range divides by the (assumed common) SE of the 
means, while the equivalent t-statistic divides by the SED; hence 
the sqrt(2).  If the SEDs are somewhat unequal, it may not be
too bad to calculate:

ptukey(t*sqrt(2), nmeans,df,lower.tail=F)

where t is the largest of the pairwise t-statistics.
[But one must not call it t!]


John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From u.kellett at qut.edu.au  Fri Mar 24 08:31:39 2000
From: u.kellett at qut.edu.au (Ursula Kellett)
Date: Fri, 24 Mar 2000 17:31:39 +1000 (EST)
Subject: [R] More on Win R and clipboard
Message-ID: <Pine.OSF.4.10.10003241728390.3079-100000@pigeon.qut.edu.au>

Many thanks to all those who replied about my clipboard query.

In response to conter-queries:

> Peter:
>Counterquestion: How would you expect it to work? What would
>you do with it once it was on the clipboard and how would
>you ensure that data contained the relevant information
>(factor levels, e.g.) when read from the clipboard? What are
>the relevant communication channels?

> Guido:
>What kind of functionality are you thinking about? Something like
>having 'read.table.from.clipboard' or something more advanced?


Well I guess I was thinking of something pretty basic, eg for the convenience
of transferring to/from EXCEL as Peter Bernat suggested. I use another great
freeware program called MACANOVA
(http://www.stat.umn.edu/~gary/macanova/macanova.home.html) and I find its
'toclip' and 'fromclip' functions _very_ handy. This was the kind of thing I
had in mind.

However after reading Zivan Karaman's post, I think he's hit the nail square
on the head. I couldn't put it any better so here are his ideas below again in
case you missed them.

Regards,
Ursula


>On 23 Mar 00, at 14:21, zivan.karaman at limagrain.com wrote:
>
> 
> The usual way of copying 2-dimensional arrays to and from the
> clipboard is to separate columns by <Tab> character, and to separate
> lines by <Newline> character (CR-LF under DOS/Windows).
> 
> Potential problems (at least the three I can see immediately):
> dimnames, factors and NAs.
> 
> I would suggest that including dimnames should be optional.
> 
> I would assume that factors should be copied as.character(...) TO
> clipboard. When pasting FROM the clipboard, it would be nice to have
> an option for leaving the character vectors as text or transforming
> them into factors. (I often have to do a lot of gymnastics to
> transform factors into character vectors in dataframes with S+, and I
> really don't like it).
> 
> The NAs could be represented by empty cell, i.e. <Tab><Tab>, for both
> copy and paste.
> 
> In S-PLUS 2000, one can copy and paste data from the data editor, but
> it seems that the dimnames don't get copied.
> 
> In fact, I think that the clipboard operations should work like
> read.table and write.table, except  that under R , 'file="clipboard" '
> apparently uses an internal clipboard, and not the standard Windows
> clipboard.
> 
> With S-PLUS 2000, if you say
> 
>      write.table(x,file="clipboard",sep="\t")
> 
> you can paste the data into Excel.
> 
> You can also read data from Excel by
> 
>      read.table(file="clipboard",header=T,sep="\t")
> 
> 
> Best regards
> 
> Zivan
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MattN at esperion.com  Fri Mar 24 12:56:11 2000
From: MattN at esperion.com (Matthew Nelson)
Date: Fri, 24 Mar 2000 06:56:11 -0500
Subject: [R] RE: dna library
Message-ID: <8156A6FE684ED21194D20008C756F8DF215AB9@independence.esperion.com>

Jim,

Thanks for making this library available.  As a trained human geneticist,
but a pharmaceutical scientist who spends most of my time working on
non-genetics projects using S-Plus/RWin/R (Linux), I've often thought that
it would be nice to stick with the same set of tools when I put my
geneticist/bioinformaticist hat back on.  In fact, I will often reformat
various genetics/DNA data sets for analysis in R.

Having said that, I would be happy to contribute to further development of
the library.  I will look for opportunities to use it and pass bug-reports
along to you.  I will also consider ways that it could be enhanced.  If
there are other ways that you feel I could contribute, please let me know.
I have five years of experience programming at various levels in S/R, and am
comfortable coding in C/C++.

Regards,

Matt

Matthew R. Nelson, Ph.D.
Information Scientist
Esperion Therapeutics, Inc.
3621 S. State St.
695 KMS Place
Ann Arbor, MI 48108

Phone: (734) 332-0506 x235
Fax: (734) 332-0516
email: mnelson at esperion.com
web: http://www.esperion.com
-----Original Message-----
From: Jim Lindsey [mailto:jlindsey at alpha.luc.ac.be]
Sent: Thursday, March 23, 2000 12:44 PM
To: r-announce at stat.math.ethz.ch
Subject: dna library



I have just placed version 0.2 alpha of my library, dna, on my web
page at
www.luc.ac.be/~jlindsey/rcode.html
The R functions in this library cover most of the basic methods of
dna and protein sequence analysis. The library includes ports of
CLUSTAL W for multiple sequence alignment and flip for finding open
reading frames in a dna sequence.
  There are an enormous number of interesting and challenging
statistical problems in current molecular biology and I am hoping that
making these procedures available to the R community will encourage
people to get involved.
  Some links to useful sites for learning about molecular biology can
be found at
www.luc.ac.be/~jlindsey/url.html
  Comments and suggestions for further inclusions in the library are
very welcome.
  Jim


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-announce mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jojeda at posta.unizar.es  Fri Mar 24 13:35:35 2000
From: jojeda at posta.unizar.es (Jorge Luis Ojeda Cabrera)
Date: Fri, 24 Mar 2000 12:35:35 GMT
Subject: [R] body bug?
Message-ID: <20000324.12353500@macdesp8.unizar.es>

I am not sure if this is a bug or not but it seemed estrange to me.

Following code works ok.

> cat("Hello my body is:  ");body(cat)
Hello my body is:  .Internal(cat(list(...), file, sep, fill, labels, 
append))
> cat("Hello my body is:  ");body(cat);cat("\n")
Hello my body is:  .Internal(cat(list(...), file, sep, fill, labels, 
append))

>

But when I define a function it doesn't work...

> f <- function(x) {cat("Hello my body is:  ");body(x);cat("\n");}
> f(cat)
Hello my body is:  
> 

Does anybody knows why it doesn't work ?.


Thanks in advance, and Great Work.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vaddon at po-box.mcgill.ca  Fri Mar 24 13:37:10 2000
From: vaddon at po-box.mcgill.ca (Vittorio Addona)
Date: Fri, 24 Mar 2000 07:37:10 -0500
Subject: [R] Installing a Library
Message-ID: <38DB6176.C8CB9DE9@po-box.mcgill.ca>

Hello, I have been trying to install library boot and it's giving me the
warning message "No R source code in library: library(boot)".  I
downloaded the library correctly and unzipped it to rw1000/library, so I
don't know what the problem could be.  If anyone knows, I would greatly
appreciate it.  Thank you.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Fri Mar 24 13:41:20 2000
From: chong at stat.purdue.edu (Chong Gu)
Date: Fri, 24 Mar 2000 07:41:20 -0500
Subject: [R] Tukey multiple comparisons
In-Reply-To: <200003240556.AAA32412@mean.stat.purdue.edu> (message from Chong
	Gu on Fri, 24 Mar 2000 00:56:33 -0500)
Message-ID: <200003241241.HAA18028@mean.stat.purdue.edu>

   Date: Fri, 24 Mar 2000 00:56:33 -0500
   From: Chong Gu <chong at stat.purdue.edu>
   CC: r-help at franz.stat.wisc.edu
   Sender: owner-r-help at stat.math.ethz.ch
   Precedence: bulk


      From: Douglas Bates <bates at stat.wisc.edu>
      Date: 23 Mar 2000 17:16:03 -0600
      Lines: 10
      X-Mailer: Gnus v5.7/Emacs 20.5
      Sender: owner-r-help at stat.math.ethz.ch
      Precedence: bulk

      I am embarrassed to have to ask this but can anyone tell me of a Tukey
      multiple comparisons procedure available for R?  I have looked through
      the search page, through the FAQ, and in the index of V&R (1999), and
      I still can't find such a thing.  I see there is a ptukey function and
      a qtukey function but that is as far as I got.  Do I need to roll my
      own?
      -- 
      Douglas Bates                            bates at stat.wisc.edu
      Statistics Department                    608/262-2598
      University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
      -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
      r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
      Send "info", "help", or "[un]subscribe"
      (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
      _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


   Doug,

   Try qtukey to get the quantile, then divide by sqrt(2) to get the
   multiple.

   Chong
   -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   Send "info", "help", or "[un]subscribe"
   (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


Ooops, please ignore it.  I didn't read the last setence in the post
and misunderstood the it.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Mar 24 13:50:40 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Mar 2000 13:50:40 +0100
Subject: [R] body bug?
In-Reply-To: Jorge Luis Ojeda Cabrera's message of "Fri, 24 Mar 2000 12:35:35 GMT"
References: <20000324.12353500@macdesp8.unizar.es>
Message-ID: <x2zorowmzj.fsf@blueberry.kubism.ku.dk>

Jorge Luis Ojeda Cabrera <jojeda at posta.unizar.es> writes:

> But when I define a function it doesn't work...
> 
> > f <- function(x) {cat("Hello my body is:  ");body(x);cat("\n");}
> > f(cat)
> Hello my body is:  
> > 
> 
> Does anybody knows why it doesn't work ?.

Try 
> f <- function(x) {cat("Hello my body is:  ");print(body(x));cat("\n");}
                                               ^^^^^        


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Fri Mar 24 17:25:13 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Fri, 24 Mar 2000 17:25:13 +0100
Subject: [R] Installing a Library
In-Reply-To: <38DB6176.C8CB9DE9@po-box.mcgill.ca>; from vaddon@po-box.mcgill.ca on Fri, Mar 24, 2000 at 07:37:10AM -0500
References: <38DB6176.C8CB9DE9@po-box.mcgill.ca>
Message-ID: <20000324172513.A19030@sirio.stat.unipd.it>

On Fri, Mar 24, 2000 at 07:37:10AM -0500, Vittorio Addona wrote:
> Hello, I have been trying to install library boot and it's giving me the
> warning message "No R source code in library: library(boot)".  I
> downloaded the library correctly and unzipped it to rw1000/library, so I
> don't know what the problem could be.  If anyone knows, I would greatly
> appreciate it.  Thank you.
> 

  Vittorio,
  that warning is given when in 'RHOME/library/boot/R' there are no
  file named 'boot'. I have checked boot.zip just now 
  (at CRAN/bin/windows/windows-NT/contrib) and it does include that file.
  Can you check on your system?

  guido

  (ps) We had reports like yours from people who unpack under 
  RHOME/library NOT the binary distribution of the package BUT
  the source one (in this case, boot(version number).tar.gz from
  CRAN/contrib). Is this your case? 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Mar 24 17:32:57 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 24 Mar 2000 08:32:57 -0800 (PST)
Subject: [R] Re: dna library
In-Reply-To: <200003231744.SAA11616@alpha.luc.ac.be>
Message-ID: <Pine.GSO.4.21.0003240829570.2323-100000@mail.biostat.washington.edu>


This looks very promising. I'll show it to our StatGen people.

Three points.

1. In interface.c at line 101 you have 
	char seqname[]
which gcc doesn't like (it wants a length for the array). It doesn't seem
to be used anywhere so I commented it out.

2. In interface.c at line 152 you have
	init_matrix()
when I think you mean
	init_matrix(error)


3. The documentation for flip has \code{@}, which doesn't get processed
correctly.  I changed it to \@.


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Mar 24 17:33:51 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 24 Mar 2000 08:33:51 -0800 (PST)
Subject: [R] Re: dna library
In-Reply-To: <Pine.GSO.4.21.0003240829570.2323-100000@mail.biostat.washington.edu>
Message-ID: <Pine.GSO.4.21.0003240833240.2323-100000@mail.biostat.washington.edu>


Sorry, that last message should have gone to Jim, not to the list. I
deleted the wrong header line.

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From helgito at rhi.hi.is  Fri Mar 24 17:47:56 2000
From: helgito at rhi.hi.is (Helgi Tomasson)
Date: Fri, 24 Mar 2000 16:47:56 +0000
Subject: [R] does xaxt="n" work
Message-ID: <38DB9C3B.19780505@rhi.hi.is>

To R-people

I recently downloaded an rpm for suse-linux of R-1.0 for suse 6.3.
There


plot(tx,spax,type='l',ylim=range(ytx),ylab="",xlab="",xaxt="n",yaxt="n")

does not seem to supress printing on the axis.  The same statement

seemed to work well in R-0.9 on a redhat 5.2 (compiled by myself).

Has anyone had the same experience?

regards

Helgi

--
Helgi Tomasson                                       FAX:  354-552-6806
University of Iceland                                PHONE:354-525-4571
Faculty of Economics and Business Administration     email:helgito at rhi.hi.is
Oddi v/ Sturlugotu
IS-101 Reykjavik
ICELAND



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Mar 24 18:29:03 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 24 Mar 2000 18:29:03 +0100 (MET)
Subject: [R] does xaxt="n" work
In-Reply-To: <38DB9C3B.19780505@rhi.hi.is>
References: <38DB9C3B.19780505@rhi.hi.is>
Message-ID: <14555.42464.786.905291@lynne.ethz.ch>

>>>>> "Helgi" == Helgi Tomasson <helgito at rhi.hi.is> writes:

    Helgi> I recently downloaded an rpm for suse-linux of R-1.0 for suse 6.3.
    Helgi> There

  Helgi> plot(tx,spax,type='l',ylim=range(ytx),ylab="",xlab="",xaxt="n",yaxt="n")

    Helgi> does not seem to supress printing on the axis.  The same statement
    Helgi> seemed to work well in R-0.9 on a redhat 5.2 (compiled by myself).
    Helgi> Has anyone had the same experience?

Yes, this is a bug in 1.0.0 which has been reported 
and has been fixed for the patch release "R-release" quite a while ago
(The "R-release" daily snapshot is available from CRAN
 and will become 1.0.1 some time).

Opinions may differ here, but IMHO, this is the worst bug
(that we know of ...) in R 1.0.0.

Anyway, the workaround is simple (but ugly):

Instead of

	plot(.... , xaxt = "n")
use

	op <- par(xaxt = "n")
	plot(....)
	par(op)

{{and of course the same applies to  yaxt}}.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Sat Mar 25 07:34:53 2000
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Sat, 25 Mar 2000 07:34:53 +0100
Subject: [R] cluttered dates in R1.0, win98 ?
Message-ID: <000f01bf9624$3c8680a0$2c4fa8c0@tring.stofanet.dk>

Dear friends. I'm in win98, using R version 1.0 (with gratitude and humble admiration). Could it be that something has changed in the formatting of axes - the code below produced well looking pictures in version 0.99 but now the dates are cluttered on the x-axis and some given as numbers, some as formatted dates. I guess I can get around that but wonder whether the problem might indicate something that should be improved ?

Best wishes

Troels Ring, M.D
Department of Nephrology
Aalborg, Denmark
tring at mail1.stofanet.dk
-------------- next part --------------
A non-text attachment was scrubbed...
Name: vanco.r
Type: application/octet-stream
Size: 796 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000325/08054f63/vanco.obj
-------------- next part --------------
A non-text attachment was scrubbed...
Name: vanco.dat
Type: application/octet-stream
Size: 300 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000325/08054f63/vanco-0001.obj

From rdiazuri at students.wisc.edu  Sat Mar 25 09:21:23 2000
From: rdiazuri at students.wisc.edu (Ramon Diaz-Uriarte)
Date: Sat, 25 Mar 2000 09:21:23 +0100
Subject: [R] is this a bug? problem saving and restoring coxph objects
In-Reply-To: <x23dqc5obk.fsf@blueberry.kubism.ku.dk>
References: <x23dqc5obk.fsf@blueberry.kubism.ku.dk>
Message-ID: <00032509402902.00450@ligarto>

I am using R 1.0.0 on Linux, and I am running into a problem with coxph objects
(library survival5).

If I fit a model that includes a frailty term with sparse=F (e.g
my.model<-coxph(Surv(t,censor)~trt+frailty(id,sparse=F))),

when I try to save all the objects (e.g., save.image()) I get the error:

> save.image()
Error in save(list = ls(all.names = TRUE), file = ".RData", oldstyle = FALSE) : 
	NewWriteItem: unknown type 17


If I then remove that object, I (_almost_ always) can save the current
environment (which includes other objects) and apparently exit normally.
However, when I try to restart R I get:

Error: NewReadItem: unknown type -253
Fatal error: unable to restore saved data
 (remove .RData or increase memory)

(the number after "unknown type" tends not to be the same; last two I got are
925958144 and 825307136).

Now, if I do "save.image(oldstyle=T)" I can apparently save the environment
without trouble. BUT when I try to restart R I get:

Process R segmentation fault at Sat Mar 25 09:29:13 2000

This makes for a rather disturbing problem because not even deleting the
apparently offending objects fixes the problem of restoring the current
environment.

This seems like a bug. Where should I report it? Is there a workaround?

Ramon


-- 
Ramon Diaz-Uriarte
Dept. Zoology and Statistics
University of Wisconsin-Madison
Madison, WI 53706

email: rdiazuri at students.wisc.edu
phone: 608-238-8041
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Mar 25 17:55:33 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Mar 2000 17:55:33 +0100
Subject: [R] is this a bug? problem saving and restoring coxph objects
In-Reply-To: Ramon Diaz-Uriarte's message of "Sat, 25 Mar 2000 09:21:23 +0100"
References: <x23dqc5obk.fsf@blueberry.kubism.ku.dk> <00032509402902.00450@ligarto>
Message-ID: <x2hfdvdm62.fsf@blueberry.kubism.ku.dk>

Ramon Diaz-Uriarte <rdiazuri at students.wisc.edu> writes:

> I am using R 1.0.0 on Linux, and I am running into a problem with coxph objects
> (library survival5).
> 
> If I fit a model that includes a frailty term with sparse=F (e.g
> my.model<-coxph(Surv(t,censor)~trt+frailty(id,sparse=F))),
> 
> when I try to save all the objects (e.g., save.image()) I get the error:
> 

It certainly quacks like a bug and walks like a bug...

Does your example work (or rather: not work) with any old values of
the variables t, censor, trt and id? If not could you provide us with
a set of values that provokes the crash on your machine?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Sat Mar 25 18:34:39 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Sat, 25 Mar 2000 09:34:39 -0800 (PST)
Subject: [R] is this a bug? problem saving and restoring coxph objects
In-Reply-To: <x2hfdvdm62.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.21.0003250928100.20115-100000@mail.biostat.washington.edu>

On 25 Mar 2000, Peter Dalgaard BSA wrote:

> Ramon Diaz-Uriarte <rdiazuri at students.wisc.edu> writes:
> 
> > I am using R 1.0.0 on Linux, and I am running into a problem with coxph objects
> > (library survival5).
> > 
> > If I fit a model that includes a frailty term with sparse=F (e.g
> > my.model<-coxph(Surv(t,censor)~trt+frailty(id,sparse=F))),
> > 
> > when I try to save all the objects (e.g., save.image()) I get the error:
> > 
> 
> It certainly quacks like a bug and walks like a bug...
> 
> Does your example work (or rather: not work) with any old values of
> the variables t, censor, trt and id? If not could you provide us with
> a set of values that provokes the crash on your machine?

An example on my machine is

	library(survival5)
	data(rats)
	rfit2a <- survreg(Surv(time, status) ~ rx + frailty(litter,df =
                     13, sparse = T), data = rats) 


so it doesn't even require sparse=F. It doesn't seem to happen with
frailty.gaussian, but I can't be sure since it doesn't happen with all
examples.


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Sat Mar 25 19:39:41 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Sat, 25 Mar 2000 10:39:41 -0800 (PST)
Subject: [R] is this a bug? problem saving and restoring coxph objects
In-Reply-To: <00032509402902.00450@ligarto>
Message-ID: <Pine.GSO.4.21.0003251035040.21729-100000@mail.biostat.washington.edu>

On Sat, 25 Mar 2000, Ramon Diaz-Uriarte wrote:

> I am using R 1.0.0 on Linux, and I am running into a problem with coxph objects
> (library survival5).
> 
> If I fit a model that includes a frailty term with sparse=F (e.g
> my.model<-coxph(Surv(t,censor)~trt+frailty(id,sparse=F))),
> 
> when I try to save all the objects (e.g., save.image()) I get the error:
> 
> > save.image()
> Error in save(list = ls(all.names = TRUE), file = ".RData", oldstyle = FALSE) : 
> 	NewWriteItem: unknown type 17
> 
> 


> This seems like a bug. Where should I report it? Is there a workaround?


The following change to frailty() seems to work. 
 frailty <- function(x,distribution = 'gamma', ...) {
    dlist <- c("gamma", "gaussian", "t")
    i <- pmatch(distribution, dlist)
    if (!is.na(i)) distribution <- dlist[i]
    temp <- paste("frailty", distribution, sep='.')
    if (!exists(temp))
            stop(paste("Function '", temp, "' not found", sep=""))
    ##(get(temp))(x, ...)
    m<-match.call()
    m$distribution<-NULL
    m[[1]]<-as.name(temp)
    eval(m,sys.frame(sys.parent()))
    }
        		  
Also, it seems that the bug does not occur if you specify the frailty
distribution explicitly like this 

rfit2a <- survreg(Surv(time, status) ~ rx + frailty.gamma(litter, df=13,
sparse=F), rats )

ie, say frailty.gamma() or frailty.gaussian() rather than using frailty().

I say "seems" because I don't really understand why this fix works.


	-thomas


Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Sat Mar 25 21:31:54 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Sat, 25 Mar 2000 12:31:54 -0800 (PST)
Subject: [R] is this a bug? problem saving and restoring coxph objects
In-Reply-To: <Pine.GSO.4.21.0003251035040.21729-100000@mail.biostat.washington.edu>
Message-ID: <Pine.GSO.4.21.0003251223390.22429-100000@mail.biostat.washington.edu>

On Sat, 25 Mar 2000, Thomas Lumley wrote:

> On Sat, 25 Mar 2000, Ramon Diaz-Uriarte wrote:
> 
> > I am using R 1.0.0 on Linux, and I am running into a problem with coxph objects
> > (library survival5).
> > 
> > If I fit a model that includes a frailty term with sparse=F (e.g
> > my.model<-coxph(Surv(t,censor)~trt+frailty(id,sparse=F))),
> > 
> > when I try to save all the objects (e.g., save.image()) I get the error:
> > 
> > > save.image()
> > Error in save(list = ls(all.names = TRUE), file = ".RData", oldstyle = FALSE) : 
> > 	NewWriteItem: unknown type 17
> > 
> > 
> 
> 
> > This seems like a bug. Where should I report it? Is there a workaround?
> 

This is actually two different bugs in the save/load code.

The first is that it cannot currently handle unevaluated ... argument.
Either of the workarounds I posted previously will fix this by removing
the unevaluated ... argument. This is what causes the 'unknown type 17'
error

The second is that an error while saving a file leads to the file being
improperly closed.  If you later save another file with the same name
there can be problems when R exits.  This causes the problems you have
after deleting the object.  The workarounds will stop this by preventing
the initial error.

If for some other reason you have an error while saving a file you should
a) delete the partially saved file
eg
  unlink(".RData")
and try again

or

b) save the file with a different name
  save.image(file=".aDifferentName")
and rename it after leaving R.
  mv .aDifferentName .RData


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rdiazuri at students.wisc.edu  Sat Mar 25 16:22:41 2000
From: rdiazuri at students.wisc.edu (Ramon Diaz-Uriarte)
Date: Sat, 25 Mar 2000 16:22:41 +0100
Subject: [R] is this a bug? problem saving and restoring coxph objects
In-Reply-To: <Pine.GSO.4.21.0003251223390.22429-100000@mail.biostat.washington.edu>
References: <Pine.GSO.4.21.0003251223390.22429-100000@mail.biostat.washington.edu>
Message-ID: <00032516243700.01235@ligarto>

Thank you very much to Thomas Lumley for the workarounds!

Ramon

On Sat, 25 Mar 2000, you wrote:
> On Sat, 25 Mar 2000, Thomas Lumley wrote:
> 
> > On Sat, 25 Mar 2000, Ramon Diaz-Uriarte wrote:
> > 
> > > I am using R 1.0.0 on Linux, and I am running into a problem with coxph objects
> > > (library survival5).
> > > 
> > > If I fit a model that includes a frailty term with sparse=F (e.g
> > > my.model<-coxph(Surv(t,censor)~trt+frailty(id,sparse=F))),
> > > 
> > > when I try to save all the objects (e.g., save.image()) I get the error:
> > > 
> > > > save.image()
> > > Error in save(list = ls(all.names = TRUE), file = ".RData", oldstyle = FALSE) : 
> > > 	NewWriteItem: unknown type 17
> > > 
> > > 
> > 
> > 
> > > This seems like a bug. Where should I report it? Is there a workaround?
> > 
> 
> This is actually two different bugs in the save/load code.
> 
> The first is that it cannot currently handle unevaluated ... argument.
> Either of the workarounds I posted previously will fix this by removing
> the unevaluated ... argument. This is what causes the 'unknown type 17'
> error
> 
> The second is that an error while saving a file leads to the file being
> improperly closed.  If you later save another file with the same name
> there can be problems when R exits.  This causes the problems you have
> after deleting the object.  The workarounds will stop this by preventing
> the initial error.
> 
> If for some other reason you have an error while saving a file you should
> a) delete the partially saved file
> eg
>   unlink(".RData")
> and try again
> 
> or
> 
> b) save the file with a different name
>   save.image(file=".aDifferentName")
> and rename it after leaving R.
>   mv .aDifferentName .RData
> 
> 
> 	-thomas
> 
> Thomas Lumley
> Assistant Professor, Biostatistics
> University of Washington, Seattle
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Mar 26 08:32:40 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 26 Mar 2000 07:32:40 +0100 (BST)
Subject: [R] CART and the `tree' contrib package
In-Reply-To: <Pine.LNX.4.21.0003201252190.451-100000@Chrestomanci.home.earth>
Message-ID: <Pine.GSO.4.05.10003260730090.2839-100000@auk.stats>

On Mon, 20 Mar 2000, Faheem Mitha wrote:

> Dear R people,
> 
> I was recently reading the book `Classification and Regression Trees' by
> Breiman. This book talks about the CART program. Both Splus and R have
> implementations of this. However, the book talks about the possibility of

No, they don't.  CART is a trademark. Both S and R have tree-based
modelling (tree) and something similar to CART (rpart).

> extending the existing `standard' set of questions (for continuous
> variables, these are of the form X < c where X is the variable, c some
> const) to questions of the form (for continuous variables) 
> sum over i a_i X_i < c where X_i are the cont. variables, a_i and c
> consts.
> 
> However, this extended set is not implemented in either the R `tree'
> package nor the Splus one, to the best of my knowledge. (I believe there
> is some original CART package, but I don't know about that). Anyway, I was
> wondering why not. Does anyone know?

Because it is very much harder to optimize over such splits, and the CART
program is not very good at this.  There exists many other variations on th
this theme: see my PRNN book.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Mar 26 10:18:08 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 26 Mar 2000 09:18:08 +0100 (BST)
Subject: [R]: multinom()
In-Reply-To: <38D6565D.3DD3599F@esb.ucp.pt>
Message-ID: <Pine.GSO.4.05.10003260914400.2875-100000@auk.stats>

On Mon, 20 Mar 2000, Peter Ho wrote:

> Dear R users,
> 
> Does anyone know if it is possible to use multinom to do a polychotomous
> fit using one categorical  and one numeric variable as response. The
> doc. for multinom states that for formula , response can be K>2 classes.
> Is this 2 and more, or as I have understood it only greater than 2. I
> have tried fitting my data, but have only encountered error messages.

It does work for K=2, but is not recommended. But what you want is not
a polychotomous fit, as that has only categories.
 
> On another note, Is it possible to get a set of discriminant scores for
> the multinom fit using predict.nnet or some other function like for lda
> using predict.lda?

Um, what do such scores mean? You can hack predict.multinom to do this,
but only differences in scores are relevant. It fits probabilities, only.	


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Sun Mar 26 14:31:20 2000
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Sun, 26 Mar 2000 07:31:20 -0500 (EST)
Subject: [R] very simple repeated measures, newbie questions
Message-ID: <200003261231.HAA01495@cattell.psych.upenn.edu>

Suppose I do a psychology experiment in which each of six
subjects does several items in each of five fixed conditions, A,
B, C, D, and E.  The items are randomized separately for each
subject, so I can ignore order.  All I want to know is whether
the five conditions differ.  The data look like this.  Each row
is a subject, and each number is the score in the given
condition.

A  B  C  D  E
4  1  5 10 10
9  2 10  7  7
6  3  7  8  8
7  4  9  8  9
6  3  7  8  9
3  2  5  7  7

Question 1:  This is the simplest possible repeated measures
design.  It should yield F(4,24)=16.033 for the effect of
condition.  (The example is from the Systat manual, slightly
changed.)  How do I show this with R?

Question 2:  I would like a graph in which each line is a
subject, and the abscissa is labeled A B C D E.  Thus, one line
would connect the points 4 1 5 10 10.  Another would connect 9 2
10 7 7, and so on.  (Systat calls this a parallel plot, and I
have come to find it very useful for a first look at data.)  Can
this be done in R?

Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~jbaron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Sun Mar 26 14:42:43 2000
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Sun, 26 Mar 2000 07:42:43 -0500 (EST)
Subject: [R] very simple repeated measures, newbie questions
Message-ID: <200003261242.HAA01661@cattell.psych.upenn.edu>

Suppose I do a psychology experiment in which each of six
subjects does several items in each of five fixed conditions, A,
B, C, D, and E.  The items are randomized separately for each
subject, so I can ignore order.  All I want to know is whether
the five conditions differ.  The data look like this.  Each row
is a subject, and each number is the score in the given
condition.

A  B  C  D  E
4  1  5 10 10
9  2 10  7  7
6  3  7  8  8
7  4  9  8  9
6  3  7  8  9
3  2  5  7  7

Question 1:  This is the simplest possible repeated measures
design.  It should yield F(4,24)=16.033 for the effect of
condition.  (The example is from the Systat manual, slightly
changed.)  How do I show this with R?

Question 2:  I would like a graph in which each line is a
subject, and the abscissa is labeled A B C D E.  Thus, one line
would connect the points 4 1 5 10 10.  Another would connect 9 2
10 7 7, and so on.  (Systat calls this a parallel plot, and I
have come to find it very useful for a first look at data.)  Can
this be done in R?

Jonathan Baron, Professor of Psychology, University of Pennsylvania
Home page: http://www.sas.upenn.edu/~jbaron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Mar 26 17:07:50 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 26 Mar 2000 16:07:50 +0100 (BST)
Subject: [R] very simple repeated measures, newbie questions
In-Reply-To: <200003261231.HAA01495@cattell.psych.upenn.edu>
Message-ID: <Pine.GSO.4.05.10003261547350.26560-100000@auk.stats>

On Sun, 26 Mar 2000, Jonathan Baron wrote:

> Suppose I do a psychology experiment in which each of six
> subjects does several items in each of five fixed conditions, A,
> B, C, D, and E.  The items are randomized separately for each
> subject, so I can ignore order.  All I want to know is whether
> the five conditions differ.  The data look like this.  Each row
> is a subject, and each number is the score in the given
> condition.
> 
> A  B  C  D  E
> 4  1  5 10 10
> 9  2 10  7  7
> 6  3  7  8  8
> 7  4  9  8  9
> 6  3  7  8  9
> 3  2  5  7  7
> 
> Question 1:  This is the simplest possible repeated measures
> design.  It should yield F(4,24)=16.033 for the effect of
> condition.  (The example is from the Systat manual, slightly
> changed.)  How do I show this with R?

There are some choices, but the simplest would be
>  score <- scan()
1: 4  1  5 10 10
6: 9  2 10  7  7
11: 6  3  7  8  8
16: 7  4  9  8  9
21: 6  3  7  8  9
26: 3  2  5  7  7
31: 
Read 30 items
> condition <- rep(LETTERS[1:5], len=30)
> subject <- rep(1:6, rep(5,6))
> df <- data.frame(subject=factor(subject), condition, score)
> summary(aov(score ~ subject + condition, data=df))
            Df  Sum Sq Mean Sq F value    Pr(>F)
subject      5  20.567   4.113  1.9618    0.1287
condition    4 134.467  33.617 16.0334 4.969e-06
Residuals   20  41.933   2.097                  

Technically, I think you might want a random-effects analysis,

> summary(aov(score ~ condition + Error(subject), data=df))

but with such a simple design they are the same analysis.

> Question 2:  I would like a graph in which each line is a
> subject, and the abscissa is labeled A B C D E.  Thus, one line
> would connect the points 4 1 5 10 10.  Another would connect 9 2
> 10 7 7, and so on.  (Systat calls this a parallel plot, and I
> have come to find it very useful for a first look at data.)  Can
> this be done in R?

Yes. (I guess you'd like to know how?)  Here is one way:

plot(c(1,5), range(score), type="n", xaxt="n", xlab="condition",
     ylab="score")
axis(1, at=1:5, labels=LETTERS[1:5])
for(i in 1:6) lines(1:5, score[subject==i], type="o")

Perhaps a simpler one is

matplot(matrix(score, 5), type="l", xaxt="n")
axis(1, at=1:5, labels=LETTERS[1:5])


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From naumov at acsu.buffalo.edu  Sun Mar 26 21:47:24 2000
From: naumov at acsu.buffalo.edu (Aleksey Naumov)
Date: Sun, 26 Mar 2000 14:47:24 -0500
Subject: [R] hist2d() function in R?
Message-ID: <38DE694B.F48AFF7D@acsu.buffalo.edu>

Dear R users,

I am just starting with R (v. 1.0.0) and I use Vehables & Ripley's
MASS book for examples.
In the intro session, there is an example of a 2D histogram on an 8x8
grid:

x <- rnorm(1000)
y <- rnorm(1000)
contour(hist2d(x,y,,,8,8))

R complains:

Error in contour(hist2d(x, y, , , 8, 8)) :
        couldn't find function "hist2d"

I looked for hist2d() in the manual (including the latest development
version), but didn't
find it. Is there such a function or a suitable substitute?

Thank you!
Aleksey



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eford at eford.student.princeton.edu  Sun Mar 26 21:49:50 2000
From: eford at eford.student.princeton.edu (Eric Ford)
Date: Sun, 26 Mar 2000 14:49:50 -0500
Subject: [R] LaTeX labels
Message-ID: <200003261949.OAA30144@eford.student.Princeton.EDU>

Is there a way to label axes with LaTeX commands like \frac{M}{M_{\odot}} or v_{\rm Cluster} (10^3 km s^{-1}) and have them come out looking right?

Please CC eford at princeton.edu.

Thanks,
--
Eric Ford                                         eford at princeton.edu
http://www.princeton.edu/~eford/                  eford at mad.scientist.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Mar 26 22:25:53 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Mar 2000 22:25:53 +0200
Subject: [R] hist2d() function in R?
In-Reply-To: Aleksey Naumov's message of "Sun, 26 Mar 2000 14:47:24 -0500"
References: <38DE694B.F48AFF7D@acsu.buffalo.edu>
Message-ID: <x2hfdtbhri.fsf@blueberry.kubism.ku.dk>

Aleksey Naumov <naumov at acsu.buffalo.edu> writes:

> Dear R users,
> 
> I am just starting with R (v. 1.0.0) and I use Vehables & Ripley's
> MASS book for examples.
> In the intro session, there is an example of a 2D histogram on an 8x8
> grid:
> 
> x <- rnorm(1000)
> y <- rnorm(1000)
> contour(hist2d(x,y,,,8,8))
> 
> R complains:
> 
> Error in contour(hist2d(x, y, , , 8, 8)) :
>         couldn't find function "hist2d"
> 
> I looked for hist2d() in the manual (including the latest development
> version), but didn't
> find it. Is there such a function or a suitable substitute?

I don't have V&R with me, but does this look somewhat right?

contour(table(cut(x,pretty(x,8)),cut(y,pretty(y,8))))

[of course the table() construction won't actually plot a 2d histogram...]

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Mar 26 22:30:49 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Mar 2000 22:30:49 +0200
Subject: [R] LaTeX labels
In-Reply-To: Eric Ford's message of "Sun, 26 Mar 2000 14:49:50 -0500"
References: <200003261949.OAA30144@eford.student.Princeton.EDU>
Message-ID: <x2em8xbhja.fsf@blueberry.kubism.ku.dk>

Eric Ford <eford at eford.student.princeton.edu> writes:

> Is there a way to label axes with LaTeX commands like
> \frac{M}{M_{\odot}} or v_{\rm Cluster} (10^3 km s^{-1}) and have
> them come out looking right?
> 

Is help(plotmath) what you're looking for? (\odot may be tricky, though)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Mar 27 08:20:32 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 27 Mar 2000 07:20:32 +0100 (BST)
Subject: [R] hist2d() function in R?
In-Reply-To: <38DE694B.F48AFF7D@acsu.buffalo.edu>
Message-ID: <Pine.GSO.4.05.10003270713260.13212-100000@auk.stats>

On Sun, 26 Mar 2000, Aleksey Naumov wrote:

> Dear R users,
> 
> I am just starting with R (v. 1.0.0) and I use Vehables & Ripley's
> MASS book for examples.
> In the intro session, there is an example of a 2D histogram on an 8x8
> grid:
> 
> x <- rnorm(1000)
> y <- rnorm(1000)
> contour(hist2d(x,y,,,8,8))

Not in the current edition of MASS!  (Not even in the 1997 second edition.)
Also, that is not a 2D histogram, but a 2D density plot. (The comment
refers to that and the next two lines.)

> R complains:
> 
> Error in contour(hist2d(x, y, , , 8, 8)) :
>         couldn't find function "hist2d"
> 
> I looked for hist2d() in the manual (including the latest development
> version), but didn't
> find it. Is there such a function or a suitable substitute?

The R scripts for MASS3 (in the MASS package in the VR bundle) have

x <- rnorm(1000)
y <- rnorm(1000)
dd <- kde2d(x,y)
contour(dd)
persp(dd, theta=-30, phi=30, d=5)
image(dd)

which does work in R, and is a much improved substitute.

In general, if you want to use MASS with R you need the 1999 edition and
to look at the scripts for R (and the on-line R complements).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjantti at ra.abo.fi  Mon Mar 27 09:31:10 2000
From: mjantti at ra.abo.fi (Markus Jantti)
Date: Mon, 27 Mar 2000 10:31:10 +0300
Subject: [R] LaTeX labels
In-Reply-To: <x2em8xbhja.fsf@blueberry.kubism.ku.dk>; from Peter Dalgaard BSA on Sun, Mar 26, 2000 at 10:30:49PM +0200
References: <200003261949.OAA30144@eford.student.Princeton.EDU> <x2em8xbhja.fsf@blueberry.kubism.ku.dk>
Message-ID: <20000327103110.07106@medusa.abo.fi>

Thus spake Peter Dalgaard BSA (p.dalgaard at biostat.ku.dk):

> Eric Ford <eford at eford.student.princeton.edu> writes:
> 
> > Is there a way to label axes with LaTeX commands like
> > \frac{M}{M_{\odot}} or v_{\rm Cluster} (10^3 km s^{-1}) and have
> > them come out looking right?
> > 
> 
> Is help(plotmath) what you're looking for? (\odot may be tricky, though)

If the R math commands are insufficient for your purposes and you
intend to include the plots in a LaTeX document (as EPS files), you
can use psfrag instead or in addition to what R produces. See the
documentation for psfrag (can be found in a standard tetex
installation) or search for psfrag on the TeX FAQ:
 
http://www.tex.ac.uk/cgi-bin/texfaq2html

Markus
-- 
Markus Jantti				|	Department of Statistics
markus.jantti at abo.fi			|	Abo Akademi University
http://www.abo.fi/~mjantti		|	FIN 20500 Turku, Finland
358-9-643 747  (Home/Voice)		|	358-2-2154 161	(Office/Voice)
					|	358-2-2154 677	(Office/Fax)
PGP public key: http://www.abo.fi/~mjantti/pubring.asc
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter at esb.ucp.pt  Mon Mar 27 13:05:13 2000
From: peter at esb.ucp.pt (Peter Ho)
Date: Mon, 27 Mar 2000 12:05:13 +0100
Subject: [R]: multinom()
References: <Pine.GSO.4.05.10003260914400.2875-100000@auk.stats>
Message-ID: <38DF4069.9FB12355@esb.ucp.pt>

Prof Brian D Ripley wrote:

> > On another note, Is it possible to get a set of discriminant scores for
> > the multinom fit using predict.nnet or some other function like for lda
> > using predict.lda?
>
> Um, what do such scores mean? You can hack predict.multinom to do this,
> but only differences in scores are relevant. It fits probabilities, only.

What I wanted here was for some way to have a graphical view of a logistic
discrimination, like lda does with plotting discriminant scores. Most non
statisticians find graphical display of results easier to understand. Many
Journals prefer graphics instead of tables to show results.

Apologies for my ignorance. I have never used Logistic discrimination before
and I am still trying to understand some of the concepts.

Thanks

Peter

-----------------------------------
Peter Ho
Escola Superior de Biotecnologia
Universidade Cat?lica Portuguesa
Rua Dr. Ant?nio Bernardino de Almeida
4200-072 Porto
Portugal




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Patrik.Waldmann at sysbot.lu.se  Mon Mar 27 13:50:48 2000
From: Patrik.Waldmann at sysbot.lu.se (Patrik Waldmann)
Date: Mon, 27 Mar 2000 13:50:48 +0200
Subject: [R] Delta method
Message-ID: <000701bf97e2$b1f7e6c0$2795eb82@patrikwpc>

Anyone having a function that uses the Delta method (i.e. Taylor expansion) to estimate standard errors around linear combinations of estimates and their s.e.s.?

Patrik Waldmann
Department of Systematic botany
University of Lund
Ostra Vallgatan 18-20
223 61 Lund
Sweden
E-mail: Patrik.Waldmann at sysbot.lu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lvssso at bioinfo.weizmann.ac.il  Mon Mar 27 15:55:33 2000
From: lvssso at bioinfo.weizmann.ac.il (Shai Shen-Orr)
Date: Mon, 27 Mar 2000 16:55:33 +0300
Subject: [R] Installing R on Solaris
Message-ID: <38DF6855.D2A6A2F9@bioinfo.weizmann.ac.il>

Hi, 

I've been trying to install R on Solaris, I've been following the
instruction for configuring & compiling R (I have gcc and f77
installed)- but I get Error messages.  I'd appreciate it if you could
look at the output, (pasted below) and give me some advice on what to
do.  I've attached the R install 'readme'.


	Thanks, a quick reply would be greatly appreciated,

	Shai

egoz [15:46] /opt/local/R-1.0.0 % make
make[1]: Entering directory `/opt/local/R-1.0.0/tools'
make[1]: Nothing to be done for `R'.
make[1]: Leaving directory `/opt/local/R-1.0.0/tools'
make[1]: Entering directory `/opt/local/R-1.0.0/afm'
make[1]: Leaving directory `/opt/local/R-1.0.0/afm'
make[1]: Entering directory `/opt/local/R-1.0.0/doc'
make[1]: Leaving directory `/opt/local/R-1.0.0/doc'
make[1]: Entering directory `/opt/local/R-1.0.0/etc'
make[1]: Leaving directory `/opt/local/R-1.0.0/etc'
make[1]: Entering directory `/opt/local/R-1.0.0/src'
make[2]: Entering directory `/opt/local/R-1.0.0/src/scripts'
mkdir ../../bin
make[2]: Leaving directory `/opt/local/R-1.0.0/src/scripts'
make[2]: Entering directory `/opt/local/R-1.0.0/src/include'
mkdir ../../include
mkdir ../../include/R_ext
make[2]: Leaving directory `/opt/local/R-1.0.0/src/include'
make[2]: Entering directory `/opt/local/R-1.0.0/src/appl'
make[3]: Entering directory `/opt/local/R-1.0.0/src/appl'
making Rsock.d from Rsock.c
making S_compat.d from S_compat.c
making approx.d from approx.c
making bakslv.d from bakslv.c
making binning.d from binning.c
making chisqsim.d from chisqsim.c
making chull.d from chull.c
making cpoly.d from cpoly.c
making cumsum.d from cumsum.c
making distance.d from distance.c
making fft.d from fft.c
making fmin.d from fmin.c
making fortran.d from fortran.c
making lbfgsb.d from lbfgsb.c
making loglin.d from loglin.c
making lowess.d from lowess.c
making machar.d from machar.c
making massdist.d from massdist.c
making pretty.d from pretty.c
making pythag.d from pythag.c
making rowsum.d from rowsum.c
making sock.d from sock.c
In file included from /usr/include/sys/turnstile.h:12,
                 from /usr/include/sys/t_lock.h:20,
                 from /usr/include/sys/vnode.h:37,
                 from /usr/include/sys/stream.h:21,
                 from /usr/include/netinet/in.h:38,
                 from /usr/include/netdb.h:96,
                 from sock.c:49:
/usr/local/lib/gcc-lib/sparc-sun-solaris2.5.1/2.7.2.3/include/sys/param.h:187:
warning: `NBBY' redefined
/usr/include/sys/select.h:45: warning: this is the location of the
previous definition
In file included from /usr/include/sys/stream.h:26,
                 from /usr/include/netinet/in.h:38,
                 from /usr/include/netdb.h:96,
                 from sock.c:49:
/usr/include/sys/model.h:32: #error "No DATAMODEL_NATIVE specified"
make[3]: *** [sock.d] Error 1
make[3]: Leaving directory `/opt/local/R-1.0.0/src/appl'
make[2]: *** [R] Error 2
make[2]: Leaving directory `/opt/local/R-1.0.0/src/appl'
make[1]: *** [R] Error 1
make[1]: Leaving directory `/opt/local/R-1.0.0/src'
make: *** [R] Error 1

Shai Shen-Orr          
Crown Human Genome Center and Bioinformatics Unit,
Weizmann Institute of Science
Home page and more contact info: http://bioinfo.weizmann.ac.il/~lvssso
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Mar 27 18:56:17 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 27 Mar 2000 17:56:17 +0100 (BST)
Subject: [R] Installing R on Solaris
Message-ID: <200003271656.RAA05047@toucan.stats.ox.ac.uk>


> Date: Mon, 27 Mar 2000 16:55:33 +0300
> From: Shai Shen-Orr <lvssso at bioinformatics.weizmann.ac.il>
> X-Accept-Language: en
> To: r-help at stat.math.ethz.ch
> Subject: [R] Installing R on Solaris
> 
> Hi, 
> 
> I've been trying to install R on Solaris, I've been following the
> instruction for configuring & compiling R (I have gcc and f77
> installed)- but I get Error messages.  I'd appreciate it if you could
> look at the output, (pasted below) and give me some advice on what to
> do.  I've attached the R install 'readme'.

I've seen this. Is your version of Solaris actually 2.5.1?  The system
I saw it on had the wrong version of gcc for its Solaris. The messages
indicate that it does not know if you are using 32-bit or 64-bit Solaris.

Also gcc 2.7.2.3 is rather old these days, and had its own private
header files: 2.8.1 and 2.95.2 are less susceptible to such problems.
(And the correct /usr/include/sys/param.h has 
#ifndef NBBY
#define NBBY    8                       /* number of bits per byte */
#endif
)
I suggest installing gcc 2.95.2.


> making sock.d from sock.c
> In file included from /usr/include/sys/turnstile.h:12,
>                  from /usr/include/sys/t_lock.h:20,
>                  from /usr/include/sys/vnode.h:37,
>                  from /usr/include/sys/stream.h:21,
>                  from /usr/include/netinet/in.h:38,
>                  from /usr/include/netdb.h:96,
>                  from sock.c:49:
> /usr/local/lib/gcc-lib/sparc-sun-solaris2.5.1/2.7.2.3/include/sys/param.h:187:
> warning: `NBBY' redefined
> /usr/include/sys/select.h:45: warning: this is the location of the
> previous definition
> In file included from /usr/include/sys/stream.h:26,
>                  from /usr/include/netinet/in.h:38,
>                  from /usr/include/netdb.h:96,
>                  from sock.c:49:
> /usr/include/sys/model.h:32: #error "No DATAMODEL_NATIVE specified"
> make[3]: *** [sock.d] Error 1
> make[3]: Leaving directory `/opt/local/R-1.0.0/src/appl'
> make[2]: *** [R] Error 2
> make[2]: Leaving directory `/opt/local/R-1.0.0/src/appl'
> make[1]: *** [R] Error 1
> make[1]: Leaving directory `/opt/local/R-1.0.0/src'
> make: *** [R] Error 1

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kmself at ix.netcom.com  Mon Mar 27 21:24:15 2000
From: kmself at ix.netcom.com (kmself@ix.netcom.com)
Date: Mon, 27 Mar 2000 11:24:15 -0800
Subject: [R] Project Proposal: The Gestalt System
Message-ID: <20000327112415.A14735@ix.netcom.com>

The Gestalt System project aims to develop a free, Open Source,
object-oriented software framework which makes use of other free, Open
Source software tools for the purposes of managing, analysing, and
reporting on quantitative data in a manner which is suited to modern,
networked computing environments in which processor, memory, and storage
resources are abundant but time is scarce and requirements are forever
changing.

The Gestalt System may be of particular interest to R users because
we propose to use R to provide most of the non-elementary statistical
analysis functions as well as some of the graphical facilities. Put
another way, the Gestalt System may become a useful data management
front-end for R users.

Full details of the project proposal can be found in the Gestalt System
Manifesto which is available at http://gestalt-system.sourceforge.net

We welcome any comments or suggestions you may have on the project
proposal - please send them to
gestalt-system-discuss at lists.sourceforge.net

You might want to subscribe to this list or to the low-volume
gestalt-system-news list in order to receive announcements. Please see
the project Web page at http://gestalt-system.sourceforge.net for
details of how to subscribe.

If you wish your feedback to be kept private, you can respond to the
authors of the project proposal: Tim Churches at tchur at bigpond.com and
Karsten M. Self at kmself at ix.netcom.com

Please note that the Reply-To address of this message is set to
gestalt-system-discuss at lists.sourceforge.net which means that your reply
will by default be distributed to all subscribers to this list. You may
wish to change the address to tchur at bigpond.com and/or
kmself at ix.netcom.com if you prefer that your reply remain confidential.

Regards,

Tim Churches (tchur at bigpond.com)
 and
Karsten M. Self (kmself at ix.netcom.com)

-- 
Karsten M. Self (kmself at ix.netcom.com)
    What part of "Gestalt" don't you understand?
    http://gestalt-system.sourceforge.net/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Mon Mar 27 22:56:23 2000
From: s-luppescu at uchicago.edu (Stuart Luppescu)
Date: Mon, 27 Mar 2000 14:56:23 -0600 (CST)
Subject: [R] Behavior different inside function?
Message-ID: <XFMail.000327145623.s-luppescu@uchicago.edu>

I'm stumped with this. When I execute the lines in the function singly, they
run fine, but when I run the function, I get this error on the read.table()
line:
Error in count.fields(file, sep, quote, skip) : 
        can't open file fspci1.dat

Can anyone tell my why this should be so? Here is the program:

library(rpart)

wait <- function(str="Press a key when ready...")
 readline(str)

doit <- function (fn=" ", sesnum, tit=" ", fm=" ") {
  dsn <- paste(fn, sesnum, ".dat", sep="", collapse=NULL)
  psn <- paste(fn, sesnum, ".ps", sep="", collapse=NULL)
  fm1 <- as.formula(fm)
  ds <- read.table(file=dsn, header=T)
  rownames(ds) <- ds$unit
  nmavgres <- ds$mavgres * 1000
  nravgres <- ds$ravgres * 1000
  ds.mrpt <- rpart(formula=fm1, data=ds, control=rpart.control(minbucket=20))
  plot(prune(ds.mrpt, cp=0.018))
  text(prune(ds.mrpt, cp=0.018), digits=2)
  wait()
  plotcp(ds.mrpt)
  wait()
  post.rpart(prune(ds.mrpt, cp=0.018),
             title=c(tit, paste("SES Quartile", sesnum, sep=" ",
collapse=NULL)), pretty=0,
             filename=psn, horizontal=F, height=9, digits=3, pointsize=10)
}

doit("fspci", 1, "Parent Involvement (S)", "nmavgres ~ sbpisc97 + sbpsup97 +
sbigcl97 + sbpars97")
           
I'm running R 1.0.0 on Linux (intel). Thanks.
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl/sl.html
ICQ #21172047  AIM: psycho7070
"The chain which can be yanked is not the eternal chain."
-- G. Fitch
>> Sent on 27-Mar-00 at 14:46:49 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Mar 27 23:52:01 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Mar 2000 23:52:01 +0200
Subject: [R] Behavior different inside function?
In-Reply-To: Stuart Luppescu's message of "Mon, 27 Mar 2000 14:56:23 -0600 (CST)"
References: <XFMail.000327145623.s-luppescu@uchicago.edu>
Message-ID: <x2ln34cc8u.fsf@blueberry.kubism.ku.dk>

Stuart Luppescu <s-luppescu at uchicago.edu> writes:

> I'm stumped with this. When I execute the lines in the function singly, they
> run fine, but when I run the function, I get this error on the read.table()
> line:
> Error in count.fields(file, sep, quote, skip) : 
>         can't open file fspci1.dat

Stupid question #1: did you type in the name correctly? Is there
really an fspci1.dat in your working directory?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Mon Mar 27 23:53:35 2000
From: s-luppescu at uchicago.edu (Stuart Luppescu)
Date: Mon, 27 Mar 2000 15:53:35 -0600 (CST)
Subject: [R] Ignore my last message
Message-ID: <XFMail.000327155335.s-luppescu@uchicago.edu>

Sorry. I found the problem. It was a typo. 
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl/sl.html
ICQ #21172047  AIM: psycho7070
When it's dark enough you can see the stars.
                -- Ralph Waldo Emerson,
>> Sent on 27-Mar-00 at 15:52:55 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From j.logsdon at lancaster.ac.uk  Tue Mar 28 12:29:48 2000
From: j.logsdon at lancaster.ac.uk (John Logsdon)
Date: Tue, 28 Mar 2000 11:29:48 +0100 (GMT)
Subject: [R] Logistic ridge regression ...
Message-ID: <Pine.LNX.4.10.10003281127280.12627-100000@mercury.quantex>

Hi

I have some data (v. large amount) with a (0,1) response where I want to
minimise the errors in the betas rather than SS or deviance.

So can anyone point me to a ridge regression function or equivalent for
such a logistic regression case?

John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Adrian.Trapletti at wu-wien.ac.at  Tue Mar 28 13:52:55 2000
From: Adrian.Trapletti at wu-wien.ac.at (Adrian Trapletti)
Date: Tue, 28 Mar 2000 11:52:55 +0000
Subject: [R] Logistic ridge regression ...
References: <Pine.LNX.4.10.10003281127280.12627-100000@mercury.quantex>
Message-ID: <38E09D17.19EFC469@wu-wien.ac.at>

John Logsdon wrote:

> Hi
>
> I have some data (v. large amount) with a (0,1) response where I want to
> minimise the errors in the betas rather than SS or deviance.
>
> So can anyone point me to a ridge regression function or equivalent for
> such a logistic regression case?

John,

I think you can do that with the nnet code of Brian Ripley. Use the softmax
setting and the weight decay regularizer, which is the same as using a ridge
penalty term, isn't it?

Adrian


--
Adrian Trapletti, Vienna  University  of  Economics  and Business Ad-
ministration, Operations Research,  Augasse 2-6, 1090 Vienna, Austria
Phone: ++43-(0)1-31336-4561     Email: adrian.trapletti at wu-wien.ac.at
Fax: ++43-(0)1-31336-708   WWW: http://quor.wu-wien.ac.at/adrian.html



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.e.darnell at ncl.ac.uk  Tue Mar 28 14:46:55 2000
From: r.e.darnell at ncl.ac.uk (R.E. Darnell)
Date: 28 Mar 2000 13:46:55 +0100
Subject: [R] Logistic ridge regression ...
In-Reply-To: John Logsdon's message of "Tue, 28 Mar 2000 11:29:48 +0100 (GMT)"
References: <Pine.LNX.4.10.10003281127280.12627-100000@mercury.quantex>
Message-ID: <dgkya73dzy8.fsf@scs2.ncl.ac.uk>

John Logsdon <j.logsdon at lancaster.ac.uk> writes:

> 
> I have some data (v. large amount) with a (0,1) response where I want to
> minimise the errors in the betas rather than SS or deviance.
> 
> So can anyone point me to a ridge regression function or equivalent for
> such a logistic regression case?

John

You could start by looking at V&R Examples

http://www.stats.ox.ac.uk/pub/MASS3/VR3ans.zip

There is a small ridge regression problem there. You will need to adapt it to 
the glm case by hacking at the standard glm.fit  function.

Good luck

Ross Darnell
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Tue Mar 28 18:48:37 2000
From: faheem at email.unc.edu (Faheem Mitha)
Date: Tue, 28 Mar 2000 11:48:37 -0500 (EST)
Subject: [R] the function lme in package nlme
Message-ID: <Pine.LNX.4.21.0003281116240.480-100000@Chrestomanci.home.earth>

Dear people,

A somewhat clueless question follows:

I just discovered that the lme function in contrib package nlme for R,
while similar to the lme function in Splus, does not use the cluster
function option. This difference does not appear to be documented in the
V&R `R Complements' file.

I have data which is divided into 6 groups
The lme model is of the form (simplified from the actual model a bit)

y  = a + b x_{ij} + \alpha_i + \beta_i x_{ij} + \epsilon_{ij} 

i = 1,...,6.

where a and b are fixed effects and \alpha and \beta are random effects.

I have a vector of the form

clus = (1,1,1,2,5,6,4,4,4,3,...)'

where the 1, 2 3 are all factors corresponding to different groups (or
clusters in Splus terminology).

In Splus I would use the argument 

(...,cluster = clus,...) 

I thought that the equivalent thing to do in R is to use a argument of the
form

(...,correlation = groups,...)

where groups is a CorStruct object of the class corSymm, where groups is
obtained by

groups <- corSymm(form = ~ 1 | clus)
groups <- initialize(groups, data = labor.df)

Unfortunately this appears to be wrong, since I get the error

**********************************************************************
Error in lme.formula(fixed = earning ~ edu + job.pres + age, random = ~1 +
: 
	Incompatible formulas for groups in "random" and "correlation"
***********************************************************************

I also don't quite understand what the time covariate in the corSymm
documentation means.

*****************************************************************
form
       a one sided formula of the form ~ t, or ~ t | g, specifying a time
covariate t 
******************************************************************

I am also wondering why the cluster argument was not retained for
compatibility with Splus. Was there a problem with this?

                           Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Mar 28 19:39:53 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 28 Mar 2000 09:39:53 -0800 (PST)
Subject: [R] the function lme in package nlme
In-Reply-To: <Pine.LNX.4.21.0003281116240.480-100000@Chrestomanci.home.earth>
Message-ID: <Pine.GSO.4.21.0003280923580.8325-100000@mail.biostat.washington.edu>

On Tue, 28 Mar 2000, Faheem Mitha wrote:

> Dear people,
> 
> A somewhat clueless question follows:
> 
> I just discovered that the lme function in contrib package nlme for R,
> while similar to the lme function in Splus, does not use the cluster
> function option. This difference does not appear to be documented in the
> V&R `R Complements' file.

This is only a temporary difference.  The nlme library underwent a major
revision between versions 2 and 3.  R has version 3 but many current
versions of S-PLUS still use version 2. I believe you can obtain version 3
for S-PLUS from nlme.stat.wisc.edu.

Mathsoft has slower release cycles with more detailed planning, so it
will take them longer to incorporate the new nlme.
 

> I have data which is divided into 6 groups
> The lme model is of the form (simplified from the actual model a bit)
> 
> y  = a + b x_{ij} + \alpha_i + \beta_i x_{ij} + \epsilon_{ij} 

<snip> 

> I thought that the equivalent thing to do in R is to use a argument of the
> form
> 
> (...,correlation = groups,...)
> 
> where groups is a CorStruct object of the class corSymm, where groups is
> obtained by
> 
> groups <- corSymm(form = ~ 1 | clus)
> groups <- initialize(groups, data = labor.df)
> 

You trying to fit a random intercept _and_ compound symmetric
correlation of the residuals. This is not a good idea.

I think you want

  lme(y~x,random=~x|clus,data=labor.df)

that is, a random intercept and random slope within each cluster, and
independent residuals epsilon_ij

The example in help(lme) is of this type.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From salwin at mitretek.org  Tue Mar 28 21:41:26 2000
From: salwin at mitretek.org (Art Salwin)
Date: Tue, 28 Mar 2000 14:41:26 -0500
Subject: [R] Newbie needs a count() function
Message-ID: <38E10AE6.75B533CE@mitretek.org>

Is there a count() function in R that tells how many
elements of a vector meet a certain criterion?  (Need it for
generating contour plots.)

Currently I use the somewhat cumbersome
count<-length(v[v<7]) to determine, for example, the number
of elements
in v that are <7.  (Note that count<-length(x[v<7]) would
also work,
where x is *any* vector that has the same length as v.)
-- 
Art Salwin
salwin at mitretek.org
(202) 863-2985
(202) 863-2988 (fax)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Mar 28 21:51:50 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 28 Mar 2000 11:51:50 -0800 (PST)
Subject: [R] Newbie needs a count() function
In-Reply-To: <38E10AE6.75B533CE@mitretek.org>
Message-ID: <Pine.GSO.4.21.0003281147340.8325-100000@mail.biostat.washington.edu>

On Tue, 28 Mar 2000, Art Salwin wrote:

> Is there a count() function in R that tells how many
> elements of a vector meet a certain criterion?  (Need it for
> generating contour plots.)
> 
> Currently I use the somewhat cumbersome
> count<-length(v[v<7]) to determine, for example, the number
> of elements

sum(v<7) works, too (if there are no NAs in v, which is necessary for your
version too)

If you are worried about NAs then you can do

length(which(v<7))
or
sum( v<7,na.rm=TRUE)


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Tue Mar 28 23:07:32 2000
From: s-luppescu at uchicago.edu (Stuart Luppescu)
Date: Tue, 28 Mar 2000 15:07:32 -0600 (CST)
Subject: [R] loess.smooth dumps core
Message-ID: <XFMail.000328150732.s-luppescu@uchicago.edu>

Has the loess.smooth() function changed? It used to work, but now it causes R
to abort with a segmentation fault. I stole the function points.lines() from
V&R 1st ed. pp. 67--68, but now it only works if I remove the line with
loess.smooth. Here's the function I'm using:

points.lines <- function(x, y, ...)
  {
    cor1 <-round(cor(x, y, use="pairwise"), digits=2)
    ok <- !(is.na(x) | is.na(y))
    points(x, y, ...)
    lines(loess.smooth(x=x[ok], y=y[ok]), col=3)
    abline(coef=c(0, 1))
    text(min(x, na.rm=T), max(y, na.rm=T), cor1)
  }

Is this a bug?
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl/sl.html
ICQ #21172047  AIM: psycho7070
All of the true things I am about to tell you are shameless lies.
                -- The Book of Bokonon / Kurt Vonnegut Jr.
>> Sent on 28-Mar-00 at 14:57:50 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Mar 28 23:41:03 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Mar 2000 23:41:03 +0200
Subject: [R] loess.smooth dumps core
In-Reply-To: Stuart Luppescu's message of "Tue, 28 Mar 2000 15:07:32 -0600 (CST)"
References: <XFMail.000328150732.s-luppescu@uchicago.edu>
Message-ID: <x2og7y7oy8.fsf@blueberry.kubism.ku.dk>

Stuart Luppescu <s-luppescu at uchicago.edu> writes:

> Has the loess.smooth() function changed? It used to work, but now it causes R
> to abort with a segmentation fault. I stole the function points.lines() from
> V&R 1st ed. pp. 67--68, but now it only works if I remove the line with
> loess.smooth. Here's the function I'm using:
> 
> points.lines <- function(x, y, ...)
>   {
>     cor1 <-round(cor(x, y, use="pairwise"), digits=2)
>     ok <- !(is.na(x) | is.na(y))
>     points(x, y, ...)
>     lines(loess.smooth(x=x[ok], y=y[ok]), col=3)
>     abline(coef=c(0, 1))
>     text(min(x, na.rm=T), max(y, na.rm=T), cor1)
>   }
> 
> Is this a bug?

Segmentation faults are always bugs (unless it is caused by your own C
code), but I can't make this happen on my system. Please tell us which
system you have and preferably also where about the problem appears
(provoking the fault while running under gdb is usually effective, as
is a subsequent 'bt' command) and/or give exact instructions how to
duplicate the problem.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arnholt at math.appstate.edu  Wed Mar 29 16:32:38 2000
From: arnholt at math.appstate.edu (Alan T. Arnholt)
Date: Wed, 29 Mar 2000 09:32:38 -0500 (EST)
Subject: [R] Creating Identity Matrices
In-Reply-To: <Pine.GSO.4.21.0003281147340.8325-100000@mail.biostat.washington.edu>
Message-ID: <SIMEON.10003290938.K@speedy.math.appstate.edu>

Dear R users,

What is the easiest way to construct an identity matrix?  
Thanks.

Alan
___________________________________
Alan T. Arnholt
Associate Professor
Dept. of Mathematical Sciences
Appalachian State University
Boone, NC  28608
http://www.mathsci.appstate.edu/~arnholt/
Office phone: (828) 262 - 2863
Office fax  : (828) 265 - 8617

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Mar 29 16:52:07 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 Mar 2000 16:52:07 +0200
Subject: [R] Creating Identity Matrices
In-Reply-To: "Alan T. Arnholt"'s message of "Wed, 29 Mar 2000 09:32:38 -0500 (EST)"
References: <SIMEON.10003290938.K@speedy.math.appstate.edu>
Message-ID: <x2hfdpq160.fsf@blueberry.kubism.ku.dk>

"Alan T. Arnholt" <arnholt at math.appstate.edu> writes:

> What is the easiest way to construct an identity matrix?  

diag(n)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jl7001 at axe.humboldt.edu  Wed Mar 29 20:05:20 2000
From: jl7001 at axe.humboldt.edu (Jack Lewis)
Date: Wed, 29 Mar 2000 10:05:20 -0800
Subject: [R] Dialog boxes
Message-ID: <38E245E0.B2225516@axe.humboldt.edu>

Hello:

I am brand new to R, though I've used S-Plus for some time.  I've
developed some specialized plotting functions that I want to distribute
and would like to provide users with a dialogbox for entering input
arguments.  Has anyone developed functions in R for displaying
dialogboxes that could accept multiple inputs?   I found winDialog and
winDialogString, but these only accept and return a single value.   Does
anyone know how these might be extended for more flexibility?

Thanks

--
Jack Lewis                           Redwood Sciences Laboratory
707-825-2929 voice                   Pacific Southwest Research Station
707-825-2901 fax                     USDA Forest Service
jl7001 at axe.humboldt.edu              http://www.rsl.psw.fs.fed.us
jlewis01 at fs.fed.us (alternate)

           --------------------------------------------
Thought must be divided against itself before it can come to any
knowledge of itself.                             (Aldous Huxley)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Mar 29 20:53:42 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 29 Mar 2000 19:53:42 +0100 (BST)
Subject: [R] Dialog boxes
In-Reply-To: <38E245E0.B2225516@axe.humboldt.edu>
Message-ID: <Pine.GSO.4.05.10003291948250.23270-100000@auk.stats>

On Wed, 29 Mar 2000, Jack Lewis wrote:

> Hello:
> 
> I am brand new to R, though I've used S-Plus for some time.  I've
> developed some specialized plotting functions that I want to distribute
> and would like to provide users with a dialogbox for entering input
> arguments.  

On Windows, I guess?

> Has anyone developed functions in R for displaying
> dialogboxes that could accept multiple inputs?   I found winDialog and
> winDialogString, but these only accept and return a single value.   Does
> anyone know how these might be extended for more flexibility?

Yes, but you will need to program at the C level to do so. Just copy the
way those functions are implemented in a .External call, and you can
do more or less what you like.  There is a pretty general GUI toolkit
available at the C level.

I do appreciate that is probably not what you are expecting, but S-PLUS's
GUI interface was many man-years of work, and that is what you pay for with
S-PLUS.  


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chi_sq at hotmail.com  Wed Mar 29 21:59:29 2000
From: chi_sq at hotmail.com (Dennis Malandro)
Date: Wed, 29 Mar 2000 14:59:29 EST
Subject: [R] R programming style
Message-ID: <20000329195929.82703.qmail@hotmail.com>

Hi R fans,

I was trying to write some code in R when I realized that I was just writing 
a FORTRAN 77 style program in the R syntax, and hence coming nowhere near 
tapping the potential of R. I'm wondering what is a good reference that 
would help me get up to speed in programming in R (i.e., using these 
classes, methods, objects, accessor functions, and many other things I don't 
currently understand).

Many Kind Thanks,
Dennis
______________________________________________________
Get Your Private, Free Email at http://www.hotmail.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-luppescu at uchicago.edu  Thu Mar 30 00:53:26 2000
From: s-luppescu at uchicago.edu (Stuart Luppescu)
Date: Wed, 29 Mar 2000 16:53:26 -0600 (CST)
Subject: [R] R programming style
In-Reply-To: <20000329195929.82703.qmail@hotmail.com>
Message-ID: <XFMail.000329165326.s-luppescu@uchicago.edu>

On 29-Mar-00 Dennis Malandro wrote:
> Hi R fans,
> 
> I was trying to write some code in R when I realized that I was just writing 
> a FORTRAN 77 style program in the R syntax, and hence coming nowhere near 
> tapping the potential of R. I'm wondering what is a good reference that 
> would help me get up to speed in programming in R (i.e., using these 
> classes, methods, objects, accessor functions, and many other things I don't 
> currently understand).

I just saw in the Springer Statistics Newsletter I got yesterday that Venables
and Ripley have produced a new book called, _S Programming_ (isbn
0-387-98966-8). I haven't seen the actual book (I don't even know if it's
available yet) but the blurb says the book discusses effective programming in S
under either S-Plus and R. Looks good!
______________________________________________________________________
Stuart Luppescu         -=-=-  University of Chicago
$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
http://www.consortium-chicago.org/people/sl/sl.html
ICQ #21172047  AIM: psycho7070
Don't shoot until you're sure you both aren't on the same side.
>> Sent on 29-Mar-00 at 16:49:58 with xfmail
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Thu Mar 30 01:08:52 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 29 Mar 2000 17:08:52 -0600
Subject: [R] R programming style
In-Reply-To: Stuart Luppescu's message of "Wed, 29 Mar 2000 16:53:26 -0600 (CST)"
References: <XFMail.000329165326.s-luppescu@uchicago.edu>
Message-ID: <6rg0t9wf0b.fsf@franz.stat.wisc.edu>

Stuart Luppescu <s-luppescu at uchicago.edu> writes:

> > I was trying to write some code in R when I realized that I was just writing 
> > a FORTRAN 77 style program in the R syntax, and hence coming nowhere near 
> > tapping the potential of R. I'm wondering what is a good reference that 
> > would help me get up to speed in programming in R (i.e., using these 
> > classes, methods, objects, accessor functions, and many other things I don't 
> > currently understand).
> 
> I just saw in the Springer Statistics Newsletter I got yesterday that Venables
> and Ripley have produced a new book called, _S Programming_ (isbn
> 0-387-98966-8). I haven't seen the actual book (I don't even know if it's
> available yet) but the blurb says the book discusses effective programming in S
> under either S-Plus and R. Looks good!

More information on the new book is available at
	      http://www.stats.ox.ac.uk/pub/MASS3/Sprog/
and its mirrors.  One of the North American mirrors is
	     http://franz.stat.wisc.edu/pub/MASS3/Sprog/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From novo at uiuc.edu  Thu Mar 30 01:12:06 2000
From: novo at uiuc.edu (Alvaro A. Novo)
Date: Wed, 29 Mar 2000 17:12:06 -0600
Subject: [R] regularly lattice & neighbors
Message-ID: <00032917242302.01363@friedman>

Dear R-users,

Is there a procedure to identify neighbors in a regular lattice using either a
"rook" or a "queen" criterium? To be more specific, suppose:

My lattice:

1	2	3
4	5	6
7	8	9

"Rook" Neighbors

1 has neighbors 2,4
2 has neighbors 1,3,5
...
5 has neighbors 2,4,6,8

"Queen Neighbors"

1 has neighbors 2,4,5
2 has neighbors 1,3,4,5,6

For each case, the final output would be a 9x9 matrix with 0's and 1's.

I have access to a software that does this for me, but it would be nice to
avoid importing such matrices.

Thank you for your help,

Alvaro Novo
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Mar 30 05:05:16 2000
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Wed, 29 Mar 2000 22:05:16 -0500 (EST)
Subject: [R] regularly lattice & neighbors
In-Reply-To: <00032917242302.01363@friedman>
Message-ID: <Pine.LNX.4.10.10003292203480.5933-100000@localhost.localdomain>


  This seems to work -- there's probably a faster way to do it ...

N <- 3
x <- matrix(1:(N^2),nrow=N,ncol=N)
rowdiff <- function(y,z,mat)abs(row(mat)[y]-row(mat)[z])
coldiff <- function(y,z,mat)abs(col(mat)[y]-col(mat)[z])

rook.case <- function(y,z,mat){coldiff(y,z,mat)+rowdiff(y,z,mat)==1}
bishop.case <- function(y,z,mat){coldiff(y,z,mat)==1 & rowdiff(y,z,mat)==1}
queen.case <- function(y,z,mat){rook.case(y,z,mat) | bishop.case(y,z,mat)}

matrix(as.numeric(sapply(x,function(y)sapply(x,rook.case,y,mat=x))),ncol=N^2,nrow=N^2)
matrix(as.numeric(sapply(x,function(y)sapply(x,bishop.case,y,mat=x))),ncol=N^2,nrow=N^2)
matrix(as.numeric(sapply(x,function(y)sapply(x,queen.case,y,mat=x))),ncol=N^2,nrow=N^2)

On Wed, 29 Mar 2000, Alvaro A. Novo wrote:

> Dear R-users,
> 
> Is there a procedure to identify neighbors in a regular lattice using either a
> "rook" or a "queen" criterium? To be more specific, suppose:
> 
> My lattice:
> 
> 1	2	3
> 4	5	6
> 7	8	9
> 
> "Rook" Neighbors
> 
> 1 has neighbors 2,4
> 2 has neighbors 1,3,5
> ...
> 5 has neighbors 2,4,6,8
> 
> "Queen Neighbors"
> 
> 1 has neighbors 2,4,5
> 2 has neighbors 1,3,4,5,6
> 
> For each case, the final output would be a 9x9 matrix with 0's and 1's.
> 
> I have access to a software that does this for me, but it would be nice to
> avoid importing such matrices.
> 
> Thank you for your help,
> 
> Alvaro Novo
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
Ben Bolker                                  bolker at zoo.ufl.edu
Zoology Department, University of Florida   http://www.zoo.ufl.edu/bolker
318 Carr Hall/Box 118525                    tel: (352) 392-5697
Gainesville, FL 32611-8525                  fax: (352) 392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar 30 08:38:01 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 30 Mar 2000 07:38:01 +0100 (BST)
Subject: [R] R programming style
In-Reply-To: <6rg0t9wf0b.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.GSO.4.05.10003300730440.23994-100000@auk.stats>

On 29 Mar 2000, Douglas Bates wrote:

> Stuart Luppescu <s-luppescu at uchicago.edu> writes:
> 
> > > I was trying to write some code in R when I realized that I was just writing 
> > > a FORTRAN 77 style program in the R syntax, and hence coming nowhere near 
> > > tapping the potential of R. I'm wondering what is a good reference that 
> > > would help me get up to speed in programming in R (i.e., using these 
> > > classes, methods, objects, accessor functions, and many other things I don't 
> > > currently understand).
> > 
> > I just saw in the Springer Statistics Newsletter I got yesterday that Venables
> > and Ripley have produced a new book called, _S Programming_ (isbn
> > 0-387-98966-8). I haven't seen the actual book (I don't even know if it's
> > available yet) but the blurb says the book discusses effective programming in S
> > under either S-Plus and R. Looks good!
> 
> More information on the new book is available at
> 	      http://www.stats.ox.ac.uk/pub/MASS3/Sprog/
> and its mirrors.  One of the North American mirrors is
> 	     http://franz.stat.wisc.edu/pub/MASS3/Sprog/

We were told the book will be published on April 11. It has been rather
delayed by internal problems at Springer's production dept.  It does cover
all these sorts of things, including a chapter on worked examples of
programming effectively in R.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From holzer at stat.math.ethz.ch  Thu Mar 30 09:29:40 2000
From: holzer at stat.math.ethz.ch (Peter Holzer)
Date: Thu, 30 Mar 2000 09:29:40 +0200 (MEST)
Subject: [R] Efficiency of local functions
Message-ID: <14563.612.268547.966092@sara.ethz.ch>

Dear R-users

In order to speed up the performance of my program I tried to make a
function f2 (that is only called from function f1) local to f1. In that way I
pass one argument less to f2, a huge matrix. (This matrix isn't changed
inside f2, so - afaik - it is passed by reference and size doesn't matter.)
Still I would have expected that f1 would be a little faster, but the
opposit happened:

system.time(
rs <- rotateSegment(im, 272, 234, 100, 72, 51, 21)
            )

(where rotateSegment is f1)

gave

> + + [1] 12.13  0.05 12.31  0.00  0.00 ## f2 extern of f1
> + + [1] 12.29  0.02 12.46  0.00  0.00 ## f2 local to f1

(I tried several times and got always similar results. I am using Linux,
Red Hat 6.1)

Does the use of local functions generally slow down the performance? (Even
though just a little bit, whereas the advantage of elegancy in programming
might be considered quite big.)

Peter

____________________________________________________________

Peter Holzer                      phone: + 41 1 632 46 34
Seminar fuer Statistik, LEO C14   fax:   + 41 1 632 12 28
(Leonhardstr. 27)                  <holzer at stat.math.ethz.ch>
ETH (Federal Inst. Technology)
8092 Zurich                       http://www.stat.math.ethz.ch/~holzer/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wurtz at titus.u-strasbg.fr  Thu Mar 30 09:43:09 2000
From: wurtz at titus.u-strasbg.fr (Jean-Marie WURTZ)
Date: Thu, 30 Mar 2000 09:43:09 +0200
Subject: [R] Dialog boxes
References: <Pine.GSO.4.05.10003291948250.23270-100000@auk.stats>
Message-ID: <38E3058D.446B@igbmc.u-strasbg.fr>

Hi,
 I am rather new to this list. But if I remember well, I read in the
R-mailing list that somebody suggested to use tcl/tk to develop a GUI?
Is anyone pursuing this direction? 
-- 

				WURTZ Jean-Marie


________________________________________________________________________
IGBMC               			E-mail : wurtz at igbmc.u-strasbg.fr 
Laboratoire de Biologie Structurale	Phone :  (33) 3 88 65 35 29
Parc d'Innovation			Fax :	 (33) 3 88 65 32 76
1, rue Laurent Fries, BP 163
67404 ILLKIRCH, CU STRASBOURG
France    
________________________________________________________________________
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Mar 30 09:45:38 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 30 Mar 2000 08:45:38 +0100 (BST)
Subject: [R] summary.negbin broken in R-1.0.0, VR_6.1-7
In-Reply-To: <200003210829.KAA15843@khatkhat.ecology.helsinki.fi>
Message-ID: <Pine.GSO.4.05.10003300839020.24134-100000@auk.stats>

On Tue, 21 Mar 2000, Jari Oksanen wrote:

> Dear R people,
> 
> I am not sure if this is the correct place to tell about problems in evolving 
> programmes, but it seems that the `summary.negbin' function of the excellent 
> `MASS' library is now broken, and gives the following error message:

The correct thing to do with contributed code is to tell the porter/author
given in the DESCRIPTION file.  Not all of them read R-help.

> > summary(hm)
> Error in summary.negbin(hm) : subscript out of bounds
> 
> `summary.negbin' calls `summary.glm' which seems to work and give the desired 
> output like called there, but calls to `object["SE"]' fails (and later, if it 
> would get there, `object["th.warn"]' would fail). The first entity seems to be 
> now "SE.theta", and I did not find "th.warn" at all in my objects.

Not really. S has partial matching, so object["SE"] should find 
"SE.theta".  Unfortunately, R's cloning is imperfect here, and it fails.
There is no problem with "th.warn": it is usually missing and does
not cause a failure, as the code is (in print.summary.negbin)

    if (!is.null(x$th.warn)) 
        cat("Warning while fitting theta:", x$th.warn, "\n")

> Really a tiny thing, and if I understood the behaviour correctly, easily to 
> cure by the user herself.

In this case, yes (just replace SE by SE.theta everywhere).  However, there
is a fundamental incompatibility we need to resolve.  It might be
deliberate, but I can't see it is documented.

The next release of VR will have this fixed (and a couple of other things).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Thu Mar 30 09:55:36 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Thu, 30 Mar 2000 09:55:36 +0200
Subject: [R] R programming style
Message-ID: <3.0.32.20000330095535.00907d70@162.38.183.200>

Hi,

There is a book by Patrick Burns, "S Poetry", available at:

http://www.seanet.com/~pburns/Spoetry/

Though poetry is not programming, Ch.8 (C for S Programmers) and Ch.9 (S
for S Programmers) may be of interest.

Best,

Emmanuel Paradis



At 16:53 29/03/00 -0600, you wrote:
>On 29-Mar-00 Dennis Malandro wrote:
>> Hi R fans,
>> 
>> I was trying to write some code in R when I realized that I was just
writing 
>> a FORTRAN 77 style program in the R syntax, and hence coming nowhere near 
>> tapping the potential of R. I'm wondering what is a good reference that 
>> would help me get up to speed in programming in R (i.e., using these 
>> classes, methods, objects, accessor functions, and many other things I
don't 
>> currently understand).
>
>I just saw in the Springer Statistics Newsletter I got yesterday that
Venables
>and Ripley have produced a new book called, _S Programming_ (isbn
>0-387-98966-8). I haven't seen the actual book (I don't even know if it's
>available yet) but the blurb says the book discusses effective programming
in S
>under either S-Plus and R. Looks good!
>______________________________________________________________________
>Stuart Luppescu         -=-=-  University of Chicago
>$(B:MJ8$HCRF`H~$NIc(B        -=-=-  s-luppescu at uchicago.edu
>http://www.consortium-chicago.org/people/sl/sl.html
>ICQ #21172047  AIM: psycho7070
>Don't shoot until you're sure you both aren't on the same side.
>>> Sent on 29-Mar-00 at 16:49:58 with xfmail
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Mar 30 10:11:58 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Mar 2000 10:11:58 +0200
Subject: [R] Dialog boxes
In-Reply-To: Jean-Marie WURTZ's message of "Thu, 30 Mar 2000 09:43:09 +0200"
References: <Pine.GSO.4.05.10003291948250.23270-100000@auk.stats> <38E3058D.446B@igbmc.u-strasbg.fr>
Message-ID: <x2ln30ev1t.fsf@blueberry.kubism.ku.dk>

Jean-Marie WURTZ <wurtz at titus.u-strasbg.fr> writes:

> Hi,
>  I am rather new to this list. But if I remember well, I read in the
> R-mailing list that somebody suggested to use tcl/tk to develop a GUI?
> Is anyone pursuing this direction? 

It's pretty well dead, or at least dormant, as a strategy for embracing
the entire R interface, but Guido Masarotto did up some packages for
accessing the tcl/tk functionality from an R process. These packages
sit in the Devel section of the contrib area at CRAN. There's a rather
nice example of what you can do included.

http://cran.r-project.org/src/contrib/Devel/tcltk_0.1-1.tar.gz
http://cran.r-project.org/src/contrib/Devel/vtcl_1.0-1.tar.gz

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From etptupaf at bs.ehu.es  Thu Mar 30 10:54:36 2000
From: etptupaf at bs.ehu.es (F.Tusell)
Date: Thu, 30 Mar 2000 10:54:36 +0200
Subject: [R] slice.index
Message-ID: <38E3164B.54A55F66@bs.ehu.es>

Porting  a package from S-Plus to R I  find missing the S-Plus function
slice.index().
Before I hack  a (probably ugly an inefficient)  replacement, has anyone
done so?
Is there a similar function in R that I have overlooked?

Many thanks,



ft.

--
Fernando TUSELL                                 e-mail:
Departamento de Econometr?a y Estad?stica           etptupaf at bs.ehu.es
Facultad de CC.EE. y Empresariales              Tel:  (+34)94.601.3733
Avenida Lendakari Aguirre, 83                   Fax:  (+34)94.601.3754
E-48015 BILBAO  (Spain)                         Secr: (+34)94.601.3740
PGP: finger etptupaf at bsdx01.bs.ehu.es           http://agesi.bs.ehu.es
----------------------------------------------------------------------



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Mar 30 11:25:58 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Mar 2000 11:25:58 +0200
Subject: [R] slice.index
In-Reply-To: "F.Tusell"'s message of "Thu, 30 Mar 2000 10:54:36 +0200"
References: <38E3164B.54A55F66@bs.ehu.es>
Message-ID: <x24s9oajx5.fsf@blueberry.kubism.ku.dk>

"F.Tusell" <etptupaf at bs.ehu.es> writes:

> Porting  a package from S-Plus to R I  find missing the S-Plus function
> slice.index().
> Before I hack  a (probably ugly an inefficient)  replacement, has anyone
> done so?
> Is there a similar function in R that I have overlooked?

No, but:

slice.index<-function(x,i){k<-dim(x)[i];sweep(x,i,1:k,function(x,y)y)}

seems to do the trick.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From etptupaf at bs.ehu.es  Thu Mar 30 11:39:11 2000
From: etptupaf at bs.ehu.es (F.Tusell)
Date: Thu, 30 Mar 2000 11:39:11 +0200
Subject: [R] slice.index
In-Reply-To: <x24s9oajx5.fsf@blueberry.kubism.ku.dk>
	(p.dalgaard@biostat.ku.dk)
References: <38E3164B.54A55F66@bs.ehu.es> <x24s9oajx5.fsf@blueberry.kubism.ku.dk>
Message-ID: <200003300939.LAA01461@agesi.bs.ehu.es>

>  X-Authentication-Warning: agesi.bs.ehu.es: Host kubism.kubism.ku.dk [130.225.108.10] claimed to be pubhealth.ku.dk
>  Sender: pd at blueberry.kubism.ku.dk
>  Cc: r-help at stat.math.ethz.ch, etptupaf at agesi.bs.ehu.es
>  From: Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>
>  Date: 30 Mar 2000 11:25:58 +0200
>  Content-Type: text/plain; charset=US-ASCII
>  
>  "F.Tusell" <etptupaf at bs.ehu.es> writes:
>  
>  > Porting  a package from S-Plus to R I  find missing the S-Plus function
>  > slice.index().
>  > Before I hack  a (probably ugly an inefficient)  replacement, has anyone
>  > done so?
>  > Is there a similar function in R that I have overlooked?
>  
>  No, but:
>  
>  slice.index<-function(x,i){k<-dim(x)[i];sweep(x,i,1:k,function(x,y)y)}
>  
>  seems to do the trick.
>  
>  -- 
>     O__  ---- Peter Dalgaard             Blegdamsvej 3  
>    c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>   (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
>  ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
>  
It indeed does, Peter. Thank you very much.

ft.
-- 
Fernando TUSELL                                 e-mail:
Departamento de Econometr?a y Estad?stica           etptupaf at bs.ehu.es 
Facultad de CC.EE. y Empresariales              Tel:  (+34)94.601.3733
Avenida Lendakari Aguirre, 83                   Fax:  (+34)94.601.3754
E-48015 BILBAO  (Spain)                         Secr: (+34)94.601.3740
PGP: finger etptupaf at bsdx01.bs.ehu.es           http://agesi.bs.ehu.es
----------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dj at research.bell-labs.com  Thu Mar 30 16:18:45 2000
From: dj at research.bell-labs.com (David James)
Date: Thu, 30 Mar 2000 09:18:45 -0500 (EST)
Subject: [R] regularly lattice & neighbors
Message-ID: <200003301418.JAA16150@jessie.research.bell-labs.com>

Hi,

The first thing that comes to my mind is the
trick of using complex numbers:

> z <- complex(real=rep(1:3, 3), imaginary = rep(1:3, c(3,3,3)))
> z1 <- z[2]   # say,
> "rook"
> z[abs(z1-z)<=1]
[1] 1+1i 2+1i 3+1i 2+2i

> "queen"
> z[abs(z1-z)<=sqrt(2)
[1] 1+1i 2+1i 3+1i 1+2i 2+2i 3+2i

By the way, if you want indices, just use match()

> match(z[abs(z1-z)<=1], z)
[1] 1 2 3 5

(I should have deleted the "chosen" point z[2] from the 
example above, but you get my point:-)

David A James                        Phone: (908) 582-3082
Bell Labs, Lucent Technologies       Fax:   (908) 582-3340
600 Mountain Ave                     Email: dj at bell-labs.com
Murray Hill, NJ 07974
-------------------------------------------------------------
> From: "Alvaro A. Novo" <novo at uiuc.edu>
> To: r-help at stat.math.ethz.ch
> Subject: [R] regularly lattice & neighbors
> Date: Wed, 29 Mar 2000 17:12:06 -0600
> MIME-Version: 1.0
> Content-Transfer-Encoding: 8bit
> 
> Dear R-users,
> 
> Is there a procedure to identify neighbors in a regular lattice using either a
> "rook" or a "queen" criterium? To be more specific, suppose:
> 
> My lattice:
> 
> 1	2	3
> 4	5	6
> 7	8	9
> 
> "Rook" Neighbors
> 
> 1 has neighbors 2,4
> 2 has neighbors 1,3,5
> ...
> 5 has neighbors 2,4,6,8
> 
> "Queen Neighbors"
> 
> 1 has neighbors 2,4,5
> 2 has neighbors 1,3,4,5,6
> 
> For each case, the final output would be a 9x9 matrix with 0's and 1's.
> 
> I have access to a software that does this for me, but it would be nice to
> avoid importing such matrices.
> 
> Thank you for your help,
> 
> Alvaro Novo
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Mar 30 17:58:51 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 30 Mar 2000 07:58:51 -0800 (PST)
Subject: [R] Efficiency of local functions
In-Reply-To: <14563.612.268547.966092@sara.ethz.ch>
Message-ID: <Pine.GSO.4.21.0003300757100.1113-100000@mail.biostat.washington.edu>

On Thu, 30 Mar 2000, Peter Holzer wrote:

> Dear R-users
> 
> In order to speed up the performance of my program I tried to make a
> function f2 (that is only called from function f1) local to f1. In that way I
> pass one argument less to f2, a huge matrix. (This matrix isn't changed
> inside f2, so - afaik - it is passed by reference and size doesn't matter.)
> Still I would have expected that f1 would be a little faster, but the
> opposit happened:

No, it should be slightly slower.  When f2 is declared inside f1 it has to
be parsed each time f2 is called.  Your figures may well be equal within
experimental error, though.


	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From salwin at mitretek.org  Thu Mar 30 20:24:00 2000
From: salwin at mitretek.org (Art Salwin)
Date: Thu, 30 Mar 2000 13:24:00 -0500
Subject: [R] How do you go beyond tapply()?
Message-ID: <38E39BC0.1B16AB03@mitretek.org>

"An Introduction to R" notes that the function tapply() can
be used to index a vector by multiple categories. But they
don't show how to do this.  How does one implement, for
example, the example in the text in which tax accountants
are indexed by both state and sex?

Is there a way to use tapply() to put the vector into bins
defined by the levels instead of having to exactly match the
levels?  It seems some sort of historgramming is what's
needed, but hist() does plots, not just the categorization
into bins.

-- 
Art Salwin
salwin at mitretek.org
(202) 863-2985
(202) 863-2988 (fax)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Mar 30 21:13:53 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 30 Mar 2000 21:13:53 +0200
Subject: [R] How do you go beyond tapply()?
In-Reply-To: Art Salwin's message of "Thu, 30 Mar 2000 13:24:00 -0500"
References: <38E39BC0.1B16AB03@mitretek.org>
Message-ID: <x2k8iki83y.fsf@blueberry.kubism.ku.dk>

Art Salwin <salwin at mitretek.org> writes:

> "An Introduction to R" notes that the function tapply() can
> be used to index a vector by multiple categories. But they
> don't show how to do this.  How does one implement, for
> example, the example in the text in which tax accountants
> are indexed by both state and sex?
> 
> Is there a way to use tapply() to put the vector into bins
> defined by the levels instead of having to exactly match the
> levels?  It seems some sort of historgramming is what's
> needed, but hist() does plots, not just the categorization
> into bins.

Have a look at

tapply(x, list(state,sex), mean)
table(state, sex)
table(cut(age, breakpoints), sex)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From JMORRIS6 at OCDUS.JNJ.COM  Thu Mar 30 23:12:49 2000
From: JMORRIS6 at OCDUS.JNJ.COM (Morris, Jeffrey [OCDUS])
Date: Thu, 30 Mar 2000 16:12:49 -0500
Subject: [R] Dialog boxes
Message-ID: <32D408AE6657D311B1B700508B10900C013D52B5@jcdusroexs2.ocdus.jnj.com>

I have been wanting to ask about a future feature but was
reluctant to start a feature request fest...but since someone
else asked...First a belated congrats to everyone on the 
development team.  I've been following this since the beginning
when it was suppose to fill a gap in available Mac software. 
     But back to features.  One of the things I would really like to
see and limits my spreading R internally in my company, is
the ability to create menus and dialog boxes.  It is very simple
to do this in XLisp-Stat with a few commands, and I used to create
applications all the time for people who were doing routine analyses.
I would like to know if it would be a big programming effort to have this
feature in R.  If I knew anything about programming I'd offer to
help, but I don't so can only vote and hope.

Jeff

Jeff Morris
Ortho-Clinical Diagnostics
Rochester, NY
jmorris at ocdus.jnj.com




> -----Original Message-----
> From:	Prof Brian D Ripley [SMTP:ripley at stats.ox.ac.uk]
> Sent:	Wednesday, March 29, 2000 1:54 PM
> To:	Jack Lewis
> Cc:	r-help
> Subject:	Re: [R] Dialog boxes
> 
> On Wed, 29 Mar 2000, Jack Lewis wrote:
> 
> > Hello:
> > 
> > I am brand new to R, though I've used S-Plus for some time.  I've
> > developed some specialized plotting functions that I want to distribute
> > and would like to provide users with a dialogbox for entering input
> > arguments.  
> 
> On Windows, I guess?
> 
> > Has anyone developed functions in R for displaying
> > dialogboxes that could accept multiple inputs?   I found winDialog and
> > winDialogString, but these only accept and return a single value.   Does
> > anyone know how these might be extended for more flexibility?
> 
> Yes, but you will need to program at the C level to do so. Just copy the
> way those functions are implemented in a .External call, and you can
> do more or less what you like.  There is a pretty general GUI toolkit
> available at the C level.
> 
> I do appreciate that is probably not what you are expecting, but S-PLUS's
> GUI interface was many man-years of work, and that is what you pay for
> with
> S-PLUS.  
> 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From faheem at email.unc.edu  Fri Mar 31 04:31:36 2000
From: faheem at email.unc.edu (FAHEEM MITHA)
Date: Thu, 30 Mar 2000 21:31:36 -0500 (EST)
Subject: [R] linear models
Message-ID: <Pine.GSO.4.21L1.0003302106060.17161-100000@sunny>

Dear R users,

I have a couple of linear model related questions. 

1) How do I produce a fixed effect linear model using lme? I saw somewhere
(this may be Splus documentation since I use Splus and R interchangeably)
that using lme(...,random= ~ -1 | groups,...) works, but it gives the same
as lme(...,random= ~ 1 | groups,...), ie. fits a random effect intercept
term.

The reason why I want to do this is test for the significance of the
random effect intercept term. anova( , ) does not work for an lm model and
lme model together.

2) Is there some nice way of handling linear models which are of the form

response_ij = a_i + b_i x_ij + \epsilon_ij 

where a_i and b_i are fixed effects, x_ij is given (continuous) data,
\epsilon_ij ~ N(0, \sigma^2), and the i's range over some group? This is
basically a group of regression models, but I want them handled as one
unit for the purposes of estimation of \sigma^2 etc. I know that lmList()
does fit such a model, but does so as a group of separate models. I can
see that this would be possible to do this using lm() and indicator
variables, but this seems like a clumsy approach. Surely there is a better
way.

                                  Sincerely, Faheem Mitha.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar 31 08:46:05 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 31 Mar 2000 07:46:05 +0100 (BST)
Subject: [R] Dialog boxes
In-Reply-To: <32D408AE6657D311B1B700508B10900C013D52B5@jcdusroexs2.ocdus.jnj.com>
Message-ID: <Pine.GSO.4.05.10003310734500.36-100000@auk.stats>

On Thu, 30 Mar 2000, Morris, Jeffrey [OCDUS] wrote:

> I have been wanting to ask about a future feature but was
> reluctant to start a feature request fest...but since someone
> else asked...First a belated congrats to everyone on the 
> development team.  I've been following this since the beginning
> when it was suppose to fill a gap in available Mac software. 
>      But back to features.  One of the things I would really like to
> see and limits my spreading R internally in my company, is
> the ability to create menus and dialog boxes.  It is very simple
> to do this in XLisp-Stat with a few commands, and I used to create
> applications all the time for people who were doing routine analyses.
> I would like to know if it would be a big programming effort to have this
> feature in R.  If I knew anything about programming I'd offer to
> help, but I don't so can only vote and hope.

I am not at all sure what you mean. On Windows R does have a pretty general
scheme for adding menus, and a simple scheme for dialog boxes.

So, do you want this on Unix, or what more do you want on Windows? My
earlier reply that you quoted explicitly said that a fully programmable
GUI-builder kit a la S-PLUS 2000 took man-years of effort.  I also am not
at all sure that is the best way to build a user-friendly front-end, as
using Visual Basic and (D)COM is much more flexible (and uses a language
lots of application programmers know).  We have taken some pains to make R
for Windows easy to embed in other applications.

You are in a company, and I fail to understand why if you want the features
that S-PLUS offers (the `PLUS' in short) you do not consider it.  So maybe
I am missing the point.

[ earlier reply from me deleted ]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gfeeney at hawaii.edu  Fri Mar 31 11:38:19 2000
From: gfeeney at hawaii.edu (Griffith Feeney)
Date: Thu, 30 Mar 2000 23:38:19 -1000
Subject: [R] compiling R for Windows from source 
In-Reply-To: <200003301018.LAA14214@toucan.stats.ox.ac.uk>
Message-ID: <3.0.5.32.20000330233819.008383c0@pop-server.hawaii.edu>

At 12:19 AM 3/30/00 -1000, [Prof Brian Ripley] wrote:
>You are using the wrong make.  Please read the instructions very carefully.
>You _must_ use the cygwin make with the supplied Makefiles.
[snip]

Thanks, I read them many times, but clearly not carefully enough. I'm now
using the cygwin make with the mingw32 gcc. Compilation went fine for a
while and produced an apparently functioning Rgui.exe, but seems to have
bombed out trying to zip the help files for the base package. Problem seems
to be simply that /src/library/base/help doesn't exist. Since it isn't in
the source tree, it should presumably have been created at this stage of
the build, but for some reason hasn't been. I've looked at commands
generated by make up to this point, but can't figure out why.

Tail end of console display following 'make BUILD=MINGW32':

//D/BIN/MAKE.EXE -C //L/R-1.0.0/library/base -f
//L/R-1.0.0/src/gnuwin32/help/Ma
kefile ZIPFLAGS=jqmX PKG=base zipit
MAKE.EXE: *** help: No such file or directory.  Stop.
MAKE.EXE[2]: [help/Rhelp.zip] Error 2 (ignored)
MAKE.EXE: *** R-ex: No such file or directory.  Stop.
MAKE.EXE[2]: [help/Rhelp.zip] Error 2 (ignored)
MAKE.EXE: *** latex: No such file or directory.  Stop.
MAKE.EXE[2]: [help/Rhelp.zip] Error 2 (ignored)
//D/BIN/MAKE.EXE -C //L/R-1.0.0/src/gnuwin32/help help-base
perl build.help  -txt -html -example -latex //L/R-1.0.0/src/library/base
//L/R-1
.0.0/library
Package //L/R-1.0.0/src/library/base does not exist
MAKE.EXE[3]: *** [help-base] Error 2
MAKE.EXE[2]: [help/Rhelp.zip] Error 2 (ignored)
zip -jqmX help/Rhelp help/* -x help/00Titles help/AnIndex

zip error: Nothing to do! (help/Rhelp.zip)
MAKE.EXE[2]: *** [help/Rhelp.zip] Error 12
MAKE.EXE[1]: *** [ziponlyhelp-base] Error 2
MAKE.EXE: *** [pkg-base] Error 2

Small section of file created by 'make -n BUILD=MINGW32 > commands.txt':

echo "---------- Making package base ------------"
mkdir -p //L/R-1.0.0/library/base
cp -r   ./DESCRIPTION  ./INDEX  ./TITLE  //L/R-1.0.0/library/base/
//D/BIN/MAKE.EXE -C ./help RHOME=//L/R-1.0.0 PKGDIR=//L/R-1.0.0/src/library
RLIB=//L/R-1.0.0/library ziponlyhelp-base
//D/BIN/MAKE.EXE -C //L/R-1.0.0/library/base -f
//L/R-1.0.0/src/gnuwin32/help/Makefile ZIPFLAGS=jqmX PKG=base zipit
//D/BIN/MAKE.EXE -C help  -f //L/R-1.0.0/src/gnuwin32/help/Makefile uz-Rhelp
//D/BIN/MAKE.EXE -C R-ex  -f //L/R-1.0.0/src/gnuwin32/help/Makefile uz-Rex
//D/BIN/MAKE.EXE -C latex -f //L/R-1.0.0/src/gnuwin32/help/Makefile uz-Rhelp
//D/BIN/MAKE.EXE -C //L/R-1.0.0/src/gnuwin32/help help-base
perl build.help  -txt -html -example -latex //L/R-1.0.0/src/library/base
//L/R-1.0.0/library
rm -f help/Rhelp.zip latex/Rhelp.zip R-ex/Rex.zip
zip -jqmX help/Rhelp help/* -x help/00Titles help/AnIndex
zip -jqmX R-ex/Rex R-ex/*.R
zip -jqmX latex/Rhelp latex/*.tex




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar 31 13:39:40 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 31 Mar 2000 12:39:40 +0100 (BST)
Subject: [R] Re: compiling R for Windows from source 
In-Reply-To: <3.0.5.32.20000330233819.008383c0@pop-server.hawaii.edu>
Message-ID: <Pine.GSO.4.05.10003311233001.436-100000@auk.stats>

On Thu, 30 Mar 2000, Griffith Feeney wrote:

> At 12:19 AM 3/30/00 -1000, [Prof Brian Ripley] wrote:
> >You are using the wrong make.  Please read the instructions very carefully.
> >You _must_ use the cygwin make with the supplied Makefiles.
> [snip]
> 
> Thanks, I read them many times, but clearly not carefully enough. I'm now
> using the cygwin make with the mingw32 gcc. Compilation went fine for a
> while and produced an apparently functioning Rgui.exe, but seems to have
> bombed out trying to zip the help files for the base package. Problem seems
> to be simply that /src/library/base/help doesn't exist. Since it isn't in

It should not. It is library/base/help that is supposed to exist.

> the source tree, it should presumably have been created at this stage of
> the build, but for some reason hasn't been. I've looked at commands
> generated by make up to this point, but can't figure out why.
> 
> Tail end of console display following 'make BUILD=MINGW32':
> 
> //D/BIN/MAKE.EXE -C //L/R-1.0.0/library/base -f
> //L/R-1.0.0/src/gnuwin32/help/Ma
> kefile ZIPFLAGS=jqmX PKG=base zipit
> MAKE.EXE: *** help: No such file or directory.  Stop.
> MAKE.EXE[2]: [help/Rhelp.zip] Error 2 (ignored)
> MAKE.EXE: *** R-ex: No such file or directory.  Stop.
> MAKE.EXE[2]: [help/Rhelp.zip] Error 2 (ignored)
> MAKE.EXE: *** latex: No such file or directory.  Stop.
> MAKE.EXE[2]: [help/Rhelp.zip] Error 2 (ignored)
> //D/BIN/MAKE.EXE -C //L/R-1.0.0/src/gnuwin32/help help-base
> perl build.help  -txt -html -example -latex //L/R-1.0.0/src/library/base
> //L/R-1
> .0.0/library
> Package //L/R-1.0.0/src/library/base does not exist

That's your problem.  Now, what do you think //L/R-1.0.0 is?  That is
not a Windows file specification.  Why are you using it?  I've never seen
anything like this.  You may need to set RHOME explicitly in the Makefile
if your tools are getting confused.  (Looks as if you might be using
bash.exe not sh.exe somehow.)


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Patrik.Waldmann at sysbot.lu.se  Fri Mar 31 15:20:09 2000
From: Patrik.Waldmann at sysbot.lu.se (Patrik Waldmann)
Date: Fri, 31 Mar 2000 15:20:09 +0200
Subject: [R] Cutting vectors
Message-ID: <000701bf9b13$d67307d0$2795eb82@patrikwpc>

I have one factor with say five levels (fact) of different size and a corresponding variable (var). I randomly generate five new levels (nfact ex. 2,2,1,5,4). What I would like to do is to extract the corresponding variable values into a new variable (nvar). I did try the following, why doesn't it work?  nvar<-var[fact==nfact[ ]]

Patrik Waldmann

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From yudi at stat.ucc.ie  Fri Mar 31 15:41:47 2000
From: yudi at stat.ucc.ie (Yudi Pawitan)
Date: Fri, 31 Mar 2000 14:41:47 +0100
Subject: [R] building a package
Message-ID: <3.0.1.32.20000331144147.006a4ea0@pop3.ucd.ie>

Dear R-helpers,
I'm learning how to compile R packages with fortran
routines and use the acepack source as an example. 
After some hiccups (Guido told me about the
need to set make_mode=UNIX) I got to the following:  
`make pkg-acepack' runs without error (see below), 
but it does not
     * compile any .f file in acepack/src
     * (hence) try to create any dll file or libs

(I'm working with Rw1000 under Win98, with the cygwin tools.)

Looking into the MakePkg it looks like the following line

     LSOURCES=$(wildcard $(SSPKG)/*.c $(SSPKG)/*.f)

produces a blank. Inside MakeDll there is another `wildcard'
that also produces a blank:

  SOURCES=$(wildcard -f *.c *.f)

Thanks for any hint,
-Yudi-


C:\R\rw1000\src\gnuwin32>make pkg-acepack
/R/TOOLS/MAKE.EXE DLLNM=  EXTRADOCS= \
  -C /R/rw1000/src/library/acepack PKG=acepack RHOME=/R/rw1000
RLIB=/R/rw1000/li
brary \  -f /R/rw1000/src/gnuwin32/MakePkg
---------- Making package acepack ------------
mkdir -p /R/rw1000/library/acepack
cp -r   ./DESCRIPTION  ./INDEX  ./TITLE ./ACE.DOC ./MAN ./README
./README.ACE ./
README~1.AVA ./SRC /R/rw1000/library/acepack/
/R/TOOLS/MAKE.EXE -C ./help RHOME=/R/rw1000 PKGDIR=/R/rw1000/src/library
RLIB=/R/rw1000/library help-acepack
perl build.help  -txt -html -example -latex /R/rw1000/src/library/acepack
/R/rw1
000/library
 >>> Building/Updating help pages for package `acepack'
     Formats: text html latex example
/R/TOOLS/MAKE.EXE -C ./help RHOME=/R/rw1000 PKGDIR=/R/rw1000/src/library
RLIB=/R
/rw1000/library contents-acepack
perl Rd2contents /R/rw1000/src/library/acepack
/R/rw1000/library/acepack/CONTENTS
cat /R/rw1000/library/*/CONTENTS > /R/rw1000/doc/html/search/index.txt
perl build.help  -htmllists

C:\R\rw1000\src\gnuwin32>path
PATH=C:\R\TOOLS;C:\H-I586~1\BIN;C:\GCC-29~1.2\BIN;C:\PERL\BIN;C:\WINDOWS;C:\
WIND
OWS\COMMAND;C:\DMI95\WIN32\BIN



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar 31 15:58:01 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 31 Mar 2000 14:58:01 +0100 (BST)
Subject: [R] Crashes of rw1000 -- test solution
Message-ID: <Pine.GSO.4.05.10003311445400.579-100000@auk.stats>

We have had various reports of crashes of the Rgui console on R-1.0.0
(and earlier) that we have had trouble replicating.  We now know of two
causes, and have a compiled up a replacement DLL with workarounds for
both.  To try this

-- get http://www.stats.ox.ac.uk/pub/R/testdll.zip
-- go to ...\rw1000\bin
-- move/rename the existing R.dll to R.dll.orig
-- unzip testdll, which contains a replacement R.dll

The bugs we know this fixes at least partially are

1) Corruption of the console history if it contains many short lines
(and then crashes of the console).

2) Crashes during or after printing when using certain HP printer drivers,
on Windows 95/98,  specifically the HP PostScript printer driver for
HP 5 and 6MP machines but quite possibly others.  (There are no known
problems with the HP drivers for NT4.)

We would be particularly interested to hear of any print-related crashes
that do not involve HP printer drivers, or of circumstances in which this
fix does not work for HP printer drivers.  We will need as much information
as possible to try to reproduce the problem, including full details of the
printer drivers in use.

This is just provided for testing purposes: please do not use it unless you
have encountered the bugs mentioned here.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Mar 31 17:21:49 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 31 Mar 2000 16:21:49 +0100 (BST)
Subject: [R] building a package
In-Reply-To: <3.0.1.32.20000331144147.006a4ea0@pop3.ucd.ie>
Message-ID: <Pine.GSO.4.05.10003311613490.752-100000@auk.stats>

On Fri, 31 Mar 2000, Yudi Pawitan wrote:

> Dear R-helpers,
> I'm learning how to compile R packages with fortran
> routines and use the acepack source as an example. 
> After some hiccups (Guido told me about the
> need to set make_mode=UNIX) I got to the following:  

set MAKE_MODE, actually, ironically as you seem to have the converse
problem later.

> `make pkg-acepack' runs without error (see below), 
> but it does not
>      * compile any .f file in acepack/src
>      * (hence) try to create any dll file or libs
> 
> (I'm working with Rw1000 under Win98, with the cygwin tools.)
> 
> Looking into the MakePkg it looks like the following line
> 
>      LSOURCES=$(wildcard $(SSPKG)/*.c $(SSPKG)/*.f)
> 
> produces a blank. Inside MakeDll there is another `wildcard'
> that also produces a blank:
> 
>   SOURCES=$(wildcard -f *.c *.f)
> 
> Thanks for any hint,

How did you unpack the sources?  It looks as if however you did that
converted them to short file names (a common Windows trick). I see you have
MAN and SRC and you should have man and src, for example.  So I bet you
have *.C and *.F.

As you also seem to have README~1.AVA I guess you have used a 16-bit
windows program or have a FAT (not VFAT) file system ....  Whatever,
the problem is the something you did has corrupted the sources.
The tar in the cygwin tools is known to work with acepack_1.2-1.tar.gz.


> -Yudi-
> 
> 
> C:\R\rw1000\src\gnuwin32>make pkg-acepack
> /R/TOOLS/MAKE.EXE DLLNM=  EXTRADOCS= \
>   -C /R/rw1000/src/library/acepack PKG=acepack RHOME=/R/rw1000
> RLIB=/R/rw1000/li
> brary \  -f /R/rw1000/src/gnuwin32/MakePkg
> ---------- Making package acepack ------------
> mkdir -p /R/rw1000/library/acepack
> cp -r   ./DESCRIPTION  ./INDEX  ./TITLE ./ACE.DOC ./MAN ./README
> ./README.ACE ./
> README~1.AVA ./SRC /R/rw1000/library/acepack/
> /R/TOOLS/MAKE.EXE -C ./help RHOME=/R/rw1000 PKGDIR=/R/rw1000/src/library
> RLIB=/R/rw1000/library help-acepack
> perl build.help  -txt -html -example -latex /R/rw1000/src/library/acepack
> /R/rw1
> 000/library
>  >>> Building/Updating help pages for package `acepack'
>      Formats: text html latex example
> /R/TOOLS/MAKE.EXE -C ./help RHOME=/R/rw1000 PKGDIR=/R/rw1000/src/library
> RLIB=/R
> /rw1000/library contents-acepack
> perl Rd2contents /R/rw1000/src/library/acepack
> /R/rw1000/library/acepack/CONTENTS
> cat /R/rw1000/library/*/CONTENTS > /R/rw1000/doc/html/search/index.txt
> perl build.help  -htmllists
> 
> C:\R\rw1000\src\gnuwin32>path
> PATH=C:\R\TOOLS;C:\H-I586~1\BIN;C:\GCC-29~1.2\BIN;C:\PERL\BIN;C:\WINDOWS;C:\
> WIND
> OWS\COMMAND;C:\DMI95\WIN32\BIN
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri Mar 31 18:05:00 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 31 Mar 2000 10:05:00 -0600
Subject: [R] linear models
In-Reply-To: FAHEEM MITHA's message of "Thu, 30 Mar 2000 21:31:36 -0500 (EST)"
References: <Pine.GSO.4.21L1.0003302106060.17161-100000@sunny>
Message-ID: <6rhfdn5dn7.fsf@franz.stat.wisc.edu>

FAHEEM MITHA <faheem at email.unc.edu> writes:

> I have a couple of linear model related questions. 
> 
> 1) How do I produce a fixed effect linear model using lme? I saw somewhere
> (this may be Splus documentation since I use Splus and R interchangeably)
> that using lme(...,random= ~ -1 | groups,...) works, but it gives the same
> as lme(...,random= ~ 1 | groups,...), ie. fits a random effect intercept
> term.

I don't think you can fit a fixed-effects model with lme.

> The reason why I want to do this is test for the significance of the
> random effect intercept term. anova( , ) does not work for an lm model and
> lme model together.

You can do this if you list the lme model first in the call to
anova().

> 2) Is there some nice way of handling linear models which are of the form
> 
> response_ij = a_i + b_i x_ij + \epsilon_ij 
> 
> where a_i and b_i are fixed effects, x_ij is given (continuous) data,
> \epsilon_ij ~ N(0, \sigma^2), and the i's range over some group? This is
> basically a group of regression models, but I want them handled as one
> unit for the purposes of estimation of \sigma^2 etc. I know that lmList()
> does fit such a model, but does so as a group of separate models. I can
> see that this would be possible to do this using lm() and indicator
> variables, but this seems like a clumsy approach. Surely there is a better
> way.

If you look at the result of
 summary(fm)
where fm is a model fit by lmList you will see that the estimate of
\sigma^2 is the pooled estimate.  All the standard errors, etc. are
based on the pooled estimate of the variance.

Alternatively, the section on linear models in Venables and Ripley
(1999) shows how to use lm to fit separate models like this.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phurd at uts.cc.utexas.edu  Fri Mar 31 23:41:49 2000
From: phurd at uts.cc.utexas.edu (Pete Hurd)
Date: Fri, 31 Mar 2000 15:41:49 -0600 (CST)
Subject: [R] R: one bananna aov() question
Message-ID: <Pine.OSF.4.21.0003311528080.30135-100000@moe.cc.utexas.edu>

Hello world,


I'm trying to do an
anova on data in data.set, dependent variable is a column
named "dep.var", grouping variable is in a column called "indep.var", and
is.factor(indep.var) is TRUE...
why can't I just do aov(dep.var ~ indep.var, data = data.set)?

What have I done to deserve this?!  What gives?  Am I missing something
totlly obvious?  

R-base-1.0.0-1, linux RH 6.1.

---------------------------------------------------------------------

> aov(aggr.resid ~ indiv.code, data = resids.dat)
Error in lm.fit(x, y, offset = offset) : NA/NaN/Inf in foreign function
call (arg 4)
In addition: Warning message: 
"-" not meaningful for factors in: Ops.factor(y, offset) 
> aov(indiv.code ~ aggr.resid, data = resids.dat)
Error in lm.fit(x, y, offset = offset) : NA/NaN/Inf in foreign function
call (arg 4)
In addition: Warning message: 
"-" not meaningful for factors in: Ops.factor(y, offset) 
> resids.dat 
    lizard indiv.code          aggr.resid
1       L1          1  -0.407454158915762
2       L3         21    1.40911506776508
3       L4         23    1.86473558331119
4       L5         24  -0.090884932234919
5       L6         25   -2.09088493223492
6       L7         26    3.36473558331119
7       L9         27  -0.559327664097794
8      L10          2   0.181304809992027
9      L12          4   -3.05932766409779
10     L13          5    3.94067233590221
11     L16          7    1.68130480999203
12     L17          8   -1.31869519000797
13     L18          9   -2.05932766409779
14     L19         10    2.44067233590221
15     L21         13   -1.66682168482594
16     L22         14  0.0925458410842417
17     L23         15   -2.90745415891576
18     L28         19    1.09254584108424
19     L29         20   -1.90745415891576
20      L1          1    2.36694915254237
21      L2         11   -3.56101694915254
22      L3         21    3.36694915254237
23      L4         23    2.43898305084746
24      L5         24  -0.561016949152542
25      L6         25   -2.56101694915254
26      L7         26   -1.56101694915254
27      L9         27    3.21440677966102
28     L10          2   -1.28559322033898
29     L12          4   -2.03135593220339
30     L13          5    2.21440677966102
31     L15          6    4.21440677966102
32     L16          7   0.714406779661017
33     L17          8   -2.28559322033898
34     L18          9   -3.78559322033898
35     L19         10   0.714406779661017
36     L21         13   -2.51016949152542
37     L22         14   0.489830508474576
38     L23         15   -2.03135593220339
39     L24         16   0.489830508474576
40     L25         17   0.489830508474576
41     L27         18    3.98983050847458
42     L28         19   0.489830508474576
43     L29         20   -3.51016949152542
44     L30         22   0.489830508474576
45      L1          1  -0.272561715904491
46      L2         11   -1.71489275596924
47      L3         21    1.72743828409551
48      L5         24  -0.214892755969243
49      L6         25   0.563941723998381
50      L7         26   0.727438284095508
51      L9         27    6.08316471064346
52     L10          2   -1.01295022258195
53     L12          4   -1.91683528935654
54     L13          5    3.48704977741805
55     L15          6    0.98704977741805
56     L16          7   -1.01295022258195
57     L17          8   -2.51295022258195
58     L18          9   -3.51295022258195
59     L19         10    0.98704977741805
60     L21         13  -0.772561715904492
61     L22         14  -0.436058276001619
62     L23         15   -1.65722379603399
63     L25         17    1.22743828409551
64     L27         18   -1.77256171590449
65     L28         19    1.22743828409551
66     L29         20   -1.43605827600162
67     L30         22    1.22743828409551
68      L1          1   -1.11855317206755
69      L2         11   -2.11855317206755
70      L3         21    2.88144682793245
71      L5         24  -0.118553172067549
72      L6         25    3.04130534002739
73      L7         26   -0.51038338658147
74      L9         27    3.00524874486536
75     L10          2    0.68553172067549
76     L12          4   -1.99475125513464
77     L13          5    3.68553172067549
78     L15          6   -1.81446827932451
79     L16          7   -1.81446827932451
80     L17          8   -3.31446827932451
81     L18          9    0.68553172067549
82     L19         10    2.68553172067549
83     L20         12   -1.54643998174350
84     L21         13   0.953560018256504
85     L22         14  -0.546439981743496
86     L23         15   -1.76277955271565
87     L25         17   0.953560018256504
88     L27         18  -0.458694659972615
89     L29         20   -1.45869465997261
90      L1          1   0.974581939799329
91      L2         11   0.974581939799331
92      L3         21   0.974581939799331
93      L5         24   -1.02541806020067
94      L6         25  -0.723745819397993
95      L7         26    2.97458193979933
96      L9         27    1.46220735785953
97     L10          2   -3.71137123745819
98     L12          4  -0.211371237458194
99     L16          7   -2.21137123745819
100    L17          8   -3.71137123745819
101    L19         10    1.83411371237458
102    L21         13   0.602675585284281
103    L22         14   -2.22374581939799
104    L23         15  -0.665886287625418
105    L24         16    2.60267558528428
106    L25         17  -0.897324414715719
107    L27         18    2.60267558528428
108    L28         19   0.602675585284281
109    L29         20  -0.223745819397993
110     L1          1   0.411073387307392
111     L2         11    1.91107338730739
112     L3         21    2.91107338730739
113     L5         24   0.411073387307391
114     L6         25   -2.08892661269261
115     L7         26   -1.08892661269261
116     L9         27    3.26390702533298
117    L10          2   -2.42713502219901
118    L12          4  -0.427135022199008
119    L13          5    1.57286497780099
120    L16          7   -2.42713502219901
121    L17          8   -3.92713502219901
122    L19         10    1.26390702533299
123    L21         13  -0.265343431705406
124    L22         14   -2.06698876991382
125    L23         15   -1.40519717942021
126    L24         16    1.73465656829459
127    L25         17    1.73465656829459
128    L28         19    1.73465656829459
129    L29         20  -0.912509793679812
130    L30         22   0.087490206320188
131     L1          1   -1.80627454930003
132     L2         11    2.19372545069997
133     L4         23   -0.80627454930003
134     L5         24    0.19372545069997
135     L6         25  -0.607362272132138
136     L7         26    2.19372545069997
137     L9         27    3.02089837848726
138    L10          2   -2.62040487460973
139    L13          5  -0.120404874609729
140    L15          6   -1.62040487460973
141    L16          7   -4.12040487460973
142    L17          8   -0.97910162151274
143    L20         12 -0.0497532480612345
144    L21         13  -0.376926175848525
145    L22         14   -2.04975324806123
146    L23         15   -1.16497129620304
147    L24         16   0.950246751938766
148    L25         17    4.45024675193877
149    L27         18    1.62307382415148
150    L28         19    3.12307382415147
151    L29         20   -1.04975324806123
152    L30         22  -0.376926175848525
153     L1          1   0.786370666909293
154     L2         11   -1.21362933309071
155     L3         21    3.28637066690929
156     L4         23    2.28637066690929
157     L5         24    0.78637066690929
158     L6         25   -1.83823128013829
159     L7         26   -1.21362933309071
160     L9         27  -0.213174415430807
161    L12          4   0.536256937494313
162    L13          5    4.78682558456919
163    L15          6   -3.96374306250569
164    L16          7   0.536256937494313
165    L17          8   -3.96374306250569
166    L18          9   -2.46374306250569
167    L19         10    1.78682558456919
168    L20         12   -2.58811755072332
169    L21         13    1.53648439632427
170    L22         14  0.0364843963242653
171    L23         15   -2.58811755072332
172    L24         16   0.536029478664361
173    L25         17    4.03648439632426
174    L27         18   -1.96351560367573
175    L28         19    2.03602947866436
176    L29         20  -0.963515603675735
> 

-----------------------------------------------

-- 
Pete Hurd
phurd at uts.cc.utexas.edu
http://www.zo.utexas.edu/research/phurd
Section of Integrative Biology, University of Texas, Austin TX 78712 USA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From liu.262 at osu.edu  Fri Mar 31 12:38:49 2000
From: liu.262 at osu.edu (Kaiya Liu)
Date: Fri, 31 Mar 2000 12:38:49 +0200
Subject: [R] lme degrees of freedoms: SAS and R
Message-ID: <5.0.0.25.2.20000331120841.01d99eb0@pop.service.ohio-state.edu>

Dear list,

I ran a mixed effect model using R 1.4.1 and SAS 8.0 on the SIMS data found 
in the SASmixed package and found that the degrees of freedoms for fixed 
effects are very different.
 From R, df = n - v -1 where n is total # of observations, v is the # of 
levels for the grouping factor. From SAS df = v -1. Am I wrong about this 
or can somebody explain which is correct and why?

Thanks a lot!

Kaiya Liu

-------------------------------------
Here are the codes:

For R:
 > formula (SIMS)
Gain ~ Pretot | Class
 > data(SIMS)
 > fm1SIMS <- lme(Gain ~ Pretot, data = SIMS, random = ~ Pretot | Class, 
control = list(msVerbose = TRUE))
 > summary (fm1SIMS)
_________________________________
For SAS:

proc mixed data=sims;
    class class;
    model gain = pretot / solution;
    random intercept pretot / subject=class type=un;
run;

Most of the results are comparable except the degrees of freedoms for the 
fixed effects:

 From R: DF = 3500

Fixed effects: Gain ~ Pretot
                 Value Std.Error   DF   t-value p-value
(Intercept)  7.066218 0.3631916 3500  19.45589  <.0001
Pretot      -0.187538 0.0163680 3500 -11.45756  <.0001

Number of Observations: 3691
Number of Groups: 190
__________________________________________________________
 From SAS: DF = 189

                     Solution for Fixed Effects

                                          Standard
                 Effect       Estimate       Error      DF    t 
Value    Pr > |t|

                 Intercept      7.0595      0.3658     189      19.30 
<.0001
                 pretot        -0.1860     0.01610     189     -11.56 
<.0001

-----------------------------------------------------------
Kaiya Liu
School of Journalism and Communication
Ohio State University

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


