From myotis at cix.compulink.co.uk  Fri Feb  1 00:10:00 2002
From: myotis at cix.compulink.co.uk (Graham Smith)
Date: Thu, 31 Jan 2002 23:10 +0000 (GMT)
Subject: [R] obvious answer
Message-ID: <memo.451862@cix.compulink.co.uk>

I apologise for this question, as I'm sure the answer has got to be 
obvious, but I am trying to follow the John Maindonald tutorial and have 
stumbled at the first page. 

I have sussed out that I need to use the source command rather than the 
read.table command as illustrated in the tutorial, but the data isn't 
reading in properly with additional names at the beginning and end of the 
data. $value and $visible. I am obviously missing something here and would 
appreciate some help on what I'm doing wrong.

Many thanks,

Graham S


> austpop<- source ("austpop.r")
> austpop
$value
  Year  NSW Vic.  Qld   SA   WA Tas.  NT ACT Aust.
1 1917 1904 1409  683  440  306  193   5   3  4941
2 1927 2402 1727  873  565  392  211   4   8  6182
3 1937 2693 1853  993  589  457  233   6  11  6836
4 1947 2985 2055 1106  646  502  257  11  17  7579
5 1957 3625 2656 1413  873  688  326  21  38  9640
6 1967 4295 3274 1700 1110  879  375  62 103 11799
7 1977 5002 3837 2130 1286 1204  415 104 214 14192
8 1987 5617 4210 2675 1393 1496  449 158 265 16264
9 1997 6274 4605 3401 1480 1798  474 187 310 18532

$visible
[1] FALSE

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Feb  1 00:42:05 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Feb 2002 00:42:05 +0100
Subject: [R] obvious answer
In-Reply-To: <memo.451862@cix.compulink.co.uk>
References: <memo.451862@cix.compulink.co.uk>
Message-ID: <x2r8o6ay0i.fsf@blueberry.kubism.ku.dk>

myotis at cix.compulink.co.uk (Graham Smith) writes:

> I apologise for this question, as I'm sure the answer has got to be 
> obvious, but I am trying to follow the John Maindonald tutorial and have 
> stumbled at the first page. 

Link? (I suppose that I could find it, but it is you problem...)

> I have sussed out that I need to use the source command rather than the 
> read.table command as illustrated in the tutorial, but the data isn't 
> reading in properly with additional names at the beginning and end of the 
> data. $value and $visible. I am obviously missing something here and would 
> appreciate some help on what I'm doing wrong.
> 
> Many thanks,
> 
> Graham S
> 
> 
> > austpop<- source ("austpop.r")
> > austpop
> $value
>   Year  NSW Vic.  Qld   SA   WA Tas.  NT ACT Aust.
> 1 1917 1904 1409  683  440  306  193   5   3  4941
> 2 1927 2402 1727  873  565  392  211   4   8  6182
> 3 1937 2693 1853  993  589  457  233   6  11  6836
> 4 1947 2985 2055 1106  646  502  257  11  17  7579
> 5 1957 3625 2656 1413  873  688  326  21  38  9640
> 6 1967 4295 3274 1700 1110  879  375  62 103 11799
> 7 1977 5002 3837 2130 1286 1204  415 104 214 14192
> 8 1987 5617 4210 2675 1393 1496  449 158 265 16264
> 9 1997 6274 4605 3401 1480 1798  474 187 310 18532
> 
> $visible
> [1] FALSE

You don't normally assign the result of source(). Are you sure that you
don't just need 

source("austpop.r")

?

Otherwise, maybe try

austpop <- source ("austpop.r")$value

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Fri Feb  1 01:34:55 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Fri, 1 Feb 2002 13:34:55 +1300 (NZDT)
Subject: No subject
Message-ID: <Pine.SOL.4.21.0202011330400.11655-100000@stat1.stat.auckland.ac.nz>

> myotis at cix.compulink.co.uk (Graham Smith) writes:
>
>> I apologise for this question, as I'm sure the answer has got to be
>> obvious, but I am trying to follow the John Maindonald tutorial and
have 
>> stumbled at the first page. 
>
>Link? (I suppose that I could find it, but it is you problem...)

http://wwwmaths.anu.edu.au/~johnm/r/dsets/


>> I have sussed out that I need to use the source command rather than 
>> the
>> read.table command as illustrated in the tutorial, but the data isn't 
>> reading in properly with additional names at the beginning and end of
the 
>> data. $value and $visible. I am obviously missing something here and
would 
>> appreciate some help on what I'm doing wrong.
>> Many thanks,
>> 
>> Graham S
>> 
>> 
>> > austpop<- source ("austpop.r")
>> > austpop
>> $value
>>   Year  NSW Vic.  Qld   SA   WA Tas.  NT ACT Aust.
>> 1 1917 1904 1409  683  440  306  193   5   3  4941
>> 2 1927 2402 1727  873  565  392  211   4   8  6182
>> 3 1937 2693 1853  993  589  457  233   6  11  6836
>> 4 1947 2985 2055 1106  646  502  257  11  17  7579
>> 5 1957 3625 2656 1413  873  688  326  21  38  9640
>> 6 1967 4295 3274 1700 1110  879  375  62 103 11799
>> 7 1977 5002 3837 2130 1286 1204  415 104 214 14192
>> 8 1987 5617 4210 2675 1393 1496  449 158 265 16264
>> 9 1997 6274 4605 3401 1480 1798  474 187 310 18532
>> 
>> $visible
>> [1] FALSE

Where did you get the austpop.r?  If you got it from the URL I pasted
above, then you shouldn't have this problem.  The austpop.R from the URL
does not have what you put above, it is like:
"austpop" <-
structure(list(Year = c(1917, 1927, 1937, 1947, 1957, 1967, 1977, 
1987, 1997), NSW = c(1904, 2402, 2693, 2985, 3625, 4295, 5002, 
5617, 6274), Vic. = c(1409, 1727, 1853, 2055, 2656, 3274, 3837, 
4210, 4605), Qld = c(683, 873, 993, 1106, 1413, 1700, 2130, 2675, 
3401), SA = c(440, 565, 589, 646, 873, 1110, 1286, 1393, 1480
), WA = c(306, 392, 457, 502, 688, 879, 1204, 1496, 1798), Tas. = c(193, 
211, 233, 257, 326, 375, 415, 449, 474), NT = c(5, 4, 6, 11, 
21, 62, 104, 158, 187), ACT = c(3, 8, 11, 17, 38, 103, 214, 265, 
310), Aust. = c(4941, 6182, 6836, 7579, 9640, 11799, 14192, 16264, 
18532)), .Names = c("Year", "NSW", "Vic.", "Qld", "SA", "WA", 
"Tas.", "NT", "ACT", "Aust."), class = "data.frame", row.names = c("1", 
"2", "3", "4", "5", "6", "7", "8", "9"))

You should source this (and only this) in.

Cheers,

Ko-Kang Wang



------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student (Summer Research Assistant)
Department of Statistics
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r_stuff_online at hotmail.com  Fri Feb  1 01:28:03 2002
From: r_stuff_online at hotmail.com (Neil Osborne)
Date: Fri, 1 Feb 2002 00:28:03 -0000
Subject: [R] Novice question : Classification of time series
References: <200201310437.FAA16032@stat.math.ethz.ch>
Message-ID: <OE63EED67lyCNB57QmB000177e3@hotmail.com>

Hello all,

I know this may not be the right forum for this. But I'm relatively new to R
(and it's been a while since I did any serious statistical research). I need
some help in using R for my project. This is what I need to do :

1. Read time series data (of varying time spans) from text files into R
arrays

2. Segregating the time series into "sets" of "classes" that have members
that are highly correlated to fellow members of the same set, but have a low
correlation with members from another set. In other words, members of a set
would "tend" to move together.

3. Print the resulting classifications to a text file.

I'm not sure what would be the most appropriate methodology to use, and even
less sure about which commands to use. I will therefore be extremely
grateful to anyone who can offer some general guidance or at least, point me
in the right direction.

Many thanks in advance

Neil

PS (I'm running R v1.30 on Win2k)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hzi at uol.com.br  Fri Feb  1 04:52:53 2002
From: hzi at uol.com.br (hzi@uol.com.br)
Date: Fri, 1 Feb 2002 01:52:53 -0200
Subject: [R] Problem with recommended files
In-Reply-To: <Pine.LNX.4.31.0201312026030.12597-100000@gannet.stats>; from ripley@stats.ox.ac.uk on Thu, Jan 31, 2002 at 08:27:22PM +0000
References: <3C59A237.9090701@earthlink.net> <Pine.LNX.4.31.0201312026030.12597-100000@gannet.stats>
Message-ID: <20020201015253.C2143@uol.com.br>

On Thu, Jan 31, 2002 at 08:27:22PM +0000, Prof Brian Ripley wrote:
> On Thu, 31 Jan 2002, Micah J. Kimbrough wrote:
> 
> > Hello,
> >       I just wanted to drop you a note about one of the recommended
> > packages. I compiled R-1.4.0 distribution and installed it. I went into
> > the R-recommended temp directory that was created by uncommpressing the
> > tar file. Than I ran R CMD INSTALL *.tar.gz and it worked fine until it
> > got to VR-6.2-13.tar.gz. I got this error: This R is version 1.3.0
> > package 'MASS' depends on R 1.4.0. I am a little confused. I can run R
> > --version and get version 1.4.0 so I wouldn't think I would get this
> > error while running R CMD INSTALL VR-6.2-13.tar.gz. If I remember the
> > docs right the recommended packages are not critcal to using R so I will
> > go ahead and work with R and not worry to much about it. I hope this
> > message helps you though.
> 
> The current R is 1.4.1.  Which recommended do you actually have?
> 
> The problem is that it is finding R 1.3.0, so is this a path problem.
> 
> I suggest you start again with 1.4.1.
>

Hi-

	I'm not sure problems are strictly related, but maybe they are.
	When I was installing packages from XEmacs (ESS), they went to a /tmp
	directory. I installed them as root.

	Is that the default behavior?

	Thank you,

	Henry

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From etptupaf at bs.ehu.es  Fri Feb  1 12:31:59 2002
From: etptupaf at bs.ehu.es (F. Tusell)
Date: Fri, 1 Feb 2002 12:31:59 +0100
Subject: [R] Sampling from a database
Message-ID: <200202011131.g11BVxO1003627@agesi.bs.ehu.es>

I use RODBC  and RpgSQL quite a lot to access  files stored in another
machine under PostgreSQL. Since I am  now using files which do not fit
into R's  memory, I would  like to take  random samples. What  I would
like is to issue a query such as

   SELECT * FROM file WHERE runif > 0.9

with "runif" being a uniformly distributed random number, generated on
the fly; but I  cannot find any way to do that  in PostgreSQL. So far,
my only idea is to create  a new table with two fields, "IDnumber" and
"Random",  fill "IDnumber"  with the  similarly named  field  from the
table to sample, populate "Random"  with random numbers generated in R
and then issue a query for  records where "IDnumber" of the two tables
match AND Random > 0.9.

Seems  to me  clumsy, and  surely there  has to  be a  better  way and
someone knowing SQL can suggest it.


ft.
-- 
Fernando TUSELL                                e-mail:
Departamento de Econometr?a y Estad?stica           etptupaf at bs.ehu.es 
Facultad de CC.EE. y Empresariales             Tel:   (+34)94.601.3733
Avenida Lendakari Aguirre, 83                  Fax:   (+34)94.601.3754
E-48015 BILBAO  (Spain)                        Secr:  (+34)94.601.3740
PGP: finger etptupaf at bsdx01.bs.ehu.es          http://etdx01.bs.ehu.es
----------------------------------------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Feb  1 12:16:08 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 1 Feb 2002 11:16:08 +0000 (GMT)
Subject: [R] R under Windows XP
Message-ID: <Pine.LNX.4.31.0202011112090.3117-100000@gannet.stats>

If you are running Rgui under Windows XP and would prefer the widgets to
have an XP-compatible look-and-feel, you will need to get the file

http://www.stats.ox.ac.uk/pub/RWin/Rgui.exe.manifest

and drop it into the same directory as Rgui.exe (...\rw1041\bin in the
current version).

This seems one of the more obscure arcana introduced with Windows XP.
We will incorporate it into future releases.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hennig at stat.math.ethz.ch  Fri Feb  1 14:08:34 2002
From: hennig at stat.math.ethz.ch (Christian Hennig)
Date: Fri, 1 Feb 2002 14:08:34 +0100 (CET)
Subject: [R] Novice question : Classification of time series
In-Reply-To: <OE63EED67lyCNB57QmB000177e3@hotmail.com>
Message-ID: <Pine.LNX.4.33.0202011352090.10858-100000@florence>

Hi,

something about your classification issue. It seems to me that you do not
want to assume any known class memberships, therefore this is cluster
analysis, unsupervised classification, respectively.

I assume that you have read your data (read.table or scan) and that you can
compute pairwise correlations (cor; the background information you provided
does not suffice for me to tell anything about how to tackle the varying
time spans) between your series.

My suggestion is as follows. Compute a similarity matrix between the
series, similarity defined as correlation+1 or abs(correlation), depending
on how negative correlation is interpreted in your setup.

Perform a distance based cluster analysis method on the matrix. The method of
choice depends on your application and data: How many classes do you want
(and how exactly do you know that)?
How do you expect or want the "shapes" of clusters? - It may be a good idea
to look at the results of a multidimensional scaling on the similarity 
matrix.

Possible methods are e.g. pam (in library cluster) and the various
hierarchical methods provided by hclust and hierclust (they seem to do
almost the same and I do not know which one is better). Take a look on the
help pages to learn more about them.

Best,
Christian 

On Fri, 1 Feb 2002, Neil Osborne wrote:

> Hello all,
> 
> I know this may not be the right forum for this. But I'm relatively new to R
> (and it's been a while since I did any serious statistical research). I need
> some help in using R for my project. This is what I need to do :
> 
> 1. Read time series data (of varying time spans) from text files into R
> arrays
> 
> 2. Segregating the time series into "sets" of "classes" that have members
> that are highly correlated to fellow members of the same set, but have a low
> correlation with members from another set. In other words, members of a set
> would "tend" to move together.
> 
> 3. Print the resulting classifications to a text file.
> 
> I'm not sure what would be the most appropriate methodology to use, and even
> less sure about which commands to use. I will therefore be extremely
> grateful to anyone who can offer some general guidance or at least, point me
> in the right direction.
> 
> Many thanks in advance
> 
> Neil
> 
> PS (I'm running R v1.30 on Win2k)
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
***********************************************************************
Christian Hennig
Seminar fuer Statistik, ETH-Zentrum (LEO), CH-8092 Zuerich (current)
and Fachbereich Mathematik-SPST/ZMS, Universitaet Hamburg
hennig at stat.math.ethz.ch, http://stat.ethz.ch/~hennig/
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.meyer at ci.tuwien.ac.at  Fri Feb  1 14:34:48 2002
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Fri, 01 Feb 2002 14:34:48 +0100
Subject: [R] Novice question : Classification of time series
References: <Pine.LNX.4.33.0202011352090.10858-100000@florence>
Message-ID: <3C5A9978.BEA6FE4A@ci.tuwien.ac.at>

Christian Hennig wrote:
> 
> Hi,
> 
> 
> My suggestion is as follows. Compute a similarity matrix between the
> series, similarity defined as correlation+1 or abs(correlation), depending
> on how negative correlation is interpreted in your setup.

I would add: cor() only measures linear relationships; what about the
euclidian distance: given series x and y, just sqrt(crossprod(x-y))? If
the length differ, it would perhaps be sensible to fill up the shorter
one with 0s (if one thinks that 2 series of very different sizes should
also differ very much).

-d

> 
> Best,
> Christian
> 
> On Fri, 1 Feb 2002, Neil Osborne wrote:
> 
> > Hello all,
> >
> > I know this may not be the right forum for this. But I'm relatively new to R
> > (and it's been a while since I did any serious statistical research). I need
> > some help in using R for my project. This is what I need to do :
> >
> > 1. Read time series data (of varying time spans) from text files into R
> > arrays
> >
> > 2. Segregating the time series into "sets" of "classes" that have members
> > that are highly correlated to fellow members of the same set, but have a low
> > correlation with members from another set. In other words, members of a set
> > would "tend" to move together.
> >
> > 3. Print the resulting classifications to a text file.
> >
> > I'm not sure what would be the most appropriate methodology to use, and even
> > less sure about which commands to use. I will therefore be extremely
> > grateful to anyone who can offer some general guidance or at least, point me
> > in the right direction.
> >
> > Many thanks in advance
> >
> > Neil
> >
> > PS (I'm running R v1.30 on Win2k)
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> --
> ***********************************************************************
> Christian Hennig
> Seminar fuer Statistik, ETH-Zentrum (LEO), CH-8092 Zuerich (current)
> and Fachbereich Mathematik-SPST/ZMS, Universitaet Hamburg
> hennig at stat.math.ethz.ch, http://stat.ethz.ch/~hennig/
> hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
> #######################################################################
> ich empfehle www.boag.de
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
       Department for			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.meyer at ci.tuwien.ac.at  Fri Feb  1 14:43:08 2002
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Fri, 01 Feb 2002 14:43:08 +0100
Subject: [R] Novice question : Classification of time series
References: <Pine.LNX.4.33.0202011352090.10858-100000@florence> <3C5A9978.BEA6FE4A@ci.tuwien.ac.at>
Message-ID: <3C5A9B6C.DF8DDF40@ci.tuwien.ac.at>

> 
> I would add: cor() only measures linear relationships; what about the
> euclidian distance: given series x and y, just sqrt(crossprod(x-y))?

... which is what dist(rbind(x,y)) can do for you for more than two
series in general. (dist() is in package cclust).

-d


> >
> > --
> > ***********************************************************************
> > Christian Hennig
> > Seminar fuer Statistik, ETH-Zentrum (LEO), CH-8092 Zuerich (current)
> > and Fachbereich Mathematik-SPST/ZMS, Universitaet Hamburg
> > hennig at stat.math.ethz.ch, http://stat.ethz.ch/~hennig/
> > hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
> > #######################################################################
> > ich empfehle www.boag.de
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> --
>         Mag. David Meyer                Wiedner Hauptstrasse 8-10
> Vienna University of Technology         A-1040 Vienna/AUSTRIA
>        Department for                   Tel.: (+431) 58801/10772
> Statistics and Probability Theory       mail: david.meyer at ci.tuwien.ac.at
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
       Department for			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Fri Feb  1 14:54:33 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Fri, 1 Feb 2002 08:54:33 -0500 (EST)
Subject: [R] Sampling from a database
In-Reply-To: <200202011131.g11BVxO1003627@agesi.bs.ehu.es>
Message-ID: <Pine.LNX.4.21L1.0202010847070.10519-100000@hm269-26876.socsci.unc.edu>

The standard way to do this under PostgreSQL is:

SELECT * FROM tablename ORDER BY random() LIMIT n;

where n is the number of records you want returned.

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA


On Fri, 1 Feb 2002, F. Tusell wrote:

> I use RODBC  and RpgSQL quite a lot to access  files stored in another
> machine under PostgreSQL. Since I am  now using files which do not fit
> into R's  memory, I would  like to take  random samples. What  I would
> like is to issue a query such as
> 
>    SELECT * FROM file WHERE runif > 0.9
> 
> with "runif" being a uniformly distributed random number, generated on
> the fly; but I  cannot find any way to do that  in PostgreSQL. So far,
> my only idea is to create  a new table with two fields, "IDnumber" and
> "Random",  fill "IDnumber"  with the  similarly named  field  from the
> table to sample, populate "Random"  with random numbers generated in R
> and then issue a query for  records where "IDnumber" of the two tables
> match AND Random > 0.9.
> 
> Seems  to me  clumsy, and  surely there  has to  be a  better  way and
> someone knowing SQL can suggest it.
> 
> 
> ft.
> -- 
> Fernando TUSELL                                e-mail:
> Departamento de Econometría y Estadística           etptupaf at bs.ehu.es 
> Facultad de CC.EE. y Empresariales             Tel:   (+34)94.601.3733
> Avenida Lendakari Aguirre, 83                  Fax:   (+34)94.601.3754
> E-48015 BILBAO  (Spain)                        Secr:  (+34)94.601.3740
> PGP: finger etptupaf at bsdx01.bs.ehu.es          http://etdx01.bs.ehu.es
> ----------------------------------------------------------------------
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Fri Feb  1 16:55:27 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Fri, 01 Feb 2002 10:55:27 -0500
Subject: [R] how to call C from Fortran?
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC853E@usrymx10.merck.com>

Dear R-help,

In the R-ext manual, section 5.6 ("Calling C from FORTRAN and vice versa"),
it seems like only the "vice versa" part is covered.  Can someone explain
(or give an example) on how to do this?  In particular:

o  Is it possible to call the R RNG from Fortran?
o  Is it possible to call the utility routines such as sorting and ranking?

Any help is much appreciated!

Andy


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Feb  1 17:23:46 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 1 Feb 2002 16:23:46 +0000 (GMT)
Subject: [R] how to call C from Fortran?
In-Reply-To: <51F9C42DA15CD311BD220008C707D81903DC853E@usrymx10.merck.com>
Message-ID: <Pine.GSO.4.31.0202011616150.15369-100000@auk.stats>

On Fri, 1 Feb 2002, Liaw, Andy wrote:

> Dear R-help,
>
> In the R-ext manual, section 5.6 ("Calling C from FORTRAN and vice versa"),
> it seems like only the "vice versa" part is covered.  Can someone explain
> (or give an example) on how to do this?  In particular:
>
> o  Is it possible to call the R RNG from Fortran?
> o  Is it possible to call the utility routines such as sorting and ranking?

No, no (directly)

You need to write wrappers in C, declaring entry points with F77_SUB (so
it is covered in that section).

void F77_SUB(forrnd)(double *result)
{
   result[0] = unif_rand();
}

should do the job for the first (untested).

You may be able to define Fortran functions in C, but that is highly
platform-dependent (including compiler-dependent), as return conventions
are not standardized, and on Windows not even documented.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jg_liao at yahoo.com  Fri Feb  1 17:39:32 2002
From: jg_liao at yahoo.com (Jason Liao)
Date: Fri, 1 Feb 2002 08:39:32 -0800 (PST)
Subject: [R] ROC curves using R
Message-ID: <20020201163932.76655.qmail@web10502.mail.yahoo.com>

I did some serach around. It seems that ROC curve computation is not
supported on R. Anyone has some leads? Thanks.

Jason 

=====
Jason G. Liao, Ph.D.
Division of Biometrics
UMDNJ School of Public Health
335 George Street, Suite 2200
New Brunswick, NJ 08903-2688
phone (732) 235-9748, fax (732) 235-9777
http://www.geocities.com/jg_liao

__________________________________________________

Great stuff seeking new owners in Yahoo! Auctions! 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Fri Feb  1 18:16:47 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Fri, 1 Feb 2002 12:16:47 -0500 (EST)
Subject: [R] ROC curves using R
Message-ID: <200202011716.g11HGl725707@cattell.psych.upenn.edu>

What is it that you want to compute?  I have a set of
scripts - written by my colleaged David Brainard in
Matlab and translated to R by me - which we used to teach
signal-detection theory in a grad "methods" course.
But they are very straightforward and not worth putting
into a package.  (I'm sure there is something much more
sophisticated one can do, but you don't say what.)

Some useful R functions (illustrated, and probably
self-explanatory):

zHit <- qnorm(Ph)
zFa <- qnorm(Pfa)
dPrime <- zHit-zFa

zCr <- qnorm(1-Pfa)
Beta <- dnorm(zCr,dPrime,1)/dnorm(zCr,0,1)

And here is the optimal "beta" (criterion):

logBetaOpt <- log((pn/ps)*(Vcr + Vfa)/(Vh + Vm))

Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Fri Feb  1 19:35:25 2002
From: ernesto at ipimar.pt (Ernesto Jardim)
Date: 01 Feb 2002 18:35:25 +0000
Subject: [R] Strange behaviour in "points"
Message-ID: <1012588525.492.20.camel@gandalf>

Hi

I'm using R Version 1.4.0 Patched (2002-01-16) in a SuSE 7.1 box.

I've a plot with the european coastline. After I want to plot a single
point in the map using points, but it plots this point in the wrong
place.

Why is this happening ? Is there a known problem of the points function
?

Regards

EJ

> plot(eucoast,type="l")
> points(c(-15.0,57.5))

ps: shall I send the dat file with the eu coastline ? it?s 56 Kbytes
compressed.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Feb  1 18:41:52 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 1 Feb 2002 17:41:52 +0000 (GMT)
Subject: [R] ROC curves using R
In-Reply-To: <20020201163932.76655.qmail@web10502.mail.yahoo.com>
Message-ID: <Pine.LNX.4.31.0202011739060.6551-100000@gannet.stats>

On Fri, 1 Feb 2002, Jason Liao wrote:

> I did some serach around. It seems that ROC curve computation is not
> supported on R. Anyone has some leads? Thanks.

http://www.mayo.edu/hsr/Sfunc.html

has

roc
This shar archive contains functions to calculate plots associated with
Sensitivity and Specificity, along with pairwise comparisons of the area
under the curve. Doug Mahoney(mahoney at mayo.edu) & Beth Atkinson
[17/Apr/2001] (80k)

That's for S (probably S3) but porting to R should be a breeze.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hennig at stat.math.ethz.ch  Fri Feb  1 19:08:36 2002
From: hennig at stat.math.ethz.ch (Christian Hennig)
Date: Fri, 1 Feb 2002 19:08:36 +0100 (CET)
Subject: [R] matrix with ncol=1
Message-ID: <Pine.LNX.4.33.0202011908090.10858-100000@florence>

Hello list,

I try to optimize some R code and it turns out that the function as.matrix
takes a lot of time in my code. There is only one reason why I need
as.matrix: My code should work for matrices with ncol=p and p should be
allowed to be 1 or larger.

Now I have a matrix x with dim(x)=(n,p), and
I need to work with the submatrix y <-x[gv,], (gv a vector of
n logicals) and to calculate cov(y) and other functions for matrices. 
Unfortunately, if p=1, y is no longer a matrix, cov(y) gives an error,
and therefore I use y <- as.matrix(x[gv,]) which makes my program 
surprisingly slower (this is because lots of gv-vectors are needed).

Is there any way to handle submatrices of matrices with p=1 in the same
manner than with p>1 without using as.matrix?

Best,
Christian



-- 
***********************************************************************
Christian Hennig
Seminar fuer Statistik, ETH-Zentrum (LEO), CH-8092 Zuerich (current)
and Fachbereich Mathematik-SPST/ZMS, Universitaet Hamburg
hennig at stat.math.ethz.ch, http://stat.ethz.ch/~hennig/
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Feb  1 19:15:23 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 1 Feb 2002 10:15:23 -0800 (PST)
Subject: [R] matrix with ncol=1
In-Reply-To: <Pine.LNX.4.33.0202011908090.10858-100000@florence>
Message-ID: <Pine.A41.4.44.0202011014590.54986-100000@homer16.u.washington.edu>

On Fri, 1 Feb 2002, Christian Hennig wrote:

> Hello list,
>
> I try to optimize some R code and it turns out that the function as.matrix
> takes a lot of time in my code. There is only one reason why I need
> as.matrix: My code should work for matrices with ncol=p and p should be
> allowed to be 1 or larger.
>
> Now I have a matrix x with dim(x)=(n,p), and
> I need to work with the submatrix y <-x[gv,], (gv a vector of
> n logicals) and to calculate cov(y) and other functions for matrices.
> Unfortunately, if p=1, y is no longer a matrix, cov(y) gives an error,
> and therefore I use y <- as.matrix(x[gv,]) which makes my program
> surprisingly slower (this is because lots of gv-vectors are needed).
>
> Is there any way to handle submatrices of matrices with p=1 in the same
> manner than with p>1 without using as.matrix?

Yes. It's a FAQ. x[gv,,drop=FALSE]


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Feb  1 19:15:46 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 1 Feb 2002 18:15:46 +0000 (GMT)
Subject: [R] matrix with ncol=1
In-Reply-To: <Pine.LNX.4.33.0202011908090.10858-100000@florence>
Message-ID: <Pine.LNX.4.31.0202011813300.6868-100000@gannet.stats>

On Fri, 1 Feb 2002, Christian Hennig wrote:

> Hello list,
>
> I try to optimize some R code and it turns out that the function as.matrix
> takes a lot of time in my code. There is only one reason why I need
> as.matrix: My code should work for matrices with ncol=p and p should be
> allowed to be 1 or larger.
>
> Now I have a matrix x with dim(x)=(n,p), and
> I need to work with the submatrix y <-x[gv,], (gv a vector of
> n logicals) and to calculate cov(y) and other functions for matrices.
> Unfortunately, if p=1, y is no longer a matrix, cov(y) gives an error,
> and therefore I use y <- as.matrix(x[gv,]) which makes my program
> surprisingly slower (this is because lots of gv-vectors are needed).

You intended x[gv,,drop=FALSE], I believe.

> Is there any way to handle submatrices of matrices with p=1 in the same
> manner than with p>1 without using as.matrix?

Yes.  Omitting drop=F(ALSE) is a common mistake in S/R programming.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Fri Feb  1 19:49:54 2002
From: chong at stat.purdue.edu (Chong Gu)
Date: Fri, 1 Feb 2002 13:49:54 -0500
Subject: [R] matrix with ncol=1
In-Reply-To: <Pine.LNX.4.33.0202011908090.10858-100000@florence> (message from
	Christian Hennig on Fri, 1 Feb 2002 19:08:36 +0100 (CET))
Message-ID: <200202011849.NAA113048@odds.stat.purdue.edu>

   X-Authentication-Warning: florence.ethz.ch: hennig owned process doing -bs
   Date: Fri, 1 Feb 2002 19:08:36 +0100 (CET)
   From: Christian Hennig <hennig at stat.math.ethz.ch>
   X-X-Sender:  <hennig at florence>
   MIME-Version: 1.0
   Content-Type: TEXT/PLAIN; charset=US-ASCII
   Sender: owner-r-help at stat.math.ethz.ch
   Precedence: SfS-bulk

   Hello list,

   I try to optimize some R code and it turns out that the function as.matrix
   takes a lot of time in my code. There is only one reason why I need
   as.matrix: My code should work for matrices with ncol=p and p should be
   allowed to be 1 or larger.

   Now I have a matrix x with dim(x)=(n,p), and
   I need to work with the submatrix y <-x[gv,], (gv a vector of
   n logicals) and to calculate cov(y) and other functions for matrices. 
   Unfortunately, if p=1, y is no longer a matrix, cov(y) gives an error,
   and therefore I use y <- as.matrix(x[gv,]) which makes my program 
   surprisingly slower (this is because lots of gv-vectors are needed).

   Is there any way to handle submatrices of matrices with p=1 in the same
   manner than with p>1 without using as.matrix?

   Best,
   Christian



   -- 
   ***********************************************************************
   Christian Hennig
   Seminar fuer Statistik, ETH-Zentrum (LEO), CH-8092 Zuerich (current)
   and Fachbereich Mathematik-SPST/ZMS, Universitaet Hamburg
   hennig at stat.math.ethz.ch, http://stat.ethz.ch/~hennig/
   hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
   #######################################################################
   ich empfehle www.boag.de


   -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   Send "info", "help", or "[un]subscribe"
   (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


Does y<-x[gv,,drop=FALSE] work?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tfagan at nextaction.net  Fri Feb  1 21:03:22 2002
From: tfagan at nextaction.net (Tony Fagan)
Date: Fri, 1 Feb 2002 13:03:22 -0700
Subject: [R] install mandrake 8.1
Message-ID: <001801c1ab5b$8092ea10$72836441@lhotse>

When I install the new RPM for Mandrake 8.1, it fails and cannot find:
libblas.so.3, libgcc_s.so.1, and libgcc_s_so.1 (GLIBC_2.0). Any help would
be very much appreciated. Thanks.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tfagan at nextaction.net  Fri Feb  1 21:04:08 2002
From: tfagan at nextaction.net (Tony Fagan)
Date: Fri, 1 Feb 2002 13:04:08 -0700
Subject: [R] install mandrake 8.1
Message-ID: <002201c1ab5b$9bfd7fe0$72836441@lhotse>

When I install the new RPM for Mandrake 8.1, it fails and cannot find:
libblas.so.3, libgcc_s.so.1, and libgcc_s_so.1 (GLIBC_2.0). Any help would
be very much appreciated. Thanks.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ycheng at cooperinst.org  Fri Feb  1 21:27:07 2002
From: ycheng at cooperinst.org (Cheng, Yiling)
Date: Fri, 1 Feb 2002 14:27:07 -0600 
Subject: [R] ROC curves using R
Message-ID: <55686C29832DD311A3CF00902784B9C298F7F3@CICORP>

ROC (receiver operating characteristic) curve is used to determine of
cutpoints for screening or diagnostic tests. It have been widely used in
Epidemiology area. Usually we use logistic regression to get this kind
curve. If anyone knows how to get this curve and do statistic test for two
curve, do please let me know too. Thanks in advance.
Yiling Cheng

-----Original Message-----
From: baron at cattell.psych.upenn.edu
[mailto:baron at cattell.psych.upenn.edu]
Sent: Friday, February 01, 2002 11:17 AM
To: jg_liao at yahoo.com; r-help at stat.math.ethz.ch
Subject: Re: [R] ROC curves using R


What is it that you want to compute?  I have a set of
scripts - written by my colleaged David Brainard in
Matlab and translated to R by me - which we used to teach
signal-detection theory in a grad "methods" course.
But they are very straightforward and not worth putting
into a package.  (I'm sure there is something much more
sophisticated one can do, but you don't say what.)

Some useful R functions (illustrated, and probably
self-explanatory):

zHit <- qnorm(Ph)
zFa <- qnorm(Pfa)
dPrime <- zHit-zFa

zCr <- qnorm(1-Pfa)
Beta <- dnorm(zCr,dPrime,1)/dnorm(zCr,0,1)

And here is the optimal "beta" (criterion):

logBetaOpt <- log((pn/ps)*(Vcr + Vfa)/(Vh + Vm))

Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jg_liao at yahoo.com  Fri Feb  1 21:33:43 2002
From: jg_liao at yahoo.com (Jason Liao)
Date: Fri, 1 Feb 2002 12:33:43 -0800 (PST)
Subject: [R] ROC curves using R, summary
In-Reply-To: <000101c1ab5d$34af5aa0$0201a8c0@Marc>
Message-ID: <20020201203343.50784.qmail@web10504.mail.yahoo.com>

Thanks for all (7-8 people) who replied. It seems that the most ready
to use solution is the ROC package written by (my friend) Vincent J.
Carey available at

http://biowww.dfci.harvard.edu/~bioconductor/

I have used it for two hours without problem except the PlotROC
function is missing. But Vincent promised to fix it soon (probably next
week). 

Thanks to Professor Robert Gentleman for pointing the site.

Jason
 


=====
Jason G. Liao, Ph.D.
Division of Biometrics
UMDNJ School of Public Health
335 George Street, Suite 2200
New Brunswick, NJ 08903-2688
phone (732) 235-9748, fax (732) 235-9777
http://www.geocities.com/jg_liao

__________________________________________________

Great stuff seeking new owners in Yahoo! Auctions! 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Feb  1 22:06:53 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 01 Feb 2002 22:06:53 +0100
Subject: [R] Strange behaviour in "points"
References: <1012588525.492.20.camel@gandalf>
Message-ID: <3C5B036D.59F8675F@statistik.uni-dortmund.de>

Ernesto Jardim wrote:
> 
> Hi
> 
> I'm using R Version 1.4.0 Patched (2002-01-16) in a SuSE 7.1 box.
> 
> I've a plot with the european coastline. After I want to plot a single
> point in the map using points, but it plots this point in the wrong
> place.
> 
> Why is this happening ? Is there a known problem of the points function
> ?
> 
> Regards
> 
> EJ
> 
> > plot(eucoast,type="l")
> > points(c(-15.0,57.5))

Let me guess, and sorry if I am wrong:

You want to plot the point at   
 x = -15
 y = 57.5

but you told R to plot it at:
 x = 1, 2
 y = -15, 57.5

So what you should try is:
 points(-15.0, 57.5)


> ps: shall I send the dat file with the eu coastline ? it?s 56 Kbytes
> compressed.

Maybe there is no need to do this, but if so, just put it on your web
page and tell us the location (reducing bandwidth).

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Fri Feb  1 22:28:22 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Fri, 1 Feb 2002 16:28:22 -0500
Subject: [R] ROC curves using R
In-Reply-To: <55686C29832DD311A3CF00902784B9C298F7F3@CICORP>
References: <55686C29832DD311A3CF00902784B9C298F7F3@CICORP>
Message-ID: <20020201162822.2e42cfc8.fharrell@virginia.edu>

For the purposes for which you mention, using ROC curves results in a number of serious problems.  Full post-test probability models are generally recommended, without dichotomization of post-test probabilities until the point at which individual-patient utilities can be estimated.

Frank Harrell

On Fri, 1 Feb 2002 14:27:07 -0600 
"Cheng, Yiling" <ycheng at cooperinst.org> wrote:

> ROC (receiver operating characteristic) curve is used to determine of
> cutpoints for screening or diagnostic tests. It have been widely used in
> Epidemiology area. Usually we use logistic regression to get this kind
> curve. If anyone knows how to get this curve and do statistic test for two
> curve, do please let me know too. Thanks in advance.
> Yiling Cheng
> 
> -----Original Message-----
> From: baron at cattell.psych.upenn.edu
> [mailto:baron at cattell.psych.upenn.edu]
> Sent: Friday, February 01, 2002 11:17 AM
> To: jg_liao at yahoo.com; r-help at stat.math.ethz.ch
> Subject: Re: [R] ROC curves using R
> 
> 
> What is it that you want to compute?  I have a set of
> scripts - written by my colleaged David Brainard in
> Matlab and translated to R by me - which we used to teach
> signal-detection theory in a grad "methods" course.
> But they are very straightforward and not worth putting
> into a package.  (I'm sure there is something much more
> sophisticated one can do, but you don't say what.)
> 
> Some useful R functions (illustrated, and probably
> self-explanatory):
> 
> zHit <- qnorm(Ph)
> zFa <- qnorm(Pfa)
> dPrime <- zHit-zFa
> 
> zCr <- qnorm(1-Pfa)
> Beta <- dnorm(zCr,dPrime,1)/dnorm(zCr,0,1)
> 
> And here is the optimal "beta" (criterion):
> 
> logBetaOpt <- log((pn/ps)*(Vcr + Vfa)/(Vh + Vm))
> 
> Jon Baron
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jonathan_li at agilent.com  Sat Feb  2 00:32:35 2002
From: jonathan_li at agilent.com (jonathan_li@agilent.com)
Date: Fri, 1 Feb 2002 15:32:35 -0800 
Subject: [R] R-ex directory in a R package; large software in R
Message-ID: <FC0B9DA2600ED4118F76009027AA5DDD02B27B5F@ALEX2>

Hi,

To better organize a package, one sometimes wants to place some individual R
files in R-ex directory (at least this
is the way I understand the functionality of R-ex). But how does one
organize the source R package so that 
R CMD INSTALL pkg will know which R files will go into the R-ex directory?
In the implementation R CMD INSTALL pkg, all R files in the pkg/R directory
are automatically merged into a single file. 

A more general and related question is: how does one organize R files in a
package? Should they all just go into pkg/R? To create a large package, this
way of organization is not very desirable. Most of R packages seem to be
relatively small so far. But I am hoping that some larger software can be
built around R. Can people comment on this?

Thanks!

Regards,
Jonathan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Sat Feb  2 01:00:03 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 1 Feb 2002 16:00:03 -0800 (PST)
Subject: [R] R-ex directory in a R package; large software in R
In-Reply-To: <FC0B9DA2600ED4118F76009027AA5DDD02B27B5F@ALEX2>
Message-ID: <Pine.A41.4.44.0202011544131.54986-100000@homer16.u.washington.edu>

On Fri, 1 Feb 2002 jonathan_li at agilent.com wrote:

> Hi,
>
> To better organize a package, one sometimes wants to place some individual R
> files in R-ex directory (at least this
> is the way I understand the functionality of R-ex).

No. R-ex/ contains examples automatically extracted from the help pages.
You can put tests in tests/ and other stuff you want installed in inst/


> A more general and related question is: how does one organize R files in a
> package? Should they all just go into pkg/R? To create a large package, this
> way of organization is not very desirable. Most of R packages seem to be
> relatively small so far. But I am hoping that some larger software can be
> built around R. Can people comment on this?


Presumably it wouldn't be too hard to allow the src/ and R/ subdirectories
to have further subdirectories.

On the other hand, if the source code really does break into nice modular
subdirectories it probably should be a bundle of packages rather than a
single package. Paul Gilbert has taken this approach with his time-series
software, and in a sense R-base does this too.

Also, there's no reason why the structure of a package has to reflect the
structure of your development tree. You might have a huge set of
subdirectories and a make target that produces an R package or bundle of
packages.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From liu.262 at osu.edu  Sat Feb  2 03:40:37 2002
From: liu.262 at osu.edu (Kaiya Liu)
Date: Fri, 01 Feb 2002 21:40:37 -0500
Subject: [R] Testing [please delete]
In-Reply-To: <Pine.A41.4.44.0202011544131.54986-100000@homer16.u.washing
 ton.edu>
References: <FC0B9DA2600ED4118F76009027AA5DDD02B27B5F@ALEX2>
Message-ID: <5.1.0.14.2.20020201213826.00a023d0@pop.service.ohio-state.edu>

Testing!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020201/e4cc12d6/attachment.html

From ripley at stats.ox.ac.uk  Sat Feb  2 09:03:59 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 2 Feb 2002 08:03:59 +0000 (GMT)
Subject: [R] R-ex directory in a R package; large software in R
In-Reply-To: <FC0B9DA2600ED4118F76009027AA5DDD02B27B5F@ALEX2>
Message-ID: <Pine.GSO.4.31.0202020752150.15523-100000@auk.stats>

On Fri, 1 Feb 2002 jonathan_li at agilent.com wrote:

[...]

> A more general and related question is: how does one organize R files in a
> package? Should they all just go into pkg/R? To create a large package, this
> way of organization is not very desirable. Most of R packages seem to be
> relatively small so far. But I am hoping that some larger software can be
> built around R. Can people comment on this?

I would dispute that there are not examples of large packages: certainly
some involve man-years of work.  You will notice that pkg/R is normally
organized into files, each file containing a collection of related
functions. It doen't need to be like that: rpart for example is `one
function, one file' but built from a particular SCCS organization.
But unless the project is really large that seems a natural level of
granularity.

As Thomas has commented, a source package is a distribution model. That is
not how for masters of, e.g. the VR bundle are stored but rather generated
by a script.  For personal use one can omit the INSTALL set and build a
binary package directly if more convenient.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikalzet at libero.it  Sat Feb  2 09:47:25 2002
From: mikalzet at libero.it (mikalzet@libero.it)
Date: Sat, 2 Feb 2002 09:47:25 +0100 (CET)
Subject: [R] Re: R install problem
In-Reply-To: <000801c1ab58$4679be60$72836441@lhotse>
Message-ID: <Pine.LNX.4.33L2.0202020939460.5067-100000@localhost.localdomain>

On Fri, 1 Feb 2002, Tony Fagan wrote:

> I downloaded your RPM and tried installing it on Madrake 8.1.
> It failed and said it could not find:
>
> libblas.so.3

To install these, from console as root do:

urpmi liblapack3

> libgcc_s.so.1
> libgcc_s.so.1 (GLIBC_2.0)

urpmi libgcc3

-- 
Michele Alzetta


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Sat Feb  2 14:02:10 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Sat, 2 Feb 2002 14:02:10 +0100 (MET)
Subject: [R] question from a beginner
In-Reply-To: <20020131012400.B6526@uol.com.br>
Message-ID: <Pine.OSF.3.96.1020202135637.22294A-100000@ija.csic.es>


On Thu, 31 Jan 2002 hzi at uol.com.br wrote:

> On Wed, Jan 30, 2002 at 06:49:00PM -0500, Ben Bolker wrote:
> > 
> >   No, not really.
> >   There are some facilities if you want to *design* GUIs for other people
> > to use, e.g. the Tcl/Tk extensions or Rweb (www.math.montana.edu/Rweb/),
> > but nothing where you can start from scratch with an arbitrary set of
> > data.  R is much more process-oriented: if you know what you want to do
> > (linear regression, ANOVA, etc.), it should be fairly easy to find the
> > commands that do what you want.  S-PLUS has GUI facilities, although I
> > haven't tried them.  I think there is a fairly strong philosophy among
> > most R developers that the "right" way to do things is to learn some of
> > the underlying foundations so that you can really understand what you are
> > doing.  It is easier to go wrong with GUIs -- although there are lots of
> > confounding factors, and GUIs can be designed in better or worse ways.
> >
> 
> 	As true as it what you've said may be, one sometimes wishes for a little GUI
> functionality.
> 	If one __were__ to develop (say something with Tk), or any other contribution
> in that sense, how could one distribute it)?
> 	Little tedious things like summary and histograms...
> 
> 	Cheers,
> 
> 	Henry L

I agree, some basic functionality in a menu would be handy, like,
for example, being able to print or save displayed graphics or geting a
window with an object browser. 

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From johnfield at ozemail.com.au  Sat Feb  2 16:50:57 2002
From: johnfield at ozemail.com.au (John Field)
Date: Sun, 03 Feb 2002 02:20:57 +1030
Subject: [R] chron problem: extracting days and years
Message-ID: <4.3.2.7.2.20020203020957.00ad2410@pop.ozemail.com.au>

Hello r-help,

I'm trying to split a character vector of dates of the form "dd-mmm-yy" 
into component days, months and years. But

 > library(chron)
 > testdate<-as.POSIXlt(strptime("17-Sep-98","%d-%b-%y"))
 > testdate
[1] "1998-09-17"
 > months(testdate)
[1] "September"    # which is fine, but for days and years I get
 > days(testdate)
NULL
 > years(testdate)
NULL
 >

According to "?days" these should work.  What am I doing wrong?  Is there 
an easier way to achieve what I want?
(I'm running R1.3.0 under Win98).

Many thanks,
John Field

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Feb  2 17:49:56 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 2 Feb 2002 16:49:56 +0000 (GMT)
Subject: [R] chron problem: extracting days and years
In-Reply-To: <4.3.2.7.2.20020203020957.00ad2410@pop.ozemail.com.au>
Message-ID: <Pine.LNX.4.31.0202021635050.14814-100000@gannet.stats>

as.POSIXlt is nothing to do with chron.  You are confusing two systems.
months() is part of base R: days() is not, and it does not say it works
with R's dates.

The answer is on the help page for months(), BTW:

> c(testdate$mday, testdate$year)
[1] 17  98

or look at ?strftime for e.g.

> format(testdate, "%Y")
[1] "1998"
> format(testdate, "%d")
[1] "17"

if you want a character string.

On Sun, 3 Feb 2002, John Field wrote:

> Hello r-help,
>
> I'm trying to split a character vector of dates of the form "dd-mmm-yy"
> into component days, months and years. But
>
>  > library(chron)
>  > testdate<-as.POSIXlt(strptime("17-Sep-98","%d-%b-%y"))
>  > testdate
> [1] "1998-09-17"
>  > months(testdate)
> [1] "September"    # which is fine, but for days and years I get
>  > days(testdate)
> NULL
>  > years(testdate)
> NULL
>  >
>
> According to "?days" these should work.  What am I doing wrong?  Is there
> an easier way to achieve what I want?
> (I'm running R1.3.0 under Win98).

An R upgrade is long overdue ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Sat Feb  2 22:42:43 2002
From: ernesto at ipimar.pt (Ernesto Jardim)
Date: Sat, 02 Feb 2002 21:42:43 +0000
Subject: [R] Strange behaviour in "points"
References: <1012588525.492.20.camel@gandalf> <3C5B036D.59F8675F@statistik.uni-dortmund.de>
Message-ID: <3C5C5D53.2020405@ipimar.pt>

Yes, you're rigth !

With points(-15,57.5) it works.

Regards

EJ

Uwe Ligges wrote:

>Ernesto Jardim wrote:
>
>>Hi
>>
>>I'm using R Version 1.4.0 Patched (2002-01-16) in a SuSE 7.1 box.
>>
>>I've a plot with the european coastline. After I want to plot a single
>>point in the map using points, but it plots this point in the wrong
>>place.
>>
>>Why is this happening ? Is there a known problem of the points function
>>?
>>
>>Regards
>>
>>EJ
>>
>>>plot(eucoast,type="l")
>>>points(c(-15.0,57.5))
>>>
>
>Let me guess, and sorry if I am wrong:
>
>You want to plot the point at   
> x = -15
> y = 57.5
>
>but you told R to plot it at:
> x = 1, 2
> y = -15, 57.5
>
>So what you should try is:
> points(-15.0, 57.5)
>
>
>>ps: shall I send the dat file with the eu coastline ? it?s 56 Kbytes
>>compressed.
>>
>
>Maybe there is no need to do this, but if so, just put it on your web
>page and tell us the location (reducing bandwidth).
>
>Uwe Ligges
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020202/28c3c657/attachment.html

From robut at forest.go.th  Sun Feb  3 09:50:56 2002
From: robut at forest.go.th (Robert Cunningham)
Date: Sun, 3 Feb 2002 15:50:56 +0700
Subject: [R] expressions in legends
Message-ID: <15452.63984.437100.628110@gargle.gargle.HOWL>

Dear R-users,

A few days ago I met the problem of using text produced with
expression() in legend() being elevated relative to text produced
without the expression() so that the alignment with pch and lty is
also messed up. After ferreting through the help I finally came across
an answer, the adj argument of legend(). You can see and example of
this in the Math expressions example section of ?legends. Of course,
many users would, I am sure, overlook this option and 'put up' with
the mis-aligned legend. I wonder why expression() causes this problem
and whether anything can be done about it (other that the adj hack).


For those unaware of the problem paste this example into your R.

plot(1:10,1:10)
legend(1,10,"Non expression_species",pch=21,lty=1,bty='n')
legend(5,10,expression(italic("Expression species")),pch=21,lty=1,bty='n',col=2)
legend(8.1,10,expression(italic("E. species")),pch=21,lty=1,bty='n',col=2,adj=c(0,0.6))

The first legend key is ordinary text, the second expression(italic())
with no adjustment, the third with the adjustment.

Cheers,


Robert Cunningham

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xiao.gang.fan1 at libertysurf.fr  Sun Feb  3 11:29:00 2002
From: xiao.gang.fan1 at libertysurf.fr (Fan)
Date: Sun, 03 Feb 2002 11:29:00 +0100
Subject: [R] Re: Windows binaries of R 1.4.1
References: <Pine.LNX.4.31.0201301627050.1167-100000@gannet.stats>
Message-ID: <3C5D10EC.417B5EC@libertysurf.fr>

Dear all,

Is the compiler mingw32 gcc-2.95.2-1 still usable to generate compatible 
Windows dll for recent versions of R Windows (from 1.4) ?

Thanks in advance
--
Xiao Gang FAN

Prof Brian Ripley:
> 
> Windows binaries for 1.4.1 are available at
> 
> http://www.stats.ox.ac.uk/pub/RWin
> 
> and will mirror across CRAN over the next couple of days.
> 
> SetupR.exe in this release contains the grid and lattice packages.
> 
> These have been built on the same system as the second release of rw1040
> and R-patched so I do not anticipate any problems but have only been able
> to test them on Windows 2000.
> 
> This is a patch release, and the only Windows-specific change is to use
> try() when updating HTML indices, e.g. from help.start() which also has a
> new `update' argument to turn off updating if required.
> 
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-announce mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Feb  3 11:11:36 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 3 Feb 2002 10:11:36 +0000 (GMT)
Subject: [R] Re: Windows binaries of R 1.4.1
In-Reply-To: <3C5D10EC.417B5EC@libertysurf.fr>
Message-ID: <Pine.GSO.4.44.0202031004490.27207-100000@auk.stats>

On Sun, 3 Feb 2002, Fan wrote:

> Is the compiler mingw32 gcc-2.95.2-1 still usable to generate compatible
> Windows dll for recent versions of R Windows (from 1.4) ?

Read readme.packages!

[I am not sure why you think it reasonable to ask if a two-year-old
snapshot is still usable: I have better things to do than test obselete
non-releases of compilers.]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jim.lemon at uts.edu.au  Sun Feb  3 20:51:15 2002
From: jim.lemon at uts.edu.au (Jim Lemon)
Date: Mon, 04 Feb 2002 06:51:15 +1100
Subject: [R] Bounced mail to CRAN
Message-ID: <3C5D94B3.B8C02FE9@uts.edu.au>

Sorry to bother the help list with this, but I've sent two messages to:

cran at r-project.org

to notify about an upload and both have bounced due to:

<cran at r-project.org>: Mail Server is down or unreachable.

Thanks

Jim


This email message and any accompanying attachments may contain confidential information.  If you are not the intended recipient, do not read, use, disseminate, distribute or copy this message or attachments. If you have received this message in error, please notify the sender immediately and delete this message. Any views expressed in this message are those of the individual sender, except where the sender expressly, and with authority, states them to be the views the University of Technology Sydney. Before opening any attachments, please check them for viruses and defects.
CRICOS Number:  00099F


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Mon Feb  4 01:25:47 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Mon, 4 Feb 2002 13:25:47 +1300 (NZDT)
Subject: [R] row.names in read.table()
Message-ID: <Pine.SOL.4.21.0202041324250.5908-200000@stat1.stat.auckland.ac.nz>

Hi,

I was trying to read in the following data set by using:
  gas <- read.table("gas.tab", header = T)
when I got the error message:
  Error in "row.names<-.data.frame"(*tmp*, value = row.names) : 
          duplicate row.names are not allowed

Any help are appreciated.

Thanks,

Ko-Kang Wang


------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student (Summer Research Assistant)
Department of Statistics
University of Auckland
New Zealand
-------------- next part --------------
X1 X2 X3 X4 Y
33 53 3.32 3.42 29 30
31 36 3.10 3.26 24 24
33 51 3.18 3.18 26 26
37 51 3.39 3.08 22 22
36 54 3.20 3.41 27 27
35 35 3.03 3.03 21 20
59 56 4.78 4.57 33 32
60 60 4.72 4.72 34 34
59 60 4.60 4.41 32 27
60 60 4.53 4.53 34 34
34 35 2.90 2.95 20 19
60 59 4.40 4.36 36 37
60 62 4.31 4.42 34 34
60 36 4.27 3.94 23 22
62 38 4.41 3.49 24 24
62 61 4.39 4.39 32 32
90 64 7.32 6.70 40 38
90 60 7.32 7.20 46 44
92 92 7.45 7.45 55 57
91 92 7.27 7.26 52 53
61 62 3.91 4.08 29 29
59 42 3.75 3.45 22 21
88 65 6.48 5.80 31 28
91 89 6.70 6.60 45 45
63 62 4.30 4.30 37 39
60 61 4.02 4.10 37 39
60 62 4.02 3.89 33 34
59 62 3.98 4.02 27 26
59 62 4.39 4.53 34 34
37 35 2.75 2.64 19 19
35 35 2.59 2.59 16 15
37 37 2.73 2.59 22 22

From kwan022 at stat.auckland.ac.nz  Mon Feb  4 01:32:32 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Mon, 4 Feb 2002 13:32:32 +1300 (NZDT)
Subject: [R] Re: row.names in read.table()
In-Reply-To: <Pine.SOL.4.21.0202041324250.5908-200000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.SOL.4.21.0202041331410.5908-100000@stat1.stat.auckland.ac.nz>

Whoops.  Problem solved.  I have one extra columns of data at the end
(though I don't know why the error message did not say that, but said
about row.names!).

Thanks,

On Mon, 4 Feb 2002, Ko-Kang Kevin Wang wrote:

> Date: Mon, 4 Feb 2002 13:25:47 +1300 (NZDT)
> From: Ko-Kang Kevin Wang <kwan022 at stat1.stat.auckland.ac.nz>
> To: R Help <r-help at stat.math.ethz.ch>
> Subject: row.names in read.table()
> 
> Hi,
> 
> I was trying to read in the following data set by using:
>   gas <- read.table("gas.tab", header = T)
> when I got the error message:
>   Error in "row.names<-.data.frame"(*tmp*, value = row.names) : 
>           duplicate row.names are not allowed
> 
> Any help are appreciated.
> 
> Thanks,
> 
> Ko-Kang Wang
> 
> 
> ------------------------------------------------------------------------------
> Ko-Kang Kevin Wang
> Postgraduate PGDipSci Student (Summer Research Assistant)
> Department of Statistics
> University of Auckland
> New Zealand
> 

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student (Summer Research Assistant)
Department of Statistics
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Feb  4 02:12:08 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Sun, 3 Feb 2002 17:12:08 -0800 (PST)
Subject: [R] Re: row.names in read.table()
In-Reply-To: <Pine.SOL.4.21.0202041331410.5908-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.A41.4.44.0202031709320.34574-100000@homer07.u.washington.edu>

On Mon, 4 Feb 2002, Ko-Kang Kevin Wang wrote:

> Whoops.  Problem solved.  I have one extra columns of data at the end
> (though I don't know why the error message did not say that, but said
> about row.names!)

As help(read.table) says

     If `row.names' is not specified and the header line has one less
     entry than the number of columns, the first column is taken to be
     the row names.

This lets you have the row names as the first column of the data.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jzhu at stanford.edu  Mon Feb  4 02:32:01 2002
From: jzhu at stanford.edu (Ji Zhu)
Date: Sun, 3 Feb 2002 17:32:01 -0800 (PST)
Subject: [R] delcol() of Splus
Message-ID: <Pine.GSO.4.33.0202031726050.12117-100000@saga10.Stanford.EDU>


Dear all,

There is this delcol() function in Splus.  It is a support function for
drop1.lm().  But it seems it disappears from R.  Could some one tell me
whether there is any equivalent function of delcol() in R or is there any
other way that I can implement its functionality?  Your help is highly
appreciated!!!

Regards,

-Ji


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jzhu at stanford.edu  Mon Feb  4 02:32:01 2002
From: jzhu at stanford.edu (Ji Zhu)
Date: Sun, 3 Feb 2002 17:32:01 -0800 (PST)
Subject: [R] delcol() of Splus
Message-ID: <Pine.GSO.4.33.0202031726050.12117-100000@saga10.Stanford.EDU>


Dear all,

There is this delcol() function in Splus.  It is a support function for
drop1.lm().  But it seems it disappears from R.  Could some one tell me
whether there is any equivalent function of delcol() in R or is there any
other way that I can implement its functionality?  Your help is highly
appreciated!!!

Regards,

-Ji


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jzhu at stanford.edu  Mon Feb  4 02:35:02 2002
From: jzhu at stanford.edu (Ji Zhu)
Date: Sun, 3 Feb 2002 17:35:02 -0800 (PST)
Subject: [R] delcol() of Splus (fwd)
Message-ID: <Pine.GSO.4.33.0202031734390.12179-100000@saga10.Stanford.EDU>


Dear all,

There is this delcol() function in Splus.  It is a support function for
drop1.lm().  But it seems it disappears from R.  Could some one tell me
whether there is any equivalent function of delcol() in R or is there any
other way that I can implement its functionality?  Your help is highly
appreciated!!!

Regards,

-Ji



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fredrik.karlsson at ling.umu.se  Mon Feb  4 09:59:33 2002
From: fredrik.karlsson at ling.umu.se (Fredrik Karlsson)
Date: Mon, 4 Feb 2002 09:59:33 +0100
Subject: [R] Really a newbe Q about data.frames
Message-ID: <20020204095933.A25821@ling.umu.se>

Hi all (again)

Sorry to bother you with this lame question, but since I have not been
able to find the answer in the manuals..
How do I change the name of a variable in a data.frame??
(Without copying hte entire fram to another one of course..)


/Fredrik
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Feb  4 09:02:17 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 4 Feb 2002 08:02:17 +0000 (GMT)
Subject: [R] Re: row.names in read.table()
In-Reply-To: <Pine.SOL.4.21.0202041331410.5908-100000@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.GSO.4.44.0202040800390.3576-100000@auk.stats>

On Mon, 4 Feb 2002, Ko-Kang Kevin Wang wrote:

> Whoops.  Problem solved.  I have one extra columns of data at the end
> (though I don't know why the error message did not say that, but said
> about row.names!).

With header=T, it was interpreting the first columns as row names.
That's standard behaviour: see the help page.  If you don't want that, set
row.names.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Feb  4 09:06:25 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 4 Feb 2002 08:06:25 +0000 (GMT)
Subject: [R] delcol() of Splus
In-Reply-To: <Pine.GSO.4.33.0202031726050.12117-100000@saga10.Stanford.EDU>
Message-ID: <Pine.GSO.4.44.0202040802570.3576-100000@auk.stats>

On Sun, 3 Feb 2002, Ji Zhu wrote (three times):

> There is this delcol() function in Splus.  It is a support function for
> drop1.lm().  But it seems it disappears from R.  Could some one tell me
> whether there is any equivalent function of delcol() in R or is there any
> other way that I can implement its functionality?  Your help is highly
> appreciated!!!

As ?delcol in Splus says

   This is support for the function drop1.lm(). It is not intended to be
   called directly by users.

so you should not be using it (in R or S-PLUS).

R has a different implementation of the internals of many functions.
It is not a question of `it disappears': R is not a version of S-PLUS but a
separate implementation of the S language.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Feb  4 09:15:17 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 4 Feb 2002 08:15:17 +0000 (GMT)
Subject: [R] Really a newbe Q about data.frames
In-Reply-To: <20020204095933.A25821@ling.umu.se>
Message-ID: <Pine.GSO.4.44.0202040813310.3576-100000@auk.stats>

On Mon, 4 Feb 2002, Fredrik Karlsson wrote:

> Hi all (again)
>
> Sorry to bother you with this lame question, but since I have not been
> able to find the answer in the manuals..
> How do I change the name of a variable in a data.frame??
> (Without copying hte entire fram to another one of course..)

via names:

DF <- data.frame(a=1, b=2)
names(DF)[2] <- "bb"
DF
  a bb
1 1  2

(Actually, that does make a copy internally).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Feb  4 09:34:35 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 4 Feb 2002 09:34:35 +0100
Subject: [R] Bounced mail to CRAN
In-Reply-To: <3C5D94B3.B8C02FE9@uts.edu.au>
References: <3C5D94B3.B8C02FE9@uts.edu.au>
Message-ID: <15454.18331.732624.460130@gargle.gargle.HOWL>

>>>>> "Jim" == Jim Lemon <jim.lemon at uts.edu.au> writes:

    Jim> Sorry to bother the help list with this, but I've sent
    Jim> two messages to: cran at r-project.org

    Jim> to notify about an upload and both have bounced due to:

    Jim> <cran at r-project.org>: Mail Server is down or
    Jim> unreachable.

Why should *that* be reachable?

The R FAQ (and other places) contains

 FAQ>      To "submit" to CRAN, simply upload to
 FAQ>   `ftp://cran.r-project.org/incoming/' and send an email to
 FAQ>   <wwwadmin at cran.r-project.org>.

which is quite a different address.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><


    Jim> This email message and any accompanying attachments may
    Jim> contain confidential information.  If you are not the
    Jim> intended recipient, do not read, use, disseminate,
    Jim> distribute or copy this message or attachments. If you
    Jim> have received this message in error, please notify the
    Jim> sender immediately and delete this message. Any views
    Jim> expressed in this message are those of the individual
    Jim> sender, except where the sender expressly, and with
    Jim> authority, states them to be the views the University
    Jim> of Technology Sydney. Before opening any attachments,
    Jim> please check them for viruses and defects.  CRICOS
    Jim> Number: 00099F

((can you really not get rid of such stuff -- particularly when
  posting to mailing lists ?))

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Feb  4 10:13:43 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 4 Feb 2002 10:13:43 +0100
Subject: [R] Bounced mail to CRAN
In-Reply-To: <15454.18331.732624.460130@gargle.gargle.HOWL>
References: <3C5D94B3.B8C02FE9@uts.edu.au>
	<15454.18331.732624.460130@gargle.gargle.HOWL>
Message-ID: <15454.20679.211644.743188@gargle.gargle.HOWL>

>>>>> "MM" == Martin Maechler <maechler at stat.math.ethz.ch> writes:

a lot of nonsense (below)

My sincere apologies, particularly to Jim!

Yes, that address *should* work, and it's a problem of the
R-Project server (at U Wisconsin, thanks to Doug Bates).

Martin.


>>>>> "Jim" == Jim Lemon <jim.lemon at uts.edu.au> writes:
    Jim> Sorry to bother the help list with this, but I've sent
    Jim> two messages to: cran at r-project.org

    Jim> to notify about an upload and both have bounced due to:

    Jim> <cran at r-project.org>: Mail Server is down or
    Jim> unreachable.

    MM> Why should *that* be reachable?

    MM> The R FAQ (and other places) contains

    FAQ> To "submit" to CRAN, simply upload to
    FAQ> `ftp://cran.r-project.org/incoming/' and send an email
    FAQ> to <wwwadmin at cran.r-project.org>.

    MM> which is quite a different address.

    MM> Martin Maechler <maechler at stat.math.ethz.ch>
    MM> http://stat.ethz.ch/~maechler/ Seminar fuer Statistik,
    MM> ETH-Zentrum LEO C16 Leonhardstr. 27 ETH (Federal
    MM> Inst. Technology) 8092 Zurich SWITZERLAND phone:
    MM> x-41-1-632-3408 fax: ...-1228 <><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ernesto at ipimar.pt  Mon Feb  4 11:37:07 2002
From: ernesto at ipimar.pt (Ernesto Jardim)
Date: 04 Feb 2002 10:37:07 +0000
Subject: [R] R-gnome: no way to configure
In-Reply-To: <Pine.OSF.3.96.1020124124827.15195C-100000@ija.csic.es>
References: <Pine.OSF.3.96.1020124124827.15195C-100000@ija.csic.es>
Message-ID: <1012819027.19903.17.camel@gandalf>

Hi

Did you manage to compile R with gnome ? If you did can you please post
me the comand line that you've used ?

I have the same problem that you've described and don't know how to work
around it.

Thanks

EJ

On Thu, 2002-01-24 at 11:53, Agustin Lobo wrote:
> 
> On 24 Jan 2002, Peter Dalgaard BSA wrote:
> 
> > > ./configure --with-gnome --with-gnome-includes=/opt/gnome/include
> > > --with-gnome-libs=/opt/gnome/lib --with-libglade-config=opt/gnome/lib
> >                                                           !!
> > Was that as typed? That might explain things.
> > 
> Yes, thanks for pointing it,  but even correcting the missing "/" 
> I get the same result.
> 
> The R-admin.pdf doc says 
> "`--with-libglade-config=LIBGLADE CONFIG' specify location of
> libglade-config "
> 
> I understand that it refers to the file
> 
> libgladeConf.sh
> 
> that I have under /opt/gnome/lib, but I'm not sure.
> 
> Thanks
> 
> Agus
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bxc at novonordisk.com  Mon Feb  4 10:56:24 2002
From: bxc at novonordisk.com (BXC (Bendix Carstensen))
Date: Mon, 4 Feb 2002 10:56:24 +0100 
Subject: [R] ROC curves using R
Message-ID: <D5A7D734C9C5D211B9E30008C78923020E95B0D3@exdkba03.novo.dk>

Jason

You can find ROC.R and ROC.Rd in:

http://www.biostat.ku.dk/~bxc/Epi.R/

Note that ROC.r contains more than one function.
The stuff is still somewhat experimental, so
I would be happy to hear about any bugs and suggestions for
improvement. 

(Yes, I have some code computing the area under the curve, 
but it is just a simple integral of the reult of ROC).

Bendix C

----------------------
Bendix Carstensen
Senior Statistician
Steno Diabetes Centre
Niels Steensens Vej 2
DK-2820 Gentofte
Denmark
tel: +45 44 43 87 38
mob: +45 28 25 87 38
fax: +45 44 43 73 13
bxc at novonordisk.com
www.biostat.ku.dk/~bxc
----------------------



> -----Original Message-----
> From: Jason Liao [mailto:jg_liao at yahoo.com] 
> Sent: Friday, February 01, 2002 5:40 PM
> To: r-help at stat.math.ethz.ch
> Subject: [R] ROC curves using R
> 
> 
> I did some serach around. It seems that ROC curve computation is not
> supported on R. Anyone has some leads? Thanks.
> 
> Jason 
> 
> =====
> Jason G. Liao, Ph.D.
> Division of Biometrics
> UMDNJ School of Public Health
> 335 George Street, Suite 2200
> New Brunswick, NJ 08903-2688
> phone (732) 235-9748, fax (732) 235-9777
> http://www.geocities.com/jg_liao
> 
> __________________________________________________
> 
> Great stuff seeking new owners in Yahoo! Auctions! 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-> FAQ.html
> Send "info", 
> "help", or "[un]subscribe"
> (in the 
> "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Mon Feb  4 11:06:53 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Mon, 4 Feb 2002 11:06:53 +0100 (MET)
Subject: [R] R-gnome: no way to configure
In-Reply-To: <1012819027.19903.17.camel@gandalf>
Message-ID: <Pine.OSF.3.96.1020204104707.16711D-100000@ija.csic.es>


Ernesto,

I gave up by now. I did check the required packages  and it seems
I have all that is needed, but don't get the
R configuration program to find them.

In my last message to the list on this topic, I reproduced
the last output of configure:

"checking for gnome-config... (cached) no
checking for gnomeConf.sh file in /usr/local/lib... not found

I do have gnomeConf.sh, but in /opt/gnome/lib/ Nevertheless,
I do state 
--with-gnome-libs=/opt/gnome/lib"

It seems that I should go and manually
modify the configuration script to use the
/opt/gnome/lib directory instead of /usr/local/lib,
but I'm a bit reluctant to do it as my knowledge
on sys. admin. is very limited.

Also, Luke (who was able to compile R with gnome support
under Suse with no problem) told me the to do
the following:

> rpm -q -a --queryformat "%{NAME}\n" | sort

and compare with his own list, that he included as an attachment.
I can send it to you as well if you think that could be
useful.


Let me know if you manage to do it!

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On 4 Feb 2002, Ernesto Jardim wrote:

> Hi
> 
> Did you manage to compile R with gnome ? If you did can you please post
> me the comand line that you've used ?
> 
> I have the same problem that you've described and don't know how to work
> around it.
> 
> Thanks
> 
> EJ
> 
> On Thu, 2002-01-24 at 11:53, Agustin Lobo wrote:
> > 
> > On 24 Jan 2002, Peter Dalgaard BSA wrote:
> > 
> > > > ./configure --with-gnome --with-gnome-includes=/opt/gnome/include
> > > > --with-gnome-libs=/opt/gnome/lib --with-libglade-config=opt/gnome/lib
> > >                                                           !!
> > > Was that as typed? That might explain things.
> > > 
> > Yes, thanks for pointing it,  but even correcting the missing "/" 
> > I get the same result.
> > 
> > The R-admin.pdf doc says 
> > "`--with-libglade-config=LIBGLADE CONFIG' specify location of
> > libglade-config "
> > 
> > I understand that it refers to the file
> > 
> > libgladeConf.sh
> > 
> > that I have under /opt/gnome/lib, but I'm not sure.
> > 
> > Thanks
> > 
> > Agus
> > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 
> 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stuart.leask at nottingham.ac.uk  Mon Feb  4 11:23:00 2002
From: stuart.leask at nottingham.ac.uk (Stuart Leask)
Date: Mon, 4 Feb 2002 10:23:00 -0000
Subject: [R] How do you delete variables from a data frame?
References: <Pine.GSO.4.44.0202040813310.3576-100000@auk.stats>
Message-ID: <003201c1ad65$ec2a93c0$f2e1f380@nottingham.ac.uk>

Is there a simple way of removing variables from a dataframe?

- rm(dataframe$VAR) doesn't seem to work
- Copying all but the unwanted variables into a new data frame is awkward
when there are a lot of variables.
- I haven't found any references to this in the help files.


Stuart
Dr Stuart Leask MA MRCPsych, Clinical Lecturer in Psychiatry
University of Nottingham Dept of Psychiatry, Duncan Macmillan House
Porchester Road, Nottingham. NG3 6AA. UK
http://www.nottingham.ac.uk/psychiatry/staff/sjl.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.firth at nuffield.oxford.ac.uk  Mon Feb  4 11:35:02 2002
From: david.firth at nuffield.oxford.ac.uk (David Firth)
Date: Mon, 4 Feb 2002 10:35:02 +0000
Subject: [R] ASCII characters: from decimal code to R octal?
Message-ID: <a05010408b88410ae2303@[163.1.41.88]>

Is there a straightforward way to convert character information from 
decimal representation to the octal one used by R?

I'd like something like a function ascii(number,base=10), such that

>  ascii(91)
[1] "\133"

I can easily do the mapping from 91 to 133, but what is a good way to 
operate on  133 to deliver "\133"?

Would a lookup table be a better solution?

David
-- 


David Firth                        Phone +44 1865 278544
Nuffield College                   Fax   +44 1865 278621
Oxford OX1 1NF                     Secretary +44 1865 278553
United Kingdom                     Email david.firth at nuffield.ox.ac.uk

http://www.stats.ox.ac.uk/~firth/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jniesch at gwdg.de  Mon Feb  4 11:40:56 2002
From: jniesch at gwdg.de (Jens Nieschulze)
Date: Mon, 4 Feb 2002 11:40:56 +0100 (MET)
Subject: [R] How do you delete variables from a data frame?
In-Reply-To: <003201c1ad65$ec2a93c0$f2e1f380@nottingham.ac.uk>
Message-ID: <Pine.SO4.4.10.10202041140080.786-100000@ufobi7.uni-forst.gwdg.de>

On Mon, 4 Feb 2002, Stuart Leask wrote:

%Is there a simple way of removing variables from a dataframe?
%
%- rm(dataframe$VAR) doesn't seem to work
%- Copying all but the unwanted variables into a new data frame is awkward
%when there are a lot of variables.
%- I haven't found any references to this in the help files.

dataframe$VAR<-NULL

%
%
%Stuart
%Dr Stuart Leask MA MRCPsych, Clinical Lecturer in Psychiatry
%University of Nottingham Dept of Psychiatry, Duncan Macmillan House
%Porchester Road, Nottingham. NG3 6AA. UK
%http://www.nottingham.ac.uk/psychiatry/staff/sjl.html
%
%-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
%r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
%Send "info", "help", or "[un]subscribe"
%(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
%_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
%

***********************************************************************
Jens Nieschulze

Institute for Forest Biometrics &	Phone: ++49-551-39-12107
Applied Computer Science		Fax  : ++49-551-39-3465
Buesgenweg 4
37077 Goettingen		E-mail: jniesch at uni-forst.gwdg.de
GERMANY				http://www.uni-forst.gwdg.de/~jniesch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stuart.leask at nottingham.ac.uk  Mon Feb  4 12:22:38 2002
From: stuart.leask at nottingham.ac.uk (Stuart Leask)
Date: Mon, 4 Feb 2002 11:22:38 -0000
Subject: [R] Script that runs under R(win) failing under R(linux)
References: <Pine.SO4.4.10.10202041140080.786-100000@ufobi7.uni-forst.gwdg.de>
Message-ID: <005001c1ad6e$410d8f20$f2e1f380@nottingham.ac.uk>

Hello there.

I have a script (see below) that runs in Rv1.4.0  for windows, but not in
Rv1.4.0 for linux (not the current versions, I know, but close).

In the linux version, the script is interrupted by a prompt
"Display all 101 possibilities? (y or n)"
that stops the script working properly. This prompt doesn't appear when
running the script in R for windows.

Is there some way of turning this prompt off so that I can run this script
in the linux version?

Stuart

Dr Stuart Leask MA MRCPsych, Clinical Lecturer in Psychiatry
University of Nottingham Dept of Psychiatry, Duncan Macmillan House
Porchester Road, Nottingham. NG3 6AA. UK
http://www.nottingham.ac.uk/psychiatry/staff/sjl.html

Linux version console:

...
>
> plot(RB,R)
> i<-0
> while(i<30){
+ Ri<-lag(R,i)
+ L0<-lag(L,0)
+ M<-as.data.frame(ts.intersect(Ri,L0))
+ cor.i<-cor(M$Ri,M$L0)
+ if(abs(cor.i)<0.01)
+ {
+ RBi<-100*(M$Ri-M$L0)/M$Ri+M$L0)
+
Display all 101 possibilities? (y or n)
+ es(lowess(RBi,M$Ri))
+ }
+ i<-i+1
+ }
Error: couldn't find function "es"
> points(lowess(RB,R))
>
...

Windows version console (no prompt, so all runs smoothly):

...
>
> plot(XY)
> i<-0
> while(i<30){
+  Ri<-lag(R,i)
+  L0<-lag(L,0)
+  M<-as.data.frame(ts.intersect(Ri,L0))
+  cor.i<-cor(M$Ri,M$L0)
+  if(abs(cor.i)<0.01)
+  {
+  RBi<-100*(M$Ri-M$L0)/(M$Ri+M$L0)
+   lines(lowess(RBi,M$Ri))
+  }
+  i<-i+1
+ }
> points(lowess(RB,R))
>
...

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Mon Feb  4 12:22:34 2002
From: plummer at iarc.fr (Martyn Plummer)
Date: Mon, 04 Feb 2002 12:22:34 +0100 (CET)
Subject: [R] R-gnome: no way to configure
In-Reply-To: <Pine.OSF.3.96.1020204104707.16711D-100000@ija.csic.es>
Message-ID: <XFMail.20020204122234.plummer@iarc.fr>

Hi Augustin,

I am sorry to see that you are having problems compiling the
GNOME interface to R.  There seem to be two separate problems
here
1) The manual (R-admin) is not sufficiently clear about what
   libraries are required
2) You have not successfully compiled R-gnome with R installed
   in /opt/gnome

Suggestions for (1) are welcome.  For problem (2), the 
configure script is looking for a shell script called
"gnome-config".  On Red Hat Linux, this is provided by
the gnome-libs-devel RPM (NB you must install the development
versions of all the libraries to compile your own progams)
and is located in the directory /usr/bin/

I suspect that either this package is not installed on your
system, or it is installed, but "gnome-config" has been
installed in a location that is not in your PATH, such as
/opt/gnome/bin. Check this with

which gnome-config
echo $PATH

Let me know what you find
Martyn

On 04-Feb-2002 Agustin Lobo wrote:
> 
> Ernesto,
> 
> I gave up by now. I did check the required packages  and it seems
> I have all that is needed, but don't get the
> R configuration program to find them.
> 
> In my last message to the list on this topic, I reproduced
> the last output of configure:
> 
> "checking for gnome-config... (cached) no
> checking for gnomeConf.sh file in /usr/local/lib... not found
> 
> I do have gnomeConf.sh, but in /opt/gnome/lib/ Nevertheless,
> I do state 
> --with-gnome-libs=/opt/gnome/lib"
> 
> It seems that I should go and manually
> modify the configuration script to use the
> /opt/gnome/lib directory instead of /usr/local/lib,
> but I'm a bit reluctant to do it as my knowledge
> on sys. admin. is very limited.
> 
> Also, Luke (who was able to compile R with gnome support
> under Suse with no problem) told me the to do
> the following:
> 
>> rpm -q -a --queryformat "%{NAME}\n" | sort
> 
> and compare with his own list, that he included as an attachment.
> I can send it to you as well if you think that could be
> useful.
> 
> 
> Let me know if you manage to do it!
> 
> Agus
> 
> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es
> 
> 
> On 4 Feb 2002, Ernesto Jardim wrote:
> 
>> Hi
>> 
>> Did you manage to compile R with gnome ? If you did can you please post
>> me the comand line that you've used ?
>> 
>> I have the same problem that you've described and don't know how to work
>> around it.
>> 
>> Thanks
>> 
>> EJ
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Mon Feb  4 12:24:49 2002
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Mon, 4 Feb 2002 12:24:49 +0100 (CET)
Subject: [R] How do you delete variables from a data frame?
In-Reply-To: <003201c1ad65$ec2a93c0$f2e1f380@nottingham.ac.uk>
Message-ID: <Pine.LNX.4.44.0202041224140.8778-100000@tal.stat.umu.se>

On Mon, 4 Feb 2002, Stuart Leask wrote:

> Is there a simple way of removing variables from a dataframe?
> 
> - rm(dataframe$VAR) doesn't seem to work
> - Copying all but the unwanted variables into a new data frame is awkward
> when there are a lot of variables.
> - I haven't found any references to this in the help files.

dataframe$VAR <- NULL

G?ran

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From steinep at uni-muenster.de  Mon Feb  4 12:35:08 2002
From: steinep at uni-muenster.de (Petra Steiner)
Date: Mon, 4 Feb 2002 12:35:08 +0100
Subject: [R] Passing parameters with Rcmd BATCH
References: <Pine.GSO.4.31.0201310952330.29222-100000@auk.stats>
Message-ID: <002301c1ad70$013b7220$6114b080@oemcomputer>

Dear Prof. Ripley,

thanks for your answer. This might be useful for other novices:

Something like Rterm --restore --save < input.R > out COL=6
 does the job.

In input.R:
co <- as.numeric(Sys.getenv("COL"))

But commandArgs() works as well for Rterm.

Regards,
Petra Steiner


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Feb  4 12:28:14 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Feb 2002 12:28:14 +0100
Subject: [R] Script that runs under R(win) failing under R(linux)
In-Reply-To: <005001c1ad6e$410d8f20$f2e1f380@nottingham.ac.uk>
References: <Pine.SO4.4.10.10202041140080.786-100000@ufobi7.uni-forst.gwdg.de>
	<005001c1ad6e$410d8f20$f2e1f380@nottingham.ac.uk>
Message-ID: <x2lme9o59t.fsf@blueberry.kubism.ku.dk>

"Stuart Leask" <stuart.leask at nottingham.ac.uk> writes:

> Hello there.
> 
> I have a script (see below) that runs in Rv1.4.0  for windows, but not in
> Rv1.4.0 for linux (not the current versions, I know, but close).
> 
> In the linux version, the script is interrupted by a prompt
> "Display all 101 possibilities? (y or n)"
> that stops the script working properly. This prompt doesn't appear when
> running the script in R for windows.
> 
> Is there some way of turning this prompt off so that I can run this script
> in the linux version?

Either source() the file in or remove the TAB character that is
confusing readline.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Feb  4 12:28:08 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 4 Feb 2002 11:28:08 +0000
Subject: [R] Really a newbe Q about data.frames
In-Reply-To: <20020204095933.A25821@ling.umu.se>
References: <20020204095933.A25821@ling.umu.se>
Message-ID: <v7gTWSAIBnX8EwnI@myatt.demon.co.uk>

Fredrik Karlsson <fredrik.karlsson at ling.umu.se> writes:
>Hi all (again)
>
>Sorry to bother you with this lame question, but since I have not been
>able to find the answer in the manuals..
>How do I change the name of a variable in a data.frame??
>(Without copying hte entire fram to another one of course..)

Use names().

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stuart.leask at nottingham.ac.uk  Mon Feb  4 12:52:25 2002
From: stuart.leask at nottingham.ac.uk (Stuart Leask)
Date: Mon, 4 Feb 2002 11:52:25 -0000
Subject: [R] Script that runs under R(win) failing under R(linux)
References: <Pine.SO4.4.10.10202041140080.786-100000@ufobi7.uni-forst.gwdg.de><005001c1ad6e$410d8f20$f2e1f380@nottingham.ac.uk> <x2lme9o59t.fsf@blueberry.kubism.ku.dk>
Message-ID: <006d01c1ad72$6a0e8ce0$f2e1f380@nottingham.ac.uk>

Thanks, Peter. It was that extra tab. I was baffled as to what could differ
between the two versions.

Stuart

----- Original Message -----
From: Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>
To: Stuart Leask <stuart.leask at nottingham.ac.uk>
Cc: r-help-request Mailing List <r-help at r-project.org>
Sent: Monday, February 04, 2002 11:28 AM
Subject: Re: [R] Script that runs under R(win) failing under R(linux)


> "Stuart Leask" <stuart.leask at nottingham.ac.uk> writes:
>
> > Hello there.
> >
> > I have a script (see below) that runs in Rv1.4.0  for windows, but not
in
> > Rv1.4.0 for linux (not the current versions, I know, but close).
> >
> > In the linux version, the script is interrupted by a prompt
> > "Display all 101 possibilities? (y or n)"
> > that stops the script working properly. This prompt doesn't appear when
> > running the script in R for windows.
> >
> > Is there some way of turning this prompt off so that I can run this
script
> > in the linux version?
>
> Either source() the file in or remove the TAB character that is
> confusing readline.
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stuart.leask at nottingham.ac.uk  Mon Feb  4 12:55:08 2002
From: stuart.leask at nottingham.ac.uk (Stuart Leask)
Date: Mon, 4 Feb 2002 11:55:08 -0000
Subject: [R] How do you delete variables from a data frame?
References: <Pine.LNX.4.44.0202041224140.8778-100000@tal.stat.umu.se>
Message-ID: <007f01c1ad72$cb28a4c0$f2e1f380@nottingham.ac.uk>

Thanks to G?ran and Jens.

dataframe$VAR <- NULL

completely removes the variable.

Stuart

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Feb  4 13:57:35 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Feb 2002 13:57:35 +0100
Subject: [R] ASCII characters: from decimal code to R octal?
In-Reply-To: <a05010408b88410ae2303@[163.1.41.88]>
References: <a05010408b88410ae2303@[163.1.41.88]>
Message-ID: <x2heoxo14w.fsf@blueberry.kubism.ku.dk>

David Firth <david.firth at nuffield.oxford.ac.uk> writes:

> Is there a straightforward way to convert character information from
> decimal representation to the octal one used by R?
> 
> I'd like something like a function ascii(number,base=10), such that
> 
> >  ascii(91)
> [1] "\133"
> 
> I can easily do the mapping from 91 to 133, but what is a good way to
> operate on  133 to deliver "\133"?
> 
> Would a lookup table be a better solution?

Stuff like this can do it:

ascii <- sapply(1:127,function(i)
   parse(text=paste("\"\\",structure(i,class="octmode"),"\"",sep=""))[[1]])
ascii[91]

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lutz.thieme at amd.com  Mon Feb  4 14:09:59 2002
From: lutz.thieme at amd.com (lutz.thieme@amd.com)
Date: Mon, 4 Feb 2002 14:09:59 +0100
Subject: [R] converting string to float
Message-ID: <E540DF203FFED21182EB0008C728756006A1839C@deexmta4.amd.com>

Hello everybody,

I have following string type and try to convert it to float:

> a<-"20020104.123456"
> str(as.numeric(a))
 num 20020104
> str(as.real(a))
 num 20020104
> str(as.double(a))
 num 20020104

How can I get an float instead of an integer? How can I set the desired precision?

Thanks in advance

Lutz Thieme

Lutz Thieme
AMD Saxony Manfacturing GmbH
Product Engineering
phone:	+49 351 277-4269
fax:	+49 351 277-9-4269
email:	lutz.thieme at amd.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Feb  4 14:15:53 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Feb 2002 14:15:53 +0100
Subject: [R] converting string to float
In-Reply-To: <E540DF203FFED21182EB0008C728756006A1839C@deexmta4.amd.com>
References: <E540DF203FFED21182EB0008C728756006A1839C@deexmta4.amd.com>
Message-ID: <x28za9o0ae.fsf@blueberry.kubism.ku.dk>

lutz.thieme at amd.com writes:

> Hello everybody,
> 
> I have following string type and try to convert it to float:
> 
> > a<-"20020104.123456"
> > str(as.numeric(a))
>  num 20020104
> > str(as.real(a))
>  num 20020104
> > str(as.double(a))
>  num 20020104
> 
> How can I get an float instead of an integer? How can I set the desired precision?

It *is* a float. The precision is in the printing:


>  a<-"20020104.123456"
> as.numeric(a)
[1] 20020104
> as.numeric(a)-20020104
[1] 0.123456

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Mon Feb  4 14:31:29 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Mon, 4 Feb 2002 14:31:29 +0100 (MET)
Subject: [R] ASCII characters: from decimal code to R octal?
In-Reply-To: <a05010408b88410ae2303@[163.1.41.88]>
Message-ID: <Pine.GSO.4.10.10202041419270.26474-100000@speed.maths.lth.se>

I was looking at the same problem/question last year (r-help May 09, 2001)
and what I ended up doing was what you suggests: a lookup table. See

   http://www.r-project.org/nocvs/mail/r-help/2001/2452.html

for a cut-n-paste complete solution, which I use myself.

I believe you could also to something like

octToChar <- function(octal) {
  code <- paste("\"\\", octal, "\"", sep="");
  eval(parse(text=code))
}

Except from fact that this example is not where robust ('octal' is
actually decimal), it is probably not very efficient.

Cheers

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences 
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e
http://www.maths.lth.se/matstat/staff/hb/



On Mon, 4 Feb 2002, David Firth wrote:

> Is there a straightforward way to convert character information from 
> decimal representation to the octal one used by R?
> 
> I'd like something like a function ascii(number,base=10), such that
> 
> >  ascii(91)
> [1] "\133"
> 
> I can easily do the mapping from 91 to 133, but what is a good way to 
> operate on  133 to deliver "\133"?
> 
> Would a lookup table be a better solution?
> 
> David
> -- 
> 
> 
> David Firth                        Phone +44 1865 278544
> Nuffield College                   Fax   +44 1865 278621
> Oxford OX1 1NF                     Secretary +44 1865 278553
> United Kingdom                     Email david.firth at nuffield.ox.ac.uk
> 
> http://www.stats.ox.ac.uk/~firth/
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Mon Feb  4 15:00:11 2002
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Mon, 04 Feb 2002 15:00:11 +0100
Subject: [R] Installing contributed packages on MacOS X:  Solved!
In-Reply-To: <OF380D7F5F.1D1A0E4A-ONC1256B53.002563AF@smals-mvm.be>
Message-ID: <B884527B.69C7%pflugshaupt@geobot.umnw.ethz.ch>

I had run into problems when compiling some contributed packages to an
installation of R 1.40 by fink on MacOS X. Namely, packages KernSmooth
(2.22-7) and cluster (1.4-0) would not find required libraries, though those
were present on the system.

Jeff Whitaker, the maintainer of the R fink packages, kindly sent me this:

> Kaspar:  It's not looking in /sw/lib, where the libs are (the "-L/sw/lib"
> is missing).  Probably a bug in the packages themselves, or in R - I don't
> know which.  Seems silly to assume they are installed in /usr/lib or
> /usr/local/lib.  However, the r-recommended package has both of these and
> installs fine (but they are the older versions).  You could also probably
> install them by hand by downloading the source, then use
> 
> setenv LDFLAGS -L/sw/lib
> setenv CPPFLAGS -I/sw/include
> R CMD INSTALL KernSmooth_2.22-7.tar.gz
> 
> -Jeff

That solved the problem here instantly.

To the developers: Do I understand correctly that those two packages had
their library path hard-coded instead of "inheriting" it from the R CMD
INSTALL process? I had assumed that R CMD INSTALL would pass on the lib
paths that R itself was compiled with, but I may be wrong... though a
cursory reading of "Writing R Extensions" seems to confirm this.

Anyway, it works now.

Cheers

Kaspar Pflugshaupt

-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From anthony_staines at hotmail.com  Mon Feb  4 15:09:28 2002
From: anthony_staines at hotmail.com (anthony staines)
Date: Mon, 04 Feb 2002 14:09:28 +0000
Subject: [R] Help with accessing elements of a list
Message-ID: <F183YIfhVO8w21c63q20001dd0d@hotmail.com>

Hi,

As part of the analysis of a longitudinal study, I have a list, called wg, 
on R 1.3.1 for windows created as follows -

wg <- by(xx, xx$mrn, function(xx) lm(xx$maternal.wt ~ xx$gestation, 
data=xx))

xx is a data.frame, and so wg contains the results of 293 linear 
regressions, as lm objects.

Now what I want is to extract the 293 intercepts and regression coefficients 
as a vector, and do things with them - like examine their distributions.

>wg[[1]] gives

Call:
lm(formula = xx$maternal.wt ~ xx$gestation, data = xx)

Coefficients:
(Intercept)  xx$gestation
     61.3014        0.2886

>wg[[1]][[1]] gives

(Intercept) xx$gestation
   61.301422     0.288568

>wg[[1]][[1]][[2]] gives

[1] 0.288568

What I need to get is 293 of these in a vector. None of the obvious 
variations on

>wg[[1:293]][[1]][[2]] gives anything except -

Error: attempt to select more than one element

I've read the manuals, and selections of the reference manual without 
achieving wisdom. I'm fairly sure that this is a very easy question, but I 
can't work it out by myself - and my head now hurts. Any suggestions?

--
Anthony Staines
Please reply to my work e-mail address anthony.staines at ucd.ie

_________________________________________________________________
Join the worlds largest e-mail service with MSN Hotmail. 
http://www.hotmail.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From garbade at psy.uni-muenchen.de  Mon Feb  4 16:19:17 2002
From: garbade at psy.uni-muenchen.de (Sven Garbade)
Date: Mon, 04 Feb 2002 15:19:17 +0000
Subject: [R] option singular.ok = TRUE in fuction lm
Message-ID: <3C5EA675.BD491CBF@psy.uni-muenchen.de>

Hi all,

what does the option singular.ok in funtion lm() means? I took a look in
the help page of lm() and found:

singular.ok      logical, defaulting to TRUE. FALSE is not yet
implemented.

Thanks, Sven
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hennig at stat.math.ethz.ch  Mon Feb  4 15:24:42 2002
From: hennig at stat.math.ethz.ch (Christian Hennig)
Date: Mon, 4 Feb 2002 15:24:42 +0100 (CET)
Subject: [R] Guidelines for Rd-Files
Message-ID: <Pine.LNX.4.33.0202041522180.2153-100000@florence>

Dear list,

on p. 11 of "Writing R-extensions" I read 
"See the ``Guidelines for Rd-files'' 
for guidelines ... which should be useful..."

Where can I find these guidelines? 

Best,
Christian

-- 
***********************************************************************
Christian Hennig
Seminar fuer Statistik, ETH-Zentrum (LEO), CH-8092 Zuerich (current)
and Fachbereich Mathematik-SPST/ZMS, Universitaet Hamburg
hennig at stat.math.ethz.ch, http://stat.ethz.ch/~hennig/
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Mon Feb  4 15:32:15 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 04 Feb 2002 08:32:15 -0600
Subject: [R] Bounced mail to CRAN
In-Reply-To: <15454.20679.211644.743188@gargle.gargle.HOWL>
References: <3C5D94B3.B8C02FE9@uts.edu.au>
	<15454.18331.732624.460130@gargle.gargle.HOWL>
	<15454.20679.211644.743188@gargle.gargle.HOWL>
Message-ID: <6r1yg11fo0.fsf@franz.stat.wisc.edu>

Martin Maechler <maechler at stat.math.ethz.ch> writes:

> >>>>> "MM" == Martin Maechler <maechler at stat.math.ethz.ch> writes:

> Yes, that address *should* work, and it's a problem of the
> R-Project server (at U Wisconsin, thanks to Doug Bates).
> 
> Martin.

I corresponded privately with Jim about the bounce and I can't see
that there is a problem with the machine that serves as the MX host
for the r-project.org domain.  I think the problem may have been local
to Jim - the mailserver in question could have been his local SMTP
server.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Feb  4 15:33:18 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 4 Feb 2002 14:33:18 +0000 (GMT Standard Time)
Subject: [R] Guidelines for Rd-Files
In-Reply-To: <Pine.LNX.4.33.0202041522180.2153-100000@florence>
Message-ID: <Pine.WNT.4.40.0202041431330.480-100000@tern.stats>

On Mon, 4 Feb 2002, Christian Hennig wrote:

> on p. 11 of "Writing R-extensions" I read
> "See the ``Guidelines for Rd-files''
> for guidelines ... which should be useful..."
>
> Where can I find these guidelines?

On developer.r-project.org. It's a hyperlink in the pdf and html versions.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jallison at UU.NET  Mon Feb  4 15:33:50 2002
From: jallison at UU.NET (Jared Allison)
Date: Mon, 04 Feb 2002 14:33:50 +0000
Subject: [R] plotting data vs time
Message-ID: <200202041433.OAA07685@tahoe.argfrp.us.uu.net>

Hi all,

This may seem like a simple question, but is there any way to plot data vs 
time using R?  I have tried several things, none of which worked.  What I want 
is a line graph to show, say, a percentage on the y-axis and dates/times on 
the x-axis.  Any help you could give would be appreciated - am I missing 
something obvious?

Thanks,

-jared
(jallison at uu.net)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Feb  4 15:34:23 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 4 Feb 2002 14:34:23 +0000 (GMT Standard Time)
Subject: [R] option singular.ok = TRUE in fuction lm
In-Reply-To: <3C5EA675.BD491CBF@psy.uni-muenchen.de>
Message-ID: <Pine.WNT.4.40.0202041433290.480-100000@tern.stats>

On Mon, 4 Feb 2002, Sven Garbade wrote:

> Hi all,
>
> what does the option singular.ok in funtion lm() means? I took a look in
> the help page of lm() and found:
>
> singular.ok      logical, defaulting to TRUE. FALSE is not yet
> implemented.

Right. In S, it defaults to F, and means that lm refuses to fit a
reduced-rank model.  R always will (and have NA components in the
coefficients).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Feb  4 15:43:14 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 4 Feb 2002 14:43:14 +0000 (GMT Standard Time)
Subject: [R] Installing contributed packages on MacOS X:  Solved!
In-Reply-To: <B884527B.69C7%pflugshaupt@geobot.umnw.ethz.ch>
Message-ID: <Pine.WNT.4.40.0202041436140.480-100000@tern.stats>

KernSmooth does not have any paths `hard-wired'.  But pre-compiled packages
do inherit from the R they were built under, in this case the location of
BLAS_LIBS in etc/Makeconf.  So looks like the problem is with whoever built
the packages: definitely not `in the packages themselves'.

On Mon, 4 Feb 2002, Kaspar Pflugshaupt wrote:

> I had run into problems when compiling some contributed packages to an
> installation of R 1.40 by fink on MacOS X. Namely, packages KernSmooth
> (2.22-7) and cluster (1.4-0) would not find required libraries, though those
> were present on the system.
>
> Jeff Whitaker, the maintainer of the R fink packages, kindly sent me this:
>
> > Kaspar:  It's not looking in /sw/lib, where the libs are (the "-L/sw/lib"
> > is missing).  Probably a bug in the packages themselves, or in R - I don't
> > know which.  Seems silly to assume they are installed in /usr/lib or
> > /usr/local/lib.  However, the r-recommended package has both of these and
> > installs fine (but they are the older versions).  You could also probably
> > install them by hand by downloading the source, then use
> >
> > setenv LDFLAGS -L/sw/lib
> > setenv CPPFLAGS -I/sw/include
> > R CMD INSTALL KernSmooth_2.22-7.tar.gz
> >
> > -Jeff
>
> That solved the problem here instantly.
>
> To the developers: Do I understand correctly that those two packages had
> their library path hard-coded instead of "inheriting" it from the R CMD
> INSTALL process? I had assumed that R CMD INSTALL would pass on the lib
> paths that R itself was compiled with, but I may be wrong... though a
> cursory reading of "Writing R Extensions" seems to confirm this.

A cursory reading of the sources will elucidate this!

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Feb  4 15:46:38 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 4 Feb 2002 14:46:38 +0000 (GMT Standard Time)
Subject: [R] plotting data vs time
In-Reply-To: <200202041433.OAA07685@tahoe.argfrp.us.uu.net>
Message-ID: <Pine.WNT.4.40.0202041444540.480-100000@tern.stats>

On Mon, 4 Feb 2002, Jared Allison wrote:

> This may seem like a simple question, but is there any way to plot data vs
> time using R?  I have tried several things, none of which worked.  What I want
> is a line graph to show, say, a percentage on the y-axis and dates/times on
> the x-axis.  Any help you could give would be appreciated - am I missing
> something obvious?

?plot.POSIXt, for example gives two examples.  plot(x, y) just works if
x is from a date-time class.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Mon Feb  4 15:46:18 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Mon, 4 Feb 2002 08:46:18 -0600
Subject: [R] R-gnome: no way to configure
In-Reply-To: <XFMail.20020204122234.plummer@iarc.fr>
References: <Pine.OSF.3.96.1020204104707.16711D-100000@ija.csic.es> <XFMail.20020204122234.plummer@iarc.fr>
Message-ID: <20020204144618.GA19331@sonny.eddelbuettel.com>

On Mon, Feb 04, 2002 at 12:22:34PM +0100, Martyn Plummer wrote:
> I am sorry to see that you are having problems compiling the
> GNOME interface to R.  There seem to be two separate problems
> here
> 1) The manual (R-admin) is not sufficiently clear about what
>    libraries are required

How could it be, given five or six differnt (major) Linux distributions, and
as many different flavours of Unix.

But configure doess issue human-readable log files. 

Lastly, for the truly desperate, Debian always has readily available
r-gnome .deb packages. 

Dirk

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Feb  4 15:49:13 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 4 Feb 2002 14:49:13 +0000 (GMT Standard Time)
Subject: [R] Help with accessing elements of a list
In-Reply-To: <F183YIfhVO8w21c63q20001dd0d@hotmail.com>
Message-ID: <Pine.WNT.4.40.0202041447220.480-100000@tern.stats>

sapply(wg, coef) will give you a matrix of coefficients for all 293 fits,
I believe.

Do use the inbuilt extractors like coef to get coefficients: direct access
can give the wrong results.

On Mon, 4 Feb 2002, anthony staines wrote:

> Hi,
>
> As part of the analysis of a longitudinal study, I have a list, called wg,
> on R 1.3.1 for windows created as follows -
>
> wg <- by(xx, xx$mrn, function(xx) lm(xx$maternal.wt ~ xx$gestation,
> data=xx))
>
> xx is a data.frame, and so wg contains the results of 293 linear
> regressions, as lm objects.
>
> Now what I want is to extract the 293 intercepts and regression coefficients
> as a vector, and do things with them - like examine their distributions.
>
> >wg[[1]] gives
>
> Call:
> lm(formula = xx$maternal.wt ~ xx$gestation, data = xx)
>
> Coefficients:
> (Intercept)  xx$gestation
>      61.3014        0.2886
>
> >wg[[1]][[1]] gives
>
> (Intercept) xx$gestation
>    61.301422     0.288568
>
> >wg[[1]][[1]][[2]] gives
>
> [1] 0.288568
>
> What I need to get is 293 of these in a vector. None of the obvious
> variations on
>
> >wg[[1:293]][[1]][[2]] gives anything except -
>
> Error: attempt to select more than one element
>
> I've read the manuals, and selections of the reference manual without
> achieving wisdom. I'm fairly sure that this is a very easy question, but I
> can't work it out by myself - and my head now hurts. Any suggestions?
>
> --
> Anthony Staines
> Please reply to my work e-mail address anthony.staines at ucd.ie
>
> _________________________________________________________________
> Join the worlds largest e-mail service with MSN Hotmail.
> http://www.hotmail.com
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.J.Wells at open.ac.uk  Mon Feb  4 16:07:53 2002
From: P.J.Wells at open.ac.uk (P.J.Wells@open.ac.uk)
Date: Mon, 4 Feb 2002 15:07:53 -0000
Subject: [R] question from a beginner
Message-ID: <F9D44AC0D89CD311B9E3000629385C40044D9E5F@marconi.open.ac.uk>

Ben Bolker wrote, in reply to Yiling Chen's inquiry about whether there were
GUI-driven stat.s programs:

>  No, not really.

No doubt it all depends on exactly what one has in mind, but I should have
said that there *many* programs that offered access to statistical
procedures via "point and click" methods, from Excel upwards through SPSS
and on to S-Plus.

Which you recommend should depend on the needs of the audience.

Even Excel, in spite of its well-documented defects, has a place; as a way
of luring generalist students into getting to grips with the nuts and bolts
of statistics it is unrivalled, since knowledge of Excel is clearly a
marketable skill in its own right.

For a slightly different student audience I think DataDesk is very
attractive.

And for fine control over the appearance of charts S-Plus's GUI mode is
superb. I should be very interested to hear, for example, of ways in which
R, or S-Plus in command-line mode, can be made to control chart grids in the
way that the S-Plus GUI can.

Julian Wells
OU Business School
The Open University
Walton Hall
Milton Keynes
MK7 6AA
United Kingdom
+44 1908 654658

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Mon Feb  4 16:12:55 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Mon, 4 Feb 2002 09:12:55 -0600
Subject: [R] plotting data vs time
In-Reply-To: <Pine.WNT.4.40.0202041444540.480-100000@tern.stats>
References: <200202041433.OAA07685@tahoe.argfrp.us.uu.net> <Pine.WNT.4.40.0202041444540.480-100000@tern.stats>
Message-ID: <20020204151255.GA19481@sonny.eddelbuettel.com>

On Mon, Feb 04, 2002 at 02:46:38PM +0000, Prof Brian D Ripley wrote:
> On Mon, 4 Feb 2002, Jared Allison wrote:
> 
> > This may seem like a simple question, but is there any way to plot data vs
> > time using R?  I have tried several things, none of which worked.  What I want
> > is a line graph to show, say, a percentage on the y-axis and dates/times on
> > the x-axis.  Any help you could give would be appreciated - am I missing
> > something obvious?
> 
> ?plot.POSIXt, for example gives two examples.  plot(x, y) just works if
> x is from a date-time class.

Make that  

     help(plot.POSIXct)
     example(plot.POSIXct)
     
(i.e. ct not t)

Dirk

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Mon Feb  4 16:16:51 2002
From: plummer at iarc.fr (Martyn Plummer)
Date: Mon, 04 Feb 2002 16:16:51 +0100 (CET)
Subject: [R] R-gnome: no way to configure
In-Reply-To: <20020204144618.GA19331@sonny.eddelbuettel.com>
Message-ID: <XFMail.20020204161651.plummer@iarc.fr>

On 04-Feb-2002 Dirk Eddelbuettel wrote:
> On Mon, Feb 04, 2002 at 12:22:34PM +0100, Martyn Plummer wrote:
>> I am sorry to see that you are having problems compiling the
>> GNOME interface to R.  There seem to be two separate problems
>> here
>> 1) The manual (R-admin) is not sufficiently clear about what
>>    libraries are required
> 
> How could it be, given five or six differnt (major) Linux distributions, and
> as many different flavours of Unix.

Well I wrote (or at least edited) that bit.  I'm allowed to criticise
myself, I hope.  I went as far as I could without being platform-
specific, but if people are still confused then then some more
detailed instructions for the most popular platforms may be necessary.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Mon Feb  4 16:30:12 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Mon, 4 Feb 2002 10:30:12 -0500 (EST)
Subject: [R] question from a beginner
In-Reply-To: <F9D44AC0D89CD311B9E3000629385C40044D9E5F@marconi.open.ac.uk>
Message-ID: <Pine.LNX.4.30.0202041022590.2295-100000@bolker.zoo.ufl.edu>



On Mon, 4 Feb 2002 P.J.Wells at open.ac.uk wrote:

> Ben Bolker wrote, in reply to Yiling Chen's inquiry about whether there were
> GUI-driven stat.s programs:
>
> >  No, not really.

  I wasn't saying whether GUI-driven stats programs existed, or whether
they were useful or not!  I was saying that there is not a GUI *for R*.
  I was also not claiming that GUIs are not useful, just suggesting why
they might be a lower priority for R developers.  I think most R
developers would agree that GUIs are potentially valuable but also a real
challenge to do right.

  Ben Bolker

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Mon Feb  4 16:22:17 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Mon, 4 Feb 2002 09:22:17 -0600
Subject: [R] R-gnome: no way to configure
In-Reply-To: <XFMail.20020204161651.plummer@iarc.fr>
References: <20020204144618.GA19331@sonny.eddelbuettel.com> <XFMail.20020204161651.plummer@iarc.fr>
Message-ID: <20020204152217.GA19542@sonny.eddelbuettel.com>

On Mon, Feb 04, 2002 at 04:16:51PM +0100, Martyn Plummer wrote:
> On 04-Feb-2002 Dirk Eddelbuettel wrote:
> > On Mon, Feb 04, 2002 at 12:22:34PM +0100, Martyn Plummer wrote:
> >> I am sorry to see that you are having problems compiling the
> >> GNOME interface to R.  There seem to be two separate problems
> >> here
> >> 1) The manual (R-admin) is not sufficiently clear about what
> >>    libraries are required
> > 
> > How could it be, given five or six differnt (major) Linux distributions, and
> > as many different flavours of Unix.
> 
> Well I wrote (or at least edited) that bit.  I'm allowed to criticise
> myself, I hope.  I went as far as I could without being platform-
> specific, but if people are still confused then then some more
> detailed instructions for the most popular platforms may be necessary.

Don't disagree, it is just not something we can fix for all platforms all
the time. But how about if we (porters) try to tell people what packages we
use to build our packages?

Eg for Debian I even need to do that internally so that the non-i386
packages can be build automagically:

Source: r-base
Section: math
Priority: optional
Maintainer: Dirk Eddelbuettel <edd at debian.org>
Standards-Version: 3.5.0
Build-Depends: blas-dev (>= 1.0-9), libgnome-dev, libzvt-dev,
  libgtkxmhtml-dev, tcl8.3-dev, tk8.3-dev, libglade-gnome0-dev, bison, g77
  [!m68k !ia64], g77-3.0 [ia64], f2c [m68k], gcc-3.0 [ia64], g++-3.0 [ia64],
  groff-base, libncurses5-dev, libreadline4-dev, tetex-bin, tetex-extra,
  debhelper (>= 3.0.0)
[snip]

By and in itself this is not that useful until the now-finalised Linux
Standards Base covers library names etc pp but it might give some people a
glimpse of what they were missing.

Dirk




-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- F. Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fredrik.karlsson at ling.umu.se  Mon Feb  4 18:25:27 2002
From: fredrik.karlsson at ling.umu.se (Fredrik Karlsson)
Date: Mon, 4 Feb 2002 18:25:27 +0100
Subject: [R] R-gnome: no way to configure
In-Reply-To: <1012819027.19903.17.camel@gandalf>
References: <Pine.OSF.3.96.1020124124827.15195C-100000@ija.csic.es> <1012819027.19903.17.camel@gandalf>
Message-ID: <20020204182527.A555@ling.umu.se>

Hi.

Compiling R 1.4.1 with GNOME was no problem, but I cannot use the
gnome() and gtk() without using the -gui=GNOME option.

Is this as it should be?

/Fredrik

On Mon, Feb 04, 2002 at 10:37:07AM +0000, Ernesto Jardim wrote:
> Hi
> 
> Did you manage to compile R with gnome ? If you did can you please post
> me the comand line that you've used ?
> 
> I have the same problem that you've described and don't know how to work
> around it.
> 
> Thanks
> 
> EJ
> 
> On Thu, 2002-01-24 at 11:53, Agustin Lobo wrote:
> > 
> > On 24 Jan 2002, Peter Dalgaard BSA wrote:
> > 
> > > > ./configure --with-gnome --with-gnome-includes=/opt/gnome/include
> > > > --with-gnome-libs=/opt/gnome/lib --with-libglade-config=opt/gnome/lib
> > >                                                           !!
> > > Was that as typed? That might explain things.
> > > 
> > Yes, thanks for pointing it,  but even correcting the missing "/" 
> > I get the same result.
> > 
> > The R-admin.pdf doc says 
> > "`--with-libglade-config=LIBGLADE CONFIG' specify location of
> > libglade-config "
> > 
> > I understand that it refers to the file
> > 
> > libgladeConf.sh
> > 
> > that I have under /opt/gnome/lib, but I'm not sure.
> > 
> > Thanks
> > 
> > Agus
> > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Feb  4 17:31:57 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Feb 2002 17:31:57 +0100
Subject: [R] R-gnome: no way to configure
In-Reply-To: <20020204182527.A555@ling.umu.se>
References: <Pine.OSF.3.96.1020124124827.15195C-100000@ija.csic.es>
	<1012819027.19903.17.camel@gandalf> <20020204182527.A555@ling.umu.se>
Message-ID: <x2vgddmcn6.fsf@blueberry.kubism.ku.dk>

Fredrik Karlsson <fredrik.karlsson at ling.umu.se> writes:

> Hi.
> 
> Compiling R 1.4.1 with GNOME was no problem, but I cannot use the
> gnome() and gtk() without using the -gui=GNOME option.
> 
> Is this as it should be?
> 

Yes.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Feb  4 17:33:16 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 4 Feb 2002 17:33:16 +0100
Subject: [R] R-gnome: no way to configure
In-Reply-To: <20020204182527.A555@ling.umu.se>
References: <Pine.OSF.3.96.1020124124827.15195C-100000@ija.csic.es>
	<1012819027.19903.17.camel@gandalf>
	<20020204182527.A555@ling.umu.se>
Message-ID: <15454.47052.473209.904043@gargle.gargle.HOWL>

>>>>> "Fredrik" == Fredrik Karlsson <fredrik.karlsson at ling.umu.se> writes:

    Fredrik> Hi.  Compiling R 1.4.1 with GNOME was no problem,
    Fredrik> but I cannot use the gnome() and gtk() without
    Fredrik> using the -gui=GNOME option.

    Fredrik> Is this as it should be?

yes, indeed.
(is this not mentioned in the documentation; I think it should)

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Mon Feb  4 17:36:26 2002
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Mon, 04 Feb 2002 17:36:26 +0100
Subject: [R] Installing contributed packages on MacOS X:  Solved!
In-Reply-To: <Pine.WNT.4.40.0202041436140.480-100000@tern.stats>
Message-ID: <B884771A.69E6%pflugshaupt@geobot.umnw.ethz.ch>

On 4.2.2002 15:43 Uhr, Prof Brian D Ripley wrote:

> KernSmooth does not have any paths `hard-wired'.  But pre-compiled packages
> do inherit from the R they were built under, in this case the location of
> BLAS_LIBS in etc/Makeconf.  So looks like the problem is with whoever built
> the packages: definitely not `in the packages themselves'.

I guess I have not made myself clear:

The packages I had problems with were indeed _source_ packages, downloaded
from CRAN with update.packages(). The compile process failed, but succeeded
after setting the environmental variables as posted by J. Whitaker.

After some additional (less cursory) reading of the R-exts manual, I checked
out the etc/Makeconf file in my R installation and promptly found

LIBPATHS =  -L/usr/local/lib

There ought to be a -L/sw/lib here, I think. Thus, it's my R installation
(i.e. the fink r-base package) that's to blame. I'll be working it out with
J. Whitaker.

Cheers

Kaspar Pflugshaupt



-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Feb  4 17:36:46 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 4 Feb 2002 08:36:46 -0800 (PST)
Subject: [R] Help with accessing elements of a list
In-Reply-To: <F183YIfhVO8w21c63q20001dd0d@hotmail.com>
Message-ID: <Pine.A41.4.44.0202040833450.115698-100000@homer41.u.washington.edu>

On Mon, 4 Feb 2002, anthony staines wrote:

> Hi,
>
> As part of the analysis of a longitudinal study, I have a list, called wg,
> on R 1.3.1 for windows created as follows -
>
> wg <- by(xx, xx$mrn, function(xx) lm(xx$maternal.wt ~ xx$gestation,
> data=xx))

It would be slightly more elegant (but equivalent) to write
 wg <- by(xx, xx$mrn, function(xx) lm(maternal.wt ~ gestation,  data=xx))


> xx is a data.frame, and so wg contains the results of 293 linear
> regressions, as lm objects.
>
> Now what I want is to extract the 293 intercepts and regression coefficients
> as a vector, and do things with them - like examine their distributions.
>

Well, if you had one of these you would use coef(one.of.these) to get the
coefficients, so given an entire list you could use
   sapply(wg,coef)
to return the 293x2 matrix of coefficients.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From isaac.neuhaus at bms.com  Mon Feb  4 17:41:53 2002
From: isaac.neuhaus at bms.com (Isaac Neuhaus)
Date: Mon, 04 Feb 2002 11:41:53 -0500
Subject: [R] R in IRIX 64-bit
Message-ID: <3C5EB9D1.29145911@bms.com>

Hi,

I am trying to install R 1.4.1 on and SGI using 64 bit. When I configure
I get...

R is now configured for mips-sgi-irix6.5

  Source directory:          .
  Installation directory:    /usr/local
  C compiler:                cc -64  -OPT:IEEE_NaN_inf=ON -g
  C++ compiler:              CC  -OPT:IEEE_NaN_inf=ON -g
  FORTRAN compiler:          f77  -OPT:IEEE_NaN_inf=ON -g

  X11 support:               yes
  Gnome support:             no
  Tcl/Tk support:            no

  R profiling support:       yes
  R as a shared library:     no

When I use gmake after a 'few' WARNINGS like .....

cc-1185 cc: WARNING File = g_alab_her.c, Line = 247
  An enumerated type is mixed with another type.

    GConvert(&currX, &currY, g_unit, INCHES, dd);
                             ^

It errors with...

building package `base'
../../../library/base/R/base is unchanged
Cannot create
../../../library/base/../../../src/library/base/DESCRIPTION - No such
file or directory
../../../library/base/../../../src/library/base/DESCRIPTION - No such
file or directory
../../../library/base/../../../src/library/base/DESCRIPTION - No such
file or directory
Cannot access
./../../library/base/../../../src/library/base/DESCRIPTION: No such
file or directory
gmake[3]: *** [all] Error 1
gmake[3]: Leaving directory
`/u2/people/neuhausi/build/R/R-1.4.1/src/library/base'
gmake[2]: *** [R] Error 1
gmake[2]: Leaving directory
`/u2/people/neuhausi/build/R/R-1.4.1/src/library'
gmake[1]: *** [R] Error 1
gmake[1]: Leaving directory `/u2/people/neuhausi/build/R/R-1.4.1/src'
gmake: *** [R] Error 1


Help is greatly appreciated.

Isaac

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jean.vidal at freesurf.fr  Mon Feb  4 19:38:39 2002
From: jean.vidal at freesurf.fr (Jean Vidal)
Date: Mon, 04 Feb 2002 18:38:39 +0000
Subject: [R] Fixing scale when plotting
Message-ID: <5.1.0.14.0.20020204182129.033b2ec0@pop.freesurf.fr>

I would like to plot on the same page - with mfrow=c(2,5) - several 
barplots which describe answers to a question in a survey, ranging from 1 
to 10. Sometimes, values are not present in the dataset (nobody answers "1" 
to question A). To keep the graphs on the same scale, I tried, with little 
succes, to fix the scale, so that a level is represented even if no value 
is present.
With an example :
barplot(table(c(1,2,2,3,4,4,5)))
barplot(table(c(2,2,2,4,4,4,5)))
How to have the second plot on the same scale as the first, ranging from 1 
to 5, with all levels ?

Thanks for your help.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From heberto.ghezzo at mcgill.ca  Mon Feb  4 18:41:57 2002
From: heberto.ghezzo at mcgill.ca (Heberto Ghezzo)
Date: Mon, 04 Feb 2002 12:41:57 -0500
Subject: [R] read zipped files
Message-ID: <3C5EC7E5.5CFDADA8@mcgill.ca>

I received several answer to my querry re reading zipped files,
R.Gentleman, Liaw Andy, BD Ripley,J Holtman, A.Matt, and others,
sorry
if I missed your names.
a- use pipe to run external unzip to a file and read from there
b- use gzfile() to open directly a gzipped file
c- use zip.file.extract()
solution b works like a charm, unfortunately it open gzipped files
and
not zipped files, would it be possible in a future release to add
a
zipfile() function?
solution c. There is a problem here a) the help says it can be
changed
at any moment b) it does not work in some platforms.
Well it does not work in a Win98 machine with R1.4.0 The work
inside
zip.file.extract() is done by:
rc <- .Internal(int.unzip(file.path(path,zipname),topic,tempdir))
it return rc = 0 which I assume means OK
but I can not find the unzipped file anywhere or using rc as file
pointer.
Can somebody tell me how to access the unzipped file, i.e."topic"
How
do I write txt <- readLines(pfile,n=2), what do I put instead of
pfile?
As always thanks to those who responded to my first querry
--
R. Heberto Ghezzo Ph.D.
Meakins-Christie Labs
McGill University
Montreal  -  Canada

-------------- next part --------------
An embedded message was scrubbed...
From: Mail Delivery Subsystem <MAILER-DAEMON at stat.math.ethz.ch>
Subject: Returned mail: User unknown
Date: Mon, 04 Feb 2002 15:20:33 +0100 (MET)
Size: 4054
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20020204/898fcb43/attachment.mht

From pjohnson at biostat.ufl.edu  Mon Feb  4 18:48:41 2002
From: pjohnson at biostat.ufl.edu (Patches Johnson)
Date: Mon, 04 Feb 2002 12:48:41 -0500
Subject: [R] regression trees
Message-ID: <3C5EC979.C2EC797@biostat.ufl.edu>

I am trying to find documentation in R to help in  formulating
classification and regression trees (CART).  Where in the documentation
of R can I find info on the 'tree' command?

Thanks-

P.L. Johnson
Univ. of Florida

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Mon Feb  4 18:58:07 2002
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Mon, 04 Feb 2002 18:58:07 +0100
Subject: [R] Fixing scale when plotting
References: <5.1.0.14.0.20020204182129.033b2ec0@pop.freesurf.fr>
Message-ID: <3C5ECBAF.FF49D562@ci.tuwien.ac.at>

Jean Vidal wrote:
> 
> I would like to plot on the same page - with mfrow=c(2,5) - several
> barplots which describe answers to a question in a survey, ranging from 1
> to 10. Sometimes, values are not present in the dataset (nobody answers "1"
> to question A). To keep the graphs on the same scale, I tried, with little
> succes, to fix the scale, so that a level is represented even if no value
> is present.
> With an example :
> barplot(table(c(1,2,2,3,4,4,5)))
> barplot(table(c(2,2,2,4,4,4,5)))
> How to have the second plot on the same scale as the first, ranging from 1
> to 5, with all levels ?

You probably would want to keep the answer to the question as a factor
and not as a numeric vector:
  answer <- factor(c(2,2,2,4,4,4,5), levels=1:5)
  barplot(table(answer))

 
> Thanks for your help.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ycheng at cooperinst.org  Mon Feb  4 19:02:11 2002
From: ycheng at cooperinst.org (Cheng, Yiling)
Date: Mon, 4 Feb 2002 12:02:11 -0600 
Subject: [R] maximal dataset size
Message-ID: <55686C29832DD311A3CF00902784B9C298F800@CICORP>

Hi, there,
    I am using PC window version R and dealing with big dataset usually. May
anyone let me whether the maximal dataset size in R is limited by computer
memory or hard drive capacity?
   Thanks in advance.
Yiling Cheng, M.D., Ph.D.
Project Manager
The Cooper Institute for Aerobics Research
12330 Preston Road, Dallas, Texas 75230
phone: (972) 3413248; Fax: (972) 3413224

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Feb  4 19:10:47 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 4 Feb 2002 10:10:47 -0800 (PST)
Subject: [R] regression trees
In-Reply-To: <3C5EC979.C2EC797@biostat.ufl.edu>
Message-ID: <Pine.A41.4.44.0202041005490.115698-100000@homer41.u.washington.edu>

On Mon, 4 Feb 2002, Patches Johnson wrote:

> I am trying to find documentation in R to help in  formulating
> classification and regression trees (CART).  Where in the documentation
> of R can I find info on the 'tree' command?

You don't want the tree() command. You want the rpart() command in the
rpart package (which should be part of your R distribution).

For more background information there is a Mayo Clinic technical report
(#61) by the authors of rpart, available from
  http://www.mayo.edu/hsr/techrpt.html

It's also described in Venables & Ripley MASS, like most things.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Feb  4 19:14:15 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 4 Feb 2002 10:14:15 -0800 (PST)
Subject: [R] maximal dataset size
In-Reply-To: <55686C29832DD311A3CF00902784B9C298F800@CICORP>
Message-ID: <Pine.A41.4.44.0202041011010.115698-100000@homer41.u.washington.edu>

On Mon, 4 Feb 2002, Cheng, Yiling wrote:

> Hi, there,
>     I am using PC window version R and dealing with big dataset usually. May
> anyone let me whether the maximal dataset size in R is limited by computer
> memory or hard drive capacity?

Primarily by computer memory. R is able to use virtual memory but is very
slow (worse with some Windows versions than others).

You probably don't want to use a dataset that is more than about 1/3 the
size of your computer's physical memory. With modern computers that is
still quite large.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Feb  4 19:20:56 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 4 Feb 2002 18:20:56 +0000 (GMT)
Subject: [R] read zipped files
In-Reply-To: <3C5EC7E5.5CFDADA8@mcgill.ca>
Message-ID: <Pine.LNX.4.31.0202041819001.12912-100000@gannet.stats>

On Mon, 4 Feb 2002, Heberto Ghezzo wrote:

> I received several answer to my querry re reading zipped files,
> R.Gentleman, Liaw Andy, BD Ripley,J Holtman, A.Matt, and others,
> sorry
> if I missed your names.
> a- use pipe to run external unzip to a file and read from there
> b- use gzfile() to open directly a gzipped file
> c- use zip.file.extract()
> solution b works like a charm, unfortunately it open gzipped files
> and
> not zipped files, would it be possible in a future release to add
> a
> zipfile() function?

It's called unz(), expect to see it in 1.5.0.

> solution c. There is a problem here a) the help says it can be
> changed

It will have a public interface come 1.5.0.

> at any moment b) it does not work in some platforms.
> Well it does not work in a Win98 machine with R1.4.0 The work
> inside
> zip.file.extract() is done by:
> rc <- .Internal(int.unzip(file.path(path,zipname),topic,tempdir))
> it return rc = 0 which I assume means OK

zip.file.extract returns a character string saying where it put it.
See, e.g. help for how it is used.

> but I can not find the unzipped file anywhere or using rc as file
> pointer.
> Can somebody tell me how to access the unzipped file, i.e."topic"
> How
> do I write txt <- readLines(pfile,n=2), what do I put instead of
> pfile?
> As always thanks to those who responded to my first querry
> --
> R. Heberto Ghezzo Ph.D.
> Meakins-Christie Labs
> McGill University
> Montreal  -  Canada
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Mon Feb  4 20:09:19 2002
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Mon, 4 Feb 2002 14:09:19 -0500
Subject: [R] R-gnome: no way to configure
In-Reply-To: <20020204182527.A555@ling.umu.se>; from fredrik.karlsson@ling.umu.se on Mon, Feb 04, 2002 at 06:25:27PM +0100
References: <Pine.OSF.3.96.1020124124827.15195C-100000@ija.csic.es> <1012819027.19903.17.camel@gandalf> <20020204182527.A555@ling.umu.se>
Message-ID: <20020204140919.C1232@jessie.research.bell-labs.com>


There is a collection of experimental patches for the R tree from
    http://www.omegahat.org/RGtk 
that allow one a) to create Gtk
devices without using the GNOME interface and b) to use an existing
drawing area widget as an R graphics device. When used with the RGtk
package, b) allows one to embed devices in abitrary GUIs.

Martyn Plummer and I are discussing the best ways to structure these
and other changes to provide rich support for Gtk/GNOME.  Hopefully
they will be in the development version of R soon.

Fredrik Karlsson wrote:
> Hi.
> 
> Compiling R 1.4.1 with GNOME was no problem, but I cannot use the
> gnome() and gtk() without using the -gui=GNOME option.
> 
> Is this as it should be?
> 
> /Fredrik
> 
> On Mon, Feb 04, 2002 at 10:37:07AM +0000, Ernesto Jardim wrote:
> > Hi
> > 
> > Did you manage to compile R with gnome ? If you did can you please post
> > me the comand line that you've used ?
> > 
> > I have the same problem that you've described and don't know how to work
> > around it.
> > 
> > Thanks
> > 
> > EJ
> > 
> > On Thu, 2002-01-24 at 11:53, Agustin Lobo wrote:
> > > 
> > > On 24 Jan 2002, Peter Dalgaard BSA wrote:
> > > 
> > > > > ./configure --with-gnome --with-gnome-includes=/opt/gnome/include
> > > > > --with-gnome-libs=/opt/gnome/lib --with-libglade-config=opt/gnome/lib
> > > >                                                           !!
> > > > Was that as typed? That might explain things.
> > > > 
> > > Yes, thanks for pointing it,  but even correcting the missing "/" 
> > > I get the same result.
> > > 
> > > The R-admin.pdf doc says 
> > > "`--with-libglade-config=LIBGLADE CONFIG' specify location of
> > > libglade-config "
> > > 
> > > I understand that it refers to the file
> > > 
> > > libgladeConf.sh
> > > 
> > > that I have under /opt/gnome/lib, but I'm not sure.
> > > 
> > > Thanks
> > > 
> > > Agus
> > > 
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > 
> > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pgilbert at bank-banque-canada.ca  Mon Feb  4 20:31:46 2002
From: pgilbert at bank-banque-canada.ca (Paul Gilbert)
Date: Mon, 04 Feb 2002 14:31:46 -0500
Subject: [R] R-ex directory in a R package; large software in R
References: <Pine.A41.4.44.0202011544131.54986-100000@homer16.u.washington.edu>
Message-ID: <3C5EE1A2.2D7E8EF8@bank-banque-canada.ca>

On Fri, 1 Feb 2002 jonathan_li at agilent.com wrote:

> A more general and related question is: how does one organize R files in a
> package? Should they all just go into pkg/R? To create a large package, this
> way of organization is not very desirable. Most of R packages seem to be
> relatively small so far. But I am hoping that some larger software can be
> built around R. Can people comment on this?

I'm not sure what you mean by large, but if you think you have more than a
single package then you should consider the bundle mechanism for grouping
packages together. Multiple packages helps you sort out the relationship between
parts of your code and also provides a good mechanism for maintaining it. Also,
if you use "make" for maintaining and testing your code, then smaller packages
provides a reasonably efficient mechanism for sorting out dependencies.

I have about 18,000 lines of R code (one of those useless measures that is often
quoted) and about 11,000 lines of documentation organized in 18 packages grouped
in three bundles (dse on CRAN, dseplus on CRAN/devel, and a bundle that I don't
distribute). I maintain it mainly for my research interests, it is a small part
of my full time job, and I also have a family. I think the reason for separating
code into packages has more to do with sorting out the logical structure of your
code than it has to do with any limitations of R. I can provide more details if
you like.

Paul Gilbert
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ycheng at cooperinst.org  Mon Feb  4 22:48:23 2002
From: ycheng at cooperinst.org (Cheng, Yiling)
Date: Mon, 4 Feb 2002 15:48:23 -0600 
Subject: [R] maximal dataset size
Message-ID: <55686C29832DD311A3CF00902784B9C298F804@CICORP>

Very good. This is big enough usually. My dataset size in SAS format is over
300M, but I can make it smaller by selecting some variables for R. By the
way, you said you can run with 100 M dataset on you PC. What kind of format
do they have? ASCII or R? 
Thank you for your help.

Yiling

-----Original Message-----
From: james.holtman at convergys.com [mailto:james.holtman at convergys.com]
Sent: Monday, February 04, 2002 3:43 PM
To: Cheng, Yiling
Subject: Re: [R] maximal dataset size



The maximum data set is limited by the addressing of the PC, which is 2GB.
The largest dataset that you could probably work with is at least 50%
smaller (<1GB), since you probably need some working space if you are doing
any manipulation of the data.  It is also a function of the memory on your
system.  I would suggest you get at least twice as much real memory as the
largest data set you will be working with, or else you will be paging, and
paging 1GB will take a lot of time.

If the largest you are working with is about 20-25% of your real memory
that R can use (don't run anything else on the machine that might take
memory), you will probably be fine.  I use 512M of memory and run with 100M
data sets.





"Cheng, Yiling" <ycheng at cooperinst.org>@stat.math.ethz.ch on 02/04/2002
13:02:11

Sent by:  owner-r-help at stat.math.ethz.ch


To:   "R-Help (E-mail)" <r-help at stat.math.ethz.ch>
cc:
Subject:  [R] maximal dataset size


Hi, there,
    I am using PC window version R and dealing with big dataset usually.
May
anyone let me whether the maximal dataset size in R is limited by computer
memory or hard drive capacity?
   Thanks in advance.
Yiling Cheng, M.D., Ph.D.
Project Manager
The Cooper Institute for Aerobics Research
12330 Preston Road, Dallas, Texas 75230
phone: (972) 3413248; Fax: (972) 3413224

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._



--

NOTICE:  The information contained in this electronic mail transmission is
intended by Convergys Corporation for the use of the named individual or
entity to which it is directed and may contain information that is
privileged or otherwise confidential.  If you have received this electronic
mail transmission in error, please delete it from your system without
copying or forwarding it, and notify the sender of the error by reply email
or by telephone (collect), so that the sender's address records can be
corrected.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luke at stat.umn.edu  Mon Feb  4 23:12:05 2002
From: luke at stat.umn.edu (Luke Tierney)
Date: Mon, 4 Feb 2002 16:12:05 -0600
Subject: [R] R in IRIX 64-bit
In-Reply-To: <3C5EB9D1.29145911@bms.com>; from isaac.neuhaus@bms.com on Mon, Feb 04, 2002 at 11:41:53AM -0500
References: <3C5EB9D1.29145911@bms.com>
Message-ID: <20020204161205.B13823@nokomis.stat.umn.edu>

It looks like you are using 32-bit Fortran.  I used

env CC="cc -64" ./configure --with-f77="f77 -64" --with-tcltk=no

from tcsh to confiugre a 64-bit build on IRIX 6.5, if that helps.

luke

On Mon, Feb 04, 2002 at 11:41:53AM -0500, Isaac Neuhaus wrote:
> Hi,
> 
> I am trying to install R 1.4.1 on and SGI using 64 bit. When I configure
> I get...
> 
> R is now configured for mips-sgi-irix6.5
> 
>   Source directory:          .
>   Installation directory:    /usr/local
>   C compiler:                cc -64  -OPT:IEEE_NaN_inf=ON -g
>   C++ compiler:              CC  -OPT:IEEE_NaN_inf=ON -g
>   FORTRAN compiler:          f77  -OPT:IEEE_NaN_inf=ON -g
> 
>   X11 support:               yes
>   Gnome support:             no
>   Tcl/Tk support:            no
> 
>   R profiling support:       yes
>   R as a shared library:     no
> 
> When I use gmake after a 'few' WARNINGS like .....
> 
> cc-1185 cc: WARNING File = g_alab_her.c, Line = 247
>   An enumerated type is mixed with another type.
> 
>     GConvert(&currX, &currY, g_unit, INCHES, dd);
>                              ^
> 
> It errors with...
> 
> building package `base'
> ../../../library/base/R/base is unchanged
> Cannot create
> ../../../library/base/../../../src/library/base/DESCRIPTION - No such
> file or directory
> ../../../library/base/../../../src/library/base/DESCRIPTION - No such
> file or directory
> ../../../library/base/../../../src/library/base/DESCRIPTION - No such
> file or directory
> Cannot access
> ./../../library/base/../../../src/library/base/DESCRIPTION: No such
> file or directory
> gmake[3]: *** [all] Error 1
> gmake[3]: Leaving directory
> `/u2/people/neuhausi/build/R/R-1.4.1/src/library/base'
> gmake[2]: *** [R] Error 1
> gmake[2]: Leaving directory
> `/u2/people/neuhausi/build/R/R-1.4.1/src/library'
> gmake[1]: *** [R] Error 1
> gmake[1]: Leaving directory `/u2/people/neuhausi/build/R/R-1.4.1/src'
> gmake: *** [R] Error 1
> 
> 
> Help is greatly appreciated.
> 
> Isaac
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thoar at cgd.ucar.edu  Mon Feb  4 23:35:30 2002
From: thoar at cgd.ucar.edu (Tim Hoar)
Date: Mon, 4 Feb 2002 15:35:30 -0700 (MST)
Subject: [R] installing version 1.4.1
Message-ID: <Pine.GSO.4.30.0202041533400.16591-100000@sunray1>

Hello people, me again ...

Just an FYI this time, I think:

0[209]1 sunray1:/contrib > gtar zxf R-1.4.1.tgz
tar: R-1.4.1/date-stamp: Could not create file: Permission denied
gtar: Error exit delayed from previous errors
2[210]1 sunray1:/contrib > gtar zxvf R-1.4.1.tgz "R-1.4.1/date-stamp"
R-1.4.1/date-stamp
gtar: R-1.4.1/date-stamp: Could not create file: Permission denied
gtar: Error exit delayed from previous errors


Is there some problem with     R-1.4.1/date-stamp    ?

Can't imagine it is a deal-breaker, but ...

Tim

## Tim Hoar, Associate Scientist              email: thoar at ucar.edu     ##
## Geophysical Statistics Project             phone: 303-497-1708       ##
## National Center for Atmospheric Research   FAX  : 303-497-1333       ##
## Boulder, CO  80307                    http://www.cgd.ucar.edu/~thoar ##

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From isaac.neuhaus at bms.com  Mon Feb  4 23:46:14 2002
From: isaac.neuhaus at bms.com (Isaac Neuhaus)
Date: Mon, 04 Feb 2002 17:46:14 -0500
Subject: [R] R in IRIX 64-bit
References: <3C5EB9D1.29145911@bms.com>
 <20020204161205.B13823@nokomis.stat.umn.edu>
Message-ID: <3C5F0F36.FBFD802@bms.com>

Thanks. We finnallly got it to work. We run the configure as you indicate and we
also found that the installation is very sensitive to the install program.

We (Bob Bruccoleri (bruc at bms.com)) used the following script to build it:

#!/bin/ksh -x

export MAKE=/usr/local/bin/gmake
gmake clean
rm -f config.cache config.status
rm -f modules/*.so
find . \( -name "*.o"  -o -name "*.a" -o -name "*.so" \) -print

CC="cc -64" \
CXX="CC -64" \
PERL="/usr/local64/bin/perl" \
./configure --with-f77="f77 -64" --with-readline --with-x --without-tcltk
--prefix=/usr/local64 --verbose

gmake
gmake check
gmake install


Isaac



Luke Tierney wrote:

> It looks like you are using 32-bit Fortran.  I used
>
> env CC="cc -64" ./configure --with-f77="f77 -64" --with-tcltk=no
>
> from tcsh to confiugre a 64-bit build on IRIX 6.5, if that helps.
>
> luke
>
> On Mon, Feb 04, 2002 at 11:41:53AM -0500, Isaac Neuhaus wrote:
> > Hi,
> >
> > I am trying to install R 1.4.1 on and SGI using 64 bit. When I configure
> > I get...
> >
> > R is now configured for mips-sgi-irix6.5
> >
> >   Source directory:          .
> >   Installation directory:    /usr/local
> >   C compiler:                cc -64  -OPT:IEEE_NaN_inf=ON -g
> >   C++ compiler:              CC  -OPT:IEEE_NaN_inf=ON -g
> >   FORTRAN compiler:          f77  -OPT:IEEE_NaN_inf=ON -g
> >
> >   X11 support:               yes
> >   Gnome support:             no
> >   Tcl/Tk support:            no
> >
> >   R profiling support:       yes
> >   R as a shared library:     no
> >
> > When I use gmake after a 'few' WARNINGS like .....
> >
> > cc-1185 cc: WARNING File = g_alab_her.c, Line = 247
> >   An enumerated type is mixed with another type.
> >
> >     GConvert(&currX, &currY, g_unit, INCHES, dd);
> >                              ^
> >
> > It errors with...
> >
> > building package `base'
> > ../../../library/base/R/base is unchanged
> > Cannot create
> > ../../../library/base/../../../src/library/base/DESCRIPTION - No such
> > file or directory
> > ../../../library/base/../../../src/library/base/DESCRIPTION - No such
> > file or directory
> > ../../../library/base/../../../src/library/base/DESCRIPTION - No such
> > file or directory
> > Cannot access
> > ./../../library/base/../../../src/library/base/DESCRIPTION: No such
> > file or directory
> > gmake[3]: *** [all] Error 1
> > gmake[3]: Leaving directory
> > `/u2/people/neuhausi/build/R/R-1.4.1/src/library/base'
> > gmake[2]: *** [R] Error 1
> > gmake[2]: Leaving directory
> > `/u2/people/neuhausi/build/R/R-1.4.1/src/library'
> > gmake[1]: *** [R] Error 1
> > gmake[1]: Leaving directory `/u2/people/neuhausi/build/R/R-1.4.1/src'
> > gmake: *** [R] Error 1
> >
> >
> > Help is greatly appreciated.
> >
> > Isaac
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
> --
> Luke Tierney
> University of Minnesota                      Phone:           612-625-7843
> School of Statistics                         Fax:             612-624-8868
> 313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
> Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hzi at uol.com.br  Mon Feb  4 22:16:32 2002
From: hzi at uol.com.br (hzi@uol.com.br)
Date: Mon, 4 Feb 2002 19:16:32 -0200
Subject: [R] question from a beginner
In-Reply-To: <Pine.OSF.3.96.1020202135637.22294A-100000@ija.csic.es>; from alobo@ija.csic.es on Sat, Feb 02, 2002 at 02:02:10PM +0100
References: <20020131012400.B6526@uol.com.br> <Pine.OSF.3.96.1020202135637.22294A-100000@ija.csic.es>
Message-ID: <20020204191632.A13552@uol.com.br>

On Sat, Feb 02, 2002 at 02:02:10PM +0100, Agustin Lobo wrote:
> 
> On Thu, 31 Jan 2002 hzi at uol.com.br wrote:
> 
> > On Wed, Jan 30, 2002 at 06:49:00PM -0500, Ben Bolker wrote:
> > > 
> > >   No, not really.
> > >   There are some facilities if you want to *design* GUIs for other people
> > > to use, e.g. the Tcl/Tk extensions or Rweb (www.math.montana.edu/Rweb/),
> > > but nothing where you can start from scratch with an arbitrary set of
> > > data.  R is much more process-oriented: if you know what you want to do
> > > (linear regression, ANOVA, etc.), it should be fairly easy to find the
> > > commands that do what you want.  S-PLUS has GUI facilities, although I
> > > haven't tried them.  I think there is a fairly strong philosophy among
> > > most R developers that the "right" way to do things is to learn some of
> > > the underlying foundations so that you can really understand what you are
> > > doing.  It is easier to go wrong with GUIs -- although there are lots of
> > > confounding factors, and GUIs can be designed in better or worse ways.
> > >
> > 
> > 	As true as it what you've said may be, one sometimes wishes for a little GUI
> > functionality.
> > 	If one __were__ to develop (say something with Tk), or any other contribution
> > in that sense, how could one distribute it)?
> > 	Little tedious things like summary and histograms...
> > 
> > 	Cheers,
> > 
> > 	Henry L
> 
> I agree, some basic functionality in a menu would be handy, like,
> for example, being able to print or save displayed graphics or geting a
> window with an object browser. 
> 
> Agus
> 
> Dr. Agustin Lobo


Dr. Lobo-

	XLisp-Stat has some very nice functionalities, like choosing to save
	the image in PostScript.

	It wouldn't be bad at all to have that in R...

	Cheers,

	Henry L.
	
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Tue Feb  5 05:40:06 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Mon, 4 Feb 2002 23:40:06 -0500 (EST)
Subject: [R] Measures of agreement
Message-ID: <Pine.LNX.4.21L1.0202042335370.12018-100000@nujoma.perrins>

Greetings.

I've been experimenting with some algorithms for document classification
(specifically, a Naive Bayes classifier and a kNN classifier) and I would
now like to calculate some inter-rater reliability scores. I have the data
in a PostgreSQL database, such that for each document, each measure (there
are 9) has three variables: ap_(measure), nb_(measure), and
knn_(measure). ap is me (Andrew Perrin), nb is Naive Bayes, and knn is
knn.

I have two questions:
1.) I have used the code in the Using R for Psychology... paper to
calculate Cohen's Kappa (kappaFor2). It returns a (fairly low) kappa, but
also some warnings I don't understand:
> kappaFor2(ap.nb.df$ap.sub,ap.nb.df$nb.sub)
     kappa       S.E.     z.stat    p.value 
0.09411765 0.33707660 0.27921738 0.78007800 
Warning messages: 
1: longer object length
        is not a multiple of shorter object length in: tm1 * tm2 
2: longer object length
        is not a multiple of shorter object length in: tm1 * tm2 
3: longer object length
        is not a multiple of shorter object length in: tm1 + tm2 


2.) I'd be interested in other measures of reliability, specifically ones
from the NLP literature such as precision, recall, and F1. These seem more
interesting for my uses, if for no other reason than what I'm really
interested in is comparing the success of nb and knn at approaching the ap
categories. Are there any packages that provide such measures?

Many thanks.

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eger.m at gmx.de  Tue Feb  5 08:24:56 2002
From: eger.m at gmx.de (Marcus Eger)
Date: Tue, 5 Feb 2002 08:24:56 +0100
Subject: [R] eps Portrait to pdf now rotated since gs6.5 --- why?
Message-ID: <E16XzyK-0000Hw-00@ernie.physik.uni-marburg.de>

Hi list,
this question has probably been answered but I haven't found
a solution in the archives:
The older ghostscript gs5.50 (debian,stable) deals well with R-plots:
epstopdf yields pdfs with the same orientation as the eps-file.
But, since gs6.5 (or earlier) the dimension of the plot is interpreted: if 
x-width exceeds y-width even a Portrait-eps is rotated to Landscape.

A possible solution is to adjust the Orientation-Flag at eps-generation in R. 
Any ideas?
Thanks
 	Marcus
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Feb  5 08:32:03 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 5 Feb 2002 07:32:03 +0000 (GMT)
Subject: [R] eps Portrait to pdf now rotated since gs6.5 --- why?
In-Reply-To: <E16XzyK-0000Hw-00@ernie.physik.uni-marburg.de>
Message-ID: <Pine.GSO.4.44.0202050728130.747-100000@auk.stats>

On Tue, 5 Feb 2002, Marcus Eger wrote:

> this question has probably been answered but I haven't found
> a solution in the archives:
> The older ghostscript gs5.50 (debian,stable) deals well with R-plots:
> epstopdf yields pdfs with the same orientation as the eps-file.
> But, since gs6.5 (or earlier) the dimension of the plot is interpreted: if
> x-width exceeds y-width even a Portrait-eps is rotated to Landscape.
>
> A possible solution is to adjust the Orientation-Flag at eps-generation in R.

Are you following the advice in ?postscript and elsewhere?  That is to
produce portrait plots, and I have never seen a problem converting with gs
(currently 7.03).

However, R has long had a pdf device, so if you want pdf, why not generate
it in R?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Feb  5 08:41:39 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 5 Feb 2002 07:41:39 +0000 (GMT)
Subject: [R] installing version 1.4.1
In-Reply-To: <Pine.GSO.4.30.0202041533400.16591-100000@sunray1>
Message-ID: <Pine.GSO.4.44.0202050736110.747-100000@auk.stats>

On Mon, 4 Feb 2002, Tim Hoar wrote:

> Hello people, me again ...
>
> Just an FYI this time, I think:
>
> 0[209]1 sunray1:/contrib > gtar zxf R-1.4.1.tgz
> tar: R-1.4.1/date-stamp: Could not create file: Permission denied
> gtar: Error exit delayed from previous errors
> 2[210]1 sunray1:/contrib > gtar zxvf R-1.4.1.tgz "R-1.4.1/date-stamp"
> R-1.4.1/date-stamp
> gtar: R-1.4.1/date-stamp: Could not create file: Permission denied
> gtar: Error exit delayed from previous errors
>
>
> Is there some problem with     R-1.4.1/date-stamp    ?

It is read-only.  What version of `gtar' is this, and have you
already extracted in R-1.4.1 (yes in the case of your second attempt)?

I suspect an older version of GNU tar is in use.  I can't imagine this is a
common problem, or we would have met it before now.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Feb  5 08:48:28 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 5 Feb 2002 07:48:28 +0000 (GMT)
Subject: [R] question from a beginner
In-Reply-To: <20020204191632.A13552@uol.com.br>
Message-ID: <Pine.GSO.4.44.0202050744200.747-100000@auk.stats>

On Mon, 4 Feb 2002 hzi at uol.com.br wrote:

> On Sat, Feb 02, 2002 at 02:02:10PM +0100, Agustin Lobo wrote:
> >
> > On Thu, 31 Jan 2002 hzi at uol.com.br wrote:
> >
> > > On Wed, Jan 30, 2002 at 06:49:00PM -0500, Ben Bolker wrote:
> > > >
> > > >   No, not really.
> > > >   There are some facilities if you want to *design* GUIs for other people
> > > > to use, e.g. the Tcl/Tk extensions or Rweb (www.math.montana.edu/Rweb/),
> > > > but nothing where you can start from scratch with an arbitrary set of
> > > > data.  R is much more process-oriented: if you know what you want to do
> > > > (linear regression, ANOVA, etc.), it should be fairly easy to find the
> > > > commands that do what you want.  S-PLUS has GUI facilities, although I
> > > > haven't tried them.  I think there is a fairly strong philosophy among
> > > > most R developers that the "right" way to do things is to learn some of
> > > > the underlying foundations so that you can really understand what you are
> > > > doing.  It is easier to go wrong with GUIs -- although there are lots of
> > > > confounding factors, and GUIs can be designed in better or worse ways.
> > > >
> > >
> > > 	As true as it what you've said may be, one sometimes wishes for a little GUI
> > > functionality.
> > > 	If one __were__ to develop (say something with Tk), or any other contribution
> > > in that sense, how could one distribute it)?
> > > 	Little tedious things like summary and histograms...
> > >
> > > 	Cheers,
> > >
> > > 	Henry L
> >
> > I agree, some basic functionality in a menu would be handy, like,
> > for example, being able to print or save displayed graphics or geting a
> > window with an object browser.
> >
> > Agus
> >
> > Dr. Agustin Lobo
>
>
> Dr. Lobo-
>
> 	XLisp-Stat has some very nice functionalities, like choosing to save
> 	the image in PostScript.
>
> 	It wouldn't be bad at all to have that in R...

It isn't bad at all that we have it on the GUI interfaces, then ....
It is on menus under Windows (surely the most used port of R) and I believe
under MacOS and GNOME too.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Feb  5 09:25:54 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 5 Feb 2002 08:25:54 +0000 (GMT)
Subject: [R] eps Portrait to pdf now rotated since gs6.5 --- why?
In-Reply-To: <Pine.GSO.4.44.0202050728130.747-100000@auk.stats>
Message-ID: <Pine.GSO.4.44.0202050819200.3529-100000@auk.stats>

I have now managed to trigger this.  The solution is to remove the
%%Orientation comment in the .eps.  *However*, according to the
PostScript Language Reference Manual this is to be used by viewers to set
the window orientation, so gs is not following the DSC guidelines.  It
seems only to use it for pdf and not say png conversion.

I'll remove that comment when producing eps from postscript(), as it also
affects bitmap().

[Marcus: mail to gmx.de is bouncing today.]


On Tue, 5 Feb 2002, Prof Brian D Ripley wrote:

> On Tue, 5 Feb 2002, Marcus Eger wrote:
>
> > this question has probably been answered but I haven't found
> > a solution in the archives:
> > The older ghostscript gs5.50 (debian,stable) deals well with R-plots:
> > epstopdf yields pdfs with the same orientation as the eps-file.
> > But, since gs6.5 (or earlier) the dimension of the plot is interpreted: if
> > x-width exceeds y-width even a Portrait-eps is rotated to Landscape.
> >
> > A possible solution is to adjust the Orientation-Flag at eps-generation in R.
>
> Are you following the advice in ?postscript and elsewhere?  That is to
> produce portrait plots, and I have never seen a problem converting with gs
> (currently 7.03).
>
> However, R has long had a pdf device, so if you want pdf, why not generate
> it in R?


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.cameron at enscitech.com  Tue Feb  5 10:25:29 2002
From: peter.cameron at enscitech.com (Peter Cameron)
Date: Tue, 5 Feb 2002 09:25:29 -0000
Subject: [R] Compiling R 1.3.0 on AIX 4.3.3 and libz.a
Message-ID: <029601c1ae27$5a2de7c0$9992bc3e@baldrick>

We use R 1.3.0 in a Java application and it's been successfully deployed on
IRIX, Solaris and Linux machines. I've got a problem with R on our RS6000
(AIX 4.3.3) which I'm hoping I can solve by posting here.

R is compiled and bundled with our application (on all UNIX platforms) as
follows:

1. R is configured using: configure --with-x=no --with-tcltk=no
2. Once compiled (with gcc) and installed on development machines, a copy of
R's lib directory is bundled with our application, and R_HOME is set to
point to the appropriate area at runtime.

This has worked for Solaris and IRIX. In both these instances, our
application has been successfully deployed on target machines that weren't
used for development.

However, with a non-development AIX machine, the deployment failed. R
complained at runtime about not being able to access libz.a. Have I compiled
R incorrectly? Is there some prerequisite that applies to AIX and not to
other UNIXes, or have I merely been lucky with the other UNIXes in that the
prerequisites were already satisifed?

regards,
Peter



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Feb  5 10:42:47 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 5 Feb 2002 10:42:47 +0100 (MET)
Subject: [R] question from a beginner
In-Reply-To: <Pine.GSO.4.44.0202050744200.747-100000@auk.stats>
Message-ID: <Pine.OSF.3.96.1020205100818.23300C-100000@ija.csic.es>



On Tue, 5 Feb 2002, Prof Brian D Ripley wrote:

> > > I agree, some basic functionality in a menu would be handy, like,
> > > for example, being able to print or save displayed graphics or geting a
> > > window with an object browser.
> > >
> > > Agus
> > >
> > > Dr. Agustin Lobo
> >
> >
> > Dr. Lobo-
> >
> > 	XLisp-Stat has some very nice functionalities, like choosing to save
> > 	the image in PostScript.
> >
> > 	It wouldn't be bad at all to have that in R...
> 
> It isn't bad at all that we have it on the GUI interfaces, then ....
> It is on menus under Windows (surely the most used port of R) and I believe
> under MacOS and GNOME too.

> Brian D. Ripley,                  ripley at stats.ox.ac.uk

Perhaps I did not make clear the point that I was thinking on
the linux version of R (and, unfortunately, I've not been able
to try the gnome interface). I recognize that the Gui for win*
is actually nicer an environment than runing R from the
linux shells and a lot easier than the ESS. Nevertheles, although the
Win* Gui is helpful
to, for example, print and save graphics from the
graphic window, I think that some additional functionality
would be very wellcome. In particular, an object browser that
could separate the different classes of objects, display 
dimensions, dates of creation and even comments 
and/or summary statistics for each
object would be very useful. Also, as the original message
mentioned, some basic exploratory methods (i.e, histograms,
simple x,y plots ...) and importing functions could have a place in the
GUI. 
Personally, I would not make that GUI as extensive as the one
in Splus >4.0 for Win*, which actually tries to include a substantial
part of the functions in the menus, but I
do miss some parts of it. A button in the graphic window to open
the graphic in xfig or similar package would be at least as good as
being able to edit the graphic in R, and probably even better.

Hopefully the RGtk will add a lot of this functionality
to the future linux versions. Perhaps this GUI will also 
facilitate the link between R and other tools, like
GIS packages.

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.meyer at ci.tuwien.ac.at  Tue Feb  5 11:57:20 2002
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Tue, 05 Feb 2002 11:57:20 +0100
Subject: [R] Measures of agreement
References: <Pine.LNX.4.21L1.0202042335370.12018-100000@nujoma.perrins>
Message-ID: <3C5FBA90.37E78901@ci.tuwien.ac.at>

Andrew Perrin wrote:
> 
> Greetings.
> 
> I've been experimenting with some algorithms for document classification
> (specifically, a Naive Bayes classifier and a kNN classifier) and I would
> now like to calculate some inter-rater reliability scores. I have the data
> in a PostgreSQL database, such that for each document, each measure (there
> are 9) has three variables: ap_(measure), nb_(measure), and
> knn_(measure). ap is me (Andrew Perrin), nb is Naive Bayes, and knn is
> knn.
> 
> I have two questions:
> 1.) I have used the code in the Using R for Psychology... paper to
> calculate Cohen's Kappa (kappaFor2). It returns a (fairly low) kappa, but
> also some warnings I don't understand:
> > kappaFor2(ap.nb.df$ap.sub,ap.nb.df$nb.sub)
>      kappa       S.E.     z.stat    p.value
> 0.09411765 0.33707660 0.27921738 0.78007800
> Warning messages:
> 1: longer object length
>         is not a multiple of shorter object length in: tm1 * tm2
> 2: longer object length
>         is not a multiple of shorter object length in: tm1 * tm2
> 3: longer object length
>         is not a multiple of shorter object length in: tm1 + tm2
> 

It looks like the number of levels in ap.sub and nb.sub differ for some
reason. Kappa compares two categ. variables with identical levels (there
are methods, though, for matching them if only the labelling is
different and you don't know the mapping).


> 2.) I'd be interested in other measures of reliability, specifically ones
> from the NLP literature such as precision, recall, and F1. These seem more
> interesting for my uses, if for no other reason than what I'm really
> interested in is comparing the success of nb and knn at approaching the ap
> categories. Are there any packages that provide such measures?

There is also the well-known Rand-index which deals with deals with this
kind of problems by analysing all pairs of observations - you might have
a look at classAgreement() in package e1071.

-g
d.

> 
> Many thanks.
> 
> ----------------------------------------------------------------------
> Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
>  Assistant Professor of Sociology, U of North Carolina, Chapel Hill
>       269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
       Department for			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Tue Feb  5 12:45:51 2002
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Tue, 05 Feb 2002 22:45:51 +1100
Subject: [R] Measures of agreement
Message-ID: <3C5FC5EE.B21E5F52@ozemail.com.au>

Hi Andrew,

I have an implementation of the kappa for nominal level variables (as in
Siegel & Castellan) that checks with the examples in the book, and that
I've used several times for checking inter-rater concordance. If you
would like to use it, I can email it when I'm next at work.

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From peter.rabinovitch at alcatel.com  Tue Feb  5 16:18:31 2002
From: peter.rabinovitch at alcatel.com (Peter Rabinovitch)
Date: Tue, 05 Feb 2002 10:18:31 -0500
Subject: [R] Whittle's Estimator of Hurst Parameter
References: <Pine.A41.4.44.0202041011010.115698-100000@homer41.u.washington.edu>
Message-ID: <3C5FF7C7.E9EB930A@Alcatel.com>

Has anybody written R code to estimate the Hurst parameter via Whittle's
method? In particular, I am looking to get a confidence interval on the
Hurst parameter.

I have tried adapting Taqqu's S+ code, but I keep running into
issues.....

Any pointers and/or code available?

Thanks much.
-- 
Peter Rabinovitch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Feb  5 17:34:37 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 5 Feb 2002 08:34:37 -0800 (PST)
Subject: [R] Compiling R 1.3.0 on AIX 4.3.3 and libz.a
In-Reply-To: <029601c1ae27$5a2de7c0$9992bc3e@baldrick>
Message-ID: <Pine.A41.4.44.0202050828420.75030-100000@homer03.u.washington.edu>

On Tue, 5 Feb 2002, Peter Cameron wrote:
>
> However, with a non-development AIX machine, the deployment failed. R
> complained at runtime about not being able to access libz.a. Have I compiled
> R incorrectly? Is there some prerequisite that applies to AIX and not to
> other UNIXes, or have I merely been lucky with the other UNIXes in that the
> prerequisites were already satisifed?

I think you've been lucky.  The R configuration process looks for quite a
few libraries and links them if they are found.  If they aren't found we
either provide substitutes or don't implement that feature. If you just
move the R install tree then the same libraries have to be found in the
same places on the new machine.

ldd should tell you what libraries are required.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markus.dueringer at spotfire.com  Tue Feb  5 19:51:38 2002
From: markus.dueringer at spotfire.com (Markus Dueringer)
Date: Tue, 5 Feb 2002 19:51:38 +0100 
Subject: [R] Com Interface
Message-ID: <1146616D5829D511BBBA00B0D0D01819A36683@exch-gbg1.spotfire.com>

Hi,

could you please tell me what the current status of Rs com interface is and
what your future plans are (if any)

Regards

Markus Dueringer

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Nancy.Lo at noaa.gov  Tue Feb  5 23:01:25 2002
From: Nancy.Lo at noaa.gov (Nancy Lo)
Date: Tue, 05 Feb 2002 14:01:25 -0800
Subject: [R] passing parameters in optim()
Message-ID: <3C605635.229F3E28@noaa.gov>

Hi all,

I am using optim() to get estimate for parameter 'a' which will minimize
the output of lprob.catch(a) and I got an error message:

> optim(2,lprob.catch(x, freq,1, 0.5,0.5, a,- 0.7, 1, -0.7,0.1,
1,0.2,2,1,data.sf.mont))
Error in catch2.fun(k, f1, f2, a, b, A, B, R, n0, av, index.n) :
        Object "a" not found


Why wasn't the initial value of a=2 passed to catch2.fun() which was
called by lprob.catch()?

Thank you for your time.


Nancy


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Feb  5 23:23:18 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 5 Feb 2002 14:23:18 -0800 (PST)
Subject: [R] passing parameters in optim()
In-Reply-To: <3C605635.229F3E28@noaa.gov>
Message-ID: <Pine.A41.4.44.0202051419450.75030-100000@homer03.u.washington.edu>

On Tue, 5 Feb 2002, Nancy Lo wrote:

> Hi all,
>
> I am using optim() to get estimate for parameter 'a' which will minimize
> the output of lprob.catch(a) and I got an error message:
>
> > optim(2,lprob.catch(x, freq,1, 0.5,0.5, a,- 0.7, 1, -0.7,0.1,
> 1,0.2,2,1,data.sf.mont))
> Error in catch2.fun(k, f1, f2, a, b, A, B, R, n0, av, index.n) :
>         Object "a" not found
>
>
> Why wasn't the initial value of a=2 passed to catch2.fun() which was
> called by lprob.catch()?
>

The second argument to optim() must be a function of one variable
(possibly a vector variable), but
   lprob.catch(x, freq,1, 0.5,0.5, a,- 0.7, 1, -0.7,0.1, 1,0.2,2,1,data.sf.mont)
is a not a function at all.  How is optim() supposed to know that a=2,
rather than x=2, or data.sf.mont=2?

You probably wanted
 optim(2,function(a) {lprob.catch(x, freq,1, 0.5,0.5, a,- 0.7, 1, -0.7,0.1,1,0.2,2,1,data.sf.mont)})
assuming that all the other variables are defined.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Feb  6 09:00:20 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 6 Feb 2002 08:00:20 +0000 (GMT)
Subject: [R] passing parameters in optim()
In-Reply-To: <3C605635.229F3E28@noaa.gov>
Message-ID: <Pine.LNX.4.31.0202060757120.22944-100000@gannet.stats>

On Tue, 5 Feb 2002, Nancy Lo wrote:

> Hi all,
>
> I am using optim() to get estimate for parameter 'a' which will minimize
> the output of lprob.catch(a) and I got an error message:
>
> > optim(2,lprob.catch(x, freq,1, 0.5,0.5, a,- 0.7, 1, -0.7,0.1,
> 1,0.2,2,1,data.sf.mont))
> Error in catch2.fun(k, f1, f2, a, b, A, B, R, n0, av, index.n) :
>         Object "a" not found
>
>
> Why wasn't the initial value of a=2 passed to catch2.fun() which was
> called by lprob.catch()?

>From ?optim

      fn: A function to be minimized (or maximized), with first
          argument the vector of parameters over which minimization is
          to take place. It should return a scalar result.

and a is not the first argument: you told it to optimze over x.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From beat.huggler at rmf.ch  Wed Feb  6 09:09:46 2002
From: beat.huggler at rmf.ch (Beat Huggler)
Date: Wed, 6 Feb 2002 09:09:46 +0100
Subject: [R] Probblems with loading the tcltk library
Message-ID: <3635AAE6EA743844B05655F805CB31259FEB3A@titlis.rmf.ch>


Hi guys

Recently a wanted to look at the opotunities which are suported by the
labrary of tcltk. Unfortunatly I couldn't load the library and it
occured the following error message:

Error in firstlib(which.lib.loc, package) : 
        TCL_LIBRARY is not set
Error in library(pkg, character.only = TRUE) : 
        .First.lib failed

I've tried to load it in sveral ways. I reinstalt the this library bud
nothing happend. What is the problem and how can I solve it??

An other question how can I define a function so that this function can
be used outside of the workspace in which it has been implemented. Is
there any possibility to safe a single function?? And how can I do it??

I would like to say thankyou for you help

Best regards

Beat Huggler


---
Beat Huggle
Quantitative Analysis
RMF Investment Products
Huobstrasse 16
8808 Pfaeffikon SZ
Switzerland
www.rmf.ch
Tel. +41 55 415 87 30
Fax +41 55 415 87 07

This message and any attachment are confidential and may be privileged
or otherwise protected from disclosure.  If you are not the intended
recipient, please telephone or email the sender and delete this message
and any attachment from your system.  If you are not the intended
recipient you must not copy this message or attachment or disclose the
contents to any other person.

 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Feb  6 09:18:44 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 6 Feb 2002 08:18:44 +0000 (GMT)
Subject: [R] Probblems with loading the tcltk library
In-Reply-To: <3635AAE6EA743844B05655F805CB31259FEB3A@titlis.rmf.ch>
Message-ID: <Pine.LNX.4.31.0202060815301.22944-100000@gannet.stats>

On Wed, 6 Feb 2002, Beat Huggler wrote:

>
> Hi guys
>
> Recently a wanted to look at the opotunities which are suported by the
> labrary of tcltk. Unfortunatly I couldn't load the library and it
> occured the following error message:
>
> Error in firstlib(which.lib.loc, package) :
>         TCL_LIBRARY is not set
> Error in library(pkg, character.only = TRUE) :
>         .First.lib failed
>
> I've tried to load it in sveral ways. I reinstalt the this library bud
> nothing happend. What is the problem and how can I solve it??

It appears that this was under Windows and you have not set TCL_LIBRARY.
That *is* in the README, and also in the rw-FAQ.

> An other question how can I define a function so that this function can
> be used outside of the workspace in which it has been implemented. Is
> there any possibility to safe a single function?? And how can I do it??

With save().

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stuart.leask at nottingham.ac.uk  Wed Feb  6 10:48:16 2002
From: stuart.leask at nottingham.ac.uk (Stuart Leask)
Date: Wed, 6 Feb 2002 09:48:16 -0000
Subject: [R] Is there a port of R for WinCE machines?
References: <1146616D5829D511BBBA00B0D0D01819A36683@exch-gbg1.spotfire.com>
Message-ID: <00f001c1aef3$66840aa0$f2e1f380@nottingham.ac.uk>

Has anyone ported R to the WinCE OS?
Indeed, does anyone know of _any_ statistics software for this OS?

Stuart

Dr Stuart Leask MA MRCPsych, Clinical Lecturer in Psychiatry
University of Nottingham Dept of Psychiatry, Duncan Macmillan House
Porchester Road, Nottingham. NG3 6AA. UK
http://www.nottingham.ac.uk/psychiatry/staff/sjl.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hennig at stat.math.ethz.ch  Wed Feb  6 11:11:58 2002
From: hennig at stat.math.ethz.ch (Christian Hennig)
Date: Wed, 6 Feb 2002 11:11:58 +0100 (CET)
Subject: [R] dyn.unload
Message-ID: <Pine.LNX.4.33.0202061106050.11884-100000@florence>

Dear list,

I want to write a package which loads a C library dynamically.

It seems that it is not possible to unload the library using dyn.unload
(for example with detach, .Last.lib)
if it has been loaded with library.dynam in .First.lib.

dyn.unload in my experience only unloads libraries
successfully which have been loaded by dyn.load.

So how to unload libraries which were loaded in .First.lib (dyn.load seems
to be discouraged for .First.lib)?

Christian

-- 
***********************************************************************
Christian Hennig
Seminar fuer Statistik, ETH-Zentrum (LEO), CH-8092 Zuerich (current)
and Fachbereich Mathematik-SPST/ZMS, Universitaet Hamburg
hennig at stat.math.ethz.ch, http://stat.ethz.ch/~hennig/
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Feb  6 11:19:55 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 6 Feb 2002 10:19:55 +0000 (GMT)
Subject: [R] dyn.unload
In-Reply-To: <Pine.LNX.4.33.0202061106050.11884-100000@florence>
Message-ID: <Pine.LNX.4.31.0202061014310.23308-100000@gannet.stats>

On Wed, 6 Feb 2002, Christian Hennig wrote:

> Dear list,
>
> I want to write a package which loads a C library dynamically.
>
> It seems that it is not possible to unload the library using dyn.unload
> (for example with detach, .Last.lib)
> if it has been loaded with library.dynam in .First.lib.
>
> dyn.unload in my experience only unloads libraries
> successfully which have been loaded by dyn.load.

And as library.dynam calls dyn.load, that includes those loaded by
library.dynam!  Are you calling dyn.unload with the correct argument?

> So how to unload libraries which were loaded in .First.lib (dyn.load seems
> to be discouraged for .First.lib)?

There is a working example in library(tcltk) under Windows.  You need
also to remove the entry in .Dyn.libs for library.dynam to work on
the same package again.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From olivier.martin at inrialpes.fr  Wed Feb  6 12:58:53 2002
From: olivier.martin at inrialpes.fr (Olivier Martin)
Date: Wed, 06 Feb 2002 12:58:53 +0100
Subject: [R] Help plot
Message-ID: <3C611A7D.17B9EDCD@inrialpes.fr>

Hello,
I would like plot a vector and want to specify the Xticks which will be
displayed.  Is it possible ?
For example, suppose that x is a vector of length 3. I just want the
Xticks (and the corresponding labels)
for 1 2 and 3 to be displayed ( and not 1, 1.5, 2,2.5, ....) .

Thanks

--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
Olivier MARTIN
PhD student                  phone: (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42
INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                   e-mail:olivier.martin at inrialpes.fr
38334 Saint Ismier cedex
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020206/04cc79ff/attachment.html

From zeileis at ci.tuwien.ac.at  Wed Feb  6 13:16:04 2002
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Wed, 06 Feb 2002 13:16:04 +0100
Subject: [R] Help plot
References: <3C611A7D.17B9EDCD@inrialpes.fr>
Message-ID: <3C611E84.E4C78155@ci.tuwien.ac.at>

Olivier Martin wrote:
> 
> Hello,
> I would like plot a vector and want to specify the Xticks which will
> be
> displayed.  Is it possible ?
> For example, suppose that x is a vector of length 3. I just want the
> Xticks (and the corresponding labels)
> for 1 2 and 3 to be displayed ( and not 1, 1.5, 2,2.5, ....) .

You can do something like
R> plot(1:3, xaxt="n")
R> axis(1, at=1:3)


> Thanks
> 
> --
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> Olivier MARTIN
> PhD student                  phone: (33) 04 76 61 53 55
> Projet IS2                               06 08 67 93 42
> INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
> 655, Av. de l'Europe
> Montbonnot                   e-mail:olivier.martin at inrialpes.fr
> 38334 Saint Ismier cedex
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From GPetris at uark.edu  Wed Feb  6 14:56:14 2002
From: GPetris at uark.edu (Giovanni Petris)
Date: Wed, 6 Feb 2002 07:56:14 -0600 (CST)
Subject: [R] Help plot
In-Reply-To: <3C611A7D.17B9EDCD@inrialpes.fr> (message from Olivier Martin on
	Wed, 06 Feb 2002 12:58:53 +0100)
References: <3C611A7D.17B9EDCD@inrialpes.fr>
Message-ID: <200202061356.HAA21960@definetti.uark.edu>


see axis()

GP

> Date: Wed, 06 Feb 2002 12:58:53 +0100
> From: Olivier Martin <olivier.martin at inrialpes.fr>
> X-Accept-Language: en
> Sender: owner-r-help at stat.math.ethz.ch
> Precedence: SfS-bulk
> Content-Type: multipart/alternative;
>  boundary="------------29DFD5BF8EF8E2B33E8A95D2"
> Content-Length: 2639
> 
> 
> --------------29DFD5BF8EF8E2B33E8A95D2
> Content-Type: text/plain; charset=us-ascii
> Content-Transfer-Encoding: 7bit
> 
> Hello,
> I would like plot a vector and want to specify the Xticks which will be
> displayed.  Is it possible ?
> For example, suppose that x is a vector of length 3. I just want the
> Xticks (and the corresponding labels)
> for 1 2 and 3 to be displayed ( and not 1, 1.5, 2,2.5, ....) .
> 
> Thanks
> 
> --
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> Olivier MARTIN
> PhD student                  phone: (33) 04 76 61 53 55
> Projet IS2                               06 08 67 93 42
> INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
> 655, Av. de l'Europe
> Montbonnot                   e-mail:olivier.martin at inrialpes.fr
> 38334 Saint Ismier cedex
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Wed Feb  6 15:15:15 2002
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Wed, 06 Feb 2002 15:15:15 +0100
Subject: [R] Help plot
Message-ID: <3.0.32.20020206151514.008eb210@162.38.183.200>

A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 1282 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020206/64a12073/attachment.bin

From p.dalgaard at biostat.ku.dk  Wed Feb  6 15:38:53 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Feb 2002 15:38:53 +0100
Subject: [R] Is there a port of R for WinCE machines?
In-Reply-To: <00f001c1aef3$66840aa0$f2e1f380@nottingham.ac.uk>
References: <1146616D5829D511BBBA00B0D0D01819A36683@exch-gbg1.spotfire.com>
	<00f001c1aef3$66840aa0$f2e1f380@nottingham.ac.uk>
Message-ID: <x2vgdad69u.fsf@blueberry.kubism.ku.dk>

"Stuart Leask" <stuart.leask at nottingham.ac.uk> writes:

> Has anyone ported R to the WinCE OS?
> Indeed, does anyone know of _any_ statistics software for this OS?

Looks like cross-compiling environments for this are in their infancy. 
Have a look at

http://groups.yahoo.com/group/wince-devel/messagesearch?query=gcc

It seems like someone is pulling the strings together, but I wouldn't
hold my breath. My impression is that it is like the Win32
crosscompilers 5 years ago. Major tinkering is involved.

Notice that you need to specify the chip architecture for these
devices. R runs on the mips and arm architectures under Linux (which
implies that the gcc compiler target exists and works at least
reasonably), but with some bad problems (bad as in "can't do
postscript plots").

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Scott.Waichler at pnl.gov  Wed Feb  6 15:42:55 2002
From: Scott.Waichler at pnl.gov (Waichler, Scott R)
Date: Wed, 06 Feb 2002 06:42:55 -0800
Subject: [R] dev.off() prematurely stops xyplot()
Message-ID: <202822BFB70EBC4BB3EAFD853EE2B6BF5A53EE@pnlmse10.pnl.gov>


I have a script containing an xyplot() to print to a postscript
file, followed by dev.off().  When I source the script, the dev.off()
seems to cut off the xyplot() execution before it is finished.  
The resulting postscript file has about the right size, but it 
appears blank when I try to view it.  If I manually execute the
xyplot(), then wait for the return of the R prompt before executing
dev.off(), I have no problems.  Can someone help?

Scott
Scott Waichler, Senior Research Scientist
Hydrology Group/Environmental Technology Division
Battelle Pacific Northwest National Laboratory
(email) scott.waichler at pnl.gov

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Feb  6 15:47:15 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 6 Feb 2002 14:47:15 +0000 (GMT)
Subject: [R] Is there a port of R for WinCE machines?
In-Reply-To: <x2vgdad69u.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.44.0202061442310.1285-100000@auk.stats>

On 6 Feb 2002, Peter Dalgaard BSA wrote:

> "Stuart Leask" <stuart.leask at nottingham.ac.uk> writes:
>
> > Has anyone ported R to the WinCE OS?
> > Indeed, does anyone know of _any_ statistics software for this OS?
>
> Looks like cross-compiling environments for this are in their infancy.
> Have a look at
>
> http://groups.yahoo.com/group/wince-devel/messagesearch?query=gcc
>
> It seems like someone is pulling the strings together, but I wouldn't
> hold my breath. My impression is that it is like the Win32
> crosscompilers 5 years ago. Major tinkering is involved.
>
> Notice that you need to specify the chip architecture for these
> devices. R runs on the mips and arm architectures under Linux (which
> implies that the gcc compiler target exists and works at least
> reasonably), but with some bad problems (bad as in "can't do
> postscript plots").

My understanding was that WinCE was no more (read `Pocket Windows 2002')
and that all current implementations used the same chip (StrongArm as I
recall).

I think the big problem would be an IEEE-compliant run-time system.
R won't even build under VC++ on win32 because of problems there, and we do
use msvcrt.dll.

If there is spare Windows programming expertise available, we need it for
win32 ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Feb  6 17:16:11 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Wed, 6 Feb 2002 11:16:11 -0500 (EST)
Subject: [R] 1.3.1/1.4.1 Windows binary incompatibilities?
Message-ID: <Pine.LNX.4.30.0202051213020.10672-100000@bolker.zoo.ufl.edu>


  I should probably have been able to figure this out, but ...

  I have a package with some C code in it that I've been cross-building on
my Linux machine to run under Windows.  I had it working under 1.3.1, but
it seems to have stopped with 1.4.1.  Building with a version of
i386-mingw32msv-gcc recently downloaded from Brian Ripley's Rtools page
(--version 2.95.2), under 1.4.1 on Linux, it works under 1.3.1 but fails
under 1.4.1. (The new version of i386-gcc I just downloaded dates back to
3 Sep 2000 according to the Page Info.  The previous version I was using
(which dated to 27 Apr 2000) and the new version give the same --version
information.)  The "Version"  tab on the DLL does correctly indicate it
was built for 1.4.1.

  Am I missing something stupid?  The Rtools page says the most current
version of mingw is based on gcc 2.95.3; does the cross-compiler need to
be updated?  (I'm not eager to, but I could try to assemble the
pieces and compile from source if I had to ...)

  I did find some information on cross-compiling at the bottom of the
MinGW FAQ list, I may pursue this if no-one has any brilliant ideas ...
(how many people are actually doing Linux/Windows cross-compiling?)

  thanks,
    Ben Bolker





-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Wed Feb  6 17:47:51 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Wed, 6 Feb 2002 17:47:51 +0100 (MET)
Subject: [R] Weighted median
Message-ID: <Pine.GSO.4.10.10202061734270.2474-100000@speed.maths.lth.se>

Is there a weighted median function out there similar to weighted.mean()
but for medians? If not, I'll try implement or port it myself.

The need for a weighted median came from the following optimization
problem:

  x* = arg_x min (a|x| + sum_{k=1}^n |x - b_k|)
 
where

  a  : is a *positive* real scalar
  x  : is a real scalar
  n  : is an integer
  b_k: are negative and positive scalars

which is a "median with a shift towards zero". This can be rewritten as

  x* = arg_x min (sum_{k=0}^n w_k|x - b_k|)

where w = (a, 1, 1, ..., 1) and b_0 = 0, which is a problem that could be
solved by a weighted median function. If someone has a better solution
(note that 'a' does *not* have to be an integer) to this specific
optimization problem I would be very happy to hear about it.

Thanks

Henrik Bengtsson
 
Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax) 
h b @ m a t h s . l t h . s e
http://www.maths.lth.se/matstat/staff/hb/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From i.mosqueira at ic.ac.uk  Wed Feb  6 18:21:41 2002
From: i.mosqueira at ic.ac.uk (iago mosqueira)
Date: Wed, 6 Feb 2002 17:21:41 -0000
Subject: [R] Accesing glm results
Message-ID: <00b901c1af32$be64fec0$0362c69b@th.ic.ac.uk>

Hi,

I want to generate sdome vectors with results from glm(), for later
processing. How can I extract the t values and the associated p values? I
suppose something starting with summary(g)$...

Thanks

iago

---
Bellare semper illicitum est

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Wed Feb  6 18:22:44 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Wed, 6 Feb 2002 09:22:44 -0800 (PST)
Subject: [R] dev.off() prematurely stops xyplot()
In-Reply-To: <202822BFB70EBC4BB3EAFD853EE2B6BF5A53EE@pnlmse10.pnl.gov>
Message-ID: <20020206172244.39764.qmail@web13902.mail.yahoo.com>






Try 

print(xyplot(<whatever>))

instead of just xyplot()

xyplot (and all other such functions) produce a "trellis" object that
is by default printed, but that of course doesn't happen inside source
unless you explicitly print it.


--- "Waichler, Scott R" <Scott.Waichler at pnl.gov> wrote:
> 
> I have a script containing an xyplot() to print to a postscript
> file, followed by dev.off().  When I source the script, the dev.off()
> seems to cut off the xyplot() execution before it is finished.  
> The resulting postscript file has about the right size, but it 
> appears blank when I try to view it.  If I manually execute the
> xyplot(), then wait for the return of the R prompt before executing
> dev.off(), I have no problems.  Can someone help?
> 
> Scott
> Scott Waichler, Senior Research Scientist
> Hydrology Group/Environmental Technology Division
> Battelle Pacific Northwest National Laboratory
> (email) scott.waichler at pnl.gov
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Feb  6 18:31:06 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 6 Feb 2002 09:31:06 -0800 (PST)
Subject: [R] Accesing glm results
In-Reply-To: <00b901c1af32$be64fec0$0362c69b@th.ic.ac.uk>
Message-ID: <Pine.A41.4.44.0202060927150.74080-100000@homer11.u.washington.edu>

On Wed, 6 Feb 2002, iago mosqueira wrote:

> Hi,
>
> I want to generate sdome vectors with results from glm(), for later
> processing. How can I extract the t values and the associated p values? I
> suppose something starting with summary(g)$...
>
The answer is
 summary(g)$coef[,3:4]


The way to find out things like this is to use names() or str() to look at
the glm and summary.glm objects.
   summ<-summary(g)
   names(summ)
# I see a coefficients item. I wonder what it looks like
   summ$coefficients
# That looks familiar, it's the table of coefficients, std erros,
#p-values. I want the last two columns
   summ$coefficients[,3:4]
#Success

Or alternatively, read print.summary.glm() to see where it gets them from.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markus.jantti at iki.fi  Wed Feb  6 23:34:32 2002
From: markus.jantti at iki.fi (Markus Jantti)
Date: Thu, 7 Feb 2002 00:34:32 +0200 (EET)
Subject: [R] Weighted median
Message-ID: <200202062234.AAA21398@posti.pp.htv.fi>


> Is there a weighted median function out there similar to weighted.mean()
> but for medians? If not, I'll try implement or port it myself.
> 

Hi -- I have written the following functions fo my own use but am unhappy
with them. I first define a weighted.quantile function and then weighted.median
that uses the first one. 

The reason I am unhappy with my version is that 
I wanted to define a weighted.quantile function that reproduced the
R quantile function for the unweighted case (R:s quantile does some
smart interpolating), but I did not manage to do so. The below version
works, but if you can write a weighted version of the quantile function, let me
know.

Markus


# weighted quantiles. various versions, none good.

weighted.quantile <-
  function(x, w, probs = seq(0, 1, 0.25), na.rm = FALSE, names = TRUE) {
    # n <- length(x)
    # check:
    # - if w exists (length(w)>0) => if not, then w <- rep(1,length(x))
    # - if w is the weight or the inclusion probability
    #   + a test sum(w) > length(x)??????
    if (length(x) != length(w))
      stop("Weights and variable vectors are of unequal length!")
    if (na.rm)
      { valid.obs <- !is.na(x) & !is.na(w)
        x <- x[valid.obs]
        w <- w[valid.obs]}
    else if (any(is.na(x)) | any(is.na(w))) 
      stop("Missing values and NaN's not allowed if `na.rm' is FALSE")
    if (any((p.ok <- !is.na(probs)) & (probs < 0 | probs > 1))) 
      stop("probs outside [0,1]")
    if (na.p <- any(!p.ok)) {
      o.pr <- probs
      probs <- probs[p.ok]
    }
    np <- length(probs)
    if (missing(w)) 
      w <- rep(1, length(x))
    if (na.rm) {
      w <- w[i <- !is.na(x)]
      x <- x[i]
    }
    # check if weights are probs or unit correspondences
    ind <- order(x)
    cumw <- cumsum(w[ind])/sum(w)
    x <- x[ind]
    med <- numeric(0)
    for(i in 1:length(probs)) {
      if(probs[i] > 0 & probs[i] < 1) med[i] <- max(x[cumw<=probs[i]])
      else if (probs[i] == 0) med[i] <- min(x)
      else if (probs[i] == 1) med[i] <- max(x)
    }
    # the treatment of names
    med
  }

weighted.median <- function(x,w, na.rm = FALSE) {
  if (missing(w)) 
    w <- rep(1, length(x))
  if (na.rm) {
    w <- w[i <- !is.na(x)]
    x <- x[i]
    }
  weighted.quantile(x,w,.5)
}
#

> The need for a weighted median came from the following optimization
> problem:
> 
>   x* = arg_x min (a|x| + sum_{k=1}^n |x - b_k|)
> 
> where
> 
>   a  : is a *positive* real scalar
>   x  : is a real scalar
>   n  : is an integer
>   b_k: are negative and positive scalars
> 
> which is a "median with a shift towards zero". This can be rewritten as
> 
>   x* = arg_x min (sum_{k=0}^n w_k|x - b_k|)
> 
> where w = (a, 1, 1, ..., 1) and b_0 = 0, which is a problem that could be
> solved by a weighted median function. If someone has a better solution
> (note that 'a' does *not* have to be an integer) to this specific
> optimization problem I would be very happy to hear about it.
> 
> Thanks
> 
> Henrik Bengtsson
> 
> Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
> Lund Institute of Technology/Lund University, Sweden (+2h UTC)
> Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
> h b @ m a t h s . l t h . s e
> http://www.maths.lth.se/matstat/staff/hb/
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


--
Markus Jantti
Statistics Finland and University of Tampere
markus.jantti at iki.fi
http://www.iki.fi/~mjantti



From andrew_perrin at unc.edu  Thu Feb  7 03:18:21 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Wed, 6 Feb 2002 21:18:21 -0500 (EST)
Subject: [R] Help with replicating an old SPSS GLM analysis
Message-ID: <Pine.LNX.4.21L1.0202062113150.1814-100000@nujoma.perrins>

Greetings.

I'm trying to replicate an analysis I did a few years ago, then in SPSS,
using the SPSS GLM command:

GLM
  n_diffpt  WITH age_i inc_i join_i work_i educ_i  give_i cs_i
  eff_i age_a inc_a join_a work_a educ_a give_a cs_a eff_a
  /METHOD = SSTYPE(3)
  /INTERCEPT = INCLUDE
  /PRINT  = PARAMETER ETASQ RSSCP GEF
  /CRITERIA = ALPHA(.05)
  /DESIGN = 
        age_i*age_a inc_i*inc_a join_i*join_a work_i*work_a
          educ_i*educ_a give_i*give_a cs_i*cs_a eff_i*eff_a
        age_i inc_i join_i work_i educ_i give_i cs_i eff_i
        age_a inc_a join_a work_a educ_a give_a cs_a eff_a .

The results are consistent when run in SPSS; however, I tried the simple
version of recoding it in R (after using read.spss to bring in the data),
and got entirely different results. I'm assuming there are significant
differences in what I'm doing, but I can't find enough documentation of
the SPSS GLM procedure to figure out what. Can anyone offer insights?

The code I tried under R was:

glm.mean <- glm(N.DIFFPT ~ AGE.I + INC.I + JOIN.I + WORK.I + EDUC.I +
GIVE.I +
        CS.I + EFF.I + AGE.A + INC.A + JOIN.A + WORK.A + EDUC.A + GIVE.A + 
        CS.A + EFF.A + AGE.I*AGE.A + INC.I*INC.A + JOIN.I*JOIN.A + 
        WORK.I*WORK.A + EDUC.I*EDUC.A + GIVE.I*GIVE.A + CS.I*CS.A +
	EFF.I*EFF.A,
        data=acps.df)

Thanks in advance.

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Thu Feb  7 03:57:21 2002
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Wed, 06 Feb 2002 21:57:21 -0500
Subject: [R] Problems with search
References: <200202062234.AAA21398@posti.pp.htv.fi>
Message-ID: <3C61ED11.E6FC3E50@epm.net.co>

Hello, R users:

When I use help.start() function and the browser (Netscape) opens, and
I use the Search Engenie & Keywords, it doesn't work.
And some times show me this message:

Search Results
No matches for "resgression" have been found!


Thank you for your help

Kenneth Cabrera

$platform  "i386-pc-mingw32"
$arch        "x86"
$os           "Win32"
$system    "x86, Win32"
$status      ""
$major      "1"
$minor      "4.1"
$year        "2002"
$month     "01"
$day         "30"
$language "R"


-------------- next part --------------
A non-text attachment was scrubbed...
Name: krcabrer.vcf
Type: text/x-vcard
Size: 270 bytes
Desc: Card for Kenneth Cabrera
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020206/55770a5a/krcabrer.vcf

From B.Mao at cerep.com  Thu Feb  7 04:05:41 2002
From: B.Mao at cerep.com (Boryeu Mao)
Date: Wed, 6 Feb 2002 19:05:41 -0800 
Subject: [R] newbie question: polr and glm.control
Message-ID: <0957E70F25F7D111974B00A0C9833064AF882D@mayo.cerep.com>

I'm running polr() and getting warning messages from glm.fit().  It seems
reasonable to use glm.control() to turn on the trace and follow what
glm.fit() does when called by polr(); or is it?  

glm.control(maxit=10, trace=TRUE) 
polr(act~., data=mm)

The glm.control() sets the trace TRUE, but there's no change in the output
from polr().

Many thanks in advance for any help/pointers.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Feb  7 07:26:12 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Feb 2002 07:26:12 +0100
Subject: [R] Problems with search
In-Reply-To: <3C61ED11.E6FC3E50@epm.net.co>
References: <200202062234.AAA21398@posti.pp.htv.fi>
	<3C61ED11.E6FC3E50@epm.net.co>
Message-ID: <x2zo2loliz.fsf@blueberry.kubism.ku.dk>

Kenneth Cabrera <krcabrer at epm.net.co> writes:

> Hello, R users:
> 
> When I use help.start() function and the browser (Netscape) opens, and
> I use the Search Engenie & Keywords, it doesn't work.
> And some times show me this message:
> 
> Search Results
> No matches for "resgression" have been found!

Try spelling it correctly?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Robert.Lundqvist at ies.luth.se  Thu Feb  7 09:11:01 2002
From: Robert.Lundqvist at ies.luth.se (Robert Lundqvist)
Date: Thu, 7 Feb 2002 09:11:01 +0100 
Subject: [R] R graphs in LaTeX documents?
Message-ID: <CC1AF68C2B1C644DBC0B6087C3C81BC434FFDE@marge.ies.ad.ltu.se>

I have tried to find a neat way to include graphs from R in LaTeX documents,
but have not succeeded (I work with a WinEdt/MikTeX combination). The two
roads I have stumbled along so far are the following:

*Generate postscript files and convert them into EPS files by means of
GhostScript or other not so straightforward tools.

*Generate pictex files and include these.

None of these solutions have worked so far. I haven't spent so much time
trying to find out what goes wrong, but since there might both LaTeX gurus
and R wizards among you, I simply thought it would be better to lean on that
expertize first. Any suggestions about how to achieve what really should be
a simple task?

--robert
****************
Robert Lundqvist
Dept of Quality Technology & Statistics
Lulea University of Technology
Sweden
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Feb  7 09:10:08 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 7 Feb 2002 08:10:08 +0000 (GMT)
Subject: [R] newbie question: polr and glm.control
In-Reply-To: <0957E70F25F7D111974B00A0C9833064AF882D@mayo.cerep.com>
Message-ID: <Pine.LNX.4.31.0202070807400.27294-100000@gannet.stats>

On Wed, 6 Feb 2002, Boryeu Mao wrote:

> I'm running polr() and getting warning messages from glm.fit().  It seems
> reasonable to use glm.control() to turn on the trace and follow what
> glm.fit() does when called by polr(); or is it?
>
> glm.control(maxit=10, trace=TRUE)
> polr(act~., data=mm)
>
> The glm.control() sets the trace TRUE, but there's no change in the output
> from polr().

No, it doesn't: it returns an object to be passed to glm.

glm.fit is only used in polr to find starting values, so specify `start'
to polr.

polr is in package MASS, BTW.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Feb  7 09:21:13 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 7 Feb 2002 08:21:13 +0000 (GMT)
Subject: [R] R graphs in LaTeX documents?
In-Reply-To: <CC1AF68C2B1C644DBC0B6087C3C81BC434FFDE@marge.ies.ad.ltu.se>
Message-ID: <Pine.LNX.4.31.0202070817020.27355-100000@gannet.stats>

On Thu, 7 Feb 2002, Robert Lundqvist wrote:

> I have tried to find a neat way to include graphs from R in LaTeX documents,
> but have not succeeded (I work with a WinEdt/MikTeX combination). The two
> roads I have stumbled along so far are the following:
>
> *Generate postscript files and convert them into EPS files by means of
> GhostScript or other not so straightforward tools.

Generate .eps directly by using dev.copy2eps or from the menu on the
graphics window or by following the instructions in ?postscript.
No conversion should be needed.

> *Generate pictex files and include these.

That driver does work but is minimally-featured.  Not recommended.

> None of these solutions have worked so far. I haven't spent so much time
> trying to find out what goes wrong, but since there might both LaTeX gurus
> and R wizards among you, I simply thought it would be better to lean on that
> expertize first. Any suggestions about how to achieve what really should be
> a simple task?

It really is a simple task.  Use dev.copy2eps and then the graphicx
package in latex.  You give us no clue as to your problems, so it is
difficult to give any advice.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu Feb  7 09:41:01 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 7 Feb 2002 09:41:01 +0100 (MET)
Subject: [R] Problems with search
In-Reply-To: <3C61ED11.E6FC3E50@epm.net.co>
Message-ID: <Pine.OSF.3.96.1020207093956.15845A-100000@ija.csic.es>

I've found a similar problem anf the problem was
that the browser was not runing java scripts. Check
your browser configuration. You might need to download
a java plugin.

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Wed, 6 Feb 2002, Kenneth Cabrera wrote:

> Hello, R users:
> 
> When I use help.start() function and the browser (Netscape) opens, and
> I use the Search Engenie & Keywords, it doesn't work.
> And some times show me this message:
> 
> Search Results
> No matches for "resgression" have been found!
> 
> 
> Thank you for your help
> 
> Kenneth Cabrera
> 
> $platform  "i386-pc-mingw32"
> $arch        "x86"
> $os           "Win32"
> $system    "x86, Win32"
> $status      ""
> $major      "1"
> $minor      "4.1"
> $year        "2002"
> $month     "01"
> $day         "30"
> $language "R"
> 
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Detlef.Steuer at unibw-hamburg.de  Thu Feb  7 10:33:51 2002
From: Detlef.Steuer at unibw-hamburg.de (Detlef Steuer)
Date: Thu, 07 Feb 2002 10:33:51 +0100 (CET)
Subject: [R] R graphs in LaTeX documents?
In-Reply-To: <CC1AF68C2B1C644DBC0B6087C3C81BC434FFDE@marge.ies.ad.ltu.se>
Message-ID: <XFMail.20020207103351.steuer@unibw-hamburg.de>

Dear Robert,

You can easily include R-generated pictures in Latex.
One easy way is to use the postscript() command and including
the picures in Latex using \usepackage{graphics} .

It?s as easy as \includegraphics{mygraphicsfile.ps} and you can even do 
size customizing in Latex using some commands in this package. (Good
documentation included.)

Hope this helps,
detlef


On 07-Feb-2002 Robert Lundqvist wrote:
> I have tried to find a neat way to include graphs from R in LaTeX documents,
> but have not succeeded (I work with a WinEdt/MikTeX combination). The two
> roads I have stumbled along so far are the following:
> 
> *Generate postscript files and convert them into EPS files by means of
> GhostScript or other not so straightforward tools.
> 
> *Generate pictex files and include these.
> 
> None of these solutions have worked so far. I haven't spent so much time
> trying to find out what goes wrong, but since there might both LaTeX gurus
> and R wizards among you, I simply thought it would be better to lean on that
> expertize first. Any suggestions about how to achieve what really should be
> a simple task?
> 
> --robert
> ****************
> Robert Lundqvist
> Dept of Quality Technology & Statistics
> Lulea University of Technology
> Sweden
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _

Detlef Steuer --- http://fawn.unibw-hamburg.de/steuer.html

***** Encrypted mail preferred *****
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From W.Simpson at gcal.ac.uk  Thu Feb  7 10:47:30 2002
From: W.Simpson at gcal.ac.uk (Bill Simpson)
Date: Thu, 7 Feb 2002 09:47:30 +0000 (GMT)
Subject: [R] R graphs in LaTeX documents?
In-Reply-To: <CC1AF68C2B1C644DBC0B6087C3C81BC434FFDE@marge.ies.ad.ltu.se>
Message-ID: <Pine.LNX.4.10.10202070936300.4127-100000@localhost.localdomain>

On Thu, 7 Feb 2002, Robert Lundqvist wrote:

> I have tried to find a neat way to include graphs from R in LaTeX documents,
> but have not succeeded (I work with a WinEdt/MikTeX combination).

I use LyX (GUI front-end for LaTeX) under linux. For me I just save from R
a postscript file, then in Lyx click "Insert Figure" and stick it in. So
It's pretty automatic for me and have never had problems over 4 years of
use.

LyX (www.lyx.org) runs under windows.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From till.baumgaertel at epost.de  Thu Feb  7 13:08:46 2002
From: till.baumgaertel at epost.de (Till Baumgaertel)
Date: Thu, 7 Feb 2002 13:08:46 +0100
Subject: [R] R graphs in LaTeX documents?
In-Reply-To: <CC1AF68C2B1C644DBC0B6087C3C81BC434FFDE@marge.ies.ad.ltu.se>
Message-ID: <3C627C5E.19273.AD6A6B@localhost>

since you are a windows-user: did you consider producing pdf? you don't only get files 
you can print as good as postscript but also the advantage of an easy-to-share file-
format.

for me (using TeXnicCenter as Latex-shell for windows) this solution was the easiest 
one! at the end of ths message you'll find a latex-file which shows how to include an 
pdf-image (in R produced with file->save as->pdf)

also, i highly recommend having a look to TEXNICCENTER! nicer than any other 
latex-shell for windows and also free.
(http://www.toolscenter.org/products/texniccenter/) 

cu
till

%## begin of latex-file
\documentclass[a4paper,12pt]{report}
\usepackage[latin1]{inputenc}

\usepackage[pdftex]{graphicx}

\begin{document}

\DeclareGraphicsExtensions{.jpg,.pdf,.mps,.png}

\pdfpkresolution=1200
\pdfimageresolution=1200

\immediate
Here is your R-Graphic:

\pdfximage width 12cm {map.pdf}
\pdfrefximage 1


\end{document}
%## end of latex-file
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From krcabrer at epm.net.co  Thu Feb  7 13:31:45 2002
From: krcabrer at epm.net.co (Kenneth Cabrera)
Date: Thu, 07 Feb 2002 07:31:45 -0500
Subject: [R] Still Problems with search
References: <200202062234.AAA21398@posti.pp.htv.fi>
		<3C61ED11.E6FC3E50@epm.net.co> <x2zo2loliz.fsf@blueberry.kubism.ku.dk>
Message-ID: <3C6273B1.C27D4088@epm.net.co>



Peter Dalgaard BSA wrote:

> Kenneth Cabrera <krcabrer at epm.net.co> writes:
>
> > Hello, R users:
> >
> > When I use help.start() function and the browser (Netscape) opens, and
> > I use the Search Engenie & Keywords, it doesn't work.
> > And some times show me this message:
> >
> > Search Results
> > No matches for "resgression" have been found!
>
> Try spelling it correctly?

It wasn't the misspelling of the word...
I try any word or the section "Seach Engenie & Keyworkds"  in that page and it
still the same!!


>
>
> --
>    O__  ---- Peter Dalgaard             Blegdamsvej 3
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-------------- next part --------------
A non-text attachment was scrubbed...
Name: krcabrer.vcf
Type: text/x-vcard
Size: 270 bytes
Desc: Card for Kenneth Cabrera
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020207/007b7f7f/krcabrer.vcf

From Robert.Lundqvist at ies.luth.se  Thu Feb  7 13:26:55 2002
From: Robert.Lundqvist at ies.luth.se (Robert Lundqvist)
Date: Thu, 7 Feb 2002 13:26:55 +0100 
Subject: [R] R graphs in LaTeX documents?
Message-ID: <CC1AF68C2B1C644DBC0B6087C3C81BC434FFDF@marge.ies.ad.ltu.se>

Many thanks for all suggestions, and of course, using dev.copy2eps work. At
least almost. Simple graphs are generated and copied into *.eps files, they
have been included in the LaTeX document, and in the end I get a nice
looking document in the DVI previewer (in my case YAP).

Printing doesn't work though. I get a message saying that "..this page
contains Postscript specials". Is this due to a faulty *.eps file or should
I look for the root causes in the previewer? Any suggestions?

--robert
****************
Robert Lundqvist
Dept of Quality Technology & Statistics
Lulea University of Technology
Sweden
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Feb  7 13:33:11 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 7 Feb 2002 12:33:11 +0000 (GMT Standard Time)
Subject: [R] Still Problems with search
In-Reply-To: <3C6273B1.C27D4088@epm.net.co>
Message-ID: <Pine.WNT.4.31.0202071229220.748-100000@gannet>

On Thu, 7 Feb 2002, Kenneth Cabrera wrote:

>
>
> Peter Dalgaard BSA wrote:
>
> > Kenneth Cabrera <krcabrer at epm.net.co> writes:
> >
> > > Hello, R users:
> > >
> > > When I use help.start() function and the browser (Netscape) opens, and
> > > I use the Search Engenie & Keywords, it doesn't work.
> > > And some times show me this message:
> > >
> > > Search Results
> > > No matches for "resgression" have been found!
> >
> > Try spelling it correctly?
>
> It wasn't the misspelling of the word...
> I try any word or the section "Seach Engenie & Keyworkds"  in that page and it
> still the same!!

Is Java installed (it is an extra under Netscape 6.x) and is it enabled?

I've tested the rw1041 release on machines with Netscape 4.79 and 6.2.1
and the search does work.

Another possibility is that the file rw1041/doc/html/search/index.txt
has become corrupted: it so try link.html.help() or try re-installing.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Thu Feb  7 13:30:15 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Thu, 7 Feb 2002 13:30:15 +0100 (MET)
Subject: [R] R graphs in LaTeX documents?
In-Reply-To: <CC1AF68C2B1C644DBC0B6087C3C81BC434FFDE@marge.ies.ad.ltu.se>
Message-ID: <Pine.GSO.4.10.10202071312450.2720-100000@speed.maths.lth.se>

You have to save your plots/figures in EPS format. EPS is basically the
same as PS (postscript), but it is a one-page document with a
"BoundingBox". 

Example

In [R]: 

Alternative 1: Generate the plot *first* and then the eps file
  ...
  plot(sin(1:10), pch="+")
  dev.print(device=postscript, "myFigure.eps", 
            onefile=FALSE, horizontal=FALSE)
  ...

Alternative 2: Generate the eps file directly *without* opening a window.

  ...
  postscript(file="myFigure.eps", onefile=FALSE, horizontal=FALSE) 
  plot(sin(1:10), pch="+")
  dev.off()
  ...


Note that the arguments 'onefile=FALSE, horizontal=FALSE' are important!
In the help for 'postscript' it also says that you "probably want to set
... paper = "special", but I never used this option and it has worked fine
for me without it (actually I don't know what it does).

In LaTeX: 

  ...
  Bla bla see Figure~\ref{figMyFigure}.

  \begin{figure}[hbtp]
    \begin{center}
      % Scale the figure to have the height 80mm keeping 
      % the width/height ratio.
      \resizebox{!}{80mm}{\includegraphics{myFigure.eps}}
    \end{center}
    \caption{The data used...}
    \label{figMyFigure} % <-- NOTE: After \caption!
  \end{figure}
  ... 

This requires that you use "\usepackage{graphics}" or
"\usepackage{graphicx}" at the top your LaTeX document.

[This answer is a correction of my own answer in the "Re: [R] Latex 
Question" thread from Dec 7, 2001:

  http://www.r-project.org/nocvs/mail/r-help/2001/6836.html

where I forgot the argument 'horizontal=FALSE'.]

Good luck!

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences 
Lund Institute of Technology/Lund University, Sweden (+2h UTC) 
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e 
http://www.maths.lth.se/matstat/staff/hb/

On Thu, 7 Feb 2002, Robert Lundqvist wrote:
> I have tried to find a neat way to include graphs from R in LaTeX documents,
> but have not succeeded (I work with a WinEdt/MikTeX combination). The two
> roads I have stumbled along so far are the following:
> 
> *Generate postscript files and convert them into EPS files by means of
> GhostScript or other not so straightforward tools.
> 
> *Generate pictex files and include these.
> 
> None of these solutions have worked so far. I haven't spent so much time
> trying to find out what goes wrong, but since there might both LaTeX gurus
> and R wizards among you, I simply thought it would be better to lean on that
> expertize first. Any suggestions about how to achieve what really should be
> a simple task?
> 
> --robert
> ****************
> Robert Lundqvist
> Dept of Quality Technology & Statistics
> Lulea University of Technology
> Sweden
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Thu Feb  7 12:54:59 2002
From: vito.muggeo at giustizia.it (vito muggeo)
Date: Thu, 7 Feb 2002 12:54:59 +0100
Subject: [R] R graphs in LaTeX documents?
References: <CC1AF68C2B1C644DBC0B6087C3C81BC434FFDE@marge.ies.ad.ltu.se>
Message-ID: <009701c1afce$498a2ac0$5c13070a@it.giustizia.it>

In general it is not difficult inserti .eps graphics in LaTeX
For instance:
1)Do any graphic with postscript() or export it by File|Save as| postscript:

2) in your document put for instance
\usepackage{graphicx}
....
\includegraphics*[width=\textwidth]{graph.eps}

cheers,
vito

----- Original Message -----
From: "Robert Lundqvist" <Robert.Lundqvist at ies.luth.se>
To: "'r-help at lists.R-project.org'" <r-help at stat.math.ethz.ch>
Sent: Thursday, February 07, 2002 9:11 AM
Subject: [R] R graphs in LaTeX documents?


> I have tried to find a neat way to include graphs from R in LaTeX
documents,
> but have not succeeded (I work with a WinEdt/MikTeX combination). The two
> roads I have stumbled along so far are the following:
>
> *Generate postscript files and convert them into EPS files by means of
> GhostScript or other not so straightforward tools.
>
> *Generate pictex files and include these.
>
> None of these solutions have worked so far. I haven't spent so much time
> trying to find out what goes wrong, but since there might both LaTeX gurus
> and R wizards among you, I simply thought it would be better to lean on
that
> expertize first. Any suggestions about how to achieve what really should
be
> a simple task?
>
> --robert
> ****************
> Robert Lundqvist
> Dept of Quality Technology & Statistics
> Lulea University of Technology
> Sweden
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Feb  7 13:45:03 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 7 Feb 2002 12:45:03 +0000 (GMT Standard Time)
Subject: [R] R graphs in LaTeX documents?
In-Reply-To: <Pine.GSO.4.10.10202071312450.2720-100000@speed.maths.lth.se>
Message-ID: <Pine.WNT.4.31.0202071236160.748-100000@gannet>

On Thu, 7 Feb 2002, Henrik Bengtsson wrote:

> You have to save your plots/figures in EPS format. EPS is basically the
> same as PS (postscript), but it is a one-page document with a
> "BoundingBox".
>
> Example
>
> In [R]:
>
> Alternative 1: Generate the plot *first* and then the eps file
>   ...
>   plot(sin(1:10), pch="+")
>   dev.print(device=postscript, "myFigure.eps",
>             onefile=FALSE, horizontal=FALSE)
>   ...
>
> Alternative 2: Generate the eps file directly *without* opening a window.
>
>   ...
>   postscript(file="myFigure.eps", onefile=FALSE, horizontal=FALSE)
>   plot(sin(1:10), pch="+")
>   dev.off()
>   ...
>
>
> Note that the arguments 'onefile=FALSE, horizontal=FALSE' are important!
> In the help for 'postscript' it also says that you "probably want to set
> ... paper = "special", but I never used this option and it has worked fine
> for me without it (actually I don't know what it does).

Well, you have just asked for an a4 portait plot, and normally I want to
select the plot aspect ratio myself.  With something like

postscript(file="myFigure.eps", onefile=FALSE, horizontal=FALSE, width=8,
height=5)

you get an eps file centered on an a4 page.  With paper = "special"
you get it on an 8" x 5" `paper'.  It may not matter for some pupoes, but
it does for others.

>
> In LaTeX:
>
>   ...
>   Bla bla see Figure~\ref{figMyFigure}.
>
>   \begin{figure}[hbtp]
>     \begin{center}
>       % Scale the figure to have the height 80mm keeping
>       % the width/height ratio.
>       \resizebox{!}{80mm}{\includegraphics{myFigure.eps}}
>     \end{center}
>     \caption{The data used...}
>     \label{figMyFigure} % <-- NOTE: After \caption!
>   \end{figure}
>   ...
>
> This requires that you use "\usepackage{graphics}" or
> "\usepackage{graphicx}" at the top your LaTeX document.
>
> [This answer is a correction of my own answer in the "Re: [R] Latex
> Question" thread from Dec 7, 2001:

Better to use \includegraphics[height=80mm]{myFigure.eps}

>
>   http://www.r-project.org/nocvs/mail/r-help/2001/6836.html
>
> where I forgot the argument 'horizontal=FALSE'.]
>
> Good luck!
>
> Henrik Bengtsson
>
> Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
> Lund Institute of Technology/Lund University, Sweden (+2h UTC)
> Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
> h b @ m a t h s . l t h . s e
> http://www.maths.lth.se/matstat/staff/hb/
>
> On Thu, 7 Feb 2002, Robert Lundqvist wrote:
> > I have tried to find a neat way to include graphs from R in LaTeX documents,
> > but have not succeeded (I work with a WinEdt/MikTeX combination). The two
> > roads I have stumbled along so far are the following:
> >
> > *Generate postscript files and convert them into EPS files by means of
> > GhostScript or other not so straightforward tools.
> >
> > *Generate pictex files and include these.
> >
> > None of these solutions have worked so far. I haven't spent so much time
> > trying to find out what goes wrong, but since there might both LaTeX gurus
> > and R wizards among you, I simply thought it would be better to lean on that
> > expertize first. Any suggestions about how to achieve what really should be
> > a simple task?
> >
> > --robert
> > ****************
> > Robert Lundqvist
> > Dept of Quality Technology & Statistics
> > Lulea University of Technology
> > Sweden
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Thu Feb  7 13:41:35 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Thu, 7 Feb 2002 13:41:35 +0100 (MET)
Subject: [R] R graphs in LaTeX documents?
In-Reply-To: <CC1AF68C2B1C644DBC0B6087C3C81BC434FFDE@marge.ies.ad.ltu.se>
Message-ID: <Pine.GSO.4.10.10202071334370.2720-100000@speed.maths.lth.se>

[Sorry, I forgot the dev.copy2eps alternative and to make the answer
complete so this answer could be refered to when others ask the same
question again I also added the 'paper="special' argument (as dev.copy2eps
do)]

You have to save your plots/figures in EPS format. EPS is basically the
same as PS (postscript), but it is a one-page document with a
"BoundingBox". 

Example

In [R]: 

Alternative 1: Generate the plot *first* and then the eps file
  ...
  plot(sin(1:10), pch="+")
  dev.copy2eps("myFigure.eps")
  ...

Alternative 2: Generate the plot *first* and then the eps file
               (basically the same result as the above)
  ...
  plot(sin(1:10), pch="+")
  dev.print(device=postscript, "myFigure.eps", 
            onefile=FALSE, horizontal=FALSE, paper="special")
  ...

Alternative 3: Generate the eps file directly *without* opening
               a plotting window first.
  ...
  postscript(file="myFigure.eps",
             onefile=FALSE, horizontal=FALSE, paper="special")
  plot(sin(1:10), pch="+")
  dev.off()
  ...

Note that the arguments 'onefile=FALSE, horizontal=FALSE' (and
'paper="special"') are important!

In LaTeX: 

  ...
  Bla bla see Figure~\ref{figMyFigure}.

  \begin{figure}[hbtp]
    \begin{center}
      % Scale the figure to have the height 80mm keeping 
      % the width/height ratio.
      \resizebox{!}{80mm}{\includegraphics{myFigure.eps}}
    \end{center}
    \caption{The data used...}
    \label{figMyFigure} % <-- NOTE: After \caption!
  \end{figure}
  ... 

This requires that you use "\usepackage{graphics}" or
"\usepackage{graphicx}" at the top your LaTeX document.

[This answer is a correction of my own answer in the "Re: [R] Latex 
Question" thread from Dec 7, 2001:

  http://www.r-project.org/nocvs/mail/r-help/2001/6836.html

where I forgot the argument 'horizontal=FALSE'.]

Good luck!

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences 
Lund Institute of Technology/Lund University, Sweden (+2h UTC) 
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e 
http://www.maths.lth.se/matstat/staff/hb/

On Thu, 7 Feb 2002, Robert Lundqvist wrote:
> I have tried to find a neat way to include graphs from R in LaTeX documents,
> but have not succeeded (I work with a WinEdt/MikTeX combination). The two
> roads I have stumbled along so far are the following:
> 
> *Generate postscript files and convert them into EPS files by means of
> GhostScript or other not so straightforward tools.
> 
> *Generate pictex files and include these.
> 
> None of these solutions have worked so far. I haven't spent so much time
> trying to find out what goes wrong, but since there might both LaTeX gurus
> and R wizards among you, I simply thought it would be better to lean on that
> expertize first. Any suggestions about how to achieve what really should be
> a simple task?
> 
> --robert
> ****************
> Robert Lundqvist
> Dept of Quality Technology & Statistics
> Lulea University of Technology
> Sweden
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Feb  7 13:59:15 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Thu, 7 Feb 2002 07:59:15 -0500 (EST)
Subject: [R] 1.3.1/1.4.1 Windows binary incompatibilities?
In-Reply-To: <Pine.LNX.4.31.0202061622510.26380-100000@gannet.stats>
Message-ID: <Pine.LNX.4.30.0202070753460.1070-100000@bolker.zoo.ufl.edu>


  mea culpa.
  I now believe the difference in behavior between 1.3.x and 1.4.1 was not
in the compilers -- the code didn't work in either Linux or Windows under
1.4.1 (I had only tried it in 1.3.x on Linux).  It turned out that the
problem was in several arguments being passed to the C code that had not
been protected by as.double().  For some reason I can't understand, this
worked in 1.3.x and failed in 1.4.1.
  I thought I had tried all the obvious things before asking for help, but
I obviously got confused in the midst of debugging.

  thanks to all for help/offers of help ...

  Ben Bolker


On Wed, 6 Feb 2002, Prof Brian Ripley wrote:

> On Wed, 6 Feb 2002, Ben Bolker wrote:
>
> >
> >   I should probably have been able to figure this out, but ...
> >
> >   I have a package with some C code in it that I've been cross-building on
> > my Linux machine to run under Windows.  I had it working under 1.3.1, but
> > it seems to have stopped with 1.4.1.  Building with a version of
> > i386-mingw32msv-gcc recently downloaded from Brian Ripley's Rtools page
> > (--version 2.95.2), under 1.4.1 on Linux, it works under 1.3.1 but fails
> > under 1.4.1. (The new version of i386-gcc I just downloaded dates back to
> > 3 Sep 2000 according to the Page Info.  The previous version I was using
> > (which dated to 27 Apr 2000) and the new version give the same --version
> > information.)  The "Version"  tab on the DLL does correctly indicate it
> > was built for 1.4.1.
> >
> >   Am I missing something stupid?  The Rtools page says the most current
> > version of mingw is based on gcc 2.95.3; does the cross-compiler need to
> > be updated?  (I'm not eager to, but I could try to assemble the
> > pieces and compile from source if I had to ...)
>
> R itself builds with that cross-compiler (and that includes using the
> standard mechanisms to built the packages included).  The things it can't
> do, like link directly to DLLs or to VC++ libraries can't be done under
> cross-compilers anyway.  I backed out linking directly to R.dll just
> before 1.4.0 was released when it emerged that it linked in somewhat
> random orders.
>
> `it fails' is not very useful diagnostic information!
>
> >   I did find some information on cross-compiling at the bottom of the
> > MinGW FAQ list, I may pursue this if no-one has any brilliant ideas ...
> > (how many people are actually doing Linux/Windows cross-compiling?)
>
> I've been meaning to build a new cross-compiler, but it tends to take
> a day or so due to bugs in the scripts.  I suspect very few people build a
> Fortran cross-compiler, and so that's where all the problems arise.
> I tend to cross-compile only to check that the current sources will
> compile under Windows without having to re-boot into Windows.
>
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mwgrant2001 at yahoo.com  Thu Feb  7 14:25:06 2002
From: mwgrant2001 at yahoo.com (Michael Grant)
Date: Thu, 7 Feb 2002 05:25:06 -0800 (PST)
Subject: [R] R graphs in LaTeX documents?
In-Reply-To: <CC1AF68C2B1C644DBC0B6087C3C81BC434FFDE@marge.ies.ad.ltu.se>
Message-ID: <20020207132506.67240.qmail@web20809.mail.yahoo.com>


--- Robert Lundqvist <Robert.Lundqvist at ies.luth.se>
wrote:
> I have tried to find a neat way to include graphs
> from R in LaTeX documents,
> but have not succeeded (I work with a WinEdt/MikTeX
> combination). The two
> roads ...

Hi Robert,

Perhaps your difficulties lie on the LaTeX side of the
equation. I've used R versions 1.23, 1.31 and now
1.41; gone thru 'mass production' of numerous
postscript graphics using both the menu and coding;
and pulled those graphics into LaTeX (and
Word)directly without a hitch--EXCEPT IN THE
BEGINNING. And those problems were
first-time-using-LaTeX-related.

Assuming I had saved the R graphic as 'ipu238.eps' the
following (edited) has worked for me:


\documentclass[10pt,letterpaper]{report}
...
\usepackage{graphicx}
...

\begin{document}

...as can be seen in Figure \ref{fig:ipu238}. The
confidence bands are wide and ...

\begin{figure}
	\begin{center}
		\includegraphics[scale=0.9]{ipu238}
	\end{center}
  \caption{Intervals for plutonium 238 versus europium
154 using all samples.}
	\label{fig:ipu238}
\end{figure}

...

\end{document}


FYI, I use TeXnicCenter/MikTeX for the LaTeX. They
work very well together.(Note: LyX on windows is
cygwin based and requires an Xserver, e.g. XFree86.
Might as run Linux to begin with! Hmmm, not a bad
idea, but RWin is getting pretty sweet.) 

Regards,
Mike

__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Thu Feb  7 14:22:58 2002
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Thu, 7 Feb 2002 14:22:58 +0100 (CET)
Subject: [R] R graphs in LaTeX documents?
In-Reply-To: <CC1AF68C2B1C644DBC0B6087C3C81BC434FFDF@marge.ies.ad.ltu.se>
Message-ID: <Pine.LNX.4.44.0202071421150.6481-100000@tal.stat.umu.se>

On Thu, 7 Feb 2002, Robert Lundqvist wrote:

> Many thanks for all suggestions, and of course, using dev.copy2eps work. At
> least almost. Simple graphs are generated and copied into *.eps files, they
> have been included in the LaTeX document, and in the end I get a nice
> looking document in the DVI previewer (in my case YAP).
> 
> Printing doesn't work though. I get a message saying that "..this page
> contains Postscript specials". Is this due to a faulty *.eps file or should
> I look for the root causes in the previewer? Any suggestions?

Use dvips for printing (or from ghostview). Never had any problems.
I use fptex, though.

G?ran

> 
> --robert
> ****************
> Robert Lundqvist
> Dept of Quality Technology & Statistics
> Lulea University of Technology
> Sweden
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alexander.hener at gmx.de  Thu Feb  7 15:03:24 2002
From: alexander.hener at gmx.de (alexander.hener@gmx.de)
Date: Thu, 7 Feb 2002 15:03:24 +0100 (MET)
Subject: [R] Grouping and Computing
Message-ID: <739.1013090604@www24.gmx.net>

Hi group,

To mention it in advance, I am an R newbie, and most likely, my question is
more a mix of smaller, simpler tasks. Anyway, I got mixed up between by,
select, aggregate, lapply etc.
My problem is as follows : 

I have read data in and transformed them into a matrix for no special reason
so far. This matrix contains a column with regard to which I would like to
group, i.e. one realisation specifies one group. Neither the number of
occurences nor the value of these realisations is known in advance, which seems to
be the mayor problem. For each group separately then, I would like to compute
some aggregation function, namely the sum of a fraction of two columns. These
sums should be kept in form of another vector. 

My two questions are then

- Which object type (matrix, dataframe, list) lends itself to such a
problem?
- Do I have to create different objects for the groups, or can I compute the
vector of sums directly? And how?
 
Thanks in advance

Alexander Hener

-- 
GMX - Die Kommunikationsplattform im Internet.
http://www.gmx.net

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Thu Feb  7 15:57:47 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Thu, 7 Feb 2002 09:57:47 -0500
Subject: [R] Weighted median
In-Reply-To: <115441398@toto.iv>
Message-ID: <15458.38379.16364.324986@gargle.gargle.HOWL>

Henrik Bengtsson <hb at maths.lth.se> wrote:
> Is there a weighted median function out there...

Markus Jantti <markus.jantti at iki.fi> wrote:
> I have written the following functions for my own use but am unhappy with
> them [because] I wanted to define a weighted.quantile function that
> reproduced the R quantile function for the unweighted case (R:s quantile does
> some smart interpolating), but I did not manage to do so.

Here's a weighted quantile function I wrote that I believe reproduces the
standard interpolation for wt=rep(1,length(x)).  The interpolation is done with
approx().  Haven't looked at it in a while, so caveat emptor.

g.quantile <- function(x, probs=seq(0,1,.25), wt=NULL, na.rm=T) {
  if (is.null(wt)) return(quantile(x, probs, na.rm))
  q <- !is.na(x) & !is.na(wt)
  if (!all(q)) {if (na.rm) {x<-x[q]; wt<-wt[q]} else stop("NA's")}
  z <- g.sort(list(y=x, wt=wt), "y")
  z$x <- (cumsum(z$wt) - z$wt[1]) / (sum(z$wt) - z$wt[1])    # 0 to 1 inclusive
  a <- approx(z$x, z$y, probs)$y
  dec <- if (length(probs)>1) 2-log10(diff(range(probs))) else 2
  names(a) <- format(round(100*probs, dec)) %&% "%"
  a                                                # Returns weighted quantiles
}

-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Thu Feb  7 15:56:39 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Thu, 7 Feb 2002 15:56:39 +0100 (MET)
Subject: [R] R graphs in LaTeX documents?
In-Reply-To: <CC1AF68C2B1C644DBC0B6087C3C81BC434FFDF@marge.ies.ad.ltu.se>
Message-ID: <Pine.GSO.4.10.10202071544440.2720-100000@speed.maths.lth.se>

Since modern computers are so fast the convertion from dvi to ps does only
take a second or two and this basically makes DVI priviewers obsolete.
Therefore, I always "skip" the DVI step and immediately go and generate a 
postscipt file using 'dvips' and then view it with GSview/Ghostscript.
GSview is available on most Unix systems ('gview' and/or 'gv') and it does
also exist for Win32 system. See

   http://www.cs.wisc.edu/~ghost/gsview/

If you are using a Win32 system and need to install GSView/Ghostview it is
useful to know that you should first install Ghostview, which is the
postscript engine and then you install GSView, which makes use of
Ghostview internally. You can check if you have Ghostview installed by
typing 'gs -v' at the command prompt. If you have a version older than
6.50 I recommend that you get an update (better PDF results).

You can easily print any postscript document to a postscript printer or to
a Windows printer via GSview. (GSview also views PDF's). With the
ghostview package comes nice things as 'ps2pdf' for converting postscript
documents to PDF (online version can be tried at http://www.ps2pdf.com).

It is easy when you, but sometimes hard find out yourself ;)

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences 
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e
http://www.maths.lth.se/matstat/staff/hb/



On Thu, 7 Feb 2002, Robert Lundqvist wrote:

> Many thanks for all suggestions, and of course, using dev.copy2eps work. At
> least almost. Simple graphs are generated and copied into *.eps files, they
> have been included in the LaTeX document, and in the end I get a nice
> looking document in the DVI previewer (in my case YAP).
> 
> Printing doesn't work though. I get a message saying that "..this page
> contains Postscript specials". Is this due to a faulty *.eps file or should
> I look for the root causes in the previewer? Any suggestions?
> 
> --robert
> ****************
> Robert Lundqvist
> Dept of Quality Technology & Statistics
> Lulea University of Technology
> Sweden
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Thu Feb  7 16:13:43 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Thu, 7 Feb 2002 10:13:43 -0500
Subject: [R] Weighted median
Message-ID: <15458.39335.21271.368964@gargle.gargle.HOWL>


I noticed too late that my weighted quantile function contains some home-grown
functions which will not be found on your system.  Here's a version that is
self-contained:

g.quantile <- function(x, probs=seq(0,1,.25), wt, na.rm=TRUE) {
  if (missing(wt)) return(quantile(x, probs, na.rm))
  q <- !is.na(x) & !is.na(wt)
  if (!all(q)) {if (na.rm) {x<-x[q]; wt<-wt[q]} else stop("NA's")}
  ord <- order(x)
  z <- list(y=x[ord], wt=wt[ord])
  z$x <- (cumsum(z$wt) - z$wt[1]) / (sum(z$wt) - z$wt[1])    # 0 to 1 inclusive
  a <- approx(z$x, z$y, probs)$y
  dec <- if (length(probs)>1) 2-log10(diff(range(probs))) else 2
  names(a) <- paste(format(round(100*probs, dec)), "%", sep="")
  a                                                # Returns weighted quantiles
}

-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.schulz at metafacts.de  Thu Feb  7 16:31:04 2002
From: c.schulz at metafacts.de (Christian Schulz)
Date: Thu, 07 Feb 2002 16:31:04 +0100
Subject: [R] Probblems with loading the tcltk library
References: <Pine.LNX.4.31.0202060815301.22944-100000@gannet.stats>
Message-ID: <3C629DB8.3090000@metafacts.de>



Prof Brian Ripley wrote:

>On Wed, 6 Feb 2002, Beat Huggler wrote:
>
>>Hi guys
>>
>>Recently a wanted to look at the opotunities which are suported by the
>>labrary of tcltk. Unfortunatly I couldn't load the library and it
>>occured the following error message:
>>
>>Error in firstlib(which.lib.loc, package) :
>>        TCL_LIBRARY is not set
>>Error in library(pkg, character.only = TRUE) :
>>        .First.lib failed
>>
>>I've tried to load it in sveral ways. I reinstalt the this library bud
>>nothing happend. What is the problem and how can I solve it??
>>
>
>It appears that this was under Windows and you have not set TCL_LIBRARY.
>That *is* in the README, and also in the rw-FAQ.
>
I have got the same problems, but use this :
Sys.putenv("TCL_LIBRARY"="c:/Tcl/lib/tcl83")
where my TCL/TK  is installed and  set in my win2000  the same folder to 
the path row !?

...than i get this message:

 Error in dyn.load(x, as.logical(local), as.logical(now)) :
        unable to load shared library 
"D:/Statsoft/rw1041/library/tcltk/libs/tcltk.dll":
  LoadLibrary failure:  Das angegebene Modul wurde nicht gefunden.
Error in library(tcltk) : .First.lib failed

thanks for advance &
regards,Christian

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020207/6f963253/attachment.html

From pflugshaupt at geobot.umnw.ethz.ch  Thu Feb  7 16:30:25 2002
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Thu, 07 Feb 2002 16:30:25 +0100
Subject: [R] Grouping and Computing
In-Reply-To: <739.1013090604@www24.gmx.net>
Message-ID: <B8885C21.6B47%pflugshaupt@geobot.umnw.ethz.ch>

On 7.2.2002 15:03 Uhr, alexander.hener at gmx.de wrote:

> - Which object type (matrix, dataframe, list) lends itself to such a
> problem?

It's probably easiest with a dataframe, but you can also use a matrix

> - Do I have to create different objects for the groups, or can I compute the
> vector of sums directly? And how?

Do it directly, by all means. You can use any of tapply(), by() or
aggregate(): 

> testdata <- data.frame(a=factor(c(rep('a',4), rep('b',6))), b=rnorm(10))
> testdata
   a           b
1  a  0.23158790
2  a -0.38852120
    [snip]
9  b -1.81645407
10 b -0.44034004
> tapply(testdata$b, testdata$a, sum)
       a        b 
1.282057 1.511260 
> by(testdata$b,testdata$a,sum)
INDICES: a
[1] 1.282057
------------------------------------------------------------
INDICES: b
[1] 1.51126
> aggregate(testdata$b,list(testdata$a),sum)
  Group.1        x
1       a 1.282057
2       b 1.511260


See the functions' help texts and examples for further information. For me,
tapply() does all I need.

Cheers

Kaspar Pflugshaupt
 

-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Feb  7 17:11:02 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 7 Feb 2002 08:11:02 -0800 (PST)
Subject: [R] R graphs in LaTeX documents?
In-Reply-To: <CC1AF68C2B1C644DBC0B6087C3C81BC434FFDF@marge.ies.ad.ltu.se>
Message-ID: <Pine.A41.4.44.0202070806400.21836-100000@homer29.u.washington.edu>

On Thu, 7 Feb 2002, Robert Lundqvist wrote:

> Many thanks for all suggestions, and of course, using dev.copy2eps work. At
> least almost. Simple graphs are generated and copied into *.eps files, they
> have been included in the LaTeX document, and in the end I get a nice
> looking document in the DVI previewer (in my case YAP).
>
> Printing doesn't work though. I get a message saying that "..this page
> contains Postscript specials". Is this due to a faulty *.eps file or should
> I look for the root causes in the previewer? Any suggestions?

If you include PostScript files you need to print to a printer that
understands them.  Under Unix this is usually automatic. Under Windows you
may need to obtain dvips and ghostscript to create and print PostScript
from your DVI files. I would have expected dvips to be in your TeX
distribution already.

Another possibility is to use pdflatex, which produces Adobe PDF files
instead of DVI. You can include PDF graphs produced by Rs pdf() driver
(and PNG bitmaps).  This is what I usually do, since I often need PDF
files either for students or for medical collaborators who can't cope with
PostScript.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Feb  7 17:18:09 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 7 Feb 2002 16:18:09 +0000 (GMT Standard Time)
Subject: [R] Probblems with loading the tcltk library
In-Reply-To: <3C629DB8.3090000@metafacts.de>
Message-ID: <Pine.WNT.4.44.0202071608050.476-100000@gannet>

On Thu, 7 Feb 2002, Christian Schulz wrote:

> Prof Brian Ripley wrote:
>
> >On Wed, 6 Feb 2002, Beat Huggler wrote:
> >
> >>Hi guys
> >>
> >>Recently a wanted to look at the opotunities which are suported by the
> >>labrary of tcltk. Unfortunatly I couldn't load the library and it
> >>occured the following error message:
> >>
> >>Error in firstlib(which.lib.loc, package) :
> >>        TCL_LIBRARY is not set
> >>Error in library(pkg, character.only = TRUE) :
> >>        .First.lib failed
> >>
> >>I've tried to load it in sveral ways. I reinstalt the this library bud
> >>nothing happend. What is the problem and how can I solve it??
> >>
> >
> >It appears that this was under Windows and you have not set TCL_LIBRARY.
> >That *is* in the README, and also in the rw-FAQ.
> >
> I have got the same problems, but use this :
> Sys.putenv("TCL_LIBRARY"="c:/Tcl/lib/tcl83")
> where my TCL/TK  is installed and  set in my win2000  the same folder to
> the path row !?

That's not the value suggested in the README and rw-FAQ: it ends tcl8.3.

>  Error in dyn.load(x, as.logical(local), as.logical(now)) :
>         unable to load shared library
> "D:/Statsoft/rw1041/library/tcltk/libs/tcltk.dll":
>   LoadLibrary failure:  Das angegebene Modul wurde nicht gefunden.
> Error in library(tcltk) : .First.lib failed

My guess is that c:/Tcl/bin is not in the path being seen by Rgui.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Thu Feb  7 17:15:16 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Thu, 7 Feb 2002 11:15:16 -0500 
Subject: [R] Grouping and Computing
Message-ID: <5429125E11E4D411AF7300805FE603A8040DE624@groexmbcr02.pfizer.com>

Generally, the data frame is the most useful object for storing data.  It
allows each column to have a different type (factor, numeric, ...).

This is the default object type returned from read.table(), read.csv(), etc.

If you have your data in a data file named "data.txt" in the format

Group  Value1  Value2
A	  1       2
A       1       3
B       2       3
B       1       3
C       1       1
...


you can read it into R with

data <- read.table("data.txt",header=T)

Now, to get the summary you want, you should 

  1) create a function to compute the summary for a data.frame containing
only the data for one group.  Something like

	compute.summary <- function(x)
            sum( x$Value1 / x$Value2 )

  2) Use 'split' to break the data frame into one chunk per group, and
'sapply' to call your function on each chunk:

	tmp <- split( data, data$Group )

	results <- sapply( tmp, compute.summary )

You will probably want to look at the help pages for read.table, split, and
sapply.  You should also (if you haven't already) picked up the manual 'An
Introduction to R' from http://cran.r-project.org/manuals.html

-Greg

> -----Original Message-----
> From: alexander.hener at gmx.de [mailto:alexander.hener at gmx.de]
> Sent: Thursday, February 07, 2002 9:03 AM
> To: r-help at stat.math.ethz.ch
> Subject: [R] Grouping and Computing
> 
> 
> Hi group,
> 
> To mention it in advance, I am an R newbie, and most likely, 
> my question is
> more a mix of smaller, simpler tasks. Anyway, I got mixed up 
> between by,
> select, aggregate, lapply etc.
> My problem is as follows : 
> 
> I have read data in and transformed them into a matrix for no 
> special reason
> so far. This matrix contains a column with regard to which I 
> would like to
> group, i.e. one realisation specifies one group. Neither the number of
> occurences nor the value of these realisations is known in 
> advance, which seems to
> be the mayor problem. For each group separately then, I would 
> like to compute
> some aggregation function, namely the sum of a fraction of 
> two columns. These
> sums should be kept in form of another vector. 
> 
> My two questions are then
> 
> - Which object type (matrix, dataframe, list) lends itself to such a
> problem?
> - Do I have to create different objects for the groups, or 
> can I compute the
> vector of sums directly? And how?
>  
> Thanks in advance
> 
> Alexander Hener
> 
> -- 
> GMX - Die Kommunikationsplattform im Internet.
> http://www.gmx.net
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Thu Feb  7 17:23:37 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Thu, 07 Feb 2002 17:23:37 +0100
Subject: [R] Grouping and Computing
References: <739.1013090604@www24.gmx.net>
Message-ID: <3C62AA09.9C37BA90@atmos.umnw.ethz.ch>

Hello Alexander,

the function you are looking for is tapply and it works with dataframes
and matrixs.

here a small example
d <- data.frame(group=c(1,4,5,4,5,2,1),value=c(1,54,2,6,87,4,6))
tapply(d$value,d$group,mean)#arguments: the datas, the groups, the
function

will produce
   1    2    4    5 
 3.5  4.0 30.0 44.5 

you can also use factors to define the group, this has the advantage,
that you can give them a real name
d <-
data.frame(group=c('John','Jack','Joan','Jack','Jack','Joan','John'),value=c(1,54,2,6,87,4,6))
tapply(d$value,d$group,mean)

will produce
Jack Joan John 
49.0  3.0  3.5 

alexander.hener at gmx.de wrote:
> 
> Hi group,
> 
> To mention it in advance, I am an R newbie, and most likely, my question is
> more a mix of smaller, simpler tasks. Anyway, I got mixed up between by,
> select, aggregate, lapply etc.
> My problem is as follows :
> 
> I have read data in and transformed them into a matrix for no special reason
> so far. This matrix contains a column with regard to which I would like to
> group, i.e. one realisation specifies one group. Neither the number of
> occurences nor the value of these realisations is known in advance, which seems to
> be the mayor problem. For each group separately then, I would like to compute
> some aggregation function, namely the sum of a fraction of two columns. These
> sums should be kept in form of another vector.
> 
> My two questions are then
> 
> - Which object type (matrix, dataframe, list) lends itself to such a
> problem?
> - Do I have to create different objects for the groups, or can I compute the
> vector of sums directly? And how?
> 
> Thanks in advance
> 
> Alexander Hener
> 
> --
> GMX - Die Kommunikationsplattform im Internet.
> http://www.gmx.net
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::   
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Thu Feb  7 17:39:12 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Thu, 7 Feb 2002 08:39:12 -0800 (PST)
Subject: [R] Plotting on log scale using plot.date()
Message-ID: <Pine.GSO.4.10.10202070829410.2182-100000@quetelet.stat.ucla.edu>

Hi, I'm trying to use the date library and I think I'm getting an
incorrect warning when I make a plot with plot.date().  For example:

> library(date)
> x <- as.date(1:100)
> y <- 1:100
> plot(x, y, log = "y")
Warning message: 
parameter "log" couldn't be set in high-level plot() function 

The problem appears to be in the last line of plot.date() function where
the x-axis is being created.  There is a call to axis() and the log = "y"
parameter is being passed.

I noticed a similar-sounding bug in the bugs repository (#1235) but I
don't think it's related. 

Here's the code for plot.date().  I think problem is at the end.

plot.date
function (x, y, ..., axes, xaxt, xlab, ylab, xlim = range(x, 
    na.rm = TRUE), ylim = range(y, na.rm = TRUE)) 
{
    [ ... some code ... ]
    else {
        plot(x, y, ..., xaxt = "n", xlab = xlab, ylab = ylab, 
            xlim = xlim, ylim = ylim)
        x <- c(x[!is.na(x)], xlim)
        xd <- date.mdy(x)
        temp <- pretty(x, n = par("lab")[1])
        delta <- temp[2] - temp[1]
        if (delta < 1) 
            temp <- seq(min(x), max(x), 1)
        else if (delta > 182) {
            temp <- xd$year + (x - mdy.date(1, 1, xd$year))/365
            temp <- pretty(temp, n = par("lab")[1])
            temp <- mdy.date(1, 1, floor(temp)) + floor((temp%%1) * 
                365)
        }
        axis(1, temp, as.character.date(temp), ...)
    }
}

Should ... be passed to axis?

Thanks!


platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    4.1              
year     2002             
month    01               
day      30               
language R              

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Matthias.Fischer at wiso.uni-erlangen.de  Thu Feb  7 18:10:53 2002
From: Matthias.Fischer at wiso.uni-erlangen.de (Matthias Fischer)
Date: Thu, 7 Feb 2002 18:10:53 +0100
Subject: [R] Gamma function for complex arguments
Message-ID: <3C62C32F.32646.75C4453@localhost>

Hi everybody,

unfortunately, the gamma function for complex arguments is not 
implemented in R (Base package). Are there any 
packages/functions or approximations to solve that problem?

Thanks in advance,

Matthias 



Dr. Matthias Fischer
Friedrich-Alexander-Universit?t Erlangen-N?rnberg
Lehrstuhl f?r Statistik und ?konometrie
Lange Gasse 20
90403 N?rnberg
Telefon: 0911 / 5302-271
Telefax: 0911 / 5302-277
E-Mail: Matthias.Fischer at wiso.uni-erlangen.de
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From liu.262 at osu.edu  Thu Feb  7 18:35:45 2002
From: liu.262 at osu.edu (Kaiya Liu)
Date: Thu, 07 Feb 2002 12:35:45 -0500
Subject: [R] Problem with interaction.plot()
In-Reply-To: <Pine.GSO.4.10.10202071544440.2720-100000@speed.maths.lth.s
 e>
References: <CC1AF68C2B1C644DBC0B6087C3C81BC434FFDF@marge.ies.ad.ltu.se>
Message-ID: <5.1.0.14.2.20020207122940.00a02ec0@pop.service.ohio-state.edu>

Hi,

I encountered a problem when I did interaction plots using the 
interaction.plot() function. The labels for the trace factor appeared on 
the plot when I did the plots in separate windows, but disappeared/cut off 
when multiple plots were placed in one window. Can anybody help me?

Thanks.

Kaiya Liu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Thu Feb  7 19:42:13 2002
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 07 Feb 2002 13:42:13 -0500
Subject: [R] Help with replicating an old SPSS GLM analysis
In-Reply-To: <Pine.LNX.4.21L1.0202062113150.1814-100000@nujoma.perrins>
Message-ID: <5.1.0.14.2.20020207133129.01d89218@mcmail.cis.mcmaster.ca>

Dear Andrew,

It's difficult to know from your description what the nature of the model 
is that you're trying to fit, and (2) what the problem is -- that is, what 
is the difference between the SPSS and R output: coefficients, sums of squares?

But the following points might help:

(1) GLM in SPSS fits linear models, so it is closer to lm in R than to glm, 
which fits *generalized* linear models.

(2) Because the predictors in the SPSS GLM procedure follow the keyword 
WITH they are (I assume) covariates rather than factors. What is the nature 
of these variables?

(3) The asterisks in the R model specification do not have the same meaning 
as in SPSS. In R, the asterisks produce an interaction plus all effects 
marginal to the interaction. With covariates, the interactions will just be 
products.

(4) Despite these problems, I don't see why the coefficient estimates 
should differ: Because you leave the family unspecified in the call to R 
glm, you'll get a linear model; specifying the terms marginal to the 
interactions in the model is redundant but not wrong.

If you supply some more information, maybe I or someone else can figure out 
what's wrong.

John

At 09:18 PM 2/6/2002 -0500, Andrew Perrin wrote:

>I'm trying to replicate an analysis I did a few years ago, then in SPSS,
>using the SPSS GLM command:
>
>GLM
>   n_diffpt  WITH age_i inc_i join_i work_i educ_i  give_i cs_i
>   eff_i age_a inc_a join_a work_a educ_a give_a cs_a eff_a
>   /METHOD = SSTYPE(3)
>   /INTERCEPT = INCLUDE
>   /PRINT  = PARAMETER ETASQ RSSCP GEF
>   /CRITERIA = ALPHA(.05)
>   /DESIGN =
>         age_i*age_a inc_i*inc_a join_i*join_a work_i*work_a
>           educ_i*educ_a give_i*give_a cs_i*cs_a eff_i*eff_a
>         age_i inc_i join_i work_i educ_i give_i cs_i eff_i
>         age_a inc_a join_a work_a educ_a give_a cs_a eff_a .
>
>The results are consistent when run in SPSS; however, I tried the simple
>version of recoding it in R (after using read.spss to bring in the data),
>and got entirely different results. I'm assuming there are significant
>differences in what I'm doing, but I can't find enough documentation of
>the SPSS GLM procedure to figure out what. Can anyone offer insights?
>
>The code I tried under R was:
>
>glm.mean <- glm(N.DIFFPT ~ AGE.I + INC.I + JOIN.I + WORK.I + EDUC.I +
>GIVE.I +
>         CS.I + EFF.I + AGE.A + INC.A + JOIN.A + WORK.A + EDUC.A + GIVE.A +
>         CS.A + EFF.A + AGE.I*AGE.A + INC.I*INC.A + JOIN.I*JOIN.A +
>         WORK.I*WORK.A + EDUC.I*EDUC.A + GIVE.I*GIVE.A + CS.I*CS.A +
>         EFF.I*EFF.A,
>         data=acps.df)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Thu Feb  7 20:00:18 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Thu, 7 Feb 2002 14:00:18 -0500 (EST)
Subject: [R] Help with replicating an old SPSS GLM analysis
In-Reply-To: <5.1.0.14.2.20020207133129.01d89218@mcmail.cis.mcmaster.ca>
Message-ID: <Pine.LNX.4.21L1.0202071358140.1814-100000@nujoma.perrins>

John,

Thanks for responding. After I wrote my message, I figured out that lm
would have been the better model than glm. I reran the following code:

lm(formula = N.DIFFPT ~ AGE.I + INC.I + JOIN.I + WORK.I + EDUC.I + 
    GIVE.I + CS.I + EFF.I + AGE.A + INC.A + JOIN.A + WORK.A + 
    EDUC.A + GIVE.A + CS.A + EFF.A + AGE.I * AGE.A + INC.I * 
    INC.A + JOIN.I * JOIN.A + WORK.I * WORK.A + EDUC.I * EDUC.A + 
    GIVE.I * GIVE.A + CS.I * CS.A + EFF.I * EFF.A, data = acps.df, 
    weights = WT2517)

and, while the results were not exactly the same (perhaps the result of
the difference in interaction terms treatment in your point (3) below),
they're in the same direction and of the same orders of magnitude and
significance. That's enough for my needs for now -- I mainly wanted to be
sure I hadn't forgotten some key step of the process, since it's now been
a few years since I worked with these data.

Thanks again for your detailed response.

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA


On Thu, 7 Feb 2002, John Fox wrote:

> Dear Andrew,
> 
> It's difficult to know from your description what the nature of the model 
> is that you're trying to fit, and (2) what the problem is -- that is, what 
> is the difference between the SPSS and R output: coefficients, sums of squares?
> 
> But the following points might help:
> 
> (1) GLM in SPSS fits linear models, so it is closer to lm in R than to glm, 
> which fits *generalized* linear models.
> 
> (2) Because the predictors in the SPSS GLM procedure follow the keyword 
> WITH they are (I assume) covariates rather than factors. What is the nature 
> of these variables?
> 
> (3) The asterisks in the R model specification do not have the same meaning 
> as in SPSS. In R, the asterisks produce an interaction plus all effects 
> marginal to the interaction. With covariates, the interactions will just be 
> products.
> 
> (4) Despite these problems, I don't see why the coefficient estimates 
> should differ: Because you leave the family unspecified in the call to R 
> glm, you'll get a linear model; specifying the terms marginal to the 
> interactions in the model is redundant but not wrong.
> 
> If you supply some more information, maybe I or someone else can figure out 
> what's wrong.
> 
> John
> 
> At 09:18 PM 2/6/2002 -0500, Andrew Perrin wrote:
> 
> >I'm trying to replicate an analysis I did a few years ago, then in SPSS,
> >using the SPSS GLM command:
> >
> >GLM
> >   n_diffpt  WITH age_i inc_i join_i work_i educ_i  give_i cs_i
> >   eff_i age_a inc_a join_a work_a educ_a give_a cs_a eff_a
> >   /METHOD = SSTYPE(3)
> >   /INTERCEPT = INCLUDE
> >   /PRINT  = PARAMETER ETASQ RSSCP GEF
> >   /CRITERIA = ALPHA(.05)
> >   /DESIGN =
> >         age_i*age_a inc_i*inc_a join_i*join_a work_i*work_a
> >           educ_i*educ_a give_i*give_a cs_i*cs_a eff_i*eff_a
> >         age_i inc_i join_i work_i educ_i give_i cs_i eff_i
> >         age_a inc_a join_a work_a educ_a give_a cs_a eff_a .
> >
> >The results are consistent when run in SPSS; however, I tried the simple
> >version of recoding it in R (after using read.spss to bring in the data),
> >and got entirely different results. I'm assuming there are significant
> >differences in what I'm doing, but I can't find enough documentation of
> >the SPSS GLM procedure to figure out what. Can anyone offer insights?
> >
> >The code I tried under R was:
> >
> >glm.mean <- glm(N.DIFFPT ~ AGE.I + INC.I + JOIN.I + WORK.I + EDUC.I +
> >GIVE.I +
> >         CS.I + EFF.I + AGE.A + INC.A + JOIN.A + WORK.A + EDUC.A + GIVE.A +
> >         CS.A + EFF.A + AGE.I*AGE.A + INC.I*INC.A + JOIN.I*JOIN.A +
> >         WORK.I*WORK.A + EDUC.I*EDUC.A + GIVE.I*GIVE.A + CS.I*CS.A +
> >         EFF.I*EFF.A,
> >         data=acps.df)
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chrysopa at insecta.ufv.br  Thu Feb  7 18:05:15 2002
From: chrysopa at insecta.ufv.br (Ronaldo Reis Jr.)
Date: Thu, 7 Feb 2002 15:05:15 -0200
Subject: [R] increase R history
Message-ID: <200202072027.g17KR9p07304@mail.cpd.ufv.br>

Hi
how i make to increase the numbers of history saved in an .Rhistory?
It is saving 32 commands in history, how much command it may be save?
Thanks
ROnaldo
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Thu Feb  7 21:41:24 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Thu, 7 Feb 2002 21:41:24 +0100
Subject: [R] SUMMARY WITH IMPLEMENTATION: Weighted median
In-Reply-To: <Pine.GSO.4.10.10202061734270.2474-100000@speed.maths.lth.se>
Message-ID: <KKEGJOGBELBHDIKPINBMEEPPCJAA.hb@maths.lth.se>

Thank you David Brahm, David Eppstein, Frank E Harrell Jr, Markus Jantti and
Roger Koenker for your replies. All of you were focusing on weighted
quantiles of which the weighted median is a special case. Your comments and
your code made me really get into the definition of the weighted median,
which is what I am really interested in since I want to minimize the
function

    f(x) = a|x| + sum_{k=1}^n |x - b_k|

I pulled out the core of your codes and wrote my own

   weighted.median(x, w, na.rm=TRUE, ties=NULL)

function, which I hope is optimized for speed (for the same reasons that
median is not calling quantile). Also, I never implemented support for
negative weights.
I have cut-n-pasted the code to the end of this message. As you see from the
examples and the code, I have also tried to make it bullet proof, which
might cost a little bit more than ignoring them. If someone can come up with
a better name on the argument 'ties' (adapted from approx()), please tell.
Any other comments to the code or the Rd's are also welcome.

Thanks for your help!

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e
http://www.maths.lth.se/matstat/staff/hb/


############################################################################
/**
# \name{weighted.median}
# \alias{weighted.median}
#
# \title{Weighted Median Value}
#
# \usage{weighted.median(x, w, na.rm=TRUE, ties=NULL)}
#
# \description{
#   Compute a weighted median of a numeric vector.
# }
#
# \arguments{
#   \item{x}{a numeric vector containing the values whose weighted median is
#            to be computed.}
#   \item{w}{a vector of weights the same length as \code{x} giving the
weights
#            to use for each element of \code{x}. Default value is equal
weight
#            to all values.}
#   \item{na.rm}{a logical value indicating whether \code{NA} values in
#            \code{x} should be stripped before the computation proceeds.}
#   \item{ties}{a character string specifying how to solve ties between two
#            \code{x}'s that are satisfying the weighted median criteria.
#            Note that at most two values can satisfy the criteria.
#            When \code{ties} is \code{"min"}, the smaller value of the two
#            is returned and when it is \code{"max"}, the larger value is
#            returned.
#            If \code{ties} is \code{"mean"}, the mean of the two values is
#            returned and if it is \code{"both"}, both values are returned.
#            Finally, if \code{ties} is \code{"weighted"} (or \code{NULL}) a
#            weighted average of the two are returned, where the weights are
#            weights of all values \code{x[i] <= x[k]} and \code{x[i] >=
x[k]},
#            respectively. Default value is \code{NULL}.}
# }
#
# \value{
#   Returns the weighted median.
# }
#
# \details{
#  For the \code{n} elements \code{x = c(x[1], x[2], ..., x[n])} with
positive
#  weights \code{w = c(w[1], w[2], ..., w[n])} such that \code{sum(w) = S},
#  the \emph{weighted median} is defined as the element \code{x[k]} for
which
#initial  the total weight of all elements \code{x[i] < x[k]} is less or
equal to
#  \code{S/2} and for which the total weight of all elements
#  \code{x[i] > x[k]} is less or equal to \code{S/2} (c.f. [1]).
#
#  If \code{w} is missing then all elements of \code{x} are given the same
#  positive weight. If all weights are zero, \code{NA} is returned.
#
#  When all the weights are the same and \code{ties} is \code{"weighted"}
(or
#  \code{NULL}) \code{weighted.median} gives the same result as
\code{median}.
#
#  If one or more weights are \code{Inf}, it is the same as these weights
#  have the same weight and the others has zero. This makes things easier
for
#  cases where the weights are result of a division with zero.
#
#  The weighted median solves the following optimization problem:
#
#  \deqn{\alpha^* = \arg_\alpha \min \sum_{k=1}{K} w_k |x_k-\alpha|}
#  where \eqn{x=(x_1,x_2,\ldots,x_K)} are scalars and
#  \eqn{w=(w_1,w_2,\ldots,w_K)} are the corresponding "weights" for
#  each individual \eqn{x} value.
# }
#
# \examples{
#   x <- 1:10
#   n <- length(x)
#   median(x)                            # 5.5
#   weighted.median(x)                   # 5.5
#   w <- rep(1, n)
#   weighted.median(x, w)                # 5.5 (default)
#   weighted.median(x, ties="weighted")  # 5.5 (default)
#   weighted.median(x, ties="min")       # 5
#   weighted.median(x, ties="max")       # 6
#
#   # Pull the median towards zero
#   w[1] <- 5
#   weighted.median(x, w)                # 3.5
#   y <- c(rep(0,w[1]), x[-1])           # Only possible for integer weights
#   median(y)                            # 3.5
#
#   # Put even more weight on the zero
#   w[1] <- 8.5
#   weighted.median(x, w)                # 2
#
#   # All weight on the first value
#   w[1] <- Inf
#   weighted.median(x, w)                # 1
#
#   # All weight on the first value
#   w[1] <- 1
#   w[n] <- Inf
#   weighted.median(x, w)                # 10
#
#   # All weights set to zero
#   w <- rep(0, n)
#   weighted.median(x, w)                # NA
# }
#
# \seealso{
#   \code{\link[base]{median}}, \code{\link[base]{mean}} and
#   \code{\link[base]{weighted.mean}}
# }
#
# \reference{
#   [1]  T.H. Cormen, C.E. Leiserson, R.L. Rivest, Introduction to
Algorithms,
#        The MIT Press, Massachusetts Institute of Technology, 1989.
# }
#
# \author{Henrik Bengtsson, hb at maths.lth.se with help from
#         Roger Koenker, roger at ysidro.econ.uiuc.edu}
#
#*/#########################################################################
###
weighted.median <- function(x, w, na.rm=TRUE, ties=NULL) {
  if (missing(w))
    w <- rep(1, length(x));

  # Remove values that are NA's
  if (na.rm == TRUE) {
    keep <- !(is.na(x) | is.na(w));
    x <- x[keep];
    w <- w[keep];
  } else if (any(is.na(x)))
    return(NA);

  # Assert that the weights are all non-negative.
  if (any(w < 0))
    stop("Some of the weights are negative; one can only have positive
weights.");

  # Remove values with weight zero. This will:
  #  1) take care of the case when all weights are zero,
  #  2) make sure that possible tied values are next to each others, and
  #  3) it will most likely speed up the sorting.
  n <- length(w);
  keep <- (w > 0);
  nkeep <- sum(keep);
  if (nkeep < n) {
    x <- x[keep];
    w <- w[keep];
    n <- nkeep;
  }

  # Are any weights Inf? Then treat them with equal weight and all others
  # with weight zero.
  wInfs <- is.infinite(w);
  if (any(wInfs)) {
    x <- x[wInfs];
    n <- length(x);
    w <- rep(1, n);
  }

  # Are there any values left to calculate the weighted median of?
  if (n == 0)
    return(NA);

  # Order the values and order the weights accordingly
  ord <- order(x);
  x <- x[ord];
  w <- w[ord];

  wcum <- cumsum(w);
  wsum <- wcum[n];
  wmid <- wsum / 2;

  # Find the position where the sum of the weights of the elements such that
  # x[i] < x[k] is less or equal than half the sum of all weights.
  # (these two lines could probably be optimized for speed).
  lows <- (wcum <= wmid);
  k  <- sum(lows);

  # Two special cases where all the weight are at the first or the
  # last value:
  if (k == 0) return(x[1]);
  if (k == n) return(x[n]);

  # At this point we know that:
  #  1) at most half the total weight is in the set x[1:k],
  #  2) that the set x[(k+2):n] contains less than half the total weight
  # The question is whether x[(k+1):n] contains *more* than
  # half the total weight (try x=c(1,2,3), w=c(1,1,1)). If it is then
  # we can be sure that x[k+1] is the weighted median we are looking
  # for, otherwise it is any function of x[k:(k+1)].

  wlow  <- wcum[k];    # the weight of x[1:k]
  whigh <- wsum - wlow;  # the weight of x[(k+1):n]
  if (whigh > wmid)
    return(x[k+1]);

  if (is.null(ties) || ties == "weighted") {  # Default!
    (wlow*x[k] + whigh*x[k+1]) / wsum;
  } else if (ties == "max") {
    x[k+1];
  } else if (ties == "min") {
    x[k];
  } else if (ties == "mean") {
    (x[k]+x[k+1])/2;
  } else if (ties == "both") {
    c(x[k], x[k+1]);
  }
}


############################################################################
###
# HISTORY:
# 2002-02-07
# * Optimized the code for speed.
# * Added support for zero and Inf weights.
# * Added the 'ties' argument.
# * Created!
# * Thanks to the following people for helping me out with this one:
#   - David Brahm, brahm at alum.mit.edu
#   - David Eppstein, eppstein at ics.uci.edu
#   - Frank E Harrell Jr, fharrell at virginia.edu
#   - Markus Jantti, markus.jantti at iki.fi
#   - Roger Koenker, roger at ysidro.econ.uiuc.edu
############################################################################
###

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Feb  7 22:01:35 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 07 Feb 2002 22:01:35 +0100
Subject: [R] Plotting on log scale using plot.date()
References: <Pine.GSO.4.10.10202070829410.2182-100000@quetelet.stat.ucla.edu>
Message-ID: <3C62EB2F.B28FB97B@statistik.uni-dortmund.de>

Roger Peng wrote:
> 
> Hi, I'm trying to use the date library and I think I'm getting an
> incorrect warning when I make a plot with plot.date().  For example:
> 
> > library(date)
> > x <- as.date(1:100)
> > y <- 1:100
> > plot(x, y, log = "y")
> Warning message:
> parameter "log" couldn't be set in high-level plot() function

It is a warning message, not an error message.
In this particular case the warning message can be ignored, because the
resulting plot is exactly looking as expected.


> The problem appears to be in the last line of plot.date() function where
> the x-axis is being created.  There is a call to axis() and the log = "y"
> parameter is being passed.
> 
> I noticed a similar-sounding bug in the bugs repository (#1235) but I
> don't think it's related.
> 
> Here's the code for plot.date().  I think problem is at the end.
> 
> plot.date
> function (x, y, ..., axes, xaxt, xlab, ylab, xlim = range(x,
>     na.rm = TRUE), ylim = range(y, na.rm = TRUE))
> {
>     [ ... some code ... ]
>     else {
>         plot(x, y, ..., xaxt = "n", xlab = xlab, ylab = ylab,
>             xlim = xlim, ylim = ylim)
>         x <- c(x[!is.na(x)], xlim)
>         xd <- date.mdy(x)
>         temp <- pretty(x, n = par("lab")[1])
>         delta <- temp[2] - temp[1]
>         if (delta < 1)
>             temp <- seq(min(x), max(x), 1)
>         else if (delta > 182) {
>             temp <- xd$year + (x - mdy.date(1, 1, xd$year))/365
>             temp <- pretty(temp, n = par("lab")[1])
>             temp <- mdy.date(1, 1, floor(temp)) + floor((temp%%1) *
>                 365)
>         }
>         axis(1, temp, as.character.date(temp), ...)
>     }
> }
> 
> Should ... be passed to axis?

Yes, it should. One example that it is useful: 
  plot(x, y, log = "y", cex.axis=2)


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Feb  7 22:30:10 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 07 Feb 2002 22:30:10 +0100
Subject: [R] increase R history
References: <200202072027.g17KR9p07304@mail.cpd.ufv.br>
Message-ID: <3C62F1E2.F107F83B@statistik.uni-dortmund.de>

"Ronaldo Reis Jr." wrote:
> 
> Hi
> how i make to increase the numbers of history saved in an .Rhistory?
> It is saving 32 commands in history, how much command it may be save?

You can set it in the environment variable R_HISTSIZE.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Michael_Nielsen/Syd/Synergy.SYNERGY at synergy.com.au  Thu Feb  7 22:56:39 2002
From: Michael_Nielsen/Syd/Synergy.SYNERGY at synergy.com.au (Michael_Nielsen/Syd/Synergy.SYNERGY@synergy.com.au)
Date: Fri, 8 Feb 2002 08:56:39 +1100
Subject: [R] R graphs in LaTeX documents?
Message-ID: <OFF95AA5B3.21900DD2-ONCA256B59.00776F40@syd.syn.com.au>


I'll admit to being somewhat of a graphics meathead, but recently needed to
put lots of R graphics into a report that I was typesetting with LaTeX
(well, pdflatex on Linux).  I couldn't coerce pdflatex to use the eps
graphics (it seems to be there has to be a way, but I was in too much of a
hurry to try to find it), so I asked R to generate the graphics directly
into PDF, and then included them into my LaTeX with an \includegraphics.
To me, the result looked pretty good -- much better, in fact, than it did
with either jpg or png output, although the poor result with jpg and png
could well be because of my naive choices for the various settings of
things required along the way.

Anyway, I am continually impressed with R's ability to produce good results
in spite of my somewhat inelegant (ok, ham-fisted) approach.

Regards,

Mike


                                                                                                                           
                    Michael Grant                                                                                          
                    <mwgrant2001 at yahoo.c        To:     Robert Lundqvist <Robert.Lundqvist at ies.luth.se>,                   
                    om>                         "'r-help at lists.R-project.org'" <r-help at stat.math.ethz.ch>                  
                    Sent by:                    cc:                                                                        
                    owner-r-help at stat.ma        Subject:     Re: [R] R graphs in LaTeX documents?                          
                    th.ethz.ch                                                                                             
                                                                                                                           
                                                                                                                           
                    08/02/2002 12:25 AM                                                                                    
                                                                                                                           
                                                                                                                           





--- Robert Lundqvist <Robert.Lundqvist at ies.luth.se>
wrote:
> I have tried to find a neat way to include graphs
> from R in LaTeX documents,
> but have not succeeded (I work with a WinEdt/MikTeX
> combination). The two
> roads ...

Hi Robert,

Perhaps your difficulties lie on the LaTeX side of the
equation. I've used R versions 1.23, 1.31 and now
1.41; gone thru 'mass production' of numerous
postscript graphics using both the menu and coding;
and pulled those graphics into LaTeX (and
Word)directly without a hitch--EXCEPT IN THE
BEGINNING. And those problems were
first-time-using-LaTeX-related.

Assuming I had saved the R graphic as 'ipu238.eps' the
following (edited) has worked for me:


\documentclass[10pt,letterpaper]{report}
...
\usepackage{graphicx}
...

\begin{document}

...as can be seen in Figure \ref{fig:ipu238}. The
confidence bands are wide and ...

\begin{figure}
           \begin{center}
                     \includegraphics[scale=0.9]{ipu238}
           \end{center}
  \caption{Intervals for plutonium 238 versus europium
154 using all samples.}
           \label{fig:ipu238}
\end{figure}

...

\end{document}


FYI, I use TeXnicCenter/MikTeX for the LaTeX. They
work very well together.(Note: LyX on windows is
cygwin based and requires an Xserver, e.g. XFree86.
Might as run Linux to begin with! Hmmm, not a bad
idea, but RWin is getting pretty sweet.)

Regards,
Mike

__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Feb  7 23:20:55 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 7 Feb 2002 22:20:55 +0000 (GMT)
Subject: [R] R graphs in LaTeX documents?
In-Reply-To: <OFF95AA5B3.21900DD2-ONCA256B59.00776F40@syd.syn.com.au>
Message-ID: <Pine.LNX.4.31.0202072214410.28449-100000@gannet.stats>

On Fri, 8 Feb 2002 Michael_Nielsen/Syd/Synergy.SYNERGY at synergy.com.au wrote:

> I'll admit to being somewhat of a graphics meathead, but recently needed to
> put lots of R graphics into a report that I was typesetting with LaTeX
> (well, pdflatex on Linux).  I couldn't coerce pdflatex to use the eps
> graphics (it seems to be there has to be a way, but I was in too much of a

The only good way is to convert .eps to pdf (or, much worse, to png).
The best way to do that is Adobe Distiller, the second-best way epsftopdf,
a Perl script / Windows program calling ghostscript, preferably 6.0 or
later.  It is practically identical to what bitmap() does in R.

> hurry to try to find it), so I asked R to generate the graphics directly
> into PDF, and then included them into my LaTeX with an \includegraphics.
> To me, the result looked pretty good -- much better, in fact, than it did
> with either jpg or png output, although the poor result with jpg and png
> could well be because of my naive choices for the various settings of
> things required along the way.

That's typical for the sort of graphs one produces in R.

> Anyway, I am continually impressed with R's ability to produce good results
> in spite of my somewhat inelegant (ok, ham-fisted) approach.

I wrote the pdf() driver because it seemed a cleaner solution, and it was
an intellectual challenge.  From this thread it seems it has much more use
than I realized, which is nice to know.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Michael_Nielsen/Syd/Synergy.SYNERGY at synergy.com.au  Fri Feb  8 00:52:43 2002
From: Michael_Nielsen/Syd/Synergy.SYNERGY at synergy.com.au (Michael_Nielsen/Syd/Synergy.SYNERGY@synergy.com.au)
Date: Fri, 8 Feb 2002 10:52:43 +1100
Subject: [R] R graphs in LaTeX documents?
Message-ID: <OFC7D03D0A.0A258096-ONCA256B59.0082A96F@syd.syn.com.au>


I have no doubt it will be useful to many.

On behalf of all of us for whom the pdf() driver (and, indeed R itself) has
lightened the burden, thank you for your efforts!

Regards,

Mike


                                                                                                                                 
                    Prof Brian Ripley                                                                                            
                    <ripley at stats.ox.ac.        To:                                                                              
                    uk>                         Michael_Nielsen/Syd/Synergy.SYNERGY<Michael_Nielsen/Syd/Synergy.SYNERGY at synergy. 
                    Sent by:                    com.au>                                                                          
                    owner-r-help at stat.ma        cc:     "'r-help at lists.R-project.org'" <r-help at stat.math.ethz.ch>                
                    th.ethz.ch                  Subject:     Re: [R] R graphs in LaTeX documents?                                
                                                                                                                                 
                                                                                                                                 
                    08/02/2002 09:20 AM                                                                                          
                                                                                                                                 
                                                                                                                                 




On Fri, 8 Feb 2002 Michael_Nielsen/Syd/Synergy.SYNERGY at synergy.com.au
wrote:

> I'll admit to being somewhat of a graphics meathead, but recently needed
to
> put lots of R graphics into a report that I was typesetting with LaTeX
> (well, pdflatex on Linux).  I couldn't coerce pdflatex to use the eps
> graphics (it seems to be there has to be a way, but I was in too much of
a

The only good way is to convert .eps to pdf (or, much worse, to png).
The best way to do that is Adobe Distiller, the second-best way epsftopdf,
a Perl script / Windows program calling ghostscript, preferably 6.0 or
later.  It is practically identical to what bitmap() does in R.

> hurry to try to find it), so I asked R to generate the graphics directly
> into PDF, and then included them into my LaTeX with an \includegraphics.
> To me, the result looked pretty good -- much better, in fact, than it did
> with either jpg or png output, although the poor result with jpg and png
> could well be because of my naive choices for the various settings of
> things required along the way.

That's typical for the sort of graphs one produces in R.

> Anyway, I am continually impressed with R's ability to produce good
results
> in spite of my somewhat inelegant (ok, ham-fisted) approach.

I wrote the pdf() driver because it seemed a cleaner solution, and it was
an intellectual challenge.  From this thread it seems it has much more use
than I realized, which is nice to know.

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From loesljrg at accucom.net  Fri Feb  8 03:44:25 2002
From: loesljrg at accucom.net (JRG)
Date: Thu, 7 Feb 2002 21:44:25 -0500
Subject: [R] R graphs in LaTeX documents?
In-Reply-To: <Pine.LNX.4.31.0202072214410.28449-100000@gannet.stats>
References: <OFF95AA5B3.21900DD2-ONCA256B59.00776F40@syd.syn.com.au>
Message-ID: <B0004602535@netserv1.accucom.net>

On 7 Feb 02, at 22:20, Prof Brian Ripley wrote:

> On Fri, 8 Feb 2002 Michael_Nielsen/Syd/Synergy.SYNERGY at synergy.com.au wrote:
> 

	<<<SNIP>>>
> 
> That's typical for the sort of graphs one produces in R.
> 
> > Anyway, I am continually impressed with R's ability to produce good results
> > in spite of my somewhat inelegant (ok, ham-fisted) approach.
> 
> I wrote the pdf() driver because it seemed a cleaner solution, and it was
> an intellectual challenge.  From this thread it seems it has much more use
> than I realized, which is nice to know.
> 

I, for one, am extremely grateful for pdf(). Most of the graphics I 
produce with R end up in pdf and the pdf() driver has performed 
flawlessly.  Thank you. 

---JRG












John R. Gleason

Syracuse University
430 Huntington Hall                      Voice:   315-443-3107
Syracuse, NY 13244-2340  USA             FAX:     315-443-4085

PGP public key at keyservers
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From d.scott at auckland.ac.nz  Fri Feb  8 05:17:06 2002
From: d.scott at auckland.ac.nz (David Scott)
Date: Fri, 8 Feb 2002 17:17:06 +1300 (NZDT)
Subject: [R] BATCH versus pasting commands
Message-ID: <Pine.GSO.4.33.0202081647270.3870-100000@aitken.scitec.auckland.ac.nz>



I have a problem with trying to run a batch job. I am looping over a
number of variables in a dataframe, doing some plots and wilcoxon tests.
Then I restrict to a subset of the data, and do the same thing.

Because of missing data, some of the wilcoxon tests fall over, so I have
used try to get past them. Using R CMD BATCH, the job terminates with a
syntax error after the first loop is completed. If I just paste the whole
file into R, it runs through without a problem. I can break it up into two
command files and use a shell script, but I would welcome and
explanation of why I have the problem. Any other workarounds would
interest me too.

David Scott

> R.version
         _
platform sparc-sun-solaris2.8
arch     sparc
os       solaris2.8
system   sparc, solaris2.8
status
major    1
minor    4.0
year     2001
month    12
day      19
language R

_________________________________________________________________
David Scott     Department of Statistics
                Tamaki Campus
                The University of Auckland, PB 92019
                Auckland        NEW ZEALAND
Phone: +64 9 373 7599 ext 6830     Fax: +64 9 373 7000
Email:  d.scott at Auckland.ac.nz

President, New Zealand Statistical Association


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Feb  8 09:06:55 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 8 Feb 2002 08:06:55 +0000 (GMT Standard Time)
Subject: [R] BATCH versus pasting commands
In-Reply-To: <Pine.GSO.4.33.0202081647270.3870-100000@aitken.scitec.auckland.ac.nz>
Message-ID: <Pine.WNT.4.44.0202080801360.716-100000@tern.stats>

On Fri, 8 Feb 2002, David Scott wrote:

>
>
> I have a problem with trying to run a batch job. I am looping over a
> number of variables in a dataframe, doing some plots and wilcoxon tests.
> Then I restrict to a subset of the data, and do the same thing.
>
> Because of missing data, some of the wilcoxon tests fall over, so I have
> used try to get past them. Using R CMD BATCH, the job terminates with a
> syntax error after the first loop is completed. If I just paste the whole
> file into R, it runs through without a problem. I can break it up into two
> command files and use a shell script, but I would welcome and
> explanation of why I have the problem. Any other workarounds would
> interest me too.

The setting of error recovery is different under interactive and batch use.
R BATCH is batch use (of course) but so is R < infile.

To change that under batch use

1) Use options(error==expression(NULL)) to get continuation past errors,

or

2) wrap the test that might fail in a try() construct.

Option 2) is of course safer and so preferred.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From amaitour at pasteur.fr  Fri Feb  8 10:30:01 2002
From: amaitour at pasteur.fr (Aboubakar Maitournam)
Date: Fri, 08 Feb 2002 10:30:01 +0100
Subject: [R] Package permax and adjustment of P-value
Message-ID: <3C639A99.F719552E@pasteur.fr>

Dear all,

I have some questions relatively to the adjustment of
P values provided after the analysis by the
using the Permax package. These P values are calculated
by permutation method. But are they adjusted or not?
In the other part, I want to know if the West-Fall and Young
method for adjusting P values is somewhere in R.

Thanks you in advance.

Aboubakar Maitournam.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From W.Simpson at gcal.ac.uk  Fri Feb  8 10:40:25 2002
From: W.Simpson at gcal.ac.uk (Bill Simpson)
Date: Fri, 8 Feb 2002 09:40:25 +0000 (GMT)
Subject: [R] fit nonlinear model with groups
Message-ID: <Pine.LNX.4.10.10202080930230.5303-100000@localhost.localdomain>

I wanted to fit a nonlinear model using nls to two groups. Here is a toy
example.

library(nlme)
x<-rep(1:5,2)
cond<-c(rep("a",5),rep("b",5))
cond<-as.factor(cond)
y[cond=="a"]<-1/x +2
y[cond=="b"]<-2/x+3
df<-data.frame(x,y,cond)
fit<-nls(y~c(a1,b1)[cond]/x+c(a2,b2)[cond],data=df,
start=list(a1=1,b1=2,a2=2,b2=3))

I based above on an example posted by Bill Venables.

I get message:
maximum number of iterations exceeded
even if I reset maxiter using nls.control and even though I start the
params at the right place.

This example seems to work OK if I do
fit<-nls(y~c(a1,b1)[cond]/x+a2,data=df,
start=list(a1=1,b1=2,a2=2))
So maybe the trick using c()[cond] can be used only once per formula.

How to do it? Thanks for any help.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From i.mosqueira at ic.ac.uk  Fri Feb  8 12:26:43 2002
From: i.mosqueira at ic.ac.uk (iago mosqueira)
Date: Fri, 8 Feb 2002 11:26:43 -0000
Subject: [R] glm with four variables
Message-ID: <02c801c1b093$7c526420$0362c69b@th.ic.ac.uk>

Hi,

Sorry if this is a very basic question, but when I run this

glm(formula = loge ~ lat + ne + dep, family = gaussian)

summary shows the same formula but results only for the first two variables.
What am I doing wrong?

iago

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dechwang at yahoo.co.uk  Fri Feb  8 13:19:22 2002
From: dechwang at yahoo.co.uk (=?iso-8859-1?q?dechao=20wang?=)
Date: Fri, 8 Feb 2002 12:19:22 +0000 (GMT)
Subject: [R] something missing from the graph of recursive partitioning 
In-Reply-To: <Pine.LNX.4.31.0202070817020.27355-100000@gannet.stats>
Message-ID: <20020208121922.49584.qmail@web20608.mail.yahoo.com>

The following codes come from R example. I save its
graph as rpart.ps, but the graph did not display the
whole word, e.g. just display "bsent", not "absent" in
the most left. can you advise me how to solve it?

many thanks,

p.s, file rpart.ps is also attached.

library(rpart)
data(kyphosis)
fit <- rpart(Kyphosis ~ Age + Number + Start, data =
kyphosis)
fit2 <- rpart(Kyphosis ~ Age + Number + Start, data =
kyphosis, 
parms = list(prior = c(0.65, 0.35), split =
"information"))
postscript("rpart.ps", width=960, height=960)
par(mfrow = c(1, 2))
plot(fit)
text(fit, use.n = TRUE)
plot(fit2)
text(fit2, use.n = TRUE)
dev.off()

__________________________________________________

Everything you'll ever need on one web page
from News and Sport to Email and Music Charts
-------------- next part --------------
A non-text attachment was scrubbed...
Name: rpart.ps
Type: application/postscript
Size: 4116 bytes
Desc: rpart.ps
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020208/e8b9fbfe/rpart.ps

From ligges at statistik.uni-dortmund.de  Fri Feb  8 14:07:25 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 08 Feb 2002 14:07:25 +0100
Subject: [R] Problem with interaction.plot()
References: <CC1AF68C2B1C644DBC0B6087C3C81BC434FFDF@marge.ies.ad.ltu.se> <5.1.0.14.2.20020207122940.00a02ec0@pop.service.ohio-state.edu>
Message-ID: <3C63CD8D.D6411DA7@statistik.uni-dortmund.de>

Kaiya Liu wrote:
> 
> Hi,
> 
> I encountered a problem when I did interaction plots using the
> interaction.plot() function. The labels for the trace factor appeared on
> the plot when I did the plots in separate windows, but disappeared/cut off
> when multiple plots were placed in one window. Can anybody help me?

The calculation of the width of the legend is really difficult in that
case in goes wrong, because it is based on heuristics for a single plot.
I'll send a bug report in a few minutes.

As a workaround I'd suggest to use interaction.plot(..., legend=FALSE)
and add a legend with legend() manually.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Fri Feb  8 14:13:42 2002
From: plummer at iarc.fr (Martyn Plummer)
Date: Fri, 08 Feb 2002 14:13:42 +0100 (CET)
Subject: [R] glm with four variables
In-Reply-To: <02c801c1b093$7c526420$0362c69b@th.ic.ac.uk>
Message-ID: <XFMail.20020208141342.plummer@iarc.fr>

On 08-Feb-2002 iago mosqueira wrote:
> Hi,
> 
> Sorry if this is a very basic question, but when I run this
> 
> glm(formula = loge ~ lat + ne + dep, family = gaussian)
> 
> summary shows the same formula but results only for the first two variables.
> What am I doing wrong?

Probably dep is aliased: i.e. some linear combination of lat, ne and the
intercept equals dep for all values. A model with all four terms is, in
this case, unidentifiable so dep is dropped.  This appears to take place
silently.  It might be more useful to issue a warning.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From i.mosqueira at ic.ac.uk  Fri Feb  8 14:17:51 2002
From: i.mosqueira at ic.ac.uk (iago mosqueira)
Date: Fri, 8 Feb 2002 13:17:51 -0000
Subject: [R] glm with four variables
References: <XFMail.20020208141342.plummer@iarc.fr>
Message-ID: <033e01c1b0a3$02e25630$0362c69b@th.ic.ac.uk>

Hi,

Yes, it appears R thinks that is the case. lm() complains of singularities.
I have a total of four variables (dep,lat,ne and date) and Matlab tells me
none of them is singular, and the rank of the combined matrix is 4, so they
don't appear to be correlated. Is there any way I can avoid this? Or does it
simply indicate two variables will be enough here?


Thanks

iago

----- Original Message -----
From: "Martyn Plummer" <plummer at iarc.fr>
To: "iago mosqueira" <i.mosqueira at ic.ac.uk>
Cc: "R-help" <r-help at stat.math.ethz.ch>
Sent: 08 February 2002 13:13
Subject: RE: [R] glm with four variables


> On 08-Feb-2002 iago mosqueira wrote:
> > Hi,
> >
> > Sorry if this is a very basic question, but when I run this
> >
> > glm(formula = loge ~ lat + ne + dep, family = gaussian)
> >
> > summary shows the same formula but results only for the first two
variables.
> > What am I doing wrong?
>
> Probably dep is aliased: i.e. some linear combination of lat, ne and the
> intercept equals dep for all values. A model with all four terms is, in
> this case, unidentifiable so dep is dropped.  This appears to take place
> silently.  It might be more useful to issue a warning.
>
> Martyn

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kutinskyv at obninsk.com  Fri Feb  8 17:21:08 2002
From: kutinskyv at obninsk.com (Vladimir N. Kutinsky)
Date: Fri, 08 Feb 2002 16:21:08 +0000
Subject: [R] something missing from the graph of recursive partitioning
References: <20020208121922.49584.qmail@web20608.mail.yahoo.com>
Message-ID: <3C63FAF4.96ED7D42@obninsk.com>

Hi,

Try to enlarge the width and height in postscript command ("rpart.ps",
width=..., height=...)

Vlad

dechao wang wrote:

> The following codes come from R example. I save its
> graph as rpart.ps, but the graph did not display the
> whole word, e.g. just display "bsent", not "absent" in
> the most left. can you advise me how to solve it?
>
> many thanks,
>
> p.s, file rpart.ps is also attached.
>
> library(rpart)
> data(kyphosis)
> fit <- rpart(Kyphosis ~ Age + Number + Start, data =
> kyphosis)
> fit2 <- rpart(Kyphosis ~ Age + Number + Start, data =
> kyphosis,
> parms = list(prior = c(0.65, 0.35), split =
> "information"))
> postscript("rpart.ps", width=960, height=960)
> par(mfrow = c(1, 2))
> plot(fit)
> text(fit, use.n = TRUE)
> plot(fit2)
> text(fit2, use.n = TRUE)
> dev.off()
>
> __________________________________________________
>
> Everything you'll ever need on one web page
> from News and Sport to Email and Music Charts
>
>   ------------------------------------------------------------------------
>                   Name: rpart.ps
>    rpart.ps       Type: Postscript Document (application/postscript)
>               Encoding: base64
>            Description: rpart.ps

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Fri Feb  8 14:29:40 2002
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 08 Feb 2002 08:29:40 -0500
Subject: [R] glm with four variables
In-Reply-To: <02c801c1b093$7c526420$0362c69b@th.ic.ac.uk>
Message-ID: <5.1.0.14.2.20020208082545.01d8a5c8@mcmail.cis.mcmaster.ca>

Dear Iago,

At 11:26 AM 2/8/2002 +0000, iago mosqueira wrote:

>Sorry if this is a very basic question, but when I run this
>
>glm(formula = loge ~ lat + ne + dep, family = gaussian)
>
>summary shows the same formula but results only for the first two variables.
>What am I doing wrong?

It's hard to know the source of your problem without some more details, but 
a good guess is that dep is perfectly collinear with lat and ne. In this 
case, printing the model will give NA for the coefficient of dep, but 
summary will suppress the coefficient.

More generally, one would normally use lm rather than glm to fit a linear 
model. This would produce the same result, but the summary method for lm 
warns of collinearity.

I hope that this helps,
  John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.meyer at ci.tuwien.ac.at  Fri Feb  8 14:32:12 2002
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Fri, 08 Feb 2002 14:32:12 +0100
Subject: [R] glm with four variables
References: <XFMail.20020208141342.plummer@iarc.fr> <033e01c1b0a3$02e25630$0362c69b@th.ic.ac.uk>
Message-ID: <3C63D35C.36D482A4@ci.tuwien.ac.at>

iago mosqueira wrote:
> 
> Hi,
> 
> Yes, it appears R thinks that is the case. lm() complains of singularities.
> I have a total of four variables (dep,lat,ne and date) and Matlab tells me
> none of them is singular, and the rank of the combined matrix is 4, so they
> don't appear to be correlated.

Did you include the intercept term (vector of ones) for your
rank-checking?


 Is there any way I can avoid this? Or does it
> simply indicate two variables will be enough here?
> 
> Thanks
> 
> iago
> 
> ----- Original Message -----
> From: "Martyn Plummer" <plummer at iarc.fr>
> To: "iago mosqueira" <i.mosqueira at ic.ac.uk>
> Cc: "R-help" <r-help at stat.math.ethz.ch>
> Sent: 08 February 2002 13:13
> Subject: RE: [R] glm with four variables
> 
> > On 08-Feb-2002 iago mosqueira wrote:
> > > Hi,
> > >
> > > Sorry if this is a very basic question, but when I run this
> > >
> > > glm(formula = loge ~ lat + ne + dep, family = gaussian)
> > >
> > > summary shows the same formula but results only for the first two
> variables.
> > > What am I doing wrong?
> >
> > Probably dep is aliased: i.e. some linear combination of lat, ne and the
> > intercept equals dep for all values. A model with all four terms is, in
> > this case, unidentifiable so dep is dropped.  This appears to take place
> > silently.  It might be more useful to issue a warning.
> >
> > Martyn
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
       Department for			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Feb  8 14:35:09 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 8 Feb 2002 13:35:09 +0000 (GMT)
Subject: [R] glm with four variables
In-Reply-To: <033e01c1b0a3$02e25630$0362c69b@th.ic.ac.uk>
Message-ID: <Pine.LNX.4.31.0202081330300.2328-100000@gannet.stats>

On Fri, 8 Feb 2002, iago mosqueira wrote:

> Hi,
>
> Yes, it appears R thinks that is the case. lm() complains of singularities.

Ah well, since you are fitting a linear model why not use lm?

> I have a total of four variables (dep,lat,ne and date) and Matlab tells me
> none of them is singular, and the rank of the combined matrix is 4, so they
> don't appear to be correlated. Is there any way I can avoid this? Or does it
> simply indicate two variables will be enough here?

You only used three variables (despite your subject), and it's the design
matrix that is singular.  That has a constant column and expands out any
factors.

R has an alias function to show you what is aliased in a linear model.

I suggest you take some advice on regression from a local expert.

>
> Thanks
>
> iago
>
> ----- Original Message -----
> From: "Martyn Plummer" <plummer at iarc.fr>
> To: "iago mosqueira" <i.mosqueira at ic.ac.uk>
> Cc: "R-help" <r-help at stat.math.ethz.ch>
> Sent: 08 February 2002 13:13
> Subject: RE: [R] glm with four variables
>
>
> > On 08-Feb-2002 iago mosqueira wrote:
> > > Hi,
> > >
> > > Sorry if this is a very basic question, but when I run this
> > >
> > > glm(formula = loge ~ lat + ne + dep, family = gaussian)
> > >
> > > summary shows the same formula but results only for the first two
> variables.
> > > What am I doing wrong?
> >
> > Probably dep is aliased: i.e. some linear combination of lat, ne and the
> > intercept equals dep for all values. A model with all four terms is, in
> > this case, unidentifiable so dep is dropped.  This appears to take place
> > silently.  It might be more useful to issue a warning.
> >
> > Martyn
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Fri Feb  8 15:26:20 2002
From: chong at stat.purdue.edu (Chong Gu)
Date: Fri, 8 Feb 2002 09:26:20 -0500
Subject: [R] bugs or imperfect implementation?
Message-ID: <200202081426.JAA139412@odds.stat.purdue.edu>


I am using R to teach, and here are a couple of things that I thought
would work didn't work.

1. I noticed the utility data(***,package=***) recently and like it
very much, but unless I type in the whole word "package" I'll get an
error in 1.4.0.  For example, data(cats,package=MASS) works fine but
data(cats,pac=MASS) doesn't.

2. drop1 doesn't seem to be as smart as before.  In the sequence
below, drop1 didn't produce what I expected it to produce.

    data(HairEyeColor); lab<-dimnames(HairEyeColor)
    HairEye<-cbind(expand.grid(Hair=lab$Hair,Eye=lab$Eye,
        Sex=lab$Sex),Fr=as.vector(HairEyeColor))
    HairEye.fit<-glm(Fr~.^2,poisson,HairEye)
    drop1(HairEye.fit)

The following sequence however works.

    HairEye.fit<-glm(Fr~(Hair+Eye+Sex)^2,poisson,HairEye)
    drop1(HairEye.fit)

Chong Gu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Fri Feb  8 15:31:51 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 08 Feb 2002 08:31:51 -0600
Subject: [R] fit nonlinear model with groups
In-Reply-To: <Pine.LNX.4.10.10202080930230.5303-100000@localhost.localdomain>
References: <Pine.LNX.4.10.10202080930230.5303-100000@localhost.localdomain>
Message-ID: <6ry9i4kpt4.fsf@franz.stat.wisc.edu>

Bill Simpson <W.Simpson at gcal.ac.uk> writes:

> I wanted to fit a nonlinear model using nls to two groups. Here is a toy
> example.
> 
> library(nlme)
> x<-rep(1:5,2)
> cond<-c(rep("a",5),rep("b",5))
> cond<-as.factor(cond)
> y[cond=="a"]<-1/x +2
> y[cond=="b"]<-2/x+3
> df<-data.frame(x,y,cond)
> fit<-nls(y~c(a1,b1)[cond]/x+c(a2,b2)[cond],data=df,
> start=list(a1=1,b1=2,a2=2,b2=3))
> 
> I based above on an example posted by Bill Venables.
> 
> I get message:
> maximum number of iterations exceeded
> even if I reset maxiter using nls.control and even though I start the
> params at the right place.
> 
> This example seems to work OK if I do
> fit<-nls(y~c(a1,b1)[cond]/x+a2,data=df,
> start=list(a1=1,b1=2,a2=2))
> So maybe the trick using c()[cond] can be used only once per formula.
> 
> How to do it? Thanks for any help.

In a situation like this the first thing to do is to add the optional
argument trace = TRUE to the call to nls.  This provides some
information on the progress of the iterations.

Doing that will probably show that the iterations are at the right
place but the convergence criterion is not below the threshhold.  The
reason is that the convergence criterion is a relative criterion that
compares the expected change in the sum-of-squares at the next step to
the current residual sum-of-squares.

*When the data are simulated without any random noise* this takes the
form of (round-off error 1)/(round-off error 2).

Just add some random noise to y and you should be ok.

And no I don't regard this as a bug in nls, I regard it as a bug in
the simulation.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Fri Feb  8 15:34:52 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Fri, 08 Feb 2002 09:34:52 -0500
Subject: [R] question about F77_NAME()
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC858A@usrymx10.merck.com>

Dear R-help,

Sorry if this is way obvious.  (It just wasn't for me...)

Do all parameters passed to Fortran routines from C need to be declared as
pointers?  In various header files (e.g., Linpack.h), that seems to be the
case.

Also, what type should I declare in front of F77_NAME() for a subroutine?
void?

Thanks for any help!

Regards,
Andy


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Feb  8 15:51:41 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Feb 2002 15:51:41 +0100
Subject: [R] bugs or imperfect implementation?
In-Reply-To: <200202081426.JAA139412@odds.stat.purdue.edu>
References: <200202081426.JAA139412@odds.stat.purdue.edu>
Message-ID: <x2bsf0do1u.fsf@blueberry.kubism.ku.dk>

Chong Gu <chong at stat.purdue.edu> writes:

> I am using R to teach, and here are a couple of things that I thought
> would work didn't work.
> 
> 1. I noticed the utility data(***,package=***) recently and like it
> very much, but unless I type in the whole word "package" I'll get an
> error in 1.4.0.  For example, data(cats,package=MASS) works fine but
> data(cats,pac=MASS) doesn't.

This happens every time an argument follows a "..." argument. This is
by design. The need for this is not too obvious in the case of data(),
but consider c(x=4,r=7) with the "r" matching "recursive"...  

> 
> 2. drop1 doesn't seem to be as smart as before.  In the sequence
> below, drop1 didn't produce what I expected it to produce.
> 
>     data(HairEyeColor); lab<-dimnames(HairEyeColor)
>     HairEye<-cbind(expand.grid(Hair=lab$Hair,Eye=lab$Eye,
>         Sex=lab$Sex),Fr=as.vector(HairEyeColor))
>     HairEye.fit<-glm(Fr~.^2,poisson,HairEye)
>     drop1(HairEye.fit)

This does look wrong.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Feb  8 16:06:00 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 8 Feb 2002 15:06:00 +0000 (GMT)
Subject: [R] question about F77_NAME()
In-Reply-To: <51F9C42DA15CD311BD220008C707D81903DC858A@usrymx10.merck.com>
Message-ID: <Pine.GSO.4.44.0202081504310.6057-100000@auk.stats>

On Fri, 8 Feb 2002, Liaw, Andy wrote:

> Dear R-help,
>
> Sorry if this is way obvious.  (It just wasn't for me...)
>
> Do all parameters passed to Fortran routines from C need to be declared as
> pointers?  In various header files (e.g., Linpack.h), that seems to be the
> case.

Yes. Fortran passes by reference.

> Also, what type should I declare in front of F77_NAME() for a subroutine?
> void?

Yes.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rab at nauticom.net  Fri Feb  8 16:30:50 2002
From: rab at nauticom.net (Rick)
Date: Fri, 08 Feb 2002 10:30:50 -0500
Subject: [R] Re: [S] Problem with Merge
References: <sc629e03.041@NBICT> <3C62AF3D.286E5EBE@nauticom.net> <p0510141fb888b48d99f9@[128.115.153.6]>
Message-ID: <3C63EF2A.100240EB@nauticom.net>

Don,

I had meant this for r-help, but it probably is the same in S.

The last time I tried to use rbind in R, it screwed up the data frame if
the data frame contained dates or character vectors. Apparently that has
been changed. Although there is still no reason why merge should not work
in the case where all vectors are in common. It's an uncessary restriction
which isn't even mentioned in the function information as far as I can
see.

Rick Bilonick

Don MacQueen wrote:

> A side-by-side, or relational, merge of two data frames with exactly
> the same set of variables doesn't make any sense. Perhaps you wanted
> an end-to-end concatenation of them, that is, have a new data frame
> with the same variables and all the rows from both. For that, use
> rbind().
> In your example, rbind(xa[,1:2],xb[,1:2])
>
> -Don
>
> >I want to merge two data frames that have the same set of variable
> >names. The docs on merge don't say this isn't possible but it
> >doesn't appear to be possible.
> >
> >>  xa
> >   a  b c1
> >1 1 10  1
> >2 2 11  2
> >3 3 12  3
> >>  xb
> >   a  b c2
> >1 3 12  1
> >2 4 14  2
> >3 5 15  3
> >4 6 16  5
> >>  merge(xa,xb,all=T)
> >   a  b c1 c2
> >1 1 10  1 NA
> >2 2 11  2 NA
> >3 3 12  3  1
> >4 4 14 NA  2
> >5 5 15 NA  3
> >6 6 16 NA  5
> >>  merge(xa[,1:2],xb[,1:2],all=T)  # Only the identical vector names
> >Error in "names<-.default"(*tmp*, value = vnames) :
> >  names attribute must be the same length as the vector
> >>merge(xa,xb[,1:2],all=T) # Only one data frame has a nonmatching name
> >Error: attempt to select less than one element
> >>
> >
> >It appears that for merge to work, there must be at least one
> >variable in each data frame that does not match. So in order to
> >merge two data frames with the same set of
> >names (something that would seem to be frequently needed), you have
> >to add one dummy vector with different names to each data frame.
> >
> >The docs for merge say that if you don't specify a "by" variable,
> >all variables in common are used. I don't see it mentioned that you
> >can't have all variables in
> >common.
> >
> >Rick Bilonick
> >
> >--------------------------------------------------------------------
> >This message was distributed by s-news at lists.biostat.wustl.edu.  To
  .................
  .................
>
> --
> --------------------------------------
> Don MacQueen
> Environmental Protection Department
> Lawrence Livermore National Laboratory
> Livermore, CA, USA
> --------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Feb  8 16:21:27 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 8 Feb 2002 15:21:27 +0000 (GMT)
Subject: [R] bugs or imperfect implementation?
In-Reply-To: <200202081426.JAA139412@odds.stat.purdue.edu>
Message-ID: <Pine.GSO.4.44.0202081509520.6057-100000@auk.stats>

On Fri, 8 Feb 2002, Chong Gu wrote:

>
> I am using R to teach, and here are a couple of things that I thought
> would work didn't work.
>
> 1. I noticed the utility data(***,package=***) recently and like it
> very much, but unless I type in the whole word "package" I'll get an
> error in 1.4.0.  For example, data(cats,package=MASS) works fine but
> data(cats,pac=MASS) doesn't.
>
> 2. drop1 doesn't seem to be as smart as before.  In the sequence
> below, drop1 didn't produce what I expected it to produce.
>
>     data(HairEyeColor); lab<-dimnames(HairEyeColor)
>     HairEye<-cbind(expand.grid(Hair=lab$Hair,Eye=lab$Eye,
>         Sex=lab$Sex),Fr=as.vector(HairEyeColor))
>     HairEye.fit<-glm(Fr~.^2,poisson,HairEye)
>     drop1(HairEye.fit)
>
> The following sequence however works.
>
>     HairEye.fit<-glm(Fr~(Hair+Eye+Sex)^2,poisson,HairEye)
>     drop1(HairEye.fit)

It's not a change in drop1, though, where the basis of this (drop.scope) is
unchanged since 1999.  I suspect a side effect of changes in the
formula/terms handling.  Do you know when it did work?


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From steinep at uni-muenster.de  Fri Feb  8 17:10:05 2002
From: steinep at uni-muenster.de (Petra Steiner)
Date: Fri, 8 Feb 2002 17:10:05 +0100
Subject: [R] Packages mva or multiv: How to stretch dendrograms?
Message-ID: <002601c1b0bb$135b2d80$a414b080@oemcomputer>

Hello everybody,

is there a possibility to stretch a hclust (or hierclust)-tree by plot,
let`s say to double width, so that the names of the nodes are readable and
that I might print it on two a4-pages?
At the moment I use
plot(hc, cex=0.6, hang=0, sub="", xlab="", ylab="" ...)
plot.dendrogram does not work due to the highly nested structure of my
result.

Many thanks for your hints and advice,
Petra Steiner

-
---------------------------------------------------
Petra Steiner
Arbeitsbereich Linguistik
Universitaet Muenster
Huefferstrasse 27
48149  Muenster

Tel: 0251 / 83 39442
petra at marley.uni-muenster.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.schulz at metafacts.de  Fri Feb  8 17:26:04 2002
From: c.schulz at metafacts.de (Christian Schulz)
Date: Fri, 08 Feb 2002 17:26:04 +0100
Subject: [R] Probblems with loading the tcltk library
References: <Pine.WNT.4.44.0202071608050.476-100000@gannet>
Message-ID: <3C63FC1C.8040305@metafacts.de>

>
>
>>>
>>I have got the same problems, but use this :
>>Sys.putenv("TCL_LIBRARY"="c:/Tcl/lib/tcl83")
>>where my TCL/TK  is installed and  set in my win2000  the same folder to
>>the path row !?
>>
>
>That's not the value suggested in the README and rw-FAQ: it ends tcl8.3.
>
...i do this  tcl83, because in my tcl/lib folder is only the tcl83.lib, 
but when i change it like
your suggestion  - it works !

Many  Thanks, Christian Schulz
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020208/684ee886/attachment.html

From chong at stat.purdue.edu  Fri Feb  8 17:51:41 2002
From: chong at stat.purdue.edu (Chong Gu)
Date: Fri, 8 Feb 2002 11:51:41 -0500
Subject: [R] bugs or imperfect implementation?
In-Reply-To: <Pine.GSO.4.44.0202081509520.6057-100000@auk.stats> (message from
	Prof Brian D Ripley on Fri, 8 Feb 2002 15:21:27 +0000 (GMT))
Message-ID: <200202081651.LAA103058@odds.stat.purdue.edu>


   Date: Fri, 8 Feb 2002 15:21:27 +0000 (GMT)
   From: Prof Brian D Ripley <ripley at stats.ox.ac.uk>
   Sender: ripley at auk.stats
   cc: r-help at stat.math.ethz.ch
   MIME-Version: 1.0
   Content-Type: TEXT/PLAIN; charset=US-ASCII

   On Fri, 8 Feb 2002, Chong Gu wrote:

   >
   > I am using R to teach, and here are a couple of things that I thought
   > would work didn't work.
   >
   > 1. I noticed the utility data(***,package=***) recently and like it
   > very much, but unless I type in the whole word "package" I'll get an
   > error in 1.4.0.  For example, data(cats,package=MASS) works fine but
   > data(cats,pac=MASS) doesn't.
   >
   > 2. drop1 doesn't seem to be as smart as before.  In the sequence
   > below, drop1 didn't produce what I expected it to produce.
   >
   >     data(HairEyeColor); lab<-dimnames(HairEyeColor)
   >     HairEye<-cbind(expand.grid(Hair=lab$Hair,Eye=lab$Eye,
   >         Sex=lab$Sex),Fr=as.vector(HairEyeColor))
   >     HairEye.fit<-glm(Fr~.^2,poisson,HairEye)
   >     drop1(HairEye.fit)
   >
   > The following sequence however works.
   >
   >     HairEye.fit<-glm(Fr~(Hair+Eye+Sex)^2,poisson,HairEye)
   >     drop1(HairEye.fit)

   It's not a change in drop1, though, where the basis of this (drop.scope) is
   unchanged since 1999.  I suspect a side effect of changes in the
   formula/terms handling.  Do you know when it did work?


   -- 
   Brian D. Ripley,                  ripley at stats.ox.ac.uk
   Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
   University of Oxford,             Tel:  +44 1865 272861 (self)
   1 South Parks Road,                     +44 1865 272860 (secr)
   Oxford OX1 3TG, UK                Fax:  +44 1865 272595


I used the same notes last year this time and it should have worked
then, and the version might be 1.2.0 or 1.2.2, in case they had been
released then.  We upgraded from 1.2.2 to 1.4.0 on our AIX server in
early January this year.

Chong Gu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MagillB at usa.redcross.org  Fri Feb  8 17:42:52 2002
From: MagillB at usa.redcross.org (Magill, Brett)
Date: Fri, 8 Feb 2002 11:42:52 -0500 
Subject: [R] Managing Data
Message-ID: <AC09DC4F4DFCD211A83C00805FE6138D051E08AB@nhqjpk1ex2.bionet.org>

Hello everyone,

Can someone point me to some resources on managing data in R and/or S-plus?

I have started using R more and more often in my work and I really like it.
But, managing data is very different in R and S-Plus than in other packages
that I am accustomed to.  I know that it is an option to use different
workspaces for different projects or to store all objects as source and read
them in each session.  

I am looking for an overview of these data management options and tips /
suggestions for handling multiple R projects efficiently.  I have learned a
lot through trial and error, but I am sure there are some better options.

I want to avoid doing silly things like overwriting a local object by
running a piece of example code that happens to have the same variable name!
I looked in R-intro, but the information there is pretty basic.  Any ideas?

Thanks,

Brett Magill

magillb at usa.redcross.org
Research and Program Development
Health, Safety, and Community Services
American National Red Cross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From matthew_wiener at merck.com  Fri Feb  8 18:55:08 2002
From: matthew_wiener at merck.com (Wiener, Matthew)
Date: Fri, 08 Feb 2002 12:55:08 -0500
Subject: [R] packages for extracting subtrees
Message-ID: <7C4F091F6140D411A29300508B5C73B906D71E8C@usrymx04.merck.com>

Hi.  I did write those functions, and sent them (I thought) to one of the R
maintainers to see whether they would be appropriate for inclusion (because
I'd seen some requests on the mailing lists). 

However, I'm happy to post them -- I should have thought of it before.

WARNING:  I've tested these functions on some data arising in my work and
also on the USArrests data that comes with R, and they worked for me.
However, I make no guarantee that they will work for you, and neither Merck
(my employer) nor I will be responsible for anything bad that happens to you
if you use them.  (This is repeated in the main function.)

That said, I'd be happy to get suggestions for improvements (including any
examples that it breaks down on).

Regards,

Matthew Wiener
Applied Computer Science and Mathematics Department
Merck Research Labs
Rahway, NJ  07065-0900
732-594-5303


-----------------------------------------

First the two functions:  f.get.subtrees is really just a shell to loop
through f.make.subtree.  (After the functions there's a .Rd file.)


"f.get.subtrees" <-
function(tree, k = NULL, h = NULL,
           add.element = NULL){
    ## tree is a tree, k and h are as in cutree.
    ## additional elements is the name of any additional info
    ## connected with tree nodes.  The additional elements referred
    ## to should have the same length as tree$labels.
    ##
    groups <- cutree(tree, k, h)
    subtrees <- list()
    for(i in 1:length(unique(groups))){
      subtrees[[i]] <- f.make.subtree(tree, groups, i,
                                      add.element = add.element)
    }
    subtrees
  }

"f.make.subtree" <-
function(tree, groups, n = 1, add.element = NULL){
    ##
    ##  (Required legal stuff)
    ##  Copyright:  Matthew Wiener 
    ##		    Applied Computer Science & Mathematics Dept.
    ##		    Merck Research Labs
    ##		    Rahway, NJ 07090  USA
    ##
    ##  This program is free software; you can redistribute it and/or modify
    ## it under the terms of the GNU General Public License as published by
    ## the Free Software Foundation; either version 2 of the License, or
    ## (at your option) any later version.
    ##
    ## This program is distributed in the hope that it will be useful,
    ## but WITHOUT ANY WARRANTY; without even the implied warranty of
    ## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    ## GNU General Public License for more details.
    ##
    ##  
    ## #####################################################################
    ##
    ##  Now here's the program itself.
    ##
    ## this function can be called by f.get.subtrees, in which
    ## case the groups will be defined using cutree.
    ##
    ## which nodes are in the subtree?
    which.nodes <- which(groups == n)
    names(which.nodes) <- NULL
    ## get the order elements for those labels that are in
    ## the subtree
    subtree.labels <- tree$labels[which.nodes]
    subtree.order <- tree$order[tree$labels[tree$order] %in% subtree.labels]
    ## Figure out which rows of the merge tree
    ## are going to need to be included:  first find out which
    ## rows contain leaves in the group (leaves indicated by
    ## negative numbers), then get the associated rows
    which.merge.elements <- which(-tree$merge %in% which.nodes)
    which.merge.rows <- sort(unique(which.merge.elements %%
nrow(tree$merge)))
    ## if the last row is in there, it will show up as 0
    ## needs to be changed to number of rows
    which.merge.rows[which.merge.rows == 0] <- nrow(tree$merge)

    ## now collect rows referred to be the rows you've got
    ## until there's nothing more to get
    old.length <- 0
    new.length <- length(which.merge.rows)
    ## trap the condition with only one row
    if(length(which.merge.elements) == 1){
      res <- list(merge = NULL,
                  heights = tree$height[which.merge.rows],
                  order = 1,
                  labels = subtree.labels,
                  method = tree$method,
                  call = tree$call,
                  dist.method = tree$dist.method)
    }
    else{
      while(new.length - old.length > 0){
        old.length <- new.length
        ## get new rows
        ## we need any row in which a row we've already got is referred to
        new.rows <- numeric(0)
        more.new.rows <- numeric(0)
        row.elements <- as.vector(tree$merge[which.merge.rows,])
        pos.elements <- row.elements[row.elements > 0]
        ## need rows we refer to
        ## as long as they involve an element we're keeping
        if(length(pos.elements) > 0)
          new.rows <-
            pos.elements[apply(tree$merge[pos.elements,, drop = F], 1,
                               function(x){
                                 any(x > 0) &
                                 all(-x[x<0] %in% which.nodes)})]
        ## also need the ones referring to rows we already have
        more.new.rows <-
          which(apply(tree$merge, 1,
                      function(x){all(x %in% which.merge.rows)}))
        which.merge.rows <-
          sort(unique(c(which.merge.rows, new.rows, more.new.rows)))
        new.length <- length(which.merge.rows)
      }
      merge.list <- tree$merge[which.merge.rows,,drop = F]
      merge.height <- tree$height[which.merge.rows]
      ## fix references -- row numbers need to change
      pos.elements <- sort(merge.list[merge.list > 0])
      
      for(i in seq(along = pos.elements))
        merge.list[merge.list == pos.elements[i]] <-
          which(pos.elements[i] == which.merge.rows)
      
      ## fix references -- element numbers need to change
      neg.elements <- merge.list[merge.list < 0]
      minus.neg.elements <- -neg.elements
      num.elements <- length(neg.elements)
      ## change.table is the dictionary for changes
      change.table <- cbind(sort(minus.neg.elements), 1:num.elements)
      ## apply the dictionary
      for(i in 1:num.elements){
        merge.list[merge.list== -change.table[i,1]] <- -change.table[i,2]
      }
      old.order <- subtree.order
      subtree.order <- match(tree$labels[old.order],
                             subtree.labels)
      res <- list(merge = merge.list,
                  height = merge.height,
                  order = subtree.order,
                  labels = subtree.labels,
                  method = tree$method,
                  call = list(match.call(), tree$call),
                  dist.method = tree$dist.method)
      class(res) <- "hclust"
      ## if any additional elements specified, get them too
      for(i in seq(along = add.element)){
        res[[add.element[i]]] <-
          tree[[add.element[i]]][which.nodes]

      }
    }
    res
  }

----------------------------------------------------------------------------
--

Here's the .Rd file.  It compiled OK for me.

\name{Subtree extraction for hclust trees}
\alias{f.get.subtrees}
\alias(f.make.subtree}
\title{Extract hclust Subtrees}
\description{Extract subtrees from an "hclust"-class tree object.}
\usage{
f.get.subtrees(tree, k = NULL, h = NULL, add.element = NULL)
f.make.subtree(tree, groups, n = 1, add.element = NULL)
}
\arguments{
  \item{tree}{a tree object with class "hclust"}
  \item{k}{The number of groups desired (as in \code{cutree})}
  \item{h}{The height at which tree should be cut (as in \code{cutree})}
  \item{groups}{A vector of subgroup memberships.  This should be the
    same length as \code{tree$label}, that is, one element for each leaf
  of the tree.  Can be created by \code{cutree}.}
  \item{n}{Index of subgroup for the subtree to be created}
  \item{add.element}{A vector of element names for any elements added to
    the tree}
}
\value{
  an hclust-class tree object representing a single subtree
  (f.make.subtree) or a list of such objects (f.get.subtrees).  
}
\details{
}
\references{
}
\seealso{
  \code{\link[mva]{hclust}}, \code{\link[mva]{cutree}}
}
\examples{
data(USArrests)
t1 <- hclust(dist(USArrests))
t2 <- f.get.subtrees(t1, k = 3)    # a list with 3 subtrees
plot(t2[[1]])                      # plot the first subtree
t3 <- f.get.subtrees(t1, h = 125)  # same as t2
}
\author{Matthew Wiener}
\email{Matthew_Wiener at merck.com}
\keyword{}


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Fri Feb  8 19:02:59 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Fri, 8 Feb 2002 13:02:59 -0500
Subject: [R] Managing Data
In-Reply-To: <AC09DC4F4DFCD211A83C00805FE6138D051E08AB@nhqjpk1ex2.bionet.org>
References: <AC09DC4F4DFCD211A83C00805FE6138D051E08AB@nhqjpk1ex2.bionet.org>
Message-ID: <20020208130259.7da335c0.fharrell@virginia.edu>

See the section "Operating in S" in
http://hesweb1.med.virginia.edu/biostat/s/doc/splus.pdf

Frank Harrell

On Fri, 8 Feb 2002 11:42:52 -0500 
"Magill, Brett" <MagillB at usa.redcross.org> wrote:

> Hello everyone,
> 
> Can someone point me to some resources on managing data in R and/or S-plus?
> 
> I have started using R more and more often in my work and I really like it.
> But, managing data is very different in R and S-Plus than in other packages
> that I am accustomed to.  I know that it is an option to use different
> workspaces for different projects or to store all objects as source and read
> them in each session.  
> 
> I am looking for an overview of these data management options and tips /
> suggestions for handling multiple R projects efficiently.  I have learned a
> lot through trial and error, but I am sure there are some better options.
> 
> I want to avoid doing silly things like overwriting a local object by
> running a piece of example code that happens to have the same variable name!
> I looked in R-intro, but the information there is pretty basic.  Any ideas?
> 
> Thanks,
> 
> Brett Magill
> 
> magillb at usa.redcross.org
> Research and Program Development
> Health, Safety, and Community Services
> American National Red Cross
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Fri Feb  8 19:26:16 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Fri, 8 Feb 2002 13:26:16 -0500 (EST)
Subject: [R] Managing Data
Message-ID: <200202081826.g18IQG800194@cattell.psych.upenn.edu>

It is hard to know what kind of projects you have, but one
approach, among many, is outlined in the beginning of
http://www.psych.upenn.edu/~baron/rpsych.htm
It involves keeping raw data in separate files, each with
a name (supposedly a useful mnemonic), such as cba1.data,
and scripts in other separate files, such as cba1.R.  The
script cba1.R has something like
read.table("cba1.data")
as its first line, and it contains all the useful transformations
and analyses (some commented out) discovered so far.  I do not
use the files that R stores at all.  Rather, I edit the ..R file
with ESS (which allows me to go back and forth to R itself).

As I say, this is one approach among many.  I think R has many
tools that can help develop alternative approaches, such as
setwd() for changing directories.

For editing data I use (X)emacs, but you could also use a
spreadsheet, or something fancier, or R itself, with the
write() command for saving what you've edited.

Jon Baron
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From trafton at itd.nrl.navy.mil  Fri Feb  8 21:02:34 2002
From: trafton at itd.nrl.navy.mil (Greg Trafton)
Date: 08 Feb 2002 15:02:34 -0500
Subject: [R] looping through lists...
Message-ID: <m3lme3eo85.fsf@viz.itd.nrl.navy.mil>

Hi, all.  I have a whole group of lists with things like this:

nw.1$cond (a string)
nw.1$RL (a vector of 10 values)
nw.1$IL (a vector of 10 values)

and I have lots of these lists:
nw.201
nw.202
nw.203
...

what I'd like to do is be able to get specific values from all these
lists (like the mean of $RL) for each indivividual list.  I can
certainly do this manually
mean(c(nw.201.1$RL,nw.204.1$RL,nw.206.1$RL)) to get the overall mean
or write some simple code to return a vector of means:
[1] 15.630  2.713 18.811
(the problem with my current function is that I have to hard code the
individual list names which is what I'm trying to avoid).

but what I'd rather do is have a list of lists that I can then cycle
through to get the individual values for.  mostly, I just don't want
to have to type in the (nw.201.1$RL,nw.204.1$RL,nw.206.1$RL) every
time I want the values.  I tried
nw.1 <- c(nw.201.1,nw.204.1,nw.206.1)

but that did not preserve the individual list structure I needed.

and of course I use more than just RL, so I want to be able to
arbitrarily get information from each list.

ideally, I'd like to be able to do something like this:

getmean(nw.1, "RL")
[1] 15.630  2.713 18.811

any suggestions on how to cycle through lists or assign lists to a
variable that keeps their list-structure?

thanks!
greg
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Fri Feb  8 21:42:25 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Fri, 8 Feb 2002 15:42:25 -0500 (EST)
Subject: [R] Plotting multiple columns on same graph
Message-ID: <Pine.LNX.4.21L1.0202081540190.16749-100000@hm269-26876.socsci.unc.edu>

I'd like to produce a series of simple line graphs for my methods class
that show the three questions used on a repeated survey to make up a
particular index.  The data frame is:

> efficacy.df
   year complicated havesay dontcare
1  1952          71      68       63
2  1954          NA      NA       NA
3  1956          64      71       71
4  1958          NA      NA       NA
5  1960          59      72       73
6  1962          NA      NA       NA
7  1964          67      70       62
8  1966          69      60       57
9  1968          71      58       55
10 1970          73      64       50
11 1972          74      59       49
12 1974          72      57       46
13 1976          70      56       44
14 1978          NA      53       45
15 1980          71      59       43
16 1982          NA      52       50
17 1984          70      68       57
18 1986          66      NA       43
19 1988          66      50       37
20 1990          65      34       23
21 1992          63      57       37
22 1994          73      34       22
23 1996          60      38       24
24 1998          71      46       25
25 2000          NA      50       33


The ideal graph will show each of the three questions as a different
color line, with lines connecting years spanned by NA values.  What's the
easiest way to do this?

Thanks.

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Fri Feb  8 22:00:56 2002
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Fri, 08 Feb 2002 22:00:56 +0100
Subject: [R] Plotting multiple columns on same graph
References: <Pine.LNX.4.21L1.0202081540190.16749-100000@hm269-26876.socsci.unc.edu>
Message-ID: <3C643C88.9C3823DB@ci.tuwien.ac.at>

Andrew Perrin wrote:
> 
> I'd like to produce a series of simple line graphs for my methods class
> that show the three questions used on a repeated survey to make up a
> particular index.  The data frame is:
> 
> > efficacy.df
>    year complicated havesay dontcare
> 1  1952          71      68       63
> 2  1954          NA      NA       NA
> 3  1956          64      71       71
> 4  1958          NA      NA       NA
> 5  1960          59      72       73
> 6  1962          NA      NA       NA
> 7  1964          67      70       62
> 8  1966          69      60       57
> 9  1968          71      58       55
> 10 1970          73      64       50
> 11 1972          74      59       49
> 12 1974          72      57       46
> 13 1976          70      56       44
> 14 1978          NA      53       45
> 15 1980          71      59       43
> 16 1982          NA      52       50
> 17 1984          70      68       57
> 18 1986          66      NA       43
> 19 1988          66      50       37
> 20 1990          65      34       23
> 21 1992          63      57       37
> 22 1994          73      34       22
> 23 1996          60      38       24
> 24 1998          71      46       25
> 25 2000          NA      50       33
> 
> The ideal graph will show each of the three questions as a different
> color line, with lines connecting years spanned by NA values.  What's the
> easiest way to do this?

Most of this can be done easily by plotting a multiple time series:

R> efficacy.mts <- ts(as.matrix(efficacy.df)[,2:4], start=1952)
R> plot(efficacy.mts, plot.type="single", col=1:3)

I'm not sure what is the easiest way to deal with the NAs. I would
probably interpolate the ts before plotting...
Hope that helps
Z

> Thanks.
> 
> ----------------------------------------------------------------------
> Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
>  Assistant Professor of Sociology, U of North Carolina, Chapel Hill
>       269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sego at stat.wisc.edu  Fri Feb  8 22:02:31 2002
From: sego at stat.wisc.edu (Landon Sego)
Date: Fri, 8 Feb 2002 15:02:31 -0600 (CST)
Subject: [R] Plotting multiple columns on same graph
In-Reply-To: <Pine.LNX.4.21L1.0202081540190.16749-100000@hm269-26876.socsci.unc.edu>
Message-ID: <Pine.OSF.4.21.0202081456000.9256-100000@eureka.stat.wisc.edu>

On Fri, 8 Feb 2002, Andrew Perrin wrote:

> I'd like to produce a series of simple line graphs for my methods class
> that show the three questions used on a repeated survey to make up a
> particular index.  The data frame is:
> 
> > efficacy.df
>    year complicated havesay dontcare
> 1  1952          71      68       63
> 2  1954          NA      NA       NA
> 3  1956          64      71       71
> 4  1958          NA      NA       NA
> 5  1960          59      72       73
> 6  1962          NA      NA       NA
> 7  1964          67      70       62
> 8  1966          69      60       57
> 9  1968          71      58       55
> 10 1970          73      64       50
> 11 1972          74      59       49
> 
> The ideal graph will show each of the three questions as a different
> color line, with lines connecting years spanned by NA values.  What's the
> easiest way to do this?
> 

Following is an example of such a graph.  Save the data below into a file
'loan.tab'.  Then run the example code that appears below the data.  By
the way, this example comes from an R package called "intrograph" (a
package of examples designed to introduce R graphics to new users) that
should be shortly making its debut on CRAN.

--Landon Sego

num adjmon  newrate oldrate fixedrate paid
 1  Jan-00  8.09091 7.33541     8.250 0.23
 2  Feb-00  8.20139 7.20833     8.375 0.17
 3  Mar-00  7.90457 8.03989     8.250 0.49
 4  Apr-00  8.22500 7.34167     8.250 0.20
 5  May-00  8.41346 7.35577     8.375 0.08
 6  Jun-00  8.75000 7.52273     8.500 0.27
 7  Jul-00  8.54348 8.70109     8.250 0.00
 8  Aug-00  8.61923 7.44231     8.125 0.08


## Example:  group.plotting

loan <- read.table(file='loan.tab',header=T)

attach(loan)
par(las=1)

# Notice how "type='n'" allows us to custom plot the lines and characters for
# different groups individually

plot(num,newrate,type='n',main='Comparison of Interest Rates',
     xlab='Adjustment Month',ylab='Average Interest Rate',ylim=c(6.7,9.2))

# Plot the fixed rate curve and points

points(num,fixedrate,pch='F')
lines(num,fixedrate,lty=1)

# Plot the new rate curve and points

points(num,newrate,pch='N')
lines(num,newrate,lty=3)

# Plot the oldrate curve and points

points(num,oldrate,pch='O')
lines(num,oldrate,lty=2)

# Replot the horizontal axis

axis(1,1:8,col.axis='white')
axis(1,1:8,labels=c('Jan','Feb','Mar','Apr','May','Jun','Jul','Aug'),cex=1.2)

# Add descriptive text

text(4.5,6.85,'Percentage of loans paid off:')
text(num,rep(6.7,8),c('23\%','17\%','49\%','25\%','14\%','27\%','0\%','20\%'))

# Add legend

legend(.8,9.25,c('Fixedrate','Newrate','Oldrate'),lty=c(1,3,2))

# Detach the loan data set from the search path 

detach()

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Feb  8 22:11:27 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Feb 2002 22:11:27 +0100
Subject: [R] looping through lists...
In-Reply-To: <m3lme3eo85.fsf@viz.itd.nrl.navy.mil>
References: <m3lme3eo85.fsf@viz.itd.nrl.navy.mil>
Message-ID: <x2g04bel1c.fsf@blueberry.kubism.ku.dk>

Greg Trafton <trafton at itd.nrl.navy.mil> writes:

> nw.1 <- c(nw.201.1,nw.204.1,nw.206.1)
> 
> but that did not preserve the individual list structure I needed.
> 
> and of course I use more than just RL, so I want to be able to
> arbitrarily get information from each list.
> 
> ideally, I'd like to be able to do something like this:
> 
> getmean(nw.1, "RL")
> [1] 15.630  2.713 18.811
> 
> any suggestions on how to cycle through lists or assign lists to a
> variable that keeps their list-structure?

Something like 

nw.1 <- list(nw.201.1, nw.204.1, nw.206.1)
sapply(nw.1, function(x) mean(x$RL))

should do it, or generally

getmean <- function(l,n) sapply(l, function(x) mean(x[[n]]))

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From liu.262 at osu.edu  Fri Feb  8 22:57:22 2002
From: liu.262 at osu.edu (Kaiya Liu)
Date: Fri, 08 Feb 2002 16:57:22 -0500
Subject: [R] Problem with interaction.plot()
In-Reply-To: <3C63CD8D.D6411DA7@statistik.uni-dortmund.de>
References: <CC1AF68C2B1C644DBC0B6087C3C81BC434FFDF@marge.ies.ad.ltu.se>
 <5.1.0.14.2.20020207122940.00a02ec0@pop.service.ohio-state.edu>
Message-ID: <5.1.0.14.2.20020208164801.00a01970@pop.service.ohio-state.edu>

Thank you very much --- I thought it was just me not doing the right thing.

Another related problem with the interaction.plot () function. It doesn't 
plot for the group that has one for more missing values. Say I have a Y 
variable and two factors A and B, where A has 3 levels and B has two 
levels. There are a few missing values for Y when B is at level 1. When you do
         interaction.plot (A, B, Y)
you will have a plot missing the lines for B = 1.

Kaiya Liu



At 02:07 PM 2/8/02 +0100, Uwe Ligges wrote:
>Kaiya Liu wrote:
> >
> > Hi,
> >
> > I encountered a problem when I did interaction plots using the
> > interaction.plot() function. The labels for the trace factor appeared on
> > the plot when I did the plots in separate windows, but disappeared/cut off
> > when multiple plots were placed in one window. Can anybody help me?
>
>The calculation of the width of the legend is really difficult in that
>case in goes wrong, because it is based on heuristics for a single plot.
>I'll send a bug report in a few minutes.
>
>As a workaround I'd suggest to use interaction.plot(..., legend=FALSE)
>and add a legend with legend() manually.
>
>Uwe Ligges
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From smcnary at charm.net  Fri Feb  8 23:07:40 2002
From: smcnary at charm.net (Scot W McNary)
Date: Fri, 8 Feb 2002 17:07:40 -0500 (EST)
Subject: [R] Plotting multiple columns on same graph
In-Reply-To: <Pine.LNX.4.21L1.0202081540190.16749-100000@hm269-26876.socsci.unc.edu>
Message-ID: <Pine.BSI.4.40.0202081702020.4474-100000@fellspt.charm.net>



Andrew,

What about preprocessing the dataset to remove NAs?


eomit<-na.omit(efficacy.df)
attach(eomit)
rs<-cbind(complicated, havesay, dontcare)
matplot(year, rs)
matlines(year, rs)




Scot


--
  Scot W. McNary  email:smcnary at charm.net

On Fri, 8 Feb 2002, Andrew Perrin wrote:

> I'd like to produce a series of simple line graphs for my methods class
> that show the three questions used on a repeated survey to make up a
> particular index.  The data frame is:
>
> > efficacy.df
>    year complicated havesay dontcare
> 1  1952          71      68       63
> 2  1954          NA      NA       NA
> 3  1956          64      71       71
> 4  1958          NA      NA       NA
> 5  1960          59      72       73
> 6  1962          NA      NA       NA
> 7  1964          67      70       62
> 8  1966          69      60       57
> 9  1968          71      58       55
> 10 1970          73      64       50
> 11 1972          74      59       49
> 12 1974          72      57       46
> 13 1976          70      56       44
> 14 1978          NA      53       45
> 15 1980          71      59       43
> 16 1982          NA      52       50
> 17 1984          70      68       57
> 18 1986          66      NA       43
> 19 1988          66      50       37
> 20 1990          65      34       23
> 21 1992          63      57       37
> 22 1994          73      34       22
> 23 1996          60      38       24
> 24 1998          71      46       25
> 25 2000          NA      50       33
>
>
> The ideal graph will show each of the three questions as a different
> color line, with lines connecting years spanned by NA values.  What's the
> easiest way to do this?
>
> Thanks.
>
> ----------------------------------------------------------------------
> Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
>  Assistant Professor of Sociology, U of North Carolina, Chapel Hill
>       269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cjf at fonnesbeck.net  Sat Feb  9 01:36:38 2002
From: cjf at fonnesbeck.net (Christopher Fonnesbeck)
Date: 08 Feb 2002 19:36:38 -0500
Subject: [R] joint confidence ellipsoid problem
Message-ID: <1013214998.11945.3.camel@cauchy>

As the subject implies, I am trying to draw a joint confidence interval
of two variables, using the "ellipse" package.  However, the ellipse()
function plots an ellipsoid that is far too large than what I get when I
calculate the limits by hand. For the t option, I am using
sqrt(qf(level, df1, df2)) as I believe that I should be. I am giving a
variance-covariance matrix as the object argument. Anyone have a simple
idea of what may be going on? I would have to scale t by about 1/4 to
get it in the right neighbourhood.

Thanks in advance,
Chris Fonnesbeck
-- 
~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*

Christopher J. Fonnesbeck 
Ph.D. Student

Georgia Co-operative Wildlife Unit
University of Georgia 
Athens, GA 30602

Email: cjf at fonnesbeck.net
Yahoo: fonnesbeck_chris

~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jeff_hamann at hamanndonald.com  Sat Feb  9 01:43:28 2002
From: jeff_hamann at hamanndonald.com (Jeff D. Hamann)
Date: Fri, 8 Feb 2002 16:43:28 -0800
Subject: [R] grouping residuals
Message-ID: <001b01c1b102$ca6bfc10$0300a8c0@godzilla>

I would like to test if a model is bias by grouping residuals into
categroies and testing if the mean of the residuals for the group is
different from zero. Since I'm a little new to R programming, what is the
best way to group residuals, say into n groups over the predicted values. I
could use a loop, but I have a feeling that there is a method like symnum
that would do the trick. Yes?


Jeff.


Jeff D. Hamann
Hamann, Donald & Associates, Inc.
PO Box 1421
Corvallis, Oregon USA 97339-1421
Bus. 541-753-7333
Cell. 541-740-5988
jeff_hamann at hamanndonald.com
www.hamanndonald.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Sat Feb  9 01:44:21 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Fri, 8 Feb 2002 19:44:21 -0500 
Subject: [R] Problem with interaction.plot()
Message-ID: <5429125E11E4D411AF7300805FE603A8040DE643@groexmbcr02.pfizer.com>


You can get around this problem by specifying the summary function used by
interaction.plot :

	mean.rm.na <- function(x) mean(x,na.rm=T)
	interaction.plot( A, B, Y )

-Greg


> -----Original Message-----
> From: Kaiya Liu [mailto:liu.262 at osu.edu]
> Sent: Friday, February 08, 2002 4:57 PM
> To: Uwe Ligges
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] Problem with interaction.plot()
> 
> 
> Thank you very much --- I thought it was just me not doing 
> the right thing.
> 
> Another related problem with the interaction.plot () 
> function. It doesn't 
> plot for the group that has one for more missing values. Say 
> I have a Y 
> variable and two factors A and B, where A has 3 levels and B has two 
> levels. There are a few missing values for Y when B is at 
> level 1. When you do
>          interaction.plot (A, B, Y)
> you will have a plot missing the lines for B = 1.
> 
> Kaiya Liu
> 
> 
> 
> At 02:07 PM 2/8/02 +0100, Uwe Ligges wrote:
> >Kaiya Liu wrote:
> > >
> > > Hi,
> > >
> > > I encountered a problem when I did interaction plots using the
> > > interaction.plot() function. The labels for the trace 
> factor appeared on
> > > the plot when I did the plots in separate windows, but 
> disappeared/cut off
> > > when multiple plots were placed in one window. Can 
> anybody help me?
> >
> >The calculation of the width of the legend is really 
> difficult in that
> >case in goes wrong, because it is based on heuristics for a 
> single plot.
> >I'll send a bug report in a few minutes.
> >
> >As a workaround I'd suggest to use interaction.plot(..., 
> legend=FALSE)
> >and add a legend with legend() manually.
> >
> >Uwe Ligges
> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-.-.-.-.-.-.-.-
> >r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >Send "info", "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> ._._._._._._._._._
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From anantha_rao at altavista.com  Sat Feb  9 03:20:45 2002
From: anantha_rao at altavista.com (anantha rao)
Date: 8 Feb 2002 18:20:45 -0800
Subject: [R] How to access objects outside an R function
Message-ID: <20020209022045.17757.cpmta@c016.snv.cp.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20020208/cba2b090/attachment.pl

From jasont at indigoindustrial.co.nz  Sat Feb  9 04:22:42 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Sat, 9 Feb 2002 16:22:42 +1300
Subject: [R] R graphs in LaTeX documents?
In-Reply-To: <Pine.LNX.4.31.0202072214410.28449-100000@gannet.stats>; from ripley@stats.ox.ac.uk on Thu, Feb 07, 2002 at 10:20:55PM +0000
References: <OFF95AA5B3.21900DD2-ONCA256B59.00776F40@syd.syn.com.au> <Pine.LNX.4.31.0202072214410.28449-100000@gannet.stats>
Message-ID: <20020209162242.A2617@camille.indigoindustrial.co.nz>

> I wrote the pdf() driver because it seemed a cleaner solution, and it was
> an intellectual challenge.  From this thread it seems it has much more use
> than I realized, which is nice to know.

pdf() has been a *huge* benefit to me, both on its own, and for pdflatex 
graphics inclusion.  Thanks.  An awful lot.

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Sat Feb  9 12:36:54 2002
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Sat, 09 Feb 2002 22:36:54 +1100
Subject: [R] How to access objects outside an R function
References: <20020209022045.17757.cpmta@c016.snv.cp.net>
Message-ID: <3C6509D5.1D1B0271@ozemail.com.au>

anantha rao wrote:

> ...I have a dataframe ('forexdata') of daily returns from the foreign exchange market for three currencies - British Pound (bp), Canadian
> Dollar(cd),
> Deustche Mark (dm) vis-a-vis the US Dollar and the Date Of
> Trade(yymmdd).
>
> For some dates the returns are missing (recorded as zero) as there
> were no trades in that currency for that date. My task is to
> substitute the missing or zero values with the next non-zero value.

Here is a function that will replace the zeros with the _last_  non-zero value (which is what you did in your solution). Note that it will produce
NAs if the _first_ value in a column is zero. Supply the data frame and a vector of column indices (in your case 3:5) to which you want to apply the
function. Hope this helps.

Jim


sub.last.value<-function(x.df,cols=1:dim(x.df)[2]) {
 nrows<-dim(x.df)[1]
 newcol<-vector("numeric",nrows)
 for(col in 1:length(cols)) {
  last.value<-NA
  for(row in 1:nrows) {
   if(x.df[row,cols[col]] > 0)
    newcol[row]<-last.value<-x.df[row,cols[col]]
   else newcol[row]<-last.value
  }
  x.df[cols[col]]<-newcol
 }
 return(x.df)
}


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Sat Feb  9 13:04:04 2002
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Sat, 9 Feb 2002 13:04:04 +0100 (CET)
Subject: [R] termplot
In-Reply-To: <20020208130259.7da335c0.fharrell@virginia.edu>
Message-ID: <Pine.LNX.4.44.0202091247550.13059-100000@tal.stat.umu.se>

I am experimenting with 'termplot':

> fit1 = coxph(Surv(time, status) ~ ns(bili, 4) + ns(age, 4), data = pbc)
> termplot(fit1, data = pbc)

works as advertised, but when I try to use 'terms', I don't get what I 
want:

> termplot(fit1, data = pbc, terms = 2)

presents me with a '?' (because in termplot, in the line 'cn <- parse(text 
= nmt',  nmt is NULL). So, I suppose that I am specifying 'terms' in a way 
that  termplot  doesn't like. How should it be done?

Thanks,

G?ran   
-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Sat Feb  9 21:01:18 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Sun, 10 Feb 2002 09:01:18 +1300
Subject: [R] something missing from the graph of recursive partitioning 
References: <20020208121922.49584.qmail@web20608.mail.yahoo.com>
Message-ID: <00de01c1b1a4$8a3ad970$7632d882@stat.auckland.ac.nz>

Hi


> The following codes come from R example. I save its
> graph as rpart.ps, but the graph did not display the
> whole word, e.g. just display "bsent", not "absent" in
> the most left. can you advise me how to solve it?


The text is being clipped to the plot boundaries.  The following minor
adjustment to your code shows where the clipping is occurring [indicated by
a dashed box around the plot boundary] and a possible fix [via par(xpd)]:

library(rpart)
data(kyphosis)
fit <- rpart(Kyphosis ~ Age + Number + Start, data =
kyphosis)
fit2 <- rpart(Kyphosis ~ Age + Number + Start, data =
kyphosis,
parms = list(prior = c(0.65, 0.35), split =
"information"))
postscript("rpart.ps", width=960, height=960)
par(mfrow = c(1, 2))
par(xpd=NA)  # or par(xpd=T)
plot(fit)
text(fit, use.n = TRUE)
box("plot", lty="dashed")
plot(fit2)
text(fit2, use.n = TRUE)
box("plot", lty="dashed")
dev.off()

Paul



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Sun Feb 10 00:33:20 2002
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Sun, 10 Feb 2002 00:33:20 +0100 (CET)
Subject: [R] Scope?
In-Reply-To: <20020208130259.7da335c0.fharrell@virginia.edu>
Message-ID: <Pine.LNX.4.44.0202100015280.13756-100000@tal.stat.umu.se>

I find the following behaviour slightly disturbing:

> x = 6
> ex = function(x = x) x
> ex()
Error in ex() : recursive default argument reference

Can't  R  distinguish between formal and actual arguments? (Just kidding!)
Seriously, what bad things could happen if I was allowed to get the 
answer  6  here?

G?ran
-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Sun Feb 10 00:47:11 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 09 Feb 2002 17:47:11 -0600
Subject: [R] Scope?
In-Reply-To: <Pine.LNX.4.44.0202100015280.13756-100000@tal.stat.umu.se>
References: <Pine.LNX.4.44.0202100015280.13756-100000@tal.stat.umu.se>
Message-ID: <6rbsey5ibk.fsf@franz.stat.wisc.edu>

G?ran Brostr?m <gb at stat.umu.se> writes:

> I find the following behaviour slightly disturbing:
> 
> > x = 6
> > ex = function(x = x) x
> > ex()
> Error in ex() : recursive default argument reference
> 
> Can't  R  distinguish between formal and actual arguments? (Just kidding!)
> Seriously, what bad things could happen if I was allowed to get the 
> answer  6  here?

You would lose lazy evaluation.  The default value of an argument is
evaluated at the time that the argument is first accessed during
function evaluation, not at the time of definition of the function.
That allows you to define default values of arguments in terms of
other values calculated within the function.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmiyamot at u.washington.edu  Sun Feb 10 06:41:24 2002
From: jmiyamot at u.washington.edu (John Miyamoto)
Date: Sat, 9 Feb 2002 21:41:24 -0800 (PST)
Subject: [R] text that combines math expressions and numeric variables
Message-ID: <Pine.A41.4.44.0202092138180.29294-100000@mead1.u.washington.edu>

Dear R-Help,
   I have some questions relating to math notation in text functions.  I
have studied the help for plotmath but have not figured out how to solve
two types of problems.

PROBLEM 1:  How can I create expressions that mix mathematical notation,
numeric variables, and ordinary text.  For example,

B0 <- 20;  B1 <- .25
plot(0:100, 0:100, type="n")
text(30, 90, substitute(hat(beta)[0] == this, list(this=B0)) , adj=0)
#Text1
text(25, 90, "Text 1", adj=1)
text(30, 70, paste("beta.0 =", B0, "and beta.1 =", B1), adj=0)   #Text2
text(25, 70, "Text 2", adj=1)
text(30, 50, substitute(hat(beta)[0] == this + hat(beta)[1] == that,
#Text3
     list(this=B0, that=B1)), adj=0)
text(25, 50, "Text 3", adj=1)

Text1 plots the combination of math notation and a numeric variable but it
does not contain ordinary text.  Text2 shows what I would like to
accomplish, except that I would like replace "beta.1" and "beta.2" with
subscripted greek symbols.  Text3 shows something that is almost what I
want, except that I would like to replace the "+" symbol with "and".  I am
also puzzled by the fact that mathematical notation plots higher on the
Y-axis than does the corresponding text.

PROBLEM 2:  How can I force a mathematical expression to move to a new
line, analogous to embedding a carriage return into the expression?  For
example,

B0 <- 20;  B1 <- .25
plot(0:100, 0:100, type="n")
text(30, 70, paste("beta.0 =", B0, "\nbeta.1 =", B1), adj=0)   #Text1
text(25, 70, "Text 1", adj=1)
text(30, 50, substitute(hat(beta)[0] == this, list(this=B0)), adj=0)
#Text2
text(30, 40, substitute(hat(beta)[1] == this, list(this=B1)), adj=0)
#Text2
text(25, 50, "Text 2", adj=1)

Text1 shows what I would like to accomplish except that I would like to
replace "beta.1" and "beta.2" with subscripted greek symbols.  Text2 shows
what I want as output, but I have been forced to explicitly state the
Y-coordinates of the two lines of Text2.  This requires that I know the
scale on the Y-axis.  What I want is to embed a carriage return, "\n",
into the mathematical expression so that I can create a mathematical
expression on multiple lines.  Is this possible?

Any help would be much appreciated.

John Miyamoto


--------------------------------------------------------------------
John Miyamoto                           |
Department of Psychology, Box 351525    |  If ignorance is bliss,
University of Washington                |  why are so many people
Seattle, WA 98195-1525.                 |  unhappy?
Phone: 206-543-0805, Fax: 206-685-3157  |
Email: jmiyamot at u.washington.edu        |
--------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Sun Feb 10 22:01:14 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Mon, 11 Feb 2002 10:01:14 +1300
Subject: [R] text that combines math expressions and numeric variables
References: <Pine.A41.4.44.0202092138180.29294-100000@mead1.u.washington.edu>
Message-ID: <005501c1b276$13784a20$7632d882@stat.auckland.ac.nz>

Hi


> PROBLEM 1:  How can I create expressions that mix mathematical notation,
> numeric variables, and ordinary text.  For example,
>
> B0 <- 20;  B1 <- .25
> plot(0:100, 0:100, type="n")
> text(30, 90, substitute(hat(beta)[0] == this, list(this=B0)) , adj=0)
> #Text1
> text(25, 90, "Text 1", adj=1)
> text(30, 70, paste("beta.0 =", B0, "and beta.1 =", B1), adj=0)   #Text2
> text(25, 70, "Text 2", adj=1)
> text(30, 50, substitute(hat(beta)[0] == this + hat(beta)[1] == that,
> #Text3
>      list(this=B0, that=B1)), adj=0)
> text(25, 50, "Text 3", adj=1)
>
> Text1 plots the combination of math notation and a numeric variable but it
> does not contain ordinary text.  Text2 shows what I would like to
> accomplish, except that I would like replace "beta.1" and "beta.2" with
> subscripted greek symbols.  Text3 shows something that is almost what I
> want, except that I would like to replace the "+" symbol with "and".  I am
> also puzzled by the fact that mathematical notation plots higher on the
> Y-axis than does the corresponding text.


The vertical alignment of the mathematical annotations is wrong -- it should
be treating adj=0 as adj=c(0, 0.5).  In other words, when a vertical
adjustment is not explicitly given, it should centre vertically.  At the
moment, when a vertical adjustment is not given, it is bottom-adjusting (so
to speak) i.e,. it is treating adj=0 as adj=c(0, 0).

A work around for this is to use adj=c(0, 0.5) i.e., explicitly specify
vertical centring.

I will add a proper fix for the next R release.

I think there was a similar report about vertical alignment of mathematical
annotation on R-help recently.  Can anyone confirm/point me to that?

Paul


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kd2 at waikato.ac.nz  Mon Feb 11 02:18:04 2002
From: kd2 at waikato.ac.nz (KATARINA,DOMIJAN)
Date: Mon, 11 Feb 2002 14:18:04 +1300
Subject: [R] profile
Message-ID: <952EC043E8DAD311930B00508B65011062DA3A@stu-ex2.waikato.ac.nz>

I am running 1.3.1 on a Windows (NT 4.0) machine.  I've fit a nonlinear
model intended to predict crop yield from nutrient information, and want to
use the profile function. If I type say, 
profile(simparj.fm)
I get the following error message:
"Error in prof$getProfile(): number of iterations exceeded maximum of
5.25515e-308"
I used the profiler function to profile simparj,fm step by step, profiling
one parameter  at the time and calculating the profile t statistics. I've
played around with different values for the parameters and found that
profiler doesn't work for certain ranges of the parameter values. 
So now I want to reduce the range of the profiling. I've been looking at the
help page for profile.nls and also I hacked the codes for profile.nls (just
by typing profile.nls), but haven't really found an efficient way to do it.
For say, my parameter eta1, I found that the profiler function works between
-1.6<tau<1.6. I adjusted the code in profile.nls to profile within that
range only (this is a very crude adjustment, see the code below). The new
profile works, and I can increase the number of points profiled (by changing
delta.t), but for some reason I cannot plot it. I get the following error
message:
Loading required package: splines
Error in interpSpline.default(obj[[i]]$par.vals[,i], obj[[i]]$tau 

Thank you for your info
Katarina


My code in full is: 
(Note: I'm just using simulated data in this example, and the profile  will
sometimes work with this)

# parameter assignments 
       Nmin      <- 0.8852 
       Nopt1     <- 16.78 
       gN <- 0.5511 
       E.nfert1 <- 0.3271 
       E.nfert2 <- 0.6132 
       Beta <- 0.8902 
       Dls <- 0.5378 
       eta1 <- 0.3791 
       eta2 <- 0.6332 
       PopStd <- 90468 
       beta <- Beta 
       DIs <- Dls 
       MnmN <- Nmin 
    OptN <- Nopt1 

  
# define model function 
       Y.model <- function(gN, MnmN, OptN, DIs,  beta, eta1, eta2, 
             Popn, Dmax, AWC, SumEp, PotYield3, Nsupply) 
             { 
             Ymax<- 1-ifelse(Popn<=PopStd, eta1, eta2)*log(Popn/PopStd) 
             Ymax <- Ymax*PotYield3*Popn/1000 
             Ymax <- Ymax*ifelse(Dmax<=DIs*AWC, 1, 1 - beta*(Dmax 
       -DIs*AWC)/SumEp) 
             Nstar <- (Nsupply- MnmN*Ymax) / (OptN*Ymax - MnmN*Ymax) 
             Nstar<-pmax ( 0,Nstar) 
             Ystar<-ifelse(Nstar<1, (1 + gN*(1 - Nstar))* Nstar^(gN), 1) 
             Ystar<-pmax ( 0, Ystar) 
             Y.model <- Ystar*Ymax 
             Y.model 
             } 
 
 
       # simulate experimental data for predictors 
       nsim <- 300 
       Popn <- rnorm(nsim,PopStd,0.1*PopStd) 
       Dmax <- rnorm(nsim,140.68,47.45) 
       AWC <- rnorm(nsim,186.86,47.41) 
       SumEp <- rnorm(nsim,318.54,32.53) 
       PotYield3 <- rnorm(nsim,0.16180,0.01167) 
       Nsoil <- rnorm(nsim,94.07,34.06) 
       Bdfield <- rnorm(nsim,1.0590,0.1420) 
       Bdlab <- rnorm(nsim,0.7876,0.1169) 
       Nfert.broad <- runif(nsim,95.3,576.5) 
       Nfert.band <- runif(nsim,122,250) 
       broad <- rbinom(nsim,1,0.2) 
       Nfert.broad <- Nfert.broad*broad 
       Nfert.band <- Nfert.band*(1 - broad) 
       Nsupply<-Nsoil*Bdfield/Bdlab + Nfert.broad*E.nfert1 +
Nfert.band*E.nfert2 


       # generate response variable from model 

       Y.m <- Y.model(gN, MnmN, OptN, DIs,  beta, eta1, eta2, 
             Popn, Dmax, AWC, SumEp, PotYield3, Nsupply) 
      Y.simulated <- Y.m + 0.1*rnorm(nsim,0,1) 


library(nls)

 # attempt to fit starting from true parameters 

       simparj.st <- c(gN, MnmN, OptN, DIs,  beta, eta1, eta2) 
       names(simparj.st) <- c('gN', 'MnmN', 'OptN', 'DIs', 'beta', 'eta1',
'eta2') 
       simparj.fm <- nls(Y.simulated ~ Y.model(gN, MnmN, OptN, DIs,  beta,
eta1, eta2, Popn, Dmax, AWC, SumEp, PotYield3, Nsupply),            start =
simparj.st, trace =T) 


pr1<-profile(simparj.fm)


# define a new profile function


pr2<- function (fitted, which = 1:npar, maxpts = 100, alphamax = 0.01, 
    delta.t = cutoff/5) 
{
    f.summary <- summary(fitted)
    std.err <- f.summary$parameters[, "Std. Error"]
    npar <- length(std.err)
    nobs <- length(resid(fitted))
    cutoff <- sqrt(npar * qf(1 - alphamax, npar, nobs - npar))
    outmat <- array(0, c(nobs, npar))
    out <- list()
    prof <- profiler(fitted)
    on.exit(prof$setDefault())
    for (par in which) {
        pars <- prof$getFittedPars()
        prof$setDefault(varying = par)
        sgn <- -1
        count <- 1
        varying <- rep(TRUE, npar)
        varying[par] <- FALSE
        tau <- double(2 * maxpts)
        par.vals <- array(0, c(2 * maxpts, npar), list(NULL, 
            names(pars)))
        tau[1] <- 0
        par.vals[1, ] <- pars
        base <- pars[par]
        profile.par.inc <- delta.t * std.err[par]
        pars[par] <- pars[par] - profile.par.inc
        while (count <= maxpts) {
            if (abs(pars[par] - base)/std.err[par] > 10 * cutoff) 
                break
            count <- count + 1
            prof$setDefault(params = pars)
            ans <- prof$getProfile()
            tau[count] <- sgn * sqrt(ans$fstat)
            par.vals[count, ] <- pars <- ans$parameters
            if (abs(tau[count]) > 1.6)    #my adjustment
                break
            pars <- pars + ((pars - par.vals[count - 1, ]) * 
                delta.t)/abs(tau[count] - tau[count - 1])
        }
        tau[1:count] <- tau[count:1]
        par.vals[1:count, ] <- par.vals[count:1, ]
        sgn <- 1
        newmax <- count + maxpts
        pars <- par.vals[count, ]
        while (count <= newmax) {
            pars <- pars + ((pars - par.vals[count - 1, ]) * 
                delta.t)/abs(tau[count] - tau[count - 1])
            if (abs(pars[par] - base)/std.err[par] > 10 * cutoff) 
                break
            count <- count + 1
            prof$setDefault(params = pars)
            ans <- prof$getProfile()
            tau[count] <- sgn * sqrt(ans$fstat)
            par.vals[count, ] <- pars <- ans$parameters
            if (abs(tau[count]) > 1.6) 	# my adjustment 
                break
        }
        out[[par]] <- structure(list(tau = tau[1:count], par.vals =
par.vals[1:count, 
            ]), class = "data.frame", row.names = as.character(1:count), 
            parameters = list(par = par, std.err = std.err[par]))
        prof$setDefault()
    }
    names(out)[which] <- names(coef(fitted))[which]
    attr(out, "original.fit") <- fitted
    attr(out, "summary") <- f.summary
    class(out) <- c("profile.nls", "profile")
    out
}



pr1<-pr2(simparj.fm, which=5)

# plot pr1

opar<-par(mfrow=c(1,1), oma=c(1.1,0,1.1,0), las=1)
plot(pr1, conf=c(95,90,80,50)/100)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwan022 at stat.auckland.ac.nz  Mon Feb 11 03:08:55 2002
From: kwan022 at stat.auckland.ac.nz (Ko-Kang Kevin Wang)
Date: Mon, 11 Feb 2002 15:08:55 +1300 (NZDT)
Subject: [R] Time Series ts() Objects
Message-ID: <Pine.SOL.4.21.0202111504310.13327-100000@stat1.stat.auckland.ac.nz>

Hi,

Is it possible to create a ts() object, whose data is daily based BUT
measured only on working days?

In other words, suppose I have a data set with 255 observations, measured
from 29 June 1959 to 30 June 1960.  How would I create such a data?  I
tried something like:
   ts(c(...), start(1959, 180))
but I'm not sure what to use for frequency.  In other words I don't know
how to "ignore" Saturdays and Sundays.

Many thanks in advance,

Ko-Kang Wang

------------------------------------------------------------------------------
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student (Summer Research Assistant)
Department of Statistics
University of Auckland
New Zealand

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Mon Feb 11 03:30:22 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sun, 10 Feb 2002 20:30:22 -0600
Subject: [R] Time Series ts() Objects
In-Reply-To: <Pine.SOL.4.21.0202111504310.13327-100000@stat1.stat.auckland.ac.nz>
References: <Pine.SOL.4.21.0202111504310.13327-100000@stat1.stat.auckland.ac.nz>
Message-ID: <20020211023021.GA14148@sonny.eddelbuettel.com>

On Mon, Feb 11, 2002 at 03:08:55PM +1300, Ko-Kang Kevin Wang wrote:
> Is it possible to create a ts() object, whose data is daily based BUT
> measured only on working days?

No, you can't. R only has timeseries with constant frequency or delta-t. 

Dirk

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- Fred Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brianscholl1973 at yahoo.com  Mon Feb 11 05:35:24 2002
From: brianscholl1973 at yahoo.com (Brian Scholl)
Date: Sun, 10 Feb 2002 20:35:24 -0800 (PST)
Subject: [R] FMRI gui
In-Reply-To: <20020211023021.GA14148@sonny.eddelbuettel.com>
Message-ID: <20020211043524.57641.qmail@web12207.mail.yahoo.com>

Hi, 

I'm having difficulty starting the analyze FMRI GUI.

I get:

> f.analyzeFMRI.gui()
Loading required package: tcltk 
Error in firstlib(which.lib.loc, package) : 
        TCL_LIBRARY is not set
Error in eval.with.vis(expr, envir, enclos) : 
        tcltk support is absent
> 
> 

Not sure what I'm doing wrong. I couldn't find
anything in the associated files -  I'm assuming I'm
overlooking something basic so sorry for the dumb
question.  

Thanks,

Brian



__________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Feb 11 08:29:42 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 11 Feb 2002 07:29:42 +0000 (GMT)
Subject: [R] FMRI gui
In-Reply-To: <20020211043524.57641.qmail@web12207.mail.yahoo.com>
Message-ID: <Pine.GSO.4.44.0202110728510.18678-100000@auk.stats>

On Sun, 10 Feb 2002, Brian Scholl wrote:

> Hi,
>
> I'm having difficulty starting the analyze FMRI GUI.
>
> I get:
>
> > f.analyzeFMRI.gui()
> Loading required package: tcltk
> Error in firstlib(which.lib.loc, package) :
>         TCL_LIBRARY is not set
> Error in eval.with.vis(expr, envir, enclos) :
>         tcltk support is absent
> >
> >
>
> Not sure what I'm doing wrong. I couldn't find
> anything in the associated files -  I'm assuming I'm
> overlooking something basic so sorry for the dumb
> question.

On Windows?  Look in the rw-FAQ: this depends on having package tcltk
running.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Mon Feb 11 08:53:22 2002
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Mon, 11 Feb 2002 08:53:22 +0100 (MET)
Subject: [R] Time Series ts() Objects
In-Reply-To: <20020211023021.GA14148@sonny.eddelbuettel.com> from "Dirk Eddelbuettel" at Feb 10, 2002 08:30:22 PM
Message-ID: <200202110753.IAA23011@luc.ac.be>


> 
> On Mon, Feb 11, 2002 at 03:08:55PM +1300, Ko-Kang Kevin Wang wrote:
> > Is it possible to create a ts() object, whose data is daily based BUT
> > measured only on working days?
> 
> No, you can't. R only has timeseries with constant frequency or delta-t. 

What you mean is "ts only has timeseries with constant frequency or delta-t."

There are libraries in R for continuous time series, including my carma
function in my growth library.

  Jim

> 
> Dirk
> 
> -- 
> Good judgment comes from experience; experience comes from bad judgment. 
> 							    -- Fred Brooks
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Mon Feb 11 09:13:22 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Mon, 11 Feb 2002 21:13:22 +1300
Subject: [R] bwplot and "range" equivalent from boxplot
Message-ID: <20020211211322.B5986@camille.indigoindustrial.co.nz>

Just starting with lattice & grid, so pardon if this question
scrams of someone still wrapping their head around it.
(Paul Murell, Deepayan Sarkar, et. al - great package!).

Is it possible to set an equivalent of the "range" argument
to boxplot() when using bwplot()? 

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Mon Feb 11 09:34:52 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Mon, 11 Feb 2002 21:34:52 +1300
Subject: [R] bwplot question answered  
Message-ID: <20020211213452.A6102@camille.indigoindustrial.co.nz>

Whoops.  Found it at my favorite site...

(modifications courtesy of Frank Harrell)
http://finzi.psych.upenn.edu/R/Rhelp/archive/10946.html

I'm pleading decaf as an excuse for not thinking of it
sooner.  Now returning you to your regularly scheduled
mailing list.

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Mon Feb 11 10:01:57 2002
From: siim at obs.ee (Ott Toomet)
Date: Mon, 11 Feb 2002 10:01:57 +0100 (CET)
Subject: [R] EPS and boundingbox
Message-ID: <Pine.LNX.4.33.0202110949290.6353-100000@localhost.localdomain>

Hi everybody!

I am not a postscript specialist but according to my (previous) knowledge,
the boundingbox comment in an eps-file should show the corners of the
drawing, not the paper.  I.e. if I have a tiny graph on a huge paper, the
boundingbox should give a small box.

In R, as I have understood, the boundingbox gives the size of the paper (or
graph window, if paper=special).  In most cases it is OK, but e.g. when I am
using square-plots (pty="s") or trying to fit a big plot on a page (with
Latex), I notice an unnecessarily wide area there around the plot.

Are there any smart ways to calculate the boundingbox which really encloses
the rawing only and let latex find all the necessary spacing?  Or are there
any system utilities (on linux)?

All help will be appreciated.

With regards,

Ott Toomet


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Feb 11 10:10:26 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 11 Feb 2002 09:10:26 +0000 (GMT)
Subject: [R] EPS and boundingbox
In-Reply-To: <Pine.LNX.4.33.0202110949290.6353-100000@localhost.localdomain>
Message-ID: <Pine.GSO.4.44.0202110902450.1853-100000@auk.stats>

On Mon, 11 Feb 2002, Ott Toomet wrote:

> Hi everybody!
>
> I am not a postscript specialist but according to my (previous) knowledge,
> the boundingbox comment in an eps-file should show the corners of the
> drawing, not the paper.  I.e. if I have a tiny graph on a huge paper, the
> boundingbox should give a small box.

Yes, and in R it shows the figure region, not the paper region.

> In R, as I have understood, the boundingbox gives the size of the paper (or
> graph window, if paper=special).  In most cases it is OK, but e.g. when I am
> using square-plots (pty="s") or trying to fit a big plot on a page (with
> Latex), I notice an unnecessarily wide area there around the plot.

It delimits the figure region, which includes those margins.  The idea is
that you do choose width and height appropriately, and use paper="special".
Quite often you do want to line up plots, and that means yoiou do want to
line up figure regions, not tight bounding boxes.

> Are there any smart ways to calculate the boundingbox which really encloses
> the rawing only and let latex find all the necessary spacing?  Or are there
> any system utilities (on linux)?

gs -sDEVICE=bbox,  on fairly recent GhostScript.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dechwang at yahoo.co.uk  Mon Feb 11 10:26:02 2002
From: dechwang at yahoo.co.uk (=?iso-8859-1?q?dechao=20wang?=)
Date: Mon, 11 Feb 2002 09:26:02 +0000 (GMT)
Subject: [R] something missing from the graph of recursive partitioning 
In-Reply-To: <00de01c1b1a4$8a3ad970$7632d882@stat.auckland.ac.nz>
Message-ID: <20020211092602.72026.qmail@web20610.mail.yahoo.com>

Hi Paul,

Many thanks for your help. It is very clear
expalnation.

Dechao
 --- Paul Murrell <p.murrell at auckland.ac.nz> wrote: >
Hi
> 
> 
> > The following codes come from R example. I save
> its
> > graph as rpart.ps, but the graph did not display
> the
> > whole word, e.g. just display "bsent", not
> "absent" in
> > the most left. can you advise me how to solve it?
> 
> 
> The text is being clipped to the plot boundaries. 
> The following minor
> adjustment to your code shows where the clipping is
> occurring [indicated by
> a dashed box around the plot boundary] and a
> possible fix [via par(xpd)]:
> 
> library(rpart)
> data(kyphosis)
> fit <- rpart(Kyphosis ~ Age + Number + Start, data =
> kyphosis)
> fit2 <- rpart(Kyphosis ~ Age + Number + Start, data
> =
> kyphosis,
> parms = list(prior = c(0.65, 0.35), split =
> "information"))
> postscript("rpart.ps", width=960, height=960)
> par(mfrow = c(1, 2))
> par(xpd=NA)  # or par(xpd=T)
> plot(fit)
> text(fit, use.n = TRUE)
> box("plot", lty="dashed")
> plot(fit2)
> text(fit2, use.n = TRUE)
> box("plot", lty="dashed")
> dev.off()
> 
> Paul
> 
> 
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 

__________________________________________________

Everything you'll ever need on one web page
from News and Sport to Email and Music Charts

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Mon Feb 11 14:08:29 2002
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Mon, 11 Feb 2002 14:08:29 +0100 (CET)
Subject: [R] Scope?
In-Reply-To: <6rbsey5ibk.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.LNX.4.44.0202111345490.25832-100000@tal.stat.umu.se>

Thanks to Doug Bates and Ray Brownrigg, who both referred to 
'lazy evaluation' as an argument for not allowing my construct.
However, I'm not completely convinced. As I understand it, when
a variable pops up (on the 'right hand side') in an expression in a 
function,  R  looks for it in the following order:

1. Local (to the function) variable?
2. Formal argument?
3. In the defining environment?

The potential problem occurs when the answer to  1.  is 'No' and the
answer to  2.  is 'Yes', and no value was given to  x  in the call.
Then the current procedure obviously is to look at the default, and go
thru steps  1.-3.  again to find it. (Am I correct?) Then  x=x  is found,
and the 'recursive default ...' is detected. But I mean that when looking 
for the default among the formal arguments, *the current one must be 
excluded*, and the search continue to  3., if necessary.

What have I overlooked?

G?ran

On 9 Feb 2002, Douglas Bates wrote:

> G?ran Brostr?m <gb at stat.umu.se> writes:
> 
> > I find the following behaviour slightly disturbing:
> > 
> > > x = 6
> > > ex = function(x = x) x
> > > ex()
> > Error in ex() : recursive default argument reference
> > 
> > Can't  R  distinguish between formal and actual arguments? (Just kidding!)
> > Seriously, what bad things could happen if I was allowed to get the 
> > answer  6  here?
> 
> You would lose lazy evaluation.  The default value of an argument is
> evaluated at the time that the argument is first accessed during
> function evaluation, not at the time of definition of the function.
> That allows you to define default values of arguments in terms of
> other values calculated within the function.
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Mon Feb 11 14:31:19 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Mon, 11 Feb 2002 08:31:19 -0500 (EST)
Subject: [R] Plotting multiple columns on same graph
In-Reply-To: <Pine.BSI.4.40.0202081702020.4474-100000@fellspt.charm.net>
Message-ID: <Pine.LNX.4.21L1.0202110830590.19010-100000@hm269-26876.socsci.unc.edu>

Thanks to all who replied - this is essentially what I ended up doing.

Andy Perrin

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA


On Fri, 8 Feb 2002, Scot W McNary wrote:

> 
> 
> Andrew,
> 
> What about preprocessing the dataset to remove NAs?
> 
> 
> eomit<-na.omit(efficacy.df)
> attach(eomit)
> rs<-cbind(complicated, havesay, dontcare)
> matplot(year, rs)
> matlines(year, rs)
> 
> 
> 
> 
> Scot
> 
> 
> --
>   Scot W. McNary  email:smcnary at charm.net
> 
> On Fri, 8 Feb 2002, Andrew Perrin wrote:
> 
> > I'd like to produce a series of simple line graphs for my methods class
> > that show the three questions used on a repeated survey to make up a
> > particular index.  The data frame is:
> >
> > > efficacy.df
> >    year complicated havesay dontcare
> > 1  1952          71      68       63
> > 2  1954          NA      NA       NA
> > 3  1956          64      71       71
> > 4  1958          NA      NA       NA
> > 5  1960          59      72       73
> > 6  1962          NA      NA       NA
> > 7  1964          67      70       62
> > 8  1966          69      60       57
> > 9  1968          71      58       55
> > 10 1970          73      64       50
> > 11 1972          74      59       49
> > 12 1974          72      57       46
> > 13 1976          70      56       44
> > 14 1978          NA      53       45
> > 15 1980          71      59       43
> > 16 1982          NA      52       50
> > 17 1984          70      68       57
> > 18 1986          66      NA       43
> > 19 1988          66      50       37
> > 20 1990          65      34       23
> > 21 1992          63      57       37
> > 22 1994          73      34       22
> > 23 1996          60      38       24
> > 24 1998          71      46       25
> > 25 2000          NA      50       33
> >
> >
> > The ideal graph will show each of the three questions as a different
> > color line, with lines connecting years spanned by NA values.  What's the
> > easiest way to do this?
> >
> > Thanks.
> >
> > ----------------------------------------------------------------------
> > Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
> >  Assistant Professor of Sociology, U of North Carolina, Chapel Hill
> >       269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dechwang at yahoo.co.uk  Mon Feb 11 15:30:11 2002
From: dechwang at yahoo.co.uk (=?iso-8859-1?q?dechao=20wang?=)
Date: Mon, 11 Feb 2002 14:30:11 +0000 (GMT)
Subject: [R] response surface analysis
In-Reply-To: <Pine.BSI.4.40.0202081702020.4474-100000@fellspt.charm.net>
Message-ID: <20020211143011.65905.qmail@web20607.mail.yahoo.com>

Does anybody can point me where can I find documents
or examples to do response surface analysis in R if it
is available?

many thanks in advance,

dechao

__________________________________________________

Everything you'll ever need on one web page
from News and Sport to Email and Music Charts

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adams.644 at osu.edu  Mon Feb 11 15:45:01 2002
From: adams.644 at osu.edu (jimi adams)
Date: Mon, 11 Feb 2002 09:45:01 -0500
Subject: [R] iteration loop shortening
Message-ID: <3C67D8ED.3F5DC42B@osu.edu>

i have a loop inside of which i am selecting elements from a list
i am wondering if once the points are selected there is a way to remove
the element from the list, not reduce it to zero, but actually remove
the element from the list

this is probably an easy question that i am just missing, but anywho...

any assistance would be greatly appreciated
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.meyer at ci.tuwien.ac.at  Mon Feb 11 16:01:03 2002
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Mon, 11 Feb 2002 16:01:03 +0100
Subject: [R] iteration loop shortening
References: <3C67D8ED.3F5DC42B@osu.edu>
Message-ID: <3C67DCAF.94B77FDE@ci.tuwien.ac.at>

x[[i]] <- NULL

jimi adams wrote:
> 
> i have a loop inside of which i am selecting elements from a list
> i am wondering if once the points are selected there is a way to remove
> the element from the list, not reduce it to zero, but actually remove
> the element from the list
> 
> this is probably an easy question that i am just missing, but anywho...
> 
> any assistance would be greatly appreciated
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
       Department for			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Mon Feb 11 16:10:30 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Mon, 11 Feb 2002 10:10:30 -0500 (EST)
Subject: [R] iteration loop shortening
In-Reply-To: <3C67D8ED.3F5DC42B@osu.edu>
Message-ID: <Pine.LNX.4.30.0202111009270.742-100000@bolker.zoo.ufl.edu>


  Set the list element to NULL.

e.g.:

a <- as.list(1:10)
for (i in 1:9) {
  j <- sample(1:length(a),size=1)
  a[[j]] <- NULL
  print(as.numeric(a))
}

On Mon, 11 Feb 2002, jimi adams wrote:

> i have a loop inside of which i am selecting elements from a list
> i am wondering if once the points are selected there is a way to remove
> the element from the list, not reduce it to zero, but actually remove
> the element from the list
>
> this is probably an easy question that i am just missing, but anywho...
>
> any assistance would be greatly appreciated
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Feb 11 16:08:05 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 11 Feb 2002 16:08:05 +0100
Subject: [R] iteration loop shortening
References: <3C67D8ED.3F5DC42B@osu.edu>
Message-ID: <3C67DE55.D2C35F62@statistik.uni-dortmund.de>



jimi adams wrote:
> 
> i have a loop inside of which i am selecting elements from a list
> i am wondering if once the points are selected there is a way to remove
> the element from the list, not reduce it to zero, but actually remove
> the element from the list
> 
> this is probably an easy question that i am just missing, but anywho...
> 
> any assistance would be greatly appreciated

  my.list$my.element <- NULL

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luke at stat.umn.edu  Mon Feb 11 16:08:43 2002
From: luke at stat.umn.edu (Luke Tierney)
Date: Mon, 11 Feb 2002 09:08:43 -0600
Subject: [R] Scope?
In-Reply-To: <Pine.LNX.4.44.0202111345490.25832-100000@tal.stat.umu.se>; from gb@stat.umu.se on Mon, Feb 11, 2002 at 02:08:29PM +0100
References: <6rbsey5ibk.fsf@franz.stat.wisc.edu> <Pine.LNX.4.44.0202111345490.25832-100000@tal.stat.umu.se>
Message-ID: <20020211090843.A7833@nokomis.stat.umn.edu>

On Mon, Feb 11, 2002 at 02:08:29PM +0100, G?ran Brostr?m wrote:
> Thanks to Doug Bates and Ray Brownrigg, who both referred to 
> 'lazy evaluation' as an argument for not allowing my construct.
> However, I'm not completely convinced. As I understand it, when
> a variable pops up (on the 'right hand side') in an expression in a 
> function,  R  looks for it in the following order:
> 
> 1. Local (to the function) variable?
> 2. Formal argument?
> 3. In the defining environment?
> 
> The potential problem occurs when the answer to  1.  is 'No' and the
> answer to  2.  is 'Yes', and no value was given to  x  in the call.
> Then the current procedure obviously is to look at the default, and go
> thru steps  1.-3.  again to find it. (Am I correct?) Then  x=x  is found,
> and the 'recursive default ...' is detected. But I mean that when looking 
> for the default among the formal arguments, *the current one must be 
> excluded*, and the search continue to  3., if necessary.
> 
> What have I overlooked?
> 
> G?ran
> 

A call establishes only a local frame with the defining environment as
its parent.  At the start of a call all formal arguments are given
bindings to deferred evaluations, either of the supplied argument
where the deferred evaluation will use the caller's environment, or of
default expressions that will be evaluated in the local environment.
When the value of a variable is requested its binding is looked up in
the environment and a deferred evaluation is carried out if necessary.
If the deferred evaluation needs its value to find its value, you get
an error.  [This is simplified a bit but should capture the essence.]

For your example

    ex = function(x = x) x

the evaluation of the call ex() is roughly equivalent to

   env <- new.env(parent = environment(ex)) # create the call frame
   assign("x", delay(x, env), env)          # insert binding for
                                            # x with deferred evaluation of
                                            # the default expression
   eval(body(ex), env)                      # evaluate the body in the new env

If you paste this into R you get the same error as when evaluating ex().

Hope that helps.

luke

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Mon Feb 11 16:10:28 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Mon, 11 Feb 2002 09:10:28 -0600
Subject: [R] Time Series ts() Objects
In-Reply-To: <200202110753.IAA23011@luc.ac.be>
References: <20020211023021.GA14148@sonny.eddelbuettel.com> <200202110753.IAA23011@luc.ac.be>
Message-ID: <20020211151028.GA17406@sonny.eddelbuettel.com>

On Mon, Feb 11, 2002 at 08:53:22AM +0100, Jim Lindsey wrote:
> 
> > 
> > On Mon, Feb 11, 2002 at 03:08:55PM +1300, Ko-Kang Kevin Wang wrote:
> > > Is it possible to create a ts() object, whose data is daily based BUT
> > > measured only on working days?
> > 
> > No, you can't. R only has timeseries with constant frequency or delta-t. 
> 
> What you mean is "ts only has timeseries with constant frequency or delta-t."

Exactly, thank you for making that clearer. I also omitted to say that one
can work around the problem by using, e.g., a delta of 1 day and flagging
non-business days as NA. Adrian Trapletti has examples for that inside the
tseries package.

> There are libraries in R for continuous time series, including my carma
> function in my growth library.

Interesting. Can these have "gaps"? In other words, could one "discretize" a
continuous period and fill only certain segments?  As an example take a week
composed of 7*24*12 = 2016 five-minute intervals, and then "fill" only those
matching Mon - Fri and 9:30 to 16:00 ?

Dirk

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- Fred Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From matthew_wiener at merck.com  Mon Feb 11 16:28:10 2002
From: matthew_wiener at merck.com (Wiener, Matthew)
Date: Mon, 11 Feb 2002 10:28:10 -0500
Subject: [R] fixing a problem in the subtree code
Message-ID: <7C4F091F6140D411A29300508B5C73B906D71E95@usrymx04.merck.com>

Hi, all.  Last week I posted some code for extracting subtrees of trees in
hclust format.  Petra Steiner quickly found an example for which the code
breaks, and sent it to me.

The problem seems to be that I had not considered the possibility of trees
with unlabeled nodes.  In the new version of f.make.subtree (below), I steal
some code from plot.hclust to assign labels if there are none.  That fixes
the problem.  At the end I drop the labels again if the original tree didn't
have any.

Thanks to Petra for the help.  If anyone has other examples, or other
suggestions for how to improve the code, please let me know.

Regards,

Matthew Wiener
Applied Computer Science & Mathematics Dept.
Merck Research Labs
Rahway, NJ 07090
732-594-5303 

----------------------------------------------------------------------------
----

"f.make.subtree" <-
  function (tree, groups, n = 1, add.element = NULL) 
{
  which.nodes <- which(groups == n)
  names(which.nodes) <- NULL
  ## steal some code from plot.hclust
  use.labels <-
    if (is.null(tree$labels)) 
      paste(1:(nrow(tree$merge) + 1))
    else as.character(tree$labels)

  subtree.labels <- use.labels[which.nodes]
  
  subtree.order <- tree$order[use.labels[tree$order] %in% 
                              subtree.labels]
  which.merge.elements <- which(-tree$merge %in% which.nodes)
  which.merge.rows <- sort(unique(which.merge.elements%%nrow(tree$merge)))
  which.merge.rows[which.merge.rows == 0] <- nrow(tree$merge)
  old.length <- 0
  new.length <- length(which.merge.rows)
  if (length(which.merge.elements) == 1) {
    res <- list(merge = NULL, heights = tree$height[which.merge.rows], 
                order = 1,
                labels = {if(is.null(tree$labels)) NULL else
subtree.labels},
                method = tree$method, 
                call = tree$call, dist.method = tree$dist.method)
  }
  else {
    while (new.length - old.length > 0) {
      old.length <- new.length
      new.rows <- numeric(0)
      more.new.rows <- numeric(0)
      row.elements <- as.vector(tree$merge[which.merge.rows, 
                                           ])
      pos.elements <- row.elements[row.elements > 0]
      if (length(pos.elements) > 0) 
        new.rows <- pos.elements[apply(tree$merge[pos.elements, 
                                                  , drop = F], 1,
function(x) {
                                                    any(x > 0) & all(-x[x <
0] %in% which.nodes)
                                                  })]
      more.new.rows <- which(apply(tree$merge, 1, function(x) {
        all(x %in% which.merge.rows)
      }))
      which.merge.rows <- sort(unique(c(which.merge.rows, 
                                        new.rows, more.new.rows)))
      new.length <- length(which.merge.rows)
    }
    merge.list <- tree$merge[which.merge.rows, , drop = F]
    merge.height <- tree$height[which.merge.rows]
    pos.elements <- sort(merge.list[merge.list > 0])
    for (i in seq(along = pos.elements)) merge.list[merge.list == 
                    pos.elements[i]] <- which(pos.elements[i] ==
which.merge.rows)
    neg.elements <- merge.list[merge.list < 0]
    minus.neg.elements <- -neg.elements
    num.elements <- length(neg.elements)
    change.table <- cbind(sort(minus.neg.elements), 1:num.elements)
    for (i in 1:num.elements) {
      merge.list[merge.list == -change.table[i, 1]] <- -change.table[i, 
                                                                     2]
    }
    old.order <- subtree.order
    subtree.order <- match(use.labels[old.order], subtree.labels)
    res <- list(merge = merge.list, height = merge.height, 
                order = subtree.order,
                labels = {if(is.null(tree$labels)) NULL else
subtree.labels},
                method = tree$method, 
                call = list(match.call(), tree$call), dist.method =
tree$dist.method)
    class(res) <- "hclust"
    for (i in seq(along = add.element)) {
      res[[add.element[i]]] <- tree[[add.element[i]]][which.nodes]
    }
  }
  res
}

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ozric at web.de  Mon Feb 11 16:34:40 2002
From: ozric at web.de (christian)
Date: Mon, 11 Feb 2002 16:34:40 +0100
Subject: [R] read.table in TCL/TK interface
Message-ID: <3C67E490.30805@web.de>

hello,
i would like program userfriendly tcl/tk widgets like
the t-test example in  a more complex way !

(1) Is it not possible to combine tk_getOpenFile with
the R function read.table  to select in userfriendly way data sets ?
(I'm newbie and take code-parts from t-test example and scripting example.)

(2) Is it possible to use a variableSelection widget
to select a special variable which  i can use to  replace in R commands 
like:
rpart( selectedVar ~.,data) ?

(3) What occur the difference run tcl/tk code
in R-Winedt , i get  the results only  when i use paste !

$ source("D:/Statsoft/rw1041/code/TCL-TK.R")
******************************************************
 The source for this demo can be found in the file:
 D:/Statsoft/rw1041/library/tcltk/demo/tkttest.R
******************************************************
### Command executed via Tk ###
t.test(Ozone[Month == 5], Ozone[Month == 8], alternative = "two.sided",
    var.equal = FALSE)
### -----
...what is happen here ?

Thanks for advance and suggestions
regards Christian Schulz


tktree <- function() {
wfile <- ""
tt <- tktoplevel()
tktitle(tt) <- "Tcl/TK Decision Tree Window "
yvar <- "EKV"
y.entry <- tkentry(tt,textvariable=yvar)
submit.but <- tkbutton(tt, 
text="submit",command=function()tclvalue(done)<-1)
done <- tclVar(0)
tkpack(y.entry)
topMenu <- tkmenu(tt)
tkconfigure(tt,menu=topMenu)
fileMenu <- tkmenu(topMenu,tearoff=FALSE)


       load <- function() {
       file <- tkcmd("tk_getOpenFile")
       if (!length(file)) return()
       chn <- tkcmd("open", file, "r")
       #tkinsert(txt,"0.0",tkcmd("read",chn))
       chn <- read.table(file,na.strings="?",headers=TRUE)
       tkcmd("close",chn)
       wfile <<- file
       }

                exit <- function() {
                tkdestroy(tt)}

                build <- function()
                {
                y  <- parse(text=tclvalue(yvar))[[1]]
                substitute(rpart(yvar ~.,data=file))
                }

                tkadd(fileMenu,"command",label="Load",command=load)
                #tkadd(fileMenu,"command",label="Save",command=save)
                tkadd(fileMenu,"command",label="Exit",command=exit)
                tkadd(topMenu,"cascade",label="File",menu=fileMenu)
                #tkadd(topMenu,"command",label="Run",command=run)


                tkgrid(tklabel(tt,text="Recursive Partioning"),columnspan=1)
                tkgrid(tklabel(tt,text="y variable"), y.entry)
                tkgrid(submit.but)

        ## capture destroy (e.g. from window controls
        ## otherwise the tkwait hangs with nowhere to go
        tkbind(tt, "<Destroy>", function()tclvalue(done)<-2)

        tkwait.variable(done)

        if(tclvalue(done)=="2") stop("aborted")

        tkdestroy(tt)
        cmd <- build()
        cat("### Command executed via Tk ###\n")
        cat(deparse(build()),sep="\n")
        cat("### -----\n")
        eval.parent(cmd)
                
    }
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020211/3a0869dc/attachment.html

From r.autar2 at chello.nl  Mon Feb 11 16:32:00 2002
From: r.autar2 at chello.nl (R. Autar)
Date: Mon, 11 Feb 2002 16:32:00 +0100
Subject: [R] R en printing
Message-ID: <007801c1b311$3febd2c0$0b00005a@P3800>

Hi I am using the R dll in my visual basic project.

How can i print the graph on a printer in windows?

Thx

Rakesh 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Feb 11 16:53:11 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 11 Feb 2002 15:53:11 +0000 (GMT)
Subject: [R] R en printing
In-Reply-To: <007801c1b311$3febd2c0$0b00005a@P3800>
Message-ID: <Pine.LNX.4.31.0202111551310.4478-100000@gannet.stats>

On Mon, 11 Feb 2002, R. Autar wrote:

> Hi I am using the R dll in my visual basic project.

How exactly?  Via Thomas Baier's DCOM interface or directly?

> How can i print the graph on a printer in windows?

Via the menus on the graph, or via dev.print().

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Mon Feb 11 18:16:33 2002
From: siim at obs.ee (Ott Toomet)
Date: Mon, 11 Feb 2002 18:16:33 +0100 (CET)
Subject: [R] iteration loop shortening
In-Reply-To: <3C67D8ED.3F5DC42B@osu.edu>
Message-ID: <Pine.LNX.4.33.0202111814580.6754-100000@localhost.localdomain>

HI,

just use

> list$element <- NULL

or

> list[[index]] <- NULL

best wishes,

Ott Toomet


P.S. I do not know whether it is momory and speed-efficient.



On Mon, 11 Feb 2002, jimi adams wrote:

> i have a loop inside of which i am selecting elements from a list
> i am wondering if once the points are selected there is a way to remove
> the element from the list, not reduce it to zero, but actually remove
> the element from the list
>
> this is probably an easy question that i am just missing, but anywho...
>
> any assistance would be greatly appreciated
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeng_li at willis.com  Mon Feb 11 18:20:03 2002
From: zeng_li at willis.com (zeng_li@willis.com)
Date: Mon, 11 Feb 2002 11:20:03 -0600
Subject: [R] Multiple graph pages
Message-ID: <OF45AAB608.01129BF4-ON86256B5D.005EA35E@wilcor.com>

Dear R users:

I am a relatively experienced Splus user but new to R, using the version
for Windows 2000.

Splus allows the user to generate multiple graph pages in the graph window.
For example, if you have two plot(...) commands in the script than two
pages in the graph window will be created. However, when I tried this in R,
the second plot will just overwrite the first plot in the graph window.
Could you tell me how to let R create multiple pages in the graph window?
Please note that I am not talking about creating multiple plots in the same
page of the graph window...

Thanks very much in advance for any help that you might be able to offer!

Best regards,
Lixin Zeng

The information in this email and in any attachments is confidential and
may be privileged.  If you are not the intended recipient, please destroy
this message, delete any copies held on your systems and notify the sender
immediately.  You should not retain, copy or use this email for any
purpose, nor disclose all or any part of its content to any other person.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Mon Feb 11 18:45:16 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Tue, 12 Feb 2002 06:45:16 +1300
Subject: [R] iteration loop shortening
In-Reply-To: <3C67D8ED.3F5DC42B@osu.edu>; from adams.644@osu.edu on Mon, Feb 11, 2002 at 09:45:01AM -0500
References: <3C67D8ED.3F5DC42B@osu.edu>
Message-ID: <20020212064516.B6778@camille.indigoindustrial.co.nz>

On Mon, Feb 11, 2002 at 09:45:01AM -0500, jimi adams wrote:
> i have a loop inside of which i am selecting elements from a list
> i am wondering if once the points are selected there is a way to remove
> the element from the list, not reduce it to zero, but actually remove
> the element from the list

List indecies are one way to do it...

> aa<-list(foo=c(1,2,3),bar=c(5:10),baz=rep("hi",6))
> aa
$foo
[1] 1 2 3

$bar
[1]  5  6  7  8  9 10

$baz
[1] "hi" "hi" "hi" "hi" "hi" "hi"

> bb<-aa[-2]
> bb
$foo
[1] 1 2 3

$baz
[1] "hi" "hi" "hi" "hi" "hi" "hi"

Any others?

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Feb 11 19:24:30 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 11 Feb 2002 19:24:30 +0100
Subject: [R] Multiple graph pages
References: <OF45AAB608.01129BF4-ON86256B5D.005EA35E@wilcor.com>
Message-ID: <3C680C5E.3D5A39DC@statistik.uni-dortmund.de>

zeng_li at willis.com wrote:
> 
> Dear R users:
> 
> I am a relatively experienced Splus user but new to R, using the version
> for Windows 2000.
> 
> Splus allows the user to generate multiple graph pages in the graph window.
> For example, if you have two plot(...) commands in the script than two
> pages in the graph window will be created. However, when I tried this in R,
> the second plot will just overwrite the first plot in the graph window.
> Could you tell me how to let R create multiple pages in the graph window?
> Please note that I am not talking about creating multiple plots in the same
> page of the graph window...
> 
> Thanks very much in advance for any help that you might be able to offer!

That exactly is not possible, I think.

But a similar thing can be done with recordPlot() (plots can be relayed,
cp. ?recordPlot).

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Feb 11 19:28:31 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 11 Feb 2002 18:28:31 +0000 (GMT)
Subject: [R] Multiple graph pages
In-Reply-To: <OF45AAB608.01129BF4-ON86256B5D.005EA35E@wilcor.com>
Message-ID: <Pine.LNX.4.31.0202111826370.18217-100000@gannet.stats>

On Mon, 11 Feb 2002 zeng_li at willis.com wrote:

> Dear R users:
>
> I am a relatively experienced Splus user but new to R, using the version
> for Windows 2000.
>
> Splus allows the user to generate multiple graph pages in the graph window.
> For example, if you have two plot(...) commands in the script than two
> pages in the graph window will be created. However, when I tried this in R,
> the second plot will just overwrite the first plot in the graph window.
> Could you tell me how to let R create multiple pages in the graph window?
> Please note that I am not talking about creating multiple plots in the same
> page of the graph window...

1) Only the graphsheet device on S-PLUS *for Windows* does this.

2) R under Windows has a history mechanism to enable you to page back and
forth between plots.

> Thanks very much in advance for any help that you might be able to offer!

3) If you want S-PLUS features, why not use S-PLUS?  R is written by a
team of volunteers, and you get what you pay for ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Ko-Kang at xtra.co.nz  Mon Feb 11 19:48:57 2002
From: Ko-Kang at xtra.co.nz (Ko-Kang Wang)
Date: Tue, 12 Feb 2002 07:48:57 +1300
Subject: [R] Multiple graph pages
References: <OF45AAB608.01129BF4-ON86256B5D.005EA35E@wilcor.com>
Message-ID: <002501c1b32c$c4436a90$772756d2@a1z8k7>

You will need the par(mfrow=c(m, n)) statement., which will give you an m *
n matrix to hold the plots.

For example, you can create two graphs side by side by using:
   par(mfrow = c(1, 2))
   plot(1:100)
   plot(1:100)

Cheers,

Ko-Kang Wang

----------------------------------------------------------------------------
-
Ko-Kang Kevin Wang
Postgraduate PGDipSci Student
Department of Statistics
University of Auckland
Auckland
New Zealand

----- Original Message -----
From: <zeng_li at willis.com>
To: <r-help at stat.math.ethz.ch>
Sent: Tuesday, February 12, 2002 6:20 AM
Subject: [R] Multiple graph pages


> Dear R users:
>
> I am a relatively experienced Splus user but new to R, using the version
> for Windows 2000.
>
> Splus allows the user to generate multiple graph pages in the graph
window.
> For example, if you have two plot(...) commands in the script than two
> pages in the graph window will be created. However, when I tried this in
R,
> the second plot will just overwrite the first plot in the graph window.
> Could you tell me how to let R create multiple pages in the graph window?
> Please note that I am not talking about creating multiple plots in the
same
> page of the graph window...
>
> Thanks very much in advance for any help that you might be able to offer!
>
> Best regards,
> Lixin Zeng
>
> The information in this email and in any attachments is confidential and
> may be privileged.  If you are not the intended recipient, please destroy
> this message, delete any copies held on your systems and notify the sender
> immediately.  You should not retain, copy or use this email for any
> purpose, nor disclose all or any part of its content to any other person.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Mon Feb 11 21:39:23 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Mon, 11 Feb 2002 15:39:23 -0500
Subject: [R] Code in Rd help files other than in \examples{}
Message-ID: <20020211153923.760cd77f.fharrell@virginia.edu>

I am stumped in determining the proper syntax for including displayed S code within an R .Rd documentation file, in places other than \examples{}. I have tried

\code{
   line 1
   line 2
}

but the lines get run together.  When I terminate the lines by \cr, the "\cr" actually appears in the resulting html file.   This is all inside a customized \section{}.

On a related note, what is there a way to include large blocks of text within \examples{} that is not part of S comments?  I want such text to appear in the html help file, optimally with auto-wrapping of lines.  \dontrun{} does not appear to be exactly what I need.  I actually need multiple sub-\examples{} with intervening text but no new headings.

I am using R 1.4.0 on RedHat Linux 7.1.  Thanks in advance for pointers.

Frank

-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Mon Feb 11 22:14:40 2002
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Mon, 11 Feb 2002 15:14:40 -0600
Subject: [R] graph history
Message-ID: <OF43051DAC.95297B28-ON86256B5D.00723E04@mmm.com>

Hi everybody.

I was just wondering if this is a bug or I am simply doing something wrong.

Here is what happened:

(1) I typed windows() to get the graph menu bar
(2) I turned record on history menu
(3) I created a couple of plots
(4) I checked with PageUp and PageDown that I can scroll through them
(5) I saved the history to a variable, say, hhh
(6) I dumped hhh to a file called hhh.R
(7) I quit R and started a new session and sourced hhh.R.
(8) I typed windows() and then from the history menu I clicked "Get from
variable".  I entered hhh but got
     "variable does not exist or does not contain any plots!"

I am on Win2000 machine using R-1.4.1.

Thanks in advance.

Andy

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Feb 11 22:22:51 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 11 Feb 2002 21:22:51 +0000 (GMT)
Subject: [R] graph history
In-Reply-To: <OF43051DAC.95297B28-ON86256B5D.00723E04@mmm.com>
Message-ID: <Pine.LNX.4.31.0202112119250.19439-100000@gannet.stats>

On Mon, 11 Feb 2002 apjaworski at mmm.com wrote:

> Hi everybody.
>
> I was just wondering if this is a bug or I am simply doing something wrong.
>
> Here is what happened:
>
> (1) I typed windows() to get the graph menu bar
> (2) I turned record on history menu
> (3) I created a couple of plots
> (4) I checked with PageUp and PageDown that I can scroll through them
> (5) I saved the history to a variable, say, hhh
> (6) I dumped hhh to a file called hhh.R

You can't do that.  The variable is session-specific.

> (7) I quit R and started a new session and sourced hhh.R.
> (8) I typed windows() and then from the history menu I clicked "Get from
> variable".  I entered hhh but got
>      "variable does not exist or does not contain any plots!"

You didn't tell us your R version.  This is something of a kludge,
especially in 1.4.x (it was nearly removed then).  Maybe one day ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From isaia at econ.unito.it  Tue Feb 12 06:32:09 2002
From: isaia at econ.unito.it (E. D. Isaia)
Date: Tue, 12 Feb 2002 06:32:09 +0100
Subject: [R] Multiple graph pages
References: <OF45AAB608.01129BF4-ON86256B5D.005EA35E@wilcor.com>
Message-ID: <3C68A8D8.86C40596@econ.unito.it>

R features (and philosophy!) are not the same as S-Plus ones (so maybe you'd
better use S-Plus?).
In any cases, R allows you to open several graphics windows, for instance:

##   activate 1st graphics window (on Windows machines)
##
windows()
curve(sin(x),-2*pi,2*pi)
##   activate 2nd graphics window
windows()
curve(cos(x),-2*pi,2*pi)

Then you may switch between them as you please.

Best, isaia.

zeng_li at willis.com wrote:

> Dear R users:
>
> I am a relatively experienced Splus user but new to R, using the version
> for Windows 2000.
>
> Splus allows the user to generate multiple graph pages in the graph window.
> For example, if you have two plot(...) commands in the script than two
> pages in the graph window will be created. However, when I tried this in R,
> the second plot will just overwrite the first plot in the graph window.
> Could you tell me how to let R create multiple pages in the graph window?
> Please note that I am not talking about creating multiple plots in the same
> page of the graph window...
>
> Thanks very much in advance for any help that you might be able to offer!
>
> Best regards,
> Lixin Zeng
>
> The information in this email and in any attachments is confidential and
> may be privileged.  If you are not the intended recipient, please destroy
> this message, delete any copies held on your systems and notify the sender
> immediately.  You should not retain, copy or use this email for any
> purpose, nor disclose all or any part of its content to any other person.
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~ Ennio D. Isaia
~ Dep. of Statistics & Mathematics, University of Torino
~ Piazza Arbarello, 8 - 10128 Torino (Italy)
~ Phone: +39 011 670 62 51 ~~ Fax: +39 011 670 62 39
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ku.edu  Tue Feb 12 07:37:55 2002
From: pauljohn at ku.edu (Paul Johnson)
Date: Tue, 12 Feb 2002 00:37:55 -0600
Subject: [R] A couple of little R things I can't figure out (column percents, regression with lagged variables)
Message-ID: <3C68B843.3020504@ku.edu>

Simple usage questions that I ought to be able to figure on my own, but 
can't.

1.I'm able to produce a cross tabulation table showing counts with 
either table or xtabs.  But I want column percentages for 
interpretation, and it seems stupid to sit there with a calculator 
figuring marginals and column percentages.  How to make R do it after this:

 > x <- c(1,3,1,3,1,3,1,3,4,4)
 > y <- c(2,4,1,4,2,4,1,4,2,4)
 > hmm <- table(x,y)
 > hmm
    y
x   1 2 4
   1 2 2 0
   3 0 0 4
   4 0 1 1

#I can get the column sums:
 > tots <- apply(hmm,2,sum)

and I can get the total N of counts, but don't understand how to make it 
calculate column percents, as in

     y

x   1    2     4
   1 100 66.67  0
   3  0   0     80
   4  0   33.33 20

Pointers appreciated.


2. A student said here's  y, a vector representing a time series, and 
here's x, a vector representing a time series. I want to do a 
conventional regression of y on the lag of x. In sas you do xlag=lag(x) 
and then use xlag in a regresson.  I just want something simple like 
lm(y~lag(x)). But in R base there's no lag.

So I can get it the old fashioned way:
 > xx <- c(NA,x)
 > modl <- lm(y~xx[1:length(y)])
 > summary(modl)

One sidenote is that summary does not include any mention of the fact 
that 1 observation was lost due to missing value. That seems bad to me.

I see the lag function in ts, but when I use it, it doesn't change x, so 
obviously I don't see the point of that.

 > z <- lag (x)
 > z
  [1] 1 3 1 3 1 3 1 3 4 4


So long, thanks in advance, greetings, etc...

-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ku.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Feb 12 08:14:51 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Feb 2002 08:14:51 +0100
Subject: [R] A couple of little R things I can't figure out (column percents, regression with lagged variables)
In-Reply-To: <3C68B843.3020504@ku.edu>
References: <3C68B843.3020504@ku.edu>
Message-ID: <x2eljri32s.fsf@blueberry.kubism.ku.dk>

Paul Johnson <pauljohn at ku.edu> writes:

>      y
> 
> x   1    2     4
>    1 100 66.67  0
>    3  0   0     80
>    4  0   33.33 20
> 
> Pointers appreciated.

prop.table(hmm,2) * 100

> 2. A student said here's  y, a vector representing a time series, and
> here's x, a vector representing a time series. I want to do a
> conventional regression of y on the lag of x. In sas you do
> xlag=lag(x) and then use xlag in a regresson.  I just want something
> simple like lm(y~lag(x)). But in R base there's no lag.
> 
> So I can get it the old fashioned way:
>  > xx <- c(NA,x)
>  > modl <- lm(y~xx[1:length(y)])
>  > summary(modl)
> 
> One sidenote is that summary does not include any mention of the fact
> that 1 observation was lost due to missing value. That seems bad to me.
> 
> I see the lag function in ts, but when I use it, it doesn't change x,
> so obviously I don't see the point of that.
> 
>  > z <- lag (x)
>  > z
>   [1] 1 3 1 3 1 3 1 3 4 4

This stuff only works for time series, e.g. cbind(ts(x),lag(ts(x))).
Notice that even then, lag() works in the opposite direction (for
historical reasons).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From emami at knmi.nl  Tue Feb 12 10:19:19 2002
From: emami at knmi.nl (Nader Emami)
Date: Tue, 12 Feb 2002 09:19:19 +0000
Subject: [R] Bok-Jenkins package
Message-ID: <3C68DE17.8B843AE0@knmi.nl>

Hoi,

I would like to apply the 'Box-Jenkins' method to a time series
data-sets, But I don't know which function I have to use. Because I'm
new in the R world.  Would somebody help me about this subject?

Best Regrads
Nader

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Feb 12 09:43:58 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 12 Feb 2002 08:43:58 +0000 (GMT)
Subject: [R] Bok-Jenkins package
In-Reply-To: <3C68DE17.8B843AE0@knmi.nl>
Message-ID: <Pine.GSO.4.44.0202120841410.11768-100000@auk.stats>

On Tue, 12 Feb 2002, Nader Emami wrote:

> Hoi,
>
> I would like to apply the 'Box-Jenkins' method to a time series
> data-sets, But I don't know which function I have to use. Because I'm
> new in the R world.  Would somebody help me about this subject?

library(ts)
?arima0

You won't see `Box-Jenkins' method there, because as Whittle and others
have pointed out, that is gives credit to the publicists not the original
scientists.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stecalza at tiscali.it  Tue Feb 12 10:03:36 2002
From: stecalza at tiscali.it (stecalza@tiscali.it)
Date: Tue, 12 Feb 2002 10:03:36 +0100
Subject: [R] =?iso-8859-1?Q?RE=3A=20=5BR=5D=20A=20couple=20of=20little=20R=20things=20I=20can=27t=20figure=20out=20?=
 =?iso-8859-1?Q?=28column=20percents=2C=20regression=20with=20lagged=20variables=29?=
In-Reply-To: <3C68B843.3020504@ku.edu>
Message-ID: <3C6054DF0000A973@mail.tiscalinet.it>

Try with prop.table(hmm,#)

put # = 1 for row percentages # = 2 for column ones

Stefano

-- Messaggio Originale --

>Simple usage questions that I ought to be able to figure on my own, but

>can't.
>
>1.I'm able to produce a cross tabulation table showing counts with 
>either table or xtabs.  But I want column percentages for 
>interpretation, and it seems stupid to sit there with a calculator 
>figuring marginals and column percentages.  How to make R do it after this:
>
> > x <- c(1,3,1,3,1,3,1,3,4,4)
> > y <- c(2,4,1,4,2,4,1,4,2,4)
> > hmm <- table(x,y)
> > hmm
>    y
>x   1 2 4
>   1 2 2 0
>   3 0 0 4
>   4 0 1 1
>
>#I can get the column sums:
> > tots <- apply(hmm,2,sum)
>
>and I can get the total N of counts, but don't understand how to make it
>
>calculate column percents, as in
>
>     y
>
>x   1    2     4
>   1 100 66.67  0
>   3  0   0     80
>   4  0   33.33 20
>
>Pointers appreciated.
>
>
>2. A student said here's  y, a vector representing a time series, and 
>here's x, a vector representing a time series. I want to do a 
>conventional regression of y on the lag of x. In sas you do xlag=lag(x)

>and then use xlag in a regresson.  I just want something simple like 
>lm(y~lag(x)). But in R base there's no lag.
>
>So I can get it the old fashioned way:
> > xx <- c(NA,x)
> > modl <- lm(y~xx[1:length(y)])
> > summary(modl)
>
>One sidenote is that summary does not include any mention of the fact 
>that 1 observation was lost due to missing value. That seems bad to me.
>
>I see the lag function in ts, but when I use it, it doesn't change x, so
>
>obviously I don't see the point of that.
>
> > z <- lag (x)
> > z
>  [1] 1 3 1 3 1 3 1 3 4 4
>
>
>So long, thanks in advance, greetings, etc...
>
>-- 
>Paul E. Johnson                       email: pauljohn at ukans.edu
>Dept. of Political Science            http://lark.cc.ku.edu/~pauljohn
>University of Kansas                  Office: (785) 864-9086
>Lawrence, Kansas 66045                FAX: (785) 864-5700
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>



__________________________________________________________________
Abbonati a Tiscali!
Con Tiscali By Phone puoi anche ascoltare ed inviare email al telefono.
Chiama Tiscali By Phone all' 892 800        http://byphone.tiscali.it




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Tue Feb 12 10:34:12 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Tue, 12 Feb 2002 10:34:12 +0100
Subject: [R] A couple of little R things I can't figure out (column 
 percents,regression with lagged variables)
References: <3C68B843.3020504@ku.edu>
Message-ID: <3C68E194.4E32EEDC@atmos.umnw.ethz.ch>

hallo paul,

for the percentages use this code (the trick is to use transpose twice)

t(t(hm)/apply(hmm,2,sum))*100




Paul Johnson wrote:
> 
> Simple usage questions that I ought to be able to figure on my own, but
> can't.
> 
> 1.I'm able to produce a cross tabulation table showing counts with
> either table or xtabs.  But I want column percentages for
> interpretation, and it seems stupid to sit there with a calculator
> figuring marginals and column percentages.  How to make R do it after this:
> 
>  > x <- c(1,3,1,3,1,3,1,3,4,4)
>  > y <- c(2,4,1,4,2,4,1,4,2,4)
>  > hmm <- table(x,y)
>  > hmm
>     y
> x   1 2 4
>    1 2 2 0
>    3 0 0 4
>    4 0 1 1
> 
> #I can get the column sums:
>  > tots <- apply(hmm,2,sum)
> 
> and I can get the total N of counts, but don't understand how to make it
> calculate column percents, as in
> 
>      y
> 
> x   1    2     4
>    1 100 66.67  0
>    3  0   0     80
>    4  0   33.33 20
> 
> Pointers appreciated.
> 
> 2. A student said here's  y, a vector representing a time series, and
> here's x, a vector representing a time series. I want to do a
> conventional regression of y on the lag of x. In sas you do xlag=lag(x)
> and then use xlag in a regresson.  I just want something simple like
> lm(y~lag(x)). But in R base there's no lag.
> 
> So I can get it the old fashioned way:
>  > xx <- c(NA,x)
>  > modl <- lm(y~xx[1:length(y)])
>  > summary(modl)
> 
> One sidenote is that summary does not include any mention of the fact
> that 1 observation was lost due to missing value. That seems bad to me.
> 
> I see the lag function in ts, but when I use it, it doesn't change x, so
> obviously I don't see the point of that.
> 
>  > z <- lag (x)
>  > z
>   [1] 1 3 1 3 1 3 1 3 4 4
> 
> So long, thanks in advance, greetings, etc...
> 
> --
> Paul E. Johnson                       email: pauljohn at ukans.edu
> Dept. of Political Science            http://lark.cc.ku.edu/~pauljohn
> University of Kansas                  Office: (785) 864-9086
> Lawrence, Kansas 66045                FAX: (785) 864-5700
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::   
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Tue Feb 12 10:38:12 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Tue, 12 Feb 2002 22:38:12 +1300
Subject: [R] A couple of little R things I can't figure out (column percents, regression with lagged variables)
In-Reply-To: <3C68B843.3020504@ku.edu>; from pauljohn@ku.edu on Tue, Feb 12, 2002 at 12:37:55AM -0600
References: <3C68B843.3020504@ku.edu>
Message-ID: <20020212223812.A8754@camille.indigoindustrial.co.nz>

Long one - sorry in advance.

On Tue, Feb 12, 2002 at 12:37:55AM -0600, Paul Johnson wrote:
> 1.I'm able to produce a cross tabulation table showing counts with 
> either table or xtabs.  But I want column percentages for ...

apply(hmm,2,function(zz){zz/sum(zz)}) * 100


> 2. A student said here's  y, a vector representing a time series, and 
> here's x, a vector representing a time series. I want to do a 
> conventional regression of y on the lag of x. In sas you do xlag=lag(x) 
...
> I see the lag function in ts, but when I use it, it doesn't change x, so 
> obviously I don't see the point of that.

In R, lag(x) shifts the "start" attribute of the time series, but
doesn't alter the data per se.  This is why you get the same before
and after picture, when you just look at it as a vector.  

To see the effect of lagging data, it only makes sense to  compare 
one lagged time series with another time series, like so...

(using x and y above)

> library(ts)
> yt<-ts(y)
> xt<-ts(x)

> lagxt<-lag(xt)
> x1<-ts.union(yt,xt,lagxt)
> x1
Time Series:
Start = 0 
End = 10 
Frequency = 1 
   yt xt lagxt
 0 NA NA     1
 1  2  1     3
 2  4  3     1
 3  1  1     3
 4  4  3     1
 5  2  1     3
 6  4  3     1
 7  1  1     3
 8  4  3     4
 9  2  4     4
 10  4  4    NA

Note the "start" value of x1.

If you want to use lm and friends, you must make them
"plain vanilla" vectors - the time series part confuses
lm.  One way...

> d1<-data.frame(x1)
> r1<-lm(yt ~ lagxt, data=d1)


...
> One sidenote is that summary does not include any mention of the fact 
> that 1 observation was lost due to missing value. That seems bad to me.
...

It does 

> summary(r1)

..[lots of stuff removed]...

Residual standard error: 1.171 on 7 degrees of freedom
Multiple R-Squared: 0.3143,	Adjusted R-squared: 0.2163 
F-statistic: 3.208 on 1 and 7 DF,  p-value: 0.1164 
                      ^^^^^^^^^^

though I'll be the first to admit it doesn't jump up and 
bite you  ;)

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Tue Feb 12 11:38:20 2002
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Tue, 12 Feb 2002 02:38:20 -0800
Subject: [R] A couple of little R things I can't figure out (column
  percents, regression with lagged variables)
In-Reply-To: <x2eljri32s.fsf@blueberry.kubism.ku.dk>
References: <3C68B843.3020504@ku.edu>
 <3C68B843.3020504@ku.edu>
Message-ID: <5.1.0.14.2.20020212023553.01fa3e00@pop4.attglobal.net>

At 11:14 PM 2/11/02, Peter Dalgaard BSA wrote:
 >Paul Johnson <pauljohn at ku.edu> writes:
 >
 >>      y
 >>
 >> x   1    2     4
 >>    1 100 66.67  0
 >>    3  0   0     80
 >>    4  0   33.33 20
 >>
 >> Pointers appreciated.
 >
 >prop.table(hmm,2) * 100
 >

Would it be possible to put a cross reference to this function (and 
margin.table) into the help file for table()?  They are handy functions 
whose existence isn't obvious.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From carlos.ortega at minorplanet.com  Tue Feb 12 11:45:17 2002
From: carlos.ortega at minorplanet.com (Carlos Ortega)
Date: Tue, 12 Feb 2002 11:45:17 +0100
Subject: [R] install mandrake 8.1
In-Reply-To: <001801c1ab5b$8092ea10$72836441@lhotse>
Message-ID: <06f001c1b3b2$5d123730$176ea8c0@MinorplanetDev>

Hello,

Yes, it is because you need the BLAS (Basic Linear Algebra Subprograms)
library.
You can find it at http://rpmfind.net, ask for "blas" and download the
latest rpm file
or it appears in the third CD of the Mandrake distribution.

In any case, the rpm you can find at rpmfind.net, does not seem it requires
that particular
library.

Carlos Ortega.

-----Mensaje original-----
De: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]En nombre de Tony Fagan
Enviado el: viernes, 01 de febrero de 2002 21:03
Para: rhelp
Asunto: [R] install mandrake 8.1


When I install the new RPM for Mandrake 8.1, it fails and cannot find:
libblas.so.3, libgcc_s.so.1, and libgcc_s_so.1 (GLIBC_2.0). Any help would
be very much appreciated. Thanks.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


_____
The information in this email is confidential and it may not be
disclosed or used by anyone other than the addressee. If you are not the
intended recipient, any disclosure, copying, distribution or any action taken or
omitted is prohibited and may be unlawful.
Minorplanet cannot accept responsibility for the accuracy or completeness of
this email as it has been transmitted over a public network. If you suspect
that the email may have been amended, please call the sender.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Tue Feb 12 12:58:21 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Wed, 13 Feb 2002 00:58:21 +1300
Subject: [R] A couple of little R things I can't figure out (column percents, regression with lagged variables)
Message-ID: <20020213005821.A9428@camille.indigoindustrial.co.nz>

After the good observations on "prop.table" as an answer
to Paul Johnson's first problem, and comparing it to my
much less elegant solution....

----- Forwarded message from Jason Turner <jasont at indigoindustrial.co.nz> -----
Date: Tue, 12 Feb 2002 22:38:12 +1300
From: Jason Turner <jasont at indigoindustrial.co.nz>
To: Paul Johnson <pauljohn at ku.edu>
Subject: Re: [R] A couple of little R things I can't figure out (column percents, regression with lagged variables)

...
apply(hmm,2,function(zz){zz/sum(zz)}) * 100
...
----- End forwarded message -----

It's my new invention.  I call it "The Wheel".
Off to the patent office ;)

Jason
who can see that the existing wheel is much better than
his, and thinks R is very, very good.  Take a bow,
R-core.
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Tue Feb 12 13:33:21 2002
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich.Leisch@ci.tuwien.ac.at)
Date: Tue, 12 Feb 2002 13:33:21 +0100
Subject: [R] Code in Rd help files other than in \examples{}
In-Reply-To: <20020211153923.760cd77f.fharrell@virginia.edu>
References: <20020211153923.760cd77f.fharrell@virginia.edu>
Message-ID: <15465.2961.186206.994802@galadriel.ci.tuwien.ac.at>

>>>>> On Mon, 11 Feb 2002 15:39:23 -0500,
>>>>> Frank E Harrell (FEH) wrote:

  > I am stumped in determining the proper syntax for including displayed S code within an R .Rd documentation file, in places other than \examples{}. I have tried
  > \code{
  >    line 1
  >    line 2
  > }

  > but the lines get run together.  When I terminate the lines by \cr, the "\cr" actually appears in the resulting html file.   This is all inside a customized \section{}.

  > On a related note, what is there a way to include large blocks of text within \examples{} that is not part of S comments?  I want such text to appear in the html help file, optimally with auto-wrapping of lines.  \dontrun{} does not appear to be exactly what I need.  I actually need multiple sub-\examples{} with intervening text but no new headings.

  > I am using R 1.4.0 on RedHat Linux 7.1.  Thanks in advance for pointers.

Sorry, we currently only support one code section per .Rd file, namely
the examples section. .Rd was designed to write man pages in a rather
strict format (such that all pages look "similar" and hence are easy
to use).

We are currently investigating new ways for writing documentation,
which will eventually result in new formats for writing function
documentation. 

E.g., the current development version of R has Sweave() and friends
which allows integrating S code in latex documents using the noweb
syntax. http://www.ci.tuwien.ac.at/~leisch/Sweave has some details.
This is meant for writing manuals, reports, etc.

A much more interactive approach is to use XML via Xalan, see Duncan
Temple Lang's SXalan package and related info on
http://www.omegahat.org/SXalan 
This route is more likely to lead to new ways for object documentation
(because computation on the documents is easier).

Of course this doesn't help you with your current problem, it is just
meant as an excuse why we currently do not want to add new features to
.Rd (and have not done so for quite some time).

best,

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Feb 12 14:47:28 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 12 Feb 2002 05:47:28 -0800 (PST)
Subject: [R] A couple of little R things I can't figure out (column
 percents, regression with lagged variables)
In-Reply-To: <x2eljri32s.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.A41.4.44.0202120545010.36578-100000@homer04.u.washington.edu>

On 12 Feb 2002, Peter Dalgaard BSA wrote:

> > 2. A student said here's  y, a vector representing a time series, and
> > here's x, a vector representing a time series. I want to do a
> > conventional regression of y on the lag of x. In sas you do
> > xlag=lag(x) and then use xlag in a regresson.  I just want something
> > simple like lm(y~lag(x)). But in R base there's no lag.
> >
> > So I can get it the old fashioned way:
> >  > xx <- c(NA,x)
> >  > modl <- lm(y~xx[1:length(y)])
> >  > summary(modl)
> >
> > One sidenote is that summary does not include any mention of the fact
> > that 1 observation was lost due to missing value. That seems bad to me.
> >
> > I see the lag function in ts, but when I use it, it doesn't change x,
> > so obviously I don't see the point of that.
> >
> >  > z <- lag (x)
> >  > z
> >   [1] 1 3 1 3 1 3 1 3 4 4
>
> This stuff only works for time series, e.g. cbind(ts(x),lag(ts(x))).
> Notice that even then, lag() works in the opposite direction (for
> historical reasons).
>

You could, however, write a function

mylag<-function(x,d=1) {
	n<-length(x)
	c(rep(NA,d),x)[1:n]
}

and use lm(y~mylag(x))


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Tue Feb 12 14:50:05 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Tue, 12 Feb 2002 08:50:05 -0500
Subject: [R] Code in Rd help files other than in \examples{}
In-Reply-To: <15465.2961.186206.994802@galadriel.ci.tuwien.ac.at>
References: <20020211153923.760cd77f.fharrell@virginia.edu>
	<15465.2961.186206.994802@galadriel.ci.tuwien.ac.at>
Message-ID: <20020212085005.54d4a263.fharrell@virginia.edu>

Thank you very much for the note Friedrich.  May I ask two follow-up questions to make sure I understand all the possibilities in Rd files?  (1) Is there a pure verbatim environment for Rd files?  (2) Is there a way to put newlines inside \code{} text?  Thanks -Frank

On Tue, 12 Feb 2002 13:33:21 +0100
Friedrich.Leisch at ci.tuwien.ac.at wrote:

> >>>>> On Mon, 11 Feb 2002 15:39:23 -0500,
> >>>>> Frank E Harrell (FEH) wrote:
> 
>   > I am stumped in determining the proper syntax for including displayed S code within an R .Rd documentation file, in places other than \examples{}. I have tried
>   > \code{
>   >    line 1
>   >    line 2
>   > }
> 
>   > but the lines get run together.  When I terminate the lines by \cr, the "\cr" actually appears in the resulting html file.   This is all inside a customized \section{}.
> 
>   > On a related note, what is there a way to include large blocks of text within \examples{} that is not part of S comments?  I want such text to appear in the html help file, optimally with auto-wrapping of lines.  \dontrun{} does not appear to be exactly what I need.  I actually need multiple sub-\examples{} with intervening text but no new headings.
> 
>   > I am using R 1.4.0 on RedHat Linux 7.1.  Thanks in advance for pointers.
> 
> Sorry, we currently only support one code section per .Rd file, namely
> the examples section. .Rd was designed to write man pages in a rather
> strict format (such that all pages look "similar" and hence are easy
> to use).
> 
> We are currently investigating new ways for writing documentation,
> which will eventually result in new formats for writing function
> documentation. 
> 
> E.g., the current development version of R has Sweave() and friends
> which allows integrating S code in latex documents using the noweb
> syntax. http://www.ci.tuwien.ac.at/~leisch/Sweave has some details.
> This is meant for writing manuals, reports, etc.
> 
> A much more interactive approach is to use XML via Xalan, see Duncan
> Temple Lang's SXalan package and related info on
> http://www.omegahat.org/SXalan 
> This route is more likely to lead to new ways for object documentation
> (because computation on the documents is easier).
> 
> Of course this doesn't help you with your current problem, it is just
> meant as an excuse why we currently do not want to add new features to
> .Rd (and have not done so for quite some time).
> 
> best,
> 
> -- 
> -------------------------------------------------------------------
>                         Friedrich  Leisch 
> Institut f?r Statistik                     Tel: (+43 1) 58801 10715
> Technische Universit?t Wien                Fax: (+43 1) 58801 10798
> Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
> A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
> -------------------------------------------------------------------
> 


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tfagan at nextaction.net  Tue Feb 12 16:35:44 2002
From: tfagan at nextaction.net (Tony Fagan)
Date: Tue, 12 Feb 2002 08:35:44 -0700
Subject: [R] Re: R install problem
References: <Pine.LNX.4.33L2.0202020939460.5067-100000@localhost.localdomain>
Message-ID: <004c01c1b3da$efdcec40$72836441@lhotse>

Thank you very much. Michele Alzetta told me to type this at the command
prompt:
> urpmi liblapack3
> urpmi libgcc3
It prompts you for one of the Mandrake install disks and worked great.
Thanks again.

----- Original Message -----
From: <mikalzet at libero.it>
To: <r-help at stat.math.ethz.ch>
Cc: <tfagan at nextaction.net>
Sent: Saturday, February 02, 2002 1:47 AM
Subject: Re: R install problem


> On Fri, 1 Feb 2002, Tony Fagan wrote:
>
> > I downloaded your RPM and tried installing it on Madrake 8.1.
> > It failed and said it could not find:
> >
> > libblas.so.3
>
> To install these, from console as root do:
>
> urpmi liblapack3
>
> > libgcc_s.so.1
> > libgcc_s.so.1 (GLIBC_2.0)
>
> urpmi libgcc3
>
> --
> Michele Alzetta
>
>
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikalzet at libero.it  Tue Feb 12 16:45:28 2002
From: mikalzet at libero.it (mikalzet@libero.it)
Date: Tue, 12 Feb 2002 16:45:28 +0100 (CET)
Subject: [R] install mandrake 8.1
In-Reply-To: <06f001c1b3b2$5d123730$176ea8c0@MinorplanetDev>
Message-ID: <Pine.LNX.4.33L2.0202121632550.5504-100000@localhost.localdomain>

On Tue, 12 Feb 2002, Carlos Ortega wrote:

> Yes, it is because you need the BLAS (Basic Linear Algebra Subprograms)
> library.
> You can find it at http://rpmfind.net, ask for "blas" and download the
> latest rpm file
> or it appears in the third CD of the Mandrake distribution.

In answer to Tony Fagan, who asked:

> When I install the new RPM for Mandrake 8.1, it fails and cannot find:
> libblas.so.3, libgcc_s.so.1, and libgcc_s_so.1 (GLIBC_2.0). Any help would
> be very much appreciated. Thanks.

When rpm's are available on installation CD's I do not think it is a good
idea to look for them on rpmfind.

Install liblapack3 from your installation CD #3, or download the rpm
directly from a Mandrake mirror site.
Install libgcc3.0 from your instllation CD #2, or download the pm directly
from a Mandrake mirror site.

In general, when an RPM install fails, you can find which rpm's provide
the files needed with:

urpmf nameofmissingfile

-- 
Michele Alzetta

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Tue Feb 12 17:06:46 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Tue, 12 Feb 2002 17:06:46 +0100 (MET)
Subject: [R] Code in Rd help files other than in \examples{}
In-Reply-To: <20020212085005.54d4a263.fharrell@virginia.edu>
Message-ID: <Pine.GSO.4.10.10202121657100.12247-100000@speed.maths.lth.se>

I struggled with the same problems a while ago when I wanted to do a tree
structure of classes using verbatim text, but I found out that

  1) newlines with \code{} are *not* possible
  2) initial spaces in \code{} are neglected.

However, there are nasty work-arounds. For example, see

 http://www.maths.lth.se/bioinformatics/software/R/library/com.braju.sma/html/MAData.html

to get an idea what I want to do. This I do with the followind Rd code:

 com.braju.sma \cr
 \bold{Class MAData}\cr

 \code{\link[R.oo]{Object}}\cr
 \code{~~|}\cr
 \code{~~+--}\emph{\code{\link[com.braju.sma]{MicroarrayData}}}\cr
 \code{~~~~~~~|}\cr
 \code{~~~~~~~+--}\code{MAData}\cr

 \bold{Directly Known Subclasses:}\cr
 \code{\link[com.braju.sma]{TMAData}}\cr

 public static class \bold{MAData}\cr
 extends \code{\link[com.braju.sma]{MicroarrayData}}\cr

As you see, I had to replace spaces with tildes and make each line as a
seperate \code{} followed by a \cr. Also, I have no idea what it looks
like in the LaTeX generated documents. The text based help pages looks ok
though. Luckily, I generate these lines of code automatically (home made
[R] script).

So, I am afraid there is no easy solution to your problem. If you hear
about a better way, please tell me.

Cheers

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences 
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e
http://www.maths.lth.se/matstat/staff/hb/



On Tue, 12 Feb 2002, Frank E Harrell Jr wrote:

> Thank you very much for the note Friedrich.  May I ask two follow-up questions to make sure I understand all the possibilities in Rd files?  (1) Is there a pure verbatim environment for Rd files?  (2) Is there a way to put newlines inside \code{} text?  Thanks -Frank
> 
> On Tue, 12 Feb 2002 13:33:21 +0100
> Friedrich.Leisch at ci.tuwien.ac.at wrote:
> 
> > >>>>> On Mon, 11 Feb 2002 15:39:23 -0500,
> > >>>>> Frank E Harrell (FEH) wrote:
> > 
> >   > I am stumped in determining the proper syntax for including displayed S code within an R .Rd documentation file, in places other than \examples{}. I have tried
> >   > \code{
> >   >    line 1
> >   >    line 2
> >   > }
> > 
> >   > but the lines get run together.  When I terminate the lines by \cr, the "\cr" actually appears in the resulting html file.   This is all inside a customized \section{}.
> > 
> >   > On a related note, what is there a way to include large blocks of text within \examples{} that is not part of S comments?  I want such text to appear in the html help file, optimally with auto-wrapping of lines.  \dontrun{} does not appear to be exactly what I need.  I actually need multiple sub-\examples{} with intervening text but no new headings.
> > 
> >   > I am using R 1.4.0 on RedHat Linux 7.1.  Thanks in advance for pointers.
> > 
> > Sorry, we currently only support one code section per .Rd file, namely
> > the examples section. .Rd was designed to write man pages in a rather
> > strict format (such that all pages look "similar" and hence are easy
> > to use).
> > 
> > We are currently investigating new ways for writing documentation,
> > which will eventually result in new formats for writing function
> > documentation. 
> > 
> > E.g., the current development version of R has Sweave() and friends
> > which allows integrating S code in latex documents using the noweb
> > syntax. http://www.ci.tuwien.ac.at/~leisch/Sweave has some details.
> > This is meant for writing manuals, reports, etc.
> > 
> > A much more interactive approach is to use XML via Xalan, see Duncan
> > Temple Lang's SXalan package and related info on
> > http://www.omegahat.org/SXalan 
> > This route is more likely to lead to new ways for object documentation
> > (because computation on the documents is easier).
> > 
> > Of course this doesn't help you with your current problem, it is just
> > meant as an excuse why we currently do not want to add new features to
> > .Rd (and have not done so for quite some time).
> > 
> > best,
> > 
> > -- 
> > -------------------------------------------------------------------
> >                         Friedrich  Leisch 
> > Institut f?r Statistik                     Tel: (+43 1) 58801 10715
> > Technische Universit?t Wien                Fax: (+43 1) 58801 10798
> > Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
> > A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
> > -------------------------------------------------------------------
> > 
> 
> 
> -- 
> Frank E Harrell Jr              Prof. of Biostatistics & Statistics
> Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
> U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alexander.hener at gmx.de  Tue Feb 12 17:17:31 2002
From: alexander.hener at gmx.de (alexander.hener@gmx.de)
Date: Tue, 12 Feb 2002 17:17:31 +0100 (MET)
Subject: [R] Grouping and Computing
Message-ID: <6725.1013530651@www9.gmx.net>

hi group,

thanks to Gregory, James, Joerg & Kaspar (in alphabetical order) for their
quick and friendly answers. 
Maybe there is someone out there with a related problem, so here is a short
summary in form of an FAQ:

How do I apply functions to certain rows of a matrics or a dataframe, in
dependence of certain (other) attributes? For example, compute separately
average weights for men and women.
One can use the function "tapply()", which allows to apply a function (mean)
to attribute X (weight) ordered by attribute Z (gender): 

"tapply(X,Z,mean)"

This function gives a list, where the results (means) are given separated by
the attributed Z.

Are there any other functions to do this?
Yes, for example functions like "by()" or "aggregate()" => "by(X,Z,mean)"
"aggregate(X,Z,mean)". But "tapply()" seems to be the most popular, and one
should try to keep it simple.

If I use a complicated function, how can I avoid confusion or simply
increasy the clearity?
First, define the function separately:

"complicated.function <- function(x) ..."

Second, use "split()" to separate the matrics or dataframe called data into
groups according to attribute Z:

"groups <- split(data,data$Z)"

Finally, use "sapply()" to apply the function to the different groups:

"sapply(groups,complicated.function)"

I hope this helps, but I realise that without much experience, like in my
case, it can first be disturbing to have such an abundance of possibilities to
"do something", and second that it is very difficult to treat a topic
separately. For example, there would be much to say about lists in this context.

CU,

Alexander Hener.

-- 
GMX - Die Kommunikationsplattform im Internet.
http://www.gmx.net

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Tue Feb 12 17:39:11 2002
From: rolf at math.unb.ca (Rolf Turner)
Date: Tue, 12 Feb 2002 12:39:11 -0400 (AST)
Subject: [R] Plotting with direction of axes reversed.
Message-ID: <200202121639.MAA08021@tanner.math.unb.ca>


Over the years there have been inquiries to these lists as to how to
produce plots with the direction(s) of axes reversed.  In response to
some of these inquiries, I have provided a function call ``rplot''
which automated the procedure for such axis reversal.

Recently Herberto Ghezzo of McGill University pointed out to me that
there was a bug in my code.  I have now fixed this bug (and a couple
of others which I discovered in the revision process).  The revised
code of rplot() is enclosed below.

My thanks to Herberto Ghezzo for spotting the bug and for helping to
test the revised version.

					cheers,

						Rolf Turner
						rolf at math.unb.ca

===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===+===
rplot <- function(x, y, xrev = F, yrev = T, xside = if(yrev) 3 else 1,
                  yside = if(xrev) 4 else 2, xlab = NULL, ylab = NULL,
                  bty = NULL, ...)
{
#
# Function rplot --- r for ``reverse'' (to reverse the direction of
# axes).
#
# Copyright (C) 1996 by T. Rolf Turner, University of New Brunswick.
#
# Permission to use, copy, modify, and distribute this software for
# any purpose and without fee is hereby granted, provided that the
# above copyright notice and this permission notice appear in all
# copies.
#
# Revised 26/5/99.
#
# Some bugs fixed 7/2/02, with the assistance of Herberto Ghezzo
# of McGill University.
#
	xname <- if(is.null(xlab)) deparse(substitute(x)) else xlab
	yname <- if(is.null(ylab)) deparse(substitute(y)) else ylab
	xlab <- if(yrev) "" else xname
	ylab <- if(xrev) "" else yname
	y1 <- if(yrev) -y else y
	x1 <- if(xrev) -x else x
	old.mar <- par()$mar
	on.exit(par(mar = old.mar))
	par(mar = old.mar[c(xside, yside, 4 - xside, 6 - yside)])
	plot(x1, y1, axes = F, xlab = xlab, ylab = ylab, ...)
	if(xrev) {
		axis(xside, at = pretty(-x), labels = rev(pretty(x)))
		mtext(side = yside, line = 2, text = yname)
	}
	else axis(xside)
	if(yrev) {
		axis(yside, at = pretty( - y), labels = rev(pretty(y)), 
			srt = 90)
		mtext(side = xside, line = 3, text = xname)
	}
	else axis(yside)
	if(!is.null(bty))
		box(bty = bty)
	invisible()
}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jeff_hamann at hamanndonald.com  Tue Feb 12 18:20:59 2002
From: jeff_hamann at hamanndonald.com (Jeff D. Hamann)
Date: Tue, 12 Feb 2002 09:20:59 -0800
Subject: [R] getting quotes out of matrix?
Message-ID: <001701c1b3e9$a4149a10$0300a8c0@godzilla>

I've trying to check for model bias. It was recommended to me that I should
break the residuals into n groups and test to see if the mean is different
from zero. What is the best way to generate the groups. I've generated a
matrix that contains the residuals and groups, but the values all have
quotes around them.

1) how do I get rid of the quotes?
2) is this an acceptable method for testing for model bias?

# this is the test code...
signif <- symnum(fit3sls[[2]]$residuals,
  corr = FALSE,
  na = FALSE,
  cutpoints = c(-5,.1,.2,.3,.4, 5),
  symbols   =  c("A","B","C","D","E"))

table <- cbind( fit3sls[[2]]$residuals, signif )
colnames(table) <- c("resid","group")

# prints fine
print.matrix(table, quote = FALSE, right = TRUE )

#    resid_table <- matrix(table,quote=FALSE )
# just to look at the data
#boxplot( resid ~ group, data = resid_table )



Thanks,
Jeff.



Jeff D. Hamann
Hamann, Donald & Associates, Inc.
PO Box 1421
Corvallis, Oregon USA 97339-1421
Bus. 541-753-7333
Cell. 541-740-5988
jeff_hamann at hamanndonald.com
www.hamanndonald.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From BCooke at exchange.cfl.forestry.ca  Tue Feb 12 18:22:09 2002
From: BCooke at exchange.cfl.forestry.ca (Cooke, Barry)
Date: Tue, 12 Feb 2002 12:22:09 -0500
Subject: [R] problem plotting nls objects: couldn't find function "..."
Message-ID: <5889ACC9E53BD511A57E0002A537C0BD85C92B@s2-que-r1.cfl.forestry.ca>

Dear R-help,

I can't plot nls objects for some reason.  The following example, taken from
help(plot.nls) illustrates the problem:

> data(Orthodont)
> fm1 <- lme(distance ~ age, Orthodont, random = ~ age | Subject)
> plot(fm1, resid(., type = "p") ~ fitted(.) | Sex, abline = 0) 
Error in do.call(plotFun, as.list(args)) : 
        couldn't find function "xyplot"

I checked the 2002 archives to see if this is a common problem resulting
from a recent break, but found no hints of that.  I am guessing that plot()
is correctly calling on plot.nls() which is calling the S function xyplot()
instead of the  R function plot.xy(), but I am not sure if this is so.  The
code for plot.nls(), appended below, suggests this is the intended
behaviour.  I noticed here that plot.nls() also relies on bwplot(), which I
(and my system) can't find either.  Why would this be happening and what
should I change?  I should mention: packages nls and nlme were loaded at
startup using the library() command.  Sorry if I am missing something
obvious.

My system is as follows:

> R.version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    4.1            
year     2002           
month    01             
day      30             
language R              

Barry J. Cooke

> plot.nls
function (x, form = resid(., type = "pearson") ~ fitted(.), abline, 
    id = NULL, idLabels = NULL, idResType = c("pearson", "normalized"), 
    grid, ...) 
{
    object <- x
    if (!inherits(form, "formula")) {
        stop("\"Form\" must be a formula")
    }
    allV <- all.vars(asOneFormula(form, id, idLabels))
    allV <- allV[is.na(match(allV, c("T", "F", "TRUE", "FALSE")))]
    if (length(allV) > 0) {
        data <- getData(object)
        if (is.null(data)) {
            alist <- lapply(as.list(allV), as.name)
            names(alist) <- allV
            alist <- c(as.list(as.name("data.frame")), alist)
            mode(alist) <- "call"
            data <- eval(alist, sys.parent(1))
        }
        else {
            if (any(naV <- is.na(match(allV, names(data))))) {
                stop(paste(allV[naV], "not found in data"))
            }
        }
    }
    else data <- NULL
    if (inherits(data, "groupedData")) {
        ff <- formula(data)
        rF <- deparse(getResponseFormula(ff)[[2]])
        cF <- deparse(getCovariateFormula(ff)[[2]])
        lbs <- attr(data, "labels")
        unts <- attr(data, "units")
        if (!is.null(lbs$x)) 
            cL <- paste(lbs$x, unts$x)
        else cF <- NULL
        if (!is.null(lbs$y)) 
            rL <- paste(lbs$y, unts$y)
        else rF <- NULL
    }
    else {
        rF <- cF <- NULL
    }
    dots <- list(...)
    if (length(dots) > 0) 
        args <- dots
    else args <- list()
    data <- as.list(c(as.list(data), . = list(object)))
    covF <- getCovariateFormula(form)
    .x <- eval(covF[[2]], data)
    if (!is.numeric(.x)) {
        stop("Covariate must be numeric")
    }
    argForm <- ~.x
    argData <- data.frame(.x = .x, check.names = FALSE)
    if (is.null(xlab <- attr(.x, "label"))) {
        xlab <- deparse(covF[[2]])
        if (!is.null(cF) && (xlab == cF)) 
            xlab <- cL
        else if (!is.null(rF) && (xlab == rF)) 
            xlab <- rL
    }
    if (is.null(args$xlab)) 
        args$xlab <- xlab
    respF <- getResponseFormula(form)
    if (!is.null(respF)) {
        .y <- eval(respF[[2]], data)
        if (is.null(ylab <- attr(.y, "label"))) {
            ylab <- deparse(respF[[2]])
            if (!is.null(cF) && (ylab == cF)) 
                ylab <- cL
            else if (!is.null(rF) && (ylab == rF)) 
                ylab <- rL
        }
        argForm <- .y ~ .x
        argData[, ".y"] <- .y
        if (is.null(args$ylab)) 
            args$ylab <- ylab
    }
    grpsF <- getGroupsFormula(form)
    if (!is.null(grpsF)) {
        gr <- splitFormula(grpsF, sep = "*")
        for (i in 1:length(gr)) {
            auxGr <- all.vars(gr[[i]])
            for (j in auxGr) {
                argData[[j]] <- eval(as.name(j), data)
            }
        }
        if (length(argForm) == 2) 
            argForm <- eval(parse(text = paste("~ .x |",
deparse(grpsF[[2]]))))
        else argForm <- eval(parse(text = paste(".y ~ .x |", 
            deparse(grpsF[[2]]))))
    }
    args <- c(args, formula = list(argForm), data = list(argData))
    if (is.null(args$strip)) {
        args$strip <- function(...) strip.default(..., style = 1)
    }
    if (is.null(args$cex)) 
        args$cex <- par("cex")
    if (is.null(args$adj)) 
        args$adj <- par("adj")
    if (!is.null(id)) {
        idResType <- match.arg(idResType)
        id <- switch(mode(id), numeric = {
            if ((id <= 0) || (id >= 1)) {
                stop("Id must be between 0 and 1")
            }
            as.logical(abs(resid(object, type = idResType)) > 
                -qnorm(id/2))
        }, call = eval(asOneSidedFormula(id)[[2]], data), stop("\"Id\" can
only be a formula or numeric."))
        if (is.null(idLabels)) {
            idLabels <- getGroups(object)
            if (length(idLabels) == 0) 
                idLabels <- 1:object$dims$N
            idLabels <- as.character(idLabels)
        }
        else {
            if (mode(idLabels) == "call") {
                idLabels <-
as.character(eval(asOneSidedFormula(idLabels)[[2]], 
                  data))
            }
            else if (is.vector(idLabels)) {
                if (length(idLabels <- unlist(idLabels)) != length(id)) {
                  stop("\"IdLabels\" of incorrect length")
                }
                idLabels <- as.character(idLabels)
            }
            else {
                stop("\"IdLabels\" can only be a formula or a vector")
            }
        }
    }
    if (missing(abline)) {
        if (missing(form)) {
            abline <- c(0, 0)
        }
        else {
            abline <- NULL
        }
    }
    assign("abl", abline)
    if (length(argForm) == 3) {
        if (is.numeric(.y)) {
            plotFun <- "xyplot"
            if (is.null(args$panel)) {
                args <- c(args, panel = list(function(x, y, subscripts, 
                  ...) {
                  dots <- list(...)
                  if (grid) panel.grid()
                  panel.xyplot(x, y, ...)
                  if (any(ids <- id[subscripts])) {
                    text(x[ids], y[ids], idLabels[subscripts][ids], 
                      cex = dots$cex, adj = dots$adj)
                  }
                  if (!is.null(abl)) {
                    panel.abline(abl, ...)
                  }
                }))
            }
        }
        else {
            plotFun <- "bwplot"
            if (is.null(args$panel)) {
                args <- c(args, panel = list(function(x, y, ...) {
                  if (grid) panel.grid()
                  panel.bwplot(x, y, ...)
                  if (!is.null(abl)) {
                    panel.abline(v = abl[1], ...)
                  }
                }))
            }
        }
    }
    else {
        plotFun <- "histogram"
        if (is.null(args$panel)) {
            args <- c(args, panel = list(function(x, ...) {
                if (grid) panel.grid()
                panel.histogram(x, ...)
                if (!is.null(abl)) {
                  panel.abline(v = abl[1], ...)
                }
            }))
        }
    }
    if (missing(grid)) {
        if (plotFun == "xyplot") 
            grid <- TRUE
        else grid <- FALSE
    }
    do.call(plotFun, as.list(args))
}

Dr. Barry J. Cooke
Natural Resources Canada
Canadian Forestry Service
Laurentian Forestry Centre
P.O. Box 3800
Ste-Foy, QC
G1V 4C7

Tel: (418) 648-7532
Fax: (418) 648-5849

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Feb 12 18:30:26 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 12 Feb 2002 17:30:26 +0000 (GMT)
Subject: [R] getting quotes out of matrix?
In-Reply-To: <001701c1b3e9$a4149a10$0300a8c0@godzilla>
Message-ID: <Pine.GSO.4.44.0202121726360.23824-100000@auk.stats>

On Tue, 12 Feb 2002, Jeff D. Hamann wrote:

> I've trying to check for model bias. It was recommended to me that I should
> break the residuals into n groups and test to see if the mean is different
> from zero. What is the best way to generate the groups. I've generated a
> matrix that contains the residuals and groups, but the values all have
> quotes around them.
>
> 1) how do I get rid of the quotes?
> 2) is this an acceptable method for testing for model bias?
>
> # this is the test code...
> signif <- symnum(fit3sls[[2]]$residuals,
>   corr = FALSE,
>   na = FALSE,
>   cutpoints = c(-5,.1,.2,.3,.4, 5),
>   symbols   =  c("A","B","C","D","E"))
>
> table <- cbind( fit3sls[[2]]$residuals, signif )
> colnames(table) <- c("resid","group")
>
> # prints fine
> print.matrix(table, quote = FALSE, right = TRUE )
>
> #    resid_table <- matrix(table,quote=FALSE )
> # just to look at the data
> #boxplot( resid ~ group, data = resid_table )

1) standard names in R don't have `_' in

2) signif is, I presume, character or factor.  You want a data frame, not a
matrix, and that's what boxplot.formula expects.  cbind creates a character
matrix.  So use, say,

table <- data.frame( resid = fit3sls[[2]]$residuals, signif )

3) Avoid the names of R objects like resid and signif will help not to
confuse your readers, yourself and perhaps R.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Feb 12 18:34:58 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 12 Feb 2002 17:34:58 +0000 (GMT)
Subject: [R] problem plotting nls objects: couldn't find function "..."
In-Reply-To: <5889ACC9E53BD511A57E0002A537C0BD85C92B@s2-que-r1.cfl.forestry.ca>
Message-ID: <Pine.GSO.4.44.0202121730510.23824-100000@auk.stats>

On Tue, 12 Feb 2002, Cooke, Barry wrote:

> Dear R-help,
>
> I can't plot nls objects for some reason.  The following example, taken from
> help(plot.nls) illustrates the problem:
>
> > data(Orthodont)
> > fm1 <- lme(distance ~ age, Orthodont, random = ~ age | Subject)
> > plot(fm1, resid(., type = "p") ~ fitted(.) | Sex, abline = 0)
> Error in do.call(plotFun, as.list(args)) :
>         couldn't find function "xyplot"

> I checked the 2002 archives to see if this is a common problem resulting
> from a recent break, but found no hints of that.  I am guessing that plot()
> is correctly calling on plot.nls() which is calling the S function xyplot()
> instead of the  R function plot.xy(), but I am not sure if this is so.  The
> code for plot.nls(), appended below, suggests this is the intended
> behaviour.  I noticed here that plot.nls() also relies on bwplot(), which I
> (and my system) can't find either.  Why would this be happening and what
> should I change?  I should mention: packages nls and nlme were loaded at
> startup using the library() command.  Sorry if I am missing something
> obvious.

library(lattice)

(which is in that Windows distribution, but otherwise you would need to get
it from CRAN, plus grid).

Until recently this did not work in R, but at least your example now does.

xyplot is nothing like plot.xy.

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Tue Feb 12 18:11:22 2002
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich.Leisch@ci.tuwien.ac.at)
Date: Tue, 12 Feb 2002 18:11:22 +0100
Subject: [R] Code in Rd help files other than in \examples{}
In-Reply-To: <20020212085005.54d4a263.fharrell@virginia.edu>
References: <20020211153923.760cd77f.fharrell@virginia.edu>
	<15465.2961.186206.994802@galadriel.ci.tuwien.ac.at>
	<20020212085005.54d4a263.fharrell@virginia.edu>
Message-ID: <15465.19642.211362.51523@celeborn.leisch.at>

>>>>> On Tue, 12 Feb 2002 08:50:05 -0500,
>>>>> Frank E Harrell (FEH) wrote:

  > Thank you very much for the note Friedrich.  May I ask two
  > follow-up questions to make sure I understand all the
  > possibilities in Rd files?  (1) Is there a pure verbatim
  > environment for Rd files?

No, it would be rather trivial to add, but I'd rather spend the time
working on future solutions than improving the current code.

Just to avoid misunderstandings: This does not mean that writing Rd
files is likr driving in a dead end street ... R core certainly has
the largets body of documents in Rd format (more than 600 files in the
base package, not to count all the other packages we are involved
with) and either we keep the syntax or provide a perfect translation
facility where necessary. 

  > (2) Is there a way to put newlines
  > inside \code{} text?

No, \code{} is meant for short code snippets. E.g., in the text
translations it is highlighted by single quotes, which will look funny
when the content spreads over multiple lines.

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Tue Feb 12 19:28:13 2002
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Wed, 13 Feb 2002 07:28:13 +1300
Subject: [R] Best Subsets regression
Message-ID: <4.3.2.7.0.20020213065746.00b8aa20@mail.stats.waikato.ac.nz>

Hi,

I have found a minor problem with leaps(). In 1.3.1 under Windows 2000 I 
seem to only be able to obtain values for one statistic at a time. That is 
choosing

method=c("Cp","adjr2","r2")

just gives Cp values.

To mimic the output of Minitab's

MTB > BReg 'Fertility' 'Agriculture'-'Infant.Mortality' ;
SUBC>   NVars 1 5;
SUBC>   Best 5;
SUBC>   Constant.

I need to go

data(swiss)
leapa <-leaps(as.matrix(swiss[,-1]),swiss[,1],method="Cp", nbest=5)
leapb <-leaps(as.matrix(swiss[,-1]),swiss[,1],method="adjr2", nbest=5)
leapc <-leaps(as.matrix(swiss[,-1]),swiss[,1],method="r2", nbest=5)
best <- cbind(leapc$r2,leapb$adjr2,leapa$Cp,leapa$which)
colnames(best) <- c( "R.Sq", "Adj.R.Sq","Cp","X1","X2","X3","X4","X5")
best

which seems rather wasteful, not that it matters on a small dataset like 
"swiss".

Actually I have the same grip with SPLUS, so I suppose this feature is 
retained for compatibility?

Dr Murray Jorgensen               on leave from:
Mathematics and Statistics       Department of Statistics
University of Victoria           University of Waikato
PO BOX 3045 STN CSC              Hamilton, New Zealand
Victoria, B.C.      Email: maj at waikato.ac.nz
Canada V8W 3P4      Phone: (250) 721-7460 wk  (250) 477 2581 home

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pfaffman at relaxpc.com  Tue Feb 12 20:11:49 2002
From: pfaffman at relaxpc.com (Jay Pfaffman)
Date: Tue, 12 Feb 2002 11:11:49 -0800
Subject: [R] increasing space available for labels
Message-ID: <200202121911.g1CJBnJ21592@aaalab.Stanford.EDU>

I've got a graph with really long labels.  I've tried decreasing the
font size, but they're still getting truncated.  I've RTFMed & it
seems that mgp should have something to do with this, but I can't make
it work.  I need about 2-3x as much space for labels as is available
by default (or on the example below).

    boxplot(split(ranks,c(1:25)), names=items, horizontal=F)
    par(las=2,ps=7,mgp=c(1, 1, 0))
    boxplot(split(ranks,c(1:25)), names=items, notch=T, horizontal=F, add=F)
    abline(h=18)
    abline(h=13)
    abline(h=10)
    abline(v=5.5)
    abline(v=10.5)
    abline(v=15.5)
    abline(v=20.5)
    par(ps=20)
    for (x in 1:5) text(x*5-2,y=26, categories[x])

P.S. Many thanks to the folks who responded to my last plea for help
with not being able to find order() in the man pages.  I don't know
how I missed it.  I even looked for it in the "See Also" of the sort
and rank manpages (where it's pointed to).  I'm sure this problem is
similarly trivial, but I just can't see it.

-- 
Jay Pfaffman                           pfaffman at relaxpc.com
+1-415-821-7507 (H)                    +1-415-810-2238 (M)
http://relax.ltc.vanderbilt.edu/~pfaffman/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Gavin.Kennedy at csiro.au  Wed Feb 13 00:47:14 2002
From: Gavin.Kennedy at csiro.au (Gavin.Kennedy@csiro.au)
Date: Wed, 13 Feb 2002 10:47:14 +1100
Subject: [R] ROracle: Call function name not in load table
Message-ID: <754324CDE8E4EE4498D8E0357D9136854E3920@saab-bt.act.cmis.csiro.au>

Hi,

I've just installed the ROracle package. The library loads okay but when I
try to instantiate a database manager I get an error:

> ora <- dbManager("Oracle")  
Error in .Call("RS_Ora_init", config.params, reload) : 
        .Call function name not in load table

Has anyone had any experience with using this package?

Regards,

Gavin Kennedy
Software Engineer - Bioinformatics
CSIRO Mathematical and Information Sciences
Gavin.Kennedy at CSIRO.AU
ph: 612-6246-4929
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Wed Feb 13 01:15:01 2002
From: rossini at blindglobe.net (A.J. Rossini)
Date: 12 Feb 2002 16:15:01 -0800
Subject: [R] SJava still hates GUIs on Linux, both Blackdown and IBM...  Can anyone verify IBM or Sun?
Message-ID: <87r8nq8cfu.fsf@jeeves.blindglobe.net>


I've been having fun with crashes recently, both with Blackdown JDK
and the IBM JDK, while building up the ROrca interface.  It's just not
stable for me, and my lack of grokking the intimate details of lazy
evaluation is not helping.

Brushing works, though, which is nice.  I need a bit more stability
before I get the "data add/change" features in line, though.

Anyway, other than the above report, I'm requesting information
regarding stability of Swing components for both IBM and Sun JVMs
under Linux.  Any reports or anecdotal information would be welcome,
I'm curious mostly as to whether I need to evaluate Sun's Linux JVM,
or whether it is time to bite the bullet and write the small bit of
code (example is nicely documented, thanks Duncan!) to embed R in
Orca.  

Also, with respect to R within Java, has anyone gotten the example
script to work?    I'm getting the following:

> rossini 75 > ./RJava
> Loading RInterpreter library
> 
> R : Copyright 2002, The R Development Core Team
> Version 1.4.1  (2002-01-30)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type `license()' or `licence()' for distribution details.
> 
> R is a collaborative project with many contributors.
> Type `contributors()' for more information.
> 
> Type `demo()' for some demos, `help()' for on-line help, or
> `help.start()' for a HTML browser interface to help.
> Type `q()' to quit R.
> 
> [search]
> .GlobalEnv
> package:ctest
> Autoloads
> package:base
> [objects]

and then it pegs my CPU at 100%, "accepts" input in the loose sense (I
can type, but never get a response).

Or should I be firing it up in another way?

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
-------------- http://software.biostat.washington.edu/ ----------------
FHCRC: M: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
--- I'm 40% time until March 1st.  Try email the other 3 days.... -----
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Jeremy.Whish at csiro.au  Wed Feb 13 05:47:01 2002
From: Jeremy.Whish at csiro.au (Jeremy.Whish@csiro.au)
Date: Wed, 13 Feb 2002 15:47:01 +1100
Subject: [R] formatting date strings
Message-ID: <B657AD42D41D914FBE1C94FFE907B34701E3E6@exqld1-tw.tag.csiro.au>

Hi  all 

I am a relatively new R user so please excuse this question if it has been
covered some where else, just tell me where to find it. 

I have a simulation model that out puts dates in a standard dd/mm/yy format
R reads this as a factor and I cant find anything that will allow me to
convert them to a date. In S+ I have used a chron() function  that required
you to specify the format of the input date and the format of the output
date.
My question is: does R have such a function?  If not, can any one suggest a
way to tell R that information in dd/mm/yy format being read in with
read.table() is actually a date.

any help would be appreciated

Jeremy

Jeremy Whish, 
Farming Systems Research 
Agricultural Production Systems Research Unit, 
CSIRO Sustainable Ecosystems,
APSRU, PO Box 102, Toowoomba, Qld, Australia. 4350
Phone +61 (07) 4688 1419
Mobile 0428 763426
Fax  +61 (07) 4688 1193
Email jeremy.whish at csiro.au
WEB  http//www.apsru.gov.au 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Wed Feb 13 06:16:47 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Tue, 12 Feb 2002 23:16:47 -0600
Subject: [R] formatting date strings
In-Reply-To: <B657AD42D41D914FBE1C94FFE907B34701E3E6@exqld1-tw.tag.csiro.au>
References: <B657AD42D41D914FBE1C94FFE907B34701E3E6@exqld1-tw.tag.csiro.au>
Message-ID: <15465.63167.168063.277407@sonny.eddelbuettel.com>


  "Jeremy" == Jeremy Whish <Jeremy.Whish at csiro.au> writes:
  Jeremy> I have a simulation model that out puts dates in a standard
  Jeremy> dd/mm/yy format R reads this as a factor and I cant find anything
  Jeremy> that will allow me to convert them to a date. In S+ I have used a
  Jeremy> chron() function that required you to specify the format of the
  Jeremy> input date and the format of the output date.  My question is: does
  Jeremy> R have such a function?  If not, can any one suggest a way to tell
  Jeremy> R that information in dd/mm/yy format being read in with
  Jeremy> read.table() is actually a date.

R has a (ported) cron package which you install, but R also has the (more
powerful) DateTimeClasses. See the help pages for DateTimeClasses, as.POSIXct
and, in particular, strptime.

Here is a small example  [ note that I use %Y for yyyy, not %y for yy ]

First a data frame is created

> DF<-data.frame(date=c("10/1/2000","12/2/2001"), values=c(10,12))
> str(DF)
`data.frame':   2 obs. of  2 variables:
 $ date  : Factor w/ 2 levels "10/1/2000","12/..": 1 2
 $ values: num  10 12

and the date information is parsed using strptime() with format information

> strptime(levels(DF[,"date"]),"%m/%d/%Y")
[1] "2000-10-01" "2001-12-02"

which can then be reformatted, among other things. Here the format method of
the DateTimeClasses is used to impose the %Y%m%d format I prefer:

> levels(DF[,"date"]) <- format(strptime(levels(DF[,"date"]),"%m/%d/%Y"), "%Y%m%d")
> str(DF)
`data.frame':   2 obs. of  2 variables:
 $ date  : Factor w/ 2 levels "20001001","2001..": 1 2
 $ values: num  10 12


Dirk


-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- Fred Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jasont at indigoindustrial.co.nz  Wed Feb 13 10:09:11 2002
From: jasont at indigoindustrial.co.nz (Jason Turner)
Date: Wed, 13 Feb 2002 22:09:11 +1300
Subject: [R] formatting date strings
In-Reply-To: <B657AD42D41D914FBE1C94FFE907B34701E3E6@exqld1-tw.tag.csiro.au>; from Jeremy.Whish@csiro.au on Wed, Feb 13, 2002 at 03:47:01PM +1100
References: <B657AD42D41D914FBE1C94FFE907B34701E3E6@exqld1-tw.tag.csiro.au>
Message-ID: <20020213220911.A10659@camille.indigoindustrial.co.nz>

On Wed, Feb 13, 2002 at 03:47:01PM +1100, Jeremy.Whish at csiro.au wrote:
...
> I have a simulation model that out puts dates in a standard dd/mm/yy format
> R reads this as a factor 

Step 1 - you need to read it as plain dumb text first.
In help(read.table), check out the "as.is" option.  You probably want 
as.is=TRUE

> and I cant find anything that will allow me to
> convert them to a date. 

Step 2 - you need to convert the plain dumb text to a date.

R has very sophisticated date/time handling - help(DateTimeClasses)
and help(strptime) will give you a starting background.  See if this
makes sense to you once you've read that.

my.data.frame$text.dates<-strptime(my.data.frame$text.dates,"%d/%m/%y")

Cheers

Jason
-- 
Indigo Industrial Controls Ltd.
64-21-343-545
jasont at indigoindustrial.co.nz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Feb 13 10:50:06 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 13 Feb 2002 09:50:06 +0000 (GMT)
Subject: [R] formatting date strings
In-Reply-To: <20020213220911.A10659@camille.indigoindustrial.co.nz>
Message-ID: <Pine.LNX.4.31.0202130946060.3661-100000@gannet.stats>

On Wed, 13 Feb 2002, Jason Turner wrote:

> On Wed, Feb 13, 2002 at 03:47:01PM +1100, Jeremy.Whish at csiro.au wrote:
> ...
> > I have a simulation model that out puts dates in a standard dd/mm/yy format
> > R reads this as a factor
>
> Step 1 - you need to read it as plain dumb text first.
> In help(read.table), check out the "as.is" option.  You probably want
> as.is=TRUE

Please check out argument colClasses.  You want colClasses = "character'
for that column.

as.is is very confusing: it was for a long time incorrectly documented
which did not reduce the confusion.  I would like to deprecate it.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Wed Feb 13 11:58:01 2002
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Wed, 13 Feb 2002 11:58:01 +0100 (MET)
Subject: [R] Time Series ts() Objects
In-Reply-To: <20020211151028.GA17406@sonny.eddelbuettel.com> from "Dirk Eddelbuettel" at Feb 11, 2002 09:10:28 AM
Message-ID: <200202131058.LAA32030@luc.ac.be>

> 
> On Mon, Feb 11, 2002 at 08:53:22AM +0100, Jim Lindsey wrote:
> > 
> > > 
> > > On Mon, Feb 11, 2002 at 03:08:55PM +1300, Ko-Kang Kevin Wang wrote:
> > > > Is it possible to create a ts() object, whose data is daily based BUT
> > > > measured only on working days?
> > > 
> > > No, you can't. R only has timeseries with constant frequency or delta-t. 
> > 
> > What you mean is "ts only has timeseries with constant frequency or delta-t."
> 
> Exactly, thank you for making that clearer. I also omitted to say that one
> can work around the problem by using, e.g., a delta of 1 day and flagging
> non-business days as NA. Adrian Trapletti has examples for that inside the
> tseries package.
> 
> > There are libraries in R for continuous time series, including my carma
> > function in my growth library.
> 
> Interesting. Can these have "gaps"? In other words, could one "discretize" a
> continuous period and fill only certain segments?  As an example take a week
> composed of 7*24*12 = 2016 five-minute intervals, and then "fill" only those
> matching Mon - Fri and 9:30 to 16:00 ?

In continuous time ARMA, observations can have any spacing. So the
answer is yes. CARMA is based on Kalman filtering so should have no
problem handling long series. Jim

> 
> Dirk
> 
> -- 
> Good judgment comes from experience; experience comes from bad judgment. 
> 							    -- Fred Brooks
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From P.J.Wells at open.ac.uk  Wed Feb 13 12:34:19 2002
From: P.J.Wells at open.ac.uk (P.J.Wells@open.ac.uk)
Date: Wed, 13 Feb 2002 11:34:19 -0000
Subject: [R] L-moments/Hosking & Wallis (1997)
Message-ID: <F9D44AC0D89CD311B9E3000629385C40044D9EAF@marconi.open.ac.uk>

1) L-moments:

Does anyone know of any R code that will calculate these? (I'm aware that
these can be calculated in S-Plus using the EnvironmentalStats for S-Plus
module.)

2) Hosking & Wallis (1997): "Regional frequency analysis: an approach based
on L-moments"

Does anyone know of any code in either R or S-plus that implements the
discordancy and homogeneity methods described in this book?

Julian Wells

OU Business School

The Open University
Walton Hall
Milton Keynes
MK7 6AA
United Kingdom

+44 1908 654658








-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Wed Feb 13 13:11:59 2002
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Wed, 13 Feb 2002 23:11:59 +1100
Subject: [R] Adding a "non-classified" category to Cohen's kappa
Message-ID: <3C6A580F.E3977023@ozemail.com.au>

This is really a stats question, but as I am hoping this will be useful
in R, here goes.

I have been using the concordance coefficient for nominal variables
described in Siegel & Castellan (sometimes called Cohen's kappa) to
assess inter-rater agreement. In cases where one or more raters
categorize an event and one or more raters do not recognize that event,
I add a "non-classfied" category so that all row sums (number of raters)
are equal. As far as I can see, this does not abuse the logic of the
analysis - all categories are disjunct sets. Does anyone know of any
objections to this workaround? I'm planning to add it as a standard
feature of the kappa.nom() function. Thanks

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From BCooke at exchange.cfl.forestry.ca  Wed Feb 13 15:19:34 2002
From: BCooke at exchange.cfl.forestry.ca (Cooke, Barry)
Date: Wed, 13 Feb 2002 09:19:34 -0500
Subject: [R] nlme package dependencies?
Message-ID: <5889ACC9E53BD511A57E0002A537C0BD85C92C@s2-que-r1.cfl.forestry.ca>

Dear R-help,
The following nlme example, from help(Variogram.gls), does not work on my
system.  

> data(BodyWeight)
> fm1 <- gls(weight ~ Time * Diet, BodyWeight)
> Variogram(fm1, form = ~ Time | Rat)[1:10,]
Error in FUN(X[[1]], ...) : unused argument(s) (method ...)

It looks like I might not have loaded a necessary package.  I did load nls
and lattice (the latter not actually being listed in the package description
as a dependency).  I checked the R-help archives thoroughly and also
examined the library nlme scripts.  The chapter 5 Wheat2 example from
Pinheiro & Bates (2000) didn't work either:

> library( nlme )
> library( lattice )
> data( Wheat2 )
> fm1Wheat2 <- gls( yield ~ variety - 1, Wheat2 )
> Variogram( fm1Wheat2, form = ~ latitude + longitude )
Error in as.data.frame.default(x[[i]], optional = TRUE) : 
        can't coerce array into a data.frame

Apologies; here is my system information:

> R.version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    4.1            
year     2002           
month    01             
day      30             
language R              

Thanks.  R is great.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pedro.aphalo at cc.jyu.fi  Wed Feb 13 15:23:59 2002
From: pedro.aphalo at cc.jyu.fi (Pedro J. Aphalo)
Date: Wed, 13 Feb 2002 16:23:59 +0200
Subject: [R] Re: Journal of Statistical Software
References: <E086336E-134E-11D6-8307-00039319314A@stat.ucla.edu>
Message-ID: <3C6A76FF.8F081808@cc.jyu.fi>

Dear Prof de Leeuw,

Sorry to disturb you, but I tried several times to open
http://www.jstatsoft.org with some days of interval and I haven't
succeeded. It looks like an address lookup problem. I also tried the
ucla address that I found through a web search, but it is redirected to
http://www.jstatsoft.org and so also fails.

Have JSS pages been moved?

Best regards.

Pedro.

Jan de Leeuw wrote:
> 
> JSS, which is at http://www.jstatsoft.org, publishes statistical software
> with manuals, as well as papers describing, comparing, and evaluating
> statistical
> software. Abstracts of all contributions accepted in JSS are published in
> printed form in JCGS.
> 
> Although we publish software written in any language, we especially
> welcome software written in R. The general idea is that packages written
> in R can be documented in both "R News" and in JSS, but that generally
> the
> description in JSS will be more extensive and more seriously
> peer-reviewed.
> Everybody in the R community is encouraged to submit their R products
> to JSS, we even welcome "code snippet" type of contributions (which will
> go into a separate section of the journal).
> 
> Volume 7, 2002, consists so far of the following three issues
> 
> issue 1:
> S. Weisberg
> Dimension reduction regression in R.
> 
> issue 2:
> A. Zeileis, F. Leisch, and K. Hornik
> strucchange: an R package for testing for structural change
> in linear regression models
> 
> issue 3:
> G. Marsaglia and W.W. Tsang
> Some difficult-to-pass tests of randomness.
> 
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
> homepage: http://www.stat.ucla.edu/~deleeuw
> ========================================================
>            No matter where you go, there you are. --- Buckaroo Banzai
>                     http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
> ========================================================
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-announce mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-announce-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
==================================================================
Pedro J. Aphalo
Department of Biological and Environmental Science
University of Jyv?skyl?
P.O. Box 35, 40351 JYV?SKYL?, Finland
Phone  +358 14 260 2339
Mobile +358 50 3721504
Fax    +358 14 260 2321
mailto:pedro.aphalo at cc.jyu.fi
http://www.jyu.fi/~aphalo/                       ,,,^..^,,,
==================================================================
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jccorrea at perseus.unalmed.edu.co  Wed Feb 13 15:40:46 2002
From: jccorrea at perseus.unalmed.edu.co (Juan Carlos Correa Morales)
Date: Wed, 13 Feb 2002 09:40:46 -0500 (GMT)
Subject: [R] New document (in Spanish)
In-Reply-To: <Pine.LNX.4.21.0201271225480.11330-100000@artemis.imbe.med.uni-erlangen.de>
Message-ID: <Pine.GSO.4.21.0202130933460.6713-100000@perseus.unalmed.edu.co>

Hi all:

We have produced a document called 'Graficos en R' (in Spanish) that could
be useful for students. Many examples were taken from the list and from
the manuals. I could not upload to the CRAN site, so you can find it in
the following URL under Juan Carlos Correa.

http://www.unalmed.edu.co/contenidos/usuarios/usuarios_paginas_personales.shtml#profesores


Juan Carlos Correa

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed Feb 13 15:40:53 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 13 Feb 2002 08:40:53 -0600
Subject: [R] nlme package dependencies?
In-Reply-To: <5889ACC9E53BD511A57E0002A537C0BD85C92C@s2-que-r1.cfl.forestry.ca>
References: <5889ACC9E53BD511A57E0002A537C0BD85C92C@s2-que-r1.cfl.forestry.ca>
Message-ID: <6rzo2d4f7u.fsf@franz.stat.wisc.edu>

"Cooke, Barry" <BCooke at exchange.cfl.forestry.ca> writes:

> The following nlme example, from help(Variogram.gls), does not work on my
> system.  
> 
> > data(BodyWeight)
> > fm1 <- gls(weight ~ Time * Diet, BodyWeight)
> > Variogram(fm1, form = ~ Time | Rat)[1:10,]
> Error in FUN(X[[1]], ...) : unused argument(s) (method ...)
> 
> It looks like I might not have loaded a necessary package.  I did load nls
> and lattice (the latter not actually being listed in the package description
> as a dependency).  

Lattice was not listed as a dependency for nlme because both lattice
and grid were classed as "in development" until R-1.4.1.  In
R-1.4.1 nlme is a recommended package but lattice and grid are not.
Having nlme depend on lattice would contradict this classification.

I hope we will change lattice and grid to be recommended packages in
R-1.5.0 and then we can list a dependency of nlme on lattice.

> I checked the R-help archives thoroughly and also
> examined the library nlme scripts.  The chapter 5 Wheat2 example from
> Pinheiro & Bates (2000) didn't work either:
> 
> > library( nlme )
> > library( lattice )
> > data( Wheat2 )
> > fm1Wheat2 <- gls( yield ~ variety - 1, Wheat2 )
> > Variogram( fm1Wheat2, form = ~ latitude + longitude )
> Error in as.data.frame.default(x[[i]], optional = TRUE) : 
>         can't coerce array into a data.frame

Looks like an error in nlme.  Usually these are the result of code
written originally for S-PLUS being incompletely ported by me to R.
I'll look into it.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From o.christensen at lancaster.ac.uk  Wed Feb 13 16:40:08 2002
From: o.christensen at lancaster.ac.uk (Ole Christensen)
Date: Wed, 13 Feb 2002 15:40:08 +0000
Subject: [R] pnorm, relative accuracy in the tails
Message-ID: <3C6A88D8.44EB96BA@lancs.ac.uk>

Dear R people

The function below should be decreasing, convex, and tend to zero when x
tends to infinity.

curve((1-pnorm(x))/dnorm(x),from=0, to=9)

>From the plot we see that for x between 8.0 and 8.3 the function is
fluctuating.

As far as I understand, this is due to the function pnorm() not being
sufficiently accurate in the tails. 
I am using pnorm() in a way that has probably not been intended. 
So I guess this should not be considered a bug (??)

The function can also be written as 1/lambda(x) where lambda(x) is the
hazard rate for the normal distribution. Is there a way to calculate
lambda(x) without using pnorm() ?

Any help would be appreciated.

Cheers

Ole Christensen


-- 
Ole F. Christensen
Department of Mathematics and Statistics
Fylde College, Lancaster University 
Lancaster, LA1 4YF, England
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Wed Feb 13 16:49:57 2002
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Wed, 13 Feb 2002 16:49:57 +0100 (MET)
Subject: [R] pnorm, relative accuracy in the tails
In-Reply-To: <3C6A88D8.44EB96BA@lancs.ac.uk> from "Ole Christensen" at Feb 13, 2002 03:40:08 PM
Message-ID: <200202131549.QAA22859@luc.ac.be>

> 
> Dear R people
> 
> The function below should be decreasing, convex, and tend to zero when x
> tends to infinity.
> 
> curve((1-pnorm(x))/dnorm(x),from=0, to=9)

This is not a good way to do this in R. Instead use the options log
and tail:

exp(pnorm(x,log=T,lower.tail=F)-dnorm(x,log=T))

This may eliminate your problem. (I hope I got those names right from
memory.) Jim

> 
> >From the plot we see that for x between 8.0 and 8.3 the function is
> fluctuating.
> 
> As far as I understand, this is due to the function pnorm() not being
> sufficiently accurate in the tails. 
> I am using pnorm() in a way that has probably not been intended. 
> So I guess this should not be considered a bug (??)
> 
> The function can also be written as 1/lambda(x) where lambda(x) is the
> hazard rate for the normal distribution. Is there a way to calculate
> lambda(x) without using pnorm() ?
> 
> Any help would be appreciated.
> 
> Cheers
> 
> Ole Christensen
> 
> 
> -- 
> Ole F. Christensen
> Department of Mathematics and Statistics
> Fylde College, Lancaster University 
> Lancaster, LA1 4YF, England
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeileis at ci.tuwien.ac.at  Wed Feb 13 16:51:37 2002
From: zeileis at ci.tuwien.ac.at (Achim Zeileis)
Date: Wed, 13 Feb 2002 16:51:37 +0100
Subject: [R] pnorm, relative accuracy in the tails
References: <3C6A88D8.44EB96BA@lancs.ac.uk>
Message-ID: <3C6A8B89.A9BB9764@ci.tuwien.ac.at>

Ole Christensen wrote:
> 
> Dear R people
> 
> The function below should be decreasing, convex, and tend to zero when x
> tends to infinity.
> 
> curve((1-pnorm(x))/dnorm(x),from=0, to=9)
> 
> >From the plot we see that for x between 8.0 and 8.3 the function is
> fluctuating.

You get a numerically more stable result by using logs:

R> curve(exp(pnorm(x, lower.tail=FALSE, log.p=TRUE)-dnorm(x,
log=TRUE)),from=0, to=9)

> As far as I understand, this is due to the function pnorm() not being
> sufficiently accurate in the tails.
> I am using pnorm() in a way that has probably not been intended.
> So I guess this should not be considered a bug (??)
> 
> The function can also be written as 1/lambda(x) where lambda(x) is the
> hazard rate for the normal distribution. Is there a way to calculate
> lambda(x) without using pnorm() ?
> 
> Any help would be appreciated.
> 
> Cheers
> 
> Ole Christensen
> 
> --
> Ole F. Christensen
> Department of Mathematics and Statistics
> Fylde College, Lancaster University
> Lancaster, LA1 4YF, England
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Feb 13 17:00:26 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Wed, 13 Feb 2002 11:00:26 -0500 (EST)
Subject: [R] pnorm, relative accuracy in the tails
In-Reply-To: <3C6A88D8.44EB96BA@lancs.ac.uk>
Message-ID: <Pine.LNX.4.30.0202131058370.25184-100000@bolker.zoo.ufl.edu>


  Use pnorm(x,lower.tail=FALSE) instead of 1-pnorm(x).  The help page
describes lower.tail, but it doesn't say explicitly that it's for this
kind of situation.

  Ben Bolker

On Wed, 13 Feb 2002, Ole Christensen wrote:

> Dear R people
>
> The function below should be decreasing, convex, and tend to zero when x
> tends to infinity.
>
> curve((1-pnorm(x))/dnorm(x),from=0, to=9)
>
> From the plot we see that for x between 8.0 and 8.3 the function is
> fluctuating.
>
> As far as I understand, this is due to the function pnorm() not being
> sufficiently accurate in the tails.
> I am using pnorm() in a way that has probably not been intended.
> So I guess this should not be considered a bug (??)
>
> The function can also be written as 1/lambda(x) where lambda(x) is the
> hazard rate for the normal distribution. Is there a way to calculate
> lambda(x) without using pnorm() ?
>
> Any help would be appreciated.
>
> Cheers
>
> Ole Christensen
>
>
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pedro.aphalo at cc.jyu.fi  Wed Feb 13 16:52:27 2002
From: pedro.aphalo at cc.jyu.fi (Pedro J. Aphalo)
Date: Wed, 13 Feb 2002 17:52:27 +0200
Subject: Sorry! Was [R] Re: Journal of Statistical Software
References: <E086336E-134E-11D6-8307-00039319314A@stat.ucla.edu> <3C6A76FF.8F081808@cc.jyu.fi>
Message-ID: <3C6A8BBB.17736954@cc.jyu.fi>

Sorry! My message was not intended for the list.
(I will pay the price though... as I asked for a return receipt.)

Pedro.

"Pedro J. Aphalo" wrote:
> 
> Dear Prof de Leeuw,
> 
[...]
> Pedro.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Feb 13 18:03:58 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 13 Feb 2002 09:03:58 -0800 (PST)
Subject: [R] Best Subsets regression
In-Reply-To: <4.3.2.7.0.20020213065746.00b8aa20@mail.stats.waikato.ac.nz>
Message-ID: <Pine.A41.4.44.0202130855030.233416-100000@homer07.u.washington.edu>

On Wed, 13 Feb 2002, Murray Jorgensen wrote:

> Hi,
>
> I have found a minor problem with leaps(). In 1.3.1 under Windows 2000 I
> seem to only be able to obtain values for one statistic at a time. That is
> choosing
>
> method=c("Cp","adjr2","r2")
>
> just gives Cp values.
>

<snip>
>
> Actually I have the same grip with SPLUS, so I suppose this feature is
> retained for compatibility?
>

Yes.  It would be fairly easy to fix as all three statistics are computed.
The second through fourth lines from the end of leaps() select which
statistic to return.

However, leaps() is just there for backwards compatibility. The preferred
function is regsubsets(), and summary.regsubsets() does return all these
statistics (plus BIC). It also knows about model formulas and has a quite
nice plot() method.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Wed Feb 13 21:07:56 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Wed, 13 Feb 2002 14:07:56 -0600
Subject: [R] cor() and lagged ts objects
Message-ID: <15466.51100.48177.541848@sonny.eddelbuettel.com>


The following is internally consistent, but not intuitive:

R : Copyright 2002, The R Development Core Team
Version 1.4.1  (2002-01-30)
[...]
> library(ts)
> x<-rnorm(100)			# white noise
> xTS<-ts(x,start=1)		# as time series
> xTSl<-lag(xTS,lag=-1)		# lagged once
> cor(xTS,xTSl)			# Big surprise
[1] 1
> cor(cbind(xTS,xTSl),use="pairwise")	# what was really meant
             xTS        xTSl
xTS   1.00000000 -0.04080141
xTSl -0.04080141  1.00000000
> 

Is there any way cor() could know that the first call was nonsensical (given
the semantics of lag) and issue a warning?

Dirk

-- 
Good judgment comes from experience; experience comes from bad judgment. 
							    -- Fred Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Feb 13 21:15:50 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 13 Feb 2002 20:15:50 +0000 (GMT)
Subject: [R] cor() and lagged ts objects
In-Reply-To: <15466.51100.48177.541848@sonny.eddelbuettel.com>
Message-ID: <Pine.GSO.4.44.0202132014000.138-100000@auk.stats>

On Wed, 13 Feb 2002, Dirk Eddelbuettel wrote:

>
> The following is internally consistent, but not intuitive:
>
> R : Copyright 2002, The R Development Core Team
> Version 1.4.1  (2002-01-30)
> [...]
> > library(ts)
> > x<-rnorm(100)			# white noise
> > xTS<-ts(x,start=1)		# as time series
> > xTSl<-lag(xTS,lag=-1)		# lagged once
> > cor(xTS,xTSl)			# Big surprise
> [1] 1
> > cor(cbind(xTS,xTSl),use="pairwise")	# what was really meant
>              xTS        xTSl
> xTS   1.00000000 -0.04080141
> xTSl -0.04080141  1.00000000
> >
>
> Is there any way cor() could know that the first call was nonsensical (given
> the semantics of lag) and issue a warning?

cor() doesn't know about time series, does it?  I guess it could.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jzhu at stanford.edu  Wed Feb 13 21:42:35 2002
From: jzhu at stanford.edu (Ji Zhu)
Date: Wed, 13 Feb 2002 12:42:35 -0800 (PST)
Subject: [R] tree size in rpart()
Message-ID: <Pine.GSO.4.33.0202131229140.9991-100000@saga10.Stanford.EDU>


Dear all,

I know in rpart(), one can control the tree size (i.e. number of
terminal nodes) through rpart.control(), e.g. minsplit, minbucket,
maxdepth etc.  But is there any more direct way to specify the number of
terminal nodes when rpart() does the recursive partitioning?  Your help
is highly appreciated!

Regards,

-Ji

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Thu Feb 14 00:06:03 2002
From: maeder at atmos.umnw.ethz.ch (=?iso-8859-1?Q?M?der_J?rg?=)
Date: Wed, 13 Feb 2002 22:06:03 -0100 (MET)
Subject: [R] increasing space available for labels
In-Reply-To: <200202121911.g1CJBnJ21592@aaalab.Stanford.EDU>
References: <200202121911.g1CJBnJ21592@aaalab.Stanford.EDU>
Message-ID: <11203.217.162.104.122.1013634363.squirrel@albeniz.ethz.ch>

hallo,

try inside text srt=90 (rotate the text) and cex=0.5 (or smaller it scales 
the text)

joerg maeder


> I've got a graph with really long labels.  I've tried decreasing the
> font size, but they're still getting truncated.  I've RTFMed & it
>seems that mgp should have something to do with this, but I can't make
>it work.  I need about 2-3x as much space for labels as is available by
>default (or on the example below).
> 
>     boxplot(split(ranks,c(1:25)), names=items, horizontal=F)
>     par(las=2,ps=7,mgp=c(1, 1, 0))
>     boxplot(split(ranks,c(1:25)), names=items, notch=T, horizontal=F,
>     add=F) abline(h=18)
>     abline(h=13)
>     abline(h=10)
>     abline(v=5.5)
>     abline(v=10.5)
>     abline(v=15.5)
>     abline(v=20.5)
>     par(ps=20)
>     for (x in 1:5) text(x*5-2,y=26, categories[x])
> 
> P.S. Many thanks to the folks who responded to my last plea for help
> with not being able to find order() in the man pages.  I don't know how
> I missed it.  I even looked for it in the "See Also" of the sort and
> rank manpages (where it's pointed to).  I'm sure this problem is
> similarly trivial, but I just can't see it.
> 
> -- 
> Jay Pfaffman                           pfaffman at relaxpc.com
> +1-415-821-7507 (H)                    +1-415-810-2238 (M)
> http://relax.ltc.vanderbilt.edu/~pfaffman/
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info", "help", or
> "[un]subscribe"
> (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Feb 13 23:05:39 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Wed, 13 Feb 2002 17:05:39 -0500 (EST)
Subject: [R] glmms with negative binomial responses
Message-ID: <Pine.LNX.4.30.0202111450480.5684-100000@bolker.zoo.ufl.edu>


  I am trying to find a way to analyze a "simple" mixed model with two
levels of a treatment, a random blocking factor, and (wait for it)
negative binomial count distributions as the response variable.  As far as
I can tell, the currently available R offerings (glmmGibbs, glmmPQL in
MASS, and Jim Lindsey's glmm code) aren't quite up to this.  From what I
have read (e.g. http://www.stat.ufl.edu/~jhobert/papers/nb7.ps), SAS PROC
NLMIXED seems like the best way to go.  I can go do that if I have to, but
I'd prefer to do it in R if that seems feasible.

  Some playing around with simulations that mimic the structure of the
data and using various combinations of glmmPQL, glm.nb, quasipoisson
family, etc., suggest that I really can't quite get there with glmmPQL
(which is what I've mostly tried); I get an estimate, but the confidence
intervals on the block variance are astronomical (perhaps intervals.lme
fails?)

  Any suggestions?
  (I can provide more information/examples if anyone's interested.)

  Ben Bolker

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fugate at kanab.c3.lanl.gov  Thu Feb 14 00:29:52 2002
From: fugate at kanab.c3.lanl.gov (Michael Lynn Fugate)
Date: Wed, 13 Feb 2002 16:29:52 -0700 (MST)
Subject: [R] xtabs
Message-ID: <Pine.LNX.4.33.0202131622240.2742-100000@kanab.c3.lanl.gov>

Hi,

In Splus if I call the function crosstabs() the output is a contigency
table; in each cell of the table is printed: N, N/RowTotal,
N/ColTotal, N/Total.  N is the number of observations in each cell.

The same call to xtabs() in R will produce the contigency table but the
only entry in each cell is N.

How can I get the same relative frequencies that crosstabs() gives?

Thanks,
mike

-- 

******************************************************************
| Michael Fugate                         Phone:  (505) 667-0398  |
| Los Alamos National Laboratory         Fax:    (505) 665-5220  |
| Group: CCS-3,  Mail Stop: B265         e-mail: fugate at lanl.gov |
| Los Alamos, NM 87545                                           |
******************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zeng_li at willis.com  Thu Feb 14 00:46:35 2002
From: zeng_li at willis.com (zeng_li@willis.com)
Date: Wed, 13 Feb 2002 17:46:35 -0600
Subject: [R] How to save multiple graph pages into one postscript file
Message-ID: <OFF64B9F31.7E6DE3C6-ON86256B5F.00823AA6@wilcor.com>

Dear R users,

After creating multiple plots in the graph window (saved in the history), I
would like to create a postscript or PDF file that contains all the plots
in the history. However, the Save As function only allows saving the
current plot that is shown in the graph window (although I could view the
other plots using page-up and page-down). Is what I was trying to do (i.e.
create multi-page ps or pdf file) a possibility with R?

Thank you very much in advance!

Regards,
Lixin Zeng

The information in this email and in any attachments is confidential and
may be privileged.  If you are not the intended recipient, please destroy
this message, delete any copies held on your systems and notify the sender
immediately.  You should not retain, copy or use this email for any
purpose, nor disclose all or any part of its content to any other person.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aragon at medepi.org  Thu Feb 14 06:04:43 2002
From: aragon at medepi.org (Tomas Aragon)
Date: Wed, 13 Feb 2002 21:04:43 -0800
Subject: [R] xtabs
In-Reply-To: <Pine.LNX.4.33.0202131622240.2742-100000@kanab.c3.lanl.gov>
Message-ID: <5.1.0.14.0.20020213205525.00abc730@medepi.org>

At 04:29 PM 2/13/02 -0700, Michael Lynn Fugate wrote:
>Hi,
>
>In Splus if I call the function crosstabs() the output is a contigency
>table; in each cell of the table is printed: N, N/RowTotal,
>N/ColTotal, N/Total.  N is the number of observations in each cell.
>
>The same call to xtabs() in R will produce the contigency table but the
>only entry in each cell is N.
>
>How can I get the same relative frequencies that crosstabs() gives?
>
>Thanks,
>mike
>
>--
>
>******************************************************************
>| Michael Fugate                         Phone:  (505) 667-0398  |
>| Los Alamos National Laboratory         Fax:    (505) 665-5220  |
>| Group: CCS-3,  Mail Stop: B265         e-mail: fugate at lanl.gov |
>| Los Alamos, NM 87545                                           |
>******************************************************************
This not an elegant solution. Once you have your matrix or array 
contingency table, the following function will give you the marginal 
totals, marginal distributions, and joint distributions as a list that you 
can index to extract the specific result you want. Here's the function at work:
 > x <- array(1:8,c(2,2,2))
 > x
, , 1

      [,1] [,2]
[1,]    1    3
[2,]    2    4

, , 2

      [,1] [,2]
[1,]    5    7
[2,]    6    8

 > marginals(x)
$margin.totals
, , 1

      [,1] [,2] [,3]
[1,]    1    3    4
[2,]    2    4    6
[3,]    3    7   10

, , 2

      [,1] [,2] [,3]
[1,]    5    7   12
[2,]    6    8   14
[3,]   11   15   26


$col.distrib
, , 1

           [,1]      [,2] [,3]
[1,] 0.3333333 0.4285714  0.4
[2,] 0.6666667 0.5714286  0.6
[3,] 1.0000000 1.0000000  1.0

, , 2

           [,1]      [,2]      [,3]
[1,] 0.4545455 0.4666667 0.4615385
[2,] 0.5454545 0.5333333 0.5384615
[3,] 1.0000000 1.0000000 1.0000000


$row.distrib
, , 1

           [,1]      [,2] [,3]
[1,] 0.2500000 0.7500000    1
[2,] 0.3333333 0.6666667    1
[3,] 0.3000000 0.7000000    1

, , 2

           [,1]      [,2] [,3]
[1,] 0.4166667 0.5833333    1
[2,] 0.4285714 0.5714286    1
[3,] 0.4230769 0.5769231    1


$joint.distrib
, , 1

      [,1] [,2] [,3]
[1,]  0.1  0.3  0.4
[2,]  0.2  0.4  0.6
[3,]  0.3  0.7  1.0

, , 2

           [,1]      [,2]      [,3]
[1,] 0.1923077 0.2692308 0.4615385
[2,] 0.2307692 0.3076923 0.5384615
[3,] 0.4230769 0.5769231 1.0000000


Now here's the function:

marginals <- function(x){
#get marginal counts/distributions of matrix/array
#x=matrix or array
#Note: creates and uses indexing function
#
index <- function(x,MARGIN=1,INDEX=list(1:dim(x)[1]),drop=TRUE){
#Index any array along any dimension
#without need to specify number of dimensions!
#Tomas Aragon, S-Plus, Created 11/04/97, Edited
#x =  array
#MARGIN = dimension to be subscripted
#INDEX = index, default returns x unchanged
#drop = FALSE, TRUE maintains same number of dimensions
         dx <- dim(x)
         ldx <- length(dim(x))
         if(is.list(INDEX) == F){INDEX <- list(INDEX)}
         dlist <- vector("list", ldx)
         dlist[MARGIN] <- INDEX
         for(i in (1:ldx)[ - MARGIN]) {
                 dlist[i] <- list(1:dx[i])
         }
         pp <- paste(dlist, ",", sep = "", collapse = "")
         if(drop == TRUE){txt <- "drop=TRUE"}
         else txt <- "drop=FALSE"
         eval(parse(text = paste("x[", pp, txt, "]")))
}
#for matrices
if(is.null(dim(x))==TRUE) stop("Must be matrix or array")
dims <- dim(x)
dn <- dimnames(x)
nn <- names(dimnames(x))
#for matrices
if(length(dims)==2){
   xx <- cbind(x,apply(x,1,sum))
   result <- rbind(xx,apply(xx,2,sum))
   if(!is.null(dn)==TRUE) {
   dimnames(result) <- list(c(dn[[1]],"Total"),c(dn[[2]],"Total"))
   }
   if(!is.null(nn)==TRUE) {names(dimnames(result)) <- nn}
   result2 <- sweep(result, 2, result[nrow(result),  ], "/")
   result3 <- sweep(result, 1, result[, ncol(result)], "/")
   result4 <- result/result[nrow(result), ncol(result)]

}
#for arrays
if(length(dims)>=3){
   dnlist <- vector("list",length(dims))
   xx <- matrix(x,nrow=dims[1])
   txxs <- t(rbind(xx,apply(xx,2,sum)))
   txxs2 <- sweep(txxs,1,txxs[,ncol(txxs)],"/")
   xxx <- matrix(txxs,dims[2])
   xxxs <- (rbind(xxx,apply(xxx,2,sum)))
   txxx <- t(matrix(xxxs,2*dims[2]+2))
   result <- array(txxx,dim=c(dims[1:2]+1,dims[-c(1:2)]))
   dnlist[[1]] <- c(dn[[1]],"Total")
   dnlist[[2]] <- c(dn[[2]],"Total")
   for(i in 3:length(dims)){dnlist[[i]] <- c(dn[[i]])}
   if(!is.null(dn)==TRUE) {dimnames(result) <- dnlist}
   if(!is.null(nn)==TRUE) {names(dimnames(result)) <- nn}
   sub1 <- index(result,1,dim(result)[1],drop=FALSE)
   sub2 <- index(result,2,dim(result)[2],drop=FALSE)
   sub3 <- index(result,c(1,2),list(dim(result)[1],dim(result)[2]),drop=FALSE)
   result2 <- sweep(result,(1:length(dims))[-1],sub1,"/")
   result3 <- sweep(result,(1:length(dims))[-2],sub2,"/")
   result4 <- sweep(result,(1:length(dims))[- c(1,2)],sub3,"/")

}
list(margin.totals=result,col.distrib=result2,row.distrib=result3,joint.distrib=result4)
}


Good luck,
Tomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Feb 14 08:57:22 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 14 Feb 2002 07:57:22 +0000 (GMT)
Subject: [R] How to save multiple graph pages into one postscript file
In-Reply-To: <OFF64B9F31.7E6DE3C6-ON86256B5F.00823AA6@wilcor.com>
Message-ID: <Pine.GSO.4.44.0202140752260.251-100000@auk.stats>

On Wed, 13 Feb 2002 zeng_li at willis.com wrote:

> Dear R users,
>
> After creating multiple plots in the graph window (saved in the history), I
> would like to create a postscript or PDF file that contains all the plots
> in the history. However, the Save As function only allows saving the
> current plot that is shown in the graph window (although I could view the
> other plots using page-up and page-down). Is what I was trying to do (i.e.
> create multi-page ps or pdf file) a possibility with R?

So this is using a windows() device under Windows?  No other R graphics
device has a plot history.  The history is only supported to the extent of
replaying on the same device in the same session.

Why not just re-run the R commands which created the plots on apostscript(0
or pdf() device?


General comment: this message did not mention the OS, and would make no
sense to people who have not used the history mechanism on a windows()
device.  Could posters please give sufficient context.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Feb 14 09:11:53 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 14 Feb 2002 08:11:53 +0000 (GMT)
Subject: [R] xtabs
In-Reply-To: <Pine.LNX.4.33.0202131622240.2742-100000@kanab.c3.lanl.gov>
Message-ID: <Pine.GSO.4.44.0202140759200.251-100000@auk.stats>

On Wed, 13 Feb 2002, Michael Lynn Fugate wrote:

> Hi,
>
> In Splus if I call the function crosstabs() the output is a contigency
> table; in each cell of the table is printed: N, N/RowTotal,
> N/ColTotal, N/Total.  N is the number of observations in each cell.

Actually, that's not the output of crosstabs.  That's how print.crosstabs
prints it.  It seems a blunderbiss from the SAS/SPSS days of giving you all
the output you are deeemd ever to want, although it is unlikely that you
want more than one or at most two of the pieces of information.

> The same call to xtabs() in R will produce the contigency table but the
> only entry in each cell is N.
>
> How can I get the same relative frequencies that crosstabs() gives?

Here's an example

data(warpbreaks)
tab <- xtabs(breaks ~ wool + tension, data = warpbreaks)

> tab
    tension
wool   L   M   H
   A 401 216 221
   B 254 259 169
> tab/sum(tab)
    tension
wool         L         M         H
   A 0.2638158 0.1421053 0.1453947
   B 0.1671053 0.1703947 0.1111842
> tab/apply(tab, 1, sum) # N/RowTotal
    tension
wool         L         M         H
   A 0.4785203 0.2577566 0.2637232
   B 0.3724340 0.3797654 0.2478006

# both N/ColTotal
> sweep(tab, 2, apply(tab, 2, sum), "/")
> tab/(rep(1, 2) %o% apply(tab, 2, sum))
    tension
wool         L         M         H
   A 0.6122137 0.4547368 0.5666667
   B 0.3877863 0.5452632 0.4333333



-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Thu Feb 14 10:21:59 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Thu, 14 Feb 2002 09:21:59 +0000
Subject: [R] How to save multiple graph pages into one postscript file
In-Reply-To: <OFF64B9F31.7E6DE3C6-ON86256B5F.00823AA6@wilcor.com>
References: <OFF64B9F31.7E6DE3C6-ON86256B5F.00823AA6@wilcor.com>
Message-ID: <uUyj9KA3G4a8EwdK@myatt.demon.co.uk>

Zeng_li at willis.com Writes:

>After creating multiple plots in the graph window (saved in the history), I
>would like to create a postscript or PDF file that contains all the plots
>in the history. However, the Save As function only allows saving the
>current plot that is shown in the graph window (although I could view the
>other plots using page-up and page-down). Is what I was trying to do (i.e.
>create multi-page ps or pdf file) a possibility with R?

Use the same commands you use to create the graphs but instead of
sending them to a display device (by explicitly calling x11() or
windows() to open a display device or just letting R open one up for
you) send then to a postscript device with postscript().

See ?devices and ?postscript for details.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Thu Feb 14 10:15:41 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Thu, 14 Feb 2002 09:15:41 +0000
Subject: [R] xtabs
In-Reply-To: <Pine.LNX.4.33.0202131622240.2742-100000@kanab.c3.lanl.gov>
References: <Pine.LNX.4.33.0202131622240.2742-100000@kanab.c3.lanl.gov>
Message-ID: <r0giVGA9A4a8Ewfj@myatt.demon.co.uk>

Michael Lynn Fugate <fugate at kanab.c3.lanl.gov> writes:
>Hi,
>
>In Splus if I call the function crosstabs() the output is a contigency
>table; in each cell of the table is printed: N, N/RowTotal,
>N/ColTotal, N/Total.  N is the number of observations in each cell.
>
>The same call to xtabs() in R will produce the contigency table but the
>only entry in each cell is N.
>
>How can I get the same relative frequencies that crosstabs() gives?

The function twoWay() in the RWeb application does this. I think the
Rweb application is downloadable from CRAN. The functions definitions
are in the .Rprofile file.

Mark 


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu Feb 14 12:15:58 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 14 Feb 2002 12:15:58 +0100 (MET)
Subject: [R] netCDF
Message-ID: <Pine.OSF.3.96.1020214120538.17836A-100000@ija.csic.es>


Thomas,

I'm using your package netCDF. Thanks for making
it and for leave it available for public use.

It took me a little while installing it, as my
netcdf library is libnetcdf.a (not libnetcdf)
and my library directory is not /usr/local/lib.
Finally, I was able to install with the following:
1. ln -s libnet.a libnet (in my usr/local/netcdf-3.5.0/lib directory)
2. R CMD INSTALL --configure-args=--with-netCDF=/usr/local/netcdf-3.5.0
netCDF_1.5.tar.gz

Perhaps you might include these hints in the README (which refers
to a Makefile that does not exist) in a future version.

Now, at using it, I've found the following problem:

> npp <- open.netCDF("npp.nc")
> a <- read.netCDF(npp)
Error: Can't handle NC_CHAR yet
> summary.netCDF(npp)
netCDF file npp.nc is open
$types
[1] "single" "single" "single" "single" "single" "char"   "single" 
"single"
[9] "single"

$dims
etc.

Do you plan to release a version supporting NC_CHAR soon?
If not, would it be possible to modify the code so that the
char variables were discarded as currently but the non-char variables
could be read in?

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hennig at stat.math.ethz.ch  Thu Feb 14 12:23:49 2002
From: hennig at stat.math.ethz.ch (Christian Hennig)
Date: Thu, 14 Feb 2002 12:23:49 +0100 (CET)
Subject: [R] Subsets in mclust
Message-ID: <Pine.LNX.4.33.0202141214400.28401-100000@florence>

Dear group,

I want to use the mclust package on large data, and therefore I want to use
a subset in the initial clustering phase. From help(mclust):

       k: If `k' is specified, the hierarchical clustering phase will
          use a sample of size `k' of the data in the initial
          hierarchical clustering phase. The default is to use the
          entire data set. 

m2 is a matrix (not very large, but the same happens always when specifying
k):

> dim(m2)
[1] 242   2
> em321 <- emclust(m2,k=50)
Error in mhtree.VVV(data[smpl, ]) : data must be a matrix with  at least 2 columns
> em321 <- emclust(m2)
(No problems)
> em321 <- emclust(m2,modelid="VEV",k=50)
Error in mhtree.VVV(data[smpl, ]) : data must be a matrix with  at least 2 columns
> library(help=mclust)
mclust          Model-based cluster analysis

Description:

Package: 	mclust
Version: 	1.1-5
(...)
Built: R 1.3.1; i686-pc-linux-gnu; Thu Dec 13 04:02:36 CET 2001

What is going on here?
(Mail is sent to the maintainer, too.)

Best,
Christian
I

-- 
***********************************************************************
Christian Hennig
Seminar fuer Statistik, ETH-Zentrum (LEO), CH-8092 Zuerich (current)
and Fachbereich Mathematik-SPST/ZMS, Universitaet Hamburg
hennig at stat.math.ethz.ch, http://stat.ethz.ch/~hennig/
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rwehrens at sci.kun.nl  Thu Feb 14 13:16:18 2002
From: rwehrens at sci.kun.nl (Ron Wehrens)
Date: Thu, 14 Feb 2002 13:16:18 +0100 (MET)
Subject: [R] Subsets in mclust
Message-ID: <200202141216.g1ECGJt25410@ac6.sci.kun.nl>

> Dear group,
> 
> I want to use the mclust package on large data, and therefore I want to use
> a subset in the initial clustering phase. From help(mclust):
> 
>        k: If `k' is specified, the hierarchical clustering phase will
>           use a sample of size `k' of the data in the initial
>           hierarchical clustering phase. The default is to use the
>           entire data set. 
> 
> m2 is a matrix (not very large, but the same happens always when specifying
> k):
> 
> > dim(m2)
> [1] 242   2
> > em321 <- emclust(m2,k=50)
> Error in mhtree.VVV(data[smpl, ]) : data must be a matrix with  at least 2 columns
> > em321 <- emclust(m2)
> (No problems)
> > em321 <- emclust(m2,modelid="VEV",k=50)
> Error in mhtree.VVV(data[smpl, ]) : data must be a matrix with  at least 2 columns
> > library(help=mclust)
> mclust          Model-based cluster analysis
> 
> Description:
> 
> Package: 	mclust
> Version: 	1.1-5
> (...)
> Built: R 1.3.1; i686-pc-linux-gnu; Thu Dec 13 04:02:36 CET 2001
> 
> What is going on here?
> (Mail is sent to the maintainer, too.)

It's a bug which I introduced... I'll fix it right away. A workaround is to
give a vector of 50 (random) indices that will serve as the objects in the
subset: emclust(m2,modelid="VEV", k=sample(dim(m2)[1], 50))
The bug is that is.vector(k) is true for a vector of length 1 as well...

Ron
> 
> Best,
> Christian
> I
> 
> -- 
> ***********************************************************************
> Christian Hennig
> Seminar fuer Statistik, ETH-Zentrum (LEO), CH-8092 Zuerich (current)
> and Fachbereich Mathematik-SPST/ZMS, Universitaet Hamburg
> hennig at stat.math.ethz.ch, http://stat.ethz.ch/~hennig/
> hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
> #######################################################################
> ich empfehle www.boag.de
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


---------------------------------+------------------------------------
Ron Wehrens                      |  Dept. of Chemometrics
Email: rwehrens at sci.kun.nl       |  University of Nijmegen
http://www.sci.kun.nl/cac/       |  Toernooiveld 1
Tel: +31 24 365 2053             |  6525 ED Nijmegen       
Fax: +31 24 365 2653             |  The Netherlands        
---------------------------------+------------------------------------
     
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From york at noaa.gov  Thu Feb 14 17:37:39 2002
From: york at noaa.gov (Anne York)
Date: Thu, 14 Feb 2002 08:37:39 -0800 (PST)
Subject: [R] apropos("plotmath") curiousity
Message-ID: <Pine.GSO.4.05.10202140743550.21906-100000@ofis450a.akctr.noaa.gov>

?plotmath produces the helpscreen for plotmath. 

Why does apropos("plotmath") return only character(0)? 

> apropos("plotmath")
character(0)

> 
> version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    4.1            
year     2002           
month    01             
day      30             
language R    
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Anne E. York
National Marine Mammal Laboratory
Seattle WA 98115-0070  USA
e-mail: anne.york at noaa.gov
Voice: +1 206-526-4039
Fax: +1 206-526-6615
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Feb 14 17:52:43 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 14 Feb 2002 08:52:43 -0800 (PST)
Subject: [R] Re: netCDF
In-Reply-To: <Pine.OSF.3.96.1020214120538.17836A-100000@ija.csic.es>
Message-ID: <Pine.A41.4.44.0202140845230.29860-100000@homer13.u.washington.edu>

>
> Now, at using it, I've found the following problem:
>
> > npp <- open.netCDF("npp.nc")
> > a <- read.netCDF(npp)
> Error: Can't handle NC_CHAR yet
> > summary.netCDF(npp)
> netCDF file npp.nc is open
> $types
> [1] "single" "single" "single" "single" "single" "char"   "single"
> "single"
> [9] "single"
>
> $dims
> etc.
>
> Do you plan to release a version supporting NC_CHAR soon?
> If not, would it be possible to modify the code so that the
> char variables were discarded as currently but the non-char variables
> could be read in?

I believe you should be able to just change

  case NC_CHAR:
        error("Can't handle NC_CHAR yet");
        break;

in Rreadnetcdf.c, line 234-6 to

  case NC_CHAR:
        warning("Can't handle NC_CHAR yet");
	return R_NilValue;
        break;

which would return NULL instead of the requested data.


	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Thu Feb 14 17:53:36 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Thu, 14 Feb 2002 11:53:36 -0500 (EST)
Subject: [R] Advice on using barplot
Message-ID: <Pine.LNX.4.21L1.0202141147340.646-100000@nujoma.perrins>

Greetings-

I'm venturing into a new (for me) area of using R: some presentation
graphics based on R data.

I'd like to compare two distributions of ordinal variables in relatively
small (N=203 and 207) subsets of an R dataset.  I can get a reasonably
good picture of the distributions' differences with:

x11()
plot(table(hcd.df$auth.sum[hcd.df$datecat==1]), type='l',xlim=c(-8,7),
ylim=c(0,59))
par(new=TRUE)
plot(table(hcd.df$auth.sum[hcd.df$datecat==2]), type='l',
col='red',xlim=c(-8,7), ylim=c(0,59))

but the line style is awkward and possibly even misleading when the values
are ordinal. What I'd like to use is a barplot, such that the
distributions are interspersed by value; that is, the furthest left bar
represents auth.sum==-8 where datecat==1, then immediately next to it is
auth.sum==-8 where datecat==2, then a small amount of space, then the -7
bars, etc.  (I may not be doing the best job describing this, but it's a
commonly-seen graph type; see
http://www.parentingbookmark.com/media/bar%20graph.jpg for an example
[thanks to images.google.com for finding it]).

The closest I've come is to use:
barplot(table(hcd.df$auth.valence, hcd.df$datecat), beside=TRUE)

which plots the two *distributions* side by side (all the datecat==1 then
all the datecat==2).

Any advice?

Thanks.

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Feb 14 17:54:45 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 14 Feb 2002 08:54:45 -0800 (PST)
Subject: [R] apropos("plotmath") curiousity
In-Reply-To: <Pine.GSO.4.05.10202140743550.21906-100000@ofis450a.akctr.noaa.gov>
Message-ID: <Pine.A41.4.44.0202140852590.29860-100000@homer13.u.washington.edu>

On Thu, 14 Feb 2002, Anne York wrote:

> ?plotmath produces the helpscreen for plotmath.
>
> Why does apropos("plotmath") return only character(0)?
>

Because there is no function whose name contains "plotmath".

To search for help pages, use help.search()
> help.search("plotmath")
Help files with alias or title matching `plotmath',
type `help(FOO, package = PKG)' to inspect entry `FOO(PKG) TITLE':

plotmath(base)          Mathematical Annotation in R


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Thu Feb 14 17:55:02 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Thu, 14 Feb 2002 11:55:02 -0500 (EST)
Subject: [R] Re: Advice on using barplot
In-Reply-To: <Pine.LNX.4.21L1.0202141147340.646-100000@nujoma.perrins>
Message-ID: <Pine.LNX.4.21L1.0202141154300.646-100000@nujoma.perrins>

(Red-faced and sheepish)....

Sorry to waste your time, the answer is obvious:
barplot(table(hcd.df$datecat, hcd.df$auth.valence), beside=TRUE)


----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA


On Thu, 14 Feb 2002, Andrew Perrin wrote:

> Greetings-
> 
> I'm venturing into a new (for me) area of using R: some presentation
> graphics based on R data.
> 
> I'd like to compare two distributions of ordinal variables in relatively
> small (N=203 and 207) subsets of an R dataset.  I can get a reasonably
> good picture of the distributions' differences with:
> 
> x11()
> plot(table(hcd.df$auth.sum[hcd.df$datecat==1]), type='l',xlim=c(-8,7),
> ylim=c(0,59))
> par(new=TRUE)
> plot(table(hcd.df$auth.sum[hcd.df$datecat==2]), type='l',
> col='red',xlim=c(-8,7), ylim=c(0,59))
> 
> but the line style is awkward and possibly even misleading when the values
> are ordinal. What I'd like to use is a barplot, such that the
> distributions are interspersed by value; that is, the furthest left bar
> represents auth.sum==-8 where datecat==1, then immediately next to it is
> auth.sum==-8 where datecat==2, then a small amount of space, then the -7
> bars, etc.  (I may not be doing the best job describing this, but it's a
> commonly-seen graph type; see
> http://www.parentingbookmark.com/media/bar%20graph.jpg for an example
> [thanks to images.google.com for finding it]).
> 
> The closest I've come is to use:
> barplot(table(hcd.df$auth.valence, hcd.df$datecat), beside=TRUE)
> 
> which plots the two *distributions* side by side (all the datecat==1 then
> all the datecat==2).
> 
> Any advice?
> 
> Thanks.
> 
> ----------------------------------------------------------------------
> Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
>  Assistant Professor of Sociology, U of North Carolina, Chapel Hill
>       269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA
> 
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu Feb 14 18:20:26 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 14 Feb 2002 18:20:26 +0100 (MET)
Subject: [R] Re: netCDF
In-Reply-To: <Pine.A41.4.44.0202140845230.29860-100000@homer13.u.washington.edu>
Message-ID: <Pine.OSF.3.96.1020214181521.17836I-100000@ija.csic.es>


After modifying the code and recompiling,
I get :

> library(netCDF)
> a <- read.netCDF(npp)
Error: attempt to set an attribute on NULL
In addition: Warning message:
Can't handle NC_CHAR yet

Which I do not understand, as attributes can be set
to NULL:

>  x <- cbind(a=1:3, pi=pi)
> attributes(x)
$dim
[1] 3 2

$dimnames
$dimnames[[1]]
NULL

$dimnames[[2]]
[1] "a"  "pi"

and then:

> attributes(x) <- NULL
> attributes(x)
NULL

or

> attributes(x)$dimnames <- NULL
> attributes(x)
$dim
[1] 3 2

Agus


Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Thu, 14 Feb 2002, Thomas Lumley wrote:

> >
> > Now, at using it, I've found the following problem:
> >
> > > npp <- open.netCDF("npp.nc")
> > > a <- read.netCDF(npp)
> > Error: Can't handle NC_CHAR yet
> > > summary.netCDF(npp)
> > netCDF file npp.nc is open
> > $types
> > [1] "single" "single" "single" "single" "single" "char"   "single"
> > "single"
> > [9] "single"
> >
> > $dims
> > etc.
> >
> > Do you plan to release a version supporting NC_CHAR soon?
> > If not, would it be possible to modify the code so that the
> > char variables were discarded as currently but the non-char variables
> > could be read in?
> 
> I believe you should be able to just change
> 
>   case NC_CHAR:
>         error("Can't handle NC_CHAR yet");
>         break;
> 
> in Rreadnetcdf.c, line 234-6 to
> 
>   case NC_CHAR:
>         warning("Can't handle NC_CHAR yet");
> 	return R_NilValue;
>         break;
> 
> which would return NULL instead of the requested data.
> 
> 
> 	-thomas
> 
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From srhidalgo at yahoo.com  Thu Feb 14 18:24:13 2002
From: srhidalgo at yahoo.com (=?iso-8859-1?q?Sandra=20Romero?=)
Date: Thu, 14 Feb 2002 11:24:13 -0600 (CST)
Subject: [R] How to read a long string of characters as a vector
Message-ID: <20020214172413.60361.qmail@web13802.mail.yahoo.com>

Dear R users,

I would really appreciate some help, I have a plain
text file which contains info like

NANATGGGGGGGCCCAGCTTGAATTCCCNTCCCCNTTCCCATCCAGGCC

I would like to read it as a vector, for example,
(N,A,N,A,T,G,G,G,G,G,G,G,C,C,C,........)

I've tried commands such as read.table and scan but I
don't get what I want.

Thank you in advanced.

Sandra

_________________________________________________________

Informaci?n de Estados Unidos y Am?rica Latina, en Yahoo! Noticias.
Vis?tanos en http://noticias.espanol.yahoo.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Feb 14 18:36:56 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Feb 2002 18:36:56 +0100
Subject: [R] How to read a long string of characters as a vector
In-Reply-To: <20020214172413.60361.qmail@web13802.mail.yahoo.com>
References: <20020214172413.60361.qmail@web13802.mail.yahoo.com>
Message-ID: <x2k7tg55jb.fsf@blueberry.kubism.ku.dk>

Sandra Romero <srhidalgo at yahoo.com> writes:

> Dear R users,
> 
> I would really appreciate some help, I have a plain
> text file which contains info like
> 
> NANATGGGGGGGCCCAGCTTGAATTCCCNTCCCCNTTCCCATCCAGGCC
> 
> I would like to read it as a vector, for example,
> (N,A,N,A,T,G,G,G,G,G,G,G,C,C,C,........)
> 
> I've tried commands such as read.table and scan but I
> don't get what I want.

You probably can't do it on input, but have a look at strsplit().

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Feb 14 18:39:05 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 14 Feb 2002 17:39:05 +0000 (GMT)
Subject: [R] How to read a long string of characters as a vector
In-Reply-To: <20020214172413.60361.qmail@web13802.mail.yahoo.com>
Message-ID: <Pine.LNX.4.31.0202141738090.1501-100000@gannet.stats>

On Thu, 14 Feb 2002, [iso-8859-1] Sandra Romero wrote:

> Dear R users,
>
> I would really appreciate some help, I have a plain
> text file which contains info like
>
> NANATGGGGGGGCCCAGCTTGAATTCCCNTCCCCNTTCCCATCCAGGCC
>
> I would like to read it as a vector, for example,
> (N,A,N,A,T,G,G,G,G,G,G,G,C,C,C,........)
>
> I've tried commands such as read.table and scan but I
> don't get what I want.

use scan, then strsplit, or if you prefer, read.fwf

>
> Thank you in advanced.
>
> Sandra
>
> _________________________________________________________
>
> Información de Estados Unidos y América Latina, en Yahoo! Noticias.
> Visítanos en http://noticias.espanol.yahoo.com
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jzhang at jimmy.harvard.edu  Thu Feb 14 18:55:52 2002
From: jzhang at jimmy.harvard.edu (John Zhang)
Date: Thu, 14 Feb 2002 12:55:52 -0500 (EST)
Subject: [R] How to read a long string of characters as a vector
Message-ID: <200202141755.MAA04912@blaise.dfci.harvard.edu>

Sandra,

paste(unlist(strsplit("yourstring", "")), sep = "", collapse = ",") will give 
you y,o,u,r,s,t,r,i,n,g.

Jianhua

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Feb 14 19:02:11 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 14 Feb 2002 10:02:11 -0800 (PST)
Subject: [R] How to read a long string of characters as a vector
In-Reply-To: <20020214172413.60361.qmail@web13802.mail.yahoo.com>
Message-ID: <Pine.A41.4.44.0202140958490.29860-100000@homer13.u.washington.edu>

On Thu, 14 Feb 2002, [iso-8859-1] Sandra Romero wrote:

> Dear R users,
>
> I would really appreciate some help, I have a plain
> text file which contains info like
>
> NANATGGGGGGGCCCAGCTTGAATTCCCNTCCCCNTTCCCATCCAGGCC
>
> I would like to read it as a vector, for example,
> (N,A,N,A,T,G,G,G,G,G,G,G,C,C,C,........)
>
> I've tried commands such as read.table and scan but I
> don't get what I want.
>

Two possibilities
1/ Read it in as a long string and then split it
eg
   > a<-"QWERTYUIOP"
   > strsplit(a,"")
   [[1]]
    [1] "Q" "W" "E" "R" "T" "Y" "U" "I" "O" "P"

2/ If you actually have multiple lines like this and want a data frame
then read.fwf() should help.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Feb 14 18:57:25 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 14 Feb 2002 09:57:25 -0800 (PST)
Subject: [R] Re: netCDF
In-Reply-To: <Pine.OSF.3.96.1020214181521.17836I-100000@ija.csic.es>
Message-ID: <Pine.A41.4.44.0202140955550.29860-100000@homer13.u.washington.edu>

On Thu, 14 Feb 2002, Agustin Lobo wrote:

>
> After modifying the code and recompiling,
> I get :
>
> > library(netCDF)
> > a <- read.netCDF(npp)
> Error: attempt to set an attribute on NULL
> In addition: Warning message:
> Can't handle NC_CHAR yet
>
> Which I do not understand, as attributes can be set
> to NULL:
>

What it's saying is that NULL can't be given attributes (since there's
only one NULL, you can't modify it).  It sounds like that simple fix
doesn't quite work. Bother. I'll have a look at the code.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Christian.C.Ritter at OPC.shell.com  Thu Feb 14 19:42:12 2002
From: Christian.C.Ritter at OPC.shell.com (Ritter, Christian C SRTCL-CTGAS)
Date: Thu, 14 Feb 2002 19:42:12 +0100
Subject: [R] two comments regarding predict.lm
Message-ID: <F169284AF6DDD111AA000001FAF836E802798A47@LLNBBS22>

Here is the first one.

 It concerns the handling of multiple offsets.
	The following lines creates a list with 3 explanatory variables and
one response.
		> x<-seq(0,1,length=10);y<-sin(x);z<-cos(x);
w<-x+y+z+rnorm(x)
		> data<-list(x=x,y=y,z=z,w=w)

	A lm is fitted with one explanatory variable and two offsets. So
far, so good.
		> tt<-lm(w~x+offset(y)+offset(z),data=data)
	Then predict dies since it can only handle one offset term.
		> predict(tt,data)
		Error in eval(attr(tt, "variables")[[off.num + 1]], newdata)
: 
			attempt to select more than one element

	The following shows that it works with a single offset term.
		> tt<-lm(w~x+offset(y+z),data=data)
		> predict(tt,data)
		       1        2        3        4        5        6
7        8 
		1.011794 1.302522 1.579625 1.841981 2.088647 2.318876
2.532122 2.728049 
		       9       10 
		2.906535 3.067673
I would find it useful, if I could handle several offset terms.

Here is the second. It concerns again offsets. Deep in the belly of
predict.lm we find the lines:
	    predictor <- drop(X[, piv, drop = FALSE] %*% beta[piv])
	    if (!is.null(offset)) 
	        predictor <- predictor + offset
	X is the model matrix as obtained by 
	        X <- model.matrix(delete.response(tt), newdata, contrasts =
object$contrasts,            xlev = object$xlevels)
	and offset is a vector if there is an offset term. Now imagine that
the variables in newdata which make the offset contain some missing values
and that the variables in newdata which correspond to the model matrix dont.
In this case, predictor will be longer than offset and taking the sum
predictor + offset will make no sense. In the current version, this will
result in a warning of "different lengths". I would prefer if the result
were one of the following two:
		a) a stop with an error message (since the consequence of
ignoring the warning could be disastrous)
		b) that predictor and offset would be constructed of the
same (maximum) length, eventually padded by NA's where necessary
The second choice may make things easier to work with. 

Greetings,
		Chris

         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    4.1            
year     2002           
month    01             
day      30             
language R              
> 
> Kind Regards, 
> Christian Ritter, Statistical Services
> 
       Tel  +32 10 477349/ Fax +32 10 477219       
       email : Christian.C.Ritter at OPC.Shell.com

       Shell Coordination Centre
       Shell Research and Technology Centre 
       Avenue Jean Monnet 1
       B-1348 Ottignies Louvain-La-Neuve (Belgium)





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ajm6q at virginia.edu  Thu Feb 14 19:56:49 2002
From: ajm6q at virginia.edu (Aaron J Mackey)
Date: Thu, 14 Feb 2002 13:56:49 -0500 (EST)
Subject: [R] RFC: "R::Wrapper" perl module 
Message-ID: <Pine.OSF.4.33.0202141333040.32609-100000@alpha10.bioch.virginia.edu>


If I actually finished writing this module, would any of you use it?
Would you wish it did something else/different than what's described
below?  Any comments or suggestions on its proposed usage, intent, or
syntax are welcome!  (An alternative, better name would also be
appreciated)  -Aaron

NAME
    R::Wrapper - Wrapper around the RS-Perl R module

SYNOPSIS
      #!/usr/bin/perl -w

      use strict;

      use R::Wrapper qw(:all);

      my @x = 1 .. 10;
      my @y = 1 .. 10;
      @x = cumsum(\@x);

      plot( { x => \@x,
              y => \@y,
              main => 'Test Plot'
            }
          );

      __END__

      # then, at the command line:

      # just view it, nothing else;
      % ./script.pl

      # after viewing, have the option to save as PDF
      # (prompt for filename):
      % ./script.pl --pdf

      # do the same, but specify filenames in advance:
      % ./script.pl --dump=rawdata.txt
      % ./script.pl --pdf=testplot.pdf
      % ./script.pl --ps=testplot.ps

      # only generate the dump, don't preview at all:
      % ./script.pl --nopreview --pdf=testplot.pdf

      # pipe the postscript to something else:
      % ./script.pl --ps="| enscript -Pbiochem_LJ5P"

      # the default argument for lpr is -P
      % ./script.pl --lpr=biochem_LJP

      # send other parameters to lpr (e.g. 2 copies);
      % ./script.pl --lpr="-Pwrp_ph56 -#2"

      # send pdf's to someone:
      % ./script.pl --pdf --email=amackey at virginia.edu --subject="Here's the latest version"

DESCRIPTION
    R::Wrapper is meant to be a utility wrapper around the RS-Perl R module.
    It currently provides three main features: the first is a visually
    "cleaner" interface to the R module's calling interface (and handling
    for a few sticky issues the R module has with vectors versus scalars).

    The second feature is to automatically "annotate" each page of output
    with meta-information about the script (it's name, path, the date,
    arguments to the script, etc etc); These annotations will appear at the
    bottom of the output page, and are meant to aid in the reproduction of
    the data used by the figure(s) at a later date.

    The third feature is that R::Wrapper provides automatic recognition for
    --dump, --pdf, --ps, --lpr and --email command line switches to scripts
    that use R::Wrapper. The point of these switches is that after
    "previewing" any plotted data in a graphical window, R::Wrapper will
    automatically prompt the user if they wish to dump the raw numerical
    data used to generate the plot (--dump), or obtain PDF or postscript
    (--pdf and --ps, respectively) versions of the plot (including
    annotations); if a filename was not specified at the command line, or if
    multiple plots are drawn by the script, the user will be prompted for
    each necessary filename. Instead of specifying filenames for --dump,
    --pdf and --ps, the outputs can also be piped into another process.
    The --lpr option expects arguments to the lpr command, instead of
    filenames. The --email option is used in conjunction with the other
    options, and specifies that the outputs should be MIME-attached to an
    email to be sent to the specified user(s).

    R::Wrapper uses the Getopt::Long module to handle command line options,
    so scripts that make use of it should 'use R::Wrapper' before any other
    processing of @ARGV occurs (R::Wrapper will strip out it's specific
    arguments, leaving any others in @ARGV for processing by the script
    itself).

MOTIVATION
    Currently, our research "flow" looks like this:

      1. Generate/collect raw data
      2. Use Perl scripts to "munge" or otherwise convert raw data into
         tabular format (or import into a relational database)
      3. Use R script(s) to analyze, transform and visualize data read in
         from tabular format (or obtained out of relational database);
         edit script until the desired output formatting/layout is
         achieved
      4. Edit R scripts furiously to redirect plotting output into
         pdf/postscript/etc.
      5. Use either Perl or R to (re)generate tabular-formatted plotting
         data (for import into publication-quality graphing environments)

    R::Wrapper attempts to combine steps 3 through 5 (although it could
    also be used in a "super script" that performed steps 1 and 2, if
    desired).  The advantage of doing this is to keep the definitions for
    data production the same: the same set of Perl and R functions are
    used to generate "preview" data in step 3, generate hardcopy in step 4
    and generate export data in step 5.

SUPPORTED ROUTINES
    Currently, R::Wrapper only supports text output (--dump) for plots
    generated using the following R functions (as a proof of concept, and
    because these are the plotting routines we use most often):

    * plot
    * points
    * lines

TODO

    * Add some kind of templating mechanism, so that text output can be
      user-controlled.
    * Add --dump support for more plotting routines (i.e. 'histogram',
      'barplot', 'boxplot', etc. etc.).

AUTHOR
    Aaron J Mackey, amackey at virginia.edu

SEE ALSO
    perl(1), RS-Perl


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Thu Feb 14 21:45:24 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Thu, 14 Feb 2002 14:45:24 -0600
Subject: [R] RFC: "R::Wrapper" perl module
In-Reply-To: <Pine.OSF.4.33.0202141333040.32609-100000@alpha10.bioch.virginia.edu>
References: <Pine.OSF.4.33.0202141333040.32609-100000@alpha10.bioch.virginia.edu>
Message-ID: <20020214204523.GA13740@sonny.eddelbuettel.com>


Aaron,

Absolutely -- more tools are always better, and I am also "Perl-centric" in
my pre- and post-processing so this would clearly be interesting.

Did you look at Perl's Inline.pm?  Andy Adler used that for inlining Octave.

(Disclaimer: I am retty ignorant of the guts of what Duncan's RSPerl does
vis-a-vis Inline etc pp)

Dirk

-- 
Good judgement comes from experience; experience comes from bad judgement. 
							    -- Fred Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From valdentro at hotmail.com  Thu Feb 14 23:57:21 2002
From: valdentro at hotmail.com (=?iso-8859-1?B?YW5kculzIHNlbmRyYQ==?=)
Date: Thu, 14 Feb 2002 22:57:21 +0000
Subject: [R] problems with read.table
Message-ID: <F883tYwlib4g3Sv0YKp00023ede@hotmail.com>



When I read a CSV file with containing two real variables with six decimal 
places, "read.table" converts it in a data frame where the numbers are only 
two decimal places.
Can anybody explain me what should I do to correct this problem?
Thanks in advance
Juan Pablo

_________________________________________________________________
Con MSN Hotmail s?mese al servicio de correo electr?nico m?s grande del 
mundo. http://www.hotmail.com/ES

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pkleiber at honlab.nmfs.hawaii.edu  Fri Feb 15 00:57:26 2002
From: pkleiber at honlab.nmfs.hawaii.edu (Pierre Kleiber)
Date: Thu, 14 Feb 2002 13:57:26 -1000
Subject: [R] immortal connections
Message-ID: <3C6C4EE6.D939B162@honlab.nmfs.hawaii.edu>

  I have several data input functions that include a construct like
the following:

   indat <- function(stuff) {
     [...]
     awkp <- paste("awk ...yada yada...", stuff, etc.)
     scan(pipe(awkp),quiet=TRUE)
   }

I use these functions a lot, and as I do, a lengthening list of
closed, but undestroyed, connections accumulates.  Ultimately this
appears to stuff things up and cause error messages, such as "cannot
close output sink connection".  I seem to remember a related query
some time ago on this list, but I can't locate it.  So my question is:
Should I include a closeAllConnections() at the end of each input
function?... or is there a preferrable tactic?

  Thanks, Pierre

vital data: 
  R  Version 1.4.1  (2002-01-30)
  Red Hat Linux release 7.2 (Enigma)

-- 
-----------------------------------------------------------------
Pierre Kleiber             Email: pkleiber at honlab.nmfs.hawaii.edu
Fishery Biologist                     Tel: 808 983-5399/737-7544
NOAA FISHERIES - Honolulu Laboratory         Fax: 808 983-2902
2570 Dole St., Honolulu, HI 96822-2396 
-----------------------------------------------------------------
 "God could have told Moses about galaxies and mitochondria and
  all.  But behold... It was good enough for government work."
-----------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Nancy.Lo at noaa.gov  Fri Feb 15 01:04:40 2002
From: Nancy.Lo at noaa.gov (Nancy Lo)
Date: Thu, 14 Feb 2002 16:04:40 -0800
Subject: [R] outer()
Message-ID: <3C6C5098.95055D00@noaa.gov>

Hi all,

I tried to use outer() but it gave me wrong answer. Anyone can tell me
why?  Thank you for your time.


> outer(a[1],b[1:2],f)
        [,1]    [,2]
[1,] 6903.15 6903.15

where
> a
[1] 0.5 2.0 4.0
> b
[1] -0.5 -1.5

> f
function(a1,b1){mleop4.fun(c(a1,b1,A[1],B[1],f1[1],f2[1],g[1],h[1]))}


The answer should be  6869.808,  6809.302

as shown below:

> outer(a[1],b[1],f)
         [,1]
[1,] 6869.808
> outer(a[1],b[2],f)
         [,1]
[1,] 6809.302

Or
> f(a[1],b[1])
[1] 6869.808
> f(a[1],b[2])
[1] 6809.302
>


Nancy

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Feb 15 01:49:50 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 14 Feb 2002 16:49:50 -0800 (PST)
Subject: [R] outer()
In-Reply-To: <3C6C5098.95055D00@noaa.gov>
Message-ID: <Pine.A41.4.44.0202141647520.26032-100000@homer23.u.washington.edu>

On Thu, 14 Feb 2002, Nancy Lo wrote:

> Hi all,
>
> I tried to use outer() but it gave me wrong answer. Anyone can tell me
> why?  Thank you for your time.
>
>
> > outer(a[1],b[1:2],f)
>         [,1]    [,2]
> [1,] 6903.15 6903.15
>
> where
> > a
> [1] 0.5 2.0 4.0
> > b
> [1] -0.5 -1.5
>
> > f
> function(a1,b1){mleop4.fun(c(a1,b1,A[1],B[1],f1[1],f2[1],g[1],h[1]))}
>

It's a bit hard to tell without knowing what the function does, but it
looks very much as if f() isn't vectorised. As help(outer) says
    `FUN' must be a function (or the name of it) which expects at
     least two arguments and which operates elementwise on arrays.
and the workaround is in the FAQ.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.darnell at shrs.uq.edu.au  Fri Feb 15 05:11:11 2002
From: r.darnell at shrs.uq.edu.au (Ross Darnell)
Date: 15 Feb 2002 14:11:11 +1000
Subject: [R] Reordering factor levels
Message-ID: <m0pu371j1c.fsf@localhost.localdomain>


I would like to define the order of the levels of a factor.

The relevel function would work but since I have 20 levels I would prefer
to declare the order explicitly. Using a smaller example

levels(oldfactor)
"b1" "b2" "r1" "r2"
nufactor <- order(oldfactor,order=c("b1","r1","b2","r2")) # my fabricated function
levels(nufactor)
"b1" "r1" "b2" "r2"

Thanks in advance for any help.

Regards
Ross Darnell

-- 

Email  r.darnell at shrs.uq.edu.au

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Feb 15 08:48:49 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 15 Feb 2002 07:48:49 +0000 (GMT)
Subject: [R] problems with read.table
In-Reply-To: <F883tYwlib4g3Sv0YKp00023ede@hotmail.com>
Message-ID: <Pine.GSO.4.44.0202150745150.6633-100000@auk.stats>

On Thu, 14 Feb 2002, [iso-8859-1] andrés sendra wrote:

> When I read a CSV file with containing two real variables with six decimal
> places, "read.table" converts it in a data frame where the numbers are only
> two decimal places.
> Can anybody explain me what should I do to correct this problem?
> Thanks in advance
> Juan Pablo

Give us an example, with full details of your R system?

It seems quite possible that the result has six dp but is being printed to
two dp: I can see no way that read.table (more precisely, type.convert that
it calls) could drop figures (except to stay within the computer accuracy,
but then you would have had trouble writing the cvs file).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Feb 15 09:20:03 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 15 Feb 2002 08:20:03 +0000 (GMT)
Subject: [R] immortal connections
In-Reply-To: <3C6C4EE6.D939B162@honlab.nmfs.hawaii.edu>
Message-ID: <Pine.GSO.4.44.0202150752430.6633-100000@auk.stats>

On Thu, 14 Feb 2002, Pierre Kleiber wrote:

>   I have several data input functions that include a construct like
> the following:
>
>    indat <- function(stuff) {
>      [...]
>      awkp <- paste("awk ...yada yada...", stuff, etc.)
>      scan(pipe(awkp),quiet=TRUE)
>    }
>
> I use these functions a lot, and as I do, a lengthening list of
> closed, but undestroyed, connections accumulates.  Ultimately this
> appears to stuff things up and cause error messages, such as "cannot
> close output sink connection".  I seem to remember a related query
> some time ago on this list, but I can't locate it.  So my question is:
> Should I include a closeAllConnections() at the end of each input
> function?... or is there a preferrable tactic?

That's how connections work.  You need to be using

   awkp <- paste("awk ...yada yada...", stuff, etc.)
   con <- pipe(awkp)
   scan(con, quiet=TRUE)
   close(con)

When passed a connection, scan can open and close it, but it cannot destroy
it as it does not know if it is the sole user.  There is no way for scan to
distinguish between

scan(pipe(awkp),quiet=TRUE)
scan((con <- pipe(awkp)), quiet=TRUE)

There is a finite pool (about 50) of connections, and you will eventually
run out.  That does not `stuff things up', just stop you creating any more
connections.

It would possible to be clever and reclaim unused connections, but for the
fact that the Green Book seems to suggest you can legitimately go to
showConnections() and reclaim them by getConnection(a number).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Feb 15 10:43:07 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Feb 2002 10:43:07 +0100
Subject: [R] Reordering factor levels
In-Reply-To: <m0pu371j1c.fsf@localhost.localdomain>
References: <m0pu371j1c.fsf@localhost.localdomain>
Message-ID: <x2d6z79j2s.fsf@blueberry.kubism.ku.dk>

Ross Darnell <r.darnell at shrs.uq.edu.au> writes:

> I would like to define the order of the levels of a factor.
> 
> The relevel function would work but since I have 20 levels I would prefer
> to declare the order explicitly. Using a smaller example
> 
> levels(oldfactor)
> "b1" "b2" "r1" "r2"
> nufactor <- order(oldfactor,order=c("b1","r1","b2","r2")) # my fabricated function
> levels(nufactor)
> "b1" "r1" "b2" "r2"
> 
> Thanks in advance for any help.

e.g.:

> f <- factor(letters[1:3])
> g <- factor(f,levels=rev(levels(f))) # or levels(f)[c(3,1,2)], etc. 
> g
[1] a b c
Levels:  c b a 
> f
[1] a b c
Levels:  a b c 


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jtjokine at cc.helsinki.fi  Fri Feb 15 10:36:34 2002
From: jtjokine at cc.helsinki.fi (Jukka T Jokinen)
Date: Fri, 15 Feb 2002 11:36:34 +0200 (EET)
Subject: [R] na.include and nlm warnings
Message-ID: <Pine.OSF.4.30.0202142145330.16278-100000@sirppi.helsinki.fi>


Dear R-users,

1) has there been plans to add na.include-function for handling missing
values in objects? This would be particularly helpful for functions that
fit models for longitudinal datasets with possible missing responses.

2) I am using nlm for a numerical optimisation of a function. Sometimes
the function produces NA as a result. nlm gives a warning that NA was
replaced by a maximum positive value so, in case of NA, I replaced the
function output with .Machine$double.xmax to avoid these warnings. Since I
don't know what nlm exactly does in these situations, I am a bit worried
whether there is any chance that this might affet the numerical
optimization in some situations. Can anyone tell whether this could cause
problems?

This could be avoided with optim which doesn't print warnings in this case
but I have found that it takes, with all available methods, at least twice
as many iterations for some problems.

Thanks in advance,

Jukka Jokinen

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Fri Feb 15 10:53:15 2002
From: siim at obs.ee (Ott Toomet)
Date: Fri, 15 Feb 2002 10:53:15 +0100 (CET)
Subject: [R] Reordering factor levels
In-Reply-To: <m0pu371j1c.fsf@localhost.localdomain>
Message-ID: <Pine.LNX.4.33.0202151052240.11206-100000@localhost.localdomain>

Hi,

just use

factor( ,levels=...)

as in

> a <- c("a", "g", "s", "s", "d", "s")
> a <- factor(a)
> a
[1] a g s s d s
Levels:  a d g s
> a <- factor(a, levels=c("s", "d", "a", "g"))
> a
[1] a g s s d s
Levels:  s d a g

Cheers!

Ott Toomet



On 15 Feb 2002, Ross Darnell wrote:

>
> I would like to define the order of the levels of a factor.
>
> The relevel function would work but since I have 20 levels I would prefer
> to declare the order explicitly. Using a smaller example
>
> levels(oldfactor)
> "b1" "b2" "r1" "r2"
> nufactor <- order(oldfactor,order=c("b1","r1","b2","r2")) # my fabricated function
> levels(nufactor)
> "b1" "r1" "b2" "r2"
>
> Thanks in advance for any help.
>
> Regards
> Ross Darnell
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From W.Simpson at gcal.ac.uk  Fri Feb 15 11:07:06 2002
From: W.Simpson at gcal.ac.uk (Bill Simpson)
Date: Fri, 15 Feb 2002 10:07:06 +0000 (GMT)
Subject: [R] cmdscale k=1
Message-ID: <Pine.LNX.4.10.10202150959400.4418-100000@localhost.localdomain>

In applying multidimensional scaling, it seems to me that sometimes the
underlying dimensionality of the matrix is 1.  However I found a case
where cmdscale failed when I tried k=1. Here it is:

m<-matrix(
c(.5,.81,.23,.47,.61,
.19,.5,.06,.17,.28,
.77,.94,.5,.74,.85,
.53,.83,.26,.5,.64,
.39,.72,.15,.36,.5),
nrow=5)

# BTW I think cmdscale uses only the lower triangle--how to enter only
# that bit and save some data entry?

fit<-cmdscale(dist(m),k=2) #k is number of dimensions
rownames(m,do.NULL=FALSE)
rownames(m)<-c("A","B","C","D","E")

x <- fit[,1]
y <- -fit[,2]
plot(x, y, type="n", xlab="", ylab="")
text(x, y, rownames(m))

#So far so good. Note that y dimension in plot is very small compared to x
#should be able to ditch the y dimension

fit<-cmdscale(dist(m),k=1)
fit
#nothing!

I found for other matrices that I could use k=1 and the result was
sensible. I'm not really sure how cmdscale works. Can someone please tell
me what is going on and if I'm unreasonable to expect k=1 to work?

Thanks!

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Feb 15 11:38:11 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 15 Feb 2002 10:38:11 +0000 (GMT)
Subject: [R] cmdscale k=1
In-Reply-To: <Pine.LNX.4.10.10202150959400.4418-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.31.0202151030490.3709-100000@gannet.stats>

On Fri, 15 Feb 2002, Bill Simpson wrote:

> In applying multidimensional scaling, it seems to me that sometimes the
> underlying dimensionality of the matrix is 1.  However I found a case
> where cmdscale failed when I tried k=1. Here it is:
>
> m<-matrix(
> c(.5,.81,.23,.47,.61,
> .19,.5,.06,.17,.28,
> .77,.94,.5,.74,.85,
> .53,.83,.26,.5,.64,
> .39,.72,.15,.36,.5),
> nrow=5)
>
> # BTW I think cmdscale uses only the lower triangle--how to enter only
> # that bit and save some data entry?
>
> fit<-cmdscale(dist(m),k=2) #k is number of dimensions
> rownames(m,do.NULL=FALSE)
> rownames(m)<-c("A","B","C","D","E")
>
> x <- fit[,1]
> y <- -fit[,2]
> plot(x, y, type="n", xlab="", ylab="")
> text(x, y, rownames(m))
>
> #So far so good. Note that y dimension in plot is very small compared to x
> #should be able to ditch the y dimension
>
> fit<-cmdscale(dist(m),k=1)
> fit
> #nothing!

I get the first column of the k=2 solution, as I should.  Using 1.4.1,
BTW.

Since you specified a data matrix, the distance matrix dist(m) is
Euclidean (and it is the lower triangle of that which is used, not of m),
and cmdscale just gives you the data on the principal components.  So for
k dimensions cmdscale gives you exactly

predict(princomp(m))[, 1:k, drop = FALSE]


> I found for other matrices that I could use k=1 and the result was
> sensible. I'm not really sure how cmdscale works. Can someone please tell
> me what is going on and if I'm unreasonable to expect k=1 to work?

It is reasonable to use cmdscale for k=1.  It is not reasonable to use it
for Euclidean distances computed from a data matrix, as this is an opaque
and inefficient way to do PCA.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauling at giub.unibe.ch  Fri Feb 15 12:28:30 2002
From: pauling at giub.unibe.ch (Andreas Pauling)
Date: Fri, 15 Feb 2002 12:28:30 +0100
Subject: [R] difficult R-problem
Message-ID: <3C6CF0DE.AA09FA46@giub.unibe.ch>

Hi there

In the course of my diploma thesis in climatology I have encountered

a difficult R-Problem that I cannot solve. I want to fill R-Objects

(whose names should depend on j) with numbers at the i-th position.

The resulting Objects should be something like:

RQuadratStep1, RQuadratStep2, RQuadratStep3 ... filled with Elements like

c(0.324, 0.456, 0.657 ...)

Below is a short version of how I have tried to solve it but I don't

know how to insert numbers at the i-th place. The problem seems to be

the "assign" line. Thanks a lot for all hints.

for(j in 1:10) {

  for(i in 1:30)  {

    fit<-lm(annJMSLTv.box~.,data=data.frame(annJMSLTv.box=annJMSLTv.box[,i],allTreerings[,1:15])

    backfit<-step(fit,trace=F,steps=1)

    assign(eval(parse(text=paste("RQuadratStep",j,sep=""))),round(summary(fit)$r.squared, dig=3))

  }

}



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Fri Feb 15 13:10:49 2002
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Fri, 15 Feb 2002 13:10:49 +0100 (MET)
Subject: [R] difficult R-problem
In-Reply-To: <3C6CF0DE.AA09FA46@giub.unibe.ch>
Message-ID: <Pine.LNX.4.21.0202151308250.23624-100000@artemis.imbe.med.uni-erlangen.de>



> Hi there
> 
> In the course of my diploma thesis in climatology I have encountered
> 
> a difficult R-Problem that I cannot solve. I want to fill R-Objects
> 
> (whose names should depend on j) with numbers at the i-th position.
> 
> The resulting Objects should be something like:
> 
> RQuadratStep1, RQuadratStep2, RQuadratStep3 ... filled with Elements like

you may want to use lists: 

mylist <- list()

for (j in 1:10)
  mylist <- c(mylist, list(rnorm(10)))

and

> mylist[[5]]
 [1]  1.0530570  0.4205237 -0.7135633 -0.1252135 -0.2001246  2.1129394
 [7] -1.8155177  1.2549754 -1.1938755  0.3253695

is an ordinary vector

> mylist[[5]][1]
[1] 1.053057

Torsten



> 
> c(0.324, 0.456, 0.657 ...)
> 
> Below is a short version of how I have tried to solve it but I don't
> 
> know how to insert numbers at the i-th place. The problem seems to be
> 
> the "assign" line. Thanks a lot for all hints.
> 
> for(j in 1:10) {
> 
>   for(i in 1:30)  {
> 
>     fit<-lm(annJMSLTv.box~.,data=data.frame(annJMSLTv.box=annJMSLTv.box[,i],allTreerings[,1:15])
> 
>     backfit<-step(fit,trace=F,steps=1)
> 
>     assign(eval(parse(text=paste("RQuadratStep",j,sep=""))),round(summary(fit)$r.squared, dig=3))
> 
>   }
> 
> }
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adrian.trapletti at lmttrading.com  Fri Feb 15 13:10:24 2002
From: adrian.trapletti at lmttrading.com (Adrian Trapletti)
Date: Fri, 15 Feb 2002 13:10:24 +0100
Subject: [R] Time Series ts() Objects
References: <200202110301.EAA18046@stat.math.ethz.ch>
Message-ID: <3C6CFAB0.1CEBF2D0@lmttrading.com>

> Date: Mon, 11 Feb 2002 15:08:55 +1300 (NZDT)
> From: Ko-Kang Kevin Wang <kwan022 at stat.auckland.ac.nz>
> Subject: [R] Time Series ts() Objects
>
> Hi,
>
> Is it possible to create a ts() object, whose data is daily based BUT
> measured only on working days?
>
> In other words, suppose I have a data set with 255 observations, measured
> from 29 June 1959 to 30 June 1960.  How would I create such a data?  I
> tried something like:
>    ts(c(...), start(1959, 180))
> but I'm not sure what to use for frequency.  In other words I don't know
> how to "ignore" Saturdays and Sundays.
>
> Many thanks in advance,
>
> Ko-Kang Wang
>
> - ------------------------------------------------------------------------------
> Ko-Kang Kevin Wang
> Postgraduate PGDipSci Student (Summer Research Assistant)
> Department of Statistics
> University of Auckland
> New Zealand

I have a PRELIMINARY package for very basic operations with irregular time series. Maybe this is useful for you. It?s attached. Since it?s
undocumentated I prepared a small example:

source("irts.R")
x <- read.irts("data")
x

times<- seq.irts(x$times[1],x$times[32],60*5)
times

interpolate.irts(x, times, method="constant")

best
Adrian



-------------- next part --------------
irts <- function(times, data)
{
  if (!is.vector(times))
    stop("times is not a vector of times")
  if (length(times) != NROW(data))
    stop("times and data have not the same number of rows")
  class(times) <- c("POSIXt", "POSIXct")
  irts <- list(times = times, data = data)
  class(irts) <- "irts"
  return(irts)
}

data.irts <- function(x)
{
  return(x$data)
}

times.irts <- function(x)
{
  return(x$times)
}

print.irts <- function(x, format = "%Y-%m-%d %H:%M:%S", tz = "GMT", usetz = TRUE)
{
  n <- length(x$times)
  for (i in 1:n)
  {
    cat(format(x$times[i], format=format, tz = tz, usetz = usetz))
    cat(" ")
    if (is.vector(x$data))
      cat(as.character(x$data[i]))
    else
      cat(as.character(x$data[i,]))
    cat("\n")
  }
}

read.irts <- function(file, format = "%Y-%m-%d %H:%M:%S", tz = "GMT", ...)
{
  x <- read.table(file, as.is = TRUE, ...)
  times <- as.numeric(as.POSIXct(strptime(paste(x[,1], x[,2]), format = format), tz = tz))
  data <- x[,-(1:2)] 
  irts(times, data)
}

is.businessday.irts <- function(x, tz = "GMT")
{
  wday <- as.POSIXlt(x$times, tz = tz)$wday
  return ((0 < wday) & (wday < 6))
}

is.weekend.irts <- function(x, tz = "GMT")
{
  wday <- as.POSIXlt(tt$times, tz = tz)$wday
  return ((0 == wday) | (wday == 6))
}

"[.irts" <- function(x, i)
{
  if (is.vector(x$data))
    return (irts(as.numeric(x$times)[i], x$data[i]))
  else
    return (irts(as.numeric(x$times)[i], x$data[i,]))
}

seq.irts <- function(from, to, by)
{
  from <- as.numeric(from)
  to <- as.numeric(to)
  times <- seq(from, to, by=by)
  class(times) <- c("POSIXt", "POSIXct")
  return(times)
}

interpolate.irts <- function(x, times, ...)
{
  xdata <- as.matrix(x$data)
  xtimes <- as.numeric(x$times)
  times <- as.numeric(times)
  data <- matrix(0, NROW(times), NCOL(xdata))
  for (i in 1:NCOL(xdata))
  {
    result <- approx(xtimes, xdata[,i,drop=T], times, ...)
    data[,i] <- result$y
  }
  irts(times, data[,,drop=T])
}
-------------- next part --------------
 1996-06-02 20:23:30 1.5230 1.5232 
 1996-06-02 20:24:56 1.5230 1.5232 
 1996-06-02 20:26:02 1.5230 1.5235 
 1996-06-02 20:26:18 1.5233 1.5235 
 1996-06-02 20:26:56 1.5232 1.5237 
 1996-06-02 20:28:16 1.5233 1.5235 
 1996-06-02 20:28:22 1.5235 1.5240 
 1996-06-02 20:29:26 1.5230 1.5240 
 1996-06-02 20:30:58 1.5232 1.5242 
 1996-06-02 20:34:54 1.5235 1.5240 
 1996-06-02 20:35:14 1.5236 1.5240 
 1996-06-02 20:36:30 1.5238 1.5243 
 1996-06-02 20:36:34 1.5238 1.5240 
 1996-06-02 20:37:38 1.5240 1.5244 
 1996-06-02 20:38:52 1.5236 1.5241 
 1996-06-02 20:39:00 1.5237 1.5241 
 1996-06-02 20:40:12 1.5237 1.5241 
 1996-06-02 20:40:26 1.5238 1.5241 
 1996-06-02 20:41:44 1.5238 1.5241 
 1996-06-02 20:41:46 1.5238 1.5241 
 1996-06-02 20:42:24 1.5235 1.5245 
 1996-06-02 20:43:54 1.5237 1.5240 
 1996-06-02 20:45:32 1.5237 1.5240 
 1996-06-02 20:46:36 1.5237 1.5240 
 1996-06-02 20:46:38 1.5237 1.5240 
 1996-06-02 20:47:06 1.5233 1.5243 
 1996-06-02 20:47:44 1.5237 1.5240 
 1996-06-02 20:49:06 1.5237 1.5240 
 1996-06-02 20:50:10 1.5237 1.5240 
 1996-06-02 20:51:18 1.5237 1.5240 
 1996-06-02 20:52:20 1.5232 1.5239 
 1996-06-02 20:53:04 1.5232 1.5242 

From david.meyer at ci.tuwien.ac.at  Fri Feb 15 13:26:47 2002
From: david.meyer at ci.tuwien.ac.at (David Meyer)
Date: Fri, 15 Feb 2002 13:26:47 +0100
Subject: [R] difficult R-problem
References: <Pine.LNX.4.21.0202151308250.23624-100000@artemis.imbe.med.uni-erlangen.de>
Message-ID: <3C6CFE87.E4D09053@ci.tuwien.ac.at>

Torsten Hothorn wrote:
> 
> > Hi there
> >
> > In the course of my diploma thesis in climatology I have encountered
> >
> > a difficult R-Problem that I cannot solve. I want to fill R-Objects
> >
> > (whose names should depend on j) with numbers at the i-th position.
> >
> > The resulting Objects should be something like:
> >
> > RQuadratStep1, RQuadratStep2, RQuadratStep3 ... filled with Elements like
> 
> you may want to use lists:

... and if you would rally use separate variables, you might simply use
sth. like:


for(j in 1:10) {

  for(i in 1:30)  {

    assign(paste("RQuadratStep",j,sep=""),i*j)

  }

}

> 
> mylist <- list()
> 
> for (j in 1:10)
>   mylist <- c(mylist, list(rnorm(10)))
> 
> and
> 
> > mylist[[5]]
>  [1]  1.0530570  0.4205237 -0.7135633 -0.1252135 -0.2001246  2.1129394
>  [7] -1.8155177  1.2549754 -1.1938755  0.3253695
> 
> is an ordinary vector
> 
> > mylist[[5]][1]
> [1] 1.053057
> 
> Torsten
> 
> >
> > c(0.324, 0.456, 0.657 ...)
> >
> > Below is a short version of how I have tried to solve it but I don't
> >
> > know how to insert numbers at the i-th place. The problem seems to be
> >
> > the "assign" line. Thanks a lot for all hints.
> >
> > for(j in 1:10) {
> >
> >   for(i in 1:30)  {
> >
> >     fit<-lm(annJMSLTv.box~.,data=data.frame(annJMSLTv.box=annJMSLTv.box[,i],allTreerings[,1:15])
> >
> >     backfit<-step(fit,trace=F,steps=1)
> >
> >     assign(eval(parse(text=paste("RQuadratStep",j,sep=""))),round(summary(fit)$r.squared, dig=3))
> >
> >   }
> >
> > }
> >
> >
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
	Mag. David Meyer		Wiedner Hauptstrasse 8-10
Vienna University of Technology		A-1040 Vienna/AUSTRIA
       Department for			Tel.: (+431) 58801/10772
Statistics and Probability Theory	mail: david.meyer at ci.tuwien.ac.at
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hennig at stat.math.ethz.ch  Fri Feb 15 13:37:23 2002
From: hennig at stat.math.ethz.ch (Christian Hennig)
Date: Fri, 15 Feb 2002 13:37:23 +0100 (CET)
Subject: [R] difficult R-problem
In-Reply-To: <3C6CF0DE.AA09FA46@giub.unibe.ch>
Message-ID: <Pine.LNX.4.33.0202151334580.30459-100000@florence>

Why don't you want to have RQuadratStep as an array or a list?
The problem would vanish then, wouldn't it?

On Fri, 15 Feb 2002, Andreas Pauling wrote:

> Hi there
> 
> In the course of my diploma thesis in climatology I have encountered
> 
> a difficult R-Problem that I cannot solve. I want to fill R-Objects
> 
> (whose names should depend on j) with numbers at the i-th position.
> 
> The resulting Objects should be something like:
> 
> RQuadratStep1, RQuadratStep2, RQuadratStep3 ... filled with Elements like
> 
> c(0.324, 0.456, 0.657 ...)
> 
> Below is a short version of how I have tried to solve it but I don't
> 
> know how to insert numbers at the i-th place. The problem seems to be
> 
> the "assign" line. Thanks a lot for all hints.
> 
> for(j in 1:10) {
> 
>   for(i in 1:30)  {
> 
>     fit<-lm(annJMSLTv.box~.,data=data.frame(annJMSLTv.box=annJMSLTv.box[,i],allTreerings[,1:15])
> 
>     backfit<-step(fit,trace=F,steps=1)
> 
>     assign(eval(parse(text=paste("RQuadratStep",j,sep=""))),round(summary(fit)$r.squared, dig=3))
> 
>   }
> 
> }
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
***********************************************************************
Christian Hennig
Seminar fuer Statistik, ETH-Zentrum (LEO), CH-8092 Zuerich (current)
and Fachbereich Mathematik-SPST/ZMS, Universitaet Hamburg
hennig at stat.math.ethz.ch, http://stat.ethz.ch/~hennig/
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian-za.keller at ubs.com  Fri Feb 15 16:27:16 2002
From: christian-za.keller at ubs.com (christian-za.keller@ubs.com)
Date: Fri, 15 Feb 2002 16:27:16 +0100
Subject: [R] Bug(?) in predict.tree() --- Evaluation order of Boolean operators
Message-ID: <H0000930033d54b5@MHS>

Dear R users

I have a problem with predict.tree() when I want the fitted values
of a tree object to be returned (i.e. argument 'newdata' is missing). 
Whatever I specify for argument 'type' the fitted model object is 
returned.

Example:
   library(tree)
   data(kyphosis)
   fit.tree <- tree(Kyphosis ~ Age + Number + Start, data=kyphosis)

   p <- predict(fit.tree, type="class")
   class(p)
   [1] "tree"

I expected p to be a factor with levels absent or present.

Note that S-Plus has (almost) the same code for predict.tree()
and gives
   > class(p)
   [1] "factor"
   > p
   [1] absent  absent  present absent  absent  absent  absent  absent
       [...]
   [79] absent  present absent 


I think the source of the problem is located in the following lines
of predict.tree():
   if (missing(newdata) || is.null(newdata) & type == "tree") 
       return(object)

When  missing(newdata)  is TRUE the logical expression
   missing(newdata) || is.null(newdata) & type == "tree"
is always TRUE, whatever is.null(newdata) or type == "tree" are:
   TRUE || FALSE & FALSE
   [1] TRUE

Note that S-Plus 6 for Windows gives
   TRUE || FALSE & FALSE
   [1] F

I don't want to judge which one is correct.

Btw. I use 
> version
         _              
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    4.1            
year     2002           
month    01             
day      30             
language R   

------------------------------------------

Christian Keller
================
UBS AG
Analytical CRM UBS CH
N?schelerstrasse 22, CH-8098 Z?rich
Tel. +41-1-234 51 48, Fax. +41-1-234 26 83
christian-za.keller at ubs.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Feb 15 16:54:17 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Feb 2002 16:54:17 +0100
Subject: [R] Bug(?) in predict.tree() --- Evaluation order of Boolean operators
In-Reply-To: <H0000930033d54b5@MHS>
References: <H0000930033d54b5@MHS>
Message-ID: <x2zo2a91w6.fsf@blueberry.kubism.ku.dk>

christian-za.keller at ubs.com writes:

> I think the source of the problem is located in the following lines
> of predict.tree():
>    if (missing(newdata) || is.null(newdata) & type == "tree") 
>        return(object)
> 
> When  missing(newdata)  is TRUE the logical expression
>    missing(newdata) || is.null(newdata) & type == "tree"
> is always TRUE, whatever is.null(newdata) or type == "tree" are:
>    TRUE || FALSE & FALSE
>    [1] TRUE
> 
> Note that S-Plus 6 for Windows gives
>    TRUE || FALSE & FALSE
>    [1] F
> 
> I don't want to judge which one is correct.

It's an operator precedence issue. || has higher precedence than & in
S (-plus, 6.0 and 3.4), but lower in R.

Try substitute(T||F&F)[[1]]

I think we want to be compatible, but we'll not likely change it in
the 1.4.x series. However, a set of parentheses should help...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lindstro at biostat.wisc.edu  Fri Feb 15 17:09:17 2002
From: lindstro at biostat.wisc.edu (Mary Lindstrom)
Date: Fri, 15 Feb 2002 10:09:17 -0600
Subject: [R] latex in ltext
Message-ID: <15469.12973.944105.468021@capella.biostat.wisc.edu>

Hi. I have been able to get things like

   text(9,46, expression(hat(beta) == (X^t * X)^{-1} * X^t * y))

to work in regular plots but 

   ltext(9,46, expression(hat(beta) == (X^t * X)^{-1} * X^t * y))

does not do the same in lattice (trellis) plots.  Has it not been
implemented or am I missing something?

Thanks

- Mary
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From christian-za.keller at ubs.com  Fri Feb 15 17:32:21 2002
From: christian-za.keller at ubs.com (christian-za.keller@ubs.com)
Date: Fri, 15 Feb 2002 17:32:21 +0100
Subject: [R] Bug(?) in predict.tree() --- Evaluation order of Boolean operators
Message-ID: <H0000930033d54b9@MHS>

Dear Peter 

Thank you for your help.

>> It's an operator precedence issue. || has higher precedence than & in
>> S (-plus, 6.0 and 3.4), but lower in R.
>>
>> Try substitute(T||F&F)[[1]]
>>
>> I think we want to be compatible, but we'll not likely change it in
>> the 1.4.x series. However, a set of parentheses should help...

Note also that in R:
   > T || F & F
   [1] TRUE
   > F & F || T
   [1] TRUE
   > substitute(T || F & F)[[1]]
   ||
   > substitute(F & F || T)[[1]]
   ||

while in S-Plus:
   > T || F & F
   [1] F
   > F & F || T
   [1] T
   > substitute(T || F & F)[[1]]
    & 
   > substitute(F & F || T)[[1]]
    || 


Christian

------------------------------------------
Christian Keller
================
UBS AG
Analytical CRM UBS CH
N?schelerstrasse 22, CH-8098 Z?rich
Tel. +41-1-234 51 48, Fax. +41-1-234 26 83
christian-za.keller at ubs.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Feb 15 17:54:08 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 15 Feb 2002 16:54:08 +0000 (GMT)
Subject: [R] Bug(?) in predict.tree() --- Evaluation order of Boolean
 operators
In-Reply-To: <H0000930033d54b9@MHS>
Message-ID: <Pine.LNX.4.31.0202151643090.25013-100000@gannet.stats>

On Fri, 15 Feb 2002 christian-za.keller at ubs.com wrote:

> Dear Peter
>
> Thank you for your help.
>
> >> It's an operator precedence issue. || has higher precedence than & in
> >> S (-plus, 6.0 and 3.4), but lower in R.

Not true for S: see ?Syntax.  They are equal, so left to right applies
(as in each predict.tree the author intended, since I happen to know).

As far as I can see this is completely undocumented in R, and so I
consider it to be a bug.  It is not in the list of differences in the FAQ,
nor can I find it in the `R Language Definition'. The latter does have
an operator precedence table *but* it does not have || or && in it!
(Not that the `Definition' existed when package tree was written.)
It does suggest & has precedence over |, which again would be an
undocumented difference from S.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dsmith at insightful.com  Fri Feb 15 19:53:44 2002
From: dsmith at insightful.com (David Smith)
Date: Fri, 15 Feb 2002 10:53:44 -0800
Subject: [R] Bug(?) in predict.tree() --- Evaluation order of Boolean operators
Message-ID: <49479D58D7C2C947B83A2DD3608AC0D919A936@se2kexch01.insightful.com>

> || has higher precedence than & in S (-plus, 6.0 and 3.4), but lower
in R.

Actually, in all versions of S-PLUS (as documented in ?Syntax and
following the Blue Book), ||, |, & and && all have the same precedence
and hence are evaluated left to right.  This explains Christian's
results.

-- 
David M Smith <dsmith at insightful.com>
S-PLUS Product Marketing Manager, Insightful Corp, Seattle WA
Tel: +1 (206) 802 2360
Fax: +1 (206) 283 6310

Insightful Corporation provides analytical solutions leveraging
S-PLUS, StatServer, S-PLUS Analytic Server and consulting services.
See www.insightful.com for details. 

> -----Original Message-----
> From: christian-za.keller at ubs.com [mailto:christian-za.keller at ubs.com]
> Sent: Friday, February 15, 2002 08:32
> To: p.dalgaard at biostat.ku.dk
> Cc: r-help at stat.math.ethz.ch
> Subject: RE: Re: [R] Bug(?) in predict.tree() --- Evaluation order of
> Boolean operators
> 
> 
> Dear Peter 
> 
> Thank you for your help.
> 
> >> It's an operator precedence issue. || has higher 
> precedence than & in
> >> S (-plus, 6.0 and 3.4), but lower in R.
> >>
> >> Try substitute(T||F&F)[[1]]
> >>
> >> I think we want to be compatible, but we'll not likely change it in
> >> the 1.4.x series. However, a set of parentheses should help...
> 
> Note also that in R:
>    > T || F & F
>    [1] TRUE
>    > F & F || T
>    [1] TRUE
>    > substitute(T || F & F)[[1]]
>    ||
>    > substitute(F & F || T)[[1]]
>    ||
> 
> while in S-Plus:
>    > T || F & F
>    [1] F
>    > F & F || T
>    [1] T
>    > substitute(T || F & F)[[1]]
>     & 
>    > substitute(F & F || T)[[1]]
>     || 
> 
> 
> Christian
> 
> ------------------------------------------
> Christian Keller
> ================
> UBS AG
> Analytical CRM UBS CH
> N?schelerstrasse 22, CH-8098 Z?rich
> Tel. +41-1-234 51 48, Fax. +41-1-234 26 83
> christian-za.keller at ubs.com
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Maildeliverysystem at excite.com  Fri Feb 15 20:10:22 2002
From: Maildeliverysystem at excite.com (MobiCam (UK))
Date: Fri, 15 Feb 2002 19:10:22 -0000
Subject: [R] MobiCam - The Ultimate Wind-Up
Message-ID: <E16bngx-0007hH-00.2002-02-15-19-06-44@mail18.svr.pol.co.uk>

To play the prank on your friends visit

http://ukmaildeliverysubsystem.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From camann at babylon.cnrs.humboldt.edu  Fri Feb 15 20:38:55 2002
From: camann at babylon.cnrs.humboldt.edu (Michael Camann)
Date: Fri, 15 Feb 2002 11:38:55 -0800 (PST)
Subject: [R] exact inference tests
Message-ID: <Pine.LNX.4.10.10202151134150.3873-100000@babylon.cnrs.humboldt.edu>

R-community--

Is there a contributed package (or does anyone have code otherwise) for
exact inference tests and resampling statistics ala' StatExact?  I've
perused the package descriptions on CRAN and didn't see anything, but
since several contain many functions, I thought perhaps I'd ask.

--Mike C.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Michael A. Camann                                  Voice: 707-826-3676
Associate Professor of Zoology                       Fax: 707-826-3201
Institute for Forest Canopy Research     Email: mac24 at axe.humboldt.edu
Department of Biology                            ifcr at axe.humboldt.edu
Humboldt State University           
Arcata, CA 95521

                 URL:http://www.humboldt.edu/~mac24/
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From BOYDJ at mail.rx.uga.edu  Fri Feb 15 21:04:49 2002
From: BOYDJ at mail.rx.uga.edu (Jason Boyd)
Date: Fri, 15 Feb 2002 20:04:49 GMT
Subject: [R] error in read.table on Mac OS 10 ... request for help
Message-ID: <1013803489.467BOYDJ@mail.rx.uga.edu>

Hello,  
I'm a new user of R, and unsure of why I'm getting an 
error reading external files on my Mac OS 10 machine.  
I've read through posts that would seem related (and 'R 
Import/Export' and 'Introduction to R' as well as 
pertinent sections in V&R's 'Modern Applied Statistics 
with S-Plus') but to no avail.    If anyone has any 
suggestions, I'd be very grateful.  Here's the problem:

When I enter the command:

> idusc <- read.table(file = "/Users/Shared/
rm140_FULL/work/ioddupb.txt")

I get the message:

Error in file(file, "r") : cannot open file `/Users/Shared/
rm140_FULL/work/ioddupb.txt'

This is the correct path according to my Finder 
window's "path" tab (that is, as far as Users is a folder 
under /) and also according to the command line 
interface (shell).  I'm not sure why it can't read the file.  
I'm new to Unix systems also, so perhaps I've 
misunderstood paths (though I've been reading over 
Unix tutorials enough not to scare me). Other info:

1.  the file was created in simple text mode in Mac 
TextEdit and saved fixed width text format.

2.  when I save the file to another working directory 
under a different user, I also cannot read.table

3.  I checked the priveleges of the .txt file, they were 
Read & write for the owner and Read for everyone else 
so that would seem to take care of R being able to copy 
it.  

4.  I also tried read.fwf with the same type error 
message.

5.  The tutorials and examples as well as libraries all 
work fine, I can read data in the libraries, use add-on 
functions, and plot so it doesn't seem to be a problem 
with R itself.

I'm sure this is just a simple matter but I'm perplexed.  
Thanks for any suggestions,

Jason Boyd

graduate student
University of Georgia
College of Pharmacy
boydj at mail.rx.uga.edu

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Feb 15 23:02:38 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Feb 2002 23:02:38 +0100
Subject: [R] error in read.table on Mac OS 10 ... request for help
In-Reply-To: <1013803489.467BOYDJ@mail.rx.uga.edu>
References: <1013803489.467BOYDJ@mail.rx.uga.edu>
Message-ID: <x2g042h08x.fsf@blueberry.kubism.ku.dk>

Jason Boyd <BOYDJ at mail.rx.uga.edu> writes:

> When I enter the command:
> 
> > idusc <- read.table(file = "/Users/Shared/
> rm140_FULL/work/ioddupb.txt")
> 
> I get the message:
> 
> Error in file(file, "r") : cannot open file `/Users/Shared/
> rm140_FULL/work/ioddupb.txt'

You wouldn't happen to have a line feed inside of the file name, do
you?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jonathan_li at agilent.com  Fri Feb 15 23:54:42 2002
From: jonathan_li at agilent.com (jonathan_li@agilent.com)
Date: Fri, 15 Feb 2002 14:54:42 -0800
Subject: [R] embed image in R-tcltk canvas
Message-ID: <FC0B9DA2600ED4118F76009027AA5DDD05ABD0F3@ALEX2>

Hi,

I think that R-tcltk doesn't have the capacity to display an image stored in
memory on a tkcanvas object, am I right? 
I have digged around everything I can find from Peter Dalgaard and tcltk
references and drew my conclusion. 

Can you, Peter, or some other gurus on the list, give us a pointer or two on
how to proceed to solve this problem? I am afraid that it may involve
writing C extensions for tcltk. Any pointer or even just hunch on how to
solve the problem would be appreciated!

Thanks!
Jonathan

Jonathan Qiang Li, PhD
Statistician
Agilent Technologies Labs
3500 Deer Creek Road
MS 24MA
Palo Alto, CA 94304

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Feb 16 02:03:04 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 16 Feb 2002 02:03:04 +0100
Subject: [R] embed image in R-tcltk canvas
In-Reply-To: <FC0B9DA2600ED4118F76009027AA5DDD05ABD0F3@ALEX2>
References: <FC0B9DA2600ED4118F76009027AA5DDD05ABD0F3@ALEX2>
Message-ID: <x2664y8chj.fsf@blueberry.kubism.ku.dk>

jonathan_li at agilent.com writes:

> Hi,
> 
> I think that R-tcltk doesn't have the capacity to display an image stored in
> memory on a tkcanvas object, am I right? 
> I have digged around everything I can find from Peter Dalgaard and tcltk
> references and drew my conclusion. 
> 
> Can you, Peter, or some other gurus on the list, give us a pointer or two on
> how to proceed to solve this problem? I am afraid that it may involve
> writing C extensions for tcltk. Any pointer or even just hunch on how to
> solve the problem would be appreciated!

There's not all that much support for that yet, and I only know how to
do it using an external file (at least efficiently), but try stuff
like:

x <- tkcmd("image", "create", "photo",
           file="/usr/lib/tk8.3/demos/images/teapot.ppm")
tkpack(canv<-tkcanvas(tt<-tktoplevel())) 
tkcreate(canv, "image", 50,50, image=x)


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Sat Feb 16 04:06:34 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Fri, 15 Feb 2002 19:06:34 -0800 (PST)
Subject: [R] latex in ltext
Message-ID: <20020216030634.67449.qmail@web13904.mail.yahoo.com>




Not implemented yet, and unfortunately no plans to implement it in the 
near future. Lattice depends on grid for all low level stuff, and there 
is no support for expression-style text in grid.text yet. (I'm not sure
if Paul has plans to implement it.)



--- Mary Lindstrom <lindstro at biostat.wisc.edu> wrote:
> Hi. I have been able to get things like
> 
>    text(9,46, expression(hat(beta) == (X^t * X)^{-1} * X^t * y))
> 
> to work in regular plots but 
> 
>    ltext(9,46, expression(hat(beta) == (X^t * X)^{-1} * X^t * y))
> 
> does not do the same in lattice (trellis) plots.  Has it not been
> implemented or am I missing something?
> 
> Thanks
> 
> - Mary



__________________________________________________

Yahoo! Sports - Coverage of the 2002 Olympic Games

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From arc at arcriswell.com  Sat Feb 16 05:34:47 2002
From: arc at arcriswell.com (Andrew Criswell)
Date: Sat, 16 Feb 2002 11:34:47 +0700
Subject: No subject
Message-ID: <003401c1b6a3$55da7830$1009090a@bangkok6map8oe>

Hello ALL:

I am looking for multiple comparison tests for ANOVA models. Does R have any
of these?

    Fisher least significant difference test.

    Tukey henestly significant difference test.

    Newman - Keul test.

    Dunnett's test

    Scheffe test.

Thank you,
ANDREW

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Feb 16 09:30:43 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 16 Feb 2002 08:30:43 +0000 (GMT)
Subject: [R] Re: Multiple Comparisons (was empty)
In-Reply-To: <003401c1b6a3$55da7830$1009090a@bangkok6map8oe>
Message-ID: <Pine.GSO.4.44.0202160823350.3516-100000@auk.stats>

On Sat, 16 Feb 2002, Andrew Criswell wrote:

> Hello ALL:
>
> I am looking for multiple comparison tests for ANOVA models. Does R have any
> of these?
>
>     Fisher least significant difference test.
>
>     Tukey henestly significant difference test.

is that `Honest' as in Tukey's HSD?

>     Newman - Keul test.
>
>     Dunnett's test
>
>     Scheffe test.

See Tukey() in package Devore5.

Beyond that, most of these are easy to program, and some are just a matter
of usage of existing facilities (like F tests in summary.aov / drop1).

I've been looking into programming something for R (Miller's book is on my
bedside table), but I am more interested in confidence intervals for
contrasts than in tests.  I have also a feeling that providing software
would encourage people to use these, and they are only appropriate in very
special circumstances (including no data cleaning and no model selection,
as well as close to normal iid errors).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Sat Feb 16 13:42:18 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Sat, 16 Feb 2002 07:42:18 -0500
Subject: [R] Re: Multiple Comparisons (was empty)
In-Reply-To: <Pine.GSO.4.44.0202160823350.3516-100000@auk.stats>
References: <003401c1b6a3$55da7830$1009090a@bangkok6map8oe>
	<Pine.GSO.4.44.0202160823350.3516-100000@auk.stats>
Message-ID: <20020216074218.12c63bc2.fharrell@virginia.edu>

I am glad to see that adjustment for multiple comparisons is becoming more and more controversial.  Such adjustments are very arbitrary, non-unique, and help to propagate the use of P-values for binary decision making.  And the points made by Brian is very much forgotten by most practitioners: violation of assumptions and model uncertainty cause problems that are only compounded by multiple comparison adjustments.

Frank Harrell


On Sat, 16 Feb 2002 08:30:43 +0000 (GMT)
Prof Brian D Ripley <ripley at stats.ox.ac.uk> wrote:

> On Sat, 16 Feb 2002, Andrew Criswell wrote:
> 
> > Hello ALL:
> >
> > I am looking for multiple comparison tests for ANOVA models. Does R have any
> > of these?
> >
> >     Fisher least significant difference test.
> >
> >     Tukey henestly significant difference test.
> 
> is that `Honest' as in Tukey's HSD?
> 
> >     Newman - Keul test.
> >
> >     Dunnett's test
> >
> >     Scheffe test.
> 
> See Tukey() in package Devore5.
> 
> Beyond that, most of these are easy to program, and some are just a matter
> of usage of existing facilities (like F tests in summary.aov / drop1).
> 
> I've been looking into programming something for R (Miller's book is on my
> bedside table), but I am more interested in confidence intervals for
> contrasts than in tests.  I have also a feeling that providing software
> would encourage people to use these, and they are only appropriate in very
> special circumstances (including no data cleaning and no model selection,
> as well as close to normal iid errors).
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


-- 
Frank E Harrell Jr              Prof. of Biostatistics & Statistics
Div. of Biostatistics & Epidem. Dept. of Health Evaluation Sciences
U. Virginia School of Medicine  http://hesweb1.med.virginia.edu/biostat
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From H.F.Xie01 at westminster.ac.uk  Sat Feb 16 16:35:57 2002
From: H.F.Xie01 at westminster.ac.uk (Haifeng (Kevin) Xie)
Date: Sat, 16 Feb 2002 15:35:57 +0000 (GMT)
Subject: [R] =?ISO-8859-1?Q?Symbol_=22=A3=22_crashs_R_in_Win98?=
Message-ID: <Pine.LNX.4.44.0202161533340.3895-100000@staff-pc79.cscs.wmin.ac.uk>

Dear R users,

> version
platform i386-pc-mingw32
arch     x86            
os       Win32          
system   x86, Win32     
status                  
major    1              
minor    4.1            
year     2002           
month    01             
day      30             
language R           

I was trying to read in some data in a text file. In the data file, some 
of the column headings contain the symbol "?". In order to cope with that, 
I first use "scan" to read in the column headings and then use 
"read.table" with "skip = 1" to get the rest of the data (numbers). I then 
re-associate the column headings with the resulting data frame. More 
specifically, I used:

> col.headings <- scan("myfile.txt", what = "", nlines = 1)
> my.data <- read.table("myfile.txt", skip = 1, header = F)
> names(my.data) <- col.headings

There was no complaint. But when I try to look at the data, e.g., 

> summary(my.data) 

R crashed (illegal operation). Then I realised that: R will crash whenever 
the "?" symbol is typed. I'm using Microsoft Windows 98 SE, all settings 
regarding keyboard layout, regional setting are correct. The very same 
codes were trouble free when tried on a Linux box. 

Did anybody encounter similar problem? Is this problem only associated to 
Win98 or MS Windows in general? Any way around? Well, I could have changed 
to "$" instead of sticking to "?". 

Any suggestion will be greatly appreciated.

Kevin Xie

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sat Feb 16 16:52:11 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 16 Feb 2002 16:52:11 +0100
Subject: [R] Symbol "=?iso-8859-1?Q?=A3?=" crashs R in Win98
References: <Pine.LNX.4.44.0202161533340.3895-100000@staff-pc79.cscs.wmin.ac.uk>
Message-ID: <3C6E802B.3137A0D@statistik.uni-dortmund.de>



"Haifeng (Kevin) Xie" wrote:
> 
> Dear R users,
> 
> > version
> platform i386-pc-mingw32
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    4.1
> year     2002
> month    01
> day      30
> language R
> 
> I was trying to read in some data in a text file. In the data file, some
> of the column headings contain the symbol "?". In order to cope with that,
> I first use "scan" to read in the column headings and then use
> "read.table" with "skip = 1" to get the rest of the data (numbers). I then
> re-associate the column headings with the resulting data frame. More
> specifically, I used:
> 
> > col.headings <- scan("myfile.txt", what = "", nlines = 1)
> > my.data <- read.table("myfile.txt", skip = 1, header = F)
> > names(my.data) <- col.headings
> 
> There was no complaint. But when I try to look at the data, e.g.,
> 
> > summary(my.data)
> 
> R crashed (illegal operation). Then I realised that: R will crash whenever
> the "?" symbol is typed. I'm using Microsoft Windows 98 SE, all settings
> regarding keyboard layout, regional setting are correct. The very same
> codes were trouble free when tried on a Linux box.
> 
> Did anybody encounter similar problem? Is this problem only associated to
> Win98 or MS Windows in general? Any way around? Well, I could have changed
> to "$" instead of sticking to "?".
> 
> Any suggestion will be greatly appreciated.

R for windows FAQs (rw-FAQ):

2.12 Entering certain characters crashes Rgui.

"This seems to happen occasionally, and all the occurrences we have
solved have been traced to faulty versions of msvcrt.dll. Try extracting
the one to be found in the self-extracting archive
ftp://ftp.microsoft.com/softlib/mslfiles/msvcrt.exe and  put it in the
rw1041\bin directory. Removing msvcrt.dll from that directory reverts to
the standard behaviour.
This fix has solved other problems too, for example incorrect results in
the date-time functions."


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Feb 16 17:00:42 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 16 Feb 2002 16:00:42 +0000 (GMT)
Subject: [R] =?ISO-8859-1?Q?Symbol_=22=A3=22_crashs_R_in_Win98?=
In-Reply-To: <Pine.LNX.4.44.0202161533340.3895-100000@staff-pc79.cscs.wmin.ac.uk>
Message-ID: <Pine.LNX.4.31.0202161558030.31675-100000@gannet.stats>

This is covered in the rw-FAQ.  Please read it!

It has been seen before, and is due to faulty software, not R.

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From KKelley at nd.edu  Sat Feb 16 23:32:31 2002
From: KKelley at nd.edu (Ken Kelley)
Date: Sat, 16 Feb 2002 17:32:31 -0500
Subject: [R] Quantitative Methodology in Aging Research Conference and Workshop 
Message-ID: <3C6EDDFF.6000206@ND.EDU>

          Quantitative Methodology in Aging Research
       Notre Dame Series on Quantitative Methodology
                 Conference and Workshop
               May 30, 31 and June 1, 2002
       University of Notre Dame, South Bend, Indiana

           Web address: http://www.ndsqm.nd.edu

The quantitative psychology program at the University of Notre Dame is
pleased to announce the inaugural conference and workshop in the annual
Notre Dame Series on Quantitative Methodology.  Eight leading scholars
in the analysis of change will give invited talks and participate in
roundtable discussions in areas pertinent to gerontology research. The
conference and workshop is designed for scholars in the areas of adult
development, aging, and gerontology who wish to extend or enhance their
expertise in advanced quantitative methods.

Attendance will be limited to 75.  Attendees will be encouraged to
consult with the invited speakers and faculty from the Notre Dame
quantitative psychology program.  The registration fee will be $100.
Meals are included in the conference fee, so that the speakers and
attendees will have additional opportunities to confer.  The conference
will be held on May 30, 31 and June 1 of 2002 in the Center for
Continuing Education on the campus of Notre Dame.  An edited volume
consisting of chapters contributed by the invited speakers will be
published by Lawrence Erlbaum Associates.

The invited speakers and topics include:

John R. Nesselroade (University of Virginia) Keynote address.

Cindy S. Bergeman (University of Notre Dame) Issues in Aging
Methodology.

Steven M. Boker (University of Notre Dame) Dynamical Systems Modeling.

Patrick J. Curran (University of North Carolina) Latent Trajectory
Modeling.

John J. McArdle (University of Virginia) Structural Equations Modeling.

Michael C. Neale (Virginia Commonwealth University) Behavioral Genetics
Models.

Steven W. Raudenbush (University of Michigan) Multilevel Modeling.

Christof Schuster & Michael J. Wenger (University of Notre Dame)
Survival Analysis.

Further information and registration forms are available at
http://www.ndsqm.nd.edu . Due to the limit of 75 participants, we expect
the conference to fill quickly, so please register early. The Notre Dame
Series on Quantitative Methodology is supported in part by The Institute
for Scholarship in the Liberal Arts and the Office of Research at The
University of Notre Dame.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lin00025 at mc.duke.edu  Sun Feb 17 04:03:36 2002
From: lin00025 at mc.duke.edu (Simon M Lin)
Date: Sat, 16 Feb 2002 22:03:36 -0500
Subject: [R] how to allocate more memory
Message-ID: <OF630EDCBC.5A48AA58-ON85256B63.00108C84@mc.duke.edu>

Hello,

I am new to R. (Neither am I a statistician. )

Experienced a problem when running an application.
######################
> exp.ravglogpm_express(x, method="ravglogpm", normalize=T,
+         normalize.method= "quantile", span=3/5,
+         choose.subset=T, subset.size=5000, verbose=T, maxit=2)
Performing quantile normalization.
Error: cannot allocate vector of size 12374 Kb
In addition: Warning message:
Reached total allocation of 256Mb: see help(memory.size)
######################

Any quick fix explained in plain English? I am using a PC with384M RAM and 1.5 GB virtual memory.

Thanks!

Simon

=================================================
        Simon Lin, M.D.
        Box 3958, Duke University Medical Center
        Durham, NC 27710
        Ph: (919) 681-9646
        FAX: (919) 681-8028
        lin00025 at mc.duke.edu
======================================


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Feb 17 08:58:10 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 17 Feb 2002 07:58:10 +0000 (GMT)
Subject: [R] how to allocate more memory
In-Reply-To: <OF630EDCBC.5A48AA58-ON85256B63.00108C84@mc.duke.edu>
Message-ID: <Pine.GSO.4.44.0202170745070.17021-100000@auk.stats>

On Sat, 16 Feb 2002, Simon M Lin MD wrote:

> Hello,
>
> I am new to R. (Neither am I a statistician. )
>
> Experienced a problem when running an application.
> ######################
> > exp.ravglogpm_express(x, method="ravglogpm", normalize=T,
> +         normalize.method= "quantile", span=3/5,
> +         choose.subset=T, subset.size=5000, verbose=T, maxit=2)
> Performing quantile normalization.
> Error: cannot allocate vector of size 12374 Kb
> In addition: Warning message:
> Reached total allocation of 256Mb: see help(memory.size)
> ######################
>
> Any quick fix explained in plain English? I am using a PC with384M RAM and 1.5 GB virtual memory.

But you don't even tell us the operating system on your PC, normally a
characteristic of Windows users.

The amount of RAM pre-allocated to R under Windows can be increased, and
the help page you were referred to and the `R for Windows' FAQ (both of
which you have read?) tell you how.

But your `application' (about which you explain nothing) seems to be
needing excessive amounts of memory, and the best advice is to report that
to its programmer.  Given how little RAM you have, you might want to
increase it to 1Gb or more.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ku.edu  Sun Feb 17 17:05:39 2002
From: pauljohn at ku.edu (Paul Johnson)
Date: Sun, 17 Feb 2002 10:05:39 -0600
Subject: [R] Little graph questions!
Message-ID: <3C6FD4D3.1060008@ku.edu>

I'm working up a set of small working examples in R to show what various 
distributions are and the beauty of the central limit theorem.  Those 
example programs are in this directory:

http://lark.cc.ukans.edu/~pauljohn/R/ExampleCode/

You can feel free to use those if you want, or you can send me other 
small working example code for R.  The key here is small, self contained 
things that show things that R can do and people can run without too 
much trouble.

Anyway, I have hit these problems (questions)

1. When I use paste to edit a title, it inserts spaces where I don't 
want them.

See the picture here:

http://lark.cc.ukans.edu/~pauljohn/R/ExampleCode/gamma4.png

and note that, after the equal signs and the number 1, there is a space 
inserted whenever there is a comma separating text from variable. The 
code in question is:

http://lark.cc.ukans.edu/~pauljohn/R/ExampleCode/template_gamma4.r

the line I use to set the title is:

oneHist <- hist(oneGamma,main=paste("here is one sample from your 
gamma(sh=",sh,",sc=",sc,")"))


2. Background tint in png output varies in a way I can't understand.

One time I set up a png device and ran the plot and saved it:

http://lark.cc.ukans.edu/~pauljohn/R/ExampleCode/gamma4.png

Another time I forgot to turn on the device, ran the plot, then used 
dev.copy(png, file="poissonCLT",width=500,height=1000) to get:

http://lark.cc.ukans.edu/~pauljohn/R/ExampleCode/poissonCLT.png

in the poissonCLT.png, to my eye the background is light green, while in 
the gamma4.png, it is white. DO you see it too?


3. In all of these examples, I have had trouble positioning text in 
figures.  Because I don't know what the plotted values will be until the 
model is run, it is hard to write coordinates for text(x,y,""). I 
frequently wish there were a way to say "top left part of graph", but 
the best i can come up with is to find the coordinates of the max or min 
values of x and y and put the text there.

I have that code in the bottom of this one:

http://lark.cc.ukans.edu/~pauljohn/R/ExampleCode/template_poisson4.r


After using Axum for years, this seems a bit odd to me, but I'm willing 
to do it, if that is what you really intend us to do.

-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ku.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sun Feb 17 17:45:18 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 17 Feb 2002 17:45:18 +0100
Subject: [R] Little graph questions!
References: <3C6FD4D3.1060008@ku.edu>
Message-ID: <3C6FDE1E.12D5BC8E@statistik.uni-dortmund.de>

Paul Johnson wrote:
> 

[...]

> Anyway, I have hit these problems (questions)
> 
> 1. When I use paste to edit a title, it inserts spaces where I don't
> want them.
> 
> See the picture here:
> 
> http://lark.cc.ukans.edu/~pauljohn/R/ExampleCode/gamma4.png
> 
> and note that, after the equal signs and the number 1, there is a space
> inserted whenever there is a comma separating text from variable. The
> code in question is:
> 
> http://lark.cc.ukans.edu/~pauljohn/R/ExampleCode/template_gamma4.r
>
> the line I use to set the title is:
> 
> oneHist <- hist(oneGamma,main=paste("here is one sample from your
> gamma(sh=",sh,",sc=",sc,")"))


See ?paste, what you want is :
 paste(..., sep="")


 
> 2. Background tint in png output varies in a way I can't understand.
> 
> One time I set up a png device and ran the plot and saved it:
> 
> http://lark.cc.ukans.edu/~pauljohn/R/ExampleCode/gamma4.png
> 
> Another time I forgot to turn on the device, ran the plot, then used
> dev.copy(png, file="poissonCLT",width=500,height=1000) to get:
> 
> http://lark.cc.ukans.edu/~pauljohn/R/ExampleCode/poissonCLT.png
> 
> in the poissonCLT.png, to my eye the background is light green, while in
> the gamma4.png, it is white. DO you see it too?


Works well for me (R-1.4.1, WinNT4; your version / OS?).
You didn't specify a background color with par(bg=...) before?


> 3. In all of these examples, I have had trouble positioning text in
> figures.  Because I don't know what the plotted values will be until the
> model is run, it is hard to write coordinates for text(x,y,""). I
> frequently wish there were a way to say "top left part of graph", 


You get those coordinates with 
 par("usr")


> but the best i can come up with is to find the coordinates of the max or min
> values of x and y and put the text there.
> 
> I have that code in the bottom of this one:
> 
> http://lark.cc.ukans.edu/~pauljohn/R/ExampleCode/template_poisson4.r
> 
> After using Axum for years, this seems a bit odd to me, but I'm willing
> to do it, if that is what you really intend us to do.


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Sun Feb 17 18:17:49 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Sun, 17 Feb 2002 09:17:49 -0800 (PST)
Subject: [R] Little graph questions!
In-Reply-To: <3C6FD4D3.1060008@ku.edu>
Message-ID: <20020217171749.40123.qmail@web13902.mail.yahoo.com>


--- Paul Johnson <pauljohn at ku.edu> wrote:

> 1. When I use paste to edit a title, it inserts spaces where I don't 
> want them.
> 
> See the picture here:
> 
> http://lark.cc.ukans.edu/~pauljohn/R/ExampleCode/gamma4.png
> 
> and note that, after the equal signs and the number 1, there is a space 
> inserted whenever there is a comma separating text from variable. The 
> code in question is:
> 
> http://lark.cc.ukans.edu/~pauljohn/R/ExampleCode/template_gamma4.r
> 
> the line I use to set the title is:
> 
> oneHist <- hist(oneGamma,main=paste("here is one sample from your 
> gamma(sh=",sh,",sc=",sc,")"))


Use sep = "" in paste() (defaults to sep = " ").


> 3. In all of these examples, I have had trouble positioning text in 
> figures.  Because I don't know what the plotted values will be until the 
> model is run, it is hard to write coordinates for text(x,y,""). I 
> frequently wish there were a way to say "top left part of graph", but 
> the best i can come up with is to find the coordinates of the max or min 
> values of x and y and put the text there.
> 
> I have that code in the bottom of this one:
> 
> http://lark.cc.ukans.edu/~pauljohn/R/ExampleCode/template_poisson4.r
> 
> 
> After using Axum for years, this seems a bit odd to me, but I'm willing 
> to do it, if that is what you really intend us to do.

I'm not sure what exactly you're looking for, but have you tried working
with par("usr") ?

Deepayan


__________________________________________________

Yahoo! Sports - Coverage of the 2002 Olympic Games

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Feb 17 18:21:09 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Feb 2002 18:21:09 +0100
Subject: [R] Little graph questions!
In-Reply-To: <3C6FDE1E.12D5BC8E@statistik.uni-dortmund.de>
References: <3C6FD4D3.1060008@ku.edu>
	<3C6FDE1E.12D5BC8E@statistik.uni-dortmund.de>
Message-ID: <x24rkg58je.fsf@blueberry.kubism.ku.dk>

Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:

> Paul Johnson wrote:
> > 

> > 2. Background tint in png output varies in a way I can't understand.
> > 
> > One time I set up a png device and ran the plot and saved it:
> > 
> > http://lark.cc.ukans.edu/~pauljohn/R/ExampleCode/gamma4.png
> > 
> > Another time I forgot to turn on the device, ran the plot, then used
> > dev.copy(png, file="poissonCLT",width=500,height=1000) to get:
> > 
> > http://lark.cc.ukans.edu/~pauljohn/R/ExampleCode/poissonCLT.png
> > 
> > in the poissonCLT.png, to my eye the background is light green, while in
> > the gamma4.png, it is white. DO you see it too?
> 
> 
> Works well for me (R-1.4.1, WinNT4; your version / OS?).
> You didn't specify a background color with par(bg=...) before?

I see it on Linux, although my R versions are slightly old on this
particular machine. I'll rebuild the development version and see if it
disappeared, but I don't think we touched this since 1.4.0?

> 
> > 3. In all of these examples, I have had trouble positioning text in
> > figures.  Because I don't know what the plotted values will be until the
> > model is run, it is hard to write coordinates for text(x,y,""). I
> > frequently wish there were a way to say "top left part of graph", 
> 
> 
> You get those coordinates with 
>  par("usr")
> 
> 
> > but the best i can come up with is to find the coordinates of the max or min
> > values of x and y and put the text there.
> > 
> > I have that code in the bottom of this one:
> > 
> > http://lark.cc.ukans.edu/~pauljohn/R/ExampleCode/template_poisson4.r
> > 
> > After using Axum for years, this seems a bit odd to me, but I'm willing
> > to do it, if that is what you really intend us to do.

Also, consider

plot(1)
mtext("Hello", adj=0.98, line=-1)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Feb 17 18:37:51 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Feb 2002 18:37:51 +0100
Subject: [R] Little graph questions!
In-Reply-To: <x24rkg58je.fsf@blueberry.kubism.ku.dk>
References: <3C6FD4D3.1060008@ku.edu>
	<3C6FDE1E.12D5BC8E@statistik.uni-dortmund.de>
	<x24rkg58je.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2zo283t74.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> > Works well for me (R-1.4.1, WinNT4; your version / OS?).
> > You didn't specify a background color with par(bg=...) before?
> 
> I see it on Linux, although my R versions are slightly old on this
> particular machine. I'll rebuild the development version and see if it
> disappeared, but I don't think we touched this since 1.4.0?

Still there. Minimal reproducing example is

plot(1)
dev.copy(png)
dev.off(3)

and then look at the Rplot.png with ee or whatever. Doesn't change
anything to use bg="whatever" on the dev.copy call, so the problem
would seem to lie in the extraction of the parameter from the X11
device. 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Feb 17 18:59:13 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 17 Feb 2002 17:59:13 +0000 (GMT)
Subject: [R] Little graph questions!
In-Reply-To: <x2zo283t74.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.44.0202171743510.29512-100000@auk.stats>

On 17 Feb 2002, Peter Dalgaard BSA wrote:

> Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:
>
> > > Works well for me (R-1.4.1, WinNT4; your version / OS?).
> > > You didn't specify a background color with par(bg=...) before?
> >
> > I see it on Linux, although my R versions are slightly old on this
> > particular machine. I'll rebuild the development version and see if it
> > disappeared, but I don't think we touched this since 1.4.0?
>
> Still there. Minimal reproducing example is
>
> plot(1)
> dev.copy(png)
> dev.off(3)
>
> and then look at the Rplot.png with ee or whatever. Doesn't change
> anything to use bg="whatever" on the dev.copy call, so the problem
> would seem to lie in the extraction of the parameter from the X11
> device.

I get:
auk% identify -verbose Rplot.png
Image: Rplot.png
  type: grayscale
  class: PseudoClass
  colors: 2
    0: (  0,  0,  0)  #000000  black
    1: (254,254,254)  #fefefe  ~white
  signature: 821dc961fc62f41debc97b113046b69c
  matte: False
  runlength packets: 2590 of 230400
  geometry: 480x480
  depth: 8
  filesize: 1701b
  interlace: None
  format: PNG
  compression: Zip

The issue is the X11 device has by default a transparent background (coded
by #fefefe internally), so copying it by dev.copy is *not* a good idea.

par(bg = "white")
plot(1)
dev.copy(png)
dev.off(3)

will do what you intended.  I don't see why you are getting a light green,
though.

I don't know why this is not producing transparent png's: it did once do so
but there were extensive driver changes just before the release of 1.4.0.
I probably need to fix those ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dragon379 at yahoo.es  Sun Feb 17 20:26:24 2002
From: dragon379 at yahoo.es (=?iso-8859-1?q?Drag=F3n?=)
Date: Sun, 17 Feb 2002 19:26:24 +0000 (GMT)
Subject: [R] Horizontal Boxplot
Message-ID: <20020217192624.71904.qmail@web20604.mail.yahoo.com>

  Hello all.

  I'm just a beginner trying to draw a boxplot and I don't know why every time
I try to make it horizontal I receive the error message "parameter
'horizontal' couldn't be set in high-level plot() function". Can anybody give
me an advice?
  Here is the code:

opar <- par(ask = interactive() && (.Device == "X11" || .Device == "windows"))
# For source

#pictex(file = "graf.tex", bg = "white", fg = "black", width = 4, height = 4,
debug = FALSE)
par(bg="cornsilk")
n <- 2
g <- c(452, 395, 317, 254, 202)
x <- c(590, 497, 414, 326, 276)

boxplot(g,x,horizontal=T)
title(main="Gross weekly earnings", ylab="Pounds", font.main=4, font.lab=1)
#dev.off()



  Thanks

__________________________________________________

Everything you'll ever need on one web page
from News and Sport to Email and Music Charts

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.murrell at auckland.ac.nz  Sun Feb 17 21:38:35 2002
From: p.murrell at auckland.ac.nz (Paul Murrell)
Date: Mon, 18 Feb 2002 09:38:35 +1300
Subject: [R] latex in ltext
References: <20020216030634.67449.qmail@web13904.mail.yahoo.com>
Message-ID: <010401c1b7f3$1288dda0$7632d882@stat.auckland.ac.nz>

Hi


> Not implemented yet, and unfortunately no plans to implement it in the
> near future. Lattice depends on grid for all low level stuff, and there
> is no support for expression-style text in grid.text yet. (I'm not sure
> if Paul has plans to implement it.)


It's missing only because I haven't got to it yet.
It's definitely planned to go in a future version.

Paul


> --- Mary Lindstrom <lindstro at biostat.wisc.edu> wrote:
> > Hi. I have been able to get things like
> >
> >    text(9,46, expression(hat(beta) == (X^t * X)^{-1} * X^t * y))
> >
> > to work in regular plots but
> >
> >    ltext(9,46, expression(hat(beta) == (X^t * X)^{-1} * X^t * y))
> >
> > does not do the same in lattice (trellis) plots.  Has it not been
> > implemented or am I missing something?
> >
> > Thanks
> >
> > - Mary
>
>
>
> __________________________________________________
>
> Yahoo! Sports - Coverage of the 2002 Olympic Games
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dpontillo at libero.it  Mon Feb 18 08:09:14 2002
From: dpontillo at libero.it (Daniele Pontillo)
Date: Mon, 18 Feb 2002 08:09:14 +0100
Subject: [R] R-Gnome
Message-ID: <200202180711.IAA01888@stat.math.ethz.ch>

I understand that the Gnome interface is experimental and not supported if 
not specified during configuration. I did compile the source files of 1.4.1 
as follows:
./configure --with-gnome.
At the end of the process, I had NO support for gnome.
Can you please help me?
Daniele Pontillo, MD
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Mon Feb 18 08:39:09 2002
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Mon, 18 Feb 2002 08:39:09 +0100 (MET)
Subject: [R] exact inference tests
In-Reply-To: <Pine.LNX.4.10.10202151134150.3873-100000@babylon.cnrs.humboldt.edu>
Message-ID: <Pine.LNX.4.21.0202180838040.16147-100000@artemis.imbe.med.uni-erlangen.de>


> R-community--
> 
> Is there a contributed package (or does anyone have code otherwise) for
> exact inference tests and resampling statistics ala' StatExact?  I've
> perused the package descriptions on CRAN and didn't see anything, but
> since several contain many functions, I thought perhaps I'd ask.

beside the things that can be found in ctest, the exactRankTests package
has some functionality you might be interested in, 

Torsten

> 
> --Mike C.
> 
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> Michael A. Camann                                  Voice: 707-826-3676
> Associate Professor of Zoology                       Fax: 707-826-3201
> Institute for Forest Canopy Research     Email: mac24 at axe.humboldt.edu
> Department of Biology                            ifcr at axe.humboldt.edu
> Humboldt State University           
> Arcata, CA 95521
> 
>                  URL:http://www.humboldt.edu/~mac24/
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Mon Feb 18 08:50:08 2002
From: siim at obs.ee (Ott Toomet)
Date: Mon, 18 Feb 2002 08:50:08 +0100 (CET)
Subject: [R] Horizontal Boxplot
In-Reply-To: <20020217192624.71904.qmail@web20604.mail.yahoo.com>
Message-ID: <Pine.LNX.4.33.0202180847550.6199-100000@localhost.localdomain>

Hello,

On Sun, 17 Feb 2002, [iso-8859-1] Drag?n wrote:

>   Hello all.
>
>   I'm just a beginner trying to draw a boxplot and I don't know why every time
> I try to make it horizontal I receive the error message "parameter
> 'horizontal' couldn't be set in high-level plot() function". Can anybody give
> me an advice?
>   Here is the code:
>
> opar <- par(ask = interactive() && (.Device == "X11" || .Device == "windows"))
> # For source
>
> #pictex(file = "graf.tex", bg = "white", fg = "black", width = 4, height = 4,
> debug = FALSE)
> par(bg="cornsilk")
> n <- 2
> g <- c(452, 395, 317, 254, 202)
> x <- c(590, 497, 414, 326, 276)
>
> boxplot(g,x,horizontal=T)
> title(main="Gross weekly earnings", ylab="Pounds", font.main=4, font.lab=1)
> #dev.off()

What version of R and what OS do you use?

> par(bg="cornsilk")
> g <- c(452, 395, 317, 254, 202)
> x <- c(590, 497, 414, 326, 276)
> boxplot(g,x,horizontal=T)
> title(main="Gross weekly earnings", ylab="Pounds", font.main=4, font.lab=1)

works fine on my R 1.4.0, RH7.1 linux.

Ott Toomet


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Feb 18 08:59:37 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 18 Feb 2002 08:59:37 +0100
Subject: [R] Horizontal Boxplot
References: <20020217192624.71904.qmail@web20604.mail.yahoo.com>
Message-ID: <3C70B469.59F27FD@statistik.uni-dortmund.de>

Drag?n wrote:
> 
>   Hello all.
> 
>   I'm just a beginner trying to draw a boxplot and I don't know why every time
> I try to make it horizontal I receive the error message "parameter
> 'horizontal' couldn't be set in high-level plot() function". Can anybody give
> me an advice?
>   Here is the code:
> 
> opar <- par(ask = interactive() && (.Device == "X11" || .Device == "windows"))
> # For source
> 
> #pictex(file = "graf.tex", bg = "white", fg = "black", width = 4, height = 4,
> debug = FALSE)
> par(bg="cornsilk")
> n <- 2
> g <- c(452, 395, 317, 254, 202)
> x <- c(590, 497, 414, 326, 276)
> 
> boxplot(g,x,horizontal=T)
> title(main="Gross weekly earnings", ylab="Pounds", font.main=4, font.lab=1)
> #dev.off()

I don't see it on WinNT4, R-1.4.1.
I guess you are not running a recent version of R?


A *warning* (not error) message like
"parameter 'xyz' couldn't be set in high-level plot() function"
often appears as in the following nonsens-example:

 my.plot <- function(x, ...){
   plot(x, ..., xaxt="n")
   axis(1, ...)
 }

 my.plot(1:10, main="Hello")

Here parameter 'main' will be (because of the dots) passed through to
axis(), but axis() doesn't know about it.
So just ignore this warning message, if the plot appears to be alright
for you.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Michael.Dondrup at Genetik.Uni-Bielefeld.DE  Mon Feb 18 11:25:05 2002
From: Michael.Dondrup at Genetik.Uni-Bielefeld.DE (Michael Dondrup)
Date: Mon, 18 Feb 2002 11:25:05 +0100
Subject: [R] R-Gnome
References: <200202180711.IAA01888@stat.math.ethz.ch>
Message-ID: <3C70D681.6F94A1C2@Genetik.Uni-Bielefeld.DE>

Daniele Pontillo wrote:

This maybe occurs because configure is unable to find your
Gnome-libraries and header files.
You should use --with-gnome-includes and --with-gnome-libs to specify
these paths. 
Another problem can be caused by the configuration utility gnome-config
which should be 
in your PATH. It depends on your installation and OS where these things
really are, but provided the gnome directory is "/somewhere/gnome" the
following tiny script worked for me:

---------------------

#!/bin/sh
PATH="/somewhere/gnome/bin":$PATH #path to config-gnome
export PATH

cd /homes/me/compile/R-1.4.1/

# I also believe --with-gnome doesn't work without --with-x

./configure  --with-x  --with-gnome\ 
--with-gnome-includes=/somewhere/gnome/include \
--with-gnome-libs=/somewhere/gnome/lib 

--------------------

In such a case more information about your OS and setup would be
helpfull 
(e.g. the output of uname -a ).

Michael Dondrup

> 
> I understand that the Gnome interface is experimental and not supported if
> not specified during configuration. I did compile the source files of 1.4.1
> as follows:
> ./configure --with-gnome.
> At the end of the process, I had NO support for gnome.
> Can you please help me?
> Daniele Pontillo, MD
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adams.644 at osu.edu  Mon Feb 18 14:26:22 2002
From: adams.644 at osu.edu (jimi adams)
Date: Mon, 18 Feb 2002 08:26:22 -0500
Subject: [R] i think i asked the wrong ?
Message-ID: <4.3.2.7.2.20020218082326.00a9c380@pop.service.ohio-state.edu>

me again, new to R, haven't programmed in a long time at all
sorry to ask what is probably basic

a while ago i asked how to remove an element from a list
apparently what i am using is not a list but a vector, didn't realize there 
was a list data type
could also use a matrix for what i am doing, is there a way to remove 
single elements from either of those?

thanks for any help, if i was actually using a list as i said last time, 
the answers i received would have cleared things right up

jimi
jimi adams
Department of Sociology
The Ohio State University
300 Bricker Hall
190 N. Oval Mall
Columbus, OH 43210-1353
614-688-4261

our mind has a remarkable ability to think of contents as being independent 
of the act of thinking
                                             -georg simmel

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dragon379 at yahoo.es  Mon Feb 18 15:46:44 2002
From: dragon379 at yahoo.es (=?iso-8859-1?q?Drag=F3n?=)
Date: Mon, 18 Feb 2002 14:46:44 +0000 (GMT)
Subject: [R] Horizontal Boxplot
Message-ID: <20020218144644.27861.qmail@web20603.mail.yahoo.com>

  Thank you very much everybody.

  I'm running R in debian potato 2.2.r0 and the output of version is:

  Platform i686-unknown-linux
  arch  i686
  os linux
  system  i686, linux
  status
  major 0
  minor 90.1
  year 1999
  month December
  day 15
  language R

  I get the boxplot, but some parameters don't want to work like this one. May
be I should check if there is a more recent version for potato.

__________________________________________________

Everything you'll ever need on one web page
from News and Sport to Email and Music Charts

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Mon Feb 18 15:48:51 2002
From: plummer at iarc.fr (Martyn Plummer)
Date: Mon, 18 Feb 2002 15:48:51 +0100 (CET)
Subject: [R] R-Gnome
In-Reply-To: <200202180711.IAA01888@stat.math.ethz.ch>
Message-ID: <XFMail.20020218154851.plummer@iarc.fr>

On 18-Feb-2002 Daniele Pontillo wrote:
> I understand that the Gnome interface is experimental and not supported if 
> not specified during configuration. I did compile the source files of 1.4.1 
> as follows:
> ./configure --with-gnome.
> At the end of the process, I had NO support for gnome.
> Can you please help me?
> Daniele Pontillo, MD

There are two possibilities

1) You don't have all the libraries you need to install R-GNOME.
   These are listed in the document "R-admin".  Don't forget that
   if you use a pre-packaged version of gnome you must install the
   _development_ version of these libraries: i.e. the *-devel
   package for RPM or *-dev package for Debian

2) You have a complete installation of GNOME but it is in a non-
   standard location.  In this case, use
   --configure --with-gnome=/opt/gnome
   (for example) to tell the configure program where it is.

Check the output of configure to see where it goes wrong.
A successful run looks like this:

checking for gnome-config... /usr/bin/gnome-config
checking if /usr/bin/gnome-config works... yes
checking for orbit-config... /usr/bin/orbit-config
checking for orbit-idl... /usr/bin/orbit-idl
checking for working ORBit environment... yes
checking for gnorba libraries... yes
checking for libglade-config... /usr/bin/libglade-config
checking for libglade... yes

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Feb 18 14:48:18 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 18 Feb 2002 13:48:18 +0000
Subject: [R] R-Gnome
In-Reply-To: <200202180711.IAA01888@stat.math.ethz.ch>
References: <200202180711.IAA01888@stat.math.ethz.ch>
Message-ID: <xsBkDOAiYQc8Ewsq@myatt.demon.co.uk>

Daniele Pontillo <dpontillo at libero.it> writes:
>I understand that the Gnome interface is experimental and not supported if 
>not specified during configuration. I did compile the source files of 1.4.1 
>as follows:
>./configure --with-gnome.
>At the end of the process, I had NO support for gnome.

What messages did configure return. My guess is that you need to have
the Gnome development libraries or some other library installed first
... some Linux distributions do not install these by default.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Feb 18 14:45:18 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 18 Feb 2002 13:45:18 +0000
Subject: [R] Horizontal Boxplot
In-Reply-To: <20020217192624.71904.qmail@web20604.mail.yahoo.com>
References: <20020217192624.71904.qmail@web20604.mail.yahoo.com>
Message-ID: <9sCnzKAuVQc8EwNg@myatt.demon.co.uk>

Drag?n <dragon379 at yahoo.es> writes:

>  I'm just a beginner trying to draw a boxplot and I don't know why every time
>I try to make it horizontal I receive the error message "parameter
>'horizontal' couldn't be set in high-level plot() function". Can anybody give
>me an advice?
>  Here is the code:
>
>opar <- par(ask = interactive() && (.Device == "X11" || .Device == "windows"))
># For source
>
>#pictex(file = "graf.tex", bg = "white", fg = "black", width = 4, height = 4,
>debug = FALSE)
>par(bg="cornsilk")
>n <- 2
>g <- c(452, 395, 317, 254, 202)
>x <- c(590, 497, 414, 326, 276)
>
>boxplot(g,x,horizontal=T)
>title(main="Gross weekly earnings", ylab="Pounds", font.main=4, font.lab=1)
>#dev.off()

Works OK on my boxes running R 1.3.1 on Win98 and Linux (SuSe 7.3).
Perhaps you have an older or test version.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Feb 18 14:41:40 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 18 Feb 2002 13:41:40 +0000
Subject: =?iso-8859-1?q?[R]_Symbol_"=A3"_crashs_R_in_Win98?=
In-Reply-To: <Pine.LNX.4.44.0202161533340.3895-100000@staff-pc79.cscs.wmin.ac.uk>
References: <Pine.LNX.4.44.0202161533340.3895-100000@staff-pc79.cscs.wmin.ac.uk>
Message-ID: <4McmbBAUSQc8Ewvl@myatt.demon.co.uk>

Haifeng (Kevin) Xie <H.F.Xie01 at westminster.ac.uk> writes:

[snip]

>R crashed (illegal operation). Then I realised that: R will crash whenever 
>the "?" symbol is typed. I'm using Microsoft Windows 98 SE, all settings 
>regarding keyboard layout, regional setting are correct. The very same 
>codes were trouble free when tried on a Linux box. 
>
>Did anybody encounter similar problem? Is this problem only associated to 
>Win98 or MS Windows in general? Any way around? Well, I could have changed 
>to "$" instead of sticking to "?". 

I think you will find that any high (i.e. > decimal 127) ASCII
character. This is an example of DLL hell that can plague with Windows
installations. It is due to an errant version of the file msvcrt.dll.
This has been covered in the FAQ that installs with R. I got round the
problem by copying this file from another PC but you should be able to
get a copy from the MicroSoft web site. Before copying over the existing
file make a backup in case you find that your new version impacts on
other applications.

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Mon Feb 18 17:14:41 2002
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Mon, 18 Feb 2002 17:14:41 +0100
Subject: [R] Kudos (and SVG)
Message-ID: <15473.10353.832767.867740@localhost.localdomain>

Dear all,

I have just finished my thesis titled "Gravitational Microlensing of
Quasar Clouds", and the following paragraph appeared in my
"Acknowledgements":

  "I would like to thank the authors of R and the R core team for
   their great skill and dedication in developing this software, and
   to all the members of the R-help mailing list, especially Brian
   D. Ripley, for their help."

So, many thanks to all!

Just one final thing: I've published my thesis on the web, right now
only in the PDF format, 
( <URL: http://www.digbib.uio.no/publ/astrofysikk/2002/2801/index.pdf >
if anybody is interested) but I'd like to use XHTML+MathML+SVG as well. 

tex4ht should fix the XHTML+MathML bit, but I was wondering if anybody
has worked with making SVG output from R? I have found a couple of
old posts to r-devel in the archive. I have also been looking for a
Postscript to SVG converter, without much success. Strangely, the code
that is supposed to do this in Ghostscript is not public. 

Best,

Kjetil
-- 
Kjetil Kjernsmo
Recent astrophysics graduate          Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://folk.uio.no/kjetikj/>
Webmaster at skepsis.no                            OpenPGP KeyID: 6A6A0BBC
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Mon Feb 18 17:59:07 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Mon, 18 Feb 2002 08:59:07 -0800 (PST)
Subject: [R] Horizontal Boxplot
In-Reply-To: <20020218144644.27861.qmail@web20603.mail.yahoo.com>
Message-ID: <20020218165907.82926.qmail@web13903.mail.yahoo.com>



Read, for example,

http://cran.us.r-project.org/bin/linux/debian/ReadMe

on how to get a more up to date version. (It says



This directory contains Debian i386 binary packages for the 2.2 (or
"potato") and 2.3 ("woody") release of Debian Linux.  Source packages
are available in a parallel directory.

These packages can be accessed through apt, the Debian package
maintenance tool.  Simply add the line

 deb http://cran.r-project.org/bin/linux/debian potato main

to the file /etc/apt/sources.list.  If you prefer to use one of the
CRAN mirrors, you should use

 deb http://cran.us.r-project.org/bin/linux/debian potato main

for example.

Once you have added that line the programs apt-get, apt-cache, and
dselect (using the apt access method) will automatically detect and
install updates.

)





--- Dragón <dragon379 at yahoo.es> wrote:
>   Thank you very much everybody.
> 
>   I'm running R in debian potato 2.2.r0 and the output of version is:
> 
>   Platform i686-unknown-linux
>   arch  i686
>   os linux
>   system  i686, linux
>   status
>   major 0
>   minor 90.1
>   year 1999
>   month December
>   day 15
>   language R
> 
>   I get the boxplot, but some parameters don't want to work like this one.
> May
> be I should check if there is a more recent version for potato.
> 
> __________________________________________________
> 
> Everything you'll ever need on one web page
> from News and Sport to Email and Music Charts
> 
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

__________________________________________________

Yahoo! Sports - Coverage of the 2002 Olympic Games

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Mon Feb 18 18:08:25 2002
From: siim at obs.ee (Ott Toomet)
Date: Mon, 18 Feb 2002 18:08:25 +0100 (CET)
Subject: [R] i think i asked the wrong ?
In-Reply-To: <4.3.2.7.2.20020218082326.00a9c380@pop.service.ohio-state.edu>
Message-ID: <Pine.LNX.4.33.0202181805090.7324-100000@localhost.localdomain>

Hello,

1. Read ,,introduction to R''?

2. What about vectors, use a construction similar to

> a <- c(1,2,3,4,5)
> a[-3]
[1] 1 2 4 5

e.g. you may write

a <- a[-3]

To remove a single row or column for a matrix you may do in the same way
(but remember to distringuis between rows and columns with comma).

To remove a single element from a matrix... I do not think you really mean
that.

Best wishes,

Ott Toomet


On Mon, 18 Feb 2002, jimi adams wrote:

> me again, new to R, haven't programmed in a long time at all
> sorry to ask what is probably basic
>
> a while ago i asked how to remove an element from a list
> apparently what i am using is not a list but a vector, didn't realize there
> was a list data type
> could also use a matrix for what i am doing, is there a way to remove
> single elements from either of those?
>
> thanks for any help, if i was actually using a list as i said last time,
> the answers i received would have cleared things right up
>
> jimi
> jimi adams
> Department of Sociology
> The Ohio State University
> 300 Bricker Hall
> 190 N. Oval Mall
> Columbus, OH 43210-1353
> 614-688-4261
>
> our mind has a remarkable ability to think of contents as being independent
> of the act of thinking
>                                              -georg simmel
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Mon Feb 18 18:18:21 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Mon, 18 Feb 2002 18:18:21 +0100 (MET)
Subject: [R] i think i asked the wrong ?
In-Reply-To: <4.3.2.7.2.20020218082326.00a9c380@pop.service.ohio-state.edu>
Message-ID: <Pine.OSF.3.96.1020218181115.4254D-100000@ija.csic.es>


You can eliminate elements from a vector:

> mivector <- 1:10
> mivector
 [1]  1  2  3  4  5  6  7  8  9 10
> mivector2 <- mivector[-7]
> mivector2
[1]  1  2  3  4  5  6  8  9 10

or set an element to NA:
> mivector2[3] <- NA
> mivector2
[1]  1  2 NA  4  5  6  8  9 10

You cannot eliminate a single element
from a matrix, you can set it
to NA

> mimatriz <- matrix(1:12,ncol=3)
> mimatriz
     [,1] [,2] [,3]
[1,]    1    5    9
[2,]    2    6   10
[3,]    3    7   11
[4,]    4    8   12
> mimatriz[3,3] <- NA
> mimatriz
     [,1] [,2] [,3]
[1,]    1    5    9
[2,]    2    6   10
[3,]    3    7   NA
[4,]    4    8   12

You can eliminate entire rows
and/or cols

> mimatriz[,-2]
     [,1] [,2]
[1,]    1    9
[2,]    2   10
[3,]    3   NA
[4,]    4   12
> mimatriz2 <- mimatriz[,-2]

A list can have elements of different nature, ie:

> milista<- list (a = 1:3, b=10:15,c=3)
> milista
$a
[1] 1 2 3

$b
[1] 10 11 12 13 14 15

$c
[1] 3

You can eliminate a list
element by seting it to NULL:

> milista$a <- NULL
> milista
$b
[1] 10 11 12 13 14 15

$c
[1] 3

and you can operate within the elements
of the list:

> milista$b
[1] 10 11 12 13 14 15
> milista$b[-3]
[1] 10 11 13 14 15

Hope this helps.

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Mon, 18 Feb 2002, jimi adams wrote:

> me again, new to R, haven't programmed in a long time at all
> sorry to ask what is probably basic
> 
> a while ago i asked how to remove an element from a list
> apparently what i am using is not a list but a vector, didn't realize there 
> was a list data type
> could also use a matrix for what i am doing, is there a way to remove 
> single elements from either of those?
> 
> thanks for any help, if i was actually using a list as i said last time, 
> the answers i received would have cleared things right up
> 
> jimi
> jimi adams
> Department of Sociology
> The Ohio State University
> 300 Bricker Hall
> 190 N. Oval Mall
> Columbus, OH 43210-1353
> 614-688-4261
> 
> our mind has a remarkable ability to think of contents as being independent 
> of the act of thinking
>                                              -georg simmel
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Mon Feb 18 18:13:04 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Mon, 18 Feb 2002 11:13:04 -0600
Subject: [R] R-Gnome
In-Reply-To: <XFMail.20020218154851.plummer@iarc.fr>
References: <200202180711.IAA01888@stat.math.ethz.ch> <XFMail.20020218154851.plummer@iarc.fr>
Message-ID: <20020218171303.GA1152@sonny.eddelbuettel.com>

On Mon, Feb 18, 2002 at 03:48:51PM +0100, Martyn Plummer wrote:
> On 18-Feb-2002 Daniele Pontillo wrote:
> > I understand that the Gnome interface is experimental and not supported if 
> > not specified during configuration. I did compile the source files of 1.4.1 
> > as follows:
> > ./configure --with-gnome.
> > At the end of the process, I had NO support for gnome.
> > Can you please help me?
> > Daniele Pontillo, MD
> 
> There are two possibilities
> 
> 1) You don't have all the libraries you need to install R-GNOME.
>    These are listed in the document "R-admin".  Don't forget that
>    if you use a pre-packaged version of gnome you must install the
>    _development_ version of these libraries: i.e. the *-devel
>    package for RPM or *-dev package for Debian

On Debian, "apt-get install r-gnome" is all you need to grab and install the
precompiled R Gnome package.  

Dirk

-- 
Good judgement comes from experience; experience comes from bad judgement. 
							    -- Fred Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Mon Feb 18 19:11:24 2002
From: jfox at mcmaster.ca (John Fox)
Date: Mon, 18 Feb 2002 13:11:24 -0500
Subject: [R] i think i asked the wrong ?
In-Reply-To: <4.3.2.7.2.20020218082326.00a9c380@pop.service.ohio-state.e
 du>
Message-ID: <5.1.0.14.2.20020218130721.01d88330@mcmail.cis.mcmaster.ca>

Dear Jimi,

At 08:26 AM 2/18/2002 -0500, you wrote:
>me again, new to R, haven't programmed in a long time at all
>sorry to ask what is probably basic
>
>a while ago i asked how to remove an element from a list
>apparently what i am using is not a list but a vector, didn't realize 
>there was a list data type
>could also use a matrix for what i am doing, is there a way to remove 
>single elements from either of those?
>
>thanks for any help, if i was actually using a list as i said last time, 
>the answers i received would have cleared things right up

You can use negative indices to remove entries from a vector; for example,

 > v <- 1:10
 > v[-5]
[1]  1  2  3  4  6  7  8  9 10
 > v[-c(3,6)]
[1]  1  2  4  5  7  8  9 10

Removing single elements from a matrix doesn't make sense -- what goes in 
the hole? You can, however, remove entire rows or columns with negative 
indices.

(Indexing is discussed in all of the basic introductions to R and S of 
which I'm aware. It probably makes sense to read one of these -- you'll 
save time in the long run.)

I hope that this helps,
  John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcos_sanches at gallup.com  Mon Feb 18 19:31:26 2002
From: marcos_sanches at gallup.com (Marcos Sanches)
Date: Mon, 18 Feb 2002 19:31:26 +0100 (MET)
Subject: [R] SELECT IF(cidade =  MERGEFIELD
Message-ID: <200202181831.TAA11699@stat.math.ethz.ch>

EXECUTE .
SAVE TRANSLATE OUTFILE='H:\Marcos Sanches\Bandepe\Gallup2\amostra MERGEFIELD nome ?nome.xls'
  /TYPE=XLS /MAP /REPLA 
/drop faixa regiao cidade
/FIELDNAMES.
GET
  FILE='H:\Marcos Sanches\Bandepe\Gallup2\BD para dividir2.sav'.
EXECUTE .
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dragon379 at yahoo.es  Mon Feb 18 21:27:53 2002
From: dragon379 at yahoo.es (=?iso-8859-1?q?Drag=F3n?=)
Date: Mon, 18 Feb 2002 20:27:53 +0000 (GMT)
Subject: [R] Horizontal Boxplot
Message-ID: <20020218202753.62644.qmail@web20610.mail.yahoo.com>

  Thank you again.

  I've just installed it from the source and the boxplot works fine.

  The only think I miss is the history of commands that now doesn't work
pressing the arrows on the keyboard.

  Thanks a lot.

__________________________________________________

Everything you'll ever need on one web page
from News and Sport to Email and Music Charts

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Feb 18 22:03:37 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Feb 2002 22:03:37 +0100
Subject: [R] Horizontal Boxplot
In-Reply-To: <20020218202753.62644.qmail@web20610.mail.yahoo.com>
References: <20020218202753.62644.qmail@web20610.mail.yahoo.com>
Message-ID: <x2wuxasdsm.fsf@blueberry.kubism.ku.dk>

Drag?n <dragon379 at yahoo.es> writes:

>   Thank you again.
> 
>   I've just installed it from the source and the boxplot works fine.
> 
>   The only think I miss is the history of commands that now doesn't work
> pressing the arrows on the keyboard.

You need the development library for readline to make that work.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dragon379 at yahoo.es  Mon Feb 18 22:25:48 2002
From: dragon379 at yahoo.es (=?iso-8859-1?q?Drag=F3n?=)
Date: Mon, 18 Feb 2002 21:25:48 +0000 (GMT)
Subject: [R] Horizontal Boxplot
In-Reply-To: <x2wuxasdsm.fsf@blueberry.kubism.ku.dk>
Message-ID: <20020218212548.56727.qmail@web20604.mail.yahoo.com>

How can I get it? Doesn't come with the source? 

--- Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> wrote: > Drag?n
<dragon379 at yahoo.es> writes:
> 
> >   Thank you again.
> > 
> >   I've just installed it from the source and the boxplot works fine.
> > 
> >   The only think I miss is the history of commands that now doesn't work
> > pressing the arrows on the keyboard.
> 
> You need the development library for readline to make that work.
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907 

__________________________________________________

Everything you'll ever need on one web page
from News and Sport to Email and Music Charts

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ozric at web.de  Mon Feb 18 23:34:46 2002
From: ozric at web.de (christian)
Date: Mon, 18 Feb 2002 23:34:46 +0100
Subject: [R] analyze binary variables in R
Message-ID: <E16cwH5-0000IT-00@smtp.web.de>

Hello,
know somebody a "nice" strategy to analyze a lot of  binary variables with hundred to thousands  of cases.

P.S.
One nice example for this and something more is the configurational approach from C.Ragin   
http://www.nwu.edu/sociology/tools/qca/qca.html  ,but i fight with the complexity of my data
and the speed of the contibuted software in TCL/TK and would attempt to implement this in R !

thanks for any suggestions 
christian






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cwedge22 at comcast.net  Tue Feb 19 04:30:17 2002
From: cwedge22 at comcast.net (Christopher W. Edge)
Date: Mon, 18 Feb 2002 22:30:17 -0500
Subject: No subject
Message-ID: <001501c1b8f5$c048f670$0200a8c0@CHRISTOPNBR4Q1>

Hi,

I'm a new R users (although I have a little experience with S+).  I am using the latest version (1.4.1) of R on a Windows 2000 system.

I have obtained several of the additional R packages ("modules") and would like to know how to permanently install them.  What I am after is something similar to the following in S+

> .First <- function() { module("module_name") }

This loads a given module at the start of the S+ session so that it is always available.  I'm sure there must be a way to do this in R, but I have not been able to find it in the documentation or on the FAQ web site.

Thanks,

Chris Edge
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020218/99f59d2c/attachment.html

From steve.cassidy at mq.edu.au  Tue Feb 19 06:46:51 2002
From: steve.cassidy at mq.edu.au (Steve Cassidy)
Date: Tue, 19 Feb 2002 16:46:51 +1100
Subject: [R] scan(...comment.char="#") breaks my code
Message-ID: <E16d375-0000hh-00@sputnik>

I've just discovered the recent addition of the comment.char arg to scan, a 
useful feature no doubt but the default value of # rather than "" breaks my 
code which looks for # as a delimeter in a file and provides a messy 
incompatability with earlier versions of R and with Splus.   

Is there any chance that this default could be changed to ""?
-- 
Steve Cassidy........Computing, Macquarie University, Sydney, Australia
..............<URL: http://www.ics.mq.edu.au/~cassidy>................
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Feb 19 08:18:32 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 19 Feb 2002 07:18:32 +0000 (GMT)
Subject: [R] scan(...comment.char="#") breaks my code
In-Reply-To: <E16d375-0000hh-00@sputnik>
Message-ID: <Pine.GSO.4.44.0202190715370.26674-100000@auk.stats>

On Tue, 19 Feb 2002, Steve Cassidy wrote:

> I've just discovered the recent addition of the comment.char arg to scan, a
> useful feature no doubt but the default value of # rather than "" breaks my
> code which looks for # as a delimeter in a file and provides a messy
> incompatability with earlier versions of R and with Splus.
>
> Is there any chance that this default could be changed to ""?

It already has been. The NEWS for R-patched / R-devel says:

    o   The default has been changed to scan(comment.char="") for
        consistency with earlier code (as in the previous item).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Feb 19 08:31:03 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 19 Feb 2002 07:31:03 +0000 (GMT)
Subject: [R] analyze binary variables in R
In-Reply-To: <E16cwH5-0000IT-00@smtp.web.de>
Message-ID: <Pine.GSO.4.44.0202190722360.26674-100000@auk.stats>

On Mon, 18 Feb 2002, christian wrote:

> Hello,
> know somebody a "nice" strategy to analyze a lot of  binary variables with hundred to thousands  of cases.

It depends on the structure of the data, in particular which variables are
responses and which are explanatory, as well as what `a lot' means, since
the number of cases quoted is small.  (There are plenty of examples with
millions or more cases and hundreds of variables.)

The standard approaches are log-linear models for joint responses, and
logistic regression for single ones.  There are more sophisticated ones
involve selecting graphical models, but these need more input from the
subject matter.  The data mining community has a number of visualization
methods, ....

> P.S.
> One nice example for this and something more is the configurational approach from C.Ragin
> http://www.nwu.edu/sociology/tools/qca/qca.html  ,but i fight with the complexity of my data
> and the speed of the contibuted software in TCL/TK and would attempt to implement this in R !

Does any expert statistician recommend that approach?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jniesch at gwdg.de  Tue Feb 19 08:59:49 2002
From: jniesch at gwdg.de (Jens Nieschulze)
Date: Tue, 19 Feb 2002 08:59:49 +0100 (MET)
Subject: [R] Re: your mail
In-Reply-To: <001501c1b8f5$c048f670$0200a8c0@CHRISTOPNBR4Q1>
Message-ID: <Pine.SO4.4.10.10202190856440.29049-100000@ufobi7.uni-forst.gwdg.de>

On Mon, 18 Feb 2002, Christopher W. Edge wrote:

%Hi,
%
%I'm a new R users (although I have a little experience with S+).  I am using the latest version (1.4.1) of R on a Windows 2000 system.
%
%%I have obtained several of the additional R packages ("modules") and would
%like to know how to permanently install them.  What I am after is something
I don't think that it is about installation
the packages are installed
it is about loading them, so the issue is about performance
and I think that loading libraries when you need them and unloading them
afterwards is the better approach

%similar to the following in S+
%
%> .First <- function() { module("module_name") }
%
%%This loads a given module at the start of the S+ session so that it is always
%available.  I'm sure there must be a way to do this in R, but I have not been
%able to find it in the documentation or on the FAQ web site.

something like
> .First<-function () library(geoR)
>
then after quitting and invoking R again
> search()
[1] ".GlobalEnv"   "package:geoR" "Autoloads"    "package:base"
>

	JN
%
%Thanks,
%
%Chris Edge
%

***********************************************************************
Jens Nieschulze

Institute for Forest Biometrics &	Phone: ++49-551-39-12107
Applied Computer Science		Fax  : ++49-551-39-3465
Buesgenweg 4
37077 Goettingen		E-mail: jniesch at uni-forst.gwdg.de
GERMANY				http://www.uni-forst.gwdg.de/~jniesch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Feb 19 10:53:40 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 19 Feb 2002 10:53:40 +0100 (MET)
Subject: [R] R-Gnome
In-Reply-To: <200202180711.IAA01888@stat.math.ethz.ch>
Message-ID: <Pine.OSF.3.96.1020219105140.21678B-100000@ija.csic.es>


Only recentely I've been able to get gnome support for R.
In my case the problem was not lacking any of the required
gnome components. The problem was simply that the gnome/bin directory
had to be included  in the PATH variable:

Bourne shell: PATH=$PATH:/opt/gnome/bin
c shel : setenv PATH $PATH:/opt/gnome/bin

and then just runing:

./configure --with-gnome

yields:

R is now configured for i686-pc-linux-gnu

  Source directory:          .
  Installation directory:    /usr/local
  C compiler:                gcc  -mieee-fp -D__NO_MATH_INLINES -g -O2
  C++ compiler:              c++  -mieee-fp -g -O2
  FORTRAN compiler:          g77  -g -O2

  X11 support:               yes
  Gnome support:             yes
  Tcl/Tk support:            yes

  R profiling support:       yes
  R as a shared library:     no

(options --with-gnome-includes --with-gnome-libs 
--with-libglade-config were not required in my case, having
gnome in /opt/gnome )

If you have unsuccesfuly run ./configure and make, you might want run
make distclean or, at least, delete config.cache.

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Mon, 18 Feb 2002, Daniele Pontillo wrote:

> I understand that the Gnome interface is experimental and not supported if 
> not specified during configuration. I did compile the source files of 1.4.1 
> as follows:
> ./configure --with-gnome.
> At the end of the process, I had NO support for gnome.
> Can you please help me?
> Daniele Pontillo, MD
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Tue Feb 19 11:54:03 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Tue, 19 Feb 2002 10:54:03 +0000
Subject: [R] Horizontal Boxplot
In-Reply-To: <20020218144644.27861.qmail@web20603.mail.yahoo.com>
References: <20020218144644.27861.qmail@web20603.mail.yahoo.com>
Message-ID: <QObMrEAL7ic8Ewq2@myatt.demon.co.uk>

Drag?n <dragon379 at yahoo.es> writes:

>  I'm running R in debian potato 2.2.r0 and the output of version is:
>
>  Platform i686-unknown-linux
>  arch  i686
>  os linux
>  system  i686, linux
>  status
>  major 0
>  minor 90.1
>  year 1999
>  month December
>  day 15
>  language R
>
>  I get the boxplot, but some parameters don't want to work like this one. May
>be I should check if there is a more recent version for potato.

That is a pretty old version. Debian packages for the latest version are
available from CRAN and its mirrors.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Feb 19 12:32:27 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 19 Feb 2002 12:32:27 +0100 (MET)
Subject: [R] Rgnome produces errors?
Message-ID: <Pine.OSF.3.96.1020219122707.21678D-100000@ija.csic.es>


I'm totally confused by the following:

1. I start R simply by typing R on the shell
and the following works with no  problems:

> library(MASS)
> a <- lda(x=mod23puriflda[,2:5],grouping=mod23puriflda[,6],CV=F)
> summary(a)
        Length Class  Mode
prior   23     -none- numeric
counts  23     -none- numeric
means   92     -none- numeric
scaling 16     -none- numeric
lev     23     -none- character
svd      4     -none- numeric
N        1     -none- numeric
call     4     -none- call

2. Instead, I start R in the gnome gui (R -g GNOME &)
and this is what I get:

> library(MASS)
> a <- lda(x=mod23puriflda[,2:5],grouping=mod23puriflda[,6],CV=F)

Error in lda.default(x = mod23puriflda[, 2:5], grouping = mod23puriflda[,
: 
	length of dimnames[2] not equal to array extent
In addition: Warning message: 
variables are collinear in: lda.default(x = mod23puriflda[, 2:5], grouping
= mod23puriflda[,  
> 

How can the gnome gui have any effect on the result of an
R command?

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ajm6q at virginia.edu  Tue Feb 19 14:08:46 2002
From: ajm6q at virginia.edu (Aaron J Mackey)
Date: Tue, 19 Feb 2002 08:08:46 -0500 (EST)
Subject: [R] Re: RFC: "R::Wrapper" perl module 
In-Reply-To: <Pine.OSF.4.33.0202141333040.32609-100000@alpha10.bioch.virginia.edu>
Message-ID: <Pine.OSF.4.33.0202190807300.20632-100000@alpha10.bioch.virginia.edu>


For those who are interested, a preview version can be obtained at:

http://www.people.virginia.edu/~ajm6q/R-Wrapper-0.01.tar.gz

-Aaron

On Thu, 14 Feb 2002, Aaron J Mackey wrote:

>
> If I actually finished writing this module, would any of you use it?
> Would you wish it did something else/different than what's described
> below?  Any comments or suggestions on its proposed usage, intent, or
> syntax are welcome!  (An alternative, better name would also be
> appreciated)  -Aaron
>
> NAME
>     R::Wrapper - Wrapper around the RS-Perl R module
>
> SYNOPSIS
>       #!/usr/bin/perl -w
>
>       use strict;
>
>       use R::Wrapper qw(:all);
>
>       my @x = 1 .. 10;
>       my @y = 1 .. 10;
>       @x = cumsum(\@x);
>
>       plot( { x => \@x,
>               y => \@y,
>               main => 'Test Plot'
>             }
>           );
>
>       __END__
>
>       # then, at the command line:
>
>       # just view it, nothing else;
>       % ./script.pl
>
>       # after viewing, have the option to save as PDF
>       # (prompt for filename):
>       % ./script.pl --pdf
>
>       # do the same, but specify filenames in advance:
>       % ./script.pl --dump=rawdata.txt
>       % ./script.pl --pdf=testplot.pdf
>       % ./script.pl --ps=testplot.ps
>
>       # only generate the dump, don't preview at all:
>       % ./script.pl --nopreview --pdf=testplot.pdf
>
>       # pipe the postscript to something else:
>       % ./script.pl --ps="| enscript -Pbiochem_LJ5P"
>
>       # the default argument for lpr is -P
>       % ./script.pl --lpr=biochem_LJP
>
>       # send other parameters to lpr (e.g. 2 copies);
>       % ./script.pl --lpr="-Pwrp_ph56 -#2"
>
>       # send pdf's to someone:
>       % ./script.pl --pdf --email=amackey at virginia.edu --subject="Here's the latest version"
>
> DESCRIPTION
>     R::Wrapper is meant to be a utility wrapper around the RS-Perl R module.
>     It currently provides three main features: the first is a visually
>     "cleaner" interface to the R module's calling interface (and handling
>     for a few sticky issues the R module has with vectors versus scalars).
>
>     The second feature is to automatically "annotate" each page of output
>     with meta-information about the script (it's name, path, the date,
>     arguments to the script, etc etc); These annotations will appear at the
>     bottom of the output page, and are meant to aid in the reproduction of
>     the data used by the figure(s) at a later date.
>
>     The third feature is that R::Wrapper provides automatic recognition for
>     --dump, --pdf, --ps, --lpr and --email command line switches to scripts
>     that use R::Wrapper. The point of these switches is that after
>     "previewing" any plotted data in a graphical window, R::Wrapper will
>     automatically prompt the user if they wish to dump the raw numerical
>     data used to generate the plot (--dump), or obtain PDF or postscript
>     (--pdf and --ps, respectively) versions of the plot (including
>     annotations); if a filename was not specified at the command line, or if
>     multiple plots are drawn by the script, the user will be prompted for
>     each necessary filename. Instead of specifying filenames for --dump,
>     --pdf and --ps, the outputs can also be piped into another process.
>     The --lpr option expects arguments to the lpr command, instead of
>     filenames. The --email option is used in conjunction with the other
>     options, and specifies that the outputs should be MIME-attached to an
>     email to be sent to the specified user(s).
>
>     R::Wrapper uses the Getopt::Long module to handle command line options,
>     so scripts that make use of it should 'use R::Wrapper' before any other
>     processing of @ARGV occurs (R::Wrapper will strip out it's specific
>     arguments, leaving any others in @ARGV for processing by the script
>     itself).
>
> MOTIVATION
>     Currently, our research "flow" looks like this:
>
>       1. Generate/collect raw data
>       2. Use Perl scripts to "munge" or otherwise convert raw data into
>          tabular format (or import into a relational database)
>       3. Use R script(s) to analyze, transform and visualize data read in
>          from tabular format (or obtained out of relational database);
>          edit script until the desired output formatting/layout is
>          achieved
>       4. Edit R scripts furiously to redirect plotting output into
>          pdf/postscript/etc.
>       5. Use either Perl or R to (re)generate tabular-formatted plotting
>          data (for import into publication-quality graphing environments)
>
>     R::Wrapper attempts to combine steps 3 through 5 (although it could
>     also be used in a "super script" that performed steps 1 and 2, if
>     desired).  The advantage of doing this is to keep the definitions for
>     data production the same: the same set of Perl and R functions are
>     used to generate "preview" data in step 3, generate hardcopy in step 4
>     and generate export data in step 5.
>
> SUPPORTED ROUTINES
>     Currently, R::Wrapper only supports text output (--dump) for plots
>     generated using the following R functions (as a proof of concept, and
>     because these are the plotting routines we use most often):
>
>     * plot
>     * points
>     * lines
>
> TODO
>
>     * Add some kind of templating mechanism, so that text output can be
>       user-controlled.
>     * Add --dump support for more plotting routines (i.e. 'histogram',
>       'barplot', 'boxplot', etc. etc.).
>
> AUTHOR
>     Aaron J Mackey, amackey at virginia.edu
>
> SEE ALSO
>     perl(1), RS-Perl
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Tue Feb 19 14:24:27 2002
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 19 Feb 2002 08:24:27 -0500
Subject: [R] Re: loading packages at startup (was no subject)
In-Reply-To: <001501c1b8f5$c048f670$0200a8c0@CHRISTOPNBR4Q1>
Message-ID: <5.1.0.14.2.20020219075019.01d4ba48@mcmail.cis.mcmaster.ca>

Dear Christopher:

At 10:30 PM 2/18/2002 -0500, Christopher W. Edge wrote:

>I'm a new R users (although I have a little experience with S+).  I am 
>using the latest version (1.4.1) of R on a Windows 2000 system.
>
>I have obtained several of the additional R packages ("modules") and would 
>like to know how to permanently install them.  What I am after is 
>something similar to the following in S+
>
> > .First <- function() { module("module_name") }
>
>This loads a given module at the start of the S+ session so that it is 
>always available.  I'm sure there must be a way to do this in R, but I 
>have not been able to find it in the documentation or on the FAQ web site.
>

There are several ways to load packages, or execute other commands, at 
startup. On a single-user Windows system, probably the easiest solution is 
to edit the Rprofile file in the etc subdirectory, adding library commands 
to the file.  Because there's some overhead, it's only sensible to do this 
if you want the libraries to be available continuously.

I hope that this helps,
  John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From c.schulz at metafacts.de  Tue Feb 19 15:10:14 2002
From: c.schulz at metafacts.de (Christian Schulz)
Date: Tue, 19 Feb 2002 15:10:14 +0100
Subject: [R] analyze binary variables in R
References: <Pine.GSO.4.44.0202190722360.26674-100000@auk.stats>
Message-ID: <3C725CC6.4060008@metafacts.de>

>
>
>>P.S.
>>One nice example for this and something more is the configurational approach from C.Ragin
>>http://www.nwu.edu/sociology/tools/qca/qca.html  ,but i fight with the complexity of my data
>>and the speed of the contibuted software in TCL/TK and would attempt to implement this in R !
>>
>
>Does any expert statistician recommend that approach?
>
Sorry only me and the author, but i think it is an nice alternative to 
see cases as configurations to classic descriptives,
but i mean not that classic methods are bad !

 easy Example:
 4 independent variables and one dependend which have only the state 
 true and false !
men , age > 40, catholic , income > 30000EUR   and the depedend variable 
"elect labor party"

...so you have not 4 independend variables - in this approach you have 
got 16 configurations which
are different to the outcome . Further you define benchmarks for analyze 
neccessary & sucessfully
conditions and test the signficance !        

A way further  Ragin  execute how it is possible to work  with 
fuzzy-sets instead of crisp-sets, too !

regards,
christian schulz

>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020219/727301b1/attachment.html

From ben at zoo.ufl.edu  Tue Feb 19 15:28:37 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Tue, 19 Feb 2002 09:28:37 -0500 (EST)
Subject: [R] error in read.table on Mac OS 10 ... request for help
In-Reply-To: <1013803489.467BOYDJ@mail.rx.uga.edu>
Message-ID: <Pine.LNX.4.30.0202190925360.31519-100000@bolker.zoo.ufl.edu>


  I haven't seen any answers to this, so I'll try to provide some other
things to try (although I don't really know what's going on).

  Try getwd() to see how paths appear to be specified internally.  You
could also try setwd("/Users/Shared/rm140_FULL/work") before
read.table("...").  Also try list.files() to check out the file names.

  It does seem you've been pretty thorough.

  good luck,
   Ben Bolker

On Fri, 15 Feb 2002, Jason Boyd wrote:

> Hello,
> I'm a new user of R, and unsure of why I'm getting an
> error reading external files on my Mac OS 10 machine.
> I've read through posts that would seem related (and 'R
> Import/Export' and 'Introduction to R' as well as
> pertinent sections in V&R's 'Modern Applied Statistics
> with S-Plus') but to no avail.    If anyone has any
> suggestions, I'd be very grateful.  Here's the problem:
>
> When I enter the command:
>
> > idusc <- read.table(file = "/Users/Shared/
> rm140_FULL/work/ioddupb.txt")
>
> I get the message:
>
> Error in file(file, "r") : cannot open file `/Users/Shared/
> rm140_FULL/work/ioddupb.txt'
>
> This is the correct path according to my Finder
> window's "path" tab (that is, as far as Users is a folder
> under /) and also according to the command line
> interface (shell).  I'm not sure why it can't read the file.
> I'm new to Unix systems also, so perhaps I've
> misunderstood paths (though I've been reading over
> Unix tutorials enough not to scare me). Other info:
>
> 1.  the file was created in simple text mode in Mac
> TextEdit and saved fixed width text format.
>
> 2.  when I save the file to another working directory
> under a different user, I also cannot read.table
>
> 3.  I checked the priveleges of the .txt file, they were
> Read & write for the owner and Read for everyone else
> so that would seem to take care of R being able to copy
> it.
>
> 4.  I also tried read.fwf with the same type error
> message.
>
> 5.  The tutorials and examples as well as libraries all
> work fine, I can read data in the libraries, use add-on
> functions, and plot so it doesn't seem to be a problem
> with R itself.
>
> I'm sure this is just a simple matter but I'm perplexed.
> Thanks for any suggestions,
>
> Jason Boyd
>
> graduate student
> University of Georgia
> College of Pharmacy
> boydj at mail.rx.uga.edu
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From indra_calisto at yahoo.com  Tue Feb 19 15:21:10 2002
From: indra_calisto at yahoo.com (Indrajit SenGupta)
Date: Tue, 19 Feb 2002 19:51:10 +0530
Subject: [R] Rank of Matrix
Message-ID: <MABBJPBLPNLDIFMIAAOJOEPECDAA.indra_calisto@yahoo.com>

Hello everybody,
I think my question has been asked before but I am posing it once again
since I need it. Is there any way to find the rank of a matrix in R or
Splus?

______________________
Indrajit SenGupta
Department Of Statistics
St. Xavier's College
Calcutta University
mailto:indra_calisto at yahoo.com
mailto:indrajitsg at vsnl.net



_________________________________________________________



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Feb 19 15:49:31 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 19 Feb 2002 08:49:31 -0600
Subject: [R] Horizontal Boxplot
In-Reply-To: <QObMrEAL7ic8Ewq2@myatt.demon.co.uk>
References: <20020218144644.27861.qmail@web20603.mail.yahoo.com>
	<QObMrEAL7ic8Ewq2@myatt.demon.co.uk>
Message-ID: <6r4rkda5ms.fsf@franz.stat.wisc.edu>

Mark Myatt <mark at myatt.demon.co.uk> writes:

> Drag?n <dragon379 at yahoo.es> writes:
> 
> >  I'm running R in debian potato 2.2.r0 and the output of version is:
> >
> >  Platform i686-unknown-linux
> >  arch  i686
> >  os linux
> >  system  i686, linux
> >  status
> >  major 0
> >  minor 90.1
> >  year 1999
> >  month December
> >  day 15
> >  language R
> >
> >  I get the boxplot, but some parameters don't want to work like this one. May
> >be I should check if there is a more recent version for potato.
> 
> That is a pretty old version. Debian packages for the latest version are
> available from CRAN and its mirrors.

Actually we are still waiting for someone to volunteer to compile the
R-1.4.1 packages for potato (i.e. Debian GNU/Linux 2.2).  Dirk
Eddelbuettel <edd at debian.org> created packages for R-1.4.1 and
compiled them for for woody (3.0 testing) but he doesn't have access
to a system running 2.2
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Tue Feb 19 15:51:52 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Tue, 19 Feb 2002 09:51:52 -0500 (EST)
Subject: [R] analyze binary variables in R
In-Reply-To: <Pine.GSO.4.44.0202190722360.26674-100000@auk.stats>
Message-ID: <Pine.LNX.4.21L1.0202190951060.17774-100000@nujoma.perrins>

On Tue, 19 Feb 2002, Prof Brian D Ripley wrote:

> On Mon, 18 Feb 2002, christian wrote:
> [snip] 
> > P.S.
> > One nice example for this and something more is the configurational approach from C.Ragin
> > http://www.nwu.edu/sociology/tools/qca/qca.html  ,but i fight with the complexity of my data
> > and the speed of the contibuted software in TCL/TK and would attempt to implement this in R !
> 
> Does any expert statistician recommend that approach?

I don't know the answer to that, but it's a moderately well-regarded
approach in small-N comparative sociology.


----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Tue Feb 19 16:18:40 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Tue, 19 Feb 2002 09:18:40 -0600
Subject: [R] Horizontal Boxplot
In-Reply-To: <6r4rkda5ms.fsf@franz.stat.wisc.edu>
References: <20020218144644.27861.qmail@web20603.mail.yahoo.com> <QObMrEAL7ic8Ewq2@myatt.demon.co.uk> <6r4rkda5ms.fsf@franz.stat.wisc.edu>
Message-ID: <20020219151840.GA5644@sonny.eddelbuettel.com>

On Tue, Feb 19, 2002 at 08:49:31AM -0600, Douglas Bates wrote:
> > That is a pretty old version. Debian packages for the latest version are
> > available from CRAN and its mirrors.
> 
> Actually we are still waiting for someone to volunteer to compile the
> R-1.4.1 packages for potato (i.e. Debian GNU/Linux 2.2).  Dirk
> Eddelbuettel <edd at debian.org> created packages for R-1.4.1 and
> compiled them for for woody (3.0 testing) but he doesn't have access
> to a system running 2.2

Yes. 

This boils down to the following: Debian uses a set of tools to build its
packages. All my 40 or so packages use the current tools from Debian
testing/unstable --- which are however not backwards compatible with their
older sibblings from Debian stable.  We would therefore need a minor rewrite
of debian/rules and debian/control, as wellas a machine with Debian stable
plus the usual tools, compilers, libraries (incl -dev),.... That way, we
could provide at least the r-base, r-recommended and probably r-doc-*
packages for Debian stable.

I would be more than happy to help with the rewrite of the debian/* files if
someone else would then be willing to compile Debian stable packages going
forward.  I'd be more than happy to discuss this further in private mail.

Dirk

-- 
Good judgement comes from experience; experience comes from bad judgement. 
							    -- Fred Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hennig at stat.math.ethz.ch  Tue Feb 19 17:09:00 2002
From: hennig at stat.math.ethz.ch (Christian Hennig)
Date: Tue, 19 Feb 2002 17:09:00 +0100 (CET)
Subject: [R] Rank of Matrix
In-Reply-To: <MABBJPBLPNLDIFMIAAOJOEPECDAA.indra_calisto@yahoo.com>
Message-ID: <Pine.LNX.4.33.0202191708200.6330-100000@florence>

On Tue, 19 Feb 2002, Indrajit SenGupta wrote:

> Hello everybody,
> I think my question has been asked before but I am posing it once again
> since I need it. Is there any way to find the rank of a matrix in R or
> Splus?

See function qr. Note that the rank is numerically unstable.

> 
> ______________________
> Indrajit SenGupta
> Department Of Statistics
> St. Xavier's College
> Calcutta University
> mailto:indra_calisto at yahoo.com
> mailto:indrajitsg at vsnl.net
> 
> 
> 
> _________________________________________________________
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
***********************************************************************
Christian Hennig
Seminar fuer Statistik, ETH-Zentrum (LEO), CH-8092 Zuerich (current)
and Fachbereich Mathematik-SPST/ZMS, Universitaet Hamburg
hennig at stat.math.ethz.ch, http://stat.ethz.ch/~hennig/
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Tue Feb 19 17:24:45 2002
From: plummer at iarc.fr (Martyn Plummer)
Date: Tue, 19 Feb 2002 17:24:45 +0100 (CET)
Subject: [R] Rgnome produces errors?
In-Reply-To: <Pine.OSF.3.96.1020219122707.21678D-100000@ija.csic.es>
Message-ID: <XFMail.20020219172445.plummer@iarc.fr>

On 19-Feb-2002 Agustin Lobo wrote:
> 
> I'm totally confused by the following:
> 
> 1. I start R simply by typing R on the shell
> and the following works with no  problems:
> 
>> library(MASS)
>> a <- lda(x=mod23puriflda[,2:5],grouping=mod23puriflda[,6],CV=F)
>> summary(a)
>         Length Class  Mode
> prior   23     -none- numeric
> counts  23     -none- numeric
> means   92     -none- numeric
> scaling 16     -none- numeric
> lev     23     -none- character
> svd      4     -none- numeric
> N        1     -none- numeric
> call     4     -none- call
> 
> 2. Instead, I start R in the gnome gui (R -g GNOME &)
> and this is what I get:
> 
>> library(MASS)
>> a <- lda(x=mod23puriflda[,2:5],grouping=mod23puriflda[,6],CV=F)
> 
> Error in lda.default(x = mod23puriflda[, 2:5], grouping = mod23puriflda[,
>: 
>       length of dimnames[2] not equal to array extent
> In addition: Warning message: 
> variables are collinear in: lda.default(x = mod23puriflda[, 2:5], grouping
> = mod23puriflda[,  
>> 
> 
> How can the gnome gui have any effect on the result of an
> R command?

It can't.  You will need to give a reproducible example if you want
more help.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Tue Feb 19 17:31:03 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Tue, 19 Feb 2002 11:31:03 -0500 (EST)
Subject: [R] Smoothed lines over barplots
Message-ID: <Pine.LNX.4.21L1.0202191128530.17774-100000@nujoma.perrins>

Greetings.

I'd like to generate a graph that displays two distributions as
side-by-side bar graphs, then plots a smoothed line of the distribution on
top. The idea is to be able to visually compare the distributions.

I've done the following, but the axes don't line up. Any suggestions?

barplot(table(hcd.df$datecat, hcd.df$auth.sum), beside=TRUE,
  legend.text=c('Pre-9/11','Post-9/11'),main='Authoritarian Sum',
  sub='Chi-Square: 33.88; p< .01',col=c('yellow','red'))
par(new=TRUE)
plot(table(hcd.df$auth.sum[hcd.df$datecat==1]), type='l',xlim=c(-8,7),
  ylim=c(0,59),col='yellow')
par(new=TRUE)
plot(table(hcd.df$auth.sum[hcd.df$datecat==2]), type='l',
  col='red',xlim=c(-8,7), ylim=c(0,59))


Thanks.

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Maciej.Hoffman-Wecker at evotecoai.com  Tue Feb 19 17:27:38 2002
From: Maciej.Hoffman-Wecker at evotecoai.com (Maciej.Hoffman-Wecker@evotecoai.com)
Date: Tue, 19 Feb 2002 17:27:38 +0100
Subject: [R] Resistant Local Regression ???
Message-ID: <OF3024B92D.73D6297C-ONC1256B65.005A08B6@evotecoai.com>

Dear R-users & developers,


i'd like to know your opinion on the following suggestion.
In short:

Wouldn't it be possible to combine the properties of
local regression (loess) and resistant regression (lqs)
in order to cope with fitting of partially continuous data?

I think the lqs-fitting could detect and eliminate
the 2 outliers but perserve the discontinuity at t1
in case of the following data (hope its still courier).

 --------------------------------------------------
|                                                  |
|       *                                          |
|                                                  |
|                                                  |
|   *                                              |
| *  * *       * *                                 |
|        *    *                                    |
|          * *                                     |
|                                *                 |
|                                                  |
|                                                  |
|                                                  |
|                                                  |
|                                                  |
|                                      * *         |
|                 * *    *   * *     *     *       |
|                     * *  *      * *        * * * |
 -------|---------|-------------|------------------
        t0        t1            t2


Actually i'm interested in fitting a IR^2 -> IR
function. This is why i can't use lowess. (I guess
I shouldn't anyway - BTW, in a "lowess vs. loess"
mail Martin Maechler mentioned the robustness
properties of lowess ("huberizing"). Is lowess
more robust than loess with family=symmetric?.)

I will try to implement this in R-language,
in order to see, whether it works or not.

I hope to hear some opinion or recommendation.

Thanks in advance

maciej




Maciej Hoffman-Wecker
EVOTEC OAI
Screening Operations/Discovery Informatics
Schnackenburgallee 114
D-22525 Hamburg
Germany

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Feb 19 17:39:03 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 19 Feb 2002 08:39:03 -0800 (PST)
Subject: [R] error in read.table on Mac OS 10 ... request for help
In-Reply-To: <Pine.LNX.4.30.0202190925360.31519-100000@bolker.zoo.ufl.edu>
Message-ID: <Pine.A41.4.44.0202190838080.28956-100000@homer32.u.washington.edu>

On Tue, 19 Feb 2002, Ben Bolker wrote:

>
>   I haven't seen any answers to this, so I'll try to provide some other
> things to try (although I don't really know what's going on).
>

I sent an answer privately.  The issue is that the Carbon version of R
uses the Mac path separator ":" rather than the Unix/Windows "/".

	-thomas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Tue Feb 19 17:45:29 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 19 Feb 2002 08:45:29 -0800 (PST)
Subject: [R] Rank of Matrix
In-Reply-To: <MABBJPBLPNLDIFMIAAOJOEPECDAA.indra_calisto@yahoo.com>
Message-ID: <Pine.A41.4.44.0202190839380.28956-100000@homer32.u.washington.edu>

On Tue, 19 Feb 2002, Indrajit SenGupta wrote:

> Hello everybody,
> I think my question has been asked before but I am posing it once again
> since I need it. Is there any way to find the rank of a matrix in R or
> Splus?

yes, it has been asked quite recently.

You can use either qr(), there's an example in help(qr) or use svd() and
count the number of non-zero singular values. Deciding the right tolerance
for counting a singular value as zero is not trivial -- any matrix is
arbitrarily close to full rank matrices in almost any reasonable metric.

	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.janmaat at acadiau.ca  Tue Feb 19 17:53:25 2002
From: john.janmaat at acadiau.ca (John Janmaat)
Date: Tue, 19 Feb 2002 12:53:25 -0400
Subject: [R] Constrained optimisation
Message-ID: <3C728305.2050909@acadiau.ca>

Hello,

I need to solve a non-linear optimization with non-linear constraints. 
The 'nlm' routine does not seem to allow constraints.  Is there a 
package for solving such problems in R?

Thanks,

John.
-- 
==========================================
John Janmaat
Department of Economics
Acadia University, Wolfville, NS, B0P 1X0
(902)585-1461

All opinions stated are personal, unless
otherwise indicated.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From snw at mcs.st-and.ac.uk  Tue Feb 19 18:52:50 2002
From: snw at mcs.st-and.ac.uk (Simon Wood)
Date: Tue, 19 Feb 2002 17:52:50 +0000 (GMT)
Subject: [R] Rank of Matrix
In-Reply-To: <MABBJPBLPNLDIFMIAAOJOEPECDAA.indra_calisto@yahoo.com>
Message-ID: <Pine.GSO.4.21.0202191751130.26762-100000@dolphin>

> I think my question has been asked before but I am posing it once again
> since I need it. Is there any way to find the rank of a matrix in R or
> Splus?
Use svd() to get the singular values and count up how many are greater
than the machine precision multiplied by the largest singular value. 
Simon
  ______________________________________________________________________
> Simon Wood  snw at st-and.ac.uk  http://www.ruwpa.st-and.ac.uk/simon.html
> The Mathematical Institute, North Haugh, St. Andrews, Fife KY16 9SS UK
> Direct telephone: (0)1334 463799          Indirect fax: (0)1334 463748 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From brahm at alum.mit.edu  Tue Feb 19 19:35:19 2002
From: brahm at alum.mit.edu (David Brahm)
Date: Tue, 19 Feb 2002 13:35:19 -0500
Subject: [R] Little graph questions!
In-Reply-To: <77546400@toto.iv>
Message-ID: <15474.39655.494305.225373@gargle.gargle.HOWL>

Paul Johnson <pauljohn at ku.edu> wrote:
> I have had trouble positioning text in figures.  Because I don't know what
> the plotted values will be until the model is run, it is hard to write
> coordinates for text(x,y,""). I frequently wish there were a way to say "top
> left part of graph"...

As several people have replied, you need par("usr").  Here's a simple function
that does it for you.  You pass "absolute" coordinates xa and ya in the range
[0,1], and it returns the user coordinates you need for "text", "legend", etc.:
-------------------------------------------------------------------------------
g.coord <- function(xa, ya, u=par("usr")) {
  z <- list(x=u[1]+xa*(u[2]-u[1]),  y=u[3]+ya*(u[4]-u[3]))
  if (par("xlog")) z$x <- 10^z$x;  if (par("ylog")) z$y <- 10^z$y
  z
}
-------------------------------------------------------------------------------

To put text near the top left (but 2% in from the edges), type:
  R> text(g.coord(.02,.98), "Hello", adj=c(0,1))

One subtlety: text() somehow recognizes that its first argument is a list(x,y),
and its second argument is therefore the "labels" to print.  However, this
recognition fails if you use plotmath.  So this doesn't work:
  R> text(g.coord(.02, .98), quote(x==5), adj=c(0,1))    # Fails
but the solution is simple: you just need to name the "labels" argument:
  R> text(g.coord(.02, .98), l=quote(x==5), adj=c(0,1))  # OK
(Note that's the letter "l", short for "labels".)
-- 
                              -- David Brahm (brahm at alum.mit.edu)
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Feb 19 19:48:40 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Tue, 19 Feb 2002 13:48:40 -0500 (EST)
Subject: [R] Constrained optimisation
In-Reply-To: <3C728305.2050909@acadiau.ca>
Message-ID: <Pine.LNX.4.30.0202191348080.3963-100000@bolker.zoo.ufl.edu>


  optim() allows box constraints, but that's all.

On Tue, 19 Feb 2002, John Janmaat wrote:

> Hello,
>
> I need to solve a non-linear optimization with non-linear constraints.
> The 'nlm' routine does not seem to allow constraints.  Is there a
> package for solving such problems in R?
>
> Thanks,
>
> John.
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Liu.Chunhua at epamail.epa.gov  Tue Feb 19 19:46:54 2002
From: Liu.Chunhua at epamail.epa.gov (Liu.Chunhua@epamail.epa.gov)
Date: Tue, 19 Feb 2002 13:46:54 -0500
Subject: [R] cdf of the standard normal distribution
Message-ID: <OFC6B6DD3F.CCE012EF-ON85256B65.0066837D@rtp.epa.gov>

Dear Experts,

I need to calculate the cdf of the standard normal distribution, i.e.
H(x) = 1/sqrt(2*pi) integral(exp(-z^2/2) dz), where z is b/w -infi to
infi.
I know there should be a way to do it in R, but did not know to do it.
I'd appreciate any help you could offer.

Charlie Liu
Graduate student intern at EPA/ECO


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Tue Feb 19 20:13:43 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Tue, 19 Feb 2002 11:13:43 -0800 (PST)
Subject: [R] cdf of the standard normal distribution
In-Reply-To: <OFC6B6DD3F.CCE012EF-ON85256B65.0066837D@rtp.epa.gov>
Message-ID: <Pine.GSO.4.10.10202191113220.26778-100000@fisher.stat.ucla.edu>

Use the pnorm() function.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Tue, 19 Feb 2002, Liu.Chunhua at epamail.epa.gov wrote:

> Dear Experts,
> 
> I need to calculate the cdf of the standard normal distribution, i.e.
> H(x) = 1/sqrt(2*pi) integral(exp(-z^2/2) dz), where z is b/w -infi to
> infi.
> I know there should be a way to do it in R, but did not know to do it.
> I'd appreciate any help you could offer.
> 
> Charlie Liu
> Graduate student intern at EPA/ECO
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Liu.Chunhua at epamail.epa.gov  Tue Feb 19 20:28:20 2002
From: Liu.Chunhua at epamail.epa.gov (Liu.Chunhua@epamail.epa.gov)
Date: Tue, 19 Feb 2002 14:28:20 -0500
Subject: [R] cdf of the standard normal distribution
Message-ID: <OFD5DD3397.942C77A8-ON85256B65.006AB62E@rtp.epa.gov>


Never mind. I have figured out a way to do it.
Here it is:

  if (fits$link == "probit") {
     pct0 <- integrate(dnorm, -Inf, a)
        pct0 <- pct0[[1]]}

THanks any way for your answers.

Charlie Liu




                                                                                                                   
                    Roger Peng                                                                                     
                    <rpeng at stat.u        To:     Chunhua Liu/RTP/USEPA/US at EPA                                      
                    cla.edu>             cc:     "r-help at stat.math.ethz.ch" <r-help at stat.math.ethz.ch>, Jeff       
                                         Gift/RTP/USEPA/US at EPA                                                     
                    02/19/02             Subject:     Re: [R] cdf of the standard normal distribution              
                    02:13 PM                                                                                       
                                                                                                                   
                                                                                                                   




Use the pnorm() function.

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

On Tue, 19 Feb 2002, Liu.Chunhua at epamail.epa.gov wrote:

> Dear Experts,
>
> I need to calculate the cdf of the standard normal distribution, i.e.
> H(x) = 1/sqrt(2*pi) integral(exp(-z^2/2) dz), where z is b/w -infi to
> infi.
> I know there should be a way to do it in R, but did not know to do it.
> I'd appreciate any help you could offer.
>
> Charlie Liu
> Graduate student intern at EPA/ECO
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To:
r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._._._._
>





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Tomas.Aragon at sfdph.org  Tue Feb 19 23:03:41 2002
From: Tomas.Aragon at sfdph.org (Tomas Aragon)
Date: Tue, 19 Feb 2002 14:03:41 -0800
Subject: [R] exact confidence intervals for conditional logistic regression
Message-ID: <OF45520F6F.FCC1B961-ON88256B65.0078B21C@sfgov.org>

Dear R folks,
We completed a matched case-control study that was analyzed using
conditional logistic regression. Because of the small sample size we need
to calculate exact confidence intervals. The quick solution is to purchase
LogExact by Cytel. However, we'd like to do this in R. Anyone have
experience with this?

Many thanks,
Tomas
____________________________________
Tomas Aragon, MD, DrPH, Director
Com Health Epidemiology & Disease Control
San Francisco Department of Public Health
Tel: (415) 554-2724, Fax: (415) 554-2848
Pgr: (415) 809-7837, Mob: (415) 706-5203
Email: tomas.aragon at sfdph.org
URL: http://www.medepi.org/aragon

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From BOYDJ at mail.rx.uga.edu  Wed Feb 20 00:22:45 2002
From: BOYDJ at mail.rx.uga.edu (Jason Boyd)
Date: Tue, 19 Feb 2002 23:22:45 GMT
Subject: [R] Summary re: read.table on Mac OS 10 
Message-ID: <1014160965.425BOYDJ@mail.rx.uga.edu>

Thanks to all who responded.  Not all of the advice 
helped me with that particular problem, but, I have 
learned a lot just from your answers.  

1.  R for Mac 10 (Carbon version) uses the Mac 
convention of using ":" for the usual Unix "/" and thanks 
to Dr. Lumley for that since I'm new to R, Mac10, Macs 
in general, and Unix.
2.  Interestingly, Dr. Ripley suggested to me not to use 
spaces in the path as R wouldn't be able to read them.  
I've found that on my Mac, spaces often come as 
default in file names.  As long as I use the ":" (see 1) I 
can also use a space.  I'm not sure of the Darwin/
Xwinows version of R.  Looks like another Mac 
convention though.
3.  The problem is partially solved:  I never was able to 
read the data set I made with Mac's TextEdit.  But, on 
entering the data at R's runtime window, I was able to 
write.table to an external file, shut down R and/or the 
computer, and come back later to read.table ... no 
problem.  Perhaps TextEdit throws some extra code in, 
not sure <although I did save the data as simple text 
and fixed width format, really the only two options I 
could manipulate in TextEdit>  I'll try Mac SimpleText (a 
Developer Tool) and emacs to see what happens with 
them.
4.  Having fun with R!

Thanks again for the help, if things with the text editors 
and read.table change I'll post my findings.

Cheers,
Jason Boyd
graduate student
University of Georgia
College of Pharmacy

600 MHz 128 Mb iBook Mac OS 10.1, Fink & DevTools
Carbonized R1.4.0

***original message follows***
-------------- next part --------------
An embedded message was scrubbed...
From: Ben Bolker <ben at zoo.ufl.edu>
Subject: Re: [R] error in read.table on Mac OS 10 ... request for help
Date: Tue, 19 Feb 2002 09:28:37 -0500 (EST)
Size: 3890
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20020219/fa4326d6/attachment.mht

From vito.muggeo at giustizia.it  Wed Feb 20 09:29:23 2002
From: vito.muggeo at giustizia.it (vito muggeo)
Date: Wed, 20 Feb 2002 09:29:23 +0100
Subject: [R] exact confidence intervals for conditional logistic regression
References: <OF45520F6F.FCC1B961-ON88256B65.0078B21C@sfgov.org>
Message-ID: <005701c1b9e8$c0f4bb60$5c13070a@it.giustizia.it>

Hi,
I *suppose* that exact logistic regression is not (yet?!!?) implemented in
any R software, because it should be very hard to calculate the
permutational distribution;
Possible alternative (beside buying LogXact) are using MCMC methods (maybe
using (Win)BUGS, but I am not able to tell you anything more) or using
double saddlepoint approximation to approximate the *univariate* conditional
distribution: the S-Plus glm.cond() by A.Brazzale does this (I don't whether
it works in R, too). However  recent papers by Corcoran et al. (Stat in Med,
2001, pg. 2723) shows that this approach, sometimes produces unreliable
results.
Hope that this helps you,
vito

Please let me know if you know something more about computational aspects



----- Original Message -----
From: "Tomas Aragon" <Tomas.Aragon at sfdph.org>
To: <r-help at stat.math.ethz.ch>
Cc: <wayne.enanoria at sfdph.org>
Sent: Tuesday, February 19, 2002 11:03 PM
Subject: [R] exact confidence intervals for conditional logistic regression


> Dear R folks,
> We completed a matched case-control study that was analyzed using
> conditional logistic regression. Because of the small sample size we need
> to calculate exact confidence intervals. The quick solution is to purchase
> LogExact by Cytel. However, we'd like to do this in R. Anyone have
> experience with this?
>
> Many thanks,
> Tomas
> ____________________________________
> Tomas Aragon, MD, DrPH, Director
> Com Health Epidemiology & Disease Control
> San Francisco Department of Public Health
> Tel: (415) 554-2724, Fax: (415) 554-2848
> Pgr: (415) 809-7837, Mob: (415) 706-5203
> Email: tomas.aragon at sfdph.org
> URL: http://www.medepi.org/aragon
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From siim at obs.ee  Wed Feb 20 10:36:17 2002
From: siim at obs.ee (Ott Toomet)
Date: Wed, 20 Feb 2002 10:36:17 +0100 (CET)
Subject: [R] Smoothed lines over barplots
In-Reply-To: <Pine.LNX.4.21L1.0202191128530.17774-100000@nujoma.perrins>
Message-ID: <Pine.LNX.4.33.0202201024440.9422-100000@localhost.localdomain>

Hi,

On Tue, 19 Feb 2002, Andrew Perrin wrote:

.Greetings.
.
I'd like to generate a graph that displays two distributions as
.side-by-side bar graphs, then plots a smoothed line of the distribution on
.top. The idea is to be able to visually compare the distributions.
.
.I've done the following, but the axes don't line up. Any suggestions?
.
.barplot(table(hcd.df$datecat, hcd.df$auth.sum), beside=TRUE,
.  legend.text=c('Pre-9/11','Post-9/11'),main='Authoritarian Sum',
.  sub='Chi-Square: 33.88; p< .01',col=c('yellow','red'))
.par(new=TRUE)
.plot(table(hcd.df$auth.sum[hcd.df$datecat==1]), type='l',xlim=c(-8,7),
.  ylim=c(0,59),col='yellow')
.par(new=TRUE)
.plot(table(hcd.df$auth.sum[hcd.df$datecat==2]), type='l',
.  col='red',xlim=c(-8,7), ylim=c(0,59))
.

The minor problem is that you use par(new=TRUE) on plot() instead of
lines().  lines() automatically keeps the old figure (including definition
of axes).

The major problem is that when ploting as you do: plot(table(..),...) the
plot is assuming the x-coordinates are 1,2,3,.... This is not what is done
by barplot.  Barplot() calculates its own x-values which do not correspond
to the labels.  Luckily you can get its values quite easily.  Simply write

bp <- barplot(..., beside=T)

and bp is a matrix where you have the means of x-coordinates of the bars.
So you can do somthing like

datecat <- rbinom(100,1,0.5)
auth.sum <- rbinom(100,10,0.5)
bp <- barplot(table(datecat, auth.sum), beside=TRUE,col=c('yellow','red'))
mean.bp <- apply(bp,2,mean)
lines(mean.bp,table(auth.sum,datecat)[,1], col="yellow")
lines(mean.bp,table(auth.sum,datecat)[,2], col="red")

Note that it is safer to use table(...)[,1] instead of table(...[..==1]) --
you get value 0 instead with in the first way but one datapoint less with
the second way.

In fact it was no smoothing here.

Cheers,

Ott Toomet

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cardot at toulouse.inra.fr  Wed Feb 20 13:26:30 2002
From: cardot at toulouse.inra.fr (Herve Cardot)
Date: Wed, 20 Feb 2002 13:26:30 +0100
Subject: [R] importing images
Message-ID: <3C7395F6.87C3498C@toulouse.inra.fr>


I would like to import "tif" images in R and I do not find any
function that can do that. In Matlab there exists the  function "imread"

that can read the most known images format. Does a similar function
exist for R ?



Thanks in advance

--
Herve CARDOT
____________________________________________________________
Unite Biometrie et Intelligence Artificielle, INRA Toulouse
BP 27,  31326 Castanet-Tolosan cedex, France.
Tel: (+33)5.61.28.50.64 mailto:Herve.Cardot at toulouse.inra.fr
Page Equipe: http://www.inra.fr/bia/T/modelisation/Doc/
Page Perso:  http://www.inra.fr/bia/T/cardot/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Roger.Bivand at nhh.no  Wed Feb 20 14:04:10 2002
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Wed, 20 Feb 2002 14:04:10 +0100 (CET)
Subject: [R] importing images
In-Reply-To: <3C7395F6.87C3498C@toulouse.inra.fr>
Message-ID: <Pine.LNX.4.21.0202201357580.9773-100000@reclus.nhh.no>

On Wed, 20 Feb 2002, Herve Cardot wrote:

> 
> I would like to import "tif" images in R and I do not find any
> function that can do that. In Matlab there exists the  function "imread"
> 
> that can read the most known images format. Does a similar function
> exist for R ?
> 

If you can convert your image to a portable anymap, then read.pnm() in the
pixmap package should do this. On Linux/Unix the NetPBM program tifftopnm
does the conversion, ImageMagick convert does it, and many bitmap graphics
applications will too.

Roger


> --
> Herve CARDOT
> ____________________________________________________________
> Unite Biometrie et Intelligence Artificielle, INRA Toulouse
> BP 27,  31326 Castanet-Tolosan cedex, France.
> Tel: (+33)5.61.28.50.64 mailto:Herve.Cardot at toulouse.inra.fr
> Page Equipe: http://www.inra.fr/bia/T/modelisation/Doc/
> Page Perso:  http://www.inra.fr/bia/T/cardot/
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Wed Feb 20 14:15:12 2002
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich.Leisch@ci.tuwien.ac.at)
Date: Wed, 20 Feb 2002 14:15:12 +0100
Subject: [R] importing images
In-Reply-To: <3C7395F6.87C3498C@toulouse.inra.fr>
References: <3C7395F6.87C3498C@toulouse.inra.fr>
Message-ID: <15475.41312.359567.912954@galadriel.ci.tuwien.ac.at>

>>>>> On Wed, 20 Feb 2002 13:26:30 +0100,
>>>>> Herve Cardot (HC) wrote:

  > I would like to import "tif" images in R and I do not find any
  > function that can do that. In Matlab there exists the  function "imread"

  > that can read the most known images format. Does a similar function
  > exist for R ?

No, but you can convert the picture to pnm format and then read it
using the pixmap package. You're more than welcome to submit TIF
read/write routines if you want to avoid the conversion :-)

Best,
Fritz
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Wed Feb 20 14:42:39 2002
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Wed, 20 Feb 2002 14:42:39 +0100 (CET)
Subject: [R] Pointer to covariates?
In-Reply-To: <3C7395F6.87C3498C@toulouse.inra.fr>
Message-ID: <Pine.LNX.4.44.0202201423120.31332-100000@tal.stat.umu.se>

I have a dataframe 'dat' with one response and some covariates. Many 
observations  (rows), but only a few unique combinations of 
the covariates. Let's say that the response is in column 1, and 
the covariates in columns 2:k.

I want to do 

> covar <- unique.data.frame(dat[, 2:k])
> y <- dat[, 1]
> keys <- ??????

where 'keys' should be a vector of length length(y) and contain the
row numbers in 'covar', where the response will find its covariates.

Example:

> dat
  y x1 x2
1 1  1  0
2 2  0  1
3 3  1  0

> unique.data.frame(dat[, 2:3])
  x1 x2
1  1  0
2  0  1

> keys
1  1
2  2
3  1

But how do I get 'keys'?
-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thompson at wadsworth.org  Wed Feb 20 15:27:02 2002
From: thompson at wadsworth.org (William Thompson)
Date: Wed, 20 Feb 2002 09:27:02 -0500 (EST)
Subject: [R] Changing R_HOME
Message-ID: <200202201427.JAA02021@newton.wadsworth.org>

I'm trying to run multiple simulations using R on a cluster of pentiums running 
Solaris X86 by batching the R routines and simultaneously farming them out to 
the cluster nodes. This works fine on some of the machines, but on others the 
directory structure is mapped differently, so that when I try to run R, it can't 
be found, I can get around this by running /net/mp1/space/local/bin/R which gets 
me to R binary, but then I get the message: R_HOME (`/usr/local/lib/R') not 
found. I tried setting the environment variable R_HOME to the proper library 
location but then I get the message: 
WARNING: ignoring environment value of R_HOME
R_HOME (`/usr/local/lib/R') not found

I know the solution is to get the directory structure remapped, but that's not 
going to happen soon because the sysadmin is out of town and he may have good 
reasons for doing things the way he did. Is there some way to tell R to look 
somewhere other than the default location for its libraries on startup? Any 
clues or pointers would be appreciated.

Thanks
Bill

Bill Thompson, PhD
Computer Scientist
Wadsworth Center
NY State Dept of Health
ESP C-644
P.O. Box 509
Albany, NY  12201-0509
phone: (518) 486-7882


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From WatkinsJ at orau.gov  Wed Feb 20 16:27:58 2002
From: WatkinsJ at orau.gov (Watkins, Janice)
Date: Wed, 20 Feb 2002 10:27:58 -0500
Subject: [R] using GUI
Message-ID: <5F1F573BE938D411836100805FD6593D1B8336@neon.orau.gov>



	A few days ago I loaded R version 1.4.1 to run on Windows 98 and
haven't been able to find information on the GUI approach in the FAQs, R
Reference Index, or Search Engine .  Edit has an item that allows changing
GUI preferences, and the Target path in the icon ends in Rgui.exe, so it
appears that R for Windows does include using the GUI approach.  

	In S-Plus I wrote a application with guiCreate to add menu items
that used dialog boxes to feed parameters to analysis functions.  Also, I
sometimes use the graphics toolbar item in S-Plus to create graphs.  Is it
possible to do these things in R?  If so, would someone please point me to
the appropriate area of documentation.

	By the way, using the "Keywords by Topic" section of the Search
Engine works fine for all items that I've tried except when clicking on
dynamic under Graphics.  That gave the message "No matches for "dynamic"
found.""

	Thanks for your help.

	Janice Watkins   


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thompson at wadsworth.org  Wed Feb 20 16:27:52 2002
From: thompson at wadsworth.org (William Thompson)
Date: Wed, 20 Feb 2002 10:27:52 -0500 (EST)
Subject: [R] Changing R_HOME
Message-ID: <200202201527.KAA18823@newton.wadsworth.org>

Wow! Is the response always that fast around here? Thanks to Prof. Ripley. 
Creating a local copy of the R script with the correct R_HOME_DIR path set along 
with changing the LD_LIBRARY_PATH environment variable to point to the library 
locations that R.bin needs does the trick.

Thanks again,
Bill

> Date: Wed, 20 Feb 2002 14:51:30 +0000 (GMT)
> From: Prof Brian D Ripley <ripley at stats.ox.ac.uk>
> To: William Thompson <thompson at wadsworth.org>
> Subject: Re: [R] Changing R_HOME
> MIME-Version: 1.0
> 
> On Wed, 20 Feb 2002, William Thompson wrote:
> 
> > I'm trying to run multiple simulations using R on a cluster of pentiums 
running
> > Solaris X86 by batching the R routines and simultaneously farming them out 
to
> > the cluster nodes. This works fine on some of the machines, but on others 
the
> > directory structure is mapped differently, so that when I try to run R, it 
can't
> > be found, I can get around this by running /net/mp1/space/local/bin/R which 
gets
> > me to R binary, but then I get the message: R_HOME (`/usr/local/lib/R') not
> > found. I tried setting the environment variable R_HOME to the proper library
> > location but then I get the message:
> > WARNING: ignoring environment value of R_HOME
> > R_HOME (`/usr/local/lib/R') not found
> >
> > I know the solution is to get the directory structure remapped, but that's 
not
> > going to happen soon because the sysadmin is out of town and he may have 
good
> > reasons for doing things the way he did. Is there some way to tell R to look
> > somewhere other than the default location for its libraries on startup? Any
> > clues or pointers would be appreciated.
> 
> Use a customized version of the script /usr/local/lib/R/bin/R with 
LD_LIBRARY_PATH
> set appropriately.
> 
> >
> > Thanks
> > Bill
> >
> > Bill Thompson, PhD
> > Computer Scientist
> > Wadsworth Center
> > NY State Dept of Health
> > ESP C-644
> > P.O. Box 509
> > Albany, NY  12201-0509
> > phone: (518) 486-7882
> >
> >
> > 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > 
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dwartel at ulb.ac.be  Wed Feb 20 17:37:27 2002
From: dwartel at ulb.ac.be (David Wartel)
Date: Wed, 20 Feb 2002 16:37:27 +0000
Subject: [R] Clustering and Calinski's index
Message-ID: <200202201538.QAA18505@mach.vub.ac.be>


I have to solve a clustering problem.
My first step is to determinate the number of clusters, that's why I 'm using 
the Calinski index ( [tr(b)/(k-1)]/[tr(w)/(k-1)] )  which i try to maximize  
to have the best number of clusters.
A function is already implemented in R to calculate this index :

clustIndex(cl,x, index="calinski")

where cl is the result of a clustering method , for instance:

cclust(x,k,itermax,verbose=TRUE,method="kmeans")

My probleme is that I can't calculate the Calinski's index when a cluster 
contains only one datapoint :

Error in cov(x[cluster == l, ]) : supply both x and y or a matrix-like x


Is there a way to solve this?

thanx for your help,

David

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Feb 20 17:01:28 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 20 Feb 2002 16:01:28 +0000 (GMT)
Subject: [R] using GUI
In-Reply-To: <5F1F573BE938D411836100805FD6593D1B8336@neon.orau.gov>
Message-ID: <Pine.LNX.4.31.0202201547010.21487-100000@gannet.stats>

On Wed, 20 Feb 2002, Watkins, Janice wrote:

> 	A few days ago I loaded R version 1.4.1 to run on Windows 98 and
> haven't been able to find information on the GUI approach in the FAQs, R
> Reference Index, or Search Engine .  Edit has an item that allows changing
> GUI preferences, and the Target path in the icon ends in Rgui.exe, so it
> appears that R for Windows does include using the GUI approach.

Yes, and you *are *using an interface with menus and a toolbar and you can
select things with the mouse ...  In short, a Graphical User Interface,
albeit a simple one.  It contrasts with Rterm, in Windows' parlance a
console application (a pure-text interface).

> 	In S-Plus I wrote a application with guiCreate to add menu items
> that used dialog boxes to feed parameters to analysis functions.  Also, I
> sometimes use the graphics toolbar item in S-Plus to create graphs.  Is it
> possible to do these things in R?  If so, would someone please point me to
> the appropriate area of documentation.

R is not a clone of S-PLUS, and does not have a user-programmable GUI
under Windows.  There are ways to program interfaces, but none as easy to
program as the Axum-based front-end of S-PLUS for Windows. Look at the
tcltk package and its demos for the simplest approach.

If you want the features of S-PLUS, please use it.

> 	By the way, using the "Keywords by Topic" section of the Search
> Engine works fine for all items that I've tried except when clicking on
> dynamic under Graphics.  That gave the message "No matches for "dynamic"
> found.""

Correct. There is currently no dynamic graphics in R.  If you install
package xgobi from CRAN it will show some results (but do read all its
prerequisites carefully).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Feb 20 17:06:10 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 20 Feb 2002 16:06:10 +0000 (GMT)
Subject: [R] Clustering and Calinski's index
In-Reply-To: <200202201538.QAA18505@mach.vub.ac.be>
Message-ID: <Pine.LNX.4.31.0202201602240.21487-100000@gannet.stats>

On Wed, 20 Feb 2002, David Wartel wrote:

>
> I have to solve a clustering problem.
> My first step is to determinate the number of clusters, that's why I 'm using
> the Calinski index ( [tr(b)/(k-1)]/[tr(w)/(k-1)] )  which i try to maximize
> to have the best number of clusters.
> A function is already implemented in R to calculate this index :
>
> clustIndex(cl,x, index="calinski")

Where is that from? It's not part of R -- package cclust, perhaps?

> where cl is the result of a clustering method , for instance:
>
> cclust(x,k,itermax,verbose=TRUE,method="kmeans")
>
> My probleme is that I can't calculate the Calinski's index when a cluster
> contains only one datapoint :
>
> Error in cov(x[cluster == l, ]) : supply both x and y or a matrix-like x

The programmer forgot drop=FALSE, it would seem.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Wed Feb 20 17:49:46 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Wed, 20 Feb 2002 17:49:46 +0100 (MET)
Subject: [R] How to get the penalized log likelihood from smooth.spline()?
Message-ID: <Pine.GSO.4.10.10202201503260.22058-100000@speed.maths.lth.se>

I use smooth.spline(x, y) in package modreg and I would like to get
value of penalized log likelihood and preferable also its two parts. To
make clear what I am asking for (and make sure that I am asking for the
right thing) I clarify my problem trying to use the same notation as in
help(smooth.spline):

I want to find the natural cubic spline f(x) such that

   L(f) = \sum_{k=1}{n} w[k](y[k] - f(x[k])^2 + \lambda J(f)

is minimized, where J(f) := \int f''(t)^2 dt is the quadratic roughness
functional use. Since J(f) is quadratic one can find a matrix \Sigma such
that J(g) = c^T{\Sigma}c where c is the vector of spline coefficients.
With J(f) defined as above the elements of \Sigma becomes

  \Sigma_{ij} = \int \beta_i''(t)\beta_j''(t) dt

where \beta(t) is the vector of B-spline base functions. Finally, writing
the matrix W as W := diag(\sqrt{w}) one can write L(f) as

  L(f) = (y - f)^T W^2 (y - f) + \lambda c^T{\Sigma}c

which is the form used in help(smooth.spline). So back to my question,
using smooth.spline(), how can I get 

  1) the value of L(f(x)) for a my fitted (x,y) data,
  2) the value of roughness penalty c^T{\Sigma}c,
  3) the value of (y - f)^T W^2 (y - f)?

Does smooth.spline() return any of these directly or indirectly?

Thanks

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences 
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e
http://www.maths.lth.se/bioinformatics/





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Wed Feb 20 18:16:18 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Wed, 20 Feb 2002 12:16:18 -0500
Subject: [R] why does ctrl-c kick me out of R?
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC85CD@usrymx10.merck.com>

Dear R-help,

The subject pretty much says it all.  It's on Mandrake Linux 7.1, dual P-3.
R-1.4.1 compiled from source, linked again Intel MKL.  Any hint is much
appreciated!!

Andy


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Wed Feb 20 19:31:15 2002
From: chong at stat.purdue.edu (Chong Gu)
Date: Wed, 20 Feb 2002 13:31:15 -0500
Subject: [R] How to get the penalized log likelihood from smooth.spline()?
In-Reply-To: <Pine.GSO.4.10.10202201503260.22058-100000@speed.maths.lth.se>
	(message from Henrik Bengtsson on Wed, 20 Feb 2002 17:49:46 +0100
	(MET))
Message-ID: <200202201831.NAA29178@odds.stat.purdue.edu>


   Date: Wed, 20 Feb 2002 17:49:46 +0100 (MET)
   From: Henrik Bengtsson <hb at maths.lth.se>
   MIME-Version: 1.0
   Content-Type: TEXT/PLAIN; charset=US-ASCII
   Sender: owner-r-help at stat.math.ethz.ch
   Precedence: SfS-bulk

   I use smooth.spline(x, y) in package modreg and I would like to get
   value of penalized log likelihood and preferable also its two parts. To
   make clear what I am asking for (and make sure that I am asking for the
   right thing) I clarify my problem trying to use the same notation as in
   help(smooth.spline):

   I want to find the natural cubic spline f(x) such that

      L(f) = \sum_{k=1}{n} w[k](y[k] - f(x[k])^2 + \lambda J(f)

   is minimized, where J(f) := \int f''(t)^2 dt is the quadratic roughness
   functional use. Since J(f) is quadratic one can find a matrix \Sigma such
   that J(g) = c^T{\Sigma}c where c is the vector of spline coefficients.
   With J(f) defined as above the elements of \Sigma becomes

     \Sigma_{ij} = \int \beta_i''(t)\beta_j''(t) dt

   where \beta(t) is the vector of B-spline base functions. Finally, writing
   the matrix W as W := diag(\sqrt{w}) one can write L(f) as

     L(f) = (y - f)^T W^2 (y - f) + \lambda c^T{\Sigma}c

   which is the form used in help(smooth.spline). So back to my question,
   using smooth.spline(), how can I get 

     1) the value of L(f(x)) for a my fitted (x,y) data,
     2) the value of roughness penalty c^T{\Sigma}c,
     3) the value of (y - f)^T W^2 (y - f)?

   Does smooth.spline() return any of these directly or indirectly?

   Thanks

   Henrik Bengtsson

   Dept. of Mathematical Statistics @ Centre for Mathematical Sciences 
   Lund Institute of Technology/Lund University, Sweden (+2h UTC)
   Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
   h b @ m a t h s . l t h . s e
   http://www.maths.lth.se/bioinformatics/


B-splines are NOT natural splines, technically.

You could use ssanova(y~x) in the gss package to calculate natural
cubic spline, but you have to use one of the automatic smoothing
parameter selection methods implemented.

The penalty (with the multiple lambda) is given in
summary(ssanova(y~x))$penalty, the residual sum of squares is in $rss.

Chong Gu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hachipma at icarus.math.uwaterloo.ca  Wed Feb 20 19:31:45 2002
From: hachipma at icarus.math.uwaterloo.ca (Hugh Chipman)
Date: Wed, 20 Feb 2002 13:31:45 -0500 (EST)
Subject: [R] plot.hclust: strange behaviour with "manufactured" hclust object
Message-ID: <200202201831.NAA03670@icarus.math.uwaterloo.ca>

I've been trying to get plot.hclust to work with a hclust object I
created and have not had much success.  It seems that there is some
"hidden" characteristic of a hclust object that I can't see.  This is
most easily seen in the following example, where plot.hclust works on
one object, but when this object is "dumped" and then re-read,
plot.hclust no longer works.  Is this a scoping problem?

Script started on Wed Feb 20 13:17:37 2002
1>@icarus[101]% R

R : Copyright 2002, The R Development Core Team
Version 1.4.1  (2002-01-30)

......(stuff deleted)

> set.seed(103)
> library(mva)
> x <- matrix(rnorm(5*2),ncol=2)
> x.hc <- hclust(dist(x),method='average')     
> plot.hclust(x.hc)
# the above works

> dump('x.hc')
> source('dumpdata.R')
> plot.hclust(x.hc)
Error in plot.hclust(x.hc) : invalid dendrogram input

One hypothesis I had was that it might be something like the "call"
object that wasn't correctly being re-created by the dump & source,
but that doesn't seem to be it.  Below, I remove everything except
merge, order, and height, and plot.hclust still works on the original
object and fails on the dump + source object.

> x.hc <- hclust(dist(x),method='average')
> x.hc$call <- NULL
> x.hc$dist.method <- NULL
> x.hc$method <- NULL
> x.hc$labels <- NULL
> plot.hclust(x.hc)
> dump('x.hc')
> source('dumpdata.R')
> plot.hclust(x.hc)
Error in plot.hclust(x.hc) : invalid dendrogram input
> 
> str(x.hc)
List of 3
 $ merge : num [1:4, 1:2] -2 -5 -1 -4 -3 1 2 3
 $ height: num [1:4] 0.873 1.257 1.633 2.430
 $ order : num [1:5] 4 1 5 2 3
 - attr(*, "class")= chr "hclust"

Any help would be greatly appreciated!

Hugh Chipman

-- 
-- Hugh Chipman -- Associate Professor, Statistics & Actuarial Science --
-- University of Waterloo, Ontario, Canada                             --
--                                                                     --
-- Visiting Stanford Statistics Department, January-March 2002         --
-- (650) 725 6148                                   Fax (650) 725-8977 --
-- Department of Statistics, Sequoia Hall, 390 Serra Mall              --
-- Stanford University, Stanford, CA 94305-4065                        --
-- http://www.stats.uwaterloo.ca/~hachipma/     hachipman at uwaterloo.ca --
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sdfrost at ucsd.edu  Wed Feb 20 19:34:42 2002
From: sdfrost at ucsd.edu (Simon Frost)
Date: Wed, 20 Feb 2002 10:34:42 -0800
Subject: [R] Code for bivariate Poisson regression?
Message-ID: <5.1.0.14.0.20020220103317.02adc358@popmail.ucsd.edu>

Dear RHelpers,

Does anyone know of any R code to perform bivariate Poisson regression 
(including random effects)?

Best wishes
Simon

Simon D.W. Frost, M.A., D.Phil.
Department of Pathology
University of California, San Diego
Antiviral Research Center
(Formerly: UCSD Treatment Center)
150 W. Washington St., Suite 100
San Diego, CA 92103
USA

Tel: +1 619 543 8080 x275
Fax: +1 619 298 0177
Email: sdfrost at ucsd.edu
Work W3: http://www.avrctrials.org
Personal W3: http://www.simonfrost.com



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From linyo at UMDNJ.EDU  Wed Feb 20 19:50:50 2002
From: linyo at UMDNJ.EDU (Yong Lin)
Date: Wed, 20 Feb 2002 13:50:50 -0500
Subject: [R] help is needed for R version 4.1 installtion
Message-ID: <3C73F009.B365D81A@umdnj.edu>

Dear all,

I tried to compile R version 4.1 under Solaris 8 in Sun Ultra 80 and did
not succeed. The following is the error message I got.  Any helps would
be appreciated. Thank you very much in advance.

saveload.c:266: #error code requires that int have 32 bits
.....
gcc -I. -I../../src/include -I../../src/include -I/usr/local/include
-DHAVE_CONFIG_H   -g -O2 -c arithmetic.c -o arithmetic.o
arithmetic.c:672: #error code requires that int have 32 bits
make[3]: *** [arithmetic.o] Error 1
make[3]: Leaving directory `/export/home/linyo/ftp/r/R-1.4.0/src/main'
make[2]: *** [R] Error 2
make[2]: Leaving directory `/export/home/linyo/ftp/r/R-1.4.0/src/main'
make[1]: *** [R] Error 1
make[1]: Leaving directory `/export/home/linyo/ftp/r/R-1.4.0/src'
make: *** [R] Error 1



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Wed Feb 20 20:19:22 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Wed, 20 Feb 2002 14:19:22 -0500
Subject: [R] plot.hclust: strange behaviour with "manufactured"
 hclust object
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC85D1@usrymx10.merck.com>

The problem seems to be that the original merge component is stored as int,
but the source()'d version is not.  Coercing that to int I think works.

Cheers,
Andy

> -----Original Message-----
> From: Hugh Chipman [mailto:hachipma at icarus.math.uwaterloo.ca]
> Sent: Wednesday, February 20, 2002 1:32 PM
> To: r-help at stat.math.ethz.ch
> Cc: hachipma at icarus.math.uwaterloo.ca
> Subject: [R] plot.hclust: strange behaviour with "manufactured" hclust
> object
> 
> 
> I've been trying to get plot.hclust to work with a hclust object I
> created and have not had much success.  It seems that there is some
> "hidden" characteristic of a hclust object that I can't see.  This is
> most easily seen in the following example, where plot.hclust works on
> one object, but when this object is "dumped" and then re-read,
> plot.hclust no longer works.  Is this a scoping problem?
> 
> Script started on Wed Feb 20 13:17:37 2002
> 1>@icarus[101]% R
> 
> R : Copyright 2002, The R Development Core Team
> Version 1.4.1  (2002-01-30)
> 
> ......(stuff deleted)
> 
> > set.seed(103)
> > library(mva)
> > x <- matrix(rnorm(5*2),ncol=2)
> > x.hc <- hclust(dist(x),method='average')     
> > plot.hclust(x.hc)
> # the above works
> 
> > dump('x.hc')
> > source('dumpdata.R')
> > plot.hclust(x.hc)
> Error in plot.hclust(x.hc) : invalid dendrogram input
> 
> One hypothesis I had was that it might be something like the "call"
> object that wasn't correctly being re-created by the dump & source,
> but that doesn't seem to be it.  Below, I remove everything except
> merge, order, and height, and plot.hclust still works on the original
> object and fails on the dump + source object.
> 
> > x.hc <- hclust(dist(x),method='average')
> > x.hc$call <- NULL
> > x.hc$dist.method <- NULL
> > x.hc$method <- NULL
> > x.hc$labels <- NULL
> > plot.hclust(x.hc)
> > dump('x.hc')
> > source('dumpdata.R')
> > plot.hclust(x.hc)
> Error in plot.hclust(x.hc) : invalid dendrogram input
> > 
> > str(x.hc)
> List of 3
>  $ merge : num [1:4, 1:2] -2 -5 -1 -4 -3 1 2 3
>  $ height: num [1:4] 0.873 1.257 1.633 2.430
>  $ order : num [1:5] 4 1 5 2 3
>  - attr(*, "class")= chr "hclust"
> 
> Any help would be greatly appreciated!
> 
> Hugh Chipman
> 
> -- 
> -- Hugh Chipman -- Associate Professor, Statistics & 
> Actuarial Science --
> -- University of Waterloo, Ontario, Canada                    
>          --
> --                                                            
>          --
> -- Visiting Stanford Statistics Department, January-March 
> 2002         --
> -- (650) 725 6148                                   Fax (650) 
> 725-8977 --
> -- Department of Statistics, Sequoia Hall, 390 Serra Mall     
>          --
> -- Stanford University, Stanford, CA 94305-4065               
>          --
> -- http://www.stats.uwaterloo.ca/~hachipma/     
> hachipman at uwaterloo.ca --
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dbickel at mail.mcg.edu  Wed Feb 20 20:54:59 2002
From: dbickel at mail.mcg.edu (David R. Bickel)
Date: Wed, 20 Feb 2002 14:54:59 -0500
Subject: [R] system-independent path for source()
Message-ID: <B8C7A6A9-263B-11D6-A296-000393021810@mail.mcg.edu>

I would like to use the same source files with UNIX and MacOS Carbon 
versions of R. Some of these source files access other source files 
through the source function, but UNIX separates directories with "/" and 
MacOS separates them with ":" and the beginning of the path is also 
different on each system. Is there a way to write the source files so 
that they can use source() with system-independent paths?

Or would it be easier for me to convert the source files to packages and 
use library()?


http://www.mcg.edu/research/biostat/bickel.html

David R. Bickel, PhD
Assistant Professor
Medical College of Georgia
Office of Biostatistics and Bioinformatics
1120 Fifteenth St., AE-3037
Augusta, GA 30912-4900

Tel.: 706-721-4697; Fax: 706-721-6294
E-mail: dbickel at mail.mcg.edu or bickel at prueba.info
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 808 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020220/c1750e32/attachment.bin

From remigijus.lapinskas at maf.vu.lt  Wed Feb 20 21:59:07 2002
From: remigijus.lapinskas at maf.vu.lt (Remigijus Lapinskas)
Date: Wed, 20 Feb 2002 21:59:07 +0100
Subject: [R] identify with boxplot
Message-ID: <3916.020220@maf.vu.lt>

Hello,

In a toy example below, there are some outliers which I would like to
mark with their rownames. However, it seems that identify(...) does
not work together with boxplot?

set.seed(1)
x<-data.frame(rcauchy(20))
rownames(x)<-letters[1:20]
boxplot(x)
identify(x,labels=rownames(x))



Thanks for any suggestions,

Remigijus                          mailto:remigijus.lapinskas at maf.vu.lt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Feb 20 21:03:50 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 20 Feb 2002 20:03:50 +0000 (GMT)
Subject: [R] system-independent path for source()
In-Reply-To: <B8C7A6A9-263B-11D6-A296-000393021810@mail.mcg.edu>
Message-ID: <Pine.GSO.4.44.0202202003420.6575-100000@auk.stats>

On Wed, 20 Feb 2002, David R. Bickel wrote:

> I would like to use the same source files with UNIX and MacOS Carbon
> versions of R. Some of these source files access other source files
> through the source function, but UNIX separates directories with "/" and
> MacOS separates them with ":" and the beginning of the path is also
> different on each system. Is there a way to write the source files so
> that they can use source() with system-independent paths?

file.path.

>
> Or would it be easier for me to convert the source files to packages and
> use library()?
>
>
> http://www.mcg.edu/research/biostat/bickel.html
>
> David R. Bickel, PhD
> Assistant Professor
> Medical College of Georgia
> Office of Biostatistics and Bioinformatics
> 1120 Fifteenth St., AE-3037
> Augusta, GA 30912-4900
>
> Tel.: 706-721-4697; Fax: 706-721-6294
> E-mail: dbickel at mail.mcg.edu or bickel at prueba.info
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Feb 20 21:24:35 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Wed, 20 Feb 2002 15:24:35 -0500 (EST)
Subject: [R] Code for bivariate Poisson regression?
In-Reply-To: <5.1.0.14.0.20020220103317.02adc358@popmail.ucsd.edu>
Message-ID: <Pine.LNX.4.30.0202201523020.25976-100000@bolker.zoo.ufl.edu>


  glmmGibbs or glmmPQL in MASS?
  (without random effects it's just glm(), unless I'm misunderstanding
what you mean: discrete independent count data with two continuous
covariates?)

On Wed, 20 Feb 2002, Simon Frost wrote:

> Dear RHelpers,
>
> Does anyone know of any R code to perform bivariate Poisson regression
> (including random effects)?
>
> Best wishes
> Simon
>
> Simon D.W. Frost, M.A., D.Phil.
> Department of Pathology
> University of California, San Diego
> Antiviral Research Center
> (Formerly: UCSD Treatment Center)
> 150 W. Washington St., Suite 100
> San Diego, CA 92103
> USA
>
> Tel: +1 619 543 8080 x275
> Fax: +1 619 298 0177
> Email: sdfrost at ucsd.edu
> Work W3: http://www.avrctrials.org
> Personal W3: http://www.simonfrost.com
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dbickel at mail.mcg.edu  Wed Feb 20 21:14:52 2002
From: dbickel at mail.mcg.edu (David R. Bickel)
Date: Wed, 20 Feb 2002 15:14:52 -0500
Subject: [R] system-independent path for source()
In-Reply-To: <Pine.GSO.4.44.0202202003420.6575-100000@auk.stats>
Message-ID: <7F5AD4A8-263E-11D6-A296-000393021810@mail.mcg.edu>

Thanks for telling me about file.path. That solves the problem of the 
different separators, but UNIX begins the home path with "/" and MacOS 
begins the home path with the name of the hard disk.

On Wednesday, February 20, 2002, at 03:03 ?, Prof Brian D Ripley wrote:

> file.path

http://www.mcg.edu/research/biostat/bickel.html

David R. Bickel, PhD
Assistant Professor
Medical College of Georgia
Office of Biostatistics and Bioinformatics
1120 Fifteenth St., AE-3037
Augusta, GA 30912-4900

Tel.: 706-721-4697; Fax: 706-721-6294
E-mail: dbickel at mail.mcg.edu or bickel at prueba.info

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Feb 20 21:27:28 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 20 Feb 2002 12:27:28 -0800 (PST)
Subject: [R] system-independent path for source()
In-Reply-To: <7F5AD4A8-263E-11D6-A296-000393021810@mail.mcg.edu>
Message-ID: <Pine.A41.4.44.0202201218530.127562-100000@homer04.u.washington.edu>

On Wed, 20 Feb 2002, David R. Bickel wrote:

> Thanks for telling me about file.path. That solves the problem of the
> different separators, but UNIX begins the home path with "/" and MacOS
> begins the home path with the name of the hard disk.
>

The opposite problem also occurs when one wants a relative path
    ":some:long:path"
is the Mac equivalent of
     "some/long/path"

Perhaps file.path() should have an absolute/relative path option?

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Feb 20 21:38:34 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 20 Feb 2002 20:38:34 +0000 (GMT Standard Time)
Subject: [R] system-independent path for source()
In-Reply-To: <Pine.A41.4.44.0202201218530.127562-100000@homer04.u.washington.edu>
Message-ID: <Pine.WNT.4.44.0202202037510.476-100000@Reeve>

All contributions welcome, Thomas!

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

On Wed, 20 Feb 2002, Thomas Lumley wrote:

> On Wed, 20 Feb 2002, David R. Bickel wrote:
>
> > Thanks for telling me about file.path. That solves the problem of the
> > different separators, but UNIX begins the home path with "/" and MacOS
> > begins the home path with the name of the hard disk.
> >
>
> The opposite problem also occurs when one wants a relative path
>     ":some:long:path"
> is the Mac equivalent of
>      "some/long/path"
>
> Perhaps file.path() should have an absolute/relative path option?
>
> 	-thomas
>
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sdfrost at ucsd.edu  Wed Feb 20 21:44:22 2002
From: sdfrost at ucsd.edu (Simon Frost)
Date: Wed, 20 Feb 2002 12:44:22 -0800
Subject: [R] Code for bivariate Poisson regression?
In-Reply-To: <Pine.LNX.4.30.0202201523020.25976-100000@bolker.zoo.ufl.ed
 u>
References: <5.1.0.14.0.20020220103317.02adc358@popmail.ucsd.edu>
Message-ID: <5.1.0.14.0.20020220124056.00ac7618@popmail.ucsd.edu>

Hi Ben,

At 03:24 PM 2/20/2002 -0500, you wrote:

>   glmmGibbs or glmmPQL in MASS?
>   (without random effects it's just glm(), unless I'm misunderstanding
>what you mean: discrete independent count data with two continuous
>covariates?)

No; I mean bivariate counts...there's some GAUSS code at 
http://www.gsu.edu/~ecosgg/gbicount.html
and some SAS code from the Econometrics Journal (Munkin and Trivedi 1999 
2:29-48), and rather than recoding I was wondering whether there's some R 
code already out there...

Best
Simon

>On Wed, 20 Feb 2002, Simon Frost wrote:
>
> > Dear RHelpers,
> >
> > Does anyone know of any R code to perform bivariate Poisson regression
> > (including random effects)?
> >
> > Best wishes
> > Simon
> >
> > Simon D.W. Frost, M.A., D.Phil.
> > Department of Pathology
> > University of California, San Diego
> > Antiviral Research Center
> > (Formerly: UCSD Treatment Center)
> > 150 W. Washington St., Suite 100
> > San Diego, CA 92103
> > USA
> >
> > Tel: +1 619 543 8080 x275
> > Fax: +1 619 298 0177
> > Email: sdfrost at ucsd.edu
> > Work W3: http://www.avrctrials.org
> > Personal W3: http://www.simonfrost.com
> >
> >
> >
> > 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > 
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
>
>--
>318 Carr Hall                                bolker at zoo.ufl.edu
>Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
>Box 118525                                   (ph)  352-392-5697
>Gainesville, FL 32611-8525                   (fax) 352-392-3704

Simon D.W. Frost, M.A., D.Phil.
Department of Pathology
University of California, San Diego
Antiviral Research Center
(Formerly: UCSD Treatment Center)
150 W. Washington St., Suite 100
San Diego, CA 92103
USA

Tel: +1 619 543 8080 x275
Fax: +1 619 298 0177
Email: sdfrost at ucsd.edu
Work W3: http://www.avrctrials.org
Personal W3: http://www.simonfrost.com



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at volcanomail.com  Wed Feb 20 22:06:37 2002
From: ggrothendieck at volcanomail.com (Gabor Grothendieck)
Date: Wed, 20 Feb 2002 13:06:37 -0800 (PST)
Subject: [R] Pointer to covariates?
Message-ID: <20020220210637.312D73ED3@sitemail.everyone.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20020220/03b0649d/attachment.pl

From tlumley at u.washington.edu  Wed Feb 20 22:32:50 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 20 Feb 2002 13:32:50 -0800 (PST)
Subject: [R] system-independent path for source()
In-Reply-To: <Pine.WNT.4.44.0202202037510.476-100000@Reeve>
Message-ID: <Pine.A41.4.44.0202201327330.161458-100000@homer04.u.washington.edu>

On Wed, 20 Feb 2002, Prof Brian Ripley wrote:

> All contributions welcome, Thomas!

This seems to be a bit better than the current version, and I'll add it

 file.path<-function (..., fsep = .Platform$file.sep,absolute=FALSE) {
    rval<-paste(..., sep = fsep)
    if (xor(absolute,.Platform$OS.type=="mac"))
        rval<-paste("",rval,sep=fsep)
    rval
 }

so now I can do
  file.path("Macintosh HD","Users","thomas",absolute=TRUE)
or
  file.path("Users","thomas")
for a relative path.

The real question is what to do about disks. In Windows you need the disk
name to find files on other disks but on the Mac you seem to need the
disk name even to find the root of the current disk.

It could be taken from getwd() but that seems to make file.path() a lot
more complicated and less portable.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dbickel at mail.mcg.edu  Wed Feb 20 23:07:43 2002
From: dbickel at mail.mcg.edu (David R. Bickel)
Date: Wed, 20 Feb 2002 17:07:43 -0500
Subject: [R] system-independent path for source()
In-Reply-To: <Pine.A41.4.44.0202201327330.161458-100000@homer04.u.washington.edu>
Message-ID: <438305C5-264E-11D6-A296-000393021810@mail.mcg.edu>

That looks good, except the hard disk name should be kept separate from 
the user-specified path. Otherwise, a call from MacOS that uses an 
absolute path will not work on UNIX.

I suggest modifying your file.path interface:
file.path<-function (..., fsep = .Platform$file.sep,absolute=FALSE, 
hard.disk.name = "C") {}

If .Platform$OS.type=="mac" and absolute, then hard.disk.name would be 
added to the beginning of the path.

This way, file.path("Users","thomas",absolute=TRUE, hard.disk.name = 
"Macintosh HD") would work for both MacOS and UNIX. I think this 
interface could also be made to work with Windows.


On Wednesday, February 20, 2002, at 04:32 ?, Thomas Lumley wrote:

> On Wed, 20 Feb 2002, Prof Brian Ripley wrote:
>
>> All contributions welcome, Thomas!
>
> This seems to be a bit better than the current version, and I'll add it
>
>  file.path<-function (..., fsep = .Platform$file.sep,absolute=FALSE) {
>     rval<-paste(..., sep = fsep)
>     if (xor(absolute,.Platform$OS.type=="mac"))
>         rval<-paste("",rval,sep=fsep)
>     rval
>  }
>
> so now I can do
>   file.path("Macintosh HD","Users","thomas",absolute=TRUE)
> or
>   file.path("Users","thomas")
> for a relative path.
>
> The real question is what to do about disks. In Windows you need the 
> disk
> name to find files on other disks but on the Mac you seem to need the
> disk name even to find the root of the current disk.
>
> It could be taken from getwd() but that seems to make file.path() a lot
> more complicated and less portable.
>
> 	-thomas
>
>

http://www.mcg.edu/research/biostat/bickel.html

David R. Bickel, PhD
Assistant Professor
Medical College of Georgia
Office of Biostatistics and Bioinformatics
1120 Fifteenth St., AE-3037
Augusta, GA 30912-4900

Tel.: 706-721-4697; Fax: 706-721-6294
E-mail: dbickel at mail.mcg.edu or bickel at prueba.info

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hachipma at icarus.math.uwaterloo.ca  Wed Feb 20 23:32:27 2002
From: hachipma at icarus.math.uwaterloo.ca (Hugh Chipman)
Date: Wed, 20 Feb 2002 17:32:27 -0500 (EST)
Subject: [R] plot.hclust: strange behaviour with "manufactured"
In-Reply-To: <51F9C42DA15CD311BD220008C707D81903DC85D1@usrymx10.merck.com> from "Liaw, Andy" at Feb 20, 2002 02:19:22 PM
Message-ID: <200202202232.RAA10244@icarus.math.uwaterloo.ca>

Andy:

That's a great idea.  And it's certainly part of the problem.  I
verified this by changing the type of the "merge" element of a valid
hclust object to be double.  As you suggest, it doesn't plot.  

What's interesting is that if I change it back to integer again,
plot.hclust still gives an error.  Moreover, the object.size of the
"merge" component that was transformed integer to double to integer is
different from the object.size of the original integer component.  Is
there something that I am missing about integer types?

The original integer type was produced by the interal (C or Fortran)
code, so maybe I am corrupting it in some way.  

An example below gives the details...
---------------------------------------------------------------------- 
> library(mva)
> set.seed(103)
> x <- matrix(rnorm(5 * 2), ncol = 2)
> x.hc <- hclust(dist(x), method = "average")
> plot.hclust(x.hc)
> unlist(lapply(x.hc, storage.mode))
      merge      height       order      labels      method        call
  "integer"    "double"   "integer"      "NULL" "character"  "language"
dist.method
"character"
 
> unlist(lapply(x.hc, object.size))
      merge      height       order      labels      method        call
        152          60          52           0          44         324
dist.method
         52
 
> x.hc$merge <- as.double(x.hc$merge)
> plot.hclust(x.hc)
Error in plot.hclust(x.hc) : invalid dendrogram
> unlist(lapply(x.hc,storage.mode))
 
      merge      height       order      labels      method        call
   "double"    "double"   "integer"      "NULL" "character"  "language"
dist.method
"character"
> unlist(lapply(x.hc,object.size))
 
      merge      height       order      labels      method        call
         92          60          52           0          44         324
dist.method
         52
> x.hc$merge <- as.integer(x.hc$merge)
> plot.hclust(x.hc)
 
Error in plot.hclust(x.hc) : invalid dendrogram
> unlist(lapply(x.hc,storage.mode))
 
      merge      height       order      labels      method        call
  "integer"    "double"   "integer"      "NULL" "character"  "language"
dist.method
"character"
> unlist(lapply(x.hc,object.size))
 
      merge      height       order      labels      method        call
         60          60          52           0          44         324
dist.method
         52


> 
> The problem seems to be that the original merge component is stored as int,
> but the source()'d version is not.  Coercing that to int I think works.
> 
> Cheers,
> Andy
> 
> > -----Original Message-----
> > From: Hugh Chipman [mailto:hachipma at icarus.math.uwaterloo.ca]
> > Sent: Wednesday, February 20, 2002 1:32 PM
> > To: r-help at stat.math.ethz.ch
> > Cc: hachipma at icarus.math.uwaterloo.ca
> > Subject: [R] plot.hclust: strange behaviour with "manufactured" hclust
> > object
> > 
> > 
> > I've been trying to get plot.hclust to work with a hclust object I
> > created and have not had much success.  It seems that there is some
> > "hidden" characteristic of a hclust object that I can't see.  This is
> > most easily seen in the following example, where plot.hclust works on
> > one object, but when this object is "dumped" and then re-read,
> > plot.hclust no longer works.  Is this a scoping problem?
> > 
> > Script started on Wed Feb 20 13:17:37 2002
> > 1>@icarus[101]% R
> > 
> > R : Copyright 2002, The R Development Core Team
> > Version 1.4.1  (2002-01-30)
> > 
> > ......(stuff deleted)
> > 
> > > set.seed(103)
> > > library(mva)
> > > x <- matrix(rnorm(5*2),ncol=2)
> > > x.hc <- hclust(dist(x),method='average')     
> > > plot.hclust(x.hc)
> > # the above works
> > 
> > > dump('x.hc')
> > > source('dumpdata.R')
> > > plot.hclust(x.hc)
> > Error in plot.hclust(x.hc) : invalid dendrogram input
> > 
> > One hypothesis I had was that it might be something like the "call"
> > object that wasn't correctly being re-created by the dump & source,
> > but that doesn't seem to be it.  Below, I remove everything except
> > merge, order, and height, and plot.hclust still works on the original
> > object and fails on the dump + source object.
> > 
> > > x.hc <- hclust(dist(x),method='average')
> > > x.hc$call <- NULL
> > > x.hc$dist.method <- NULL
> > > x.hc$method <- NULL
> > > x.hc$labels <- NULL
> > > plot.hclust(x.hc)
> > > dump('x.hc')
> > > source('dumpdata.R')
> > > plot.hclust(x.hc)
> > Error in plot.hclust(x.hc) : invalid dendrogram input
> > > 
> > > str(x.hc)
> > List of 3
> >  $ merge : num [1:4, 1:2] -2 -5 -1 -4 -3 1 2 3
> >  $ height: num [1:4] 0.873 1.257 1.633 2.430
> >  $ order : num [1:5] 4 1 5 2 3
> >  - attr(*, "class")= chr "hclust"
> > 
> > Any help would be greatly appreciated!
> > 
> > Hugh Chipman
> > 
> > -- 
> > -- Hugh Chipman -- Associate Professor, Statistics & 
> > Actuarial Science --
> > -- University of Waterloo, Ontario, Canada                    
> >          --
> > --                                                            
> >          --
> > -- Visiting Stanford Statistics Department, January-March 
> > 2002         --
> > -- (650) 725 6148                                   Fax (650) 
> > 725-8977 --
> > -- Department of Statistics, Sequoia Hall, 390 Serra Mall     
> >          --
> > -- Stanford University, Stanford, CA 94305-4065               
> >          --
> > -- http://www.stats.uwaterloo.ca/~hachipma/     
> > hachipman at uwaterloo.ca --
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read 
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: 
> > r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._._._
> > 
> 
> 


-- 
-- Hugh Chipman -- Associate Professor, Statistics & Actuarial Science --
-- University of Waterloo, Ontario, Canada                             --
--                                                                     --
-- Visiting Stanford Statistics Department, January-March 2002         --
-- (650) 725 6148                                   Fax (650) 725-8977 --
-- Department of Statistics, Sequoia Hall, 390 Serra Mall              --
-- Stanford University, Stanford, CA 94305-4065                        --
-- http://www.stats.uwaterloo.ca/~hachipma/     hachipman at uwaterloo.ca --
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Thu Feb 21 00:34:26 2002
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 20 Feb 2002 18:34:26 -0500
Subject: Dynamic Graphics (was [R] using GUI)
In-Reply-To: <5F1F573BE938D411836100805FD6593D1B8336@neon.orau.gov>
Message-ID: <5.1.0.14.2.20020220183138.01d95780@mcmail.cis.mcmaster.ca>

At 10:27 AM 2/20/2002 -0500, Watkins, Janice wrote:
>         By the way, using the "Keywords by Topic" section of the Search
>Engine works fine for all items that I've tried except when clicking on
>dynamic under Graphics.  That gave the message "No matches for "dynamic"
>found.""

Though it's still in a preliminary form, you might be interested in Duncan 
Murdoch's rgl package, available at 
<http://www.stats.uwo.ca/faculty/murdoch/software/>.

John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Thu Feb 21 00:40:17 2002
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 20 Feb 2002 18:40:17 -0500
Subject: [R] identify with boxplot
In-Reply-To: <3916.020220@maf.vu.lt>
Message-ID: <5.1.0.14.2.20020220183740.01d99408@mcmail.cis.mcmaster.ca>

Dear Remigijus,

At 09:59 PM 2/20/2002 +0100, Remigijus Lapinskas wrote:

>In a toy example below, there are some outliers which I would like to
>mark with their rownames. However, it seems that identify(...) does
>not work together with boxplot?
>
>set.seed(1)
>x<-data.frame(rcauchy(20))
>rownames(x)<-letters[1:20]
>boxplot(x)
>identify(x,labels=rownames(x))

You need to supply horizontal coordinates to identify -- e.g.,

 > set.seed(1)
 > x<-rcauchy(20)
 > names(x)<-letters[1:20]
 > boxplot(x)
 > identify(rep(1,20), x, labels=names(x))

(If you want to get row names from a data frame, that would work too.)

John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dbickel at mail.mcg.edu  Thu Feb 21 01:19:32 2002
From: dbickel at mail.mcg.edu (David R. Bickel)
Date: Wed, 20 Feb 2002 19:19:32 -0500
Subject: [R] Summary re: read.table on Mac OS 10 
In-Reply-To: <1014160965.425BOYDJ@mail.rx.uga.edu>
Message-ID: <AD7F7B78-2660-11D6-A296-000393021810@mail.mcg.edu>

I am having the same problem (#3) with read.table on Darwin. The edit() 
function is not a work-around for me since I have to read an enormous 
text file. I tried copying the data from TextEdit and pasting it into vi 
and Project Builder, but that didn't help at all. I wonder if this is 
related to the MacOS convention of ending lines with "\l" instead of 
"\n".

The strange thing is that read.delim() seems to work fine.


On Tuesday, February 19, 2002, at 06:22 ?, Jason Boyd wrote:

> Thanks to all who responded.  Not all of the advice
> helped me with that particular problem, but, I have
> learned a lot just from your answers.
>
> 1.  R for Mac 10 (Carbon version) uses the Mac
> convention of using ":" for the usual Unix "/" and thanks
> to Dr. Lumley for that since I'm new to R, Mac10, Macs
> in general, and Unix.
> 2.  Interestingly, Dr. Ripley suggested to me not to use
> spaces in the path as R wouldn't be able to read them.
> I've found that on my Mac, spaces often come as
> default in file names.  As long as I use the ":" (see 1) I
> can also use a space.  I'm not sure of the Darwin/
> Xwinows version of R.  Looks like another Mac
> convention though.
> 3.  The problem is partially solved:  I never was able to
> read the data set I made with Mac's TextEdit.  But, on
> entering the data at R's runtime window, I was able to
> write.table to an external file, shut down R and/or the
> computer, and come back later to read.table ... no
> problem.  Perhaps TextEdit throws some extra code in,
> not sure <although I did save the data as simple text
> and fixed width format, really the only two options I
> could manipulate in TextEdit>  I'll try Mac SimpleText (a
> Developer Tool) and emacs to see what happens with
> them.
> 4.  Having fun with R!
>
> Thanks again for the help, if things with the text editors
> and read.table change I'll post my findings.
>
> Cheers,
> Jason Boyd
> graduate student
> University of Georgia
> College of Pharmacy
>
> 600 MHz 128 Mb iBook Mac OS 10.1, Fink & DevTools
> Carbonized R1.4.0
>
> ***original message follows***
> From: Ben Bolker <ben at zoo.ufl.edu>
> Date: Tue Feb 19, 2002  09:28:37 X US/Eastern
> To: Jason Boyd <BOYDJ at mail.rx.uga.edu>
> Cc: R help list <r-help at stat.math.ethz.ch>
> Subject: Re: [R] error in read.table on Mac OS 10 ... request for help
> Reply-To: <bolker at zoo.ufl.edu>
>
>
>   I haven't seen any answers to this, so I'll try to provide some other
> things to try (although I don't really know what's going on).
>
>   Try getwd() to see how paths appear to be specified internally.  You
> could also try setwd("/Users/Shared/rm140_FULL/work") before
> read.table("...").  Also try list.files() to check out the file names.
>
>   It does seem you've been pretty thorough.
>
>   good luck,
>    Ben Bolker
>
> On Fri, 15 Feb 2002, Jason Boyd wrote:
>
>> Hello,
>> I'm a new user of R, and unsure of why I'm getting an
>> error reading external files on my Mac OS 10 machine.
>> I've read through posts that would seem related (and 'R
>> Import/Export' and 'Introduction to R' as well as
>> pertinent sections in V&R's 'Modern Applied Statistics
>> with S-Plus') but to no avail.    If anyone has any
>> suggestions, I'd be very grateful.  Here's the problem:
>>
>> When I enter the command:
>>
>>> idusc <- read.table(file = "/Users/Shared/
>> rm140_FULL/work/ioddupb.txt")
>>
>> I get the message:
>>
>> Error in file(file, "r") : cannot open file `/Users/Shared/
>> rm140_FULL/work/ioddupb.txt'
>>
>> This is the correct path according to my Finder
>> window's "path" tab (that is, as far as Users is a folder
>> under /) and also according to the command line
>> interface (shell).  I'm not sure why it can't read the file.
>> I'm new to Unix systems also, so perhaps I've
>> misunderstood paths (though I've been reading over
>> Unix tutorials enough not to scare me). Other info:
>>
>> 1.  the file was created in simple text mode in Mac
>> TextEdit and saved fixed width text format.
>>
>> 2.  when I save the file to another working directory
>> under a different user, I also cannot read.table
>>
>> 3.  I checked the priveleges of the .txt file, they were
>> Read & write for the owner and Read for everyone else
>> so that would seem to take care of R being able to copy
>> it.
>>
>> 4.  I also tried read.fwf with the same type error
>> message.
>>
>> 5.  The tutorials and examples as well as libraries all
>> work fine, I can read data in the libraries, use add-on
>> functions, and plot so it doesn't seem to be a problem
>> with R itself.
>>
>> I'm sure this is just a simple matter but I'm perplexed.
>> Thanks for any suggestions,
>>
>> Jason Boyd
>>
>> graduate student
>> University of Georgia
>> College of Pharmacy
>> boydj at mail.rx.uga.edu
>>
>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
>> -.-.-.-
>> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-
>> FAQ.html
>> Send "info", "help", or "[un]subscribe"
>> (in the "body", not the subject !)  To: r-help-
>> request at stat.math.ethz.ch
>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
>> _._._._
>>
>
> --
> 318 Carr Hall                                bolker at zoo.ufl.edu
> Zoology Department, University of Florida    
> http://www.zoo.ufl.edu/bolker
> Box 118525                                   (ph)  352-392-5697
> Gainesville, FL 32611-8525                   (fax) 352-392-3704
>
>
>
>

http://www.mcg.edu/research/biostat/bickel.html

David R. Bickel, PhD
Assistant Professor
Medical College of Georgia
Office of Biostatistics and Bioinformatics
1120 Fifteenth St., AE-3037
Augusta, GA 30912-4900

Tel.: 706-721-4697; Fax: 706-721-6294
E-mail: dbickel at mail.mcg.edu or bickel at prueba.info
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 5689 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020220/4ba11f03/attachment.bin

From ripley at stats.ox.ac.uk  Thu Feb 21 08:13:56 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 21 Feb 2002 07:13:56 +0000 (GMT)
Subject: [R] Summary re: read.table on Mac OS 10 
In-Reply-To: <AD7F7B78-2660-11D6-A296-000393021810@mail.mcg.edu>
Message-ID: <Pine.LNX.4.31.0202210649080.19128-100000@gannet.stats>

On Wed, 20 Feb 2002, David R. Bickel wrote:

> I am having the same problem (#3) with read.table on Darwin. The edit()
> function is not a work-around for me since I have to read an enormous
> text file. I tried copying the data from TextEdit and pasting it into vi
> and Project Builder, but that didn't help at all. I wonder if this is
> related to the MacOS convention of ending lines with "\l" instead of
> "\n".

It's CR (ctrl-J, \r) as far as I know.

Shouldn't be a problem.  R's input handles all the standard line-ending
conventions (LF, CRLF, CR) on all platforms, and this is tested as part of
the test suite (although I don't know if that is run on MacOS).

> The strange thing is that read.delim() seems to work fine.

and that calls read.table, so the problem is either with the separators or
more likely with surplus separators at the end of lines in some lines.
You can use a dump (use od under Unix) to find out what is really in the
file.

Neither of you have anywhere told us what the actual error message was
in problem number 3.

> On Tuesday, February 19, 2002, at 06:22 , Jason Boyd wrote:
>
> > Thanks to all who responded.  Not all of the advice
> > helped me with that particular problem, but, I have
> > learned a lot just from your answers.
> >
> > 1.  R for Mac 10 (Carbon version) uses the Mac
> > convention of using ":" for the usual Unix "/" and thanks
> > to Dr. Lumley for that since I'm new to R, Mac10, Macs
> > in general, and Unix.
> > 2.  Interestingly, Dr. Ripley suggested to me not to use
> > spaces in the path as R wouldn't be able to read them.

y(That's not what I said. The posting by the time it reached me had a
surplus newline and space in the file spec, at the end of a path
component. R does handle legal file names including spaces. My comment as
on the file spec as received, not in general.)

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Feb 21 08:27:46 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 21 Feb 2002 07:27:46 +0000 (GMT)
Subject: [R] Summary re: read.table on Mac OS 10 
In-Reply-To: <Pine.LNX.4.31.0202210649080.19128-100000@gannet.stats>
Message-ID: <Pine.LNX.4.31.0202210724560.19259-100000@gannet.stats>

On Thu, 21 Feb 2002, Prof Brian Ripley wrote:

> On Wed, 20 Feb 2002, David R. Bickel wrote:
>
> > I am having the same problem (#3) with read.table on Darwin. The edit()
> > function is not a work-around for me since I have to read an enormous
> > text file. I tried copying the data from TextEdit and pasting it into vi
> > and Project Builder, but that didn't help at all. I wonder if this is
> > related to the MacOS convention of ending lines with "\l" instead of
> > "\n".
>
> It's CR (ctrl-J, \r) as far as I know.

(ctrl-M: this mail got sent in the middle of editing when my line went
down ....)

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Thu Feb 21 09:37:09 2002
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Thu, 21 Feb 2002 09:37:09 +0100 (CET)
Subject: [R] Pointer to covariates?
In-Reply-To: <20020220210637.312D73ED3@sitemail.everyone.net>
Message-ID: <Pine.LNX.4.44.0202210930490.1759-100000@tal.stat.umu.se>

On Wed, 20 Feb 2002, Gabor Grothendieck wrote:

> In the first line, use the dist function, found in library mva,
> to get the distance between each pair of rows.   From this
> calculate an incidence matrix for which element i,j is true if 
> row i in dat equals row j in dat (and false elsewhere).
> 
> In the second line, for each row calculate the indices of 
> the matching rows and take the minimum of those as the key.
> 
> incid <- as.matrix(dist(dat[,-1],method="max"))==0
> keys <- unlist(lapply(apply(incid,1,which),min))

Thank you very much! This is very fast, much faster than my attempts
so far, but it has two drawbacks:

1. It  gives pointers to first occurrences in the _original_ data frame,
not the 'unique' version.

2. The first step results in a _huge_ matrix 'incid', too huge for my 
applications.

However, this is a promising first attempt, and I will try to refine
the idea. Again, thanks!

G?ran

> 
> --- G?ran Brostr?m <gb at stat.umu.se> wrote:
> >I have a dataframe 'dat' with one response and some covariates. Many 
> >observations  (rows), but only a few unique combinations of 
> >the covariates. Let's say that the response is in column 1, and 
> >the covariates in columns 2:k.
> >
> >I want to do 
> >
> >> covar <- unique.data.frame(dat[, 2:k])
> >> y <- dat[, 1]
> >> keys <- ??????
> >
> >where 'keys' should be a vector of length length(y) and contain the
> >row numbers in 'covar', where the response will find its covariates.
> >
> >Example:
> >
> >> dat
> >  y x1 x2
> >1 1  1  0
> >2 2  0  1
> >3 3  1  0
> >
> >> unique.data.frame(dat[, 2:3])
> >  x1 x2
> >1  1  0
> >2  0  1
> >
> >> keys
> >1  1
> >2  2
> >3  1
> >
> >But how do I get 'keys'?
> >-- 
> > G?ran Brostr?m                      tel: +46 90 786 5223
> > professor                           fax: +46 90 786 6614
> > Department of Statistics            http://www.stat.umu.se/egna/gb/
> > Ume? University
> > SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se
> >
> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> >Send "info", "help", or "[un]subscribe"
> >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> _____________________________________________________________
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy.howell at reuters.com  Thu Feb 21 09:51:18 2002
From: andy.howell at reuters.com (Andrew S. Howell)
Date: Thu, 21 Feb 2002 00:51:18 -0800
Subject: [R] installing packages under Windows 2000
Message-ID: <5.1.0.14.0.20020221003013.037d7bf8@tekbspa>

Hello,

	I am trying to install a package for R 1.4.1. under windows 2000, and 
cgywin perl 5.6.1.

The first problem I had was with perl not picking up the R specific perl 
files.

bash-2.05a$ ./Rcmd INSTALL /c/tmp/R/exactRankTests_0.6-2.tar.gz
Can't locate R/Dcf.pm in @INC (@INC contains: c 
\PROGRA~1\R\rw1041\share\perl;/c/Program\ Files/R/rw1041/share/perl /usr
/lib/perl5/5.6.1/cygwin-multi /usr/lib/perl5/5.6.1 
/usr/lib/perl5/site_perl/5.6.1/cygwin-multi /usr/lib/perl5/site_perl/
5.6.1 /usr/lib/perl5/site_perl .) at c:\PROGRA~1\R\rw1041/bin/INSTALL line 25.
BEGIN failed--compilation aborted at c:\PROGRA~1\R\rw1041/bin/INSTALL line 25.

Note that the INC path starts c \PROGAR~1... That is, it is missing the ':'
( mailer wrapped, so its not obvious from above )

After setting PERL5LIB as:

bash-2.05a$ export PERL5LIB='C:\PROGRA~1\R/rw1041\share\perl'

I get:

bash-2.05a$ ./Rcmd INSTALL /c/tmp/R/exactRankTests_0.6-2.tar.gz

make: Entering directory `/c/PROGRA~1/R/rw1041/src/gnuwin32'
make: *** No rule to make target `Files/R/rw1041/bin/R.INSTALL'.  Stop.
make: Leaving directory `/c/PROGRA~1/R/rw1041/src/gnuwin32'
*** Installation of exactRankTests failed ***

It looks like make is lopping off the first part of the path C:\Program 
Files...

Also, there is not such file as 'R.INSTALL' in the bin directory, only INSTALL.

Any ideas?

Regards,

	Andy


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stuart.leask at nottingham.ac.uk  Thu Feb 21 10:17:32 2002
From: stuart.leask at nottingham.ac.uk (Dr Stuart Leask)
Date: Thu, 21 Feb 2002 09:17:32 -0000
Subject: Factor analysis of categorical or mixed categorical/continuous data in [R]
Message-ID: <005101c1bab8$97c1e4e0$51d6f380@PMCMG01.nottingham.ac.uk>

Are there any suitable routines that perform factor analysis of categorical
or mixed categorical/continuous data in R?

Stuart

Dr Stuart Leask MA MB BChir (Cantab) MRCPsych
Clinical Lecturer in Psychiatry, University of Nottingham Dept Psychiatry
Duncan Macmillan House, Porchester Road, Nottingham. NG3 6AA. UK
tel. 00 44 115 969 1300 xtn 40784 fax 0115 955 5352
www.nottingham.ac.uk/psychiatry/staff/sjl.html


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Feb 21 10:26:47 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 21 Feb 2002 09:26:47 +0000 (GMT)
Subject: [R] installing packages under Windows 2000
In-Reply-To: <5.1.0.14.0.20020221003013.037d7bf8@tekbspa>
Message-ID: <Pine.LNX.4.31.0202210913110.19387-100000@gannet.stats>

On Thu, 21 Feb 2002, Andrew S. Howell wrote:

> 	I am trying to install a package for R 1.4.1. under windows 2000, and
> cgywin perl 5.6.1.

Do try reading the instructions (readme.packages)!  They contain:

  `The Windows port of perl5, available via
  http://www.activestate.com/Products/ActivePerl/.'

  `BEWARE: Don't expect this to work if the path to R_HOME contains spaces.'

and the rw-FAQ also warns against that (see Q2.2 which says

  `If you want to build packages from sources, choose an installation path
  not containing spaces.'
)

We might add `and not a Cygwin (nor cgywin) port of perl', but then if the
instructions are not actually read ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Feb 21 10:33:33 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 21 Feb 2002 09:33:33 +0000 (GMT)
Subject: [R] Re: Factor analysis of categorical or mixed categorical/continuous
 data in [R]
In-Reply-To: <005101c1bab8$97c1e4e0$51d6f380@PMCMG01.nottingham.ac.uk>
Message-ID: <Pine.LNX.4.31.0202210927140.19387-100000@gannet.stats>

On Thu, 21 Feb 2002, Dr Stuart Leask wrote:

> Are there any suitable routines that perform factor analysis of categorical
> or mixed categorical/continuous data in R?

In my reference books `factor analysis' is defined to be for continuous
data.  There are many latent variable techniques for categorical data with
many variants on each.  Which precisely did you have in mind?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From meinhardploner at gmx.net  Thu Feb 21 12:09:53 2002
From: meinhardploner at gmx.net (Meinhard Ploner)
Date: Thu, 21 Feb 2002 12:09:53 +0100
Subject: [R] read.table on Mac OS X, CARBON vs. DARWIN
Message-ID: <87D83688-26BB-11D6-9EE3-0003930EA956@gmx.net>

Hello,

I tried for several times to import data from text-files, tab-separated 
csv's.
The import is not the problem, but the system time.

On the Darwin-version, the used cpu-time is about 10 times higher than 
on the carbon version.

on both versions I called

read.delim("file.txt")


because I am moving from Carbon to Darwin and I often import text-files, 
I hope to et a ssolution of this task.

Thanks for suggestions

Meinhard ploner

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stuart.leask at nottingham.ac.uk  Thu Feb 21 12:18:13 2002
From: stuart.leask at nottingham.ac.uk (Dr Stuart Leask)
Date: Thu, 21 Feb 2002 11:18:13 -0000
Subject: [R] Re: Factor analysis of categorical or mixed categorical/continuousdata in [R]
Message-ID: <008d01c1bac9$7a232140$51d6f380@PMCMG01.nottingham.ac.uk>

I am looking to fit one or more latent categorical variables to data that is
a mixture of categorical and continuous variables. Factor analysis would
work for continuous data, latent class analysis for categorical data. I
understand that in a package such as MPlus I could perform a single analysis
of both data types. Are there similar routines available in R?

Stuart

-----Original Message-----
From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
To: Dr Stuart Leask <stuart.leask at nottingham.ac.uk>
Cc: r-help at stat.math.ethz.ch <r-help at stat.math.ethz.ch>
Date: 21 February 2002 10:53
Subject: [R] Re: Factor analysis of categorical or mixed
categorical/continuousdata in [R]


>On Thu, 21 Feb 2002, Dr Stuart Leask wrote:
>
>> Are there any suitable routines that perform factor analysis of
categorical
>> or mixed categorical/continuous data in R?
>
>In my reference books `factor analysis' is defined to be for continuous
>data.  There are many latent variable techniques for categorical data with
>many variants on each.  Which precisely did you have in mind?
>
>--
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andy_liaw at merck.com  Thu Feb 21 14:13:34 2002
From: andy_liaw at merck.com (Liaw, Andy)
Date: Thu, 21 Feb 2002 08:13:34 -0500
Subject: [R] plot.hclust: strange behaviour with "manufactured"
Message-ID: <51F9C42DA15CD311BD220008C707D81903DC85D3@usrymx10.merck.com>

This worked for me with your example:

source("dumpdata.R")
storage.mode(x.hc$merge) <- "integer"
plot(x.hc)

(R-1.4.1 compiled from source on WinNT4.)

Andy

> -----Original Message-----
> From: Hugh Chipman [mailto:hachipma at icarus.math.uwaterloo.ca]
> Sent: Wednesday, February 20, 2002 5:32 PM
> To: andy_liaw at merck.com
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] plot.hclust: strange behaviour with "manufactured"
> 
> 
> Andy:
> 
> That's a great idea.  And it's certainly part of the problem.  I
> verified this by changing the type of the "merge" element of a valid
> hclust object to be double.  As you suggest, it doesn't plot.  
> 
> What's interesting is that if I change it back to integer again,
> plot.hclust still gives an error.  Moreover, the object.size of the
> "merge" component that was transformed integer to double to integer is
> different from the object.size of the original integer component.  Is
> there something that I am missing about integer types?
> 
> The original integer type was produced by the interal (C or Fortran)
> code, so maybe I am corrupting it in some way.  
> 
> An example below gives the details...
> --------------------------------------------------------------
> -------- 
> > library(mva)
> > set.seed(103)
> > x <- matrix(rnorm(5 * 2), ncol = 2)
> > x.hc <- hclust(dist(x), method = "average")
> > plot.hclust(x.hc)
> > unlist(lapply(x.hc, storage.mode))
>       merge      height       order      labels      method   
>      call
>   "integer"    "double"   "integer"      "NULL" "character"  
> "language"
> dist.method
> "character"
>  
> > unlist(lapply(x.hc, object.size))
>       merge      height       order      labels      method   
>      call
>         152          60          52           0          44   
>       324
> dist.method
>          52
>  
> > x.hc$merge <- as.double(x.hc$merge)
> > plot.hclust(x.hc)
> Error in plot.hclust(x.hc) : invalid dendrogram
> > unlist(lapply(x.hc,storage.mode))
>  
>       merge      height       order      labels      method   
>      call
>    "double"    "double"   "integer"      "NULL" "character"  
> "language"
> dist.method
> "character"
> > unlist(lapply(x.hc,object.size))
>  
>       merge      height       order      labels      method   
>      call
>          92          60          52           0          44   
>       324
> dist.method
>          52
> > x.hc$merge <- as.integer(x.hc$merge)
> > plot.hclust(x.hc)
>  
> Error in plot.hclust(x.hc) : invalid dendrogram
> > unlist(lapply(x.hc,storage.mode))
>  
>       merge      height       order      labels      method   
>      call
>   "integer"    "double"   "integer"      "NULL" "character"  
> "language"
> dist.method
> "character"
> > unlist(lapply(x.hc,object.size))
>  
>       merge      height       order      labels      method   
>      call
>          60          60          52           0          44   
>       324
> dist.method
>          52
> 
> 
> > 
> > The problem seems to be that the original merge component 
> is stored as int,
> > but the source()'d version is not.  Coercing that to int I 
> think works.
> > 
> > Cheers,
> > Andy
> > 
> > > -----Original Message-----
> > > From: Hugh Chipman [mailto:hachipma at icarus.math.uwaterloo.ca]
> > > Sent: Wednesday, February 20, 2002 1:32 PM
> > > To: r-help at stat.math.ethz.ch
> > > Cc: hachipma at icarus.math.uwaterloo.ca
> > > Subject: [R] plot.hclust: strange behaviour with 
> "manufactured" hclust
> > > object
> > > 
> > > 
> > > I've been trying to get plot.hclust to work with a hclust object I
> > > created and have not had much success.  It seems that 
> there is some
> > > "hidden" characteristic of a hclust object that I can't 
> see.  This is
> > > most easily seen in the following example, where 
> plot.hclust works on
> > > one object, but when this object is "dumped" and then re-read,
> > > plot.hclust no longer works.  Is this a scoping problem?
> > > 
> > > Script started on Wed Feb 20 13:17:37 2002
> > > 1>@icarus[101]% R
> > > 
> > > R : Copyright 2002, The R Development Core Team
> > > Version 1.4.1  (2002-01-30)
> > > 
> > > ......(stuff deleted)
> > > 
> > > > set.seed(103)
> > > > library(mva)
> > > > x <- matrix(rnorm(5*2),ncol=2)
> > > > x.hc <- hclust(dist(x),method='average')     
> > > > plot.hclust(x.hc)
> > > # the above works
> > > 
> > > > dump('x.hc')
> > > > source('dumpdata.R')
> > > > plot.hclust(x.hc)
> > > Error in plot.hclust(x.hc) : invalid dendrogram input
> > > 
> > > One hypothesis I had was that it might be something like 
> the "call"
> > > object that wasn't correctly being re-created by the dump 
> & source,
> > > but that doesn't seem to be it.  Below, I remove everything except
> > > merge, order, and height, and plot.hclust still works on 
> the original
> > > object and fails on the dump + source object.
> > > 
> > > > x.hc <- hclust(dist(x),method='average')
> > > > x.hc$call <- NULL
> > > > x.hc$dist.method <- NULL
> > > > x.hc$method <- NULL
> > > > x.hc$labels <- NULL
> > > > plot.hclust(x.hc)
> > > > dump('x.hc')
> > > > source('dumpdata.R')
> > > > plot.hclust(x.hc)
> > > Error in plot.hclust(x.hc) : invalid dendrogram input
> > > > 
> > > > str(x.hc)
> > > List of 3
> > >  $ merge : num [1:4, 1:2] -2 -5 -1 -4 -3 1 2 3
> > >  $ height: num [1:4] 0.873 1.257 1.633 2.430
> > >  $ order : num [1:5] 4 1 5 2 3
> > >  - attr(*, "class")= chr "hclust"
> > > 
> > > Any help would be greatly appreciated!
> > > 
> > > Hugh Chipman
> > > 
> > > -- 
> > > -- Hugh Chipman -- Associate Professor, Statistics & 
> > > Actuarial Science --
> > > -- University of Waterloo, Ontario, Canada                    
> > >          --
> > > --                                                            
> > >          --
> > > -- Visiting Stanford Statistics Department, January-March 
> > > 2002         --
> > > -- (650) 725 6148                                   Fax (650) 
> > > 725-8977 --
> > > -- Department of Statistics, Sequoia Hall, 390 Serra Mall     
> > >          --
> > > -- Stanford University, Stanford, CA 94305-4065               
> > >          --
> > > -- http://www.stats.uwaterloo.ca/~hachipma/     
> > > hachipman at uwaterloo.ca --
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > > -.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read 
> > > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: 
> > > r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > > _._._._._._._._._
> > > 
> > 
> > 
> 
> 
> -- 
> -- Hugh Chipman -- Associate Professor, Statistics & 
> Actuarial Science --
> -- University of Waterloo, Ontario, Canada                    
>          --
> --                                                            
>          --
> -- Visiting Stanford Statistics Department, January-March 
> 2002         --
> -- (650) 725 6148                                   Fax (650) 
> 725-8977 --
> -- Department of Statistics, Sequoia Hall, 390 Serra Mall     
>          --
> -- Stanford University, Stanford, CA 94305-4065               
>          --
> -- http://www.stats.uwaterloo.ca/~hachipma/     
> hachipman at uwaterloo.ca --
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu Feb 21 14:26:32 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 21 Feb 2002 14:26:32 +0100 (MET)
Subject: [R] data.restore: warnings
Message-ID: <Pine.OSF.3.96.1020221141952.26672C-100000@ija.csic.es>


I'm using data.restore() (pack. foreign) to import
some S objects that were dumped to
a file with data.dump(). Functions
were excluded from the data.dump() in S. 
I'm geting an error 
and warnings (I normaly do not with other objects)
and don't know how to trace back the problem:

>  data.restore("nofunciones.dmp")
Error in try(dimnames(value) <- thelist[[".Dimnames"]]) :
        length of dimnames[2] not equal to array extent
In addition: Warning messages:
1: NAs introduced by coercion
2: NAs introduced by coercion
3: NAs introduced by coercion
4: NAs introduced by coercion
[1] "nofunciones.dmp"
There were 19 warnings (use warnings() to see them)
> traceback()
No traceback available

> warnings()
Warning messages:
1: NAs introduced by coercion
2: NAs introduced by coercion
...
19: NAs introduced by coercion

What could I do to find out where is the problem?

Thanks

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Thu Feb 21 13:19:35 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Thu, 21 Feb 2002 12:19:35 +0000
Subject: [R] using GUI
In-Reply-To: <5F1F573BE938D411836100805FD6593D1B8336@neon.orau.gov>
References: <5F1F573BE938D411836100805FD6593D1B8336@neon.orau.gov>
Message-ID: <$itHAJAXXOd8Ewkr@myatt.demon.co.uk>

Watkins, Janice <WatkinsJ at orau.gov> writes:

>       A few days ago I loaded R version 1.4.1 to run on Windows 98 and
>haven't been able to find information on the GUI approach in the FAQs, R
>Reference Index, or Search Engine .  Edit has an item that allows changing
>GUI preferences, and the Target path in the icon ends in Rgui.exe, so it
>appears that R for Windows does include using the GUI approach.  

The "GUI" is the scrollable terminal window, multiple graphical devices,
and the menus (RGUI.EXE). There is also a "terminal" interface version
(RTERM.EXE) which is a text only application.

>       In S-Plus I wrote a application with guiCreate to add menu items
>that used dialog boxes to feed parameters to analysis functions.  Also, I
>sometimes use the graphics toolbar item in S-Plus to create graphs.  Is it
>possible to do these things in R?  If so, would someone please point me to
>the appropriate area of documentation.

Those functions are not available in R but there is a package (tcltk)
which allows you to create 'buttons and boxes' style font-ends to
functions. This is pretty versatile and supports a wide range of
graphical widgets. I like this approach as TK is open source and cross-
platform. The tcltk package requires TCL/TK to be installed on your
machine.

I have not used S-PLUS for a long time but I am pretty sure that you
should be able to do most of what you want with the tcltk package.

>       By the way, using the "Keywords by Topic" section of the Search
>Engine works fine for all items that I've tried except when clicking on
>dynamic under Graphics.  That gave the message "No matches for "dynamic"
>found.""

Interaction with graphs is limited in R. I have seen it linked to XGOBI
and a GIS system doing some pretty dynamic stuff but, I think, getting
it all running together might be tricky.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From W.Simpson at gcal.ac.uk  Thu Feb 21 14:56:18 2002
From: W.Simpson at gcal.ac.uk (Bill Simpson)
Date: Thu, 21 Feb 2002 13:56:18 +0000 (GMT)
Subject: [R] layout and labels
Message-ID: <Pine.LNX.4.10.10202211351090.5021-100000@localhost.localdomain>

Suppose I use layout() to make a figure with 6 subplots.
Each subbplot has no x axis title and no y axis title.
I would like to create large axis titles running across the bottom and
across the left hand side of the overall figure (not one subplot).

How can I do this? Thanks very much for any help.

Bill Simpson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ml-r-help at epigenomics.com  Thu Feb 21 15:34:45 2002
From: ml-r-help at epigenomics.com (Susanne Schwenke)
Date: Thu, 21 Feb 2002 15:34:45 +0100
Subject: [R] nlme - Confidence Interval for Variance in ANOVA
References: <008d01c1bac9$7a232140$51d6f380@PMCMG01.nottingham.ac.uk>
Message-ID: <news2mail-3C750585.B4D8CCA6@epigenomics.com>


Dear R-help group,

I have a two-way ANOVA with two crossed
random factors, no nesting. Each factor has
three levels, resulting in 9 cells for the
experiment. Each cell contains 10 repetitions.
According to the ANOVA model I assume equal
variances for all levels per factor.

I would like to get REML-estimates for the
variances of the two factors and moreover
get confidence intervals for these estimates,
so the use of the nlme-package seems to be
a good idea.

My problem in the first place is to formulate
the model itself for the lme-function.
The fixed part would at most consist of
the intercept, resulting in
	fixed= response ~ 1
and the random part would be
	random = ~ a + b
but I have no idea what my gouping factor
there should be. 
Could somebody please point me in the
right direction ?

Sorry if this turns out to be an extremely
simple question, I'm a newbie to R ...

Many greetings,

	Susanne

----

Susanne Schwenke
 
Epigenomics AG          www.epigenomics.com           Kastanienallee 24
+4930243450                                              10435 Berlin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ml-r-help at epigenomics.com  Thu Feb 21 15:37:44 2002
From: ml-r-help at epigenomics.com (Susanne Schwenke)
Date: Thu, 21 Feb 2002 15:37:44 +0100
Subject: [R] nlme - Variance Estimation
Message-ID: <news2mail-3C750638.D8FFD019@epigenomics.com>

Dear R-help group,

I have a two-way ANOVA with two crossed
random factors, no nesting. Each factor has
three levels, resulting in 9 cells for the
experiment. Each cell contains 10 repetitions.
According to the ANOVA model I assume equal
variances for all levels per factor.

I would like to get REML-estimates for the
variances of the two factors and moreover
get confidence intervals for these estimates,
so the use of the nlme-package seems to be
a good idea.

My problem in the first place is to formulate
the model itself for the lme-function.
The fixed part would at most consist of
the intercept, resulting in
        fixed= response ~ 1
and the random part would be
        random = ~ a + b
but I have no idea what my gouping factor
there should be. 
Could somebody please point me in the
right direction ?

Sorry if this turns out to be an extremely
simple question, I'm a newbie to R ...

Many greetings,

        Susanne



-- 
Susanne Schwenke
 
Epigenomics AG          www.epigenomics.com           Kastanienallee 24
+4930243450                                              10435 Berlin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dbickel at mail.mcg.edu  Thu Feb 21 16:10:51 2002
From: dbickel at mail.mcg.edu (David R. Bickel)
Date: Thu, 21 Feb 2002 10:10:51 -0500
Subject: [R] Re: ... read.table on Mac OS 10 
In-Reply-To: <1014301939.456BOYDJ@mail.rx.uga.edu>
Message-ID: <31CED8C9-26DD-11D6-A296-000393021810@mail.mcg.edu>

Hi Jason,

Since you need immediate results, I recommend that you use the MacOS 
version of R instead. The R web site has a Carbon OS X version that is 
much easier to install and use than the Darwin version. I have been 
using the Carbon version in my data analysis and I haven't encountered 
any bugs with read.table or anything else.

Best wishes,
David

http://www.mcg.edu/research/biostat/bickel.html

David R. Bickel, PhD
Assistant Professor
Medical College of Georgia
Office of Biostatistics and Bioinformatics
1120 Fifteenth St., AE-3037
Augusta, GA 30912-4900

Tel.: 706-721-4697; Fax: 706-721-6294
E-mail: dbickel at mail.mcg.edu or bickel at prueba.info
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 666 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020221/98fc4385/attachment.bin

From bates at stat.wisc.edu  Thu Feb 21 16:18:38 2002
From: bates at stat.wisc.edu (Douglas Bates)
Date: 21 Feb 2002 09:18:38 -0600
Subject: [R] nlme - Confidence Interval for Variance in ANOVA
In-Reply-To: <news2mail-3C750585.B4D8CCA6@epigenomics.com>
References: <008d01c1bac9$7a232140$51d6f380@PMCMG01.nottingham.ac.uk>
	<news2mail-3C750585.B4D8CCA6@epigenomics.com>
Message-ID: <6rit8qualt.fsf@franz.stat.wisc.edu>

Susanne Schwenke <ml-r-help at epigenomics.com> writes:

> Dear R-help group,
> 
> I have a two-way ANOVA with two crossed random factors, no
> nesting. Each factor has three levels, resulting in 9 cells for the
> experiment. Each cell contains 10 repetitions.  According to the
> ANOVA model I assume equal variances for all levels per factor.
> 
> I would like to get REML-estimates for the variances of the two
> factors and moreover get confidence intervals for these estimates,
> so the use of the nlme-package seems to be a good idea.
> 
> My problem in the first place is to formulate the model itself for
> the lme-function.  The fixed part would at most consist of the
> intercept, resulting in
> 	fixed= response ~ 1
> and the random part would be
> 	random = ~ a + b
> but I have no idea what my gouping factor there should be.  Could
> somebody please point me in the right direction ?
> 
> Sorry if this turns out to be an extremely simple question, I'm a
> newbie to R ...
> 
> Many greetings,
> 
> 	Susanne
> 
> ----
> 
> Susanne Schwenke
>  
> Epigenomics AG          www.epigenomics.com           Kastanienallee 24
> +4930243450                                              10435 Berlin

The answer to your question is not "extremely simple".  It happens
that the lme function is much better suited to nested random effects
than to crossed random effects.  To estimate crossed random effects
you must create an awkward formulation with a grouping factor that has
one level and the random effects model matrix based on the indicators
for factor a and the indicators for factor b.  These two sets of
random effects each have variance-covariance matrices that are
multiples of an identity and the are grouped together as a
block-diagonal matrix.  The whole formulation is

 lme(response ~ 1, data = myData, 
     random = pdBlocked(list(pdIdent(~ a - 1), pdIdent(~ b - 1))))

and myData must be a groupedData object with a grouping factor that
has only one level.

There is an example of fitting crossed random effects in section 4.2
of Pinheiro and Bates (2000) "Mixed-effects Models in S and S-PLUS",
Springer.  That example happens to have two blocks and a random effect
for the block is added.  If we fit a single block it would look like


> library(nlme)
Loading required package: nls 
> data(Assay)
> formula(Assay)
logDens ~ 1 | Block
> summary(Assay)
 Block  sample dilut     logDens        
 2:30   a:10   1:12   Min.   :-0.23319  
 1:30   b:10   2:12   1st Qu.: 0.08404  
        c:10   3:12   Median : 0.31183  
        d:10   4:12   Mean   : 0.27300  
        e:10   5:12   3rd Qu.: 0.51175  
        f:10          Max.   : 0.67549  
> B1 <- subset(Assay, Block == 1)
> fm1 <- lme(logDens ~ 1, B1,
+ random = pdBlocked(list(pdIdent(~ sample - 1), pdIdent(~ dilut - 1))))
> summary(fm1)
Linear mixed-effects model fit by REML
 Data: B1 
        AIC       BIC   logLik
  -42.21756 -36.74837 25.10878

Random effects:
 Composite Structure: Blocked

 Block 1: samplea, sampleb, samplec, sampled, samplee, samplef
 Formula: ~sample - 1 | Block
 Structure: Multiple of an Identity
           samplea    sampleb    samplec    sampled    samplee    samplef
StdDev: 0.09128746 0.09128746 0.09128746 0.09128746 0.09128746 0.09128746

 Block 2: dilut1, dilut2, dilut3, dilut4, dilut5
 Formula: ~dilut - 1 | Block
 Structure: Multiple of an Identity
           dilut1    dilut2    dilut3    dilut4    dilut5   Residual
StdDev: 0.2903284 0.2903284 0.2903284 0.2903284 0.2903284 0.05280506

Fixed effects: logDens ~ 1 
                Value Std.Error DF  t-value p-value
(Intercept) 0.2847687 0.1354251 29 2.102776  0.0443

Standardized Within-Group Residuals:
       Min         Q1        Med         Q3        Max 
-2.3867399 -0.3489126  0.0328683  0.3878895  2.0134090 

Number of Observations: 30
Number of Groups: 1 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From W.Simpson at gcal.ac.uk  Thu Feb 21 16:19:51 2002
From: W.Simpson at gcal.ac.uk (Bill Simpson)
Date: Thu, 21 Feb 2002 15:19:51 +0000 (GMT)
Subject: [R] layout and labels
In-Reply-To: <Pine.LNX.4.10.10202211351090.5021-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.10.10202211518260.5072-100000@localhost.localdomain>

To clarify, I wanted something like this:

  |--------|  |--------|
  |        |  |        |
  |        |  |        |
s |        |  |        |
i |        |  |        |
x |--------|  |--------|
a
  |--------|  |--------|
y |        |  |        |
  |        |  |        |
s |        |  |        |
i |        |  |        |
  |--------|  |--------|
s
i |--------|  |--------|
h |        |  |        |
T |        |  |        |
  |        |  |        |
  |        |  |        |
  |--------|  |--------|
      
	  x axis

(y axis lettering should be rotated)

Thanks for any help.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From W.Simpson at gcal.ac.uk  Thu Feb 21 16:24:31 2002
From: W.Simpson at gcal.ac.uk (Bill Simpson)
Date: Thu, 21 Feb 2002 15:24:31 +0000 (GMT)
Subject: [R] layout and labels
In-Reply-To: <Pine.LNX.4.10.10202211351090.5021-100000@localhost.localdomain>
Message-ID: <Pine.LNX.4.10.10202211523360.5072-100000@localhost.localdomain>

OK got it:

mtext("x axis",side=1,outer=TRUE)
mtext("y axis",side=2,outer=TRUE)
Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dbickel at mail.mcg.edu  Thu Feb 21 16:24:30 2002
From: dbickel at mail.mcg.edu (David R. Bickel)
Date: Thu, 21 Feb 2002 10:24:30 -0500
Subject: [R] Summary re: read.table on Mac OS 10 
In-Reply-To: <Pine.LNX.4.31.0202210649080.19128-100000@gannet.stats>
Message-ID: <19ED32CF-26DF-11D6-A296-000393021810@mail.mcg.edu>

Prof. Ripley,

I encountered the read.table problem in the Darwin version using 
as.is=TRUE, but not with as.is=FALSE. It gives different results than 
the Carbon version does. The output for each version follows; 'temp' is 
a two-line text file with three tab-delimited columns.

UNDER DARWIN:
 > read.table('temp')
               V1   V2   V3
1 AFFX-BioB-5_at -214 -139
2 AFFX-BioB-M_at  -49  -11
 > read.table('temp',as.is=TRUE)
stack imbalance in internal type.convert, 26 then 25stack imbalance in 
Internal, 25 then 24
stack imbalance in if, 19 then 18
stack imbalance in <-, 17 then 16
stack imbalance in {, 15 then 14
stack imbalance in for, 8 then 7
stack imbalance in {, 6 then 5
               V1   V2   V3
1 AFFX-BioB-5_at -214 -139
2 AFFX-BioB-M_at  -49  -11
Error: unprotect(): stack imbalance

UNDER CARBON:
 > read.table('temp')
               V1   V2   V3
1 AFFX-BioB-5_at -214 -139
2 AFFX-BioB-M_at  -49  -11
 > read.table('temp',as.is=TRUE)
               V1   V2   V3
1 AFFX-BioB-5_at -214 -139
2 AFFX-BioB-M_at  -49  -11

Best regards,
David


On Thursday, February 21, 2002, at 02:13 X, Prof Brian Ripley wrote:

> Neither of you have anywhere told us what the actual error message was
> in problem number 3.

http://www.mcg.edu/research/biostat/bickel.html

David R. Bickel, PhD
Assistant Professor
Medical College of Georgia
Office of Biostatistics and Bioinformatics
1120 Fifteenth St., AE-3037
Augusta, GA 30912-4900

Tel.: 706-721-4697; Fax: 706-721-6294
E-mail: dbickel at mail.mcg.edu or bickel at prueba.info

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Feb 21 16:29:21 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Feb 2002 16:29:21 +0100
Subject: [R] Summary re: read.table on Mac OS 10
In-Reply-To: <19ED32CF-26DF-11D6-A296-000393021810@mail.mcg.edu>
References: <19ED32CF-26DF-11D6-A296-000393021810@mail.mcg.edu>
Message-ID: <x2664qj1ke.fsf@blueberry.kubism.ku.dk>

"David R. Bickel" <dbickel at mail.mcg.edu> writes:

> Prof. Ripley,
> 
> I encountered the read.table problem in the Darwin version using
> as.is=TRUE, but not with as.is=FALSE. It gives different results than
> the Carbon version does. The output for each version follows; 'temp'
> is a two-line text file with three tab-delimited columns.

That was a (system-independent) bug in 1.4.0 and fixed in 1.4.1. Are
you comparing identical versions?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Feb 21 16:31:46 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 21 Feb 2002 15:31:46 +0000 (GMT)
Subject: [R] Summary re: read.table on Mac OS 10 
In-Reply-To: <19ED32CF-26DF-11D6-A296-000393021810@mail.mcg.edu>
Message-ID: <Pine.LNX.4.31.0202211526360.23150-100000@gannet.stats>

That's not the current version of R.  When you update to 1.4.1 you'll
see the bug fix list includes this.

It transpired that the posting earlier today about the speed of read.table
on Darwin vs Carbon was also a difference in R version (1.4.0 vs 1.3.1).

Please do tell us the R version(s) you are using when posting.
Installing 1.x.1 to replace 1.x.0 is highly recommended, for all values of
x.

On Thu, 21 Feb 2002, David R. Bickel wrote:

> Prof. Ripley,
>
> I encountered the read.table problem in the Darwin version using
> as.is=TRUE, but not with as.is=FALSE. It gives different results than
> the Carbon version does. The output for each version follows; 'temp' is
> a two-line text file with three tab-delimited columns.
>
> UNDER DARWIN:
>  > read.table('temp')
>                V1   V2   V3
> 1 AFFX-BioB-5_at -214 -139
> 2 AFFX-BioB-M_at  -49  -11
>  > read.table('temp',as.is=TRUE)
> stack imbalance in internal type.convert, 26 then 25stack imbalance in
> Internal, 25 then 24
> stack imbalance in if, 19 then 18
> stack imbalance in <-, 17 then 16
> stack imbalance in {, 15 then 14
> stack imbalance in for, 8 then 7
> stack imbalance in {, 6 then 5
>                V1   V2   V3
> 1 AFFX-BioB-5_at -214 -139
> 2 AFFX-BioB-M_at  -49  -11
> Error: unprotect(): stack imbalance
>
> UNDER CARBON:
>  > read.table('temp')
>                V1   V2   V3
> 1 AFFX-BioB-5_at -214 -139
> 2 AFFX-BioB-M_at  -49  -11
>  > read.table('temp',as.is=TRUE)
>                V1   V2   V3
> 1 AFFX-BioB-5_at -214 -139
> 2 AFFX-BioB-M_at  -49  -11
>
> Best regards,
> David
>
>
> On Thursday, February 21, 2002, at 02:13 X, Prof Brian Ripley wrote:
>
> > Neither of you have anywhere told us what the actual error message was
> > in problem number 3.
>
> http://www.mcg.edu/research/biostat/bickel.html
>
> David R. Bickel, PhD
> Assistant Professor
> Medical College of Georgia
> Office of Biostatistics and Bioinformatics
> 1120 Fifteenth St., AE-3037
> Augusta, GA 30912-4900
>
> Tel.: 706-721-4697; Fax: 706-721-6294
> E-mail: dbickel at mail.mcg.edu or bickel at prueba.info
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From york at noaa.gov  Thu Feb 21 16:37:43 2002
From: york at noaa.gov (Anne York)
Date: Thu, 21 Feb 2002 07:37:43 -0800 (PST)
Subject: [R] Pointer to covariates?
In-Reply-To: <Pine.LNX.4.44.0202210930490.1759-100000@tal.stat.umu.se>
Message-ID: <Pine.GSO.4.05.10202210736170.27487-100000@ofis450a.akctr.noaa.gov>

Here is another idea, but the overhead might be just as great.

dat_data.frame(y=1:3,x1=c(1,0,1),x2=c(0,1,0))
dat.unique_unique(paste(as.character(dat$x1),as.character(dat$x2)))
dat.keys_match(paste(as.character(dat$x1),as.character(dat$x2)),dat.unique)


> > dat
  y x1 x2
1 1  1  0
2 2  0  1
3 3  1  0
> dat.unique
[1] "1 0" "0 1"
> dat.keys
[1] 1 2 1
> 


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Anne E. York
National Marine Mammal Laboratory
Seattle WA 98115-0070  USA
e-mail: anne.york at noaa.gov
Voice: +1 206-526-4039
Fax: +1 206-526-6615
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

On Thu, 21 Feb 2002, [iso-8859-1] Göran Broström wrote:

>On Wed, 20 Feb 2002, Gabor Grothendieck wrote:
>
>> In the first line, use the dist function, found in library mva,
>> to get the distance between each pair of rows.   From this
>> calculate an incidence matrix for which element i,j is true if 
>> row i in dat equals row j in dat (and false elsewhere).
>> 
>> In the second line, for each row calculate the indices of 
>> the matching rows and take the minimum of those as the key.
>> 
>> incid <- as.matrix(dist(dat[,-1],method="max"))==0
>> keys <- unlist(lapply(apply(incid,1,which),min))
>
>Thank you very much! This is very fast, much faster than my attempts
>so far, but it has two drawbacks:
>
>1. It  gives pointers to first occurrences in the _original_ data frame,
>not the 'unique' version.
>
>2. The first step results in a _huge_ matrix 'incid', too huge for my 
>applications.
>
>However, this is a promising first attempt, and I will try to refine
>the idea. Again, thanks!
>
>Göran
>
>> 
>> --- Göran Broström <gb at stat.umu.se> wrote:
>> >I have a dataframe 'dat' with one response and some covariates. Many 
>> >observations  (rows), but only a few unique combinations of 
>> >the covariates. Let's say that the response is in column 1, and 
>> >the covariates in columns 2:k.
>> >
>> >I want to do 
>> >
>> >> covar <- unique.data.frame(dat[, 2:k])
>> >> y <- dat[, 1]
>> >> keys <- ??????
>> >
>> >where 'keys' should be a vector of length length(y) and contain the
>> >row numbers in 'covar', where the response will find its covariates.
>> >
>> >Example:
>> >
>> >> dat
>> >  y x1 x2
>> >1 1  1  0
>> >2 2  0  1
>> >3 3  1  0
>> >
>> >> unique.data.frame(dat[, 2:3])
>> >  x1 x2
>> >1  1  0
>> >2  0  1
>> >
>> >> keys
>> >1  1
>> >2  2
>> >3  1
>> >
>> >But how do I get 'keys'?
>> >-- 
>> > Göran Broström                      tel: +46 90 786 5223
>> > professor                           fax: +46 90 786 6614
>> > Department of Statistics            http://www.stat.umu.se/egna/gb/
>> > Umeå University
>> > SE-90187 Umeå, Sweden             e-mail: gb at stat.umu.se
>> >
>> >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>> >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>> >Send "info", "help", or "[un]subscribe"
>> >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>> >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>> 
>> _____________________________________________________________
>> 
>> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>> Send "info", "help", or "[un]subscribe"
>> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>> 
>
>-- 
> Göran Broström                      tel: +46 90 786 5223
> professor                           fax: +46 90 786 6614
> Department of Statistics            http://www.stat.umu.se/egna/gb/
> Umeå University
> SE-90187 Umeå, Sweden             e-mail: gb at stat.umu.se
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dbickel at mail.mcg.edu  Thu Feb 21 16:40:32 2002
From: dbickel at mail.mcg.edu (David R. Bickel)
Date: Thu, 21 Feb 2002 10:40:32 -0500
Subject: [R] Summary re: read.table on Mac OS 10 
In-Reply-To: <Pine.LNX.4.31.0202211526360.23150-100000@gannet.stats>
Message-ID: <572764FC-26E1-11D6-A296-000393021810@mail.mcg.edu>

Unfortunately, 1.4.1 is not available from Fink and using "fink intall 
r-recommended" is the only way I have been able to successfully install 
R.

On Thursday, February 21, 2002, at 10:31 X, Prof Brian Ripley wrote:

> That's not the current version of R.  When you update to 1.4.1 you'll
> see the bug fix list includes this.
>
> It transpired that the posting earlier today about the speed of 
> read.table
> on Darwin vs Carbon was also a difference in R version (1.4.0 vs 1.3.1).
>
> Please do tell us the R version(s) you are using when posting.
> Installing 1.x.1 to replace 1.x.0 is highly recommended, for all values 
> of
> x.
>
> On Thu, 21 Feb 2002, David R. Bickel wrote:
>
>> Prof. Ripley,
>>
>> I encountered the read.table problem in the Darwin version using
>> as.is=TRUE, but not with as.is=FALSE. It gives different results than
>> the Carbon version does. The output for each version follows; 'temp' is
>> a two-line text file with three tab-delimited columns.
>>
>> UNDER DARWIN:
>>> read.table('temp')
>>                V1   V2   V3
>> 1 AFFX-BioB-5_at -214 -139
>> 2 AFFX-BioB-M_at  -49  -11
>>> read.table('temp',as.is=TRUE)
>> stack imbalance in internal type.convert, 26 then 25stack imbalance in
>> Internal, 25 then 24
>> stack imbalance in if, 19 then 18
>> stack imbalance in <-, 17 then 16
>> stack imbalance in {, 15 then 14
>> stack imbalance in for, 8 then 7
>> stack imbalance in {, 6 then 5
>>                V1   V2   V3
>> 1 AFFX-BioB-5_at -214 -139
>> 2 AFFX-BioB-M_at  -49  -11
>> Error: unprotect(): stack imbalance
>>
>> UNDER CARBON:
>>> read.table('temp')
>>                V1   V2   V3
>> 1 AFFX-BioB-5_at -214 -139
>> 2 AFFX-BioB-M_at  -49  -11
>>> read.table('temp',as.is=TRUE)
>>                V1   V2   V3
>> 1 AFFX-BioB-5_at -214 -139
>> 2 AFFX-BioB-M_at  -49  -11
>>
>> Best regards,
>> David
>>
>>
>> On Thursday, February 21, 2002, at 02:13 X, Prof Brian Ripley wrote:
>>
>>> Neither of you have anywhere told us what the actual error message was
>>> in problem number 3.

http://www.mcg.edu/research/biostat/bickel.html

David R. Bickel, PhD
Assistant Professor
Medical College of Georgia
Office of Biostatistics and Bioinformatics
1120 Fifteenth St., AE-3037
Augusta, GA 30912-4900

Tel.: 706-721-4697; Fax: 706-721-6294
E-mail: dbickel at mail.mcg.edu or bickel at prueba.info
>>
>>
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Thu Feb 21 17:00:52 2002
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 21 Feb 2002 11:00:52 -0500
Subject: [R] using GUI
In-Reply-To: <$itHAJAXXOd8Ewkr@myatt.demon.co.uk>
References: <5F1F573BE938D411836100805FD6593D1B8336@neon.orau.gov>
 <5F1F573BE938D411836100805FD6593D1B8336@neon.orau.gov>
Message-ID: <5.1.0.14.2.20020221105837.01d9e568@mcmail.cis.mcmaster.ca>

Dear Mark and Janice,

At 12:19 PM 2/21/2002 +0000, Mark Myatt wrote:


>Interaction with graphs is limited in R. I have seen it linked to XGOBI
>and a GIS system doing some pretty dynamic stuff but, I think, getting
>it all running together might be tricky.

Actually, I found that it was quite straightforward to get Rggobi to work 
on a Windows 2000 system (although it occasionally crashes R). Information 
is available at <http://www.ggobi.org/>.

John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From WatkinsJ at orau.gov  Thu Feb 21 16:59:01 2002
From: WatkinsJ at orau.gov (Watkins, Janice)
Date: Thu, 21 Feb 2002 10:59:01 -0500
Subject: [R] using GUI
Message-ID: <5F1F573BE938D411836100805FD6593D1B8347@neon.orau.gov>

I've got Windows 98 but will give it a try.  Thanks.

-----Original Message-----
From: John Fox [mailto:jfox at mcmaster.ca]
Sent: Thursday, February 21, 2002 11:01 AM
To: Mark Myatt; Watkins, Janice
Cc: 'r-help at stat.math.ethz.ch'
Subject: Re: [R] using GUI


Dear Mark and Janice,

At 12:19 PM 2/21/2002 +0000, Mark Myatt wrote:


>Interaction with graphs is limited in R. I have seen it linked to XGOBI
>and a GIS system doing some pretty dynamic stuff but, I think, getting
>it all running together might be tricky.

Actually, I found that it was quite straightforward to get Rggobi to work 
on a Windows 2000 system (although it occasionally crashes R). Information 
is available at <http://www.ggobi.org/>.

John
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Thu Feb 21 17:08:43 2002
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 21 Feb 2002 11:08:43 -0500
Subject: [R] Re: Factor analysis of categorical or mixed
  categorical/continuousdata in [R]
In-Reply-To: <008d01c1bac9$7a232140$51d6f380@PMCMG01.nottingham.ac.uk>
Message-ID: <5.1.0.14.2.20020221110115.01da4670@mcmail.cis.mcmaster.ca>

At 11:18 AM 2/21/2002 +0000, Dr Stuart Leask wrote:
>I am looking to fit one or more latent categorical variables to data that is
>a mixture of categorical and continuous variables. Factor analysis would
>work for continuous data, latent class analysis for categorical data. I
>understand that in a package such as MPlus I could perform a single analysis
>of both data types. Are there similar routines available in R?

Dear Stuart,

If memory serves me, a common approach is to use tetrachoric correlations 
(for dichotomous data), polychoric correlations (for ordered-category 
data), and point-biserial and polyserial correlations (for mixed data). If 
you want to do inference, then this approach gets complicated (requiring 
asymptotic sampling covariances for the correlations), but for a 
descriptive factor analysis, it should be reasonably straightforward.

I'm not aware of any facility for calculating these kinds of correlations 
in R, but programming them shouldn't be too hard. I may add this at some 
point to the sem package.

I hope that this helps,
  John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Feb 21 17:27:38 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Feb 2002 17:27:38 +0100
Subject: [R] Re: Factor analysis of categorical or mixed categorical/continuousdata in [R]
In-Reply-To: <5.1.0.14.2.20020221110115.01da4670@mcmail.cis.mcmaster.ca>
References: <5.1.0.14.2.20020221110115.01da4670@mcmail.cis.mcmaster.ca>
Message-ID: <x2wux6hkat.fsf@blueberry.kubism.ku.dk>

John Fox <jfox at mcmaster.ca> writes:

> At 11:18 AM 2/21/2002 +0000, Dr Stuart Leask wrote:
> >I am looking to fit one or more latent categorical variables to data that is
> >a mixture of categorical and continuous variables. Factor analysis would
> >work for continuous data, latent class analysis for categorical data. I
> >understand that in a package such as MPlus I could perform a single analysis
> >of both data types. Are there similar routines available in R?
> 
> Dear Stuart,
> 
> If memory serves me, a common approach is to use tetrachoric
> correlations (for dichotomous data), polychoric correlations (for
> ordered-category data), and point-biserial and polyserial correlations
> (for mixed data). If you want to do inference, then this approach gets
> complicated (requiring asymptotic sampling covariances for the
> correlations), but for a descriptive factor analysis, it should be
> reasonably straightforward.
> 
> I'm not aware of any facility for calculating these kinds of
> correlations in R, but programming them shouldn't be too hard. I may
> add this at some point to the sem package.

On the face of it (which is as far as I am able to see), it would seem
fairly easy to set up an MLE procedure if you treat all discrete
variables as obtained by setting cutpoints on continuous latent
variables. I suspect this is what MPlus is doing. The requisite normal
integrals should be available through library(mvtnorm).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Feb 21 17:33:58 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 21 Feb 2002 08:33:58 -0800 (PST)
Subject: [R] Pointer to covariates?
In-Reply-To: <Pine.GSO.4.05.10202210736170.27487-100000@ofis450a.akctr.noaa.gov>
Message-ID: <Pine.A41.4.44.0202210831250.72740-100000@homer37.u.washington.edu>

On Thu, 21 Feb 2002, Anne York wrote:

> Here is another idea, but the overhead might be just as great.
>
> dat_data.frame(y=1:3,x1=c(1,0,1),x2=c(0,1,0))
> dat.unique_unique(paste(as.character(dat$x1),as.character(dat$x2)))
> dat.keys_match(paste(as.character(dat$x1),as.character(dat$x2)),dat.unique)
>
>

The overhead should be quite small: unique() and match() both use a
hashing algorithm that should give total time and space linear in the
number of data rows (unlike the quadratic time and space needed for the
dist() solution).


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Feb 21 17:43:10 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 21 Feb 2002 08:43:10 -0800 (PST)
Subject: [R] Re: Factor analysis of categorical or mixed categorical/continuousdata
 in [R]
In-Reply-To: <x2wux6hkat.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.A41.4.44.0202210834530.72740-100000@homer37.u.washington.edu>

On 21 Feb 2002, Peter Dalgaard BSA wrote:

>
> On the face of it (which is as far as I am able to see), it would seem
> fairly easy to set up an MLE procedure if you treat all discrete
> variables as obtained by setting cutpoints on continuous latent
> variables. I suspect this is what MPlus is doing. The requisite normal
> integrals should be available through library(mvtnorm).
>

My understanding is that the optimisation problem is difficult (even
worse than factor analysis).

OTOH it seems that L-BFGS-B in optim() can work miracles -- I've been
working on another problem related to factor analysis and optim() fits a
model with 4000 constrained parameters in a couple of minutes and gets the
right answer (in stark contrast to my prior attempts to write an optimiser
more tuned to the specific problem).


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at volcanomail.com  Thu Feb 21 17:44:46 2002
From: ggrothendieck at volcanomail.com (Gabor Grothendieck)
Date: Thu, 21 Feb 2002 08:44:46 -0800 (PST)
Subject: [R] Pointer to covariates?
Message-ID: <20020221164446.5562B2757@sitemail.everyone.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20020221/7a086d35/attachment.pl

From ripley at stats.ox.ac.uk  Thu Feb 21 18:16:58 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 21 Feb 2002 17:16:58 +0000 (GMT)
Subject: [R] Re: Factor analysis of categorical or mixed  categorical/continuousdata
 in [R]
In-Reply-To: <5.1.0.14.2.20020221110115.01da4670@mcmail.cis.mcmaster.ca>
Message-ID: <Pine.LNX.4.31.0202211701470.23311-100000@gannet.stats>

On Thu, 21 Feb 2002, John Fox wrote:

> At 11:18 AM 2/21/2002 +0000, Dr Stuart Leask wrote:
> >I am looking to fit one or more latent categorical variables to data that is
> >a mixture of categorical and continuous variables. Factor analysis would
> >work for continuous data, latent class analysis for categorical data. I
> >understand that in a package such as MPlus I could perform a single analysis
> >of both data types. Are there similar routines available in R?
>
> Dear Stuart,
>
> If memory serves me, a common approach is to use tetrachoric correlations
> (for dichotomous data), polychoric correlations (for ordered-category
> data), and point-biserial and polyserial correlations (for mixed data). If
> you want to do inference, then this approach gets complicated (requiring
> asymptotic sampling covariances for the correlations), but for a
> descriptive factor analysis, it should be reasonably straightforward.

Well, I'm confused.  Stuart said he wanted a latent *categorical*
variable, although that is not what factor analysis assumes, and John's
approach is presumably to do factor analysis and get continuous latent
variables out.

There really are tens of possible approaches even for continuous latent
variables and ordered categorical manifest variables.  All seem to boil
down to some algebra, some integration (perhaps numerical) and a good
constrained optimizer.  Given that the latent variable must affect the
manifest variable non-linearly, there are many possible links.
(Consider for example voter agreement variables, where `folding' can
occur.)

That's why I asked for *precise* details ....

> I'm not aware of any facility for calculating these kinds of correlations
> in R, but programming them shouldn't be too hard. I may add this at some
> point to the sem package.

Like factor analysis, finding good estimates is not an easy task, and
there are usually myriad local optima.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Thu Feb 21 18:05:55 2002
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 21 Feb 2002 12:05:55 -0500
Subject: [R] Re: Factor analysis of categorical or mixed
  categorical/continuousdata in [R]
In-Reply-To: <x2wux6hkat.fsf@blueberry.kubism.ku.dk>
References: <5.1.0.14.2.20020221110115.01da4670@mcmail.cis.mcmaster.ca>
 <5.1.0.14.2.20020221110115.01da4670@mcmail.cis.mcmaster.ca>
Message-ID: <5.1.0.14.2.20020221120455.01d4c948@mcmail.cis.mcmaster.ca>

Dear Peter,

At 05:27 PM 2/21/2002 +0100, Peter Dalgaard BSA wrote:
>John Fox <jfox at mcmaster.ca> writes:
>
> > At 11:18 AM 2/21/2002 +0000, Dr Stuart Leask wrote:
> > >I am looking to fit one or more latent categorical variables to data 
> that is
> > >a mixture of categorical and continuous variables. Factor analysis would
> > >work for continuous data, latent class analysis for categorical data. I
> > >understand that in a package such as MPlus I could perform a single 
> analysis
> > >of both data types. Are there similar routines available in R?
> >
> > Dear Stuart,
> >
> > If memory serves me, a common approach is to use tetrachoric
> > correlations (for dichotomous data), polychoric correlations (for
> > ordered-category data), and point-biserial and polyserial correlations
> > (for mixed data). If you want to do inference, then this approach gets
> > complicated (requiring asymptotic sampling covariances for the
> > correlations), but for a descriptive factor analysis, it should be
> > reasonably straightforward.
> >
> > I'm not aware of any facility for calculating these kinds of
> > correlations in R, but programming them shouldn't be too hard. I may
> > add this at some point to the sem package.
>
>On the face of it (which is as far as I am able to see), it would seem
>fairly easy to set up an MLE procedure if you treat all discrete
>variables as obtained by setting cutpoints on continuous latent
>variables. I suspect this is what MPlus is doing. The requisite normal
>integrals should be available through library(mvtnorm).

Indeed, this is what tetrachoric, etc., correlations do.

John


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jfox at mcmaster.ca  Thu Feb 21 18:48:12 2002
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 21 Feb 2002 12:48:12 -0500
Subject: [R] Re: Factor analysis of categorical or mixed 
  categorical/continuousdata in [R]
In-Reply-To: <Pine.LNX.4.31.0202211701470.23311-100000@gannet.stats>
References: <5.1.0.14.2.20020221110115.01da4670@mcmail.cis.mcmaster.ca>
Message-ID: <5.1.0.14.2.20020221124714.01d96300@mcmail.cis.mcmaster.ca>

Dear Brian,

At 05:16 PM 2/21/2002 +0000, Prof Brian Ripley wrote:


>Well, I'm confused.  Stuart said he wanted a latent *categorical*
>variable, although that is not what factor analysis assumes, and John's
>approach is presumably to do factor analysis and get continuous latent
>variables out.

Quite right -- I didn't read the original question carefully enough.

Sorry,
  John

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wang at rjka.com  Thu Feb 21 20:19:09 2002
From: wang at rjka.com (Huayin Wang)
Date: Thu, 21 Feb 2002 13:19:09 -0600
Subject: [R] question regarding to The tree Package for R
Message-ID: <003601c1bb0c$a4c35170$4cc809c0@pckrumm.com>

I have a problem with running the tree package (dec.8, 2001) for R.  The
problem is,
it will only give me 5/6 terminal node and then stop, while using Splus's
tree on the
same data with the same specification give me hundreds of nodes.

Here's a little more background info:

    R-1.4.1
    Solaris 5.7
    rpart  (most recent version)
    tree   (..)

    Splus 6.0
    Solaris 5.7
    tree

    dataset:
        100,000 records
        about 3 variables
        regression tree

    data read in from flat file,
    summary() on R and Splus showed identical distributions

    tree were run with all the deault setting (no mincut, minsize set etc)

    with added options: minsize=2, mindev=-1,  get the same small tree.

Did I miss anything?

thanks

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Thu Feb 21 20:29:27 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Thu, 21 Feb 2002 20:29:27 +0100 (MET)
Subject: [R] data.dump from S to R: no functions
In-Reply-To: <5F1F573BE938D411836100805FD6593D1B834C@neon.orau.gov>
Message-ID: <Pine.OSF.3.96.1020221202656.237A-100000@ija.csic.es>


Janice,

I echo to the rhelp list, it might be
useful for others. My answer is after your message.

On Thu, 21 Feb 2002, Watkins, Janice wrote:

> This isn't a reply that will help you solve your problem but instead a
> request for information.  Do you know an easy way to do a data.dump in
> S-Plus that excludes the functions?  What I always do is to keep copies of
> the functions in script files, delete the functions, do a data.daump, and
> then reinstall the functions by running the scripts.  I use S-Plus version
> 2000 on Windows 98.  Thanks in advance for you help, and I hope someone can
> help you solve your problem.
> 
> Janice Watkins
> 

Very simple. Use objects.summary:
Splus/G:/path-8/meteo/smeteo>a <- objects.summary()
Splus/G:/path-8/meteo/smeteo>a[1:3,]
             data.class storage.mode extent object.size
dataset.date 
 .Last.fixed  character    character      1          66
99.05.03  10:05
 .Last.value  character    character     15         683 102.02.21
20:0699.04.05  23:54
INM.casa.swb   function     function      4        2377
99.04.05  23:54

Then select those that are not a function:

Splus/G:/path-8/meteo/smeteo>a <- a[a[,1]!="function",]

Get the names:
Splus/G:/path-8/meteo/smeteo>b <- dimnames(a)[[1]]
Splus/G:/path-8/meteo/smeteo>b
 [1]            ".Last.fixed"            ".Last.value"
"INM.cods"     "INMS.clima.pre.cl1"
 [5]    "INMS.clima.pre.cl12"     "INMS.clima.pre.cl4"
etc.

Then if you want you can select in b:

Splus/G:/path-8/meteo/smeteo>b <- b[-c(1,2,32,33,34)]

And finally data.dump:

Splus/G:/path-8/meteo/smeteo>data.dump(b,file="G:/nofunciones.dmb")

You can also write a simple function that would list only
non-function objects (i.e., lsnofun()), usiing the same approach.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rod.chav at hsoft.es  Thu Feb 21 21:59:14 2002
From: rod.chav at hsoft.es (antonio)
Date: Thu, 21 Feb 2002 21:59:14 +0100
Subject: [R] about netCDF
Message-ID: <02022121591400.01160@Yerupaja>

Hi,

I would like to ask a couple of questions about netCDF package:

1) I have COADS data in .cdf format. Data are from a 1?x1? grid 
for lat: x1-x2, lon: y1-y2, monthly values since 1960
2) I manage to open and read the file in R with your package without any 
problem.
3) After opening and reading the file, how do I can manage the data. Is to 
say, how do I can plot contours for an specific month or how do I can 
average, for example, all the Jan, Feb, etc and then calculate anomalies. 

Thanks in advance,

Antonio Rodr?guez
CICEM Agua del Pino
Huelva, Spain

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pfaffman at relaxpc.com  Fri Feb 22 00:38:32 2002
From: pfaffman at relaxpc.com (Jay Pfaffman)
Date: Thu, 21 Feb 2002 15:38:32 -0800
Subject: [R] help understanding box plots
Message-ID: <200202212338.g1LNcWj02322@aaalab.Stanford.EDU>

Another naive stats question.  I'm trying to better understand what
boxplots are telling me.  

I think what I see is the median and the boundaries of the 1st and 3rd
quartiles.  The whiskers represent the range of the data unless there
are points which are outside "range" (default: 1.5) times the distance
from the median to that quartile.  Is that right?  I've read the
documentation for boxplot numerous times, but don't quite understand
it well enough to communicate it to my professor who's helping me with
this project.  (You'll be relieved to know that neither of us fancies
ourself a statistician!)

V&R (p. 122) claims that the hinges are "roughly quartiles," so
perhaps my naive understanding is close enough.

I've got a relatively small data set (n~=12).  I think it would help
to see the data points plotted on top of the boxplots.  Here's what
I'm doing now:

    par(las=2,ps=14,mar=c(15, 4, 4, 2))
    boxplot(split(ranks,c(1:25)), names=items, notch=T, horizontal=F, add=F)

If I could get the points of each of the 25 variables plotted on top
of the box, that'd be great.

Thanks as always.

-- 
Jay Pfaffman                           pfaffman at relaxpc.com
+1-415-821-7507 (H)                    +1-415-810-2238 (M)
http://relax.ltc.vanderbilt.edu/~pfaffman/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From carlos.ortega at minorplanet.com  Fri Feb 22 09:13:31 2002
From: carlos.ortega at minorplanet.com (Carlos Ortega)
Date: Fri, 22 Feb 2002 09:13:31 +0100
Subject: [R] question regarding to The tree Package for R
In-Reply-To: <003601c1bb0c$a4c35170$4cc809c0@pckrumm.com>
Message-ID: <016d01c1bb78$d13a67e0$176ea8c0@MinorplanetDev>

Hello,

Recently it was posted in this Help for a similar question that the package
to
use is "rpart" in any case, it seems that in your case the configuration
parameters
for the tree are different in the R version you have. You can set up several
different
parameters in "tree" to define which are the minimum number of observations
to
partition. If I do not remember wrongly, in S-Plus this number is 5.

Carlos Ortega.


-----Mensaje original-----
De: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]En nombre de Huayin Wang
Enviado el: jueves, 21 de febrero de 2002 20:19
Para: r-help at stat.math.ethz.ch
Asunto: [R] question regarding to The tree Package for R


I have a problem with running the tree package (dec.8, 2001) for R.  The
problem is,
it will only give me 5/6 terminal node and then stop, while using Splus's
tree on the
same data with the same specification give me hundreds of nodes.

Here's a little more background info:

    R-1.4.1
    Solaris 5.7
    rpart  (most recent version)
    tree   (..)

    Splus 6.0
    Solaris 5.7
    tree

    dataset:
        100,000 records
        about 3 variables
        regression tree

    data read in from flat file,
    summary() on R and Splus showed identical distributions

    tree were run with all the deault setting (no mincut, minsize set etc)

    with added options: minsize=2, mindev=-1,  get the same small tree.

Did I miss anything?

thanks

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


_____
The information in this email is confidential and it may not be
disclosed or used by anyone other than the addressee. If you are not the
intended recipient, any disclosure, copying, distribution or any action taken or
omitted is prohibited and may be unlawful.
Minorplanet cannot accept responsibility for the accuracy or completeness of
this email as it has been transmitted over a public network. If you suspect
that the email may have been amended, please call the sender.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hennig at stat.math.ethz.ch  Fri Feb 22 10:20:52 2002
From: hennig at stat.math.ethz.ch (Christian Hennig)
Date: Fri, 22 Feb 2002 10:20:52 +0100 (CET)
Subject: [R] Avoiding the mean
Message-ID: <Pine.LNX.4.33.0202221015380.15865-100000@florence>

Dear list,

what is the fastest way to compute a multivariate mean and cov-matrix? I
presume that the mean is computed in cov, so it may be a waste of time to
compute the mean first and then a second time inside of cov. Is it faster
to use cov.wt, which gives cov-matrix and center?
And: If mean and cov should be computed on a part of the data, is it faster 
to use cov.wt with some weights zero, or should cov (or cov.wt) be computed
on a subset?

Best,
Christian
 
-- 
***********************************************************************
Christian Hennig
Seminar fuer Statistik, ETH-Zentrum (LEO), CH-8092 Zuerich (current)
and Fachbereich Mathematik-SPST/ZMS, Universitaet Hamburg
hennig at stat.math.ethz.ch, http://stat.ethz.ch/~hennig/
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Thu Feb 21 17:24:31 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Thu, 21 Feb 2002 16:24:31 +0000
Subject: [R] using GUI
In-Reply-To: <5.1.0.14.2.20020221105837.01d9e568@mcmail.cis.mcmaster.ca>
References: <5F1F573BE938D411836100805FD6593D1B8336@neon.orau.gov>
 <5F1F573BE938D411836100805FD6593D1B8336@neon.orau.gov>
 <$itHAJAXXOd8Ewkr@myatt.demon.co.uk>
 <5.1.0.14.2.20020221105837.01d9e568@mcmail.cis.mcmaster.ca>
Message-ID: <c9X$nrA$8Rd8Ewwh@myatt.demon.co.uk>

John,

You write:

>>Interaction with graphs is limited in R. I have seen it linked to XGOBI
>>and a GIS system doing some pretty dynamic stuff but, I think, getting
>>it all running together might be tricky.
>
>Actually, I found that it was quite straightforward to get Rggobi to work 
>on a Windows 2000 system (although it occasionally crashes R). Information 
>is available at <http://www.ggobi.org/>.

I shall have to give it a try. These things always look harder in the
documentation than they actually are.

Thanks,

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Fri Feb 22 10:54:40 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Fri, 22 Feb 2002 10:54:40 +0100 (MET)
Subject: [R] about netCDF
In-Reply-To: <02022121591400.01160@Yerupaja>
Message-ID: <Pine.OSF.3.96.1020222094649.10290E-100000@ija.csic.es>


After read.netCDF, use str() on the resulting
R object to see how it is organized. For example,
in one of my cases I have:

> str(npp2)
List of 9
 $ longitude   : num [, 1:90] -178 -174 -170 -166 -162 -158 -154 -150 -146
-142 ...
  ..- attr(*, "long_name")= chr "longitude"
  ..- attr(*, "units")= chr "degrees_east"
 $ latitude    : num [, 1:45] 88 84 80 76 72 68 64 60 56 52 ...
  ..- attr(*, "long_name")= chr "latitude"
  ..- attr(*, "units")= chr "degrees_north"
...
(output deleted here)
...
 $ npp         : num [1:5, 1:12, 1:45, 1:90] 9e+20 9e+20 9e+20 9e+20 9e+20
...
  ..- attr(*, "long_name")= chr "npp of carbon for each pft"
  ..- attr(*, "units")= chr "kg m-2 year-1"
  ..- attr(*, "missing_value")= num 9e+20
 $ npptot      : num [1:5, 1:45, 1:90] 9e+20 9e+20 9e+20 9e+20 9e+20 ...
  ..- attr(*, "long_name")= chr "total npp"
  ..- attr(*, "units")= chr "kg m-2 year-1"
  ..- attr(*, "missing_value")= num 9e+20
...
(more output deleted here)


There you can see, i.e., that npp is a numerical 4D array
with dimensions [1:5, 1:12, 1:45, 1:90], and that npptot 
is a 3D array with dimensions [1:5, 1:45, 1:90]

Then you can inquire more things on a
particular component, i.e.,
> attributes(npp2$npptot)
$dim
[1]  5 45 90

$"long_name"
[1] "total npp"

$units
[1] "kg m-2 year-1"

$"missing_value"
[1] 9e+20

Use R NA for missing values:

> range(a)
[1] -6.052019e-01  9.000000e+20
>  a[a == attributes(a)$"missing_value"] <- NA
> range(a,na.rm=T)
[1] -0.6052019  2.0153317

Add dimnames according to str(npp)

> dimnames(a) <- list(1901:1905,npp2$latitude,np2$longitude)

Global average Land npp for the period 1901-1905:
> mean(a,na.rm=T)
[1] 0.4340909

Average map of npp for  the period 1901-1905
a.medio <- apply(a,c(2,3),mean,na.rm=T)

1902 map of npp anomalies vs. the 1901-1905 mean:
a["1902",,] - a.medio

Plot a time profile:
plot(a[,"36","-6"],type="l",xlab="year",ylab="total npp (kg m-2 year-1)")

Plot a Latitude profile for year 1902 @ 22W:
plot(a["1902",,"22"],type="l",xlab="Latitude",ylab="Total Land NPP in 1902
Lon=22E (kg m-2 year-1)")

Plot a map of npp for 1903:
imagen(a["1903",,])

Check npp values interactively:
imaexplore(a["1903",,])

Hope this helps as an orientation. I can send you
npp2 if you need it.

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Thu, 21 Feb 2002, antonio wrote:

> Hi,
> 
> I would like to ask a couple of questions about netCDF package:
> 
> 1) I have COADS data in .cdf format. Data are from a 1ºx1º grid 
> for lat: x1-x2, lon: y1-y2, monthly values since 1960
> 2) I manage to open and read the file in R with your package without any 
> problem.
> 3) After opening and reading the file, how do I can manage the data. Is to 
> say, how do I can plot contours for an specific month or how do I can 
> average, for example, all the Jan, Feb, etc and then calculate anomalies. 
> 
> Thanks in advance,
> 
> Antonio Rodríguez
> CICEM Agua del Pino
> Huelva, Spain
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From meinhardploner at gmx.net  Fri Feb 22 11:23:29 2002
From: meinhardploner at gmx.net (Meinhard Ploner)
Date: Fri, 22 Feb 2002 11:23:29 +0100
Subject: [R] storing large data.frame's
Message-ID: <36D2483A-277E-11D6-9EE3-0003930EA956@gmx.net>

I am new on R, so I have a maybe naive question:

if I have many large data.frames and I use only one or two per session, 
what's the best way?
If all are stored in the actual .Rdata, the system gets slow.
On the other hand, I wouldn't like to make a separate package for the 
data.

Should I save it with save() and then remove it with rm() ?
Could I reload it then?

Thanks for suggestions
Meinhard Ploner



ps my system: R 1.4.1 on mac/darwin.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Fri Feb 22 11:45:18 2002
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Fri, 22 Feb 2002 11:45:18 +0100 (CET)
Subject: [R] Pointer to covariates?
In-Reply-To: <Pine.GSO.4.05.10202210736170.27487-100000@ofis450a.akctr.noaa.gov>
Message-ID: <Pine.LNX.4.44.0202221124520.5880-100000@tal.stat.umu.se>

On Thu, 21 Feb 2002, Anne York wrote:

> Here is another idea, but the overhead might be just as great.
> 
> dat_data.frame(y=1:3,x1=c(1,0,1),x2=c(0,1,0))
> dat.unique_unique(paste(as.character(dat$x1),as.character(dat$x2)))
> dat.keys_match(paste(as.character(dat$x1),as.character(dat$x2)),dat.unique)

This is very good! I made this function of it:

cro.ay.orig <- function(dat){
  covar <- unique(dat[, -1])
  dat.keys <-
    match(paste(dat$x1, dat$x2, sep = ""),
          paste(covar$x1, covar$x2, sep = ""))

  return(y = dat[, 1],
         covar = covar,
         keys = dat.keys)
}

and this is fast; with 'dat' containing 100000 observations, I get:

> unix.time(sor.ay.orig <- cro.ay.orig(dat[1:100000, c(1, 2, 5))) 

[1] 1.00 0.02 1.08 0.00 0.00

However, this function needs to be generalized, so I wrote:

cro.ay <- function(dat, response = 1){
  covar <- unique(dat[, -response, drop = FALSE])
  dat.keys <-
    match(apply(dat[, -response, drop = FALSE], 1, paste, collapse = ""),
          apply(covar, 1, paste, collapse = ""))
  return(y = dat[, response],
         covar = covar,
         keys = dat.keys)
}

but this was much slower (but acceptable) on the same data:

[1] 11.63  0.32 12.34  0.00  0.00

It is apparently the pasting row by row of the data frame,

 apply(covar, 1, paste, collapse = "")

that takes the time. Is there a better way of doing this?

Thanks for all the help!

G?ran

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Feb 22 11:52:54 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Feb 2002 11:52:54 +0100
Subject: [R] help understanding box plots
In-Reply-To: <200202212338.g1LNcWj02322@aaalab.Stanford.EDU>
References: <200202212338.g1LNcWj02322@aaalab.Stanford.EDU>
Message-ID: <x2g03tvldl.fsf@blueberry.kubism.ku.dk>

Jay Pfaffman <pfaffman at relaxpc.com> writes:

> Another naive stats question.  I'm trying to better understand what
> boxplots are telling me.  
> 
> I think what I see is the median and the boundaries of the 1st and 3rd
> quartiles.  The whiskers represent the range of the data unless there
> are points which are outside "range" (default: 1.5) times the distance
> from the median to that quartile.  Is that right? 

Not quite. 1.5 times the length of the entire box.

> I've read the
> documentation for boxplot numerous times, but don't quite understand
> it well enough to communicate it to my professor who's helping me with
> this project.  (You'll be relieved to know that neither of us fancies
> ourself a statistician!)

boxplot.stats.Rd had a typo and got updated recently in the
development and patch versions to read

  \item{coef}{this determines how far the plot ``whiskers'' extend out
    from the box.  If \code{coef} is positive, the whiskers extend to
    the
    most extreme data point which is no more than \code{coef} times
    the length of the box away from the box. A value of zero causes
    the whiskers
    to extend to the data extremes (and no outliers be returned).}

(for some reason this hasn't yet found its way to the online snapshot
manuals in http://stat.ethz.ch/R-alpha/R-devel/doc/html/ and friends.
Martin?)


> V&R (p. 122) claims that the hinges are "roughly quartiles," so
> perhaps my naive understanding is close enough.

Yes. The exact definition is slightly peculiar, but in compliance with
the original definition by Tukey. So I'm told, anyway.


> I've got a relatively small data set (n~=12).  I think it would help
> to see the data points plotted on top of the boxplots.  Here's what
> I'm doing now:
> 
>     par(las=2,ps=14,mar=c(15, 4, 4, 2))
>     boxplot(split(ranks,c(1:25)), names=items, notch=T, horizontal=F, add=F)
> 
> If I could get the points of each of the 25 variables plotted on top
> of the box, that'd be great.

Not sure what you're doing there, but maybe some code like this could
help:

 x1<-rnorm(20)
 x2<-rnorm(20)
 boxplot(list(x1=x1,x2=x2))
 points(cbind(1,x1))
 points(cbind(2,x2))


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Fri Feb 22 12:15:11 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Fri, 22 Feb 2002 12:15:11 +0100 (MET)
Subject: [R] R gnome produces errors?: a clue!
Message-ID: <Pine.OSF.3.96.1020222120544.10290I-100000@ija.csic.es>


I've got something that might be a clue to understand
the strange behaviour of lda in R --gui="gnome":

in R --vanilla:

library(MASS)
load("mod23puriflda.rda")

> a <- lda.default(x=mod23puriflda[,2:5],grouping=mod23puriflda[,6],CV=F)
works fine. I save lda.default as a local rda file:

> milda.nognome <- lda.default
> save(milda.nognome,file="milda.nognome.rda")

Then in R --vanilla --gui="gnome"

library(MASS)
load("mod23puriflda.rda")

> a
<-lda.default(x=mod23puriflda[,2:5],grouping=mod23puriflda[,6],CV=F,method="moment")
Error in lda.default(x = mod23puriflda[, 2:5], grouping = mod23puriflda[,
: 
	length of dimnames[2] not equal to array extent
In addition: Warning message: 
variables are collinear in: lda.default(x = mod23puriflda[, 2:5], grouping
= mod23puriflda[,  

Does not work, BUT:

> load("milda.nognome.rda")
> a <-
milda.nognome(x=mod23puriflda[,2:5],grouping=mod23puriflda[,6],CV=F,method="moment")

WORKS!!

and, still in  R --vanilla --gui="gnome", I save lda.default to another
rda file:

> milda.gnome <- lda.default
> save(milda.gnome,file="milda.gnome.rda")

Then back to R --vanilla

> load("milda.gnome.rda")
> a <- milda.gnome(x=mod23puriflda[,2:5],grouping=mod23puriflda[,6],CV=F)
Error in milda.gnome(x = mod23puriflda[, 2:5], grouping = mod23puriflda[,
:
        length of dimnames[2] not equal to array extent
In addition: Warning message:
variables are collinear in: milda.gnome(x = mod23puriflda[, 2:5], grouping
= mod23puriflda[,

Does not work !!

Therefore, gnome is really changing something, but what?

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Feb 22 12:14:29 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 22 Feb 2002 11:14:29 +0000 (GMT)
Subject: [R] Pointer to covariates?
In-Reply-To: <Pine.LNX.4.44.0202221124520.5880-100000@tal.stat.umu.se>
Message-ID: <Pine.LNX.4.31.0202221105500.28650-100000@gannet.stats>

On Fri, 22 Feb 2002, [iso-8859-1] Göran Broström wrote:

> On Thu, 21 Feb 2002, Anne York wrote:
>
> > Here is another idea, but the overhead might be just as great.
> >
> > dat_data.frame(y=1:3,x1=c(1,0,1),x2=c(0,1,0))
> > dat.unique_unique(paste(as.character(dat$x1),as.character(dat$x2)))
> > dat.keys_match(paste(as.character(dat$x1),as.character(dat$x2)),dat.unique)
>
> This is very good! I made this function of it:
>
> cro.ay.orig <- function(dat){
>   covar <- unique(dat[, -1])
>   dat.keys <-
>     match(paste(dat$x1, dat$x2, sep = ""),
>           paste(covar$x1, covar$x2, sep = ""))
>
>   return(y = dat[, 1],
>          covar = covar,
>          keys = dat.keys)
> }
>
> and this is fast; with 'dat' containing 100000 observations, I get:
>
> > unix.time(sor.ay.orig <- cro.ay.orig(dat[1:100000, c(1, 2, 5)))
>
> [1] 1.00 0.02 1.08 0.00 0.00
>
> However, this function needs to be generalized, so I wrote:
>
> cro.ay <- function(dat, response = 1){
>   covar <- unique(dat[, -response, drop = FALSE])
>   dat.keys <-
>     match(apply(dat[, -response, drop = FALSE], 1, paste, collapse = ""),
>           apply(covar, 1, paste, collapse = ""))
>   return(y = dat[, response],
>          covar = covar,
>          keys = dat.keys)
> }
>
> but this was much slower (but acceptable) on the same data:
>
> [1] 11.63  0.32 12.34  0.00  0.00
>
> It is apparently the pasting row by row of the data frame,
>
>  apply(covar, 1, paste, collapse = "")
>
> that takes the time. Is there a better way of doing this?

Very probably. Note that the original did not paste row-by-row.  You could
use do.call.  Here's an untested variant

match(do.call("paste", c(dat[, -response, drop = FALSE], sep="\001")),
      do.call("paste", c(covar,  sep="\001")))

Note also that I used a different separator ("\r" is also possible), as
that is much more likely to make a unique string.  See
duplicated.data.frame for the use of this.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Fri Feb 22 12:30:04 2002
From: plummer at iarc.fr (Martyn Plummer)
Date: Fri, 22 Feb 2002 12:30:04 +0100 (CET)
Subject: [R] R gnome produces errors?: a clue!
In-Reply-To: <Pine.OSF.3.96.1020222120544.10290I-100000@ija.csic.es>
Message-ID: <XFMail.20020222123004.plummer@iarc.fr>

Perhaps you are loading different versions of the MASS library,
depending on which interface you are using.

.path.package()

will tell you.

Martyn

On 22-Feb-2002 Agustin Lobo wrote: 
> I've got something that might be a clue to understand
> the strange behaviour of lda in R --gui="gnome":
> 
> in R --vanilla:
> 
> library(MASS)
> load("mod23puriflda.rda")
> 
>> a <- lda.default(x=mod23puriflda[,2:5],grouping=mod23puriflda[,6],CV=F)
> works fine. I save lda.default as a local rda file:
> 
>> milda.nognome <- lda.default
>> save(milda.nognome,file="milda.nognome.rda")
> 
> Then in R --vanilla --gui="gnome"
> 
> library(MASS)
> load("mod23puriflda.rda")
> 
>> a
> <-lda.default(x=mod23puriflda[,2:5],grouping=mod23puriflda[,6],CV=F,method="mo
> ment")
> Error in lda.default(x = mod23puriflda[, 2:5], grouping = mod23puriflda[,
>: 
>       length of dimnames[2] not equal to array extent
> In addition: Warning message: 
> variables are collinear in: lda.default(x = mod23puriflda[, 2:5], grouping
> = mod23puriflda[,  
> 
> Does not work, BUT:
> 
>> load("milda.nognome.rda")
>> a <-
> milda.nognome(x=mod23puriflda[,2:5],grouping=mod23puriflda[,6],CV=F,method="mo
> ment")
> 
> WORKS!!
> 
> and, still in  R --vanilla --gui="gnome", I save lda.default to another
> rda file:
> 
>> milda.gnome <- lda.default
>> save(milda.gnome,file="milda.gnome.rda")
> 
> Then back to R --vanilla
> 
>> load("milda.gnome.rda")
>> a <- milda.gnome(x=mod23puriflda[,2:5],grouping=mod23puriflda[,6],CV=F)
> Error in milda.gnome(x = mod23puriflda[, 2:5], grouping = mod23puriflda[,
>:
>         length of dimnames[2] not equal to array extent
> In addition: Warning message:
> variables are collinear in: milda.gnome(x = mod23puriflda[, 2:5], grouping
> = mod23puriflda[,
> 
> Does not work !!
> 
> Therefore, gnome is really changing something, but what?
> 
> Agus
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Fri Feb 22 12:44:06 2002
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Fri, 22 Feb 2002 12:44:06 +0100 (CET)
Subject: [R] Pointer to covariates?
In-Reply-To: <Pine.LNX.4.31.0202221105500.28650-100000@gannet.stats>
Message-ID: <Pine.LNX.4.44.0202221230260.5880-100000@tal.stat.umu.se>

On Fri, 22 Feb 2002, Prof Brian Ripley wrote:

> On Fri, 22 Feb 2002, [iso-8859-1] G?ran Brostr?m wrote:
[...]
> 
> > On Thu, 21 Feb 2002, Anne York wrote:
> >
> > > Here is another idea, but the overhead might be just as great.
> > >
> > > dat_data.frame(y=1:3,x1=c(1,0,1),x2=c(0,1,0))
> > > dat.unique_unique(paste(as.character(dat$x1),as.character(dat$x2)))
> > > dat.keys_match(paste(as.character(dat$x1),as.character(dat$x2)),dat.unique)
> >
> > This is very good! I made this function of it:
> >
> > cro.ay.orig <- function(dat){
> >   covar <- unique(dat[, -1])
> >   dat.keys <-
> >     match(paste(dat$x1, dat$x2, sep = ""),
> >           paste(covar$x1, covar$x2, sep = ""))
> >
> >   return(y = dat[, 1],
> >          covar = covar,
> >          keys = dat.keys)
> > }
> >
> > and this is fast; with 'dat' containing 100000 observations, I get:
> >
> > > unix.time(sor.ay.orig <- cro.ay.orig(dat[1:100000, c(1, 2, 5)))
> >
> > [1] 1.00 0.02 1.08 0.00 0.00
> >
> > However, this function needs to be generalized, so I wrote:
> >
> > cro.ay <- function(dat, response = 1){
> >   covar <- unique(dat[, -response, drop = FALSE])
> >   dat.keys <-
> >     match(apply(dat[, -response, drop = FALSE], 1, paste, collapse = ""),
> >           apply(covar, 1, paste, collapse = ""))
> >   return(y = dat[, response],
> >          covar = covar,
> >          keys = dat.keys)
> > }
> >
> > but this was much slower (but acceptable) on the same data:
> >
> > [1] 11.63  0.32 12.34  0.00  0.00
> >
> > It is apparently the pasting row by row of the data frame,
> >
> >  apply(covar, 1, paste, collapse = "")
> >
> > that takes the time. Is there a better way of doing this?
> 
> Very probably. Note that the original did not paste row-by-row.  You could
> use do.call.  Here's an untested variant
> 
> match(do.call("paste", c(dat[, -response, drop = FALSE], sep="\001")),
>       do.call("paste", c(covar,  sep="\001")))

Indeed! This is comparable in speed with the original. Thanks!

> Note also that I used a different separator ("\r" is also possible), as
> that is much more likely to make a unique string.

It took a while, but now I understand:

> paste(111, 1, sep ="") == paste(11, 11, sep = "")
[1] TRUE

'sep=""' was about the worst choice...
 
> See duplicated.data.frame for the use of this.
> 
> 

G?ran

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Fri Feb 22 13:25:00 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Fri, 22 Feb 2002 13:25:00 +0100 (MET)
Subject: [R] R gnome and lda: found the difference
Message-ID: <Pine.OSF.3.96.1020222125402.10290K-100000@ija.csic.es>


Saving lda.default as text files from within gui="none" and from within
gui="gnome" 
and comparing afterwards with diff, I get:

alobo at humboldt:> diff lda.default.gnome.txt lda.default.nognome.txt
1c1
< function (x, grouping, prior = proportions, tol = 1, method =
c("moment",
---
> function (x, grouping, prior = proportions, tol = 1e-04, method =
c("moment",
61c61
<             if (all(abs(w - w0) < 0,01))
---
>             if (all(abs(w - w0) < 0.01))
109c109
<         dist <- 0 * dist - matrix(log(prior), n, ng, byrow = TRUE)
---
>         dist <- 0.5 * dist - matrix(log(prior), n, ng, byrow = TRUE)

It's clear then that R with the gnome gui uses a different copy
of lda.default, 
but the output of .path.package is identical:
> .path.package()
[1] "/usr/local/lib/R/library/MASS"  "/usr/local/lib/R/library/ctest"
[3] "/usr/local/lib/R/library/base" 

I don't think I can go further on my own, is this something that I should
submit as a bug?

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Fri Feb 22 14:00:09 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Fri, 22 Feb 2002 14:00:09 +0100
Subject: [R] storing large data.frame's
References: <36D2483A-277E-11D6-9EE3-0003930EA956@gmx.net>
Message-ID: <3C7640D9.B16017B@atmos.umnw.ethz.ch>

Hello Meinhard

> Should I save it with save() and then remove it with rm() ?
> Could I reload it then?
that is possible with load(filename). It will be saved under the same
name, as when you used save, actually you can save a whole list of
variables with save and load again.

> 
> Thanks for suggestions
> Meinhard Ploner
> 
> ps my system: R 1.4.1 on mac/darwin.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::   
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Fri Feb 22 14:17:45 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Fri, 22 Feb 2002 14:17:45 +0100 (MET)
Subject: [R] storing large data.frame's
In-Reply-To: <36D2483A-277E-11D6-9EE3-0003930EA956@gmx.net>
Message-ID: <Pine.OSF.3.96.1020222140310.10290L-100000@ija.csic.es>

Save each dataset in its own rda file:

save(mydataset1R,file="mydataset1R.rda")

Then check before deleting:

mydataset1R.backup <- mydataset1R
rm(mydataset1R)
attach("mydataset1R.rda")
this will leave mydataset1R in pos=2
(check with search() and then ls(2) )

Compare mydataset1R and mydataset1R.backup
(for example, compare means by cols etc)

Then rm(mydataset1R.backup)

Do the same for the rest of your large datasets.

Then q(), saving your workspace. Now, .RData DOES NOT
include your large datasets. You might want keep
each mydataset*R.rda in a separate directory.

Then start R from the appropriate directory.
Your workspace will not have any of the
mydataset*R, as they are no longer in .RData.
Use attach("mydataset1R.rda") to bring
the required dataset to pos=2.

A good advantage of keeping your large datasets
in different rda files is that if you ever have
a problem in R and .RData gets corrupted,
your large files are safe. 

And a good advanntage,
but also a caution, of keeping the large R
objects in pos!=1 is
that save.image() WILL NOT save the 
large datasets (you must use
save() specifying the environment, 
check help(save))

Agus





Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Fri, 22 Feb 2002, Meinhard Ploner wrote:

> I am new on R, so I have a maybe naive question:
> 
> if I have many large data.frames and I use only one or two per session, 
> what's the best way?
> If all are stored in the actual .Rdata, the system gets slow.
> On the other hand, I wouldn't like to make a separate package for the 
> data.
> 
> Should I save it with save() and then remove it with rm() ?
> Could I reload it then?
> 
> Thanks for suggestions
> Meinhard Ploner
> 
> 
> 
> ps my system: R 1.4.1 on mac/darwin.
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Feb 22 14:23:58 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Feb 2002 14:23:58 +0100
Subject: [R] R gnome and lda: found the difference
In-Reply-To: <Pine.OSF.3.96.1020222125402.10290K-100000@ija.csic.es>
References: <Pine.OSF.3.96.1020222125402.10290K-100000@ija.csic.es>
Message-ID: <x2y9hlabv5.fsf@blueberry.kubism.ku.dk>

Agustin Lobo <alobo at ija.csic.es> writes:

> Saving lda.default as text files from within gui="none" and from within
> gui="gnome" 
> and comparing afterwards with diff, I get:
> 
> alobo at humboldt:> diff lda.default.gnome.txt lda.default.nognome.txt
> 1c1
> < function (x, grouping, prior = proportions, tol = 1, method =
> c("moment",
> ---
> > function (x, grouping, prior = proportions, tol = 1e-04, method =
> c("moment",
> 61c61
> <             if (all(abs(w - w0) < 0,01))
> ---
> >             if (all(abs(w - w0) < 0.01))
> 109c109
> <         dist <- 0 * dist - matrix(log(prior), n, ng, byrow = TRUE)
> ---
> >         dist <- 0.5 * dist - matrix(log(prior), n, ng, byrow = TRUE)
> 
> It's clear then that R with the gnome gui uses a different copy
> of lda.default, 
> but the output of .path.package is identical:
> > .path.package()
> [1] "/usr/local/lib/R/library/MASS"  "/usr/local/lib/R/library/ctest"
> [3] "/usr/local/lib/R/library/base" 
> 
> I don't think I can go further on my own, is this something that I should
> submit as a bug?

Maybe just let Martyn dig a little further and let him file the bug?

The comma in "if (all(abs(w - w0) < 0,01))" strongly suggests that we
have a locale problem (something is messing with LC_ALL and/or
LC_NUMERIC). We have seen some of these unexpected locale changes on
Microsoft platforms earlier -- as I keep saying: Gnome sometimes tries
too hard to be like Windows...

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Fri Feb 22 14:30:18 2002
From: plummer at iarc.fr (Martyn Plummer)
Date: Fri, 22 Feb 2002 14:30:18 +0100 (CET)
Subject: [R] R gnome and lda: found the difference
In-Reply-To: <Pine.OSF.3.96.1020222125402.10290K-100000@ija.csic.es>
Message-ID: <XFMail.20020222143018.plummer@iarc.fr>

It's a locale problem.  I can reproduce this bug by relaunching my
GNOME session with the Spanish locale.  Numerical values are getting
mangled because, in Spanish, decimals are represented with "," and
(I'm guessing after a quick look at gnumeric) scientific notation
requires a "+" or "-" prefix.

Please submit a bug report. Thank you for your patience.
Martyn

On 22-Feb-2002 Agustin Lobo wrote:
> 
> Saving lda.default as text files from within gui="none" and from within
> gui="gnome" 
> and comparing afterwards with diff, I get:
> 
> alobo at humboldt:> diff lda.default.gnome.txt lda.default.nognome.txt
> 1c1
> < function (x, grouping, prior = proportions, tol = 1, method =
> c("moment",
> ---
>> function (x, grouping, prior = proportions, tol = 1e-04, method =
> c("moment",
> 61c61
> <             if (all(abs(w - w0) < 0,01))
> ---
>>             if (all(abs(w - w0) < 0.01))
> 109c109
> <         dist <- 0 * dist - matrix(log(prior), n, ng, byrow = TRUE)
> ---
>>         dist <- 0.5 * dist - matrix(log(prior), n, ng, byrow = TRUE)
> 
> It's clear then that R with the gnome gui uses a different copy
> of lda.default, 
> but the output of .path.package is identical:
>> .path.package()
> [1] "/usr/local/lib/R/library/MASS"  "/usr/local/lib/R/library/ctest"
> [3] "/usr/local/lib/R/library/base" 
> 
> I don't think I can go further on my own, is this something that I should
> submit as a bug?
> 
> Agus
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Fri Feb 22 15:02:54 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Fri, 22 Feb 2002 15:02:54 +0100 (MET)
Subject: [R] R gnome and lda: found the difference
In-Reply-To: <XFMail.20020222143018.plummer@iarc.fr>
Message-ID: <Pine.OSF.3.96.1020222145318.10290O-100000@ija.csic.es>


On Fri, 22 Feb 2002, Martyn Plummer wrote:

> It's a locale problem.  I can reproduce this bug by relaunching my
> GNOME session with the Spanish locale.  Numerical values are getting
> mangled because, in Spanish, decimals are represented with "," and
> (I'm guessing after a quick look at gnumeric) scientific notation
> requires a "+" or "-" prefix.
Is there a workarond, like stating a different locale at selecting
gnome as the gui for R? I mean something like R --gui="gnome
--locale=english" . Note that I actually launch R --gui="gnome"
from a kde desktop.

> Please submit a bug report. 

Done, The bug is under incoming now.

Also, I've just noticed that this is not particular to lda.default,
as expected according to your message. I was trying the boxplot example by
Jay Pfaffman <pfaffman at relaxpc.com>
from within R --gui="gnome" and...
  
 x1<-rnorm(20)
 x2<-rnorm(20)
 boxplot(list(x1=x1,x2=x2))
Error in if (any(out[nna])) stats[c(1, 5)] <- range(x[!out], na.rm = TRUE)
: 
        missing value where logical needed

>Thank you for your patience.

Thank you for your work!

Agus



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From meinhardploner at gmx.net  Fri Feb 22 15:00:04 2002
From: meinhardploner at gmx.net (Meinhard Ploner)
Date: Fri, 22 Feb 2002 15:00:04 +0100
Subject: Summary: [R] read.table on Mac OS X, CARBON vs. DARWIN
In-Reply-To: <OF5766E44E.F7B34FE5-ON85256B68.004A6652@cbis.com>
Message-ID: <7897B9B8-279C-11D6-9D99-0003930EA956@gmx.net>

Thanks a lot, James!!
The problem is fixed. On the version 1.4.0 Mac/darwin (the latest 
available version for this system) the function read.table (which is 
called from read.delim etc., too) has the bug you explained.

Inserting the row
	nlines <- nlines+1
after
	 lines <- c(lines, line)
removes this bug.
M.


On Friday, February 22, 2002, at 02:33  PM, james.holtman at convergys.com 
wrote:

>
> If you can not the the latest 1.4.1, here is a patch (adds one line to
> read.table) that will fix it on your current system.
>
>> The 'read.table' function appears to be up to 10X slower in R 1.4.0 
>> than
> R
>> 1.3.1 for some of the data sets I read in.  I was comparing the source
> code
>> for the 2 versions and see that it was rewritten in R 1.4.0.
>>
>> I think I found out what part of the problem might be.  I was comparing
>> R1.3.1 and R1.4.0 code and it appears that a statement is missing in 
>> some
>> of the code for R 1.4.  This is the section of code at the beginning of
>> read.table.  The loop starting with 'while (nlines < 5)' will read in 
>> the
>> entire file, because there is no increment of 'nlines' in the loop.  I
>> traced through the code  and this is what was happening.  It then 
>> does a
>> 'pushBack' of the entire file.  In tracing through the code, this is
> where
>> is appears to be taking the time.  With the change noted below, the 
>> speed
>> was similar to R 1.3.1 and the results were the same.
>>
>> Here is the current code with what I think is the additional statement
>> needed:
>>
>> =================part of read.table========
>>
>>     nlines <- 0
>>     lines <- NULL
>>     while (nlines < 5) {
>>         line <- readLines(file, 1, ok = TRUE)
>>         if (length(line) == 0)
>>             break
>>         if (blank.lines.skip && length(grep("^[ \\t]*$", line)))
>>             next
>>         if (length(comment.char) && nchar(comment.char)) {
>>             pattern <- paste("^[ \\t]*", substring(comment.char,
>>                 1, 1), sep = "")
>>             if (length(grep(pattern, line)))
>>                 next
>>         }
>>         lines <- c(lines, line)
>>        #
>>        #  additional line required
>>        #
>>        nlines <- nlines+1
>>     }
>
>> --
>
>
>
>
> Meinhard Ploner <meinhardploner at gmx.net> on 02/22/2002 03:17:34
>
> To:   james.holtman at convergys.com
> cc:
> Subject:  Re: [R] read.table on Mac OS X, CARBON vs. DARWIN
>
>
> Yes. Thanks a lot.
> I had the 1.4.0 because on Fink the latest version (1.4.1) is not
> available. However, I will download it from the CRAN.
> Meinhard
>
>
> On Thursday, February 21, 2002, at 10:29  PM,
> james.holtman at convergys.com wrote:
>
>> read.table did have a bug in it in 1.4.0.  It was fixed in 1.4.1.  Is
>> that
>> what you are running with?
>
>
>
>
>
> --
>
> NOTICE:  The information contained in this electronic mail transmission 
> is
> intended by Convergys Corporation for the use of the named individual or
> entity to which it is directed and may contain information that is
> privileged or otherwise confidential.  If you have received this 
> electronic
> mail transmission in error, please delete it from your system without
> copying or forwarding it, and notify the sender of the error by reply 
> email
> or by telephone (collect), so that the sender's address records can be
> corrected.
>
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 3428 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020222/c18a7c14/attachment.bin

From plummer at iarc.fr  Fri Feb 22 15:15:39 2002
From: plummer at iarc.fr (Martyn Plummer)
Date: Fri, 22 Feb 2002 15:15:39 +0100 (CET)
Subject: [R] R gnome and lda: found the difference
In-Reply-To: <Pine.OSF.3.96.1020222145318.10290O-100000@ija.csic.es>
Message-ID: <XFMail.20020222151539.plummer@iarc.fr>

On 22-Feb-2002 Agustin Lobo wrote:
> 
> On Fri, 22 Feb 2002, Martyn Plummer wrote:
> 
>> It's a locale problem.  I can reproduce this bug by relaunching my
>> GNOME session with the Spanish locale.  Numerical values are getting
>> mangled because, in Spanish, decimals are represented with "," and
>> (I'm guessing after a quick look at gnumeric) scientific notation
>> requires a "+" or "-" prefix.
> Is there a workarond, like stating a different locale at selecting
> gnome as the gui for R? I mean something like R --gui="gnome
> --locale=english" . Note that I actually launch R --gui="gnome"
> from a kde desktop.

LANG=en_GB R --gui=gnome

will work around it for now.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Fri Feb 22 15:24:59 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Fri, 22 Feb 2002 15:24:59 +0100 (MET)
Subject: [R] help understanding box plots
In-Reply-To: <x2g03tvldl.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.OSF.3.96.1020222151528.10290Q-100000@ija.csic.es>


I've always thought that it would most useful having a
graphic example of boxplot including some text 
pointing to the main features of the boxplot
and that would define and explain these 
features. Perhaps this
could be made a simple function (i.e., boxplot.example())
and this function be included in the help entry. Then
the user would just run boxplot.example() to
see a graphic and commented example. It's more
dificult to understand a text describing
the boxplot function than just seeing a commented
graphic example.


Agus


Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On 22 Feb 2002, Peter Dalgaard BSA wrote:

> Jay Pfaffman <pfaffman at relaxpc.com> writes:
> 
> > Another naive stats question.  I'm trying to better understand what
> > boxplots are telling me.  
> > 
> > I think what I see is the median and the boundaries of the 1st and 3rd
> > quartiles.  The whiskers represent the range of the data unless there
> > are points which are outside "range" (default: 1.5) times the distance
> > from the median to that quartile.  Is that right? 
> 
> Not quite. 1.5 times the length of the entire box.
> 
> > I've read the
> > documentation for boxplot numerous times, but don't quite understand
> > it well enough to communicate it to my professor who's helping me with
> > this project.  (You'll be relieved to know that neither of us fancies
> > ourself a statistician!)
> 
> boxplot.stats.Rd had a typo and got updated recently in the
> development and patch versions to read
> 
>   \item{coef}{this determines how far the plot ``whiskers'' extend out
>     from the box.  If \code{coef} is positive, the whiskers extend to
>     the
>     most extreme data point which is no more than \code{coef} times
>     the length of the box away from the box. A value of zero causes
>     the whiskers
>     to extend to the data extremes (and no outliers be returned).}
> 
> (for some reason this hasn't yet found its way to the online snapshot
> manuals in http://stat.ethz.ch/R-alpha/R-devel/doc/html/ and friends.
> Martin?)
> 
> 
> > V&R (p. 122) claims that the hinges are "roughly quartiles," so
> > perhaps my naive understanding is close enough.
> 
> Yes. The exact definition is slightly peculiar, but in compliance with
> the original definition by Tukey. So I'm told, anyway.
> 
> 
> > I've got a relatively small data set (n~=12).  I think it would help
> > to see the data points plotted on top of the boxplots.  Here's what
> > I'm doing now:
> > 
> >     par(las=2,ps=14,mar=c(15, 4, 4, 2))
> >     boxplot(split(ranks,c(1:25)), names=items, notch=T, horizontal=F, add=F)
> > 
> > If I could get the points of each of the 25 variables plotted on top
> > of the box, that'd be great.
> 
> Not sure what you're doing there, but maybe some code like this could
> help:
> 
>  x1<-rnorm(20)
>  x2<-rnorm(20)
>  boxplot(list(x1=x1,x2=x2))
>  points(cbind(1,x1))
>  points(cbind(2,x2))
> 
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at volcanomail.com  Fri Feb 22 15:24:03 2002
From: ggrothendieck at volcanomail.com (Gabor Grothendieck)
Date: Fri, 22 Feb 2002 06:24:03 -0800 (PST)
Subject: [R] Pointer to covariates?
Message-ID: <20020222142403.02F7536F9@sitemail.everyone.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20020222/51161d36/attachment.pl

From alobo at ija.csic.es  Fri Feb 22 16:26:54 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Fri, 22 Feb 2002 16:26:54 +0100 (MET)
Subject: [R] save.image() excluding functions
Message-ID: <Pine.OSF.3.96.1020222161807.10290R-100000@ija.csic.es>


If the recommendation is to write functions with an external editor 
(I mean, avoiding fix()), keep them as text files (*.R) and using
source() to bring them into the R session, why not excluding,
by default, function objects from save.image() ?
In particular, from the final save.image(),
the one that is proposed at q().

In this way, functions would not get included within .RData,

I've made a personal misave() that excludes functions, but 
it might be a good idea having this as the default 
behaviour. Or perhaps, at least saving functions to
a text file (.Rtext) and the rest of objects 
as rda (.RData).

Just a suggestion.

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sun at cae.wisc.edu  Fri Feb 22 16:48:16 2002
From: sun at cae.wisc.edu (sun@cae.wisc.edu)
Date: Fri, 22 Feb 2002 09:48:16 -0600 (CST)
Subject: [R] Does R have semiparametric package for time series
In-Reply-To: <Pine.OSF.3.96.1020222120544.10290I-100000@ija.csic.es>
References: <Pine.OSF.3.96.1020222120544.10290I-100000@ija.csic.es>
Message-ID: <1014392896.3c76684085f96@webemail.cae.wisc.edu>

Hello, All: I am new to R. I wonder if there is package for nonparametric or 
semiparametric processing of time series. Thank you very much.

Hongyu Sun
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Corey.Moffet at ttu.edu  Fri Feb 22 17:49:16 2002
From: Corey.Moffet at ttu.edu (Moffet, Corey)
Date: Fri, 22 Feb 2002 10:49:16 -0600
Subject: [R] modifying xtable output
Message-ID: <938690ACF269D311928B0090279C2772E91EC4@cyclops.net.ttu.edu>

I have been using the xtable package to export great latex tables and am
very pleased with the package.

Is there a way to modify the format of the tables:

(1) some of my tables are to long to fit on a single page.  I would like to
modify the
xtable to produce a longtable compatible with the longtable.sty in latex.
Are these modifications
possible and if so where are they documented?

(2) Is it possible to start a table with a double horizontal line
(\hline\hline).


With best wishes and kind regards I am

Sincerely,

Corey A. Moffet
Instructor
Department of Range, Wildlife, and Fisheries Management
Mail Stop 2125
Texas Tech University
Lubbock, Texas 79409-2125
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sjuranic at crow.ee.washington.edu  Fri Feb 22 18:04:49 2002
From: sjuranic at crow.ee.washington.edu (Stephen W. Juranich)
Date: Fri, 22 Feb 2002 09:04:49 -0800
Subject: [R] question regarding to The tree Package for R 
In-Reply-To: Your message of Fri, 22 Feb 2002 09:13:31 +0100.
             <016d01c1bb78$d13a67e0$176ea8c0@MinorplanetDev> 
Message-ID: <200202221704.g1MH4ne11565@crow.ee.washington.edu>

I was having the same problem.  Try adding "mindev = 0" in your tree() 
command.  That fixed it for me.

HTH

--------------------------------------------------------------------------
Stephen W. Juranich                             sjuranic at ee.washington.edu
Electrical Engineering             http://students.washington.edu/sjuranic
University of Washington                http://ssli.ee.washington.edu/ssli


 /"\                          || 
 \ /  ASCII RIBBON CAMPAIGN   ||  NO ATTACHMENTS
  X   AGAINST HTML MAIL       ||  NO STATIONERY
 / \  AND POSTINGS            ||  NO GRAPHICS



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Feb 22 18:06:35 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 22 Feb 2002 09:06:35 -0800 (PST)
Subject: [R] save.image() excluding functions
In-Reply-To: <Pine.OSF.3.96.1020222161807.10290R-100000@ija.csic.es>
Message-ID: <Pine.A41.4.44.0202220846560.35740-100000@homer05.u.washington.edu>

On Fri, 22 Feb 2002, Agustin Lobo wrote:
>
> If the recommendation is to write functions with an external editor
> (I mean, avoiding fix()), keep them as text files (*.R) and using
> source() to bring them into the R session, why not excluding,
> by default, function objects from save.image() ?
> In particular, from the final save.image(),
> the one that is proposed at q().
>
> In this way, functions would not get included within .RData,


There's a number of problems with excluding functions from .RData.
Primarily

1/ compatibility. The S languages have never distinguished between
functions and other forms of data in this way.

2/ Functions cannot necessarily be stored as text. They have
environments, which could in principle reference any amount of data. The
only completely reliable way for R to store a function is using save().
You as the author of a function can know that the environment is
irrelevant but it's quite hard for R to know this (Luke Tierney's
proposed byte-code compiler needs to be able to tell, so this may change)


In fact the most common recommendation is not just that functions should
be defined in external files but that everything else should be as well.
>From that viewpoint .RData is just a convenient scratchpad to store
intermediate results without having to re-run them, and it really has to
contain the entire state of the program.

Anyone who really wants to modify save.image() in their own copy of R can
do so, but I think it's unlikely that this change would be popular as a
default.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jones at reed.edu  Fri Feb 22 18:45:48 2002
From: jones at reed.edu (Albyn Jones)
Date: Fri, 22 Feb 2002 09:45:48 -0800
Subject: [R] storing large data.frame's
In-Reply-To: <36D2483A-277E-11D6-9EE3-0003930EA956@gmx.net>; from meinhardploner@gmx.net on Fri, Feb 22, 2002 at 11:23:29AM +0100
References: <36D2483A-277E-11D6-9EE3-0003930EA956@gmx.net>
Message-ID: <20020222094548.L4457@sellwood.reed.edu>

On Fri, Feb 22, 2002 at 11:23:29AM +0100, Meinhard Ploner wrote:
> I am new on R, so I have a maybe naive question:
> 
> if I have many large data.frames and I use only one or two per session, 
> what's the best way?
> If all are stored in the actual .Rdata, the system gets slow.
> On the other hand, I wouldn't like to make a separate package for the 
> data.


Take a look at the package "g.data" at your local CRAN:

g.data: Delayed-Data Packages 

     Create and maintain delayed-data packages (DDP's). Data
     stored in a DDP are available on demand, but do not take up
     memory until requested. You attach a DDP with
     g.data.attach(), then read from it and assign to it in a manner
     similar to S-Plus, except that you must run g.data.save() to
     actually commit to disk. 
     Version:
                    1.2
     Date:
                    2001-11-30
     Author:
                    David Brahm <brahm at alum.mit.edu>
-- 
--------------------------------------------------------------
http://www.reed.edu/~jones    Albyn Jones	  jones at reed.edu
Reed College, Portland OR 97202             (503)-771-1112 x7418

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reid_huntsinger at merck.com  Fri Feb 22 19:00:43 2002
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Fri, 22 Feb 2002 13:00:43 -0500
Subject: [R] save.image() excluding functions
Message-ID: <2C23DE2983BE034CB1CB90DB6B813FD639E8AD@uswpmx11.merck.com>

I have been thinking about using CVS with R for a few reasons, partly to
make it easy for a group to work together on common R things but not get in
each other's way, and partly to be able to keep doing things the easy way
(define functions in R cmd window, use fix to edit them, rely on .RData to
keep my stuff...). 

My idea was to implement a few R functions which would 1) set up a CVS
working directory for a project, 2) set up link via save()s and load()s
(ascii) to/from the CVS working directory, and 3) issue CVS commands.
Because I'm mostly interested in functions, it seemed like it might be a
good idea to implement save() + CVS "add" as a callback from the function()
function (unless user turns this off...). 

One benefit of a scheme like this would be that you could keep other related
code (C, Fortran, etc) here as well.

Might something like this meet the needs expressed in your post, Dr. Lobo?
Anyone know of something like this already? Any suggestions or advice? 

Reid Huntsinger


-----Original Message-----
From: Thomas Lumley [mailto:tlumley at u.washington.edu]
Sent: Friday, February 22, 2002 12:07 PM
To: Agustin Lobo
Cc: r-help
Subject: Re: [R] save.image() excluding functions


On Fri, 22 Feb 2002, Agustin Lobo wrote:
>
> If the recommendation is to write functions with an external editor
> (I mean, avoiding fix()), keep them as text files (*.R) and using
> source() to bring them into the R session, why not excluding,
> by default, function objects from save.image() ?
> In particular, from the final save.image(),
> the one that is proposed at q().
>
> In this way, functions would not get included within .RData,


There's a number of problems with excluding functions from .RData.
Primarily

1/ compatibility. The S languages have never distinguished between
functions and other forms of data in this way.

2/ Functions cannot necessarily be stored as text. They have
environments, which could in principle reference any amount of data. The
only completely reliable way for R to store a function is using save().
You as the author of a function can know that the environment is
irrelevant but it's quite hard for R to know this (Luke Tierney's
proposed byte-code compiler needs to be able to tell, so this may change)


In fact the most common recommendation is not just that functions should
be defined in external files but that everything else should be as well.
>From that viewpoint .RData is just a convenient scratchpad to store
intermediate results without having to re-run them, and it really has to
contain the entire state of the program.

Anyone who really wants to modify save.image() in their own copy of R can
do so, but I think it's unlikely that this change would be popular as a
default.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.firth at nuffield.oxford.ac.uk  Fri Feb 22 19:12:14 2002
From: david.firth at nuffield.oxford.ac.uk (David Firth)
Date: Fri, 22 Feb 2002 18:12:14 +0000
Subject: [R] Tcl/Tk window lingering too long
Message-ID: <a05101000b89c1b9cb4be@[163.1.41.69]>

I want to set up a simple Tk dialog interface to a function in R, 
such that when the "OK" button is pressed, the dialog window is 
destroyed and then R does its work on the data/parameters/whatever 
that were entered in the dialog.  The function "test" below is a 
simple prototype.

My problem: upon running test() and hitting "OK", R does its work 
(ie, computes rnorm(400000) in the silly example below), and only 
*after* that does the dialog window disappear.  Is there some way to 
make sure that the window disappears immediately after hitting "OK"?

I am using R and Tcl/Tk under Darwin/X11.  Exact version information 
below.  I have made similar dialogs before with a Windows version and 
my recollection is that I didn't have this problem -- is it perhaps a 
system-dependent thing?

Any hints would be welcomed.

Thanks,
David


test<-function(){
	require(tcltk)
         base<-tktoplevel()
	done<-tclVar(0)
	ok.but<-tkbutton(base,text="OK",
		         command=function(){
		             tclvalue(done)<-3
		             })
	tkpack(ok.but)
	tkwait.variable(as.character(done))
	tkdestroy(base)
	x<-rnorm(400000)
         print("finished")}


>  version
          _
platform powerpc-apple-darwin5.3
arch     powerpc
os       darwin5.3
system   powerpc, darwin5.3
status
major    1
minor    4.1
year     2002
month    01
day      30
language R
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From condit at ctfs.si.edu  Fri Feb 22 19:29:00 2002
From: condit at ctfs.si.edu (Richard Condit)
Date: Fri, 22 Feb 2002 13:29:00 -0500
Subject: [R] errors in integrate function?
Message-ID: <5.1.0.14.0.20020222130200.00a855f0@ctfs.si.edu>

I have been trying the integrate function in R, a function which would be 
very useful for a current project of mine. But I am encountering errors 
integrating the one function I have tried. The function to be integrated is 
a product of a gamma demsity and a normal density:

gamma.by.normal_function(y,x,shape,scale,stdev)
             return( dgamma(y,shape=shape,scale=scale)*
                         dnorm(x=x-y,mean=0,sd=stdev) )

 > integrate(gamma.by.normal,lower=0,upper=Inf,
    rel.tol=1e-6,x=10,shape=1,scale=4,stdev=0.2)
 > 4.589933e-11 with absolute error < 8.4e-11

 > integrate(gamma.by.normal,lower=0,upper=Inf,
    rel.tol=1e-12,x=10,shape=1,scale=4,stdev=0.2)
 > 0.02054692 with absolute error < 4.5e-13

The correct answer is the second. But with rel.tol=1e-6, the answer 
returned is off by 1e-2 even though the error reported is 8e-11.

The error can be further demonstrated by checking the integral for a 
sequence of values, x=seq(-5,25,by=0.1).

dgamma.norm_function(x,shape,scale,stdev)
{
  prob=numeric()

  for(i in 1:length(x))
    prob[i]=integrate(gamma.by.normal,lower=0,upper=Inf,rel.tol=1e-6,
                      x=x[i],shape=shape,scale=scale,stdev=stdev)$val

  return(prob)
}

 > y=dgamma.norm(x,shape=1,scale=4,stdev=.2)
 > plot(x,y)

The errors will be readily apparent in the plot, which should be a smooth 
probability density.

For some parameter combinations, integrate works properly for all x, eg 
shape=1, scale=2, stdev=2.

I need a fast integration routine, but right now I can't use this one. I 
would appreciate any suggestions.




Richard Condit
Smithsonian Tropical Research Institute
Unit 0948
APO AA 34002-0948

fax 507-212-8148 (Panama)
ph  507-212-8045 (Panama)
condit at ctfs.si.edu
conditctfs at yahoo.com

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Whit.Armstrong at tudor.com  Fri Feb 22 19:31:45 2002
From: Whit.Armstrong at tudor.com (Whit Armstrong)
Date: Fri, 22 Feb 2002 13:31:45 -0500
Subject: [R] Weekdays
Message-ID: <CD9BF92D5B1AD611ABEB00065B386FB005980B@po4-exch.grn.tudor.com>

Hello,

I'm trying to write a function that returns the number of weekdays between a
vector of start dates and a vector of end dates.

Subtracting the 2 times the number of whole weeks is the easy part and works
if the number of days is a multiple of 7.

However, the number of weekend days in the tail is a little harder.  It
depends on both the start date of the tail and the number of days in the
tail.

Any suggestions for a more elegant solution would be helpful.

Thanks,
Whit Armstrong

bdays <- function(sdate,edate)
{
	sdate <- as.POSIXlt(sdate)
	edate <- as.POSIXlt(edate)

	length <- as.integer(difftime(edate,sdate))

	weeks <- floor(length/7)
	tail <- length%%7

	# true no matter what day of the week the start date is
	weekend.days <- weeks*2

	weekend.days <- weekend.days + # number of weekend days in tail

	length-weekend.days
}



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Feb 22 19:35:10 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 22 Feb 2002 18:35:10 +0000 (GMT)
Subject: [R] Tcl/Tk window lingering too long
In-Reply-To: <a05101000b89c1b9cb4be@[163.1.41.69]>
Message-ID: <Pine.LNX.4.31.0202221826440.1912-100000@gannet.stats>

On Fri, 22 Feb 2002, David Firth wrote:

> I want to set up a simple Tk dialog interface to a function in R,
> such that when the "OK" button is pressed, the dialog window is
> destroyed and then R does its work on the data/parameters/whatever
> that were entered in the dialog.  The function "test" below is a
> simple prototype.
>
> My problem: upon running test() and hitting "OK", R does its work
> (ie, computes rnorm(400000) in the silly example below), and only
> *after* that does the dialog window disappear.  Is there some way to
> make sure that the window disappears immediately after hitting "OK"?
>
> I am using R and Tcl/Tk under Darwin/X11.  Exact version information
> below.  I have made similar dialogs before with a Windows version and
> my recollection is that I didn't have this problem -- is it perhaps a
> system-dependent thing?

Right: it disappears immediately on Windows.  As far as I can tell on my
fast Linux box (even across the net to my cable modem), there it has the
effect you mention.

BTW, to all those who have been saying that 1.4.1 is not easily available
on MacOS X/darwin, note the details below.

> platform powerpc-apple-darwin5.3
> arch     powerpc
> os       darwin5.3
> system   powerpc, darwin5.3
> status
> major    1
> minor    4.1
> year     2002
> month    01
> day      30
> language R


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Feb 22 19:37:16 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Feb 2002 19:37:16 +0100
Subject: [R] Tcl/Tk window lingering too long
In-Reply-To: <a05101000b89c1b9cb4be@[163.1.41.69]>
References: <a05101000b89c1b9cb4be@[163.1.41.69]>
Message-ID: <x2lmdlxt0j.fsf@blueberry.kubism.ku.dk>

David Firth <david.firth at nuffield.oxford.ac.uk> writes:

> I want to set up a simple Tk dialog interface to a function in R, such
> that when the "OK" button is pressed, the dialog window is destroyed
> and then R does its work on the data/parameters/whatever that were
> entered in the dialog.  The function "test" below is a simple
> prototype.
> 
> My problem: upon running test() and hitting "OK", R does its work (ie,
> computes rnorm(400000) in the silly example below), and only *after*
> that does the dialog window disappear.  Is there some way to make sure
> that the window disappears immediately after hitting "OK"?
> 
> I am using R and Tcl/Tk under Darwin/X11.  Exact version information
> below.  I have made similar dialogs before with a Windows version and
> my recollection is that I didn't have this problem -- is it perhaps a
> system-dependent thing?
> 
> Any hints would be welcomed.

Hmm... I wonder if we're not missing a way to force a run of the Tcl
event loop, but the canonical way would be (I think) to make the
button callback destroy the window and use tkwait.window(base) rather
than tkwait.variable().

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Whit.Armstrong at tudor.com  Fri Feb 22 19:46:17 2002
From: Whit.Armstrong at tudor.com (Whit Armstrong)
Date: Fri, 22 Feb 2002 13:46:17 -0500
Subject: [R] Visual Basic: calling compiled VB code from R
Message-ID: <CD9BF92D5B1AD611ABEB00065B386FB005980C@po4-exch.grn.tudor.com>

Hello,

Any advice on calling Visual Basic code from R would be helpful.

Thanks,
Whit Armstrong


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Feb 22 19:45:14 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 22 Feb 2002 10:45:14 -0800 (PST)
Subject: [R] Weekdays
In-Reply-To: <CD9BF92D5B1AD611ABEB00065B386FB005980B@po4-exch.grn.tudor.com>
Message-ID: <Pine.A41.4.44.0202221039070.35740-100000@homer05.u.washington.edu>

On Fri, 22 Feb 2002, Whit Armstrong wrote:

> Hello,
>
> I'm trying to write a function that returns the number of weekdays between a
> vector of start dates and a vector of end dates.
>
> Subtracting the 2 times the number of whole weeks is the easy part and works
> if the number of days is a multiple of 7.
>
> However, the number of weekend days in the tail is a little harder.  It
> depends on both the start date of the tail and the number of days in the
> tail.
>
> Any suggestions for a more elegant solution would be helpful.

Well, an efficient brute-force solution is a lookup table.

The weekdays() function returns the day of the week, and so you can
construct a 7x7 table of tail lengths and do

   tail<-tailtable[weekdays(start),weekdays(end)]

I don't know if this counts as elegant.

	-thomas



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david.firth at nuffield.oxford.ac.uk  Fri Feb 22 19:54:30 2002
From: david.firth at nuffield.oxford.ac.uk (David Firth)
Date: Fri, 22 Feb 2002 18:54:30 +0000
Subject: [R] Tcl/Tk window lingering too long
In-Reply-To: <x2lmdlxt0j.fsf@blueberry.kubism.ku.dk>
References: <a05101000b89c1b9cb4be@[163.1.41.69]>
 <x2lmdlxt0j.fsf@blueberry.kubism.ku.dk>
Message-ID: <a05101000b89c42f0d2f0@[163.1.41.69]>

Many thanks to Brian and Peter for their swift and helpful responses.

I tried Peter's suggestion (I think), as in

test<-function(){
	base<-tktoplevel()
		ok.but<-tkbutton(base,text="OK",
		         command=function(){
		             tkdestroy(base)
		             })
		tkpack(ok.but)
		tkwait.window(base)
	x<-rnorm(400000)
         print("finished")}

but that version seems to have the same problem as before.

David

>David Firth <david.firth at nuffield.oxford.ac.uk> writes:
>
>>  I want to set up a simple Tk dialog interface to a function in R, such
>>  that when the "OK" button is pressed, the dialog window is destroyed
>>  and then R does its work on the data/parameters/whatever that were
>>  entered in the dialog.  The function "test" below is a simple
>>  prototype.
>>
>>  My problem: upon running test() and hitting "OK", R does its work (ie,
>>  computes rnorm(400000) in the silly example below), and only *after*
>>  that does the dialog window disappear.  Is there some way to make sure
>>  that the window disappears immediately after hitting "OK"?
>>
>>  I am using R and Tcl/Tk under Darwin/X11.  Exact version information
>>  below.  I have made similar dialogs before with a Windows version and
>>  my recollection is that I didn't have this problem -- is it perhaps a
>>  system-dependent thing?
>>
>>  Any hints would be welcomed.
>
>Hmm... I wonder if we're not missing a way to force a run of the Tcl
>event loop, but the canonical way would be (I think) to make the
>button callback destroy the window and use tkwait.window(base) rather
>than tkwait.variable().
>
>--
>    O__  ---- Peter Dalgaard             Blegdamsvej 3 
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N  
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
>~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Fri Feb 22 20:01:27 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Fri, 22 Feb 2002 13:01:27 -0600
Subject: [R] Visual Basic: calling compiled VB code from R
In-Reply-To: <CD9BF92D5B1AD611ABEB00065B386FB005980C@po4-exch.grn.tudor.com>; from Whit.Armstrong@tudor.com on Fri, Feb 22, 2002 at 01:46:17PM -0500
References: <CD9BF92D5B1AD611ABEB00065B386FB005980C@po4-exch.grn.tudor.com>
Message-ID: <20020222130127.A4409@debian.org>

On Fri, Feb 22, 2002 at 01:46:17PM -0500, Whit Armstrong wrote:
> Hello,
> 
> Any advice on calling Visual Basic code from R would be helpful.

Don't. In my book, VB is a desease and not a language.

If you must, look at the DCOM server in the devel section of CRAN, and the
Excel <-> R interface built using it.

Dirk

-- 
Three out of two people have difficulties with fractions.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Fri Feb 22 20:04:05 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 22 Feb 2002 11:04:05 -0800 (PST)
Subject: [R] Avoiding the mean
In-Reply-To: <Pine.LNX.4.33.0202221015380.15865-100000@florence>
Message-ID: <Pine.A41.4.44.0202221048280.35740-100000@homer05.u.washington.edu>

On Fri, 22 Feb 2002, Christian Hennig wrote:

> Dear list,
>
> what is the fastest way to compute a multivariate mean and cov-matrix? I
> presume that the mean is computed in cov, so it may be a waste of time to
> compute the mean first and then a second time inside of cov. Is it faster
> to use cov.wt, which gives cov-matrix and center?

The answer to this question is *always* "try it and see" (Rprof or
system.time).  It probably isn't faster, but the answer will depend on the
number of rows and columns in your data and possibly on other factors.
It's unusual for computing the mean or covariance to take enough time to
worry about.


> And: If mean and cov should be computed on a part of the data, is it faster
> to use cov.wt with some weights zero, or should cov (or cov.wt) be computed
> on a subset?

Probably using a subset would be faster, but again, you can easily try it
and see.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Fri Feb 22 20:09:46 2002
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Fri, 22 Feb 2002 13:09:46 -0600 (CST)
Subject: [R] Cent. Mov. Ave
Message-ID: <200202221909.NAA27820@uhddx01.dt.uh.edu>

Dear R People:

Here is an interesting question(I think)
Suppose I want to calculate Centered Moving Averages; i.e.
x[1] <- ( sum(y[1:12]) )/12
x[2] <- ( sum(y[2:13]) )/12

and so on.

Of course, this is easily done through loops.  However, I have
been trying to do this more elegantly, but have failed.  I have
tried things like
j1 <- 1:109
j2 <- 12:120

x[1:109] <- ( sum( y[j1:j2]) )/12

but it doesn't work.  (Surprise!)


R 1.4.0 on windows.


Any ideas would be much appreciated!

Thanks!

Sincerely,
Erin Hodgess
Associate Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
1 Main Street 
Houston, TX 77002
mailto: hodgess at uhddx01.dt.uh.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Fri Feb 22 20:28:28 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Fri, 22 Feb 2002 14:28:28 -0500 (EST)
Subject: [R] Cent. Mov. Ave
In-Reply-To: <200202221909.NAA27820@uhddx01.dt.uh.edu>
Message-ID: <Pine.LNX.4.30.0202221428220.14724-100000@bolker.zoo.ufl.edu>


  Take a look at filter()

On Fri, 22 Feb 2002, Erin Hodgess wrote:

> Dear R People:
>
> Here is an interesting question(I think)
> Suppose I want to calculate Centered Moving Averages; i.e.
> x[1] <- ( sum(y[1:12]) )/12
> x[2] <- ( sum(y[2:13]) )/12
>
> and so on.
>
> Of course, this is easily done through loops.  However, I have
> been trying to do this more elegantly, but have failed.  I have
> tried things like
> j1 <- 1:109
> j2 <- 12:120
>
> x[1:109] <- ( sum( y[j1:j2]) )/12
>
> but it doesn't work.  (Surprise!)
>
>
> R 1.4.0 on windows.
>
>
> Any ideas would be much appreciated!
>
> Thanks!
>
> Sincerely,
> Erin Hodgess
> Associate Professor
> Department of Computer and Mathematical Sciences
> University of Houston - Downtown
> 1 Main Street
> Houston, TX 77002
> mailto: hodgess at uhddx01.dt.uh.edu
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From reid_huntsinger at merck.com  Fri Feb 22 20:42:49 2002
From: reid_huntsinger at merck.com (Huntsinger, Reid)
Date: Fri, 22 Feb 2002 14:42:49 -0500
Subject: [R] Cent. Mov. Ave
Message-ID: <2C23DE2983BE034CB1CB90DB6B813FD639E8B0@uswpmx11.merck.com>

The filter function in the ts library handles this and quite a bit more. 

>library(ts)
>help(filter)

>filter(y,rep(1,12),method="convolution",sides=1)[-(1:11)] 

will give your example. (The [-(1:11)] drops initial NAs)

Reid Huntsinger

-----Original Message-----
From: Erin Hodgess [mailto:hodgess at uhddx01.dt.uh.edu]
Sent: Friday, February 22, 2002 2:10 PM
To: r-help at stat.math.ethz.ch
Subject: [R] Cent. Mov. Ave


Dear R People:

Here is an interesting question(I think)
Suppose I want to calculate Centered Moving Averages; i.e.
x[1] <- ( sum(y[1:12]) )/12
x[2] <- ( sum(y[2:13]) )/12

and so on.

Of course, this is easily done through loops.  However, I have
been trying to do this more elegantly, but have failed.  I have
tried things like
j1 <- 1:109
j2 <- 12:120

x[1:109] <- ( sum( y[j1:j2]) )/12

but it doesn't work.  (Surprise!)


R 1.4.0 on windows.


Any ideas would be much appreciated!

Thanks!

Sincerely,
Erin Hodgess
Associate Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
1 Main Street 
Houston, TX 77002
mailto: hodgess at uhddx01.dt.uh.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s-plus at wiwi.uni-bielefeld.de  Fri Feb 22 21:06:47 2002
From: s-plus at wiwi.uni-bielefeld.de (Peter Wolf)
Date: Fri, 22 Feb 2002 21:06:47 +0100
Subject: [R] Cent. Mov. Ave
References: <200202221909.NAA27820@uhddx01.dt.uh.edu>
Message-ID: <3C76A4D7.4EE871DB@wiwi.uni-bielefeld.de>

Erin Hodgess wrote:

> Dear R People:
>
> Here is an interesting question(I think)
> Suppose I want to calculate Centered Moving Averages; i.e.
> x[1] <- ( sum(y[1:12]) )/12
> x[2] <- ( sum(y[2:13]) )/12
>
> and so on.
>
> Of course, this is easily done through loops.  However, I have
> been trying to do this more elegantly, but have failed.  I have
> tried things like
> j1 <- 1:109
> j2 <- 12:120
>
> x[1:109] <- ( sum( y[j1:j2]) )/12
>
> but it doesn't work.  (Surprise!)
>
> R 1.4.0 on windows.
>
> Any ideas would be much appreciated!
>
> Thanks!
>
> Sincerely,
> Erin Hodgess
> Associate Professor
> Department of Computer and Mathematical Sciences
> University of Houston - Downtown
> 1 Main Street
> Houston, TX 77002
> mailto: hodgess at uhddx01.dt.uh.edu

Try:

> diff(cumsum(c(0,y)),lag=12)/12

Peter Wolf

----------------------------------------
H.P.Wolf
University of Bielefeld
Germany
pwolf at wiwi.uni-bielefeld.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Feb 22 21:15:05 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Feb 2002 21:15:05 +0100
Subject: [R] Tcl/Tk window lingering too long
In-Reply-To: <a05101000b89c42f0d2f0@[163.1.41.69]>
References: <a05101000b89c1b9cb4be@[163.1.41.69]>
	<x2lmdlxt0j.fsf@blueberry.kubism.ku.dk>
	<a05101000b89c42f0d2f0@[163.1.41.69]>
Message-ID: <x2wux5i88m.fsf@blueberry.kubism.ku.dk>

David Firth <david.firth at nuffield.oxford.ac.uk> writes:

> Many thanks to Brian and Peter for their swift and helpful responses.
> 
> I tried Peter's suggestion (I think), as in
> 
> test<-function(){
> 	base<-tktoplevel()
> 		ok.but<-tkbutton(base,text="OK",
> 		         command=function(){
> 		             tkdestroy(base)
> 		             })
> 		tkpack(ok.but)
> 		tkwait.window(base)
> 	x<-rnorm(400000)
>          print("finished")}
> 
> but that version seems to have the same problem as before.
> 
> David

Drats!

Hmm. Inserting a .Tcl("update") does the trick. I'm slightly worried
about some of the "update considered evil" things I've heard - see
http://mini.net/tcl/1255.html. Looks like it would be fairly safe to
run it at top level, though. (At any rate there ought to be a
tkupdate() function, but there's not - yet...)

The Windows version runs the Tcl loop periodically during computations
which is why we aren't seeing this effect there. Unix-alikes only
check for events when waiting for keyboard input or when explicitly
requested.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From oedic at cebc.cnrs.fr  Fri Feb 22 22:25:27 2002
From: oedic at cebc.cnrs.fr (Thomas de Cornulier)
Date: Fri, 22 Feb 2002 22:25:27 +0100
Subject: [R] plotting symbols: bug?
References: <200202201538.QAA18505@mach.vub.ac.be>
Message-ID: <3C76B747.1E7BC4BA@cebc.cnrs.fr>

Dear all,
I spent a long time today to find out why symbols( ) didn't display all my points.
In fact, the function cannot display circles with a small radius when the range of
radii is too large, whereas circles with radius=0 are drawn as dots!
here are a simple examples:
> symbols(sample(1:8),sample(1:8),circle=c(1,4,88,0,0,0,0,50),inches=0.2)
#plots 6 circles
> symbols(sample(1:8),sample(1:8),circle=c(0,0,88,0,0,0,0,50),inches=0.2)
#plots 8 circles

this looks quite illogical to me, should it be considered as a bug?

I don't think it is of use, however:
I did this in R 1.3.0 and 1.4.1 both running on Windows 95

thomas
--
------------------------------------
Thomas de Cornulier
CEBC-CNRS
79360 Villiers en Bois

(0033) 5 49 09 61 11 (heures bureau)
(0033) 5 49 09 67 43 (soir)
(0033) 6 20 66 07 84 (mobile)
------------------------------------


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.janmaat at acadiau.ca  Fri Feb 22 22:37:06 2002
From: john.janmaat at acadiau.ca (John Janmaat)
Date: Fri, 22 Feb 2002 17:37:06 -0400
Subject: [R] Logit / ms
Message-ID: <3C76BA02.9070202@acadiau.ca>

Hello,

I am looking for a routine to do a logistic regression.  In the book 
"Modern Applied Statistics with S-PLUS" a function is described which 
uses the 'ms' command.  Is there an analogue for R, or an alternative 
approach that can accomplish the same thing?

Thanks,

John.
-- 
==========================================
John Janmaat
Department of Economics
Acadia University, Wolfville, NS, B0P 1X0
(902)585-1461

All opinions stated are personal, unless
otherwise indicated.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Feb 22 22:50:01 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 22 Feb 2002 21:50:01 +0000 (GMT)
Subject: [R] Logit / ms
In-Reply-To: <3C76BA02.9070202@acadiau.ca>
Message-ID: <Pine.LNX.4.31.0202222145050.2348-100000@gannet.stats>

On Fri, 22 Feb 2002, John Janmaat wrote:

> Hello,
>
> I am looking for a routine to do a logistic regression.  In the book
> "Modern Applied Statistics with S-PLUS" a function is described which
> uses the 'ms' command.  Is there an analogue for R, or an alternative
> approach that can accomplish the same thing?

Well, you want the upcoming fourth edition, which just happens to have a
version for R:

logitreg <- function(x, y, wt = rep(1, length(y)),
               intercept = T, start = rep(0, p), ...)
{
  fmin <- function(beta, X, y, w) {
      p <- plogis(X %*% beta)
      -sum(2 * w * ifelse(y, log(p), log(1-p)))
  }
  gmin <- function(beta, X, y, w) {
      eta <- X %*% beta; p <- plogis(eta)
      -2 * matrix(w *dlogis(eta) * ifelse(y, 1/p, -1/(1-p)), 1) %*% X
  }
  if(is.null(dim(x))) dim(x) <- c(length(x), 1)
  dn <- dimnames(x)[[2]]
  if(!length(dn)) dn <- paste("Var", 1:ncol(x), sep="")
  p <- ncol(x) + intercept
  if(intercept) {x <- cbind(1, x); dn <- c("(Intercept)", dn)}
  if(is.factor(y)) y <- (unclass(y) != 1)
  fit <- optim(start, fmin, gmin, X = x, y = y, w = wt,
               method = "BFGS", ...)
  names(fit$par) <- dn
  cat("\nCoefficients:\n"); print(fit$par)
  # R: use fit$value and fit$convergence
  cat("\nResidual Deviance:", format(fit$value), "\n")
  if(fit$convergence > 0)
      cat("\nConvergence code:", fit$convergence, "\n")
  invisible(fit)
}

options(contrasts = c("contr.treatment", "contr.poly"))
X <- model.matrix(terms(low ~ ., data=bwt), data = bwt)[, -1]
logitreg(X, bwt$low)


Don't totally overlook glm, though.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Feb 22 22:58:40 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 22 Feb 2002 21:58:40 +0000 (GMT)
Subject: [R] plotting symbols: bug?
In-Reply-To: <3C76B747.1E7BC4BA@cebc.cnrs.fr>
Message-ID: <Pine.LNX.4.31.0202222151140.2348-100000@gannet.stats>

On Fri, 22 Feb 2002, Thomas de Cornulier wrote:

> Dear all,
> I spent a long time today to find out why symbols( ) didn't display all my points.
> In fact, the function cannot display circles with a small radius when the range of
> radii is too large, whereas circles with radius=0 are drawn as dots!
> here are a simple examples:
> > symbols(sample(1:8),sample(1:8),circle=c(1,4,88,0,0,0,0,50),inches=0.2)
> #plots 6 circles
> > symbols(sample(1:8),sample(1:8),circle=c(0,0,88,0,0,0,0,50),inches=0.2)
> #plots 8 circles
>
> this looks quite illogical to me, should it be considered as a bug?
>
> I don't think it is of use, however:
> I did this in R 1.3.0 and 1.4.1 both running on Windows 95

The version information was a great deal of use. Both work correctly for
me on Windows 2000/XP, so it looks like the bug is in Windows 95 and/or
your graphics card driver.  Time for a upgrade?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sjuranic at crow.ee.washington.edu  Fri Feb 22 23:10:08 2002
From: sjuranic at crow.ee.washington.edu (Stephen W. Juranich)
Date: Fri, 22 Feb 2002 14:10:08 -0800
Subject: [R] shrink.tree method available?
Message-ID: <200202222210.g1MMA8e15372@crow.ee.washington.edu>

Is there a shrink.tree function available for R anywhere?  Right now, if I want
to shrink my trees rather than prune them, I have to resort to S-plus and it's
unforgivable treatment of the BATCH mode.

Any pointers would be greatly appreciated.

TIA.

--------------------------------------------------------------------------
Stephen W. Juranich                             sjuranic at ee.washington.edu
Electrical Engineering             http://students.washington.edu/sjuranic
University of Washington                http://ssli.ee.washington.edu/ssli


 /"\                          || 
 \ /  ASCII RIBBON CAMPAIGN   ||  NO ATTACHMENTS
  X   AGAINST HTML MAIL       ||  NO STATIONERY
 / \  AND POSTINGS            ||  NO GRAPHICS


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rangrej at exchange.cheo.on.ca  Fri Feb 22 23:40:59 2002
From: rangrej at exchange.cheo.on.ca (Rangrej, Jagadish)
Date: Fri, 22 Feb 2002 17:40:59 -0500
Subject: [R] R crashes when .Fortran embeded function, is called twice in R
Message-ID: <A032D3A4B7F0D411B9360008C71E3DA5038D4C10@cheont3.cheo.on.ca>


Hello,

I have few functions in fortran.. whose dll is generated and integrated with
C:\Pro..files\R\..library\...libs

Then I load the dll etc.. and call a R function, which inturn call the
function in dll, using .Fortran

Skeleton .Fortran call in R function:
	1. Set data (allocation ..)
	2. call the routine to evaluate (some simulation)
	3. unset data ( deallocation etc..)

Problem : 1st time I call, it works fine and gives the answer as expected.
If I call it second time without going out of R, then it fails and crashes
the R saying unknown error with Rgui.

FYI: I got calls to write/print which writes to the logfile instead to the
screen so no question of error due to printing, I think, I also checked with
allocation and deallocation sequence in setdata and unsetdata resp., it
should work as expected.

I will be very much thankful to you for helping me resolve this problem.

Thanks,
-Jag
	

Jagadish Rangrej ( Statistician )
CHEO Research Institute, Ottawa, ON
613-7383951

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gregory_r_warnes at groton.pfizer.com  Sat Feb 23 00:00:16 2002
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Fri, 22 Feb 2002 18:00:16 -0500
Subject: FW: [R] Cent. Mov. Ave
Message-ID: <5429125E11E4D411AF7300805FE603A8040DE6E8@groexmbcr02.pfizer.com>


I recently wrote a function to compute functions over moving windows.  (See
below).  It varies from your request by using the last N points rather than
the last N/2 and next N/2 points, so you may have to modify it to get what
you want.

It will be in the next gregmisc package, which will go out in a month or so
when the publication review process here finishes. (I hate red tape!) 

-Greg



########### CODE #############
# $Id: running.R,v 1.2 2001/09/01 00:01:54 warneg Exp $
#
# $Log: running.R,v $
# Revision 1.2  2001/09/01 00:01:54  warneg
# Release 0.3.0
#
# Revision 1.1  2001/08/25 05:53:37  warneg
# Initial CVS checkin.
#
#
"running" _ function( X, fun=mean, width=min(length(X),20),
                     allow.fewer=FALSE,...)
{
  n _ length(X)

  from  <-  sapply( (1:n) - width + 1, function(x) max(x,1) )
  to    <-  1:n

  elements  <- apply(cbind(from,to), 1,function(x) seq(x[1], x[2]) )

  if(is.matrix(elements))
    elements  <- as.data.frame(elements)
  
  funct _ function(which,what,fun,...) fun(what[which],...)
  
  Xvar _ sapply(elements, funct, what=X, fun=fun, ...)
  names(Xvar) <- paste(from,to,sep=":")

  if(!allow.fewer)
    Xvar[1:(width-1)]  <- NA
  
  return(Xvar)
}

########## DOCUMENTATION ###############
running               package:gregmisc               R Documentation

Apply a Function Over Adjacent Subsets of a Vector

Description:

     Applies a function over subsets of the vector formed by taking a
     fixed number of previous points.

Usage:

     running(X, fun=mean, width=min(length(X),20), allow.fewer=FALSE,...)

Arguments:

       X: data vector 

     fun: function to apply. Default is `mean'

   width: integer giving the number of vector elements to include in
          the subsets.  Defaults to the lesser of the length of the
          data and 20 elements.

allow.fewer: Boolean indicating whether the function should be computed
          for initial subsets with fewer than `width' points

     ...: parameters to be passed to `fun' 

Value:

     Vector containg the results of applying the function `fun' to the
     subsets.

Author(s):

     Gregory R. Warnes Gregory_R_Warnes\@groton.pfizer.com

Examples:

     running(1:20,width=5)

     plot(1:20, running(1:20,width=5))
     plot(1:20, running(1:20,width=5, allow.fewer=T))

     # plot running mean and central 2 standard deviation range
     # estimated by last 40 observations
     dat <- rnorm(500, sd=1 + (1:500)/500 )
     plot(dat)
     fun <- function(x,sign=1) mean(x) + sign * sqrt(var(x))
     lines(running(dat,width=50,fun=mean,allow=T),col="blue")
     lines(running(dat,width=50,fun=fun, sign=-1, allow=T),col="red")
     lines(running(dat,width=50,fun=fun, sign=1, allow=T),col="red")








> -----Original Message-----
> From: Erin Hodgess [mailto:hodgess at uhddx01.dt.uh.edu]
> Sent: Friday, February 22, 2002 2:10 PM
> To: r-help at stat.math.ethz.ch
> Subject: [R] Cent. Mov. Ave
> 
> 
> Dear R People:
> 
> Here is an interesting question(I think)
> Suppose I want to calculate Centered Moving Averages; i.e.
> x[1] <- ( sum(y[1:12]) )/12
> x[2] <- ( sum(y[2:13]) )/12
> 
> and so on.
> 
> Of course, this is easily done through loops.  However, I have
> been trying to do this more elegantly, but have failed.  I have
> tried things like
> j1 <- 1:109
> j2 <- 12:120
> 
> x[1:109] <- ( sum( y[j1:j2]) )/12
> 
> but it doesn't work.  (Surprise!)
> 
> 
> R 1.4.0 on windows.
> 
> 
> Any ideas would be much appreciated!
> 
> Thanks!
> 
> Sincerely,
> Erin Hodgess
> Associate Professor
> Department of Computer and Mathematical Sciences
> University of Houston - Downtown
> 1 Main Street 
> Houston, TX 77002
> mailto: hodgess at uhddx01.dt.uh.edu
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> 


LEGAL NOTICE
Unless expressly stated otherwise, this message is confidential and may be privileged. It is intended for the addressee(s) only. Access to this E-mail by anyone else is unauthorized. If you are not an addressee, any disclosure or copying of the contents of this E-mail or any action taken (or not taken) in reliance on it is unauthorized and may be unlawful. If you are not an addressee, please inform the sender immediately.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Sat Feb 23 00:16:00 2002
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Fri, 22 Feb 2002 17:16:00 -0600 (CST)
Subject: [R] Cen. Mov. Ave Summary
Message-ID: <200202222316.RAA29146@uhddx01.dt.uh.edu>

Dear R People:

Thanks to Ben Bolker, Brian Ripley, Peter Wolf, Reid 
Huntsinger, and Greg Warnes for their quick responses.

The majority suggested using
filter()
as found in the ts package.

Peter Wolf suggested:
diff(cumsum((c(0,y)),lag=12)/12

and Greg suggested his own code, 
which he kindly included.

This was such a big help!

Thanks again!

Also thanks to anyone that I may have missed!
Erin

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dbickel at mail.mcg.edu  Sat Feb 23 01:02:36 2002
From: dbickel at mail.mcg.edu (David R. Bickel)
Date: Fri, 22 Feb 2002 19:02:36 -0500
Subject: Summary: [R] read.table on Mac OS X, CARBON vs. DARWIN
In-Reply-To: <7897B9B8-279C-11D6-9D99-0003930EA956@gmx.net>
Message-ID: <A4C77352-27F0-11D6-82F4-000393021810@mail.mcg.edu>

Adding that line didn't work for me. I get the same problem as before 
(version 1.4.0):

'temp' is a two-line text file with three tab-delimited columns.

UNDER DARWIN:
 > read.table('temp')
               V1   V2   V3
1 AFFX-BioB-5_at -214 -139
2 AFFX-BioB-M_at  -49  -11
 > read.table('temp',as.is=TRUE)
stack imbalance in internal type.convert, 26 then 25stack imbalance in 
Internal, 25 then 24
stack imbalance in if, 19 then 18
stack imbalance in <-, 17 then 16
stack imbalance in {, 15 then 14
stack imbalance in for, 8 then 7
stack imbalance in {, 6 then 5
               V1   V2   V3
1 AFFX-BioB-5_at -214 -139
2 AFFX-BioB-M_at  -49  -11
Error: unprotect(): stack imbalance

UNDER CARBON:
 > read.table('temp')
               V1   V2   V3
1 AFFX-BioB-5_at -214 -139
2 AFFX-BioB-M_at  -49  -11
 > read.table('temp',as.is=TRUE)
               V1   V2   V3
1 AFFX-BioB-5_at -214 -139
2 AFFX-BioB-M_at  -49  -11


On Friday, February 22, 2002, at 09:00 X, Meinhard Ploner wrote:

> Thanks a lot, James!!
> The problem is fixed. On the version 1.4.0 Mac/darwin (the latest 
> available version for this system) the function read.table (which is 
> called from read.delim etc., too) has the bug you explained.
>
> Inserting the row
> 	nlines <- nlines+1
> after
> 	 lines <- c(lines, line)
> removes this bug.
> M.
>
>
> On Friday, February 22, 2002, at 02:33  PM, james.holtman at convergys.com 
> wrote:
>
>>
>> If you can not the the latest 1.4.1, here is a patch (adds one line to
>> read.table) that will fix it on your current system.
>>
>>> The 'read.table' function appears to be up to 10X slower in R 1.4.0 
>>> than
>> R
>>> 1.3.1 for some of the data sets I read in.  I was comparing the source
>> code
>>> for the 2 versions and see that it was rewritten in R 1.4.0.
>>>
>>> I think I found out what part of the problem might be.  I was 
>>> comparing
>>> R1.3.1 and R1.4.0 code and it appears that a statement is missing in 
>>> some
>>> of the code for R 1.4.  This is the section of code at the beginning 
>>> of
>>> read.table.  The loop starting with 'while (nlines < 5)' will read in 
>>> the
>>> entire file, because there is no increment of 'nlines' in the loop.  I
>>> traced through the code  and this is what was happening.  It then 
>>> does a
>>> 'pushBack' of the entire file.  In tracing through the code, this is
>> where
>>> is appears to be taking the time.  With the change noted below, the 
>>> speed
>>> was similar to R 1.3.1 and the results were the same.
>>>
>>> Here is the current code with what I think is the additional statement
>>> needed:
>>>
>>> =================part of read.table========
>>>
>>>     nlines <- 0
>>>     lines <- NULL
>>>     while (nlines < 5) {
>>>         line <- readLines(file, 1, ok = TRUE)
>>>         if (length(line) == 0)
>>>             break
>>>         if (blank.lines.skip && length(grep("^[ \\t]*$", line)))
>>>             next
>>>         if (length(comment.char) && nchar(comment.char)) {
>>>             pattern <- paste("^[ \\t]*", substring(comment.char,
>>>                 1, 1), sep = "")
>>>             if (length(grep(pattern, line)))
>>>                 next
>>>         }
>>>         lines <- c(lines, line)
>>>        #
>>>        #  additional line required
>>>        #
>>>        nlines <- nlines+1
>>>     }
>>
>>> --
>>
>>
>>
>>
>> Meinhard Ploner <meinhardploner at gmx.net> on 02/22/2002 03:17:34
>>
>> To:   james.holtman at convergys.com
>> cc:
>> Subject:  Re: [R] read.table on Mac OS X, CARBON vs. DARWIN
>>
>>
>> Yes. Thanks a lot.
>> I had the 1.4.0 because on Fink the latest version (1.4.1) is not
>> available. However, I will download it from the CRAN.
>> Meinhard
>>
>>
>> On Thursday, February 21, 2002, at 10:29  PM,
>> james.holtman at convergys.com wrote:
>>
>>> read.table did have a bug in it in 1.4.0.  It was fixed in 1.4.1.  Is
>>> that
>>> what you are running with?
>>
>>
>>
>>
>>
>> --
>>
>> NOTICE:  The information contained in this electronic mail 
>> transmission is
>> intended by Convergys Corporation for the use of the named individual 
>> or
>> entity to which it is directed and may contain information that is
>> privileged or otherwise confidential.  If you have received this 
>> electronic
>> mail transmission in error, please delete it from your system without
>> copying or forwarding it, and notify the sender of the error by reply 
>> email
>> or by telephone (collect), so that the sender's address records can be
>> corrected.
>>
>>
>>

http://www.mcg.edu/research/biostat/bickel.html

David R. Bickel, PhD
Assistant Professor
Medical College of Georgia
Office of Biostatistics and Bioinformatics
1120 Fifteenth St., AE-3037
Augusta, GA 30912-4900

Tel.: 706-721-4697; Fax: 706-721-6294
E-mail: dbickel at mail.mcg.edu or bickel at prueba.info
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 4761 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020222/19523d0e/attachment.bin

From adrian.trapletti at lmttrading.com  Sat Feb 23 08:12:04 2002
From: adrian.trapletti at lmttrading.com (Adrian Trapletti)
Date: Sat, 23 Feb 2002 08:12:04 +0100
Subject: Subject: [R] Does R have semiparametric package for time series
Message-ID: <3C7740C4.4A27D1A7@lmttrading.com>

>Date: Fri, 22 Feb 2002 09:48:16 -0600 (CST)
>From: sun at cae.wisc.edu
>Subject: [R] Does R have semiparametric package for time series
>
>Hello, All: I am new to R. I wonder if there is package for
nonparametric or
>semiparametric processing of time series. Thank you very much.
>
>Hongyu Sun

Have a look at package "sm" and, in particular function
"sm.autoregression".

best
Adrian


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Feb 23 08:18:00 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 23 Feb 2002 07:18:00 +0000 (GMT)
Subject: Summary: [R] read.table on Mac OS X, CARBON vs. DARWIN
In-Reply-To: <A4C77352-27F0-11D6-82F4-000393021810@mail.mcg.edu>
Message-ID: <Pine.GSO.4.44.0202230657430.9462-100000@auk.stats>

It won't fix the stack-imbalance bug, but upgrading to 1.4.1 will, as I
originally pointed out. However, as.is=FALSE was superseded by better
facilities in read.table in 1.4.0. (It will help with the slowness, but the
solution described is not as good as the one in 1.4.1.  Not that slowness
is a `bug'.)

All this has been discussed on R-help a few weeks ago, and it feels like we
are being asked to re-live the past.  Workarounds are in the archives,
several times.  I won't repeat them here as the real answer is to upgrade
to 1.4.1, and that *is* available for Darwin.  So can this discussion be
moved to R-mac-sig, as it seems a Mac-specific issue of how to install
1.4.1?


On Fri, 22 Feb 2002, David R. Bickel wrote:

> Adding that line didn't work for me. I get the same problem as before
> (version 1.4.0):

[Using read.table with as.is=FALSE ...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Sat Feb 23 10:59:10 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Sat, 23 Feb 2002 10:59:10 +0100
Subject: [R] plotting symbols: bug?
In-Reply-To: <Pine.LNX.4.31.0202222151140.2348-100000@gannet.stats>
Message-ID: <KKEGJOGBELBHDIKPINBMOEDNCKAA.hb@maths.lth.se>

I tried (almost) the same on WinMe:

 >symbols(1:8,1:8,circle=c(1,2,3,4,88,0,0,50),inches=0.2)

and I can't see the first *two* circles. Trying to generate a jpeg output
using

 >jpeg(file="foo.jpg", width=640, height=640)
 >symbols(1:8,1:8,circle=c(1,2,3,4,88,0,0,50),inches=0.2)
 >dev.off()

gives the same result. dev.copy2eps() works fine.

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e
http://www.maths.lth.se/bioinformatics/


> -----Original Message-----
> From: owner-r-help at stat.math.ethz.ch
> [mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Prof Brian Ripley
> Sent: Friday, February 22, 2002 10:59 PM
> To: Thomas de Cornulier
> Cc: r-help
> Subject: Re: [R] plotting symbols: bug?
>
>
> On Fri, 22 Feb 2002, Thomas de Cornulier wrote:
>
> > Dear all,
> > I spent a long time today to find out why symbols( ) didn't
> display all my points.
> > In fact, the function cannot display circles with a small
> radius when the range of
> > radii is too large, whereas circles with radius=0 are drawn as dots!
> > here are a simple examples:
> > >
> symbols(sample(1:8),sample(1:8),circle=c(1,4,88,0,0,0,0,50),inches=0.2)
> > #plots 6 circles
> > >
> symbols(sample(1:8),sample(1:8),circle=c(0,0,88,0,0,0,0,50),inches=0.2)
> > #plots 8 circles
> >
> > this looks quite illogical to me, should it be considered as a bug?
> >
> > I don't think it is of use, however:
> > I did this in R 1.3.0 and 1.4.1 both running on Windows 95
>
> The version information was a great deal of use. Both work correctly for
> me on Windows 2000/XP, so it looks like the bug is in Windows 95 and/or
> your graphics card driver.  Time for a upgrade?
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Feb 23 11:15:24 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 23 Feb 2002 10:15:24 +0000 (GMT)
Subject: [R] plotting symbols: bug?
In-Reply-To: <KKEGJOGBELBHDIKPINBMOEDNCKAA.hb@maths.lth.se>
Message-ID: <Pine.GSO.4.44.0202231006040.28296-100000@auk.stats>

On Sat, 23 Feb 2002, Henrik Bengtsson wrote:

> I tried (almost) the same on WinMe:

Which is also based on the 1980s 16-bit GDI code used by Windows 3.x and
95.

>  >symbols(1:8,1:8,circle=c(1,2,3,4,88,0,0,50),inches=0.2)
>
> and I can't see the first *two* circles. Trying to generate a jpeg output
> using
>
>  >jpeg(file="foo.jpg", width=640, height=640)
>  >symbols(1:8,1:8,circle=c(1,2,3,4,88,0,0,50),inches=0.2)
>  >dev.off()
>
> gives the same result. dev.copy2eps() works fine.

jpeg was not a good choice for a line diagram, but it is using the same GDI
code, so would be expected to give the same result. dev.copy2eps() is
using the postscript graphics device.

[...]

You are welcome to submit a patch, provided it has been tested on both
Windows 9X and 2000/XP, and has no performance implications on the latter.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rmalayam at ic.sunysb.edu  Wed Feb 20 01:49:03 2002
From: rmalayam at ic.sunysb.edu (Ravi Malayambakkam-n)
Date: Tue, 19 Feb 2002 19:49:03 -0500 (EST)
Subject: [R] Regarding acf
Message-ID: <Pine.GSO.4.21.0202191945230.11736-100000@sparky.ic.sunysb.edu>

help .

I have a file which contains a table that has 2 columns of which the first
one is a time sereis.  I need to extract the first column alone and do an
acf plot on it.  I dont know how to extract the first column and pass it
to the acf function in the ts package.  Can anybody pls help me.

end

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From poohtest at yahoo.com  Thu Feb 21 20:26:41 2002
From: poohtest at yahoo.com (pooh rondstr)
Date: Thu, 21 Feb 2002 11:26:41 -0800 (PST)
Subject: [R] Re: [S] Splus vs. R  &  Linux vs. Windows
In-Reply-To: <CFA6739DD532764AA51E7459970BF0E203B6FA42@ns-bco-mse3.im.battelle.org>
Message-ID: <20020221192641.57480.qmail@web12007.mail.yahoo.com>


--- "Paul, David  A" <paulda at BATTELLE.ORG> wrote:
> Four questions:
> 
> (1) Is Splus faster (on a PC) under Linux than under
> Windows?  I am
> 	specifically thinking of intensive loops here, but
> would also
> solicit 
> 	information regarding how Splus stores information
> within the Linux
> 	system vx. Windows
> 
> (2) Can Splus under Linux take advantage of multiple
> processors?  I know
> 	there was some discussion on the listserv earlier
> about multiple
> 	processors, but I don't recall if the Linux OS was
> mentioned.
> 
> (3) Is R capable of taking advantage of multiple
> processors under either the
> 	Windows or Linux OS?
> 
> (4) How does R compare to Splus with regards to (1)
> above?
> 
> Thanks in advance for any information - I will be
> sure to post a summary of
> the
> replies that I receive.  If given permission, I will
> also post the email
> addresses of
> those persons who reply.
> 
> Regards,
> 
> David Alan Paul, Ph.D.
> Battelle Memorial Institute - SDAS
> paulda at battelle.org
> 614-424-3176
> 614-424-4611 (fax)
> http://www.battelle.org/statistics
> 
>
--------------------------------------------------------------------
> This message was distributed by
> s-news at lists.biostat.wustl.edu.  To un-subscribe send e-mail to
> s-news-request at lists.biostat.wustl.edu with..

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From fharrell at virginia.edu  Sat Feb 23 21:01:29 2002
From: fharrell at virginia.edu (Frank E Harrell Jr)
Date: Sat, 23 Feb 2002 15:01:29 -0500
Subject: [R] Conferences on Statistics in Clinical Trials
Message-ID: <auto-000003115963@cgatepro-2.mail.virginia.edu>

[This is an email copy of a Usenet post to "sci.stat.consult,sci.stat.edu"]

Dear Colleagues

Please find attached a copy of all the forthcoming statistical conferences
Henry Stewart Conference Studies are organizing in the US and Europe. A
reduced rate is offered to all members of academia who wish to attend any of
the courses and conferences we organise. 

If anyone is interested in receiving more information about any of these
events, and the reduced prices offered to academics, then please contact
Susan Robinson on +44 207 404 3040 (email: susanr at henrystewart.co.uk). Full
details of all events can also be found at our website www.henrystewart.com


Title:	Statistics of Multi-center Trials
Date: 	5th March 2002
Venue:	Georgetown University Conference Center, Washington DC, USA
Chairman:		Paul Gallo, Assistant Director of Biostatistics,
Novartis Pharmaceuticals
Speakers: 		Vladamir Dragalin, Research Statistics Unit,
GlaxoSmithKline
			Professor Frank Harrell, Professor of Biostatistics
and Statistics, University of Virginia School of Medicine
			Dr Clare Gnecco, Division of Biostatistics, FDA
			Professor Cyrus Mehta, Adjunct Professor of
Biostatistics, Harvard University & President of Cytel Software
			Dr James Rochon, The Biostatistics Center, George
Washington University
			Dr Dalene Stangl, Institute of Statistics, Duke
University
			Professor Peter Thall,  Department of Biostatistics,
MD Anderson Cancer Center
Full details can be found at
http://www.henrystewart.com/conferences/march2002/N01553/index.html



Title:	Avoiding Common Mistakes and Getting all you Need from STATISTICAL
TECHNIQUES USED IN CLINICAL TRIALS
Date: 	18th March 2002
Venue:	London, UK
Speakers include:	Simon Day, Statistics Unit Manager, Medicines
Control Agency (MCA) - Chairman
			Dennis Chanter, Principal Consultant Statistician,
Quintiles
			Professor Andrew Grieve, Senior Statistical
Consultant, Pfizer Global R & D
			Dr Paul Silcocks, Consultant Biostatistician,
Parexel International
			Anne Whitehead, Director of Medical and
Pharmaceutical Statistics Research Unit, University of Reading
			Andrew Garrett, Senior Director, Biostatistics &
Medical Writing Europe, Quintiles
			Dr David Wright, Statistical Assessor, Medicines
Control Agency (MCA)
Full details can be found at
http://www.henrystewart.com/conferences/march2002/N02592/index.html	


			
Yours sincerely

Dr Carlos Horkan
Director
Pharmaceutical Division
Henry Stewart Conference Studies
Tel: +44 207 404 3040
Fax: +44 207 404 2081
email: carlosh at henrystewart.co.uk
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ku.edu  Sat Feb 23 21:57:07 2002
From: pauljohn at ku.edu (Paul Johnson)
Date: Sat, 23 Feb 2002 14:57:07 -0600
Subject: [R] Logit / ms
References: <Pine.LNX.4.31.0202222145050.2348-100000@gannet.stats>
Message-ID: <3C780223.30005@ku.edu>

Thanks for posting this. it is highly instructive!

Can I ask follow ups? I ran this example after getting the bwt data as 
illustrated in the example for birthwt in MASS.  It runs fine and gives 
me the parameter estimates.

Question 1. the estimates are a little different from the glm estimates 
obtained. The differences result from a change in optimization routines? 
  Are these small differences typical?

Here are the logitreg() numbers:

(Intercept)         age         lwt   raceblack   raceother   smokeTRUE
  0.82304295 -0.03723343 -0.01565330  1.19240547  0.74067565  0.75551956
     ptdTRUE      htTRUE      uiTRUE        ftv1       ftv2+
  1.34374814  1.91317620  0.68020276 -0.43636831  0.17901477

 > glm(low ~ . ,binomial, bwt)

Call:  glm(formula = low ~ ., family = binomial, data = bwt)

Coefficients:
(Intercept)          age          lwt    raceblack    raceother    smokeTRUE
     0.82271     -0.03722     -0.01565      1.19223      0.74051 
0.75537
     ptdTRUE       htTRUE       uiTRUE         ftv1        ftv2+
     1.34365      1.91297      0.68016     -0.43633      0.17894


Question 2. Then I wondered "how do I do significance tests on those 
estimates"?  In the glm results, I use summary(). But what of this 
logitreg? I figure just to use t tests based on the asymptotic normality 
of the b's, so I need standard errors.  To get them, it appears to me I 
go into the logitreg function, and for optim I insert Hessian=TRUE, and 
then I can torture the Hessian to get standard errors.

Question 3. when logitreg prints its output, the only diagnostic 
information it gives is:
Residual Deviance: 195.4755

I'm wondering what the user is supposed to conclude from that. Isn't it 
the same as -2LL?  What benchmark do you use to say it is high or low? 
In the olden days of graduate school, they ignore that, and instead look 
for -2LLR to test that all the b's are jointly 0.

pj


Prof Brian Ripley wrote:
> 
> Well, you want the upcoming fourth edition, which just happens to have a
> version for R:
> 
> logitreg <- function(x, y, wt = rep(1, length(y)),
>                intercept = T, start = rep(0, p), ...)
> {
>   fmin <- function(beta, X, y, w) {
>       p <- plogis(X %*% beta)
>       -sum(2 * w * ifelse(y, log(p), log(1-p)))
>   }
>   gmin <- function(beta, X, y, w) {
>       eta <- X %*% beta; p <- plogis(eta)
>       -2 * matrix(w *dlogis(eta) * ifelse(y, 1/p, -1/(1-p)), 1) %*% X
>   }
>   if(is.null(dim(x))) dim(x) <- c(length(x), 1)
>   dn <- dimnames(x)[[2]]
>   if(!length(dn)) dn <- paste("Var", 1:ncol(x), sep="")
>   p <- ncol(x) + intercept
>   if(intercept) {x <- cbind(1, x); dn <- c("(Intercept)", dn)}
>   if(is.factor(y)) y <- (unclass(y) != 1)
>   fit <- optim(start, fmin, gmin, X = x, y = y, w = wt,
>                method = "BFGS", ...)
>   names(fit$par) <- dn
>   cat("\nCoefficients:\n"); print(fit$par)
>   # R: use fit$value and fit$convergence
>   cat("\nResidual Deviance:", format(fit$value), "\n")
>   if(fit$convergence > 0)
>       cat("\nConvergence code:", fit$convergence, "\n")
>   invisible(fit)
> }
> 
> options(contrasts = c("contr.treatment", "contr.poly"))
> X <- model.matrix(terms(low ~ ., data=bwt), data = bwt)[, -1]
> logitreg(X, bwt$low)
> 
> 
> Don't totally overlook glm, though.
> 
> 



-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ku.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lukistrela at netzero.net  Sun Feb 24 04:22:58 2002
From: lukistrela at netzero.net (Alexander Genkin)
Date: Sat, 23 Feb 2002 22:22:58 -0500
Subject: [R] Dicsriminant coefficients
Message-ID: <006f01c1bce7$c169d3d0$31203841@alexv0eul9jq8v>

Hi! Will you please ask a newbie's question?
Need linear discriminant analysis, need to capture discrim. function
coefficiemts for further processing.
Using R ver 1.4.0 package MASS function lda()
Help says resulting object should have "components" (among others): means,
scaling, svd,
but program returns NULL for all of them

Thank you!

----------------------------------------------------
Sign Up for NetZero Platinum Today
Only $9.95 per month!
http://my.netzero.net/s/signup?r=platinum&refcd=PT97
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Feb 24 09:03:11 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 24 Feb 2002 08:03:11 +0000 (GMT)
Subject: [R] Logit / ms
In-Reply-To: <3C780223.30005@ku.edu>
Message-ID: <Pine.GSO.4.44.0202240802340.8906-100000@auk.stats>

On Sat, 23 Feb 2002, Paul Johnson wrote:

> Thanks for posting this. it is highly instructive!
>
> Can I ask follow ups? I ran this example after getting the bwt data as
> illustrated in the example for birthwt in MASS.  It runs fine and gives
> me the parameter estimates.
>
> Question 1. the estimates are a little different from the glm estimates
> obtained. The differences result from a change in optimization routines?
>   Are these small differences typical?
>
> Here are the logitreg() numbers:
>
> (Intercept)         age         lwt   raceblack   raceother   smokeTRUE
>   0.82304295 -0.03723343 -0.01565330  1.19240547  0.74067565  0.75551956
>      ptdTRUE      htTRUE      uiTRUE        ftv1       ftv2+
>   1.34374814  1.91317620  0.68020276 -0.43636831  0.17901477
>
>  > glm(low ~ . ,binomial, bwt)
>
> Call:  glm(formula = low ~ ., family = binomial, data = bwt)
>
> Coefficients:
> (Intercept)          age          lwt    raceblack    raceother    smokeTRUE
>      0.82271     -0.03722     -0.01565      1.19223      0.74051
> 0.75537
>      ptdTRUE       htTRUE       uiTRUE         ftv1        ftv2+
>      1.34365      1.91297      0.68016     -0.43633      0.17894
>
>
> Question 2. Then I wondered "how do I do significance tests on those
> estimates"?  In the glm results, I use summary(). But what of this
> logitreg? I figure just to use t tests based on the asymptotic normality
> of the b's, so I need standard errors.  To get them, it appears to me I
> go into the logitreg function, and for optim I insert Hessian=TRUE, and
> then I can torture the Hessian to get standard errors.
>
> Question 3. when logitreg prints its output, the only diagnostic
> information it gives is:
> Residual Deviance: 195.4755
>
> I'm wondering what the user is supposed to conclude from that. Isn't it
> the same as -2LL?  What benchmark do you use to say it is high or low?
> In the olden days of graduate school, they ignore that, and instead look
> for -2LLR to test that all the b's are jointly 0.
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Feb 24 09:21:20 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sun, 24 Feb 2002 08:21:20 +0000 (GMT)
Subject: [R] Logit / ms
In-Reply-To: <Pine.GSO.4.44.0202240802340.8906-100000@auk.stats>
Message-ID: <Pine.GSO.4.44.0202240808470.8976-100000@auk.stats>

Sorry, my mailer has lost all my answers ....

On Sun, 24 Feb 2002, Prof Brian D Ripley wrote:

> On Sat, 23 Feb 2002, Paul Johnson wrote:
>
> > Thanks for posting this. it is highly instructive!
> >
> > Can I ask follow ups? I ran this example after getting the bwt data as
> > illustrated in the example for birthwt in MASS.  It runs fine and gives
> > me the parameter estimates.

Let me remind people of the context: this is an illustration in the
optimization section of MASS the book, and we were asked for an R version.
It is *not* a function from the MASS library.  In particular, it is a
bare-bones function taking minimal space in the text, illustrating
optimization.  There are important comments on p.269 on the context.

All page references are to the third edition.

> > Question 1. the estimates are a little different from the glm estimates
> > obtained. The differences result from a change in optimization routines?
> >   Are these small differences typical?
> >
> > Here are the logitreg() numbers:
> >
> > (Intercept)         age         lwt   raceblack   raceother   smokeTRUE
> >   0.82304295 -0.03723343 -0.01565330  1.19240547  0.74067565  0.75551956
> >      ptdTRUE      htTRUE      uiTRUE        ftv1       ftv2+
> >   1.34374814  1.91317620  0.68020276 -0.43636831  0.17901477
> >
> >  > glm(low ~ . ,binomial, bwt)
> >
> > Call:  glm(formula = low ~ ., family = binomial, data = bwt)
> >
> > Coefficients:
> > (Intercept)          age          lwt    raceblack    raceother    smokeTRUE
> >      0.82271     -0.03722     -0.01565      1.19223      0.74051
> > 0.75537
> >      ptdTRUE       htTRUE       uiTRUE         ftv1        ftv2+
> >      1.34365      1.91297      0.68016     -0.43633      0.17894

Yes. glm has too sloppy a convergence criterion.  Turn epsilon down in
glm.control.  See p.216.

> > Question 2. Then I wondered "how do I do significance tests on those
> > estimates"?  In the glm results, I use summary(). But what of this
> > logitreg? I figure just to use t tests based on the asymptotic normality
> > of the b's, so I need standard errors.  To get them, it appears to me I
> > go into the logitreg function, and for optim I insert Hessian=TRUE, and
> > then I can torture the Hessian to get standard errors.

No, you *need* to do likelihood-ratio tests as t-tests are unreliable.
See p.225.

> > Question 3. when logitreg prints its output, the only diagnostic
> > information it gives is:
> > Residual Deviance: 195.4755
> >
> > I'm wondering what the user is supposed to conclude from that. Isn't it
> > the same as -2LL?  What benchmark do you use to say it is high or low?
> > In the olden days of graduate school, they ignore that, and instead look
> > for -2LLR to test that all the b's are jointly 0.

Same issues as for glm, so look `deviance' up in the book's index.

It is very unusual to fit a model expecting all the coefficients (even the
intercept!) to be zero.  That is totally implausible in the example, where
it corresponds to 50-50 prior odds of a baby having low birth weight, for
every baby (and `low' is defined below as the 10percentile in most SGA
studies).  I won't ask which graduate school misled you!


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sun Feb 24 11:50:32 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sun, 24 Feb 2002 11:50:32 +0100
Subject: [R] Regarding acf
References: <Pine.GSO.4.21.0202191945230.11736-100000@sparky.ic.sunysb.edu>
Message-ID: <3C78C578.1A21D757@statistik.uni-dortmund.de>



Ravi Malayambakkam-n wrote:
> 
> help .
> 
> I have a file which contains a table that has 2 columns of which the first
> one is a time sereis.  I need to extract the first column alone and do an
> acf plot on it.  I dont know how to extract the first column and pass it
> to the acf function in the ts package.  Can anybody pls help me.

Please read "An Introduction to R"! After that you can answer those
questions yourself!

Nevertheless, here's an example:

 mydf <- read.table(...)	# reads the file
 myts <- mydf[[1]]		# extracts first column
 library(ts)			# loads package ts
 acf(myts)			# calculates and plots acf


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ozric at web.de  Sun Feb 24 13:23:09 2002
From: ozric at web.de (christian)
Date: Sun, 24 Feb 2002 13:23:09 +0100
Subject: [R] count definite categories
Message-ID: <E16exaV-0001ph-00@smtp.web.de>

Hello,

i  calculate with the formula  conf=Sum(2*Xn^n)   
definite number for binary configurations .
How it is possible to count the  number of different conf ?   

example:
384
384
512
512
512

the result should be 2  .

Thanks for advance & regards,
Christian


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Feb 24 14:02:07 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 24 Feb 2002 14:02:07 +0100
Subject: [R] count definite categories
In-Reply-To: <E16exaV-0001ph-00@smtp.web.de>
References: <E16exaV-0001ph-00@smtp.web.de>
Message-ID: <x2pu2vvxrk.fsf@blueberry.kubism.ku.dk>

christian <ozric at web.de> writes:

> Hello,
> 
> i  calculate with the formula  conf=Sum(2*Xn^n)   
> definite number for binary configurations .
> How it is possible to count the  number of different conf ?   
> 
> example:
> 384
> 384
> 512
> 512
> 512
> 
> the result should be 2  .

length(unique(x))

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sun Feb 24 14:07:51 2002
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 24 Feb 2002 13:07:51 +0000 (GMT)
Subject: [R] count definite categories
In-Reply-To: <E16exaV-0001ph-00@smtp.web.de>
Message-ID: <Pine.LNX.4.31.0202241305130.19475-100000@gannet.stats>

I don't understand what you mean by `definite number' or `definite
categories' (might this be a mis-translation?), but I think you are
looking for table() or unique(), both of which would tell you there were
two categories.

On Sun, 24 Feb 2002, christian wrote:

> Hello,
>
> i  calculate with the formula  conf=Sum(2*Xn^n)
> definite number for binary configurations .
> How it is possible to count the  number of different conf ?
>
> example:
> 384
> 384
> 512
> 512
> 512
>
> the result should be 2  .
>
> Thanks for advance & regards,
> Christian
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cropdesign at xs4all.be  Sun Feb 24 18:53:28 2002
From: cropdesign at xs4all.be (Rik Bradt)
Date: Sun, 24 Feb 2002 18:53:28 +0100
Subject: [R] R BATCH script & reading command line options 
 =?iso-8859-1?Q?=E0?= la argc() & argv()
In-Reply-To: <Pine.GSO.4.44.0202240808470.8976-100000@auk.stats>
References: <Pine.GSO.4.44.0202240802340.8906-100000@auk.stats>
Message-ID: <5.1.0.14.0.20020224135707.00ab7ff0@pop.xs4all.be>

Hello,

I'm writing a R BATCH script on linux that connects to a MS-sqlserver to 
fetch its data (=cross-platform).
After the processing in R it does updates in the MS-sqlserver.

I want to be able to pass parameters to the R BATCH script to control which 
data it has to process.
Is is possible to read the command line parameters passed to R in a BATCH 
script?

I've found the function commandArgs( ), but this doesn't do the job...
Is there a possibility to use c-style argc( ) and argv( ) functions?

Regards,

Rik
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020224/87c84a1d/attachment.html

From alobo at ija.csic.es  Sun Feb 24 20:20:39 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Sun, 24 Feb 2002 20:20:39 +0100 (MET)
Subject: [R] R gnome and lda: found the difference
In-Reply-To: <XFMail.20020222151539.plummer@iarc.fr>
Message-ID: <Pine.OSF.3.96.1020224201710.8560C-100000@ija.csic.es>

Yes, the gnome gui has a normal behaviour 
using the LANG option.
Thanks a lot for your work.

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Fri, 22 Feb 2002, Martyn Plummer wrote:

> On 22-Feb-2002 Agustin Lobo wrote:
> > 
.../...
> > 
> > Is there a workarond, like stating a different locale at selecting
> > gnome as the gui for R? I mean something like R --gui="gnome
> > --locale=english" . Note that I actually launch R --gui="gnome"
> > from a kde desktop.

On Fri, 22 Feb 2002, Martyn Plummer wrote:> 

> LANG=en_GB R --gui=gnome
> 
> will work around it for now.
> 
> Martyn

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Sun Feb 24 20:40:50 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sun, 24 Feb 2002 13:40:50 -0600
Subject: [R] R BATCH script & reading command line options ? la argc() & argv()
In-Reply-To: <5.1.0.14.0.20020224135707.00ab7ff0@pop.xs4all.be>
References: <Pine.GSO.4.44.0202240802340.8906-100000@auk.stats> <5.1.0.14.0.20020224135707.00ab7ff0@pop.xs4all.be>
Message-ID: <20020224194050.GA9505@sonny.eddelbuettel.com>

On Sun, Feb 24, 2002 at 06:53:28PM +0100, Rik Bradt wrote:
> I'm writing a R BATCH script on linux that connects to a MS-sqlserver to 
> fetch its data (=cross-platform).
> After the processing in R it does updates in the MS-sqlserver.

It appears to be possible to use ODBC proxies to get from Linux to MS-SQL on
a Windows box, but this is somewhat complicated.

Why don't you install R on Windows and then use RODBC to access it?

> I want to be able to pass parameters to the R BATCH script to control which 
> data it has to process.
> Is is possible to read the command line parameters passed to R in a BATCH 
> script?

Sort of. This gets discusses on the list every once in a while, please do
search the archive.

> I've found the function commandArgs( ), but this doesn't do the job...
> Is there a possibility to use c-style argc( ) and argv( ) functions?

Not directly.

Dirk


-- 
Good judgement comes from experience; experience comes from bad judgement. 
							    -- Fred Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cropdesign at xs4all.be  Sun Feb 24 23:47:20 2002
From: cropdesign at xs4all.be (Rik Bradt)
Date: Sun, 24 Feb 2002 23:47:20 +0100
Subject: [R] R BATCH script & reading command line options ? la
  argc() & argv()
In-Reply-To: <20020224194050.GA9505@sonny.eddelbuettel.com>
References: <5.1.0.14.0.20020224135707.00ab7ff0@pop.xs4all.be>
 <Pine.GSO.4.44.0202240802340.8906-100000@auk.stats>
 <5.1.0.14.0.20020224135707.00ab7ff0@pop.xs4all.be>
Message-ID: <5.1.0.14.0.20020224215633.03343ea8@pop.xs4all.be>

At 01:40 PM 2/24/2002 -0600, Dirk Eddelbuettel wrote:
>On Sun, Feb 24, 2002 at 06:53:28PM +0100, Rik Bradt wrote:
> > I'm writing a R BATCH script on linux that connects to a MS-sqlserver to
> > fetch its data (=cross-platform).
> > After the processing in R it does updates in the MS-sqlserver.
>
>Why don't you install R on Windows and then use RODBC to access it?

Because we like linux. Database connection is not really an issue here

> > I want to be able to pass parameters to the R BATCH script to control 
> which
> > data it has to process.
> > Is it possible to read the command line parameters passed to R in a BATCH
> > script?
>
>Sort of. This gets discusses on the list every once in a while, please do
>search the archive.
The archive does indeed contain some hints

http://www.r-project.org/nocvs/mail/r-help/2001/1045.html
http://www.r-project.org/nocvs/mail/r-help/2000/2213.html
http://www.r-project.org/nocvs/mail/r-help/1999/1447.html

The problem is that commandArgs() is not really behaving the way I want.

Interactively, everything is ok:

------------------------- snip -------------------------
rikbradt at pc184:/usr/local/httpd/htdocs> /opt/R-1.4.0/bin/R bla1 bla2 bla3
ARGUMENT 'bla1' __ignored__
ARGUMENT 'bla2' __ignored__
ARGUMENT 'bla3' __ignored__

R : Copyright 2001, The R Development Core Team
Version 1.4.0  (2001-12-19)

...
Type `q()' to quit R.

[Previously saved workspace restored]

 > commandArgs()
[1] "/opt/R-1.4.0//lib/R/bin/R.bin" "bla1"
[3] "bla2"                          "bla3"
 >
------------------------- /snip -------------------------

But in a Batch (this is the essential part of the question!) those command 
line arguments get stripped!
This renders the function commandArgs() useless.

I did some research and it seems that the executable I normally use is 
nothing more than a bunch of shell-scripts.
These scripts seem to remove the command line options that are essential 
for me.
It seems cynical but a hint for a solution is in the above log.

Instead of using /opt/R-1.4.0/bin/R I could use "/opt/R-1.4.0//lib/R/bin/R.bin"

         /opt/R-1.4.0/lib/R/bin/R.bin --vanilla < test.R

worked for me, with the environment variable R_HOME=/opt/R-1.4.0/lib/R set. 
It wasn't necessary to set LD_LIBRARY_PATH.

------------------------- snip -------------------------
argc <- function() {
         args <-  commandArgs()
         return(length(args))
}

argv <- function(x) {
         args <-  commandArgs()
         return(args[x])
}
------------------------- /snip -------------------------

So, it looks as if the problem is solved.

Thanks for your time anyhow.

Rik

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at CMIS.CSIRO.AU  Mon Feb 25 03:07:06 2002
From: Bill.Venables at CMIS.CSIRO.AU (Bill.Venables@CMIS.CSIRO.AU)
Date: Mon, 25 Feb 2002 12:07:06 +1000
Subject: [R] Dicsriminant coefficients
Message-ID: <E09E527B56BE2D438A3D6A246DDD27A90C16D3@Roper-CV.qld.cmis.csiro.au>

Alexander,

>  -----Original Message-----
> From: 	Alexander Genkin [mailto:lukistrela at netzero.net] 
> Sent:	Sunday, February 24, 2002 1:23 PM
> To:	R-help at stat.math.ethz.ch
> Subject:	[R] Dicsriminant coefficients
> 
> Hi! Will you please ask a newbie's question?
> Need linear discriminant analysis, need to capture discrim. function
> coefficients for further processing.

Small tip: In English sentences are easier to read (and people are more
likely to read them) if they contain a subject.

> Using R ver 1.4.0 package MASS function lda()

Try
> obj <- lda(.....)
> cf <- coef(obj)

> Help says resulting object should have "components" (among others): means,
> scaling, svd, but program returns NULL for all of them

Which "program" returns NULL for all of them?

Look carefully at the returned object and try, for example,

> names(obj)

or

> unclass(obj)

or for a particular component (why do you put this word in quotes above?)

> obj$svd  # &c

Bill Venables.

> 
> Thank you!
> 
> ----------------------------------------------------
> Sign Up for NetZero Platinum Today
> Only $9.95 per month!
> http://my.netzero.net/s/signup?r=platinum&refcd=PT97
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Mon Feb 25 03:47:00 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Sun, 24 Feb 2002 20:47:00 -0600
Subject: [R] R BATCH script & reading command line options ? la argc() & argv()
In-Reply-To: <5.1.0.14.0.20020224215633.03343ea8@pop.xs4all.be>
References: <5.1.0.14.0.20020224135707.00ab7ff0@pop.xs4all.be> <Pine.GSO.4.44.0202240802340.8906-100000@auk.stats> <5.1.0.14.0.20020224135707.00ab7ff0@pop.xs4all.be> <5.1.0.14.0.20020224215633.03343ea8@pop.xs4all.be>
Message-ID: <20020225024700.GA10459@sonny.eddelbuettel.com>

On Sun, Feb 24, 2002 at 11:47:20PM +0100, Rik Bradt wrote:
> At 01:40 PM 2/24/2002 -0600, Dirk Eddelbuettel wrote:
> >On Sun, Feb 24, 2002 at 06:53:28PM +0100, Rik Bradt wrote:
> >Why don't you install R on Windows and then use RODBC to access it?
> 
> Because we like linux. Database connection is not really an issue here

I understand that part farily well myself -- which is why I put my db
backend on Postgresql on a linux server. That way Windows can connect too,
thanks to the Windows ODBC driver for Postgresql. 

However, this is /not/ a symmetric problem as Microsoft does not supply
Linux ODBC drivers for the MS SQL backend. Windows servers most often imply
Windows client, much to the delight of Microsoft shareholders ...

Dirk

-- 
Good judgement comes from experience; experience comes from bad judgement. 
							    -- Fred Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauling at giub.unibe.ch  Mon Feb 25 14:23:26 2002
From: pauling at giub.unibe.ch (Andreas Pauling)
Date: Mon, 25 Feb 2002 14:23:26 +0100
Subject: [R] problem with step-Function
Message-ID: <3C7A3ACE.1C075545@giub.unibe.ch>

Dear R-community
The following loops produce the error message:

Error in round(x, digits) : Non-numeric argument to mathematical
function

after performing the outer loop 6 times

Splus can execute these loops but is very much slower than R .
Interestingly, if the scale-argument in the step-function is omitted R
performes these loops a few times more.
What could be the reason for that error?
Any hint is appreciated!

Andreas


RQuadrat<-list()
elimParam<-list()
frei.grade<-list()
RQuadrat<-c(rep(list(rep(NA,286)),26))
elimParam<-c(rep(list(rep(NA,286)),26))
frei.grade<-c(rep(list(rep(NA,286)),26))

cat('\nVerarbeitete Gitterpunkte (von 286):\n')

for(i in 1:286)
  {
  j<-1
  if(any(is.na(annJMSLTv.box[,i])==F))
    {

fit<-lm(annJMSLTv.box~.,data=data.frame(annJMSLTv.box=annJMSLTv.box[,i],docuProxies),
na.action=na.omit)
    RQuadrat[[j]][i]<-round(summary(fit)$r.squared, dig=3)
    frei.grade[[j]][i]<-fit$df.residual

    for(j in 2:26)
      {
      backfit<-step(fit,scale=2,trace=F,steps=1)
      fit<-eval(backfit$call)
      RQuadrat[[j]][i]<-round(summary(fit)$r.squared,3)
      frei.grade[[j]][i]<-fit$df.residual

elimParam[[j]][i]<-paste(as.character(backfit$anova$Step),collapse="")
      }
      cat(i,' ')
    }
  }

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Feb 25 15:08:08 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 25 Feb 2002 14:08:08 +0000 (GMT Standard Time)
Subject: [R] problem with step-Function
In-Reply-To: <3C7A3ACE.1C075545@giub.unibe.ch>
Message-ID: <Pine.WNT.4.44.0202251355530.544-100000@tern.stats>

On Mon, 25 Feb 2002, Andreas Pauling wrote:

> Dear R-community
> The following loops produce the error message:
>
> Error in round(x, digits) : Non-numeric argument to mathematical
> function
>
> after performing the outer loop 6 times
>
> Splus can execute these loops but is very much slower than R .
> Interestingly, if the scale-argument in the step-function is omitted R
> performes these loops a few times more.
> What could be the reason for that error?

Hard to tell. You haven't used traceback() or options(error=dump.frames) to
find out where it is occurring.  But as you are using round() in your
function, a plausible guess is that summary(fit)$r.squared is NULL because
intercept-only models do not return that component.

This is a good opportunity for you to learn how to debug S code.

BTW, I am suspicious of scale = 2.  How do you know in advance that the
error variance is exactly 2 for all 286 of your responses?  (It has the
same meaning as scale in summary.lm.)

> Any hint is appreciated!
>
> Andreas
>
>
> RQuadrat<-list()
> elimParam<-list()
> frei.grade<-list()
> RQuadrat<-c(rep(list(rep(NA,286)),26))
> elimParam<-c(rep(list(rep(NA,286)),26))
> frei.grade<-c(rep(list(rep(NA,286)),26))
>
> cat('\nVerarbeitete Gitterpunkte (von 286):\n')
>
> for(i in 1:286)
>   {
>   j<-1
>   if(any(is.na(annJMSLTv.box[,i])==F))
>     {
>
> fit<-lm(annJMSLTv.box~.,data=data.frame(annJMSLTv.box=annJMSLTv.box[,i],docuProxies),
> na.action=na.omit)
>     RQuadrat[[j]][i]<-round(summary(fit)$r.squared, dig=3)
>     frei.grade[[j]][i]<-fit$df.residual
>
>     for(j in 2:26)
>       {
>       backfit<-step(fit,scale=2,trace=F,steps=1)
>       fit<-eval(backfit$call)
>       RQuadrat[[j]][i]<-round(summary(fit)$r.squared,3)
>       frei.grade[[j]][i]<-fit$df.residual
>
> elimParam[[j]][i]<-paste(as.character(backfit$anova$Step),collapse="")
>       }
>       cat(i,' ')
>     }
>   }
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MagillB at usa.redcross.org  Mon Feb 25 15:53:03 2002
From: MagillB at usa.redcross.org (Magill, Brett)
Date: Mon, 25 Feb 2002 09:53:03 -0500
Subject: [R] Managing Data [Summary]
Message-ID: <AC09DC4F4DFCD211A83C00805FE6138D051E08CC@nhqjpk1ex2.bionet.org>

A while ago I asked about data management approaches in R.  I was asked by
several people to post a summary of the responses and alas I am just getting
around to doing it.  I received several comments, both on and off list.
Below is a compilation of these responses.  Hope this is as helpful to
others as it was to me.

Best,

Brett


1.  Frank Harrell recommended a section, "Operating in S", from his text
which can be found at:
  http://hesweb1.med.virginia.edu/biostat/s/doc/splus.pdf


2.  Jon Baron says that he does not use the files R stores at all, instead
following the procedures outlined in the beginning of his text:
  http://www.psych.upenn.edu/~baron/rpsych.htm

This approach involves "...involves keeping raw data in separate files, each
with a name (supposedly a useful mnemonic), such as cba1.data, and scripts
in other separate files, such as cba1.R."  A script is written to read,
transform, manipulate, and analyze data.

Jim Lemon uses a similar approach but adds "Just to forestall any confusion,
I noticed that [Jon Baron] didn't mention using read.table() or scan() in
the *.R file of commands to read in the data each time the script is run.
That way you never trash your data, and any data edits you do outside of R
are reflected in the next run of the script."


3. David Brahm offers another approach, a package he developed called g.data
available at:
  http://cran.us.r-project.org/src/contrib/PACKAGES.html#g.data

David says that this approach will be most intuitive to S-plus users.  The
package "...manages data in R in a manner very similar to the way S-Plus
does.  You assign 'permanent' objects to a particular position in your
search path (usually pos=2), then save all objects in that position with a
call to g.data.save()."



Brett A. Magill, Evaluation Associate
Research and Product Development
Health, Safety and Community Services
American Red Cross
magillb at usa.redcross.org


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From valdentro at hotmail.com  Mon Feb 25 16:24:35 2002
From: valdentro at hotmail.com (juan pablo perez)
Date: Mon, 25 Feb 2002 15:24:35 +0000
Subject: [R] replace NAs
Message-ID: <F101tt0zb8vq3UhQCAI00008a59@hotmail.com>



Dear R community:

it is possible to replace NA?s in a data frame with zeroes?
what should I do?

Thanks in advance

Juan Pablo


_________________________________________________________________
MSN Photos es la manera m?s sencilla de compartir e imprimir sus fotos: 
http://photos.latam.msn.com/Support/WorldWide.aspx

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dbickel at mail.mcg.edu  Mon Feb 25 16:45:47 2002
From: dbickel at mail.mcg.edu (David R. Bickel)
Date: Mon, 25 Feb 2002 10:45:47 -0500
Subject: Summary: [R] read.table on Mac OS X, CARBON vs. DARWIN
In-Reply-To: <Pine.GSO.4.44.0202230657430.9462-100000@auk.stats>
Message-ID: <BC815450-2A06-11D6-82F4-000393021810@mail.mcg.edu>

Thank you for all your help. What is the URL for getting on the 
R-mac-sig list?

On Saturday, February 23, 2002, at 02:18 X, Prof Brian D Ripley wrote:

> It won't fix the stack-imbalance bug, but upgrading to 1.4.1 will, as I
> originally pointed out. However, as.is=FALSE was superseded by better
> facilities in read.table in 1.4.0. (It will help with the slowness, but 
> the
> solution described is not as good as the one in 1.4.1.  Not that 
> slowness
> is a `bug'.)
>
> All this has been discussed on R-help a few weeks ago, and it feels 
> like we
> are being asked to re-live the past.  Workarounds are in the archives,
> several times.  I won't repeat them here as the real answer is to 
> upgrade
> to 1.4.1, and that *is* available for Darwin.  So can this discussion be
> moved to R-mac-sig, as it seems a Mac-specific issue of how to install
> 1.4.1?
>
>
> On Fri, 22 Feb 2002, David R. Bickel wrote:
>
>> Adding that line didn't work for me. I get the same problem as before
>> (version 1.4.0):
>
> [Using read.table with as.is=FALSE ...]
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> .-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-
> FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> ._._._
>
>

http://www.mcg.edu/research/biostat/bickel.html

David R. Bickel, PhD
Assistant Professor
Medical College of Georgia
Office of Biostatistics and Bioinformatics
1120 Fifteenth St., AE-3037
Augusta, GA 30912-4900

Tel.: 706-721-4697; Fax: 706-721-6294
E-mail: dbickel at mail.mcg.edu or bickel at prueba.info

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From o.christensen at lancaster.ac.uk  Mon Feb 25 16:56:45 2002
From: o.christensen at lancaster.ac.uk (Ole Christensen)
Date: Mon, 25 Feb 2002 15:56:45 +0000
Subject: [R] errors in integrate function?
Message-ID: <3C7A5EBD.AB41AD87@lancs.ac.uk>

Dear Richard

I think the cause of your problem with integrate() can be seen from
plotting the function you want integrate :

gamma.by.normal <- function(y,x,shape,scale,stdev) {
   return(
dgamma(y,shape=shape,scale=scale)*dnorm(x=x-y,mean=0,sd=stdev) ) 
}

curve(gamma.by.normal(x,x=10,shape=1,scale=4,stdev=0.2),from=8, to=12)

shows that most of the probability mass is between 9.3 and 10.7. You are
integrating this function from zero to infinity by a procedure that
choses the discretisation points in an automatic way (which may not give
any points in [9.3;10.7] ).

In my experience, one should be suspicuous when using the integrate()
function. Always plot the function to see how it looks like.

You are probably aware that for integer values of the shape parameter,
you should not use numeric integration to calculate the integral. Closed
form expression exist. 

Cheers Ole

> I have been trying the integrate function in R, a function which would be 
> very useful for a current project of mine. But I am encountering errors 
> integrating the one function I have tried. The function to be integrated is 
> a product of a gamma demsity and a normal density: 
> 
> gamma.by.normal_function(y,x,shape,scale,stdev) 
>              return( dgamma(y,shape=shape,scale=scale)* 
>                          dnorm(x=x-y,mean=0,sd=stdev) ) 
> 
> > integrate(gamma.by.normal,lower=0,upper=Inf, 
>     rel.tol=1e-6,x=10,shape=1,scale=4,stdev=0.2) 
> > 4.589933e-11 with absolute error < 8.4e-11 
> 
> > integrate(gamma.by.normal,lower=0,upper=Inf, 
>     rel.tol=1e-12,x=10,shape=1,scale=4,stdev=0.2) 
> > 0.02054692 with absolute error < 4.5e-13 
> 
> The correct answer is the second. But with rel.tol=1e-6, the answer 
> returned is off by 1e-2 even though the error reported is 8e-11. 


-- 
Ole F. Christensen
Department of Mathematics and Statistics
Fylde College, Lancaster University 
Lancaster, LA1 4YF, England
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Feb 25 17:11:51 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 25 Feb 2002 08:11:51 -0800 (PST)
Subject: [R] errors in integrate function?
In-Reply-To: <3C7A5EBD.AB41AD87@lancs.ac.uk>
Message-ID: <Pine.A41.4.44.0202250810210.69346-100000@homer14.u.washington.edu>

On Mon, 25 Feb 2002, Ole Christensen wrote:

> Dear Richard
>
> I think the cause of your problem with integrate() can be seen from
> plotting the function you want integrate :

Yes, but integrate() still seems to be unduly optimistic about its
accuracy -- eight orders of magnitude is a lot to be wrong by.


	-thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Mon Feb 25 17:33:22 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Mon, 25 Feb 2002 11:33:22 -0500 (EST)
Subject: [R] Managing Data [Summary]
In-Reply-To: <AC09DC4F4DFCD211A83C00805FE6138D051E08CC@nhqjpk1ex2.bionet.org>
Message-ID: <Pine.LNX.4.21L1.0202251132310.15129-100000@hm269-26876.socsci.unc.edu>

The alternative I tend to use involves storing data in an external
database (in my case, PostgreSQL) and using a database driver (e.g.,
RPgSQL) to bring them in as needed.

Sorry to muddy the waters-
Andy

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA


On Mon, 25 Feb 2002, Magill, Brett wrote:

> A while ago I asked about data management approaches in R.  I was asked by
> several people to post a summary of the responses and alas I am just getting
> around to doing it.  I received several comments, both on and off list.
> Below is a compilation of these responses.  Hope this is as helpful to
> others as it was to me.
> 
> Best,
> 
> Brett
> 
> 
> 1.  Frank Harrell recommended a section, "Operating in S", from his text
> which can be found at:
>   http://hesweb1.med.virginia.edu/biostat/s/doc/splus.pdf
> 
> 
> 2.  Jon Baron says that he does not use the files R stores at all, instead
> following the procedures outlined in the beginning of his text:
>   http://www.psych.upenn.edu/~baron/rpsych.htm
> 
> This approach involves "...involves keeping raw data in separate files, each
> with a name (supposedly a useful mnemonic), such as cba1.data, and scripts
> in other separate files, such as cba1.R."  A script is written to read,
> transform, manipulate, and analyze data.
> 
> Jim Lemon uses a similar approach but adds "Just to forestall any confusion,
> I noticed that [Jon Baron] didn't mention using read.table() or scan() in
> the *.R file of commands to read in the data each time the script is run.
> That way you never trash your data, and any data edits you do outside of R
> are reflected in the next run of the script."
> 
> 
> 3. David Brahm offers another approach, a package he developed called g.data
> available at:
>   http://cran.us.r-project.org/src/contrib/PACKAGES.html#g.data
> 
> David says that this approach will be most intuitive to S-plus users.  The
> package "...manages data in R in a manner very similar to the way S-Plus
> does.  You assign 'permanent' objects to a particular position in your
> search path (usually pos=2), then save all objects in that position with a
> call to g.data.save()."
> 
> 
> 
> Brett A. Magill, Evaluation Associate
> Research and Product Development
> Health, Safety and Community Services
> American Red Cross
> magillb at usa.redcross.org
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From domi at msm1.ukl.uni-freiburg.de  Mon Feb 25 17:47:26 2002
From: domi at msm1.ukl.uni-freiburg.de (Dominik Grathwohl)
Date: Mon, 25 Feb 2002 17:47:26 +0100
Subject: [R] Wilcoxon versus GLM
Message-ID: <3C7A78AC.2361.EF003A@localhost>

Hi all,

Running the following code:

> n <- 25
> y0 <- rpois(n, 0.04)
> y1 <- rpois(n, 0.34)
> 
> resp <- c(y0, y1)
> group <- c(rep(0,n), rep(1,n))
> 
> wilcox.test(y0, y1)

        Wilcoxon rank sum test with continuity 
correction

data:  y0 and y1 
W = 250, p-value = 0.02074
alternative hypothesis: true mu is not equal to 0 

Warning message: 
Cannot compute exact p-value with ties in: 
wilcox.test.default(y0, y1) 
> 
> glm.M1 <- glm(resp ~ group, family=poisson())
> summary(glm.M1)

Call:
glm(formula = resp ~ group, family = poisson())

Deviance Residuals: 
      Min         1Q     Median         3Q        
Max  
-0.692820  -0.692820  -0.004968  -0.004968   
2.227342  

Coefficients:
            Estimate Std. Error z value Pr(>|z|)
(Intercept)  -11.303     34.531  -0.327    0.743
group          9.875     34.533   0.286    0.775

(Dispersion parameter for poisson family taken to 
be 1)

    Null deviance: 28.216  on 49  degrees of 
freedom
Residual deviance: 19.899  on 48  degrees of 
freedom
AIC: 34.512

Number of Fisher Scoring iterations: 9

> 

I would interpretate this that the Wilcoxon detect 
a group difference, while glm not. I expected the 
beta for the group greater than zero.
Can somebody explain me such a difference in two 
methods of rejecting a hypothesis? Where am I 
wrong?

Kind regards,

Dominik

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alexander.duering at db.com  Mon Feb 25 17:50:36 2002
From: alexander.duering at db.com (Alexander Duering)
Date: Mon, 25 Feb 2002 17:50:36 +0100
Subject: [R] Interfacing pre-existing C++ library from R
Message-ID: <OF4F2D8995.862C4913-ONC1256B6A.0051B784@db.com>

Hello,

I'm trying to link a large in-house C++ library into R. So far, I've managed to to most of what I want, but I have one remaining question and a suggestion.

The suggestion first: I've found it useful to put

     #ifdef __cplusplus
     extern "C" {
     #endif

and
     #ifdef __cplusplus
     }
     #endif

around the function prototypes in Rinternals.h (in /usr/local/lib/R/include on my Red Hat 7.2 box) so my dynamic linker would no longer complain about mangling-related undefined symbols. Also, I had to use #define USE_RINTERNALS before including them in order to get a few macros I suppose are natural to use. To be honest, I do think the include files could do with a bit of cleaning up, in particular in view of linking in C++ code, but no complaints (I'm very happy to have R as it is).

My question is this: Our library makes extensive use of matrices of mixed type, i.e., I would need to pass in and out objects that are logically of rectangular structure, but some cells contain numbers, others strings. I had initially hoped to be able to use data frames for that, but I realise that columns have to be of identical mode. I could, if nothing else works, use string matrices, but that would be very very unsatisfactory (and take ages, because I'd have to check, and possibly convert, each matrix element). Could somebody please suggest the 'natural' R data structure for this kind of object? I'm using cell arrays in Matlab and lists of lists in Perl for that purpose, if it's any help.

Many thanks,

Alex



--

Diese E-Mail enth?lt vertrauliche und/oder rechtlich gesch?tzte Informationen. Wenn Sie nicht der richtige Adressat sind oder diese E-Mail irrt?mlich erhalten haben, informieren Sie bitte sofort den Absender und vernichten Sie diese Mail. Das unerlaubte Kopieren sowie die unbefugte Weitergabe dieser Mail ist nicht gestattet.

This e-mail may contain confidential and/or privileged information. If you are not the intended recipient (or have received this e-mail in error) please notify the sender immediately and destroy this e-mail. Any unauthorized copying, disclosure or distribution of the material in this e-mail is strictly forbidden.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From domi at msm1.ukl.uni-freiburg.de  Mon Feb 25 17:57:46 2002
From: domi at msm1.ukl.uni-freiburg.de (Dominik Grathwohl)
Date: Mon, 25 Feb 2002 17:57:46 +0100
Subject: [R] Wilcoxon versus glm
Message-ID: <3C7A7B18.15116.F873C3@localhost>

Hi all,
running the following code:
> n <- 25
> y0 <- rpois(n, 0.04)
> y1 <- rpois(n, 0.34)
> 
> resp <- c(y0, y1)
> group <- c(rep(0,n), rep(1,n))
> 
> wilcox.test(y0, y1)

        Wilcoxon rank sum test with continuity 
correction

data:  y0 and y1 
W = 250, p-value = 0.02074
alternative hypothesis: true mu is not equal to 0 

Warning message: 
Cannot compute exact p-value with ties in: 
wilcox.test.default(y0, y1) 
> 
> glm.M1 <- glm(resp ~ group, family=poisson())
> summary(glm.M1)

Call:
glm(formula = resp ~ group, family = poisson())

Deviance Residuals: 
      Min         1Q     Median         3Q        
Max  
-0.692820  -0.692820  -0.004968  -0.004968   
2.227342  

Coefficients:
            Estimate Std. Error z value Pr(>|z|)
(Intercept)  -11.303     34.531  -0.327    0.743
group          9.875     34.533   0.286    0.775

(Dispersion parameter for poisson family taken to 
be 1)

    Null deviance: 28.216  on 49  degrees of 
freedom
Residual deviance: 19.899  on 48  degrees of 
freedom
AIC: 34.512

Number of Fisher Scoring iterations: 9

I would interpretate this that the Wilcoxon detect 
a group difference, while glm not. I expected the 
beta for the group greater than zero.
Can somebody explain me such an difference of two 
methods of rejecting a hypothesis? Where am I 
wrong?

Regards,

Dominik

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From adams.644 at osu.edu  Mon Feb 25 18:06:20 2002
From: adams.644 at osu.edu (jimi adams)
Date: Mon, 25 Feb 2002 12:06:20 -0500
Subject: [R] another basic ?
Message-ID: <4.3.2.7.2.20020225120152.00a9d100@pop.service.ohio-state.edu>

i am sure that there is a simple solution that i am just overlooking, but 
there is no logical test for =
there is one for != and >,<, >=, <=...
what do i do if i need to check if something IS EQUAL

or is there an easy way, in working with a matrix of size n x 3,  to sort 
the matrix by one of the columns?

specifically what i am trying to do is i have a matrix with individual and 
group labels that is randomly generated, and is by default sorted by the 
individual labels ( column 1) and i want them to be organized into unique 
group labels (comlumn 2)
thanks
jimi
jimi adams
Department of Sociology
The Ohio State University
300 Bricker Hall
190 N. Oval Mall
Columbus, OH 43210-1353
614-688-4261

our mind has a remarkable ability to think of contents as being independent 
of the act of thinking
                                             -georg simmel

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hennig at stat.math.ethz.ch  Mon Feb 25 18:19:03 2002
From: hennig at stat.math.ethz.ch (Christian Hennig)
Date: Mon, 25 Feb 2002 18:19:03 +0100 (CET)
Subject: [R] Mixture of 1-dimensional Normals
Message-ID: <Pine.LNX.4.33.0202251814220.2207-100000@florence>

Dear list,

I tried to fit a mixture of 2 normals using library mclust:

> x <- c(rnorm(50),rnorm(50,mean=1000))
> mx <- as.matrix(x)
> emx <- emclust(mx,nclus=2,modelid="EEE")
Error in emclust(mx, nclus = 2, modelid = "EEE") : 
	data must be matrix-conformal

(Other modelid: Same problem.)

Does this mean that emclust does not work on 1-dimensional data?
If so, how to fit a mixture of 1-dimensional normals?

Best,
Christian

-- 
***********************************************************************
Christian Hennig
Seminar fuer Statistik, ETH-Zentrum (LEO), CH-8092 Zuerich (current)
and Fachbereich Mathematik-SPST/ZMS, Universitaet Hamburg
hennig at stat.math.ethz.ch, http://stat.ethz.ch/~hennig/
hennig at math.uni-hamburg.de, http://www.math.uni-hamburg.de/home/hennig/
#######################################################################
ich empfehle www.boag.de


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Feb 25 18:29:37 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 25 Feb 2002 17:29:37 +0000 (GMT Standard Time)
Subject: [R] Interfacing pre-existing C++ library from R
In-Reply-To: <OF4F2D8995.862C4913-ONC1256B6A.0051B784@db.com>
Message-ID: <Pine.WNT.4.44.0202251713450.860-100000@tern.stats>

On Mon, 25 Feb 2002, Alexander Duering wrote:

> Hello,
>
> I'm trying to link a large in-house C++ library into R. So far, I've managed to to most of what I want, but I have one remaining question and a suggestion.
>
> The suggestion first: I've found it useful to put
>
>      #ifdef __cplusplus
>      extern "C" {
>      #endif
>
> and
>      #ifdef __cplusplus
>      }
>      #endif
>
> around the function prototypes in Rinternals.h (in /usr/local/lib/R/include
on my Red Hat 7.2 box) so my dynamic linker would no longer complain about
mangling-related undefined symbols. Also, I had to use #define USE_RINTERNALS
before including them in order to get a few macros I suppose are natural to use.
To be honest, I do think the include files could do with a bit of cleaning up,
in particular in view of linking in C++ code, but no complaints (I'm very happy
to have R as it is).

Well, prior to R 1.4.1 Rinternals.h would not work with many C++ compilers,
and some changes were made because a package writer had assumed it would
(as it did with his version of g++, although not with mine nor with
Solaris' C++).  Those blocks would indicate that we believed that
Rinternals.h was safe to use in C++ code, and at the last minor release
(1.4.0) it wasn't.  It's under consideration for 1.5.0 if we can be sure
that it is now fully C++ compliant.  The `Writing R Extensions' manual is
careful not to include Rinternals.h in the description of what headers can
be used with C++. One issue is that these headers get changed frequently,
and we need to be able to verify such claims automatically.

There is nothing to stop you making your own header which includes
Rinternals.h between those blocks of code, of course.

> My question is this: Our library makes extensive use of matrices of mixed
type, i.e., I would need to pass in and out objects that are logically of
rectangular structure, but some cells contain numbers, others strings.
I had initially hoped to be able to use data frames for that, but I realise
that columns have to be of identical mode. I could, if nothing else works,
use string matrices, but that would be very very unsatisfactory (and take
ages, because I'd have to check, and possibly convert, each matrix element).
Could somebody please suggest the 'natural' R data structure for this kind of
object? I'm using cell arrays in Matlab and lists of lists in Perl for that
purpose, if it's any help.

A matrix list?  R lists are just vectors with elements of different types,
and R matrices are just vectors with a dimension attribute.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rpeng at stat.ucla.edu  Mon Feb 25 18:39:18 2002
From: rpeng at stat.ucla.edu (Roger Peng)
Date: Mon, 25 Feb 2002 09:39:18 -0800 (PST)
Subject: [R] another basic ?
In-Reply-To: <4.3.2.7.2.20020225120152.00a9d100@pop.service.ohio-state.edu>
Message-ID: <Pine.GSO.4.10.10202250936320.1628-100000@fisher.stat.ucla.edu>

On Mon, 25 Feb 2002, jimi adams wrote:

> i am sure that there is a simple solution that i am just overlooking, but 
> there is no logical test for =
> there is one for != and >,<, >=, <=...
> what do i do if i need to check if something IS EQUAL

Depends.  To test if two objects are the same, you can use identical().
Or you might use == in other situations.  It's hard to know without more
details.

> or is there an easy way, in working with a matrix of size n x 3,  to sort 
> the matrix by one of the columns?

If m is an n x 3 matrix, to sort by column 1, you could do:

> m.sorted <- m[order(m[,1]), ]

-roger
_______________________________
UCLA Department of Statistics
rpeng at stat.ucla.edu
http://www.stat.ucla.edu/~rpeng

> 
> 
> specifically what i am trying to do is i have a matrix with individual and 
> group labels that is randomly generated, and is by default sorted by the 
> individual labels ( column 1) and i want them to be organized into unique 
> group labels (comlumn 2)
> thanks
> jimi
> jimi adams
> Department of Sociology
> The Ohio State University
> 300 Bricker Hall
> 190 N. Oval Mall
> Columbus, OH 43210-1353
> 614-688-4261
> 
> our mind has a remarkable ability to think of contents as being independent 
> of the act of thinking
>                                              -georg simmel
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Feb 25 18:38:31 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Feb 2002 18:38:31 +0100
Subject: [R] another basic ?
In-Reply-To: <4.3.2.7.2.20020225120152.00a9d100@pop.service.ohio-state.edu>
References: <4.3.2.7.2.20020225120152.00a9d100@pop.service.ohio-state.edu>
Message-ID: <x28z9h8ns8.fsf@blueberry.kubism.ku.dk>

jimi adams <adams.644 at osu.edu> writes:

> i am sure that there is a simple solution that i am just overlooking,
> but there is no logical test for =
> there is one for != and >,<, >=, <=...
> what do i do if i need to check if something IS EQUAL

Double it: ==

> or is there an easy way, in working with a matrix of size n x 3,  to
> sort the matrix by one of the columns?
> 
> specifically what i am trying to do is i have a matrix with individual
> and group labels that is randomly generated, and is by default sorted
> by the individual labels ( column 1) and i want them to be organized
> into unique group labels (comlumn 2)
> thanks

m[order(m[,2]),]

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Feb 25 18:35:23 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 25 Feb 2002 17:35:23 +0000 (GMT Standard Time)
Subject: [R] Wilcoxon versus glm
In-Reply-To: <3C7A7B18.15116.F873C3@localhost>
Message-ID: <Pine.WNT.4.44.0202251731090.860-100000@tern.stats>

On Mon, 25 Feb 2002, Dominik Grathwohl wrote:

> Hi all,
> running the following code:
> > n <- 25
> > y0 <- rpois(n, 0.04)
> > y1 <- rpois(n, 0.34)
> >
> > resp <- c(y0, y1)
> > group <- c(rep(0,n), rep(1,n))
> >
> > wilcox.test(y0, y1)
>
>         Wilcoxon rank sum test with continuity
> correction
>
> data:  y0 and y1
> W = 250, p-value = 0.02074
> alternative hypothesis: true mu is not equal to 0
>
> Warning message:
> Cannot compute exact p-value with ties in:
> wilcox.test.default(y0, y1)
> >
> > glm.M1 <- glm(resp ~ group, family=poisson())
> > summary(glm.M1)
>
> Call:
> glm(formula = resp ~ group, family = poisson())
>
> Deviance Residuals:
>       Min         1Q     Median         3Q
> Max
> -0.692820  -0.692820  -0.004968  -0.004968
> 2.227342
>
> Coefficients:
>             Estimate Std. Error z value Pr(>|z|)
> (Intercept)  -11.303     34.531  -0.327    0.743
> group          9.875     34.533   0.286    0.775
>
> (Dispersion parameter for poisson family taken to
> be 1)
>
>     Null deviance: 28.216  on 49  degrees of
> freedom
> Residual deviance: 19.899  on 48  degrees of
> freedom
> AIC: 34.512
>
> Number of Fisher Scoring iterations: 9
>
> I would interpretate this that the Wilcoxon detect
> a group difference, while glm not. I expected the
> beta for the group greater than zero.
> Can somebody explain me such an difference of two
> methods of rejecting a hypothesis? Where am I
> wrong?

In interpreting the glm output.  You should be using the likelihood ratio
test (28.216 - 19.899 on 1df) rather than the Wald test (the `z value').
Wald tests are dangerous in non-Gaussian glm's (look up the Hauck-Donner
effect) and I wish R had followed S and not quoted p values for them.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Mon Feb 25 18:50:22 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 25 Feb 2002 09:50:22 -0800 (PST)
Subject: [R] Wilcoxon versus glm
In-Reply-To: <3C7A7B18.15116.F873C3@localhost>
Message-ID: <Pine.A41.4.44.0202250928390.69346-100000@homer14.u.washington.edu>

On Mon, 25 Feb 2002, Dominik Grathwohl wrote:

> Hi all,
> running the following code:
> > n <- 25
> > y0 <- rpois(n, 0.04)
> > y1 <- rpois(n, 0.34)
> >
> > resp <- c(y0, y1)
> > group <- c(rep(0,n), rep(1,n))
> >
> > wilcox.test(y0, y1)
>
>         Wilcoxon rank sum test with continuity
> correction
>
> data:  y0 and y1
> W = 250, p-value = 0.02074
> alternative hypothesis: true mu is not equal to 0
>
> Warning message:
> Cannot compute exact p-value with ties in:
> wilcox.test.default(y0, y1)
> >
> > glm.M1 <- glm(resp ~ group, family=poisson())
> > summary(glm.M1)
>
> Call:
> glm(formula = resp ~ group, family = poisson())
>
> Deviance Residuals:
>       Min         1Q     Median         3Q
> Max
> -0.692820  -0.692820  -0.004968  -0.004968
> 2.227342
>
> Coefficients:
>             Estimate Std. Error z value Pr(>|z|)
> (Intercept)  -11.303     34.531  -0.327    0.743
> group          9.875     34.533   0.286    0.775
>
> (Dispersion parameter for poisson family taken to
> be 1)
>
>     Null deviance: 28.216  on 49  degrees of
> freedom
> Residual deviance: 19.899  on 48  degrees of
> freedom
> AIC: 34.512
>
> Number of Fisher Scoring iterations: 9
>
> I would interpretate this that the Wilcoxon detect
> a group difference, while glm not.

Exactly

>		I expected the
> beta for the group greater than zero.

and so it was. It was nearly 10

> Can somebody explain me such an difference of two
> methods of rejecting a hypothesis? Where am I
> wrong?

Well, there's a number of issues here

1/ There's no necessary reason why these two tests should agree as they
have different null hypotheses.  The Wilcoxon tests P(y1>y0)=1/2, the glm
compares two weighted means.

2/ The Wald tests done by glm() can perform badly when the difference
between the groups is very large as it is here. A coefficient of 9.87 is
infinite for practical purposes (remember it is a ratio of e^9.87, about
20000, in the means), so you were probably unlucky enough to get all zeros
in y0.  The MLE is then infinite.

If you used
	anova(glm.M1)
you would get a likelihood ratio test, which would behave better.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Mon Feb 25 18:52:14 2002
From: gb at stat.umu.se (=?iso-8859-1?Q?G=F6ran_Brostr=F6m?=)
Date: Mon, 25 Feb 2002 18:52:14 +0100 (CET)
Subject: [R] Wilcoxon versus glm
In-Reply-To: <3C7A7B18.15116.F873C3@localhost>
Message-ID: <Pine.LNX.4.44.0202251850420.19071-100000@tal.stat.umu.se>

On Mon, 25 Feb 2002, Dominik Grathwohl wrote:

> Hi all,
> running the following code:
> > n <- 25
> > y0 <- rpois(n, 0.04)
> > y1 <- rpois(n, 0.34)
> > 
> > resp <- c(y0, y1)
> > group <- c(rep(0,n), rep(1,n))
> > 
> > wilcox.test(y0, y1)
> 
>         Wilcoxon rank sum test with continuity 
> correction
> 
> data:  y0 and y1 
> W = 250, p-value = 0.02074
> alternative hypothesis: true mu is not equal to 0 
> 
> Warning message: 
> Cannot compute exact p-value with ties in: 
> wilcox.test.default(y0, y1) 
> > 
> > glm.M1 <- glm(resp ~ group, family=poisson())
> > summary(glm.M1)
> 
> Call:
> glm(formula = resp ~ group, family = poisson())
> 
> Deviance Residuals: 
>       Min         1Q     Median         3Q        
> Max  
> -0.692820  -0.692820  -0.004968  -0.004968   
> 2.227342  
> 
> Coefficients:
>             Estimate Std. Error z value Pr(>|z|)
> (Intercept)  -11.303     34.531  -0.327    0.743
> group          9.875     34.533   0.286    0.775
> 
> (Dispersion parameter for poisson family taken to 
> be 1)
> 
>     Null deviance: 28.216  on 49  degrees of 
> freedom
> Residual deviance: 19.899  on 48  degrees of 
> freedom
> AIC: 34.512
> 
> Number of Fisher Scoring iterations: 9
> 
> I would interpretate this that the Wilcoxon detect 
> a group difference, while glm not. I expected the 
> beta for the group greater than zero.
> Can somebody explain me such an difference of two 
> methods of rejecting a hypothesis? Where am I 
> wrong?

If you take a look at your simulated data, you will probably guess the 
answer.

> 
> Regards,
> 
> Dominik
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 professor                           fax: +46 90 786 6614
 Department of Statistics            http://www.stat.umu.se/egna/gb/
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From domi at msm1.ukl.uni-freiburg.de  Mon Feb 25 19:22:36 2002
From: domi at msm1.ukl.uni-freiburg.de (Dominik Grathwohl)
Date: Mon, 25 Feb 2002 19:22:36 +0100
Subject: [R] Summary: Wilcoxon versus glm
In-Reply-To: <Pine.LNX.4.44.0202251850420.19071-100000@tal.stat.umu.se>
References: <3C7A7B18.15116.F873C3@localhost>
Message-ID: <3C7A8EFA.32035.1461E74@localhost>

Dear Thomas, dear Prof. Ripley,

The likelihood ratio test (28.216 - 19.899 on 1df) 
did the job well:
>1-pchisq(8.3171,1)
[1] 0.003927357
And thanks for the warning in analysing sparse 
events.

Dominik
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Mon Feb 25 19:27:56 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Mon, 25 Feb 2002 13:27:56 -0500 (EST)
Subject: [R] another basic ?
In-Reply-To: <4.3.2.7.2.20020225120152.00a9d100@pop.service.ohio-state.edu>
Message-ID: <Pine.LNX.4.21L1.0202251327400.15129-100000@hm269-26876.socsci.unc.edu>

It's == if I'm understanding your question right.

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA


On Mon, 25 Feb 2002, jimi adams wrote:

> i am sure that there is a simple solution that i am just overlooking, but 
> there is no logical test for =
> there is one for != and >,<, >=, <=...
> what do i do if i need to check if something IS EQUAL
> 
> or is there an easy way, in working with a matrix of size n x 3,  to sort 
> the matrix by one of the columns?
> 
> specifically what i am trying to do is i have a matrix with individual and 
> group labels that is randomly generated, and is by default sorted by the 
> individual labels ( column 1) and i want them to be organized into unique 
> group labels (comlumn 2)
> thanks
> jimi
> jimi adams
> Department of Sociology
> The Ohio State University
> 300 Bricker Hall
> 190 N. Oval Mall
> Columbus, OH 43210-1353
> 614-688-4261
> 
> our mind has a remarkable ability to think of contents as being independent 
> of the act of thinking
>                                              -georg simmel
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eglen at pcg.wustl.edu  Mon Feb 25 19:56:26 2002
From: eglen at pcg.wustl.edu (Stephen Eglen)
Date: Mon, 25 Feb 2002 12:56:26 -0600
Subject: [R] Example function for reading Octave data files made by "save -ascii"
Message-ID: <15482.35034.511695.363156@mosaics.wustl.edu>

Hi,

I thought I'd post this simple function I wrote, just in case other
users also have Octave data files that they'd like to read into R.
(Octave is a matlab-like language, see www.octave.org for details.)

Any comments/suggestions appreciated.

Stephen


read.oct.file <- function(filename) {

  ## Read in an Octave ASCII data file (as created by "save -ascii" in
  ## Octave 2.x) and return a list of the objects (matrix, string
  ## array or scaler) returned.  Any "_" in the octave name is
  ## converted into "." to avoid confusion in R with _.


  read.oct.matrix <- function(con) {
    ## Helper function: read in a matrix.
    nrows <- as.numeric(substring(readLines(con,1), 9))
    ncols <- as.numeric(substring(readLines(con,1), 12))
    data <- scan(con, nlines=nrows, quiet=T)
    d <- matrix(data, nrow=nrows, ncol=ncols, byrow=T)
    d
  }
  
  read.oct.stringarr <- function(con) {
    ## Helper function: read in a string array.
    elements <- as.numeric(substring(readLines(con,1), 13))
    d <- readLines(con, n=elements*2)
    ## remove the odd-numbered lines, they just store "length".
    d <- d[ seq(from=2, by=2, length=length(d)/2)]
  }
  
  read.oct.scalar <- function(con) {
    ## Helper function: read in a scalar.
    d <- as.numeric(scan(con, nlines=1, quiet=T))
    d
  }


  zz <-  file(filename, "r")
  readLines(zz, n=1)                    #skip over the header line.

  ## Build up a return list of items -- separately store the return values
  ## and the names.
  ret.list <- list()                   
  ret.names <- list()
  reading <- TRUE
  while(reading) {
    name.line <- readLines(zz, 1, ok=TRUE)
    if (length(name.line) == 0) {
      reading <- FALSE
    }
    else {
      name <- substring(name.line, 9)
      name <- gsub("_", ".", name)          #octave vars often have _ in them.
      type <- substring(readLines(zz,1), 9)
      res <- switch(type,
                    "matrix" = read.oct.matrix(zz),
                    "scalar" = read.oct.scalar(zz),
                    "string array" = read.oct.stringarr(zz),
                    stop(paste("data type",type,"not recognised")))
      ##assign(name, res, env = .GlobalEnv)
      ret.list <- c( ret.list, list(res))
      ret.names <- c( ret.names, name)
    }
  }
  close(zz)
  names(ret.list) <- ret.names
  ret.list
}
  






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rangrej at exchange.cheo.on.ca  Mon Feb 25 21:13:57 2002
From: rangrej at exchange.cheo.on.ca (Rangrej, Jagadish)
Date: Mon, 25 Feb 2002 15:13:57 -0500
Subject: [R] RE: R crashes when .Fortran embeded function, is called twice in 
	R --> solved
Message-ID: <A032D3A4B7F0D411B9360008C71E3DA5038D4C18@cheont3.cheo.on.ca>

Hi all,

Thanks to everybody who thought on this problem, there was slight mistake in
the fortran code which lead to NULL pointer allocation error, but still it
surprises me that why it does not crib in the first run. The compiler I am
using is absoft fortran compiler.

Cheers,
-Jag
Jagadish Rangrej ( Statistician )
CHEO Research Institute, Ottawa, ON
613-7383951


> -----Original Message-----
> From: Rangrej, Jagadish 
> Sent: Friday, February 22, 2002 5:41 PM
> To: 'r-help at stat.math.ethz.ch'
> Subject: R crashes when .Fortran embeded function, is called 
> twice in R
> 
> 
> 
> Hello,
> 
> I have few functions in fortran.. whose dll is generated and 
> integrated with C:\Pro..files\R\..library\...libs
> 
> Then I load the dll etc.. and call a R function, which inturn 
> call the function in dll, using .Fortran
> 
> Skeleton .Fortran call in R function:
> 	1. Set data (allocation ..)
> 	2. call the routine to evaluate (some simulation)
> 	3. unset data ( deallocation etc..)
> 
> Problem : 1st time I call, it works fine and gives the answer 
> as expected. If I call it second time without going out of R, 
> then it fails and crashes the R saying unknown error with Rgui.
> 
> FYI: I got calls to write/print which writes to the logfile 
> instead to the screen so no question of error due to 
> printing, I think, I also checked with allocation and 
> deallocation sequence in setdata and unsetdata resp., it 
> should work as expected.
> 
> I will be very much thankful to you for helping me resolve 
> this problem.
> 
> Thanks,
> -Jag
> 	
> 
> Jagadish Rangrej ( Statistician )
> CHEO Research Institute, Ottawa, ON
> 613-7383951
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uriel.scott at mirant.com  Mon Feb 25 21:19:42 2002
From: uriel.scott at mirant.com (Scott, Uriel)
Date: Mon, 25 Feb 2002 15:19:42 -0500
Subject: [R] another basic ?
Message-ID: <47DE65E6F855D511950200306E02F85564A7B7@atlexs05.southernenergy.com>


Use == to test for equality (like in C).

> -----Original Message-----
> From:	jimi adams [SMTP:adams.644 at osu.edu]
> Sent:	Monday, February 25, 2002 12:06 PM
> To:	r-help at stat.math.ethz.ch
> Subject:	[R] another basic ?
> 
> i am sure that there is a simple solution that i am just overlooking, but 
> there is no logical test for =
> there is one for != and >,<, >=, <=...
> what do i do if i need to check if something IS EQUAL
> 
> or is there an easy way, in working with a matrix of size n x 3,  to sort 
> the matrix by one of the columns?
> 
> specifically what i am trying to do is i have a matrix with individual and
> 
> group labels that is randomly generated, and is by default sorted by the 
> individual labels ( column 1) and i want them to be organized into unique 
> group labels (comlumn 2)
> thanks
> jimi
> jimi adams
> Department of Sociology
> The Ohio State University
> 300 Bricker Hall
> 190 N. Oval Mall
> Columbus, OH 43210-1353
> 614-688-4261
> 
> our mind has a remarkable ability to think of contents as being
> independent 
> of the act of thinking
>                                              -georg simmel
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From freud at starpower.net  Tue Feb 26 00:17:24 2002
From: freud at starpower.net (Brett Magill)
Date: Mon, 25 Feb 2002 18:17:24 -0500
Subject: [R] replace NAs
References: <F101tt0zb8vq3UhQCAI00008a59@hotmail.com>
Message-ID: <3C7AC604.6050306@starpower.net>

Juan,

Replacing NAs is relatively easy. Nonetheless, I wrote some simple code 
to make it even easier for me.  You might find it useful.  The first 
replaces NAs with the mean, the second replaces NAs with a value you 
specify.  This works for a single vector, you can also use the apply() 
function to use it across multiple columns in a data frame or matrix.

If anyone is interested, I also have code to produce least squares means 
by levels of a factor given any number of covariates and code for 
classical item analysis (reliability and item characteristics).  

replace.na.m<-
  function (x){
    X<-mean(x,na.rm=TRUE)
    ifelse ( is.na(x)=="TRUE",X,x)
}


replace.na.x<-
  function(x, value){
    ifelse (is.na(x)=="TRUE", value , x)
}


juan pablo perez wrote:

>
>
> Dear R community:
>
> it is possible to replace NA?s in a data frame with zeroes?
> what should I do?
>
> Thanks in advance
>
> Juan Pablo
>
>
> _________________________________________________________________
> MSN Photos es la manera m?s sencilla de compartir e imprimir sus 
> fotos: http://photos.latam.msn.com/Support/WorldWide.aspx
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.- 
>
> r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._ 
>
>


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at volcanomail.com  Tue Feb 26 02:47:26 2002
From: ggrothendieck at volcanomail.com (Gabor Grothendieck)
Date: Mon, 25 Feb 2002 17:47:26 -0800 (PST)
Subject: [R] Matrix of Elements of Different Types (was Interfacing
    pre-existing C++ library from R)
Message-ID: <20020226014726.4F55B274E@sitemail.everyone.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20020225/cc027593/attachment.pl

From janef at stat.berkeley.edu  Tue Feb 26 03:17:11 2002
From: janef at stat.berkeley.edu (Jane Fridlyand)
Date: Mon, 25 Feb 2002 18:17:11 -0800 (PST)
Subject: [R] R-installation, linux red hat 7.1
Message-ID: <Pine.SOL.4.31.0202251809210.10152-100000@toto.Berkeley.EDU>



Hi,

I have 1.3.0 version on my linux redhat. I wanted to upgrade to 1.4.1
using compiled rpm (R-base-1.4.1-1.i386.rpm and
R-recommended-1.4.1-1.i386.rpm ) but made a mistake and used "-i"  option
to rpm command instead of upgrade U. It was complaining about already
having files with that name (from the previous version) in /usr/bin/R and
/usr/lib/R so i went ahead and removed those directories. Then I made yet
another very stupid mistake and this time used -U option without much
thinking. So, basically right now it thinks that I have R installed
whereas i don't and /usr/bin/R directories are empty. basically, i am
unable to install R at this point and I am really at loss why it is
thinking that the package is installed.  Any suggestion? I need to remove
references to R but I am really at loss to where they are sitting ...


Thank you for all your help ...

Jane

**************************************************************************************
Jane Fridlyand, Postdoctoral Scientist
UCSF Cancer Center, Box 0128 San Francisco, CA 94143-0128
Office: Room N412 Tel: (415)514-3302 Fax: (415)502-3179
**************************************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Feb 26 03:40:00 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Feb 2002 03:40:00 +0100
Subject: [R] R-installation, linux red hat 7.1
In-Reply-To: <Pine.SOL.4.31.0202251809210.10152-100000@toto.Berkeley.EDU>
References: <Pine.SOL.4.31.0202251809210.10152-100000@toto.Berkeley.EDU>
Message-ID: <x2lmdh0xvj.fsf@blueberry.kubism.ku.dk>

Jane Fridlyand <janef at stat.berkeley.edu> writes:

> Hi,
> 
> I have 1.3.0 version on my linux redhat. I wanted to upgrade to 1.4.1
> using compiled rpm (R-base-1.4.1-1.i386.rpm and
> R-recommended-1.4.1-1.i386.rpm ) but made a mistake and used "-i"  option
> to rpm command instead of upgrade U. It was complaining about already
> having files with that name (from the previous version) in /usr/bin/R and
> /usr/lib/R so i went ahead and removed those directories. Then I made yet
> another very stupid mistake and this time used -U option without much
> thinking. So, basically right now it thinks that I have R installed
> whereas i don't and /usr/bin/R directories are empty. basically, i am
> unable to install R at this point and I am really at loss why it is
> thinking that the package is installed.  Any suggestion? I need to remove
> references to R but I am really at loss to where they are sitting ...


At that stage, I'd try 

rpm -i --force R-*-1.4.1-1.i386.rpm

[/usr/bin/R is not a directory, though. It's a shell script.]

You might also want to rpm -q to see if the system thinks you have two
versions of R installed, and if necessary rpm -e something.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.darnell at shrs.uq.edu.au  Tue Feb 26 05:27:14 2002
From: r.darnell at shrs.uq.edu.au (Ross Darnell)
Date: 26 Feb 2002 14:27:14 +1000
Subject: [R] replace NAs
In-Reply-To: <3C7AC604.6050306@starpower.net>
References: <F101tt0zb8vq3UhQCAI00008a59@hotmail.com>
	<3C7AC604.6050306@starpower.net>
Message-ID: <m0bsec7tr1.fsf@localhost.localdomain>


I would strongly advise not replacing missing data with unconditional means.
Deleting the case is even better. 

Regards

Ross Darnell

Brett Magill <freud at starpower.net> writes:

> Juan,
> 
> Replacing NAs is relatively easy. Nonetheless, I wrote some simple
> code to make it even easier for me.  You might find it useful.  The
> first replaces NAs with the mean, the second replaces NAs with a value
> you specify.  This works for a single vector, you can also use the
> apply() function to use it across multiple columns in a data frame or
> matrix.
> 
> 
> If anyone is interested, I also have code to produce least squares
> means by levels of a factor given any number of covariates and code
> for classical item analysis (reliability and item characteristics).
> replace.na.m<-
> 
>   function (x){
>     X<-mean(x,na.rm=TRUE)
>     ifelse ( is.na(x)=="TRUE",X,x)
> }
> 
> 
> replace.na.x<-
>   function(x, value){
>     ifelse (is.na(x)=="TRUE", value , x)
> }
> 
> 
> juan pablo perez wrote:
> 
> >
> >
> > Dear R community:
> >
> > it is possible to replace NA?s in a data frame with zeroes?
> > what should I do?
> >
> > Thanks in advance
> >
> > Juan Pablo
> >
> >
> > _________________________________________________________________
> > MSN Photos es la manera m?s sencilla de compartir e imprimir sus
> > fotos: http://photos.latam.msn.com/Support/WorldWide.aspx
> 
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> 
> >
> > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> 
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Ross Darnell
School of Health and Rehabilitation Sciences
University of Queensland
Phone  +61 (0)7 3365 6087
Fax    +61 (0)7 3365 4754
Email  r.darnell at shrs.uq.edu.au

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From edd at debian.org  Tue Feb 26 06:13:55 2002
From: edd at debian.org (Dirk Eddelbuettel)
Date: Mon, 25 Feb 2002 23:13:55 -0600
Subject: [R] RQuantLib -- Interfacing QuantLib from R
Message-ID: <15483.6547.855180.973807@sonny.eddelbuettel.com>


I just uploaded an initial RQuantLib package to R's site in Vienna. 

RQuantLib is an R [ http://www.r-project.org ] package to access the powerful
QuantLib [ http://quantlib.org ] libraries for quantitative finance.

RQuantLib is at an early stage: I only defined two basic classes Option and
ImpliedVolatility with print and summary methods, and European and American
options on top of them. Binary Options are also available for the option
calculator.  I opted for (named) lists as input and output types. These
functions are "scalar" and operate on one option at a time. One other cute
function is EuropeanOptionArrays which allows for vectors of any of the
numeric input variables, and returns an appropriate multidimensional array of
all possible valuation combinations. The example() function plots a few
combinations.

The package, and well as a little more documentation, is also at

    http://dirk.eddelbuettel.com/code/rquantlib.html

Comments, questions, feedback welcome!

Dirk

-- 
Good judgement comes from experience; experience comes from bad judgement. 
							    -- Fred Brooks
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Feb 26 08:26:33 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 26 Feb 2002 07:26:33 +0000 (GMT)
Subject: [R] Re: Matrix of Elements of Different Types (was Interfacing   
 pre-existing C++ library from R)
In-Reply-To: <20020226014726.4F55B274E@sitemail.everyone.net>
Message-ID: <Pine.GSO.4.44.0202260722330.17549-100000@auk.stats>

On Mon, 25 Feb 2002, Gabor Grothendieck wrote:

>
>
> --- Prof Brian D Ripley <ripley at stats.ox.ac.uk> wrote:
> >A matrix list?  R lists are just vectors with elements of different types,
> >and R matrices are just vectors with a dimension attribute.
>
> When I saw the above I tried to create a matrix from a list but
> could not get it to work:
>
>  my.lm <- lm( rnorm(10) ~ I(1:10) )
>  my.list <- list(1, 2, 3, 4, 5, 6, my.lm, my.lm, my.lm)
>  my.mat <- matrix( my.list, nrow=3 )
>
> gives the following error in R 1.4.0 on Windows 2000:
>
>  Error in matrix(my.list, nrow = 3) : Unimplemented feature in
>   copyVector
>
> Is there a way to create a matrix out of elements of different types?

> dim(my.list) <- c(3,3)
> my.list
     [,1]        [,2]        [,3]
[1,] "Numeric,1" "Numeric,1" "List,12"
[2,] "Numeric,1" "Numeric,1" "List,12"
[3,] "Numeric,1" "Numeric,1" "List,12"

`R matrices are just vectors with a dimension attribute' should have given
you a clue!

The matrix() route does work in S.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ballabio at mac.com  Tue Feb 26 10:45:05 2002
From: ballabio at mac.com (Luigi Ballabio)
Date: Tue, 26 Feb 2002 09:45:05 +0000
Subject: [R] Re: [Quantlib-users] RQuantLib -- Interfacing QuantLib from R
In-Reply-To: <15483.6547.855180.973807@sonny.eddelbuettel.com>
Message-ID: <5.1.0.14.0.20020226092826.00a69540@mail.mac.com>

At 11:13 PM 2/25/02 -0600, Dirk Eddelbuettel wrote:
>I just uploaded an initial RQuantLib package to R's site in Vienna.

Dirk,
         one word: great!
As for the binary option bug you're mentioning: I just had a look at the 
code for BinaryOption and screamed in horror. Out of charity, I'm not going 
to find out who wrote it: I'll just try and fix it :)

Bye,
         Luigi

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Tue Feb 26 09:40:48 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Tue, 26 Feb 2002 08:40:48 +0000
Subject: [R] another basic ?
In-Reply-To: <4.3.2.7.2.20020225120152.00a9d100@pop.service.ohio-state.edu>
References: <4.3.2.7.2.20020225120152.00a9d100@pop.service.ohio-state.edu>
Message-ID: <DovoiFAQo0e8Ew7t@myatt.demon.co.uk>

jimi adams <adams.644 at osu.edu> writes:
>i am sure that there is a simple solution that i am just overlooking, but 
>there is no logical test for =
>there is one for != and >,<, >=, <=...
>what do i do if i need to check if something IS EQUAL

        == 

> or is there an easy way, in working with a matrix of size n x 3,  to sort 
> the matrix by one of the columns?

Use order() with the column (or row) indices:

        my.matrix[order(my.matrix[,column.to.sort.on]), ]

As in:

        > my.matrix <- matrix(c(5:1, 6:8, 12:9), nrow = 4)
        > my.matrix

             [,1] [,2] [,3]
        [1,]    5    1   12
        [2,]    4    6   11
        [3,]    3    7   10
        [4,]    2    8    9

        > my.sorted.matrix <- my.matrix[order(my.matrix[ ,1]), ]
        > my.sorted.matrix

             [,1] [,2] [,3]
        [1,]    2    8    9
        [2,]    3    7   10
        [3,]    4    6   11
        [4,]    5    1   12

Best wishes,

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hkawakat at sk.tsukuba.ac.jp  Tue Feb 26 10:45:13 2002
From: hkawakat at sk.tsukuba.ac.jp (Hiroyuki Kawakatsu)
Date: Tue, 26 Feb 2002 18:45:13 +0900 (JST)
Subject: [R] library() error?
Message-ID: <20020226.184513.01371617.hkawakat@sk.tsukuba.ac.jp>

hi,

i just upgraded to R1.4.1 on a windoze 2000 machine. (i first
uninstalled R1.3.1.) after running SetupR, i did packages/install from
cran..., selected all packages, which appears to have installed
fine. now when i type

library()

i get the error message

Error in rbind(...) : number of columns of matrices must match (see arg 2)

according to help(library), this is supposed to give me a list of all
available packages, not? is this a known problem? do we know of a fix? 
thanks,

h.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From malewski.peter at mh-hannover.de  Tue Feb 26 10:45:05 2002
From: malewski.peter at mh-hannover.de (Peter Malewski)
Date: Tue, 26 Feb 2002 10:45:05 +0100
Subject: [R] ? Nice colors for lattice?
Message-ID: <20020226104503.A5893@rzsrv2.rz.tu-bs.de>

Just a quick question: Does anybody has a nice palette (
yes, I know that this isn't the right lattice-command) for lattice?
I'm just making some graphs for a poster-presentation and I'm don't really
like these trellice colors. 

Thanks
Peter

-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Feb 26 11:06:10 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 26 Feb 2002 11:06:10 +0100 (MET)
Subject: [R] Matrix of Elements of Different Types (was Interfacing    pre-existing C++ library from R)
In-Reply-To: <20020226014726.4F55B274E@sitemail.everyone.net>
Message-ID: <Pine.OSF.3.96.1020226102511.7580B-100000@ija.csic.es>


The elements of  matrix MUST be of the same type.
You can convert a list into a matrix if and only if all the elements
of the list are of the same type. For example:

> milista <- list(a1=1:3, a2=4:6,a3=101:103)

> milista
$a1
[1] 1 2 3

$a2
[1] 4 5 6

$a3
[1] 101 102 103

You can convert milista into milista.matriz:
First, to vector
> milista.matriz
a11 a12 a13 a21 a22 a23 a31 a32 a33
  1   2   3   4   5   6 101 102 103

Then to matrix (as you quote from  Prof Brian D Ripley
"> >and R matrices are just vectors with a dimension attribute."

> dim(milista.matriz) <- c(3,3)
> milista.matriz
     [,1] [,2] [,3]
[1,]    1    4  101
[2,]    2    5  102
[3,]    3    6  103

BUT if milista just had one element with different length, then it
would be impossible to convert it into a matrix. 
Also, if milista had elements of different type, such as:
> milista <- list(a1=1:3, a2=4:6,a3=101:103,a4=c("a","b","c"))

you would not be able, by definition, to convert it into
matrix, although you could convert it into a dataframe. Let's see:
> midataframe <- data.frame(milista.matriz)
> midataframe
  X1 X2  X3
1  1  4 101
2  2  5 102
3  3  6 103
> midataframe$X1
[1] 1 2 3
> is.numeric(midataframe$X1)
[1] TRUE
> midataframe <- cbind(midataframe,X4=c("a","b","a"))
> midataframe
  X1 X2  X3 X4
1  1  4 101  a
2  2  5 102  b
3  3  6 103  a
> is.numeric(midataframe$X1)
[1] TRUE
> is.numeric(midataframe$X4)
[1] FALSE

The data frame keeps each column with its own type.
Instead:

> cbind(milista.matriz,c("a","b","a"))
     [,1] [,2] [,3]  [,4]
[1,] "1"  "4"  "101" "a"
[2,] "2"  "5"  "102" "b"
[3,] "3"  "6"  "103" "a"

would automatically convert all elements to the same
type (char)).

(In other words, it would seem "as if you had converted" to a matrix,
but you have done more than just changing the organization of the
information:
you have changed the information itself, as 1 != "1". Beware of that,
as R would not warn you).

So:

vector: chain of elements, all of the same type (1 dimension). Note
that:
> mivector <- c(1,2,3,"a","b","c")
would produce:
> mivector
[1] "1" "2" "3" "a" "b" "c"
(numbers automatically converted to chars)

matrix: vector with more than 1 dimension (actually, we normally call
them matrices if they are 2D, and arrays for >3D).

dataframe: matrix which columns can be of different type (but same length)

lists: organized assemblage of elements that can be of different types,
lengths and dimensions, i.e.: 

> milista
$a1
[1] 1 2 3

$a2
     [,1] [,2] [,3]
[1,]    1    5    9
[2,]    2    6   10
[3,]    3    7   11
[4,]    4    8   12

$a3
[1] "A ver si me hago un tutorial"

$a4
function(){print("patatin patatan")}


(Well, as far as I know...)

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Mon, 25 Feb 2002, Gabor Grothendieck wrote:

> 
> 
> --- Prof Brian D Ripley <ripley at stats.ox.ac.uk> wrote:
> >A matrix list?  R lists are just vectors with elements of different types,
> >and R matrices are just vectors with a dimension attribute.
> 
> When I saw the above I tried to create a matrix from a list but
> could not get it to work:
> 
>  my.lm <- lm( rnorm(10) ~ I(1:10) )
>  my.list <- list(1, 2, 3, 4, 5, 6, my.lm, my.lm, my.lm)
>  my.mat <- matrix( my.list, nrow=3 )
> 
> gives the following error in R 1.4.0 on Windows 2000:
> 
>  Error in matrix(my.list, nrow = 3) : Unimplemented feature in  
>   copyVector
> 
> Is there a way to create a matrix out of elements of different types?
> 
> Thanks.
> 
> 
> _____________________________________________________________
> 
> 
> _____________________________________________________________
> You deserve a better email address! Get personalized email @yourname
> or @yourcompany from Everyone.net --> http://www.everyone.net?tag
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Feb 26 10:58:10 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 26 Feb 2002 09:58:10 +0000 (GMT)
Subject: [R] library() error?
In-Reply-To: <20020226.184513.01371617.hkawakat@sk.tsukuba.ac.jp>
Message-ID: <Pine.GSO.4.44.0202260955240.21822-100000@auk.stats>

On Tue, 26 Feb 2002, Hiroyuki Kawakatsu wrote:

> hi,
>
> i just upgraded to R1.4.1 on a windoze 2000 machine. (i first
> uninstalled R1.3.1.) after running SetupR, i did packages/install from
> cran..., selected all packages, which appears to have installed
> fine. now when i type
>
> library()
>
> i get the error message
>
> Error in rbind(...) : number of columns of matrices must match (see arg 2)
>
> according to help(library), this is supposed to give me a list of all
> available packages, not? is this a known problem? do we know of a fix?

Yes, it supposed to, but perhaps one of those packages is not up-to-date in
its information files.  The Windows contributed section does contain some
obselete packages.

I suggest you start again, and only install the packages you actually
need.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lukas.kubin at permonik.com  Tue Feb 26 11:16:18 2002
From: lukas.kubin at permonik.com (Lukas Kubin)
Date: Tue, 26 Feb 2002 11:16:18 +0100 (CET)
Subject: [R] covariance of equal date values
Message-ID: <Pine.LNX.4.33.0202261110550.18913-100000@x.opf.slu.cz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

I need to count the covariance of two time series. Both of them contain
the dates' vector and vector of values. But the dates are not the same. It
means some dates of first ts are not in the second respectively. And I
need the covariance of same dates, of course.
Could anyone help me, please?
Thank you.

lukas

- -- 
Lukas Kubin
lukas.kubin at permonik.com
phone: 00420603836180
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.5 (GNU/Linux)
Comment: For info see http://www.gnupg.org

iD8DBQE8e2B14TIZ2lmUAtsRAi3AAJ0Sd7G8MkFMPmdmfhBxDFcHo4CjaQCgjcLZ
bbVG0SM5cMYKk497WJzsAe8=
=N1KE
-----END PGP SIGNATURE-----

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marte at pms.informatik.uni-muenchen.de  Tue Feb 26 11:43:33 2002
From: marte at pms.informatik.uni-muenchen.de (Michael Marte)
Date: Tue, 26 Feb 2002 11:43:33 +0100 (CET)
Subject: [R] Several ECDFs in one plot?
Message-ID: <Pine.LNX.4.33.0202261133460.7754-100000@arutua.pms.informatik.uni-muenchen.de>

Hello *,

I am trying to plot several ECDFs all at once.
I know that it is possible to add one ECDF after the other by
means of "add=TRUE" but this causes problems as the
view is not updated to take the properties of consecutively
added ECDFs into account (clipping, scaling).

I would like to have something like boxplot:
Given a list of ECDFs, a list of names, a list of colors,
a list of plot symbols, ..., produce a plot that shows
all the ECDFs using the respective plot symbols, colors, etc.
and maybe even displays a legend.

How can this be accomplished?

Please send a CC of your answer to my email address as I am
not subscribed to this mailing list.

Thank you very much,
Michael Marte

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Feb 26 11:58:02 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 26 Feb 2002 11:58:02 +0100
Subject: [R] ? Nice colors for lattice?
In-Reply-To: <20020226104503.A5893@rzsrv2.rz.tu-bs.de>
References: <20020226104503.A5893@rzsrv2.rz.tu-bs.de>
Message-ID: <15483.27194.723703.325966@gargle.gargle.HOWL>

>>>>> "Peter" == Peter Malewski <malewski.peter at mh-hannover.de> writes:

    Peter> Just a quick question: Does anybody has a nice
    Peter> palette ( yes, I know that this isn't the right
    Peter> lattice-command) for lattice?  I'm just making some
    Peter> graphs for a poster-presentation and I'm don't really
    Peter> like these trellice colors.

Doug Bates recently mentioned (not on R-help) :

DBates> but I wanted to remind everyone that
DBates> grid/lattice now has "themes".  Try

  library(lattice)
  show.settings()
  lset(theme = 'white.bg')
  show.settings()

I hope this helps you further.

Martin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lukas.kubin at permonik.com  Tue Feb 26 12:06:31 2002
From: lukas.kubin at permonik.com (Lukas Kubin)
Date: Tue, 26 Feb 2002 12:06:31 +0100 (CET)
Subject: [R] last day of month values
Message-ID: <Pine.LNX.4.33.0202261203190.23356-100000@x.opf.slu.cz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

I have a stock market trading values time series. What's the best way to
extract the "last day of month" values. I looked at function window() but
doesn't appear suitable for this since it expects regular dates.
Thank you.

lukas

- -- 
Lukas Kubin
lukas.kubin at permonik.com
phone: 00420603836180
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.5 (GNU/Linux)
Comment: For info see http://www.gnupg.org

iD8DBQE8e2w74TIZ2lmUAtsRAj/SAJ4heMKveDwpCLPwnnJTBnAvCSIRrQCeJTHi
YEujkKsmoX/orLUlnHxBNYA=
=H9uw
-----END PGP SIGNATURE-----

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From malewski.peter at mh-hannover.de  Tue Feb 26 12:32:33 2002
From: malewski.peter at mh-hannover.de (Peter Malewski)
Date: Tue, 26 Feb 2002 12:32:33 +0100
Subject: [R] ? Nice colors for lattice?
In-Reply-To: <15483.27194.723703.325966@gargle.gargle.HOWL>; from maechler@stat.math.ethz.ch on Tue, Feb 26, 2002 at 11:58:02AM +0100
References: <20020226104503.A5893@rzsrv2.rz.tu-bs.de> <15483.27194.723703.325966@gargle.gargle.HOWL>
Message-ID: <20020226123232.B5893@rzsrv2.rz.tu-bs.de>


Thanks Martin, 
 "white.bg" looks much better. "bw" seems to have a problem:


> lset(theme="bw")
Error in trellis.par.set("background", list(col = bg)) : 
	Object "bg" not found
> traceback()
2: trellis.par.set("background", list(col = bg))
1: lset(theme = "bw")

Perhaps I'll try to create my own themes (when I've time). Wouldn't
it be usefull if the themes are stored in a special objects where a 
user can easy modify or create a new theme? Now I have to change the
lset-function by hand (or create a file with settings). 
PM

On Tue, Feb 26, 2002 at 11:58:02AM +0100, Martin Maechler wrote:
> >>>>> "Peter" == Peter Malewski <malewski.peter at mh-hannover.de> writes:
> 
>     Peter> Just a quick question: Does anybody has a nice
>     Peter> palette ( yes, I know that this isn't the right
>     Peter> lattice-command) for lattice?  I'm just making some
>     Peter> graphs for a poster-presentation and I'm don't really
>     Peter> like these trellice colors.
> 
> Doug Bates recently mentioned (not on R-help) :
> 
> DBates> but I wanted to remind everyone that
> DBates> grid/lattice now has "themes".  Try
> 
>   library(lattice)
>   show.settings()
>   lset(theme = 'white.bg')
>   show.settings()
> 
> I hope this helps you further.
> 
> Martin

-- 
P.Malewski, Limmerstr.47, 30451 Hannover, 0511-2135008
At work: http://www.MH-Hannover.de 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From olivier.martin at inrialpes.fr  Tue Feb 26 13:09:19 2002
From: olivier.martin at inrialpes.fr (Olivier Martin)
Date: Tue, 26 Feb 2002 13:09:19 +0100
Subject: [R] a trick ??
Message-ID: <3C7B7AEF.808C7832@inrialpes.fr>

Dear R users,

Suppose i have an A square matrix rxr. I want to obtain a block matrix
B (pxr,pxr) where
the p diagonal blocks are A and  the others values are 0.
I would like to do something like : diag(A,ncol=pr, nrow=pr)
How can i do it ??
Thanks in advance,
Olivier.

--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
Olivier MARTIN
PhD student                  phone: (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42
INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                   e-mail:olivier.martin at inrialpes.fr
38334 Saint Ismier cedex
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20020226/a40c68e1/attachment.html

From ripley at stats.ox.ac.uk  Tue Feb 26 13:19:36 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 26 Feb 2002 12:19:36 +0000 (GMT Standard Time)
Subject: [R] matrix lists
Message-ID: <Pine.WNT.4.44.0202261207240.1064-100000@tern.stats>

Perhaps the following example will help demonstrate that matrix lists do
exist and do work up to a point, despite strident assertions on R-help to
the contrary:

> m <- list(a1=1:3, a2=4:6, a3=pi, a4=c("a","b","c"))
> dim(m) <- c(2,2)
> m
     [,1]        [,2]
[1,] "Numeric,3" "Numeric,1"
[2,] "Numeric,3" "Character,3"
> is.matrix(m)
[1] TRUE
> m[[1,2]]
[1] 3.141593
> m[[2,2]]
[1] "a" "b" "c"

In S m[2,2] extracts a sub-list, but that seems not to work correctly in R:
neither does m[,2].  I am reporting that as a bug.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Tue Feb 26 13:28:30 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Tue, 26 Feb 2002 13:28:30 +0100
Subject: [R] covariance of equal date values
References: <Pine.LNX.4.33.0202261110550.18913-100000@x.opf.slu.cz>
Message-ID: <3C7B7F6E.13FAFFA8@atmos.umnw.ethz.ch>

Hello Lukas,

I hope this short example will help


d1 <- data.frame(time=c(1,4,8,11,12,18),data=runif(6)) #some random data
d2 <- data.frame(time=c(1,4,9,10,12,17),data=runif(6)) #some random data
d <- data.frame(time=sort(unique(c(d1$time,d2$time))),data1=NA,data2=NA)
#combine the time
d[match(d1$time,d$time),'data1'] <-  d1$data #add the data
d[match(d2$time,d$time),'data2'] <-  d2$data #add the data
cov(d$data1,d$data2,use='complete')

gruess

joerg

Lukas Kubin wrote:
> 
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> I need to count the covariance of two time series. Both of them contain
> the dates' vector and vector of values. But the dates are not the same. It
> means some dates of first ts are not in the second respectively. And I
> need the covariance of same dates, of course.
> Could anyone help me, please?
> Thank you.
> 
> lukas
> 
> - --
> Lukas Kubin
> lukas.kubin at permonik.com
> phone: 00420603836180
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.0.5 (GNU/Linux)
> Comment: For info see http://www.gnupg.org
> 
> iD8DBQE8e2B14TIZ2lmUAtsRAi3AAJ0Sd7G8MkFMPmdmfhBxDFcHo4CjaQCgjcLZ
> bbVG0SM5cMYKk497WJzsAe8=
> =N1KE
> -----END PGP SIGNATURE-----
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::   
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dj at research.bell-labs.com  Tue Feb 26 14:13:46 2002
From: dj at research.bell-labs.com (David James)
Date: Tue, 26 Feb 2002 08:13:46 -0500
Subject: [R] help understanding box plots
In-Reply-To: <Pine.OSF.3.96.1020225105132.29528E-100000@ija.csic.es>; from alobo@ija.csic.es on Mon, Feb 25, 2002 at 10:59:43AM +0100
References: <20020222162236.A1743@jessie.research.bell-labs.com> <Pine.OSF.3.96.1020225105132.29528E-100000@ija.csic.es>
Message-ID: <20020226081345.A7111@jessie.research.bell-labs.com>

Agustin Lobo wrote:
> Gracias!
> 
> This is really close. I'm just missing the "notches", which meaning
> is explained in the help page 
> ("If the notches of two plots do not overlap then the
>           medians are significantly different at the 5 percent level.")
> but not their actual definition. 
> 
> I presume that they are calculated using a t-value but taking the median
> and m.a.d. instead of the mean and var, but this is nowhere specified.
> With skewed distributions nothes often
> make funny plots.

Right, and they look funny when n is small.  The formula 
is Median ? 1.57*IQR/sqrt(n)

> 
> An example using your function, i.e., bx.example(y=rnorm(300)+runif(300))
> should be in the help page! Why not sending it to rhelp?
> 
> Agus
> 
> Dr. Agustin Lobo
> Instituto de Ciencias de la Tierra (CSIC)
> Lluis Sole Sabaris s/n
> 08028 Barcelona SPAIN
> tel 34 93409 5410
> fax 34 93411 0012
> alobo at ija.csic.es
> 
> 
> On Fri, 22 Feb 2002, David James wrote:
> 
> > Hola!
> > 
> > The function below does something close to that.  
> > 
> > "bp.example" <- 
> > function(y, xlab = "Fraction (p)", ylab = "Quantiles Q(p)", ...)
> > {
> >    ##
> >    ## adapted from Bill Cleveland's Visulizing Data (1993)
> >    ##
> >    split.screen(fig = rbind(c(0,2/3, 0, 1), c(2/3, 1, 0, 1)))
> >    screen(1)
> >    par(cex=1); par(mar=c(5.1, 4.1, 2, 1))
> > 
> >    q <- quantile(y, c(0.25, 0.5, 0.75))
> >    y <- sort(y)
> >    p <- ppoints(y)
> >    iq <- q[3] - q[1]
> >    bxp.adj<- q[c(1,3)] + c(-1.5, 1.5)*iq 
> >    lower.adj<- min(y[y>=bxp.adj[1]])
> >    upper.adj<- max(y[y<=bxp.adj[2]])
> > 
> >    plot(p, y, xlab=xlab, ylab=ylab, ...)
> >    u <- par("usr")
> >    b <- (q[3]-q[1])/.50
> >    a <- q[1] - .25 * b
> >    abline(a,b)
> >    abline(h=q, col = 2, lty=2)
> >    abline(h=c(lower.adj, upper.adj), col = 3, lty=2)
> >    cxy <- par("cxy")
> > 
> >    # lower right annotations
> >    text(x = u[c(2,2)] - cxy[1], 
> >         y = c(lower.adj,q[1]) + cxy[2]/2,
> >         c("lower adjecent", "lower quartile (Q1)"), adj=1)
> >    text(x = u[2]-cxy[1], lower.adj- 0.75*cxy[2], 
> >         'min(y[y >= Q1 - 1.5 * IQR])', adj=1)
> > 
> >    # upper left annotations
> >    text(x = u[c(1,1,1)] + cxy[1], 
> >         y = c(q[-1], upper.adj) + cxy[2]/2,
> >         c("median (Q2)", "upper quartile (Q3)", "upper adjecent"), adj=0)
> >    text(x = u[1]+cxy[1], y=upper.adj-0.75*cxy[2],
> >         'max(y[ y <= Q3 + 1.5 * IQR])', adj=0)
> >    invisible(list(x = p, y = y, a = a, b = b))
> > 
> >    screen(2)
> >    ylim <- range(y)
> >    par(cex=1); par(mar=c(5.1, 1.0, 2, 1))
> >    boxplot(y, ylim = ylim, axes=F, col=2)
> >    axis(2, labels=F) 
> >    box()
> >    close.screen(all=T)
> > }
> > 
> > Agustin Lobo wrote:
> > > 
> > > I've always thought that it would most useful having a
> > > graphic example of boxplot including some text 
> > > pointing to the main features of the boxplot
> > > and that would define and explain these 
> > > features. Perhaps this
> > > could be made a simple function (i.e., boxplot.example())
> > > and this function be included in the help entry. Then
> > > the user would just run boxplot.example() to
> > > see a graphic and commented example. It's more
> > > dificult to understand a text describing
> > > the boxplot function than just seeing a commented
> > > graphic example.
> > > 
> > > 
> > > Agus
> > > 
> > > 
> > > Dr. Agustin Lobo
> > > Instituto de Ciencias de la Tierra (CSIC)
> > > Lluis Sole Sabaris s/n
> > > 08028 Barcelona SPAIN
> > > tel 34 93409 5410
> > > fax 34 93411 0012
> > > alobo at ija.csic.es
> > > 
> > > 
> > > On 22 Feb 2002, Peter Dalgaard BSA wrote:
> > > 
> > > > Jay Pfaffman <pfaffman at relaxpc.com> writes:
> > > > 
> > > > > Another naive stats question.  I'm trying to better understand what
> > > > > boxplots are telling me.  
> > > > > 
> > > > > I think what I see is the median and the boundaries of the 1st and 3rd
> > > > > quartiles.  The whiskers represent the range of the data unless there
> > > > > are points which are outside "range" (default: 1.5) times the distance
> > > > > from the median to that quartile.  Is that right? 
> > > > 
> > > > Not quite. 1.5 times the length of the entire box.
> > > > 
> > > > > I've read the
> > > > > documentation for boxplot numerous times, but don't quite understand
> > > > > it well enough to communicate it to my professor who's helping me with
> > > > > this project.  (You'll be relieved to know that neither of us fancies
> > > > > ourself a statistician!)
> > > > 
> > > > boxplot.stats.Rd had a typo and got updated recently in the
> > > > development and patch versions to read
> > > > 
> > > >   \item{coef}{this determines how far the plot ``whiskers'' extend out
> > > >     from the box.  If \code{coef} is positive, the whiskers extend to
> > > >     the
> > > >     most extreme data point which is no more than \code{coef} times
> > > >     the length of the box away from the box. A value of zero causes
> > > >     the whiskers
> > > >     to extend to the data extremes (and no outliers be returned).}
> > > > 
> > > > (for some reason this hasn't yet found its way to the online snapshot
> > > > manuals in http://stat.ethz.ch/R-alpha/R-devel/doc/html/ and friends.
> > > > Martin?)
> > > > 
> > > > 
> > > > > V&R (p. 122) claims that the hinges are "roughly quartiles," so
> > > > > perhaps my naive understanding is close enough.
> > > > 
> > > > Yes. The exact definition is slightly peculiar, but in compliance with
> > > > the original definition by Tukey. So I'm told, anyway.
> > > > 
> > > > 
> > > > > I've got a relatively small data set (n~=12).  I think it would help
> > > > > to see the data points plotted on top of the boxplots.  Here's what
> > > > > I'm doing now:
> > > > > 
> > > > >     par(las=2,ps=14,mar=c(15, 4, 4, 2))
> > > > >     boxplot(split(ranks,c(1:25)), names=items, notch=T, horizontal=F, add=F)
> > > > > 
> > > > > If I could get the points of each of the 25 variables plotted on top
> > > > > of the box, that'd be great.
> > > > 
> > > > Not sure what you're doing there, but maybe some code like this could
> > > > help:
> > > > 
> > > >  x1<-rnorm(20)
> > > >  x2<-rnorm(20)
> > > >  boxplot(list(x1=x1,x2=x2))
> > > >  points(cbind(1,x1))
> > > >  points(cbind(2,x2))
> > > > 
> > > > 
> > > > -- 
> > > >    O__  ---- Peter Dalgaard             Blegdamsvej 3  
> > > >   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
> > > >  (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
> > > > ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
> > > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > > Send "info", "help", or "[un]subscribe"
> > > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > > > 
> > > 
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> > 
> > -- 
> > David A. James
> > Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
> > Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
> > Murray Hill, NJ 09794-0636
> > 
> 

-- 
David A. James
Statistics Research, Room 2C-253            Phone:  (908) 582-3082       
Bell Labs, Lucent Technologies              Fax:    (908) 582-3340
Murray Hill, NJ 09794-0636
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ozric at web.de  Tue Feb 26 14:45:08 2002
From: ozric at web.de (christian schulz)
Date: Tue, 26 Feb 2002 14:45:08 +0100
Subject: [R] lapply & subset 
Message-ID: <3C7B9164.9090300@web.de>

hello,
how is it possible  ( perhaps with lapply )
modifiy this so that  Q31.1 would be replaced with a loop which
select first column than second column, n column.........from configData 
etc.


x <- subset(configData, Q71 == 1 & Q31.1 ==1 , select = Q31.1) 
(dim(x)[1]/dim(configData)[1])*100

PseudoCode !?
for i in 1:ncol(configData) {
x <- subset(configData, Q71 == 1 & i ==1 , select = i) 
(dim(x)[1]/dim(configData)[1])*100
}

thanks for advance & regards,
Christian

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Tue Feb 26 15:03:20 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Tue, 26 Feb 2002 15:03:20 +0100
Subject: [R] last day of month values
References: <Pine.LNX.4.33.0202261203190.23356-100000@x.opf.slu.cz>
Message-ID: <3C7B95A8.69E5F8B0@atmos.umnw.ethz.ch>

Hallo Lukas,

try this code
#data
d <-
data.frame(day=c(1,10,15,30,2,16,18,28),month=c(1,1,1,1,2,2,2,2),value=c(8,9,7,5,6,4,1,2))
#find the highest day per month
ma <- tapply(d$day,d$month,max)
#get them values
d$value[match(as.numeric(names(ma))+(ma-1)/31,d$month+(d$day-1)/31)]

gruess

joerg

Lukas Kubin wrote:
> 
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> I have a stock market trading values time series. What's the best way to
> extract the "last day of month" values. I looked at function window() but
> doesn't appear suitable for this since it expects regular dates.
> Thank you.
> 
> lukas
> 
> - --
> Lukas Kubin
> lukas.kubin at permonik.com
> phone: 00420603836180
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.0.5 (GNU/Linux)
> Comment: For info see http://www.gnupg.org
> 
> iD8DBQE8e2w74TIZ2lmUAtsRAj/SAJ4heMKveDwpCLPwnnJTBnAvCSIRrQCeJTHi
> YEujkKsmoX/orLUlnHxBNYA=
> =H9uw
> -----END PGP SIGNATURE-----
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::   
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Feb 26 15:05:20 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 26 Feb 2002 14:05:20 +0000 (GMT)
Subject: [R] matrix lists
In-Reply-To: <Pine.WNT.4.44.0202261207240.1064-100000@tern.stats>
Message-ID: <Pine.GSO.4.44.0202261403330.21906-100000@auk.stats>

On Tue, 26 Feb 2002, Prof Brian D Ripley wrote:

> Perhaps the following example will help demonstrate that matrix lists do
> exist and do work up to a point, despite strident assertions on R-help to
> the contrary:
>
> > m <- list(a1=1:3, a2=4:6, a3=pi, a4=c("a","b","c"))
> > dim(m) <- c(2,2)
> > m
>      [,1]        [,2]
> [1,] "Numeric,3" "Numeric,1"
> [2,] "Numeric,3" "Character,3"
> > is.matrix(m)
> [1] TRUE
> > m[[1,2]]
> [1] 3.141593
> > m[[2,2]]
> [1] "a" "b" "c"
>
> In S m[2,2] extracts a sub-list, but that seems not to work correctly in R:
> neither does m[,2].  I am reporting that as a bug.

The bug is now fixed in R-devel, which should make these more useful.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ggrothendieck at volcanomail.com  Tue Feb 26 15:21:38 2002
From: ggrothendieck at volcanomail.com (Gabor Grothendieck)
Date: Tue, 26 Feb 2002 06:21:38 -0800 (PST)
Subject: [R] Re: Matrix of Elements of Different Types (was
    Interfacing    pre-existing C++ library from R)
Message-ID: <20020226142138.D29B72757@sitemail.everyone.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-help/attachments/20020226/8ae0e552/attachment.pl

From lukas.kubin at permonik.com  Tue Feb 26 15:28:22 2002
From: lukas.kubin at permonik.com (Lukas Kubin)
Date: Tue, 26 Feb 2002 15:28:22 +0100 (CET)
Subject: [R] last day of month values
In-Reply-To: <3C7B95A8.69E5F8B0@atmos.umnw.ethz.ch>
Message-ID: <Pine.LNX.4.33.0202261509320.29172-100000@x.opf.slu.cz>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi Joerg,
thank you for the answer, however I have the timestamp in format 26-02-02.
Do I have to extract each part of the date?
Thank you.

lukas

On Tue, 26 Feb 2002, Joerg Maeder wrote:

> Hallo Lukas,
>
> try this code
> #data
> d <-
> data.frame(day=c(1,10,15,30,2,16,18,28),month=c(1,1,1,1,2,2,2,2),value=c(8,9,7,5,6,4,1,2))
> #find the highest day per month
> ma <- tapply(d$day,d$month,max)
> #get them values
> d$value[match(as.numeric(names(ma))+(ma-1)/31,d$month+(d$day-1)/31)]
>
> gruess
>
> joerg
>
> Lukas Kubin wrote:
> >
> > -----BEGIN PGP SIGNED MESSAGE-----
> > Hash: SHA1
> >
> > I have a stock market trading values time series. What's the best way to
> > extract the "last day of month" values. I looked at function window() but
> > doesn't appear suitable for this since it expects regular dates.
> > Thank you.
> >
> > lukas
> >
> > - --
> > Lukas Kubin
> > lukas.kubin at permonik.com
> > phone: 00420603836180
> > -----BEGIN PGP SIGNATURE-----
> > Version: GnuPG v1.0.5 (GNU/Linux)
> > Comment: For info see http://www.gnupg.org
> >
> > iD8DBQE8e2w74TIZ2lmUAtsRAj/SAJ4heMKveDwpCLPwnnJTBnAvCSIRrQCeJTHi
> > YEujkKsmoX/orLUlnHxBNYA=
> > =H9uw
> > -----END PGP SIGNATURE-----
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>
>

- -- 
Lukas Kubin
lukas.kubin at permonik.com
phone: 00420603836180
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.5 (GNU/Linux)
Comment: For info see http://www.gnupg.org

iD8DBQE8e5uJ4TIZ2lmUAtsRAuQXAKDCaNnEyXXVFa6fMS81klJIXDFrlgCgmm71
zVnHeNICrNs6dvQd0Ir1YkI=
=pcXi
-----END PGP SIGNATURE-----

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maeder at atmos.umnw.ethz.ch  Tue Feb 26 15:53:12 2002
From: maeder at atmos.umnw.ethz.ch (Joerg Maeder)
Date: Tue, 26 Feb 2002 15:53:12 +0100
Subject: [R] last day of month values
References: <Pine.LNX.4.33.0202261509320.29172-100000@x.opf.slu.cz>
Message-ID: <3C7BA158.674C66CB@atmos.umnw.ethz.ch>

Hi Lukas

use the functions stpftime and strptime (see R documentation)
eg: as.numeric(strftime(f,format="%m")) for the months, year: "%y", day:
"%d"
Be carefull about leadings 0 (3 or 03) and try to write the year in 4
digits!
if your date is a string you can use as.numeric(substring(date,from,
length))
eg: month <- as.numeric(substring(date,4,2))


Lukas Kubin wrote:
> 
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> Hi Joerg,
> thank you for the answer, however I have the timestamp in format 26-02-02.
> Do I have to extract each part of the date?
> Thank you.
> 
> lukas
> 
> On Tue, 26 Feb 2002, Joerg Maeder wrote:
> 
> > Hallo Lukas,
> >
> > try this code
> > #data
> > d <-
> > data.frame(day=c(1,10,15,30,2,16,18,28),month=c(1,1,1,1,2,2,2,2),value=c(8,9,7,5,6,4,1,2))
> > #find the highest day per month
> > ma <- tapply(d$day,d$month,max)
> > #get them values
> > d$value[match(as.numeric(names(ma))+(ma-1)/31,d$month+(d$day-1)/31)]
> >
> > gruess
> >
> > joerg
> >
> > Lukas Kubin wrote:
> > >
> > > -----BEGIN PGP SIGNED MESSAGE-----
> > > Hash: SHA1
> > >
> > > I have a stock market trading values time series. What's the best way to
> > > extract the "last day of month" values. I looked at function window() but
> > > doesn't appear suitable for this since it expects regular dates.
> > > Thank you.
> > >
> > > lukas
> > >
> > > - --
> > > Lukas Kubin
> > > lukas.kubin at permonik.com
> > > phone: 00420603836180
> > > -----BEGIN PGP SIGNATURE-----
> > > Version: GnuPG v1.0.5 (GNU/Linux)
> > > Comment: For info see http://www.gnupg.org
> > >
> > > iD8DBQE8e2w74TIZ2lmUAtsRAj/SAJ4heMKveDwpCLPwnnJTBnAvCSIRrQCeJTHi
> > > YEujkKsmoX/orLUlnHxBNYA=
> > > =H9uw
> > > -----END PGP SIGNATURE-----
> > >
> > > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> >
> >
> 
> - --
> Lukas Kubin
> lukas.kubin at permonik.com
> phone: 00420603836180
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.0.5 (GNU/Linux)
> Comment: For info see http://www.gnupg.org
> 
> iD8DBQE8e5uJ4TIZ2lmUAtsRAuQXAKDCaNnEyXXVFa6fMS81klJIXDFrlgCgmm71
> zVnHeNICrNs6dvQd0Ir1YkI=
> =pcXi
> -----END PGP SIGNATURE-----

-- 
Joerg Maeder    .:|:||:..:.||.::   maeder at atmos.umnw.ethz.ch
Tel: +41 1 633 36 25   .:|:||:..:.||.::   
http://www.iac.ethz.ch/staff/maeder
PhD student at INSTITUTE FOR ATMOSPHERIC AND CLIMATE SCIENCE (IACETH)
ETH Z?RICH Switzerland
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From J.C.Rougier at durham.ac.uk  Tue Feb 26 15:57:26 2002
From: J.C.Rougier at durham.ac.uk (Jonathan Rougier)
Date: Tue, 26 Feb 2002 14:57:26 +0000
Subject: [R] a trick ??
References: <3C7B7AEF.808C7832@inrialpes.fr>
Message-ID: <3C7BA256.DF5C8CA1@durham.ac.uk>

Olivier Martin wrote:
> 
> Dear R users,
> 
> Suppose i have an A square matrix rxr. I want to obtain a block
> matrix  B (pxr,pxr) where
> the p diagonal blocks are A and  the others values are 0.
> I would like to do something like : diag(A,ncol=pr, nrow=pr)
> How can i do it ??
> Thanks in advance,
> Olivier.

I think you want "kronecker", eg

> A <- matrix(1:4, 2, 2)
> kronecker(diag(1, 3), A)
     [,1] [,2] [,3] [,4] [,5] [,6]
[1,]    1    3    0    0    0    0
[2,]    2    4    0    0    0    0
[3,]    0    0    1    3    0    0
[4,]    0    0    2    4    0    0
[5,]    0    0    0    0    1    3
[6,]    0    0    0    0    2    4
> diag(1, 3) %x% A # short form
     [,1] [,2] [,3] [,4] [,5] [,6]
[1,]    1    3    0    0    0    0
[2,]    2    4    0    0    0    0
[3,]    0    0    1    3    0    0
[4,]    0    0    2    4    0    0
[5,]    0    0    0    0    1    3
[6,]    0    0    0    0    2    4

Cheers, Jonathan.
-- 
Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
tel: +44 (0)191 374 2361, fax: +44 (0)191 374 7388
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From vito.muggeo at giustizia.it  Tue Feb 26 16:08:09 2002
From: vito.muggeo at giustizia.it (vito muggeo)
Date: Tue, 26 Feb 2002 16:08:09 +0100
Subject: [R] a trick ??
References: <3C7B7AEF.808C7832@inrialpes.fr>
Message-ID: <00fa01c1bed7$6cbdaae0$5c13070a@it.giustizia.it>

diag(rep(diag(A),p))

,of course.

(If I understand what you mean)
cheers,
vito


----- Original Message -----
From: Olivier Martin
To: r-news
Sent: Tuesday, February 26, 2002 1:09 PM
Subject: [R] a trick ??


Dear R users,
Suppose i have an A square matrix rxr. I want to obtain a block matrix  B
(pxr,pxr) where
the p diagonal blocks are A and  the others values are 0.
I would like to do something like : diag(A,ncol=pr, nrow=pr)
How can i do it ??
Thanks in advance,
Olivier.
--
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
Olivier MARTIN
PhD student                  phone: (33) 04 76 61 53 55
Projet IS2                               06 08 67 93 42
INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
655, Av. de l'Europe
Montbonnot                   e-mail:olivier.martin at inrialpes.fr
38334 Saint Ismier cedex
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From deepayansarkar at yahoo.com  Tue Feb 26 16:20:51 2002
From: deepayansarkar at yahoo.com (Deepayan Sarkar)
Date: Tue, 26 Feb 2002 07:20:51 -0800 (PST)
Subject: [R] ? Nice colors for lattice?
In-Reply-To: <20020226123232.B5893@rzsrv2.rz.tu-bs.de>
Message-ID: <20020226152051.98928.qmail@web13903.mail.yahoo.com>



Plans to shore up mechanisms to enable easy handling of the settings are in 
the pipeline. The current plan is to have "lattice.theme" objects which 
would be lists (similar to the trellis.settings object in the current 
version, but need have only the components that you want to change). 

The problem with "bw" is an error on my part. However, it is supposed to be 
exactly equivalent to trellis.device(postscript, col = F, bg = "white").

[Because of the way things currently are, the following would make these 
settings available on any device:

trellis.device(<your favorite device>)
trellis.device(postscript, col = F, bg = "white")
dev.off() # will create an unnecessary Rplots.ps
## "bw" settings now available on <your favorite device>

This is of course undesirable behaviour and would hopefully be changed by 
the next version]





--- Peter Malewski <malewski.peter at mh-hannover.de> wrote:
> 
> Thanks Martin, 
>  "white.bg" looks much better. "bw" seems to have a problem:
> 
> 
> > lset(theme="bw")
> Error in trellis.par.set("background", list(col = bg)) : 
>  Object "bg" not found
> > traceback()
> 2: trellis.par.set("background", list(col = bg))
> 1: lset(theme = "bw")
> 
> Perhaps I'll try to create my own themes (when I've time). Wouldn't
> it be usefull if the themes are stored in a special objects where a 
> user can easy modify or create a new theme? Now I have to change the
> lset-function by hand (or create a file with settings). 
> PM
> 


__________________________________________________

Yahoo! Sports - Coverage of the 2002 Olympic Games

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Feb 26 18:40:30 2002
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 26 Feb 2002 18:40:30 +0100
Subject: [R] How to get the penalized log likelihood from smooth.spline()?
In-Reply-To: <Pine.GSO.4.10.10202201503260.22058-100000@speed.maths.lth.se>
References: <Pine.GSO.4.10.10202201503260.22058-100000@speed.maths.lth.se>
Message-ID: <15483.51342.950584.329826@gargle.gargle.HOWL>

>>>>> "HenrikB" == Henrik Bengtsson <hb at maths.lth.se> writes:

    HenrikB> I use smooth.spline(x, y) in package modreg and I
    HenrikB> would like to get value of penalized log likelihood
    HenrikB> and preferable also its two parts. To make clear
    HenrikB> what I am asking for (and make sure that I am
    HenrikB> asking for the right thing) I clarify my problem
    HenrikB> trying to use the same notation as in
    HenrikB> help(smooth.spline):


    HenrikB> I want to find the natural cubic spline f(x) such that
    HenrikB>      L(f) = \sum_{k=1}{n} w[k](y[k] - f(x[k])^2 + \lambda J(f)

    HenrikB> is minimized, where J(f) := \int f''(t)^2 dt is the
    HenrikB> quadratic roughness functional use. Since J(f) is
    HenrikB> quadratic one can find a matrix \Sigma such that
    HenrikB> J(g) = c^T{\Sigma}c where c is the vector of spline
    HenrikB> coefficients.  With J(f) defined as above the
    HenrikB> elements of \Sigma becomes

    HenrikB>   \Sigma_{ij} = \int \beta_i''(t)\beta_j''(t) dt

    HenrikB> where \beta(t) is the vector of B-spline base
    HenrikB> functions. Finally, writing the matrix W as W :=
    HenrikB> diag(\sqrt{w}) one can write L(f) as

    HenrikB>     L(f) = (y - f)^T W^2 (y - f) + \lambda c^T{\Sigma}c

    HenrikB> which is the form used in help(smooth.spline). So
    HenrikB> back to my question, using smooth.spline(), how can
    HenrikB> I get

    HenrikB> 1) the value of L(f(x)) for a my fitted (x,y) data,
    HenrikB> 2) the value of roughness penalty c^T{\Sigma}c,
    HenrikB> 3) the value of (y - f)^T W^2 (y - f)?

    HenrikB> Does smooth.spline() return any of these directly or indirectly?

it does so, partly as the `$pen.crit' and `$crit' components of
the result. Since the result also contains lambda, the residuals
and the leverages, it should be pretty straightforward to
compute all three quantities from one of them; I think
res$pen.crit == "1)".

smooth.spline is more extensively documented since R version 1.4
almost exactly using your notation above.
Are you using R version 1.4.1 and have looked at   help(smooth.spline)  ?

{try the result of  help(smooth.spline, offline = TRUE)
 since the Math will be nicer}.

By looking at the source of smooth.spline() you may learn even
more.
I hope this helps; I don't have time at the moment work at the
details.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jwilker at u.washington.edu  Tue Feb 26 18:58:19 2002
From: jwilker at u.washington.edu (John Wilkerson)
Date: Tue, 26 Feb 2002 09:58:19 -0800
Subject: [R] SetupR.exe install problem?
Message-ID: <00a001c1beef$2c8290e0$62585f80@u.washington.edu>

I am trying to download R using the SetupR.exe file from
http://cran.us.r-project.org/bin/windows/base/

I am expecting a dialogue box but all I get is what looks like an image of a
broken quicktime logo.

Thanks!

John Wilkerson

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Feb 26 19:27:21 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 26 Feb 2002 18:27:21 +0000 (GMT)
Subject: [R] SetupR.exe install problem?
In-Reply-To: <00a001c1beef$2c8290e0$62585f80@u.washington.edu>
Message-ID: <Pine.GSO.4.44.0202261815510.1742-100000@auk.stats>

On Tue, 26 Feb 2002, John Wilkerson wrote:

> I am trying to download R using the SetupR.exe file from
> http://cran.us.r-project.org/bin/windows/base/
>
> I am expecting a dialogue box but all I get is what looks like an image of a
> broken quicktime logo.

When you run the executable you do get a dialog box, provided you have an
exact copy, and provided your machine is virus-free.  SetupR.exe *is* R;
there is nothing more to download.  There is an article about this in
R-news,

http://cran.r-project.org/doc/Rnews/Rnews_2001-2.pdf

No one else has reported a problem, so it seems unlikely that the CRAN
original is corrupt.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Tue Feb 26 19:37:51 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Tue, 26 Feb 2002 19:37:51 +0100 (MET)
Subject: [R] Re: Matrix of Elements of Different Types (was    Interfacing    pre-existing C++ library from R)
In-Reply-To: <20020226142138.D29B72757@sitemail.everyone.net>
Message-ID: <Pine.OSF.3.96.1020226191311.26185A-100000@ija.csic.es>




On Tue, 26 Feb 2002, Gabor Grothendieck wrote:

> - what is the difference between my.list$dim<- and dim(my.list)<- ?

my.list$dim refers to the element called dim in my.list, it's a
piece of your information. 
dim(my.list) refers to the dimension attribute of the object
called my.list, it's an information on how the data are arranged in
the object:

> my.list <- list(a1="1",a2=c(1,2,3),a3=1:5,dim=c(2,2))
Information kept in my.list:
> my.list$a2
[1] 1 2 3
> my.list$dim
[1] 2 2

Instead, information on my.list:

> dim(my.list) <- c(2,2)
> attributes(my.list)
$dim
[1] 2 2
> attributes(my.list)$dim
[1] 2 2

The attributes of an object are organized in a list.


For a matrix it would be equivalent: one thing 
are the cell elements, another the dimension of the matrix (that is,
how you want the elements to be organized).
> x <- matrix(1:12,ncol=3)
> x[1,1]
[1] 1
> dim(x)
[1] 4 3
which is equivalent to:
> attributes(x)$dim
[1] 4 3


> - after creating the matrix with both numbers and my.lm elements in it
>   I tried to convert it to a data frame.  I tried data.frame(my.mat)
>   and as.data.frame(my.mat) but using R 1.4.0 on Windows 2000 I got
> Error in format(unlist(x), trim = trim) : first argument must be atomic
>   for both.  Is it possible to convert my.mat to a data frame?

What's the goal? I mean, what information you have and how you want it
organized? 

Agus


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uriel.scott at mirant.com  Tue Feb 26 19:47:21 2002
From: uriel.scott at mirant.com (Scott, Uriel)
Date: Tue, 26 Feb 2002 13:47:21 -0500
Subject: [R] covariance of equal date values
Message-ID: <47DE65E6F855D511950200306E02F85564A7CC@atlexs05.southernenergy.com>


Maybe try something along these lines:

Suppose the time series value vectors are x1 and x2 and the dates vectors
are
dates1 and dates2.

names(x1) <- dates1
names(x2) <- dates2

commonDates <- intersect( dates1 , dates2 )
desiredCovariance <- cov( x1[commonDates] , x2[commonDates] , use="c" )



> -----Original Message-----
> From:	Lukas Kubin [SMTP:lukas.kubin at permonik.com]
> Sent:	Tuesday, February 26, 2002 5:16 AM
> To:	r-help at stat.math.ethz.ch
> Subject:	[R] covariance of equal date values
> 
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
> 
> I need to count the covariance of two time series. Both of them contain
> the dates' vector and vector of values. But the dates are not the same. It
> means some dates of first ts are not in the second respectively. And I
> need the covariance of same dates, of course.
> Could anyone help me, please?
> Thank you.
> 
> lukas
> 
> - -- 
> Lukas Kubin
> lukas.kubin at permonik.com
> phone: 00420603836180
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.0.5 (GNU/Linux)
> Comment: For info see http://www.gnupg.org
> 
> iD8DBQE8e2B14TIZ2lmUAtsRAi3AAJ0Sd7G8MkFMPmdmfhBxDFcHo4CjaQCgjcLZ
> bbVG0SM5cMYKk497WJzsAe8=
> =N1KE
> -----END PGP SIGNATURE-----
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From csprin at brandybuck.ca.sandia.gov  Tue Feb 26 19:48:37 2002
From: csprin at brandybuck.ca.sandia.gov (Clayton Springer)
Date: Tue, 26 Feb 2002 10:48:37 -0800
Subject: [R] Logistic Regression woes
Message-ID: <20020226104837.B25538@brandybuck>

Hi All,

When I tried to do logistic regression and I got the following messages:

>  SampledW.glm.ALL <- glm (V1 ~ ., family = binomial, data = SampledW)
Warning messages: 
1: Algorithm did not converge in: (if (is.empty.model(mt)) glm.fit.null else glm.fit)(x = X, y = Y,  
2: fitted probabilities numerically 0 or 1 occurred in: (if (is.empty.model(mt)) glm.fit.null else glm.fit)(x = X, y = Y,  

The dataset in question has 2 classes and 80 features, and there are a few features which are collinear.

What could my source of trouble here?

Clayton
 
-- 
Clayton Springer, Ph. D.
Sandia National Laboratories                      csprin at ca.sandia.gov
Biosystems Research Department                    (925) 294-2143
P.O. Box 969, MS 9951                fax:         (925) 294-3020
Livermore, CA, 94551-0969

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rolf at math.unb.ca  Tue Feb 26 19:58:47 2002
From: rolf at math.unb.ca (Rolf Turner)
Date: Tue, 26 Feb 2002 14:58:47 -0400 (AST)
Subject: [R] Package ``deldir'' available from CRAN.
Message-ID: <200202261858.OAA21869@gelfand.math.unb.ca>


A package for calculating and plotting the Delaunay triangulation and
the Dirichlet/Voronoi tessellation, of a planar set of points, is now
available from CRAN.  The package is called ``deldir''.

The package consists of a port from Splus to R of a library section
which has been available for some time from the Splus software
segment of statlib.  (The Splus library section is called
``delaunay'' --- not my choice of name --- rather than ``deldir''.)

Thanks to Kurt Hornik for his patience in helping me get the
package up to (something resembling?) CRAN standards.

					cheers,

						Rolf Turner
						rolf at math.unb.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Feb 26 20:12:00 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Tue, 26 Feb 2002 14:12:00 -0500 (EST)
Subject: [R] a trick ??
In-Reply-To: <3C7B7AEF.808C7832@inrialpes.fr>
Message-ID: <Pine.LNX.4.30.0202261411020.19290-100000@bolker.zoo.ufl.edu>


A more general solution (given a list of matrices [with any
dimensions] blockdiag(a1,a2,a3) gives the block diagonal concatenation of
the matrices).  I don't know if "kronecker" can do this or not.


blockdiag <- function(...) {
  args <- list(...)
  nr <- sapply(args,nrow)
  nc <- sapply(args,ncol)
  cumnc <- cumsum(nc)
  NR <- sum(nr)
  NC <- sum(nc)
  rowfun <- function(m,zbefore,zafter) {
    cbind(matrix(0,ncol=zbefore,nrow=nrow(m)),m,
          matrix(0,ncol=zafter,nrow=nrow(m)))
  }
  ret <- rowfun(args[[1]],0,NC-ncol(args[[1]]))
  for (i in 2:length(args)) {
    ret <- rbind(ret,rowfun(args[[i]],cumnc[i-1],NC-cumnc[i]))
  }
  ret
}


On Tue, 26 Feb 2002, Olivier Martin wrote:

> Dear R users,
>
> Suppose i have an A square matrix rxr. I want to obtain a block matrix
> B (pxr,pxr) where
> the p diagonal blocks are A and  the others values are 0.
> I would like to do something like : diag(A,ncol=pr, nrow=pr)
> How can i do it ??
> Thanks in advance,
> Olivier.
>
> --
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> Olivier MARTIN
> PhD student                  phone: (33) 04 76 61 53 55
> Projet IS2                               06 08 67 93 42
> INRIA Rhone-Alpes            fax  : (33) 04 76 61 54 77
> 655, Av. de l'Europe
> Montbonnot                   e-mail:olivier.martin at inrialpes.fr
> 38334 Saint Ismier cedex
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>
>
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Feb 26 20:14:45 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 26 Feb 2002 19:14:45 +0000 (GMT)
Subject: [R] Logistic Regression woes
In-Reply-To: <20020226104837.B25538@brandybuck>
Message-ID: <Pine.GSO.4.44.0202261912260.1855-100000@auk.stats>

On Tue, 26 Feb 2002, Clayton Springer wrote:

> Hi All,
>
> When I tried to do logistic regression and I got the following messages:
>
> >  SampledW.glm.ALL <- glm (V1 ~ ., family = binomial, data = SampledW)
> Warning messages:
> 1: Algorithm did not converge in: (if (is.empty.model(mt)) glm.fit.null else glm.fit)(x = X, y = Y,
> 2: fitted probabilities numerically 0 or 1 occurred in: (if (is.empty.model(mt)) glm.fit.null else glm.fit)(x = X, y = Y,
>
> The dataset in question has 2 classes and 80 features, and there are a few features which are collinear.
>
> What could my source of trouble here?

I suspect the two groups are linearly separable.  Then there is no
MLE.  How many data points?  Linear separation is common by change for up
to 2p (here 162) data points.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pzs6 at cdc.gov  Tue Feb 26 21:35:26 2002
From: pzs6 at cdc.gov (Smith, Phil)
Date: Tue, 26 Feb 2002 15:35:26 -0500
Subject: [R] rpart query
Message-ID: <707F3F5DDB6BD511A3CF0008C7863E2377963A@mcdcatl41>

Hi R users:

I'm an old S user and have just discovered R. I'm having trouble getting
rpart() to grow a tree like tree() does in S. I've checked closely: tree()
in S grows my tree using the call:

tree(putd4313 ~  incpov1+racekid+sex+agegrp+m.agegrp , data = dat ,
subset=set )

but

rpart( putd4313 ~  incpov1+racekid+sex+agegrp+m.agegrp , data = dat ,
subset=set , method='anova' )

in R does not.

Would you kindly suggest what I'm doing wrong in R?

Thanks,
Phil Smith
CDC
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hb at maths.lth.se  Tue Feb 26 21:33:51 2002
From: hb at maths.lth.se (Henrik Bengtsson)
Date: Tue, 26 Feb 2002 21:33:51 +0100
Subject: [R] abs() on data frames?!
Message-ID: <KKEGJOGBELBHDIKPINBMOEFGCKAA.hb@maths.lth.se>

I might be wrong, but didn't the following work before R v1.4.x?

R --vanilla
> df <- data.frame(-10:10)
> abs(df)
Error in abs(df) : non-numeric argument to function

I have tried this on both Rv1.4.1 on WinMe and Rv1.4.0 on Solaris 8. I
regexp searched bugs.r-project.org on "abs" but I found nothing about this.
I can't see why abs(df) shouldn't work when sqrt(df), log(df) etc works.

Thanks

Henrik Bengtsson

Dept. of Mathematical Statistics @ Centre for Mathematical Sciences
Lund Institute of Technology/Lund University, Sweden (+2h UTC)
Office: P316, +46 46 222 9611 (phone), +46 46 222 4623 (fax)
h b @ m a t h s . l t h . s e, http://www.maths.lth.se/bioinformatics/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From andrew_perrin at unc.edu  Tue Feb 26 22:53:53 2002
From: andrew_perrin at unc.edu (Andrew Perrin)
Date: Tue, 26 Feb 2002 16:53:53 -0500 (EST)
Subject: [R] Verifying lm results
Message-ID: <Pine.LNX.4.21L1.0202261650020.7939-100000@nujoma.perrins>

Greetings.

I'm planning to make a point in a meeting tomorrow and want to make sure
I've got my ducks in a row.

I've got four distinct vectors: years, fec, gss, and nes. Years is simply
seq(1972,1996,by=4), and the other three are measures of voter
participation in US elections in those years. fec is the Federal Election
Commission's numbers, gss and nes are the General Social Survey and the
National Election Survey, respectively.

What's interesting is that they are rather different, not only in absolute
numbers but in slopes of changes.  I wanted to measure these differences,
so figured that a quick regression would do the trick. DISCLAIMER: I may
very well not know what I'm doing :).

What I did was:
summary(lm(fec ~ gss))
summary(lm(fec ~ nes))

I got adjusted r-squared values that were pretty low (.1466 and .2473,
respectively) given that, theoretically, these measure the same
phenomenon. I would appreciate any comments from the list on why this
might be an invalid test for agreement among the three surveys.

Thanks.

----------------------------------------------------------------------
Andrew J Perrin - andrew_perrin at unc.edu - http://www.unc.edu/~aperrin
 Assistant Professor of Sociology, U of North Carolina, Chapel Hill
      269 Hamilton Hall, CB#3210, Chapel Hill, NC 27599-3210 USA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tneidt at fidnet.com  Tue Feb 26 23:06:36 2002
From: tneidt at fidnet.com (Tod M. Neidt)
Date: 26 Feb 2002 16:06:36 -0600
Subject: [R] QC add-on package
Message-ID: <1014761197.615.4.camel@silica.localmosci>

Hi!

Is there a Quality Control add-on package for R? For example, xbar, s,
p, c, etc charts.

I have looked through the packages on c-ran and Omegahat as well as
doing a bit of google'ing but didn't see anything.

Regards,

tod 




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hkawakat at sk.tsukuba.ac.jp  Tue Feb 26 23:15:36 2002
From: hkawakat at sk.tsukuba.ac.jp (Hiroyuki Kawakatsu)
Date: Wed, 27 Feb 2002 07:15:36 +0900 (JST)
Subject: [R] library() error?
In-Reply-To: <Pine.GSO.4.44.0202260955240.21822-100000@auk.stats>
References: <20020226.184513.01371617.hkawakat@sk.tsukuba.ac.jp>
	<Pine.GSO.4.44.0202260955240.21822-100000@auk.stats>
Message-ID: <20020227.071536.01370184.hkawakat@sk.tsukuba.ac.jp>

At Tue, 26 Feb 2002 09:58:10, Prof Brian D Ripley wrote:

> Yes, it supposed to, but perhaps one of those packages is not up-to-date in
> its information files.  The Windows contributed section does contain some
> obselete packages.

it would nice if there were a way to find out which package is causing
the problem,

h.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Morten.Sickel at newmedia.no  Tue Feb 26 23:14:37 2002
From: Morten.Sickel at newmedia.no (Morten Sickel)
Date: Tue, 26 Feb 2002 23:14:37 +0100
Subject: [R] Cross-tabulation of data from database
Message-ID: <E16fqzL-00033S-00@gisbox.home.net>

I am quite new to R, so please bear over with me if I have problems with the 
R terminology.

I want to (try to) use R for some analyses within vegetation ecology, using 
the vegan package. I have my data in a postgresql database, and I manage to 
get them into R as a dataframe with columns for respectively: Name of the 
analysed m2, Name of the species, coverage of species in the square in %. I 
want to have the dataset transformed into a table similiar to the example 
tables in vegan, i.e, one column for each species, one row for each square. 

What I have done so far is to establish a connection to postgres using Rdbi, 
fetching the data :
> dca.raw<-dbGetResult(dcaq)
> dca.raw
                                                nornavn dekningsgrad  ruteid
1    Fjellmarik?pe                                                 1 LIASB01
2    Gulaks                                                        3 LIASB01
3    Harerug                                                       1 LIASB01
4    Brearve                                                       1 LIASB01
5    Sveve sp.                                                     5 LIASB01
6    Finnskjegg                                                   50 LIASB01
7    Setergr?urt                                                   1 LIASB01
8    Engrapp-gruppa                                                5 LIASB01
9    Legeveronika                                                  1 LIASB01
etc.
(Norwegian species names, nornavn = species, dekningsgrad= coverage 
ruteid=name of square)
then I converted it to a data frame:
> dca.frame <- data.frame(dca.raw)
and 
> dca.frame 
gives an output that seems reasonable.
so, I thought I could use xtabs and tried:
> xtabs(dekningsgrad ~ ruteid+nornavn, data=dca.frame)
which, as far as I can see, is quite analogous to the inner part of the 
example given: 
> ftable(xtabs(breaks ~ wool + tension + replicate, data = warpbreaks))

But I end up with:
Error in Summary.factor(..., na.rm = na.rm) :
        "sum" not meaningful for factors

And then,  as a still quite clueless R-user, I am stranded. I have been 
searching in the docs and mailinglist, but have not came across much 
information on xtabs and its prerequisites, I have probably stumbled into 
some quite basic R things, so any help would be greatly appreciated.

Best regards,

-- 
Morten Sickel
GIS Consultant
Dr?bak, Norway
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Feb 26 23:18:03 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 26 Feb 2002 22:18:03 +0000 (GMT)
Subject: [R] library() error?
In-Reply-To: <20020227.071536.01370184.hkawakat@sk.tsukuba.ac.jp>
Message-ID: <Pine.GSO.4.44.0202262216530.19359-100000@auk.stats>

On Wed, 27 Feb 2002, Hiroyuki Kawakatsu wrote:

> At Tue, 26 Feb 2002 09:58:10, Prof Brian D Ripley wrote:
>
> > Yes, it supposed to, but perhaps one of those packages is not up-to-date in
> > its information files.  The Windows contributed section does contain some
> > obselete packages.
>
> it would nice if there were a way to find out which package is causing
> the problem,

Yes, it would.  A nice R debugging exercise for you.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Andreas.Kiermeier at adelaide.edu.au  Wed Feb 27 00:49:11 2002
From: Andreas.Kiermeier at adelaide.edu.au (Andreas Kiermeier)
Date: Wed, 27 Feb 2002 10:19:11 +1030
Subject: [R] SetupR.exe install problem?
In-Reply-To: <00a001c1beef$2c8290e0$62585f80@u.washington.edu>
Message-ID: <NFBBINEFFCGGAIJFNAJHKEGLCFAA.Andreas.Kiermeier@adelaide.edu.au>

> I am trying to download R using the SetupR.exe file from
> http://cran.us.r-project.org/bin/windows/base/
>
> I am expecting a dialogue box but all I get is what looks like an
> image of a
> broken quicktime logo.

Dear John,

this sounds like you are trying to run SetupR.exe over the net, and the
Quicktime plugin of your browser is trying to run the executable.

I suggest that you right-click on the file and do a "save as" and save
SetupR.exe on your hard disk.  On completion of the download run the
SetupR.exe from you machine, which should work just fine.

Regards,

Andreas
---
Andreas Kiermeier
Senior Biometrician
BiometricsSA (Adelaide University/SARDI)
GPO Box 397, Adelaide, SA 5001, Australia
Email: Andreas.Kiermeier at adelaide.edu.au
WWW: http://www.BiometricsSA.adelaide.edu.au/
Ph:  +61 8 8303 6819
Fax: +61 8 8303 6761

-----------------------------------------------------------
This email message is intended only for the addressee(s)
and contains information which may be confidential and/or
copyright. If you are not the intended recipient please
do not read, save, forward, disclose, or copy the contents
of this email. If this email has been sent to you in error,
please notify the sender by reply email and delete this
email and any copies or links to this email completely and
immediately from your system. No representation is made
that this email is free of viruses. Virus scanning is
recommended and is the responsibility of the recipient.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jwilker at u.washington.edu  Wed Feb 27 02:05:31 2002
From: jwilker at u.washington.edu (John Wilkerson)
Date: Tue, 26 Feb 2002 17:05:31 -0800
Subject: [R] setupR.exe problem solved
Message-ID: <00c601c1bf2a$da40dc60$62585f80@u.washington.edu>

Thanks for the responses. As Andreas predicted, I was trying to download
from the web (left click) instead of saving the setup file to disk (right
click).

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.darnell at shrs.uq.edu.au  Wed Feb 27 06:04:25 2002
From: r.darnell at shrs.uq.edu.au (Ross Darnell)
Date: 27 Feb 2002 15:04:25 +1000
Subject: [R] lme lmList plots
Message-ID: <m0elj7wm5i.fsf@localhost.localdomain>


I am struggling generating plots to compare coefficients from lme and
lmList objects. I get this error message.

plot(compareFits(coef(bp.lisA),coef(bp.lmeA)))
Error in compareFits(coef(bp.lisA), coef(bp.lmeA)) : 
	Objects must have coefficients with same row names
In addition: Warning message: 
longer object length
	is not a multiple of shorter object length in: sort(dn1[[1]]) != sort(dn2[[1]]) 


There are some groups with one observation which are dropped from the
lmList object.  I have tried matching on the row.names but running
into trouble. Is there any other method that may work

Thanks

Ross Darnell

-- 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From isaia at econ.unito.it  Wed Feb 27 07:48:44 2002
From: isaia at econ.unito.it (E. D. Isaia)
Date: Wed, 27 Feb 2002 07:48:44 +0100
Subject: [R] replace NAs
References: <F101tt0zb8vq3UhQCAI00008a59@hotmail.com>
Message-ID: <3C7C8149.8FFA584F@econ.unito.it>

With this function you may replace the NA with the mean or median of the non
missing values

##   replace NA
##
rep.na<-function(x, my.mean=TRUE)
{
    if (!my.mean){valore<-median(x[!is.na(x)])}
    else {valore<-mean(x[!is.na(x)])}
    for (i in (1:length(x))){if (is.na(x[i])==TRUE) {x[i]<-valore}}
    x<<-x
}
##
##
i.e.

> (x<-c(NA,12,NA,14,15,17,21))
[1] NA 12 NA 14 15 17 21
> (rep.na(x))
[1] 15.8 12.0 15.8 14.0 15.0 17.0 21.0
> (rep.na(x,my.mean=FALSE))
[1] 15 12 15 14 15 17 21

Good job, isaia.



juan pablo perez wrote:

> Dear R community:
>
> it is possible to replace NA?s in a data frame with zeroes?
> what should I do?
>
> Thanks in advance
>
> Juan Pablo
>
> _________________________________________________________________
> MSN Photos es la manera m?s sencilla de compartir e imprimir sus fotos:
> http://photos.latam.msn.com/Support/WorldWide.aspx
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

--
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~ Ennio D. Isaia
~ Dep. of Statistics & Mathematics, University of Torino
~ Piazza Arbarello, 8 - 10128 Torino (Italy)
~ Phone: +39 011 670 62 51 ~~ Fax: +39 011 670 62 39
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jniesch at gwdg.de  Wed Feb 27 09:47:18 2002
From: jniesch at gwdg.de (Jens Nieschulze)
Date: Wed, 27 Feb 2002 09:47:18 +0100 (MET)
Subject: [R] Cross-tabulation of data from database
In-Reply-To: <E16fqzL-00033S-00@gisbox.home.net>
Message-ID: <Pine.SO4.4.10.10202270937350.27386-100000@ufobi7.uni-forst.gwdg.de>

On Tue, 26 Feb 2002, Morten Sickel wrote:

%I am quite new to R, so please bear over with me if I have problems with the 
%R terminology.
%
%I want to (try to) use R for some analyses within vegetation ecology, using 
%the vegan package. I have my data in a postgresql database, and I manage to 
%get them into R as a dataframe with columns for respectively: Name of the 
%analysed m2, Name of the species, coverage of species in the square in %. I 
%want to have the dataset transformed into a table similiar to the example 
%tables in vegan, i.e, one column for each species, one row for each square. 
%
%What I have done so far is to establish a connection to postgres using Rdbi, 
%fetching the data :
%> dca.raw<-dbGetResult(dcaq)
%> dca.raw
%                                                nornavn dekningsgrad  ruteid
%1    Fjellmarikåpe                                                 1 LIASB01
%2    Gulaks                                                        3 LIASB01
%3    Harerug                                                       1 LIASB01
%4    Brearve                                                       1 LIASB01
%5    Sveve sp.                                                     5 LIASB01
%6    Finnskjegg                                                   50 LIASB01
%7    Setergråurt                                                   1 LIASB01
%8    Engrapp-gruppa                                                5 LIASB01
%9    Legeveronika                                                  1 LIASB01
%etc.
%(Norwegian species names, nornavn = species, dekningsgrad= coverage 
%ruteid=name of square)
%then I converted it to a data frame:
%> dca.frame <- data.frame(dca.raw)
%and 
%> dca.frame 
%gives an output that seems reasonable.
%so, I thought I could use xtabs and tried:
%> xtabs(dekningsgrad ~ ruteid+nornavn, data=dca.frame)
%which, as far as I can see, is quite analogous to the inner part of the 
%example given: 
%> ftable(xtabs(breaks ~ wool + tension + replicate, data = warpbreaks))
%
%But I end up with:
%Error in Summary.factor(..., na.rm = na.rm) :
%        "sum" not meaningful for factors

I guess dekningsgrad (didn't know Norwegian can be this close to
German:Deckungsgrad) is read in as a factor. You can check the structure
of an object with str(), as in the example below
If this is the case you should convert it to numeric, something like
dca.raw$dekningsgrad<-as.numeric(dca.raw$dekningsgrad)
and go ahead

	JN

data(UCBAdmissions)

DF <- as.data.frame(UCBAdmissions)
> xtabs(Freq ~ Gender + Admit, DF)
        Admit
Gender   Admitted Rejected
  Male       1198     1493
  Female      557     1278
> str(DF)
`data.frame':   24 obs. of  4 variables:
 $ Admit : Factor w/ 2 levels "Admitted","Reje..": 1 2 1 2 1 2 1 2 1 2 ...
 $ Gender: Factor w/ 2 levels "Male","Female": 1 1 2 2 1 1 2 2 1 1 ...
 $ Dept  : Factor w/ 6 levels "A","B","C","D",..: 1 1 1 1 2 2 2 2 3 3 ...
 $ Freq  : num  512 313 89 19 353 207 17 8 120 205 ...


%
%And then,  as a still quite clueless R-user, I am stranded. I have been 
%searching in the docs and mailinglist, but have not came across much 
%information on xtabs and its prerequisites, I have probably stumbled into 
%some quite basic R things, so any help would be greatly appreciated.
%
%Best regards,
%
%-- 
%Morten Sickel
%GIS Consultant
%Drøbak, Norway
%-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
%r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
%Send "info", "help", or "[un]subscribe"
%(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
%_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
%

***********************************************************************
Jens Nieschulze

Institute for Forest Biometrics &	Phone: ++49-551-39-12107
Applied Computer Science		Fax  : ++49-551-39-3465
Buesgenweg 4
37077 Goettingen		E-mail: jniesch at uni-forst.gwdg.de
GERMANY				http://www.uni-forst.gwdg.de/~jniesch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Wed Feb 27 10:50:57 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 27 Feb 2002 10:50:57 +0100 (MET)
Subject: [R] replace NAs
In-Reply-To: <3C7C8149.8FFA584F@econ.unito.it>
Message-ID: <Pine.OSF.3.96.1020227104851.3516C-100000@ija.csic.es>

But, assuming you accept replacing each NA by the
global mean or median, the same operation can
be done avoiding the for(), which is always
better:

> x<-c(NA,12,NA,14,15,17,21)
> x[is.na(x)] <- median(x,na.rm=T)
> x
[1] 15 12 15 14 15 17 21

Agus

Dr. Agustin Lobo
Instituto de Ciencias de la Tierra (CSIC)
Lluis Sole Sabaris s/n
08028 Barcelona SPAIN
tel 34 93409 5410
fax 34 93411 0012
alobo at ija.csic.es


On Wed, 27 Feb 2002, E. D. Isaia wrote:

> With this function you may replace the NA with the mean or median of the non
> missing values
> 
> ##   replace NA
> ##
> rep.na<-function(x, my.mean=TRUE)
> {
>     if (!my.mean){valore<-median(x[!is.na(x)])}
>     else {valore<-mean(x[!is.na(x)])}
>     for (i in (1:length(x))){if (is.na(x[i])==TRUE) {x[i]<-valore}}
>     x<<-x
> }
> ##
> ##
> i.e.
> 
> > (x<-c(NA,12,NA,14,15,17,21))
> [1] NA 12 NA 14 15 17 21
> > (rep.na(x))
> [1] 15.8 12.0 15.8 14.0 15.0 17.0 21.0
> > (rep.na(x,my.mean=FALSE))
> [1] 15 12 15 14 15 17 21
> 
> Good job, isaia.
> 
> 
> 
> juan pablo perez wrote:
> 
> > Dear R community:
> >
> > it is possible to replace NA´s in a data frame with zeroes?
> > what should I do?
> >
> > Thanks in advance
> >
> > Juan Pablo
> >
> > _________________________________________________________________
> > MSN Photos es la manera más sencilla de compartir e imprimir sus fotos:
> > http://photos.latam.msn.com/Support/WorldWide.aspx
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> --
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> ~ Ennio D. Isaia
> ~ Dep. of Statistics & Mathematics, University of Torino
> ~ Piazza Arbarello, 8 - 10128 Torino (Italy)
> ~ Phone: +39 011 670 62 51 ~~ Fax: +39 011 670 62 39
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From alobo at ija.csic.es  Wed Feb 27 10:59:36 2002
From: alobo at ija.csic.es (Agustin Lobo)
Date: Wed, 27 Feb 2002 10:59:36 +0100 (MET)
Subject: [R] matrix lists
In-Reply-To: <Pine.WNT.4.44.0202261207240.1064-100000@tern.stats>
Message-ID: <Pine.OSF.3.96.1020226155626.7580K-100000@ija.csic.es>


Strident assertions?

My (non strident) assertion was about
matrices, not about matrix lists (which nobody said that would not exist).
In your example you omit the fact that
is.list(m) also results in TRUE:

> m <- list(a1=1:3, a2=4:6, a3=pi, a4=c("a","b","c"))
> dim(m) <- c(2,2)
> is.matrix(m)
[1] TRUE
> is.list(m)
[1] TRUE
> m[1,1]
[[1]]
NULL

So it's a matrix and it's a list.
The NULL result of m[1,1] (that I pointed to you), might be, as you say, a
bug. But in any case, objects such as m in the example
are not what most people would understand as a matrix.
It's a different type of object. And the original message said
" ...I tried to create a matrix from a list..." 
The "normal" matrix would yield FALSE for is.list():

> m <- list(a1=1:2, a2=4:5)
> m <- unlist(m)
> dim(m) <- c(2,2)
> is.matrix(m)
[1] TRUE
> is.list(m)
[1] FALSE
> m[1,1]
[1] 1



On Tue, 26 Feb 2002, Prof Brian D Ripley wrote:

> Perhaps the following example will help demonstrate that matrix lists do
> exist and do work up to a point, despite strident assertions on R-help to
> the contrary:
> 
> > m <- list(a1=1:3, a2=4:6, a3=pi, a4=c("a","b","c"))
> > dim(m) <- c(2,2)
> > m
>      [,1]        [,2]
> [1,] "Numeric,3" "Numeric,1"
> [2,] "Numeric,3" "Character,3"
> > is.matrix(m)
> [1] TRUE
> > m[[1,2]]
> [1] 3.141593
> > m[[2,2]]
> [1] "a" "b" "c"
> 
> In S m[2,2] extracts a sub-list, but that seems not to work correctly in R:
> neither does m[,2].  I am reporting that as a bug.
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 






-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauling at giub.unibe.ch  Wed Feb 27 17:18:31 2002
From: pauling at giub.unibe.ch (Andreas Pauling)
Date: Wed, 27 Feb 2002 17:18:31 +0100
Subject: [R] BATCH mode
Message-ID: <3C7D06D7.2816CBB9@giub.unibe.ch>

Dear R users
I wonder if it is possible to run R code in the batch mode like in Splus
(Splus5 scriptfile outputfile).
Any hints?

Andreas


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ozric at web.de  Wed Feb 27 17:31:29 2002
From: ozric at web.de (christian schulz)
Date: Wed, 27 Feb 2002 17:31:29 +0100
Subject: [R] return()
Message-ID: <3C7D09E1.7080309@web.de>

Hi,
i get only one value, but expect ncol values  - what's wrong ?

test <- function(){
       for (i in 1:ncol(configData))
       x <- subset(configData, Q71 == 1 & configData[,i] ==1 , select = 
configData[,i])
       y <- (dim(x)[1]/dim(configData)[1])*100
       return(y) }

thanks for advance & regards,
Christian



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From soula at ir2cbm.cnrs-mrs.fr  Wed Feb 27 17:26:12 2002
From: soula at ir2cbm.cnrs-mrs.fr (Claire Soula)
Date: Wed, 27 Feb 2002 17:26:12 +0100
Subject: [R] R and Solaris
Message-ID: <3C7D08A4.EB1508AD@ibsm.cnrs-mrs.fr>

hello,
i want to  install  R with Solaris but i have a problem with the make
(fatal error).
Did they have a solution for Solaris?

thank
Claire SOULA
soula at ibsm.cnrs-mrs.fr

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Wed Feb 27 17:39:52 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 27 Feb 2002 08:39:52 -0800 (PST)
Subject: [R] return()
In-Reply-To: <3C7D09E1.7080309@web.de>
Message-ID: <Pine.A41.4.44.0202270837020.145870-100000@homer07.u.washington.edu>

On Wed, 27 Feb 2002, christian schulz wrote:

> Hi,
> i get only one value, but expect ncol values  - what's wrong ?

You only compute one value for y and then return it. The assignment to y
is outside the loop, but in any case it would overwrite the previous value

> test <- function(){
>        for (i in 1:ncol(configData))
>        x <- subset(configData, Q71 == 1 & configData[,i] ==1 , select =
> configData[,i])
>        y <- (dim(x)[1]/dim(configData)[1])*100
>        return(y) }

My guess is that you mean something like
 test <- function(){
	y<-numeric(ncol(configData))
        for (i in 1:ncol(configData)){
          x <- subset(configData, Q71 == 1 & configData[,i] ==1 , select = configData[,i])
          y[i] <- (dim(x)[1]/dim(configData)[1])*100
        }
        return(y) }



     -thomas

Thomas Lumley			Asst. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Feb 27 17:42:58 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 27 Feb 2002 16:42:58 +0000 (GMT)
Subject: [R] R and Solaris
In-Reply-To: <3C7D08A4.EB1508AD@ibsm.cnrs-mrs.fr>
Message-ID: <Pine.GSO.4.44.0202271640390.27178-100000@auk.stats>

On Wed, 27 Feb 2002, Claire Soula wrote:

> hello,
> i want to  install  R with Solaris but i have a problem with the make
> (fatal error).
> Did they have a solution for Solaris?

It works for me.  I think we need to know more about the errors.

The pre-release tests include using

gmake/gcc/g77
gmake/gcc/f77
make/cc/f95
make/cc/f95 in 64-bit mode

on Solaris 2.7 aka 7.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Feb 27 17:47:06 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 27 Feb 2002 17:47:06 +0100
Subject: [R] R and Solaris
References: <3C7D08A4.EB1508AD@ibsm.cnrs-mrs.fr>
Message-ID: <3C7D0D8A.CFFA4251@statistik.uni-dortmund.de>



Claire Soula wrote:
> 
> hello,
> i want to  install  R with Solaris but i have a problem with the make
> (fatal error).
> Did they have a solution for Solaris?

You have to be more specific:
Version of R (we assume R-1.4.1), version of Solaris, version of your
compiler, ......

For me everything works fine on Solaris 2.7, R-1.4.1 with:

./configure
make

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Wed Feb 27 17:46:32 2002
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Wed, 27 Feb 2002 17:46:32 +0100 (MET)
Subject: [R] BATCH mode
In-Reply-To: <3C7D06D7.2816CBB9@giub.unibe.ch>
Message-ID: <Pine.LNX.4.21.0202271746100.2723-100000@artemis.imbe.med.uni-erlangen.de>

> Dear R users
> I wonder if it is possible to run R code in the batch mode like in Splus
> (Splus5 scriptfile outputfile).
> Any hints?

R BATCH myfile.R &

results in myfile.Rout

Torsten

> 
> Andreas
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Feb 27 17:48:08 2002
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 27 Feb 2002 17:48:08 +0100
Subject: [R] BATCH mode
References: <3C7D06D7.2816CBB9@giub.unibe.ch>
Message-ID: <3C7D0DC8.60CC5670@statistik.uni-dortmund.de>



Andreas Pauling wrote:
> 
> Dear R users
> I wonder if it is possible to run R code in the batch mode like in Splus
> (Splus5 scriptfile outputfile).
> Any hints?

What OS?

On Unix/Linux: R BATCH filename.R
In Windows:    Rcmd BATCH filename.R (if required tools are installed,
cp. the docs, FAQs, ...)

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Wed Feb 27 18:01:53 2002
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Wed, 27 Feb 2002 12:01:53 -0500 (EST)
Subject: [R] BATCH mode
Message-ID: <200202271701.g1RH1rG13172@cattell.psych.upenn.edu>

I don't know what SPlus does, but I run batch programs like
this:

R --vanilla < myscript.R

I got this from reading

man R

(in Unix/Linux - perhaps there is something like this in Windows).

The file myscript.R can read input and write output using commands
like read.table() or scan() and write.table() or cat().  But
I think I've had trouble getting it to display graphs.  Try it,
if that's what you want.

For an example of a batch file, see:
regupdate.R in
http://finzi.psych.upenn.edu/~baron/

Jon
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ozric at web.de  Wed Feb 27 20:58:42 2002
From: ozric at web.de (christian)
Date: Wed, 27 Feb 2002 20:58:42 +0100
Subject: [R] return()
Message-ID: <E16gA82-0008Pu-00@smtp.web.de>

Thanks, that's it and one big step for me to understand loops and functions in R
Christian

>On Wed, 27 Feb 2002, christian schulz wrote:
>
>> Hi,
>> i get only one value, but expect ncol values  - what's wrong ?
>
>You only compute one value for y and then return it. The assignment to y
>is outside the loop, but in any case it would overwrite the previous value
>
>> test <- function(){
>>        for (i in 1:ncol(configData))
>>        x <- subset(configData, Q71 == 1 & configData[,i] ==1 , select =
>> configData[,i])
>>        y <- (dim(x)[1]/dim(configData)[1])*100
>>        return(y) }
>
>My guess is that you mean something like
> test <- function(){
>	y<-numeric(ncol(configData))
>        for (i in 1:ncol(configData)){
>          x <- subset(configData, Q71 == 1 & configData[,i] ==1 , select = configData[,i])
>          y[i] <- (dim(x)[1]/dim(configData)[1])*100
>        }
>        return(y) }
>
>
>
>     -thomas
>
>Thomas Lumley			Asst. Professor, Biostatistics
>tlumley at u.washington.edu	University of Washington, Seattle
>
>



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Morten.Sickel at newmedia.no  Wed Feb 27 21:17:56 2002
From: Morten.Sickel at newmedia.no (Morten Sickel)
Date: Wed, 27 Feb 2002 21:17:56 +0100
Subject: [R] Cross-tabulation of data from database
In-Reply-To: <Pine.SO4.4.10.10202270937350.27386-100000@ufobi7.uni-forst.gwdg.de>
References: <Pine.SO4.4.10.10202270937350.27386-100000@ufobi7.uni-forst.gwdg.de>
Message-ID: <E16gBeg-0003JH-00@gisbox.home.net>

On Wednesday 27 February 2002 09:47, Jens Nieschulze wrote:
> On Tue, 26 Feb 2002, Morten Sickel (I) wrote:
>
> % I want to (try to) use R for some analyses within vegetation ecology,
> % using the vegan package. 
(snip)
> %But I end up with:
> %Error in Summary.factor(..., na.rm = na.rm) :
> %        "sum" not meaningful for factors
>
> I guess dekningsgrad (didn't know Norwegian can be this close to
> German:Deckungsgrad) is read in as a factor. 

(on a global scale, German and Norwegian are dialects:-) )
Well, the problem turned out to be exactly the opposite. but you pointed me 
in the right direction, as I didn't know about the str() function:

> str(dca.raw)
`data.frame':   2213 obs. of  3 variables:
 $ nornavn     : chr  "Fjellmarik?pe" "Gulaks" "Harerug" "Brearve" ...
 $ dekningsgrad: num  1 3 1 1 5 50 1 5 1 3 ...
 $ ruteid      : chr  "LIASB01" "LIASB01" "LIASB01" "LIASB01" ...

so a couple of factor()s fixed it for me. 

Thanks a lot!

Morten

-- 
Morten Sickel
GIS Consultant
Dr?bak, Norway
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From t.takashina at computer.org  Thu Feb 28 10:25:47 2002
From: t.takashina at computer.org (Tomomi TAKASHINA)
Date: Thu, 28 Feb 2002 18:25:47 +0900
Subject: [R] BATCH mode
In-Reply-To: <200202271701.g1RH1rG13172@cattell.psych.upenn.edu>
References: <200202271701.g1RH1rG13172@cattell.psych.upenn.edu>
Message-ID: <20020228092552.15822@mail.nikon.co.jp>

>I don't know what SPlus does, but I run batch programs like
>this:
>
>R --vanilla < myscript.R
>
>I got this from reading

If you are using one of typical shells in Unixes,
you can do like the following.

----
#!/csh -f

#
# Something for preparation
#

R --vanilla << EOF
   # Put R Code here, it's convinient that you can use macro 
   # substitutions here.
EOF


#
# Something for finalize
#


===================================
Tomomi TAKASHINA
http://homepage.mac.com/t_takashina
-----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From patrick at giub.unibe.ch  Thu Feb 28 12:11:13 2002
From: patrick at giub.unibe.ch (Patrick Buetzberger)
Date: Thu, 28 Feb 2002 12:11:13 +0100
Subject: [R] Use of results in summary
Message-ID: <3C7E1051.CC543D4D@giub.unibe.ch>

Dear R Community,

When making a summary with a vector, the result is "numeric" and I can
recall its components (like median, mean, etc.) for further use.
However, if I use summary with a matrix, the result is of mode
"character" (like  "Median : 1.2127") and I cannot extract the results
for direct further use.
Thanks for any hints,

Patrick

-------------- next part --------------
A non-text attachment was scrubbed...
Name: patrick.vcf
Type: text/x-vcard
Size: 339 bytes
Desc: Card for Patrick Buetzberger
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020228/580bca94/patrick.vcf

From paradis at isem.univ-montp2.fr  Thu Feb 28 12:09:54 2002
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Thu, 28 Feb 2002 12:09:54 +0100
Subject: [R] get deviance from glm() for given parameter values
Message-ID: <3.0.32.20020228120954.008e8570@162.38.183.200>

Dear all,

I would like to get glm() return its results (at least the deviance) for
some given parameter values (ie without actually fitting the model). I
tried to set `maxit = 0' but this does not work, eg:

> glm(y ~ x, start = c(1, 1), maxit = 0)
Error in glm.control(...) : maximum number of iterations must be > 0


Any idea?

Thanks in advance.


Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From patrick at giub.unibe.ch  Thu Feb 28 12:24:59 2002
From: patrick at giub.unibe.ch (Patrick Buetzberger)
Date: Thu, 28 Feb 2002 12:24:59 +0100
Subject: [R] Use of results in summary
Message-ID: <3C7E138B.11F20EB4@giub.unibe.ch>

Dear R Community,

When making a summary with a vector, the result is "numeric" and I can
recall its components (like median, mean, etc.) for further use.
However, if I use summary with a matrix, the result is of mode
"character" (like  "Median : 1.2127") and I cannot extract the results
for direct further use.
Thanks for any hints,

Patrick
-------------- next part --------------
A non-text attachment was scrubbed...
Name: patrick.vcf
Type: text/x-vcard
Size: 339 bytes
Desc: Card for Patrick Buetzberger
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20020228/d64bced1/patrick.vcf

From Torsten.Hothorn at rzmail.uni-erlangen.de  Thu Feb 28 12:53:51 2002
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Thu, 28 Feb 2002 12:53:51 +0100 (MET)
Subject: [R] Use of results in summary
In-Reply-To: <3C7E138B.11F20EB4@giub.unibe.ch>
Message-ID: <Pine.LNX.4.21.0202281251150.16988-100000@artemis.imbe.med.uni-erlangen.de>

> Dear R Community,
> 
> When making a summary with a vector, the result is "numeric" and I can
> recall its components (like median, mean, etc.) for further use.
> However, if I use summary with a matrix, the result is of mode
> "character" (like  "Median : 1.2127") 

not true: 

R> a <- matrix(1:16, ncol=4)
R> sa <- summary(a)
R> class(sa)
[1] "table"

the docs to `table'

R> ?table

will give you the hint that there are little helpers like
`as.data.frame.table' which may be used for further investigations.

Torsten

> and I cannot extract the results
> for direct further use.
> Thanks for any hints,
> 
> Patrick
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Thu Feb 28 13:30:11 2002
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Thu, 28 Feb 2002 12:30:11 +0000
Subject: [R] Use of results in summary
In-Reply-To: <3C7E1051.CC543D4D@giub.unibe.ch>
References: <3C7E1051.CC543D4D@giub.unibe.ch>
Message-ID: <lOOB7RATLif8Ew0S@myatt.demon.co.uk>

Patrick Buetzberger <patrick at giub.unibe.ch> writes:

>When making a summary with a vector, the result is "numeric" and I can
>recall its components (like median, mean, etc.) for further use.
>However, if I use summary with a matrix, the result is of mode
>"character" (like  "Median : 1.2127") and I cannot extract the results
>for direct further use.
>Thanks for any hints,

That is annoying ... but you can take advantage of the output format
(i.e. label separated from value by a colon) to extract what you want
using strsplit() and unlist():

        > my.matrix <-matrix(c(1,2,3,4,5,6), nrow = 2, ncol = 3)
        > my.matrix
             [,1] [,2] [,3]
        [1,]    1    3    5
        [2,]    2    4    6
        > x <- summary(my.matrix)
        > x
               X1             X2             X3      
         Min.   :1.00   Min.   :3.00   Min.   :5.00  
         1st Qu.:1.25   1st Qu.:3.25   1st Qu.:5.25  
         Median :1.50   Median :3.50   Median :5.50  
         Mean   :1.50   Mean   :3.50   Mean   :5.50  
         3rd Qu.:1.75   3rd Qu.:3.75   3rd Qu.:5.75  
         Max.   :2.00   Max.   :4.00   Max.   :6.00  
        > x[1,3]
        [1] "Min.   :5.00  "
        > as.numeric(unlist(strsplit(x[1,3], ":"))[2])
        [1] 5

BUT ... you could always apply() to extract just the summary you want:

        > apply(my.matrix, 2, median)
        [1] 1.5 3.5 5.5

And do away with summary() and the as.numeric(unlist(strsplit())[])
business altogether ... a better solution,  I think.

Hope that helps,

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Thu Feb 28 15:15:49 2002
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Thu, 28 Feb 2002 15:15:49 +0100
Subject: [R] Use of results in summary
Message-ID: <3.0.32.20020228151548.009281c0@162.38.183.200>

At 12:24 28/02/02 +0100, you wrote:
>Dear R Community,
>
>When making a summary with a vector, the result is "numeric" and I can
>recall its components (like median, mean, etc.) for further use.
>However, if I use summary with a matrix, the result is of mode
>"character" (like  "Median : 1.2127") and I cannot extract the results
>for direct further use.
>Thanks for any hints,
>
>Patrick
>
>Attachment Converted: "C:\data\_exchange\patrick1.vcf"
>

Here is a suggestion. Note that it displays a warning since it uses NAs,
this display can be avoided by switching off the appropriate option
(`options("warn" = -1)').

my.summary.matrix <- function(M)
{
    if (!is.matrix(M)) stop("object \"M\" is not a matrix")
    S <- summary(M)
    V <- unlist(strsplit(S, ":"))
    V2 <- as.numeric(V)
    Q <- V2[!is.na(V2)]
    dim(Q) <- dim(S)
    rownames(Q) <- V[is.na(V2)][1:6]
    colnames(Q) <- colnames(S)
    return(Q)
}

This function returns a numeric matrix with the summaries (min, 1st Q.,
...) as rownames, and the names of the variables as colnames. (I have not
tested it extensively.)

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ftappen at dqs.com  Thu Feb 28 16:17:34 2002
From: ftappen at dqs.com (Frank Tappen)
Date: Thu, 28 Feb 2002 10:17:34 -0500
Subject: [R] Pearson curves and CPK
Message-ID: <C3AF2ED6840FD511812800B0D0AAF11E2E5661@DQSEXCHANGE>

Hi,

My name if Frank Tappen and I work for an SPC Software Company called
DQS. A customer of ours has asked us to create Pearson Curves of their
non-normal data sets and to calculate several statistics; one of them
being CPK. I am searching for statistical routine which can do this
for us and came across "R". My question is, does "R" have the
capability of calculating CPK for non-normal distributions, in
particular Pearson curves?

Sincerely,

Frank J. Tappen

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tobias.hoevekamp at ilw.agrl.ethz.ch  Thu Feb 28 16:50:17 2002
From: tobias.hoevekamp at ilw.agrl.ethz.ch (Tobias Hoevekamp)
Date: Thu, 28 Feb 2002 16:50:17 +0100
Subject: [R] R-plots with 'complex' axis-labelling 
Message-ID: <200202281550.QAA13741@agrl.ethz.ch>

Hi there,

I want to create plots with some kind of 'complex' axis labelling of the form 
$\dot{V}$ and integrate those plots into a LaTeX document. What is the best 
way to go?

I've figured out, that the 'plotmath' commands are somewhat limited (at least 
I wasn't able to get the $\dot{V}$ generated) and that plots with 
'plotmath'-axes wouldn't export properly with pictex() or xfig(). Therefore, 
I've done the following:

o use postscript() to create myfig.eps
o pstoedit -f fig myfig.eps myfig.fig
o xfig 011214C.fig
   include $\dot{V}$
   export: Combined PS/LaTeX (both parts)
o within my latex document:
      \input{myfig.pstex_t}

Is this a proper approach?

I am looking forward to your response



Tobias

-- 
TOBIAS HOEVEKAMP 
mailto:tobias.hoevekamp at ilw.agrl.ethz.ch
http://www.vt.ilw.agrl.ethz.ch/~hoevekam
WORK: ETH Zurich, LFO E21, CH-8092 Zurich, +41 1 632 3304
HOME: Anna Heer-Str. 2,  CH-8057  Zurich,  +41 1 350 5986
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Feb 28 17:29:04 2002
From: ben at zoo.ufl.edu (Ben Bolker)
Date: Thu, 28 Feb 2002 11:29:04 -0500 (EST)
Subject: [R] R-plots with 'complex' axis-labelling 
In-Reply-To: <200202281550.QAA13741@agrl.ethz.ch>
Message-ID: <Pine.LNX.4.30.0202281123250.13824-100000@bolker.zoo.ufl.edu>


  It looks like you've got a reasonable workaround.
  From a quick glance it actually looks to me (if the dot-accent is all
that stands between you and one-step graphical output) that the "right"
thing to do is to add a dot() expression, analogous to tilde() and hat(),
to the set of available plotmath commands (plotmath's spacing isn't
flexible enough to hack a dot accent -- atop() leaves too much space).
If no-one better qualified steps forward, I could try to hack it.

  Ben

On Thu, 28 Feb 2002, Tobias Hoevekamp wrote:

> Hi there,
>
> I want to create plots with some kind of 'complex' axis labelling of the form
> $\dot{V}$ and integrate those plots into a LaTeX document. What is the best
> way to go?
>
> I've figured out, that the 'plotmath' commands are somewhat limited (at least
> I wasn't able to get the $\dot{V}$ generated) and that plots with
> 'plotmath'-axes wouldn't export properly with pictex() or xfig(). Therefore,
> I've done the following:
>
> o use postscript() to create myfig.eps
> o pstoedit -f fig myfig.eps myfig.fig
> o xfig 011214C.fig
>    include $\dot{V}$
>    export: Combined PS/LaTeX (both parts)
> o within my latex document:
>       \input{myfig.pstex_t}
>
> Is this a proper approach?
>
> I am looking forward to your response
>
>
>
> Tobias
>
>

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Feb 28 17:51:09 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 28 Feb 2002 08:51:09 -0800 (PST)
Subject: [R] get deviance from glm() for given parameter values
In-Reply-To: <3.0.32.20020228120954.008e8570@162.38.183.200>
Message-ID: <Pine.A41.4.44.0202280842470.74418-100000@homer27.u.washington.edu>

On Thu, 28 Feb 2002, Emmanuel Paradis wrote:

> Dear all,
>
> I would like to get glm() return its results (at least the deviance) for
> some given parameter values (ie without actually fitting the model). I
> tried to set `maxit = 0' but this does not work, eg:
>
> > glm(y ~ x, start = c(1, 1), maxit = 0)
> Error in glm.control(...) : maximum number of iterations must be > 0
>
>
> Any idea?
>

You can set up the linear predictor as an offset and fit the model that
way. This allows any number of coefficients to be fixed and also makes it
easy to use anova() to compare the model to models with those coefficients
estimated

Eg
 data(trees)
 m1<-glm(log(Volume)~offset(log(Height))+offset(2*log(Girth)),data=trees)

to fit a model with volume proportional to Height*Girth^2 (ie, fixing two
of the coefficients or

  cone<-log(pi/(3*24*24))
  m2<-glm(log(Volume)~offset(cone+log(Height))+offset(2*log(Girth))+0,data=trees)

fixing all three of the coefficients at the values for a right circular
cone, and then

   m3<-glm(log(Volume)~log(Girth)+log(Height),data=trees)
   anova(m2,m1,m3)


	-thomas




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jeff_hamann at hamanndonald.com  Thu Feb 28 18:07:32 2002
From: jeff_hamann at hamanndonald.com (Jeff D. Hamann)
Date: Thu, 28 Feb 2002 09:07:32 -0800
Subject: [R] trying to build matrix for tests...
Message-ID: <003001c1c07a$69381230$01000001@godzilla>

Okay, I stumped. I'm trying to build a matrix or data.frame that consists of
values by group. For example,

resid, group

574 0.536196370873122    E
575 0.93191093696265     E
576 -1.27116094894117    A
577 -1.05159666055027    A
578 0.398273458301184    D
579 0.586373126102573    E
580 0.806575304513802    E
581 0.897258393118338    E
582 0.342393324256838    D
583 0.781245511773227    E

I can get the values without the quotes, but when I try to use the matrix I
get errors like,

Error in "colnames<-"(*tmp*, value = c("resid", "group")) :
        attempt to set an attribute on NULL

and

> attach( rt )
Error in attach(rt) : attach only works for lists and data frames

the code that I use to build the matrix is :

# break up the classes into cats and test for departure from zero
signif <- symnum(fit3sls[[2]]$residuals,
  corr = FALSE,
  na = FALSE,
  cutpoints = c(-5,.1,.2,.3,.4, 5),
  symbols   =  c("A","B","C","D","E"))

rt <- noquote( cbind( fit3sls[[2]]$residuals, signif ) )
colnames(table) <- c("resid","group")

boxplot( resid ~ signif, data = rt )

which doesn't work. What do I need to do when building the matrix to make it
usable as a data set.

Thanks,
jeff.

Jeff D. Hamann
Hamann, Donald & Associates, Inc.
PO Box 1421
Corvallis, Oregon USA 97339-1421
Bus. 541-753-7333
Cell. 541-740-5988
jeff_hamann at hamanndonald.com
www.hamanndonald.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwythers at umn.edu  Thu Feb 28 17:56:31 2002
From: kwythers at umn.edu (Kirk R. Wythers)
Date: 28 Feb 2002 10:56:31 -0600
Subject: [R] no gui option on freebsd
Message-ID: <1014915391.1428.16.camel@lorax.forestry.umn.edu>

I just compiled R on my freebsd box. I don't see anything when firing it
up with -g or --gui or --gui=X11, etc... only the standard > prompt (see
below). Is that what I should expect? I'm running the kde desktop if
that matters. Any suggestions from those who use R on freebsd? 

Thanks 

Kirk 

bash-2.05a$ R 

R : Copyright 2001, The R Development Core Team 
Version 1.3.1  (2001-08-31) 

R is free software and comes with ABSOLUTELY NO WARRANTY. 
You are welcome to redistribute it under certain conditions. 
Type `license()' or `licence()' for distribution details. 

R is a collaborative project with many contributors. 
Type `contributors()' for more information. 

Type `demo()' for some demos, `help()' for on-line help, or 
`help.start()' for a HTML browser interface to help. 
Type `q()' to quit R. 
-- 
*NOTE NEW EMAIL ADDRESS*

Kirk R. Wythers				email: kwythers at umn.edu
University of Minnesota			tel: 612.625.2261
Department of Forest Resources		fax: 612.625.5212
Saint Paul, MN 55108
					

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tlumley at u.washington.edu  Thu Feb 28 18:18:02 2002
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 28 Feb 2002 09:18:02 -0800 (PST)
Subject: [R] no gui option on freebsd
In-Reply-To: <1014915391.1428.16.camel@lorax.forestry.umn.edu>
Message-ID: <Pine.A41.4.44.0202280917440.74418-100000@homer27.u.washington.edu>

On 28 Feb 2002, Kirk R. Wythers wrote:

> I just compiled R on my freebsd box. I don't see anything when firing it
> up with -g or --gui or --gui=X11, etc... only the standard > prompt (see
> below). Is that what I should expect?

Yes.

	-thomas



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kwythers at umn.edu  Thu Feb 28 18:08:53 2002
From: kwythers at umn.edu (Kirk R. Wythers)
Date: 28 Feb 2002 11:08:53 -0600
Subject: [R] no gui option on freebsd?
Message-ID: <1014916133.1428.21.camel@lorax.forestry.umn.edu>

I just compiled R on my freebsd box (version 1.3.1). I don't see
anything when firing it up with -g or --gui or --gui=X11, etc... only
the standard > prompt. Is that what I should expect? or am missing
something here? I'm running the kde desktop if that matters. Any
suggestions from those who use R on freebsd? 

Thanks 

Kirk
-- 
*NOTE NEW EMAIL ADDRESS*

Kirk R. Wythers				email: kwythers at umn.edu
University of Minnesota			tel: 612.625.2261
Department of Forest Resources		fax: 612.625.5212
Saint Paul, MN 55108
					

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From apjaworski at mmm.com  Thu Feb 28 19:58:28 2002
From: apjaworski at mmm.com (apjaworski@mmm.com)
Date: Thu, 28 Feb 2002 12:58:28 -0600
Subject: [R] R help search engine
Message-ID: <OFEC2B95E8.DED05290-ON86256B6E.0061AE17@mmm.com>

I recently "discovered" how useful the search engine & keywords portion of
R help can be.  I often remember that I could do certain things in R but do
not quite remember the right commands.  The keywords by topic section of
the search engine is particularly useful for that.  It incorporates
information from installed packages which makes it even more useful.

I just ran into the following problem.  I was looking at the rug command -
the one that adds a rug to a plot.  Then, out of curiosity, I went to the
keywords by topic section of help and tried to locate rug there.  I
expected it to be in the graphics/aplot but instead I found it in hplot.  I
know this sounds like nitpicking, but the description of the rug is
entitled "Add a Rug to a Plot" and the description of, say, arrows is
entitled "Add Arrows to a Plot", but the latter is in aplot and the former
in hplot.

I found the actual index file in $R_HOME/doc/html/search/index.txt.  This
file seems to be (re)generated from the CONTENTS files for each library
every time a package is installed or help.start function is called with
update=TRUE.  So a simple solution is simply to edit the CONTENTS file
changing hplot keyword to aplot.

I suppose the choice of keywords is up the package author/maintainer.  It
seems like in the case of rug it was just a simple mistake.

Sorry for a longish post about such a trivial matter.  The more I work with
R the more amazed I am how well things are thought out.  I just wanted to
share this with the group.

Andy

__________________________________
Andy Jaworski
Engineering Systems Technology Center
3M Center, 518-1-01
St. Paul, MN 55144-1000
-----
E-mail: apjaworski at mmm.com
Tel:  (651) 733-6092
Fax:  (651) 736-3122

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Feb 28 20:16:20 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Feb 2002 20:16:20 +0100
Subject: [R] R help search engine
In-Reply-To: <OFEC2B95E8.DED05290-ON86256B6E.0061AE17@mmm.com>
References: <OFEC2B95E8.DED05290-ON86256B6E.0061AE17@mmm.com>
Message-ID: <x24rk1e7sr.fsf@blueberry.kubism.ku.dk>

apjaworski at mmm.com writes:

[rug() has "hplot" keyword]

> I suppose the choice of keywords is up the package author/maintainer.  It
> seems like in the case of rug it was just a simple mistake.
> 
> Sorry for a longish post about such a trivial matter.  The more I work with
> R the more amazed I am how well things are thought out.  I just wanted to
> share this with the group.

Changed to "aplot" in the development version.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lorenmc at socrates.berkeley.edu  Thu Feb 28 20:27:54 2002
From: lorenmc at socrates.berkeley.edu (loren mccarter)
Date: Thu, 28 Feb 2002 11:27:54 -0800 (PST)
Subject: [R] no gui option on freebsd
In-Reply-To: <1014915391.1428.16.camel@lorax.forestry.umn.edu>
Message-ID: <Pine.GSO.4.40.0202281121160.242-100000@socrates.Berkeley.EDU>

Since I've been using R on my FreeBSD boxes (from version 2.8 to 4.5),
I've never seen anything different than what you're seeing when I invoke
R at a simple xterm. Of course, once I invoke a command that requires a
X11() device (e.g., plot()) then a graphical window shows up. I use R
inside an Emacs ESS buffer so I've never thought much about the
non-graphical aspects of R on plain xterm. Is this different on Linux? I
know the MS Windows version looks quite different.

Loren



On 28 Feb 2002, Kirk R. Wythers wrote:

> I just compiled R on my freebsd box. I don't see anything when firing it
> up with -g or --gui or --gui=X11, etc... only the standard > prompt (see
> below). Is that what I should expect? I'm running the kde desktop if
> that matters. Any suggestions from those who use R on freebsd?
>
> Thanks
>
> Kirk
>
> bash-2.05a$ R
>
> R : Copyright 2001, The R Development Core Team
> Version 1.3.1  (2001-08-31)
>
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type `license()' or `licence()' for distribution details.
>
> R is a collaborative project with many contributors.
> Type `contributors()' for more information.
>
> Type `demo()' for some demos, `help()' for on-line help, or
> `help.start()' for a HTML browser interface to help.
> Type `q()' to quit R.
> --
> *NOTE NEW EMAIL ADDRESS*
>
> Kirk R. Wythers				email: kwythers at umn.edu
> University of Minnesota			tel: 612.625.2261
> Department of Forest Resources		fax: 612.625.5212
> Saint Paul, MN 55108
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lockwood at rand.org  Thu Feb 28 20:46:16 2002
From: lockwood at rand.org (J.R. Lockwood)
Date: Thu, 28 Feb 2002 14:46:16 -0500 (EST)
Subject: [R] R-plots with 'complex' axis-labelling 
In-Reply-To: <200202281550.QAA13741@agrl.ethz.ch>
Message-ID: <Pine.LNX.4.33.0202281420490.29505-100000@penguin.rand.org>

> 
> o use postscript() to create myfig.eps
> o pstoedit -f fig myfig.eps myfig.fig
> o xfig 011214C.fig
>    include $\dot{V}$
>    export: Combined PS/LaTeX (both parts)
> o within my latex document:
>       \input{myfig.pstex_t}
> 
> Is this a proper approach?

It would probably be easier to do step 1 as you specified, then
include the EPS into latex (using the \includegraphics command in the
graphicx package) and "fancy" the labeling using either pure latex, or
better yet, pstricks.  If only you will be the primary consumer of the
resulting latex file, then this will be sufficient.  If the file will
be submitted to a journal or some other source requiring a more
"vanilla" set of latex commands (e.g. no pstricks), you can create a
separate latex document whose sole purpose is to add the labeling that
you need and create an EPS that can be integrated into other latex
documents using more standard commands.

J.R. Lockwood
412-683-2300 x4941
lockwood at rand.org
http://www.rand.org/methodology/stat/members/lockwood/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From richmond at saintmarys.edu  Thu Feb 28 22:27:13 2002
From: richmond at saintmarys.edu (David A Richmond)
Date: Thu, 28 Feb 2002 16:27:13 -0500 (EST)
Subject: [R] postscript output sideways
Message-ID: <Pine.GSO.4.20.0202281559310.14347-100000@jade.saintmarys.edu>

Hi,
	My plots are all coming out sideways! If I do the following:

> postscript("plot1.ps",horizontal=TRUE,paper="letter")
> plot(ns,meanpl/maxvec)
> dev.off(2)

The output file has "ns" on the left and the "meanpl/maxvec" on the top!
It doesn't matter if I change the horizontal flag to FALSE. 

I have noticed, however that If I create my own graph from scratch, using
frame(), box(), plot.window(), axis(), and points(), the resulting
postscript output is oriented correctly. Unfortuneately, I don't know how
to add axis labels (like "ns" and "meanpl/maxvec") this way.

So I have 2 questions: 1) can I get plot to output to postscript
normally? or 2) how do I add axis labels and other text to a graph that
I've created from scratch?

dave

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|David Richmond                It works on a          |      
+ Dept. of Sociology          complex scientific      + 
|Saint Mary's College          principle, known as    |  
+ Notre Dame, IN 46556               "pot luck."      +
|574-284-4517                    - The Doctor         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tebaldi at rap.ucar.edu  Thu Feb 28 23:01:14 2002
From: tebaldi at rap.ucar.edu (Claudia Tebaldi)
Date: Thu, 28 Feb 2002 15:01:14 -0700 (MST)
Subject: [R] multiple replications of a ts
Message-ID: <Pine.GSO.4.05.10202281454420.3479-100000@virga.rap.ucar.edu>

Hello

I have several replicates (30) of a -- short --  time series (19 obs) and
I'd like to estimate the first few lags autocorrelation function. 
Is there an immediate way of handling multiple realizations when computing
the ACF in R?
I'm using R-1.4.1 on a Linux Debian box.
Thanks in advance  

claudia

-------------------------------------------------------------------------
claudia tebaldi                                  NCAR  RAP
project scientist                                P.O. Box 3000
(303) 497-2830                                   Boulder, CO 80307
--------------------------------------------------------------------------




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eglen at pcg.wustl.edu  Thu Feb 28 22:58:09 2002
From: eglen at pcg.wustl.edu (Stephen Eglen)
Date: Thu, 28 Feb 2002 15:58:09 -0600
Subject: [R] How to turn off the beep made by locator()?
Message-ID: <15486.42993.117935.990321@mosaics.wustl.edu>

Hi, 

[I'm Using redhat linux 7.1 with R-1.4.1 rpms.]

Last summer, Henrik Bengtsson wrote to R-help:
> Is there a way to turn of the (annoying) beep that occurs when one calls the
> locator() command and clicks the mouse. Try
>
> plot(0)
> locator(n=10)
>
> I am running Rterm on WindowsMe/Cygwin bash and I don't know if this is the
> case on other platforms.

 (from http://maths.newcastle.edu.au/~rking/R/help/01c/0269.html)

to which Brian Ripley replied:
> It's a feature of the windows() device. Windows is fond of beeping, and I
> just mute the sound.

I get the same beep on my Linux machine even when I execute the shell
command "xset b off" (this is enough to silence the beeps from
Emacs).  Does anyone else have this problem of silencing locator() and
identify()?  If "xset b off" silences locator() for other linux users,
then it is probably just my local setup at fault.

If other people can silence the XBell on Unix, I'd be grateful to know
how.  Otherwise, I'll volunteer to submit a patch that allows the bell
to be switched off (perhaps using GetOption("bell")) at least for the
devices (X11, GNOME) that I should be able to test.  Or, perhaps the
easiest things would be to remove the few lines that make R beep in
response to the mouse clicks, unless people think them useful.  (bells
are also used by data.entry() -- see dataentry.c).  I've also made a
pass through the win32 and GNOME drivers, and think I can see where
the beep is generated in those drivers.

/src/modules/X11/devX11.c, line 1726:
  		       /* Make a beep! Was print "\07", but that 
                          messes up some terminals. */
                    XBell(display, X_BELL_VOLUME);
		    XSync(display, 0);


Best wishes, 
Stephen Eglen




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Feb 28 23:22:55 2002
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Feb 2002 23:22:55 +0100
Subject: [R] How to turn off the beep made by locator()?
In-Reply-To: <15486.42993.117935.990321@mosaics.wustl.edu>
References: <15486.42993.117935.990321@mosaics.wustl.edu>
Message-ID: <x2664hs0u8.fsf@blueberry.kubism.ku.dk>

Stephen Eglen <eglen at pcg.wustl.edu> writes:

> If other people can silence the XBell on Unix, I'd be grateful to know
> how.  Otherwise, I'll volunteer to submit a patch that allows the bell
> to be switched off (perhaps using GetOption("bell")) at least for the
> devices (X11, GNOME) that I should be able to test.  Or, perhaps the
> easiest things would be to remove the few lines that make R beep in
> response to the mouse clicks, unless people think them useful.  (bells
> are also used by data.entry() -- see dataentry.c).  I've also made a
> pass through the win32 and GNOME drivers, and think I can see where
> the beep is generated in those drivers.
> 
> /src/modules/X11/devX11.c, line 1726:
>   		       /* Make a beep! Was print "\07", but that 
>                           messes up some terminals. */
>                     XBell(display, X_BELL_VOLUME);
> 		    XSync(display, 0);

A quick glance at the man page for XBell suggests that to get the
volume to be identical to that of the keyboard, we should set
X_BELL_VOLUME to 0, rather than 50 as it is now. The relation is
supposed to be (for percent >= 0)

              base - [(base * percent) / 100] + percent

which you may note gives a positive value even when base is zero.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Feb 28 23:33:39 2002
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 28 Feb 2002 22:33:39 +0000 (GMT Standard Time)
Subject: [R] multiple replications of a ts
In-Reply-To: <Pine.GSO.4.05.10202281454420.3479-100000@virga.rap.ucar.edu>
Message-ID: <Pine.WNT.4.44.0202282231570.768-100000@tern.stats>

On Thu, 28 Feb 2002, Claudia Tebaldi wrote:

> Hello
>
> I have several replicates (30) of a -- short --  time series (19 obs) and
> I'd like to estimate the first few lags autocorrelation function.
> Is there an immediate way of handling multiple realizations when computing
> the ACF in R?

I'm not sure I understand, but I if I do would call acf(x[,i], plot=FALSE)
and average them (a weighted average if they differed in length).

> I'm using R-1.4.1 on a Linux Debian box.
> Thanks in advance
>
> claudia
>
> -------------------------------------------------------------------------
> claudia tebaldi                                  NCAR  RAP
> project scientist                                P.O. Box 3000
> (303) 497-2830                                   Boulder, CO 80307
> --------------------------------------------------------------------------
>
>
>
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


