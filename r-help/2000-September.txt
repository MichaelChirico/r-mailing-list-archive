From thomas at biostat.washington.edu  Fri Sep  1 00:03:50 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 31 Aug 2000 15:03:50 -0700 (PDT)
Subject: [R] make problem
In-Reply-To: <200008312152.QAA28519@uhddx01.dt.uh.edu>
Message-ID: <Pine.GSO.4.21.0008311459420.11341-100000@atlas.biostat.washington.edu>

On Thu, 31 Aug 2000, Erin Hodgess wrote:

> Dear R People:
> 
> I have the source for R version 1.1.1
> on a UNIX system alpha-dec-osf4.
> 
> The ./configure works fine.
> 
> When I do the make, it works fine until it tries to build the 
> package tcklc.
> 
> I get an error of 
> Tk_Saf_Init not identified

One possibility is that your version of Tk is too old. The tkConfig.sh
file (perhaps in /usr/local/lib or /usr/lib or /opt/lib) will have version
information.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Fri Sep  1 00:23:27 2000
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Thu, 31 Aug 2000 17:23:27 -0500 (CDT)
Subject: [R] make problem
Message-ID: <200008312223.RAA05565@uhddx01.dt.uh.edu>

Dear R People:

Sorry about the previous message.  Here is the exact output:


building package `tcltk'
../../../library/tcltk/R/tcltk is unchanged
gcc -I../../../../include -I/usr/local/include  -I/usr/local/include -mieee    -
g -O2 -c tcltk.c -o tcltk.o
tcltk.c: In function `tcltk_init':
tcltk.c:204: `Tk_SafeInit' undeclared (first use in this function)
tcltk.c:204: (Each undeclared identifier is reported only once
tcltk.c:204: for each function it appears in.)
*** Exit 1

Any help, as usual, is much much much appreciated.

Sincerely,
Erin M. Hodgess, Ph.D.
Associate Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
One Main Street 
Houston, TX 77002
e-mail: hodgess at uhddx01.dt.uh.edu


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From John.Strumila at team.telstra.com  Fri Sep  1 01:03:35 2000
From: John.Strumila at team.telstra.com (Strumila, John)
Date: Fri, 1 Sep 2000 10:03:35 +1100 
Subject: [R] cant find "get"?
Message-ID: <61411576E951D211AF330008C7245DD90669950B@ntmsg0005.corpmail.telstra.com.au>

howdy gurus,

I was wondering if someone could help me with what looks like a simple
problem.

I found this great function called "get" which allows me to work out my
object name at run time.  Unfortunately it's not letting me assign values
with it.  What am I doing wrong?

thanks,
John Strumila

>   names(get(file.name))[1]
[1] "X14.59.23"
>   names(get(file.name))[1] <- "date"
Error: couldn't find function "get<-"
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Sep  1 01:32:28 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 31 Aug 2000 16:32:28 -0700 (PDT)
Subject: [R] cant find "get"?
In-Reply-To: <61411576E951D211AF330008C7245DD90669950B@ntmsg0005.corpmail.telstra.com.au>
Message-ID: <Pine.GSO.4.21.0008311610560.11341-100000@atlas.biostat.washington.edu>

On Fri, 1 Sep 2000, Strumila, John wrote:

> howdy gurus,
> 
> I was wondering if someone could help me with what looks like a simple
> problem.
> 
> I found this great function called "get" which allows me to work out my
> object name at run time.  Unfortunately it's not letting me assign values
> with it.  What am I doing wrong?
> 
> thanks,
> John Strumila
> 
> >   names(get(file.name))[1]
> [1] "X14.59.23"
> >   names(get(file.name))[1] <- "date"
> Error: couldn't find function "get<-"

When you type 
	names(fred)[1]<-"barney"
it looks like a normal assignment, but complicated things are happening
under the hood.  R actually goes and calls the functions "names<-" and
"[<-" to handle what look like function calls on the left hand side.

When you try to evaluate
	somefunction(x)<-y
R goes to look for a function "somefunction<-" that says how to set the
values of "somefunction"

In your case, R is looking for a function "get<-" that would somehow
change the value to be returned by get(file.name) in the future. You can't
do that.  

In any case get(file.name) doesn't return the object whose name is in
file.name, it returns a copy of that object. Changing the copy would get
you nowhere. I could tell you how to create a reference to the object,
rather than to a copy of the object, and manipulate that, but that is well
known to cause seven years bad luck.

What you want to do is
   eval(substitute(names(x)[1]<-"date",list(x=as.name(file.name))))
except that you would probably be better off just finding out what your
variable was called and using its name.  This sort of double indirection
is just too complicated.


	-the person who is answering this email

My full name
and affiliation (for information only)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From John.Strumila at team.telstra.com  Fri Sep  1 01:55:25 2000
From: John.Strumila at team.telstra.com (Strumila, John)
Date: Fri, 1 Sep 2000 10:55:25 +1100 
Subject: [R] cant find "get"?
Message-ID: <61411576E951D211AF330008C7245DD906699519@ntmsg0005.corpmail.telstra.com.au>

thanks heaps Thomas,

I played with substitute, eval and deparse but it would have taken me a
month of sundays to figure this one out.  I'm still trying to understand
your explanation!

I reckon this R-list and it's contributors are great.

thanks,
John Strumila

-----Original Message-----
From: Thomas Lumley [mailto:thomas at biostat.washington.edu]
Sent: Friday, 1 September 2000 9:32
To: Strumila, John
Cc: r-help at stat.math.ethz.ch
Subject: Re: [R] cant find "get"?

On Fri, 1 Sep 2000, Strumila, John wrote:

> howdy gurus,
> 
> I was wondering if someone could help me with what looks like a simple
> problem.
> 
> I found this great function called "get" which allows me to work out my
> object name at run time.  Unfortunately it's not letting me assign values
> with it.  What am I doing wrong?
> 
> thanks,
> John Strumila
> 
> >   names(get(file.name))[1]
> [1] "X14.59.23"
> >   names(get(file.name))[1] <- "date"
> Error: couldn't find function "get<-"

...

What you want to do is
   eval(substitute(names(x)[1]<-"date",list(x=as.name(file.name))))
except that you would probably be better off just finding out what your
variable was called and using its name.  This sort of double indirection
is just too complicated.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eac at ma.adfa.edu.au  Fri Sep  1 02:18:20 2000
From: eac at ma.adfa.edu.au (Ted Catchpole)
Date: Fri, 1 Sep 2000 11:18:20 +1100
Subject: [R] What happenes with R-gnome?
In-Reply-To: <005101c0136f$eaa344c0$0201a8c0@Workgroup>
References: <XFMail.000831182253.plummer@iarc.fr> <005101c0136f$eaa344c0$0201a8c0@Workgroup>
Message-ID: <0009011125500B.03286@stat>

My half-cent's worth:

There's something to be said for the Matlab "handle graphics" paradigm, in
that it lets you create graphs much as in R, but then allows the interactive
editing of a graph, from the command line or via the gui, after it has been
drawn. (See 
http://www.mathworks.com/products/matlab/functions/graphics.shtml.)

Ted.
----
On Fri, 01 Sep 2000, you wrote: > I've studied Artificial intelligence a
bit and what seems the most important > hurdle in the interaction of
human-machine at this time is what is called > "common sense" or how to
implement it. We human spent a lifetime learning > and treating trivial stuff
that we take for granted in a way. When we try to > create an application to
recognize natural language for example, we find > ourselves dealing with
complicated math, stats and other esoteric algorithms > and they all lack the
capacity to handle trivial stuff as we routinely do. > Although we achieve a
certain degree of success in a few very specific and > narrow fields like in
medicine for example. These applications pale in > comparison to what our
"lowly" * brain can do in a blink of an eye. >  > It seem to me like we'll have
to invent machines that can learn by > themselves (at least this common sense
stuff)before we can see my dream come > true. I can even say that 20-30 years
may a bit optimistic unless a kind of > Einstein of the knowledge reveal itself
relatively soon! >  > * In terms of speed
> 
> Regards
> 
> Yves Gauvreau
> 
> ----- Original Message -----
> From: "Martyn Plummer" <plummer at iarc.fr>
> To: "Yves Gauvreau" <cyg at sympatico.ca>
> Cc: "R mailing list" <r-help at stat.math.ethz.ch>; "R mailing list"
> <r-help at stat.math.ethz.ch>; "Paul E Johnson" <pauljohn at ukans.edu>; "Douglas
> Bates" <bates at stat.wisc.edu>; "Peter Dalgaard BSA"
> <p.dalgaard at biostat.ku.dk>
> Sent: Thursday, August 31, 2000 12:22 PM
> Subject: Re: [R] What happenes with R-gnome?
> 
> 
> > On 31-Aug-00 Yves Gauvreau wrote:
> > > I dream of the day when systems and applications will isolate completely
> the
> > > user from the specifics of the implementations. In other words the
> systems
> > > and applications would be sufficiently "intelligent" to interpret what
> the
> > > user ask verbally, ask for clarifications if necessary, query the
> pertinent
> > > data, perform whatever task are necessary and produce the output of the
> > > query in a form suitable for the problem at end and some.
> >
> > That sounds a lot like my job, or a large part of it anyway.
> >
> > > I'm still young maybe in 20-30 years will have something à la StarTrek.
> >
> > I hope not.
> >
> > Martyn.
> >
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-- 
Dr E.A. (Ted) Catchpole                 
School of Maths & Stats                Honorary Senior Research Fellow
University College, UNSW               Institute of Maths & Stats      
Australian Defence Force Academy       University of Kent at Canterbury
Canberra, ACT 2600, Australia          Canterbury CT2 7NF, England
e-catchpole at adfa.edu.au                E.A.Catchpole at ukc.ac.uk
www.ma.adfa.edu.au/~eac          
fax: +61 2 6268 8886
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Shawn.Lee at korea.asml.nl  Fri Sep  1 04:35:02 2000
From: Shawn.Lee at korea.asml.nl (Shawn Lee)
Date: Fri, 01 Sep 2000 11:35:02 +0900
Subject: [R]How to make the plot when x columns are string list?
Message-ID: <39AF15D6.A28A8657@korea.asml.nl>

Dear R users:

I have to plot the data set like the following.
x <- c("05/27/00","06/03/00","08/22/00",...)
y <- c(10,20,15,...)

But plot(x,y,...) do not work!!
How can i get the proper plot in this kinds of situation.
Sorry for kinds of simple question!!

best regards,
Shawn Lee
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Shawn.Lee.vcf
Type: text/x-vcard
Size: 298 bytes
Desc: Card for Shawn Lee
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000901/c1dd0ecc/Shawn.Lee.vcf

From maj at waikato.ac.nz  Fri Sep  1 06:32:24 2000
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Fri, 01 Sep 2000 16:32:24 +1200
Subject: [R] Levene's test
In-Reply-To: <200008312223.RAA05565@uhddx01.dt.uh.edu>
Message-ID: <200009010433.QAA24486@gosset.stats.waikato.ac.nz>

I'm teaching one-way anova at the moment and throwing in a few snippets of
R on the way. I'd like to present a modified version of Levene's test for
homogeneity of variance between groups and give some R code for it.

The test that I was thinking of basically does an anova on a modified
response variable that is the absolute value of the difference between an
observation and the median of its group (more robust than Levene's original
choice, the mean).

A colleague has suggested an approach involving the functions 
ord() split() sapply() as.vector() rep()
which I have not quite got working yet. Even if I do get it working it
seems to make fairly heavy weather of would I would have thought was a
simple enough transformation. I'd like something that I could show my
students without discouraging them!

Suggestions gratefully received!

Murray Jorgensen


Murray Jorgensen,  Department of Statistics,  U of Waikato, Hamilton, NZ
-----[+64-7-838-4773]---------------------------[maj at waikato.ac.nz]-----
"Doubt everything or believe everything:these are two equally convenient
strategies. With either we dispense with the need to think."
http://www.stats.waikato.ac.nz/Staff/maj.html          - Henri Poincare'

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep  1 08:03:06 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 1 Sep 2000 07:03:06 +0100 (BST)
Subject: [R] Levene's test
In-Reply-To: <200009010433.QAA24486@gosset.stats.waikato.ac.nz>
Message-ID: <Pine.GSO.4.05.10009010647500.20512-100000@auk.stats>

On Fri, 1 Sep 2000, Murray Jorgensen wrote:

> I'm teaching one-way anova at the moment and throwing in a few snippets of
> R on the way. I'd like to present a modified version of Levene's test for
> homogeneity of variance between groups and give some R code for it.
> 
> The test that I was thinking of basically does an anova on a modified
> response variable that is the absolute value of the difference between an
> observation and the median of its group (more robust than Levene's original
> choice, the mean).
> 
> A colleague has suggested an approach involving the functions 
> ord() split() sapply() as.vector() rep()
> which I have not quite got working yet. Even if I do get it working it
> seems to make fairly heavy weather of would I would have thought was a
> simple enough transformation. I'd like something that I could show my
> students without discouraging them!
> 
> Suggestions gratefully received!

Is this the sort of thing you want?

Levene <- function(y, group)
{
    group <- as.factor(group)  # precautionary
    meds <- tapply(y, group, median)
    resp <- abs(y - meds[group])
    anova(lm(resp ~ group))[1, 4:5]
}

> data(warpbreaks)
> attach(warpbreaks)
> Levene(breaks, tension)
      F value  Pr(>F)
group   2.818 0.06905

I could (and probably would) dress it up with a formula interface,
but that would obscure the simplicity of the calculation.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep  1 08:18:00 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 1 Sep 2000 07:18:00 +0100 (BST)
Subject: [R]How to make the plot when x columns are string list?
In-Reply-To: <39AF15D6.A28A8657@korea.asml.nl>
Message-ID: <Pine.GSO.4.05.10009010710030.20512-100000@auk.stats>

On Fri, 1 Sep 2000, Shawn Lee wrote:

> Dear R users:
> 
> I have to plot the data set like the following.
> x <- c("05/27/00","06/03/00","08/22/00",...)
> y <- c(10,20,15,...)
> 
> But plot(x,y,...) do not work!!
> How can i get the proper plot in this kinds of situation.

You need to tell R that x is a date (or at least I presume that is what you
intend).  There are a couple of ways to do this, using packages date and
chron (both on CRAN). Here is one using chron.

library(chron)
x <- dates(c("05/27/00","06/03/00","08/22/00"))
y <- c(10,20,15)
plot(x, y)

which will work if you were in the USA and your first string means 2000 May
27, 2000-05-27 in ISO 8601 date format.  (R 1.2.0 will have facilties to
read those as well as US and European shorthands.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Sep  1 08:27:56 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 01 Sep 2000 08:27:56 +0200
Subject: [R]How to make the plot when x columns are string list?
References: <39AF15D6.A28A8657@korea.asml.nl>
Message-ID: <39AF4C6C.2C2ED665@statistik.uni-dortmund.de>

Shawn Lee wrote:
> 
> Dear R users:
> 
> I have to plot the data set like the following.
> x <- c("05/27/00","06/03/00","08/22/00",...)
> y <- c(10,20,15,...)
> 
> But plot(x,y,...) do not work!!
> How can i get the proper plot in this kinds of situation.
> Sorry for kinds of simple question!!

You should try the package "date", available at CRAN.
Example:

 library(date)
 x <- as.date(c("05/27/2000","06/03/2000","08/22/2000"))
 y <- c(10,20,15)
 plot(x,y)

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Sep  1 08:30:24 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 1 Sep 2000 08:30:24 +0200 (CEST)
Subject: [R] cant find "get"?
In-Reply-To: <61411576E951D211AF330008C7245DD90669950B@ntmsg0005.corpmail.telstra.com.au>
References: <61411576E951D211AF330008C7245DD90669950B@ntmsg0005.corpmail.telstra.com.au>
Message-ID: <14767.19712.791519.236949@gargle.gargle.HOWL>

>>>>> "JohnS" == Strumila, John <John.Strumila at team.telstra.com> writes:


    JohnS> I found this great function called "get" which allows me to work
    JohnS> out my object name at run time.  Unfortunately it's not letting
    JohnS> me assign values with it.  What am I doing wrong?

     >> names(get(file.name))[1]
     [1] "X14.59.23"
     >> names(get(file.name))[1] <- "date"
     Error: couldn't find function "get<-"

in spite of Thomas' excellent explanation about  `` foo(x) <- .. ''
I wonder if John does not just need to be told
  
     ``	?assign ''

E.g.
	myvar <- "X14.59.23"
	assign(myvar, list("some text", date = date()))

	get(myvar) ## i.e.	X14.49.23	

gives
 [[1]]
 [1] "some text"

 $date
 [1] "Fri Sep  1 08:29:45 2000"


Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Sep  1 09:54:59 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Sep 2000 09:54:59 +0200
Subject: [R] Levene's test
In-Reply-To: Prof Brian D Ripley's message of "Fri, 1 Sep 2000 07:03:06 +0100 (BST)"
References: <Pine.GSO.4.05.10009010647500.20512-100000@auk.stats>
Message-ID: <x2ya1ca6ng.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> Levene <- function(y, group)
> {
>     group <- as.factor(group)  # precautionary
>     meds <- tapply(y, group, median)
>     resp <- abs(y - meds[group])
>     anova(lm(resp ~ group))[1, 4:5]
> }
> 
> > data(warpbreaks)
> > attach(warpbreaks)
> > Levene(breaks, tension)
>       F value  Pr(>F)
> group   2.818 0.06905
> 
> I could (and probably would) dress it up with a formula interface,
> but that would obscure the simplicity of the calculation.

Cough. Is that really the calculation of the P value in Levene's test?
Just close your eyes an pretend that F is F distributed? Not that I
don't believe that it might be the case, I just sort of expected that
something more elaborate was required.

I've been wondering whether we should have L's test, if for no other
reason then because SPSS uses it by default. 

Hmm. So we have a test (Bartlett's) which is known to be optimal under
Normal theory, then SPSS goes and replaces with a test which uses an
arbitrary quantity, known to be suboptimal in the Normal case, and
tests a hypothesis that isn't actually what it purports to be
(identical variances does not follow from identical mean absolute
residuals), and to top it off uses a certainly incorrect calculation
of its p-value. Well, yes they would, wouldn't they?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep  1 11:02:58 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 1 Sep 2000 10:02:58 +0100 (BST)
Subject: [R] Levene's test
Message-ID: <200009010902.KAA08806@toucan.stats.ox.ac.uk>

> From: Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>
> Date: 01 Sep 2000 09:54:59 +0200
> 
> Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

Important omission: specification from Murray Jorgensen

   The test that I was thinking of basically does an anova on a modified
   response variable that is the absolute value of the difference between an
   observation and the median of its group (more robust than Levene's original
   choice, the mean).

> > Levene <- function(y, group)
> > {
> >     group <- as.factor(group)  # precautionary
> >     meds <- tapply(y, group, median)
> >     resp <- abs(y - meds[group])
> >     anova(lm(resp ~ group))[1, 4:5]
> > }
> > 
> > > data(warpbreaks)
> > > attach(warpbreaks)
> > > Levene(breaks, tension)
> >       F value  Pr(>F)
> > group   2.818 0.06905
> > 
> > I could (and probably would) dress it up with a formula interface,
> > but that would obscure the simplicity of the calculation.
> 
> Cough. Is that really the calculation of the P value in Levene's test?
> Just close your eyes an pretend that F is F distributed? Not that I
> don't believe that it might be the case, I just sort of expected that
> something more elaborate was required.

This isn't really Levene's test, and I was making no claims as to validity,
just demonstrating how to do a calculation.  However, the entry
in the Encyclopedia of Statistical Sciences does say that's what done
for the original form, and appears to say the same for the Brown-Forysthe
median form, so I guess this was what Murray had in mind.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Fri Sep  1 11:07:02 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Fri, 01 Sep 2000 11:07:02 +0200
Subject: [R] What happenes with R-gnome?
Message-ID: <3.0.32.20000901110701.008f5390@162.38.183.200>

At 11:18 01/09/00 +1100, you wrote:
>My half-cent's worth:
>
>There's something to be said for the Matlab "handle graphics" paradigm, in
>that it lets you create graphs much as in R, but then allows the interactive
>editing of a graph, from the command line or via the gui, after it has been
>drawn. (See 
>http://www.mathworks.com/products/matlab/functions/graphics.shtml.)

My centime's worth:

ViSta has some remarkable graphical facilities... and it's free:

http://forrest.psych.unc.edu/research/

I think that the zooming, rescaling, rotating ... stuff of ViSta is what
some of us would like to see in R.

SciLab is another free software that has some graphical facilities, but I
haven't tried it yet:

http://www-rocq.inria.fr/scilab/

An do not forget XGobi which can be interfaced readily with R.


Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kohnicho at comp.nus.edu.sg  Fri Sep  1 11:07:09 2000
From: kohnicho at comp.nus.edu.sg (Nicholas Lewin-Koh)
Date: Fri, 1 Sep 2000 17:07:09 +0800 (GMT-8)
Subject: [R] Object size in bytes
Message-ID: <Pine.GSO.4.21.0009011702140.8883-100000@sununx.comp.nus.edu.sg>

Hi,
Is there a command that will give the total size of an R object in bytes?

thanks 
Nicholas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From r.e.darnell at ncl.ac.uk  Fri Sep  1 11:17:01 2000
From: r.e.darnell at ncl.ac.uk (R.E. Darnell)
Date: 01 Sep 2000 10:17:01 +0100
Subject: [R] Levene's test
In-Reply-To: Peter Dalgaard BSA's message of "01 Sep 2000 09:54:59 +0200"
References: <Pine.GSO.4.05.10009010647500.20512-100000@auk.stats> <x2ya1ca6ng.fsf@blueberry.kubism.ku.dk>
Message-ID: <dgk7l8wmpyq.fsf@scs2.ncl.ac.uk>


Fo those interested see Mick O'Neill & Ky Matthew's article in the
Australian and New Zealand Journal of Statistics , 2000, 42, pp81--100

Cheers
Ross Darnell
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcus.eger at physik.uni-marburg.de  Fri Sep  1 12:09:12 2000
From: marcus.eger at physik.uni-marburg.de (Marcus Eger)
Date: Fri, 01 Sep 2000 12:09:12 +0200
Subject: [R] using browser() in complex programs - where am I?
References: <200009010344.e813i0920786@atlas.marc.cri.nz>
Message-ID: <39AF8048.B2C10B72@physik.uni-marburg.de>

Patrick Connolly wrote:
> 
> According to Marcus Eger:
> |>
> |> Dear all,
> |>
> |> is there an easy way to know at which position in the source code
> |> browser() (or stop()) was called? This seems to be important for me when
> |> I try
> |> to debug a program (e.g. using options(error=quote(dump.frames())))
> |>
> |> traceback() returns some information, but I miss something like a line
> |> number, e.g. "stopped at line 999 in foo.R".
> 
> Depends on what platform and a few things, but it's easy if you're
> using ESS in Emacs.  You can keep the code window open and inspect
> what is available at the point where the browser stops.  You can

Yes, I also use ESS. One can inspect what is available. 
But what do you do if your program
has 1000 lines and say 50 browser() calls - how do you know *which*
browser()-call was hit. Certainly, one can put specific warnings or
messages
before each browser()-call... but isn't there a nicer way e.g. to get
the 
line number?

> probably do that without emacs, but I wouldn't leave the keyboard
> without using emacs.  It's so efficient and easy to work that way.
> 
> You can even use multiple browsers and if there is no distinguishing
> object at that stage you can place dummy ones so you can distinguish
> browser positions.
> 
Yes, one can place dummy objects or print() before a browser()-call.
I thought there could be a nicer way...
   Marcus
  
-- 
+-------------------------------------------------------
| Marcus Eger
| Philipps Universitaet Marburg
| Fachbereich Physik AG Neurophysik
| Renthof 7
| 35032 Marburg
| Tel. +49 6421 282-4169
| Fax  +49 6421 282-7034
+-------------------------------------------------------
| E-Mail: marcus.eger at physik.uni-marburg.de
+-------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Fri Sep  1 13:35:16 2000
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Fri, 1 Sep 2000 13:35:16 +0200 (CEST)
Subject: [R] Levene's test
In-Reply-To: <x2ya1ca6ng.fsf@blueberry.kubism.ku.dk>
References: <Pine.GSO.4.05.10009010647500.20512-100000@auk.stats>
	<x2ya1ca6ng.fsf@blueberry.kubism.ku.dk>
Message-ID: <14767.38004.467382.762611@aragorn.ci.tuwien.ac.at>

>>>>> Peter Dalgaard BSA writes:

> Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:
>> Levene <- function(y, group)
>> {
>> group <- as.factor(group)  # precautionary
>> meds <- tapply(y, group, median)
>> resp <- abs(y - meds[group])
>> anova(lm(resp ~ group))[1, 4:5]
>> }
>> 
>> > data(warpbreaks)
>> > attach(warpbreaks)
>> > Levene(breaks, tension)
>> F value  Pr(>F)
>> group   2.818 0.06905
>> 
>> I could (and probably would) dress it up with a formula interface,
>> but that would obscure the simplicity of the calculation.

> Cough. Is that really the calculation of the P value in Levene's test?
> Just close your eyes an pretend that F is F distributed? Not that I
> don't believe that it might be the case, I just sort of expected that
> something more elaborate was required.

> I've been wondering whether we should have L's test, if for no other
> reason then because SPSS uses it by default. 

> Hmm. So we have a test (Bartlett's) which is known to be optimal under
> Normal theory, then SPSS goes and replaces with a test which uses an
> arbitrary quantity, known to be suboptimal in the Normal case, and
> tests a hypothesis that isn't actually what it purports to be
> (identical variances does not follow from identical mean absolute
> residuals), and to top it off uses a certainly incorrect calculation
> of its p-value. Well, yes they would, wouldn't they?

Btw, we have fligner.test() in ctest.  From the docs,

  The Fligner-Killeen (median) test has been determined in a simulation
  study as one of the many tests for homogeneity of variances which is
  most robust against departures from normality, see Conover, Johnson &
  Johnson (1981).

-k

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From y0004379 at tu-bs.de  Fri Sep  1 13:52:45 2000
From: y0004379 at tu-bs.de (Peter Malewski)
Date: Fri, 1 Sep 2000 13:52:45 +0200 (METDST)
Subject: [R] Object size in bytes
In-Reply-To: <Pine.GSO.4.21.0009011702140.8883-100000@sununx.comp.nus.edu.sg>
Message-ID: <Pine.HPX.4.21.0009011350210.9772-100000@rzpool07.rz.tu-bs.de>

On Fri, 1 Sep 2000, Nicholas Lewin-Koh wrote:

> Hi,
> Is there a command that will give the total size of an R object in bytes?
> 
> thanks 
> Nicholas

You can do it in an indirect way by duplicating (removing) the object:

e.g.:
>  x <- gc()
>  x <- gc()
> kfehbo1 <- kfehbo
>  z <- gc()
> z-x
          free total (Mb)
Ncells    -405     0    0
Vcells -136822     0    0


and then calc the mb needed for the particular object.

P.




----

P.Malewski, Maschplatz 8, 38114 Braunschweig, Tel.: 0531 500965, 
At work: (MH-Hannover): 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Fri Sep  1 13:44:04 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Fri, 1 Sep 2000 07:44:04 -0400
Subject: [R] What happenes with R-gnome?
References: <3.0.32.20000901110701.008f5390@162.38.183.200>
Message-ID: <00b401c01409$ee619e50$0201a8c0@Workgroup>

I think one of the main question is: Is it available for Windows? There are
a lot of stuff available for ?nixes graphically speaking but lots of it has
not been ported yet and this to can be a lot of work. I would for one find
quite acceptable to have features like the ones you propose. I also think
that the core team as put in a lot of efforts to bring the graphic
capabilities of R to the point it is now and it would be a shame to set it
aside. Using an external program to produce the graphics as Octave does with
gnuplot or others is probably not acceptable at this time.

I wonder how much trouble it would be to extend the current set features to
include the ones you propose? I wonder also if some of the team members or
those that work at the graphical features could somehow give us an idea of
what would be involve in working at those extensions. I think all this would
take as much if not more planification time then programming. At minimum one
would need an extensive idea of the internal working of the graphical
features and how they fit in the big picture. Unless I'm mistaking there is
no such thing at this time and this would mean reverse engineering quite a
bit of code. Again this is time consuming. So are we stuck in a vicious
circle?

Regards.

Yves Gauvreau


----- Original Message -----
From: "Emmanuel Paradis" <paradis at isem.univ-montp2.fr>
To: <r-help at stat.math.ethz.ch>
Sent: Friday, September 01, 2000 5:07 AM
Subject: Re: [R] What happenes with R-gnome?


> At 11:18 01/09/00 +1100, you wrote:
> >My half-cent's worth:
> >
> >There's something to be said for the Matlab "handle graphics" paradigm,
in
> >that it lets you create graphs much as in R, but then allows the
interactive
> >editing of a graph, from the command line or via the gui, after it has
been
> >drawn. (See
> >http://www.mathworks.com/products/matlab/functions/graphics.shtml.)
>
> My centime's worth:
>
> ViSta has some remarkable graphical facilities... and it's free:

>
> http://forrest.psych.unc.edu/research/
>
> I think that the zooming, rescaling, rotating ... stuff of ViSta is what
> some of us would like to see in R.
>
> SciLab is another free software that has some graphical facilities, but I
> haven't tried it yet:
>
> http://www-rocq.inria.fr/scilab/
>
> An do not forget XGobi which can be interfaced readily with R.
>
>
> Emmanuel Paradis
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rangearo at ufu.br  Fri Sep  1 16:34:27 2000
From: rangearo at ufu.br (Paulo Roberto Rangearo Peres)
Date: Fri, 01 Sep 2000 11:34:27 -0300
Subject: [R] (sem assunto)
Message-ID: <39AFBE73.255A31C5@ufu.br>

unsubscrible rangearo at ufu.br
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcus.eger at physik.uni-marburg.de  Fri Sep  1 17:13:30 2000
From: marcus.eger at physik.uni-marburg.de (Marcus Eger)
Date: Fri, 01 Sep 2000 17:13:30 +0200
Subject: [R] Problem with R INSTALL locfit on DEC alphaev56-dec-osf4.0d
Message-ID: <39AFC79A.D970BB2D@physik.uni-marburg.de>

Dear all,

I have reinstalled R-1.1.1 and locfit (Locfit for R 0.99.0) and still
have the same
problem - R hangs after calling locfit:

> x <- rnorm(100)    
> b <- locfit(~x)

What is the recommended way to find the cause?
Thanks

   Marcus




--------%<-------------
Installing package `locfit' ...
 libs
/vol/bin/gcc -I/vol/math/R/include  -I/usr/local/include -mieee    -g
-O2 -c S_e
nter.c -o S_enter.o
S_enter.c: In function `basis':
S_enter.c:39: warning: passing arg 3 of `call_R' from incompatible
pointer type

....

/usr/bin/ld:
Warning: Unresolved:
call_R
 R
 data
 help
Can't locate /vol/math/R/etc/Rdconvlib.pl in @INC (@INC contains:
/usr/local/lib/perl5/5.00501/alpha-dec_osf /usr/local/lib/perl5/5.00501
/usr/local/lib/perl5/site_perl/5.005/alpha-dec_osf
/usr/local/lib/perl5/site_perl/5.005 .) at /vol/math/R/bin/build-help
line 62.
 DONE (locfit)

DONE (INSTALL)


-- 
+-------------------------------------------------------
| Marcus Eger
| Philipps Universitaet Marburg
| Fachbereich Physik AG Neurophysik
| Renthof 7
| 35032 Marburg
| Tel. +49 6421 282-4169
| Fax  +49 6421 282-7034
+-------------------------------------------------------
| E-Mail: marcus.eger at physik.uni-marburg.de
+-------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Sep  1 17:26:07 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Fri, 1 Sep 2000 08:26:07 -0700 (PDT)
Subject: [R] cant find "get"?
In-Reply-To: <14767.19712.791519.236949@gargle.gargle.HOWL>
Message-ID: <Pine.GSO.4.21.0009010822260.16921-100000@atlas.biostat.washington.edu>

On Fri, 1 Sep 2000, Martin Maechler wrote:

> >>>>> "JohnS" == Strumila, John <John.Strumila at team.telstra.com> writes:
> 
> 
>     JohnS> I found this great function called "get" which allows me to work
>     JohnS> out my object name at run time.  Unfortunately it's not letting
>     JohnS> me assign values with it.  What am I doing wrong?
> 
>      >> names(get(file.name))[1]
>      [1] "X14.59.23"
>      >> names(get(file.name))[1] <- "date"
>      Error: couldn't find function "get<-"
> 
> in spite of Thomas' excellent explanation about  `` foo(x) <- .. ''
> I wonder if John does not just need to be told
>   
>      ``	?assign ''

But he wants to do
	names()[1]<-"date"
on this variable, which would 
  a) involve messy paste() commands
and 
  b) not work

R> a<-data.frame(x=1:4,y=1:4)
R> assign("names(a)[1]","foo")
R> names(a)
[1] "x" "y"


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Sep  1 17:27:44 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 1 Sep 2000 17:27:44 +0200 (CEST)
Subject: [R] R-mailing lists -- non-sent messages problem ..
Message-ID: <14767.51952.350126.884816@gargle.gargle.HOWL>

I've just found out that yesterday evening (and this morning) [UTC]
our mail server has had unpleasant problems 
and that about a dozen messages had not been forwarded to the lists
(and unfortunately, these were swamped in other mailer-daemon messages
 from unavailable subcribers that I receive anyway as list owner).

I'm now manually resending these to R-help and R-core as approriate.
Excuse our system staff..

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Fri Sep  1 11:50:27 2000
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Fri, 01 Sep 2000 21:50:27 +1200
Subject: [R] Levene's test
In-Reply-To: <200009010902.KAA08806@toucan.stats.ox.ac.uk>
Message-ID: <200009011533.RAA08311@lynne.ethz.ch>

At 09:02 PM 01-09-00 , Prof Brian Ripley wrote:
....
>> From: Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>
>> Cough. Is that really the calculation of the P value in Levene's test?
>> Just close your eyes an pretend that F is F distributed? Not that I
>> don't believe that it might be the case, I just sort of expected that
>> something more elaborate was required.
>
>This isn't really Levene's test, and I was making no claims as to validity,
>just demonstrating how to do a calculation.  However, the entry
>in the Encyclopedia of Statistical Sciences does say that's what done
>for the original form, and appears to say the same for the Brown-Forysthe
>median form, so I guess this was what Murray had in mind.
>

This was indeed what I had in mind, and yes my source was the same
encyclopedia, though I havn't read the Brown-Forsyth article. John Maindonald
pointed out to me in an email that library(ctest) of the base distribution has
the Fligner-Killeen test. I vaguely wondered if the tests might be equivalent.

However:

> fligner.test(breaks, tension)

         Fligner-Killeen test for homogeneity of variances 

data:  breaks and tension 
Fligner-Killeen:med chi-square = 4.3178, df = 2, p-value = 0.1155 

(Though they still could be equivalent and just the naive use of the F
distribution yielding wrong p-values for the Levene test)

Anyway, I can go and read the papers. The point is that Brian has solved my
problem of how to do what I understood to be the Levene/Brown/Forsyth test
reasonably elegantly in R.

Thanks to all,

Murray


Dr Murray Jorgensen       http://www.stats.waikato.ac.nz/Staff/maj.html 
Department of Statistics, University of Waikato, Hamilton, New Zealand 
*Applications Editor, Australian and New Zealand Journal of Statistics* 
maj at waikato.ac.nz Phone +64-7 838 4773 home phone 856 6705 Fax 838 4155

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Sep  1 12:04:48 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Sep 2000 12:04:48 +0200
Subject: [R] Object size in bytes
In-Reply-To: Nicholas Lewin-Koh's message of "Fri, 1 Sep 2000 17:07:09 +0800 (GMT-8)"
References: <Pine.GSO.4.21.0009011702140.8883-100000@sununx.comp.nus.edu.sg>
Message-ID: <200009011534.RAA08314@lynne.ethz.ch>

Nicholas Lewin-Koh <kohnicho at comp.nus.edu.sg> writes:

> Hi,
> Is there a command that will give the total size of an R object in bytes?

No. You can get some of the way with

function (it) 
{
    x1 <- gc()[, 1]
    copy <- it
    x2 <- gc()[, 1]
    x1 - x2 - c(5, 6) # correct for variables and function call (fudged)
}

> x<-rnorm(20000)
> sizeit(x)
Ncells Vcells 
     1  20000 
> names(x)<-1:20000
> sizeit(x)
Ncells Vcells 
     3  30001 

And from there on things become system dependent. On x386 (Linux and
also Windows IIRC) an Ncell is 20 bytes and a Vcell is 8.

Oddly enough, this doesn't seem to work for functions, and I haven't
got a clue why at the moment:

> sizeit(glm.fit)
Ncells Vcells 
     1     -1 


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcus.eger at physik.uni-marburg.de  Fri Sep  1 17:35:26 2000
From: marcus.eger at physik.uni-marburg.de (Marcus Eger)
Date: Fri, 01 Sep 2000 17:35:26 +0200
Subject: [R] using browser() in complex programs - where am I?
References: <200009010344.e813i0920786@atlas.marc.cri.nz> <39AF8048.B2C10B72@physik.uni-marburg.de> <6rn1hsw4mk.fsf@franz.stat.wisc.edu>
Message-ID: <39AFCCBE.655F2524@physik.uni-marburg.de>

Douglas Bates wrote:
> 
> Marcus Eger <marcus.eger at physik.uni-marburg.de> writes:
> 
> > Yes, I also use ESS. One can inspect what is available.  But what do
> > you do if your program has 1000 lines and say 50 browser() calls -
> > how do you know *which* browser()-call was hit.
> 
> Umm, the S language is a functional language and you probably
> shouldn't try to write a 1000 line S function in the first place.  The
> power of S comes from the abilities to call functions within other
> functions and to construct new functions easily.  It is not
> well-suited to long, monolithic "programs".

I just gave the above "program" example to illustrate my question.
I understand that it seems to be difficult to have sth. like line
numbers
in S objects. However, the idea that browser() would cause a jump of the
cursor
to the corresponding position in the ESS source window would be a nice
feature
(at least for me).


-- 
+-------------------------------------------------------
| Marcus Eger
| Philipps Universitaet Marburg
| Fachbereich Physik AG Neurophysik
| Renthof 7
| 35032 Marburg
| Tel. +49 6421 282-4169
| Fax  +49 6421 282-7034
+-------------------------------------------------------
| E-Mail: marcus.eger at physik.uni-marburg.de
+-------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Fri Sep  1 17:53:14 2000
From: rossini at blindglobe.net (A.J. Rossini)
Date: 01 Sep 2000 08:53:14 -0700
Subject: [R] What happenes with R-gnome?
In-Reply-To: <00b401c01409$ee619e50$0201a8c0@Workgroup>
 (Yves Gauvreau's message of "Fri, 1 Sep 2000 07:44:04 -0400")
References: <3.0.32.20000901110701.008f5390@162.38.183.200>
 <00b401c01409$ee619e50$0201a8c0@Workgroup>
Message-ID: <87aedsqfbp.fsf@jeeves.blindglobe.net>

>>>>> "YG" == Yves Gauvreau <cyg at sympatico.ca> writes:

(regarding what I think was ViSta)

    YG> I think one of the main question is: Is it available for
    YG> Windows?

ViSta has good dynamic/interactive graphics, happens to run better
under Windows and Macs than Unix (I did the original unix port, so
might as well be my fault), and has a nice GUI targetted at
statistical analyses (I'm thinking of the worksheets, not the
"minitab/spss/blah pull-down menu st*ff"), in fact, one of the best
that I've seen for teaching how to analyze data.

As far as presentation or report-quality graphics, it's pretty
useless, though.

And while being pretty advanced for most features, it's lacking
integration with the survival and GEE packages for XLispStat, which is
perhaps its only real failing.

(no comments on the other packages brought up).

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
BlindGlobe Networks (home/default)	rossini at blindglobe.net	
UW Biostat/Center for AIDS Research	rossini at biostat.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org

CFAR:   M/F: 206-731-3647 (fax=3694) | Email is far better than phone
FHCRC: Tu/W: 206-667-7025 (fax=4812) | Voicemail is pretty sketchy
UW:      Th: 206-543-1044 (fax=3286) | Change last 4 digits of phone for fax
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep  1 17:58:54 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 1 Sep 2000 16:58:54 +0100 (BST)
Subject: [R] Object size in bytes
In-Reply-To: <200009011534.RAA08314@lynne.ethz.ch>
Message-ID: <Pine.GSO.4.05.10009011653310.21088-100000@auk.stats>

On 1 Sep 2000, Peter Dalgaard BSA wrote:

> Nicholas Lewin-Koh <kohnicho at comp.nus.edu.sg> writes:
> 
> > Hi,
> > Is there a command that will give the total size of an R object in bytes?
> 
> No. You can get some of the way with
> 
> function (it) 
> {
>     x1 <- gc()[, 1]
>     copy <- it
>     x2 <- gc()[, 1]
>     x1 - x2 - c(5, 6) # correct for variables and function call (fudged)
> }
> 
> > x<-rnorm(20000)
> > sizeit(x)
> Ncells Vcells 
>      1  20000 
> > names(x)<-1:20000
> > sizeit(x)
> Ncells Vcells 
>      3  30001 
> 
> And from there on things become system dependent. On x386 (Linux and
> also Windows IIRC) an Ncell is 20 bytes and a Vcell is 8.

Isn't this going to fail in 1.2.0?  Not only is the workspace size
not fixed, but also the garbage collector does not clean out in one pass.
(And the size of Ncells changes with that version.)

Also, to what extent does R share parts of objects (e.g. lists) without
copying them?  (S does quite extensively.)


I would have thought one reasonable approximate answer was to dump the
object in binary save format and look at the file size.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Fri Sep  1 18:48:04 2000
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Fri, 1 Sep 2000 11:48:04 -0500 (CDT)
Subject: [R] make problem
Message-ID: <200009011648.LAA00215@uhddx01.dt.uh.edu>

Dear R People:

Sorry about the previous message.  Here is the exact output:


building package `tcltk'
../../../library/tcltk/R/tcltk is unchanged
gcc -I../../../../include -I/usr/local/include  -I/usr/local/include -mieee    -
g -O2 -c tcltk.c -o tcltk.o
tcltk.c: In function `tcltk_init':
tcltk.c:204: `Tk_SafeInit' undeclared (first use in this function)
tcltk.c:204: (Each undeclared identifier is reported only once
tcltk.c:204: for each function it appears in.)
*** Exit 1

Any help, as usual, is much much much appreciated.

Sincerely,
Erin M. Hodgess, Ph.D.
Associate Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
One Main Street 
Houston, TX 77002
e-mail: hodgess at uhddx01.dt.uh.edu


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Sep  1 19:02:26 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 01 Sep 2000 19:02:26 +0200
Subject: [R] make problem
In-Reply-To: Erin Hodgess's message of "Fri, 1 Sep 2000 11:48:04 -0500 (CDT)"
References: <200009011648.LAA00215@uhddx01.dt.uh.edu>
Message-ID: <x2k8cwxcyl.fsf@blueberry.kubism.ku.dk>

Erin Hodgess <hodgess at uhddx01.dt.uh.edu> writes:

> Dear R People:
> 
> Sorry about the previous message.  Here is the exact output:
> 
> 
> building package `tcltk'
> ../../../library/tcltk/R/tcltk is unchanged
> gcc -I../../../../include -I/usr/local/include  -I/usr/local/include -mieee    -
> g -O2 -c tcltk.c -o tcltk.o
> tcltk.c: In function `tcltk_init':
> tcltk.c:204: `Tk_SafeInit' undeclared (first use in this function)
> tcltk.c:204: (Each undeclared identifier is reported only once
> tcltk.c:204: for each function it appears in.)
> *** Exit 1
> 
> Any help, as usual, is much much much appreciated.

Looks like your tk.h file is old compared to the requirements tcltk.c.
Either you're picking up the wrong one, or you need to upgrade to get
tcltk to work. Or turn it off with the --without-tcltk to configure.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Sep  1 22:28:14 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: Fri, 1 Sep 2000 22:28:14 +0200
Subject: [R] Object size in bytes
In-Reply-To: Prof Brian D Ripley's message of "Fri, 1 Sep 2000 16:58:54 +0100 (BST)"
References: <Pine.GSO.4.05.10009011653310.21088-100000@auk.stats>
Message-ID: <200009012028.WAA28026@florence.ethz.ch>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> Isn't this going to fail in 1.2.0?  Not only is the workspace size
> not fixed, but also the garbage collector does not clean out in one pass.
> (And the size of Ncells changes with that version.)

It's probably not going to be reliable, no.

> Also, to what extent does R share parts of objects (e.g. lists) without
> copying them?  (S does quite extensively.)

R does it extensively during function evaluation, but I think that as
soon as an object has a name it is generally distinct from other named
objects unless .Alias trickery is in play. (That may not be cast in
stone since it may be more efficient to do otherwise, but if e.g. x
and y share a names attribute and you do names(x)[3]<-foo, then the
names(y) should be unchanged, which is rather difficult to ensure)

> I would have thought one reasonable approximate answer was to dump the
> object in binary save format and look at the file size.

Good idea if it works. I forget whether all things are really the same
size in memory and on disk. 

Might be easier just to write the code for summing up the byte sizes... 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gbrajovic at entelchile.net  Sat Sep  2 00:36:34 2000
From: gbrajovic at entelchile.net (gbrajovic@entelchile.net)
Date: Fri, 1 Sep 2000 17:36:34 -0500
Subject: [R] Help with Projection Pursuit, ppr().
Message-ID: <20000901223340.LQJV1437.mta1@mta1>

Hi,

Recently, I installed the 1.1.0 version of R (for Windows), since it includes an implementation of Projection Pursuit (I failed to write my own version of PP as a standalone C++ program).

As far as I know, R offers two interfaces/sintax for the ppr() function. The first one requieres a regression formula and a data frame. The other requieres X, a matrix with the explanatory variables, and Y, wich I presume is a matrix containing the responses (documentation for ppr doesn't explain what kind of object is Y). 

My problems are:

a)I can't use the "non regression formula" ppr(), since it returns an error condition I cannot understand. This is what i did/got:

> library(modreg)
> X <- matrix(scan("miX_e.txt", 0), ncol=2, byrow=TRUE)
Read 450 items
> Y <- matrix(scan("g1_sr_e.txt", 0), ncol=1, byrow=TRUE)
Read 225 items
> g1.ppr <-ppr(X,Y, nterms=3, max.terms=5)
Error in matrix(smod[q + 6 + p * ml + 1:(q * mu)], q, mu, dimnames = list(ynames,  : 
        length of dimnames[1] not equal to array extent

Where "miX_e.txt" is a file containing 225 rows (225 cases for training) with 2 columns (2 explanatory variables), and "g1_sr_e.txt" is a file with one column (1 response) and 225 rows (one for each of the 225 trining cases). I presume the problem is related to Y, since its use is not explained in the ppr documentation, and I'm guessing its a matrix with the responses.

Any help about this? (By the way, the test data is the noiseless g1 function published by Hwang).

b)I can use the "regression formula" ppr() succesfuly, but I would like a non parametric approach (I guess that the need of a regression formula makes it "parametric"). How does ppr() use this regression formula? Is there a way to avoid the use of the regression formula? Is there a "non parametric" regression formula?

Any help will be MOST welcome, since I'm running out of time (i need to perform some evaluations with PP before the end of september).

Thanks in advance,

Guillermo Brajovic A.
gbrajovic at entelchile.net
Universidad de Santiago,
CHILE.

ps sorry for the "suscribe" message you received recently.



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tomlinso at purdue.edu  Sat Sep  2 01:38:59 2000
From: tomlinso at purdue.edu (Nels Tomlinson)
Date: Fri, 01 Sep 2000 18:38:59 -0500
Subject: [R] What happenes with R-gnome? Suggestions
Message-ID: <39B03E13.8438399A@purdue.edu>


Hello,

I carelessly sent this to the unfortunate Mr. Johnson, rather than to
the list, so I'm sending it on to the list.  Re-reading it after a
couple days, I think that it might still be worth sharing.

I think I agree with an earlier reply:  GUI's are confining, and
eventually slow you down, relative to programming.  The strong point of
a GUI is that it lets you quickly, easily do a new task the first time. 
You don't have to look in a manual to see what is available, all the
choices the programmer has imagined are there on the menu.  If you want
something that the programmer hasn't imagined, you're out of luck, even
if it should be possible.  Worst of all, when you're done with the first
graph, you haven't improved your ability to generate the next.  I
suggest that if you want to sit down in front of the computer and whip
out a couple of graphs, and walk away forever ( or just for a very long
time), that the scigraphica approach looks like the way to go.  If you
want to be able to painlessly generate many plots, and introduce changes
to any or all of them easily, then you will get carpal tunnel syndrome
from all the hours of pointing and clicking.

Let me give a couple of suggestions about GUI's, since they certainly do
have their place.  

First, take a look at the SAS/Analyst package.  It is a graphical front
end to most of the SAS/Stat package, which generates proper SAS code,
saves it for you, and runs it.  Once you have the (slightly messy and
hard to follow) machine generated code, you can fiddle with it to get
what you really wanted, and run it hundreds of times, and so on. This
seems the best of both worlds: we get the menu and avoid the manual for
a while at least, and we still make some progress towards actually
automating the task.  It's also a great way to get a quick kick-start
into programming SAS.  I think that Lyx and KLyx are a couple other,
perhaps better examples of this approach.  They let you enter Latex code
if you want, generate Latex code when you point and click, and make
great training wheels.

Second, some of us really DON'T LIKE GUI's.  S-Plus exists and is
wonderful (just ask their salesfolks) for those who do, and scigraphica,
and so on.  I have no objection to adding a GUI to R, and would
certainly use it from time to time.  But I'd rather see the developers
limited effort go into developing something a bit better than trellis
graphics for R, and implementing constrained optimization, and so on. 
More on that in the third point.

On this second point, there is a sub-issue: we already have a wonderful
programming environment for R: ESS.  I think that if we do implement a
GUI, it should either be integrated with emacs, or at least not make it
harder to use emacs.

Third, as mentioned above, we really need a lot of things yet in our
programming language. One thing we need (?) is something like an object
editor in ESS.  That is, it would be nice to have an environment in
which we could easily see lists of objects, see the properties of
objects, perhaps edit them, and scroll between objects, and so on.  I
saw this in one of my brief forays into S-Plus, and thought it looked
rather neat. It should make large projects more manageable. I haven't
spotted anything quite like that in ESS yet.    Finally, a really good
constrained optimization package, implementing Khun-Tucker in all its
tedium, would be a wonderful luxury for maximizing entropy and
likelihoods.

I mentioned trellis graphics above.  One thing which would be nice is
more flexible and complicated coplots. A coplot matrix which gives false
colors and or contour lines rather than scatter plots might be useful
for data mining.  Another wonderful capability would be to be able to
"paint" points in one plot, and have them painted in other plots which
you have linked to this one. Rotatable 3-D graphics, with linked plots
for painting, would be nice.  I think that XGOBI lets us do at least
sone of this, though I haven't yet looked into it.  I do know that we
can identify any point on a plot interactivly, and that's incredibly
useful.  But then it's a bear to find on the other view.

I think that if someone takes it into his head to make a GUI code
generator for R, that would be a grand thing, and I would certainly use
it.  But I don't think that that's very high on my wishlist.  I already
have SAS/Analyst, and S-Plus, and so on.  What I really look to R for is
the programming language.  Come to think of it, when I want to quickly
inspect some data, I normally do it in R, since that seems to be the
easiest way to do it, even without the GUI.

Back to the orginal point of the original post:  integrating scigraphica
might be possible, maybe.  They seem to have made provisions for
embedding python, But I think that python was intended from the start
for embedding, wasn't it?  They plan to eventually use a standard object
arcitecture (bonobo) to ease integration, and this might be a good way
for R to move too, though I don't know if bonobo is the right version. 
If you were to work corba or bonobo into R, then it could be a backend
for Koffice, or Gnumeric, or all of them.

Perhaps moving to the object model might be the most important thing to
put on the 
"blue-sky wish list".  It seems to have the most potential to make R
more widely usable in the future.  


-- 
 /\  / _  / _  ---   _   / , _  _    _
/  \/ (- / _)  / () //) / / / )_) ()/ )
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Sat Sep  2 02:00:54 2000
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Fri, 1 Sep 2000 19:00:54 -0500 (CDT)
Subject: [R] Thanks to all
Message-ID: <200009020000.TAA09168@uhddx01.dt.uh.edu>

Dear R People:

Thanks for all of the help over the last few days.

I have Version 1.1.1 compiled from source on both UNIX
and Windows.

Also, I have installed contributed packages.

(Big Deal....right?  Well, thank you for the help!!!!!!)

Sincerely,
Erin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Sat Sep  2 02:05:18 2000
From: rossini at blindglobe.net (A.J. Rossini)
Date: 01 Sep 2000 17:05:18 -0700
Subject: [R] What happenes with R-gnome? Suggestions
In-Reply-To: <39B03E13.8438399A@purdue.edu>
 (Nels Tomlinson's message of "Fri, 01 Sep 2000 18:38:59 -0500")
References: <39B03E13.8438399A@purdue.edu>
Message-ID: <87lmxbmzep.fsf@jeeves.blindglobe.net>


(I'll comment on this, being the defacto and hence currently very
blameworthy lead for ESS). 

>>>>> "NT" == Nels Tomlinson <tomlinso at purdue.edu> writes:

    NT> On this second point, there is a sub-issue: we already have a
    NT> wonderful programming environment for R: ESS.  I think that if
    NT> we do implement a GUI, it should either be integrated with
    NT> emacs, or at least not make it harder to use emacs.

That has been considered -- at least a GUI similar to the pull-down
variant that Minitab/SPSS/etc have (it wouldn't be too hard -- we
"know" the objects, etc, and note that we already have object
completion, if we had object discovery, we could actually classify
it).

    NT> Third, as mentioned above, we really need a lot of things yet
    NT> in our programming language. One thing we need (?) is
    NT> something like an object editor in ESS.  That is, it would be

Some of this is in the distant future plans.  We have reached the
point that we really need some work on the general IDE capabilities
(if you've used JDE for programming Java, you slowly realize just how
powerful Emacs really could be for statistical analysis...).

Some issues that might help include speedbar and imenu support (which
exists in various forms but isn't included) and templates (which I'm
not convinced are efficient).  Imenu/speedbar support would provide
object-browser capabilities, which if done well (I've got ideas :-(),
would be better than what S-PLUS 2k currently has, IF you follow a
prescribed environment for development (and that "IF" is really a
hard and fast "IFF").

On a separate tact -- GNOME is cool; it's one of the few desktops I've
enjoyed using recently, but I'm very leery of R-GNOME.  The big issue
really is cross-platform compatibility, and most of the decent Unix
GUI APIs aren't easily cross-platform, sigh... (and yes, and being a
major unix bigot, it's the painful truth).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
BlindGlobe Networks (home/default)	rossini at blindglobe.net	
UW Biostat/Center for AIDS Research	rossini at biostat.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org

CFAR:   M/F: 206-731-3647 (fax=3694) | Email is far better than phone
FHCRC: Tu/W: 206-667-7025 (fax=4812) | Voicemail is pretty sketchy
UW:      Th: 206-543-1044 (fax=3286) | Change last 4 digits of phone for fax
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kohnicho at comp.nus.edu.sg  Sat Sep  2 06:27:30 2000
From: kohnicho at comp.nus.edu.sg (Nicholas Lewin-Koh)
Date: Sat, 2 Sep 2000 12:27:30 +0800 (SST)
Subject: [R] Object size in bytes
In-Reply-To: <Pine.GSO.4.05.10009011653310.21088-100000@auk.stats>
Message-ID: <Pine.OSF.4.21.0009021220020.31144-100000@decunx.comp.nus.edu.sg>

Thanks,
I think i threw this one out off the cuff without thinking about it too
deeply. What I had in mind was to compare the same data stored in two
different formats to see which was more space efficient.

So to rephrase my question.
for a set of doubles (say two columns) and some information about them
which storage mode would be the most efficient:
a single listwith the attributes and columns as elements of the list.
a matrix with attributes.
a list with attributes.

So I believe fo my question Dr. Ripley's points are very pertinent. Which
structures have more overhead.

Thank you again
for the informative fast replies.

Nicholas
On Fri, 1 Sep 2000, Prof Brian D Ripley wrote:

> On 1 Sep 2000, Peter Dalgaard BSA wrote:
> 
> > Nicholas Lewin-Koh <kohnicho at comp.nus.edu.sg> writes:
> > 
> > > Hi,
> > > Is there a command that will give the total size of an R object in bytes?
> > 
> > No. You can get some of the way with
> > 
> > function (it) 
> > {
> >     x1 <- gc()[, 1]
> >     copy <- it
> >     x2 <- gc()[, 1]
> >     x1 - x2 - c(5, 6) # correct for variables and function call (fudged)
> > }
> > 
> > > x<-rnorm(20000)
> > > sizeit(x)
> > Ncells Vcells 
> >      1  20000 
> > > names(x)<-1:20000
> > > sizeit(x)
> > Ncells Vcells 
> >      3  30001 
> > 
> > And from there on things become system dependent. On x386 (Linux and
> > also Windows IIRC) an Ncell is 20 bytes and a Vcell is 8.
> 
> Isn't this going to fail in 1.2.0?  Not only is the workspace size
> not fixed, but also the garbage collector does not clean out in one pass.
> (And the size of Ncells changes with that version.)
> 
> Also, to what extent does R share parts of objects (e.g. lists) without
> copying them?  (S does quite extensively.)
> 
> 
> I would have thought one reasonable approximate answer was to dump the
> object in binary save format and look at the file size.
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcus.eger at physik.uni-marburg.de  Sat Sep  2 10:23:53 2000
From: marcus.eger at physik.uni-marburg.de (Marcus Eger)
Date: Sat, 02 Sep 2000 10:23:53 +0200
Subject: [R] using browser() in complex programs - where am I?
References: <39AE7337.5B546336@physik.uni-marburg.de> <20000902110412.J2314@stat1.stat.auckland.ac.nz>
Message-ID: <39B0B919.BF0DF3BA@physik.uni-marburg.de>


Robert Gentleman wrote:
> 
> try
>   where
> i think it's in the help page

I don't have any "where" function in my packages....
To which package does it belong?



----------%<----------------
R : Copyright 2000, The R Development Core Team
Version 1.1.1  (August 15, 2000)
...
KernSmooth 2.22 installed
Copyright M. P. Wand 1997
Locfit for R 0.99.0.
Feb 14, 2000.

-- 
+-------------------------------------------------------
| Marcus Eger
| Philipps Universitaet Marburg
| Fachbereich Physik AG Neurophysik
| Renthof 7
| 35032 Marburg
| Tel. +49 6421 282-4169
| Fax  +49 6421 282-7034
+-------------------------------------------------------
| E-Mail: marcus.eger at physik.uni-marburg.de
+-------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Sep  2 08:25:54 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 2 Sep 2000 07:25:54 +0100 (BST)
Subject: [R] Help with Projection Pursuit, ppr().
In-Reply-To: <20000901223340.LQJV1437.mta1@mta1>
Message-ID: <Pine.GSO.4.05.10009020701280.26810-100000@auk.stats>

On Fri, 1 Sep 2000 gbrajovic at entelchile.net wrote:

> Hi,
> 
> Recently, I installed the 1.1.0 version of R (for Windows), since it 
includes an implementation of Projection Pursuit (I failed to write 
my own version of PP as a standalone C++ program).

Then you might want to read the R sources to see how it was done.

> As far as I know, R offers two interfaces/sintax for the ppr() function. The first one requieres a regression formula and a data frame. The other requieres X, a matrix with the explanatory variables, and Y, wich I presume is a matrix containing the responses (documentation for ppr doesn't explain what kind of object is Y). 
> 
> My problems are:
> 
> a)I can't use the "non regression formula" ppr(), since it returns an error condition I cannot understand. This is what i did/got:
> 
> > library(modreg)
> > X <- matrix(scan("miX_e.txt", 0), ncol=2, byrow=TRUE)
> Read 450 items
> > Y <- matrix(scan("g1_sr_e.txt", 0), ncol=1, byrow=TRUE)
> Read 225 items
> > g1.ppr <-ppr(X,Y, nterms=3, max.terms=5)
> Error in matrix(smod[q + 6 + p * ml + 1:(q * mu)], q, mu, dimnames = list(ynames,  : 
>         length of dimnames[1] not equal to array extent

You need to start debugging. There's an error in the line

    else ynames <- paste("Y", 1:p, sep = "")

which should be

    else ynames <- paste("Y", 1:q, sep = "")

but please give your matrices some dimnames (or at least column names) to
get interpretable results.   (That this bug has not emerged before
suggests that users almost inevitably do.)

(It's very easy to debug(ppr.default) and find out what the variables
are and hence what is wrong.)

> Where "miX_e.txt" is a file containing 225 rows (225 cases for training) 
with 2 columns (2 explanatory variables), and "g1_sr_e.txt" is a 
file with one column (1 response) and 225 rows 
(one for each of the 225 trining cases). 
I presume the problem is related to Y, since its use is not 
explained in the ppr documentation, and I'm guessing its a 
matrix with the responses.

It is easy to read R code if things are missing from the help pages.

> Any help about this? (By the way, the test data is the noiseless g1 function published by Hwang).

Using noiseless functions as test cases is *not* a good idea. That's
not what the optimization algorithms are tuned for, not is it a 
`realistic' test problem.

> b)I can use the "regression formula" ppr() succesfuly, but I would like a 
non parametric approach (I guess that the need of a regression formula 
makes it "parametric"). How does ppr() use this regression formula? 
Is there a way to avoid the use of the regression formula? 
Is there a "non parametric" regression formula?

That makes no sense to me. The formula just specifies X, as formulae do in
the S/R languange. There is nothing more parametric about this than ppr.default.
I suspect you are jumping in too deep, and need to learn how to do simpler
things (like linear regression) in R first.  It's a `regression formula'
as distinct from a `Trellis formula' or a `coplot formula'.

> Any help will be MOST welcome, since I'm running out of time (i need to perform some evaluations with PP before the end of september).

ppr is an R port of a function in the S MASS library and documented in more
detail with examples in Venables & Ripley (1999) `Modern Applied Statistics
with S-PLUS'.  I suggest you consult that.

> Thanks in advance,
> 
> Guillermo Brajovic A.
> gbrajovic at entelchile.net
> Universidad de Santiago,
> CHILE.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcus.eger at physik.uni-marburg.de  Sat Sep  2 10:30:08 2000
From: marcus.eger at physik.uni-marburg.de (Marcus Eger)
Date: Sat, 02 Sep 2000 10:30:08 +0200
Subject: [R] poscrscript() call returns an error on alphaev56-dec-osf4.0
Message-ID: <39B0BA90.9CD2DF72@physik.uni-marburg.de>


I have some slight problems getting R to run smoothly on our alpha...
What might be the reason for the following error message?

> postscript()
Error in PS(file, old$paper, old$family, old$bg, old$fg, old$width,
old$height,  : 
        unable to start device PostScript


I have compiled R-1.1.1 and it starts without complaint.
  
-- 
+-------------------------------------------------------
| Marcus Eger
| Philipps Universitaet Marburg
| Fachbereich Physik AG Neurophysik
| Renthof 7
| 35032 Marburg
| Tel. +49 6421 282-4169
| Fax  +49 6421 282-7034
+-------------------------------------------------------
| E-Mail: marcus.eger at physik.uni-marburg.de
+-------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Sep  2 08:47:07 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 2 Sep 2000 07:47:07 +0100 (BST)
Subject: Constrained optimization (was [R] What happenes with R-gnome?
 Suggestions)
In-Reply-To: <39B03E13.8438399A@purdue.edu>
Message-ID: <Pine.GSO.4.05.10009020726580.26810-100000@auk.stats>

On Fri, 1 Sep 2000, Nels Tomlinson wrote:

> Second, some of us really DON'T LIKE GUI's.  S-Plus exists and is
> wonderful (just ask their salesfolks) for those who do, and scigraphica,
> and so on.  I have no objection to adding a GUI to R, and would
> certainly use it from time to time.  But I'd rather see the developers
> limited effort go into developing something a bit better than trellis
> graphics for R, and implementing constrained optimization, and so on. 

Eh?  One of us spent quite a lot of time on optim, which includes
bounds-constrained optimization, so this is a bit peeving.

> Finally, a really good
> constrained optimization package, implementing Khun-Tucker in all its
> tedium, would be a wonderful luxury for maximizing entropy and
> likelihoods.

We would welcome the submission from you of an R package to do that.
I don't know of any code in any language that does that in its full
glory (or even how to specify it algorithmically), and do know of
important special cases that underlie very expensive commercial packages.


There is a tendency in this thread to assume that R has an (unpaid)
workforce, `the developers'.  It's not like that.  Many things get into R
because R-core members have a need of them (including for teaching) or
sometimes as an intellectual challenge. On the other hand, R is `the result
of a collaborative effort', and the core developers also appreciate using
the fruits of the contributions of others.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Sep  2 09:06:41 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 2 Sep 2000 08:06:41 +0100 (BST)
Subject: [R] poscrscript() call returns an error on alphaev56-dec-osf4.0
In-Reply-To: <39B0BA90.9CD2DF72@physik.uni-marburg.de>
Message-ID: <Pine.GSO.4.05.10009020751180.26810-100000@auk.stats>

On Sat, 2 Sep 2000, Marcus Eger wrote:

> 
> I have some slight problems getting R to run smoothly on our alpha...
> What might be the reason for the following error message?
> 
> > postscript()
> Error in PS(file, old$paper, old$family, old$bg, old$fg, old$width,
> old$height,  : 
>         unable to start device PostScript

Usually, that the afm files are not installed (properly).  That error
message comes from PS_Open, and the other possible cause is that the
file argument cannot be opened for writing.

I've added some extra warning messages in these cases to distinguish them.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Sat Sep  2 10:38:09 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Sat, 2 Sep 2000 10:38:09 +0200 (MET DST)
Subject: [R] Object size in bytes
In-Reply-To: <200009012028.WAA28026@florence.ethz.ch>
Message-ID: <Pine.OSF.4.05.10009021034320.15448-100000@alnair.uio.no>

Dear all,

If I may request a feature, I would find it very useful to be able to
obtain a the sizes of the objects along with object names with e.g. ls().

Sometimes, my workspace gets cluttered up with all kinds of large objects
(arrgggh, entropy! :-)), and to clean it up, it would be nice to make a
list of the largest objects so I could delete whatever is not needed.

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramon-diaz at teleline.es  Sat Sep  2 13:02:18 2000
From: ramon-diaz at teleline.es (Ramon Diaz-Uriarte)
Date: Sat, 2 Sep 2000 11:02:18 +0000
Subject: [R] colors for  background and plotting area
Message-ID: <00090211092904.00610@ligarto>

Dear all,

I am trying to prepare some figures where I'd like the color of the plot region
(i.e., the area bounded by the axes) to be different from the margin area
(i.e., the area of the figure not within the axes region).  I can use "bg" but
that changes the background of everything? How can I accomplish what I want?

Thanks,

Ramon

 -- 
Ramón Díaz-Uriarte
Triana 47
28016 Madrid
Spain

email:ramon-diaz at teleline.es
Phone: +-34-917-730-620
       +-34-657-186-407	







-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Sep  2 11:36:15 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Sep 2000 11:36:15 +0200
Subject: [R] using browser() in complex programs - where am I?
In-Reply-To: Marcus Eger's message of "Sat, 02 Sep 2000 10:23:53 +0200"
References: <39AE7337.5B546336@physik.uni-marburg.de> <20000902110412.J2314@stat1.stat.auckland.ac.nz> <39B0B919.BF0DF3BA@physik.uni-marburg.de>
Message-ID: <x2pumnrv8w.fsf@blueberry.kubism.ku.dk>

Marcus Eger <marcus.eger at physik.uni-marburg.de> writes:

> Robert Gentleman wrote:
> > 
> > try
> >   where
> > i think it's in the help page
> 
> I don't have any "where" function in my packages....
> To which package does it belong?

On the help page for debug ... in the unreleased development version!

(Not that people aren't allowed to be using that version, just that we
don't even pretend that it has stabilized yet. It's available as daily
snapshots via the CRAN main page if you want to play around with it.
Or via rsync, see the FAQ.)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sat Sep  2 11:56:22 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 02 Sep 2000 11:56:22 +0200
Subject: [R] colors for  background and plotting area
In-Reply-To: Ramon Diaz-Uriarte's message of "Sat, 2 Sep 2000 11:02:18 +0000"
References: <00090211092904.00610@ligarto>
Message-ID: <x2itsfglrt.fsf@blueberry.kubism.ku.dk>

Ramon Diaz-Uriarte <ramon-diaz at teleline.es> writes:

> Dear all,
> 
> I am trying to prepare some figures where I'd like the color of the plot region
> (i.e., the area bounded by the axes) to be different from the margin area
> (i.e., the area of the figure not within the axes region).  I can use "bg" but
> that changes the background of everything? How can I accomplish what I want?

I think one is stuck with things like

plot(2:10,type="n")
do.call("rect",c(as.list(par("usr")[c(1,3,2,4)]),list(col="pink")))
points(2:10)

(or for the middle line, somewhat simpler

bb <- par("usr")
rect(bb[1],bb[3],bb[2],bb[4], col="pink")

)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Sat Sep  2 15:45:21 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Sat, 2 Sep 2000 09:45:21 -0400 (EDT)
Subject: [R] colors for  background and plotting area
In-Reply-To: <00090211092904.00610@ligarto>
Message-ID: <Pine.LNX.4.10.10009020938300.7042-100000@bolker.zoo.ufl.edu>


  Use "par" to find out where the boundaries/axes are, and "rect" to draw
the picture ... the 6th plot in demo(graphics) does the same thing.

  For example:

## code for coloring background

x <- runif(10)
y <- runif(10)

plot(x,y,type="n")
u <- par("usr")
rect(u[1],u[3],u[2],u[4],col="magenta")
points(x,y)


On Sat, 2 Sep 2000, Ramon Diaz-Uriarte wrote:

> Dear all,
> 
> I am trying to prepare some figures where I'd like the color of the plot region
> (i.e., the area bounded by the axes) to be different from the margin area
> (i.e., the area of the figure not within the axes region).  I can use "bg" but
> that changes the background of everything? How can I accomplish what I want?
> 
> Thanks,
> 
> Ramon
> 
>  -- 
> Ramón Díaz-Uriarte
> Triana 47
> 28016 Madrid
> Spain
> 
> email:ramon-diaz at teleline.es
> Phone: +-34-917-730-620
>        +-34-657-186-407	
> 
> 
> 
> 
> 
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Sat Sep  2 16:11:03 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Sat, 02 Sep 2000 16:11:03 +0200
Subject: [R] colors for  background and plotting area
Message-ID: <3.0.32.20000902161103.0091d220@162.38.183.200>

At 11:02 02/09/00 +0000, you wrote:
>Dear all,
>
>I am trying to prepare some figures where I'd like the color of the plot
region
>(i.e., the area bounded by the axes) to be different from the margin area
>(i.e., the area of the figure not within the axes region).  I can use "bg"
but
>that changes the background of everything? How can I accomplish what I want?
>
>Thanks,
>
>Ramon
>
> -- 
>Ram?n D?az-Uriarte
>Triana 47
>28016 Madrid
>Spain
>
>email:ramon-diaz at teleline.es
>Phone: +-34-917-730-620
>       +-34-657-186-407	

Hi,

Look at demo(graphics), there are two examples of this.

1. specify the backgroung colour (will colour outside the axes)
2. draw the axes without the plot using plot(..., type="n")
3. draw a rectangle within the axes 
4. draw the plot with lines() or points()

Best,

Emmanuel


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pvlad at bigfoot.com  Sat Sep  2 18:02:45 2000
From: pvlad at bigfoot.com (pvlad@bigfoot.com)
Date: Sat, 02 Sep 2000 11:02:45 -0500 (EST)
Subject: [R] What happenes with R-gnome? Suggestions
In-Reply-To: <87lmxbmzep.fsf@jeeves.blindglobe.net>
Message-ID: <XFMail.20000902110245.pvlad@bigfoot.com>

Hello,
not to diverge the discussion but from a newbie
prospective wxwindows is a pretty good choice for R's gui. 
 WxWindows (www.wxwindows.org),
is the ONLY gui cross-platform library that has all of the following
features:
a) does not emulate the underlying UI APIs of the operating system
   (i.e. a tab dialog on Linux will use GTK tab dialog,
    on windows it will use Microsoft's tab dialog API,
    and on Machintosh it will use theirs).  Which in my opinion,
    allows for more pleasant user experience/control of desktop
    and allows developers to integrate with already existing 
    applications on a given platform (for example, in wxwindows one can
    create an OLE automation server to be used with MS Excell)

b) On Unix/X11 you have a choice of making WxWindows to use
   either GTK or Motif (a compile time option, albeit
   GTK support is a bit more advanced then Motif)

c) Mac support is underway (it is just a bit behind the windows,
   and gtk support in terms of some APIs)

d) C++ (i.e. not interpreted or bytecompiled)
I am not sure, but I think there is an interface of wxWindows
to one of the functional programming languages (LISP), so
that can be used as a starting point for R.

e) very liberal license (like in BSD),
but has free (mailing list) and commercial support options

f) has reasonably good docs and example, but in addition to that
a book is being developed

g) support for unicode is not as developed as in Qt, but should
be usable (I have not tried it myself though).

WxWindows also have a number of utility classes for threads,
sockets, files, datastructures -- but I did not use them,
as I prefer STL and ACE. And by the way, wxWindows does not use
templates to avoid problems with older compilers (which
in my view is a drawback).

Regards,
Vladislav

On 02-Sep-2000 A.J. Rossini wrote:

[.... snip....]
> 
> On a separate tact -- GNOME is cool; it's one of the few desktops I've
> enjoyed using recently, but I'm very leery of R-GNOME.  The big issue
> really is cross-platform compatibility, and most of the decent Unix
> GUI APIs aren't easily cross-platform, sigh... (and yes, and being a
> major unix bigot, it's the painful truth).
> 
> best,
> -tony
> 
> -- 
> A.J. Rossini                          Rsrch. Asst. Prof. of Biostatistics
> BlindGlobe Networks (home/default)    rossini at blindglobe.net  
> UW Biostat/Center for AIDS Research   rossini at biostat.washington.edu  
> FHCRC/SCHARP/HIV Vaccine Trials Net   rossini at scharp.org
> 
> CFAR:   M/F: 206-731-3647 (fax=3694) | Email is far better than phone
> FHCRC: Tu/W: 206-667-7025 (fax=4812) | Voicemail is pretty sketchy
> UW:      Th: 206-543-1044 (fax=3286) | Change last 4 digits of phone for fax
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jdm at xnet.com  Sun Sep  3 20:27:51 2000
From: jdm at xnet.com (Jeff Miller)
Date: Sun, 3 Sep 2000 13:27:51 -0500
Subject: [R] removing rows from a dataframe
Message-ID: <001801c015d4$ae77a2e0$cee7fea9@x2t9h6>



    Hi,

    I have a dataframe, hilodata, which looks like this:

> hilodata
    sym         date               maxprice           minprice         ntick
 1  ABK     19910711     11.1867461      0.0000000       108
 2  ABK     19910712     11.5298979     11.1867461      111
 3  ABK     19910715     11.7357889     11.4612675       52
 4  ABK     19910716     11.5298979     11.3240068       51
 5  ABK     19910717     11.4612675     11.1181158       23
 6 CSCO   19910102      0.1553819      0.0000000         106
 7 CSCO   19910103      0.1527778      0.1458333         166
 8 CSCO   19910104      0.1475694      0.1397569         205
 9 CSCO   19910107      0.1414931      0.1362847         164
10 CSCO  19910108      0.1440972      0.1380208         127
11 CSCO  19910109      0.1467014      0.1414931          83
12 CSCO  19910110      0.1440972      0.1414931          70
13  KMP   19991213     40.5625000      0.0000000         63
14  KMP   19991214     41.3125000     40.4375000        71
15  KMP   19991215     42.1875000     41.1875000        99
16  KMP   19991216     43.5000000     42.1250000        96
17  KMP   19991217     43.8750000     42.5625000        77
18  KMP   19991220     44.0000000     43.3750000        56

    I'd like to make a new dataframe, newhilodata, that gets rid of each
symbols first
    row. So, in this example,  I'd like to get rid of rows 1, 6 and 13,
leaving

>  newhilodata
    sym         date               maxprice           minprice         ntick
 2  ABK     19910712     11.5298979     11.1867461      111
 3  ABK     19910715     11.7357889     11.4612675       52
 4  ABK     19910716     11.5298979     11.3240068       51
 5  ABK     19910717     11.4612675     11.1181158       23
 7 CSCO   19910103      0.1527778      0.1458333         166
 8 CSCO   19910104      0.1475694      0.1397569         205
 9 CSCO   19910107      0.1414931      0.1362847         164
10 CSCO  19910108      0.1440972      0.1380208         127
11 CSCO  19910109      0.1467014      0.1414931          83
12 CSCO  19910110      0.1440972      0.1414931          70
14  KMP   19991214     41.3125000     40.4375000        71
15  KMP   19991215     42.1875000     41.1875000        99
16  KMP   19991216     43.5000000     42.1250000        96
17  KMP   19991217     43.8750000     42.5625000        77
18  KMP   19991220     44.0000000     43.3750000        56

    what is the best way to do this in R?


    Thanks much,

            Jeff Miller




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Sep  3 21:17:12 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 03 Sep 2000 21:17:12 +0200
Subject: [R] removing rows from a dataframe
In-Reply-To: "Jeff Miller"'s message of "Sun, 3 Sep 2000 13:27:51 -0500"
References: <001801c015d4$ae77a2e0$cee7fea9@x2t9h6>
Message-ID: <x2aedpuvyf.fsf@blueberry.kubism.ku.dk>

"Jeff Miller" <jdm at xnet.com> writes:

>     Hi,
> 
>     I have a dataframe, hilodata, which looks like this:
> 
> > hilodata
>     sym         date               maxprice           minprice         ntick
>  1  ABK     19910711     11.1867461      0.0000000       108
>  2  ABK     19910712     11.5298979     11.1867461      111
>  3  ABK     19910715     11.7357889     11.4612675       52
>  4  ABK     19910716     11.5298979     11.3240068       51
>  5  ABK     19910717     11.4612675     11.1181158       23
>  6 CSCO   19910102      0.1553819      0.0000000         106
>  7 CSCO   19910103      0.1527778      0.1458333         166
>  8 CSCO   19910104      0.1475694      0.1397569         205
>  9 CSCO   19910107      0.1414931      0.1362847         164
> 10 CSCO  19910108      0.1440972      0.1380208         127
> 11 CSCO  19910109      0.1467014      0.1414931          83
> 12 CSCO  19910110      0.1440972      0.1414931          70
> 13  KMP   19991213     40.5625000      0.0000000         63
> 14  KMP   19991214     41.3125000     40.4375000        71
> 15  KMP   19991215     42.1875000     41.1875000        99
> 16  KMP   19991216     43.5000000     42.1250000        96
> 17  KMP   19991217     43.8750000     42.5625000        77
> 18  KMP   19991220     44.0000000     43.3750000        56
> 
>     I'd like to make a new dataframe, newhilodata, that gets rid of each
> symbols first
>     row. So, in this example,  I'd like to get rid of rows 1, 6 and 13,
> leaving
<snip>
>     what is the best way to do this in R?

Well 

newhilodata <- hilodata[-c(1,6,13),]

should do it. To solve the more general problem of omitting the first
in each group, assuming "sym" is a factor, try something like

newhilodata <- subset(hilodata, diff(c(0,as.integer(sym))) != 0)

(actually, the as.integer is unnecessary because the c() will unclass
the factor automagically)
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Mon Sep  4 00:31:53 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 03 Sep 2000 17:31:53 -0500
Subject: [R] removing rows from a dataframe
In-Reply-To: Peter Dalgaard BSA's message of "03 Sep 2000 21:17:12 +0200"
References: <001801c015d4$ae77a2e0$cee7fea9@x2t9h6> <x2aedpuvyf.fsf@blueberry.kubism.ku.dk>
Message-ID: <6rya19f6p2.fsf@franz.stat.wisc.edu>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> "Jeff Miller" <jdm at xnet.com> writes:
> 
> >     Hi,
> > 
> >     I have a dataframe, hilodata, which looks like this:
> > 
> > > hilodata
> >     sym         date               maxprice           minprice         ntick
> >  1  ABK     19910711     11.1867461      0.0000000       108
> >  2  ABK     19910712     11.5298979     11.1867461      111
> >  3  ABK     19910715     11.7357889     11.4612675       52
> >  4  ABK     19910716     11.5298979     11.3240068       51
> >  5  ABK     19910717     11.4612675     11.1181158       23
> >  6 CSCO   19910102      0.1553819      0.0000000         106
> >  7 CSCO   19910103      0.1527778      0.1458333         166
> >  8 CSCO   19910104      0.1475694      0.1397569         205
> >  9 CSCO   19910107      0.1414931      0.1362847         164
> > 10 CSCO  19910108      0.1440972      0.1380208         127
> > 11 CSCO  19910109      0.1467014      0.1414931          83
> > 12 CSCO  19910110      0.1440972      0.1414931          70
> > 13  KMP   19991213     40.5625000      0.0000000         63
> > 14  KMP   19991214     41.3125000     40.4375000        71
> > 15  KMP   19991215     42.1875000     41.1875000        99
> > 16  KMP   19991216     43.5000000     42.1250000        96
> > 17  KMP   19991217     43.8750000     42.5625000        77
> > 18  KMP   19991220     44.0000000     43.3750000        56
> > 
> >     I'd like to make a new dataframe, newhilodata, that gets rid of each
> > symbols first
> >     row. So, in this example,  I'd like to get rid of rows 1, 6 and 13,
> > leaving
> <snip>
> >     what is the best way to do this in R?
> 
> Well 
> 
> newhilodata <- hilodata[-c(1,6,13),]
> 
> should do it. To solve the more general problem of omitting the first
> in each group, assuming "sym" is a factor, try something like
> 
> newhilodata <- subset(hilodata, diff(c(0,as.integer(sym))) != 0)
> 
> (actually, the as.integer is unnecessary because the c() will unclass
> the factor automagically)

Alternatively, you could use the match function because it returns the
first match.

 > jm
     sym     date   maxprice   minprice ntick
 1   ABK 19910711 11.1867461  0.0000000   108
 2   ABK 19910712 11.5298979 11.1867461   111
 3   ABK 19910715 11.7357889 11.4612675    52
 4   ABK 19910716 11.5298979 11.3240068    51
 5   ABK 19910717 11.4612675 11.1181158    23
 6  CSCO 19910102  0.1553819  0.0000000   106
 7  CSCO 19910103  0.1527778  0.1458333   166
 8  CSCO 19910104  0.1475694  0.1397569   205
 9  CSCO 19910107  0.1414931  0.1362847   164
 10 CSCO 19910108  0.1440972  0.1380208   127
 11 CSCO 19910109  0.1467014  0.1414931    83
 12 CSCO 19910110  0.1440972  0.1414931    70
 13  KMP 19991213 40.5625000  0.0000000    63
 14  KMP 19991214 41.3125000 40.4375000    71
 15  KMP 19991215 42.1875000 41.1875000    99
 16  KMP 19991216 43.5000000 42.1250000    96
 17  KMP 19991217 43.8750000 42.5625000    77
 18  KMP 19991220 44.0000000 43.3750000    56
 > match(unique(jm$sym), jm$sym)
 [1]  1  6 13
 > jm <- jm[ -match(unique(jm$sym), jm$sym), ]
 > jm
     sym     date   maxprice   minprice ntick
 2   ABK 19910712 11.5298979 11.1867461   111
 3   ABK 19910715 11.7357889 11.4612675    52
 4   ABK 19910716 11.5298979 11.3240068    51
 5   ABK 19910717 11.4612675 11.1181158    23
 7  CSCO 19910103  0.1527778  0.1458333   166
 8  CSCO 19910104  0.1475694  0.1397569   205
 9  CSCO 19910107  0.1414931  0.1362847   164
 10 CSCO 19910108  0.1440972  0.1380208   127
 11 CSCO 19910109  0.1467014  0.1414931    83
 12 CSCO 19910110  0.1440972  0.1414931    70
 14  KMP 19991214 41.3125000 40.4375000    71
 15  KMP 19991215 42.1875000 41.1875000    99
 16  KMP 19991216 43.5000000 42.1250000    96
 17  KMP 19991217 43.8750000 42.5625000    77
 18  KMP 19991220 44.0000000 43.3750000    56
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep  4 00:40:40 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Sep 2000 00:40:40 +0200
Subject: [R] removing rows from a dataframe
In-Reply-To: Douglas Bates's message of "03 Sep 2000 17:31:53 -0500"
References: <001801c015d4$ae77a2e0$cee7fea9@x2t9h6> <x2aedpuvyf.fsf@blueberry.kubism.ku.dk> <6rya19f6p2.fsf@franz.stat.wisc.edu>
Message-ID: <x2wvgtxfo7.fsf@blueberry.kubism.ku.dk>

Douglas Bates <bates at stat.wisc.edu> writes:

> > newhilodata <- subset(hilodata, diff(c(0,as.integer(sym))) != 0)
> > 
> > (actually, the as.integer is unnecessary because the c() will unclass
> > the factor automagically)
> 
> Alternatively, you could use the match function because it returns the
> first match.

Or, as Robert pointed out to me privately: duplicated() does the trick

  subset(hilodata, duplicated(sym))

got to be the simplest variant.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sgsong at ucla.edu  Mon Sep  4 03:14:14 2000
From: sgsong at ucla.edu (Shige Song)
Date: Sun, 03 Sep 2000 18:14:14 -0700
Subject: [R] how to compile R source code under Win NT?
Message-ID: <39B2F7665D.3EEESGSONG@smtp.bol.ucla.edu>

Dear All,

This is an absolutely beginner's question: which compiler should I use to
compile R source code under Win NT platform?

Thanks a lot.

Shige Song
Department of Sociology, UCLA
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Mon Sep  4 04:31:27 2000
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Sun, 3 Sep 2000 22:31:27 -0400 (EDT)
Subject: [R] how to compile R source code under Win NT?
In-Reply-To: <39B2F7665D.3EEESGSONG@smtp.bol.ucla.edu> (message from Shige
	Song on Sun, 03 Sep 2000 18:14:14 -0700)
Message-ID: <200009040231.WAA05850@jessie.research.bell-labs.com>



A listing of the recommended tools, version infomation and URLs where
these tools can be found is given in the INSTALL file in the
src/gnuwin32 directory when you unzip the distribution file.

The relevant line in this file is
  We recommend that you use the mingw32 port of gcc-2.95.2 by Mumit Khan
    from http://www.mingw.org/ or 
    ftp://ftp.xraylith.wisc.edu/pub/khan/gnu-win32/mingw32

You will also need the appropriate version of Perl and the
different utilities such as make, cat, cp.

 D.


> Date: Sun, 03 Sep 2000 18:14:14 -0700
> From: Shige Song <sgsong at ucla.edu>
> 
> Dear All,
> 
> This is an absolutely beginner's question: which compiler should I use to
> compile R source code under Win NT platform?
> 
> Thanks a lot.
> 
> Shige Song
> Department of Sociology, UCLA



-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan

      "Languages shape the way we think, and determine what 
       we can think about."        
                                      Benjamin Whorf
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From John.Strumila at team.telstra.com  Mon Sep  4 05:30:13 2000
From: John.Strumila at team.telstra.com (Strumila, John)
Date: Mon, 4 Sep 2000 14:30:13 +1100 
Subject: [R] somebody's stolen my probabilities
Message-ID: <61411576E951D211AF330008C7245DD9066996EF@ntmsg0005.corpmail.telstra.com.au>

gday gurus,

could someone please help me with this one?  Can't find it in the doco.

summary of my lm object gives "Pr(>|t|)" but coef doesn't.  How do I get
hold of these probabilities within an object?  There doesn't seem to be an
appropriate attribute within the object - I was hoping for something like
"my.lm$probabilies".

I was hoping to grab the best t scores at run-time.

thanks,
John Strumila
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sgsong at ucla.edu  Mon Sep  4 05:51:25 2000
From: sgsong at ucla.edu (Shige Song)
Date: Sun, 03 Sep 2000 20:51:25 -0700
Subject: [R] how to compile R source code under Win NT?
In-Reply-To: <200009040231.WAA05850@jessie.research.bell-labs.com>
References: <39B2F7665D.3EEESGSONG@smtp.bol.ucla.edu> <200009040231.WAA05850@jessie.research.bell-labs.com>
Message-ID: <39B31C3D399.2149SGSONG@smtp.bol.ucla.edu>

Thanks a lot.

Best,
Shige

On Sun, 03 Sep 2000 22:31:27 -0400 (EDT)
Duncan Temple Lang <duncan at research.bell-labs.com> wrote:

> 
> 
> A listing of the recommended tools, version infomation and URLs where
> these tools can be found is given in the INSTALL file in the
> src/gnuwin32 directory when you unzip the distribution file.
> 
> The relevant line in this file is
>   We recommend that you use the mingw32 port of gcc-2.95.2 by Mumit Khan
>     from http://www.mingw.org/ or 
>     ftp://ftp.xraylith.wisc.edu/pub/khan/gnu-win32/mingw32
> 
> You will also need the appropriate version of Perl and the
> different utilities such as make, cat, cp.
> 
>  D.
> 
> 
> > Date: Sun, 03 Sep 2000 18:14:14 -0700
> > From: Shige Song <sgsong at ucla.edu>
> > 
> > Dear All,
> > 
> > This is an absolutely beginner's question: which compiler should I use to
> > compile R source code under Win NT platform?
> > 
> > Thanks a lot.
> > 
> > Shige Song
> > Department of Sociology, UCLA
> 
> 
> 
> -- 
> _______________________________________________________________
> 
> Duncan Temple Lang                duncan at research.bell-labs.com
> Bell Labs, Lucent Technologies    office: (908)582-3217
> 700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
> Murray Hill, NJ  07974-2070       
>          http://cm.bell-labs.com/stat/duncan
> 
>       "Languages shape the way we think, and determine what 
>        we can think about."        
>                                       Benjamin Whorf

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Sep  4 08:00:42 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 4 Sep 2000 07:00:42 +0100 (BST)
Subject: [R] somebody's stolen my probabilities
In-Reply-To: <61411576E951D211AF330008C7245DD9066996EF@ntmsg0005.corpmail.telstra.com.au>
Message-ID: <Pine.GSO.4.05.10009040655020.872-100000@auk.stats>

On Mon, 4 Sep 2000, Strumila, John wrote:

> gday gurus,
> 
> could someone please help me with this one?  Can't find it in the doco.
> 
> summary of my lm object gives "Pr(>|t|)" but coef doesn't.  How do I get
> hold of these probabilities within an object?  There doesn't seem to be an
> appropriate attribute within the object - I was hoping for something like
> "my.lm$probabilies".

They are not in the object, but in the result of summary applied to the
object. So:

> example(lm)
> slm.D9 <- summary(lm.D9)
> names(slm.D9)
 [1] "call"          "terms"         "residuals"     "coefficients" 
 [5] "sigma"         "df"            "r.squared"     "adj.r.squared"
 [9] "fstatistic"    "cov.unscaled" 
> slm.D9$coefficients 
            Estimate Std. Error   t value     Pr(>|t|)
(Intercept)    5.032  0.2202177 22.850117 9.547918e-15
groupTrt      -0.371  0.3114349 -1.191260 2.490232e-01
> slm.D9$coefficients[,4]
 (Intercept)     groupTrt 
9.547918e-15 2.490232e-01 

In general, summary.foo computes summaries, and print.summary.foo prints
it. Sometimes there is more in the summary object than printed (e.g.
intermediate results like the unscaled covariance matrix in summary.lm).

In this case ?summary.lm will help, but R is not very complete at
documenting summary methods.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Mon Sep  4 10:10:42 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Mon, 04 Sep 2000 10:10:42 +0200
Subject: [R] somebody's stolen my probabilities
Message-ID: <3.0.32.20000904101041.009197d0@162.38.183.200>

At 14:30 04/09/00 +1100, you wrote:
>gday gurus,
>
>could someone please help me with this one?  Can't find it in the doco.
>
>summary of my lm object gives "Pr(>|t|)" but coef doesn't.  How do I get
>hold of these probabilities within an object?  There doesn't seem to be an
>appropriate attribute within the object - I was hoping for something like
>"my.lm$probabilies".
>
>I was hoping to grab the best t scores at run-time.
>
>thanks,
>John Strumila

Hi,

Is it what you need?

> mod <- lm(y ~ x)
> coef(mod)                  # does not give all the information on coeffs
(Intercept)      x 
        2.5         1.5 
> coef(summary(mod))
            Estimate Std. Error  t value    Pr(>|t|)
(Intercept)      2.5  0.7371569 3.391408 0.003471731
     x           1.5  0.8296427 1.808007 0.088330784
> coef(summary(mod))[2,4]
[1] 0.08833078

Best,

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From holzer at stat.math.ethz.ch  Mon Sep  4 11:23:54 2000
From: holzer at stat.math.ethz.ch (Peter Holzer)
Date: Mon, 4 Sep 2000 11:23:54 +0200 (CEST)
Subject: [R] problems with R COMPILE in make
Message-ID: <14771.27178.351835.342956@gargle.gargle.HOWL>

Dear R helpers

I have a problem with R COMPILE. While the Makefile consisting of the lines


SOURCES = imageio.c procbase.c readargs.c regSegs.c goodiesPH.c \
	  generalAnalysis.c edgeAggregation.c utilities.alga.c \
	  cs.parametrizing.c
tst.so: $(SOURCES)
	R SHLIB -o $@ $(SOURCES)


works fine, the Makefile with the target replaced by


imageio.o: imageio.c
	R COMPILE imageio.c


results in


cd /u/holzer/CurrentWork/algen/C/
make
R COMPILE imageio.c
make[1]: Entering directory `/users/u1/staff/holzer/CurrentWork/algen/C'
R COMPILE imageio.c
make[2]: Entering directory `/users/u1/staff/holzer/CurrentWork/algen/C'
make[2]: *** No rule to make target `w'.  Stop.
make[2]: Leaving directory `/users/u1/staff/holzer/CurrentWork/algen/C'
make[1]: *** [imageio.o] Error 2
make[1]: Leaving directory `/users/u1/staff/holzer/CurrentWork/algen/C'
make: *** [imageio.o] Error 2

Compilation exited abnormally with code 2 at Mon Sep  4 10:41:57


However, if I add $ as a typo (or at least, when I did it, it was just a typo)


$imageio.o: imageio.c
	R COMPILE imageio.c


everything works fine again. Do I miss something there?

I have one more question concerning compilation. I don't like the option
-Wcomment, so when I use -Wall for myself I add -Wno-comment. However, when
setting PKG_CFLAGS = -Wno-comment in file `Makevars' this doesn't help. I
suppose the reason is that the -Wall option comes then _after_ the
-Wno-comment option. Is there a way around that?

Thanks for any help
Peter


> version
         _                
platform i686-pc-linux-gnu
arch     i686             
os       linux-gnu        
system   i686, linux-gnu  
status                    
major    1                
minor    1.1              
year     2000             
month    August           
day      15               
language R        

____________________________________________________________

Peter Holzer                      phone: + 41 1 632 46 34
Seminar fuer Statistik, LEO C14   fax:   + 41 1 632 12 28
(Leonhardstr. 27)                  <holzer at stat.math.ethz.ch>
ETH (Federal Inst. Technology)
8092 Zurich                       http://www.stat.math.ethz.ch/~holzer/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramon-diaz at teleline.es  Mon Sep  4 13:16:12 2000
From: ramon-diaz at teleline.es (Ramon Diaz-Uriarte)
Date: Mon, 4 Sep 2000 11:16:12 +0000
Subject: [R] colors for background and plotting area
In-Reply-To: <00090211092904.00610@ligarto>
References: <00090211092904.00610@ligarto>
Message-ID: <00090411283601.00369@ligarto>

Thank you very much to P. Dalgaard, E. Paradis and B. Bolker for their answers.
Basically, the 6th example in demo(graphics) shows how to do it: specify bg,
then use par to find boundaries of axes, color that rectangle with rect,
and add the points/lines.

> x <- rnorm(10)
> par(bg= "red")
> plot(x, type= "n")
> usr <- par("usr")
> rct(usr[1], usr[3], usr[2], usr[4], col = "blue")
> lines(x, col = "yellow")
 


Ramon


**** question ****
On Sat, 02 Sep 2000, Ramon Diaz-Uriarte wrote:
> Dear all,
> 
> I am trying to prepare some figures where I'd like the color of the plot region
> (i.e., the area bounded by the axes) to be different from the margin area
> (i.e., the area of the figure not within the axes region).  I can use "bg" but
> that changes the background of everything? How can I accomplish what I want?
> 
> Thanks,
> 
> Ramon
> 
>  -- 
> Ramón Díaz-Uriarte
> Triana 47
> 28016 Madrid
> Spain
> 
> email:ramon-diaz at teleline.es
> Phone: +-34-917-730-620
>        +-34-657-186-407	
> 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Charles.Raux at let.ish-lyon.cnrs.fr  Mon Sep  4 17:58:53 2000
From: Charles.Raux at let.ish-lyon.cnrs.fr (Charles Raux)
Date: Mon, 4 Sep 2000 16:58:53 +0100
Subject: [R] plot history, libraries, weights
Message-ID: <665010E481E@let.ish-lyon.cnrs.fr>

3 general questions:
1) How can I have the plot History Recording automatically turned on 
each time I start R (Windows)?
2) How can I have some libraries automatically loaded at R start?
3) As far as I know weights can be specified only for lm. How can I 
take account of weights with a weighted sample in other models or 
functions (table but also other multivariate and cluster techniques)?
Thanks

---------------
Charles RAUX,
Laboratoire d'Economie des Transports
CNRS-Universit? Lumi?re Lyon 2-ENTPE
email : charles.raux at let.ish-lyon.cnrs.fr
http://www.ish-lyon.cnrs.fr/let
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From duncan at research.bell-labs.com  Mon Sep  4 17:39:26 2000
From: duncan at research.bell-labs.com (Duncan Temple Lang)
Date: Mon, 4 Sep 2000 11:39:26 -0400 (EDT)
Subject: [R] problems with R COMPILE in make
Message-ID: <200009041539.LAA13736@jessie.research.bell-labs.com>


Hi Peter.

 I took a quick look at the R COMPILE problem and it seems that there
are in fact two problems.  One is the problem with the attempt to
build a target `w'. And the other is that if that error didn't arise,
you would have an infinite loop.

Here is quick fix to your problem. Add the line

  include $(R_HOME)/etc/Makeconf

to your Makefile. Then, make will compile imageio.o with the correct flags.

eyore[RCompile-174]>make
gcc -I/home2/FlowData/AltProjects/R-shared//include  -I/usr/local/include -mieee-fp -D__NO_MATH_INLINES  -fPIC  -g -O2 -c imageio.c -o imageio.o 


That should be enough to get things working.  The more detailed
explanation is as follows.

a) The rule
imageio.o: imageio.c
 	R COMPILE imageio.c

is executed by the first call to make.
The COMPILE script expands this to call

     make -f $R_HOME/etc/Makeconf -f Makefile imageio.o

At this point, this second make process sees the same rule, and does
the same thing. Hence, you have infinite recursion.



b) The problem about the target `w' is a problem resulting from the R
COMPILE script being called recursively from a make process.  The
second make process getting called via the COMPILE script is getting
the value of the make variable MAKEFLAG from the top-level make you
executed manually.  This is implicitly set to w (meaning to print
directory information before and after the makefile is "executed")
and not -w. At this point, I am not certain whether this is an
R oversight or a GNU make bug.

 Hope this helps.

  D.






> From: Peter Holzer <holzer at stat.math.ethz.ch>
> Date: Mon, 4 Sep 2000 11:23:54 +0200 (CEST)
> Sender: owner-r-help at stat.math.ethz.ch
> Precedence: bulk
> 
> Dear R helpers
> 
> I have a problem with R COMPILE. While the Makefile consisting of the lines
> 
> 
> SOURCES = imageio.c procbase.c readargs.c regSegs.c goodiesPH.c \
> 	  generalAnalysis.c edgeAggregation.c utilities.alga.c \
> 	  cs.parametrizing.c
> tst.so: $(SOURCES)
> 	R SHLIB -o $@ $(SOURCES)
> 
> 
> works fine, the Makefile with the target replaced by
> 
> 
> imageio.o: imageio.c
> 	R COMPILE imageio.c
> 
> 
> results in
> 
> 
> cd /u/holzer/CurrentWork/algen/C/
> make
> R COMPILE imageio.c
> make[1]: Entering directory `/users/u1/staff/holzer/CurrentWork/algen/C'
> R COMPILE imageio.c
> make[2]: Entering directory `/users/u1/staff/holzer/CurrentWork/algen/C'
> make[2]: *** No rule to make target `w'.  Stop.
> make[2]: Leaving directory `/users/u1/staff/holzer/CurrentWork/algen/C'
> make[1]: *** [imageio.o] Error 2
> make[1]: Leaving directory `/users/u1/staff/holzer/CurrentWork/algen/C'
> make: *** [imageio.o] Error 2
> 
> Compilation exited abnormally with code 2 at Mon Sep  4 10:41:57
> 
> 
> However, if I add $ as a typo (or at least, when I did it, it was just a typo)
> 
> 
> $imageio.o: imageio.c
> 	R COMPILE imageio.c
> 
> 
> everything works fine again. Do I miss something there?
> 
> I have one more question concerning compilation. I don't like the option
> -Wcomment, so when I use -Wall for myself I add -Wno-comment. However, when
> setting PKG_CFLAGS = -Wno-comment in file `Makevars' this doesn't help. I
> suppose the reason is that the -Wall option comes then _after_ the
> -Wno-comment option. Is there a way around that?
> 
> Thanks for any help
> Peter
> 
> 
> > version
>          _                
> platform i686-pc-linux-gnu
> arch     i686             
> os       linux-gnu        
> system   i686, linux-gnu  
> status                    
> major    1                
> minor    1.1              
> year     2000             
> month    August           
> day      15               
> language R        
> 
> ____________________________________________________________
> 
> Peter Holzer                      phone: + 41 1 632 46 34
> Seminar fuer Statistik, LEO C14   fax:   + 41 1 632 12 28
> (Leonhardstr. 27)                  <holzer at stat.math.ethz.ch>
> ETH (Federal Inst. Technology)
> 8092 Zurich                       http://www.stat.math.ethz.ch/~holzer/
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan

      "Languages shape the way we think, and determine what 
       we can think about."        
                                      Benjamin Whorf
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Sep  4 19:28:26 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 4 Sep 2000 10:28:26 -0700 (PDT)
Subject: [R] how to compile R source code under Win NT?
In-Reply-To: <200009040231.WAA05850@jessie.research.bell-labs.com>
Message-ID: <Pine.GSO.4.21.0009041025030.6541-100000@atlas.biostat.washington.edu>

On Sun, 3 Sep 2000, Duncan Temple Lang wrote:

> 
> 
> A listing of the recommended tools, version infomation and URLs where
> these tools can be found is given in the INSTALL file in the
> src/gnuwin32 directory when you unzip the distribution file.
> 
> The relevant line in this file is
>   We recommend that you use the mingw32 port of gcc-2.95.2 by Mumit Khan
>     from http://www.mingw.org/ or 
>     ftp://ftp.xraylith.wisc.edu/pub/khan/gnu-win32/mingw32
> 
> You will also need the appropriate version of Perl and the
> different utilities such as make, cat, cp.

Also note that you need to follow the recommendations *exactly* or it
probably won't work.  It's a lot less robust to minor variations than Unix
compilation and there are bugs or anomalies in a lot of the available
tools.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

> 
>  D.
> 
> 
> > Date: Sun, 03 Sep 2000 18:14:14 -0700
> > From: Shige Song <sgsong at ucla.edu>
> > 
> > Dear All,
> > 
> > This is an absolutely beginner's question: which compiler should I use to
> > compile R source code under Win NT platform?
> > 
> > Thanks a lot.
> > 
> > Shige Song
> > Department of Sociology, UCLA
> 
> 
> 
> -- 
> _______________________________________________________________
> 
> Duncan Temple Lang                duncan at research.bell-labs.com
> Bell Labs, Lucent Technologies    office: (908)582-3217
> 700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
> Murray Hill, NJ  07974-2070       
>          http://cm.bell-labs.com/stat/duncan
> 
>       "Languages shape the way we think, and determine what 
>        we can think about."        
>                                       Benjamin Whorf
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Sep  4 19:41:28 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 4 Sep 2000 18:41:28 +0100 (BST)
Subject: [R] plot history, libraries, weights
In-Reply-To: <665010E481E@let.ish-lyon.cnrs.fr>
Message-ID: <Pine.GSO.4.05.10009041835100.16734-100000@auk.stats>

On Mon, 4 Sep 2000, Charles Raux wrote:

> 3 general questions:
> 1) How can I have the plot History Recording automatically turned on 
> each time I start R (Windows)?

You can't.  We'll treat that as an enhancement request.  It's actually a
per-device switch, so it could be part of the windows() function
arguments.

> 2) How can I have some libraries automatically loaded at R start?

Use .Rprofile. See ?Startup

> 3) As far as I know weights can be specified only for lm. How can I 
> take account of weights with a weighted sample in other models or 
> functions (table but also other multivariate and cluster techniques)?

It can be specified for lots of modelling functions.  Beware though, that
what `weights' means needs careful definition, and Stata (I believe)
manages to have four kinds of weights.  In regression weights=4
could mean `I have four of these cases' or `give this case weight 4
in weighted LS', for example.  Fortunately in regression it rarely
matters, but it can do in other settings.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Sep  4 19:45:44 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 4 Sep 2000 10:45:44 -0700 (PDT)
Subject: [R] plot history, libraries, weights
In-Reply-To: <665010E481E@let.ish-lyon.cnrs.fr>
Message-ID: <Pine.GSO.4.21.0009041032410.6541-100000@atlas.biostat.washington.edu>

On Mon, 4 Sep 2000, Charles Raux wrote:

> 3 general questions:
> 1) How can I have the plot History Recording automatically turned on 
> each time I start R (Windows)?
> 2) How can I have some libraries automatically loaded at R start?

The .Rprofile file is executed at start-up.  Load
the packages there. It's described in the  Windows readme file.
 
> 3) As far as I know weights can be specified only for lm. How can I 
> take account of weights with a weighted sample in other models or 
> functions (table but also other multivariate and cluster techniques)?

Some other functions have weights (eg glm, some survival functions).  Most
don't.  Also, most of the functions that have weights have frequency
weights rather than probability weights: that is, setting a weight equal
to 2 has exactly the same effect as replicating the observation. We don't
have (and IMO do need) facilities for probability weights, where a weight
of 2 means that sampling probability for that unit was half the
probability for a unit with weight 1. 

If you have frequency weights you may have to expand your dataset.

  expanded.data<-as.data.frame(lapply(compressed.data,
                   function(x) rep(x,compressed.data$weights)))

should do it.


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Mon Sep  4 19:46:09 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Mon, 4 Sep 2000 18:46:09 +0100 (BST)
Subject: [R] how to compile R source code under Win NT?
In-Reply-To: <Pine.GSO.4.21.0009041025030.6541-100000@atlas.biostat.washington.edu>
Message-ID: <Pine.GSO.4.05.10009041842280.16734-100000@auk.stats>

On Mon, 4 Sep 2000, Thomas Lumley wrote:

> On Sun, 3 Sep 2000, Duncan Temple Lang wrote:
> 
> > 
> > 
> > A listing of the recommended tools, version infomation and URLs where
> > these tools can be found is given in the INSTALL file in the
> > src/gnuwin32 directory when you unzip the distribution file.
> > 
> > The relevant line in this file is
> >   We recommend that you use the mingw32 port of gcc-2.95.2 by Mumit Khan
> >     from http://www.mingw.org/ or 
> >     ftp://ftp.xraylith.wisc.edu/pub/khan/gnu-win32/mingw32
> > 
> > You will also need the appropriate version of Perl and the
> > different utilities such as make, cat, cp.
> 
> Also note that you need to follow the recommendations *exactly* or it
> probably won't work.  It's a lot less robust to minor variations than Unix
> compilation and there are bugs or anomalies in a lot of the available
> tools.

'Fraid so.  Also, as things which worked when an R version was released
maybe no longer do so, we have a `portal' at
http://www.stats.ox.ac.uk/pub/Rtools/
with links to current URLs for the currently recommended tools.
(Even then sites go up and down.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep  4 20:48:11 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 04 Sep 2000 20:48:11 +0200
Subject: [R] plot history, libraries, weights
In-Reply-To: Thomas Lumley's message of "Mon, 4 Sep 2000 10:45:44 -0700 (PDT)"
References: <Pine.GSO.4.21.0009041032410.6541-100000@atlas.biostat.washington.edu>
Message-ID: <x28zt80z9w.fsf@blueberry.kubism.ku.dk>

Thomas Lumley <thomas at biostat.washington.edu> writes:

>  
> > 3) As far as I know weights can be specified only for lm. How can I 
> > take account of weights with a weighted sample in other models or 
> > functions (table but also other multivariate and cluster techniques)?
> 
> Some other functions have weights (eg glm, some survival functions).  Most
> don't.  Also, most of the functions that have weights have frequency
> weights rather than probability weights: that is, setting a weight equal
> to 2 has exactly the same effect as replicating the observation. 

Um, "..same effect as assuming that the observation is the average of
2 basic observations" is closer to the fact in lm and glm, and that's
not quite the same. (Still not quite precise though, since it doesn't
capture the fact that weights are relative - multiply all by 5 and you
should get the same result. Great disasters have happened when
performing weighted least squares in systems that literally replicate
observations....)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From John.Strumila at team.telstra.com  Mon Sep  4 23:23:12 2000
From: John.Strumila at team.telstra.com (Strumila, John)
Date: Tue, 5 Sep 2000 08:23:12 +1100 
Subject: [R] somebody's stolen my probabilities
Message-ID: <61411576E951D211AF330008C7245DD906699789@ntmsg0005.corpmail.telstra.com.au>

thanks R friends especially Emmanuel Paradis and Brian Ripley.

What an idiot - it's so obvious now!

John Strumila
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Tue Sep  5 05:37:29 2000
From: feldesmanm at pdx.edu (Marc R. Feldesman)
Date: Mon, 04 Sep 2000 20:37:29 -0700
Subject: [R] how to compile R source code under Win NT?
In-Reply-To: <200009040231.WAA05850@jessie.research.bell-labs.com>
References: <39B2F7665D.3EEESGSONG@smtp.bol.ucla.edu>
Message-ID: <4.3.2.7.2.20000904203325.00b3b780@127.0.0.1>

Is the INSTALL file missing from the Windows distribution of 1.1.1?  I've 
scoured my src/gnuwin32 directory, re-downloaded all the files (especially 
the RW1011sp.zip), examined the contents of each zip file, installed and 
reinstalled the source, and there is no file called INSTALL.

Where else should I look?

At 10:31 PM 9/3/00 -0400, Duncan Temple Lang wrote:
 >
 >
 >A listing of the recommended tools, version infomation and URLs where
 >these tools can be found is given in the INSTALL file in the
 >src/gnuwin32 directory when you unzip the distribution file.
 >
 >The relevant line in this file is
 >  We recommend that you use the mingw32 port of gcc-2.95.2 by Mumit Khan
 >    from http://www.mingw.org/ or
 >    ftp://ftp.xraylith.wisc.edu/pub/khan/gnu-win32/mingw32
 >
 >You will also need the appropriate version of Perl and the
 >different utilities such as make, cat, cp.
 >
 > D.
 >
 >
 >> Date: Sun, 03 Sep 2000 18:14:14 -0700
 >> From: Shige Song <sgsong at ucla.edu>
 >>
 >> Dear All,
 >>
 >> This is an absolutely beginner's question: which compiler should I use to
 >> compile R source code under Win NT platform?
 >>
 >> Thanks a lot.
 >>
 >> Shige Song
 >> Department of Sociology, UCLA
 >
 >
 >
 >--
 >_______________________________________________________________
 >
 >Duncan Temple Lang                duncan at research.bell-labs.com
 >Bell Labs, Lucent Technologies    office: (908)582-3217
 >700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
 >Murray Hill, NJ  07974-2070
 >         http://cm.bell-labs.com/stat/duncan
 >
 >      "Languages shape the way we think, and determine what
 >       we can think about."
 >                                      Benjamin Whorf
 >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
 >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 >Send "info", "help", or "[un]subscribe"
 >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
 >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

Dr. Marc R. Feldesman
email:  feldesmanm at pdx.edu
email:  feldesman at ibm.net
fax:    503-725-3905

"Don't know where I'm going.
Don't like where I've been.
There may be no exit.
But hell, I'm going in."  Jimmy Buffett

Powered by Superchoerus - the 700 MHz Coppermine Box

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep  5 07:42:45 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 5 Sep 2000 06:42:45 +0100 (BST)
Subject: [R] how to compile R source code under Win NT?
In-Reply-To: <4.3.2.7.2.20000904203325.00b3b780@127.0.0.1>
Message-ID: <Pine.GSO.4.05.10009050636250.6987-100000@auk.stats>

On Mon, 4 Sep 2000, Marc R. Feldesman wrote:

> Is the INSTALL file missing from the Windows distribution of 1.1.1?  I've 
> scoured my src/gnuwin32 directory, re-downloaded all the files (especially 
> the RW1011sp.zip), examined the contents of each zip file, installed and 
> reinstalled the source, and there is no file called INSTALL.

It's in the R sources (R-1.1.1.tgz), and it tells you how to build R
itself from source. Very few people do that.  If all you want to do
is build addon packages, readme.packages has the information needed.
INSTALL is not in the binary distribution, nor relevant to it (unless
cross-compiling packages, and you are unlikely to do that without
cross-building R itself).

Shige Song asked how to compile `R source code'  and Duncan interpreted
this as `compiling R from source' as code in the R dialect of S is not
compiled.

> 
> Where else should I look?
> 
> At 10:31 PM 9/3/00 -0400, Duncan Temple Lang wrote:
>  >
>  >
>  >A listing of the recommended tools, version infomation and URLs where
>  >these tools can be found is given in the INSTALL file in the
>  >src/gnuwin32 directory when you unzip the distribution file.
>  >
>  >The relevant line in this file is
>  >  We recommend that you use the mingw32 port of gcc-2.95.2 by Mumit Khan
>  >    from http://www.mingw.org/ or
>  >    ftp://ftp.xraylith.wisc.edu/pub/khan/gnu-win32/mingw32
>  >
>  >You will also need the appropriate version of Perl and the
>  >different utilities such as make, cat, cp.
>  >
>  > D.
>  >
>  >
>  >> Date: Sun, 03 Sep 2000 18:14:14 -0700
>  >> From: Shige Song <sgsong at ucla.edu>
>  >>
>  >> Dear All,
>  >>
>  >> This is an absolutely beginner's question: which compiler should I use to
>  >> compile R source code under Win NT platform?
>  >>
>  >> Thanks a lot.
>  >>
>  >> Shige Song
>  >> Department of Sociology, UCLA
>  >
>  >
>  >
>  >--
>  >_______________________________________________________________
>  >
>  >Duncan Temple Lang                duncan at research.bell-labs.com
>  >Bell Labs, Lucent Technologies    office: (908)582-3217
>  >700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
>  >Murray Hill, NJ  07974-2070
>  >         http://cm.bell-labs.com/stat/duncan
>  >
>  >      "Languages shape the way we think, and determine what
>  >       we can think about."
>  >                                      Benjamin Whorf
>  >-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>  >r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>  >Send "info", "help", or "[un]subscribe"
>  >(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>  >_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> Dr. Marc R. Feldesman
> email:  feldesmanm at pdx.edu
> email:  feldesman at ibm.net
> fax:    503-725-3905
> 
> "Don't know where I'm going.
> Don't like where I've been.
> There may be no exit.
> But hell, I'm going in."  Jimmy Buffett
> 
> Powered by Superchoerus - the 700 MHz Coppermine Box
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.salim at ucc.ie  Tue Sep  5 11:12:20 2000
From: a.salim at ucc.ie (Agus Salim)
Date: Tue, 05 Sep 2000 10:12:20 +0100
Subject: [R] how to detach a library?
Message-ID: <3.0.1.32.20000905101220.006ac208@bureau.ucc.ie>

Dear R-users,

What command do I need to use to detach a library?

(without restart the R session).


Thanks,
Agus



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep  5 11:39:32 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Sep 2000 11:39:32 +0200
Subject: [R] how to detach a library?
In-Reply-To: Agus Salim's message of "Tue, 05 Sep 2000 10:12:20 +0100"
References: <3.0.1.32.20000905101220.006ac208@bureau.ucc.ie>
Message-ID: <x2u2bv89ez.fsf@blueberry.kubism.ku.dk>

Agus Salim <a.salim at ucc.ie> writes:

> Dear R-users,
> 
> What command do I need to use to detach a library?
> 

detach()...


specifically:


> library(ctest)
> library(survival5)
> search()
[1] ".GlobalEnv"        "package:survival5" "package:ctest"    
[4] "Autoloads"         "package:base"     
> detach("package:ctest")
> search()
[1] ".GlobalEnv"        "package:survival5" "Autoloads"        
[4] "package:base"     


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mriordan at nmrc.ucc.ie  Fri Sep  8 13:19:15 2000
From: mriordan at nmrc.ucc.ie (Margaret Riordan)
Date: Fri, 08 Sep 2000 12:19:15 +0100
Subject: [R] RData file
Message-ID: <39B8CB33.D8B8F8D8@nmrc.ucc.ie>

Hi all,
I just quit R Version 1.1.0 in the usual q() manner which resulted in  a
fatal error, which seems to have wiped out all my RData file.

Now when I try to load up R it gives the message

Error: restore file corrupted -- no data loaded
Fatal error : unable to restore saved data
 (remove .RData or increase memory)

How do I access the RData or what do I increase the memory size to to
retrieve my data ?
Regards
Margaret Riordan

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcus.eger at physik.uni-marburg.de  Tue Sep  5 13:24:34 2000
From: marcus.eger at physik.uni-marburg.de (Marcus Eger)
Date: Tue, 05 Sep 2000 13:24:34 +0200
Subject: [R] still problem with installation of locfit on DEC alphaev56-dec-osf4.0d
Message-ID: <39B4D7F2.F2C6DFC4@physik.uni-marburg.de>

Dear all,

after building the R-1.1.1 from source on our alpha everything
seems to work, but locfit still hangs...
I installed locfit with install.packages(...),
the installation process went fine, but calling locfit() blocks the
R environment.

Has anybody got an idea howto get to the roots of this problem?
Thanks

  M. Eger

-- 
+-------------------------------------------------------
| Marcus Eger
| Philipps Universitaet Marburg
| Fachbereich Physik AG Neurophysik
| Renthof 7
| 35032 Marburg
| Tel. +49 6421 282-4169
| Fax  +49 6421 282-7034
+-------------------------------------------------------
| E-Mail: marcus.eger at physik.uni-marburg.de
+-------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Sep  5 13:27:13 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 5 Sep 2000 13:27:13 +0200 (CEST)
Subject: [R] Ploting NA location points
In-Reply-To: <Pine.LNX.4.04.10008110324250.21966-100000@xyzzy.dsl.speakeasy.net>
References: <dgkd7jgmcu0.fsf@scs2.ncl.ac.uk>
	<Pine.LNX.4.04.10008110324250.21966-100000@xyzzy.dsl.speakeasy.net>
Message-ID: <14772.55441.776474.596904@gargle.gargle.HOWL>

>>>>> "Trent" == Trent Piepho <xyzzy at speakeasy.org> writes:

      ...

    Trent>    plot(x,y, pch=21, bg=c(4,2)[is.na(z)+1])

    Trent> You need to use a point type from 21 to 25 for the background
    Trent> color to show up.
	   ........
    Trent> To go along with the plot, I suggest something like:

    Trent> 	legend(0,0, c("Non-Missing", "Missing"), fill=c(4,2))

    Trent> The legend will have square boxes of color instead of filled
    Trent> circles like pch=21,bg=c(...) will give you.  I haven't been
    Trent> able to figure out how to get a color filled symbol in a plot
    Trent> legend.  The bg parameter will apply to the background of the
    Trent> entire legend, and not the plotting symbols.
yes.
and I took your notice above as a feature request.
It needs (yet) another argument to legend(.), such as

   pt.bg
or point.bg
or points.bg
or pch.bg

(not starting with "bg" to avoid misunderstandings with existing argument bg)
I propose to use the first one ..
(and am about to commit that for R-devel aka "R 1.2 to be").
Opinions?

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep  5 13:42:48 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 05 Sep 2000 13:42:48 +0200
Subject: [R] still problem with installation of locfit on DEC alphaev56-dec-osf4.0d
In-Reply-To: Marcus Eger's message of "Tue, 05 Sep 2000 13:24:34 +0200"
References: <39B4D7F2.F2C6DFC4@physik.uni-marburg.de>
Message-ID: <x2r96z83pj.fsf@blueberry.kubism.ku.dk>

Marcus Eger <marcus.eger at physik.uni-marburg.de> writes:

> Dear all,
> 
> after building the R-1.1.1 from source on our alpha everything
> seems to work, but locfit still hangs...
> I installed locfit with install.packages(...),
> the installation process went fine, but calling locfit() blocks the
> R environment.
> 
> Has anybody got an idea howto get to the roots of this problem?
> Thanks

Hmm. Perhaps if you start R under a debugger, i.e. 

R -d gdb

perform the steps to get it to block and type C-c which should drop
you into the debugger.

Then tell us where the loop seems to occur, supplemented with output
from the "bt" command.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Tue Sep  5 14:26:48 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Tue, 05 Sep 2000 14:26:48 +0200
Subject: [R] how to detach a library?
Message-ID: <3.0.32.20000905142648.00903bc0@162.38.183.200>

At 10:12 05/09/00 +0100, you wrote:
>Dear R-users,
>
>What command do I need to use to detach a library?
>
>(without restart the R session).
>
>
>Thanks,
>Agus

Hi,

Use detach(package:...), for instance:

> search()
[1] ".GlobalEnv"    "package:ctest" "Autoloads"     "package:base" 
> detach(package:ctest)
> search()
[1] ".GlobalEnv"   "Autoloads"    "package:base"

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Tue Sep  5 14:30:21 2000
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Tue, 5 Sep 2000 08:30:21 -0400 (EDT)
Subject: [R] still problem with installation of locfit on DEC alphaev56-dec-osf4.0d
In-Reply-To: <39B4D7F2.F2C6DFC4@physik.uni-marburg.de>
Message-ID: <Pine.SGI.3.96.1000905082647.525129A-100000@ln.nimh.nih.gov>

Marcus --

I don't know whether this is your problem, but it's one I ran into.  In
the src directory of the locfit package, there is a file locfit.h.  About
halfway through that file there's a typedef of INT.  

For the R version (as noted in the file), the line should read

typedef int INT

but in the version I got, it actually said 

typedef long int INT.

Fixing this solved the problem on our alpha (running linux).

Hope this helps,

Matt


On Tue, 5 Sep 2000, Marcus Eger wrote:

> Dear all,
> 
> after building the R-1.1.1 from source on our alpha everything
> seems to work, but locfit still hangs...
> I installed locfit with install.packages(...),
> the installation process went fine, but calling locfit() blocks the
> R environment.
> 
> Has anybody got an idea howto get to the roots of this problem?
> Thanks
> 
>   M. Eger
> 
> -- 
> +-------------------------------------------------------
> | Marcus Eger
> | Philipps Universitaet Marburg
> | Fachbereich Physik AG Neurophysik
> | Renthof 7
> | 35032 Marburg
> | Tel. +49 6421 282-4169
> | Fax  +49 6421 282-7034
> +-------------------------------------------------------
> | E-Mail: marcus.eger at physik.uni-marburg.de
> +-------------------------------------------------------
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Tue Sep  5 14:37:13 2000
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 05 Sep 2000 08:37:13 -0400
Subject: [R] Object size in bytes
In-Reply-To: <Pine.OSF.4.05.10009021034320.15448-100000@alnair.uio.no>
References: <Pine.OSF.4.05.10009021034320.15448-100000@alnair.uio.no>
Message-ID: <39b4e852.1250450@fisher.stats.uwo.ca>

On Sat, 2 Sep 2000 10:38:09 +0200 (MET DST),Kjetil Kjernsmo
<kjetil.kjernsmo at astro.uio.no> wrote in message
<Pine.OSF.4.05.10009021034320.15448-100000 at alnair.uio.no>:

>Dear all,
>
>If I may request a feature, I would find it very useful to be able to
>obtain a the sizes of the objects along with object names with e.g. ls().

In S-PLUS, objects.summary() does this. (Size means number of
components, not size in bytes, so it's not very informative for some
structured objects, but it definitely does let you find the big
vectors of numbers.)  Kjetil's right, it's useful.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcus.eger at physik.uni-marburg.de  Tue Sep  5 14:43:21 2000
From: marcus.eger at physik.uni-marburg.de (Marcus Eger)
Date: Tue, 05 Sep 2000 14:43:21 +0200
Subject: [R] SOLVED problem with installation of locfit on DEC 
 alphaev56-dec-osf4.0d
References: <Pine.SGI.3.96.1000905082647.525129A-100000@ln.nimh.nih.gov>
Message-ID: <39B4EA69.8CB7739C@physik.uni-marburg.de>

Thanks for your help. Matt, your hint solved the
problem: actually it was the typedef in the local.h,
however, but now it runs...

   Marcus

Matthew Wiener wrote:
> 
> Marcus --
> 
> I don't know whether this is your problem, but it's one I ran into.  In
> the src directory of the locfit package, there is a file locfit.h.  About
> halfway through that file there's a typedef of INT.
> 
> For the R version (as noted in the file), the line should read
> 
> typedef int INT
> 
> but in the version I got, it actually said
> 
> typedef long int INT.
> 
> Fixing this solved the problem on our alpha (running linux).
> 
> Hope this helps,
> 
> Matt
> 
> On Tue, 5 Sep 2000, Marcus Eger wrote:
> 
> > Dear all,
> >
> > after building the R-1.1.1 from source on our alpha everything
> > seems to work, but locfit still hangs...
> > I installed locfit with install.packages(...),
> > the installation process went fine, but calling locfit() blocks the
> > R environment.
> >
> > Has anybody got an idea howto get to the roots of this problem?
> > Thanks
> >
> >   M. Eger
> >
-- 
+-------------------------------------------------------
| Marcus Eger
| Philipps Universitaet Marburg
| Fachbereich Physik AG Neurophysik
| Renthof 7
| 35032 Marburg
| Tel. +49 6421 282-4169
| Fax  +49 6421 282-7034
+-------------------------------------------------------
| E-Mail: marcus.eger at physik.uni-marburg.de
+-------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Tue Sep  5 14:17:15 2000
From: plummer at iarc.fr (Martyn Plummer)
Date: Tue, 05 Sep 2000 14:17:15 +0200 (CEST)
Subject: [R] RData file
In-Reply-To: <39B8CB33.D8B8F8D8@nmrc.ucc.ie>
Message-ID: <XFMail.000905141715.plummer@iarc.fr>

On 08-Sep-00 Margaret Riordan wrote:
> Hi all,
> I just quit R Version 1.1.0 in the usual q() manner which resulted in  a
> fatal error, which seems to have wiped out all my RData file.
> 
> Now when I try to load up R it gives the message
> 
> Error: restore file corrupted -- no data loaded
> Fatal error : unable to restore saved data
>  (remove .RData or increase memory)
> 
> How do I access the RData or what do I increase the memory size to to
> retrieve my data ?

Is your disk full? If so then you may have lost your data.
I'm just guessing, but this happened to me a long time ago.
Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Tue Sep  5 16:38:36 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Tue, 5 Sep 2000 10:38:36 -0400
Subject: [R] DLL?
Message-ID: <00b401c01746$f9ecf720$0201a8c0@Workgroup>

Hi,

I noticed a particular behavior in the following situation on:

platform Windows
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    1.0
year     2000
month    June
day      15
language R


I've created  a DLL from a Fortran source and a R function to call it. I
noticed while testing the function that I had forgotten something, so I
unloaded the DLL, made the modifications to the Fortran source, recompiled,
reload and retest. This caused R to crash, so I restarted R (GUI) and made
another attempt to test the function and it work fine. It looks like
something is wrong maybe with dyn.unload or whatever. I tried something
similar with C source and the same thing appends. Is it R or Windows NT the
culprit?

Thanks in advance.

Yves Gauvreau

PS I'm using the latest Cygnus suite of compilers in case this as something
to do with the problem.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Sep  5 17:30:21 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 5 Sep 2000 08:30:21 -0700 (PDT)
Subject: [R] plot history, libraries, weights
In-Reply-To: <x28zt80z9w.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.21.0009050813400.12690-100000@atlas.biostat.washington.edu>

On 4 Sep 2000, Peter Dalgaard BSA wrote:
> 
> Um, "..same effect as assuming that the observation is the average of
> 2 basic observations" is closer to the fact in lm and glm, and that's
> not quite the same. (Still not quite precise though, since it doesn't
> capture the fact that weights are relative - multiply all by 5 and you
> should get the same result. Great disasters have happened when
> performing weighted least squares in systems that literally replicate
> observations....)

Yes, this sort of thing is why Stata's handling of weights is useful.  
There are plenty of situations where rescaling all the weights *should*
affect the result. Stata has three types of weights, plus a fourth type
for future extensions. Different Stata commands allow different weight
types as appropriate (or as implemented)

  - frequency weights: represents w identical observations. (parameter
estimates are invariant to rescaling, but inference isn't). This is
relatively common for logistic regression in disciplines where people like
to make their variables categorical.

  - probability weights: represents w observations in the population
(inference is invariant to rescaling, but usual WLS standard errors are
wrong)

  - variance weights: the standard WLS thing where variance is inversely
proportional to the weight, and everything is invariant under rescaling.

  - "iweights" designed to let programmers have a different type of weight
if they want one for some reason.

The first three are conceptually very different, although they lead to the
same WLS estimation procedure.  The differences are not, IMO, handled well
in the regression literature, where you typically see only one sort of
weight. 

The handling of weights, together with the related issue of robust
(Huber/White-type) standard errors, is probably my favorite feature in
Stata, and one that I would like to get into glm() in R.


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Sep  5 17:38:28 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 5 Sep 2000 08:38:28 -0700 (PDT)
Subject: [R] RData file
In-Reply-To: <39B8CB33.D8B8F8D8@nmrc.ucc.ie>
Message-ID: <Pine.GSO.4.21.0009050837150.12690-100000@atlas.biostat.washington.edu>

On Fri, 8 Sep 2000, Margaret Riordan wrote:

> Hi all,
> I just quit R Version 1.1.0 in the usual q() manner which resulted in  a
> fatal error, which seems to have wiped out all my RData file.
> 
> Now when I try to load up R it gives the message
> 
> Error: restore file corrupted -- no data loaded
> Fatal error : unable to restore saved data
>  (remove .RData or increase memory)
> 
> How do I access the RData or what do I increase the memory size to to
> retrieve my data ?

You may be able to retrieve the file by renaming it, starting R, and using
load() to load it. I had this happen once, but couldn't reproduce the
problem afterwards.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mriordan at nmrc.ucc.ie  Fri Sep  8 17:52:50 2000
From: mriordan at nmrc.ucc.ie (Margaret Riordan)
Date: Fri, 08 Sep 2000 16:52:50 +0100
Subject: [R] RData file
References: <Pine.GSO.4.21.0009050837150.12690-100000@atlas.biostat.washington.edu>
Message-ID: <39B90B52.ECCA7FD5@nmrc.ucc.ie>

When I tied to reload the data I got the following error message

load("C:\\My Documents\\dataR.RData")
Error in load("C:\\My Documents\\dataR.RData") :
        restore file corrupted -- no data loaded

I think the data has all been destroyed what would have caused this, is it
something to do with the amount of memory in use ?
Thomas Lumley wrote:

> On Fri, 8 Sep 2000, Margaret Riordan wrote:
>
> > Hi all,
> > I just quit R Version 1.1.0 in the usual q() manner which resulted in  a
> > fatal error, which seems to have wiped out all my RData file.
> >
> > Now when I try to load up R it gives the message
> >
> > Error: restore file corrupted -- no data loaded
> > Fatal error : unable to restore saved data
> >  (remove .RData or increase memory)
> >
> > How do I access the RData or what do I increase the memory size to to
> > retrieve my data ?
>
> You may be able to retrieve the file by renaming it, starting R, and using
> load() to load it. I had this happen once, but couldn't reproduce the
> problem afterwards.
>
>         -thomas
>
> Thomas Lumley
> Assistant Professor, Biostatistics
> University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Tue Sep  5 19:18:17 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Tue, 5 Sep 2000 18:18:17 +0100 (BST)
Subject: [R] RData file
In-Reply-To: <39B90B52.ECCA7FD5@nmrc.ucc.ie>
Message-ID: <Pine.GSO.4.05.10009051812520.9517-100000@auk.stats>

On Fri, 8 Sep 2000, Margaret Riordan wrote:

> When I tied to reload the data I got the following error message
> 
> load("C:\\My Documents\\dataR.RData")
> Error in load("C:\\My Documents\\dataR.RData") :
>         restore file corrupted -- no data loaded
> 
> I think the data has all been destroyed what would have caused this, is it
> something to do with the amount of memory in use ?

Should not be: I've used 150Mb or more happily on Windows.  The issue is I
think that you got a fatal error on quitting, and that is very likely to
corrupt any file that is open, like .RData.  The question is why you got a
crash then: I've never seen one but Martyn Plummer's suggestion of a lack
of file space is plausible.  However, the code is supposed to generate a
fatal error in the event of the writes not working, and when I tried to
provoke it, that is what happened.

Maybe because I used R when it was a lot less reliable, but I would
never dream of keeping the only copy of anything important in
.RData, so I save or dump objects of any importance.  Similarly,
I back up .RData files of any importance before working on them.
(I wonder if R itself should do that: write a temp file and rename it
when the write is complete, the way sound text editors do?)

> Thomas Lumley wrote:
> 
> > On Fri, 8 Sep 2000, Margaret Riordan wrote:
> >
> > > Hi all,
> > > I just quit R Version 1.1.0 in the usual q() manner which resulted in  a
> > > fatal error, which seems to have wiped out all my RData file.
> > >
> > > Now when I try to load up R it gives the message
> > >
> > > Error: restore file corrupted -- no data loaded
> > > Fatal error : unable to restore saved data
> > >  (remove .RData or increase memory)
> > >
> > > How do I access the RData or what do I increase the memory size to to
> > > retrieve my data ?
> >
> > You may be able to retrieve the file by renaming it, starting R, and using
> > load() to load it. I had this happen once, but couldn't reproduce the
> > problem afterwards.
> >
> >         -thomas
> >
> > Thomas Lumley
> > Assistant Professor, Biostatistics
> > University of Washington, Seattle

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Wed Sep  6 00:21:35 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Tue, 5 Sep 2000 18:21:35 -0400
Subject: [R] Is this a bug?
Message-ID: <00e601c01787$a7621260$0201a8c0@Workgroup>

Hi,

I noticed a particular behavior in the following situation on:

platform Windows
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    1.0
year     2000
month    June
day      15
language R


I've created  a DLL from a Fortran source and a R function to call it. Every
thing went fine. Then I
noticed while testing the function that I had forgotten something, so I
unloaded the DLL, made the modifications to the Fortran source, recompiled,
reload and retest. This caused R to crash, so I restarted R (GUI) and made
another attempt to test the function and it work fine. It looks like
something is wrong maybe with dyn.unload or whatever. I tried something
similar with C source and the same thing appends. Is it R or Windows NT the
culprit?

Thanks in advance.

Yves Gauvreau

PS I'm using the latest Cygnus suite of compilers in case this as something
to do with the problem.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dja at stat.cmu.edu  Wed Sep  6 00:36:10 2000
From: dja at stat.cmu.edu (David Algranati)
Date: Tue, 5 Sep 2000 18:36:10 -0400
Subject: [R] rterm 1.1.1 under windows 2000
Message-ID: <013c01c01789$b0be8c10$80160280@stat.cmu.edu>

Hello,

I am experiencing trouble with r-term 1.1.1 for windows 2000.

When I start rterm, and I get a prompt, it seems to freeze after any
assignment statement (so, if I type x_rnorm(1000), I don't get another
prompt).  Statements that don't involve assignment statements (like
"plot(rnorm(1000))") seem to work, and I get a new prompt.

The Rgui seems to work fine, and if I *can* run simple batch files (which
include assignment statements) the way Ripley describes in the R for Windows
FAQ.

Anyone have any ideas as to what I'm doing wrong?

Thanks,

David

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mhall940 at hotmail.com  Wed Sep  6 02:10:44 2000
From: mhall940 at hotmail.com (Mark Hall)
Date: Wed, 06 Sep 2000 00:10:44 GMT
Subject: [R] rterm 1.1.1 under windows 2000
Message-ID: <F50t3HvoFOAmEaJswFC00003d56@hotmail.com>

Actually check the archives where Prof. Brian Ripley
gives a list of things to try.  Be forewarned there are
some incompatibilities between R and Windows 2000.  I'm a
user and can only use it via the RGUI.

Good luck, Mark Hall



>From: "David Algranati" <dja at stat.cmu.edu>
>To: <r-help at stat.math.ethz.ch>
>Subject: [R] rterm 1.1.1 under windows 2000
>Date: Tue, 5 Sep 2000 18:36:10 -0400
>
>Hello,
>
>I am experiencing trouble with r-term 1.1.1 for windows 2000.
>
>When I start rterm, and I get a prompt, it seems to freeze after any
>assignment statement (so, if I type x_rnorm(1000), I don't get another
>prompt).  Statements that don't involve assignment statements (like
>"plot(rnorm(1000))") seem to work, and I get a new prompt.
>
>The Rgui seems to work fine, and if I *can* run simple batch files (which
>include assignment statements) the way Ripley describes in the R for 
>Windows
>FAQ.
>
>Anyone have any ideas as to what I'm doing wrong?
>
>Thanks,
>
>David
>
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
>

_________________________________________________________________________
Get Your Private, Free E-mail from MSN Hotmail at http://www.hotmail.com.

Share information about yourself, create your own public profile at 
http://profiles.msn.com.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maurizio.pisati at galactica.it  Wed Sep  6 07:30:08 2000
From: maurizio.pisati at galactica.it (Maurizio Pisati)
Date: Wed, 06 Sep 2000 07:30:08 +0200
Subject: [R] Symbol size in plots
Message-ID: <4.3.2.7.1.20000906072742.00b81e60@mail.galactica.it>

Dear R-listers,
what is the best way to draw an XY scatterplot with symbol size 
proportional to the value taken on by a third variable?
Thank you very much for any help,
Maurizio Pisati




<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
  Maurizio Pisati
  Assistant Professor
  Department of Sociology and Social Research
  University of Trento
  Via Verdi, 26
  38100 Trento TN
  Italy
  Tel: +39-461-881315
  Fax: +39-461-881348
  E-mail: maurizio.pisati at galactica.it
<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Sep  6 08:33:13 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 06 Sep 2000 08:33:13 +0200
Subject: [R] Symbol size in plots
References: <4.3.2.7.1.20000906072742.00b81e60@mail.galactica.it>
Message-ID: <39B5E529.E49B9ACB@statistik.uni-dortmund.de>

Maurizio Pisati wrote:
> 
> Dear R-listers,
> what is the best way to draw an XY scatterplot with symbol size
> proportional to the value taken on by a third variable?
> Thank you very much for any help,
> Maurizio Pisati

Have a look at:
?symbols

e.g.:
symbols(1:10,1:10,circles=1:10, inches=0.1)

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From asmit at cyllene.uwa.edu.au  Wed Sep  6 08:40:01 2000
From: asmit at cyllene.uwa.edu.au (Albertus J Smit)
Date: Wed, 6 Sep 2000 14:40:01 +0800
Subject: [R] Singular gradient
In-Reply-To: <200009011533.RAA08311@lynne.ethz.ch>
Message-ID: <NEBBLFAGELBNGAMFNGPOGELKCAAA.asmit@cyllene.uwa.edu.au>

Hi

What does the error 'singular gradient' mean during a nonlinear regression?

Thanks,
Albertus Smit
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep  6 08:48:17 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 6 Sep 2000 07:48:17 +0100 (BST)
Subject: [R] rterm 1.1.1 under windows 2000
In-Reply-To: <013c01c01789$b0be8c10$80160280@stat.cmu.edu>
Message-ID: <Pine.GSO.4.05.10009060736150.9902-100000@auk.stats>

On Tue, 5 Sep 2000, David Algranati wrote:

> Hello,
> 
> I am experiencing trouble with r-term 1.1.1 for windows 2000.
> 
> When I start rterm, and I get a prompt, it seems to freeze after any
> assignment statement (so, if I type x_rnorm(1000), I don't get another
> prompt).  Statements that don't involve assignment statements (like
> "plot(rnorm(1000))") seem to work, and I get a new prompt.
> 
> The Rgui seems to work fine, and if I *can* run simple batch files (which
> include assignment statements) the way Ripley describes in the R for Windows
> FAQ.
> 
> Anyone have any ideas as to what I'm doing wrong?

Not reading the README?  That says

   [Testing on Windows 2000 has not been extensive, and a few features
   have been reported to not work there.]

   ...


   Rterm.exe will run from a command line such as an MS-DOS or Commands
   Window running the standard shells, command.com (9x) and cmd.exe (NT),
   as well as the ports of bash and tcsh that we use.  Its primary
   purpose is to allow batch operation, but it does provide all the
   facilities needed for interactive use, including command-line editing
   (see the file README.Rterm).  [We have had reports that this does
   not work under Windows 2000.]

   ...

Similar behaviour has been reported a few times, using
Rterm.exe interactively and under ESS.  It looks like that the thread
handling (those situations use multiple threads) under 2000 is not working
as it did under 9x and NT4.  We have not yet had a chance to debug this
on a Windows 2000 machine and there is no known workaround, but as the
README notes, the primary purpose does work.  Hopefully this will be
resolved by the next release.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep  6 10:02:00 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Sep 2000 10:02:00 +0200
Subject: [R] Symbol size in plots
In-Reply-To: Uwe Ligges's message of "Wed, 06 Sep 2000 08:33:13 +0200"
References: <4.3.2.7.1.20000906072742.00b81e60@mail.galactica.it> <39B5E529.E49B9ACB@statistik.uni-dortmund.de>
Message-ID: <x21yyyosnb.fsf@blueberry.kubism.ku.dk>

Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:

> Maurizio Pisati wrote:
> > 
> > Dear R-listers,
> > what is the best way to draw an XY scatterplot with symbol size
> > proportional to the value taken on by a third variable?
> > Thank you very much for any help,
> > Maurizio Pisati
> 
> Have a look at:
> ?symbols
> 
> e.g.:
> symbols(1:10,1:10,circles=1:10, inches=0.1)

Also 

 plot(x,y,cex=z)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep  6 10:15:10 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 6 Sep 2000 09:15:10 +0100 (BST)
Subject: [R] Is this a bug?
In-Reply-To: <00e601c01787$a7621260$0201a8c0@Workgroup>
Message-ID: <Pine.GSO.4.05.10009060909240.10024-100000@auk.stats>

On Tue, 5 Sep 2000, Yves Gauvreau wrote:

> Hi,
> 
> I noticed a particular behavior in the following situation on:
> 
> platform Windows
> arch     x86
> os       Win32
> system   x86, Win32
> status
> major    1
> minor    1.0
> year     2000
> month    June
> day      15
> language R
> 
> 
> I've created  a DLL from a Fortran source and a R function to call it. Every
> thing went fine. Then I
> noticed while testing the function that I had forgotten something, so I
> unloaded the DLL, made the modifications to the Fortran source, recompiled,
> reload and retest. This caused R to crash, so I restarted R (GUI) and made
> another attempt to test the function and it work fine. It looks like
> something is wrong maybe with dyn.unload or whatever. I tried something
> similar with C source and the same thing appends. Is it R or Windows NT the
> culprit?

There are a couple of bugs in the symbol caching logic in dyn.unload,
especially when PACKAGE= is not used (when cached symbols from the DLL are
never forgotten). If you undef CACHE_DLL_SYMS in dynload.c and rebuild R
the problem should go away.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Sep  6 12:48:07 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 6 Sep 2000 12:48:07 +0200 (CEST)
Subject: [R] Object size in bytes
In-Reply-To: <39b4e852.1250450@fisher.stats.uwo.ca>
References: <Pine.OSF.4.05.10009021034320.15448-100000@alnair.uio.no>
	<39b4e852.1250450@fisher.stats.uwo.ca>
Message-ID: <14774.8423.277453.929840@gargle.gargle.HOWL>

>>>>> "Duncan" == Duncan Murdoch <murdoch at stats.uwo.ca> writes:

    Duncan> On Sat, 2 Sep 2000 10:38:09 +0200 (MET DST),Kjetil Kjernsmo
    Duncan> <kjetil.kjernsmo at astro.uio.no> wrote in message
    Duncan> <Pine.OSF.4.05.10009021034320.15448-100000 at alnair.uio.no>:

    >> Dear all,
    >> 
    >> If I may request a feature, I would find it very useful to be able
    >> to obtain a the sizes of the objects along with object names with
    >> e.g. ls().

    Duncan> In S-PLUS, objects.summary() does this. (Size means number of
    Duncan> components, not size in bytes, so it's not very informative for
    Duncan> some structured objects, but it definitely does let you find
    Duncan> the big vectors of numbers.)  Kjetil's right, it's useful.

just the number of components...  should be "easy" (well..)
writing a function that recursively sums up length() of atomic components..

would that really be okay?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep  6 13:42:10 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 6 Sep 2000 12:42:10 +0100 (BST)
Subject: [R] Object size in bytes
Message-ID: <200009061142.MAA08864@toucan.stats.ox.ac.uk>

> From: Martin Maechler <maechler at stat.math.ethz.ch>
> Date: Wed, 6 Sep 2000 12:48:07 +0200 (CEST)
> 
> >>>>> "Duncan" == Duncan Murdoch <murdoch at stats.uwo.ca> writes:
> 
>     Duncan> On Sat, 2 Sep 2000 10:38:09 +0200 (MET DST),Kjetil Kjernsmo
>     Duncan> <kjetil.kjernsmo at astro.uio.no> wrote in message
>     Duncan> <Pine.OSF.4.05.10009021034320.15448-100000 at alnair.uio.no>:
> 
>     >> Dear all,
>     >> 
>     >> If I may request a feature, I would find it very useful to be able
>     >> to obtain a the sizes of the objects along with object names with
>     >> e.g. ls().
> 
>     Duncan> In S-PLUS, objects.summary() does this. (Size means number of
>     Duncan> components, not size in bytes, so it's not very informative for
>     Duncan> some structured objects, but it definitely does let you find
>     Duncan> the big vectors of numbers.)  Kjetil's right, it's useful.
> 
> just the number of components...  should be "easy" (well..)
> writing a function that recursively sums up length() of atomic components..
> 
> would that really be okay?

That's *not* what S-PLUS does now (if it ever did). From ?objects.summary:

   object.size
          a numeric vector giving the object sizes in bytes, as defined
          by function object.size.

and object.size() gives the (potentially) allocated memory, including overheads.

If you just want the number of components, try

objects.length <- function(list)
{
   res <- sapply(list, function(x) length(get(x)))
   names(res) <- list
   res
}

One possible catch is duplicated strings:

zz <- rep("a long string", 10000)

is not actually the size which object.size() reports (180041), and I think
it is actually about 40000 bytes in R, looking at gc().

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Christian.C.Ritter at OPC.shell.com  Wed Sep  6 13:52:57 2000
From: Christian.C.Ritter at OPC.shell.com (Ritter, Christian C SRTCL-CTGAS)
Date: Wed, 6 Sep 2000 13:52:57 +0200 
Subject: [R] funny arrows
Message-ID: <F169284AF6DDD111AA000001FAF836E8012308AB@LLNBBS22>

The result of 
> plot(c(-1,1),c(-1,1),type="n")
> arrows(0,0,1,1)
> arrows(0,0,0,0)
is not what I expected. The first arrow is drawn correctly. The second
does not collapse to a point but goes from (0,0) off to
(-infinity,infinity).
I guess something is divided by zero in the internal function.

Chris.

===============================================
platform Windows   
arch     x86       
os       Win32     
system   x86, Win32
status             
major    1         
minor    1.0       
year     2000      
month    June      
day      15        
language R 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep  6 14:06:16 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 06 Sep 2000 14:06:16 +0200
Subject: [R] funny arrows
In-Reply-To: "Ritter, Christian C SRTCL-CTGAS"'s message of "Wed, 6 Sep 2000 13:52:57 +0200"
References: <F169284AF6DDD111AA000001FAF836E8012308AB@LLNBBS22>
Message-ID: <x2k8cpohc7.fsf@blueberry.kubism.ku.dk>

"Ritter, Christian C SRTCL-CTGAS" <Christian.C.Ritter at OPC.shell.com> writes:

> The result of 
> > plot(c(-1,1),c(-1,1),type="n")
> > arrows(0,0,1,1)
> > arrows(0,0,0,0)
> is not what I expected. The first arrow is drawn correctly. The second
> does not collapse to a point but goes from (0,0) off to
> (-infinity,infinity).
> I guess something is divided by zero in the internal function.

R-1.1.1 on Linux behaves OK (if a lonely arrowhead at (0,0) pointing
left is OK)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Sep  6 14:05:49 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Wed, 6 Sep 2000 08:05:49 -0400 (EDT)
Subject: [R] Symbol size in plots
In-Reply-To: <x21yyyosnb.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.10.10009060804040.12385-100000@bolker.zoo.ufl.edu>


  A mild suggestion, by the way, is that "circle", "star", etc. be added
to the _keywords_ of symbols().  It took me a while to find it in the help
the last time I was looking for it.

  What are the possibilities that a _full-text_ search capability could be
added to the help front-end?  Would it be prohibitively slow?  (Or is
there adaptable software that would, e.g., index all words except a list
of stopwords into a reference database?)

  Ben Bolker

On 6 Sep 2000, Peter Dalgaard BSA wrote:

> Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:
> 
> > Maurizio Pisati wrote:
> > > 
> > > Dear R-listers,
> > > what is the best way to draw an XY scatterplot with symbol size
> > > proportional to the value taken on by a third variable?
> > > Thank you very much for any help,
> > > Maurizio Pisati
> > 
> > Have a look at:
> > ?symbols
> > 
> > e.g.:
> > symbols(1:10,1:10,circles=1:10, inches=0.1)
> 
> Also 
> 
>  plot(x,y,cex=z)
> 
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Wed Sep  6 14:30:09 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 06 Sep 2000 07:30:09 -0500
Subject: [R] Singular gradient
In-Reply-To: "Albertus J Smit"'s message of "Wed, 6 Sep 2000 14:40:01 +0800"
References: <NEBBLFAGELBNGAMFNGPOGELKCAAA.asmit@cyllene.uwa.edu.au>
Message-ID: <6ru2btr9da.fsf@franz.stat.wisc.edu>

"Albertus J Smit" <asmit at cyllene.uwa.edu.au> writes:

> What does the error 'singular gradient' mean during a nonlinear regression?

The gradient matrix to which the message refers is the derivative of
the vector of predicted values with respect to the vector of
parameters at the current parameter estimates.  If you have 20
observations and three parameters, this will be a matrix with 20 rows
and three columns.

For the model to be estimable in a region of the current estimates,
this matrix must have full column rank.  When it fails to have full
column rank the "singular gradient" message is given and the
iterations stop.

Generally this indicates that the model is overparameterized or that
the starting estimates were poorly chosen.  Try using trace = TRUE in
the call to nls and watching the progress of the iterations.  This
will often show that the estimates are wandering into unreasonable
regions of the parameter space.
-- 
Douglas Bates                            bates at stat.wisc.edu
Statistics Department                    608/262-2598
University of Wisconsin - Madison        http://www.stat.wisc.edu/~bates/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep  6 14:40:53 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 6 Sep 2000 13:40:53 +0100 (BST)
Subject: [R] Symbol size in plots
Message-ID: <200009061240.NAA09100@toucan.stats.ox.ac.uk>


> From: ben at zoo.ufl.edu
> Date: Wed, 6 Sep 2000 08:05:49 -0400 (EDT)
> 
> 
>   A mild suggestion, by the way, is that "circle", "star", etc. be added
> to the _keywords_ of symbols().  It took me a while to find it in the help
> the last time I was looking for it.

keywords are from a prescribed list of categories (in R_HOME/doc/KEYWORDS).

>   What are the possibilities that a _full-text_ search capability could be
> added to the help front-end?  Would it be prohibitively slow?  (Or is
> there adaptable software that would, e.g., index all words except a list
> of stopwords into a reference database?)

The Windows help systems for R already do that on a pre-package basis.
It is not prohibitively slow given the OS-level support, but it does
take up quite a bit of space as the indices are built with the packages
(and building base from the HTML files takes ca 25 secs then).

It is the sort of thing which help.search might do, if re-written
in a compiled language.  Building its present database is quite slow
and an FTS one would be very much slower in R.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Sep  6 14:47:33 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 06 Sep 2000 14:47:33 +0200
Subject: [R] funny arrows
References: <F169284AF6DDD111AA000001FAF836E8012308AB@LLNBBS22> <x2k8cpohc7.fsf@blueberry.kubism.ku.dk>
Message-ID: <39B63CE5.65E89298@statistik.uni-dortmund.de>

Peter Dalgaard BSA wrote:
> 
> "Ritter, Christian C SRTCL-CTGAS" <Christian.C.Ritter at OPC.shell.com> writes:
> 
> > The result of
> > > plot(c(-1,1),c(-1,1),type="n")
> > > arrows(0,0,1,1)
> > > arrows(0,0,0,0)
> > is not what I expected. The first arrow is drawn correctly. The second
> > does not collapse to a point but goes from (0,0) off to
> > (-infinity,infinity).
> > I guess something is divided by zero in the internal function.
> 
> R-1.1.1 on Linux behaves OK (if a lonely arrowhead at (0,0) pointing
> left is OK)

Hmmm. 
R-1.1.1 on WinNT behaves OK (if plotting nothing is OK, 
                                         ^^^^^^^
as the length of the arrow also should be 0).

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Wed Sep  6 15:10:53 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 6 Sep 2000 15:10:53 +0200 (CEST)
Subject: [R] Symbol size in plots
In-Reply-To: <Pine.LNX.4.10.10009060804040.12385-100000@bolker.zoo.ufl.edu>
References: <x21yyyosnb.fsf@blueberry.kubism.ku.dk>
	<Pine.LNX.4.10.10009060804040.12385-100000@bolker.zoo.ufl.edu>
Message-ID: <14774.16989.967269.445740@gargle.gargle.HOWL>

>>>>> "Ben" == Ben Bolker <ben at zoo.ufl.edu> writes:

    Ben>   A mild suggestion, by the way, is that "circle", "star", etc. be
    Ben> added to the _keywords_ of symbols().  It took me a while to find
    Ben> it in the help the last time I was looking for it.

well, not "\keyword{.}" which must be from among a pretty small set.

However,  help.search("circle")  would find  `symbols()' if

- the \description{.} would be in the data base
- the default fields of help.search(.) would contain "description"
  (and they *should* really contain "alias" when they contain "name"
   in my opinion!).


    Ben>   What are the possibilities that a _full-text_ search capability
    Ben> could be added to the help front-end?  Would it be prohibitively
    Ben> slow?  (Or is there adaptable software that would, e.g., index all
    Ben> words except a list of stopwords into a reference database?)

Not only would it be quite slow and the database quite large,
I think you'd get quite a lot of false matches
[Well that could be taken care of when one would use a dialoguing frontend..]

I did have that same (for a full text search) wish myself..
Martin

However, I think that the database should start containing \description{.}..

    Ben> On 6 Sep 2000, Peter Dalgaard BSA wrote:

    >> Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:
    >> 
    >> > Maurizio Pisati wrote:
    >> > > 
    >> > > Dear R-listers, > > what is the best way to draw an XY
    >> scatterplot with symbol size > > proportional to the value taken on
    >> by a third variable?  > > Thank you very much for any help, > >
    >> Maurizio Pisati
    >> > 
    >> > Have a look at: > ?symbols
    >> > 
    >> > e.g.: > symbols(1:10,1:10,circles=1:10, inches=0.1)
    >> 
    >> Also
    >> 
    >> plot(x,y,cex=z)
    >> 
    >> 

    Ben> -- 318 Carr Hall bolker at zoo.ufl.edu Zoology Department, University
    Ben> of Florida http://www.zoo.ufl.edu/bolker Box 118525 (ph)
    Ben> 352-392-5697 Gainesville, FL 32611-8525 (fax) 352-392-3704

    Ben> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
    Ben> r-help mailing list -- Read
    Ben> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html Send "info",
    Ben> "help", or "[un]subscribe" (in the "body", not the subject !)  To:
    Ben> r-help-request at stat.math.ethz.ch
    Ben> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Wed Sep  6 16:12:00 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Wed, 06 Sep 2000 16:12:00 +0200
Subject: [R] funny arrows
Message-ID: <3.0.32.20000906161200.008e92a0@162.38.183.200>

At 14:06 06/09/00 +0200, you wrote:
>"Ritter, Christian C SRTCL-CTGAS" <Christian.C.Ritter at OPC.shell.com> writes:
>
>> The result of 
>> > plot(c(-1,1),c(-1,1),type="n")
>> > arrows(0,0,1,1)
>> > arrows(0,0,0,0)
>> is not what I expected. The first arrow is drawn correctly. The second
>> does not collapse to a point but goes from (0,0) off to
>> (-infinity,infinity).
>> I guess something is divided by zero in the internal function.
>
>R-1.1.1 on Linux behaves OK (if a lonely arrowhead at (0,0) pointing
>left is OK)

Strange, on WinNT R-1.1.1, I get nothing, i.e.:

	> plot(c(-1,1),c(-1,1),type="n")
	> arrows(0,0,0,0)

draws nothing but the axes.

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep  6 18:47:42 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 6 Sep 2000 17:47:42 +0100 (BST)
Subject: [R] funny arrows
In-Reply-To: <x2k8cpohc7.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.GSO.4.05.10009061739160.10545-100000@auk.stats>

On 6 Sep 2000, Peter Dalgaard BSA wrote:

> "Ritter, Christian C SRTCL-CTGAS" <Christian.C.Ritter at OPC.shell.com> writes:
> 
> > The result of 
> > > plot(c(-1,1),c(-1,1),type="n")
> > > arrows(0,0,1,1)
> > > arrows(0,0,0,0)
> > is not what I expected. The first arrow is drawn correctly. The second
> > does not collapse to a point but goes from (0,0) off to
> > (-infinity,infinity).

I thought screens of infinite size were infinitely expensize and/or
infinitely slow.

> > I guess something is divided by zero in the internal function.
> 
> R-1.1.1 on Linux behaves OK (if a lonely arrowhead at (0,0) pointing
> left is OK)

Clearly it is not, as there is no information on the arrowhead direction.

As others have reported, what happens depends on the precise run-time
system in use (so `Linux' is too vague here).  Internally R computes
atan2(0,0), and most systems will give 0.0 but that is hardly a definitive
answer.  For what it is worth, the prototype of the next version of
R for Windows gives a left-pointing arrow too.

S-PLUS gives nothing, and I think that is the right answer.  Indeed,
arrows(0,0,1e-8, 0) gives nothing too.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maurizio.pisati at galactica.it  Wed Sep  6 18:58:35 2000
From: maurizio.pisati at galactica.it (Maurizio Pisati)
Date: Wed, 06 Sep 2000 18:58:35 +0200
Subject: [R] Symbol size in plots
In-Reply-To: <39B5E529.E49B9ACB@statistik.uni-dortmund.de>
References: <4.3.2.7.1.20000906072742.00b81e60@mail.galactica.it>
Message-ID: <4.3.2.7.1.20000906185548.00b84100@mail.galactica.it>

Thank you very much for your help.
Maurizio Pisati

At 08.33 06/09/00 +0200, you wrote:
>Maurizio Pisati wrote:
> >
> > Dear R-listers,
> > what is the best way to draw an XY scatterplot with symbol size
> > proportional to the value taken on by a third variable?
> > Thank you very much for any help,
> > Maurizio Pisati
>
>Have a look at:
>?symbols
>
>e.g.:
>symbols(1:10,1:10,circles=1:10, inches=0.1)
>
>Uwe Ligges



>Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:
> > Maurizio Pisati wrote:
> > >
> > > Dear R-listers,
> > > what is the best way to draw an XY scatterplot with symbol size
> > > proportional to the value taken on by a third variable?
> > > Thank you very much for any help,
> > > Maurizio Pisati
> >
> > Have a look at:
> > ?symbols
> >
> > e.g.:
> > symbols(1:10,1:10,circles=1:10, inches=0.1)
>Also
>plot(x,y,cex=z)
>--
>O__ ---- Peter Dalgaard Blegdamsvej 3
>c/ /'_ --- Dept. of Biostatistics 2200 Cph. N
>(*) \(*) -- University of Copenhagen Denmark Ph: (+45) 35327918~~~~~~~~~~ 
>- (p.dalgaard at biostat.ku.dk) FAX: (+45) 35327907







<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
  Maurizio Pisati
  Assistant Professor
  Department of Sociology and Social Research
  University of Trento
  Via Verdi, 26
  38100 Trento TN
  Italy
  Tel: +39-461-881315
  Fax: +39-461-881348
  E-mail: maurizio.pisati at galactica.it
<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Wed Sep  6 23:03:35 2000
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Wed, 06 Sep 2000 23:03:35 +0200
Subject: [R] rinvgauss ?
Message-ID: <4.3.2.7.0.20000906225343.02cbe500@127.0.0.1>

Dear friends.
I wanted to generate random samples from an inverse gaussian distribution. 
How could I proceed ? I couldn't find it if it is already there.

Best wishes

Troels

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kohnicho at comp.nus.edu.sg  Thu Sep  7 04:30:23 2000
From: kohnicho at comp.nus.edu.sg (Nicholas Lewin-Koh)
Date: Thu, 7 Sep 2000 10:30:23 +0800 (GMT-8)
Subject: [R] getAttrb from a complex object 
Message-ID: <Pine.GSO.4.21.0009071018210.13013-100000@sununx.comp.nus.edu.sg>

Hi, I am writing C code to manipulate some complex objects in R, an object
of type Shape looks like the following

$Pstart 
[1] 0
$Pstartattr(,"row.names") 
[1] "Ring" 
$verts
           [,1] [,2]
 [1,] -82.41209 30.57731
 [2,] -82.41615 30.61270
       :
       :
[48,] -82.22104 30.56708 

attr(,"shp.type")
[1] 5
attr(,"nVerts") 
[1] 49 
attr(,"nParts") 
[1] 1 
attr(,"bbox")
[1] -82.69581  30.56594 -82.13134  31.46918

and the relevant C code is 
#include <R.h> 
#include <Rinternals.h> 
#include "maptools.h" 

SEXP Centroid(SEXP shape)
  {
     int i, j, n;
     double ai, atmp = 0, xtmp = 0, ytmp = 0, area;
     SEXP cent;
     Rprintf("parts: %d \n",
	     INTEGER(getAttrib(shape,mkChar("nParts")))[0]);

However calling the function i get
.Call("Centroid",Fl.poly$Shapes[[2]])
128 parts 


but parts should be 1 !

Any ideas?

thanks Nicholas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kohnicho at comp.nus.edu.sg  Thu Sep  7 06:22:31 2000
From: kohnicho at comp.nus.edu.sg (Nicholas Lewin-Koh)
Date: Thu, 7 Sep 2000 12:22:31 +0800 (GMT-8)
Subject: [R] getAttrb - Solved
Message-ID: <Pine.GSO.4.21.0009071220180.1593-100000@sununx.comp.nus.edu.sg>

Hi,
I changed 
INTEGER(getAttrib(shape,mkChar("nParts")))[0]
to
INTEGER(getAttrib(shape,mkString("nParts")))[0]

and now it works fine.

Nicholas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep  7 08:05:36 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 7 Sep 2000 07:05:36 +0100 (BST)
Subject: [R] getAttrb - Solved
In-Reply-To: <Pine.GSO.4.21.0009071220180.1593-100000@sununx.comp.nus.edu.sg>
Message-ID: <Pine.GSO.4.05.10009070655350.11322-100000@auk.stats>

On Thu, 7 Sep 2000, Nicholas Lewin-Koh wrote:

> Hi,
> I changed 
> INTEGER(getAttrib(shape,mkChar("nParts")))[0]
> to
> INTEGER(getAttrib(shape,mkString("nParts")))[0]
> 
> and now it works fine.

In `Writing R Extensions' you would have seen that the second argument of
getAttrib (and setAttrib) is the name in the symbol table, and the way to
get that is install("nParts"). (Towards the end of section 3.6.4.)  The
first line of getAttrib is in fact

    if (isString(name)) name = install(CHAR(STRING_ELT(name, 0)));

which shows that mkString is immediately being undone.

These internals are not very extensively documented, but this call was.
In other cases, look at the usage in the code of R itself (src/main/*.c)
for clarification.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kohnicho at comp.nus.edu.sg  Thu Sep  7 09:32:41 2000
From: kohnicho at comp.nus.edu.sg (Nicholas Lewin-Koh)
Date: Thu, 7 Sep 2000 15:32:41 +0800 (GMT-8)
Subject: [R] getAttrb - Solved
In-Reply-To: <Pine.GSO.4.05.10009070655350.11322-100000@auk.stats>
Message-ID: <Pine.GSO.4.21.0009071526410.8935-100000@sununx.comp.nus.edu.sg>

Hi,

I think what I found confusing is the extsenion writers manual states

"What happens if we want to add an attribute that is not pre-dened? We
need to add a symbol for it via a call to install. Suppose for
illustration we
wanted to add an attribute "version" with value 3.0. We could use 

{ 
SEXP version; 
PROTECT(version = allocVector(REALSXP, 1)); 
REAL(version) = 3.0;
setAttrib(ans, install("version"), version); 
 UNPROTECT(1);
}                  

So I assumed install was to install the attribute name in the symbol table
but not to retrieve it. Maybe a little clarification there would help such
as "intall can also be used in getAttrib() to retrive an attribute
installed in the sybol table"

Thanks
Nicholas

On Thu, 7 Sep 2000, Prof

> On Thu, 7 Sep 2000, Nicholas Lewin-Koh wrote:
> 
> > Hi,
> > I changed 
> > INTEGER(getAttrib(shape,mkChar("nParts")))[0]
> > to
> > INTEGER(getAttrib(shape,mkString("nParts")))[0]
> > 
> > and now it works fine.
> 
> In `Writing R Extensions' you would have seen that the second argument of
> getAttrib (and setAttrib) is the name in the symbol table, and the way to
> get that is install("nParts"). (Towards the end of section 3.6.4.)  The
> first line of getAttrib is in fact
> 
>     if (isString(name)) name = install(CHAR(STRING_ELT(name, 0)));
> 
> which shows that mkString is immediately being undone.
> 
> These internals are not very extensively documented, but this call was.
> In other cases, look at the usage in the code of R itself (src/main/*.c)
> for clarification.
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep  7 09:56:15 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 7 Sep 2000 08:56:15 +0100 (BST)
Subject: [R] getAttrb - Solved
In-Reply-To: <Pine.GSO.4.21.0009071526410.8935-100000@sununx.comp.nus.edu.sg>
Message-ID: <Pine.GSO.4.05.10009070851000.299-100000@auk.stats>

On Thu, 7 Sep 2000, Nicholas Lewin-Koh wrote:

> I think what I found confusing is the extsenion writers manual states
> 
> "What happens if we want to add an attribute that is not pre-dened? We
> need to add a symbol for it via a call to install. Suppose for
> illustration we
> wanted to add an attribute "version" with value 3.0. We could use 
> 
> { 
> SEXP version; 
> PROTECT(version = allocVector(REALSXP, 1)); 
> REAL(version) = 3.0;
> setAttrib(ans, install("version"), version); 
>  UNPROTECT(1);
> }                  
> 
> So I assumed install was to install the attribute name in the symbol table
> but not to retrieve it. Maybe a little clarification there would help such
> as "intall can also be used in getAttrib() to retrive an attribute
> installed in the sybol table"

Alternatively, just read the very next sentence in that section:

`Using install when it is not needed is harmless and provides a
simple way to retrieve the symbol from the symbol table if it is already
installed.'

I don't think you will find anywhere that it says to use mkChar!

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From BXC at novo.dk  Thu Sep  7 11:25:18 2000
From: BXC at novo.dk (BXC (Bendix Carstensen))
Date: Thu, 7 Sep 2000 11:25:18 +0200 
Subject: [R] Writing a tabel in LaTeX-format
Message-ID: <D5A7D734C9C5D211B9E30008C78923020609E835@exdkba03.novo.dk>

I have a vague recollection of seeing a R-function
that will output a table or matix in a format suitable
for the tabular enviroment in LaTeX.

But I cannot find it. Any hints?

Bendix

----------------------
Bendix Carstensen
Senior Statistician
Steno Diabetes Centre
Niels Steensens Vej 2
DK-2820 Gentofte
Denmark
tel: +45 44 43 87 38
mob: +45 28 25 87 38
fax: +45 44 43 73 13
bxc at novo.dk
www.biostat.ku.dk/~bxc
----------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.pesl at arcs.ac.at  Thu Sep  7 11:59:30 2000
From: thomas.pesl at arcs.ac.at (Pesl Thomas)
Date: Thu, 7 Sep 2000 11:59:30 +0200 
Subject: [R] read.table
Message-ID: <D16B18FFF743D311A9CA0090275F3CB001D8C80B@arcss07.arcs.ac.at>

When I read a table (the dimnames of the table are numbers), R reads the
column names as: X plus the number (X1,X2,X3,...) and the rownames as the
numbers (1,2,3,...)
How can I suppress this action?


The code and the output:
^^^^^^^^^^^^^^^^^^^^^^^^
> r2<-read.table("h:\\matrix",header=T,dec=",",na.strings="-99")
> dimnames(r2)
[[1]]
 [1] "500"   "1601"  "1906"  "2503"  "3202"  "4905"  "5000"  "5012"  "5315"
"5604"  "5881"  "5870"  

................................

[81] "20220" "21300" "11900" "14310" "20901" "18900" "19000"

[[2]]
 [1] "X500"   "X1601"  "X1906"  "X2503"  "X3202"  "X4905"  "X5000"  "X5012"
"X5315"  "X5604"  "X5881"  

.................................

[85] "X20901" "X18900" "X19000"


		Thomas

	
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Sep  7 12:23:57 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 07 Sep 2000 12:23:57 +0200
Subject: [R] read.table
In-Reply-To: Pesl Thomas's message of "Thu, 7 Sep 2000 11:59:30 +0200"
References: <D16B18FFF743D311A9CA0090275F3CB001D8C80B@arcss07.arcs.ac.at>
Message-ID: <x266o8ec02.fsf@blueberry.kubism.ku.dk>

Pesl Thomas <thomas.pesl at arcs.ac.at> writes:

> When I read a table (the dimnames of the table are numbers), R reads the
> column names as: X plus the number (X1,X2,X3,...) and the rownames as the
> numbers (1,2,3,...)
> How can I suppress this action?

check.names=FALSE

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Diego.Kuonen at epfl.ch  Thu Sep  7 12:58:36 2000
From: Diego.Kuonen at epfl.ch (Diego Kuonen)
Date: Thu, 07 Sep 2000 12:58:36 +0200
Subject: [R] read.table
References: <D16B18FFF743D311A9CA0090275F3CB001D8C80B@arcss07.arcs.ac.at>
Message-ID: <39B774DC.D8563B83@epfl.ch>

Pesl Thomas wrote:
> > r2<-read.table("h:\\matrix",header=T,dec=",",na.strings="-99")
> > dimnames(r2)

Why use the "header=T" argument if the first row of the file "matrix"
seems to contain numbers, and not the names for the variables?

Moreover, note that "read.table" has additional arguments like

  "row.names": a vector of row names

and

  "col.names": a vector of optional names for the variables

Greets

  Diego

-- 
Diego Kuonen      http://wap.kuonen.com     http://stat.kuonen.com
http://www.Statoo.ch  Kya aap statooed hai?  http://www.Statoo.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Diego.Kuonen at epfl.ch  Thu Sep  7 13:19:14 2000
From: Diego.Kuonen at epfl.ch (Diego Kuonen)
Date: Thu, 07 Sep 2000 13:19:14 +0200
Subject: [R] Writing a tabel in LaTeX-format
References: <D5A7D734C9C5D211B9E30008C78923020609E835@exdkba03.novo.dk>
Message-ID: <39B779B2.C6171380@epfl.ch>

"BXC (Bendix Carstensen)" wrote:
> I have a vague recollection of seeing a R-function
> that will output a table or matix in a format suitable
> for the tabular enviroment in LaTeX.

The Heiberger-Harrell display library is used to interface
S-Plus with LaTeX.; see
  http://hesweb1.med.virginia.edu/biostat/s/Design.html

But, it's worth to have a look at 
  http://hesweb1.med.virginia.edu/biostat/s/help/Design.Overview.html

under "COPYRIGHT NOTICE":

  ### GENERAL DISCLAIMER  This program is free software;
  ### you can redistribute it and/or modify it under the
  ### terms of the GNU General Public License [...]
  ### with the exception that you may not port any code
  ### in the Design library to R.  [...]
  ### In short: you may
  ### use this code any way you like other than porting
  ### any of the code to R, as long as you don't charge
  ### money for it, remove this notice, or hold anyone
  ### liable for its results.  [...]

Isn't this contradictory?

:-(

  Diego

-- 
Diego Kuonen      http://wap.kuonen.com     http://stat.kuonen.com
http://www.Statoo.ch  Kya aap statooed hai?  http://www.Statoo.com     
http://www.LinuxPlanet.ch     Linux - Ultimate Anti-Virus Software
WAP on http://WAP.lugo.ch               SURF on http://www.LUGO.ch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Thu Sep  7 12:33:20 2000
From: Bill.Venables at cmis.csiro.au (Bill Venables)
Date: Thu, 07 Sep 2000 20:33:20 +1000
Subject: [R] Writing a tabel in LaTeX-format
Message-ID: <3.0.32.20000907203318.01298480@pophost.nsw.cmis.csiro.au>

At 13:19 07/09/00 +0200, Diego Kuonen wrote:
>"BXC (Bendix Carstensen)" wrote:
>> I have a vague recollection of seeing a R-function
>> that will output a table or matix in a format suitable
>> for the tabular enviroment in LaTeX.
>
>The Heiberger-Harrell display library is used to interface
>S-Plus with LaTeX.; see

The collection contains a few useful functions for manipulating character
data and for making LaTeX tables, but it's hardly what one would call an
"interface" with LaTeX.


>  http://hesweb1.med.virginia.edu/biostat/s/Design.html
>
>But, it's worth to have a look at 
>  http://hesweb1.med.virginia.edu/biostat/s/help/Design.Overview.html
>
>under "COPYRIGHT NOTICE":
>
>  ### GENERAL DISCLAIMER  This program is free software;
>  ### you can redistribute it and/or modify it under the
>  ### terms of the GNU General Public License [...]
>  ### with the exception that you may not port any code
>  ### in the Design library to R.  [...]
>  ### In short: you may
>  ### use this code any way you like other than porting
>  ### any of the code to R, as long as you don't charge
>  ### money for it, remove this notice, or hold anyone
>  ### liable for its results.  [...]
>
>Isn't this contradictory?

It's a condition any author may choose to impose on his or her otherwise
public code.  You may not like it but you should respect it.


>
>:-(
>
>  Diego
>
>-- 
>Diego Kuonen      http://wap.kuonen.com     http://stat.kuonen.com
>http://www.Statoo.ch  Kya aap statooed hai?  http://www.Statoo.com     
>http://www.LinuxPlanet.ch     Linux - Ultimate Anti-Virus Software
>WAP on http://WAP.lugo.ch               SURF on http://www.LUGO.ch
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Thu Sep  7 14:43:58 2000
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Thu, 07 Sep 2000 14:43:58 +0200 (MEST)
Subject: [R] FW: Matrix to Latex
Message-ID: <XFMail.000907144358.theis@statistik.uni-dortmund.de>

Hello Bendix!

The attached function should do what you want. The function was written by
Torsten Hothorn (torsten.hothorn at rzmail.uni-erlangen.de). It does write a
matrix into a table (options for labels and caption included). 
-- Torsten: Did you write a newer version? Just asking... ;-)

Another possibility to do it is setting sep="&" and eol="\\\\" in write.table().
In this case you will have to set up all the latex surrounding yourself...

Cheers, Winfried 

----------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 07-Sep-00
Tel.: +49-231-755-5903                  Room: Mathematikgebäude, M832
Dipl.-Math. Winfried Theis, Graduiertenkolleg "Angewandte Statistik",
Universität Dortmund, 44221 Dortmund
----------------------------------
-------------- next part --------------
m2l <- function(X, fname = "m2l.out", rowlabel = 0, collabel = 0, caption = " ")
{
	# Prints a matrix as latex table into a file
	
	# Input:	
	#		X:		a matrix
	#		fname:		a filename as String
	#		rowlabel:	a string array of labels, dim = nrow
	#		collabel:	a string array of labels, dim = ncol
	#		caption:	a string for caption field
				

	if (!(is.matrix(X)))
	{
		error("X is not a matrix");
		stop;
	}

	row <- nrow(X);
	col <- ncol(X);

	if (length(rowlabel) < 2)
	{
		rowlabel <- c(1:nrow);
	}
	if (length(collabel) < 2)
	{
		collabel <- c(1:ncol);
	}

	if ((length(rowlabel) != row) || (length(collabel) != col))
	{	
		error("wrong label dimensions");
		stop;
	}

	cat("\\begin{table}\n", file=fname);
	cat("\\begin{center}\n", file=fname, append=TRUE);
	cat("\\begin{tabular}{", file=fname, append=TRUE);
	

	for (j in c(1:(col+1)))
	{
		cat("|c", file=fname, append=TRUE);
	}
	cat("|} \\hline \n", file=fname, append=TRUE);
	
	for (j in c(1:col))
	{
		cat("&", file=fname, append=TRUE);
		cat(collabel[j], file=fname, append=TRUE);
	}
	cat("\\\\ \\hline \n", file=fname, append=TRUE);

	for (i in c(1:row))
	{
		cat(rowlabel[i], file=fname, append=TRUE);
		for (j in c(1:col))
		{
			cat("&", file=fname, append=TRUE);
			cat(X[i,j], file=fname,append=TRUE);
		}
		if (i < row)
		{
			cat("\\\\ \n", file=fname, append=TRUE);
		} else {
			cat("\\\\ \\hline \n", file=fname, append=TRUE);
		}
	}
	
	cat("\\end{tabular} \n", file=fname, append=TRUE);
	cat("\\caption{", file=fname, append=TRUE);
	cat(caption, file=fname, append=TRUE);
	cat("} \n", file=fname, append=TRUE);
	cat("\\end{center} \n", file=fname, append=TRUE);
	cat("\\end{table} \n", file=fname, append=TRUE);
}


	

	
			
	

From Diego.Kuonen at epfl.ch  Thu Sep  7 13:44:48 2000
From: Diego.Kuonen at epfl.ch (Diego Kuonen)
Date: Thu, 07 Sep 2000 13:44:48 +0200
Subject: [R] Writing a tabel in LaTeX-format
References: <3.0.32.20000907203318.01298480@pophost.nsw.cmis.csiro.au>
Message-ID: <39B77FB0.93303E99@epfl.ch>

Bill Venables wrote:
> It's a condition any author may choose to impose on his or her otherwise
> public code.  You may not like it but you should respect it.

I do respect it even if I find it a little contradictory with the GNU GPL.

Anyhow, I'm personally interested in a R to LaTeX "interface". But, except
the following posting by Knut Suebert

  http://www.ens.gu.edu.au/robertk/R/help/99b/0571.html

I did not find anything in the R mailing lists archive available at

  http://www.ens.gu.edu.au/robertk/R/

Does anybody know if Knut Suebert's library "tex" is available for 
download and testing?

Greets

  Diego

-- 
Diego Kuonen      http://wap.kuonen.com     http://stat.kuonen.com
http://www.Statoo.ch  Kya aap statooed hai?  http://www.Statoo.com
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From J.C.Rougier at durham.ac.uk  Thu Sep  7 14:29:21 2000
From: J.C.Rougier at durham.ac.uk (Jonathan Rougier)
Date: Thu, 7 Sep 2000 13:29:21 +0100 (BST)
Subject: [R] .C and DUP=TRUE versus .Call
Message-ID: <Pine.GSO.4.20.0009071324030.9494-100000@laplace>

Hi Everyone,

I have a piece of C code that uses R_alloc, and so I set DUP=TRUE in the
call using ".C".  As I understand it this takes a copy of each object
passed to my function.  If these objects are large then this could be
expensive.  My question is, if I rewrote the code to use .Call, would I
avoid this duplication by using the objects themselves (they are not
modified in the code) rather than copies?

Many thanks, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep  7 15:46:55 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 7 Sep 2000 14:46:55 +0100 (BST)
Subject: [R] .C and DUP=TRUE versus .Call
Message-ID: <200009071346.OAA00726@toucan.stats.ox.ac.uk>

> Date: Thu, 7 Sep 2000 13:29:21 +0100 (BST)
> From: Jonathan Rougier <J.C.Rougier at durham.ac.uk>
> 
> I have a piece of C code that uses R_alloc, and so I set DUP=TRUE in the
> call using ".C".  As I understand it this takes a copy of each object
> passed to my function.  If these objects are large then this could be
> expensive.  My question is, if I rewrote the code to use .Call, would I
> avoid this duplication by using the objects themselves (they are not
> modified in the code) rather than copies?

.C with DUP=TRUE (the default) copies the objects on the way in and on
the way out.  Incidentally, the first argument against DUP=FALSE,

     There are three important dangers with `DUP=FALSE'. The first is
     that garbage collection may move the object, resulting in the
     pointers pointing nowhere useful and causing hard-to-reproduce
     bugs.

is no longer true in the development version, which has a non-moving
garbage collector.

If your code does not modify any of the arguments, how does it do anything
useful?  Non-R side-effects like printing?

The short answer is that I would use .Call for things like this.
However, if I had a .C version only if I found it necessary.  The
experience with Svr4 (which is cleverer at not copying and allows
selective copying of .C arguments) is that the copying is rarely
expensive enough to think about compared to doing things to large objects.
(The development version can increase workspace for a temporary
copy as required.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Joerg.Kindermann at gmd.de  Thu Sep  7 15:48:24 2000
From: Joerg.Kindermann at gmd.de (Joerg Kindermann)
Date: Thu, 7 Sep 2000 15:48:24 +0200 (MET DST)
Subject: [R] Writing a tabel in LaTeX-format
In-Reply-To: <D5A7D734C9C5D211B9E30008C78923020609E835@exdkba03.novo.dk>
	(BXC@novo.dk)
Message-ID: <200009071348.PAA20675@compute2.gmd.de>

>>>>> " " == BXC (Bendix Carstensen) <BXC at novo.dk> writes:

     > I have a vague recollection of seeing a R-function that will output
     > a table or matix in a format suitable for the tabular enviroment in
     > LaTeX.

     > But I cannot find it. Any hints?

This is my 2 cent's worth - we hacked it here in the dept. some time ago.

--  Dr. Joerg Kindermann                        Knowledge Discovery Team
    GMD   - German National Research Center for Information Technology -
    	       phone: +49 02241 142437 fax: +49 02241 142342
			   http://ais.gmd.de/KD/
----------------------------------------------------------------------


mat2TeX <- function(mat, digits=4, rowNameTitle="", file="",
                    roundNum=NULL,
                    rowNameAlign="l",matAlign="r", prtHead=T, prtEnd=T,
                    extraTitle=NULL, rowNameCols=1, append=F) {
  nr <- nrow(mat);      nc <- ncol(mat)
  rn <- rownames(mat);  cn <- colnames(mat)
  cmat_array("",dim=dim(mat))
  if (!is.null(roundNum)) {
    if (length(roundNum)==nc){
      for(i in 1:nc) mat[,i]_round(mat[,i],roundNum[i])
    }  else {
      errif(length(roundNum!=1))
      mat_round(mat,roundNum)
    }
  }
  for(i in 1:nc){
    cmat[,i]_format(mat[,i], digits=digits)
  }

  if(is.null(cn))   cn <- 1:nc
  if(is.null(rn))   rn <- 1:nr
  if(rowNameTitle == "") 
    rowNameTitle <- paste(rep(" ",rowNameCols), collapse="|")

  cat("\n ", file=file, append=append)  # write new if necessary 

  if (length(rowNameAlign)==1) rowNameAlign_rep(rowNameAlign,rowNameCols)
  if (length(matAlign)==1) matAlign_rep(matAlign,nc)

  if (prtHead){
    cat("\\begin{tabular}[c]{",
        paste(c("",rowNameAlign, matAlign,""), collapse="|"),
        "}\\hline\n", sep="",
        file=file, append=T)
    if (!is.null(extraTitle))
      cat(extraTitle,"\\\\ \n",file=file, append=T)
    cat(  paste(c(rowNameTitle,cn), collapse=" & "),"\\\\ \\hline\n",
        file=file, append=T)
  }
  for(j in 1:nr){
    cat(paste(c(rn[j], cmat[j,]), collapse=" & "),
        "\\\\\n", file=file, append=T)
  }
  cat("\\hline\n", file=file, append=T)
  if (prtEnd) cat("\\end{tabular}\n", file=file, append=T)
}

-------------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From J.C.Rougier at durham.ac.uk  Thu Sep  7 15:56:39 2000
From: J.C.Rougier at durham.ac.uk (Jonathan Rougier)
Date: Thu, 7 Sep 2000 14:56:39 +0100 (BST)
Subject: [R] .C and DUP=TRUE versus .Call
In-Reply-To: <200009071346.OAA00726@toucan.stats.ox.ac.uk>
Message-ID: <Pine.GSO.4.20.0009071451050.9494-100000@laplace>

Hi Brian,

On Thu, 7 Sep 2000, Prof Brian Ripley wrote:

> .C with DUP=TRUE (the default) copies the objects on the way in and on
> the way out.  Incidentally, the first argument against DUP=FALSE,
> 
>      There are three important dangers with `DUP=FALSE'. The first is
>      that garbage collection may move the object, resulting in the
>      pointers pointing nowhere useful and causing hard-to-reproduce
>      bugs.
> 
> is no longer true in the development version, which has a non-moving
> garbage collector.

That sounds interesting -- it was only the first argument I was worried
about.

> If your code does not modify any of the arguments, how does it do anything
> useful?  Non-R side-effects like printing?

It wasn't strictly true.  The only thing it modifies is an object that is
created to hold the returning value.

> The short answer is that I would use .Call for things like this.
> However, if I had a .C version only if I found it necessary.  The
> experience with Svr4 (which is cleverer at not copying and allows
> selective copying of .C arguments) is that the copying is rarely
> expensive enough to think about compared to doing things to large objects.
> (The development version can increase workspace for a temporary
> copy as required.)

Unfortunately these are really large objects where one extra copy can make
a big difference.  In fact, we'd use larger objects yet if we could but we
cannot fit them into R.  Thanks for your help,

Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dtrenkler at nts6.oec.uni-osnabrueck.de  Thu Sep  7 16:08:15 2000
From: dtrenkler at nts6.oec.uni-osnabrueck.de (Trenkler, Dietrich)
Date: Thu, 7 Sep 2000 16:08:15 +0200 
Subject: [R] Writing a tabel in LaTeX-format
Message-ID: <FB75CFC167F3D311B11D00A0CC20FB0E11317F@nts7.oec.Uni-Osnabrueck.DE>

Diego Kuonen wrote:

> Does anybody know if Knut Suebert's library "tex" is available for 
> download and testing?

Here you are:

 <<R2latex.zip>> 
   --- D.Trenkler ---

************************************************************************
*********
   Dr. Dietrich Trenkler
(dtrenkler at oec.uni-osnabrueck.de)      
   Statistik / Empirische Wirtschaftsforschung
   Universitaet Osnabrueck
   Rolandstrasse 8                             Phone: +49(0)
541-969-2753
   D-49069 Osnabrueck                        Fax  : +49(0) 541-969-2744
   GERMANY
************************************************************************
*********



-------------- next part --------------
A non-text attachment was scrubbed...
Name: R2latex.zip
Type: application/octet-stream
Size: 9011 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000907/ffd2b44a/R2latex.obj

From J.C.Rougier at durham.ac.uk  Thu Sep  7 16:48:20 2000
From: J.C.Rougier at durham.ac.uk (Jonathan Rougier)
Date: Thu, 7 Sep 2000 15:48:20 +0100 (BST)
Subject: [R] .C and DUP=TRUE versus .Call (fwd)
Message-ID: <Pine.GSO.4.20.0009071546570.9494-100000@laplace>

Thanks Duncan -- forwarding to the list as this cautionary tale seems very
helpful!  Cheers, Jonathan.

Jonathan Rougier                       Science Laboratories
Department of Mathematical Sciences    South Road
University of Durham                   Durham DH1 3LE
http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html

---------- Forwarded message ----------
Date: Thu, 7 Sep 2000 10:42:23 -0400 (EDT)
From: Duncan Temple Lang <duncan at research.bell-labs.com>
To: J.C.Rougier at durham.ac.uk
Subject: Re: [R] .C and DUP=TRUE versus .Call


> Date: Thu, 7 Sep 2000 13:29:21 +0100 (BST)
> From: Jonathan Rougier <J.C.Rougier at durham.ac.uk>
> Sender: owner-r-help at stat.math.ethz.ch
> Precedence: bulk
> 
> Hi Everyone,
> 
> I have a piece of C code that uses R_alloc, and so I set DUP=TRUE in the
> call using ".C".  As I understand it this takes a copy of each object
> passed to my function.  If these objects are large then this could be
> expensive.  My question is, if I rewrote the code to use .Call, would I
> avoid this duplication by using the objects themselves (they are not
> modified in the code) rather than copies?
> 
> Many thanks, Jonathan.
> 
> Jonathan Rougier                       Science Laboratories
> Department of Mathematical Sciences    South Road
> University of Durham                   Durham DH1 3LE
> http://www.maths.dur.ac.uk/stats/people/jcr/jcr.html
> 

As far as I can see, you are correct in thinking that the .Call will
not copy the R objects that are passed to it. That will avoid the
duplication issue. 

However, there are other issues that you must be aware of in using the
.Call().  Each argument to the C routine will be an R object declared
in C as a SEXP. You can think of this as being an object that contains
information that R needs to understand what type of data is "in" the
object and a pointer to the data itself (e.g. an array of numbers).

In the .C, the numbers are given to you as a C-level array of doubles,
 i.e. double *.
In the .Call(), they might be given to you as an argument 
      SEXP x
and you can access the individual values as 
    NUMERIC_POINTER(x)[i].

But you need to be very careful if you were to do the following

   double *vals = NUMERIC_POINTER(x);
           ....

    vals[i]

It is possible that the R engine will need to move the
numbers somewhere else during garbage collection. If so, R
will update the pointer in the SEXP x to refer to this new
location of the values. But R cannot know to update vals.
In such cases, vals would be pointing to the old location
of the data and all sorts of "interesting" things can happen.
And if they can, they will :-)

Thus, it is _much_ safer to always use
      NUMERIC_POINTER(x)[i]
    

2) When a character vector ( c("a", "b", "cde")) is passed via
a .Call() to a C routine, it is not in the form of a char **
and to get the i-th string in the vector, you need to do
 
  CHAR( CHARACTER_POINTER(x)[i] )


In spite of these, writing code for use with .Call() is quite easy and
fun once you get the hang of these and a few other ideas.

 I hope this helps. If you think it is comprehensible and
may help others feel free to post it back to the r-help list.
 
  D.


-- 
_______________________________________________________________

Duncan Temple Lang                duncan at research.bell-labs.com
Bell Labs, Lucent Technologies    office: (908)582-3217
700 Mountain Avenue, Room 2C-259  fax:    (908)582-3340
Murray Hill, NJ  07974-2070       
         http://cm.bell-labs.com/stat/duncan

      "Languages shape the way we think, and determine what 
       we can think about."        
                                      Benjamin Whorf

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Sep  7 18:05:01 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 7 Sep 2000 09:05:01 -0700 (PDT)
Subject: [R] Writing a tabel in LaTeX-format
In-Reply-To: <D5A7D734C9C5D211B9E30008C78923020609E835@exdkba03.novo.dk>
Message-ID: <Pine.GSO.4.21.0009070858430.12113-100000@atlas.biostat.washington.edu>

On Thu, 7 Sep 2000, BXC (Bendix Carstensen) wrote:

> I have a vague recollection of seeing a R-function
> that will output a table or matix in a format suitable
> for the tabular enviroment in LaTeX.
> 
> But I cannot find it. Any hints?


You can do most of this with write.table
I use 
 write.table(x,quote=FALSE,sep=" & ",eol="\\\\ \n",row.names=FALSE)
or if I have negative numbers and want a proper minus sign, sep= "$ & $",
eol="$ \\\\ \n$"

Often I preprocess x with zapsmall() and format() to get rid of scientific
notation. It would be nice to have an extension to do all this properly,
and to write eg 3.5\times 10^{-5} rather than 3.5e-5.

Some of the code I have seen for latex tables in S produces very ugly
tables with lines everywhere (rather like some of the examples in the
LaTeX book, but that at least has the excuse of needing to show off the
capabilities of the program).


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From len at mcs.st-and.ac.uk  Thu Sep  7 19:32:47 2000
From: len at mcs.st-and.ac.uk (Len Thomas)
Date: Thu, 07 Sep 2000 18:32:47 +0100
Subject: [R] R as server in Windows
Message-ID: <200009071724.SAA28438@mcs.st-and.ac.uk>

Hi All,

I'm looking to call R as a server from another program in the Windows 
environment (the other program is written in Visual Basic).  Ideally, I'd 
like to be able to fire up R and then feed it commands one by one (the 
commands will come from the user over a longish period of time, for example 
as the user decides they want a second plot on the basis of a first one, 
etc).  

In the book "S Programming", Venables and Ripley say (page 234):

"The windows version of R is builte as a DLL with several front ends, 
including the usual GUI and terminal interfaces.  One example front-end gives 
a direct connection to the R command line: the user supplies a function that 
is called to feed R with commands, and another function for R to call to 
"print" the results.  Graphics windows and pagers are launched in the usual 
way"

I have looked through the R documentation, and the archives of R-help and can 
find no mention of this.  Am I missing something (quite likely!)?

Alternatives are:

1. Run R in batch mode (ie RTerm) with the command file containing one 
command each run, saving and loading the relevant objects between each run.  
This seems inefficient as I'd have to run R many times to complete all the 
commands.

2. Use the experimental COM interface.  Although promising this seems rather 
unstable, and doesn't yet implement all the functionality of R.

Any thoughts/comments appreciated.

 - Len

--
Len Thomas (len at mcs.st-and.ac.uk)
Research Unit for Wildlife Population Assessment
Mathematical Institute, University of St Andrews
Scotland




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From burkett at uriacc.uri.edu  Thu Sep  7 20:00:30 2000
From: burkett at uriacc.uri.edu (John P. Burkett)
Date: Thu, 07 Sep 2000 14:00:30 -0400
Subject: [R] plot with two y axes
Message-ID: <39B7D7BD.3F2E97EB@uriacc.uri.edu>

I'm trying to make a transition from S-plus under Windows to R under
Linux.  My immediate aim is to produce a scatter plot with two y-axes
with different scales. That can be done in S-plus with a command of the
following form:
guiPlot( PlotType="Scatter",  DataSet="execon",
Columns="years,hstart,ship", AxisType="Multiple Y" ),
where years, hstart, and ship are columns in the dataset called execon.
Is there an equivalent command in R?   I'd be most grateful for any
suggestions.

---
John P. Burkett
Department of Economics
University of Rhode Island
10 Chafee Road, Suite 3
Kingston, RI 02881-0808

phone:  (401) 874-4122
fax:    (401) 874-2858


-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000907/005b6474/attachment.html

From thomas at biostat.washington.edu  Thu Sep  7 20:25:06 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 7 Sep 2000 11:25:06 -0700 (PDT)
Subject: [R] plot with two y axes
In-Reply-To: <39B7D7BD.3F2E97EB@uriacc.uri.edu>
Message-ID: <Pine.GSO.4.21.0009071117330.12113-100000@atlas.biostat.washington.edu>

On Thu, 7 Sep 2000, John P. Burkett wrote:

> I'm trying to make a transition from S-plus under Windows to R under
> Linux.  My immediate aim is to produce a scatter plot with two y-axes
> with different scales. That can be done in S-plus with a command of the
> following form:
> guiPlot( PlotType="Scatter",  DataSet="execon",
> Columns="years,hstart,ship", AxisType="Multiple Y" ),
> where years, hstart, and ship are columns in the dataset called execon.
> Is there an equivalent command in R?   I'd be most grateful for any
> suggestions.

No.  You can add a second set of axis labels with axis(), but there is no
built-in way to plot using the second y axis.


	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep  7 20:55:25 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 7 Sep 2000 19:55:25 +0100 (BST)
Subject: [R] R as server in Windows
In-Reply-To: <200009071724.SAA28438@mcs.st-and.ac.uk>
Message-ID: <Pine.GSO.4.05.10009071952400.564-100000@auk.stats>

On Thu, 7 Sep 2000, Len Thomas wrote:

> Hi All,
> 
> I'm looking to call R as a server from another program in the Windows 
> environment (the other program is written in Visual Basic).  Ideally, I'd 
> like to be able to fire up R and then feed it commands one by one (the 
> commands will come from the user over a longish period of time, for example 
> as the user decides they want a second plot on the basis of a first one, 
> etc).  
> 
> In the book "S Programming", Venables and Ripley say (page 234):
> 
> "The windows version of R is builte as a DLL with several front ends, 
> including the usual GUI and terminal interfaces.  One example front-end gives 
> a direct connection to the R command line: the user supplies a function that 
> is called to feed R with commands, and another function for R to call to 
> "print" the results.  Graphics windows and pagers are launched in the usual 
> way"
> 
> I have looked through the R documentation, and the archives of R-help and can 
> find no mention of this.  Am I missing something (quite likely!)?

Look in the sources (R-1.1.1.tgz, in the src/gnuwin32/front-ends directory)

> 
> Alternatives are:
> 
> 1. Run R in batch mode (ie RTerm) with the command file containing one 
> command each run, saving and loading the relevant objects between each run.  
> This seems inefficient as I'd have to run R many times to complete all the 
> commands.
> 
> 2. Use the experimental COM interface.  Although promising this seems rather 
> unstable, and doesn't yet implement all the functionality of R.

Oh, I think is stable and sufficient enough for your purposes, and 
works well from Visual Basic.

I think this will all work: feel free to send more specfic problems
to me directly.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Dominic_Barraclough at urmc.rochester.edu  Thu Sep  7 23:45:49 2000
From: Dominic_Barraclough at urmc.rochester.edu (Dominic_Barraclough@urmc.rochester.edu)
Date: Thu, 7 Sep 2000 17:45:49 -0400
Subject: [R] R as server in Windows - and the com interface
In-Reply-To: <Pine.GSO.4.05.10009071952400.564-100000@auk.stats>
References: <200009071724.SAA28438@mcs.st-and.ac.uk>
Message-ID: <39B7D44D.5725.BCEE4B5@localhost>

A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 4102 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000907/df83f253/attachment.bin

From rachel at stat.auckland.ac.nz  Fri Sep  8 01:27:01 2000
From: rachel at stat.auckland.ac.nz (Rachel Merriman)
Date: Fri, 08 Sep 2000 11:27:01 +1200
Subject: [R] R function writing question
Message-ID: <39B82445.D5F62306@stat.auckland.ac.nz>

Hi there!
I'm looking for a better way of getting the following code working --
can you help?  Instead of having to type in:

binarymissing(y ~ x1 + x2,data=mydata,na.action=na.keep)

as my function call, I would prefer not having to type in
na.action=na.keep    each time as this will always be the same.

The function na.keep is simply:       na.keep <- function(X){X}

The first few lines of the function binarymissing are:

binarymissing<- function (formula, surrogates=NULL, data = sys.parent(),
weights,na.action)
{
    mf <- match.call()
    mf[[1]] <- as.name("model.frame")
    mf <- eval(mf, sys.frame(sys.parent()))
    Y <- model.extract(mf,response)
   Terms <- attr(mf,"terms")
    X <- model.matrix(Terms,mf)
...
}

I've tried a few different things that haven't worked:  for example if I
put    na.action=na.keep    on the first line of function as my default,
the match.call line doesn't pick up the na.action value for some
reason.  Then when I use   model.matrix   it strips out all my missing
values (i.e. na.action=na.omit not na.keep) which is not what I want!
 Hopefully I have made this problem clear enough to you...  I'd really
appreciate your help!

Cheers,
Rachel

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Fri Sep  8 01:51:24 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 7 Sep 2000 16:51:24 -0700 (PDT)
Subject: [R] R function writing question
In-Reply-To: <39B82445.D5F62306@stat.auckland.ac.nz>
Message-ID: <Pine.GSO.4.21.0009071632320.12113-100000@atlas.biostat.washington.edu>

On Fri, 8 Sep 2000, Rachel Merriman wrote:

> Hi there!
> I'm looking for a better way of getting the following code working --
> can you help?  Instead of having to type in:
> 
> binarymissing(y ~ x1 + x2,data=mydata,na.action=na.keep)
> 
> as my function call, I would prefer not having to type in
> na.action=na.keep    each time as this will always be the same.

options(na.action=na.keep) 
will set the global default na.action.

Alternatively add the line
      if(is.null(mf$na.action)) mf$na.action=as.name("na.keep")
after  mf<-match.call()
[or more generally
 if(is.null(mf$na.action)) mf$na.action==formals(binarymissing)$na.action
which will fill in the actual default value]

The reason that the obvious approach doesn't work is that
match.call() returns the call that was actually typed, which has no
na.action argument. This is then turned into a model.frame call with no
na.action argument, which means that the default
for model.frame, ie getOption("na.action"), is used. It's not
completely clear whether this is a bug.

One interesting question is whether we should have an option to
match.call() that fills in defaults by looking at formals(call[[1]]).


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Fri Sep  8 04:03:58 2000
From: pauljohn at ukans.edu (Paul E Johnson)
Date: Thu, 07 Sep 2000 21:03:58 -0500
Subject: [R] What a contortion of the GPL.
References: <3.0.32.20000907203318.01298480@pophost.nsw.cmis.csiro.au>
Message-ID: <39B8490E.CBD44436@ukans.edu>

Concerning this licensing from the Design library:
>  ### GENERAL DISCLAIMER  This program is free software;
>  ### you can redistribute it and/or modify it under the
>  ### terms of the GNU General Public License [...]
>  ### with the exception that you may not port any code
>  ### in the Design library to R.  [...]
>  ### In short: you may
>  ### use this code any way you like other than porting
>  ### any of the code to R, as long as you don't charge
>  ### money for it, remove this notice, or hold anyone
>  ### liable for its results.  [...]

This is kind-of amazing, I've never seen anything like it. I can't
imagine a reason why a person would make this restriction,  but I guess
there is an interesting story behind it?  I do think the exception
stated violates the GPL itself, and so a lawyer would argue that this
copyright is effectively meaningless.

Now, concerning the terminology "port the code to R", since I'm not a
programmer, I can ask this with a straight face: is there a wedge
between the R distribution and the programs I write that access R? 
Obviously, R can't assimilate this code into the R distribution, but
maybe it does not stop a person from making a personal use of this code
in his own programs.  After you finish laughing, nod once for yes and
twice for no.

-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From zamri at sun1.ftsm.ukm.my  Fri Sep  8 04:23:34 2000
From: zamri at sun1.ftsm.ukm.my (Mohd Zamri Murah)
Date: Fri, 8 Sep 2000 10:23:34 +0800
Subject: [R] data mining & R
Message-ID: <20000908102333.A28599@sun1.ftsm.ukm.my>

I am new to R. currenty reading a few intereting articles about data mining.
data mining, if I conclude right, is a method to analyze large data set.
>From the R-FAQ, it states that;

   R (currently) uses a _static_ memory model.  This means that when it
   starts up, it asks the operating system to reserve a fixed amount of memory
   for it.  The size of this chunk cannot be changed subsequently.  Hence, it
   can happen that not enough memory was allocated, e.g., when trying to read
   large data sets into R.
   

out of curiousity, what is the upper limit of data size that R can process
in term or number of rows/columns or in MBytes? Or, if this limit exist, is
it hardware related? (e.g computer with 256MB can process more data than one
with 64MB) 

zamri
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Fri Sep  8 04:49:19 2000
From: rossini at blindglobe.net (A.J. Rossini)
Date: 07 Sep 2000 19:49:19 -0700
Subject: [R] What a contortion of the GPL.
In-Reply-To: <39B8490E.CBD44436@ukans.edu>
 (Paul E Johnson's message of "Thu, 07 Sep 2000 21:03:58 -0500")
References: <3.0.32.20000907203318.01298480@pophost.nsw.cmis.csiro.au>
 <39B8490E.CBD44436@ukans.edu>
Message-ID: <87wvgn38eo.fsf@jeeves.blindglobe.net>

>>>>> "PEJ" == Paul E Johnson <pauljohn at ukans.edu> writes:

    PEJ> Concerning this licensing from the Design library:
    >> ### GENERAL DISCLAIMER This program is free software; ### you
    >> can redistribute it and/or modify it under the ### terms of the
    >> GNU General Public License [...]  ### with the exception that
    >> you may not port any code ### in the Design library to R.
    >> [...]  ### In short: you may ### use this code any way you like
    >> other than porting ### any of the code to R, as long as you
    >> don't charge ### money for it, remove this notice, or hold
    >> anyone ### liable for its results.  [...]

    PEJ> This is kind-of amazing, I've never seen anything like it. I
    PEJ> can't imagine a reason why a person would make this
    PEJ> restriction, but I guess there is an interesting story behind
    PEJ> it?  I do think the exception stated violates the GPL itself,
    PEJ> and so a lawyer would argue that this copyright is
    PEJ> effectively meaningless.

No.  It just limits the uses that you are granted by the license, and
in particular, the way it's phrased means that it isn't the GPL.

    PEJ> Now, concerning the terminology "port the code to R", since
    PEJ> I'm not a programmer, I can ask this with a straight face: is
    PEJ> there a wedge between the R distribution and the programs I
    PEJ> write that access R? Obviously, R can't assimilate this code
    PEJ> into the R distribution, but maybe it does not stop a person
    PEJ> from making a personal use of this code in his own programs.
    PEJ> After you finish laughing, nod once for yes and twice for no.

I've had some "interesting" emails with Frank a while back (years?)
over this.  He's got some valid points, and some amusing points...

He's also recently realized the extent and importance that licenses
have in the real world.  

However, the port is fairly major (I know a few people who will remain
nameless who have started it at various times), and the licensing is
still "compatible" as well as legal, in the sense that he wants, which
is the crux of the issue.

I researched this a while back, after getting seriously annoyed by a
few departments/companies, and wanted to release code (ESS :-) under a
"GPL but so-and-so can never use it".  It's legal but definitely in
poor taste.  And I grew up and didn't.

Frank's case is a bit different, he's got reasons, which are based on
experiences he doesn't want to have happen again.  It's not personally
vindictive, at least as far as I know.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
BlindGlobe Networks (home/default)	rossini at blindglobe.net	
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org

CFAR:   M/F: 206-731-3647 (fax=3694) | Email is far better than phone
FHCRC: Tu/W: 206-667-7025 (fax=4812) | Voicemail is pretty sketchy
UW:      Th: 206-543-1044 (fax=3286) | Change last 4 digits of phone for fax
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ihaka at stat.auckland.ac.nz  Fri Sep  8 05:37:37 2000
From: ihaka at stat.auckland.ac.nz (Ross Ihaka)
Date: Fri, 8 Sep 2000 15:37:37 +1200
Subject: [R] data mining & R
In-Reply-To: <20000908102333.A28599@sun1.ftsm.ukm.my>; from Mohd Zamri Murah on Fri, Sep 08, 2000 at 10:23:34AM +0800
References: <20000908102333.A28599@sun1.ftsm.ukm.my>
Message-ID: <20000908153737.A15645@stat1.stat.auckland.ac.nz>

On Fri, Sep 08, 2000 at 10:23:34AM +0800, Mohd Zamri Murah wrote:
> I am new to R. currenty reading a few intereting articles about data mining.
> data mining, if I conclude right, is a method to analyze large data set.
> From the R-FAQ, it states that;
> 
>    R (currently) uses a _static_ memory model.  This means that when it
>    starts up, it asks the operating system to reserve a fixed amount of memory
>    for it.  The size of this chunk cannot be changed subsequently.  Hence, it
>    can happen that not enough memory was allocated, e.g., when trying to read
>    large data sets into R.
>    
> 
> out of curiousity, what is the upper limit of data size that R can process
> in term or number of rows/columns or in MBytes? Or, if this limit exist, is
> it hardware related? (e.g computer with 256MB can process more data than one
> with 64MB) 

This is about to change in 1.2.  Luke Tierney has rewritten the memory
management in R so that this restriction no longer applies.  On the other
hand, the computational model used within R is really only suitable for
data sets consisting of at most a few 10s of megabytes.  The problem is
that data sets are memory resident and some computations will copy the
entire data set.

	Ross
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Fri Sep  8 05:44:17 2000
From: Bill.Venables at cmis.csiro.au (Bill Venables)
Date: Fri, 08 Sep 2000 13:44:17 +1000
Subject: [R] What a contortion of the GPL.
Message-ID: <3.0.32.20000908134416.012c3a40@pophost.nsw.cmis.csiro.au>

At 19:49 07/09/00 -0700, A.J. Rossini wrote:
>
>I've had some "interesting" emails with Frank a while back (years?)
>over this.  He's got some valid points, and some amusing points...
>
>He's also recently realized the extent and importance that licenses
>have in the real world.  
>
>However, the port is fairly major (I know a few people who will remain
>nameless who have started it at various times), and the licensing is
>still "compatible" as well as legal, in the sense that he wants, which
>is the crux of the issue.
>
>I researched this a while back, after getting seriously annoyed by a
>few departments/companies, and wanted to release code (ESS :-) under a
>"GPL but so-and-so can never use it".  It's legal but definitely in
>poor taste.  And I grew up and didn't.
>
>Frank's case is a bit different, he's got reasons, which are based on
>experiences he doesn't want to have happen again.  It's not personally
>vindictive, at least as far as I know.

Yes, indeed.

Let me try to put the point I was making in slightly more diplomatic language.

Frank Harrell is one of the more generous and engaging people you are ever
likely to meet.  I don't believe, either, that vindictiveness or hostility
towards the R project has anything to do with the restriction.  The fact
remains, however, that the code has been issued free of charge to the
public under a very specific condition and I suggest that the decent thing
to do is to honour that condition willingly and without complaint.

It may also be the smart thing to do.

We had a few doubts at the start, but now I personally believe that opening
up our stuff to the R project was one of the smarter moves Brian Ripley and
I made, and that in the future this will be proven again and again.  Had
Brian not done the port himself I can tell you now that the MASS material
you might have had in R would be pretty second rate stuff.  Now if Frank
Harrell is a smart man...

Bill Venables.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep  8 08:13:44 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 8 Sep 2000 07:13:44 +0100 (BST)
Subject: [R] data mining & R
In-Reply-To: <20000908153737.A15645@stat1.stat.auckland.ac.nz>
Message-ID: <Pine.GSO.4.05.10009080703250.5455-100000@auk.stats>

On Fri, 8 Sep 2000, Ross Ihaka wrote:

> On Fri, Sep 08, 2000 at 10:23:34AM +0800, Mohd Zamri Murah wrote:
> > I am new to R. currenty reading a few intereting articles about data mining.
> > data mining, if I conclude right, is a method to analyze large data set.

Not really.  It's about searching for structure in largish datasets,
usually with many observations per subject.  Think of it as really multi-
multivariate analysis.

> > From the R-FAQ, it states that;
> > 
> >    R (currently) uses a _static_ memory model.  This means that when it
> >    starts up, it asks the operating system to reserve a fixed amount of memory
> >    for it.  The size of this chunk cannot be changed subsequently.  Hence, it
> >    can happen that not enough memory was allocated, e.g., when trying to read
> >    large data sets into R.
> >    
> > 
> > out of curiousity, what is the upper limit of data size that R can process
> > in term or number of rows/columns or in MBytes? Or, if this limit exist, is
> > it hardware related? (e.g computer with 256MB can process more data than one
> > with 64MB) 
> 
> This is about to change in 1.2.  Luke Tierney has rewritten the memory
> management in R so that this restriction no longer applies.  On the other
> hand, the computational model used within R is really only suitable for
> data sets consisting of at most a few 10s of megabytes.  The problem is
> that data sets are memory resident and some computations will copy the
> entire data set.

10Mb datasets are certainly challenging enough for the current state of
data mining methodology. We routinely use R 1.1.1 (with a few judious
operations coded in C called from R) to analyse fMRI experiments in the
10-50Mb region, on machines with 128-512Mb of RAM.

There is another part of data mining about managing the databases, and
sometimes that's needed to extract a suitable <10Mb subset from a data
warehouse.

Finally, `data mining' is a buzz phrase and not well-defined: the above
reflects what people who talk to me (e.g. as a consultant) mean by it!

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erdbruegge at statistik.uni-dortmund.de  Fri Sep  8 10:32:33 2000
From: erdbruegge at statistik.uni-dortmund.de (Martina =?iso-8859-1?Q?Erdbr=FCgge?=)
Date: Fri, 08 Sep 2000 10:32:33 +0200
Subject: [R] Writing a tabel in LaTeX-format
References: <D5A7D734C9C5D211B9E30008C78923020609E835@exdkba03.novo.dk>
Message-ID: <39B8A421.8EE0842C@statistik.uni-dortmund.de>

Hi there,

here's another attempt to write a nice function that converts a matrix
into Latex-code. Maybe you want to try it (it's an english version).

Martina



"BXC (Bendix Carstensen)" wrote:
> 
> I have a vague recollection of seeing a R-function
> that will output a table or matix in a format suitable
> for the tabular enviroment in LaTeX.
> 
> But I cannot find it. Any hints?
-------------- next part --------------
A non-text attachment was scrubbed...
Name: latex_table.R
Type: application/x-unknown-content-type-r_auto_file
Size: 3763 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-help/attachments/20000908/7c37eff6/latex_table.bin

From helgito at hi.is  Fri Sep  8 13:35:35 2000
From: helgito at hi.is (Helgi Tomasson)
Date: Fri, 08 Sep 2000 11:35:35 +0000
Subject: [R] Writing a tabel in LaTeX-format
References: <D5A7D734C9C5D211B9E30008C78923020609E835@exdkba03.novo.dk> <39B8A421.8EE0842C@statistik.uni-dortmund.de>
Message-ID: <39B8CF07.A92D37E2@rhi.hi.is>

Here is another attempt less sophisticated than the one from Martina

Helgi



Martina Erdbr?gge wrote:

> Hi there,
>
> here's another attempt to write a nice function that converts a matrix
> into Latex-code. Maybe you want to try it (it's an english version).
>
> Martina
>
> "BXC (Bendix Carstensen)" wrote:
> >
> > I have a vague recollection of seeing a R-function
> > that will output a table or matix in a format suitable
> > for the tabular enviroment in LaTeX.
> >
> > But I cannot find it. Any hints?
>
>   ------------------------------------------------------------------------
>                     Name: latex_table.R
>    latex_table.R    Type: application/x-unknown-content-type-R_auto_file
>                 Encoding: base64

--
Helgi Tomasson                                       FAX:  354-552-6806
University of Iceland                                PHONE:354-525-4571
Faculty of Economics and Business Administration     email:helgito at rhi.hi.is
Oddi v/ Sturlugotu
IS-101 Reykjavik
ICELAND


-------------- next part --------------
#
#  sparesly commented conversion of matrix to tex
#  input, table and required precision
#  output, vector of strings that can be writte to a file
#  
#
rmatrix2textable  <- function(dreif,pres) 
 {
  radir <- nrow(dreif)
  dreiftafla <- vector('character',radir+2)
 dalkar <- ncol(dreif)
rstafir <- c("r","r","r","r",
"r","r",
"r","r",
"r","r",
"r","r",
"r","r")
fyrirsogn <- c("\\begin{tabular}{",rstafir[1:dalkar],"}")
 dreiftafla[1] <- paste(fyrirsogn,sep="",collapse="") 
      jxx <- 1
   while (jxx < radir+1)
   {
   ixx <- 1
     lina <- vector('character',2*dalkar)
    while (ixx < dalkar+1)
     {
       lina[2*ixx-1] <- formatC(dreif[jxx,ixx],digits=pres,format='f')
       lina[2*ixx] <- " & "
      ixx <- ixx+1
      }
    lina[2*dalkar] <- " \\\\"
    dreiftafla[jxx+1] <- paste(lina,sep="",collapse="")
    jxx <- jxx+1
    }
   dreiftafla[radir+2] <- "\\end{tabular}"
   return(dreiftafla)
}
#
#
#

From bitwrit at ozemail.com.au  Fri Sep  8 14:50:00 2000
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Fri, 08 Sep 2000 23:50:00 +1100
Subject: [R] plot with two y axes
Message-ID: <39B8E078.91C3F627@ozemail.com.au>

Hi John,

As it happens, I once had the same problem myself.  I didn't have R
then, but it was kind of fun seeing how much easier it is.  You will
probably want to dress this up a bit as it is very basic.

Jim


-------------- next part --------------
plot2ax<-function(x1,y1,xlim1,ylim1,x2,y2,xlim2,ylim2,y2lab=NULL,type="b",pch1=1,pch2=2,...) {
 if(!missing(y1)) {
  oldmar<-par("mar")
  par(mar=c(5,4,4,4))
  if(missing(x1)) x1<-1:length(y1)
  if(missing(xlim1)) xlim1<-range(x1)
  if(missing(ylim1)) ylim1<-range(y1)
  plot(x1,y1,xlim=xlim1,ylim=ylim1,pch=pch1,...)
  if(!missing(y2)) {
   if(missing(x2)) x2<-1:length(y2)
   if(missing(xlim2)) xlim2<-range(x2)
   if(missing(ylim2)) ylim2<-range(y2)
   ax2inc<-(ylim2[2] - ylim2[1])/6
   ax2val<-c(ylim2[1],ylim2[1]+ax2inc,ylim2[1]+2*ax2inc,ylim2[1]+3*ax2inc,
    ylim2[2]-2*ax2inc,ylim2[2]-ax2inc,ylim2[2])
   axis(4,labels=as.character(ax2val))
   xmult<-(xlim1[2] - xlim1[1])/(xlim2[2] - xlim2[1])
   ymult<-(ylim1[2] - ylim1[1])/(ylim2[2] - ylim2[1])
   points((x2-xlim2[1])*xmult+xlim1[1],(y2-ylim2[1])*ymult+ylim1[1],pch=pch2)
   mtext(y2lab,4,2)
  }
  par(oldmar)
 }
 else cat("Usage: plot2ax(x1,y1,xlim1,ylim1,x2,y2,xlim2,ylim2,y2lab,type=\"b\",pch1=1,pch2=2)\n")
}

From stein at fmnh.org  Fri Sep  8 18:25:12 2000
From: stein at fmnh.org (Jennifer Steinbachs)
Date: Fri, 8 Sep 2000 11:25:12 -0500 (CDT)
Subject: [R] problem with installation from source on linux and solaris
Message-ID: <Pine.LNX.4.21.0009081118180.13563-100000@mail.fmnh.org>


On the solaris 7 box, using the Sun make, the configuration works
ok.  Even running make works ok.  However, when I run "make check" all of
the tests fail.  It's a standard Ultra10, with full patches
applied...  and there are no errors generated during the make...

On the RH6.x linux box, configure works, make works, make check works,
make install works.  Hey, I can even see the R binary that gets dropped
into /usr/local/R-1.1.1/bin.  But when I try to run it, I get a text
message "welcome to R yada yada yada" and then it quite by saying that it
cannot access the base package.

And then last night on a different RH 6.2 linux box, using the SRPMS, my
husband (sys admin extraordinaire) tried making a new R rpm for me, but it
failed because it couldn't find one file (man/R.1 or something?) during
the rpm build.

I'd welcome any insights...

-jennifer

-----------------------------------
J. Steinbachs, Ph.D.
Computational Biologist
The Field Museum
Chicago, IL 60605-2496

office: 312-665-7810
fax: 312-665-7158
http://cb.fmnh.org
-----------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Sep  8 20:51:30 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 08 Sep 2000 20:51:30 +0200
Subject: [R] problem with installation from source on linux and solaris
In-Reply-To: Jennifer Steinbachs's message of "Fri, 8 Sep 2000 11:25:12 -0500 (CDT)"
References: <Pine.LNX.4.21.0009081118180.13563-100000@mail.fmnh.org>
Message-ID: <x2em2uogy5.fsf@blueberry.kubism.ku.dk>

Jennifer Steinbachs <stein at fmnh.org> writes:

> On the solaris 7 box, using the Sun make, the configuration works
> ok.  Even running make works ok.  However, when I run "make check" all of
> the tests fail.  It's a standard Ultra10, with full patches
> applied...  and there are no errors generated during the make...

Hum, we need a bit more to go on there. *How* do they fail? I'm
getting a bit rusty on that part, but once upon a time you needed
GNU make to run make check on Solaris.

> On the RH6.x linux box, configure works, make works, make check works,
> make install works.  Hey, I can even see the R binary that gets dropped
> into /usr/local/R-1.1.1/bin.  But when I try to run it, I get a text
> message "welcome to R yada yada yada" and then it quite by saying that it
> cannot access the base package.

Well that welcome message would seem to be rather unexpected... ;^) 

That'll be the plain old .tgz file configured with
--prefix=/usr/local/R-1.1.1, right?

If it cannot access the base package, it might be a good idea to see
if you can find it...:

$ ls -l `R RHOME`/library/base/R
total 596
-rw-r--r--    1 pd       users        2487 Aug 20 15:55 Rprofile
-rw-r--r--    1 pd       users      602412 Aug 20 15:55 base


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Sun Sep 10 20:29:53 2000
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Sun, 10 Sep 2000 13:29:53 -0500 (CDT)
Subject: [R] Greek letters
Message-ID: <200009101829.NAA00531@uhddx01.dt.uh.edu>

Dear R People:

In the plot command, using the main or xlab parm,
can you have Greek letters, please?

I thought it might be xlab="\beta", but that doesn't
seem to work.

R version 1.1.1 for Windows.

Any help is much appreciated.

Sincerely,
Erin M. Hodgess, Ph.D.
Associate Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
One Main Street 
Houston, TX 77002
e-mail: hodgess at uhddx01.dt.uh.edu




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Sun Sep 10 20:52:27 2000
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Sun, 10 Sep 2000 13:52:27 -0500 (CDT)
Subject: [R] please ignore last noe
Message-ID: <200009101852.NAA01332@uhddx01.dt.uh.edu>

Please ignore last message.  Found answer in R FAQ.

Sorry for the trouble.
Erin
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.adi.purnomo at energylink.co.nz  Mon Sep 11 06:57:48 2000
From: s.adi.purnomo at energylink.co.nz (Peppy Adi Purnomo)
Date: Mon, 11 Sep 2000 16:57:48 +1200
Subject: [R] New update
Message-ID: <33344F2C6B6ED411996D0000F87908142177@ELSRV1>

Hello,

I want to update my new R version.  Now something has change is that I am
now in Windows 2000.  Which one should I use whether the R for window 9x or
Win NT?

Thanks a lot,
Peppy
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Mon Sep 11 08:52:01 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Mon, 11 Sep 2000 08:52:01 +0200
Subject: [R] New update
In-Reply-To: <33344F2C6B6ED411996D0000F87908142177@ELSRV1>; from s.adi.purnomo@energylink.co.nz on Mon, Sep 11, 2000 at 04:57:48PM +1200
References: <33344F2C6B6ED411996D0000F87908142177@ELSRV1>
Message-ID: <20000911085201.A22786@sirio.stat.unipd.it>

On Mon, Sep 11, 2000 at 04:57:48PM +1200, Peppy Adi Purnomo wrote:
> Hello,
> 
> I want to update my new R version.  Now something has change is that I am
> now in Windows 2000.  Which one should I use whether the R for window 9x or
> Win NT?
> 

  They are the same( one of the two CRAN directory is a link to
  the other).
 
  As reported on the list and annotated in the README, interactive use
  of Rterm seems to don't work well under Windows 2000. Rgui and 
  batch use of Rterm work. This will affects you  if you are planning to use
  R under NTEmacs & ESS. We are sorry for the inconvenience and
  hope to solve it for the next release. But, the problem 
  is that neither Brian Ripley nor I have easy access to Win2000
  since our department have decided to don't switch to it for
  some time.
  guido
  
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Mon Sep 11 10:55:58 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Mon, 11 Sep 2000 09:55:58 +0100 (BST)
Subject: [R] plots: screwed up aspect ratio
Message-ID: <Pine.LNX.4.10.10009110939290.817-100000@localhost.localdomain>

This is a new problem: Old versions of R worked fine. I am not sure when
it got broken. I am posting here instead of bugs in case this is not a
true bug.

New vanilla plots (I mean I don't fool around with par() etc) are screwed
up in several ways:
- the tick marks are twice as long as they should be
- the gap between the end of the tick and the top of the numerical labels
is twice as big as it should be
- the gap between the bottom of the numerical labels and the axis label is
twice as big as it should be
- the aspect ratio is screwed up
[Note in above where I say "should be" I also mean "used to be"]

I am just going to concentrate on the last. If I do
dev.print(pointsize=21,horizontal=FALSE,width=4.5,height=4.5,
file="papers/spatiotemp/plot1a.jm.ps")
I expect that a square plot will be printed to the file. This method has
worked for the past 5 yrs or so. But the latest version of R makes a plot
that is about half as high as it is wide.

Is there any way to get the old behaviour back (in all the ways, not just
aspect ratio)? BTW, including pty="s" in the plot call or as a
par() argument [I can never figure out where these things belong] does not
work.

Right now I think of the following options to get things working:
a) reinstall an old version (.90? .99?)
b) spend all day diddling with plot/graphics parameters

Thanks for any help. I will send this to bugs if you tell me to.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From D.J.Lucy at Bradford.ac.uk  Mon Sep 11 11:08:33 2000
From: D.J.Lucy at Bradford.ac.uk (DJ LUCY)
Date: Mon, 11 Sep 2000 10:08:33 +0100 (BST)
Subject: [R] plot with two y axes
In-Reply-To: <Pine.GSO.4.21.0009071117330.12113-100000@atlas.biostat.washington.edu>
Message-ID: <Pine.GSO.3.96.1000911100137.15573B-100000@lithium.cen.brad.ac.uk>

> On Thu, 7 Sep 2000, John P. Burkett wrote:
> 
> > I'm trying to make a transition from S-plus under Windows to R under
> > Linux.  My immediate aim is to produce a scatter plot with two y-axes
> > with different scales. That can be done in S-plus with a command of the
> > following form:
> > guiPlot( PlotType="Scatter",  DataSet="execon",
> > Columns="years,hstart,ship", AxisType="Multiple Y" ),
> > where years, hstart, and ship are columns in the dataset called execon.
> > Is there an equivalent command in R?   I'd be most grateful for any
> > suggestions.

John,

Last time I tried to do this I had to write a small function - it's not
perfect but it will provide some ideas. Watch out for the word wrapping on
my mailer.

The input is fairly self explanatory except:
noincs - no of divisions in the axis labels
marks - type of marker for each y
legpos - legend position
leglabs - legend labels

good luck.


Dave.

# plots an x y1 y2 using left and right axes for the different y's
# rescales y2 to fit in the same space as y1
TwoVarPlot <- function(xvar, y1var, y2var, labels, noincs = 5,
marks=c(1,2), legpos, leglabs, title)
{
# rescale to fit on same axis
scaledy2var <- (y2var - min(y2var)) / (max(y2var) - min(y2var))
scaledy2var <- (scaledy2var * (max(y1var) - min(y1var))) + min(y1var)

# plot it up and add the points
plot(xvar, y1var, xlab=labels[1], ylab="", axes=F, pch=marks[1],
main=title)
points(xvar, scaledy2var, pch=marks[2])

# make up some labels and positions
y1labs <- round(seq(min(y1var), max(y1var), length=noincs),2)

# convert these to the y2 axis scaling
y2labs <- (y1labs - min(y1var)) / (max(y1var) - min(y1var))
y2labs <- (y2labs * (max(y2var) - min(y2var))) + min(y2var)
y2labs <- round(y2labs, 2)

axis(1)
axis(2, at=y1labs, labels=y1labs)
axis(4, at=y1labs, labels=y2labs)
mtext(labels[3], side=4, line=2)
mtext(labels[2], side=2, line=2)
box()

legend(legpos[1], legpos[2], legend=leglabs, pch=marks, bty="n")
}








********************************************************************
Dr. David Lucy
Department of Archaeological Sciences
University of Bradford
Bradford
West Yorkshire
BD7 1DP
UK

tel. +44 01274 233556
fax. +44 01274 235190
********************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Mon Sep 11 11:40:47 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Mon, 11 Sep 2000 10:40:47 +0100 (BST)
Subject: [R] plots: aspect ratio
Message-ID: <Pine.LNX.4.10.10009111037450.1003-100000@localhost.localdomain>

After playing around I got everything to work. One problem was
with the large pointsizes. I switched to small pointsizes and shrank the
plot region. This shrank the gaps and tick lengths down to reasonable
values.

As for aspect ratio, I think the pty="s" did finally kick in somehow. In
the old days this was not required; the dev.print width=, height= took
care of that.

Cheers,
Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep 11 11:59:45 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Sep 2000 11:59:45 +0200
Subject: [R] plots: screwed up aspect ratio
In-Reply-To: Bill Simpson's message of "Mon, 11 Sep 2000 09:55:58 +0100 (BST)"
References: <Pine.LNX.4.10.10009110939290.817-100000@localhost.localdomain>
Message-ID: <x2its36yge.fsf@blueberry.kubism.ku.dk>

Bill Simpson <wsi at gcal.ac.uk> writes:

> This is a new problem: Old versions of R worked fine. I am not sure when
> it got broken. I am posting here instead of bugs in case this is not a
> true bug.
> 
> New vanilla plots (I mean I don't fool around with par() etc) are screwed
> up in several ways:
> - the tick marks are twice as long as they should be
> - the gap between the end of the tick and the top of the numerical labels
> is twice as big as it should be
> - the gap between the bottom of the numerical labels and the axis label is
> twice as big as it should be
> - the aspect ratio is screwed up
> [Note in above where I say "should be" I also mean "used to be"]
> 
> I am just going to concentrate on the last. If I do
> dev.print(pointsize=21,horizontal=FALSE,width=4.5,height=4.5,
> file="papers/spatiotemp/plot1a.jm.ps")
> I expect that a square plot will be printed to the file. This method has
> worked for the past 5 yrs or so. But the latest version of R makes a plot
> that is about half as high as it is wide.

[I'd be surprised if any of this worked in 1995...] 

The main culprit is the pointsize=21 making the text line unit around
the plot about twice as big as the actual text (which will have the
size specified when plotting to the screen). Did you by any chance
mean "12" there?

The mismatch between the screen and the print if pointsize gets
diddled is a bit annoying, but hardly new. The graphics replay code
should probably rescale all text by the ratio of input to output
pointsizes. 

The "non-aspectness" is a feature. If you look carefully, you'll see
that the bounding box of your plot really is square. However, there
are fewer lines of vertical text (6.2) than horisontal (9.2). To get a
square plotting region make sure that there is the same number of
lines in both directions, or calculate the width and height from the
character size. The latter is a bit painful, but not being able to
control the total width and height of a plot was considered more so. 


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Mon Sep 11 12:04:03 2000
From: plummer at iarc.fr (Martyn Plummer)
Date: Mon, 11 Sep 2000 12:04:03 +0200 (CEST)
Subject: [R] problem with installation from source on linux and solar
In-Reply-To: <Pine.LNX.4.21.0009081118180.13563-100000@mail.fmnh.org>
Message-ID: <XFMail.000911120403.plummer@iarc.fr>

On 08-Sep-00 Jennifer Steinbachs wrote:
> 
> And then last night on a different RH 6.2 linux box, using the SRPMS, my
> husband (sys admin extraordinaire) tried making a new R rpm for me, but it
> failed because it couldn't find one file (man/R.1 or something?) during
> the rpm build.

It is difficult to say what went wrong. Where any changes made to the
SPEC file? If not, then I think it would be best to solve the problem
of installing from the original source first.

I'm not sure why you wanted to rebuild the RPM.  If it was to change
the prefix, you can do this when you install, e.g.

rpm -Uvh --prefix=/usr/local R-base-1.1.1-1.i386.rpm

will put R in /usr/local instead of the default /usr

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep 11 12:14:06 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 11 Sep 2000 12:14:06 +0200
Subject: [R] plots: screwed up aspect ratio
In-Reply-To: Peter Dalgaard BSA's message of "11 Sep 2000 11:59:45 +0200"
References: <Pine.LNX.4.10.10009110939290.817-100000@localhost.localdomain> <x2its36yge.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2d7ib6xsh.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> The "non-aspectness" is a feature. If you look carefully, you'll see
> that the bounding box of your plot really is square. However, there
> are fewer lines of vertical text (6.2) than horisontal (9.2). To get a
> square plotting region make sure that there is the same number of
> lines in both directions, or calculate the width and height from the
> character size. The latter is a bit painful, but not being able to
> control the total width and height of a plot was considered more so. 

Um, I forgot about par(pty="s") there.... It does work, but you need
to set it before doing the screen plot.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Mon Sep 11 12:36:48 2000
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Mon, 11 Sep 2000 21:36:48 +1100
Subject: [R] plot with two y axes
Message-ID: <39BCB5C0.DBF8CDC0@ozemail.com.au>

Thanks to Uwe Ligges, who found a couple of bugs in the function I
posted last week.  Here's a (hopefully) debugged version.

Jim

-------------- next part --------------
plot2ax<-function(x1,y1,xlim1,ylim1,x2,y2,xlim2,ylim2,y2lab,type="b",pch1=1,pch2=2,...) {
 if(!missing(y1)) {
  oldmar<-par("mar")
  par(mar=c(5,4,4,4))
  if(missing(x1)) x1<-1:length(y1)
  if(missing(xlim1)) xlim1<-range(x1)
  if(missing(ylim1)) ylim1<-range(y1)
  plot(x1,y1,xlim=xlim1,ylim=ylim1,pch=pch1,type=type,...)
  if(!missing(y2)) {
   if(missing(x2)) x2<-1:length(y2)
   if(missing(xlim2)) xlim2<-range(x2)
   if(missing(ylim2)) ylim2<-range(pretty(y2))
   ax2val<-pretty(y2)
   xmult<-(xlim1[2] - xlim1[1])/(xlim2[2] - xlim2[1])
   ymult<-(ylim1[2] - ylim1[1])/(ylim2[2] - ylim2[1])
   axis(4,(ax2val-ylim2[1])*ymult+ylim1[1],labels=as.character(ax2val))
   points((x2-xlim2[1])*xmult+xlim1[1],(y2-ylim2[1])*ymult+ylim1[1],
    pch=pch2,type=type)
   if(!missing(y2lab)) mtext(y2lab,4,2)
  }
  par(oldmar)
 }
 else cat("Usage: plot2ax(x1,y1,xlim1,ylim1,x2,y2,xlim2,ylim2,y2lab,type=\"b\",pch1=1,pch2=2)\n")
}

From nicolas.baurin at univ-orleans.fr  Mon Sep 11 19:25:24 2000
From: nicolas.baurin at univ-orleans.fr (nicolas baurin)
Date: Mon, 11 Sep 2000 19:25:24 +0200
Subject: [R] SAMPLS R implementation : pbm with algorithm application
Message-ID: <39BD157E.494A6DC4@univ-orleans.fr>

Hello R people,

i'm trying to implement the Partial Least Squares algorithm called
SAMPLS from "J.Comp-Aided Molecular Design", 7 (1993), 587-619. It's
faster than the classical PLS algorithm for fat matrix (m>>n).

Here's the algorithm from the article of Bush B. L. and Nachbar R.B.:
    X is the matrix of explanatories proprieties (m*n) , y the matrix of
responses, h the number of latent variables extracted
    XT is for X matrix transposed
    x* is for the quantities for one sample (y* is the response
predicted from the model derived; i used one to test my R traduction
compared to the R pls module )


   Calculate the covariance matrix C=XXT    and     c*=Xx* for
prediction
     y is centered and become y1
    y*1=0


    For h =1,2,3...hmax
        s=Cyh
        center s
        working scalar for prediction sample s*=c*Tyh
        orthogonalize s to previous t: for g=1,...(h-1),
s=s-(tgTs/tgTtg)tg
        orthogonalize s* to previous t*: for g=1,...(h-1),
s*=s*-(tgTs/tgTtg)t*g

            t*h=s*
        th=s
        th2=tTt
        betah=(tTyh)/th2

        update yh+1=yh-betahth
           buid up prediction y*h+1=y*h+betaht*h

    end of cycle
----------------------------------- R-code
##xe and  ye  are the explanatories and responses matrices, xtest and
ytestsampls the variables for 1 sample

x2<-scale(xe,scale=FALSE)
y2<-scale(ye,scale=FALSE)

lv<-1
xtest<-as.matrix(x2[1,])
t<-matrix(0,nrow(ye),1)
c<-xe%*%t(xe)
yh<-y2
ytestsampls<-0
ctest<-xe%*%xtest


for (h in 1:lv) {
 s<-c%*%yh
 s<-scale(s,scale=FALSE)
stest<-t(ctest)%*%yh

##what follows works only for h=1 and 2, i know

 if (h>1) { s<-s- ( as.numeric( (t(t)%*%s)  / (t(t)%*%t) ) *t )
  stest<-stest-( as.numeric( (t(t)%*%s)  / (t(t)%*%t) ) *ttest )
  }
ttest<-stest
 t<-s
 t2<-t(t)%*%t
 beta<-t(t)%*%yh
 beta<-as.numeric(beta/t2)

ytestsampls<-ytestsampls + as.numeric(beta)*(ttest)
 yh<-yh-(beta*t)
}

ytestsampls2<-ytestsampls+mean(ye)



-------------------

When lv (number of variables extracted ) is 1 , no problem the y
predicted (ytestsampls2) is the same as when using the R module pls
(library(pls)). But when using lv=2, there is a difference , thus an
error in my code that must come from the update steps.

Does it come from the original algorithm or from my traduction.

Merci d'avance,

sorry for the size of this e-mail and thanks for reading it till all,

--
Nicolas Baurin

Doctorant
Institut de Chimie Organique et Analytique, UPRES-A 6005
Universit? d'Orl?ans, BP 6759
45067 ORLEANS Cedex 2, France
Tel: (33+) 2 38 49 45 77

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000911/dca546d4/attachment.html

From mai at ms.uky.edu  Tue Sep 12 06:25:20 2000
From: mai at ms.uky.edu (Mai Zhou)
Date: Tue, 12 Sep 2000 00:25:20 -0400 (EDT)
Subject: [R] ctest
Message-ID: <200009120425.AAA03396@t6.mscf.uky.edu>

I forgot to say that I am on windows 2000 
R 1.1.0 (June 15, 2000)

Mai Zhou
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mai at ms.uky.edu  Tue Sep 12 06:22:47 2000
From: mai at ms.uky.edu (Mai Zhou)
Date: Tue, 12 Sep 2000 00:22:47 -0400 (EDT)
Subject: [R] binom.test inside ctest
Message-ID: <200009120422.AAA03386@t6.mscf.uky.edu>

I got 

binom.test(65, 100, p=0.5)


p-value = 0.002654

I thought in this case (when p=0.5 so a symmetric distribution)
we should get 

p-value = 2*( 1-pbinom(64, 100, p=0.5) ) = 0.003517642

Can somebody explain why the difference?

Thanks.

Mai Zhou
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Tue Sep 12 08:39:55 2000
From: gb at stat.umu.se (gb)
Date: Tue, 12 Sep 2000 08:39:55 +0200 (CEST)
Subject: [R] binom.test inside ctest
In-Reply-To: <200009120422.AAA03386@t6.mscf.uky.edu>
Message-ID: <Pine.LNX.4.21.0009120836510.1586-100000@pc16.stat.umu.se>

Mai,

it seems as if binom.test only adds half the probability of
of the border point 65 to the p-value. If you try

> (1-pbinom(64, 100, p = 0.5)) + pbinom(34, 100, p=0.5)
[1] 0.002653786

you get the same result as binom.test.


G?ran

On Tue, 12 Sep 2000, Mai Zhou wrote:

> I got 
> 
> binom.test(65, 100, p=0.5)
> 
> 
> p-value = 0.002654
> 
> I thought in this case (when p=0.5 so a symmetric distribution)
> we should get 
> 
> p-value = 2*( 1-pbinom(64, 100, p=0.5) ) = 0.003517642
> 
> Can somebody explain why the difference?
> 
> Thanks.
> 
> Mai Zhou
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 Department of Statistics            fax: +46 90 786 6614
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Tue Sep 12 09:49:06 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Tue, 12 Sep 2000 09:49:06 +0200
Subject: [R] binom.test inside ctest
Message-ID: <3.0.32.20000912094906.008fe260@162.38.183.200>

At 00:22 12/09/00 -0400, you wrote:
>I got 
>
>binom.test(65, 100, p=0.5)
>
>
>p-value = 0.002654
>
>I thought in this case (when p=0.5 so a symmetric distribution)
>we should get 
>
>p-value = 2*( 1-pbinom(64, 100, p=0.5) ) = 0.003517642
>
>Can somebody explain why the difference?
>
>Thanks.
>
>Mai Zhou

Hi,

When looking in the R code (in RHOME/library/ctest/R/ctest), you can see
that the p-value is computed like this:

> ( 1-pbinom(64, 100, p=0.5) ) + pbinom(34, 100, p=0.5)
[1] 0.002653786

The relevant bit of code is:

                           ## Do
                           ##   d <- dbinom(0 : n, n, p)
                           ##   sum(d[d <= dbinom(x, n, p)])
                           ## a bit more efficiently ...
                           d <- dbinom(x, n, p)
                           if(x / n < p) {
                               i <- seq(from = x + 1, to = n)
                               y <- sum(dbinom(i, n, p) <= d)
                               pbinom(x, n, p) +
                                   (1 - pbinom(n - y, n, p))
                           } else {
                               i <- seq(from = 0, to = x - 1)
                               y <- sum(dbinom(i, n, p) <= d)
                               pbinom(y - 1, n, p) +
                                   (1 - pbinom(x - 1, n, p))
                           }
 

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep 12 10:38:49 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Sep 2000 10:38:49 +0200
Subject: [R] binom.test inside ctest
In-Reply-To: Emmanuel Paradis's message of "Tue, 12 Sep 2000 09:49:06 +0200"
References: <3.0.32.20000912094906.008fe260@162.38.183.200>
Message-ID: <x2wvgirome.fsf@blueberry.kubism.ku.dk>

Emmanuel Paradis <paradis at isem.univ-montp2.fr> writes:

> At 00:22 12/09/00 -0400, you wrote:
> >I got 
> >
> >binom.test(65, 100, p=0.5)
> >
> >
> >p-value = 0.002654
> >
> >I thought in this case (when p=0.5 so a symmetric distribution)
> >we should get 
> >
> >p-value = 2*( 1-pbinom(64, 100, p=0.5) ) = 0.003517642
> >
> >Can somebody explain why the difference?
> >
> >Thanks.
> >
> >Mai Zhou
> 
> Hi,
...
> The relevant bit of code is:
> 
>                            ## Do
>                            ##   d <- dbinom(0 : n, n, p)
>                            ##   sum(d[d <= dbinom(x, n, p)])
>                            ## a bit more efficiently ...
>                            d <- dbinom(x, n, p)
>                            if(x / n < p) {
>                                i <- seq(from = x + 1, to = n)
>                                y <- sum(dbinom(i, n, p) <= d)
>                                pbinom(x, n, p) +
>                                    (1 - pbinom(n - y, n, p))
>                            } else {
>                                i <- seq(from = 0, to = x - 1)
>                                y <- sum(dbinom(i, n, p) <= d)
>                                pbinom(y - 1, n, p) +
>                                    (1 - pbinom(x - 1, n, p))
>                            }

Hum. Looks like we need some fuzz guards in there. The basic problem
is that

> sum(d[d <= dbinom(65, 100, .5)])
[1] 0.002653786
> sum(d[d <= dbinom(65, 100, .5)*(1+1e-7)])
[1] 0.003517642
> dbinom(35,100,.5)-dbinom(65,100,.5)
[1] 6.071532e-18

i.e. the "symmetrical" probability is ever so slightly bigger because
of inaccuracies, and so doesn't get counted in.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From BXC at novo.dk  Tue Sep 12 11:02:04 2000
From: BXC at novo.dk (BXC (Bendix Carstensen))
Date: Tue, 12 Sep 2000 11:02:04 +0200
Subject: [R] binom.test inside ctest
Message-ID: <D5A7D734C9C5D211B9E30008C78923020609E83C@exdkba03.novo.dk>


> -----Original Message-----
> From: gb [mailto:gb at stat.umu.se]
> Sent: 12. september 2000 08:40
> To: Mai Zhou
> Cc: r-help at stat.math.ethz.ch
> Subject: Re: [R] binom.test inside ctest
> 
> 
> Mai,
> 
> it seems as if binom.test only adds half the probability of
> of the border point 65 to the p-value. If you try
> 
> > (1-pbinom(64, 100, p = 0.5)) + pbinom(34, 100, p=0.5)
> [1] 0.002653786
> 
> you get the same result as binom.test.

G?ran,

Rather, it adds the border point only once:
I think the general idea is:

> db <- dbinom(0:100,100,p=0.5)
> obs.p <- dbinom(65,100,p=0.5)
> sum(db[db<obs.p])+obs.p
[1] 0.002653786

Bendix 
> 
> 
> G?ran
> 
> On Tue, 12 Sep 2000, Mai Zhou wrote:
> 
> > I got 
> > 
> > binom.test(65, 100, p=0.5)
> > 
> > 
> > p-value = 0.002654
> > 
> > I thought in this case (when p=0.5 so a symmetric distribution)
> > we should get 
> > 
> > p-value = 2*( 1-pbinom(64, 100, p=0.5) ) = 0.003517642
> > 
> > Can somebody explain why the difference?
> > 
> > Thanks.
> > 
> > Mai Zhou
> > 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-.-.-.-.-.-.-
> > r-help mailing list -- Read 
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: 
> r-help-request at stat.math.ethz.ch
> > 
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._._._._._._._._
> > 
> 
> -- 
>  G?ran Brostr?m                      tel: +46 90 786 5223
>  Department of Statistics            fax: +46 90 786 6614
>  Ume? University
>  SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se
> 

----------------------
Bendix Carstensen
Senior Statistician
Steno Diabetes Centre
Niels Steensens Vej 2
DK-2820 Gentofte
Denmark
tel: +45 44 43 87 38
mob: +45 28 25 87 38
fax: +45 44 43 73 13
bxc at novo.dk
www.biostat.ku.dk/~bxc
----------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Tue Sep 12 11:16:35 2000
From: gb at stat.umu.se (gb)
Date: Tue, 12 Sep 2000 11:16:35 +0200 (CEST)
Subject: [R] binom.test inside ctest
In-Reply-To: <D5A7D734C9C5D211B9E30008C78923020609E83C@exdkba03.novo.dk>
Message-ID: <Pine.LNX.4.21.0009121108490.2369-100000@pc16.stat.umu.se>

Bendix,

that's what I meant. There are in fact _two_ border points, when
you look at the two-sided test, 35 and 65. I thougt of taking half
of each point, but expressed it in a sloppy way.

The perhaps more interesting thing to discuss is whether this is 
a reasonable thing to do or not. Would the one-sided analogue to add
half of the probability of the only border point to the p-value
be equally reasonable? What do the experts say? References?  

G?ran

On Tue, 12 Sep 2000, BXC (Bendix Carstensen) wrote:

> 
> > -----Original Message-----
> > From: gb [mailto:gb at stat.umu.se]
> > Sent: 12. september 2000 08:40
> > To: Mai Zhou
> > Cc: r-help at stat.math.ethz.ch
> > Subject: Re: [R] binom.test inside ctest
> > 
> > 
> > Mai,
> > 
> > it seems as if binom.test only adds half the probability of
> > of the border point 65 to the p-value. If you try
> > 
> > > (1-pbinom(64, 100, p = 0.5)) + pbinom(34, 100, p=0.5)
> > [1] 0.002653786
> > 
> > you get the same result as binom.test.
> 
> G?ran,
> 
> Rather, it adds the border point only once:
> I think the general idea is:
> 
> > db <- dbinom(0:100,100,p=0.5)
> > obs.p <- dbinom(65,100,p=0.5)
> > sum(db[db<obs.p])+obs.p
> [1] 0.002653786
> 
> Bendix 
> > 
> > 
> > G?ran
> > 
> > On Tue, 12 Sep 2000, Mai Zhou wrote:
> > 
> > > I got 
> > > 
> > > binom.test(65, 100, p=0.5)
> > > 
> > > 
> > > p-value = 0.002654
> > > 
> > > I thought in this case (when p=0.5 so a symmetric distribution)
> > > we should get 
> > > 
> > > p-value = 2*( 1-pbinom(64, 100, p=0.5) ) = 0.003517642
> > > 
> > > Can somebody explain why the difference?
> > > 
> > > Thanks.
> > > 
> > > Mai Zhou
> > > 
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-.-.-.-.-.-.-
> > > r-help mailing list -- Read 
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > > Send "info", "help", or "[un]subscribe"
> > > (in the "body", not the subject !)  To: 
> > r-help-request at stat.math.ethz.ch
> > > 
> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._._._._._._._
> > > 
> > 
> > -- 
> >  G?ran Brostr?m                      tel: +46 90 786 5223
> >  Department of Statistics            fax: +46 90 786 6614
> >  Ume? University
> >  SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se
> > 
> 
> ----------------------
> Bendix Carstensen
> Senior Statistician
> Steno Diabetes Centre
> Niels Steensens Vej 2
> DK-2820 Gentofte
> Denmark
> tel: +45 44 43 87 38
> mob: +45 28 25 87 38
> fax: +45 44 43 73 13
> bxc at novo.dk
> www.biostat.ku.dk/~bxc
> ----------------------
> 
> 

-- 
 G?ran Brostr?m, professor           tel: +46 90 786 5223
 Department of Statistics            fax: +46 90 786 6614
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From raetzel at Mathematik.Uni-Marburg.de  Tue Sep 12 17:36:15 2000
From: raetzel at Mathematik.Uni-Marburg.de (Dirk F. Raetzel)
Date: Tue, 12 Sep 2000 17:36:15 +0200 (MET DST)
Subject: [R] Variable value in expression (plotmath)
Message-ID: <Pine.GSO.4.21.0009121712050.27820-100000@algol>

Hello,

I have a problem with the plotmath facility and haven't found any solution
in the FAQ and Online-Help.

I am trying to incorporate the value of a variable in an expression for an
axis with plotmath.

Considering having

> gamma <- 10

I'd like to have a plot with

> plot( .... , xlab=expression(gamma==10))

but depending on the true value of the variable.

How can I achieve this? I tried some combinations of paste(),
as.expression(), c() and some other stuff, but didn't succeed.

Thanks for any help.

Dirk


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep 12 17:53:04 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Sep 2000 17:53:04 +0200
Subject: [R] Variable value in expression (plotmath)
In-Reply-To: "Dirk F. Raetzel"'s message of "Tue, 12 Sep 2000 17:36:15 +0200 (MET DST)"
References: <Pine.GSO.4.21.0009121712050.27820-100000@algol>
Message-ID: <x2n1hdsj33.fsf@blueberry.kubism.ku.dk>

"Dirk F. Raetzel" <raetzel at Mathematik.Uni-Marburg.de> writes:

> Hello,
> 
> I have a problem with the plotmath facility and haven't found any solution
> in the FAQ and Online-Help.
> 
> I am trying to incorporate the value of a variable in an expression for an
> axis with plotmath.
> 
> Considering having
> 
> > gamma <- 10
> 
> I'd like to have a plot with
> 
> > plot( .... , xlab=expression(gamma==10))
> 
> but depending on the true value of the variable.
> 
> How can I achieve this? I tried some combinations of paste(),
> as.expression(), c() and some other stuff, but didn't succeed.

FAQ 7.16 How can I substitute into a plot label?

Often, it is desired to use the value of an R object in a plot label,
e.g., a title. This is easily accomplished using paste() if the label
is a simple character string, but not always obvious in case the label
is an expression (for refined mathematical annotation). In such a
case, either use parse() on your pasted character string or use
substitute() on an expression. For example, if ahat is an estimator of
your parameter a of interest, use

title(substitute(hat(a) == ahat, list(ahat = ahat)))

(note that it is == and not =). There are more worked examples in the
mailing list achives.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Tue Sep 12 19:36:51 2000
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Tue, 12 Sep 2000 10:36:51 -0700
Subject: [R] Editor alternative
Message-ID: <4.3.2.7.2.20000912103110.00afa5b0@127.0.0.1>

I'm using version 1.1.1 under Windows NT and Windows 2000.  I'm unable to 
get any editor other than Notepad to work.  (I don't have use for any of 
the Unix editors - vi or Emacs) but would like to use EditPadPro, which has 
some nifty features, including the ability to spawn Rgui from within 
it.  (No syntax highlighting programmability yet, but maybe soon).  Anyway, 
I have editpadpro.exe in my path and have a fully specified path statement 
in options(editor=....).  The options statement "takes" fine, but when I 
attempt to use the editor, I get an error stating that R cannot load the 
editor.  I ran into a similar problem with an earlier version of R under 
Win 98, but I haven't tried it under either NT or Win2K.

Am I missing something, or does R not really spawn an external editor 
properly (or at all) under Windoze?



=====================
Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department
Portland State University
1721 SW Broadway
Portland, Oregon 97201
email:  feldesmanm at pdx.edu
phone:  503-725-3081
fax:    503-725-3905
http://odin.cc.pdx.edu/~h1mf
======================

"Anyway, no drug, not even alcohol, causes the fundamental ills of society.
If we're looking for the source of our troubles, we shouldn't test people
for drugs, we should test them for stupidity, ignorance, greed and love of
power."   P.J. O'Rourke

Powered by Optiplochoerus and Windows 2000 (scary isn't it?)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From MagillB at usa.redcross.org  Tue Sep 12 19:59:15 2000
From: MagillB at usa.redcross.org (Magill, Brett)
Date: Tue, 12 Sep 2000 13:59:15 -0400
Subject: [R] HLM in R
Message-ID: <AC09DC4F4DFCD211A83C00805FE6138D369337@NHQJPK1EX2>

Does anyone know of code to conduct hierarchical (that is, multi-level)
models using R.  Beyond simply requiring a nested design, I want to model
explicitly the covariance between levels as is done in such multi-level
modeling software as HLM or MLwin and discussed in Goldestein (1999)
available online at http://www.arnoldpublishers.com/support/goldstein.htm (a
nice and free resource for anyone interested in HLM).

The work that I will be doing in the immediate future would involve linear
applications of multi-level modeling, however I would be interested in code
to conduct generalized hierarchichal models if it is available.  I searched
all of the archives available on CRAN and also the help list archives but
turned nothing up.  No, I take that back, I think I did find code for
logistic multilevel models, but not linear. 

Thanks in advance,

Regards,

Brett Magill
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Sep 12 20:22:09 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 12 Sep 2000 11:22:09 -0700 (PDT)
Subject: [R] HLM in R
In-Reply-To: <AC09DC4F4DFCD211A83C00805FE6138D369337@NHQJPK1EX2>
Message-ID: <Pine.GSO.4.21.0009121120110.1973-100000@atlas.biostat.washington.edu>

On Tue, 12 Sep 2000, Magill, Brett wrote:

> Does anyone know of code to conduct hierarchical (that is, multi-level)
> models using R.  Beyond simply requiring a nested design, I want to model
> explicitly the covariance between levels as is done in such multi-level
> modeling software as HLM or MLwin and discussed in Goldestein (1999)

The lme() function in the nlme package will fit most of these linear
hierarchical models.

There is code in Jim Lindsey's 'repeated' package (his page is linked from
CRAN) for generalised linear models with random intercepts, but not, I
think, for more general hierarchical structures.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From kjetil.kjernsmo at astro.uio.no  Tue Sep 12 21:36:58 2000
From: kjetil.kjernsmo at astro.uio.no (Kjetil Kjernsmo)
Date: Tue, 12 Sep 2000 21:36:58 +0200 (MET DST)
Subject: [R] Editor alternative
In-Reply-To: <4.3.2.7.2.20000912103110.00afa5b0@127.0.0.1>
Message-ID: <Pine.OSF.4.21.0009122131030.455-100000@alnair.uio.no>

On Tue, 12 Sep 2000, Marc Feldesman wrote:

>I'm using version 1.1.1 under Windows NT and Windows 2000.  I'm unable to 
>get any editor other than Notepad to work.  (I don't have use for any of 
>the Unix editors - vi or Emacs) 

I have no idea about the editor you mentioned, and I would still insist on
using Emacs, with ESS, it's all the front-end you'll ever need... :-) Are
you aware that Emacs runs under NT? 
<URL:http://www.gnu.org/software/emacs/windows/ntemacs.html>

Best,

Kjetil
-- 
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Tue Sep 12 22:12:14 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Tue, 12 Sep 2000 22:12:14 +0200
Subject: [R] Editor alternative
References: <4.3.2.7.2.20000912103110.00afa5b0@127.0.0.1>
Message-ID: <39BE8E1E.6CECD458@statistik.uni-dortmund.de>

Marc Feldesman wrote:
> 
> I'm using version 1.1.1 under Windows NT and Windows 2000.  I'm unable to
> get any editor other than Notepad to work.  (I don't have use for any of
> the Unix editors - vi or Emacs) but would like to use EditPadPro, which has
> some nifty features, including the ability to spawn Rgui from within
> it.  (No syntax highlighting programmability yet, but maybe soon).  Anyway,
> I have editpadpro.exe in my path and have a fully specified path statement
> in options(editor=....).  The options statement "takes" fine, but when I
> attempt to use the editor, I get an error stating that R cannot load the
> editor.  I ran into a similar problem with an earlier version of R under
> Win 98, but I haven't tried it under either NT or Win2K.
> 
> Am I missing something, or does R not really spawn an external editor
> properly (or at all) under Windoze?

I have written an extension for the editor WinEdt. Everything works fine
on WinNT, if I use something like 
options(editor="\"c:/program files/winedt/winedt\" -Options")

Could you provide an example [option(.....) and error message]?

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stockton at neptuneandco.com  Tue Sep 12 23:04:56 2000
From: stockton at neptuneandco.com (Thomas Stockton)
Date: Tue, 12 Sep 2000 15:04:56 -0600
Subject: [R] Editor alternative
In-Reply-To: <Pine.OSF.4.21.0009122131030.455-100000@alnair.uio.no>
Message-ID: <NEBBIAGCDACDCIIENIIHKEJHCMAA.stockton@neptuneandco.com>



-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Kjetil Kjernsmo
Sent: Tuesday, September 12, 2000 1:37 PM
To: Marc Feldesman
Cc: r-help at stat.math.ethz.ch
I'm interested in other R/WinNT users experiences with ESS. I've tried to
setup EES under NT for R (and SPLUS) but if you don't already know Emacs
very well (I've used it as a text editor only) the startup curve seems very
very steep. Sounds like it is worth the time but I never seem to find it.

Tom

On Tue, 12 Sep 2000, Marc Feldesman wrote:

>I'm using version 1.1.1 under Windows NT and Windows 2000.  I'm unable to
>get any editor other than Notepad to work.  (I don't have use for any of
>the Unix editors - vi or Emacs)

I have no idea about the editor you mentioned, and I would still insist on
using Emacs, with ESS, it's all the front-end you'll ever need... :-) Are
you aware that Emacs runs under NT?
<URL:http://www.gnu.org/software/emacs/windows/ntemacs.html>

Best,

Kjetil
--
Kjetil Kjernsmo
Graduate astronomy-student                    Problems worthy of attack
University of Oslo, Norway            Prove their worth by hitting back
E-mail: kjetikj at astro.uio.no                                - Piet Hein
Homepage <URL:http://www.astro.uio.no/~kjetikj/>
Webmaster at skepsis.no

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Tue Sep 12 23:09:53 2000
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Tue, 12 Sep 2000 14:09:53 -0700
Subject: [R] Alternative to Notepad
Message-ID: <4.3.2.7.2.20000912140508.00b0d888@127.0.0.1>

My earlier message was not as clear as it could have been.  I already have 
Emacs for my NT system, but prefer not to use it or vi.  It is really a 
case of not needing a sledgehammer to swat a gnat.  The advantage of 
EditPadPro (for me anyway) is that it has a footprint of 1MB including 
helpfiles, whereas the versions of Emacs I've seen for NT require about 
30MB of disk space to store.  Since I'm not going to use Emacs for anything 
else (other than R), and since I use about 30 other applications daily, I 
can't the real advantage for me.  I merely *hate* Notepad and use 
Editpadpro for all other ascii text file editing.  I know it well (as 
others know Emacs).

Thankfully Uwe  Ligges sent me a reply that contained the information I 
needed to resolve the problem.  I was leaving out the escape "\" character 
prior to giving R the full path (using "/" as a directory delimiter).  Once 
I got all the escape characters in, things seem to be working correctly.



=====================
Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department
Portland State University
1721 SW Broadway
Portland, Oregon 97201
email:  feldesmanm at pdx.edu
phone:  503-725-3081
fax:    503-725-3905
http://odin.cc.pdx.edu/~h1mf
======================

"Anyway, no drug, not even alcohol, causes the fundamental ills of society.
If we're looking for the source of our troubles, we shouldn't test people
for drugs, we should test them for stupidity, ignorance, greed and love of
power."   P.J. O'Rourke

Powered by Optiplochoerus and Windows 2000 (scary isn't it?)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep 12 23:19:06 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 12 Sep 2000 23:19:06 +0200
Subject: [R] Editor alternative
In-Reply-To: Kjetil Kjernsmo's message of "Tue, 12 Sep 2000 21:36:58 +0200 (MET DST)"
References: <Pine.OSF.4.21.0009122131030.455-100000@alnair.uio.no>
Message-ID: <x2ya0xwbp1.fsf@blueberry.kubism.ku.dk>

Kjetil Kjernsmo <kjetil.kjernsmo at astro.uio.no> writes:

> On Tue, 12 Sep 2000, Marc Feldesman wrote:
> 
> >I'm using version 1.1.1 under Windows NT and Windows 2000.  I'm unable to 
> >get any editor other than Notepad to work.  (I don't have use for any of 
> >the Unix editors - vi or Emacs) 
> 
> I have no idea about the editor you mentioned, and I would still insist on
> using Emacs, with ESS, it's all the front-end you'll ever need... :-) Are
> you aware that Emacs runs under NT? 
> <URL:http://www.gnu.org/software/emacs/windows/ntemacs.html>

...Except that ESS doesn't work on W2000 because Rterm doesn't, as
Brian and Guido brought up recently. If anyone has the capacity to
debug this, it would be most welcome.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sarthur at protogene.com  Wed Sep 13 03:11:05 2000
From: sarthur at protogene.com (Steve Arthur)
Date: Tue, 12 Sep 2000 18:11:05 -0700 (PDT)
Subject: [R] Coplot Question
In-Reply-To: <Pine.GSO.4.05.10007190711540.10313-100000@auk.stats>
Message-ID: <Pine.LNX.4.21.0009121804490.1087-100000@crick.protogene.com>

Rers,

I have a question concerning the coplot function.

I have written some code using the coplot:


function (Block, Name, ID, Loci.Number, Code.Flag, Base, Metric) {
 
coplot(Metric ~ as.integer(Base) | Loci.Number * Code.Flag)
 
}                   

And it works great!  However, according to the way coplot functions, I
have to convert Base values, A, C, G, and T to 1, 2, 3, and 4, which is
not good for visualization.  

Question:  Is there anyway to have the coplot work showing the original A,
C, G, T as values for Base.

Thanks in advance,

steve

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sarthur at protogene.com  Wed Sep 13 03:23:19 2000
From: sarthur at protogene.com (Steve Arthur)
Date: Tue, 12 Sep 2000 18:23:19 -0700 (PDT)
Subject: [R] ANOVA precision
In-Reply-To: <Pine.GSO.4.05.10007190711540.10313-100000@auk.stats>
Message-ID: <Pine.LNX.4.21.0009121811420.1087-100000@crick.protogene.com>

Rers,

Hi, I just ran a one-way ANOVA using R and compared the output to a
one-way ANOVA I created using SAS on the same data set.

Here are the results:

R

           DF  Sum Sq   Mean Sq  F value  Pr(>F)
Base       3   27.7449  9.2483   107.99   < 2.2e-16 *** 
Residuals 32    2.7449  0.0856

SAS

            Sum Of
Source DF   Squares Mean   Square       F Value   Pr > F
Model   3   27.69085439    9.23028480   107.55    <.0001
Error  32    2.74643538    0.08582611

In a "philosophical" sense, are the rounding differences worth worrying
about (they may not be significant in this case, but sometimes the
differences are in the second digit), or is this an example of "use at
your own risk"?

Thanks,

steve

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From William.Venables at cmis.CSIRO.AU  Wed Sep 13 04:39:40 2000
From: William.Venables at cmis.CSIRO.AU (Bill Venables)
Date: Wed, 13 Sep 2000 12:39:40 +1000
Subject: [R] ANOVA precision 
In-Reply-To: Your message of "Tue, 12 Sep 2000 18:23:19 MST."
             <Pine.LNX.4.21.0009121811420.1087-100000@crick.protogene.com> 
Message-ID: <200009130239.NAA25444@snowy.nsw.cmis.CSIRO.AU>

> Rers,
> 
> Hi, I just ran a one-way ANOVA using R and compared the output to a
> one-way ANOVA I created using SAS on the same data set.
> 
> Here are the results:
> 
> R
> 
>            DF  Sum Sq   Mean Sq  F value  Pr(>F)
> Base       3   27.7449  9.2483   107.99   < 2.2e-16 *** 
> Residuals 32    2.7449  0.0856
> 
> SAS
> 
>             Sum Of
> Source DF   Squares Mean   Square       F Value   Pr > F
> Model   3   27.69085439    9.23028480   107.55    <.0001
> Error  32    2.74643538    0.08582611
> 
> In a "philosophical" sense, are the rounding differences worth worrying
> about (they may not be significant in this case, but sometimes the
> differences are in the second digit), or is this an example of "use at
> your own risk"?

Well, if SAS has an accuracy problem I'm sure they would be glad to
hear of it and keen to fix it up...  :-)

-- 
Bill Venables,      Statistician,     CMIS Environmetrics Project
CSIRO Marine Labs, PO Box 120, Cleveland, Qld,  AUSTRALIA.   4163
Tel: +61 7 3826 7251           Email: Bill.Venables at cmis.csiro.au    
Fax: +61 7 3826 7304      http://www.cmis.csiro.au/bill.venables/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.pesl at arcs.ac.at  Wed Sep 13 08:58:21 2000
From: thomas.pesl at arcs.ac.at (Pesl Thomas)
Date: Wed, 13 Sep 2000 08:58:21 +0200
Subject: [R] NAs
Message-ID: <D16B18FFF743D311A9CA0090275F3CB001D8C817@arcss07.arcs.ac.at>

Dear R-Friends,

i encountered the following problem:

i wanted to apply(x,2,mean), where x is an array (3720 x 90), every single
column has a certain number of NAs, so the output of apply is a vector of
NAs. 
Is there a possibility (other than reducing every single column with
na.omit()) to deal with this.

Thanks,
    Thomas
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hoffmann at ehmgs2.et.tu-dresden.de  Wed Sep 13 10:19:59 2000
From: hoffmann at ehmgs2.et.tu-dresden.de (Thomas Hoffmann)
Date: Wed, 13 Sep 2000 10:19:59 +0200 (METDST)
Subject: [R] Compiling R on HP-UX: "DP relative code"
Message-ID: <200009130819.KAA27780@ehmgs2.et.tu-dresden.de>

I tried to build R-1.1.1 on my HP-UX 10.20 box. For this I installed
gcc 2.95.2 and built g77 (version 2.95.2 19991024 (release)).

Making R runs to the point, where shared libs are linked. There it reports:

make[4]: Entering directory `/disk4/hoffmann/Work/rwork/src/library/ctest/src'
gcc -I../../../../include  -I/usr/local/include   -fPIC  -g -O2 -c 
../../../../../R-1.1.1/src/library/ctest/src/ansari.c -o ansari.o
gcc -I../../../../include  -I/usr/local/include   -fPIC  -g -O2 -c 
../../../../../R-1.1.1/src/library/ctest/src/fexact.c -o fexact.o
gcc -I../../../../include  -I/usr/local/include   -fPIC  -g -O2 -c 
../../../../../R-1.1.1/src/library/ctest/src/kendall.c -o kendall.o
gcc -I../../../../include  -I/usr/local/include   -fPIC  -g -O2 -c 
../../../../../R-1.1.1/src/library/ctest/src/ks.c -o ks.o
gcc -I../../../../include  -I/usr/local/include   -fPIC  -g -O2 -c 
../../../../../R-1.1.1/src/library/ctest/src/prho.c -o prho.o
gcc -I../../../../include  -I/usr/local/include   -fPIC  -g -O2 -c 
../../../../../R-1.1.1/src/library/ctest/src/swilk.c -o swilk.o
gcc -shared -fPIC  -o ctest.sl ansari.o fexact.o kendall.o ks.o prho.o swilk.o -L/usr/local/lib  -lg2c 
-lm -L/lib/pa1.1 -L/usr/lib/pa1.1 -u main -L/usr/local/qt/lib 
-L/opt/gcc/lib/gcc-lib/hppa1.1-hp-hpux10.20/2.95.2 -L/usr/ccs/bin -L/usr/ccs/lib -L/opt/gcc/lib -lm
/usr/ccs/bin/ld: DP relative code in file 
/opt/gcc/lib/gcc-lib/hppa1.1-hp-hpux10.20/2.95.2/libg2c.a(close.o) - shared library must be position
    independent.  Use +z or +Z to recompile.
collect2: ld returned 1 exit status
make[4]: *** [ctest.sl] Error 1

The question seems to be: How can I build a position independent libg2c.a under HPUX?


=============================================================================
Thomas Hoffmann, Institut fuer Halbleiter- und Mikrosystemtechnik, TU Dresden 
E-mail: hoffmann at ehmgs2.et.tu-dresden.de
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep 13 11:26:47 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Sep 2000 11:26:47 +0200
Subject: [R] ANOVA precision
In-Reply-To: Bill Venables's message of "Wed, 13 Sep 2000 12:39:40 +1000"
References: <200009130239.NAA25444@snowy.nsw.cmis.CSIRO.AU>
Message-ID: <x2lmwwwsko.fsf@blueberry.kubism.ku.dk>

Bill Venables <William.Venables at cmis.csiro.au> writes:

> > Rers,
> > 
> > Hi, I just ran a one-way ANOVA using R and compared the output to a
> > one-way ANOVA I created using SAS on the same data set.
> > 
> > Here are the results:
> > 
> > R
> > 
> >            DF  Sum Sq   Mean Sq  F value  Pr(>F)
> > Base       3   27.7449  9.2483   107.99   < 2.2e-16 *** 
> > Residuals 32    2.7449  0.0856
> > 
> > SAS
> > 
> >             Sum Of
> > Source DF   Squares Mean   Square       F Value   Pr > F
> > Model   3   27.69085439    9.23028480   107.55    <.0001
> > Error  32    2.74643538    0.08582611
> > 
> > In a "philosophical" sense, are the rounding differences worth worrying
> > about (they may not be significant in this case, but sometimes the
> > differences are in the second digit), or is this an example of "use at
> > your own risk"?
> 
> Well, if SAS has an accuracy problem I'm sure they would be glad to
> hear of it and keen to fix it up...  :-)

Actually, this discrepancy looks a bit too large to be expected in
either of the two programs. Is it certain that it really is the exact
same data values that are being used? The difference in total
variation matches quite well what would happen if one program used
values rounded to nearest .1 and the other to .01.

What is the output of PROC MEANS and tapply(response,Base,mean)
respectively?


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Wed Sep 13 12:37:12 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Wed, 13 Sep 2000 06:37:12 -0400
Subject: ? backslash  was Re: [R] Editor alternative
References: <4.3.2.7.2.20000912103110.00afa5b0@127.0.0.1> <39BE8E1E.6CECD458@statistik.uni-dortmund.de>
Message-ID: <003401c01d6e$93fa0ce0$0201a8c0@Workgroup>

Hi

I just want to point out an observation. I noticed that path strings under
Windows required that I double up the backslash "\" as it is used as an
escape character as in C. I think that most if not all of the "Unix tools"
ported to Windows accept path strings with a single backslash. I wonder if
it would be worthwhile to reproduce that behavior under R somehow? I mean
kind of preprocessing the params used as path strings transparently since
character vectors don't "escape" the backslash.

I understand it is much easier to require from users of R under Windows to
comply with it's path strings needs. Maybe it would be nice to just provide
a simple function in "base" for the sole purpose of translating Windows path
strings to the required form.

Just a though.

Yves Gauvreau



----- Original Message -----
From: "Uwe Ligges" <ligges at statistik.uni-dortmund.de>
To: "Marc Feldesman" <feldesmanm at pdx.edu>
Cc: "r-help" <r-help at stat.math.ethz.ch>
Sent: Tuesday, September 12, 2000 4:12 PM
Subject: Re: [R] Editor alternative


> Marc Feldesman wrote:
> >
> > I'm using version 1.1.1 under Windows NT and Windows 2000.  I'm unable
to
> > get any editor other than Notepad to work.  (I don't have use for any of
> > the Unix editors - vi or Emacs) but would like to use EditPadPro, which
has
> > some nifty features, including the ability to spawn Rgui from within
> > it.  (No syntax highlighting programmability yet, but maybe soon).
Anyway,
> > I have editpadpro.exe in my path and have a fully specified path
statement
> > in options(editor=....).  The options statement "takes" fine, but when I
> > attempt to use the editor, I get an error stating that R cannot load the
> > editor.  I ran into a similar problem with an earlier version of R under
> > Win 98, but I haven't tried it under either NT or Win2K.
> >
> > Am I missing something, or does R not really spawn an external editor
> > properly (or at all) under Windoze?
>
> I have written an extension for the editor WinEdt. Everything works fine
> on WinNT, if I use something like
> options(editor="\"c:/program files/winedt/winedt\" -Options")
>
> Could you provide an example [option(.....) and error message]?
>
> Uwe Ligges
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bitwrit at ozemail.com.au  Wed Sep 13 12:40:13 2000
From: bitwrit at ozemail.com.au (Jim Lemon)
Date: Wed, 13 Sep 2000 21:40:13 +1100
Subject: [R] NAs
Message-ID: <39BF598D.ABD756B9@ozemail.com.au>

Pesl Thomas wrote:

>...Is there a possibility (other than reducing every single column with

>na.omit()) to deal with this.

Have you tried:

apply(x,2,mean,na.rm=T)

?

Jim

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Wed Sep 13 14:02:25 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Wed, 13 Sep 2000 08:02:25 -0400
Subject: ? backslash  was Re: [R] Editor alternative
References: <4.3.2.7.2.20000912103110.00afa5b0@127.0.0.1> <39BE8E1E.6CECD458@statistik.uni-dortmund.de> <003401c01d6e$93fa0ce0$0201a8c0@Workgroup> <39BF62CF.3945F2FE@statistik.uni-dortmund.de>
Message-ID: <003c01c01d7a$7b94d160$0201a8c0@Workgroup>


----- Original Message -----
From: "Uwe Ligges" <ligges at statistik.uni-dortmund.de>
To: "Yves Gauvreau" <cyg at sympatico.ca>
Sent: Wednesday, September 13, 2000 7:19 AM
Subject: Re: ? backslash was Re: [R] Editor alternative


> Yves Gauvreau wrote:
> >
> > Hi
> >
> > I just want to point out an observation. I noticed that path strings
under
> > Windows required that I double up the backslash "\" as it is used as an
> > escape character as in C. I think that most if not all of the "Unix
tools"
> > ported to Windows accept path strings with a single backslash. I wonder
if
> > it would be worthwhile to reproduce that behavior under R somehow? I
mean
> > kind of preprocessing the params used as path strings transparently
since
> > character vectors don't "escape" the backslash.
> >
> > I understand it is much easier to require from users of R under Windows
to
> > comply with it's path strings needs. Maybe it would be nice to just
provide
> > a simple function in "base" for the sole purpose of translating Windows
path
> > strings to the required form.
>
> I don't think, it is necessary. It is not so difficult to use "/" or
> "\\" instead of "\" ...
>
> Uwe Ligges

I agree when you have a single path string to process it's ain't worth the
trouble but what about situations where say you make use of a large number
of Windows path string stored in a file or anywhere else and you want to
process each of the files the path string points to? I think a more generic
solution might be appropriate. Of course if no one as the need to process a
large number of files in various directory on it's file system under Windows
then this thread is dead in the water. Also if the number of people with
such needs is small they probably already have implemented a solution to
their problem.

I just though that a function in base for such problem would have been a
nice consideration to us Windows users. No offence intended to the rest of
the world.

Yves Gauvreau



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Wed Sep 13 14:07:59 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Wed, 13 Sep 2000 08:07:59 -0400 (EDT)
Subject: [R] NAs
In-Reply-To: <D16B18FFF743D311A9CA0090275F3CB001D8C817@arcss07.arcs.ac.at>
Message-ID: <Pine.LNX.4.10.10009130806090.22767-100000@bolker.zoo.ufl.edu>


  I suspect that apply(x,2,mean,rm.na=TRUE) will do what you want.
("na.rm" is an optional argument to mean -- see ?mean.  sd() has a similar
option.)

On Wed, 13 Sep 2000, Pesl Thomas wrote:

> Dear R-Friends,
> 
> i encountered the following problem:
> 
> i wanted to apply(x,2,mean), where x is an array (3720 x 90), every single
> column has a certain number of NAs, so the output of apply is a vector of
> NAs. 
> Is there a possibility (other than reducing every single column with
> na.omit()) to deal with this.
> 
> Thanks,
>     Thomas
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Wed Sep 13 14:38:31 2000
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Wed, 13 Sep 2000 12:38:31 GMT
Subject: ? backslash  was Re: [R] Editor alternative
In-Reply-To: <003c01c01d7a$7b94d160$0201a8c0@Workgroup>
References: <4.3.2.7.2.20000912103110.00afa5b0@127.0.0.1> <39BE8E1E.6CECD458@statistik.uni-dortmund.de> <003401c01d6e$93fa0ce0$0201a8c0@Workgroup> <39BF62CF.3945F2FE@statistik.uni-dortmund.de> <003c01c01d7a$7b94d160$0201a8c0@Workgroup>
Message-ID: <39c07458.1206224@julian.uwo.ca>

On Wed, 13 Sep 2000 08:02:25 -0400, "Yves Gauvreau" <cyg at sympatico.ca>
wrote:
>I agree when you have a single path string to process it's ain't worth the
>trouble but what about situations where say you make use of a large number
>of Windows path string stored in a file or anywhere else and you want to
>process each of the files the path string points to? 

In that case you don't need to double the backslash.  If you're
reading character data from a file, R won't treat the backslashes as
escape characters.  It's only the parser that does that.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Wed Sep 13 14:07:34 2000
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Wed, 13 Sep 2000 14:07:34 +0200 (MET DST)
Subject: [R] HLM in R (fwd)
Message-ID: <200009131207.OAA10881@alpha.luc.ac.be>

> On Tue, 12 Sep 2000, Magill, Brett wrote:
> 
> > Does anyone know of code to conduct hierarchical (that is, multi-level)
> > models using R.  Beyond simply requiring a nested design, I want to model
> > explicitly the covariance between levels as is done in such multi-level
> > modeling software as HLM or MLwin and discussed in Goldestein (1999)
> 
> The lme() function in the nlme package will fit most of these linear
> hierarchical models.
> 
> There is code in Jim Lindsey's 'repeated' package (his page is linked from
> CRAN) for generalised linear models with random intercepts, but not, I
> think, for more general hierarchical structures.

In growth, carma does linear models with random coefficients and
elliptic does 2- and 3-level hierarchical models (random intercepts)
both also with the possibility of AR. Both use normal distribution
with normal random effects; elliptic also has elliptically-contoured
distributions (Student t and power exponential) and allows nonlinear
models.

In repeated, kalseries does linear and nonlinear models with a wide
variety of distributions including normal, with gamma random effect
and/or serial correlations. glmm and gnlmm do generalized linear and
nonlinear models respectively with normal random intercept.
  Jim

> 
> 	-thomas
> 
> Thomas Lumley
> Assistant Professor, Biostatistics
> University of Washington, Seattle
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep 13 14:37:29 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Sep 2000 14:37:29 +0200
Subject: ? backslash  was Re: [R] Editor alternative
In-Reply-To: "Yves Gauvreau"'s message of "Wed, 13 Sep 2000 08:02:25 -0400"
References: <4.3.2.7.2.20000912103110.00afa5b0@127.0.0.1> <39BE8E1E.6CECD458@statistik.uni-dortmund.de> <003401c01d6e$93fa0ce0$0201a8c0@Workgroup> <39BF62CF.3945F2FE@statistik.uni-dortmund.de> <003c01c01d7a$7b94d160$0201a8c0@Workgroup>
Message-ID: <x2g0n4wjqu.fsf@blueberry.kubism.ku.dk>

"Yves Gauvreau" <cyg at sympatico.ca> writes:

> > > comply with it's path strings needs. Maybe it would be nice to just
> provide
> > > a simple function in "base" for the sole purpose of translating Windows
> path
> > > strings to the required form.
> >
> > I don't think, it is necessary. It is not so difficult to use "/" or
> > "\\" instead of "\" ...
> >
> > Uwe Ligges
> 
> I agree when you have a single path string to process it's ain't worth the
> trouble but what about situations where say you make use of a large number..

The real problem is that you cannot do this without changing the
syntax of R itself. The escape character modifies the character that
follows it, but is not itself part of the string. Contemplate the
following: 

> format("\a\b\c\d\e\f\g\h\'\"\n")
[1] "\\a\\bcde\\fgh'\\\"\\n"
> cat(format("\a\b\c\d\e\f\g\h\'\"\n"))
\a\bcde\fgh'\"\n> 
> "\a\b\c\d\e\f\g\h\'\"\n"  
[1] "\a\bcde\fgh'\"\n"
> cat("\a\b\c\d\e\f\g\h\'\"\n")
cdegh'"


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep 13 14:51:03 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 13 Sep 2000 13:51:03 +0100 (BST)
Subject: ? backslash  was Re: [R] Editor alternative
In-Reply-To: <003c01c01d7a$7b94d160$0201a8c0@Workgroup>
Message-ID: <Pine.GSO.4.05.10009131347030.12830-100000@toucan.stats>

On Wed, 13 Sep 2000, Yves Gauvreau wrote:

> 
> ----- Original Message -----
> From: "Uwe Ligges" <ligges at statistik.uni-dortmund.de>
> To: "Yves Gauvreau" <cyg at sympatico.ca>
> Sent: Wednesday, September 13, 2000 7:19 AM
> Subject: Re: ? backslash was Re: [R] Editor alternative
> 
> 
> > Yves Gauvreau wrote:
> > >
> > > Hi
> > >
> > > I just want to point out an observation. I noticed that path strings
> under
> > > Windows required that I double up the backslash "\" as it is used as an
> > > escape character as in C. I think that most if not all of the "Unix
> tools"
> > > ported to Windows accept path strings with a single backslash. I wonder
> if
> > > it would be worthwhile to reproduce that behavior under R somehow? I
> mean
> > > kind of preprocessing the params used as path strings transparently
> since
> > > character vectors don't "escape" the backslash.
> > >
> > > I understand it is much easier to require from users of R under Windows
> to
> > > comply with it's path strings needs. Maybe it would be nice to just
> provide
> > > a simple function in "base" for the sole purpose of translating Windows
> path
> > > strings to the required form.
> >
> > I don't think, it is necessary. It is not so difficult to use "/" or
> > "\\" instead of "\" ...
> >
> > Uwe Ligges
> 
> I agree when you have a single path string to process it's ain't worth the
> trouble but what about situations where say you make use of a large number
> of Windows path string stored in a file or anywhere else and you want to
> process each of the files the path string points to? I think a more generic
> solution might be appropriate. Of course if no one as the need to process a
> large number of files in various directory on it's file system under Windows
> then this thread is dead in the water. Also if the number of people with
> such needs is small they probably already have implemented a solution to
> their problem.
> 
> I just though that a function in base for such problem would have been a
> nice consideration to us Windows users. No offence intended to the rest of
> the world.

Use gsub, as in several R system utils. I think

newpath <- gsub("\\", "/", oldpath)

does what you want.  (You could convert to \\\\ if you prefer.)

In general \ does matter in strings (\n, \t etc) so we can't avoid
the need to double \.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Wed Sep 13 15:21:45 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Wed, 13 Sep 2000 09:21:45 -0400
Subject: ? backslash  was Re: [R] Editor alternative
References: <4.3.2.7.2.20000912103110.00afa5b0@127.0.0.1> <39BE8E1E.6CECD458@statistik.uni-dortmund.de> <003401c01d6e$93fa0ce0$0201a8c0@Workgroup> <39BF62CF.3945F2FE@statistik.uni-dortmund.de> <003c01c01d7a$7b94d160$0201a8c0@Workgroup> <39c07458.1206224@j
Message-ID: <005201c01d85$90884740$0201a8c0@Workgroup>


----- Original Message -----
From: "Duncan Murdoch" <dmurdoch at pair.com>
To: "Yves Gauvreau" <cyg at sympatico.ca>; <r-help at stat.math.ethz.ch>
Sent: Wednesday, September 13, 2000 8:38 AM
Subject: Re: ? backslash was Re: [R] Editor alternative


> On Wed, 13 Sep 2000 08:02:25 -0400, "Yves Gauvreau" <cyg at sympatico.ca>
> wrote:
> >I agree when you have a single path string to process it's ain't worth
the
> >trouble but what about situations where say you make use of a large
number
> >of Windows path string stored in a file or anywhere else and you want to
> >process each of the files the path string points to?
>
> In that case you don't need to double the backslash.  If you're
> reading character data from a file, R won't treat the backslashes as
> escape characters.  It's only the parser that does that.
>
> Duncan Murdoch
>

I'm not sure I understand what you mean in your last phrase. I noticed that
some function require the use of "\\" and some don't. In the original post
the path needed to be "corrected" and with assign (<-), read.table and
probably many more both "\" and "\\" work fine.

I understand that the use of a single "\" is needed in several R function
and it as a legitimate purpose which we can't do without. Prof. Ripley just
replyed a solution that might put and end to this discussion. For those
cases (probably marginal) where "\\" or equivalent are needed we can use
what he suggested
"newpath <- gsub("\\", "/", oldpath) " and I hope every body should be
happy.

Live long and prosper.

Yves Gauvreau



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From murdoch at stats.uwo.ca  Wed Sep 13 15:32:46 2000
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 13 Sep 2000 09:32:46 -0400
Subject: ? backslash  was Re: [R] Editor alternative
In-Reply-To: <005201c01d85$90884740$0201a8c0@Workgroup>
References: <4.3.2.7.2.20000912103110.00afa5b0@127.0.0.1> <39BE8E1E.6CECD458@statistik.uni-dortmund.de> <003401c01d6e$93fa0ce0$0201a8c0@Workgroup> <39BF62CF.3945F2FE@statistik.uni-dortmund.de> <003c01c01d7a$7b94d160$0201a8c0@Workgroup> <39c07458.1206224@j
Message-ID: <39c18125.1852184@fisher.stats.uwo.ca>


>> In that case you don't need to double the backslash.  If you're
>> reading character data from a file, R won't treat the backslashes as
>> escape characters.  It's only the parser that does that.
>>
>> Duncan Murdoch
>>
>
>I'm not sure I understand what you mean in your last phrase.

If you're reading data using scan() or read.table() (or whatever
low-level functions those use), then you don't need to double the
backslash in the datafile.  This means it's easy to read in a long
list of pathnames from a file.

On the other hand, if the backslash appears in R code (which you type
at the command line, or use source() to read), then it passes through
the parser, and the backslash is treated as an escape character.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Heberto at meakins.lan.mcgill.ca  Wed Sep 13 16:12:35 2000
From: Heberto at meakins.lan.mcgill.ca (Heberto Ghezzo)
Date: Wed, 13 Sep 2000 10:12:35 -0400
Subject: [R] minimization
Message-ID: <200009131412.KAA16148@sirocco.cc.mcgill.ca>

Hi, I got a code from S that uses 'nlminb' to minimize a function 
with constraints. Is there a similar function in R?
Thanks.

R. Heberto Ghezzo  Ph.D.
Meakins-Christie Labs
McGill University
Montreal - Canada
heberto at meakins.lan.mcgill.ca
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Wed Sep 13 16:42:01 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Wed, 13 Sep 2000 10:42:01 -0400
Subject: ? backslash  was Re: [R] Editor alternative
References: <4.3.2.7.2.20000912103110.00afa5b0@127.0.0.1> <39BE8E1E.6CECD458@statistik.uni-dortmund.de> <003401c01d6e$93fa0ce0$0201a8c0@Workgroup> <39BF62CF.3945F2FE@statistik.uni-dortmund.de> <003c01c01d7a$7b94d160$0201a8c0@Workgroup> <39c07458.1206224@j
Message-ID: <006301c01d90$c75b7610$0201a8c0@Workgroup>


----- Original Message -----
From: "Uwe Ligges" <ligges at statistik.uni-dortmund.de>
To: "Yves Gauvreau" <cyg at sympatico.ca>
Sent: Wednesday, September 13, 2000 10:19 AM
Subject: Re: ? backslash was Re: [R] Editor alternative


> > I'm not sure I understand what you mean in your last phrase. I noticed
that
> > some function require the use of "\\" and some don't. In the original
post
> > the path needed to be "corrected" and with assign (<-), read.table and
> > probably many more both "\" and "\\" work fine.

I should have added "work fine on:"

platform Windows
arch     x86
os       Win32
system   x86, Win32
status
major    1
minor    1.0
year     2000
month    June
day      15
language R

Under NT 4.0 read.table(file="d:\file.txt") &
read.table(file="d:\\file.txt")  both work and your right if I go one or
more directory levels down it won't work. This is due I think, because at
the root level of a drive the operating system considers d:file.txt and
d:\file.txt to be equivalent. I think this originated far back with early
Dos.

So I apologize for my incomplete reply.

YG



>
> No, for example in read.table() "\" won't work:
>
>   > read.table("c:\temp\test.txt")
>   Error in count.fields(file, sep, quote, skip) :
>           can't open file c:      emp     est.txt
>
>
> > I understand that the use of a single "\" is needed in several R
function
> > and it as a legitimate purpose which we can't do without. Prof. Ripley
just
> > replyed a solution that might put and end to this discussion. For those
> > cases (probably marginal) where "\\" or equivalent are needed we can use
> > what he suggested
> > "newpath <- gsub("\\", "/", oldpath) " and I hope every body should be
> > happy.
> >
> > Live long and prosper.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep 13 16:42:36 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 13 Sep 2000 15:42:36 +0100 (BST)
Subject: [R] minimization
In-Reply-To: <200009131412.KAA16148@sirocco.cc.mcgill.ca>
Message-ID: <Pine.GSO.4.05.10009131540290.13062-100000@toucan.stats>

On Wed, 13 Sep 2000, Heberto Ghezzo wrote:

> Hi, I got a code from S that uses 'nlminb' to minimize a function 
> with constraints. Is there a similar function in R?

optim(method="L-BFGS-B")

Both use box-constrained optimization.  Note that things like howyou
supply derivatives differ between the systems.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep 13 17:27:16 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 13 Sep 2000 17:27:16 +0200
Subject: ? backslash  was Re: [R] Editor alternative
In-Reply-To: "Yves Gauvreau"'s message of "Wed, 13 Sep 2000 10:42:01 -0400"
References: <4.3.2.7.2.20000912103110.00afa5b0@127.0.0.1> <39BE8E1E.6CECD458@statistik.uni-dortmund.de> <003401c01d6e$93fa0ce0$0201a8c0@Workgroup> <39BF62CF.3945F2FE@statistik.uni-dortmund.de> <003c01c01d7a$7b94d160$0201a8c0@Workgroup> <39c07458.1206224@j
Message-ID: <x266o0wbvv.fsf@blueberry.kubism.ku.dk>

"Yves Gauvreau" <cyg at sympatico.ca> writes:

> Under NT 4.0 read.table(file="d:\file.txt") &
> read.table(file="d:\\file.txt")  both work and your right if I go one or
> more directory levels down it won't work. This is due I think, because at
> the root level of a drive the operating system considers d:file.txt and
> d:\file.txt to be equivalent. I think this originated far back with early
> Dos.

I think that won't work for filenames beginning with "f".... or with
any of "abfnrtv" for that matter.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Wed Sep 13 19:13:56 2000
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Wed, 13 Sep 2000 10:13:56 -0700
Subject: [R] Cleaning up after compiling R source
Message-ID: <4.3.2.7.2.20000913100803.00af4de8@127.0.0.1>

Forgive this naive question, but I'm not accustomed to using Win ports of 
Unix tools (actually I'm unfamiliar with Unix tools, period).

Anyway, I've successfully compiled the R-1.1.1 sources into the full binary 
package.  Everything seems to work.  I'd like to remove all the "made" 
files and leave only the original source code and the compiled binary 
code.  Is there some other tool that will clean up after the compile and 
link cycle?  What file suffixes can be deleted safely (subject to leaving 
the original source and the needed binaries)?

Thanks,



=====================
Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department
Portland State University
1721 SW Broadway
Portland, Oregon 97201
email:  feldesmanm at pdx.edu
phone:  503-725-3081
fax:    503-725-3905
http://odin.cc.pdx.edu/~h1mf
======================

"Anyway, no drug, not even alcohol, causes the fundamental ills of society.
If we're looking for the source of our troubles, we shouldn't test people
for drugs, we should test them for stupidity, ignorance, greed and love of
power."   P.J. O'Rourke

Powered by Optiplochoerus and Windows 2000 (scary isn't it?)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From a.salim at ucc.ie  Wed Sep 13 20:09:01 2000
From: a.salim at ucc.ie (Agus Salim)
Date: Wed, 13 Sep 2000 19:09:01 +0100
Subject: [R] minimization
In-Reply-To: <200009131412.KAA16148@sirocco.cc.mcgill.ca>
Message-ID: <3.0.1.32.20000913190901.006bd724@bureau.ucc.ie>

You can use the "optim" command which came with R.1.0.0.
type help(optim) for more details. 


Agus

At 10:12 13/09/00 -0400, Heberto Ghezzo wrote:
>Hi, I got a code from S that uses 'nlminb' to minimize a function 
>with constraints. Is there a similar function in R?
>Thanks.
>
>R. Heberto Ghezzo  Ph.D.
>Meakins-Christie Labs
>McGill University
>Montreal - Canada
>heberto at meakins.lan.mcgill.ca
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Wed Sep 13 20:02:07 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Wed, 13 Sep 2000 20:02:07 +0200
Subject: [R] Cleaning up after compiling R source
In-Reply-To: <4.3.2.7.2.20000913100803.00af4de8@127.0.0.1>; from feldesmanm@pdx.edu on Wed, Sep 13, 2000 at 10:13:56AM -0700
References: <4.3.2.7.2.20000913100803.00af4de8@127.0.0.1>
Message-ID: <20000913200207.A7574@sirio.stat.unipd.it>

On Wed, Sep 13, 2000 at 10:13:56AM -0700, Marc Feldesman wrote:
> Forgive this naive question, but I'm not accustomed to using Win ports of 
> Unix tools (actually I'm unfamiliar with Unix tools, period).
> 
> Anyway, I've successfully compiled the R-1.1.1 sources into the full binary 
> package.  Everything seems to work.  I'd like to remove all the "made" 
> files and leave only the original source code and the compiled binary 
> code.  Is there some other tool that will clean up after the compile and 
> link cycle?  What file suffixes can be deleted safely (subject to leaving 
> the original source and the needed binaries)?
> 


  Go to path-to/R-1.1.1/src/gnuwin32. Then 

  > make clean 
  remove all the file created during the compilation but 
  executables, dll's, documentation,....

  > make distclean
  remove all was created (executables,...,too).

  If you want to know which files are actually deleted look to 
  src/gnuwin32/Makefile and find the two blocks of rows starting 
  with "clean:" and "distclean:".

  guido
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From feldesmanm at pdx.edu  Wed Sep 13 20:58:32 2000
From: feldesmanm at pdx.edu (Marc Feldesman)
Date: Wed, 13 Sep 2000 11:58:32 -0700
Subject: [R] Cleaning up part 2.
Message-ID: <4.3.2.7.2.20000913115338.00b00500@127.0.0.1>

Thanks to those who suggested I use

make clean.

I *had* done that before asking the question, but it would never run.  I 
kept getting:

nothing to make.

After getting a couple of replies suggesting "make clean" again, I blew 
away the entire directory, reinstalled the sources, reset the paths, and 
first did a normal "make".  Then I followed that with "make clean".  That 
worked.

I probably corrupted something in my inveterate tinkering.  Sorry to waste 
bandwidth.




=====================
Dr. Marc R. Feldesman
Professor and Chairman
Anthropology Department
Portland State University
1721 SW Broadway
Portland, Oregon 97201
email:  feldesmanm at pdx.edu
phone:  503-725-3081
fax:    503-725-3905
http://odin.cc.pdx.edu/~h1mf
======================

"Anyway, no drug, not even alcohol, causes the fundamental ills of society.
If we're looking for the source of our troubles, we shouldn't test people
for drugs, we should test them for stupidity, ignorance, greed and love of
power."   P.J. O'Rourke

Powered by Optiplochoerus and Windows 2000 (scary isn't it?)

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From shalabhgandhi at usa.net  Thu Sep 14 08:58:52 2000
From: shalabhgandhi at usa.net (Shalabh Gandhi)
Date: 14 Sep 00 00:58:52 MDT
Subject: [R] Pl. provide and Input for Kmeans
Message-ID: <20000914065852.20737.qmail@nwcst278.netaddress.usa.net>

Sir,

Would like to know what sort of input matrix are taken by the kmeans function
defined in mva library of R application. As per the documentation for the
Kmeans it takes the following 2 data sets:

1) data
2) centers

The commands to be executed in R are as follows:
library(mva)
data <- read.table('file1',header=TRUE,sep="\t")
centers <- read.table('file2',header=TRUE,sep="\t")
sink("output")
kmeans(data,centers,maxiters)
 

Can you please help me in providing with the data and center values. The data
I am currrently using gives me an error -- empty cluster: try better set of
initial centers. Number of clusters centers mush lie between 1 and nrow(n).

Waiting for your reply

regards
shalabh



____________________________________________________________________
Get free email and a permanent address at http://www.netaddress.com/?N=1
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Christian.C.Ritter at OPC.shell.com  Thu Sep 14 09:51:10 2000
From: Christian.C.Ritter at OPC.shell.com (Ritter, Christian C SRTCL-CTGAS)
Date: Thu, 14 Sep 2000 09:51:10 +0200
Subject: [R] inconsistent behavior in bxp as compared to most plots
Message-ID: <F169284AF6DDD111AA000001FAF836E8012308B5@LLNBBS22>

It took me a little while to trace this back ...

bxp from R1.1.0 does not use xaxt or yaxt but only axes.

Chris


platform Windows   
arch     x86       
os       Win32     
system   x86, Win32
status             
major    1         
minor    1.0       
year     2000      
month    June      
day      15        
language R   
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Sep 14 11:01:49 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 14 Sep 2000 11:01:49 +0200
Subject: [R] inconsistent behavior in bxp as compared to most plots
References: <F169284AF6DDD111AA000001FAF836E8012308B5@LLNBBS22>
Message-ID: <39C093FD.62DEED4E@statistik.uni-dortmund.de>

"Ritter, Christian C SRTCL-CTGAS" wrote:
> 
> It took me a little while to trace this back ...
> 
> bxp from R1.1.0 does not use xaxt or yaxt but only axes.

Try:
 par(xaxt="n")
 bxp(.....)


If you want to change the behavior of bxp(.), have a look into the last
lines of that function:

    ...
    if (axes) {
        if (n > 1) 
            axis(1, at = 1:n, labels = z$names)
        axis(2)
    }
    ...


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Thu Sep 14 12:37:16 2000
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Thu, 14 Sep 2000 11:37:16 +0100
Subject: [R] Checking if a library is loaded or not
In-Reply-To: <x2snsyl25o.fsf@blueberry.kubism.ku.dk>
References: <Pine.LNX.4.21.0005211207440.18010-100000@pc16.stat.umu.se>
 <200007251339.JAA12345@sirocco.cc.mcgill.ca>
 <x2snsyl25o.fsf@blueberry.kubism.ku.dk>
Message-ID: <CWyI9GAcpKw5Ewc$@myatt.demon.co.uk>


How do I check if a library has already been loaded and then load it if
required?

Thanks

Mark


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Sep 14 13:29:28 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 14 Sep 2000 13:29:28 +0200
Subject: [R] Checking if a library is loaded or not
References: <Pine.LNX.4.21.0005211207440.18010-100000@pc16.stat.umu.se>
	 <200007251339.JAA12345@sirocco.cc.mcgill.ca>
	 <x2snsyl25o.fsf@blueberry.kubism.ku.dk> <CWyI9GAcpKw5Ewc$@myatt.demon.co.uk>
Message-ID: <39C0B698.A79704E3@statistik.uni-dortmund.de>



Mark Myatt wrote:
> 
> How do I check if a library has already been loaded and then load it if
> required?

To check, which libraries are loaded:
 search()


But you might want to use
 require()

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep 14 14:14:46 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 14 Sep 2000 13:14:46 +0100 (BST)
Subject: [R] Checking if a library is loaded or not
In-Reply-To: <39C0B698.A79704E3@statistik.uni-dortmund.de>
Message-ID: <Pine.GSO.4.05.10009141310200.13934-100000@toucan.stats>

On Thu, 14 Sep 2000, Uwe Ligges wrote:

> Mark Myatt wrote:
> > 
> > How do I check if a library has already been loaded and then load it if
> > required?
> 
> To check, which libraries are loaded:
>  search()
> 
> 
> But you might want to use
>  require()

Actually, just library(foo) does exactly what is required, that is to
load the library if it is not already loaded.  require() checks for
the use of provide(), but that is deprecated now so require() is
really just a wrapper for library().

Brian

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Sep 14 14:27:08 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Sep 2000 14:27:08 +0200
Subject: [R] Checking if a library is loaded or not
In-Reply-To: Mark Myatt's message of "Thu, 14 Sep 2000 11:37:16 +0100"
References: <Pine.LNX.4.21.0005211207440.18010-100000@pc16.stat.umu.se> <200007251339.JAA12345@sirocco.cc.mcgill.ca> <x2snsyl25o.fsf@blueberry.kubism.ku.dk> <CWyI9GAcpKw5Ewc$@myatt.demon.co.uk>
Message-ID: <x24s3jcg6b.fsf@blueberry.kubism.ku.dk>

Mark Myatt <mark at myatt.demon.co.uk> writes:

> How do I check if a library has already been loaded and then load it if
> required?

require(pkgname)

PS: The terminology is that we have a library of packages, so it is
packages that get loaded, not libraries.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jmccaffr at cs.uml.edu  Thu Sep 14 15:24:49 2000
From: jmccaffr at cs.uml.edu (Jarred McCaffrey)
Date: Thu, 14 Sep 2000 09:24:49 -0400
Subject: [R] dynamically naming columns in a data frame
Message-ID: <39C0D1A1.E149BA1@cs.uml.edu>

Hello All!

I have been working with R for the last couple of weeks and I am very
impressed with the capabilities.  I am creating hundreds of tables and
need to dynamically name the columns.

Here is a small snippet of my code:

# Turn my clustering data into a data.frame object.
    names( clusters ) <- Abbreviate( distMethods[ i ], hclustMethods[ j
] )
    df <- data.frame( clusters, row.names = NULL, check.rows = FALSE,
check.names = TRUE )

If the formatting turned out properly, you should only see three lines
above, beginning with #, names, and df.

Abbreviate() returns a variable that contains a string (my
abbreviation).  Using names() like this does not change the column name
in the final csv output.

This does work:

df <- data.frame( newName=clusters, .... )

But newName is always read as a text string, I have not been able to
substitute a variable.  I also tried substituting the Abbreviate() call
for newName, hoping the char string return would be used.  That caused
syntax errors.

Does anyone know a solution to dynamically naming columns?

Thank you very much!

Jarred McCaffrey
jarred at acm.org

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From y0004379 at rzpool07.rz.tu-bs.de  Thu Sep 14 15:56:45 2000
From: y0004379 at rzpool07.rz.tu-bs.de (Peter Malewski)
Date: Thu, 14 Sep 2000 15:56:45 +0200
Subject: [R] Pl. provide and Input for Kmeans
In-Reply-To: <20000914065852.20737.qmail@nwcst278.netaddress.usa.net>; from shalabhgandhi@usa.net on Thu, Sep 14, 2000 at 12:58:52AM -0600
References: <20000914065852.20737.qmail@nwcst278.netaddress.usa.net>
Message-ID: <20000914155644.A19774@rzpool07.pool.rz.tu-bs.de>

On Thu, Sep 14, 2000 at 12:58:52AM -0600, Shalabh Gandhi wrote:
> Can you please help me in providing with the data and center values. The data
> I am currrently using gives me an error -- empty cluster: try better set of
> initial centers. Number of clusters centers mush lie between 1 and nrow(n).

xx <- cbind(c(rnorm(100,0),rnorm(100,4)) , c(rnorm(100,9),rnorm(100,2)) ) 

kmeans(xx , cbind(c(4,0), c(9,2)) )

but:

> kmeans(xx , cbind(c(4,0,32,43), c(9,2,23,43)) )
Error in switch(Z$ifault, stop("empty cluster: try a better set of initial centers"),  : 
	empty cluster: try a better set of initial centers



...
-- 
P.Malewski, Maschplatz 8, 38114 Braunschweig, Tel.: 0531 500965, 
MH-Hannover: 0511 532 3194 / Fax: 0511 532 3190, 
P.Malewski at tu-bs.de, peter.malewski at gmx.de, malewski.peter at mh-hannover.de.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Sep 14 16:12:05 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 14 Sep 2000 16:12:05 +0200
Subject: [R] dynamically naming columns in a data frame
In-Reply-To: Jarred McCaffrey's message of "Thu, 14 Sep 2000 09:24:49 -0400"
References: <39C0D1A1.E149BA1@cs.uml.edu>
Message-ID: <x2ya0vxdu2.fsf@blueberry.kubism.ku.dk>

Jarred McCaffrey <jmccaffr at cs.uml.edu> writes:

> df <- data.frame( newName=clusters, .... )
> 
> But newName is always read as a text string, I have not been able to
> substitute a variable.  I also tried substituting the Abbreviate() call
> for newName, hoping the char string return would be used.  That caused
> syntax errors.
> 
> Does anyone know a solution to dynamically naming columns?

is

names(df)<-whatever

what you're looking for?

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Thu Sep 14 22:24:12 2000
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Thu, 14 Sep 2000 22:24:12 +0200
Subject: No subject
Message-ID: <5.0.0.25.0.20000914221231.02763230@127.0.0.1>

Dear friends.

I wanted to get an impression of the odds ratio of two treatments:
1) 11 survival 4 deaths
2) 5 survival 9 deaths
I know I could use
library(ctest)
s <- 
matrix(c(11,4,5,9),nr=2,dimnames=list(c("Survived","Death"),c("New","Standard")))
fisher.test(s)
to get a p value of 0.0656  and 95% CI of OR of
0.8108857 32.5251110
but wanted instead a bayesian estimate using prior beta(1,1) for both 
treatments.

I came up with
x1 <- seq(0,1,by=0.01)
x2 <- seq(0,1,by=0.01)
post1 <- dbeta(x1,12,5)
post2 <- dbeta(x2,6,10)
ORR <- (post1/(1-post1))/(post2/(1-post2))
ORR <- ORR[!is.na(ORR)]
but this did not behave well at all.
I thought I would get about the same mean for OR (4.656126) as with Fisher 
test - but not at all.
How can I sample from the distribution of the OR in a proper way ?

Best wishes

Troels

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Sep 14 22:39:35 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 14 Sep 2000 13:39:35 -0700 (PDT)
Subject: [R] Re: your mail
In-Reply-To: <5.0.0.25.0.20000914221231.02763230@127.0.0.1>
Message-ID: <Pine.GSO.4.21.0009141331060.6060-100000@atlas.biostat.washington.edu>

On Thu, 14 Sep 2000, Troels Ring wrote:

> Dear friends.
> 
> I wanted to get an impression of the odds ratio of two treatments:
> 1) 11 survival 4 deaths
> 2) 5 survival 9 deaths
> I know I could use
> library(ctest)
> s <- 
> matrix(c(11,4,5,9),nr=2,dimnames=list(c("Survived","Death"),c("New","Standard")))
> fisher.test(s)
> to get a p value of 0.0656  and 95% CI of OR of
> 0.8108857 32.5251110
> but wanted instead a bayesian estimate using prior beta(1,1) for both 
> treatments.
> 
> I came up with
> x1 <- seq(0,1,by=0.01)
> x2 <- seq(0,1,by=0.01)
> post1 <- dbeta(x1,12,5)
> post2 <- dbeta(x2,6,10)
> ORR <- (post1/(1-post1))/(post2/(1-post2))
> ORR <- ORR[!is.na(ORR)]
> but this did not behave well at all.
> I thought I would get about the same mean for OR (4.656126) as with Fisher 
> test - but not at all.
> How can I sample from the distribution of the OR in a proper way ?

If the priors are independent Beta(1,1) then the posteriors are
independent Beta(12,5) and Beta(6,10), so you can eg

p1<-rbeta(1000,12,5)
p2<-rbeta(1000,6,10)

OR<-p1*(1-p2)/(p2*(1-p1))

You might also find it illuminating to sample from your prior.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ReddinM at prose.dpi.qld.gov.au  Fri Sep 15 00:07:50 2000
From: ReddinM at prose.dpi.qld.gov.au (Redding, Matthew)
Date: Fri, 15 Sep 2000 08:07:50 +1000
Subject: [R] Repeated Measures?
Message-ID: <FB599DB5ACE2D211887500A0C9D334E40B14D9@TBACRMEXH001>

HI There, 

I was wondering if there was a procedure in R for carrying out greenhhouse
geiser type repeated measures analysis and ante-dependence testing?
I've checked out the nicely written manuals, but it seems to lack an entry
in the index (maybe because this technique has not been implemented yet).

THanks, 

Matt Redding
Soil Scientist
Intensive Livestock Environmental Management-Research
Department of Primary Industries, Queensland
Australia.  ph 61 7 46 881372
	fax 61 7 46 881192
	reddinm at dpi.qld.gov.au
            http://www.dpi.qld.gov.au/ilems




**************************DISCLAIMER********************************
The information in this e-mail message together with any attachments
is confidential and may be legally privileged. It is intended only
for the use of the person or entity to which it is addressed. If you
are not the addressee, any form of disclosure, copying, modification,
distribution or any action taken or omitted in reliance on this
e-mail message is unauthorised. Opinions contained in this e-mail
message and any attachments do not necessarily reflect the opinions
of the Queensland Government and associated organisations. If you
received this e-mail message in error, please notify the sender
immediately and delete this message and any attachments from your
computer and/or your computer system network.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xyzzy at speakeasy.org  Fri Sep 15 01:42:08 2000
From: xyzzy at speakeasy.org (Trent Piepho)
Date: Thu, 14 Sep 2000 16:42:08 -0700 (PDT)
Subject: [R] Background color with jpeg and png devices
Message-ID: <Pine.LNX.4.04.10009141633280.26917-100000@xyzzy.dsl.speakeasy.net>

If I change the background color of a plot, with par(bg="red") for example, I
get a plot with a red background when I use the postscript or X11 devices. 
With the png or jpeg devices, the background is white. 

Is this the intended behavior, or a bug?  Is there anyway to get a non-white
background with the png device?  I'm using R-1.1.0 on Linux.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep 15 10:13:44 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 15 Sep 2000 09:13:44 +0100 (BST)
Subject: [R] Background color with jpeg and png devices
In-Reply-To: <Pine.LNX.4.04.10009141633280.26917-100000@xyzzy.dsl.speakeasy.net>
Message-ID: <Pine.GSO.4.05.10009150908550.14778-100000@toucan.stats>

On Thu, 14 Sep 2000, Trent Piepho wrote:

> If I change the background color of a plot, with par(bg="red") for example, I
> get a plot with a red background when I use the postscript or X11 devices. 
> With the png or jpeg devices, the background is white. 
> 
> Is this the intended behavior, or a bug?  Is there anyway to get a non-white
> background with the png device?  I'm using R-1.1.0 on Linux.

A bit of both (as I never had a need for other than white backgrounds).
But if people want it (evidently they do) it is a bug (Unix only as it
seems correct on Windows). We will fix it in due course, but for now I
believe that the bitmap device does pick up the background colour
and can produce png or jpeg.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hoffmann at ehmgs2.et.tu-dresden.de  Fri Sep 15 15:35:04 2000
From: hoffmann at ehmgs2.et.tu-dresden.de (Thomas Hoffmann)
Date: Fri, 15 Sep 2000 15:35:04 +0200 (METDST)
Subject: [R] R on HP-UX, again: modreg.sl fails, 1 arith test fails
Message-ID: <200009151335.PAA17688@ehmgs2.et.tu-dresden.de>

I want to report the progress of my attempts to get R running on HP-UX
with gcc: 

Firstly, I could work around the PIC problem by leaving out all the lib stuff
(I rebuilt gcc with --enable-share, but this (alone) did not help), e.g. the
line 

gcc -shared -fPIC  -o ctest.sl ansari.o fexact.o kendall.o ks.o prho.o swilk.o -L/usr/local/lib  -lg2c 
-lm -L/lib/pa1.1 -L/usr/lib/pa1.1 -u main -L/usr/local/qt/lib 
-L/opt/gcc/lib/gcc-lib/hppa1.1-hp-hpux10.20/2.95.2 -L/usr/ccs/bin -L/usr/ccs/lib -L/opt/gcc/lib -lm

was replaced by 

gcc -shared -fPIC  -o ctest.sl ansari.o fexact.o kendall.o ks.o prho.o swilk.o -u main

With this I could run the make process to completion. Even the tests w/ loading these shared
libs work, with the exception of modreg.sl. Calling

> library(modreg)

results in

Error in dyn.load(x, as.logical(local), as.logical(now)) : 
        unable to load shared library "/usr/local/lib/R/library/modreg/libs/modreg.sl":
  can't open /usr/local/lib/R/library/modreg/libs/modreg.sl
Error in library(modreg) : .First.lib failed

Another problem is the failure of the arith test:

abs(1 - x / asin(sin(x)))

results in values greater then Meps for x=0.53 and 0.56.

Has anybody seen this? Because the arith test is a basic test, this seems to be rather
specific to my machine/libs.

At least, I have R running at the HP system and can use my 21" monitor, instead having
to go to our smallish Win95 computer. But with failed arithmetic tests I am not that
confident in the results I will get ...

Thomas.


=============================================================================
Thomas Hoffmann, Institut fuer Halbleiter- und Mikrosystemtechnik, TU Dresden 
E-mail: hoffmann at ehmgs2.et.tu-dresden.de
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luke at goose.stat.umn.edu  Fri Sep 15 16:05:44 2000
From: luke at goose.stat.umn.edu (Luke Tierney)
Date: Fri, 15 Sep 2000 09:05:44 -0500 (CDT)
Subject: [R] R on HP-UX, again: modreg.sl fails, 1 arith test fails
In-Reply-To: <200009151335.PAA17688@ehmgs2.et.tu-dresden.de> from Thomas Hoffmann at "Sep 15, 2000 03:35:04 pm"
Message-ID: <200009151405.JAA24585@goose.stat.umn.edu>

Thomas Hoffmann wrote:
> With this I could run the make process to completion. Even the tests w/ loading these shared
> libs work, with the exception of modreg.sl. Calling
> 
> > library(modreg)
> 
> results in
> 
> Error in dyn.load(x, as.logical(local), as.logical(now)) : 
>         unable to load shared library "/usr/local/lib/R/library/modreg/libs/modreg.sl":
>   can't open /usr/local/lib/R/library/modreg/libs/modreg.sl
> Error in library(modreg) : .First.lib failed
> 

To track down the shared library problem you could try this: If you
add BIND_VERBOSE to the flags for shl_load then shl_load may print
something useful, like the name of the symbol it can't find.  The call
to shl_load is in src/unix/hpdlfcn.c, but even though this is a .c
file it is used by inclusion in src/unix/dynload.c, so that is the
file that needs to be recompiled.


> Another problem is the failure of the arith test:
> 
> abs(1 - x / asin(sin(x)))
> 
> results in values greater then Meps for x=0.53 and 0.56.
> 

I believe a few of the tests are a bit too stringent.  THere are two I
believe where the check is for Meps but HP-UX gives 2 * Meps (or
something roughly like that).

One other test fails due to the fact that exp(a large number) returns
DBL_MAX on HP-UX (PARISC at least) rather than IEEE Inf (this may be
adjustable by changing the rounding mode, but I've never looked into
that).  The test wants it to be Inf.  If those are your only problems
I think you are OK.  If there are more failures than those then there
may be more issues.

luke

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Sep 15 16:22:45 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 15 Sep 2000 16:22:45 +0200
Subject: [R] R on HP-UX, again: modreg.sl fails, 1 arith test fails
In-Reply-To: Thomas Hoffmann's message of "Fri, 15 Sep 2000 15:35:04 +0200 (METDST)"
References: <200009151335.PAA17688@ehmgs2.et.tu-dresden.de>
Message-ID: <x28zstwx8q.fsf@blueberry.kubism.ku.dk>

Thomas Hoffmann <hoffmann at ehmgs2.et.tu-dresden.de> writes:

> > library(modreg)
> 
> results in
> 
> Error in dyn.load(x, as.logical(local), as.logical(now)) : 
>         unable to load shared library "/usr/local/lib/R/library/modreg/libs/modreg.sl":
>   can't open /usr/local/lib/R/library/modreg/libs/modreg.sl
> Error in library(modreg) : .First.lib failed

Hmm. And the file exists and has the proper permissions?

> Another problem is the failure of the arith test:
> 
> abs(1 - x / asin(sin(x)))
> 
> results in values greater then Meps for x=0.53 and 0.56.
> 
> Has anybody seen this? Because the arith test is a basic test, this seems to be rather
> specific to my machine/libs.
> 
> At least, I have R running at the HP system and can use my 21" monitor, instead having
> to go to our smallish Win95 computer. But with failed arithmetic tests I am not that
> confident in the results I will get ...

Um, how much greater are they? On ix86, I get

> x<-(1:10000)/10000
> min(1 - x / asin(sin(x)))
[1] -2.220446e-16
> max(1 - x / asin(sin(x)))
[1] 2.220446e-16


You could try the same test in raw C, and depending on the result
report an error in R, or lose confidence in *anything* computed on
that machine....

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hoffmann at ehmgs2.et.tu-dresden.de  Fri Sep 15 17:59:05 2000
From: hoffmann at ehmgs2.et.tu-dresden.de (Thomas Hoffmann)
Date: Fri, 15 Sep 2000 17:59:05 +0200 (METDST)
Subject: [R] R on HP-UX, again: modreg.sl fails, 1 arith test fails
Message-ID: <200009151559.RAA17890@ehmgs2.et.tu-dresden.de>

> > Error in dyn.load(x, as.logical(local), as.logical(now)) : 
> >         unable to load shared library "/usr/local/lib/R/library/modreg/libs/modreg.sl":
> >   can't open /usr/local/lib/R/library/modreg/libs/modreg.sl
> > Error in library(modreg) : .First.lib failed
> 
> Hmm. And the file exists and has the proper permissions?

$ pwd
/userdisk/usr_local/lib/R/library/modreg/libs
$ ll
total 640
-rwxrwxr-x   1 hoffmann   users       312744 Sep 15 14:06 modreg.sl

> Um, how much greater are they? 
For my:
platform hppa1.1-hp-hpux10.20
arch     hppa1.1             
os       hpux10.20           
system   hppa1.1, hpux10.20  
status                       
major    1                   
minor    1.1   

I get:
             
> x<-(1:10000)/10000
> min(1 - x / asin(sin(x)))
[1] -4.440892e-16
> max(1 - x / asin(sin(x)))
[1] 3.330669e-16

This is approx. 2*Meps.

Thomas.
=============================================================================
Thomas Hoffmann, Institut fuer Halbleiter- und Mikrosystemtechnik, TU Dresden 
E-mail: hoffmann at ehmgs2.et.tu-dresden.de

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Sep 15 18:23:38 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 15 Sep 2000 18:23:38 +0200
Subject: [R] inconsistent behavior in bxp as compared to most plots
In-Reply-To: <39C093FD.62DEED4E@statistik.uni-dortmund.de>
References: <F169284AF6DDD111AA000001FAF836E8012308B5@LLNBBS22>
	<39C093FD.62DEED4E@statistik.uni-dortmund.de>
Message-ID: <14786.19722.30710.305151@gargle.gargle.HOWL>

>>>>> "Uwe" == Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:

    Uwe> "Ritter, Christian C SRTCL-CTGAS" wrote:
    >>  It took me a little while to trace this back ...
    >> 
    >> bxp from R1.1.0 does not use xaxt or yaxt but only axes.

    Uwe> Try: par(xaxt="n")
    Uwe>      bxp(.....)


    Uwe> If you want to change the behavior of bxp(.), have a look into the
    Uwe> last lines of that function:

    ...

well, actually looking at  bxp() reveals that  bxp(*, axes=*)  cannot work
either... {whoever moved that line "pars <- list(pars, ...)" into the local
	   function instead of bxp() itself.....}
I've added xaxt,yaxt, and "frame.plot" functionality and re-instated
axes and ylim ...
			--> all for "R-devel" (aka unstable 1.2)

Here is the patch if you want:

--- R-1.1.1/src/library/base/R/boxplot.R 	Wed Jun 21 18:20:44 2000
+++ R-devel/src/library/base/R/boxplot.R	Fri Sep 15 17:56:23 2000
@@ -95,13 +96,14 @@
 bxp <- function(z, notch=FALSE, width=NULL, varwidth=FALSE,
 	        notch.frac = 0.5, boxwex = 0.8,
 		border=par("fg"), col=NULL, log="", pars=NULL,
+                frame.plot = axes,
 		 ...)
 {
+    pars <- c(pars, list(...))
+
     bplt <- function(x, wid, stats, out, conf, notch, border, col)
     {
-	## Draw single box plot.
-	pars <- c(pars, list(...))# from bxp(...).
-
+	## Draw single box plot
 	if(!any(is.na(stats))) {
 	    ## stats = +/- Inf:	 polygon & segments should handle
 	    wid <- wid/2
@@ -140,7 +142,7 @@
     ## just for compatibility with S
     if(is.null(z$out))   z$out   <- vector(length=0)
     if(is.null(z$group)) z$group <- vector(length=0)
-    if((comp.ylim <- is.null(pars$ylim)))
+    if(is.null(pars$ylim))
         ylim <- range(z$stats[is.finite(z$stats)],
                       z$out  [is.finite(z$out)],
                       if(notch)
@@ -177,10 +179,11 @@
     axes <- is.null(pars$axes)
     if(!axes) { axes <- pars$axes; pars$axes <- NULL }
     if(axes) {
-	if(n > 1) axis(1, at=1:n, labels=z$names)
-	axis(2)
+	if(n > 1) axis(1, at=1:n, labels=z$names, xaxt = pars$xaxt)
+	axis(2, yaxt = pars$yaxt)
     }
     do.call("title", pars)
+    if(frame.plot)
     box()
     invisible(1:n)
 }
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cstrato at EUnet.at  Fri Sep 15 19:54:39 2000
From: cstrato at EUnet.at (cstrato@EUnet.at)
Date: Fri, 15 Sep 2000 18:54:39 +0100
Subject: [R] non-linear normalization of data
Message-ID: <39C2625C.AAB78B3A@EUnet.at>

Dear R/S users

I hope the answer to this question turns out to be simple, since the
question can be formulated in a simple way:
If I have a sausage which is curved, which transformation do I need
to apply to straigthen it out?

More concretely:
Let an experiment produce 1,000 data points with every point in
the range(1, 10,000) and let us assume a gaussian distribution.
Now I repeat the experiment 8 times.

For every data point I get a mean with standard deviation. Due to
experimental limits, data points with low values have usually a
higher standard deviation.

If I draw the data of any two experiments on a Log-Log-plot, the
data will be scattered around the diagonal.

If e.g. an instrument has a lower sensitivity, the cloud seen in the
scatterplot would be shifted and/or rotated. To correct for this
I could do a linear transformation such as e.g. "lsfit" or "ltsreg".
(is this correct?)

However, when the instrument introduces some kind of non-
linearity, e.g. saturation effects at high values, so that the
data look like a curved sausage in 8-dim space, what is the best
way to fit these data?

Thank you in advance for your help
Best regards
Christian Stratowa, Vienna, Austria

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sarthur at protogene.com  Fri Sep 15 19:42:10 2000
From: sarthur at protogene.com (Steve Arthur)
Date: Fri, 15 Sep 2000 10:42:10 -0700 (PDT)
Subject: [R] Coplot Question (Unresolved)
Message-ID: <Pine.LNX.4.21.0009150958510.1084-100000@crick.protogene.com>

Rers,

I still have a question concerning the coplot function.

I have written some code using the coplot:

coplot(y ~ as.numeric(Base) | a * b)
     
Where Base is a factor.
              
And it works great!  However, according to the way coplot works, Base is 
converted by "as.numeric" from  Base values, A, C, G, and T to 1, 2, 3,
and 4, which is not very helpful for data visualization and 
interpretation for the people I work with.

Question:  Is there a way to have the "coplot" work showing the original
A, C, G, T as values for Bases on the "coplot" axes?

coplot(y ~ as.factor(Base) | a * b ) does not work!

Also, it appears that "coplot" does not have a command for printing a
graph title, such as "main" as is in the "plot" function.  Am I right or
am I wrong?

>> >indicates for the formula: y ~ x | a * b, x and y must be numeric, and a
>> >and b must be factor values, so when I try your suggestion, it appearsnot
>> >to work.  I might instead try a plot statement with a
>> >par(mfrow=c(5,3)) etc... that's my next problem.

****
OK! I see! Well, I just tried to do plot some data where the variable on
the x-axis is a character, and R does not accept it. I do not know if this
may be the original problem. Did anybody give you other suggestions? It may
be worth asking on r-help about this.
****

And finally, the "plot" function has a form "plot(f,y)" which it is stated
on page 65 of "An Introduction to R" V1.0.1 that "...form produces
boxplots of y for each level of f."  Where f is a factor and y is
numeric.  Is there anyway to not plot the boxplots and just show the
points above the factors?

Thanks in advance,

steve

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xyzzy at speakeasy.org  Fri Sep 15 23:41:14 2000
From: xyzzy at speakeasy.org (Trent Piepho)
Date: Fri, 15 Sep 2000 14:41:14 -0700 (PDT)
Subject: [R] Background color with jpeg and png devices
In-Reply-To: <Pine.GSO.4.05.10009151310420.15075-100000@toucan.stats>
Message-ID: <Pine.LNX.4.04.10009151434090.28026-100000@xyzzy.dsl.speakeasy.net>

On Fri, 15 Sep 2000, Prof Brian Ripley wrote:
> On Fri, 15 Sep 2000, Prof Brian Ripley wrote:
> > On Thu, 14 Sep 2000, Trent Piepho wrote:
> > > If I change the background color of a plot, with par(bg="red") for example, I
> > > get a plot with a red background when I use the postscript or X11 devices. 
> 
> Well, I don't in postscript, just invalid postscript (in 1.1.1 and
> R-devel).  The problem is that /fg must be set before /p2 is used, and
> that is used to set the background colour via PS_Rect (and the problem
> occurs in a couple of other places too).

If I use the bitmap device, under R-1.1.0, I get a png file with the correct
background color.  I thought bitmap didn't work 1.1.0, but I'm not
complaining.

> (It's a one-line fix for png, but bitmap fails because postscript does.
> In X11_NewPage, copy the line from the second section setting xd->bg
> to the first section.)

And after applying this fix, I get the proper background color with png() too.

I'm trying to use R to generate dynamic content for web pages.  I wanted to
use the png device to avoid the overhead of the PS->png translation with
ghostscript.  However, since png requires an X server to generate the
graphics, maybe that's a bad choice.  I'd need to leave something like Xvfb
running to provide a virtual X server on the web server.  Yuck!

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Sat Sep 16 16:21:22 2000
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Sat, 16 Sep 2000 09:21:22 -0500 (CDT)
Subject: [R] D function
Message-ID: <200009161421.JAA13064@uhddx01.dt.uh.edu>

Dear R People:

Suppose I put in the following:

> w1 <- expression(2*x)
> v1 <- expression(x^2)

and I want to get the derivative of w1 * v1 with respect to x
> D(w1*v1,"x")
Error in w1 * v1 : non-numeric argument to binary operator


Is there a way around this, please?

Thanks in advance!

Sincerely,
Erin M. Hodgess, Ph.D.
Associate Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
One Main Street 
Houston, TX 77002
e-mail: hodgess at uhddx01.dt.uh.edu


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Sat Sep 16 16:57:52 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 16 Sep 2000 09:57:52 -0500
Subject: [R] D function
In-Reply-To: Erin Hodgess's message of "Sat, 16 Sep 2000 09:21:22 -0500 (CDT)"
References: <200009161421.JAA13064@uhddx01.dt.uh.edu>
Message-ID: <6rog1oz8nj.fsf@franz.stat.wisc.edu>

Erin Hodgess <hodgess at uhddx01.dt.uh.edu> writes:

> Suppose I put in the following:
> 
> > w1 <- expression(2*x)
> > v1 <- expression(x^2)
> 
> and I want to get the derivative of w1 * v1 with respect to x
> > D(w1*v1,"x")
> Error in w1 * v1 : non-numeric argument to binary operator
> Is there a way around this, please?

You need to create a single expression that does not refer to w1 and
v1.

> D(expression((2 * x) * (x * 2)), "x")
2 * (x * 2) + (2 * x) * 2
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Sat Sep 16 20:05:01 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Sat, 16 Sep 2000 14:05:01 -0400
Subject: [R] Eq. Solution?
Message-ID: <001b01c02008$a2c48830$0201a8c0@Workgroup>

Hi,

I have the following equation that I most solve for thau quite often to
evaluate something else:

   thau = exp(ak/ak1 t thau), => ak, ak1, t > 0

I used Mathematica to solve it symbolically and it give, beside the usual
warnings, a solution which involves a special function that R doesn't have
"ProductLog". I used it in Mathematica to find numerical solutions but I
always get imaginary solution. Thus I suppose the solution is unusable.

The author say's that when ak/ak1 <= 0 there is always a real solution and
when the ratio is > 0 there may be 1, 2 or no real solutions.

So my question is how could I solve this "numerically" in R?

Thanks.

Yves Gauvreau

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Sun Sep 17 12:36:44 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 17 Sep 2000 12:36:44 +0200
Subject: [R] D function
In-Reply-To: Douglas Bates's message of "16 Sep 2000 09:57:52 -0500"
References: <200009161421.JAA13064@uhddx01.dt.uh.edu> <6rog1oz8nj.fsf@franz.stat.wisc.edu>
Message-ID: <x2itrvjoeb.fsf@blueberry.kubism.ku.dk>

Douglas Bates <bates at stat.wisc.edu> writes:

> Erin Hodgess <hodgess at uhddx01.dt.uh.edu> writes:
> 
> > Suppose I put in the following:
> > 
> > > w1 <- expression(2*x)
> > > v1 <- expression(x^2)
> > 
> > and I want to get the derivative of w1 * v1 with respect to x
> > > D(w1*v1,"x")
> > Error in w1 * v1 : non-numeric argument to binary operator
> > Is there a way around this, please?
> 
> You need to create a single expression that does not refer to w1 and
> v1.
> 
> > D(expression((2 * x) * (x * 2)), "x")
> 2 * (x * 2) + (2 * x) * 2

...which you can do from the constituent parts as follows:

> w1<-quote(2*x)
> v1<-quote(x^2)
> call("*",v1,w1)
x^2 * 2 * x
> D(call("*",v1,w1),"x")
2 * x * (2 * x) + x^2 * 2

Notice that you need to make the subexpressions mode "call" rather
than "expression" in order to be able to stick them together woth
call. 

One word of warning. This stuff bypasses the parser and the deparser
in R does not insert parentheses when necessary, hence:

> w1<-quote(2+x)
> v1<-quote(x)
> call("*",v1,w1)
x * 2 + x
> D(call("*",v1,w1),"x")
2 + x + x

(One "nice little" exercise is to fix the deparser so that it
auto-parenthesizes, and at the same time get the parser to delete them
in input)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nklepeis at uclink4.berkeley.edu  Sun Sep 17 21:40:11 2000
From: nklepeis at uclink4.berkeley.edu (Neil E. Klepeis)
Date: Sun, 17 Sep 2000 12:40:11 -0700
Subject: [R] Weighted Histogram
Message-ID: <39C51E1B.9300A5CE@uclink4.berkeley.edu>

Greetings,

I'm having trouble finding a simple way to calculate a weighted
histogram where there may be zero raw counts in a given interval.

Given equal-length vectors of data 'data' and weights 'w', and breaks
(intervals) for the histogram, I calculate a weighted histogram as
follows (see MASS's 'truehist' for an unweighted histogram):

bin <- cut(data, breaks, include.lowest = TRUE)
wsums <- sapply(split( w, f = bin), sum)
prob <- wsums/(diff(breaks) * sum(w))     

where 'bin' is the recoded data vector, 'wsums' is the sum of weights
across each factor in 'bin', and 'prob' is the vector of probabilities
used to plot the true histogram.

But if there are no data points in a certain interval (i.e., zero
frequency in an interval), the 'wsums' vector does not have the same
length as 'diff(breaks)' and we are in trouble.  Doing an unweighted
histogram is no trouble as we use 'tabulate' with a specified number of
integers equal to the number of total intervals, which results in a
vector that includes the zero frequency intervals: 

counts <- tabulate(bin, length(levels(bin)))

Does anyone know of a simple (vectorized) way in R to calculate a
weighted histogram where there may be zero counts in any number of
intervals?  [If not, I suppose I could loop through each interval...]

Thanks,
Neil

-- 
___________________________________________________________
Neil E. Klepeis, School of Public Health, UC Berkeley, USA
http://eetd.lbl.gov/ied/era/exposuremodeling/
nklepeis at uclink4.berkeley.edu
-----------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep 18 00:35:45 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Sep 2000 00:35:45 +0200
Subject: [R] Weighted Histogram
In-Reply-To: "Neil E. Klepeis"'s message of "Sun, 17 Sep 2000 12:40:11 -0700"
References: <39C51E1B.9300A5CE@uclink4.berkeley.edu>
Message-ID: <x2r96ibq9q.fsf@blueberry.kubism.ku.dk>

"Neil E. Klepeis" <nklepeis at uclink4.berkeley.edu> writes:

> Greetings,
> 
> I'm having trouble finding a simple way to calculate a weighted
> histogram where there may be zero raw counts in a given interval.
> 
> Given equal-length vectors of data 'data' and weights 'w', and breaks
> (intervals) for the histogram, I calculate a weighted histogram as
> follows (see MASS's 'truehist' for an unweighted histogram):
> 
> bin <- cut(data, breaks, include.lowest = TRUE)
> wsums <- sapply(split( w, f = bin), sum)
> prob <- wsums/(diff(breaks) * sum(w))     
> 
> where 'bin' is the recoded data vector, 'wsums' is the sum of weights
> across each factor in 'bin', and 'prob' is the vector of probabilities
> used to plot the true histogram.
> 
> But if there are no data points in a certain interval (i.e., zero
> frequency in an interval), the 'wsums' vector does not have the same
> length as 'diff(breaks)' and we are in trouble.  Doing an unweighted
> histogram is no trouble as we use 'tabulate' with a specified number of
> integers equal to the number of total intervals, which results in a
> vector that includes the zero frequency intervals: 
> 
> counts <- tabulate(bin, length(levels(bin)))
> 
> Does anyone know of a simple (vectorized) way in R to calculate a
> weighted histogram where there may be zero counts in any number of
> intervals?  [If not, I suppose I could loop through each interval...]

Hm. I wouldn't quite rule out that there are bugs in the existing code
when empty factor levels get involved (both split() and tapply() seem
to drop them on the floor)

If you start with data, w, and breaks all known to have no missing
values, then you should be able to do
 
 bin <- cut(data, breaks, include.lowest = TRUE)
 wsums <- tapply(w, bin, sum)
 wsums[is.na(wsums)] <- 0
 prob <- wsums/(diff(breaks) * sum(w))     
 
Checking with Splus..: Our split.default appears to be incompatible,
but tapply is the same:

> f<-factor(1,levels=1:2)
> f
[1] 1
Levels:
[1] "1" "2"
> x<-2
> split(x,f)             
$"1":
[1] 2

$"2":
numeric(0)

> tapply(x,f,length)
 1  2 
 1 NA
> sapply(split(x,f),length)         
 1 2 
 1 0

where R (1.1.1) gets

> tapply(x,f,length)
 1  2 
 1 NA 
> sapply(split(x,f),length)
1 
1 
> split(x,f)        
$"1"
[1] 2

So your suggestion works in Splus but not in R. The fix in R would
seem to be to change "factor" to "as.factor" at the start of
split.default.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hornik at ci.tuwien.ac.at  Mon Sep 18 00:51:12 2000
From: hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 18 Sep 2000 00:51:12 +0200
Subject: [R] binom.test inside ctest
In-Reply-To: <Pine.LNX.4.21.0009121108490.2369-100000@pc16.stat.umu.se>
References: <D5A7D734C9C5D211B9E30008C78923020609E83C@exdkba03.novo.dk>
	<Pine.LNX.4.21.0009121108490.2369-100000@pc16.stat.umu.se>
Message-ID: <200009172251.AAA19208@aragorn.ci.tuwien.ac.at>

>>>>> gb  writes:

> Bendix,

> that's what I meant. There are in fact _two_ border points, when you
> look at the two-sided test, 35 and 65. I thougt of taking half of each
> point, but expressed it in a sloppy way.

> The perhaps more interesting thing to discuss is whether this is a
> reasonable thing to do or not. Would the one-sided analogue to add
> half of the probability of the only border point to the p-value be
> equally reasonable? What do the experts say? References?

To start with, the result of binom.test(65, 100, p=0.5) which is
currently reported is not what is intended.  As Peter Dalgaard pointed
out, we need to add some fuzz to protect against differences of order
10^(-18) ...

There was some discussion on what the ``correct'' 2-sided p-value in the
discrete case is.  Some references simply use twice the smaller
one-sided probability.  I think the best approach is to use the prob
of ``observing a value at least as extreme as the one observed'', or
more precisely of ``observing a value no more likely than the one
observed''.  I.e., if X is the test statistic and d its probability
density function and x the value observed, then

	p-value = sum_{y: d(y) <= d(x)} d(y)

(see the comment

                            ## Do
                            ##   d <- dbinom(0 : n, n, p)
                            ##   sum(d[d <= dbinom(x, n, p)])
                            ## a bit more efficiently ...

in the code for binom.test().)

I don't have a reference available ... so if anyone else has ...

Simon Fear <fears at roycastle.liv.ac.uk> pointed me to an alternative
definition given in a paper by Vollset [sorry but I think I deleted the
exact reference] which

	defines an exact two-sided P value as

	  P = 2[f P(X=x) + min{P(X<x),P(X>x)}]

	where P() is evaluated under the null. This with f=.5 gives
	double the mid-P value, if f is one you get the definition in
	Cox and Snell. Either way, it is not the analogue of what we
	(and many others) have preferred for the Fisher's test.

I have been wanting for some time to take a closer look into this, and
maybe implement the above for the discrete tests in ctest.  No time thus
far ... if someone else wants to give this a shot, pls feel free.

-k

> Göran

> On Tue, 12 Sep 2000, BXC (Bendix Carstensen) wrote:

>> 
>> > -----Original Message-----
>> > From: gb [mailto:gb at stat.umu.se]
>> > Sent: 12. september 2000 08:40
>> > To: Mai Zhou
>> > Cc: r-help at stat.math.ethz.ch
>> > Subject: Re: [R] binom.test inside ctest
>> > 
>> > 
>> > Mai,
>> > 
>> > it seems as if binom.test only adds half the probability of
>> > of the border point 65 to the p-value. If you try
>> > 
>> > > (1-pbinom(64, 100, p = 0.5)) + pbinom(34, 100, p=0.5)
>> > [1] 0.002653786
>> > 
>> > you get the same result as binom.test.
>> 
>> Göran,
>> 
>> Rather, it adds the border point only once:
>> I think the general idea is:
>> 
>> > db <- dbinom(0:100,100,p=0.5)
>> > obs.p <- dbinom(65,100,p=0.5)
>> > sum(db[db<obs.p])+obs.p
>> [1] 0.002653786
>> 
>> Bendix 
>> > 
>> > 
>> > Göran
>> > 
>> > On Tue, 12 Sep 2000, Mai Zhou wrote:
>> > 
>> > > I got 
>> > > 
>> > > binom.test(65, 100, p=0.5)
>> > > 
>> > > 
>> > > p-value = 0.002654
>> > > 
>> > > I thought in this case (when p=0.5 so a symmetric distribution)
>> > > we should get 
>> > > 
>> > > p-value = 2*( 1-pbinom(64, 100, p=0.5) ) = 0.003517642
>> > > 
>> > > Can somebody explain why the difference?
>> > > 
>> > > Thanks.
>> > > 
>> > > Mai Zhou
>> > > 
>> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
>> > -.-.-.-.-.-.-.-.-
>> > > r-help mailing list -- Read 
>> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>> > > Send "info", "help", or "[un]subscribe"
>> > > (in the "body", not the subject !)  To: 
>> > r-help-request at stat.math.ethz.ch
>> > > 
>> > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
>> > _._._._._._._._._
>> > > 
>> > 
>> > -- 
>> >  Göran Broström                      tel: +46 90 786 5223
>> >  Department of Statistics            fax: +46 90 786 6614
>> >  Umeå University
>> >  SE-90187 Umeå, Sweden             e-mail: gb at stat.umu.se
>> > 
>> 
>> ----------------------
>> Bendix Carstensen
>> Senior Statistician
>> Steno Diabetes Centre
>> Niels Steensens Vej 2
>> DK-2820 Gentofte
>> Denmark
>> tel: +45 44 43 87 38
>> mob: +45 28 25 87 38
>> fax: +45 44 43 73 13
>> bxc at novo.dk
>> www.biostat.ku.dk/~bxc
>> ----------------------
>> 
>> 

> -- 
>  Göran Broström, professor           tel: +46 90 786 5223
>  Department of Statistics            fax: +46 90 786 6614
>  Umeå University
>  SE-90187 Umeå, Sweden             e-mail: gb at stat.umu.se

> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ReddinM at prose.dpi.qld.gov.au  Mon Sep 18 00:59:56 2000
From: ReddinM at prose.dpi.qld.gov.au (Redding, Matthew)
Date: Mon, 18 Sep 2000 08:59:56 +1000
Subject: [R] Repeated Measures
Message-ID: <FB599DB5ACE2D211887500A0C9D334E40B14DE@TBACRMEXH001>

Hi R Gurus, 

I am more or less a beginner with R.  I have searched your FAQ, manuals, and
the archives of this list for an answer to this question, unsuccessfully.
I commonly do analysis of chemical characteristics of soils, by depth
intervals (e.g. 0-100 mm, 100-200, 200-300, etc), comparing two soil
profiles that 
have received some treatment (effluent).  In Genstat I can handle this
problem using one of several repeated measures approaches that allow me to
determine if the 
profiles on a whole are sig dif, to determine if one depth interval is
significantly different from another (within the same profile), and to
determine if significant leaching
has occurred from the active root zone.  In genstat the procedures are
Arepmeas, and Antedependence.

Is there a comparable capability in R?

Thanks, 

Matt Redding
Soil Scientist
Intensive Livestock Environmental Management-Research
Department of Primary Industries, Queensland
Australia.  ph 61 7 46 881372
	fax 61 7 46 881192
	reddinm at dpi.qld.gov.au
            http://www.dpi.qld.gov.au/ilems



**************************DISCLAIMER********************************
The information in this e-mail message together with any attachments
is confidential and may be legally privileged. It is intended only
for the use of the person or entity to which it is addressed. If you
are not the addressee, any form of disclosure, copying, modification,
distribution or any action taken or omitted in reliance on this
e-mail message is unauthorised. Opinions contained in this e-mail
message and any attachments do not necessarily reflect the opinions
of the Queensland Government and associated organisations. If you
received this e-mail message in error, please notify the sender
immediately and delete this message and any attachments from your
computer and/or your computer system network.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From baron at cattell.psych.upenn.edu  Mon Sep 18 02:08:55 2000
From: baron at cattell.psych.upenn.edu (Jonathan Baron)
Date: Sun, 17 Sep 2000 20:08:55 -0400 (EDT)
Subject: [R] Repeated Measures
Message-ID: <200009180008.UAA05582@cattell.psych.upenn.edu>

I am unfamiliar with genstat, but in our notes for psychology we
cover repeated measures in R.  In the current version, see
section 4.2.3, and more generally, 6.7.  It sounds like your
predictor variables should be defined as factors, but I'm not
sure (since they may be ordered).  Because our examples use
mostly binary variables, we don't bother with that.  

There is also discussion of repeated measures in Venables and
Ripley's book and in Chambers and Hastie's book.

See http://www.psych.upenn.edu/~baron/rpsych.htm

Jon
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sgsong at ucla.edu  Mon Sep 18 08:59:36 2000
From: sgsong at ucla.edu (Shige Song)
Date: Sun, 17 Sep 2000 23:59:36 -0700
Subject: [R] how to install packages
Message-ID: <39C5BD5836B.8998SGSONG@smtp.bol.ucla.edu>

Dear All,

I am trying to fiugre out how install packages on the base system. The
"FAQ" tells me that more details can be obtained  by typing
"help(install.packages)", but my R system gives me an error message when
I did that. I also tried "help(PACKAGES)", "help(install.packages())",
but none worked. Anybody can help? I am running R 1.1.1 on WinNT 4.

Thanks a lot.

Best,
Shige Song
Department of Sociology, UCLA
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Sep 18 10:51:49 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 18 Sep 2000 10:51:49 +0200
Subject: [R] Coplot Question (Unresolved)
References: <Pine.LNX.4.21.0009150958510.1084-100000@crick.protogene.com>
Message-ID: <39C5D7A5.90520A63@statistik.uni-dortmund.de>

Steve Arthur wrote:
[..]
> And finally, the "plot" function has a form "plot(f,y)" which it is stated
> on page 65 of "An Introduction to R" V1.0.1 that "...form produces
> boxplots of y for each level of f."  Where f is a factor and y is
> numeric.  Is there anyway to not plot the boxplots and just show the
> points above the factors?

Only answering the last question:
It is is possible to plot only the points above the factors using 
 plot.default(...).
To get nice results, it is neccessary to plot the x-axis separatly in
this case.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Sep 18 11:04:40 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 18 Sep 2000 11:04:40 +0200
Subject: [R] how to install packages
References: <39C5BD5836B.8998SGSONG@smtp.bol.ucla.edu>
Message-ID: <39C5DAA7.CB2BBEDC@statistik.uni-dortmund.de>

Shige Song wrote:
> 
> Dear All,
> 
> I am trying to fiugre out how install packages on the base system. The
> "FAQ" tells me that more details can be obtained  by typing
> "help(install.packages)", but my R system gives me an error message when
> I did that. I also tried "help(PACKAGES)", "help(install.packages())",
> but none worked. Anybody can help? I am running R 1.1.1 on WinNT 4.

1. Looks like you didn't install one (or more) of the archives, which
contain help pages, e.g. (from the readme):

rw1011h.zip                             text help
rw1011ch.zip                            compiled HTML help
rw1011w.zip                             HTML help files

[I suppose, you have installed the binary distribution for WinNT,
available at CRAN.]

Have a look into the "R for Windows FAQ, section 2.2".


2. Installing additional packages.
 a) It is possible to install additional packages using
install.packages().
 b) For windows there are binary releases of many packages available at
     http://cran.r-project.org/bin/windows/windows-NT/contrib/
    You might want to install those packages using the installer
rwinst.exe.

Have a look into the "R for Windows FAQ, section 3.1".

Uwe Ligges

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sgsong at ucla.edu  Mon Sep 18 10:59:52 2000
From: sgsong at ucla.edu (Shige Song)
Date: Mon, 18 Sep 2000 01:59:52 -0700
Subject: [R] how to install packages
In-Reply-To: <39C5BD5836B.8998SGSONG@smtp.bol.ucla.edu>
References: <39C5BD5836B.8998SGSONG@smtp.bol.ucla.edu>
Message-ID: <39C5D988232.F45ASGSONG@smtp.bol.ucla.edu>

After some playing around, I think I know how to do it now. By the way,
R seems to be much faster than Splus, at least under WinNT4. This is
quite amazing!

Best,
Shige

On Sun, 17 Sep 2000 23:59:36 -0700
Shige Song <sgsong at ucla.edu> wrote:

> Dear All,
> 
> I am trying to fiugre out how install packages on the base system. The
> "FAQ" tells me that more details can be obtained  by typing
> "help(install.packages)", but my R system gives me an error message when
> I did that. I also tried "help(PACKAGES)", "help(install.packages())",
> but none worked. Anybody can help? I am running R 1.1.1 on WinNT 4.
> 
> Thanks a lot.
> 
> Best,
> Shige Song
> Department of Sociology, UCLA
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep 18 11:14:18 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Sep 2000 11:14:18 +0200
Subject: [R] Coplot Question (Unresolved)
In-Reply-To: Uwe Ligges's message of "Mon, 18 Sep 2000 10:51:49 +0200"
References: <Pine.LNX.4.21.0009150958510.1084-100000@crick.protogene.com> <39C5D7A5.90520A63@statistik.uni-dortmund.de>
Message-ID: <x2ya0q6p05.fsf@blueberry.kubism.ku.dk>

Uwe Ligges <ligges at statistik.uni-dortmund.de> writes:

> Steve Arthur wrote:
> [..]
> > And finally, the "plot" function has a form "plot(f,y)" which it is stated
> > on page 65 of "An Introduction to R" V1.0.1 that "...form produces
> > boxplots of y for each level of f."  Where f is a factor and y is
> > numeric.  Is there anyway to not plot the boxplots and just show the
> > points above the factors?
> 
> Only answering the last question:
> It is is possible to plot only the points above the factors using 
>  plot.default(...).
> To get nice results, it is neccessary to plot the x-axis separatly in
> this case.

Also check out stripplot()

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From M.B.Gillies at pharm.uu.nl  Mon Sep 18 13:32:56 2000
From: M.B.Gillies at pharm.uu.nl (Malcolm Gillies)
Date: Mon, 18 Sep 2000 13:32:56 +0200
Subject: [R] phantom(0) doesn't do what I expect it to [plotmath]
Message-ID: <200009181132.NAA37912@fischer.pharm.uu.nl>

Hi,

I'm trying to make a legend with a justified list of numbers, so I
thought I would use phantom(0) to align the 3-digit numbers properly
with the 4-digit ones:

    legend(x, y, xjust=1, yjust=1, lty=c(1,2,3,4,5), adj=c(0,0.5),
           legend=expression(phantom(0)*300*plain(K),
                             phantom(0)*550*plain(K),
                             phantom(0)*830*plain(K),
                                       1440*plain(K),
                                       2500*plain(K)))

Unfortunately, phantom(0) doesn't seem to be adding any space, whether
I use the X11 or the postscript device.

Am I being obtuse? Should I file a PR?

Suggestions for alternative solutions also appreciated (short of
measuring all the string widths and building it up by hand ;-)

cheers,

Malcolm
--
Malcolm Gillies <M.B.Gillies at pharm.uu.nl>
PhD student, computational medicinal chemistry
Dept of Medicinal Chemistry, Faculty of Pharmacy,
Utrecht University, The Netherlands
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Mon Sep 18 13:55:28 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Mon, 18 Sep 2000 12:55:28 +0100 (BST)
Subject: [R] layout question
Message-ID: <Pine.LNX.4.10.10009181249420.1179-100000@localhost.localdomain>

I wanted to produce a layout like this:

      |----------|
      |          |
      |    1     | 
      |          |
|-----------------------|
|           |           |  
|     2     |    3      |   
|           |           |  
|-----------------------|
Three equal sized plots with the top one centred about the other two.

So far I am using
nf<-layout(matrix(c(1,1,2,3), 2, 2, byrow=TRUE),respect=TRUE)
which produces a layout like this:

|-----------------------|
|                       |
|          1            |
|                       |
|-----------------------|
|           |           |
|     2     |    3      |
|           |           |
|-----------------------|

The top plot is stretched horizontally.

Is there a way to get what I want with layout or by some other means?
Thanks for any help.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep 18 14:05:45 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 18 Sep 2000 14:05:45 +0200
Subject: [R] phantom(0) doesn't do what I expect it to [plotmath]
In-Reply-To: Malcolm Gillies's message of "Mon, 18 Sep 2000 13:32:56 +0200"
References: <200009181132.NAA37912@fischer.pharm.uu.nl>
Message-ID: <x2g0mx7vmu.fsf@blueberry.kubism.ku.dk>

Malcolm Gillies <M.B.Gillies at pharm.uu.nl> writes:

> Hi,
> 
> I'm trying to make a legend with a justified list of numbers, so I
> thought I would use phantom(0) to align the 3-digit numbers properly
> with the 4-digit ones:
> 
>     legend(x, y, xjust=1, yjust=1, lty=c(1,2,3,4,5), adj=c(0,0.5),
>            legend=expression(phantom(0)*300*plain(K),
>                              phantom(0)*550*plain(K),
>                              phantom(0)*830*plain(K),
>                                        1440*plain(K),
>                                        2500*plain(K)))
> 
> Unfortunately, phantom(0) doesn't seem to be adding any space, whether
> I use the X11 or the postscript device.
> 
> Am I being obtuse? Should I file a PR?

No, yes. This looks like a bug, and even stuff advertised on the help
page using phantom(0) doesn't seem to work.

BTW : It's helpful if examples to reproduce a bug are directly
executable. I.e. plot(1);legend(1,1,...etc...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mcw at ln.nimh.nih.gov  Mon Sep 18 14:55:51 2000
From: mcw at ln.nimh.nih.gov (Matthew Wiener)
Date: Mon, 18 Sep 2000 08:55:51 -0400 (EDT)
Subject: [R] layout question
In-Reply-To: <Pine.LNX.4.10.10009181249420.1179-100000@localhost.localdomain>
Message-ID: <Pine.SGI.3.96.1000918085340.114795A-100000@ln.nimh.nih.gov>

I ran into this before.  You need to define smaller boxes:

  4   1   1   5

  2   2   3   3

(sorry not to put in the lines to make everythin look nice).

To be more explicit, you're using

layout(rbind(c(4,1,1,5), c(2,2,3,3))),
but then making only 3 plots.

Hope this helps,

Matt



On Mon, 18 Sep 2000, Bill Simpson wrote:

> I wanted to produce a layout like this:
> 
>       |----------|
>       |          |
>       |    1     | 
>       |          |
> |-----------------------|
> |           |           |  
> |     2     |    3      |   
> |           |           |  
> |-----------------------|
> Three equal sized plots with the top one centred about the other two.
> 
> So far I am using
> nf<-layout(matrix(c(1,1,2,3), 2, 2, byrow=TRUE),respect=TRUE)
> which produces a layout like this:
> 
> |-----------------------|
> |                       |
> |          1            |
> |                       |
> |-----------------------|
> |           |           |
> |     2     |    3      |
> |           |           |
> |-----------------------|
> 
> The top plot is stretched horizontally.
> 
> Is there a way to get what I want with layout or by some other means?
> Thanks for any help.
> 
> Bill
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Z.Barta at bristol.ac.uk  Mon Sep 18 15:54:28 2000
From: Z.Barta at bristol.ac.uk (Zoltan Barta)
Date: Mon, 18 Sep 2000 14:54:28 +0100 (GMT Daylight Time)
Subject: [R] layout question
In-Reply-To: <Pine.LNX.4.10.10009181249420.1179-100000@localhost.localdomain>
Message-ID: <SIMEON.10009181428.H@maths-pc80.bristol.ac.uk>


On Mon, 18 Sep 2000 12:55:28 +0100 (BST) Bill Simpson 
<wsi at gcal.ac.uk> wrote:

> I wanted to produce a layout like this:
> 
>       |----------|
>       |          |
>       |    1     | 
>       |          |
> |-----------------------|
> |           |           |  
> |     2     |    3      |   
> |           |           |  
> |-----------------------|
> Three equal sized plots with the top one centred about the other two.

You may want to use this:

nf <- layout(matrix(c(0,1,1,0,2,2,3,3),4,2,byrow=T),respect=T)

Zoltan Barta


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Mon Sep 18 16:11:26 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Mon, 18 Sep 2000 15:11:26 +0100 (BST)
Subject: [R] layout question
In-Reply-To: <Pine.SGI.3.96.1000918085340.114795A-100000@ln.nimh.nih.gov>
Message-ID: <Pine.LNX.4.10.10009181511020.1317-100000@localhost.localdomain>

Thanks very much Matt. That did the trick.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Mon Sep 18 16:18:55 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Mon, 18 Sep 2000 15:18:55 +0100 (BST)
Subject: [R] layout question
In-Reply-To: <SIMEON.10009181428.H@maths-pc80.bristol.ac.uk>
Message-ID: <Pine.LNX.4.10.10009181516560.1515-100000@localhost.localdomain>

Thanks Zoltan for your help.

> You may want to use this:
> 
> nf <- layout(matrix(c(0,1,1,0,2,2,3,3),4,2,byrow=T),respect=T)
I tried this however and it gave 3 plots centred one above another.
Not what I wanted. (Also the bottom two had wrong aspect ratio: longer
than wide)

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Mon Sep 18 16:40:44 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Mon, 18 Sep 2000 16:40:44 +0200
Subject: [R] layout question
Message-ID: <3.0.32.20000918164043.008e9380@162.38.183.200>

At 12:55 18/09/00 +0100, you wrote:
>I wanted to produce a layout like this:
>
>      |----------|
>      |          |
>      |    1     | 
>      |          |
>|-----------------------|
>|           |           |  
>|     2     |    3      |   
>|           |           |  
>|-----------------------|
>Three equal sized plots with the top one centred about the other two.
>
>So far I am using
>nf<-layout(matrix(c(1,1,2,3), 2, 2, byrow=TRUE),respect=TRUE)
>which produces a layout like this:
>
>|-----------------------|
>|                       |
>|          1            |
>|                       |
>|-----------------------|
>|           |           |
>|     2     |    3      |
>|           |           |
>|-----------------------|
>
>The top plot is stretched horizontally.
>
>Is there a way to get what I want with layout or by some other means?
>Thanks for any help.
>
>Bill
>

Hi,

You can play with the mar graphical parameter. For instance,

 layout(matrix(c(1,1,2,3), 2, 2, byrow=TRUE),respect=TRUE)
 par(mar=c(5.1, 12.1, 1.4, 10.1))
 plot(rnorm(10))
 par(mar=c(5.1, 4.1, 1.4, 2.1))
 plot(rnorm(10))
 plot(rnorm(10))

makes three plots roughly similar in size.

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Mon Sep 18 17:33:42 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 18 Sep 2000 17:33:42 +0200
Subject: [R] layout question
In-Reply-To: <Pine.LNX.4.10.10009181516560.1515-100000@localhost.localdomain>
References: <SIMEON.10009181428.H@maths-pc80.bristol.ac.uk>
	<Pine.LNX.4.10.10009181516560.1515-100000@localhost.localdomain>
Message-ID: <14790.13782.852374.374000@gargle.gargle.HOWL>

>>>>> "Bill" == Bill Simpson <wsi at gcal.ac.uk> writes:

    Bill> Thanks Zoltan for your help.
    >> You may want to use this:
    >> 
    >> nf <- layout(matrix(c(0,1,1,0,2,2,3,3),4,2,byrow=T),respect=T)
    Bill> I tried this however and it gave 3 plots centred one above
    Bill> another.  Not what I wanted. (Also the bottom two had wrong
    Bill> aspect ratio: longer than wide)

Zoltan accidentally swapped rows and columns "4,2" should have been "2,4".
Matthew's rbind() syntax is nicer anyway.

However, I also think that "respect = TRUE" may not be what you want.
This finally gives something like

  nf <- layout(rbind(c(0,1,1,0), c(2,2,3,3)))
  for(i in 1:3) plot(1:10, main = i)

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From david_finlayson at yahoo.com  Tue Sep 19 03:21:13 2000
From: david_finlayson at yahoo.com (David Finlayson)
Date: Mon, 18 Sep 2000 18:21:13 -0700 (PDT)
Subject: [R] on-line help failed for ultra 10 (solaris 8)
Message-ID: <20000919012113.20537.qmail@web1806.mail.yahoo.com>

New Sun workstation with Solaris 8.  installed the gnu
compilers and libraries off the Solaris CD and
compiled R successfully.  I don't have a tex
installation or makeinfo (sp?) so the manuals failed
to compile, but otherwise R appears to be working. 
Unfortunately the on-line help (text-only) isn't
working.  Is this related to the failed manuals?
Example:

>?help
Error in help("help") : No documentation for 'help' in
specified packages and libraries

I attempted to 'make help' per the INSTALL page, but
this led to the following errors:

flow# make help
Can't locate File/Basename.pm in @INC at
/opt/sfw/R/R-1.1.1/bin/build-help line 23.
BEGIN failed--compilation aborted at
/opt/sfw/R/R-1.1.1/bin/build-help line 23.
*** Error code 2
make: Fatal error: Command failed for target `DOCS'
Current working directory
/opt/sfw/R/R-1.1.1/src/library
*** Error code 1
make: Fatal error: Command failed for target `help'
Current working directory
/opt/sfw/R/R-1.1.1/src/library
*** Error code 1 (ignored)

Any help/advise for kick starting the help system
would be appreciated.

Thanks,

David Finlayson

=====
--
David Finlayson
david_finlayson at yahoo.com
University of Washington 
Box 351310 
Seattle, WA   98195 - 1310

__________________________________________________
Do You Yahoo!?
Yahoo! Mail - Free email you can access from anywhere!
http://mail.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jdhughes99 at mindspring.com  Tue Sep 19 07:24:34 2000
From: jdhughes99 at mindspring.com (joseph d. hughes)
Date: Tue, 19 Sep 2000 01:24:34 -0400
Subject: [R] porting splancs library to R
Message-ID: <000801c021f9$ec251380$caf0aec7@acer75>

I am trying to port the splancs library for S++ version 4.0 to R.  I have modified the original FORTRAN to use dllwrap/dlltool (e.g. removed common blocks).  I have been able to generate dll's (splancs.dll) using dllwrap/dlltool and Ming32 g77 with a -mdll switch.  As of yet I have not been able to generate a dll that can be loaded by R.

Does anyone out there have any suggestions.  An example of a successful MAKEFILE or dllwrap/dlltool batch file would be greatly appreciated.

Thanks in advance..

Joseph Hughes
jdhughes99 at mindspring.com

-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-help/attachments/20000919/a6e57030/attachment.html

From p.dalgaard at biostat.ku.dk  Tue Sep 19 08:03:32 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Sep 2000 08:03:32 +0200
Subject: [R] on-line help failed for ultra 10 (solaris 8)
In-Reply-To: David Finlayson's message of "Mon, 18 Sep 2000 18:21:13 -0700 (PDT)"
References: <20000919012113.20537.qmail@web1806.mail.yahoo.com>
Message-ID: <x2og1khqa3.fsf@blueberry.kubism.ku.dk>

David Finlayson <david_finlayson at yahoo.com> writes:

> New Sun workstation with Solaris 8.  installed the gnu
> compilers and libraries off the Solaris CD and
> compiled R successfully.  I don't have a tex
> installation or makeinfo (sp?) so the manuals failed
> to compile, but otherwise R appears to be working. 
> Unfortunately the on-line help (text-only) isn't
> working.  Is this related to the failed manuals?
> Example:
> 
> >?help
> Error in help("help") : No documentation for 'help' in
> specified packages and libraries
> 
> I attempted to 'make help' per the INSTALL page, but
> this led to the following errors:
> 
> flow# make help
> Can't locate File/Basename.pm in @INC at
> /opt/sfw/R/R-1.1.1/bin/build-help line 23.
> BEGIN failed--compilation aborted at
> /opt/sfw/R/R-1.1.1/bin/build-help line 23.

Looks like a problem with your perl installation. File/Basename.pm is
generally found in perl's lib directory, e.g. /usr/local/lib/perl5

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rsb at reclus.nhh.no  Tue Sep 19 10:27:17 2000
From: rsb at reclus.nhh.no (Roger Bivand)
Date: Tue, 19 Sep 2000 10:27:17 +0200 (CEST)
Subject: [R] porting splancs library to R
In-Reply-To: <000801c021f9$ec251380$caf0aec7@acer75>
Message-ID: <Pine.LNX.4.21.0009190953260.29827-100000@reclus.nhh.no>

On Tue, 19 Sep 2000, joseph d. hughes wrote:

> I am trying to port the splancs library for S++ version 4.0 to R.  I
> have modified the original FORTRAN to use dllwrap/dlltool (e.g.
> removed common blocks).  I have been able to generate dll's
> (splancs.dll) using dllwrap/dlltool and Ming32 g77 with a -mdll
> switch.  As of yet I have not been able to generate a dll that can be
> loaded by R.
> 
> Does anyone out there have any suggestions.  An example of a
> successful MAKEFILE or dllwrap/dlltool batch file would be greatly
> appreciated.
> 

(I'm assuming that this is for a Windows 9*/NT platform)

Both Nicholas Lewin-Koh <kohnicho at comp.nus.edu.sg> and I have compiled
splancs using the rw1011 standard compilation route with success - keeping
to the instructions given in the readme.packages file and using Brian
Ripley's portal works wonders. The R source package we used is on

ftp://reclus.nhh.no/pub/R/splancs-2.01-1.tar.gz 

but still has the original copyright texts, and has not been released to
CRAN. Barry Rowlingson has said:

"I'm happy to release the code under an 'unlimited distribution'
license. I'm not sure about copyright - as long as my name, email, and
web address is in there somewhere I'm happy. I think some mention of
zero-warranty shuold go in there too."

"Splancs is free. Take it, use it, modify it, but make sure anyone who
gets it can find out where it first came from easily enough."

but I'm not sure that that is enough for CRAN. I've added examples, test
data, and for successive releases of R check that "R CMD check splancs"
works. I have however taken out the uk() function and data. The data sets
are from Bailey and Gatrell's "Interactive Spatial Data Analysis", and
their distribution has been approved. If the licence issue is resolved,
then having the source and binaries on CRAN would help a fair number of
people who ask from time to time.

I will zip up the Windows NT4 binary later today, and put it on the ftp
server mentioned above.

Hope this helps,

Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Breiviksveien 40, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 93 93
e-mail: Roger.Bivand at nhh.no
and: Department of Geography and Regional Development, University of
Gdansk, al. Mar. J. Pilsudskiego 46, PL-81 378 Gdynia, Poland.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From guido at sirio.stat.unipd.it  Tue Sep 19 10:27:47 2000
From: guido at sirio.stat.unipd.it (Guido Masarotto)
Date: Tue, 19 Sep 2000 10:27:47 +0200
Subject: [R] porting splancs library to R
In-Reply-To: <000801c021f9$ec251380$caf0aec7@acer75>; from jdhughes99@mindspring.com on Tue, Sep 19, 2000 at 01:24:34AM -0400
References: <000801c021f9$ec251380$caf0aec7@acer75>
Message-ID: <20000919102747.B18288@sirio.stat.unipd.it>

On Tue, Sep 19, 2000 at 01:24:34AM -0400, joseph d. hughes wrote:
> I am trying to port the splancs library for S++ version 4.0 to R.  I have modified the original FORTRAN to use dllwrap/dlltool (e.g. removed common blocks).  I have been able to generate dll's (splancs.dll) using dllwrap/dlltool and Ming32 g77 with a -mdll switch.  As of yet I have not been able to generate a dll that can be loaded by R.
> 
> Does anyone out there have any suggestions.  An example of a successful MAKEFILE or dllwrap/dlltool batch file would be greatly appreciated.
> 

  Since you mention mingw32, I suppose you are on Windows.

  The Makefile used to build the 'binary for Windows' version of all
  the packages at CRAN/bin/Windows-NT/contrib (the directory is
  managed by Brian Ripley) is included in the rwXXXXsp.zip bit
  of the binary distribution. You should also look to file readme.packages
  included in the same archive.
  This assume that you have organized the source tree for the package
  as required by R. But this is easy and, in any case, required if
  you plan to make your port available. Details on the needed structure
  are in the R-exts manual (e.g. available in pdf form in rwXXXXd1.zip).

  guido

  (ps) BTW, can you provide more details. On which system are you working
       (OS, version)? Which version of the compiler are you using?
       Which errors do you get when you try to load splancs.dll?
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dsweeney at nmrc.ucc.ie  Tue Sep 19 11:16:12 2000
From: dsweeney at nmrc.ucc.ie (Dermot MacSweeney)
Date: Tue, 19 Sep 2000 10:16:12 +0100 (BST)
Subject: [R] Graphing measured and fitted distributions
Message-ID: <200009190916.KAA03665@achill.nmrc.ucc.ie>

Hi All,

What I would like to do is the following:

a) fit a probability function to a measured data set. This would be user 
specified, e.g., normal, lognormal, etc. 

and then

b) take the  probability function and plot it with the  histogram of the 
measured data set. This function would be displayed as a smooth curve. This 
would involve "re-sizing" the probability function to match that of the measured 
data set.

For those who are interested, I can send a postscript, pdf and a gif file to 
illustrate what I am looking to achieve (I have been advised not to send 
attachments to mailing lists).

Also I have a package which produces a jittered, one-dimensional scatter plot to 
show the relationship of the histogram to the original data (This is plotted 
underneath the histogram) .The X-axis contains the 
actual data values. The y-axis is entirely random. Is it also possible to do 
this in R. Again I can send the relevant files to interested parties on an 
individual basis.

Thanks in advance,
Dermot MacSweeney

**************************************************************

Dermot MacSweeney			NMRC, 
Email: dsweeney at nmrc.ucc.ie		Lee Maltings, 
Tel: +353 21 904178			Prospect Row, 
Fax: +353 21 270271			Cork, 
WWW: http://nmrc.ucc.ie			Ireland

**************************************************************


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Tue Sep 19 11:43:58 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 19 Sep 2000 11:43:58 +0200
Subject: [R] porting splancs library to R
In-Reply-To: <Pine.LNX.4.21.0009190953260.29827-100000@reclus.nhh.no>
References: <000801c021f9$ec251380$caf0aec7@acer75>
	<Pine.LNX.4.21.0009190953260.29827-100000@reclus.nhh.no>
Message-ID: <14791.13662.56715.151601@gargle.gargle.HOWL>

>>>>> "Roger" == Roger Bivand <rsb at reclus.nhh.no> writes:

    ...

    Roger> Both Nicholas Lewin-Koh <kohnicho at comp.nus.edu.sg> and I have
    Roger> compiled splancs using the rw1011 standard compilation route
    Roger> with success - keeping to the instructions given in the
    Roger> readme.packages file and using Brian Ripley's portal works
    Roger> wonders. The R source package we used is on

    Roger> ftp://reclus.nhh.no/pub/R/splancs-2.01-1.tar.gz

    Roger> but still has the original copyright texts, and has not been
    Roger> released to CRAN. Barry Rowlingson has said:

      BaRo> "I'm happy to release the code under an 'unlimited distribution'
      BaRo> license. I'm not sure about copyright - as long as my name,
      BaRo> email, and web address is in there somewhere I'm happy. I think
      BaRo> some mention of zero-warranty shuold go in there too."

      BaRo> "Splancs is free. Take it, use it, modify it, but make sure
      BaRo> anyone who gets it can find out where it first came from easily
      BaRo> enough."

    Roger> but I'm not sure that that is enough for CRAN. 

I think it is.
I even think you can release it under the GNU public License,
*adding* to a Copyright for Barry Rowlingson (and yourself if you want).

    Roger> I've added examples, test data, and for successive releases of R
    Roger> check that "R CMD check splancs" works.
sounds great.

    Roger> I have however taken out the uk() function and data. The data
    Roger> sets are from Bailey and Gatrell's "Interactive Spatial Data
    Roger> Analysis", and their distribution has been approved. 
??  they *did* approve the distribution of the uk() map data,
   but you haven't included it?  [I must have misunderstood ..].

    Roger> If the licence issue is resolved, then having the source and
    Roger> binaries on CRAN would help a fair number of people who ask from
    Roger> time to time.

    ....

yes!  and as said above, I think there's no real license problem left
from what I read above [but then I may be not enough strict ..].

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mehdi_ghafariyan at yahoo.com  Tue Sep 19 12:10:26 2000
From: mehdi_ghafariyan at yahoo.com (=?iso-8859-1?q?Mehdi=20Ghafariyan?=)
Date: Tue, 19 Sep 2000 03:10:26 -0700 (PDT)
Subject: [R] coerce mode list?
Message-ID: <20000919101026.11483.qmail@web3502.mail.yahoo.com>

Dear R/S users;
I'm using S+ version 4 Release 3.
and I am trying to do a simple calculation like the
following :

> X1<-X[1:5]
> W1<-W[1:5,1:5]
> X1
[1] 1.250000 1.292308 1.176471 0.937500 1.538462
> W1
  VAR00003 VAR00004 VAR00005 VAR00006 VAR00007 
1        0        1        0        1        0
2        1        0        0        0        1
3        0        0        0        0        1
4        1        0        0        0        0
5        0        1        1        0        0
> Xbar1 <- mean(X1)
> S1 <- (t(X1 - Xbar1)) %*% W1 %*% (X1 - Xbar1)
Error in as.double: Cannot coerce mode list to double:
.Data = list(..
Dumped
> S1 <- (t(as.double(X1 - Xbar1))) %*% W1 %*%
(as.double(X1 - Xbar1))
Error in as.double: Cannot coerce mode list to double:
.Data = list(..
Dumped


I don't understand the error message. Can anyone help?

Many thanks in advance.
                                Mehdi




__________________________________________________
Do You Yahoo!?
Send instant messages & get email alerts with Yahoo! Messenger.
http://im.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From iosu at ucc.ie  Tue Sep 19 21:21:25 2000
From: iosu at ucc.ie (Jesus Maria Frias Celayeta)
Date: Tue, 19 Sep 2000 12:21:25 -0700
Subject: [R] Running a batch of nls fits.
References: <4.3.2.7.2.20000913100803.00af4de8@127.0.0.1>
Message-ID: <39C7BCB5.C199FF84@ucc.ie>

Hi!
	I am running overnight in an R script a batch of nonlinear regressions where I
fit groups of nested models to a file of data and I am having some trouble that
perhaps you could help me: If for a certain model I don't have some good initial
estimates, the nls program outputs an error message and stops execution of the
script, leaving me the morning after with most of the work undone. Is there a
way to trap that error in R and make the script continue, so the day after I
will have all the fits but the ones that yielded errors (and then I can take
care of the faulty ones).

my best regards,

IOsu

-- 

Jesus Maria Frias Celayeta, PhD.		
Process Engineering Department
University College Cork,Cork
Ireland
phone: 353-21-903096
fax:   353-21-270249
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep 19 13:30:03 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Sep 2000 13:30:03 +0200
Subject: [R] Graphing measured and fitted distributions
In-Reply-To: Dermot MacSweeney's message of "Tue, 19 Sep 2000 10:16:12 +0100 (BST)"
References: <200009190916.KAA03665@achill.nmrc.ucc.ie>
Message-ID: <x28zsovcuc.fsf@blueberry.kubism.ku.dk>

Dermot MacSweeney <dsweeney at nmrc.ucc.ie> writes:

> Hi All,
> 
> What I would like to do is the following:
> 
> a) fit a probability function to a measured data set. This would be user 
> specified, e.g., normal, lognormal, etc. 
> 
> and then
> 
> b) take the  probability function and plot it with the  histogram of the 
> measured data set. This function would be displayed as a smooth curve. This 
> would involve "re-sizing" the probability function to match that of the measured 
> data set.

Try this for a start:

hist(rnorm(100),freq=F)
curve(dnorm(x),add=T)

This gets the units right. The main trouble is that the curve often
overshoots, so that you need to diddle the ylim and maybe also xlim on
the hist() call.

> Also I have a package which produces a jittered, one-dimensional scatter plot to 
> show the relationship of the histogram to the original data (This is plotted 
> underneath the histogram) .The X-axis contains the 
> actual data values. The y-axis is entirely random. Is it also possible to do 
> this in R. Again I can send the relevant files to interested parties on an 
> individual basis.

stripplot(x,method="jitter") for a starting point. To get the
coordination between the two plots make sure they have the same xlim
and use layout() to display them on top of eachother.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep 19 13:34:31 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Sep 2000 13:34:31 +0200
Subject: [R] coerce mode list?
In-Reply-To: Mehdi Ghafariyan's message of "Tue, 19 Sep 2000 03:10:26 -0700 (PDT)"
References: <20000919101026.11483.qmail@web3502.mail.yahoo.com>
Message-ID: <x266nsvcmw.fsf@blueberry.kubism.ku.dk>

Mehdi Ghafariyan <mehdi_ghafariyan at yahoo.com> writes:

> Dear R/S users;
> I'm using S+ version 4 Release 3.

Um, now what's wrong with S-news?

> and I am trying to do a simple calculation like the
> following :
> 
> > X1<-X[1:5]
> > W1<-W[1:5,1:5]
> > X1
> [1] 1.250000 1.292308 1.176471 0.937500 1.538462
> > W1
>   VAR00003 VAR00004 VAR00005 VAR00006 VAR00007 
> 1        0        1        0        1        0
> 2        1        0        0        0        1
> 3        0        0        0        0        1
> 4        1        0        0        0        0
> 5        0        1        1        0        0
> > Xbar1 <- mean(X1)
> > S1 <- (t(X1 - Xbar1)) %*% W1 %*% (X1 - Xbar1)
> Error in as.double: Cannot coerce mode list to double:
> .Data = list(..
> Dumped
> > S1 <- (t(as.double(X1 - Xbar1))) %*% W1 %*%
> (as.double(X1 - Xbar1))
> Error in as.double: Cannot coerce mode list to double:
> .Data = list(..
> Dumped
> 
> 
> I don't understand the error message. Can anyone help?

My guess would be that W and hence W1 is a data frame and not a matrix.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep 19 13:39:09 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Sep 2000 13:39:09 +0200
Subject: [R] Running a batch of nls fits.
In-Reply-To: Jesus Maria Frias Celayeta's message of "Tue, 19 Sep 2000 12:21:25 -0700"
References: <4.3.2.7.2.20000913100803.00af4de8@127.0.0.1> <39C7BCB5.C199FF84@ucc.ie>
Message-ID: <x23diwvcf6.fsf@blueberry.kubism.ku.dk>

Jesus Maria Frias Celayeta <iosu at ucc.ie> writes:

> script, leaving me the morning after with most of the work undone. Is there a
> way to trap that error in R and make the script continue, so the day after I
> will have all the fits but the ones that yielded errors (and then I can take
> care of the faulty ones).

Look at the help pages for try() and stop()

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From schmidtj at rcs.urz.tu-dresden.de  Tue Sep 19 13:46:33 2000
From: schmidtj at rcs.urz.tu-dresden.de (Jens Schmidt)
Date: Tue, 19 Sep 2000 13:46:33 +0200 (MEST)
Subject: [R] hide solid lines in symbols
In-Reply-To: <Pine.LNX.4.21.0009190953260.29827-100000@reclus.nhh.no>
Message-ID: <Pine.A41.4.21.0009191315480.15592-100000@rcs7.urz.tu-dresden.de>


Is it possible creating line plots with symbols so, that the solid line
doesn't appear in the symbol background. When I fill the symbols with
color the line is still visible behind the symbols (with 
plot.default(type="o"))

plot.default (type="b",lty=1) is not exactly what I want (the space
between lines and symbols).

Jens

--
Jens Schmidt                    TU Dresden -Inst. f. Hydrobiologie-
Tel. +49-(0)351-463-6915        Mommsenstrasse 13
Fax  +49-(0)351-463-7108        01062 Dresden

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jan_seidel at gmx.de  Tue Sep 19 14:09:03 2000
From: jan_seidel at gmx.de (Jan Seidel)
Date: Tue, 19 Sep 2000 14:09:03 +0200
Subject: [R] coerce mode list?
References: <20000919101026.11483.qmail@web3502.mail.yahoo.com>
Message-ID: <39C7575F.121A80B0@gmx.de>

Mehdi Ghafariyan schrieb:

[...]

> > X1<-X[1:5]
> > W1<-W[1:5,1:5]
> > X1
> [1] 1.250000 1.292308 1.176471 0.937500 1.538462
> > W1
>   VAR00003 VAR00004 VAR00005 VAR00006 VAR00007
> 1        0        1        0        1        0
> 2        1        0        0        0        1
> 3        0        0        0        0        1
> 4        1        0        0        0        0
> 5        0        1        1        0        0
> > Xbar1 <- mean(X1)
> > S1 <- (t(X1 - Xbar1)) %*% W1 %*% (X1 - Xbar1)
> Error in as.double: Cannot coerce mode list to double:
> .Data = list(..
> Dumped
> > S1 <- (t(as.double(X1 - Xbar1))) %*% W1 %*%
> (as.double(X1 - Xbar1))
> Error in as.double: Cannot coerce mode list to double:
> .Data = list(..
> Dumped
>
> I don't understand the error message. Can anyone help?

I guess the problem is you extracted W1 from a dataframe.
Try this:

> W1 <- as.matrix(W[1:5,1:5])
> S1 <- (t(X1 - Xbar1)) %*% W1 %*% (X1 - Xbar1)

Jan Seidel


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep 19 14:17:39 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Sep 2000 14:17:39 +0200
Subject: [R] hide solid lines in symbols
In-Reply-To: Jens Schmidt's message of "Tue, 19 Sep 2000 13:46:33 +0200 (MEST)"
References: <Pine.A41.4.21.0009191315480.15592-100000@rcs7.urz.tu-dresden.de>
Message-ID: <x2wvg8tw2k.fsf@blueberry.kubism.ku.dk>

Jens Schmidt <schmidtj at Rcs1.urz.tu-dresden.de> writes:

> Is it possible creating line plots with symbols so, that the solid line
> doesn't appear in the symbol background. When I fill the symbols with
> color the line is still visible behind the symbols (with 
> plot.default(type="o"))
> 
> plot.default (type="b",lty=1) is not exactly what I want (the space
> between lines and symbols).

Like this?

plot(1:5,type="o",pch=21,bg="white")

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mehdi_ghafariyan at yahoo.com  Tue Sep 19 14:54:11 2000
From: mehdi_ghafariyan at yahoo.com (=?iso-8859-1?q?Mehdi=20Ghafariyan?=)
Date: Tue, 19 Sep 2000 05:54:11 -0700 (PDT)
Subject: [R] coerce mode list?
Message-ID: <20000919125411.17069.qmail@web3505.mail.yahoo.com>

Hi all;
Thanks to those R users ,who kindly helped me with the
problem; W1 should have been defined as a matrix which
some people mentioned and as.matrix(W1) would do the
job. 

cheers 

Mehdi


> > ----------
> > From: 	Mehdi
> Ghafariyan[SMTP:mehdi_ghafariyan at yahoo.com]
> > Sent: 	Tuesday, September 19, 2000 6:10 AM
> > To: 	r-help at stat.math.ethz.ch
> > Subject: 	[R] coerce mode list?
> > 
> > Dear R/S users;
> > I'm using S+ version 4 Release 3.
> > and I am trying to do a simple calculation like
> the
> > following :
> > 
> > > X1<-X[1:5]
> > > W1<-W[1:5,1:5]
> > > X1
> > [1] 1.250000 1.292308 1.176471 0.937500 1.538462
> > > W1
> >   VAR00003 VAR00004 VAR00005 VAR00006 VAR00007 
> > 1        0        1        0        1        0
> > 2        1        0        0        0        1
> > 3        0        0        0        0        1
> > 4        1        0        0        0        0
> > 5        0        1        1        0        0
> > > Xbar1 <- mean(X1)
> > > S1 <- (t(X1 - Xbar1)) %*% W1 %*% (X1 - Xbar1)
> > Error in as.double: Cannot coerce mode list to
> double:
> > .Data = list(..
> > Dumped
> > > S1 <- (t(as.double(X1 - Xbar1))) %*% W1 %*%
> > (as.double(X1 - Xbar1))
> > Error in as.double: Cannot coerce mode list to
> double:
> > .Data = list(..
> > Dumped
> > 
> > 
> > I don't understand the error message. Can anyone
> help?
> > 
> > Many thanks in advance.
> >                                 Mehdi
> > 
> > 
> > 
> > 
> > __________________________________________________
> > Do You Yahoo!?
> > Send instant messages & get email alerts with
> Yahoo! Messenger.
> > http://im.yahoo.com/
> >
>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> > -.-.-
> > r-help mailing list -- Read
> > http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To:
> r-help-request at stat.math.ethz.ch
> >
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> > _._._
> > 


__________________________________________________
Do You Yahoo!?
Send instant messages & get email alerts with Yahoo! Messenger.
http://im.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Tue Sep 19 15:14:04 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Tue, 19 Sep 2000 15:14:04 +0200
Subject: [R] methods for interval-censored data
Message-ID: <3.0.32.20000919151403.008f9610@162.38.183.200>

Dear all,

Are there functions or packages in R that can handle interval-censored
data? I have looked in various packages (such as survival5 or event), but
it seems that only right-censored data can be analysed.

More generally, are there methods to analyse both interval-censored
observations and right-censored observations in the same data set?

Thanks in advance.

Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From schmidtj at rcs.urz.tu-dresden.de  Tue Sep 19 15:19:51 2000
From: schmidtj at rcs.urz.tu-dresden.de (Jens Schmidt)
Date: Tue, 19 Sep 2000 15:19:51 +0200 (MEST)
Subject: [R] hide solid lines in symbols
In-Reply-To: <x2wvg8tw2k.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.A41.4.21.0009191455440.15592-100000@rcs7.urz.tu-dresden.de>

On 19 Sep 2000, Peter Dalgaard BSA wrote:

> Jens Schmidt <schmidtj at Rcs1.urz.tu-dresden.de> writes:
> 
> > Is it possible creating line plots with symbols so, that the solid line
> > doesn't appear in the symbol background. When I fill the symbols with
[...]
> Like this
> plot(1:5,type="o",pch=21,bg="white")
Exactly this, thanks. It's quite simple. I think it was a kind of
beginner's confusion:

I always did
plot(1:5,type="n");points(1:5,pch=22,bg="white");lines(1:5,lty=1)
instaed of
plot(1:5,type="n");lines(1:5,lty=1);points(1:5,pch=22,bg="white")

Jens

--
Jens Schmidt                    TU Dresden -Inst. f. Hydrobiologie-
Tel. +49-(0)351-463-6915        Mommsenstrasse 13
Fax  +49-(0)351-463-7108        01062 Dresden


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jhoksane at ecology.helsinki.fi  Tue Sep 19 15:41:36 2000
From: jhoksane at ecology.helsinki.fi (Jari Oksanen)
Date: Tue, 19 Sep 2000 16:41:36 +0300
Subject: [R] Running a batch of nls fits. 
In-Reply-To: Message from Jesus Maria Frias Celayeta <iosu@ucc.ie> 
   of "Tue, 19 Sep 2000 12:21:25 PDT." <39C7BCB5.C199FF84@ucc.ie> 
Message-ID: <200009191341.QAA28482@khatkhat.ecology.helsinki.fi>


iosu at ucc.ie said:
>  there a way to trap that error in R and make the script continue, so
> the day after I will have all the fits but the ones that yielded
> errors (and then I can take care of the faulty ones).

Try `try' -- these R people are really smart.
-- 
Jari Oksanen - Dept Ecol Env Sci, Univ Helsinki, 15140 Lahti
Ph. +358 3 89220312, Fax -- 89220289, Mobile +358 40 5136529
jari.oksanen at helsinki.fi    http://www.helsinki.fi/~jhoksane



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Sep 19 16:35:11 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Tue, 19 Sep 2000 10:35:11 -0400 (EDT)
Subject: [R] hide solid lines in symbols
In-Reply-To: <Pine.A41.4.21.0009191315480.15592-100000@rcs7.urz.tu-dresden.de>
Message-ID: <Pine.LNX.4.10.10009191034050.28861-100000@bolker.zoo.ufl.edu>


  Two answers, both slightly klugey:

  1. use solid symbols instead of open symbols (e.g., pch=16 instead of
pch=1)

  2. use the solid-symbol equivalents to plot in the background color,
then use the open symbols

x <- runif(5)
plot(x,type="o",pch=16)
## or
plot(x,type="l")
points(x,pch=16,col=par("bg"))
points(x,pch=1)

On Tue, 19 Sep 2000, Jens Schmidt wrote:

> 
> Is it possible creating line plots with symbols so, that the solid line
> doesn't appear in the symbol background. When I fill the symbols with
> color the line is still visible behind the symbols (with 
> plot.default(type="o"))
> 
> plot.default (type="b",lty=1) is not exactly what I want (the space
> between lines and symbols).
> 
> Jens
> 
> --
> Jens Schmidt                    TU Dresden -Inst. f. Hydrobiologie-
> Tel. +49-(0)351-463-6915        Mommsenstrasse 13
> Fax  +49-(0)351-463-7108        01062 Dresden
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Sep 19 17:31:38 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 19 Sep 2000 10:31:38 -0500
Subject: [R] Running a batch of nls fits.
In-Reply-To: Peter Dalgaard BSA's message of "19 Sep 2000 13:39:09 +0200"
References: <4.3.2.7.2.20000913100803.00af4de8@127.0.0.1> <39C7BCB5.C199FF84@ucc.ie> <x23diwvcf6.fsf@blueberry.kubism.ku.dk>
Message-ID: <6r8zsoiejp.fsf@franz.stat.wisc.edu>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> Jesus Maria Frias Celayeta <iosu at ucc.ie> writes:
> 
> > script, leaving me the morning after with most of the work undone. Is there a
> > way to trap that error in R and make the script continue, so the day after I
> > will have all the fits but the ones that yielded errors (and then I can take
> > care of the faulty ones).
> 
> Look at the help pages for try() and stop()

Also, if you have the data configured as a single data frame with an
indicator of the group you can use the nlsList function from the nlme
library.  In the example below the algorithm fails to converge on the
1989P8 data but continues to fit the rest of the data sets.

 > library(nlme)
 > data(Soybean)
 > formula(Soybean)
 weight ~ Time | Plot
 > fm1 <- nlsList(weight ~ SSlogis(Time, Asym, xmid, scal), data = Soybean)
 Error in qr.solve(QR.B, cc) : singular matrix `a' in solve
 > fm1
 Call:
   Model: weight ~ SSlogis(Time, Asym, xmid, scal) | Plot 
    Data: Soybean 

 Coefficients:
              Asym      xmid      scal
 1988F4  15.151570  52.83412  5.176845
 1988F2  19.745419  56.57506  8.406567
 1988F1  20.338405  57.40242  9.604741
 1988F7  19.871186  56.16156  8.069266
 1988F5  30.648899  64.12997 11.262829
 1988F8  22.777015  59.33030  9.000630
 1988F6  23.293130  59.59761  9.718836
 1988F3  23.697107  56.42460  7.642384
 1988P1  17.300492  48.84945  6.362357
 1988P5  17.703753  51.27156  6.809089
 1988P4  24.008852  57.75117 11.744674
 1988P8  28.249548  62.98009 10.947115
 1988P7  27.485995  61.49839 10.177798
 1988P3  24.938993  56.32519  8.315910
 1988P2  36.660944  66.56061 11.916069
 1988P6 163.701280 104.97325 17.929666
 1989F6   8.509305  55.27330  8.856056
 1989F5   9.669089  51.26708  7.205921
 1989F4  11.247526  53.81049  6.486578
 1989F1  11.251046  56.62629  6.068117
 1989F2  11.233333  52.24016  7.016426
 1989F7  10.071396  51.37755  5.500164
 1989F8  10.609519  47.96772  5.960926
 1989F3  18.419562  66.12355  9.224761
 1989P7  15.471897  46.34313  5.393891
 1989P4  18.177517  57.18040  8.402093
 1989P6  20.498823  58.23817 10.613519
 1989P5  17.891596  54.05667  6.051020
 1989P1  21.683987  59.69306  9.972838
 1989P3  22.283744  53.39564  7.900587
 1989P2  28.296944  67.17502 12.523494
 1989P8         NA        NA        NA
 1990F2  19.459134  66.28547 13.157246
 1990F3  19.867936  58.27752 12.796292
 1990F4  27.435503  70.27178 14.560181
 1990F5  18.719500  51.27603  7.758447
 1990F1  19.790742  55.69341  9.617032
 1990F8  20.290447  55.54950  7.771090
 1990F7  19.835322  54.73622  6.792187
 1990F6  21.197129  54.56187  9.263620
 1990P8  18.513478  52.44788  8.580973
 1990P7  19.160790  54.80237 10.847308
 1990P3  19.198080  49.71494  9.322300
 1990P1  18.448387  47.91708  6.611851
 1990P6  17.689675  50.23027  6.626873
 1990P5  19.544897  51.15028  7.293158
 1990P2  25.787214  62.35962 11.656903
 1990P4  26.128960  61.19892 10.971568

 Degrees of freedom: 404 total; 263 residual
 Residual standard error: 1.043835
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Tue Sep 19 17:28:36 2000
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Tue, 19 Sep 2000 17:28:36 +0200 (MET DST)
Subject: [R] methods for interval-censored data
In-Reply-To: <3.0.32.20000919151403.008f9610@162.38.183.200> from "Emmanuel Paradis" at Sep 19, 2000 03:14:04 PM
Message-ID: <200009191528.RAA06669@alpha.luc.ac.be>

> 
> Dear all,
> 
> Are there functions or packages in R that can handle interval-censored
> data? I have looked in various packages (such as survival5 or event), but
> it seems that only right-censored data can be analysed.
> 
> More generally, are there methods to analyse both interval-censored
> observations and right-censored observations in the same data set?
> 

If you want parametric models, the gnlr and gnlr3 functions in my gnlm
library will do all this:
www.luc.ac.e/~jlindsey/rcode.html
  Jim

> Thanks in advance.
> 
> Emmanuel Paradis
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Tue Sep 19 18:00:37 2000
From: rossini at blindglobe.net (A.J. Rossini)
Date: 19 Sep 2000 09:00:37 -0700
Subject: [R] methods for interval-censored data
In-Reply-To: <3.0.32.20000919151403.008f9610@162.38.183.200>
 (Emmanuel Paradis's message of "Tue, 19 Sep 2000 15:14:04 +0200")
References: <3.0.32.20000919151403.008f9610@162.38.183.200>
Message-ID: <87aed41ie2.fsf@jeeves.blindglobe.net>

>>>>> "EP" == Emmanuel Paradis <paradis at isem.univ-montp2.fr> writes:


    EP> Dear all, Are there functions or packages in R that can handle
    EP> interval-censored data? I have looked in various packages
    EP> (such as survival5 or event), but it seems that only
    EP> right-censored data can be analysed.

What do you want to do?  1-sample? regression models?  hypothesis
testing?  This isn't clear. 

Also, what assumptions are you referring to?  Continuous examination
process, or discrete examination process?  

There aren't clear choices for fitting -- for the semiparametric
regression models, the properties of the many approaches for variance
estimation for regression parameters aren't well understood.

For parameteric models, Jim gave the answer and has a paper detailing
the characteristics of the approaches (Jim - did you ever publish
this?) 

    EP> More generally, are there methods to analyse both
    EP> interval-censored observations and right-censored observations
    EP> in the same data set?

All right censored observations are inherently interval censored, take
the interval (C,\infty).

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
BlindGlobe Networks (home/default)	rossini at blindglobe.net	
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org

FHCRC: M/Tu: 206-667-7025 (fax=4812) | Voicemail is pretty sketchy
CFAR:   W/F: 206-731-3647 (fax=3694) | Email is far better than phone
UW:    Th/F: 206-543-1044 (fax=3286) | Change last 4 digits of phone for fax
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Tue Sep 19 18:20:45 2000
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Tue, 19 Sep 2000 18:20:45 +0200 (MET DST)
Subject: [R] methods for interval-censored data
In-Reply-To: <87aed41ie2.fsf@jeeves.blindglobe.net> from "A.J. Rossini" at Sep 19, 2000 09:00:37 AM
Message-ID: <200009191620.SAA24739@alpha.luc.ac.be>

> 
> >>>>> "EP" == Emmanuel Paradis <paradis at isem.univ-montp2.fr> writes:
> 
> 
>     EP> Dear all, Are there functions or packages in R that can handle
>     EP> interval-censored data? I have looked in various packages
>     EP> (such as survival5 or event), but it seems that only
>     EP> right-censored data can be analysed.
> 
> What do you want to do?  1-sample? regression models?  hypothesis
> testing?  This isn't clear. 
> 
> Also, what assumptions are you referring to?  Continuous examination
> process, or discrete examination process?  
> 
> There aren't clear choices for fitting -- for the semiparametric
> regression models, the properties of the many approaches for variance
> estimation for regression parameters aren't well understood.
> 
> For parameteric models, Jim gave the answer and has a paper detailing
> the characteristics of the approaches (Jim - did you ever publish
> this?) 

Yes:
Lindsey, J.K. (1998) A study of interval censoring in parametric
regression models. Lifetime Data Analysis 4, 329-354. 
  Jim

> 
>     EP> More generally, are there methods to analyse both
>     EP> interval-censored observations and right-censored observations
>     EP> in the same data set?
> 
> All right censored observations are inherently interval censored, take
> the interval (C,\infty).
> 
> best,
> -tony
> 
> -- 
> A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
> BlindGlobe Networks (home/default)	rossini at blindglobe.net	
> UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
> FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org
> 
> FHCRC: M/Tu: 206-667-7025 (fax=4812) | Voicemail is pretty sketchy
> CFAR:   W/F: 206-731-3647 (fax=3694) | Email is far better than phone
> UW:    Th/F: 206-543-1044 (fax=3286) | Change last 4 digits of phone for fax
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From raetzel at Mathematik.Uni-Marburg.de  Tue Sep 19 18:47:39 2000
From: raetzel at Mathematik.Uni-Marburg.de (Dirk F. Raetzel)
Date: Tue, 19 Sep 2000 18:47:39 +0200 (MET DST)
Subject: [R] sample from contingency table
Message-ID: <Pine.GSO.4.21.0009191833160.21879-100000@algol>

Hello,

I have a multivariate (dim >= 3) discrete distribution
given by a contingency table from which I want to draw independent
random samples. The result should be a data.frame (or array) with each
column representing a dimension.

Before starting to hack some search tree with approbiate
transformations: Is there any built-in function I
have overseen or did anybody program such a function already?

Dirk



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sarthur at protogene.com  Tue Sep 19 19:41:22 2000
From: sarthur at protogene.com (Steve Arthur)
Date: Tue, 19 Sep 2000 10:41:22 -0700 (PDT)
Subject: [R] R-Java/Omegahet Interface
In-Reply-To: <x2ya0q6p05.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.21.0009191022280.1084-100000@crick.protogene.com>

Rrs,

According to the documentation written by Lang and Chambers, 

1) "One can interactively invoke Java methods from R and pass objects to
these methods."

2) "the Java interface provides a mechanism for creating, managing and
identifying persistent objects in the foreign language (Java) from R."

Which briefly means to me, the documentation describes conversions of Java
into R, for use within R.

Is the reverse true, where R objects can be used within Java programs?

Is their any documentation available to support this?

My naive answer is no, which is based on reading of the R-Java/Omegahat
Interface which emphasizes the former conversion.

All replies thanked in advance,

steve



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From xyzzy at speakeasy.org  Tue Sep 19 20:31:59 2000
From: xyzzy at speakeasy.org (Trent Piepho)
Date: Tue, 19 Sep 2000 11:31:59 -0700 (PDT)
Subject: [R] getting lines with non-rounded caps?
Message-ID: <Pine.LNX.4.04.10009191102250.6267-100000@xyzzy.dsl.speakeasy.net>

I'm trying to get a plot with wide lines that don't have rounded end caps. 
You can see the effect quite clearly with a plot like this:

plot(0:1)
lines(c(1.5,1.5),c(0,.5),lwd=20,col="red")
lines(c(1.5,1.5),c(.5,1),lwd=20,col="green")
abline(h=0)
abline(h=0.5)
abline(h=1)

The colored lines should be between the horizontal lines, but because of the
rounded end caps, they aren't.

Under X11, if I set lty to something like "F0", the end caps are turned off. 
Unfortunately, the "0" appears to get ignored, and the line style is the same
as "FF", i.e. 16 units of drawn line, then 16 units of space.

With the postscript device, lines styles like "FF" still get rounded end caps,
unlike X11.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pkleiber at honlab.nmfs.hawaii.edu  Tue Sep 19 20:40:37 2000
From: pkleiber at honlab.nmfs.hawaii.edu (Pierre Kleiber)
Date: Tue, 19 Sep 2000 08:40:37 -1000
Subject: [R] dev.print() bug?
Message-ID: <39C7B325.81A146A5@honlab.nmfs.hawaii.edu>

dev.print() seems to get confused when the graphics window is
resized as in the following:

   > plot(1,1)
   > dev.print()
   X11 
     2 
   > #---  resize graphics device window with mouse---
   > dev.print()
   Error in dev.print() : Object "hp" not found

Vital statistics:
   R : Copyright 2000, The R Development Core Team
   Version 1.1.1  (August 15, 2000)
   Linux Red Hat 6.1

I don't recall anything about this behavior in the recent chatter 
about dev.print(), and I didn't find it in the help archives.  
Has this been reported before?... and does anyone know of a 
work-around (besides keeping my hand off the mouse)?

   Thanks, Pierre
 
-- 
-----------------------------------------------------------------
Pierre Kleiber             Email: pkleiber at honlab.nmfs.hawaii.edu
Fishery Biologist                     Tel: 808 983-5399/737-7544
NOAA FISHERIES - Honolulu Laboratory         Fax: 808 983-2902
2570 Dole St., Honolulu, HI 96822-2396 
-----------------------------------------------------------------
 "God could have told Moses about galaxies and mitochondria and
  all.  But behold... It was good enough for government work."
-----------------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From datamanagement at email.com  Tue Sep 19 21:46:09 2000
From: datamanagement at email.com (a s)
Date: Tue, 19 Sep 2000 15:46:09 -0400 (EDT)
Subject: [R] Simple command
Message-ID: <382972374.969392769071.JavaMail.root@web168-ec.mail.com>

Is there an "execute" command such that:
execute(paste("X[3]<-5"))
or
execute(paste("anything"))
where "anything" is executed by R??

Thanks,

Alex Ahgarin


________________________________________________________________
Data Management
ISC Inc.
Washington, DC.


-----------------------------------------------
FREE! The World's Best Email Address @email.com
Reserve your name now at http://www.email.com


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep 19 21:59:21 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Sep 2000 21:59:21 +0200
Subject: [R] dev.print() bug?
In-Reply-To: Pierre Kleiber's message of "Tue, 19 Sep 2000 08:40:37 -1000"
References: <39C7B325.81A146A5@honlab.nmfs.hawaii.edu>
Message-ID: <x24s3ctap2.fsf@blueberry.kubism.ku.dk>

Pierre Kleiber <pkleiber at honlab.nmfs.hawaii.edu> writes:

> dev.print() seems to get confused when the graphics window is
> resized as in the following:
> 
>    > plot(1,1)
>    > dev.print()
>    X11 
>      2 
>    > #---  resize graphics device window with mouse---
>    > dev.print()
>    Error in dev.print() : Object "hp" not found
> 
> Vital statistics:
>    R : Copyright 2000, The R Development Core Team
>    Version 1.1.1  (August 15, 2000)
>    Linux Red Hat 6.1
> 
> I don't recall anything about this behavior in the recent chatter 
> about dev.print(), and I didn't find it in the help archives.  
> Has this been reported before?... and does anyone know of a 
> work-around (besides keeping my hand off the mouse)?

Hmm. Doesn't happen to me, but it would seem that hp in dev.print can
become unset if papersize=="letter". I think you may need a clause
like

        if (paper == "letter") {
            wp <- 8
            hp <- 11 - 0.5
        }

(The code in dev.print look like it could use a going over. There's
also a mysterious "horizontal" variable that seemingly gets set but
never used? The development version fixes a long-standing bug where a4
and legal were switched, but the other problems seem to be there still.)
-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep 19 22:49:23 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 19 Sep 2000 22:49:23 +0200
Subject: [R] Simple command
In-Reply-To: a s's message of "Tue, 19 Sep 2000 15:46:09 -0400 (EDT)"
References: <382972374.969392769071.JavaMail.root@web168-ec.mail.com>
Message-ID: <x2ya0ortt8.fsf@blueberry.kubism.ku.dk>

a s <datamanagement at email.com> writes:

> Is there an "execute" command such that:
> execute(paste("X[3]<-5"))
> or
> execute(paste("anything"))
> where "anything" is executed by R??

Erm. I'm not sure I get your direction, but it might be 

eval(parse(text="X[3]<-5"))

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hodgess at uhddx01.dt.uh.edu  Wed Sep 20 06:08:10 2000
From: hodgess at uhddx01.dt.uh.edu (Erin Hodgess)
Date: Tue, 19 Sep 2000 23:08:10 -0500 (CDT)
Subject: [R] portrait size
Message-ID: <200009200408.XAA13419@uhddx01.dt.uh.edu>

Dear R People:

How do you set the parameters in the plotting features
in order to get a "portrait" size graph, please?

R for windows 1.1.1

I tried par(fin)
par(pin)

and nothing seems to work so far.

Any help is much appreciated.

Sincerely,
Erin M. Hodgess, Ph.D.
Associate Professor
Department of Computer and Mathematical Sciences
University of Houston - Downtown
One Main Street 
Houston, TX 77002
e-mail: hodgess at uhddx01.dt.uh.edu



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep 20 08:21:30 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 20 Sep 2000 07:21:30 +0100 (BST)
Subject: [R] dev.print() bug?
In-Reply-To: <39C7B325.81A146A5@honlab.nmfs.hawaii.edu>
Message-ID: <Pine.GSO.4.05.10009200720400.393-100000@auk.stats>

On Tue, 19 Sep 2000, Pierre Kleiber wrote:

> dev.print() seems to get confused when the graphics window is
> resized as in the following:
> 
>    > plot(1,1)
>    > dev.print()
>    X11 
>      2 
>    > #---  resize graphics device window with mouse---
>    > dev.print()
>    Error in dev.print() : Object "hp" not found
> 
> Vital statistics:
>    R : Copyright 2000, The R Development Core Team
>    Version 1.1.1  (August 15, 2000)
>    Linux Red Hat 6.1
> 
> I don't recall anything about this behavior in the recent chatter 
> about dev.print(), and I didn't find it in the help archives.  
> Has this been reported before?... and does anyone know of a 
> work-around (besides keeping my hand off the mouse)?

In dev.print replace the line

        wh <- 10

by

        hp <- 10

It's a thinko ....


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From erdbruegge at statistik.uni-dortmund.de  Wed Sep 20 08:37:45 2000
From: erdbruegge at statistik.uni-dortmund.de (Martina =?iso-8859-1?Q?Erdbr=FCgge?=)
Date: Wed, 20 Sep 2000 08:37:45 +0200
Subject: [R] getting lines with non-rounded caps?
References: <Pine.LNX.4.04.10009191102250.6267-100000@xyzzy.dsl.speakeasy.net>
Message-ID: <39C85B39.BDD5F163@statistik.uni-dortmund.de>

Trent Piepho wrote:
> 
> I'm trying to get a plot with wide lines that don't have rounded end caps.
> You can see the effect quite clearly with a plot like this:
> 
> plot(0:1)
> lines(c(1.5,1.5),c(0,.5),lwd=20,col="red")
> lines(c(1.5,1.5),c(.5,1),lwd=20,col="green")
> abline(h=0)
> abline(h=0.5)
> abline(h=1)
> 
> The colored lines should be between the horizontal lines, but because of the
> rounded end caps, they aren't.
> 
> Under X11, if I set lty to something like "F0", the end caps are turned off.
> Unfortunately, the "0" appears to get ignored, and the line style is the same
> as "FF", i.e. 16 units of drawn line, then 16 units of space.
> 
> With the postscript device, lines styles like "FF" still get rounded end caps,
> unlike X11.


You could use e.g.

plot(0:1, type = "n")
polygon(x = c(1.48, 1.52, 1.52, 1.48, 1.48), y = c(0, 0, 0.5, 0.5, 0),
col = "red")
polygon(x = c(1.48, 1.52, 1.52, 1.48, 1.48), y = c(0.5, 0.5, 1, 1, 0.5),
col = "green")

to avoid rounded caps. Don't know whether that's what you want, but ...


Martina
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Regin.Reinert at gallup.dk.tnsofres.com  Wed Sep 20 08:53:20 2000
From: Regin.Reinert at gallup.dk.tnsofres.com (Regin Reinert)
Date: Wed, 20 Sep 2000 08:53:20 +0200
Subject: SV: [R] sample from contingency table
Message-ID: <7B86268F4A0CD311BBD80008C7B145BBCCC74B@exchange_01_dk.gallup.dk.tnsofres.com>

I have had the same problem and I wrote this function

rmulti <- function(n, size, p)
{
  NrDim <- length(p)
  if(NrDim<2) stop("The simulated variabel has to be at least
2-dimensional")
  res <- matrix(data=NA, nrow=n, ncol=NrDim)
  p <- p/sum(p)
  TempSize <- size
  for(i in 1:NrDim)
  {
    TempP <- p[i]/sum(p[i:NrDim])
    TempBin <- rbinom(n=n, size=TempSize, prob=TempP)
    TempSize <- TempSize-TempBin
    res[,i] <- TempBin
  }
  return(res)
}

# Then you can draw 10 samples like this, whith
# each row representing a contingency table

x <- as.matrix(1:4, nrow=2, ncol=2)
rmulti(10, sum(x), x)


Regin


-----Oprindelig meddelelse-----
Fra: Dirk F. Raetzel [mailto:raetzel at Mathematik.Uni-Marburg.de]
Sendt: 19. september 2000 18:48
Til: R-Help Mailing List
Emne: [R] sample from contingency table


Hello,

I have a multivariate (dim >= 3) discrete distribution
given by a contingency table from which I want to draw independent
random samples. The result should be a data.frame (or array) with each
column representing a dimension.

Before starting to hack some search tree with approbiate
transformations: Is there any built-in function I
have overseen or did anybody program such a function already?

Dirk



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From theis at statistik.uni-dortmund.de  Wed Sep 20 10:58:45 2000
From: theis at statistik.uni-dortmund.de (Winfried Theis)
Date: Wed, 20 Sep 2000 10:58:45 +0200 (MEST)
Subject: [R] portrait size
In-Reply-To: <200009200408.XAA13419@uhddx01.dt.uh.edu>
Message-ID: <XFMail.000920105845.theis@statistik.uni-dortmund.de>

Hello!
On 20-Sep-00 Erin Hodgess wrote:
> Dear R People:
> 
> How do you set the parameters in the plotting features
> in order to get a "portrait" size graph, please?
> 
> R for windows 1.1.1
> 
> I tried par(fin)
> par(pin)
> 
> and nothing seems to work so far.
> 
> Any help is much appreciated.
I gues you want a printout in portrait mode, then you have to specify
horizontal=F in the print command you are using and the size of the graphics is
specified there as well.

I hope this helps,

Winfried

----------------------------------
E-Mail: Winfried Theis <theis at statistik.uni-dortmund.de>
Date: 20-Sep-00
Time: 10:55:17
Dipl.-Math. Winfried Theis, Fachbereich Statistik, Graduiertenkolleg
"Angewandte Statistik"
Universität Dortmund, 44221 Dortmund
Tel.: +49-231-755-5903  FAX: +49-231-755-4387
----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From William.Venables at cmis.CSIRO.AU  Wed Sep 20 10:29:02 2000
From: William.Venables at cmis.CSIRO.AU (Bill Venables)
Date: Wed, 20 Sep 2000 18:29:02 +1000
Subject: SV: [R] sample from contingency table 
In-Reply-To: Your message of "Wed, 20 Sep 2000 08:53:20 +0200."
             <7B86268F4A0CD311BBD80008C7B145BBCCC74B@exchange_01_dk.gallup.dk.tnsofres.com> 
Message-ID: <200009200829.TAA00968@snowy.nsw.cmis.CSIRO.AU>


Regin Reinert writes:


> I have had the same problem and I wrote this function
> 
> rmulti <- function(n, size, p)
> {
>   NrDim <- length(p)
>   if(NrDim<2) stop("The simulated variabel has to be at least
> 2-dimensional")
>   res <- matrix(data=NA, nrow=n, ncol=NrDim)
>   p <- p/sum(p)
>   TempSize <- size
>   for(i in 1:NrDim)
>   {
>     TempP <- p[i]/sum(p[i:NrDim])
>     TempBin <- rbinom(n=n, size=TempSize, prob=TempP)
>     TempSize <- TempSize-TempBin
>     res[,i] <- TempBin
>   }
>   return(res)
> }
> 
> # Then you can draw 10 samples like this, whith
> # each row representing a contingency table
> 
> x <- as.matrix(1:4, nrow=2, ncol=2)
> rmulti(10, sum(x), x)
> 
> 
> Regin

Hey, hang on...  If I have understood the original question properly
what you have to do is to sample from the cells of a contingency table
with probabilities proportional to the frequencies in those cells.
Here is the original question:


> -----Oprindelig meddelelse-----
> Fra: Dirk F. Raetzel [mailto:raetzel at Mathematik.Uni-Marburg.de]
> Sendt: 19. september 2000 18:48
> Til: R-Help Mailing List
> Emne: [R] sample from contingency table
> 
> 
> Hello,
> 
> I have a multivariate (dim >= 3) discrete distribution
> given by a contingency table from which I want to draw independent
> random samples. The result should be a data.frame (or array) with each
> column representing a dimension.
> 
> Before starting to hack some search tree with approbiate
> transformations: Is there any built-in function I
> have overseen or did anybody program such a function already?
> 
> Dirk

I can't see why you would need a "search tree" for this problem
either.  Here is (what I think is) a very simple solution:

sampct <- function(n, Fr) {
# sample with replacement from a multivariate distribution
# defined by a contingency table
  if(!is.null(dfr <- dimnames(Fr)) &&
     prod(sapply(dfr, length)) == length(Fr))
    dfr <- expand.grid(dfr)
  else
    dfr <- expand.grid(lapply(dim(Fr), seq))
  dfr[sample(1:nrow(dfr), n, prob = Fr, rep = T), ]
}

Here n is the sample size and Fr the array of frequencies in the
table.  The result is an n x k data frame of cell indices where k is
the dimension of Fr.

It uses the fact that sample() can sample with replacement and with
probabilities proportional to the entries in a (non-negative) vector.
As usual there are a few little obscurities there to make it
interesting...

-- 
Bill Venables,      Statistician,     CMIS Environmetrics Project
CSIRO Marine Labs, PO Box 120, Cleveland, Qld,  AUSTRALIA.   4163
Tel: +61 7 3826 7251           Email: Bill.Venables at cmis.csiro.au    
Fax: +61 7 3826 7304      http://www.cmis.csiro.au/bill.venables/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Wed Sep 20 10:50:08 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Wed, 20 Sep 2000 10:50:08 +0200
Subject: [R] getting lines with non-rounded caps?
Message-ID: <3.0.32.20000920105008.008e9e00@162.38.183.200>

At 11:31 19/09/00 -0700, you wrote:
>I'm trying to get a plot with wide lines that don't have rounded end caps. 
>You can see the effect quite clearly with a plot like this:
>
>plot(0:1)
>lines(c(1.5,1.5),c(0,.5),lwd=20,col="red")
>lines(c(1.5,1.5),c(.5,1),lwd=20,col="green")
>abline(h=0)
>abline(h=0.5)
>abline(h=1)
>
>The colored lines should be between the horizontal lines, but because of the
>rounded end caps, they aren't.
>
>Under X11, if I set lty to something like "F0", the end caps are turned off. 
>Unfortunately, the "0" appears to get ignored, and the line style is the same
>as "FF", i.e. 16 units of drawn line, then 16 units of space.
>
>With the postscript device, lines styles like "FF" still get rounded end
caps,
>unlike X11.

Hi,

This is a behaviour I already noticed under Windows NT when using plot(...,
type="h", lwd=10), so that the thickness of the lines is expanded all
around their starting- and end-points, rather than only perpandicularly to
the lines (which was what I expected). A workaround for the example you
give is to use rect()

 thi <- 0.025
 plot(0:1)
 rect(1.5-thi, 0, 1.5+thi, 0.5, col="red", border="red")
 rect(1.5-thi, 0.5, 1.5+thi, 1, col="green", border="green")
 abline(h=0); abline(h=0.5); abline(h=1)


Emmanuel Paradis
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From raetzel at Mathematik.Uni-Marburg.de  Wed Sep 20 11:41:58 2000
From: raetzel at Mathematik.Uni-Marburg.de (Dirk F. Raetzel)
Date: Wed, 20 Sep 2000 11:41:58 +0200 (MET DST)
Subject: SV: [R] sample from contingency table 
In-Reply-To: <200009200829.TAA00968@snowy.nsw.cmis.CSIRO.AU>
Message-ID: <Pine.GSO.4.21.0009201133500.25139-100000@algol>

On Today, Bill Venables wrote:

> Hey, hang on...  If I have understood the original question properly
> what you have to do is to sample from the cells of a contingency table
> with probabilities proportional to the frequencies in those cells.
> Here is the original question:
yes.

> I can't see why you would need a "search tree" for this problem
> either.  Here is (what I think is) a very simple solution:
well: if there wouldn't have been an easy way to do it, I would have
followed the suggestions of 'Ripley, Stochastic Simulation, 3.3 Discrete
distributions' ...

> sampct <- function(n, Fr) {
> # sample with replacement from a multivariate distribution
> # defined by a contingency table
>   if(!is.null(dfr <- dimnames(Fr)) &&
>      prod(sapply(dfr, length)) == length(Fr))
>     dfr <- expand.grid(dfr)
>   else
>     dfr <- expand.grid(lapply(dim(Fr), seq))
>   dfr[sample(1:nrow(dfr), n, prob = Fr, rep = T), ]
> }
This is exactly what I was looking for: Both from the result and from the
clever way of programming it. [Even so using sample() quite often, I did
not see the (a posteriori) obvious connection] 

Thanks,

Dirk

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep 20 12:16:59 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 20 Sep 2000 11:16:59 +0100 (BST)
Subject: [R] getting lines with non-rounded caps?
Message-ID: <200009201016.LAA20160@toucan.stats.ox.ac.uk>


> Date: Wed, 20 Sep 2000 10:50:08 +0200
> To: Trent Piepho <xyzzy at speakeasy.org>
> From: Emmanuel Paradis <paradis at isem.univ-montp2.fr>
> Subject: Re: [R] getting lines with non-rounded caps?
> Cc: r-help at stat.math.ethz.ch
> 
> At 11:31 19/09/00 -0700, you wrote:
> >I'm trying to get a plot with wide lines that don't have rounded end caps. 
> >You can see the effect quite clearly with a plot like this:
> >
> >plot(0:1)
> >lines(c(1.5,1.5),c(0,.5),lwd=20,col="red")
> >lines(c(1.5,1.5),c(.5,1),lwd=20,col="green")
> >abline(h=0)
> >abline(h=0.5)
> >abline(h=1)
> >
> >The colored lines should be between the horizontal lines, but because of the
> >rounded end caps, they aren't.
> >
> >Under X11, if I set lty to something like "F0", the end caps are turned off. 
> >Unfortunately, the "0" appears to get ignored, and the line style is the same
> >as "FF", i.e. 16 units of drawn line, then 16 units of space.
> >
> >With the postscript device, lines styles like "FF" still get rounded end
> caps,
> >unlike X11.
> 
> Hi,
> 
> This is a behaviour I already noticed under Windows NT when using plot(...,
> type="h", lwd=10), so that the thickness of the lines is expanded all
> around their starting- and end-points, rather than only perpandicularly to
> the lines (which was what I expected). A workaround for the example you
> give is to use rect()

It may be what you expected, but it is not what normally happens in
computer graphics.  The idea is that the line is drawn with a round pen
of radius lwd.  If you use a flat-ended pen, you get problems when a
line changes direction discontinuously (and polylines do), as the
line appears half-broken on the outside.

PostScript has different options for the internal changes of
direction (setlinejoin) and the ends (setlinecap).  So does X11, and I
see that the devX11 device uses JoinRound, and CapRound if lty=0
otherwise CapButt.

Is there a case for adding cap-style and join-style to the line type options?
I am not sure if all the devices could support them.  In particular,
I don't know if it is possible to achieve different internal and
end effects under the Windows graphics model.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Wed Sep 20 10:34:32 2000
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Wed, 20 Sep 2000 09:34:32 +0100
Subject: [R] Simple command
In-Reply-To: <382972374.969392769071.JavaMail.root@web168-ec.mail.com>
References: <382972374.969392769071.JavaMail.root@web168-ec.mail.com>
Message-ID: <wbRUOCAYaHy5Ew7J@myatt.demon.co.uk>

a s <datamanagement at email.com> writes:
>Is there an "execute" command such that:
>execute(paste("X[3]<-5"))
>or
>execute(paste("anything"))
>where "anything" is executed by R??

That is done with eval(parse(text = "<this is the command>")) as in:

        example.r.command <- "x[3] <- 5"
        eval(parse(text = example.r.command))

or just:

        eval(parse(text = "x[3] <- 5"))


Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bhm at math.uio.no  Wed Sep 20 13:24:39 2000
From: bhm at math.uio.no (=?iso-8859-1?q?Bj=F8rn-Helge_Mevik?=)
Date: 20 Sep 2000 13:24:39 +0200
Subject: [R] Image analysis in R?
Message-ID: <s3svgvrs3uw.fsf@janus.uio.no>

As far as I can tell, there are no facilities in the "base" R for image
analysis.  Is there any extension or package for R that implements
image analysis?  I'm thinking of features such as

o Reading and writing image files,
o displaying indexed or "true color" images,
o resizing, cropping, etc, of images,
o filters for manipulating images (smoothing, edge detection, etc)
o feature extraction

-- 
Bj?rn-Helge Mevik  <bhm at math.uio.no>
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rossini at blindglobe.net  Wed Sep 20 14:12:56 2000
From: rossini at blindglobe.net (A.J. Rossini)
Date: 20 Sep 2000 05:12:56 -0700
Subject: [R] Image analysis in R?
In-Reply-To: <s3svgvrs3uw.fsf@janus.uio.no> (=?ISO-8859-1?Q?Bj=F8rn-Helge?=
 Mevik's message of "20 Sep 2000 13:24:39 +0200")
References: <s3svgvrs3uw.fsf@janus.uio.no>
Message-ID: <87u2bb6z3r.fsf@jeeves.blindglobe.net>

>>>>> "rM" == rn-Helge Mevik <Bj> writes:

    rM> As far as I can tell, there are no facilities in the "base" R
    rM> for image analysis.  Is there any extension or package for R
    rM> that implements image analysis?  I'm thinking of features such
    rM> as

    rM> o Reading and writing image files, o displaying indexed or
    rM> "true color" images, o resizing, cropping, etc, of images, o
    rM> filters for manipulating images (smoothing, edge detection,
    rM> etc) o feature extraction

One approach is to use ImageJ (from NIH) for the analysis, and write
backend code to extract the data into R using the RJava interface and
a bit of coding.  Some people here are working on that approach for
cell/spot-counting analyses.

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
BlindGlobe Networks (home/default)	rossini at blindglobe.net	
UW Biostat/Center for AIDS Research	rossini at u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini at scharp.org

FHCRC: M/Tu: 206-667-7025 (fax=4812) | Voicemail is pretty sketchy
CFAR:   W/F: 206-731-3647 (fax=3694) | Email is far better than phone
UW:    Th/F: 206-543-1044 (fax=3286) | Change last 4 digits of phone for fax
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Wed Sep 20 14:47:30 2000
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Wed, 20 Sep 2000 12:47:30 GMT
Subject: [R] getting lines with non-rounded caps?
In-Reply-To: <200009201016.LAA20160@toucan.stats.ox.ac.uk>
References: <200009201016.LAA20160@toucan.stats.ox.ac.uk>
Message-ID: <39cbaff8.1383360@smtp1.sympatico.ca>

On Wed, 20 Sep 2000 11:16:59 +0100 (BST), Prof Brian Ripley
<ripley at stats.ox.ac.uk> wrote:

>I don't know if it is possible to achieve different internal and
>end effects under the Windows graphics model.

It apparently is.  Here's something from the Windows help on
ExtCreatePen:

>The end cap is only specified for geometric pens. The end cap can be one of the following values: 
>
>End cap	Description
>PS_ENDCAP_ROUND	End caps are round.
>PS_ENDCAP_SQUARE	End caps are square.
>PS_ENDCAP_FLAT	End caps are flat.
>The join is only specified for geometric pens. The join can be one of the following values: 
>
>Line join	Description
>PS_JOIN_BEVEL	Joins are beveled.
>PS_JOIN_MITER	Joins are mitered when they are within the current limit set by the SetMiterLimit function. If it exceeds this limit, the join is beveled.
>PS_JOIN_ROUND	Joins are round.
>Windows 95 only: The PS_ENDCAP_ROUND, PS_ENDCAP_SQUARE, PS_ENDCAP_FLAT, PS_JOIN_BEVEL, PS_JOIN_MITER, and PS_JOIN_ROUND styles are supported only for geometric pens when used to draw paths.

I've never modified these, so I don't know how well they work.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Wed Sep 20 15:10:13 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Wed, 20 Sep 2000 09:10:13 -0400
Subject: [R] getting lines with non-rounded caps?
References: <200009201016.LAA20160@toucan.stats.ox.ac.uk>
Message-ID: <008301c02304$1db86900$0201a8c0@Workgroup>

Since the guy wants flat ends wouldn't it be simpler and more portable to
use directly filled rectangles (rect) instead of lines?

Just a thought

Yves Gauvreau


----- Original Message -----
From: "Prof Brian Ripley" <ripley at stats.ox.ac.uk>
To: <xyzzy at speakeasy.org>; <paradis at isem.univ-montp2.fr>
Cc: <r-help at stat.math.ethz.ch>
Sent: Wednesday, September 20, 2000 6:16 AM
Subject: Re: [R] getting lines with non-rounded caps?


>
> > Date: Wed, 20 Sep 2000 10:50:08 +0200
> > To: Trent Piepho <xyzzy at speakeasy.org>
> > From: Emmanuel Paradis <paradis at isem.univ-montp2.fr>
> > Subject: Re: [R] getting lines with non-rounded caps?
> > Cc: r-help at stat.math.ethz.ch
> >
> > At 11:31 19/09/00 -0700, you wrote:
> > >I'm trying to get a plot with wide lines that don't have rounded end
caps.
> > >You can see the effect quite clearly with a plot like this:
> > >
> > >plot(0:1)
> > >lines(c(1.5,1.5),c(0,.5),lwd=20,col="red")
> > >lines(c(1.5,1.5),c(.5,1),lwd=20,col="green")
> > >abline(h=0)
> > >abline(h=0.5)
> > >abline(h=1)
> > >
> > >The colored lines should be between the horizontal lines, but because
of the
> > >rounded end caps, they aren't.
> > >
> > >Under X11, if I set lty to something like "F0", the end caps are turned
off.
> > >Unfortunately, the "0" appears to get ignored, and the line style is
the same
> > >as "FF", i.e. 16 units of drawn line, then 16 units of space.
> > >
> > >With the postscript device, lines styles like "FF" still get rounded
end
> > caps,
> > >unlike X11.
> >
> > Hi,
> >
> > This is a behaviour I already noticed under Windows NT when using
plot(...,
> > type="h", lwd=10), so that the thickness of the lines is expanded all
> > around their starting- and end-points, rather than only perpandicularly
to
> > the lines (which was what I expected). A workaround for the example you
> > give is to use rect()
>
> It may be what you expected, but it is not what normally happens in
> computer graphics.  The idea is that the line is drawn with a round pen
> of radius lwd.  If you use a flat-ended pen, you get problems when a
> line changes direction discontinuously (and polylines do), as the
> line appears half-broken on the outside.
>
> PostScript has different options for the internal changes of
> direction (setlinejoin) and the ends (setlinecap).  So does X11, and I
> see that the devX11 device uses JoinRound, and CapRound if lty=0
> otherwise CapButt.
>
> Is there a case for adding cap-style and join-style to the line type
options?
> I am not sure if all the devices could support them.  In particular,
> I don't know if it is possible to achieve different internal and
> end effects under the Windows graphics model.
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Wed Sep 20 15:20:36 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Wed, 20 Sep 2000 14:20:36 +0100 (BST)
Subject: [R] integration in R?
Message-ID: <Pine.LNX.4.10.10009201409080.4300-100000@localhost.localdomain>

I have the following problem.

   inf
p= Int  [dnorm(x-d) * pnorm(x) ^ (m-1)]  dx
  -inf

Given p and m, I want to find d. For example,

p	m	d
.9	2	1.81

Is there a way to solve this problem in R? Ideally I would have a
function with arguments p and m, and output d.

Thanks very much for any help.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep 20 16:20:53 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 20 Sep 2000 15:20:53 +0100 (BST)
Subject: [R] getting lines with non-rounded caps?
In-Reply-To: <008301c02304$1db86900$0201a8c0@Workgroup>
Message-ID: <Pine.GSO.4.05.10009201520100.26619-100000@auk.stats>

On Wed, 20 Sep 2000, Yves Gauvreau wrote:

> Since the guy wants flat ends wouldn't it be simpler and more portable to
> use directly filled rectangles (rect) instead of lines?

You can't join rectangles together, which is why I wrote a long
explanation.

> 
> Just a thought
> 
> Yves Gauvreau
> 
> 
> ----- Original Message -----
> From: "Prof Brian Ripley" <ripley at stats.ox.ac.uk>
> To: <xyzzy at speakeasy.org>; <paradis at isem.univ-montp2.fr>
> Cc: <r-help at stat.math.ethz.ch>
> Sent: Wednesday, September 20, 2000 6:16 AM
> Subject: Re: [R] getting lines with non-rounded caps?
> 
> 
> >
> > > Date: Wed, 20 Sep 2000 10:50:08 +0200
> > > To: Trent Piepho <xyzzy at speakeasy.org>
> > > From: Emmanuel Paradis <paradis at isem.univ-montp2.fr>
> > > Subject: Re: [R] getting lines with non-rounded caps?
> > > Cc: r-help at stat.math.ethz.ch
> > >
> > > At 11:31 19/09/00 -0700, you wrote:
> > > >I'm trying to get a plot with wide lines that don't have rounded end
> caps.
> > > >You can see the effect quite clearly with a plot like this:
> > > >
> > > >plot(0:1)
> > > >lines(c(1.5,1.5),c(0,.5),lwd=20,col="red")
> > > >lines(c(1.5,1.5),c(.5,1),lwd=20,col="green")
> > > >abline(h=0)
> > > >abline(h=0.5)
> > > >abline(h=1)
> > > >
> > > >The colored lines should be between the horizontal lines, but because
> of the
> > > >rounded end caps, they aren't.
> > > >
> > > >Under X11, if I set lty to something like "F0", the end caps are turned
> off.
> > > >Unfortunately, the "0" appears to get ignored, and the line style is
> the same
> > > >as "FF", i.e. 16 units of drawn line, then 16 units of space.
> > > >
> > > >With the postscript device, lines styles like "FF" still get rounded
> end
> > > caps,
> > > >unlike X11.
> > >
> > > Hi,
> > >
> > > This is a behaviour I already noticed under Windows NT when using
> plot(...,
> > > type="h", lwd=10), so that the thickness of the lines is expanded all
> > > around their starting- and end-points, rather than only perpandicularly
> to
> > > the lines (which was what I expected). A workaround for the example you
> > > give is to use rect()
> >
> > It may be what you expected, but it is not what normally happens in
> > computer graphics.  The idea is that the line is drawn with a round pen
> > of radius lwd.  If you use a flat-ended pen, you get problems when a
> > line changes direction discontinuously (and polylines do), as the
> > line appears half-broken on the outside.
> >
> > PostScript has different options for the internal changes of
> > direction (setlinejoin) and the ends (setlinecap).  So does X11, and I
> > see that the devX11 device uses JoinRound, and CapRound if lty=0
> > otherwise CapButt.
> >
> > Is there a case for adding cap-style and join-style to the line type
> options?
> > I am not sure if all the devices could support them.  In particular,
> > I don't know if it is possible to achieve different internal and
> > end effects under the Windows graphics model.
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272860 (secr)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
> > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
> -.-.-
> > r-help mailing list -- Read
> http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> > Send "info", "help", or "[un]subscribe"
> > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> >
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
> _._
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Sep 20 18:21:28 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 20 Sep 2000 09:21:28 -0700 (PDT)
Subject: [R] methods for interval-censored data
In-Reply-To: <3.0.32.20000919151403.008f9610@162.38.183.200>
Message-ID: <Pine.GSO.4.21.0009200918120.10332-100000@atlas.biostat.washington.edu>

On Tue, 19 Sep 2000, Emmanuel Paradis wrote:

> Dear all,
> 
> Are there functions or packages in R that can handle interval-censored
> data? I have looked in various packages (such as survival5 or event), but
> it seems that only right-censored data can be analysed.

survival5 can fit parametric models to interval-censored data, but not
semiparametric models. There is also an example in
 survival5/Examples/test/doturnbull.s 
of a function to estimate the survival function for interval censored
data. Not much else.

	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Wed Sep 20 18:31:02 2000
From: plummer at iarc.fr (Martyn Plummer)
Date: Wed, 20 Sep 2000 18:31:02 +0200 (CEST)
Subject: [R] integration in R?
In-Reply-To: <Pine.LNX.4.10.10009201409080.4300-100000@localhost.localdomain>
Message-ID: <XFMail.000920183102.plummer@iarc.fr>

On 20-Sep-00 Bill Simpson wrote:
> I have the following problem.
> 
>    inf
> p= Int  [dnorm(x-d) * pnorm(x) ^ (m-1)]  dx
>   -inf
> 
> Given p and m, I want to find d. For example,
> 
> p     m       d
> .9    2       1.81
> 
> Is there a way to solve this problem in R? Ideally I would have a
> function with arguments p and m, and output d.

This function returns an approximation to the integral, which
should work well.

foo <- function(d, mm, N=10000, llim=-5, ulim=5)
{
   x <- seq(from=llim, to=ulim, length=N)
   mean(dnorm(x) * pnorm(x+d)^(mm-1)) * (ulim - llim)
}

To solve the inverse problem, create another function that returns
zero at the solution to your equation

bar <- function(d, p, mm, N=10000, llim=-5, ulim=5) {
   x <- seq(from=llim, to=ulim, length=N)
   p - mean(dnorm(x) * pnorm(x+d)^(mm-1)) * (ulim - llim)
}

and then feed it into uniroot()

R> uniroot(bar, interval = c(0,5), p=0.9, mm=2)
$root
[1] 1.81312

$f.root
[1] -5.655575e-07

$iter
[1] 7

$estim.prec
[1] 6.103516e-05

I had to rename the argument "m" to "mm" to get uniroot() to accept this
function. Without this, the "m" argument is skimmed off as the "maxiter"
parameter of uniroot(), and is not passed on to bar().

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hammour at msn.com  Wed Sep 20 19:00:52 2000
From: hammour at msn.com (Abu Hammour)
Date: Wed, 20 Sep 2000 13:00:52 -0400
Subject: [R] lag() and lm()
Message-ID: <000701c02324$586ff160$aa88173f@lawrence>

Hi,
I am using R interactively for estimation and even data manipulation. I want
to use lag() function within lm() function in a way looks like:

mymodel<- lm(y~x+I(lag(y,-1)-1, data=anydata)

What I get is always perfect fit; (that is, coefficient=1) which is not
true.

If the model looks like
mymodel<- lm(y~z+x+I(lag(x,-1)-1, data=anydata)

summary returns only one coefficient for x and I(lag(x,-1))

Is there any way to do both of these models without going through long
process of transforming of x and y and making ts.intersect before running
lm() function.

Thank you,
Ahmad Abu Hammour



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gfeeney at hawaii.edu  Wed Sep 20 18:39:40 2000
From: gfeeney at hawaii.edu (Griffith Feeney)
Date: Wed, 20 Sep 2000 06:39:40 -1000
Subject: [R] 'fixing' list components
Message-ID: <3.0.5.32.20000920063940.00863a30@pop-server.hawaii.edu>

I have a list x (say) that will contain many inputs to and outputs a model.

x$input1 <- assign.input1(parameter1, parameter2)

is one way to assign input1, but it would be neater to be able to do

assign.input1(x, parameter1, parameter2)

Is this a good idea? If so, what is a good way to do it?


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep 20 19:22:43 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 20 Sep 2000 18:22:43 +0100 (BST)
Subject: [R] lag() and lm()
In-Reply-To: <000701c02324$586ff160$aa88173f@lawrence>
Message-ID: <Pine.GSO.4.05.10009201810480.2544-100000@auk.stats>

On Wed, 20 Sep 2000, Abu Hammour wrote:

> Hi,
> I am using R interactively for estimation and even data manipulation. I want
> to use lag() function within lm() function in a way looks like:
> 
> mymodel<- lm(y~x+I(lag(y,-1)-1, data=anydata)
> 
> What I get is always perfect fit; (that is, coefficient=1) which is not
> true.

But it *is* true: the model is not what you meant I suspect.  The problem
is that lag(y, -1) is a time series with an altered time base, and as a
regressor it is unchanged from y. If you really mean this as a model, you
have random regressors and least squares is inappropriate. Use arima0 to
fit it.

> If the model looks like
> mymodel<- lm(y~z+x+I(lag(x,-1)-1, data=anydata)
                                ^)
> summary returns only one coefficient for x and I(lag(x,-1))

Actually, if drops the third term as completely aliased with the
second.  You need x to be a time series to have any hope here.

anydata <- data.frame(x = ts(rnorm(100)), y = rnorm(100), z = rnorm(100))
mymodel<- lm(y ~ z + cbind(x, lag(x,-1))[-101,] - 1, data=anydata)

might do what you want.

> Is there any way to do both of these models without going through long
> process of transforming of x and y and making ts.intersect before running
> lm() function.

See above.  It's a short process, but you do need to apply time-series
functions to time series.

Perhaps simpler is to shift the series manually:

mymodel<- lm(y ~ z + x + c(NA, x[-100]) - 1, data=anydata)

or use embed if you want natural (positive) lags.



-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Wed Sep 20 19:28:58 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Wed, 20 Sep 2000 10:28:58 -0700 (PDT)
Subject: [R] 'fixing' list components
In-Reply-To: <3.0.5.32.20000920063940.00863a30@pop-server.hawaii.edu>
Message-ID: <Pine.GSO.4.21.0009201013420.10332-100000@atlas.biostat.washington.edu>

On Wed, 20 Sep 2000, Griffith Feeney wrote:

> I have a list x (say) that will contain many inputs to and outputs a model.
> 
> x$input1 <- assign.input1(parameter1, parameter2)
> 
> is one way to assign input1, but it would be neater to be able to do
> 
> assign.input1(x, parameter1, parameter2)
> 
> Is this a good idea? If so, what is a good way to do it?

No.

You can do it using assign() or eval() in the parent frame, but 
  a) this is often a sign that what you're doing is a bad idea
  b) the syntax suggests that something like
 	assign.input1(foo(y),parameter1,parameter2)
    should work, but it won't.
  c) the code will  just be a complicated and fragile way of constructing
the command
	x<-assign.input(parameter1,parameter2) 
  anyway
  d) It will be particularly tricky since the assign() function, the
obvious way of doing it, doesn't handle things like "x$input1" the way you
would expect.


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle
	

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wanna-b at currantbun.com  Wed Sep 20 17:57:30 2000
From: wanna-b at currantbun.com (Will Critchlow)
Date: Wed, 20 Sep 2000 16:57:30 +0100
Subject: [R] Finding vector entries
Message-ID: <000201c0234e$62b934e0$659001d4@pc>

I am just starting to learn R and am finding it to be very powerful.

I want to be able to analyse large vectors of data using boxplot to find
outliers in the following way:

boxplot(x, range=1)$out

This works fine, returning the values which lie outside the whisker but I
then want to know at what point in the vector, x the outliers lie (in other
words, I want to find the index of the vector).

Is there an easy way to do this? Either by using a different option in
boxplot or by searching x for those specific values afterwards.

Thanks

Will


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Thu Sep 21 04:39:08 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Wed, 20 Sep 2000 22:39:08 -0400 (EDT)
Subject: [R] Finding vector entries
In-Reply-To: <000201c0234e$62b934e0$659001d4@pc>
Message-ID: <Pine.LNX.4.10.10009202238390.5340-100000@bolker.zoo.ufl.edu>


  Use which().
  which(x==boxplot(x,range=1)$out)

On Wed, 20 Sep 2000, Will Critchlow wrote:

> I am just starting to learn R and am finding it to be very powerful.
> 
> I want to be able to analyse large vectors of data using boxplot to find
> outliers in the following way:
> 
> boxplot(x, range=1)$out
> 
> This works fine, returning the values which lie outside the whisker but I
> then want to know at what point in the vector, x the outliers lie (in other
> words, I want to find the index of the vector).
> 
> Is there an easy way to do this? Either by using a different option in
> boxplot or by searching x for those specific values afterwards.
> 
> Thanks
> 
> Will
> 
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From holzer at stat.math.ethz.ch  Thu Sep 21 08:41:28 2000
From: holzer at stat.math.ethz.ch (Peter Holzer)
Date: Thu, 21 Sep 2000 08:41:28 +0200
Subject: [R] Image analysis in R?
In-Reply-To: <s3svgvrs3uw.fsf@janus.uio.no>
References: <s3svgvrs3uw.fsf@janus.uio.no>
Message-ID: <14793.44440.145672.565818@gargle.gargle.HOWL>

Hello Bjorn

I have written some functions for personal use. They allow to read and
write ppm, pgm and pbm images. But I haven't put them in a package, it's
just C and R code.

I think that generally you will need to use C or Fortran or something else
but not R for most manipulations of images (e.g. filtering), so you might
just want to write an R interface to existing code. My experience
is that using R code directly will make things prohibitively slow if images
get large. On the other hand I appreciate writing the code first in R, where
the results are easy to check, and then transform it to C.

For resizing, cropping etc. I recommend `xv'.

Cheers, Peter


=?iso-8859-1?Q?Bj=F8rn-Helge=5FMevik?= writes:
 > As far as I can tell, there are no facilities in the "base" R for image
 > analysis.  Is there any extension or package for R that implements
 > image analysis?  I'm thinking of features such as
 > 
 > o Reading and writing image files,
 > o displaying indexed or "true color" images,
 > o resizing, cropping, etc, of images,
 > o filters for manipulating images (smoothing, edge detection, etc)
 > o feature extraction
 > 
 > -- 
 > Bj?rn-Helge Mevik  <bhm at math.uio.no>
 > -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
 > r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
 > Send "info", "help", or "[un]subscribe"
 > (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
 > _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Thu Sep 21 09:51:02 2000
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Thu, 21 Sep 2000 09:51:02 +0200 (CEST)
Subject: [R] Image analysis in R?
In-Reply-To: <14793.44440.145672.565818@gargle.gargle.HOWL>
References: <s3svgvrs3uw.fsf@janus.uio.no>
	<14793.44440.145672.565818@gargle.gargle.HOWL>
Message-ID: <14793.48614.674312.101137@galadriel.ci.tuwien.ac.at>

>>>>> On Thu, 21 Sep 2000 08:41:28 +0200,
>>>>> Peter Holzer (PH) wrote:

PH> Hello Bjorn
PH> I have written some functions for personal use. They allow to read and
PH> write ppm, pgm and pbm images. But I haven't put them in a package, it's
PH> just C and R code.

The e1071 package from CRAN also contains code for reading/writing
ppm, pgm and pbm images.



PH> I think that generally you will need to use C or Fortran or something else
PH> but not R for most manipulations of images (e.g. filtering), so you might
PH> just want to write an R interface to existing code. My experience
PH> is that using R code directly will make things prohibitively slow if images
PH> get large. On the other hand I appreciate writing the code first in R, where
PH> the results are easy to check, and then transform it to C.

PH> For resizing, cropping etc. I recommend `xv'.


Well, any image manipulation program should be fine (and much better
than R) for this (though cropping an image is easy: simply subset the
matrix ...)

Best,
Fritz

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas.pesl at arcs.ac.at  Thu Sep 21 10:16:27 2000
From: thomas.pesl at arcs.ac.at (Pesl Thomas)
Date: Thu, 21 Sep 2000 10:16:27 +0200
Subject: No subject
Message-ID: <D16B18FFF743D311A9CA0090275F3CB001D8C82B@arcss07.arcs.ac.at>

Dear R-friends,

i just look at http://www.statistik.uni-dortmund.de/leute/ligges.htm to
download scatterplot3 and saw a write and read wav-files library. So i
wondered if R can play wav-files. This would be very practical, espacially
when you do some long computations.
If not, can R play a system beep or something like that?

Thanks,
   Thomas
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Thu Sep 21 11:00:36 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Thu, 21 Sep 2000 11:00:36 +0200
Subject: [R] Re: no subject
References: <D16B18FFF743D311A9CA0090275F3CB001D8C82B@arcss07.arcs.ac.at>
Message-ID: <39C9CE34.41DC1E27@statistik.uni-dortmund.de>

Pesl Thomas wrote:

> i just look at http://www.statistik.uni-dortmund.de/leute/ligges.htm to
> download scatterplot3 and saw a write and read wav-files library. So i
> wondered if R can play wav-files. This would be very practical, espacially
> when you do some long computations.
> If not, can R play a system beep or something like that?

My package for reading and writing wave-files is based on the Rstreams
package from Duncan Murdoch.
I think R itself is not able to play wave-files or a system beep, maybe
you can do it with a system() or shell() call, but that is OS specific.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep 21 11:05:50 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Thu, 21 Sep 2000 10:05:50 +0100 (BST)
Subject: [R] Re: your mail
In-Reply-To: <D16B18FFF743D311A9CA0090275F3CB001D8C82B@arcss07.arcs.ac.at>
Message-ID: <Pine.GSO.4.05.10009210957350.3301-100000@auk.stats>

On Thu, 21 Sep 2000, Pesl Thomas wrote:

> Dear R-friends,
> 
> i just look at http://www.statistik.uni-dortmund.de/leute/ligges.htm to
> download scatterplot3 and saw a write and read wav-files library. So i
> wondered if R can play wav-files. This would be very practical, espacially
> when you do some long computations.
> If not, can R play a system beep or something like that?

R can only do these things on hardware that supports it.... On most
systems ASCII char 7 (\a) will beep.  E.g. on my Sun

cat("\a")

will sound the bell (actually flash the terminal as I have visual bell
set). I believe that works on Windows too (it certainly has in the past)
but as I have my sound card muted I would not notice.

On Windows R can play .wav files (and anything else the OS can handle) 
via the shell.exec function.  That's the general soulution here: use the OS
to do the things it is good at, and R for the things it is good at.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mehdi_ghafariyan at yahoo.com  Thu Sep 21 15:31:02 2000
From: mehdi_ghafariyan at yahoo.com (=?iso-8859-1?q?Mehdi=20Ghafariyan?=)
Date: Thu, 21 Sep 2000 06:31:02 -0700 (PDT)
Subject: [R] adjacency matrix
Message-ID: <20000921133102.5889.qmail@web3502.mail.yahoo.com>

Hi all;
I have two vectors A=c(5,2,2,3,3,2) 
and B=c(2,3,4,5,6,1,3,2,4,3,1,5,1,4,6,1,4)
and I want to make the following matrix
using the information I have from the above
vectors.

	0 1 1 1 1 1 
	1 0 1 0 0 0 
	0 1 0 1 0 0 
	1 0 1 0 1 0
	1 0 0 1 0 1 
	1 0 0 1 0 0 

so the first vector says that I have 6
elements therefor I have to make a 
6 by 6 matrix and then I have to read 
5 elements from the second 
vector , and put 1 in [1,j] where j=2,3,4,5,6
and put zero elsewhere( i.e. in [1,1])
and so on.
Any idea how this can be done in R ?

                                   cheers
                                      Mehdi
        

__________________________________________________
Do You Yahoo!?
Send instant messages & get email alerts with Yahoo! Messenger.
http://im.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Sep 21 15:51:34 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 21 Sep 2000 15:51:34 +0200
Subject: [R] adjacency matrix
In-Reply-To: Mehdi Ghafariyan's message of "Thu, 21 Sep 2000 06:31:02 -0700 (PDT)"
References: <20000921133102.5889.qmail@web3502.mail.yahoo.com>
Message-ID: <x2og1hua3d.fsf@blueberry.kubism.ku.dk>

Mehdi Ghafariyan <mehdi_ghafariyan at yahoo.com> writes:

> Hi all;
> I have two vectors A=c(5,2,2,3,3,2) 
> and B=c(2,3,4,5,6,1,3,2,4,3,1,5,1,4,6,1,4)
> and I want to make the following matrix
> using the information I have from the above
> vectors.
> 
> 	0 1 1 1 1 1 
> 	1 0 1 0 0 0 
> 	0 1 0 1 0 0 
> 	1 0 1 0 1 0
> 	1 0 0 1 0 1 
> 	1 0 0 1 0 0 
> 
> so the first vector says that I have 6
> elements therefor I have to make a 
> 6 by 6 matrix and then I have to read 
> 5 elements from the second 
> vector , and put 1 in [1,j] where j=2,3,4,5,6
> and put zero elsewhere( i.e. in [1,1])
> and so on.
> Any idea how this can be done in R ?

Yep. Matrix indices:

 a<-c(5,2,2,3,3,2) 
 b<-c(2,3,4,5,6,1,3,2,4,3,1,5,1,4,6,1,4)

 n<-length(a)              
 M<-matrix(0,n,n)
 M[cbind(rep(1:n,a),b)]<-1

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From John.Strumila at team.telstra.com  Fri Sep 22 00:06:56 2000
From: John.Strumila at team.telstra.com (Strumila, John)
Date: Fri, 22 Sep 2000 09:06:56 +1100
Subject: [R] adjacency matrix
Message-ID: <61411576E951D211AF330008C7245DD906A176DE@ntmsg0005.corpmail.telstra.com.au>

boy I get impressed with some of these responses.

John Strumila


>> Any idea how this can be done in R ?
> 
> Yep. Matrix indices:
> 
>  a<-c(5,2,2,3,3,2) 
>  b<-c(2,3,4,5,6,1,3,2,4,3,1,5,1,4,6,1,4)
> 
>  n<-length(a)              
>  M<-matrix(0,n,n)
>  M[cbind(rep(1:n,a),b)]<-1
> 
> -- 
>    O__  ---- Peter Dalgaard             Blegdamsvej 3  
>   c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
>  (*) \(*) -- University of Copenhagen   Denmark      Ph: 
> (+45) 35327918
> ~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: 
> (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From phurd at uts.cc.utexas.edu  Fri Sep 22 00:10:27 2000
From: phurd at uts.cc.utexas.edu (Pete Hurd)
Date: Thu, 21 Sep 2000 17:10:27 -0500 (CDT)
Subject: [R] qqnorm(), is it "backwards"?
Message-ID: <Pine.OSF.4.21.0009211658360.19236-100000@curly.cc.utexas.edu>

Hello R friends,

I'm wondering why I get funny qqnorm() results.  It seems that they should
all be reflected in the normal qqline().

For instance: if I qqnorm() bimodal or uniform data I get a sigmoidal in
which the qqnorm() points lie above the qqline() at -ve theoretical
quantiles, and the qqnorm() points lie below the qqline() at +ve
theoretical quantiles.  Yet I expect such platykurtic distributions to go
the other way (eg pg 117 in _Biometry_  Sokal & Rohlf, 3rd ed).

The same thing with skewed data, I expect right skewed data to show a
negatively accelerating shape, but qqnorm() curves upwards.

Am I missing something, or is qqnorm() consistently heading in the wrong
diirection?

Cheers,
-P.

-- 
Peter L. Hurd, Ph.D.
phurd at uts.cc.utexas.edu
http://www.zo.utexas.edu/research/phurd                 fax 512.471-3878
Section of Integrative Biology, University of Texas, Austin TX 78712 USA


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From dmurdoch at pair.com  Fri Sep 22 02:49:42 2000
From: dmurdoch at pair.com (Duncan Murdoch)
Date: Fri, 22 Sep 2000 00:49:42 GMT
Subject: [R] qqnorm(), is it "backwards"?
In-Reply-To: <Pine.OSF.4.21.0009211658360.19236-100000@curly.cc.utexas.edu>
References: <Pine.OSF.4.21.0009211658360.19236-100000@curly.cc.utexas.edu>
Message-ID: <39ceaa4d.13623865@smtp1.sympatico.ca>

On Thu, 21 Sep 2000 17:10:27 -0500 (CDT), Pete Hurd
<phurd at uts.cc.utexas.edu> wrote:

>Hello R friends,
>
>I'm wondering why I get funny qqnorm() results.  It seems that they should
>all be reflected in the normal qqline().

I think the problem is that there are several different conventions
for drawing these.  Some people put the theoretical quantiles on the x
axis (like R does), some put them on the y axis.  I think some people
plot probabilities rather than quantiles.  Some books (e.g. if I
recall correctly, Montgomery and Peck's regression text) even label
things one way and draw them another.

As far as I can tell, R is doing things correctly according to the
convention it uses.  That convention makes sense to me, too:  like all
plots of residuals, the residuals are shown on the y axis, the "fixed
things" on the x axis.

For a sample like runif(1000), the plot curves up at the left and down
at the right, because the uniform distribution doesn't take such
extreme values as the normal distribution does.

Duncan Murdoch
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Fri Sep 22 02:01:16 2000
From: Bill.Venables at cmis.csiro.au (Bill Venables)
Date: Fri, 22 Sep 2000 10:01:16 +1000
Subject: [R] qqnorm(), is it "backwards"?
Message-ID: <3.0.32.20000922100115.012ad400@pophost.nsw.cmis.csiro.au>

At 17:10 21/09/00 -0500, Pete Hurd wrote:
>Hello R friends,
>
>I'm wondering why I get funny qqnorm() results.  It seems that they should
>all be reflected in the normal qqline().
>
>For instance: if I qqnorm() bimodal or uniform data I get a sigmoidal in
>which the qqnorm() points lie above the qqline() at -ve theoretical
>quantiles, and the qqnorm() points lie below the qqline() at +ve
>theoretical quantiles.  Yet I expect such platykurtic distributions to go
>the other way (eg pg 117 in _Biometry_  Sokal & Rohlf, 3rd ed).
>
>The same thing with skewed data, I expect right skewed data to show a
>negatively accelerating shape, but qqnorm() curves upwards.
>
>Am I missing something, or is qqnorm() consistently heading in the wrong
>direction?

Yes, you are missing something.

Sokal and Rohlf do their normal scores plots the *wrong* way round and put
the rankits (or normal scores) on the y-axis and the observations on the
x-axis.  To its credit R and S-PLUS get it *right* by default and put the
independent variable (normal scores) on the x-axis and the dependent
variable (observations, residuals, ...) on the y-axis.

Sokal and Rohlf are not alone in their *error*, of course.  Minitab also
*messes* it up like this, for example.  I have no idea where this absolute
*heresy* comes from, but someone really ought to do some serious
extermination of this pernicious silliness before it goes too far...  

:-)

Bill Venables.
--
Bill Venables, Statistician                         Tel. +61 7 3826 7251 
CSIRO Marine Laboratories,                          Fax. +61 7 3826 7304
Cleveland, Qld, 4163                  Email: Bill.Venables at cmis.csiro.au
AUSTRALIA                        http://www.cmis.csiro.au/bill.venables/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.adi.purnomo at energylink.co.nz  Fri Sep 22 04:52:24 2000
From: s.adi.purnomo at energylink.co.nz (Peppy Adi Purnomo)
Date: Fri, 22 Sep 2000 14:52:24 +1200
Subject: [R] lme
Message-ID: <33344F2C6B6ED411996D0000F879081402497B@ELSRV1>

Hello,

I need to use a procedure in R that similar to lme in Splus.. is this
particular procedure has been implemented in the recent version?  thanks.

Regards,
Peppy Adi-Purnomo 

Energy Market Analyst
Energy Link Ltd

Telp.: +64 3 479 2475
Fax. : +64 3 477 8463

www.energylink.co.nz

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Fri Sep 22 08:11:09 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Fri, 22 Sep 2000 08:11:09 +0200
Subject: [R] lme
References: <33344F2C6B6ED411996D0000F879081402497B@ELSRV1>
Message-ID: <39CAF7FD.F6472844@statistik.uni-dortmund.de>

Peppy Adi Purnomo wrote:

> I need to use a procedure in R that similar to lme in Splus.. is this
> particular procedure has been implemented in the recent version?  thanks.

Have a look at the package "nlme", available at CRAN.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep 22 08:33:31 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 22 Sep 2000 07:33:31 +0100 (BST)
Subject: [R] lme
In-Reply-To: <33344F2C6B6ED411996D0000F879081402497B@ELSRV1>
Message-ID: <Pine.GSO.4.05.10009220725550.9676-100000@auk.stats>

On Fri, 22 Sep 2000, Peppy Adi Purnomo wrote:

> Hello,
> 
> I need to use a procedure in R that similar to lme in Splus.. is this

Which S-PLUS?  The version of lme in S-PLUS 2000 (and the announced 6.0)
is closely related to that in the add-on package nlme available
from CRAN (version numbers 3,x).  Earlier versions of S-PLUS are based on
nlme2 and have a different syntax.  I suggest you use the nlme3
version even if you have to convert example S-PLUS code. (Both
Pinheiro & Bates' book and V&R3 use the nlme syntax.)

> particular procedure has been implemented in the recent version?  thanks.

(Recent version of what?  R's current philosophy is to have a fairly
small core and lots of fairly small add-on packages, some of which ship
with R and more of which are on CRAN.  At present that's needed for
memory and performance reasons.  It's also helpful to distribute R in
fairly small pieces for download.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maechler at stat.math.ethz.ch  Fri Sep 22 11:40:02 2000
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 22 Sep 2000 11:40:02 +0200
Subject: [R] R- and ESS-mailing lists : network interrupts on Sunday Sep.24
Message-ID: <14795.10482.731016.98491@gargle.gargle.HOWL>

Due to recabling of our main servers,
there will be network interruptions coming Sunday, Sept 24.
>From 10.00 CEST (Central European Summer Time) = UTC+2
a few hours intermittent up to at most 18 o'clock {the hope being that
everything will be finished much earlier}.

	     10 - 18 CEST aka MET
         =    8 - 16 UTC (formerely "Greenwich Mean Time")
	 =    4 - 10 Eastern (US)
	 =    1 -  7 Pacific (US)
         =   20 - 02 NZ time

No mail will be lost, it will just take time till being redistributed to the
lists' subscribers.

Martin Maechler <maechler at stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mjmalpha at localnet.com  Fri Sep 22 16:44:11 2000
From: mjmalpha at localnet.com (Michael Mastroianni)
Date: Fri, 22 Sep 2000 10:44:11 -0400
Subject: [R] Newbie question - handling dates as x-axis variable
Message-ID: <002901c024a3$934c6360$4f9cfea9@DEV03>

Hi, all.  Please forgive my ignorance
as I'm just beginning to investigate
R for use in my company as a primary
analytical tool ...

I have data which I've read into a data frame
with the following command:

mkt <- read.csv("h:/qdamrtm.csv",header=T)

I'd like to investigate the relationship(s)
(or lack thereof) between the given variables,
and have developed a variety of plots that
really make me appreciate how powerful
R is, even when applied in a very rudimentary
fashion.

My question is, is there an elegant way to
treat the date data such that I can plot
variables against x-axis date labels, specify
ranges of dates, and calculate differences
between dates ?  I am beginning to look
at the packages like "chron" and time series
information now.  The workaround I've adopted
merely uses the row index of the data frame
as the x-axis variable, and I've "pasted" the
start and end dates into the x-axis title to
associate the plotted indices with a date
range (which is a bit of a kludge, I think).

If I've gleaned anything at all from the R
documentation, I should be trying to
treat my data frame as an object to be
manipulated, and should be able to
develop functions or procedures which
allow me to handle dates in a simple
and direct manner.

Any advice/guidance/tips are much appreciated
as I have *tons* of this kind of data to
cut my teeth on ...

(Also, kudos to the R developers: what
an incredible job in creating a "numerical
laboratory" environment.  I'm especially
pleased that I can investigate R in a
Windows environment knowing that it's
available as we move to Linux ...)

Thanks in advance for any help --

Mike Mastroianni
==================================
For reference, the CSV data looks like this:

"WKDAY","HR","DAYT","DAMMKT","RTMMKT"
"Fri",0,"01/07/00",16.16,17.51
"Fri",0,"01/14/00",21.91,51.15
"Fri",0,"01/21/00",31.25,21.38
"Fri",0,"01/28/00",36.01,41.77
"Fri",1,"01/07/00",15.24,15.32
"Fri",1,"01/14/00",20.23,31.48
"Fri",1,"01/21/00",30.40,12.98
"Fri",1,"01/28/00",28.27,38.86
....
"Wed",23,"08/23/00",23.11,39.99
"Wed",23,"08/30/00",46.48,58.77
"Wed",23,"09/06/00",32.63,9.09
"Wed",23,"09/13/00",44.11,44.89



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep 22 17:39:26 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 22 Sep 2000 16:39:26 +0100 (BST)
Subject: [R] Newbie question - handling dates as x-axis variable
In-Reply-To: <002901c024a3$934c6360$4f9cfea9@DEV03>
Message-ID: <Pine.GSO.4.05.10009221632200.15142-100000@auk.stats>

On Fri, 22 Sep 2000, Michael Mastroianni wrote:

> Hi, all.  Please forgive my ignorance
> as I'm just beginning to investigate
> R for use in my company as a primary
> analytical tool ...
> 
> I have data which I've read into a data frame
> with the following command:
> 
> mkt <- read.csv("h:/qdamrtm.csv",header=T)
> 
> I'd like to investigate the relationship(s)
> (or lack thereof) between the given variables,
> and have developed a variety of plots that
> really make me appreciate how powerful
> R is, even when applied in a very rudimentary
> fashion.
> 
> My question is, is there an elegant way to
> treat the date data such that I can plot
> variables against x-axis date labels, specify
> ranges of dates, and calculate differences
> between dates ?  I am beginning to look
> at the packages like "chron" and time series
> information now.  The workaround I've adopted
> merely uses the row index of the data frame
> as the x-axis variable, and I've "pasted" the
> start and end dates into the x-axis title to
> associate the plotted indices with a date
> range (which is a bit of a kludge, I think).
> 
> If I've gleaned anything at all from the R
> documentation, I should be trying to
> treat my data frame as an object to be
> manipulated, and should be able to
> develop functions or procedures which
> allow me to handle dates in a simple
> and direct manner.
> 
> Any advice/guidance/tips are much appreciated
> as I have *tons* of this kind of data to
> cut my teeth on ...

Package chron is along the lines you need.  However, R 1.2.0 will have its
own date/time classes and can do all the things you mention, plus give you
examples to copy, and I think that these will in time supersede chron.
(The time series stuff in package ts is only for regularly-spaced time
series.)

Look's like you are on Windows. You can either compile an R-devel
snapshot yourself, or get a pre-compiled one from

http://www.stats.ox.ac.uk/pub/bdr/RWin/Rpre

(Do read the README first, though, and remember this is a snapshot.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mehdi_ghafariyan at yahoo.com  Fri Sep 22 18:30:02 2000
From: mehdi_ghafariyan at yahoo.com (=?iso-8859-1?q?Mehdi=20Ghafariyan?=)
Date: Fri, 22 Sep 2000 09:30:02 -0700 (PDT)
Subject: [R] vector
Message-ID: <20000922163002.16184.qmail@web3504.mail.yahoo.com>

Dear all R users;
I have a large vector type data in the following
format :

2,3,21,
1,3,5,6,17,21,
1,2,6,33,34,
4,5,
2,4,6,7,16,17,26,
.
.
.

I use the following command to read it:

b<-scan("a:\\vectorB.txt",sep=",")

and I get 
[1]  2  3 21 NA  1  3  5  6 17 21 NA  1  2  6 33 34 NA
 4  5 NA  2  4  6  7 16
.
.
.
Is there a way to write the command so that it would
go to the next line when it reaches end of the line
instead of producing "NA"s . 

cheers 
Mehdi
 



__________________________________________________
Do You Yahoo!?
Send instant messages & get email alerts with Yahoo! Messenger.
http://im.yahoo.com/
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcus.eger at physik.uni-marburg.de  Fri Sep 22 19:55:30 2000
From: marcus.eger at physik.uni-marburg.de (Marcus Eger)
Date: Fri, 22 Sep 2000 19:55:30 +0200
Subject: [R] behaviour of plot() when coord. are out of range
Message-ID: <39CB9D12.1238153A@physik.uni-marburg.de>

Dear all,

a question concerning the plot range. When I plot
at first with linear coordinates, a subsequent polygon() call produces
a figure that I expect. However, when I apply a logarithmic scale,
two polygons appear. Is it possible to override this behaviour?

  M. Eger


Example:

y <- c(1.84147098480790, 1.90929742682568, 1.14112000805987,
0.243197504692072, -0.958924274663133,0.720584501801074,
1.65698659871879, 1.98935824662338, 1.41211848524176,0.45597888911063)

plot(y,ylim=c(0.0000000001,2),type="l")

plot(y,ylim=c(0.0000000001,2),type="l",log="y")
Warning in xy.coords(x, y, xlabel, ylabel, log) : 
	 1 y value <= 0 omitted from logarithmic plot

polygon(1:10,y,col="red")

-- 
+-------------------------------------------------------
| Marcus Eger
| Philipps Universitaet Marburg
| Fachbereich Physik AG Neurophysik
| Renthof 7
| 35032 Marburg
| Tel. +49 6421 282-4169
| Fax  +49 6421 282-7034
+-------------------------------------------------------
| E-Mail: marcus.eger at physik.uni-marburg.de
+-------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jaumbanhowar at ucdavis.edu  Fri Sep 22 20:16:36 2000
From: jaumbanhowar at ucdavis.edu (James Umbanhowar)
Date: Fri, 22 Sep 2000 11:16:36 -0700 (PDT)
Subject: [R] Fill patterns using image()
Message-ID: <Pine.GSO.4.21.0009221115250.19155-100000@runner.ucdavis.edu>

Hello,
I am trying to plot three dimensional data using image().  The data are
0's, 1's and 2's and I would like
to display them as different black and white patterns (stripes and
checks) rather than different colors.  Is 
there a way to do this in R?
Thanks,
James

James Umbanhowar
Dept. of Env. Science and Policy
U. of California
Davis, CA 95616
(530) 752 5162

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pauljohn at ukans.edu  Fri Sep 22 20:24:37 2000
From: pauljohn at ukans.edu (Paul Johnson)
Date: Fri, 22 Sep 2000 13:24:37 -0500
Subject: [R] what do you do for 2SLS or 3SLS
Message-ID: <39CBA3E5.44F3BC5D@ukans.edu>

For 2 or 3 stage least squares, what do you R folks do?

Follow-up question. My student wants to estimate this. 2 variables are
governed by a system of difference equations.  His theory is like so.
Y_t and X_t are
state variables, we want estimates for a, g, b, and h. 

X_(t+1) = 1 + a X_t + (a/K)* (X_t)^2 - g Y_t X_t

Y_(t+1) = b Y_t + h* X_t * Y_t

K is perhaps something to estimate, but it seems as though somebody has
a formula we can use to calculate it from data and people just want to
plug in that estimate (?!). I dunno. Seems to me like there should be
another equation for K, but nobody is giving it to me. So I'm willing to
act as if it is known.

He has no error terms, so the first thing I say is he needs some, and so
it becomes:

X_(t+1) = (1 + a) X_t + (a/K)* (X_t)^2 - g Y_t X_t +e1_t

Y_(t+1) = b Y_t + h* X_t * Y_t +e2_t

If he has given me what he actually intends, there is no conventional
simultaneity in the econometric sense, because there is no X_t+1 or
Y_t+1 on the right hand side. THere might be some seemingly unrelated
regression, though, since the error terms could be autocorrelated and
this would induce a correlation between X_t and e1_t, for example.

Well, I've not dug into the methods for estimating this kind of system,
maybe you have some ideas, I'm sure open to them.

-- 
Paul E. Johnson                       email: pauljohn at ukans.edu
Dept. of Political Science            http://lark.cc.ukans.edu/~pauljohn
University of Kansas                  Office: (785) 864-9086
Lawrence, Kansas 66045                FAX: (785) 864-5700
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jgoebel at diw.de  Fri Sep 22 20:34:09 2000
From: jgoebel at diw.de (Jan Goebel)
Date: Fri, 22 Sep 2000 20:34:09 +0200
Subject: [R] vector
In-Reply-To: <20000922163002.16184.qmail@web3504.mail.yahoo.com>; from mehdi_ghafariyan@yahoo.com on Fri, Sep 22, 2000 at 09:30:02 -0700
References: <20000922163002.16184.qmail@web3504.mail.yahoo.com>
Message-ID: <20000922203409.A1985@diw13697.diw.de>

Hi,

just a quick solution, i guess:

b<-scan("file",sep=",")
b<-b[!is.na(b)]

jan

On Fri, 22 Sep 2000, Mehdi Ghafariyan wrote:

> Dear all R users;
> I have a large vector type data in the following
> format :
> 
> 2,3,21,
> 1,3,5,6,17,21,
> 1,2,6,33,34,
> 4,5,
> 2,4,6,7,16,17,26,
> .
> .
> .
> 
> I use the following command to read it:
> 
> b<-scan("a:\\vectorB.txt",sep=",")
> 
> and I get 
> [1]  2  3 21 NA  1  3  5  6 17 21 NA  1  2  6 33 34 NA
>  4  5 NA  2  4  6  7 16
> .
> .
> .
> Is there a way to write the command so that it would
> go to the next line when it reaches end of the line
> instead of producing "NA"s . 
> 
> cheers 
-- 
-----------------------------------
Jan Goebel (mailto:jgoebel at diw.de)

DIW German Institute for Economic Research
SOEP
K?nigin-Luise-Str. 5
D-14195 Berlin
Germany

phone: 49 30 89789-377
-----------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From novo at uiuc.edu  Fri Sep 22 21:49:38 2000
From: novo at uiuc.edu (Alvaro A. Novo)
Date: Fri, 22 Sep 2000 14:49:38 -0500
Subject: [R] arima.sim
Message-ID: <00092214493801.03258@friedman>

Hi,

Before I re-invent the wheel, is there a function in R similar to S+'s 
arima.sim, i.e., a function that simulates arima processes.

ts and tseries packages don't seem to have such function, but I may have 
overlooked it.

Thank you for your time,

Alvaro Novo
R Version 1.1.1
SuSE 6.4 Linux
KDE 2.0 Beta 5
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cribari at de.ufpe.br  Fri Sep 22 22:43:16 2000
From: cribari at de.ufpe.br (Francisco Cribari)
Date: Fri, 22 Sep 2000 17:43:16 -0300 (EST)
Subject: [R] [?] RPM install problems (Linux)
Message-ID: <Pine.GSO.3.96.1000922174226.7381A-100000@bernoulli>


When I try to install the R RPM under Mandrake Linux 7.1 (intel), 
I get the following error:

[root at edgeworth programs]# rpm -ivh R-base-1.1.1-1.i386.rpm
error: failed dependencies:
        libreadline.so.3 is needed by R-base-1.1.1-1
[root at edgeworth programs]#                

I do have realine installed:

[root at edgeworth programs]# rpm -qa | grep readline
readline-4.1-4mdk

and 

[cribari at edgeworth cribari]$ locate libreadline.so.4
/usr/lib/libreadline.so.4
/usr/lib/libreadline.so.4.1

Would anyone know what's wrong? Is there a way to overcome that 
and install R from the R RPM file? Thanks. 

Best, Francisco. 

--
Francisco Cribari-Neto               voice: +55-81-2718420
Departamento de Estatistica          fax:   +55-81-2718422
Universidade Federal de Pernambuco   e-mail: cribari at de.ufpe.br
Recife/PE, 50740-540, Brazil         web: www.linuxfan.com/~cribari

      Hardware, n:   The parts of a computer that can be kicked. 


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From chong at stat.purdue.edu  Fri Sep 22 22:51:29 2000
From: chong at stat.purdue.edu (Chong Gu)
Date: Fri, 22 Sep 2000 15:51:29 -0500
Subject: [R] arima.sim
In-Reply-To: <00092214493801.03258@friedman> (novo@uiuc.edu)
Message-ID: <200009222051.PAA35120@mean.stat.purdue.edu>


   From: "Alvaro A. Novo" <novo at uiuc.edu>
   Organization: University of Illinois at Urbana-Champaign
   Date: Fri, 22 Sep 2000 14:49:38 -0500
   X-Mailer: KMail [version 1.1.94]
   Content-Type: text/plain
   MIME-Version: 1.0
   Content-Transfer-Encoding: 8bit
   Sender: owner-r-help at stat.math.ethz.ch
   Precedence: bulk

   Hi,

   Before I re-invent the wheel, is there a function in R similar to S+'s 
   arima.sim, i.e., a function that simulates arima processes.

   ts and tseries packages don't seem to have such function, but I may have 
   overlooked it.

   Thank you for your time,

   Alvaro Novo
   R Version 1.1.1
   SuSE 6.4 Linux
   KDE 2.0 Beta 5
   -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
   r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
   Send "info", "help", or "[un]subscribe"
   (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
   _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


Here is one I wrote for teaching last Spring.  Use it at you own risk,
and if you do use it, let me know any problems if you find any.  The
MA coefficients follow the "usual" convention as in Box&Jenkins, which
have opposite signs compared to the ones in the ts package.

Chong Gu


sim.arima <- function(n=100,ar=NULL,ma=NULL,ndiff=NULL,burn=100)
{
    d <- ndiff
    if (is.null(d)) d <- 0
    p <- length(ar)
    q <- length(ma)
    nn <- n+burn+p
    wn <- rnorm(nn+q)
    if (q>0) {
      ind <- 1:nn
      wk <- wn[ind+q]
      for (i in q:1) wk <- wk - ma[i]*wn[ind+q-i]
    }
    else  wk <- wn
    if (p>0) {
      xx <- wk[1:p]
      for (i in 1:(n+burn)) {
        xx.wk <- wk[i+p]
        for (j in 1:p) xx.wk <- xx.wk + ar[j]*xx[i+p-j]
        xx <- c(xx,xx.wk)
      }
    }
    else  xx <- wk
    if (d>0) {
      xx <- c(rep(0,d),xx)
      for (i in 1:d) {
        xx <- cumsum(xx)
      }
    }
    ts(xx[burn+d+(1:n)])
}
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Sep 22 23:49:33 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 22 Sep 2000 23:49:33 +0200
Subject: [R] [?] RPM install problems (Linux)
In-Reply-To: Francisco Cribari's message of "Fri, 22 Sep 2000 17:43:16 -0300 (EST)"
References: <Pine.GSO.3.96.1000922174226.7381A-100000@bernoulli>
Message-ID: <x2r96crtaq.fsf@blueberry.kubism.ku.dk>

Francisco Cribari <cribari at de.ufpe.br> writes:

> When I try to install the R RPM under Mandrake Linux 7.1 (intel), 
> I get the following error:
> 
> [root at edgeworth programs]# rpm -ivh R-base-1.1.1-1.i386.rpm
> error: failed dependencies:
>         libreadline.so.3 is needed by R-base-1.1.1-1
> [root at edgeworth programs]#                
> 
> I do have realine installed:
> 
> [root at edgeworth programs]# rpm -qa | grep readline
> readline-4.1-4mdk
> 
> and 
> 
> [cribari at edgeworth cribari]$ locate libreadline.so.4
> /usr/lib/libreadline.so.4
> /usr/lib/libreadline.so.4.1
> 
> Would anyone know what's wrong? Is there a way to overcome that 
> and install R from the R RPM file? Thanks. 

Well, there are two possibilities: Either R will work with
libreadline.so.4 or it won't. If not, you should probably locate
libreadline.so.3 and install it (this should in principle be possible
to have installed along with /usr/lib/libreadline.so.4.1, but I don't
know if you get into RPM trouble). If it does work, then a symlink
from libreadline.so.4 to libreadline.so.3 would allow the RPM to
install, and hopefully also get R to run. Not really sure such a
procedure is recommendable, though...

(AFAIR, there is no problem having a .so.3 and .so.4 version of the
same library, an you might get away with taking the RedHat
readline-2.2.1-6, install it using option --force and then install
Mandrake's readline-4.1-4mdk with --force on top of it. Again: no
warranty, if it breaks your system, you keep both parts...)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mhart at terrigal.net.au  Sat Sep 23 06:56:14 2000
From: mhart at terrigal.net.au (Michael Hart)
Date: Sat, 23 Sep 2000 15:56:14 +1100
Subject: [R] Units
Message-ID: <009701c0251a$9ad1ec00$b02cfea9@maincomputer>

I used the AR modelling written for R (S) on blood pressure and heart rate
signals.  I used 60 one second samples and a model order of 20.  I used the
"ar" finction in the "ts" package.

Given that blood pressure is measured in mmHg would the spectral density (on
the graph displayed be [mmHg]sq/Hz ?

And the heart rate is measured in Beats Per Minute (bpm) - so would the
displayed spectral density be in (bpm)sq/Hz ?

I'm sorry if this seems a trivial question, however the resultant values
seem inconsistent with published data (although the spectral shape seems
correct).

Michael Hart
Australia
+61 2 4325 4859




-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Sep 23 08:17:56 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 23 Sep 2000 07:17:56 +0100 (BST)
Subject: [R] arima.sim
In-Reply-To: <00092214493801.03258@friedman>
Message-ID: <Pine.GSO.4.05.10009230717160.15421-100000@auk.stats>

On Fri, 22 Sep 2000, Alvaro A. Novo wrote:

> Hi,
> 
> Before I re-invent the wheel, is there a function in R similar to S+'s 
> arima.sim, i.e., a function that simulates arima processes.
> 
> ts and tseries packages don't seem to have such function, but I may have 
> overlooked it.

See the example for filter in package ts.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Sat Sep 23 08:57:49 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Sat, 23 Sep 2000 07:57:49 +0100 (BST)
Subject: [R] Units
In-Reply-To: <009701c0251a$9ad1ec00$b02cfea9@maincomputer>
Message-ID: <Pine.GSO.4.05.10009230749420.15421-100000@auk.stats>

On Sat, 23 Sep 2000, Michael Hart wrote:

> I used the AR modelling written for R (S) on blood pressure and heart rate
> signals.  I used 60 one second samples and a model order of 20.  I used the
> "ar" finction in the "ts" package.
> 
> Given that blood pressure is measured in mmHg would the spectral density (on
> the graph displayed be [mmHg]sq/Hz ?
> 
> And the heart rate is measured in Beats Per Minute (bpm) - so would the
> displayed spectral density be in (bpm)sq/Hz ?

Well, ar() does not produce spectral densities!  I assume you are using
spectrum() or its helpers spec.pgram and spec.ar. The y-axis there is by
default on *log scale*.  I don't think the units are relevant (essentially
they are determined by its being a spectral density), but the different
definitions of spectral densities in use are pertinent: see the help pages,
and Venables & Ripley for the exact definitions used by S-PLUS (and
followed here).

> I'm sorry if this seems a trivial question, however the resultant values
> seem inconsistent with published data (although the spectral shape seems
> correct).

As ever, read the details!  There is no universally accepted definition of
`spectral density' (nor of `AR process' come to that).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mhart at terrigal.net.au  Sat Sep 23 11:18:54 2000
From: mhart at terrigal.net.au (Michael Hart)
Date: Sat, 23 Sep 2000 20:18:54 +1100
Subject: [R] Units
Message-ID: <003001c0253f$4c818d60$0692fea9@maincomputer>

Thanks you Professor Ripley for your very fast reply.  Well I hope I haven't
done anything wrong in my code.  Yes I did mean spec.ar .  I hope only the
values plotted are on a log scale and the internal values in the spec object
are not because I pick them out and use them for other things.  I had told
the plot function I don't want log scale.  Here is the code

  tds <- Feed me my Data Please

  cat("Number of data points = ",length(tds),"\n")
  if(inval) {
    tds <- na.omit.ts(na.contiguous(tds))
    cat("Processing",length(tds) ,"Contiguous Valid points.\n")
  }
  spt <- spec.ar(ar.yw(tds,aic=aicv,order.max=orderv), plot = FALSE)
  cat(spt$method, "generated\n")
  #
  # display the spectra
  plot(spt,log=c("no"),main=paste(nser,spt$method,sep = "\n"))

I hope this gives the true linear amplitude of the spectral density and I
also hope the internal values in the spt variable also represent the linear
values at each frequency.

I guess the "detail" is what is confusing to me.  It says that "The spectrum
here is defined with scaling 1/frequenxy(x)".  Gven that 'x' is a time
series (a sequence of numbers evenly sampled in time - or an array of
numbers) I do not know what 1/frequency(x) means.   Further more I do not
know if this scaling refers to the X axis or the Y axis.  (I had previously
assumed it was the X axis but your comments suggest if may be the scaling of
the amplitude of the spectra and not the frequency of the spectra)  Does
this mean that the amplitude of the power spectra is scaled on the basis of
what frequency that component of signal falls into, given that 'x' is an
array.  [i.e. the scaling in any one graph changes across the band]??  I
hope not because this would throw out all my other calculations.

While you may argue that units are not relevant I don't have that luxery as
I have to write a report and the people who want the data (i.e. who are
paying my wages and hence indirectly for my family) want to know the units.
Furthermore the units are dependant on the definition of the spectral
density (and how it is calculated).

kind regards

Michael


-----Original Message-----
From: Prof Brian D Ripley <ripley at stats.ox.ac.uk>
To: Michael Hart <mhart at terrigal.net.au>
Cc: r-help at stat.math.ethz.ch <r-help at stat.math.ethz.ch>
Date: Saturday, 23 September 2000 5:59
Subject: Re: [R] Units


>On Sat, 23 Sep 2000, Michael Hart wrote:
>
>> I used the AR modelling written for R (S) on blood pressure and heart
rate
>> signals.  I used 60 one second samples and a model order of 20.  I used
the
>> "ar" finction in the "ts" package.
>>
>> Given that blood pressure is measured in mmHg would the spectral density
(on
>> the graph displayed be [mmHg]sq/Hz ?
>>
>> And the heart rate is measured in Beats Per Minute (bpm) - so would the
>> displayed spectral density be in (bpm)sq/Hz ?
>
>Well, ar() does not produce spectral densities!  I assume you are using
>spectrum() or its helpers spec.pgram and spec.ar. The y-axis there is by
>default on *log scale*.  I don't think the units are relevant (essentially
>they are determined by its being a spectral density), but the different
>definitions of spectral densities in use are pertinent: see the help pages,
>and Venables & Ripley for the exact definitions used by S-PLUS (and
>followed here).
>
>> I'm sorry if this seems a trivial question, however the resultant values
>> seem inconsistent with published data (although the spectral shape seems
>> correct).
>
>As ever, read the details!  There is no universally accepted definition of
>`spectral density' (nor of `AR process' come to that).
>
>--
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>University of Oxford,             Tel:  +44 1865 272861 (self)
>1 South Parks Road,                     +44 1865 272860 (secr)
>Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikalzet at libero.it  Sat Sep 23 11:42:02 2000
From: mikalzet at libero.it (mikalzet@libero.it)
Date: Sat, 23 Sep 2000 11:42:02 +0200 (CEST)
Subject: [R] [?] RPM install problems (Linux)
In-Reply-To: <Pine.GSO.3.96.1000922174226.7381A-100000@bernoulli>
Message-ID: <Pine.LNX.4.21.0009231139360.807-100000@localhost.localdomain>

On Fri, 22 Sep 2000, Francisco Cribari wrote:

> 
> When I try to install the R RPM under Mandrake Linux 7.1 (intel), 
> I get the following error:
> 
> [root at edgeworth programs]# rpm -ivh R-base-1.1.1-1.i386.rpm
> error: failed dependencies:
>         libreadline.so.3 is needed by R-base-1.1.1-1
> [root at edgeworth programs]#                
> 
> I do have realine installed:
> 
> [root at edgeworth programs]# rpm -qa | grep readline
> readline-4.1-4mdk
> 
> and 
> 
> [cribari at edgeworth cribari]$ locate libreadline.so.4
> /usr/lib/libreadline.so.4
> /usr/lib/libreadline.so.4.1

Use kpackage and force installation of the RPM by removing the 'check
dependencies' function; then create a symlink in /usr/lib/ 
called libreadline.so.3 pointing to libreadline.so.4 . 
I use mandrake 7.1 and it works.

-- 
Dr. Michele Alzetta

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Sat Sep 23 14:03:48 2000
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Sat, 23 Sep 2000 14:03:48 +0200
Subject: [R] logsitic prediction
Message-ID: <5.0.0.25.0.20000923135507.02667240@127.0.0.1>

Dear friends.
I have a paper (details below) examining the risk of renal failure after an 
operation. A logistic regression was done, and the coefficients to two 
regressors (age and creatinine) plus intercept with standard errors are 
given. These coefficients must be dependent in estimation, and when no 
details are given, I thought how I could most informatively get an 
impression as to how these standard errors materialized in uncertainty in 
predicting the risk of renal failure for a fellow age such and such etc.
The approach below gives very broad ranges but I can't see it is obviously 
wrong ?

#simulations for Schepens: Risk assessment of acute renal failure after
#thoracoabdominal aortic aneurysm surgery, Annals of Surgery 1994;219:400-407
#Final logistic regression has u = -14.42+0.1723*age+0.005481*crea
#and prob = exp(u)/(1+exp(u))
#coefficients are given with se: 4.71, 0.0649 and 0.0029 respectively;n=84
sd <- c(4.71,0.0649,0.0029)*sqrt(84)
mean <- c(-14.42,0.1723,0.0055)
prob <- function(age,crea) {
u <- rnorm(1000,mean[1],sd[1]) +age* rnorm(1000,mean[2],sd[2])+crea* 
rnorm(1000,mean[3],sd[3])
summary( exp(u)/(1+exp(u)))}

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Sat Sep 23 14:20:19 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Sat, 23 Sep 2000 14:20:19 +0200
Subject: [R] behaviour of plot() when coord. are out of range
References: <39CB9D12.1238153A@physik.uni-marburg.de>
Message-ID: <39CCA003.FF12DABE@statistik.uni-dortmund.de>



Marcus Eger wrote:
> 
> Dear all,
> 
> a question concerning the plot range. When I plot
> at first with linear coordinates, a subsequent polygon() call produces
> a figure that I expect. However, when I apply a logarithmic scale,
> two polygons appear. Is it possible to override this behaviour?
> 
>   M. Eger
> 
> Example:
> 
> y <- c(1.84147098480790, 1.90929742682568, 1.14112000805987,
> 0.243197504692072, -0.958924274663133,0.720584501801074,
> 1.65698659871879, 1.98935824662338, 1.41211848524176,0.45597888911063)
> 
> plot(y,ylim=c(0.0000000001,2),type="l")
> 
> plot(y,ylim=c(0.0000000001,2),type="l",log="y")
> Warning in xy.coords(x, y, xlabel, ylabel, log) :
>          1 y value <= 0 omitted from logarithmic plot
> 
> polygon(1:10,y,col="red")
> 

In your case, the fifth y value is ommitted, so polygone cannot work as
you are expecting.
The following should work:


 y <- c(1.84147098480790, 1.90929742682568, 1.14112000805987,
 0.243197504692072, -0.958924274663133,0.720584501801074,
 1.65698659871879, 1.98935824662338, 1.41211848524176,0.45597888911063)

 plot(y,ylim=c(0.0000000001,2),type="l",log="y")

 x <- 1:10
 temp <- which(y<0)
 polygon(x[-temp], y[-temp], col="red")


Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.pletcher at ucl.ac.uk  Sat Sep 23 23:15:34 2000
From: s.pletcher at ucl.ac.uk (Scott D. Pletcher)
Date: Sat, 23 Sep 2000 22:15:34 +0100
Subject: [R] Simple Question
Message-ID: <39CD1D76.EFD0FFF6@ucl.ac.uk>

Hi All,
I am sure there is an obvious answer for this, but I can seem to find it
in the docs.

I  have a very simple data set with two random effects nested in a
single fixed effect.  I would like to estimate the variance components
for the random effects and the p-value for the fixed effect using ML or
REML.  I usually use the function varcomp in S-plus, but it doesn't
exist in R.  Moreover I tried to use nlme, but despite staring at the
help files for a long time I can't seem to get it working.   

Can anyone point me in the right direction on this?


Thanks in advance,
Scott
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Sun Sep 24 02:46:24 2000
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Sun, 24 Sep 2000 12:46:24 +1200
Subject: [R] Crosstabulation
In-Reply-To: <5.0.0.25.0.20000923135507.02667240@127.0.0.1>
Message-ID: <200009240039.MAA09288@gosset.stats.waikato.ac.nz>

I can't seem to find a function in R similar to Splus crosstabs() for
creating a multi-way table from factors and a count vector.


Murray Jorgensen


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Sun Sep 24 17:55:12 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Sun, 24 Sep 2000 11:55:12 -0400
Subject: [R] Folding ?
Message-ID: <000701c0263f$d3743f60$0201a8c0@Workgroup>

Hi,

I need to write a function that would look something like this:

 S <- function(b=betas){
     expression(b[1] * f(b[2] * x * f(b[3] * x * f(...b[n-1] * x * f(b[n] *
x)))...)
}

Where n is the number of element in b.

Further I need to be able to evaluate S at some x numerically of course and
I need to use "deriv" and produce dS/dx such that I can evaluate it also at
some x.

I tried building the S expression manually to test the deriv (D) function,
evaluate them both and everything work's fine.

My trouble is automating the building of the expression S that is dependent
on the length of b.

Any suggestion are welcome.

Thanks in advance.

Yves Gauvreau

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From anhoej at dadlnet.dk  Sun Sep 24 21:16:31 2000
From: anhoej at dadlnet.dk (=?us-ascii?Q?Jacob_Anhoj?=)
Date: Sun, 24 Sep 2000 21:16:31 +0200
Subject: FW: [R] Crosstabulation
Message-ID: <000001c0265c$0f483110$729f2fc3@pc2529>

how about this: tapply(vector,list(factor1,factor2),function)?

-----Original Message-----
From: owner-r-help at stat.math.ethz.ch
[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Murray Jorgensen
Sent: 24. september 2000 02:46
To: R-help
Subject: [R] Crosstabulation


I can't seem to find a function in R similar to Splus crosstabs() for
creating a multi-way table from factors and a count vector.


Murray Jorgensen


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From hornik at ci.tuwien.ac.at  Mon Sep 25 00:26:29 2000
From: hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 25 Sep 2000 00:26:29 +0200
Subject: [R] Crosstabulation
In-Reply-To: <200009240039.MAA09288@gosset.stats.waikato.ac.nz>
References: <5.0.0.25.0.20000923135507.02667240@127.0.0.1>
	<200009240039.MAA09288@gosset.stats.waikato.ac.nz>
Message-ID: <200009242226.AAA25942@fangorn.ci.tuwien.ac.at>

>>>>> Murray Jorgensen writes:

> I can't seem to find a function in R similar to Splus crosstabs() for
> creating a multi-way table from factors and a count vector.

R 1.2 (r-devel) has a function xtabs() which provides a formula
interface to cross tabulation.

In R 1.1, table() or ftable() might also do what you want.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Mon Sep 25 01:38:44 2000
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Mon, 25 Sep 2000 11:38:44 +1200
Subject: FW: [R] Crosstabulation
In-Reply-To: <000001c0265c$0f483110$729f2fc3@pc2529>
Message-ID: <200009242339.LAA13924@gosset.stats.waikato.ac.nz>

At 09:16 PM 24-09-00 +0200, =?us-ascii?Q?Jacob_Anhoj?= wrote:
>how about this: tapply(vector,list(factor1,factor2),function)?

Thank you, Jacob.  I've tried it out on this example on housing
satisfaction in
Copenhagen taken from Annette Dobson's book on GLMs. It works fine!

count <- scan()
65 130 67 54 76 48 100 111 62 34 141 130 47 116 105 100 191 104

s <- c("Lo", "Med", "Hi")
satisfaction <- factor( rep(c(s,s), rep(3,6)),
                 levels = c("Lo","Med","Hi"))
contact <- factor( rep(c("Low","High"), rep(9,2)),
                 levels = c("Low","High"))
r <- c("Tower", "Flat", "House")
residence <- factor(rep(r,6))


tapply(count,list(satisfaction,contact,residence),sum)




>-----Original Message-----
>From: owner-r-help at stat.math.ethz.ch
>[mailto:owner-r-help at stat.math.ethz.ch]On Behalf Of Murray Jorgensen
>Sent: 24. september 2000 02:46
>To: R-help
>Subject: [R] Crosstabulation
>
>
>I can't seem to find a function in R similar to Splus crosstabs() for
>creating a multi-way table from factors and a count vector.
>
>
>Murray Jorgensen

Dr Murray Jorgensen       http://www.stats.waikato.ac.nz/Staff/maj.html 
Department of Statistics, University of Waikato, Hamilton, New Zealand 
*Applications Editor, Australian and New Zealand Journal of Statistics* 
maj at waikato.ac.nz Phone +64-7 838 4773 home phone 856 6705 Fax 838 4155

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From saikat at stat.wisc.edu  Mon Sep 25 06:25:51 2000
From: saikat at stat.wisc.edu (Saikat DebRoy)
Date: 24 Sep 2000 23:25:51 -0500
Subject: [R] Folding ?
In-Reply-To: "Yves Gauvreau"'s message of "Sun, 24 Sep 2000 11:55:12 -0400"
References: <000701c0263f$d3743f60$0201a8c0@Workgroup>
Message-ID: <qxpog1dqer4.fsf@verdi.stat.wisc.edu>

>>>>> "Yves" == Yves Gauvreau <cyg at sympatico.ca> writes:

> Hi,
> I need to write a function that would look something like this:

>  S <- function(b=betas){
>      expression(b[1] * f(b[2] * x * f(b[3] * x * f(...b[n-1] * x * f(b[n] *
> x)))...)
> }

> Where n is the number of element in b.

> Further I need to be able to evaluate S at some x numerically of course and
> I need to use "deriv" and produce dS/dx such that I can evaluate it also at
> some x.

> I tried building the S expression manually to test the deriv (D) function,
> evaluate them both and everything work's fine.

> My trouble is automating the building of the expression S that is dependent
> on the length of b.

Try the following.

fold.fun <-
    function(b, f, name.var = x)
{
    if (length(b) == 0)
        return(1)
    name.var <- substitute(name.var)
    if (is.character(name.var))
        name.var <- as.name(name.var)
    fun <- quote((f))
    fun[[2]] <- substitute(f)
    ans <- quote(u*y)
    ans[[2]] <- b[length(b)]
    ans[[3]] <- namevec
    for (i in seq(length = length(b)-1)) {
        ans1 <- quote(u * y * f(v))
        ans1[[2]][[2]] <- b[i]
        ans1[[2]][[3]] <- name.var
        ans1[[3]][[1]] <- fun
        ans1[[3]][[2]] <- ans
        ans <- ans1
    }
    ans
}

You use it as in -

> fold.fun(1:2, exp)
1 * x * (exp)(2 * x)
> fold.fun(1:2, exp, y)
1 * y * (exp)(2 * y)

Hope this helps.

Saikat
-- 
Department of Statistics                       Email: saikat at stat.wisc.edu
University of Wisconsin - Madison              Phone: (608) 263 5948
1210 West Dayton Street                        Fax:   (608) 262 0032
Madison, WI 53706-1685
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From s.adi.purnomo at energylink.co.nz  Mon Sep 25 08:03:54 2000
From: s.adi.purnomo at energylink.co.nz (Peppy Adi Purnomo)
Date: Mon, 25 Sep 2000 18:03:54 +1200
Subject: [R] lme
Message-ID: <33344F2C6B6ED411996D0000F8790814024996@ELSRV1>

Hello,

do I get this from the contrib section?  there is nlme.zip there but not
sure how to implement it into my R (my version is 1011).  

thanks.
Peppy

-----Original Message-----
From: Prof Brian D Ripley [mailto:ripley at stats.ox.ac.uk]
Sent: Friday, 22 September 2000 18:34
To: Peppy Adi Purnomo
Cc: 'R - Help desk'
Subject: Re: [R] lme


On Fri, 22 Sep 2000, Peppy Adi Purnomo wrote:

> Hello,
> 
> I need to use a procedure in R that similar to lme in Splus.. is this

Which S-PLUS?  The version of lme in S-PLUS 2000 (and the announced 6.0)
is closely related to that in the add-on package nlme available
from CRAN (version numbers 3,x).  Earlier versions of S-PLUS are based on
nlme2 and have a different syntax.  I suggest you use the nlme3
version even if you have to convert example S-PLUS code. (Both
Pinheiro & Bates' book and V&R3 use the nlme syntax.)

> particular procedure has been implemented in the recent version?  thanks.

(Recent version of what?  R's current philosophy is to have a fairly
small core and lots of fairly small add-on packages, some of which ship
with R and more of which are on CRAN.  At present that's needed for
memory and performance reasons.  It's also helpful to distribute R in
fairly small pieces for download.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From clive.jenkins at clara.net  Mon Sep 25 08:00:06 2000
From: clive.jenkins at clara.net (Clive Jenkins)
Date: Mon, 25 Sep 2000 07:00:06 +0100
Subject: [R] Interpretation of Shapiro-Wilk
Message-ID: <39CEE9E6.2B1670E3@clara.net>

Can anybody tell me the exact meaning of the $statistic and $p.value
calculated by shapiro.test? Unfortunately it is not covered in my few
text books, and I cannot find the explanation in the R documentatiom or
on-line.

If I have a test statistic, T, which is Normally distributed with mean=m
and sd=s under the null hypothesis, then I can convert T to a p-value
(one-sided) using:

p <- pnorm(T, mean=m, sd=s)

If the distribution of T deviates from Normality, how can I modify the
above expression using the results of shapiro.test?

TIA,
Clive Jenkins

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Kurt.Hornik at ci.tuwien.ac.at  Mon Sep 25 08:44:20 2000
From: Kurt.Hornik at ci.tuwien.ac.at (Kurt Hornik)
Date: Mon, 25 Sep 2000 08:44:20 +0200 (CEST)
Subject: [R] Interpretation of Shapiro-Wilk
In-Reply-To: <39CEE9E6.2B1670E3@clara.net>
References: <39CEE9E6.2B1670E3@clara.net>
Message-ID: <14798.62532.15141.972311@fangorn.ci.tuwien.ac.at>

>>>>> Clive Jenkins writes:

> Can anybody tell me the exact meaning of the $statistic and $p.value
> calculated by shapiro.test? Unfortunately it is not covered in my few
> text books, and I cannot find the explanation in the R documentatiom or
> on-line.

> If I have a test statistic, T, which is Normally distributed with mean=m
> and sd=s under the null hypothesis, then I can convert T to a p-value
> (one-sided) using:

> p <- pnorm(T, mean=m, sd=s)

> If the distribution of T deviates from Normality, how can I modify the
> above expression using the results of shapiro.test?

You can use shapiro.test(x) for testing whether x (a numeric vector with
length in [3, 5000]) comes from a normal distribution.  The test is
based on the correlation between the ranks of the sample and those of a
standard normal distribution.  The p value indicates how significant the
deviation from 1 (the correlation under the null of normality) is, i.e.,
how significantly the sample deviates from normality.

I don't see how you could use shapiro.test() in the above situation.

-k
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Sep 25 08:49:21 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 25 Sep 2000 08:49:21 +0200
Subject: [R] lme
References: <33344F2C6B6ED411996D0000F8790814024996@ELSRV1>
Message-ID: <39CEF571.E71CBEC9@statistik.uni-dortmund.de>

Peppy Adi Purnomo wrote:
> 
> Hello,
> 
> do I get this from the contrib section?  there is nlme.zip there but not
> sure how to implement it into my R (my version is 1011).

Right. You get it for example at
http://cran.r-project.org/bin/windows/windows-NT/contrib/

How to install packages is described in the R for Windows FAQ, section
3.1.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From William.Venables at cmis.CSIRO.AU  Mon Sep 25 09:12:48 2000
From: William.Venables at cmis.CSIRO.AU (Bill Venables)
Date: Mon, 25 Sep 2000 17:12:48 +1000
Subject: [R] Folding ? 
In-Reply-To: Your message of "Sun, 24 Sep 2000 11:55:12 -0400."
             <000701c0263f$d3743f60$0201a8c0@Workgroup> 
Message-ID: <200009250713.SAA12045@snowy.nsw.cmis.CSIRO.AU>

> Hi,
> 
> I need to write a function that would look something like this:
> 
>  S <- function(b=betas){
>      expression(b[1] * f(b[2] * x * f(b[3] * x * f(...b[n-1] * x * f(b[n] *
> x)))...)
> }
> 
> Where n is the number of element in b.

I see Saikat Debroy has already responded to this, but here is
(possibly) a simpler version.  It is a function that returns a list of
two functions, one of which is S as above (assuming the leading part
is missing an "x") and the other of which is the derivative, dS/dx:

makeS <- function(b, f) {
  f <- deparse(substitute(f))
  b <- rev(b)
  ex <- call("*", b[1], as.name("x"))
  b <- b[-1]
  while(length(b) > 0) {
    ex <- call("*", b[1],
               call("*", as.name("x"),
                    call(f, ex)))
    b <- b[-1]
  }
  S <- function(x) NULL
  body(S) <- ex
  dS <- function(x) NULL
  body(dS) <- D(ex, "x")
  list(S = S, dS = dS)
}

Here is a small example:

> makeS(5:1, sqrt)
$S
function (x) 
5 * x * sqrt(4 * x * sqrt(3 * x * sqrt(2 * x * sqrt(1 * x))))
<environment: 678810>

$dS
function (x) 
5 * (sqrt(4 * (x * sqrt(3 * (x * sqrt(2 * (x * sqrt(1 * x))))))) + 
    x * (0.5 * (4 * (sqrt(3 * (x * sqrt(2 * (x * sqrt(1 * x))))) + 
        x * (0.5 * (3 * (sqrt(2 * (x * sqrt(1 * x))) + x * (0.5 * 
            (2 * (sqrt(1 * x) + x * (0.5 * 1 * x^-0.5)) * 2 * 
                (x * sqrt(1 * x))^-0.5))) * 3 * (x * sqrt(2 * 
            (x * sqrt(1 * x))))^-0.5))) * 4 * (x * sqrt(3 * (x * 
        sqrt(2 * (x * sqrt(1 * x))))))^-0.5)))
<environment: 678810>

You could probably do it a little more cleverly if you closures but 
you would not be able to read the functions you get very well.

> Further I need to be able to evaluate S at some x numerically of course and
> I need to use "deriv" and produce dS/dx such that I can evaluate it also at
> some x.

> ms <- makeS(5:1, sqrt)
> S <- ms[[1]]
> S(1:10)
 [1]   14.352   54.974  120.596  210.572  324.462  461.931
 [7]  622.711  806.577 1013.337 1242.822
> dS <- ms[[2]]
> dS(1:10)
 [1]  27.807  53.256  77.885 101.996 125.729 149.165 172.358
 [8] 195.343 218.149 240.797

> I tried building the S expression manually to test the deriv (D) function,
> evaluate them both and everything work's fine.
> 
> My trouble is automating the building of the expression S that is dependent
> on the length of b.
> 
> Any suggestion are welcome.

Use a loop.

Bill Venables.
-- 
Bill Venables,      Statistician,     CMIS Environmetrics Project
CSIRO Marine Labs, PO Box 120, Cleveland, Qld,  AUSTRALIA.   4163
Tel: +61 7 3826 7251           Email: Bill.Venables at cmis.csiro.au    
Fax: +61 7 3826 7304      http://www.cmis.csiro.au/bill.venables/



-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Mon Sep 25 09:24:26 2000
From: plummer at iarc.fr (Martyn Plummer)
Date: Mon, 25 Sep 2000 09:24:26 +0200 (CEST)
Subject: [R] [?] RPM install problems (Linux)
In-Reply-To: <Pine.GSO.3.96.1000922174226.7381A-100000@bernoulli>
Message-ID: <XFMail.000925092426.plummer@iarc.fr>

On 22-Sep-00 Francisco Cribari wrote:
> 
> When I try to install the R RPM under Mandrake Linux 7.1 (intel),
  ...

The Red Hat RPMS are compiled for Red Hat Linux.  Although Mandrake
started off as Red Hat + KDE, the two distributions are now diverging,
and there is no guarantee of binary compatibility. Ideally, there
should be a separate binary RPM package for Mandrake.

It would be nice if someone who uses R on Mandrake would take on board
this task.  It is not especially hard work, and simply involves
installing the required development packages, then rebuilding the
source RPM.

Any volunteers?

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep 25 09:37:03 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Sep 2000 09:37:03 +0200
Subject: [R] Interpretation of Shapiro-Wilk
In-Reply-To: Kurt Hornik's message of "Mon, 25 Sep 2000 08:44:20 +0200 (CEST)"
References: <39CEE9E6.2B1670E3@clara.net> <14798.62532.15141.972311@fangorn.ci.tuwien.ac.at>
Message-ID: <x2n1gwudls.fsf@blueberry.kubism.ku.dk>

Kurt Hornik <Kurt.Hornik at ci.tuwien.ac.at> writes:

> standard normal distribution.  The p value indicates how significant the
> deviation from 1 (the correlation under the null of normality) is, i.e.,

Um. The *ideal* linear correlation under normality. Even for truly normal
samples, the correlation is of course always < 1.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From paradis at isem.univ-montp2.fr  Mon Sep 25 10:36:10 2000
From: paradis at isem.univ-montp2.fr (Emmanuel Paradis)
Date: Mon, 25 Sep 2000 10:36:10 +0200
Subject: [R] lme
Message-ID: <3.0.32.20000925103609.008e7450@162.38.183.200>

At 18:03 25/09/00 +1200, you wrote:
>Hello,
>
>do I get this from the contrib section?  there is nlme.zip there but not
>sure how to implement it into my R (my version is 1011).  
>
>thanks.
>Peppy

I guess you are under Windows. In the R for Windows-FAQ...

3.1 Can I install packages (libraries) in this version?

Yes, of course. The easy way is to see if a pre-compiled binary version of
the package is available: look on CRAN at
bin/windows/windows-NT/contrib. If there is, download the zip file and
unpack it in the rwXxxx\library
directory, using unzip or similar, or using the installer rwinst.exe.
Perhaps even easier is to use the R function
install.packages(): check out its help page. 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From maj at waikato.ac.nz  Mon Sep 25 12:46:20 2000
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Mon, 25 Sep 2000 22:46:20 +1200
Subject: [R] Problem loading MASS library
In-Reply-To: <200009242339.LAA13924@gosset.stats.waikato.ac.nz>
References: <000001c0265c$0f483110$729f2fc3@pc2529>
Message-ID: <200009251040.WAA16398@gosset.stats.waikato.ac.nz>

Dear list,

I can't seem to be able to load the MASS library into my R session (Windows
98; Pentium 133):

R : Copyright 2000, The R Development Core Team
Version 1.0.1  (April 14, 2000)
[...]
> library(MASS)
Error in dyn.load(x, as.logical(local), as.logical(now)) : 
        unable to load shared library
"D:\PROGRA~1\RW1001/library/MASS/libs/MASS.dll":
  LoadLibrary failure


Those mixed \s and /s look  bit funny. Ideas anyone?

Murray Jorgensen
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mikalzet at libero.it  Mon Sep 25 14:02:13 2000
From: mikalzet at libero.it (mikalzet@libero.it)
Date: Mon, 25 Sep 2000 14:02:13 +0200 (CEST)
Subject: [R] [?] RPM install problems (Linux)
In-Reply-To: <XFMail.000925092426.plummer@iarc.fr>
Message-ID: <Pine.LNX.4.21.0009251354350.2434-100000@localhost.localdomain>


On Mon, 25 Sep 2000, Martyn Plummer wrote:

> It would be nice if someone who uses R on Mandrake would take on board
> this task.  It is not especially hard work, and simply involves
> installing the required development packages, then rebuilding the
> source RPM.

I guess that partly comes to me :-)) 
As an R learner ( not yet user : I am not managing to get the data I want
to work with from a series of .dbf and .ntx files built by an old clipper
program whose authors no longer care about ... the problem is not so much
the files themselves as not losing the information as to the relevant
correlations ) I am very grateful to all that I read on this list, so ...
I would like to help. 
However: it is a little less than a year I've been
using linux and so far the times I tried to build RPM's it didn't work. 
If someone could be so kind as to explain exactly what is needed I can try 
again !

-- 
Dr. Michele Alzetta M.D.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From cyg at sympatico.ca  Mon Sep 25 14:08:57 2000
From: cyg at sympatico.ca (Yves Gauvreau)
Date: Mon, 25 Sep 2000 08:08:57 -0400
Subject: [R] Folding ? 
References: <200009250713.SAA12045@snowy.nsw.cmis.CSIRO.AU>
Message-ID: <001901c026e9$61ca0980$0201a8c0@Workgroup>


----- Original Message -----
From: "Bill Venables" <William.Venables at cmis.CSIRO.AU>
To: "Yves Gauvreau" <cyg at sympatico.ca>
Cc: <r-help at stat.math.ethz.ch>; <Bill.Venables at cmis.csiro.au>
Sent: Monday, September 25, 2000 3:12 AM
Subject: Re: [R] Folding ?


> > Hi,
> >
> > I need to write a function that would look something like this:
> >
> >  S <- function(b=betas){
> >      expression(b[1] * f(b[2] * x * f(b[3] * x * f(...b[n-1] * x *
f(b[n] *
> > x)))...)
> > }
> >
> > Where n is the number of element in b.
>
> I see Saikat Debroy has already responded to this, but here is
> (possibly) a simpler version.  It is a function that returns a list of
> two functions, one of which is S as above (assuming the leading part
> is missing an "x") and the other of which is the derivative, dS/dx:
>

No, "x" is not missing. I double check and from 2 different source beside
that. I checked out an idea while waiting and I came up with this:

makeS <- function(b){
  txt <- "1"
  for(i in length(b):2){
    txt <- paste("exp(", b[i], " * x * ", txt, ")", sep="")
  }
  txt <- paste(b[1], " * ", txt, sep="")
  as.expression(parse(text=txt))
}

It seems to work, I think though, it's not as elegant as yours and it shows
a non functional approach.
I can modify your function to account for the added "x".

Thanks to all

Yves Gauvreau



> makeS <- function(b, f) {
>   f <- deparse(substitute(f))
>   b <- rev(b)
>   ex <- call("*", b[1], as.name("x"))
>   b <- b[-1]
>   while(length(b) > 0) {
>     ex <- call("*", b[1],
>                call("*", as.name("x"),
>                     call(f, ex)))
>     b <- b[-1]
>   }
>   S <- function(x) NULL
>   body(S) <- ex
>   dS <- function(x) NULL
>   body(dS) <- D(ex, "x")
>   list(S = S, dS = dS)
> }
>
> Here is a small example:
>
> > makeS(5:1, sqrt)
> $S
> function (x)
> 5 * x * sqrt(4 * x * sqrt(3 * x * sqrt(2 * x * sqrt(1 * x))))
> <environment: 678810>
>
> $dS
> function (x)
> 5 * (sqrt(4 * (x * sqrt(3 * (x * sqrt(2 * (x * sqrt(1 * x))))))) +
>     x * (0.5 * (4 * (sqrt(3 * (x * sqrt(2 * (x * sqrt(1 * x))))) +
>         x * (0.5 * (3 * (sqrt(2 * (x * sqrt(1 * x))) + x * (0.5 *
>             (2 * (sqrt(1 * x) + x * (0.5 * 1 * x^-0.5)) * 2 *
>                 (x * sqrt(1 * x))^-0.5))) * 3 * (x * sqrt(2 *
>             (x * sqrt(1 * x))))^-0.5))) * 4 * (x * sqrt(3 * (x *
>         sqrt(2 * (x * sqrt(1 * x))))))^-0.5)))
> <environment: 678810>
>
> You could probably do it a little more cleverly if you closures but
> you would not be able to read the functions you get very well.
>
> > Further I need to be able to evaluate S at some x numerically of course
and
> > I need to use "deriv" and produce dS/dx such that I can evaluate it also
at
> > some x.
>
> > ms <- makeS(5:1, sqrt)
> > S <- ms[[1]]
> > S(1:10)
>  [1]   14.352   54.974  120.596  210.572  324.462  461.931
>  [7]  622.711  806.577 1013.337 1242.822
> > dS <- ms[[2]]
> > dS(1:10)
>  [1]  27.807  53.256  77.885 101.996 125.729 149.165 172.358
>  [8] 195.343 218.149 240.797
>
> > I tried building the S expression manually to test the deriv (D)
function,
> > evaluate them both and everything work's fine.
> >
> > My trouble is automating the building of the expression S that is
dependent
> > on the length of b.
> >
> > Any suggestion are welcome.
>
> Use a loop.
>
> Bill Venables.
> --
> Bill Venables,      Statistician,     CMIS Environmetrics Project
> CSIRO Marine Labs, PO Box 120, Cleveland, Qld,  AUSTRALIA.   4163
> Tel: +61 7 3826 7251           Email: Bill.Venables at cmis.csiro.au
> Fax: +61 7 3826 7304      http://www.cmis.csiro.au/bill.venables/
>
>
>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Mon Sep 25 15:49:07 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Mon, 25 Sep 2000 15:49:07 +0200
Subject: [R] Problem loading MASS library
References: <000001c0265c$0f483110$729f2fc3@pc2529> <200009251040.WAA16398@gosset.stats.waikato.ac.nz>
Message-ID: <39CF57D3.308F1C1B@statistik.uni-dortmund.de>

Murray Jorgensen wrote:
> 
> Dear list,
> 
> I can't seem to be able to load the MASS library into my R session (Windows
> 98; Pentium 133):
> 
> R : Copyright 2000, The R Development Core Team
> Version 1.0.1  (April 14, 2000)
> [...]
> > library(MASS)
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>         unable to load shared library
> "D:\PROGRA~1\RW1001/library/MASS/libs/MASS.dll":
>   LoadLibrary failure
> 
> Those mixed \s and /s look  bit funny. Ideas anyone?


You should upgrade to R-1.1.1 and also install the latest MASS package.

Uwe Ligges
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rgentlem at stat.auckland.ac.nz  Mon Sep 25 17:13:23 2000
From: rgentlem at stat.auckland.ac.nz (Robert Gentleman)
Date: Tue, 26 Sep 2000 03:13:23 +1200
Subject: [R] methods for interval-censored data
In-Reply-To: <3.0.32.20000919151403.008f9610@162.38.183.200>; from Emmanuel Paradis on Tue, Sep 19, 2000 at 03:14:04PM +0200
References: <3.0.32.20000919151403.008f9610@162.38.183.200>
Message-ID: <20000926031323.G11007@stat1.stat.auckland.ac.nz>

On Tue, Sep 19, 2000 at 03:14:04PM +0200, Emmanuel Paradis wrote:
> Dear all,
> 
> Are there functions or packages in R that can handle interval-censored
> data? I have looked in various packages (such as survival5 or event), but
> it seems that only right-censored data can be analysed.
> 
> More generally, are there methods to analyse both interval-censored
> observations and right-censored observations in the same data set?
> 
> Thanks in advance.
> 
> Emmanuel Paradis


  I have  a reasonably large set of methods for finding the NPMLE for
  any type of censored data in up to 2 dimensions. Higher dimensions
  will require some programming and they software isn't nicely packaged yet.

  robert
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._

-- 
+-------------------------------------------------------------------------+
| Robert Gentleman              phone : (64-9) 3737-599 ext 3946          | 
| Senior Lecturer               fax :   (64-9) 3737-018                   |
| Department of Statistics      office : Room 206 Maths/Physics           |
| University of Auckland	email : rgentlem at stat.auckland.ac.nz      |
+-------------------------------------------------------------------------+
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Mon Sep 25 17:33:20 2000
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Mon, 25 Sep 2000 17:33:20 +0200
Subject: No subject
Message-ID: <5.0.0.25.0.20000925172450.02931180@127.0.0.1>

Dear friends. In Carlin and Louis "Bayes and emperical Bayes methods.." 
1996 the classical example of 12 independent tosses of a fair coin 
producing 9 heads and 3 tails is given. If the situation is seen as a fixed 
sample of 12, a binomial lieklihood is used, and Carlin et al reports a 
probability of 0.075.
Using sum(dbinom(9:12,12,.5)) I obtain 0.073
Likewise, if the experiment is seen as continuing until 3 tails are noted, 
a negative binomial is used, and the authors find P = 0.0325, whereas 
sum(dnbinom(9:1000,3,.5)) gives 0.0327.
These differences may be small - but who is right, either R or Carlin - or 
did I do it wrong ?

Best wishes

Troels

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Mon Sep 25 17:43:17 2000
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Mon, 25 Sep 2000 16:43:17 +0100
Subject: [R] Chi-square test for trend
In-Reply-To: <3.0.32.20000925103609.008e7450@162.38.183.200>
References: <3.0.32.20000925103609.008e7450@162.38.183.200>
Message-ID: <h7DQmGAVK3z5EwzQ@myatt.demon.co.uk>


Dear R Folk,

Is there a function to do a chi-square test for trend or equivalent in
R. I can write one myself but I was wondering, before I get down to it,
if I need to re-invent the wheel.

Thanks

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Mon Sep 25 18:01:08 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 25 Sep 2000 18:01:08 +0200
Subject: [R] Chi-square test for trend
In-Reply-To: Mark Myatt's message of "Mon, 25 Sep 2000 16:43:17 +0100"
References: <3.0.32.20000925103609.008e7450@162.38.183.200> <h7DQmGAVK3z5EwzQ@myatt.demon.co.uk>
Message-ID: <x24s345um3.fsf@blueberry.kubism.ku.dk>

Mark Myatt <mark at myatt.demon.co.uk> writes:

> Dear R Folk,
> 
> Is there a function to do a chi-square test for trend or equivalent in
> R. I can write one myself but I was wondering, before I get down to it,
> if I need to re-invent the wheel.

Will prop.trend.test do what you want? 

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Mon Sep 25 18:01:06 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Mon, 25 Sep 2000 09:01:06 -0700 (PDT)
Subject: [R] Re: your mail
In-Reply-To: <5.0.0.25.0.20000925172450.02931180@127.0.0.1>
Message-ID: <Pine.GSO.4.21.0009250853170.4351-100000@atlas.biostat.washington.edu>

On Mon, 25 Sep 2000, Troels Ring wrote:

> Dear friends. In Carlin and Louis "Bayes and emperical Bayes methods.." 
> 1996 the classical example of 12 independent tosses of a fair coin 
> producing 9 heads and 3 tails is given. If the situation is seen as a fixed 
> sample of 12, a binomial lieklihood is used, and Carlin et al reports a 
> probability of 0.075.
> Using sum(dbinom(9:12,12,.5)) I obtain 0.073

For this one you can easily calculate it directly
  choose(12,9:12)*0.5^12
gives the same as dbinom(9:12,12,0.5) to machine precision, and you can
check by hand that choose(12,9:12) is giving the right answer. Also
  1-pbinom(8,12,0.5) 
gives the same answer using a different method.

The negative binomial is harder to check by hand, but the binomial
suggests that R is doing it right.  I'm not sure what the book does --
their answer does not come from rounding the summands to a fixed number of
significant digits or decimal places.

	-thomas

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From tring at mail1.stofanet.dk  Mon Sep 25 17:45:50 2000
From: tring at mail1.stofanet.dk (Troels Ring)
Date: Mon, 25 Sep 2000 17:45:50 +0200
Subject: [R] binom and negbinom
Message-ID: <5.0.0.25.0.20000925173454.0292d9e0@127.0.0.1>


Dear friends. In Carlin and Louis "Bayes and emperical Bayes methods.." 
1996 the classical example of 12 independent tosses of a fair coin 
producing 9 heads and 3 tails is given. If the situation is seen as a fixed 
sample of 12, a binomial lieklihood is used, and Carlin et al reports a 
probability of 0.075.
Using sum(dbinom(9:12,12,.5)) I obtain 0.073
Likewise, if the experiment is seen as continuing until 3 tails are noted, 
a negative binomial is used, and the authors find P = 0.0325, whereas 
sum(dnbinom(9:1000,3,.5)) gives 0.0327.
These differences may be small - but who is right, either R or Carlin - or 
did I do it wrong ?


Best wishes

Troels 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep 26 00:31:14 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Sep 2000 00:31:14 +0200
Subject: [R] [?] RPM install problems (Linux)
In-Reply-To: Martyn Plummer's message of "Mon, 25 Sep 2000 09:24:26 +0200 (CEST)"
References: <XFMail.000925092426.plummer@iarc.fr>
Message-ID: <x2g0moqf2l.fsf@blueberry.kubism.ku.dk>

Martyn Plummer <plummer at iarc.fr> writes:

> On 22-Sep-00 Francisco Cribari wrote:
> > 
> > When I try to install the R RPM under Mandrake Linux 7.1 (intel),
>   ...
> 
> The Red Hat RPMS are compiled for Red Hat Linux.  Although Mandrake
> started off as Red Hat + KDE, the two distributions are now diverging,
> and there is no guarantee of binary compatibility. Ideally, there
> should be a separate binary RPM package for Mandrake.

...although the present issue would seem to cure itself by RedHat-7.0
including the following

  readline-4.1-5.i386.rpm              156 Kb    Wed Aug 30 22:16:00 2000 
  readline-devel-4.1-5.i386.rpm        101 Kb    Wed Aug 30 22:16:00 2000 
  readline2.2.1-2.2.1-2.i386.rpm        86 Kb    Wed Aug 30 22:16:00 2000 
 
I.e. you get compatibility with binaries compiled with readline2.2
(libreadline.so.3 -- don't ask!) but any new compiles get
libreadline.so.4. 

(and the compilers have been replaced with the gcc 2.96 suite, so
hopefully the dynload problems will be dead and gone)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Michael.Pronath at ei.tum.de  Tue Sep 26 10:12:24 2000
From: Michael.Pronath at ei.tum.de (Michael Pronath)
Date: Tue, 26 Sep 2000 10:12:24 +0200
Subject: [R] lm -- significance of x coefficient when I(x^2) is used
Message-ID: <20000926101224.A24887@eda.ei.tum.de>


 In "Modern Applied Statistics with S-Plus" 3rd ed., footnote on page 153
 regarding a model lm(Gas~Insul/(Temp+I(Temp^2))-1,whiteside), I read

     "Notice that when the quadratic terms are present, first degree
      coefficients mean 'the slope of the curve at temperature zero', so a
      non-significant value does not mean that the linear term is not
      needed. Removing the non-significant linear term for the 'after'
      group, for example, would be unjustified."

 AFAIK, t-test for significance of a coefficient is not based on the
 assumption that the variables of the linear model are "independent".  What
 if I only got the model matrix X and I don't know, that one column is
 simply the square of another: Do I have to examine the model matrix for
 polynomial dependencies between its columns, to know if t-test significance
 is "significant"?

 If |t| is small for the 'slope of the curve at temperature zero', doesn't
 that just mean that 'slope of the curve at temperature zero' is not
 significantly different from 0 and that I had better set it to 0, i.e. omit
 the linear term?

 My only explanation for this is, that R somehow "detects" polynomial
 expressions in model formulae and treats them specially.

 Could anybody tell me a bit more on this subject?
 
 
 Michael Pronath
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Tue Sep 26 10:12:31 2000
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Tue, 26 Sep 2000 10:12:31 +0200 (CEST)
Subject: [R] Permutations
Message-ID: <Pine.LNX.4.21.0009260925180.32042-100000@artemis.imbe.med.uni-erlangen.de>


Hi, 

this is maybe not a real R problem but I want to solve this in R ;-)

Consider the set of all permutations of 1:N (=: S, say) and a fixed
element a from S. I now need to compute the number of permutations s from
S which are elementwise less or equal to a: | { s \in S | s <= a } |

Of cource, backtracking using a tree structure is possible. Does anyone
know an efficient way?

Torsten

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Tue Sep 26 10:11:46 2000
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Tue, 26 Sep 2000 09:11:46 +0100
Subject: [R] Chi-square test for trend - where is prop.trend.test?
In-Reply-To: <x24s345um3.fsf@blueberry.kubism.ku.dk>
References: <3.0.32.20000925103609.008e7450@162.38.183.200>
 <h7DQmGAVK3z5EwzQ@myatt.demon.co.uk> <x24s345um3.fsf@blueberry.kubism.ku.dk>
Message-ID: <D5h4GCACpF05EwOK@myatt.demon.co.uk>

Peter,

I wrote:

>> Is there a function to do a chi-square test for trend or equivalent in
>> R. I can write one myself but I was wondering, before I get down to it,
>> if I need to re-invent the wheel.

You replied:

>Will prop.trend.test do what you want? 

The name sounds right. Where do I find this function? I am running RWin
1.1.0.

Mark

--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep 26 10:42:38 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Sep 2000 10:42:38 +0200
Subject: [R] Permutations
In-Reply-To: Torsten Hothorn's message of "Tue, 26 Sep 2000 10:12:31 +0200 (CEST)"
References: <Pine.LNX.4.21.0009260925180.32042-100000@artemis.imbe.med.uni-erlangen.de>
Message-ID: <x2ya0fa6ip.fsf@blueberry.kubism.ku.dk>

Torsten Hothorn <Torsten.Hothorn at rzmail.uni-erlangen.de> writes:

> Hi, 
> 
> this is maybe not a real R problem but I want to solve this in R ;-)
> 
> Consider the set of all permutations of 1:N (=: S, say) and a fixed
> element a from S. I now need to compute the number of permutations s from
> S which are elementwise less or equal to a: | { s \in S | s <= a } |
> 
> Of cource, backtracking using a tree structure is possible. Does anyone
> know an efficient way?

Er, "elementwise less than or equal"? Maybe I got off on the wrong
foot today, but if you mean what I think you mean, I get

N can only be where it is in  a  or it would replace something smaller
N-1 could be where it is or where N was, but N mustn't move
...

I.e. I'd get the answer to be 1, namely a itself.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep 26 10:49:14 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Sep 2000 10:49:14 +0200
Subject: [R] Chi-square test for trend - where is prop.trend.test?
In-Reply-To: Mark Myatt's message of "Tue, 26 Sep 2000 09:11:46 +0100"
References: <3.0.32.20000925103609.008e7450@162.38.183.200> <h7DQmGAVK3z5EwzQ@myatt.demon.co.uk> <x24s345um3.fsf@blueberry.kubism.ku.dk> <D5h4GCACpF05EwOK@myatt.demon.co.uk>
Message-ID: <x2vgvja67p.fsf@blueberry.kubism.ku.dk>

Mark Myatt <mark at myatt.demon.co.uk> writes:

> Peter,
> 
> I wrote:
> 
> >> Is there a function to do a chi-square test for trend or equivalent in
> >> R. I can write one myself but I was wondering, before I get down to it,
> >> if I need to re-invent the wheel.
> 
> You replied:
> 
> >Will prop.trend.test do what you want? 
> 
> The name sounds right. Where do I find this function? I am running RWin
> 1.1.0.

That'll be 0.0.1 too little. It slipped throught the cracks for 1.1.0
and got inserted in 1.1.1

However, it is hardly rocket science:

prop.trend.test <-
function (x, n, score = 1:length(x)) 
{
    method <- "Chi Square Test for Trend in Proportions"
    dname <- paste(deparse(substitute(x)), "out of", deparse(substitute(n)))
    dname <- paste(dname, ",\n using scores:", paste(score, collapse = " "))
    freq <- x/n
    p <- sum(x)/sum(n)
    w <- n/p/(1 - p)
    a <- anova(lm(freq ~ score, weight = w))
    chisq <- a["score", "Sum Sq"]
    names(chisq) <- "X-squared"
    df <- 1
    names(df) <- "df"
    pval <- 1 - pchisq(chisq, 1)
    rval <- list(statistic = chisq, parameter = df, p.value = pval, 
        method = method, data.name = dname)
    class(rval) <- "htest"
    return(rval)
}

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Tue Sep 26 10:53:06 2000
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Tue, 26 Sep 2000 10:53:06 +0200 (CEST)
Subject: [R] Permutations
In-Reply-To: <x2ya0fa6ip.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.21.0009261051350.32042-100000@artemis.imbe.med.uni-erlangen.de>


> > Consider the set of all permutations of 1:N (=: S, say) and a fixed
> > element a from S. I now need to compute the number of permutations s from
> > S which are elementwise less or equal to a: | { s \in S | s <= a } |
> > 
> > Of cource, backtracking using a tree structure is possible. Does anyone
> > know an efficient way?
> 
> Er, "elementwise less than or equal"? Maybe I got off on the wrong
> foot today, but if you mean what I think you mean, I get

No, I got off on the wrong foot today:

> 
> N can only be where it is in  a  or it would replace something smaller
> N-1 could be where it is or where N was, but N mustn't move
> ...
> 
> I.e. I'd get the answer to be 1, namely a itself.
> 

1 is right. 

Torsten

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From plummer at iarc.fr  Tue Sep 26 11:00:45 2000
From: plummer at iarc.fr (Martyn Plummer)
Date: Tue, 26 Sep 2000 11:00:45 +0200 (CEST)
Subject: [R] lm -- significance of x coefficient when I(x^2) is used
In-Reply-To: <20000926101224.A24887@eda.ei.tum.de>
Message-ID: <XFMail.000926110045.plummer@iarc.fr>

On 26-Sep-00 Michael Pronath wrote:
> 
>  In "Modern Applied Statistics with S-Plus" 3rd ed., footnote on page 153
>  regarding a model lm(Gas~Insul/(Temp+I(Temp^2))-1,whiteside), I read
> 
>      "Notice that when the quadratic terms are present, first degree
>       coefficients mean 'the slope of the curve at temperature zero', so a
>       non-significant value does not mean that the linear term is not
>       needed. Removing the non-significant linear term for the 'after'
>       group, for example, would be unjustified."
> 
>  AFAIK, t-test for significance of a coefficient is not based on the
>  assumption that the variables of the linear model are "independent".  What
>  if I only got the model matrix X and I don't know, that one column is
>  simply the square of another: Do I have to examine the model matrix for
>  polynomial dependencies between its columns, to know if t-test significance
>  is "significant"?

I would hope that you never conduct an analysis without knowing what
the variables mean! Seriously, though, it is not a question that can
be answered by the formal representation of the model, but by its
interpretation. If `the slope of the curve at x=0' has some physical
interpretation, you _might_ be justified in eliminating the linear term
while keeping the quadratic one.  But temperature is a good example
of where this is not the case.  If you eliminate the linear term,
then change your temperature scale (from Centigrade to Fahrenheit),
the linear term will pop back out again.  In effect you are testing
a "hypothesis" that has no meaning. Don't do this.

Martyn
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From mark at myatt.demon.co.uk  Tue Sep 26 14:17:48 2000
From: mark at myatt.demon.co.uk (Mark Myatt)
Date: Tue, 26 Sep 2000 13:17:48 +0100
Subject: [R] Chi-square test for trend - where is prop.trend.test?
In-Reply-To: <x2vgvja67p.fsf@blueberry.kubism.ku.dk>
References: <3.0.32.20000925103609.008e7450@162.38.183.200>
 <h7DQmGAVK3z5EwzQ@myatt.demon.co.uk> <x24s345um3.fsf@blueberry.kubism.ku.dk>
 <D5h4GCACpF05EwOK@myatt.demon.co.uk> <x2vgvja67p.fsf@blueberry.kubism.ku.dk>
Message-ID: <lVKx9AAsPJ05EwJU@myatt.demon.co.uk>

Peter,

Thanks. That did the trick.

Mark

>That'll be 0.0.1 too little. It slipped throught the cracks for 1.1.0
>and got inserted in 1.1.1
>
>However, it is hardly rocket science:
>
>prop.trend.test <-
>function (x, n, score = 1:length(x)) 
>{
>    method <- "Chi Square Test for Trend in Proportions"
>    dname <- paste(deparse(substitute(x)), "out of", deparse(substitute(n)))
>    dname <- paste(dname, ",\n using scores:", paste(score, collapse = " "))
>    freq <- x/n
>    p <- sum(x)/sum(n)
>    w <- n/p/(1 - p)
>    a <- anova(lm(freq ~ score, weight = w))
>    chisq <- a["score", "Sum Sq"]
>    names(chisq) <- "X-squared"
>    df <- 1
>    names(df) <- "df"
>    pval <- 1 - pchisq(chisq, 1)
>    rval <- list(statistic = chisq, parameter = df, p.value = pval, 
>        method = method, data.name = dname)
>    class(rval) <- "htest"
>    return(rval)
>}
>


--
Mark Myatt


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From rls at pincock.com  Tue Sep 26 15:20:48 2000
From: rls at pincock.com (Bob Sandefur)
Date: Tue, 26 Sep 2000 06:20:48 -0700
Subject: [R] Variograms of weighted data ONLY SEMI-R SPECIFIC
Message-ID: <s9d0405d.038@hc4>

Hi
i
 I have some 
  x y z weighting_factor value
  .....
  .....

Which I want to variogram  (unweighted variogram(h)=0.5*average of squared difference of values separated by distance h)

I found one commerical package for this  but they use a formula like

         loop n samples
           var(ilag) = var(ilag) + [(wtpti*gradepti)-(wtptj*gradeptj)]**2
           wt(ilag) = wt(ilag) + (wtpi*wtpj)
         end of loop
then
         var(ilag) = var(ilag) * 0.5 / wt(ilag)

which scares me; consider the following data

x       1.0    1.1                                              5.0 5.1
wt     1 .0      .1                                                1  0.1
g         5       5                                                  5    5

at lag of 4+or - 1gives
 var=(1.0*5-1.0*5.0)^2+(1.0*5-0.1*5)^2+(0.1*5-1*5)^2+(0.1*5--0.1*5)^2
      = 4.5^2+4.5^2=20.25+20.25=40.5
 wt=1+0.1+0.1+1=2.2
 gamma=40.5/2.2=18.41
 and I  was hoping variogram of a constant = 0


  I would have guessed
         loop n samples
           var(ilag) =var(ilag) +((wtpti*wtptj)^n)* [(gradepti-gradeptj)]**2
           wt(ilag) = wt(ilag) + (wtpi*wtpj)^n
         end of loop
then
         var(ilag) = var(ilag) * 0.5 / wt(ilag)

where n=0.5 (ie sqrt) 

Questions:
Does anyone have any code, refereneces or  opinons on/for variography of weighed data?
Failing that do any r functions or packages use averages of weighted squared differences?

Thanks

Bob Sandefur
Principal Geostatistician
Pincock, Allen and Holt, Inc.
International Mineral Consultants
274 Union Blvd Suite 200
Lakewood, CO
80224
USA
303 914-4467 v
303 987-8907 fax
rls at pincock.com


  







Does anyone have any code, refereneces or  opinons on/for variography of weighed data>

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Torsten.Hothorn at rzmail.uni-erlangen.de  Tue Sep 26 15:23:37 2000
From: Torsten.Hothorn at rzmail.uni-erlangen.de (Torsten Hothorn)
Date: Tue, 26 Sep 2000 15:23:37 +0200 (CEST)
Subject: [R] Permutations
In-Reply-To: <x2ya0fa6ip.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.21.0009261521500.356-100000@artemis.imbe.med.uni-erlangen.de>


> > Consider the set of all permutations of 1:N (=: S, say) and a fixed
> > element a from S. I now need to compute the number of permutations s from
> > S which are elementwise less or equal to a: | { s \in S | s <= a } |
> > 
> > Of cource, backtracking using a tree structure is possible. Does anyone
> > know an efficient way?
> 
> Er, "elementwise less than or equal"? Maybe I got off on the wrong
> foot today, but if you mean what I think you mean, I get
> 
> N can only be where it is in  a  or it would replace something smaller
> N-1 could be where it is or where N was, but N mustn't move
> ...
> 
> I.e. I'd get the answer to be 1, namely a itself.


Well, here is (hopefully) the right problem:

consider again the set S of all permutations of 1:N. There is a 1:1
connection between a permutation s from S and the vector of its cumulative
sum: cumsum(s) = (s_1, s_1 + s_2, ..., s_1 +...s_N). Now one has a fixed
permutation a and therefore cumsum(a). The question is: if all permutations
have probability 1/N!, what is P(cumsum(s) <= cumsum(a)), in other words:
how many permutations s in S have cumsum(s) <= cumsum(a), elementwise ?

Example:

N = 3

permutation	cumsum
1 2 3	      1 3 6	*
1 3 2         1 4 6	*
2 1 3         2 3 6	*
2 3 1         2 5 6	*   
3 1 2         3 4 6
3 2 1         3 5 6
 
a := 2 3 1 => cumsum(a) = 2 5 6 and P(cumsum(s) <= cumsum(a)) = 4/6 (those
with * are the good ones)

Thanks for *ANY* hint ;-)

Torsten

 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Bill.Venables at cmis.csiro.au  Tue Sep 26 14:33:51 2000
From: Bill.Venables at cmis.csiro.au (Bill Venables)
Date: Tue, 26 Sep 2000 22:33:51 +1000
Subject: [R] lm -- significance of x coefficient when I(x^2) is used
Message-ID: <3.0.32.20000926223349.01228dd0@pophost.nsw.cmis.csiro.au>

At 10:12 26/09/00 +0200, Michael Pronath wrote:
>
> In "Modern Applied Statistics with S-Plus" 3rd ed., footnote on page 153
> regarding a model lm(Gas~Insul/(Temp+I(Temp^2))-1,whiteside), I read
>
>     "Notice that when the quadratic terms are present, first degree
>      coefficients mean 'the slope of the curve at temperature zero', so a
>      non-significant value does not mean that the linear term is not
>      needed. Removing the non-significant linear term for the 'after'
>      group, for example, would be unjustified."

I accept full responsibilty...  and I am sticking to my guns.  I think this
is a crucial point of inference often misunderstood.  It is at the core of
the reason why putting significance stars routinely on t-statistics is NOT
a good idea - by doing so you encourage confusion and unjustified inferences.

>
> AFAIK, t-test for significance of a coefficient is not based on the
> assumption that the variables of the linear model are "independent".  

Quite correct, it is not.

> What
> if I only got the model matrix X and I don't know, that one column is
> simply the square of another: Do I have to examine the model matrix for
> polynomial dependencies between its columns, to know if t-test significance
> is "significant"?

Let me start to answer by asking you "What does a `significant' t-test
result mean?"   To me it means that if someone were to pose the null
hypothesis that the mean (or in this case regression coefficient) were
zero, you would have, by convention, strong enough evidence to reject it.
If the result were `non-significant', by contrast, it does NOT allow you to
assert that the regression coefficient IS zero, it only means that you do
not have enough EVIDENCE to reject such a claim.  The real question is
whether or not it is a claim anyone would have good reason to make in the
first place - sometimes it would be, sometimes not.  In the case above I
would say from the context there is no good reason for anyone a priori to
claim that the derivative at temperature 0 should be zero, that is, that
the curve should necessarily be flat at that rather arbitrary point.  

>
> If |t| is small for the 'slope of the curve at temperature zero', doesn't
> that just mean that 'slope of the curve at temperature zero' is not
> significantly different from 0 

yes it does, but it is most likely not significantly different from 0 in a
range of temperature values near 0degC as well, where should you constrain
the curve to be flat?  

It comes back to the question of where would someone have good reason a
priori to pose the question "Is the curve flat HERE, and this very special
temperature?"  If there is no good reason to pose the question, why force
the model to conform to this arbitrary restrictrion?  Notice that this is
not quite the same thing as variable selection where Occam's principle is
the good reason for considering whether or not coefficients are zero.  

> and that I had better set it to 0, i.e. omit
> the linear term?

Ahh ... and you were doing so well, too!  Shocking as it may sound,
non-significance, by itself, is not a good enough reason to omit terms in a
regression, (provided of course you had a good reason for including them in
the first place).

>
> My only explanation for this is, that R somehow "detects" polynomial
> expressions in model formulae and treats them specially.

No, it doesn't but it would be nice if it could.  The same sort of
consideration comes into play when you have factor models with
interactions: no main effect term is removed when a higher way interaction
involving it is still present in the model.  This is exactly the same
principle at work.

>
> Could anybody tell me a bit more on this subject?

Only that it is often called "the marginality principle", it has caused
endless, heated and ultimately futile debates in the past, and that when
you finally get to see why it makes sense to think this way you immediately
see the exceptions and you start to get a deeper understanding of what
significance tests and model selection are all about.  

What strikes me as the crucial question in model selection problems like
this is "what group of transformations of the regressor variables should
the model selection process be invariant with respect to?"  For simple
polynomial regressions it is often (but certainly not always) reasonable to
require the model selection process to be invariant with respect to changes
of origin and scale in the predictor.  This immediately tells you that you
should at every stage be considering the leading (highest degree)
coefficient only and not those lower down, since by a change of origin and
scale you leave the highest degree coefficient t-statistic invariant, but
you can make any of the other t-statistics just about any value you damn
well like, and certainly zero.  Similarly with spatial regressions it may
be reasonable to require that the selection process be invariant with
respect to affine transformations of latitude and longitude, and, of
course, sometimes not.

Think about it and then, usually, I would say think some more...

Bill Venables.




> 
> Michael Pronath
>-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
.-.-
>r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
>Send "info", "help", or "[un]subscribe"
>(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
._._
>
>
--
Bill Venables, Statistician                         Tel. +61 7 3826 7251 
CSIRO Marine Laboratories,                          Fax. +61 7 3826 7304
Cleveland, Qld, 4163                  Email: Bill.Venables at cmis.csiro.au
AUSTRALIA                        http://www.cmis.csiro.au/bill.venables/


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Sep 26 16:27:14 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Tue, 26 Sep 2000 10:27:14 -0400 (EDT)
Subject: [R] weights in nls
Message-ID: <Pine.LNX.4.10.10009261025420.15349-100000@bolker.zoo.ufl.edu>


  Does the nls package actually allow for weighted nonlinear regression?
(i.e., I have data with individual variances associated, I'd like to use
1/var to weight the points.)  The "nls" function does have a weights
argument, but it doesn't seem to do anything as far as I can tell ...

  thanks ...

   Ben Bolker

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Sep 26 16:44:04 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 26 Sep 2000 09:44:04 -0500
Subject: [R] weights in nls
In-Reply-To: ben@zoo.ufl.edu's message of "Tue, 26 Sep 2000 10:27:14 -0400 (EDT)"
References: <Pine.LNX.4.10.10009261025420.15349-100000@bolker.zoo.ufl.edu>
Message-ID: <6rd7hrfc23.fsf@franz.stat.wisc.edu>

ben at zoo.ufl.edu writes:

>   Does the nls package actually allow for weighted nonlinear regression?
> (i.e., I have data with individual variances associated, I'd like to use
> 1/var to weight the points.)  The "nls" function does have a weights
> argument, but it doesn't seem to do anything as far as I can tell ...

Hmm.  You're right.  The weights argument is supposed to do something
but it does not appear to be functional.  I'll look at it.

In the meantime, you can use the approach that John Chambers and I
describe in chapter 10 of "Statistical Models in S" (a.k.a. the white
book) and write the model as a one sided formula giving the weighted
residual.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From nogueira at hc.unicamp.br  Tue Sep 26 18:24:34 2000
From: nogueira at hc.unicamp.br (Eduardo Nogueira)
Date: Tue, 26 Sep 2000 13:24:34 -0300
Subject: [R] Printing graphics
Message-ID: <002501c027d6$422ffe20$83826a8f@cat.hc.unicamp.br>

Dear R Users

How can I print graphics during R sessions (under Linux, in a
non-post-script printer)? I have tried the command -dev.print(device=X11)-
without success.

Thanks for your attention

Eduardo
_____________________________
Eduardo Arantes Nogueira, MD, PhD
Discipline of Cardiology
University of Campinas Medical School
Campinas, Sao Paulo, Brazil

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From bates at stat.wisc.edu  Tue Sep 26 18:41:37 2000
From: bates at stat.wisc.edu (Douglas Bates)
Date: 26 Sep 2000 11:41:37 -0500
Subject: [R] weights in nls
In-Reply-To: Douglas Bates's message of "26 Sep 2000 09:44:04 -0500"
References: <Pine.LNX.4.10.10009261025420.15349-100000@bolker.zoo.ufl.edu> <6rd7hrfc23.fsf@franz.stat.wisc.edu>
Message-ID: <6r7l7zds1q.fsf@franz.stat.wisc.edu>

Douglas Bates <bates at cs.wisc.edu> writes:

> In the meantime, you can use the approach that John Chambers and I
> describe in chapter 10 of "Statistical Models in S" (a.k.a. the white
> book) and write the model as a one sided formula giving the weighted
> residual.

I should have checked before I wrote that.  A one-sided formula
doesn't work.  You must use a vector of zeroes of the appropriate
length on the left hand side.

> library(nls)
> data(Puromycin)
> nls(rate ~ Vm * conc/(K + conc), data = Puromycin, weights = 1/conc, 
+    subset = state == "treated", start = c(Vm = 200, K = 0.05))
Nonlinear regression model
  model:  rate ~ Vm * conc/(K + conc) 
   data:  Puromycin 
          Vm            K 
212.68357970   0.06412103 
 residual sum-of-squares:  1195.449 
> nls(rep(0, length(conc)) ~ (rate - Vm * conc/(K + conc))* sqrt(conc), 
+   data = Puromycin, subset = state == "treated", start = c(Vm = 200, K = 0.05))
Nonlinear regression model
  model:  rep(0, length(conc)) ~ (rate - Vm * conc/(K + conc)) * sqrt(conc) 
   data:  Puromycin 
          Vm            K 
218.15162032   0.07471006 
 residual sum-of-squares:  137.4447 
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From philr at mail.austasia.net  Wed Sep 27 05:05:13 2000
From: philr at mail.austasia.net (Phil Rhoades)
Date: Wed, 27 Sep 2000 04:05:13 +0100
Subject: [R] Quickstart
In-Reply-To: <200008150004.KAA20462@snowy.nsw.cmis.CSIRO.AU>
References: <Your message of "Mon, 14 Aug 2000 11:25:35 +0100." <4675F8231FC@let.ish-lyon.cnrs.fr>
Message-ID: <4.3.1.0.20000927035513.00a9d5b0@mail.austasia.net>

Hi all,

I want to replace a couple of (Excel) steps in processing the output of 
some biological simulations - it should be easy for you guys so I was 
hoping for a quickstart from someone . .

I want to read values from a text file - 200 lines, 32 floats per line - 
and calculate a mean for each of the 32 values, so I would end up with an 
"x" vector of 1-200 and a "y" vector of the 200 means.

Thanks,

Phil.
-
Philip Rhoades

Pricom Pty Limited  (ACN  003 252 275)
GPO Box 3411
Sydney NSW	2001
Australia
Mobile:  +61:0411-185-652
Fax:  +61:2:8923-5363
E-mail:  philr at mail.austasia.net

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ben at zoo.ufl.edu  Tue Sep 26 19:21:15 2000
From: ben at zoo.ufl.edu (ben@zoo.ufl.edu)
Date: Tue, 26 Sep 2000 13:21:15 -0400 (EDT)
Subject: [R] weights in nls
In-Reply-To: <6r7l7zds1q.fsf@franz.stat.wisc.edu>
Message-ID: <Pine.LNX.4.10.10009261319570.15988-100000@bolker.zoo.ufl.edu>


  Thanks for your help.

  Ben Bolker


On 26 Sep 2000, Douglas Bates wrote:

> Douglas Bates <bates at cs.wisc.edu> writes:
> 
> > In the meantime, you can use the approach that John Chambers and I
> > describe in chapter 10 of "Statistical Models in S" (a.k.a. the white
> > book) and write the model as a one sided formula giving the weighted
> > residual.
> 
> I should have checked before I wrote that.  A one-sided formula
> doesn't work.  You must use a vector of zeroes of the appropriate
> length on the left hand side.
> 
> > library(nls)
> > data(Puromycin)
> > nls(rate ~ Vm * conc/(K + conc), data = Puromycin, weights = 1/conc, 
> +    subset = state == "treated", start = c(Vm = 200, K = 0.05))
> Nonlinear regression model
>   model:  rate ~ Vm * conc/(K + conc) 
>    data:  Puromycin 
>           Vm            K 
> 212.68357970   0.06412103 
>  residual sum-of-squares:  1195.449 
> > nls(rep(0, length(conc)) ~ (rate - Vm * conc/(K + conc))* sqrt(conc), 
> +   data = Puromycin, subset = state == "treated", start = c(Vm = 200, K = 0.05))
> Nonlinear regression model
>   model:  rep(0, length(conc)) ~ (rate - Vm * conc/(K + conc)) * sqrt(conc) 
>    data:  Puromycin 
>           Vm            K 
> 218.15162032   0.07471006 
>  residual sum-of-squares:  137.4447 
> 
> 

-- 
318 Carr Hall                                bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Tue Sep 26 19:31:32 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 26 Sep 2000 19:31:32 +0200
Subject: [R] Quickstart
In-Reply-To: Phil Rhoades's message of "Wed, 27 Sep 2000 04:05:13 +0100"
References: <Your message of "Mon, 14 Aug 2000 11:25:35 +0100." <4675F8231FC@let.ish-lyon.cnrs.fr> <4.3.1.0.20000927035513.00a9d5b0@mail.austasia.net>
Message-ID: <x2bsxbt5zf.fsf@blueberry.kubism.ku.dk>

Phil Rhoades <philr at mail.austasia.net> writes:

> Hi all,
> 
> I want to replace a couple of (Excel) steps in processing the output of 
> some biological simulations - it should be easy for you guys so I was 
> hoping for a quickstart from someone . .
> 
> I want to read values from a text file - 200 lines, 32 floats per line - 
> and calculate a mean for each of the 32 values, so I would end up with an 
> "x" vector of 1-200 and a "y" vector of the 200 means.

y <- apply(as.matrix(read.table("myfile")), 1, mean)
x <- seq(along=y)

(possibly adding a couple of options to read.table, depending on the
file format)

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Tue Sep 26 19:43:19 2000
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Tue, 26 Sep 2000 19:43:19 +0200 (MET DST)
Subject: [R] lm -- significance of x coefficient when I(x^2) is used
In-Reply-To: <3.0.32.20000926223349.01228dd0@pophost.nsw.cmis.csiro.au> from "Bill Venables" at Sep 26, 2000 10:33:51 PM
Message-ID: <200009261743.TAA14984@alpha.luc.ac.be>

Bill's excellent discussion (which I do not reproduce here) describes
precisely why I was (and still am) dead against having stars printed
as the default option in lm and glm. Let's get rid of that and let
people turn them on, if they want, in those cases in which they make
sense.
  Jim
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From jl7001 at axe.humboldt.edu  Tue Sep 26 23:31:50 2000
From: jl7001 at axe.humboldt.edu (Jack Lewis)
Date: Tue, 26 Sep 2000 14:31:50 -0700
Subject: [R] Object modification date
Message-ID: <39D115C5.AC707926@axe.humboldt.edu>

R-users:

Can someone tell me how to obtain the date and time an object was last
modified in R?
I'm using version 1.1.1 for Windows.

thanks

--
Jack Lewis                           Redwood Sciences Laboratory
707-825-2929 voice                   Pacific Southwest Research Station
707-825-2901 fax                     USDA Forest Service
jl7001 at axe.humboldt.edu              http://www.rsl.psw.fs.fed.us
jlewis01 at fs.fed.us (alternate)

           --------------------------------------------
Thought must be divided against itself before it can come to any
knowledge of itself.                             (Aldous Huxley)


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Tue Sep 26 23:45:45 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Tue, 26 Sep 2000 14:45:45 -0700 (PDT)
Subject: [R] Object modification date
In-Reply-To: <39D115C5.AC707926@axe.humboldt.edu>
Message-ID: <Pine.GSO.4.21.0009261444431.11005-100000@atlas.biostat.washington.edu>

On Tue, 26 Sep 2000, Jack Lewis wrote:

> R-users:
> 
> Can someone tell me how to obtain the date and time an object was last
> modified in R?

You can't.  That information is not stored.

You can tell when a workspace was last saved (look at the modification
time for the .RData file).


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From john.maindonald at anu.edu.au  Wed Sep 27 00:25:48 2000
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Wed, 27 Sep 2000 09:25:48 +1100 (EST)
Subject: [R] lm -- significance of x coefficient when I(x^2) is used
Message-ID: <200009262225.JAA03120@leonard.anu.edu.au>

> From: Jim Lindsey <james.lindsey at luc.ac.be>
> 
> Bill's excellent discussion (which I do not reproduce here) describes
> precisely why I was (and still am) dead against having stars printed
> as the default option in lm and glm. Let's get rid of that and let
> people turn them on, if they want, in those cases in which they make
> sense.

I agree.  When using R for teaching, they are a serious distraction,
and I find it absolutely necessary to turn them off.
There are very obtrusive.  If there was a way to vary the shade of
grey in which the coefficients or t-statistics were printed, that
would be more acceptable!


John Maindonald               email : john.maindonald at anu.edu.au        
Statistical Consulting Unit,  phone : (6249)3998        
c/o CMA, SMS,                 fax   : (6249)5549  
John Dedman Mathematical Sciences Building
Australian National University
Canberra ACT 0200
Australia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Don.Wingate at intellichem.com  Wed Sep 27 03:42:43 2000
From: Don.Wingate at intellichem.com (Don Wingate)
Date: Tue, 26 Sep 2000 18:42:43 -0700
Subject: [R] Wrapping R for windows in a com dll
Message-ID: <MPEHJEGLNPNFGJFOJMKNEEBGCAAA.Don.Wingate@IntelliChem.com>

Dear R Community,

I am trying to create a com dll wrapper for R in a mannor similiar to the R
Com Server by Thomas Baier except that I would much rather avoid using the
proxy dll ("Rproxy.dll"). Perhaps I don't really understand the reason for
going throug the proxy in the first place, but it seems like an unnecessary
indirection for an application which is not intended to use DCom. To this
end I have been trying to use the functions declared in rproxy_impl.h (I've
tried rtest.c as well, aka the readme file in the front-ends directory). It
is my understanding that these functions provide access to interface
functions contained in R.dll. However, there does not seem to be an R.exp or
R.lib file in the source code or R binary distribution.

I work in the VC++ ide and am building a VC++ project. As I am sorely
unpracticed in the use of makefiles and the command line for compiling, I
have been avoiding the daunting task of compiling the R dll itself, if in
fact that would be at all helpful. (From what I have been able to gather, it
is either not possible or a big problem to compile R inside the VC++ ide, is
this correct??)

My questions are as follows:

1) Is it possible to build a project containing calls to functions contained
in rtest.c and/or rproxy_impl.h from the VC++ ide?

2) Are the compiled R.exp and/or R.lib files available?

3) If these files are not available (or even if they are) is there another
way to access R.dll which I have not tried, other than through RProxy.dll?

4) Is there any documentation on the interface exposed by R.dll and its
dependencies?

Thankyou in advance,

Don Wingate.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Wed Sep 27 08:42:05 2000
From: gb at stat.umu.se (gb)
Date: Wed, 27 Sep 2000 08:42:05 +0200 (CEST)
Subject: [R] lm -- significance of x coefficient when I(x^2) is used
In-Reply-To: <3.0.32.20000926223349.01228dd0@pophost.nsw.cmis.csiro.au>
Message-ID: <Pine.LNX.4.21.0009270824380.30934-100000@pc16.stat.umu.se>

On Tue, 26 Sep 2000, Bill Venables wrote:

> At 10:12 26/09/00 +0200, Michael Pronath wrote:
> >
> > In "Modern Applied Statistics with S-Plus" 3rd ed., footnote on page 153
> > regarding a model lm(Gas~Insul/(Temp+I(Temp^2))-1,whiteside), I read
[cut]
> It comes back to the question of where would someone have good reason a
> priori to pose the question "Is the curve flat HERE, and this very special
> temperature?"  If there is no good reason to pose the question, why force
> the model to conform to this arbitrary restrictrion?  Notice that this is
> not quite the same thing as variable selection where Occam's principle is
> the good reason for considering whether or not coefficients are zero.  
[cut]

Where can I find a description of "Occam's principle"? I vaguely recall
"Occam's razor", which I guess is the same thing?

Thanks,

G?ran
-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 Department of Statistics            fax: +46 90 786 6614
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From wsi at gcal.ac.uk  Wed Sep 27 10:38:03 2000
From: wsi at gcal.ac.uk (Bill Simpson)
Date: Wed, 27 Sep 2000 09:38:03 +0100 (BST)
Subject: [R] Printing graphics
In-Reply-To: <002501c027d6$422ffe20$83826a8f@cat.hc.unicamp.br>
Message-ID: <Pine.LNX.4.10.10009270930050.2009-100000@localhost.localdomain>

> How can I print graphics during R sessions (under Linux, in a
> non-post-script printer)? I have tried the command -dev.print(device=X11)-
> without success.
Well I assume that you have ghostscript installed. That simulates
postscript, so the fact that you have a nonpostscript printer is
irrelevant.

Here is a plot printing example
x<-1:10
y<-x
plot(x,y)
dev.print(width=5,height=5, horizontal=FALSE)

If this doesn't work there is a problem with your printer set-up I'd say.

Bill

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Wed Sep 27 11:00:52 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 27 Sep 2000 11:00:52 +0200
Subject: [R] Printing graphics
In-Reply-To: Bill Simpson's message of "Wed, 27 Sep 2000 09:38:03 +0100 (BST)"
References: <Pine.LNX.4.10.10009270930050.2009-100000@localhost.localdomain>
Message-ID: <x2pulq2oqj.fsf@blueberry.kubism.ku.dk>

Bill Simpson <wsi at gcal.ac.uk> writes:

> > How can I print graphics during R sessions (under Linux, in a
> > non-post-script printer)? I have tried the command -dev.print(device=X11)-
> > without success.
> Well I assume that you have ghostscript installed. That simulates
> postscript, so the fact that you have a nonpostscript printer is
> irrelevant.
...
> If this doesn't work there is a problem with your printer set-up I'd say.

More precisely, it is highly recommendable to set up your printer as a
virtual PostScript printer which is quite easy to do with most Linux
distributions (read: I did it for mine three years ago and don't quite
remember the details...). Printers not supported by ghostscript are
extremely rare.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcus.eger at physik.uni-marburg.de  Wed Sep 27 12:52:11 2000
From: marcus.eger at physik.uni-marburg.de (Marcus Eger)
Date: Wed, 27 Sep 2000 12:52:11 +0200
Subject: [R] behaviour of plot() when coord. are out of range
References: <39CB9D12.1238153A@physik.uni-marburg.de> <39CCA003.FF12DABE@statistik.uni-dortmund.de>
Message-ID: <39D1D15B.5323C98A@physik.uni-marburg.de>

Uwe Ligges wrote:
> 
> Marcus Eger wrote:
> >
> > Dear all,
> >
> > a question concerning the plot range. When I plot
> > at first with linear coordinates, a subsequent polygon() call produces
> > a figure that I expect. However, when I apply a logarithmic scale,
> > two polygons appear. Is it possible to override this behaviour?
> >
> >
> In your case, the fifth y value is ommitted, so polygone cannot work as
> you are expecting.
> The following should work:
> 
>  y <- c(1.84147098480790, 1.90929742682568, 1.14112000805987,
>  0.243197504692072, -0.958924274663133,0.720584501801074,
>  1.65698659871879, 1.98935824662338, 1.41211848524176,0.45597888911063)
> 
>  plot(y,ylim=c(0.0000000001,2),type="l",log="y")
> 
>  x <- 1:10
>  temp <- which(y<0)
>  polygon(x[-temp], y[-temp], col="red")
> 
> Uwe Ligges

Yes it works... now only one polygon appears. However, in the linear
plot (log="")
the drawn lines are extrapolated until they reach the plot boundary,
i.e. the polygon
polygon(x, y, col="red") is clipped by the boundary.
On the other hand, using log="" this extrapolation is not done because
the negative
value is omitted. I actually wished this value would not just be
omitted.
It could simply lie outside the range - and thus, there could be a
vertical extrapolation 
line indicating it.

The whole thing is important for me because I want to fill the area
below the curve.

   Marcus Eger

-- 
+-------------------------------------------------------
| Marcus Eger
| Philipps Universitaet Marburg
| Fachbereich Physik AG Neurophysik
| Renthof 7
| 35032 Marburg
| Tel. +49 6421 282-4169
| Fax  +49 6421 282-7034
+-------------------------------------------------------
| E-Mail: marcus.eger at physik.uni-marburg.de
+-------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Wed Sep 27 15:01:40 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Wed, 27 Sep 2000 14:01:40 +0100 (BST)
Subject: [R] lm -- significance of x coefficient when I(x^2) is used
In-Reply-To: <200009262225.JAA03120@leonard.anu.edu.au>
Message-ID: <Pine.GSO.4.05.10009271358120.20991-100000@auk.stats>

On Wed, 27 Sep 2000, John Maindonald wrote:

> > From: Jim Lindsey <james.lindsey at luc.ac.be>
> > 
> > Bill's excellent discussion (which I do not reproduce here) describes
> > precisely why I was (and still am) dead against having stars printed
> > as the default option in lm and glm. Let's get rid of that and let
> > people turn them on, if they want, in those cases in which they make
> > sense.
> 
> I agree.  When using R for teaching, they are a serious distraction,
> and I find it absolutely necessary to turn them off.
> There are very obtrusive.  If there was a way to vary the shade of
> grey in which the coefficients or t-statistics were printed, that
> would be more acceptable!

I always forget that that they are turned on by default, for I have

auk% cat ~/.Rprofile
options(show.signif.stars=FALSE)
ps.options(horizontal=FALSE)

and so never see them.

In short, the out-of-the-box defaults can be over-ridden easily enough,
including the system ones for a teaching lab, say, by changing
.../library/base/R/Rprofile.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ligges at statistik.uni-dortmund.de  Wed Sep 27 22:02:01 2000
From: ligges at statistik.uni-dortmund.de (Uwe Ligges)
Date: Wed, 27 Sep 2000 22:02:01 +0200
Subject: [R] behaviour of plot() when coord. are out of range
References: <39CB9D12.1238153A@physik.uni-marburg.de> <39CCA003.FF12DABE@statistik.uni-dortmund.de> <39D1D15B.5323C98A@physik.uni-marburg.de>
Message-ID: <39D25239.26919841@statistik.uni-dortmund.de>


Marcus Eger wrote:

> Yes it works... now only one polygon appears. However, in the linear
> plot (log="")
> the drawn lines are extrapolated until they reach the plot boundary,
> i.e. the polygon
> polygon(x, y, col="red") is clipped by the boundary.
> On the other hand, using log="" this extrapolation is not done because
> the negative
> value is omitted. I actually wished this value would not just be
> omitted.
> It could simply lie outside the range - and thus, there could be a
> vertical extrapolation
> line indicating it.
> 
> The whole thing is important for me because I want to fill the area
> below the curve.
> 
>    Marcus Eger


Another quick hack in the evening (and looks ugly so far). Hope it
helps.

Uwe Ligges



y <- c(1.84147098480790, 1.90929742682568, 1.14112000805987,
  0.243197504692072, -0.958924274663133,0.720584501801074,
  1.65698659871879, 1.98935824662338, 1.41211848524176,0.45597888911063)
x <- 1:length(y)
plot(y,ylim=c(0.0000000001,2),type="l",log="y")
temp <- which(y < 0)
down <- 10^par("usr")[3]

## The next two lines will only work for one negative value, 
## in other cases you will have to loop (?, no idea to vectorize it) 
## over similar lines.

x2 <- x[c(1:(temp - 1), temp - 1, temp + 1, (temp + 1) : length(y))]
y2 <- c(y[1:(temp - 1)], down, down, y[(temp + 1) : length(y)])
polygon(x2, y2, col="red")
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From james.lindsey at luc.ac.be  Thu Sep 28 08:28:35 2000
From: james.lindsey at luc.ac.be (Jim Lindsey)
Date: Thu, 28 Sep 2000 08:28:35 +0200 (MET DST)
Subject: [R] lm -- significance of x coefficient when I(x^2) is used
In-Reply-To: <Pine.GSO.4.05.10009271358120.20991-100000@auk.stats> from "Prof Brian D Ripley" at Sep 27, 2000 02:01:40 PM
Message-ID: <200009280628.IAA28013@alpha.luc.ac.be>

> 
> On Wed, 27 Sep 2000, John Maindonald wrote:
> 
> > > From: Jim Lindsey <james.lindsey at luc.ac.be>
> > > 
> > > Bill's excellent discussion (which I do not reproduce here) describes
> > > precisely why I was (and still am) dead against having stars printed
> > > as the default option in lm and glm. Let's get rid of that and let
> > > people turn them on, if they want, in those cases in which they make
> > > sense.
> > 
> > I agree.  When using R for teaching, they are a serious distraction,
> > and I find it absolutely necessary to turn them off.
> > There are very obtrusive.  If there was a way to vary the shade of
> > grey in which the coefficients or t-statistics were printed, that
> > would be more acceptable!
> 
> I always forget that that they are turned on by default, for I have
> 
> auk% cat ~/.Rprofile
> options(show.signif.stars=FALSE)
> ps.options(horizontal=FALSE)
> 
> and so never see them.
> 
> In short, the out-of-the-box defaults can be over-ridden easily enough,
> including the system ones for a teaching lab, say, by changing
> .../library/base/R/Rprofile.

So do I. The problem does not lie there. It is in teaching. If I turn
them off in the teaching rooms at the university, the students are
disconcerted because output does not look the same when they do it at
home with their copy of R downloaded directly from the web. Hence, it
is necessary for the default option to be off. Jim

> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272860 (secr)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From eiji at isd.atr.co.jp  Thu Sep 28 10:49:38 2000
From: eiji at isd.atr.co.jp (Norberto Eiji Nawa)
Date: Thu, 28 Sep 2000 17:49:38 +0900
Subject: [R] (Newbie) using par() to regulate viewing area in graphs
Message-ID: <200009280849.RAA17110@libra.hip.atr.co.jp>

Hello:

I should first apologize for the very basic question, but I ought to
start from somewhere [embarrassed grin].

I am using R-1.0.0 in a Windows 98 machine to plot some graphs. I
tried to apply a "zoom in" in some portions of the graph using say
'par(yaxp=c(0.35,0.40,5))' but nothing happens, no error msg, no
update in the active graphics device. What should be the procedure to
"zoom in" in a graph?

BTW, besides the manuals that come with R ("An introduction to R", "R
Reference Manual", "R Extension Writer's Manual", and the "Data
Analysis and Graphics Using R - An Introduction", by Maindonald), is
there any source of information I should refer to before posting my
(newbie) questions to this list?

Thanks for all the assistance,

Eiji
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uli at biochem.dshs-koeln.de  Thu Sep 28 11:52:26 2000
From: uli at biochem.dshs-koeln.de (Uli Flenker; Raum 704)
Date: Thu, 28 Sep 2000 11:52:26 +0200 (CEST)
Subject: [R] Occams Razor Was: lm -- significance of x ...
In-Reply-To: <Pine.LNX.4.21.0009270824380.30934-100000@pc16.stat.umu.se>
Message-ID: <Pine.LNX.3.95.1000928110833.19001B-100000@pcinternet.biochem.dshs-koeln.de>

Goran,

I fear you have to consult a philosophical textbook when you want to have
a look at the details. Indeed "Occam's principle" and "Occam's razor" are
identical. 


Briefly:

William of Occam was born around 1290 and worked in Oxford and Paris. The
way of thinking that Occam proposed is now known as "Nominalism". One
conclusion that can be drawn from his assumptions is that it is against
the principles of any kind of science to take into account more reasons
than absolutely neccessary to explain some phenomenon under study. This
nowadays is known as "Occams razor". 

Unfortunatley I have not found a recent epistimological text that deals
with "Occam's razor" yet. It is briefly mentioned in many publications on
scientific methods (at least in Germany), but there seems to be a
significant lack of theoretical discussion.

I hope this helps a bit. Best ...

        Uli Flenker
        Institute of Biochemistry
        German Sports University Cologne
        Carl-Diem-Weg 6

        50933 Cologne / Germany

        Phone 0049/0221/4982-493

PS: Occam of course came from England (and spent his last years in
Germany). So what I quoted has been translated from english to german and
vice versa several times; and the weakest link in the chain is definetely
me! I hope this is not too big a problem. 


On Wed, 27 Sep 2000, gb wrote:

> Where can I find a description of "Occam's principle"? I vaguely recall
> "Occam's razor", which I guess is the same thing?
> 
> Thanks,
> 
> G?ran
> -- 
>  G?ran Brostr?m                      tel: +46 90 786 5223
>  Department of Statistics            fax: +46 90 786 6614
>  Ume? University
>  SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
> 

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Sep 28 13:00:07 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Sep 2000 13:00:07 +0200
Subject: [R] Occams Razor Was: lm -- significance of x ...
In-Reply-To: "Uli Flenker; Raum 704"'s message of "Thu, 28 Sep 2000 11:52:26 +0200 (CEST)"
References: <Pine.LNX.3.95.1000928110833.19001B-100000@pcinternet.biochem.dshs-koeln.de>
Message-ID: <x2pulosrwo.fsf@blueberry.kubism.ku.dk>

"Uli Flenker; Raum 704" <uli at biochem.dshs-koeln.de> writes:

> PS: Occam of course came from England (and spent his last years in
> Germany). So what I quoted has been translated from english to german and
> vice versa several times; and the weakest link in the chain is definetely
> me! I hope this is not too big a problem. 

I think Occam/Ockham himself wrote in Latin. By my failing memory, the
quote is 

"Entia non runt multiplicanda praeter necessitam"

give or take a couple of incorrect inflexions. I.e. "Entities should
not multiply unless necessary" -- do not invent more elaborate
explanations than what is necessary to explain the facts.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Christian.C.Ritter at OPC.shell.com  Thu Sep 28 12:59:25 2000
From: Christian.C.Ritter at OPC.shell.com (Ritter, Christian C SRTCL-CTGAS)
Date: Thu, 28 Sep 2000 12:59:25 +0200
Subject: [R] non-ideal behavior in princomp
Message-ID: <F169284AF6DDD111AA000001FAF836E8012308D6@LLNBBS22>

This problem is not limited to R, but R is one of the packages in which it
arises.

princomp is a nice function which creates an object for which inspection
methods have been written.

Unfortunately, princomp does not admit cases in which the x matrix is wider
than high (i. e. more variables than observations). Such cases are typical
in spectroscopy and related disciplines. It would be nice if the following
two features were added to princomp:

1. as a default behavior, princomp should digest wider than high matrices
(it should just compute the nontrivial principal compontents). 

2. as an optional behavior, princomp should only calculate (and return) the
first A principal components. This is useful, if x is very wide and very
short. 

Some might remark that all this can be done easily by svd or by programming
the NIPALS algorithm, but I would prefer to see it in the common version. 

(by the way, did anyone R-implement Sijmen de Jong's SIMPLS algorithm and
predict. plot. summary. print. functions to go with it?)

> Kind Regards, 
> Christian Ritter, Statistical Services
> 
       Tel  +32 10 477349/ Fax +32 10 477219       
       email : Christian.C.Ritter at OPC.Shell.com

       Shell Chemicals Belgium S.A.
       Shell Research and Technology Centre 
       Avenue Jean Monnet 1
       B-1348 Ottignies Louvain-La-Neuve (Belgium)





-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Sep 28 13:58:22 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Sep 2000 13:58:22 +0200
Subject: [R] Occams Razor Was: lm -- significance of x ...
In-Reply-To: Peter Dalgaard BSA's message of "28 Sep 2000 13:00:07 +0200"
References: <Pine.LNX.3.95.1000928110833.19001B-100000@pcinternet.biochem.dshs-koeln.de> <x2pulosrwo.fsf@blueberry.kubism.ku.dk>
Message-ID: <x2n1gssp7l.fsf@blueberry.kubism.ku.dk>

Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:

> I think Occam/Ockham himself wrote in Latin. By my failing memory, the
> quote is 
> 
> "Entia non runt multiplicanda praeter necessitam"
> 
> give or take a couple of incorrect inflexions. I.e. "Entities should
> not multiply unless necessary" -- do not invent more elaborate
> explanations than what is necessary to explain the facts.

A little web search gave the following at
http://www2.jonction.net/~ziem/occam.html 

"Pluralitas non est ponenda sine neccesitate" 
"Frustra fit per plura quod potest fieri per pauciora" 
"Entia non sunt multiplicanda praeter necessitatem" 

The principle states that "Entities should not be multiplied
unnecessarily." Sometimes it is quoted in one of its original Latin
forms to give it an air of authenticity.


-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From uli at biochem.dshs-koeln.de  Thu Sep 28 13:59:05 2000
From: uli at biochem.dshs-koeln.de (Uli Flenker; Raum 704)
Date: Thu, 28 Sep 2000 13:59:05 +0200 (CEST)
Subject: [R] Occams Razor Was: lm -- significance of x ...
In-Reply-To: <x2pulosrwo.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.3.95.1000928132034.19001D-100000@pcinternet.biochem.dshs-koeln.de>

On 28 Sep 2000, Peter Dalgaard BSA wrote:

> > PS: Occam of course came from England (and spent his last years in
> > Germany). So what I quoted has been translated from english to german and
> > vice versa several times; and the weakest link in the chain is definetely
> > me! I hope this is not too big a problem. 
> 
> I think Occam/Ockham himself wrote in Latin. By my failing memory, the
> quote is 
>
> "Entia non runt multiplicanda praeter necessitam"

	So you see how weak that link is! Of course at that time nearly
	all philosophical/scientific things were published in Latin.
	Nevertheless Occams principle is refered to as "Occams razor"
	more often than as "Occams Rasiermesser" even in german textbooks.
	Therefore to me it seems likely that at least the term "razor" 
	was introduced by british philosophers that followed William of
	Occam.
	
	I think he whole idea is essentially "non-continental" ;-)
 
> 
> give or take a couple of incorrect inflexions. I.e. "Entities should
> not multiply unless necessary" -- do not invent more elaborate
> explanations than what is necessary to explain the facts.
>		

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Thu Sep 28 14:06:40 2000
From: gb at stat.umu.se (gb)
Date: Thu, 28 Sep 2000 14:06:40 +0200 (CEST)
Subject: [R] Occams Razor
In-Reply-To: <x2pulosrwo.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.21.0009281359280.1357-100000@pc16.stat.umu.se>

Uli and Peter,

thanks! 

G?ran

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep 28 14:16:24 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 28 Sep 2000 13:16:24 +0100 (BST)
Subject: [R] non-ideal behavior in princomp
Message-ID: <200009281216.NAA04570@toucan.stats.ox.ac.uk>

> From: "Ritter, Christian C SRTCL-CTGAS" <Christian.C.Ritter at OPC.shell.com>
> Date: Thu, 28 Sep 2000 12:59:25 +0200
> 
> This problem is not limited to R, but R is one of the packages in which it
> arises.

I'm sorry, but I must be missing something here. I think R (and S)
do already do what you want here.

> princomp is a nice function which creates an object for which inspection
> methods have been written.

But there is also prcomp.  (What are `inspection functions'?  Do you
mean methods for what Bill Venables sometimes calls accessor functions?)
princomp is written for more flexibility, for example to use robust
methods of extracting PCs.

> Unfortunately, princomp does not admit cases in which the x matrix is wider
> than high (i. e. more variables than observations). Such cases are typical

Really?

> in spectroscopy and related disciplines. It would be nice if the following
> two features were added to princomp:
> 
> 1. as a default behavior, princomp should digest wider than high matrices
> (it should just compute the nontrivial principal compontents). 

prcomp does exactly that, although there are problems for which the
trivial PCs are the interesting ones!

What problems are you finding with princomp?  If I give it a n x p matrix
with n < p, I get (correctly) p PCs, with (effectively) 0 standard
deviations for the last n-p.  It's possible that this does not always
work for numerical reasons, but can you describe the `problem' you
feel it has?  (Perhaps the criterion for non-negative-definiteness is
too stringent?)

> 2. as an optional behavior, princomp should only calculate (and return) the
> first A principal components. This is useful, if x is very wide and very
> short. 

Well, only min(n, p) PC's are defined, so I presume you want A < min(n, p)?
Then you just extract the first A PCs.  If A << min(n, p) there are faster
algorithms, but they are not currently implemented in R, and I can
think of very few problems where the speed difference would be noticeable.

> Some might remark that all this can be done easily by svd or by programming
> the NIPALS algorithm, but I would prefer to see it in the common version. 

It is, in prcomp which uses the svd.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Thu Sep 28 14:28:31 2000
From: gb at stat.umu.se (gb)
Date: Thu, 28 Sep 2000 14:28:31 +0200 (CEST)
Subject: [R] Nothing can be pasted...
In-Reply-To: <x2pulosrwo.fsf@blueberry.kubism.ku.dk>
Message-ID: <Pine.LNX.4.21.0009281416330.1921-100000@pc16.stat.umu.se>


Compiling R-1.1.1 on RedHat Linux 7.0 gives lots of warnings like

In file included from tabulate.c:24:
../../src/include/config.h:192:21: warning: nothing can be pasted after
this token

which I didn't see with RH6.2. However,  R  seems to run just fine
nevertheless. The offending line in config.h is

#define DYNLOADEXT  "." ## SHLIBEXT

I'm not too familiar with  C  programming, but if ## SHLIBEXT
is meant as a comment, shouldn't it be surrounded by /* */?

G?ran
-- 
 G?ran Brostr?m                      tel: +46 90 786 5223
 Department of Statistics            fax: +46 90 786 6614
 Ume? University
 SE-90187 Ume?, Sweden             e-mail: gb at stat.umu.se


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pflugshaupt at geobot.umnw.ethz.ch  Thu Sep 28 14:25:23 2000
From: pflugshaupt at geobot.umnw.ethz.ch (Kaspar Pflugshaupt)
Date: Thu, 28 Sep 2000 14:25:23 +0200
Subject: [R] (Newbie) using par() to regulate viewing area in graphs
In-Reply-To: <200009280849.RAA17110@libra.hip.atr.co.jp>
Message-ID: <B5F90553.3F28%pflugshaupt@geobot.umnw.ethz.ch>

On 28.9.2000 10:49 Uhr, Norberto Eiji Nawa wrote:

> Hello:
> 
> I should first apologize for the very basic question, but I ought to
> start from somewhere [embarrassed grin].

No reason to be embarrassed, most of us started asking questions like this.
I still do.

> 
> I am using R-1.0.0 in a Windows 98 machine to plot some graphs. I
> tried to apply a "zoom in" in some portions of the graph using say
> 'par(yaxp=c(0.35,0.40,5))' but nothing happens, no error msg, no
> update in the active graphics device. What should be the procedure to
> "zoom in" in a graph?
> 

AFAIK, this is not possible, since the axis ranges are saved with the plot
and can't be changed afterwards. You'll have to change the settings and redo
the graph. If it's a complicated graph, you should pack the commands into a
small function. It's more convenient.

If you upgrade to R 1.11 (which I'd do anyway), you can save a plot to a
variable and recall it later (although not with different settings). Still,
you can then easily compare several versions.

Have fun

Kaspar

-- 

Kaspar Pflugshaupt
Geobotanisches Institut
Zuerichbergstr. 38
CH-8044 Zuerich

Tel. ++41 1 632 43 19
Fax  ++41 1 632 12 15

mailto:pflugshaupt at geobot.umnw.ethz.ch
privat:pflugshaupt at mails.ch
http://www.geobot.umnw.ethz.ch

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep 28 14:28:14 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 28 Sep 2000 13:28:14 +0100 (BST)
Subject: [R] Occams Razor Was: lm -- significance of x ...
Message-ID: <200009281228.NAA04649@toucan.stats.ox.ac.uk>

> From: Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk>
> Date: 28 Sep 2000 13:58:22 +0200
> 
> Peter Dalgaard BSA <p.dalgaard at biostat.ku.dk> writes:
> 
> > I think Occam/Ockham himself wrote in Latin. By my failing memory, the
> > quote is 
> > 
> > "Entia non runt multiplicanda praeter necessitam"
> > 
> > give or take a couple of incorrect inflexions. I.e. "Entities should
> > not multiply unless necessary" -- do not invent more elaborate
> > explanations than what is necessary to explain the facts.
> 
> A little web search gave the following at
> http://www2.jonction.net/~ziem/occam.html 
> 
> "Pluralitas non est ponenda sine neccesitate" 
> "Frustra fit per plura quod potest fieri per pauciora" 
> "Entia non sunt multiplicanda praeter necessitatem" 
> 
> The principle states that "Entities should not be multiplied
> unnecessarily." Sometimes it is quoted in one of its original Latin
> forms to give it an air of authenticity.

When I was a student this was referred to as the `principle of
parsimony', which has the advantage of having the essence in the name.
My (Concise Oxford) dictionary has this under

`law of parsimony'
that no more causes or forces should be assumed than are necessary to
account for the facts.

It seems that William of Ockham has become as generously
(mis-)acknowledged as the Reverend Thomas Bayes.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep 28 14:40:37 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 28 Sep 2000 13:40:37 +0100 (BST)
Subject: [R] Nothing can be pasted...
Message-ID: <200009281240.NAA07561@toucan.stats.ox.ac.uk>


> X-Authentication-Warning: pc16.stat.umu.se: gb owned process doing -bs
> Date: Thu, 28 Sep 2000 14:28:31 +0200 (CEST)
> From: gb <gb at stat.umu.se>
> To: r-help at stat.math.ethz.ch
> Subject: [R] Nothing can be pasted...
> X-MIME-Autoconverted: from 8bit to quoted-printable by pc16.stat.umu.se id 
e8SCSVp01926
> X-MIME-Autoconverted: from quoted-printable to 8bit by stat.math.ethz.ch id 
OAB07659
> X-MIME-Autoconverted: from 8bit to quoted-printable by stat.math.ethz.ch id 
OAB07665
> X-MIME-Autoconverted: from quoted-printable to 8bit by toucan.stats.ox.ac.uk 
id NAA06442
> 
> 
> Compiling R-1.1.1 on RedHat Linux 7.0 gives lots of warnings like
> 
> In file included from tabulate.c:24:
> ../../src/include/config.h:192:21: warning: nothing can be pasted after
> this token
> 
> which I didn't see with RH6.2. However,  R  seems to run just fine
> nevertheless. The offending line in config.h is
> 
> #define DYNLOADEXT  "." ## SHLIBEXT
> 
> I'm not too familiar with  C  programming, but if ## SHLIBEXT
> is meant as a comment, shouldn't it be surrounded by /* */?

That's not a comment, but is string concatenation in ISO Standard C.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From H.RINNER at TIROL.GV.AT  Thu Sep 28 15:54:01 2000
From: H.RINNER at TIROL.GV.AT (RINNER Heinrich)
Date: Thu, 28 Sep 2000 15:54:01 +0200
Subject: [R] organizing work; dump function
Message-ID: <C4D44AB4CB62D311BA6500041202E886264059@xms1.tirol.gv.at>

> Dear R-users!
> 
> I am using R 1.0.0 and Windows NT 4.0
> 
In the past I have used several different working directories for different
projects, and during many of these projects I have written some functions
for particular purposes. Now I thought I would be nice to have all these
"personal" functions collected in one place, and to make them available in R
no matter which working directory I use.

Reading the manual "An Introduction to R Version 1.0.0", chapter 10.8
("Customizing the environment"), I guess the (best ?) way to this is to dump
all my functions into one big file "myfunctions.R" and source that into R
via a .First function in my Rprofile file.

But, when I write new functions and want to add these to my personal
collection "myfunctions.R", it would be nice to have something like
> dump("new.function", file="myfunctions.R", append=TRUE).
AFAIK this isn't possible (there is no append argument to dump), so I guess
I have to create new files each time and then copy these together somehow.

So my questions are:
1) Does this way to organize ones functions make sense, or are there better
alternatives?
2) If it makes sense, wouldn't an "append" argument to "dump" be a useful
thing?

Heinrich Rinner.
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Thu Sep 28 16:46:23 2000
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Thu, 28 Sep 2000 16:46:23 +0200 (CEST)
Subject: [R] organizing work; dump function
In-Reply-To: <C4D44AB4CB62D311BA6500041202E886264059@xms1.tirol.gv.at>
References: <C4D44AB4CB62D311BA6500041202E886264059@xms1.tirol.gv.at>
Message-ID: <14803.22975.564416.419900@galadriel.ci.tuwien.ac.at>

>>>>> On Thu, 28 Sep 2000 15:54:01 +0200,
>>>>> RINNER Heinrich (RH) wrote:

>> Dear R-users!
>> 
>> I am using R 1.0.0 and Windows NT 4.0
>> 
RH> In the past I have used several different working directories for different
RH> projects, and during many of these projects I have written some functions
RH> for particular purposes. Now I thought I would be nice to have all these
RH> "personal" functions collected in one place, and to make them available in R
RH> no matter which working directory I use.

RH> Reading the manual "An Introduction to R Version 1.0.0", chapter 10.8
RH> ("Customizing the environment"), I guess the (best ?) way to this is to dump
RH> all my functions into one big file "myfunctions.R" and source that into R
RH> via a .First function in my Rprofile file.

RH> But, when I write new functions and want to add these to my personal
RH> collection "myfunctions.R", it would be nice to have something like
>> dump("new.function", file="myfunctions.R", append=TRUE).
RH> AFAIK this isn't possible (there is no append argument to dump), so I guess
RH> I have to create new files each time and then copy these together somehow.

RH> So my questions are:
RH> 1) Does this way to organize ones functions make sense, or are there better
RH> alternatives?

I personally have a private package of functions, which has the
advantage that the various workspaces are not polluted by copies of
the functions (if you source() code, it gets into the global
environment, packages maintain their own environment).

RH> 2) If it makes sense, wouldn't an "append" argument to "dump" be a useful
RH> thing?

Yes, independent of the above usage.  I'll add the feature in the
devel version.

Best,

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From thomas at biostat.washington.edu  Thu Sep 28 17:06:27 2000
From: thomas at biostat.washington.edu (Thomas Lumley)
Date: Thu, 28 Sep 2000 08:06:27 -0700 (PDT)
Subject: [R] organizing work; dump function
In-Reply-To: <C4D44AB4CB62D311BA6500041202E886264059@xms1.tirol.gv.at>
Message-ID: <Pine.GSO.4.21.0009280757000.18274-100000@atlas.biostat.washington.edu>

On Thu, 28 Sep 2000, RINNER Heinrich wrote:

> > Dear R-users!
> > 
> > I am using R 1.0.0 and Windows NT 4.0
> > 
> In the past I have used several different working directories for different
> projects, and during many of these projects I have written some functions
> for particular purposes. Now I thought I would be nice to have all these
> "personal" functions collected in one place, and to make them available in R
> no matter which working directory I use.
> 
> Reading the manual "An Introduction to R Version 1.0.0", chapter 10.8
> ("Customizing the environment"), I guess the (best ?) way to this is to dump
> all my functions into one big file "myfunctions.R" and source that into R
> via a .First function in my Rprofile file.

Another, slightly more efficient, way is to save() them into a file
"myfunctions.rda" and attach() that file. It doesn't help with your next
point, though
 
> But, when I write new functions and want to add these to my personal
> collection "myfunctions.R", it would be nice to have something like
> > dump("new.function", file="myfunctions.R", append=TRUE).
> AFAIK this isn't possible (there is no append argument to dump), so I guess
> I have to create new files each time and then copy these together somehow.
> 
> So my questions are:
> 1) Does this way to organize ones functions make sense, or are there better
> alternatives?
> 2) If it makes sense, wouldn't an "append" argument to "dump" be a useful
> thing?

It's fairly easy to join files together with cat under Unix or copy under
Windows. 

Another possibility  is to put the separate files in a directory called,
say, /path/to/myfunctions/ and do
  lapply(list.files("/path/to/myfunctions"),source)
which would read in all the files in that directory.

Yet another option is to create a package of files. In that case you would
dump() the new file to the package source directory and then re-run R
INSTALL to add it to the package.

So you would have a directory myfunctions/, with a DESCRIPTION file, and a
subdirectory  myfunctions/R/ that would store all the individual function
files.

Running 
	R INSTALL myfunctions 
would install the package and you could put
	library(myfunctions)
in your .First file.


	-thomas

Thomas Lumley
Assistant Professor, Biostatistics
University of Washington, Seattle

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From luke at goose.stat.umn.edu  Thu Sep 28 15:47:03 2000
From: luke at goose.stat.umn.edu (Luke Tierney)
Date: Thu, 28 Sep 2000 08:47:03 -0500 (CDT)
Subject: [R] Nothing can be pasted...
In-Reply-To: <Pine.LNX.4.21.0009281416330.1921-100000@pc16.stat.umu.se> from gb at "Sep 28, 2000 02:28:31 pm"
Message-ID: <200009281347.IAA03294@goose.stat.umn.edu>

gb wrote:
[Charset iso-8859-1 unsupported, filtering to ASCII...]
> 
> Compiling R-1.1.1 on RedHat Linux 7.0 gives lots of warnings like
> 
> In file included from tabulate.c:24:
> ../../src/include/config.h:192:21: warning: nothing can be pasted after
> this token
> 
> which I didn't see with RH6.2. However,  R  seems to run just fine
> nevertheless. The offending line in config.h is
> 
> #define DYNLOADEXT  "." ## SHLIBEXT
> 
> I'm not too familiar with  C  programming, but if ## SHLIBEXT
> is meant as a comment, shouldn't it be surrounded by /* */?
> 

I'm a little worried that this warning might suggest that there is
something wrong with the SHLIBEXT.  Does dynamic loading work?  If
not, maybe you can try

cpp -I<wherever R lives>/src/include test.c

with test.c containing just the two lines between the dashes:

-----------
#include "config.h"
DYNLOADEXT
-----------

and see what the last line looks like; on RH 6.1 it is

".""so"  

luke

-- 
Luke Tierney
University of Minnesota                      Phone:           612-625-7843
School of Statistics                         Fax:             612-624-8868
313 Ford Hall, 224 Church St. S.E.           email:      luke at stat.umn.edu
Minneapolis, MN 55455 USA                    WWW:  http://www.stat.umn.edu
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From lfeyen at vub.ac.be  Thu Sep 28 18:28:55 2000
From: lfeyen at vub.ac.be (Luc Feyen)
Date: Thu, 28 Sep 2000 18:28:55 +0200 (MET DST)
Subject: [R] how to call R from fortran?
Message-ID: <200009281628.SAA29626@mach.vub.ac.be>

I have a main fortran program and within a loop of this program 
i would like to call R. I need to transfer a rather large 
matrix (100 by 25000) between the two codes. Can anyone suggest 
me the most efficient way to do this or give me more general 
information on how i can call R from my fortran program or 
where i can find some related information. 

luc

Luc Feyen
Department of Hydrology and Hydraulic Engineering
Vrije Universiteit Brussel

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From stecalza at tin.it  Thu Sep 28 18:34:40 2000
From: stecalza at tin.it (Stefano Calza)
Date: Thu, 28 Sep 2000 18:34:40 +0200
Subject: [R] installing R-1.1.1 on Madrake 7.1
Message-ID: <39D37320.A01801FA@tin.it>

Hi all.

I'm "trying" to install R on a linux box (mandrake 7.1) but when I do
make install it stops with the following errors:

/usr/bin/install: zero.so: File doesn't exist (translated fron
italian!!)
make[2]: *** [install-objects] Error 1
make[2]: *** [install] Error 2
make: *** [install] Error 1

Where I'm wrong?

The only change I've done is  ./configure --prefix=/usr/local/R

Thank you in advance,
Stefano

-- 
***********************************************
Stefano Calza
Istituto di Statistica Medica e Biometria
Universit? degli Studi di Milano
Via G. Venezian, 1
20133 Milano

tel. +39 02/2361302, 02/70600908
fax 02/2362930
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aprasad at fs.fed.us  Thu Sep 28 18:43:10 2000
From: aprasad at fs.fed.us (Anantha Prasad/NE/USDAFS)
Date: Thu, 28 Sep 2000 12:43:10 -0400
Subject: [R] tcltk package functionality
Message-ID: <OFB18BDE2B.7FA8FD15-ON85256968.005B0062@wo.fs.fed.us>

Hello,
I wrote a function in R which uses tcltk package .... essentially I wanted
to give within that function, a widget with 2 radiobuttons to choose
between plotting Precip and Temperature plots. After the user has chosen
one of the radiobuttons there is another widget that asking him to identify
outliers. However, I am having a lot of problems...what R does is evaluate
the whole function without pausing...if I introduce a while() loop as I
have in the example below, R does nothing until I hit cntrl-c upon which it
shows the widget and comes out of the function......I could use a while
loop in S-PLUS using the dialog.create() dialog.display() functions, but I
cannot seem to implement that functionality in R.....what am I doing wrong?
I enclose below the sample function...Any help will be greatly
appreciated....

Prasad

"tcltktst" <-
function(x="") {
 xd <- read.table(x, header=T)
 library("tcltk")

 tt <- tktoplevel()
 tktitle(tt) <- "Diagnostics"
 label.widget <- tklabel(tt, text="Choose!")

 pptlabs <- function() {
   plot(xd$iv802, xd$PPT)
   abline(0,1)
   tt2 <- tktoplevel()
   tktitle(tt2) <- "Identify Outliers"
   lab.wid2 <- tklabel(tt2, text="Identify Outliers")
   but.wid2 <- tkbutton(tt2, text="OK", command=function() tkdestroy(tt2))
   tkpack(lab.wid2, but.wid2)
   labp <- identify(xd$iv802, xd$PPT, label=xd$FIPS)
   dev.print(png, "pptlabs.png", width=600,height=600)
 }

 templabs <- function() {
   plot(xd$iv802, xd$AVGT)
   abline(0,1)
   tt2 <- tktoplevel()
   tktitle(tt2) <- "Identify Outliers"
   lab.wid2 <- tklabel(tt2, text="Identify Outliers")
   but.wid2 <- tkbutton(tt2, text="OK", command=function() tkdestroy(tt2))
   tkpack(lab.wid2, but.wid2)
   labp <- identify(xd$iv802, xd$AVGT, label=xd$FIPS)
   dev.print(png, "templabs.png", width=600,height=600)
 }

 tclvar$choice <- 99
 rbut.wid <- tkradiobutton(tt, text="Precipitation", value=0,
variable=tclvar$choice,
 command=pptlabs)
 rbut.wid2 <- tkradiobutton(tt, text="Temperature", value=1,
variable=tclvar$choice,
 command=templabs)
 but.wid <- tkbutton(tt, text="FINISHED", command=function(){ dxcbutt <-
"Cancel";  tkdestroy(tt)})

 tkpack(label.widget)
 tkpack(rbut.wid)
 tkpack(rbut.wid2)
 #tkpack.configure(rbut.wid,side="left")
 tkpack(but.wid)

 dxcbutt <- "OK"
 while(dxcbutt == "OK") {
   if(dxcbutt=="Cancel") break
 }

 plot(xd$AVGT, xd$PPT)

}


*****************************************************************
Mr. Anantha Prasad, Ecologist/GIS Specialist
USDA Forest Service, 359 Main Rd.
Delaware OHIO 43015    USA
Ph: 740-368-0103  Email: aprasad at fs.fed.us
Web: http://www.fs.fed.us/ne/delaware/index.html
Don't Miss Climate Change Tree Atlas at:
http://www.fs.fed.us/ne/delaware/atlas/index.html
******************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Thu Sep 28 18:50:51 2000
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 28 Sep 2000 17:50:51 +0100 (BST)
Subject: [R] how to call R from fortran?
Message-ID: <200009281650.RAA14596@toucan.stats.ox.ac.uk>

> Date: Thu, 28 Sep 2000 18:28:55 +0200 (MET DST)
> From: lfeyen at vub.ac.be (Luc Feyen)
> 
> I have a main fortran program and within a loop of this program 
> i would like to call R. I need to transfer a rather large 
> matrix (100 by 25000) between the two codes. Can anyone suggest 
> me the most efficient way to do this or give me more general 
> information on how i can call R from my fortran program or 
> where i can find some related information. 

You can't call R from Fortran, AFAIK.  You can call R from C code
loaded into R, and if you know enough about the internals (or are using
Windows where it is documented somewhat) you can call R from a C main
program.  The types you need to use to communicate with R (C
null-terminated strings, for one) are not supported by Fortran.

Perhaps if you told us a bit more about what you actually want to
achieve we could suggest ways around this.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From sales at www.buyitpc.com  Thu Sep 28 17:12:51 2000
From: sales at www.buyitpc.com (sales@www.buyitpc.com)
Date: Thu, 28 Sep 00 10:12:51 EST
Subject: [R] Announcement
Message-ID: <technologic@mediaone.net>

Hello-

I'm writing to you for a request to see our new site, http://www.buyitpc.com/signup.html   and the add your name to our list if you like to know 
about computer components and software!

http://www.buyitpc.com

Thank you for your time!


There is a legal way of sending large ammounts of e-mails. 
If you want to show that you are in full compliance with the law and are completely legal, you shall  observe the following issues:

1.	The term "Advertisement" shall appear as the first word of the subject line.
2.	Paste this statement below into the beginning or end of your e-mail.

This message is sent in compliance of e-mail bill: SECTION 301, Paragraph (a)(2)(C) of s. 1618
Sender : Tech Logic Comptuers - BuyIt PC - La Mirada, CA.
Phone : 562 943 7745
E-mail : sales at buyitpc.com
To be removed from our mailing list, simply reply with "REMOVE" in the subject. 

By pasting the above announcement into all of the unsolicited e-mails you send, people will realize that you are obviously not breaking any laws. And that's a very important point that should be made.
3.	Finally, you shall honor the REMOVE requests not later than 48 hours after receipt of the request, by cease initiating transmissions to the requester and removing him or her from the correspondent mailing list.

To know more about this issue, consut the "Unsolicited Commercial Electronic Mail Choice Act of 1997'':
http://www.senate.gov/~murkowski/commercialemail/S771index.html

All rigths reserved.


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Thu Sep 28 20:38:47 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 28 Sep 2000 20:38:47 +0200
Subject: [R] tcltk package functionality
In-Reply-To: "Anantha Prasad/NE/USDAFS"'s message of "Thu, 28 Sep 2000 12:43:10 -0400"
References: <OFB18BDE2B.7FA8FD15-ON85256968.005B0062@wo.fs.fed.us>
Message-ID: <x2n1gs2wg8.fsf@blueberry.kubism.ku.dk>

"Anantha Prasad/NE/USDAFS" <aprasad at fs.fed.us> writes:

> Hello,
> I wrote a function in R which uses tcltk package .... essentially I wanted
> to give within that function, a widget with 2 radiobuttons to choose
> between plotting Precip and Temperature plots. After the user has chosen
> one of the radiobuttons there is another widget that asking him to identify
> outliers. However, I am having a lot of problems...what R does is evaluate
> the whole function without pausing...if I introduce a while() loop as I
> have in the example below, R does nothing until I hit cntrl-c upon which it
> shows the widget and comes out of the function......I could use a while
> loop in S-PLUS using the dialog.create() dialog.display() functions, but I
> cannot seem to implement that functionality in R.....what am I doing wrong?
> I enclose below the sample function...Any help will be greatly
> appreciated....

Did you take a look at the tkttest demo? (esp. the tkwait.variable
bit)

The tcltk event loop runs off of the input handler and is not happy if
R gets caught in a tight loop (this might change later on, and the
Windows port already has some code to avoid this).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pwolf at wiwi.uni-bielefeld.de  Thu Sep 28 21:05:14 2000
From: pwolf at wiwi.uni-bielefeld.de (Peter Wolf)
Date: Thu, 28 Sep 2000 21:05:14 +0200 (METDST)
Subject: No subject
Message-ID: <200009281905.VAA00548@wiwi5.uni-bielefeld.de>

Prasad wrote:

> I wrote a function in R which uses tcltk package .... essentially I wanted
> to give within that function, a widget with 2 radiobuttons to choose
> between plotting Precip and Temperature plots. After the user has chosen
> one of the radiobuttons there is another widget that asking him to identify
> outliers. However, I am having a lot of problems...what R does is evaluate
> the whole function without pausing...if I introduce a while() loop as I
> have in the example below, R does nothing until I hit cntrl-c upon which it
> shows the widget and comes out of the function......I could use a while
> loop in S-PLUS using the dialog.create() dialog.display() functions, but I
> cannot seem to implement that functionality in R.....what am I doing wrong?
> I enclose below the sample function...Any help will be greatly
> appreciated....
>
> "tcltktst" <-
+ function(x="") {
+  xd <- read.table(x, header=T)
+  library("tcltk")
+
+  tt <- tktoplevel()
+  tktitle(tt) <- "Diagnostics"
+  label.widget <- tklabel(tt, text="Choose!")
+
+  pptlabs <- function() {
+    plot(xd$iv802, xd$PPT)
+    abline(0,1)
+    tt2 <- tktoplevel()
+    tktitle(tt2) <- "Identify Outliers"
+    lab.wid2 <- tklabel(tt2, text="Identify Outliers")
+    but.wid2 <- tkbutton(tt2, text="OK", command=function() tkdestroy(tt2))
+    tkpack(lab.wid2, but.wid2)
+    labp <- identify(xd$iv802, xd$PPT, label=xd$FIPS)
+    dev.print(png, "pptlabs.png", width=600,height=600)
+  }
+
+  templabs <- function() {
+    plot(xd$iv802, xd$AVGT)
+    abline(0,1)
+    tt2 <- tktoplevel()
+    tktitle(tt2) <- "Identify Outliers"
+    lab.wid2 <- tklabel(tt2, text="Identify Outliers")
+    but.wid2 <- tkbutton(tt2, text="OK", command=function() tkdestroy(tt2))
+    tkpack(lab.wid2, but.wid2)
+    labp <- identify(xd$iv802, xd$AVGT, label=xd$FIPS)
+    dev.print(png, "templabs.png", width=600,height=600)
+  }
+
+  tclvar$choice <- 99
+  rbut.wid <- tkradiobutton(tt, text="Precipitation", value=0,
+ variable=tclvar$choice,
+  command=pptlabs)
+  rbut.wid2 <- tkradiobutton(tt, text="Temperature", value=1,
+ variable=tclvar$choice,
+  command=templabs)
+  but.wid <- tkbutton(tt, text="FINISHED", command=function(){ dxcbutt <-
+ "Cancel";  tkdestroy(tt)})
+
+  tkpack(label.widget)
+  tkpack(rbut.wid)
+  tkpack(rbut.wid2)
+  #tkpack.configure(rbut.wid,side="left")
+  tkpack(but.wid)
+
+  dxcbutt <- "OK"
+  while(dxcbutt == "OK") {
+    if(dxcbutt=="Cancel") break
+  }
+
+  plot(xd$AVGT, xd$PPT)
+
+ }


To stop the evaluation of a function until a specific tcltk action is done
you have to use the tk-function tkwait.variable().
The following function -- a simple modification of Prasad's
tcltktst function -- shows an example:

tcltk.test <- function(x1=1:10, x2=10:1) {
 library("tcltk")
# define first toplevel-widget
 tt           <- tktoplevel()
 tktitle(tt)  <- "Diagnostics"
 label.widget <- tklabel(tt, text="Choose data for plot!")
 rbut.wid1    <- tkradiobutton(tt, text="x1", value="0", variable="choice")
 rbut.wid2    <- tkradiobutton(tt, text="x2", value="1", variable="choice")
 but.done     <- tkbutton(tt, text="FINISHED", command=function(){
                                                         tclvar$done <- "T"
                                                         tkdestroy(tt)
                                                       } )
 tkpack(label.widget, rbut.wid1, rbut.wid2, but.done)
# wait until FINISHED is pressed
 tclvar$choice <- "0"
 tkwait.variable("done")
# plot x1 or x2
 if(tclvar$choice == "0") x <- x1
 if(tclvar$choice == "1") x <- x2
 if(is.null(names(x))) names(x) <- x
 plot(x)
# define second toplevel widget
 tt2          <- tktoplevel()
 tktitle(tt2) <- "Action"
 but.wid21    <- tkbutton(tt2, text="print summary",
                          command=function()print(summary(x)))
 but.wid22    <- tkbutton(tt2, text="identify outlier",
                          command=function()identify(x))
 but.wid23    <- tkbutton(tt2, text="exit", command=function(){
                                                      tclvar$done<-"T"
                                                      tkdestroy(tt2)
                                                    } )
 tkpack(but.wid21, but.wid22, but.wid23)
# wait until exit is pressed
 tclvar$done <- "F"
 tkwait.variable("done")
}

Peter Wolf

-------------------------------------------------------------------------
Hans Peter Wolf                       pwolf at wiwi.uni-bielefeld.de
Fak. f. Wiwi.
Uni Bielefeld
33615 Bielefeld
Germany
-------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From gb at stat.umu.se  Thu Sep 28 22:04:43 2000
From: gb at stat.umu.se (gb)
Date: Thu, 28 Sep 2000 22:04:43 +0200 (CEST)
Subject: [R] Nothing can be pasted...
In-Reply-To: <200009281347.IAA03294@goose.stat.umn.edu>
Message-ID: <Pine.LNX.4.21.0009282203260.14454-100000@pc16.stat.umu.se>

On Thu, 28 Sep 2000, Luke Tierney wrote:

> gb wrote:
> [Charset iso-8859-1 unsupported, filtering to ASCII...]
> > 
> > Compiling R-1.1.1 on RedHat Linux 7.0 gives lots of warnings like
> > 
> > In file included from tabulate.c:24:
> > ../../src/include/config.h:192:21: warning: nothing can be pasted after
> > this token
> > 
> > which I didn't see with RH6.2. However,  R  seems to run just fine
> > nevertheless. The offending line in config.h is
> > 
> > #define DYNLOADEXT  "." ## SHLIBEXT
> > 
> > I'm not too familiar with  C  programming, but if ## SHLIBEXT
> > is meant as a comment, shouldn't it be surrounded by /* */?
> > 
> 
> I'm a little worried that this warning might suggest that there is
> something wrong with the SHLIBEXT.  Does dynamic loading work?  If
> not, maybe you can try
> 
> cpp -I<wherever R lives>/src/include test.c
> 
> with test.c containing just the two lines between the dashes:
> 
> -----------
> #include "config.h"
> DYNLOADEXT
> -----------
> 
> and see what the last line looks like; on RH 6.1 it is
> 
> ".""so"  

I get the same on 7.0.

G?ran

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From markhall at gol.com  Fri Sep 29 14:37:03 2000
From: markhall at gol.com (Mark Hall)
Date: Fri, 29 Sep 2000 05:37:03 -0700
Subject: [R] Occams Razor Was: lm -- significance of x ...
References: <Pine.LNX.3.95.1000928110833.19001B-100000@pcinternet.biochem.dshs-koeln.de> <x2pulosrwo.fsf@blueberry.kubism.ku.dk> <x2n1gssp7l.fsf@blueberry.kubism.ku.dk>
Message-ID: <079901c02a16$8731aa40$12e6fea9@gol.com>

Hasn't Adrian Raferty in the Bayesian Modelling papers, particularly for the
SPLUS package BMA, revived this whole idea for statistics?  A lot of his
preprints
are at the Univ. of Washington Statistics home page.

Best, Mark Hall


-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ramon-diaz at teleline.es  Wed Sep 27 22:19:48 2000
From: ramon-diaz at teleline.es (Ramon Diaz-Uriarte)
Date: Wed, 27 Sep 2000 22:19:48 +0200
Subject: [R] lm -- significance of x coefficient when I(x^2) is used
In-Reply-To: <Pine.LNX.4.21.0009270824380.30934-100000@pc16.stat.umu.se>
References: <Pine.LNX.4.21.0009270824380.30934-100000@pc16.stat.umu.se>
Message-ID: <00092722385000.00438@ligarto>

On Wed, 27 Sep 2000, gb wrote:
> On Tue, 26 Sep 2000, Bill Venables wrote:
> 
> > At 10:12 26/09/00 +0200, Michael Pronath wrote:
> > >
> > > In "Modern Applied Statistics with S-Plus" 3rd ed., footnote on page 153
> > > regarding a model lm(Gas~Insul/(Temp+I(Temp^2))-1,whiteside), I read
> [cut]
> > It comes back to the question of where would someone have good reason a
> > priori to pose the question "Is the curve flat HERE, and this very special
> > temperature?"  If there is no good reason to pose the question, why force
> > the model to conform to this arbitrary restrictrion?  Notice that this is
> > not quite the same thing as variable selection where Occam's principle is
> > the good reason for considering whether or not coefficients are zero.  
> [cut]
> 
> Where can I find a description of "Occam's principle"? I vaguely recall
> "Occam's razor", which I guess is the same thing?

A discussion and critique of this and other similar parsimony arguments
can be found in E. Sober's "Reconstructing the past.  Parsimony, evolution and
inference" (1998, The MIT Press).  The main theme of the book is phylogenetic
reconstruction, but if I recall correctly the first couple of chapters deal in
general with Ockham's razor, parsimony, etc, and their problems and
justifications.  By the same philosopher of science there is a chapter titled
"Let's razor Ockham's razor" in the book "Explanation and its limits" by D.
Knowles (1990, Cambridge University Press).

Ramon



> 
> Thanks,
> 
> Göran
> -- 
>  Göran Broström                      tel: +46 90 786 5223
>  Department of Statistics            fax: +46 90 786 6614
>  Umeå University
>  SE-90187 Umeå, Sweden             e-mail: gb at stat.umu.se
> 
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
> r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
> _._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
-- 
Ramón Díaz-Uriarte
Triana 47
28016 Madrid
Spain

email:ramon-diaz at teleline.es
Phone: +-34-918-513-966
       +-34-657-186-407	







-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep 29 08:30:41 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 29 Sep 2000 07:30:41 +0100 (BST)
Subject: [R] Occams Razor Was: lm -- significance of x ...
In-Reply-To: <079901c02a16$8731aa40$12e6fea9@gol.com>
Message-ID: <Pine.GSO.4.05.10009290724001.7403-100000@auk.stats>

On Fri, 29 Sep 2000, Mark Hall wrote:

> Hasn't Adrian Raferty in the Bayesian Modelling papers, particularly for the
> SPLUS package BMA, revived this whole idea for statistics?  A lot of his
> preprints
> are at the Univ. of Washington Statistics home page.

His `Occam's Window' is just one view of the role of parsimony in 
modelling, and not one that seems widely accepted in my experience.
Bayesians have a problem with parsimony, and some of them wriggle
to justify non-Bayesian methods (like model selection in regression).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From H.RINNER at TIROL.GV.AT  Fri Sep 29 09:09:06 2000
From: H.RINNER at TIROL.GV.AT (RINNER Heinrich)
Date: Fri, 29 Sep 2000 09:09:06 +0200
Subject: [R] SUMMARY and follow up question: organizing work; dump function
Message-ID: <C4D44AB4CB62D311BA6500041202E88626405B@xms1.tirol.gv.at>

Thanks very much to Friedrich Leisch, Brian Ripley and Thomas Lumley for
their useful answers.

Basically, they all suggested creation of a personal package as the easiest
and best way to hold ones own functions. This indeed is quite easy and very
useful.

In addition, Friedrich Leisch pointed out that he's planning to add an
"append" argument to the dump() function.

One follow up question, though:
It seems that any comments that may be present in a packages function file
are invisible in R (version 1.0.0, Windows NT 4.0); e.g.
> library(cluster)
> page(agnes)
> print(agnes)
--> comments (as "#check type of input vector" in line 29 in file "cluster")
don't show up here.

Is this behaviour intended? I mean, some potentially useful information may
get lost this way (as an "ordinary" user, I would look at a function
definition by page() or print(), unlikely by looking in a packages function
file).

Heinrich.


>>>>> On Thu, 28 Sep 2000 15:54:01 +0200,
>>>>> RINNER Heinrich (RH) wrote:

>> Dear R-users!
>> 
>> I am using R 1.0.0 and Windows NT 4.0
>> 
RH> In the past I have used several different working directories for
different
RH> projects, and during many of these projects I have written some
functions
RH> for particular purposes. Now I thought I would be nice to have all these
RH> "personal" functions collected in one place, and to make them available
in R
RH> no matter which working directory I use.

RH> Reading the manual "An Introduction to R Version 1.0.0", chapter 10.8
RH> ("Customizing the environment"), I guess the (best ?) way to this is to
dump
RH> all my functions into one big file "myfunctions.R" and source that into
R
RH> via a .First function in my Rprofile file.

RH> But, when I write new functions and want to add these to my personal
RH> collection "myfunctions.R", it would be nice to have something like
>> dump("new.function", file="myfunctions.R", append=TRUE).
RH> AFAIK this isn't possible (there is no append argument to dump), so I
guess
RH> I have to create new files each time and then copy these together
somehow.

RH> So my questions are:
RH> 1) Does this way to organize ones functions make sense, or are there
better
RH> alternatives?
RH> 2) If it makes sense, wouldn't an "append" argument to "dump" be a
useful
RH> thing?

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Christian.C.Ritter at OPC.shell.com  Fri Sep 29 09:33:14 2000
From: Christian.C.Ritter at OPC.shell.com (Ritter, Christian C SRTCL-CTGAS)
Date: Fri, 29 Sep 2000 09:33:14 +0200
Subject: [R] non-ideal behavior in princomp/ not a feature but a bug
Message-ID: <F169284AF6DDD111AA000001FAF836E8012308D8@LLNBBS22>

... I checked and Brian and I are both right (see bottom for prior mail
exchange). 

Let me explain:
=============================================================
1. Indeed, in principle, princomp allows data matrices with are wider than
high.
Example:
> x1
     [,1] [,2] [,3] [,4]
[1,]    1    1    2    2
[2,]    1    1    2    2
> princomp(x1)
Call:
princomp(x = x1)

Standard deviations:
Comp.1 Comp.2 Comp.3 Comp.4 
     0      0      0      0 

4  variables and  2 observations.

So far so good
===========================================================

2. However, not all matrices work, such as the first one I tried yesterday.
Here is
an example of a matrix which does not work.
> x
     [,1] [,2] [,3] [,4]
[1,] -0.4 -1.6 -1.0 -1.8
[2,] -2.2 -0.3  1.4  0.2
> princomp(x)
Error in princomp(x) : covariance matrix is not non-negative definite
> 

Seeing this behavior on the matrix I tried, I hastily concluded that
princomp was not
suitable for this type (as similar functions are in many other software
packages which
are written for psychologists but not for chemometricians).

=======================================================
However, the problem is not with the design of princomp in general, but with
a little
check it performs inside, which can have problems with roundoff:

    if (any(edc$values < 0)) 
        stop("covariance matrix is not non-negative definite")

As it happens, the covariance of x1 has eigenvalues of:
> eigen(cov.wt(x1)$cov)$values
[1] 0 0 0 0
and x has eigenvalues
> eigen(cov.wt(x)$cov)$values
[1]  7.345000e+00  1.110223e-16  0.000000e+00 -1.110223e-16
Therefore, the observed behavior is logical (but wrong).

Oh, by the way:
         _         
platform Windows   
arch     x86       
os       Win32     
system   x86, Win32
status             
major    1         
minor    1.0       
year     2000      
month    June      
day      15        
language R         
> 
-----Original Message-----
From: Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk]
Sent: Thursday, September 28, 2000 2:16 PM
To: r-help at stat.math.ethz.ch; Ritter, Christian C SRTCL-CTGAS
Subject: Re: [R] non-ideal behavior in princomp


> From: "Ritter, Christian C SRTCL-CTGAS" <Christian.C.Ritter at OPC.shell.com>
> Date: Thu, 28 Sep 2000 12:59:25 +0200
> 
> This problem is not limited to R, but R is one of the packages in which it
> arises.

I'm sorry, but I must be missing something here. I think R (and S)
do already do what you want here.

> princomp is a nice function which creates an object for which inspection
> methods have been written.

But there is also prcomp.  (What are `inspection functions'?  Do you
mean methods for what Bill Venables sometimes calls accessor functions?)
princomp is written for more flexibility, for example to use robust
methods of extracting PCs.

> Unfortunately, princomp does not admit cases in which the x matrix is
wider
> than high (i. e. more variables than observations). Such cases are typical

Really?

> in spectroscopy and related disciplines. It would be nice if the following
> two features were added to princomp:
> 
> 1. as a default behavior, princomp should digest wider than high matrices
> (it should just compute the nontrivial principal compontents). 

prcomp does exactly that, although there are problems for which the
trivial PCs are the interesting ones!

What problems are you finding with princomp?  If I give it a n x p matrix
with n < p, I get (correctly) p PCs, with (effectively) 0 standard
deviations for the last n-p.  It's possible that this does not always
work for numerical reasons, but can you describe the `problem' you
feel it has?  (Perhaps the criterion for non-negative-definiteness is
too stringent?)

> 2. as an optional behavior, princomp should only calculate (and return)
the
> first A principal components. This is useful, if x is very wide and very
> short. 

Well, only min(n, p) PC's are defined, so I presume you want A < min(n, p)?
Then you just extract the first A PCs.  If A << min(n, p) there are faster
algorithms, but they are not currently implemented in R, and I can
think of very few problems where the speed difference would be noticeable.

> Some might remark that all this can be done easily by svd or by
programming
> the NIPALS algorithm, but I would prefer to see it in the common version. 

It is, in prcomp which uses the svd.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From pwolf at wiwi.uni-bielefeld.de  Fri Sep 29 10:14:08 2000
From: pwolf at wiwi.uni-bielefeld.de (Peter Wolf)
Date: Fri, 29 Sep 2000 10:14:08 +0200 (METDST)
Subject: Two tcltk questions and Re: [R] tcltk package functionality
Message-ID: <200009290814.KAA00693@wiwi5.uni-bielefeld.de>


Sorry, for my mail from last night contains no subject.
Therefore, I send it again and two tcltk questions are appended.

----------------------------------------------------------------------------

Prasad wrote:

> I wrote a function in R which uses tcltk package .... essentially I wanted
> to give within that function, a widget with 2 radiobuttons to choose
> between plotting Precip and Temperature plots. After the user has chosen
> one of the radiobuttons there is another widget that asking him to identify
> outliers. However, I am having a lot of problems...what R does is evaluate
> the whole function without pausing...if I introduce a while() loop as I
> have in the example below, R does nothing until I hit cntrl-c upon which it
> shows the widget and comes out of the function......I could use a while
> loop in S-PLUS using the dialog.create() dialog.display() functions, but I
> cannot seem to implement that functionality in R.....what am I doing wrong?
> I enclose below the sample function...Any help will be greatly
> appreciated....
>

To stop the evaluation of a function until a specific tcltk action is done
you have to use the tk-function tkwait.variable().
The following function -- a simple modification of Prasad's
tcltktst function -- shows an example:

tcltk.test <- function(x1=1:10, x2=10:1) {
 library("tcltk")
# define first toplevel-widget
 tt           <- tktoplevel()
 tktitle(tt)  <- "Diagnostics"
 label.widget <- tklabel(tt, text="Choose data for plot!")
 rbut.wid1    <- tkradiobutton(tt, text="x1", value="0", variable="choice")
 rbut.wid2    <- tkradiobutton(tt, text="x2", value="1", variable="choice")
 but.done     <- tkbutton(tt, text="FINISHED", command=function(){
                                                         tclvar$done <- "T"
                                                         tkdestroy(tt)
                                                       } )
 tkpack(label.widget, rbut.wid1, rbut.wid2, but.done)
# wait until FINISHED is pressed
 tclvar$choice <- "0"
 tkwait.variable("done")
# plot x1 or x2
 if(tclvar$choice == "0") x <- x1
 if(tclvar$choice == "1") x <- x2
 if(is.null(names(x))) names(x) <- x
 plot(x)
# define second toplevel widget
 tt2          <- tktoplevel()
 tktitle(tt2) <- "Action"
 but.wid21    <- tkbutton(tt2, text="print summary",
                          command=function()print(summary(x)))
 but.wid22    <- tkbutton(tt2, text="identify outlier",
                          command=function()identify(x))
 but.wid23    <- tkbutton(tt2, text="exit", command=function(){
                                                      tclvar$done<-"T"
                                                      tkdestroy(tt2)
                                                    } )
 tkpack(but.wid21, but.wid22, but.wid23)
# wait until exit is pressed
 tclvar$done <- "F"
 tkwait.variable("done")
}

--------------------------------------------------------------------------

Here are another two tcltk question:

1. I want to add a scrollbar along the right side of a text widget. This can be
   achieved by .Tk.ID(). Is there a way to avoid to call .Tk.ID ---
   perhaps by using tkyview?

   tk.test1 <- function(nmax=3){
     library("tcltk")
     tl         <- tktoplevel()
     tl.text    <- tktext(tl)
     tl.yscroll <- tkscrollbar(tl)
     tkconfigure(tl.text,   yscrollcommand=paste(.Tk.ID(tl.yscroll),"set"  ))
     tkconfigure(tl.yscroll,       command=paste(.Tk.ID(tl.text),   "yview"))
     tkpack(tl.text, tl.yscroll, side="left", fill="y")
     tkpack(tkbutton(tl, text="exit", command=function()tclvar$done<-"T"))
     tclvar$done <- "F"; tkwait.variable("done")
     tkdestroy(tl)
   }


2. If I try to insert a text containing an unequal number of "{" and "}"
   brackets tkinsert stops with the error message:

     Error in .Tcl(.Tcl.args(...)) : [tcl] extra characters after close-brace.

   How can I change this behavior?

   tk.test2 <- function(nmax=3){
     library("tcltk")
     tl         <- tktoplevel()
     tl.text    <- tktext(tl)
     tkpack(tl.text)
     for(i in 1:nmax){
       cat("input text? "); input.text<-readline()
       tkinsert(tl.text,"0.0",input.text)
     }
     tkdestroy(tl)
   }

--------------------------------------------------------------------------

Version information:
platform hppa2.0-hp-hpux10.20
major    1
minor    1.0
year     2000
month    June
day      15

--------------------------------------------------------------------------

Peter Wolf

R + tktcl is a very fantastic combination! Thanks to all of the Core team!
--------------------------------------------------------------------------
Hans Peter Wolf                       pwolf at wiwi.uni-bielefeld.de
Fak. f. Wiwi.
Uni Bielefeld
33615 Bielefeld
Germany
-------------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep 29 10:23:37 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 29 Sep 2000 09:23:37 +0100 (BST)
Subject: [R] SUMMARY and follow up question: organizing work; dump function
In-Reply-To: <C4D44AB4CB62D311BA6500041202E88626405B@xms1.tirol.gv.at>
Message-ID: <Pine.GSO.4.05.10009290921480.7544-100000@auk.stats>

On Fri, 29 Sep 2000, RINNER Heinrich wrote:

> Thanks very much to Friedrich Leisch, Brian Ripley and Thomas Lumley for
> their useful answers.
> 
> Basically, they all suggested creation of a personal package as the easiest
> and best way to hold ones own functions. This indeed is quite easy and very
> useful.
> 
> In addition, Friedrich Leisch pointed out that he's planning to add an
> "append" argument to the dump() function.

Yes, he said so, but I also said that I though connections were a much more
general solution.

> One follow up question, though:
> It seems that any comments that may be present in a packages function file
> are invisible in R (version 1.0.0, Windows NT 4.0); e.g.
> > library(cluster)
> > page(agnes)
> > print(agnes)
> --> comments (as "#check type of input vector" in line 29 in file "cluster")
> don't show up here.
> 
> Is this behaviour intended? I mean, some potentially useful information may
> get lost this way (as an "ordinary" user, I would look at a function
> definition by page() or print(), unlikely by looking in a packages function
> file).

It is intended. Look at options(keep.source) and the keep.source argument
to library.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep 29 10:32:32 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 29 Sep 2000 09:32:32 +0100 (BST)
Subject: [R] non-ideal behavior in princomp/ not a feature but a bug
In-Reply-To: <F169284AF6DDD111AA000001FAF836E8012308D8@LLNBBS22>
Message-ID: <Pine.GSO.4.05.10009290924120.7544-100000@auk.stats>

On Fri, 29 Sep 2000, Ritter, Christian C SRTCL-CTGAS wrote:

> ... I checked and Brian and I are both right (see bottom for prior mail
> exchange). 

Um: you only appeared to be right because you use an obselete version of R
(and I don't think you said so), whereas I used the current release. Moral:
always upgrade before posting bugs.


> Let me explain:
> =============================================================
> 1. Indeed, in principle, princomp allows data matrices with are wider than
> high.
> Example:
> > x1
>      [,1] [,2] [,3] [,4]
> [1,]    1    1    2    2
> [2,]    1    1    2    2
> > princomp(x1)
> Call:
> princomp(x = x1)
> 
> Standard deviations:
> Comp.1 Comp.2 Comp.3 Comp.4 
>      0      0      0      0 
> 
> 4  variables and  2 observations.
> 
> So far so good
> ===========================================================
> 
> 2. However, not all matrices work, such as the first one I tried yesterday.
> Here is
> an example of a matrix which does not work.
> > x
>      [,1] [,2] [,3] [,4]
> [1,] -0.4 -1.6 -1.0 -1.8
> [2,] -2.2 -0.3  1.4  0.2
> > princomp(x)
> Error in princomp(x) : covariance matrix is not non-negative definite
> > 
> 
> Seeing this behavior on the matrix I tried, I hastily concluded that
> princomp was not
> suitable for this type (as similar functions are in many other software
> packages which
> are written for psychologists but not for chemometricians).
> 
> =======================================================
> However, the problem is not with the design of princomp in general, but with
> a little
> check it performs inside, which can have problems with roundoff:
> 
>     if (any(edc$values < 0)) 
>         stop("covariance matrix is not non-negative definite")

Use the current version of R: the check is actually

        if (any(ev[neg] < -9 * .Machine$double.eps * ev[1])) 

Now, that may not be adequate (I don't know where the precise value
comes from) and had I written it I would have used more like 100 than 9.
But it covered all the examples I tried.

> As it happens, the covariance of x1 has eigenvalues of:
> > eigen(cov.wt(x1)$cov)$values
> [1] 0 0 0 0
> and x has eigenvalues
> > eigen(cov.wt(x)$cov)$values
> [1]  7.345000e+00  1.110223e-16  0.000000e+00 -1.110223e-16
> Therefore, the observed behavior is logical (but wrong).
> 
> Oh, by the way:
>          _         
> platform Windows   
> arch     x86       
> os       Win32     
> system   x86, Win32
> status             
> major    1         
> minor    1.0       

That's not current.

[...]

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Sep 29 13:42:35 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 Sep 2000 13:42:35 +0200
Subject: [R] SUMMARY and follow up question: organizing work; dump function
In-Reply-To: Prof Brian D Ripley's message of "Fri, 29 Sep 2000 09:23:37 +0100 (BST)"
References: <Pine.GSO.4.05.10009290921480.7544-100000@auk.stats>
Message-ID: <x2og17v2z8.fsf@blueberry.kubism.ku.dk>

Prof Brian D Ripley <ripley at stats.ox.ac.uk> writes:

> > Is this behaviour intended? I mean, some potentially useful information may
> > get lost this way (as an "ordinary" user, I would look at a function
> > definition by page() or print(), unlikely by looking in a packages function
> > file).
> 
> It is intended. Look at options(keep.source) and the keep.source argument
> to library.

Intended, but unfortunate. The matter is that the structure of the R
parser does not make it easy to store comments in the parsed objects.
In fact, the parse and deparse operations are not exact inverses of
eachother (try quote("+"(2,2)) for instance) so insertion points for
comments tend to get confused. We used to have lots of weirdness with
comments moving from the top to the bottom of loops, for instance.

So the current convention is to store the actual source with the
parsed object, or discard it completely including any comments. Since
some of the larger packages like nlme contain a rather hefty amount of
code, the default is to discard it. 

It would seem that one could do better and keep at least some of the
comments. So the situation may change if someone gets around to taking
a harder look at the parser.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From noel at univ-lille3.fr  Fri Sep 29 14:34:39 2000
From: noel at univ-lille3.fr (Yvonnick Noel)
Date: Fri, 29 Sep 2000 14:34:39 +0200
Subject: [R] Matrix inversion
Message-ID: <NCBBJIPDPJLJIDNBFHMNEEDBCAAA.noel@univ-lille3.fr>

I cannot find what is the function label for matrix inversion in R. I have
found 'ginv' for the moore-penrose in the MASS package, but there is
probably a simple inversion operator in the base package. Where can I find
it?

____________________________________________
Yvonnick Noel, PhD.
University of Lille 3
Department of Psychology
F-59653 Villeneuve d'Ascq Cedex
(+33) 320 41 63 48
http://www.univ-lille3.fr/www/recherche/URECA/noel/

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From Friedrich.Leisch at ci.tuwien.ac.at  Fri Sep 29 15:09:52 2000
From: Friedrich.Leisch at ci.tuwien.ac.at (Friedrich Leisch)
Date: Fri, 29 Sep 2000 15:09:52 +0200 (CEST)
Subject: [R] Matrix inversion
In-Reply-To: <NCBBJIPDPJLJIDNBFHMNEEDBCAAA.noel@univ-lille3.fr>
References: <NCBBJIPDPJLJIDNBFHMNEEDBCAAA.noel@univ-lille3.fr>
Message-ID: <14804.38048.161294.431997@galadriel.ci.tuwien.ac.at>

>>>>> On Fri, 29 Sep 2000 14:34:39 +0200,
>>>>> Yvonnick Noel (YN) wrote:

YN> I cannot find what is the function label for matrix inversion in R. I have
YN> found 'ginv' for the moore-penrose in the MASS package, but there is
YN> probably a simple inversion operator in the base package. Where can I find
YN> it?

solve() should do what you want.

best,
.f

-- 
-------------------------------------------------------------------
                        Friedrich  Leisch 
Institut f?r Statistik                     Tel: (+43 1) 58801 10715
Technische Universit?t Wien                Fax: (+43 1) 58801 10798
Wiedner Hauptstra?e 8-10/1071      Friedrich.Leisch at ci.tuwien.ac.at
A-1040 Wien, Austria             http://www.ci.tuwien.ac.at/~leisch
     PGP public key http://www.ci.tuwien.ac.at/~leisch/pgp.key
-------------------------------------------------------------------

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcus.eger at physik.uni-marburg.de  Fri Sep 29 15:48:26 2000
From: marcus.eger at physik.uni-marburg.de (Marcus Eger)
Date: Fri, 29 Sep 2000 15:48:26 +0200
Subject: [R] segmentation faults when unused argument
Message-ID: <39D49DAA.56CEA2A6@physik.uni-marburg.de>

Dear Rs,

quite often in I had segmentation faults of the following kind:

Error in brf.infobase(nn, Pc, knams = knams, plot = plot, dev = dev,
quiet = quiet,  : 
	unused argument(s) (df ...)

Process R segmentation fault at Fri Sep 29 15:46:27 2000

This happened when I (wrongly) called a routine with an argument which
the routine
did not support.


platform i386-pc-linux-gnu
arch     i386             
os       linux-gnu        
system   i386, linux-gnu  
status                    
major    1                
minor    1.1              
year     2000             
month    August           
day      15               
language R    



  M. Eger

	
-- 
+-------------------------------------------------------
| Marcus Eger
| Philipps Universitaet Marburg
| Fachbereich Physik AG Neurophysik
| Renthof 7
| 35032 Marburg
| Tel. +49 6421 282-4169
| Fax  +49 6421 282-7034
+-------------------------------------------------------
| E-Mail: marcus.eger at physik.uni-marburg.de
+-------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From toots at info.com.ph  Fri Sep 29 16:17:01 2000
From: toots at info.com.ph (Jose Ramon G. Albert)
Date: Fri, 29 Sep 2000 22:17:01 +0800
Subject: [R] Matrix inversion
References: <NCBBJIPDPJLJIDNBFHMNEEDBCAAA.noel@univ-lille3.fr>
Message-ID: <005a01c02a1f$f0e276a0$71faa3ca@dlsu.edu.ph>

how about solve() ?
solve(A) yields the inverse of A.

jose ramon albert
manila, philippines
----- Original Message -----
From: Yvonnick Noel <noel at univ-lille3.fr>
To: <r-help at stat.math.ethz.ch>
Sent: Friday, September 29, 2000 8:34 PM
Subject: [R] Matrix inversion


> I cannot find what is the function label for matrix inversion in R. I have
> found 'ginv' for the moore-penrose in the MASS package, but there is
> probably a simple inversion operator in the base package. Where can I find
> it?
>
> ____________________________________________
> Yvonnick Noel, PhD.
> University of Lille 3
> Department of Psychology
> F-59653 Villeneuve d'Ascq Cedex
> (+33) 320 41 63 48
> http://www.univ-lille3.fr/www/recherche/URECA/noel/
>
> -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
-.-.-
> r-help mailing list -- Read
http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
> Send "info", "help", or "[un]subscribe"
> (in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
>
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._.
_._

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Sep 29 17:35:57 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 Sep 2000 17:35:57 +0200
Subject: [R] segmentation faults when unused argument
In-Reply-To: Marcus Eger's message of "Fri, 29 Sep 2000 15:48:26 +0200"
References: <39D49DAA.56CEA2A6@physik.uni-marburg.de>
Message-ID: <x2k8bvus6a.fsf@blueberry.kubism.ku.dk>

Marcus Eger <marcus.eger at physik.uni-marburg.de> writes:

> Error in brf.infobase(nn, Pc, knams = knams, plot = plot, dev = dev,
> quiet = quiet,  : 
> 	unused argument(s) (df ...)
> 
> Process R segmentation fault at Fri Sep 29 15:46:27 2000
> 
> This happened when I (wrongly) called a routine with an argument which
> the routine
> did not support.

Hmm. We recently plugged a hole where this kind of thing could happen
when options(error=) was used. Do you have a full script that triggers
this? 

Perhaps you could try a recent snapshot of the development version and
see whether this problem has disappeared.

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From marcus.eger at physik.uni-marburg.de  Fri Sep 29 17:48:31 2000
From: marcus.eger at physik.uni-marburg.de (Marcus Eger)
Date: Fri, 29 Sep 2000 17:48:31 +0200
Subject: [R] segmentation faults when unused argument
References: <39D49DAA.56CEA2A6@physik.uni-marburg.de> <x2k8bvus6a.fsf@blueberry.kubism.ku.dk>
Message-ID: <39D4B9CF.1060874F@physik.uni-marburg.de>

Peter Dalgaard BSA wrote:
> 
> Hmm. We recently plugged a hole where this kind of thing could happen
> when options(error=) was used. Do you have a full script that triggers
> this?
> 
> Perhaps you could try a recent snapshot of the development version and
> see whether this problem has disappeared.
> 

Yes, I have the following lines in my .First():
 if (interactive()) options(error=quote(dump.frames())) 
  else options(error=quote({dump.frames(to.file=TRUE); q()})) 

   M. Eger
-- 
+-------------------------------------------------------
| Marcus Eger
| Philipps Universitaet Marburg
| Fachbereich Physik AG Neurophysik
| Renthof 7
| 35032 Marburg
| Tel. +49 6421 282-4169
| Fax  +49 6421 282-7034
+-------------------------------------------------------
| E-Mail: marcus.eger at physik.uni-marburg.de
+-------------------------------------------------------
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From p.dalgaard at biostat.ku.dk  Fri Sep 29 18:42:15 2000
From: p.dalgaard at biostat.ku.dk (Peter Dalgaard BSA)
Date: 29 Sep 2000 18:42:15 +0200
Subject: Two tcltk questions and Re: [R] tcltk package functionality
In-Reply-To: Peter Wolf's message of "Fri, 29 Sep 2000 10:14:08 +0200 (METDST)"
References: <200009290814.KAA00693@wiwi5.uni-bielefeld.de>
Message-ID: <x2itrfup3s.fsf@blueberry.kubism.ku.dk>

Peter Wolf <pwolf at wiwi.uni-bielefeld.de> writes:

> Here are another two tcltk question:
> 
> 1. I want to add a scrollbar along the right side of a text widget. This can be
>    achieved by .Tk.ID(). Is there a way to avoid to call .Tk.ID ---
>    perhaps by using tkyview?
> 
>    tk.test1 <- function(nmax=3){
>      library("tcltk")
>      tl         <- tktoplevel()
>      tl.text    <- tktext(tl)
>      tl.yscroll <- tkscrollbar(tl)
>      tkconfigure(tl.text,   yscrollcommand=paste(.Tk.ID(tl.yscroll),"set"  ))
>      tkconfigure(tl.yscroll,       command=paste(.Tk.ID(tl.text),   "yview"))
>      tkpack(tl.text, tl.yscroll, side="left", fill="y")
>      tkpack(tkbutton(tl, text="exit", command=function()tclvar$done<-"T"))
>      tclvar$done <- "F"; tkwait.variable("done")
>      tkdestroy(tl)
>    }

One problem with this stuff is that the users seem to be quickly
becoming more proficient than the programmer... 

The first one is avoidable by a construction like

     tkconfigure(tl.text,
       yscrollcommand=function(...)tkset(tl.yscroll,..2,..3))
 
I.e. you get a callback to R instead. The yscrollcommand option works
by sticking arguments at the end of what the .Tcl.callback generates
for the function, so the callback is actually called with arguments
(%...,x,y) and you need to extract (x,y) by the above kludge (or
something equally kludgy). Ick.

Similarly, one can do 
     tkconfigure(tl.yscroll,
       command=function(...)tkyview(tl.yscroll,..2,..3))

*but* there's a varying number of arguments in this case, so it only
works on the slider of the scrollbar, not the arrowheads at the end.
You need to apply an alternate kludge to pass all arguments except the
first on to tkyview (exercise for the reader...)

Alternatively tell me how to avoid producing that "%..." argument on
callbacks and command=function(...)tkyview(tl.yscroll,...) should
work. I suspect that it might be easy.

> 2. If I try to insert a text containing an unequal number of "{" and "}"
>    brackets tkinsert stops with the error message:
> 
>      Error in .Tcl(.Tcl.args(...)) : [tcl] extra characters after close-brace.
> 
>    How can I change this behavior?
> 
>    tk.test2 <- function(nmax=3){
>      library("tcltk")
>      tl         <- tktoplevel()
>      tl.text    <- tktext(tl)
>      tkpack(tl.text)
>      for(i in 1:nmax){
>        cat("input text? "); input.text<-readline()
>        tkinsert(tl.text,"0.0",input.text)
>      }
>      tkdestroy(tl)
>    }

By fixing the bug ;) This has been waiting to happen. The quoting
mechanisms of Tcl makes it impossible to get an unbalanced set of
braces into a {...}-delimited string and this is what the .Tcl
interface is producing. So one really needs to use "..." delimiting
with the entire morass of special character escapes. This is due to
sheer laziness on my part (or slightly nicer put: my mind was
focused elsewhere at the time).

-- 
   O__  ---- Peter Dalgaard             Blegdamsvej 3  
  c/ /'_ --- Dept. of Biostatistics     2200 Cph. N   
 (*) \(*) -- University of Copenhagen   Denmark      Ph: (+45) 35327918
~~~~~~~~~~ - (p.dalgaard at biostat.ku.dk)             FAX: (+45) 35327907
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From David_C_Gruben at sbphrd.com  Fri Sep 29 19:09:11 2000
From: David_C_Gruben at sbphrd.com (grubed00)
Date: Fri, 29 Sep 2000 13:09:11 -0400
Subject: [R] R for Irix 6.5 or lower
Message-ID: <000501c02a37$fc9cdb80$155e888b@um.us.sbphrd.com>

Good Day:

Has anyone successfully compiled R, especially R.1.1.1,  for Irix 6.5 or
lower (an SGI octane machine) and if so, may I get a copy of it?  Our
computer does not have all the requisite software for compiling R -- to wit,
a fortran compiler -- and there is insufficient demand here for R to warrant
purchasing a compiler from SGI.  I am trying to spur demand for R here by
making it more available.

Regards,
David Gruben

The opinions expressed in this communication are my own, and do not
necessarily reflect those of my employer.

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From ripley at stats.ox.ac.uk  Fri Sep 29 22:06:59 2000
From: ripley at stats.ox.ac.uk (Prof Brian D Ripley)
Date: Fri, 29 Sep 2000 21:06:59 +0100 (BST)
Subject: [R] R for Irix 6.5 or lower
In-Reply-To: <000501c02a37$fc9cdb80$155e888b@um.us.sbphrd.com>
Message-ID: <Pine.GSO.4.05.10009292105060.8069-100000@auk.stats>

On Fri, 29 Sep 2000, grubed00 wrote:

> Good Day:
> 
> Has anyone successfully compiled R, especially R.1.1.1,  for Irix 6.5 or
> lower (an SGI octane machine) and if so, may I get a copy of it?  Our
> computer does not have all the requisite software for compiling R -- to wit,
> a fortran compiler -- and there is insufficient demand here for R to warrant
> purchasing a compiler from SGI.  I am trying to spur demand for R here by
> making it more available.

I can't help directly, but does g77 not work?  If you have a C compiler,
you can compile g77 (and I bet you can find pre-compiled versions for SGI
on the Web).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272860 (secr)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


From aprasad at fs.fed.us  Fri Sep 29 23:02:27 2000
From: aprasad at fs.fed.us (Anantha Prasad/NE/USDAFS)
Date: Fri, 29 Sep 2000 17:02:27 -0400
Subject: [R] Is it R or I?
Message-ID: <OFBBEA1787.8D3265EE-ON85256969.00733B0F@wo.fs.fed.us>

Salutations:
I have been trying to translate a S-PLUS/ArcInfo (GIS software) application
that I wrote on a SGI (IRIX) platform to  public domain R and GrassGIS on
a Linux platform. I am almost on the verge of abandoning it as I find R to
be
rather unstable, slow and frustrating.
I enclose a section of my code for R experts to examine
hoping that they'll point out that all the above three are due to my
ignorance rather than any deficiencies in R.
Thanks much to Prof. Ripley and Dr. Peter Wolf for earlier comments.

Platform:
Linux (Red Hat 6.2), 400 MHz Pentium II with 192 MB of RAM.
R version: 1.1.1 (August 15, 2000)

The foll. function (abridged from the original) is passed from a tcl/tk
applicaiton,
thru perl....

I get the foll. error (I have indicated in the comments on code where
things go wrong)....

The datafile fia802.dat has 2121 rows and 30 variables...

> R --vsize 50M --nsize 6M --no-restore
R> X11()
R>library(tcltk)
R>source("eda_lmtst.rf")
R>f.eda.lm(
dataset="fia802.dat",
pickall="ALFISOL + AVGT + BD + CEC + CLAY +
ERODFAC +INCEPTSL + JANT + JARPPET + JULT + MAXELV + MAYSEPT + MINELV +
MOLLISOL + OM + PERM + PET + PH + PPT + PROD + ROCKDEP + ROCKFRAG + SLOPE +
SPODOSOL + TAWC + TEXCOARS + TEXFINE + ULTISOL",
pickedlist="BD + CEC + CLAY + ERODFAC + INCEPTSL",
resp="iv802",
idvar="FIPS")

Reading in data
DONE Reading in data
Lm Model
Done building model
Plotting the model output
DONE-Plotting the model output
Before tcltk
Segmentation fault (core dumped)

NOTE: Sometimes the program runs (very slowly) without segmentation
fault...
File -> eda_lmtst.rf
NOTE: pickall -> is all the predictor variables in file
pickedlist -> is the subset of pickall that is used by the model
resp -> is the response variable
idvar -> is the Identifying variable

"f.eda.lm"<-
function(dataset="", pickall="", pickedlist="", resp="",idvar="")
{
   options(width=200, length=10000)

  # Create the main data object
  cat("Reading in data", "\n")
  xd <- read.table(dataset, header=T,as.is=T)
  xd <- read.table(dataset,header=T, as.is=T,
row.names=as.character(1:nrow(xd)))
  cat("DONE Reading in data", "\n")

  attach(xd)
   xd <- xd[, -c(charmatch(paste(resp), names(xd)))]

     assign(resp, get(resp))
     ndf <- as.data.frame(get(resp))
     names(ndf) <- "addcolx"
     xd <- data.frame(xd, ndf)
     names(xd)[charmatch("addcolx", names(xd))] <- resp

  cat("Lm Model", "\n")
  lmexp <- formula(paste(resp, " ~ ", pickedlist,sep=""))
  lmexpall <- formula(paste(resp, " ~ .", sep=""))


     assign("xd", xd, env=.GlobalEnv)

     tmpzx <- lm(lmexp, data=xd)
     # NOTE: THE STEP() TAKES FOREVER IN R

     # tmpzx2 <-lm(lmexpall,data=xd)
     # tmpzxall <- step(tmpzx2, trace=0)

  cat ("Done building model", "\n")

  # Get predictions

    xp <- predict(tmpzx,se.fit=T,interval=c("confidence"))
    xpnd <- xp
    xpndfit.df <- as.data.frame(xpnd$fit)
    xpnd.o <- data.frame(act=get(resp),fit.act=xp$fit)
    mapres.opact <- data.frame(act=get(resp))
    mapres.opprd <- data.frame(fit.act=xp$fit)
    write.table(xpnd.o,"lmtst.dat",quote=F,row.names=F)
    mapres.op <- data.frame(idvar=get(idvar), act=mapres.opact,
prd=mapres.opprd)
    # Output for mapping response variable
    write.table(mapres.op,"lm_mapres.txt",quote=F,row.names=F)

  # Output summary statistics
  xs <- summary(tmpzx)
  # xsall <- summary(tmpzxall)
  sink("lmsumm.txt")
  cat("\n")
  print(xs)
  cat("\n")
  print("******** STEPWISE REGRESSION *********")
  print ("Not done")
  sink()

  # Plot model output
  par(mfrow=c(2,2))
  cat("Plotting the model output","\n")
  # NOTE: THE LAST PLOT TAKES FOREVER
  plot(tmpzx,which=1:4)
  dev.print(png, "lmplot.png", width=640,height=640)
  par(mfrow=c(1,1))
  cat("DONE-Plotting the model output","\n")

  # TCLTK INTERFACE TO CHOOSE TYPE OF PLOT AND IDENTIFY OUTLIERS
  # NOTE THAT I WANT THE MAIN DIALOG (ACTUALVSPREDICTED AND RESIDUALPLOT)
  # TO PERSIST BETWEEN OUTLIER IDENTIFICATION...SO THAT THE USER CAN
  # KEEP PLOTTING AND IDENTIFYING TILL HE HITS THE EXIT BUTTON.
    xlabel <- paste(resp, "(Actual)",sep="")
    ylabel <- paste(resp, "(Predicted)", sep="")
    xdnc.act <- get(resp)
    xdnc.max <- max(xdnc.act)
    xpnd.max <- max(xpndfit.df$fit)
    xdnc.min <- min(xdnc.act)
    xpnd.min <- min(xpndfit.df$fit)
    if(xpnd.max > xdnc.max) max.lim <- xpnd.max
    else max.lim <- xdnc.max
    if(xpnd.min < xdnc.min) min.lim <- xpnd.min
    else min.lim <- xdnc.min

    outidap <- as.null()
    outidrs <- as.null()
    cat("Before tcltk","\n")
    tt <- tktoplevel()
    tktitle(tt) <- "Diagnostics"
    label.widget <- tklabel(tt, text="Choose type of plot!")

    idnfyplot <- function() {
         outi <- identify(idf.x, idf.y, label=get(idvar))
       if(flag == 1) {
       outidap <- outi
       assign("outidap", outidap, env=.GlobalEnv)
       }
       if(flag == 2) {
       outidrs <- outi
       assign("outidrs", outidrs, env=.GlobalEnv)
       }
       dev.print(png, paste(opfr,".png",sep=""), width=640,height=640)
    }

    actvsprd <- function() {
      plot(xdnc.act, xpndfit.df$fit, xlim=c(min.lim, max.lim),
ylim=c(min.lim,max.lim),xlab=xlabel, ylab=ylabel)
      abline(0,1)
      abline(lsfit(xdnc.act, xpndfit.df$fit), lty=2)
      opfr <- opf2
      idf.x <- xdnc.act
      idf.y <- xpndfit.df$fit
      flag <- 1
      assign("flag", flag, env=.GlobalEnv)
      assign("idf.x", idf.x, env=.GlobalEnv)
      assign("idf.y",idf.y,env=.GlobalEnv)
      assign("opfr",opfr,env=.GlobalEnv)
      # define second toplevel widget
      tt2a <- tktoplevel()
      tktitle(tt2a) <- "IdentifyOutliers"
      but.lab2 <- tklabel(tt2a, text="Left button\n to identify,\n middle
to quit",foreground="maroon")
      but.wid22 <- tkbutton(tt2a, text="Identify Outliers",
                              command=idnfyplot)
      but.wid23 <- tkbutton(tt2a, text="DONE", command=function(){
                                                     tclvar$done2<-"T"
                                                     tkdestroy(tt2a)
                                                   })
      tkpack(but.lab2, but.wid22, but.wid23)
      # wait until DONE is pressed
      tclvar$done2 <- "F"
      tkwait.variable("done2")
    }

    residplot <- function() {
      plot(tmpzx$fit, tmpzx$residuals)
      abline(h=0)
      opfr <- opf2b
      idf.x <- tmpzx$fit
      idf.y <- tmpzx$residuals
      flag <- 2
      assign("flag", flag, env=.GlobalEnv)
      assign("idf.x", idf.x, env=.GlobalEnv)
      assign("idf.y",idf.y,env=.GlobalEnv)
      assign("opfr",opfr,env=.GlobalEnv)
      # define second toplevel widget
      tt2b <- tktoplevel()
      tktitle(tt2b) <- "IdentifyOutliers"
      but.lab2 <- tklabel(tt2b, text="Left button\n to identify,\n middle
to quit",foreground="maroon")
      but.wid22 <- tkbutton(tt2b, text="Identify Outliers",
                               command=idnfyplot)
      but.wid23 <- tkbutton(tt2b, text="DONE", command=function(){
                                                      tclvar$done3<-"T"
                                                      tkdestroy(tt2b)
                                                    })
      tkpack(but.lab2, but.wid22, but.wid23)
      # wait until DONE is pressed
      tclvar$done3 <- "F"
      tkwait.variable("done3")
    }

    tclvar$choice <- 99
    # THE PROGRAM STARTS DISK SWAPPING HERE...AND FINALLY DOES A
    # SEGMENTATION FAULT...SOMETIMES....
    rbut.wid1 <- tkradiobutton(tt, text="ActualVsPredicted", value=0,
    variable="choice", command=actvsprd)
    rbut.wid2 <- tkradiobutton(tt, text="ResidualPlot", value=1,
    variable="choice", command=residplot)
    but.plot <- tkbutton(tt, text="Exit", command=function(){
                                                         tclvar$done <- "T"
                                                         tkdestroy(tt)
                                                       })
    tkpack(label.widget, rbut.wid1, rbut.wid2, but.plot)
    # wait until Exit is pressed
    tclvar$choice <- "99"
    tkwait.variable("done")
  # End Tcl/tk section

  # Plot more diagnostics..
  par(mfrow=c(1,2))
  par(pty="s")
  hist(tmpzx$residuals)
  qqnorm(tmpzx$residuals)
  qqline(tmpzx$residuals)
  par(mfrow=c(1,1))
  dev.print(png, "lmdiag.png", width=640,height=640)

  # I HAVE A PROBLEM HERE...OUTIDAP AND OUTIDRS ARE GENERATED BY IDENTIFY()
  # EVEN THOUGH I HAVE ASSIGNED IT TO .GLOBALENV, IT REPORTS NULL HERE..
  # WHY??

  cat(outidap, "\n")
  cat(outidrs, "\n")
  outid <- append(outidap, outidrs)
  cat(outid, "\n")
  if(idvar != "NULL") {
     idvardf <- data.frame(get(idvar))
     names(idvardf) <- idvar
     outidf <- as.data.frame(idvardf[outid, paste(idvar)])
     cat(dim(outidf), "\n")
     write.table(outidf, "lmoutliers.txt", quote=F,row.names=F)
    }
  detach("xd")
  rm(xd)
  rm(xdn)
  rm(xdnc)
}


***********************************************************
Mr. Anantha Prasad, Ecologist/GIS Specialist
USDA Forest Service, 359 Main Rd.
Delaware OHIO 43015    USA
Ph: 740-368-0103  Email: aprasad at fs.fed.us
Web: http://www.fs.fed.us/ne/delaware/index.html
Don't Miss Climate Change Tree Atlas at:
http://www.fs.fed.us/ne/delaware/atlas/index.html
******************************************************************

-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-
r-help mailing list -- Read http://www.ci.tuwien.ac.at/~hornik/R/R-FAQ.html
Send "info", "help", or "[un]subscribe"
(in the "body", not the subject !)  To: r-help-request at stat.math.ethz.ch
_._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._


